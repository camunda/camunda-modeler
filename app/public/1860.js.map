{"version":3,"file":"1860.js","mappings":"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","sources":["webpack://camunda-modeler-client/../node_modules/@camunda/form-playground/node_modules/min-dash/dist/index.esm.js","webpack://camunda-modeler-client/../node_modules/file-drops/dist/index.js","webpack://camunda-modeler-client/../node_modules/@bpmn-io/form-js-viewer/node_modules/ids/dist/index.js","webpack://camunda-modeler-client/../node_modules/big.js/big.mjs","webpack://camunda-modeler-client/../node_modules/preact/jsx-runtime/dist/jsxRuntime.module.js","webpack://camunda-modeler-client/../node_modules/preact/compat/dist/compat.module.js","webpack://camunda-modeler-client/../node_modules/dompurify/dist/purify.es.mjs","webpack://camunda-modeler-client/../node_modules/marked/lib/marked.esm.js","webpack://camunda-modeler-client/../node_modules/@bpmn-io/form-js-viewer/dist/index.es.js","webpack://camunda-modeler-client/../node_modules/@bpmn-io/form-js-editor/node_modules/ids/dist/index.js","webpack://camunda-modeler-client/../node_modules/@bpmn-io/draggle/dist/draggle.js","webpack://camunda-modeler-client/../node_modules/@bpmn-io/form-js-editor/dist/index.es.js","webpack://camunda-modeler-client/../node_modules/@bpmn-io/form-js-playground/dist/index.es.js","webpack://camunda-modeler-client/../node_modules/@camunda/form-playground/dist/index.es.js","webpack://camunda-modeler-client/../node_modules/downloadjs/download.js","webpack://camunda-modeler-client/../node_modules/lodash/_DataView.js","webpack://camunda-modeler-client/../node_modules/lodash/_Hash.js","webpack://camunda-modeler-client/../node_modules/lodash/_ListCache.js","webpack://camunda-modeler-client/../node_modules/lodash/_Map.js","webpack://camunda-modeler-client/../node_modules/lodash/_MapCache.js","webpack://camunda-modeler-client/../node_modules/lodash/_Promise.js","webpack://camunda-modeler-client/../node_modules/lodash/_Set.js","webpack://camunda-modeler-client/../node_modules/lodash/_SetCache.js","webpack://camunda-modeler-client/../node_modules/lodash/_Stack.js","webpack://camunda-modeler-client/../node_modules/lodash/_Symbol.js","webpack://camunda-modeler-client/../node_modules/lodash/_Uint8Array.js","webpack://camunda-modeler-client/../node_modules/lodash/_WeakMap.js","webpack://camunda-modeler-client/../node_modules/lodash/_arrayFilter.js","webpack://camunda-modeler-client/../node_modules/lodash/_arrayLikeKeys.js","webpack://camunda-modeler-client/../node_modules/lodash/_arrayPush.js","webpack://camunda-modeler-client/../node_modules/lodash/_arraySome.js","webpack://camunda-modeler-client/../node_modules/lodash/_assocIndexOf.js","webpack://camunda-modeler-client/../node_modules/lodash/_baseGetAllKeys.js","webpack://camunda-modeler-client/../node_modules/lodash/_baseGetTag.js","webpack://camunda-modeler-client/../node_modules/lodash/_baseIsArguments.js","webpack://camunda-modeler-client/../node_modules/lodash/_baseIsEqual.js","webpack://camunda-modeler-client/../node_modules/lodash/_baseIsEqualDeep.js","webpack://camunda-modeler-client/../node_modules/lodash/_baseIsNative.js","webpack://camunda-modeler-client/../node_modules/lodash/_baseIsTypedArray.js","webpack://camunda-modeler-client/../node_modules/lodash/_baseKeys.js","webpack://camunda-modeler-client/../node_modules/lodash/_baseTimes.js","webpack://camunda-modeler-client/../node_modules/lodash/_baseUnary.js","webpack://camunda-modeler-client/../node_modules/lodash/_cacheHas.js","webpack://camunda-modeler-client/../node_modules/lodash/_coreJsData.js","webpack://camunda-modeler-client/../node_modules/lodash/_equalArrays.js","webpack://camunda-modeler-client/../node_modules/lodash/_equalByTag.js","webpack://camunda-modeler-client/../node_modules/lodash/_equalObjects.js","webpack://camunda-modeler-client/../node_modules/lodash/_freeGlobal.js","webpack://camunda-modeler-client/../node_modules/lodash/_getAllKeys.js","webpack://camunda-modeler-client/../node_modules/lodash/_getMapData.js","webpack://camunda-modeler-client/../node_modules/lodash/_getNative.js","webpack://camunda-modeler-client/../node_modules/lodash/_getRawTag.js","webpack://camunda-modeler-client/../node_modules/lodash/_getSymbols.js","webpack://camunda-modeler-client/../node_modules/lodash/_getTag.js","webpack://camunda-modeler-client/../node_modules/lodash/_getValue.js","webpack://camunda-modeler-client/../node_modules/lodash/_hashClear.js","webpack://camunda-modeler-client/../node_modules/lodash/_hashDelete.js","webpack://camunda-modeler-client/../node_modules/lodash/_hashGet.js","webpack://camunda-modeler-client/../node_modules/lodash/_hashHas.js","webpack://camunda-modeler-client/../node_modules/lodash/_hashSet.js","webpack://camunda-modeler-client/../node_modules/lodash/_isIndex.js","webpack://camunda-modeler-client/../node_modules/lodash/_isKeyable.js","webpack://camunda-modeler-client/../node_modules/lodash/_isMasked.js","webpack://camunda-modeler-client/../node_modules/lodash/_isPrototype.js","webpack://camunda-modeler-client/../node_modules/lodash/_listCacheClear.js","webpack://camunda-modeler-client/../node_modules/lodash/_listCacheDelete.js","webpack://camunda-modeler-client/../node_modules/lodash/_listCacheGet.js","webpack://camunda-modeler-client/../node_modules/lodash/_listCacheHas.js","webpack://camunda-modeler-client/../node_modules/lodash/_listCacheSet.js","webpack://camunda-modeler-client/../node_modules/lodash/_mapCacheClear.js","webpack://camunda-modeler-client/../node_modules/lodash/_mapCacheDelete.js","webpack://camunda-modeler-client/../node_modules/lodash/_mapCacheGet.js","webpack://camunda-modeler-client/../node_modules/lodash/_mapCacheHas.js","webpack://camunda-modeler-client/../node_modules/lodash/_mapCacheSet.js","webpack://camunda-modeler-client/../node_modules/lodash/_mapToArray.js","webpack://camunda-modeler-client/../node_modules/lodash/_nativeCreate.js","webpack://camunda-modeler-client/../node_modules/lodash/_nativeKeys.js","webpack://camunda-modeler-client/../node_modules/lodash/_nodeUtil.js","webpack://camunda-modeler-client/../node_modules/lodash/_objectToString.js","webpack://camunda-modeler-client/../node_modules/lodash/_overArg.js","webpack://camunda-modeler-client/../node_modules/lodash/_root.js","webpack://camunda-modeler-client/../node_modules/lodash/_setCacheAdd.js","webpack://camunda-modeler-client/../node_modules/lodash/_setCacheHas.js","webpack://camunda-modeler-client/../node_modules/lodash/_setToArray.js","webpack://camunda-modeler-client/../node_modules/lodash/_stackClear.js","webpack://camunda-modeler-client/../node_modules/lodash/_stackDelete.js","webpack://camunda-modeler-client/../node_modules/lodash/_stackGet.js","webpack://camunda-modeler-client/../node_modules/lodash/_stackHas.js","webpack://camunda-modeler-client/../node_modules/lodash/_stackSet.js","webpack://camunda-modeler-client/../node_modules/lodash/_toSource.js","webpack://camunda-modeler-client/../node_modules/lodash/eq.js","webpack://camunda-modeler-client/../node_modules/lodash/isArguments.js","webpack://camunda-modeler-client/../node_modules/lodash/isArray.js","webpack://camunda-modeler-client/../node_modules/lodash/isArrayLike.js","webpack://camunda-modeler-client/../node_modules/lodash/isBuffer.js","webpack://camunda-modeler-client/../node_modules/lodash/isEqual.js","webpack://camunda-modeler-client/../node_modules/lodash/isFunction.js","webpack://camunda-modeler-client/../node_modules/lodash/isLength.js","webpack://camunda-modeler-client/../node_modules/lodash/isObject.js","webpack://camunda-modeler-client/../node_modules/lodash/isObjectLike.js","webpack://camunda-modeler-client/../node_modules/lodash/isTypedArray.js","webpack://camunda-modeler-client/../node_modules/lodash/keys.js","webpack://camunda-modeler-client/../node_modules/lodash/stubArray.js","webpack://camunda-modeler-client/../node_modules/lodash/stubFalse.js","webpack://camunda-modeler-client/../node_modules/preact/hooks/dist/hooks.module.js","webpack://camunda-modeler-client/../node_modules/didi/dist/index.js"],"sourcesContent":["/**\n * Flatten array, one level deep.\n *\n * @template T\n *\n * @param {T[][] | T[] | null} [arr]\n *\n * @return {T[]}\n */\nfunction flatten(arr) {\n  return Array.prototype.concat.apply([], arr);\n}\n\nconst nativeToString = Object.prototype.toString;\nconst nativeHasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction isUndefined(obj) {\n  return obj === undefined;\n}\n\nfunction isDefined(obj) {\n  return obj !== undefined;\n}\n\nfunction isNil(obj) {\n  return obj == null;\n}\n\nfunction isArray(obj) {\n  return nativeToString.call(obj) === '[object Array]';\n}\n\nfunction isObject(obj) {\n  return nativeToString.call(obj) === '[object Object]';\n}\n\nfunction isNumber(obj) {\n  return nativeToString.call(obj) === '[object Number]';\n}\n\n/**\n * @param {any} obj\n *\n * @return {boolean}\n */\nfunction isFunction(obj) {\n  const tag = nativeToString.call(obj);\n\n  return (\n    tag === '[object Function]' ||\n    tag === '[object AsyncFunction]' ||\n    tag === '[object GeneratorFunction]' ||\n    tag === '[object AsyncGeneratorFunction]' ||\n    tag === '[object Proxy]'\n  );\n}\n\nfunction isString(obj) {\n  return nativeToString.call(obj) === '[object String]';\n}\n\n\n/**\n * Ensure collection is an array.\n *\n * @param {Object} obj\n */\nfunction ensureArray(obj) {\n\n  if (isArray(obj)) {\n    return;\n  }\n\n  throw new Error('must supply array');\n}\n\n/**\n * Return true, if target owns a property with the given key.\n *\n * @param {Object} target\n * @param {String} key\n *\n * @return {Boolean}\n */\nfunction has(target, key) {\n  return !isNil(target) && nativeHasOwnProperty.call(target, key);\n}\n\n/**\n * @template T\n * @typedef { (\n *   ((e: T) => boolean) |\n *   ((e: T, idx: number) => boolean) |\n *   ((e: T, key: string) => boolean) |\n *   string |\n *   number\n * ) } Matcher\n */\n\n/**\n * @template T\n * @template U\n *\n * @typedef { (\n *   ((e: T) => U) | string | number\n * ) } Extractor\n */\n\n\n/**\n * @template T\n * @typedef { (val: T, key: any) => boolean } MatchFn\n */\n\n/**\n * @template T\n * @typedef { T[] } ArrayCollection\n */\n\n/**\n * @template T\n * @typedef { { [key: string]: T } } StringKeyValueCollection\n */\n\n/**\n * @template T\n * @typedef { { [key: number]: T } } NumberKeyValueCollection\n */\n\n/**\n * @template T\n * @typedef { StringKeyValueCollection<T> | NumberKeyValueCollection<T> } KeyValueCollection\n */\n\n/**\n * @template T\n * @typedef { KeyValueCollection<T> | ArrayCollection<T> } Collection\n */\n\n/**\n * Find element in collection.\n *\n * @template T\n * @param {Collection<T>} collection\n * @param {Matcher<T>} matcher\n *\n * @return {Object}\n */\nfunction find(collection, matcher) {\n\n  const matchFn = toMatcher(matcher);\n\n  let match;\n\n  forEach(collection, function(val, key) {\n    if (matchFn(val, key)) {\n      match = val;\n\n      return false;\n    }\n  });\n\n  return match;\n\n}\n\n\n/**\n * Find element index in collection.\n *\n * @template T\n * @param {Collection<T>} collection\n * @param {Matcher<T>} matcher\n *\n * @return {number | string | undefined}\n */\nfunction findIndex(collection, matcher) {\n\n  const matchFn = toMatcher(matcher);\n\n  let idx = isArray(collection) ? -1 : undefined;\n\n  forEach(collection, function(val, key) {\n    if (matchFn(val, key)) {\n      idx = key;\n\n      return false;\n    }\n  });\n\n  return idx;\n}\n\n\n/**\n * Filter elements in collection.\n *\n * @template T\n * @param {Collection<T>} collection\n * @param {Matcher<T>} matcher\n *\n * @return {T[]} result\n */\nfunction filter(collection, matcher) {\n\n  const matchFn = toMatcher(matcher);\n\n  let result = [];\n\n  forEach(collection, function(val, key) {\n    if (matchFn(val, key)) {\n      result.push(val);\n    }\n  });\n\n  return result;\n}\n\n\n/**\n * Iterate over collection; returning something\n * (non-undefined) will stop iteration.\n *\n * @template T\n * @param {Collection<T>} collection\n * @param { ((item: T, idx: number) => (boolean|void)) | ((item: T, key: string) => (boolean|void)) } iterator\n *\n * @return {T} return result that stopped the iteration\n */\nfunction forEach(collection, iterator) {\n\n  let val,\n      result;\n\n  if (isUndefined(collection)) {\n    return;\n  }\n\n  const convertKey = isArray(collection) ? toNum : identity;\n\n  for (let key in collection) {\n\n    if (has(collection, key)) {\n      val = collection[key];\n\n      result = iterator(val, convertKey(key));\n\n      if (result === false) {\n        return val;\n      }\n    }\n  }\n}\n\n/**\n * Return collection without element.\n *\n * @template T\n * @param {ArrayCollection<T>} arr\n * @param {Matcher<T>} matcher\n *\n * @return {T[]}\n */\nfunction without(arr, matcher) {\n\n  if (isUndefined(arr)) {\n    return [];\n  }\n\n  ensureArray(arr);\n\n  const matchFn = toMatcher(matcher);\n\n  return arr.filter(function(el, idx) {\n    return !matchFn(el, idx);\n  });\n\n}\n\n\n/**\n * Reduce collection, returning a single result.\n *\n * @template T\n * @template V\n *\n * @param {Collection<T>} collection\n * @param {(result: V, entry: T, index: any) => V} iterator\n * @param {V} result\n *\n * @return {V} result returned from last iterator\n */\nfunction reduce(collection, iterator, result) {\n\n  forEach(collection, function(value, idx) {\n    result = iterator(result, value, idx);\n  });\n\n  return result;\n}\n\n\n/**\n * Return true if every element in the collection\n * matches the criteria.\n *\n * @param  {Object|Array} collection\n * @param  {Function} matcher\n *\n * @return {Boolean}\n */\nfunction every(collection, matcher) {\n\n  return !!reduce(collection, function(matches, val, key) {\n    return matches && matcher(val, key);\n  }, true);\n}\n\n\n/**\n * Return true if some elements in the collection\n * match the criteria.\n *\n * @param  {Object|Array} collection\n * @param  {Function} matcher\n *\n * @return {Boolean}\n */\nfunction some(collection, matcher) {\n\n  return !!find(collection, matcher);\n}\n\n\n/**\n * Transform a collection into another collection\n * by piping each member through the given fn.\n *\n * @param  {Object|Array}   collection\n * @param  {Function} fn\n *\n * @return {Array} transformed collection\n */\nfunction map(collection, fn) {\n\n  let result = [];\n\n  forEach(collection, function(val, key) {\n    result.push(fn(val, key));\n  });\n\n  return result;\n}\n\n\n/**\n * Get the collections keys.\n *\n * @param  {Object|Array} collection\n *\n * @return {Array}\n */\nfunction keys(collection) {\n  return collection && Object.keys(collection) || [];\n}\n\n\n/**\n * Shorthand for `keys(o).length`.\n *\n * @param  {Object|Array} collection\n *\n * @return {Number}\n */\nfunction size(collection) {\n  return keys(collection).length;\n}\n\n\n/**\n * Get the values in the collection.\n *\n * @param  {Object|Array} collection\n *\n * @return {Array}\n */\nfunction values(collection) {\n  return map(collection, (val) => val);\n}\n\n\n/**\n * Group collection members by attribute.\n *\n * @param {Object|Array} collection\n * @param {Extractor} extractor\n *\n * @return {Object} map with { attrValue => [ a, b, c ] }\n */\nfunction groupBy(collection, extractor, grouped = {}) {\n\n  extractor = toExtractor(extractor);\n\n  forEach(collection, function(val) {\n    let discriminator = extractor(val) || '_';\n\n    let group = grouped[discriminator];\n\n    if (!group) {\n      group = grouped[discriminator] = [];\n    }\n\n    group.push(val);\n  });\n\n  return grouped;\n}\n\n\nfunction uniqueBy(extractor, ...collections) {\n\n  extractor = toExtractor(extractor);\n\n  let grouped = {};\n\n  forEach(collections, (c) => groupBy(c, extractor, grouped));\n\n  let result = map(grouped, function(val, key) {\n    return val[0];\n  });\n\n  return result;\n}\n\n\nconst unionBy = uniqueBy;\n\n\n\n/**\n * Sort collection by criteria.\n *\n * @template T\n *\n * @param {Collection<T>} collection\n * @param {Extractor<T, number | string>} extractor\n *\n * @return {Array}\n */\nfunction sortBy(collection, extractor) {\n\n  extractor = toExtractor(extractor);\n\n  let sorted = [];\n\n  forEach(collection, function(value, key) {\n    let disc = extractor(value, key);\n\n    let entry = {\n      d: disc,\n      v: value\n    };\n\n    for (var idx = 0; idx < sorted.length; idx++) {\n      let { d } = sorted[idx];\n\n      if (disc < d) {\n        sorted.splice(idx, 0, entry);\n        return;\n      }\n    }\n\n    // not inserted, append (!)\n    sorted.push(entry);\n  });\n\n  return map(sorted, (e) => e.v);\n}\n\n\n/**\n * Create an object pattern matcher.\n *\n * @example\n *\n * ```javascript\n * const matcher = matchPattern({ id: 1 });\n *\n * let element = find(elements, matcher);\n * ```\n *\n * @template T\n *\n * @param {T} pattern\n *\n * @return { (el: any) =>  boolean } matcherFn\n */\nfunction matchPattern(pattern) {\n\n  return function(el) {\n\n    return every(pattern, function(val, key) {\n      return el[key] === val;\n    });\n\n  };\n}\n\n\n/**\n * @param {string | ((e: any) => any) } extractor\n *\n * @return { (e: any) => any }\n */\nfunction toExtractor(extractor) {\n\n  /**\n   * @satisfies { (e: any) => any }\n   */\n  return isFunction(extractor) ? extractor : (e) => {\n\n    // @ts-ignore: just works\n    return e[extractor];\n  };\n}\n\n\n/**\n * @template T\n * @param {Matcher<T>} matcher\n *\n * @return {MatchFn<T>}\n */\nfunction toMatcher(matcher) {\n  return isFunction(matcher) ? matcher : (e) => {\n    return e === matcher;\n  };\n}\n\n\nfunction identity(arg) {\n  return arg;\n}\n\nfunction toNum(arg) {\n  return Number(arg);\n}\n\n/* global setTimeout clearTimeout */\n\n/**\n * @typedef { {\n *   (...args: any[]): any;\n *   flush: () => void;\n *   cancel: () => void;\n * } } DebouncedFunction\n */\n\n/**\n * Debounce fn, calling it only once if the given time\n * elapsed between calls.\n *\n * Lodash-style the function exposes methods to `#clear`\n * and `#flush` to control internal behavior.\n *\n * @param  {Function} fn\n * @param  {Number} timeout\n *\n * @return {DebouncedFunction} debounced function\n */\nfunction debounce(fn, timeout) {\n\n  let timer;\n\n  let lastArgs;\n  let lastThis;\n\n  let lastNow;\n\n  function fire(force) {\n\n    let now = Date.now();\n\n    let scheduledDiff = force ? 0 : (lastNow + timeout) - now;\n\n    if (scheduledDiff > 0) {\n      return schedule(scheduledDiff);\n    }\n\n    fn.apply(lastThis, lastArgs);\n\n    clear();\n  }\n\n  function schedule(timeout) {\n    timer = setTimeout(fire, timeout);\n  }\n\n  function clear() {\n    if (timer) {\n      clearTimeout(timer);\n    }\n\n    timer = lastNow = lastArgs = lastThis = undefined;\n  }\n\n  function flush() {\n    if (timer) {\n      fire(true);\n    }\n\n    clear();\n  }\n\n  /**\n   * @type { DebouncedFunction }\n   */\n  function callback(...args) {\n    lastNow = Date.now();\n\n    lastArgs = args;\n    lastThis = this;\n\n    // ensure an execution is scheduled\n    if (!timer) {\n      schedule(timeout);\n    }\n  }\n\n  callback.flush = flush;\n  callback.cancel = clear;\n\n  return callback;\n}\n\n/**\n * Throttle fn, calling at most once\n * in the given interval.\n *\n * @param  {Function} fn\n * @param  {Number} interval\n *\n * @return {Function} throttled function\n */\nfunction throttle(fn, interval) {\n  let throttling = false;\n\n  return function(...args) {\n\n    if (throttling) {\n      return;\n    }\n\n    fn(...args);\n    throttling = true;\n\n    setTimeout(() => {\n      throttling = false;\n    }, interval);\n  };\n}\n\n/**\n * Bind function against target <this>.\n *\n * @param  {Function} fn\n * @param  {Object}   target\n *\n * @return {Function} bound function\n */\nfunction bind(fn, target) {\n  return fn.bind(target);\n}\n\n/**\n * Convenience wrapper for `Object.assign`.\n *\n * @param {Object} target\n * @param {...Object} others\n *\n * @return {Object} the target\n */\nfunction assign(target, ...others) {\n  return Object.assign(target, ...others);\n}\n\n/**\n * Sets a nested property of a given object to the specified value.\n *\n * This mutates the object and returns it.\n *\n * @template T\n *\n * @param {T} target The target of the set operation.\n * @param {(string|number)[]} path The path to the nested value.\n * @param {any} value The value to set.\n *\n * @return {T}\n */\nfunction set(target, path, value) {\n\n  let currentTarget = target;\n\n  forEach(path, function(key, idx) {\n\n    if (typeof key !== 'number' && typeof key !== 'string') {\n      throw new Error('illegal key type: ' + typeof key + '. Key should be of type number or string.');\n    }\n\n    if (key === 'constructor') {\n      throw new Error('illegal key: constructor');\n    }\n\n    if (key === '__proto__') {\n      throw new Error('illegal key: __proto__');\n    }\n\n    let nextKey = path[idx + 1];\n    let nextTarget = currentTarget[key];\n\n    if (isDefined(nextKey) && isNil(nextTarget)) {\n      nextTarget = currentTarget[key] = isNaN(+nextKey) ? {} : [];\n    }\n\n    if (isUndefined(nextKey)) {\n      if (isUndefined(value)) {\n        delete currentTarget[key];\n      } else {\n        currentTarget[key] = value;\n      }\n    } else {\n      currentTarget = nextTarget;\n    }\n  });\n\n  return target;\n}\n\n\n/**\n * Gets a nested property of a given object.\n *\n * @param {Object} target The target of the get operation.\n * @param {(string|number)[]} path The path to the nested value.\n * @param {any} [defaultValue] The value to return if no value exists.\n *\n * @return {any}\n */\nfunction get(target, path, defaultValue) {\n\n  let currentTarget = target;\n\n  forEach(path, function(key) {\n\n    // accessing nil property yields <undefined>\n    if (isNil(currentTarget)) {\n      currentTarget = undefined;\n\n      return false;\n    }\n\n    currentTarget = currentTarget[key];\n  });\n\n  return isUndefined(currentTarget) ? defaultValue : currentTarget;\n}\n\n/**\n * Pick properties from the given target.\n *\n * @template T\n * @template {any[]} V\n *\n * @param {T} target\n * @param {V} properties\n *\n * @return Pick<T, V>\n */\nfunction pick(target, properties) {\n\n  let result = {};\n\n  let obj = Object(target);\n\n  forEach(properties, function(prop) {\n\n    if (prop in obj) {\n      result[prop] = target[prop];\n    }\n  });\n\n  return result;\n}\n\n/**\n * Pick all target properties, excluding the given ones.\n *\n * @template T\n * @template {any[]} V\n *\n * @param {T} target\n * @param {V} properties\n *\n * @return {Omit<T, V>} target\n */\nfunction omit(target, properties) {\n\n  let result = {};\n\n  let obj = Object(target);\n\n  forEach(obj, function(prop, key) {\n\n    if (properties.indexOf(key) === -1) {\n      result[key] = prop;\n    }\n  });\n\n  return result;\n}\n\n/**\n * Recursively merge `...sources` into given target.\n *\n * Does support merging objects; does not support merging arrays.\n *\n * @param {Object} target\n * @param {...Object} sources\n *\n * @return {Object} the target\n */\nfunction merge(target, ...sources) {\n\n  if (!sources.length) {\n    return target;\n  }\n\n  forEach(sources, function(source) {\n\n    // skip non-obj sources, i.e. null\n    if (!source || !isObject(source)) {\n      return;\n    }\n\n    forEach(source, function(sourceVal, key) {\n\n      if (key === '__proto__') {\n        return;\n      }\n\n      let targetVal = target[key];\n\n      if (isObject(sourceVal)) {\n\n        if (!isObject(targetVal)) {\n\n          // override target[key] with object\n          targetVal = {};\n        }\n\n        target[key] = merge(targetVal, sourceVal);\n      } else {\n        target[key] = sourceVal;\n      }\n\n    });\n  });\n\n  return target;\n}\n\nexport { assign, bind, debounce, ensureArray, every, filter, find, findIndex, flatten, forEach, get, groupBy, has, isArray, isDefined, isFunction, isNil, isNumber, isObject, isString, isUndefined, keys, map, matchPattern, merge, omit, pick, reduce, set, size, some, sortBy, throttle, unionBy, uniqueBy, values, without };\n","import { domify } from 'min-dom';\n\nvar OVERLAY_HTML = '<div class=\"drop-overlay\">' +\n                     '<div class=\"box\">' +\n                        '<div class=\"label\">{label}</div>' +\n                     '</div>' +\n                   '</div>';\n\n/**\n * @typedef { {\n *   name: string,\n *   path: string | undefined,\n *   contents: string\n * } } File\n */\n\n/**\n * Add file drop functionality to the given element,\n * calling fn(files...) on drop.\n *\n * @example\n *\n * var node = document.querySelector('#container');\n *\n * var dragOverHandler = fileDrop(handleFiles);\n *\n * node.addEventListener('dragover', dragOverHandler);\n *\n * @param { string } [label='Drop files here']\n * @param { (files: File[], dropEvent: DragEvent) => void } fn\n *\n * @return { (event: DragEvent) => any } drag over handler\n */\nfunction fileDrop(label, fn) {\n\n  if (typeof label === 'function') {\n    fn = label;\n    label = 'Drop files here';\n  }\n\n  var self;\n  var extraArgs;\n\n  // we are bound, if overlay exists\n  var overlay;\n\n  /**\n   * @param { DragEvent } event\n   */\n  function onDrop(event) {\n\n    event.preventDefault();\n\n    asyncMap(event.dataTransfer.files, readFile, function(err, files) {\n\n      if (err) {\n        console.warn('file drop failed', err);\n      } else {\n\n        var args = extraArgs.concat([ files, event ]);\n\n        // cleanup on drop\n        // onEnd(event);\n\n        // call provided fn with extraArgs..., files, event\n        fn.apply(self, args);\n      }\n    });\n  }\n\n  function isDragAllowed(dataTransfer) {\n\n    // Universal check for all browsers\n    return dataTransfer && dataTransfer.types && dataTransfer.types.includes('Files');\n  }\n\n  /**\n   * Drag over event to be registered by clients in respective contexts\n   *\n   * @param { DragEvent } _event\n   */\n  function onDragover(_event) {\n\n    // (0) extract extra arguments (extraArgs..., event)\n    var args = slice(arguments);\n\n    /**\n     * @type {DragEvent}\n     */\n    var event = args.pop();\n\n    var dataTransfer = event.dataTransfer,\n        target = event.currentTarget || event.target;\n\n    if (!isDragAllowed(dataTransfer)) {\n      return;\n    }\n\n    // make us a drop zone\n    event.preventDefault();\n\n    dataTransfer.dropEffect = 'copy';\n\n    // only register if we do not drag and drop already\n    if (overlay) {\n      return;\n    }\n\n    overlay = createOverlay(label);\n\n    target.appendChild(overlay);\n\n    self = this;\n    extraArgs = args;\n\n\n    // do not register events during testing\n    if (!target) {\n      return;\n    }\n\n\n    // (2) setup drag listeners\n\n    function onLeave(event) {\n\n      var relatedTarget = event.relatedTarget;\n\n      if (target.contains(relatedTarget)) {\n        return;\n      }\n\n      onEnd();\n    }\n\n    // (2.1) detach on end\n    function onEnd(event) {\n\n      document.removeEventListener('drop', onDrop);\n      document.removeEventListener('drop', onEnd);\n      document.removeEventListener('dragleave', onLeave);\n      document.removeEventListener('dragend', onEnd);\n      document.removeEventListener('dragover', preventDrop);\n\n      if (overlay) {\n        target.removeChild(overlay);\n        overlay = null;\n      }\n    }\n\n    // (2.0) attach drag + cleanup event\n    document.addEventListener('drop', onDrop);\n    document.addEventListener('drop', onEnd);\n    document.addEventListener('dragleave', onLeave);\n    document.addEventListener('dragend', onEnd);\n    document.addEventListener('dragover', preventDrop);\n  }\n\n  onDragover.onDrop = onDrop;\n\n  return onDragover;\n}\n\n\n// helpers ////////////////////////////////////\n\nfunction readFile(dropFile, done) {\n\n  if (!window.FileReader) {\n    return done();\n  }\n\n  var reader = new FileReader();\n\n  // Closure to capture the file information.\n  reader.onload = function(e) {\n\n    done(null, {\n      name: dropFile.name,\n      path: dropFile.path,\n      contents: e.target.result\n    });\n  };\n\n  reader.onerror = function(event) {\n    done(event.target.error);\n  };\n\n  // Read in the image file as a data URL.\n  reader.readAsText(dropFile);\n}\n\n\nfunction asyncMap(elements, iterator, done) {\n\n  var idx = 0,\n      results = [];\n\n  function next() {\n\n    if (idx === elements.length) {\n      done(null, results);\n    } else {\n\n      iterator(elements[idx], function(err, result) {\n\n        if (err) {\n          return done(err);\n        } else {\n          results[idx] = result;\n          idx++;\n\n          next();\n        }\n      });\n    }\n  }\n\n  next();\n}\n\nfunction slice(arr) {\n  return Array.prototype.slice.call(arr);\n}\n\nfunction createOverlay(label) {\n  var markup = OVERLAY_HTML.replace('{label}', label);\n  const overlay = domify(markup);\n\n  // remove blinking on safari\n  overlay.style.pointerEvents = 'none';\n\n  return overlay;\n}\n\nfunction preventDrop(event) {\n  event.preventDefault();\n}\n\nexport { fileDrop as default };\n//# sourceMappingURL=index.js.map\n","function getDefaultExportFromCjs (x) {\n\treturn x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;\n}\n\nvar hat$1 = {exports: {}};\n\nvar hasRequiredHat;\n\nfunction requireHat () {\n\tif (hasRequiredHat) return hat$1.exports;\n\thasRequiredHat = 1;\n\tvar hat = hat$1.exports = function (bits, base) {\n\t    if (!base) base = 16;\n\t    if (bits === undefined) bits = 128;\n\t    if (bits <= 0) return '0';\n\t    \n\t    var digits = Math.log(Math.pow(2, bits)) / Math.log(base);\n\t    for (var i = 2; digits === Infinity; i *= 2) {\n\t        digits = Math.log(Math.pow(2, bits / i)) / Math.log(base) * i;\n\t    }\n\t    \n\t    var rem = digits - Math.floor(digits);\n\t    \n\t    var res = '';\n\t    \n\t    for (var i = 0; i < Math.floor(digits); i++) {\n\t        var x = Math.floor(Math.random() * base).toString(base);\n\t        res = x + res;\n\t    }\n\t    \n\t    if (rem) {\n\t        var b = Math.pow(base, rem);\n\t        var x = Math.floor(Math.random() * b).toString(base);\n\t        res = x + res;\n\t    }\n\t    \n\t    var parsed = parseInt(res, base);\n\t    if (parsed !== Infinity && parsed >= Math.pow(2, bits)) {\n\t        return hat(bits, base)\n\t    }\n\t    else return res;\n\t};\n\n\that.rack = function (bits, base, expandBy) {\n\t    var fn = function (data) {\n\t        var iters = 0;\n\t        do {\n\t            if (iters ++ > 10) {\n\t                if (expandBy) bits += expandBy;\n\t                else throw new Error('too many ID collisions, use more bits')\n\t            }\n\t            \n\t            var id = hat(bits, base);\n\t        } while (Object.hasOwnProperty.call(hats, id));\n\t        \n\t        hats[id] = data;\n\t        return id;\n\t    };\n\t    var hats = fn.hats = {};\n\t    \n\t    fn.get = function (id) {\n\t        return fn.hats[id];\n\t    };\n\t    \n\t    fn.set = function (id, value) {\n\t        fn.hats[id] = value;\n\t        return fn;\n\t    };\n\t    \n\t    fn.bits = bits || 128;\n\t    fn.base = base || 16;\n\t    return fn;\n\t};\n\treturn hat$1.exports;\n}\n\nvar hatExports = requireHat();\nvar hat = /*@__PURE__*/getDefaultExportFromCjs(hatExports);\n\n/**\n * @typedef { [ number, number ] | [ number, number, number ] } Seed\n */\n\n/**\n * Create a new id generator / cache instance.\n *\n * You may optionally provide a seed that is used internally.\n *\n * @param {Seed} [seed]\n */\nfunction Ids(seed) {\n\n  if (!(this instanceof Ids)) {\n    return new Ids(seed);\n  }\n\n  seed = seed || [ 128, 36, 1 ];\n  this._seed = seed.length ? hat.rack(seed[0], seed[1], seed[2]) : seed;\n}\n\n/**\n * Generate a next id.\n *\n * @param {Object} [element] element to bind the id to\n *\n * @return {String} id\n */\nIds.prototype.next = function(element) {\n  return this._seed(element || true);\n};\n\n/**\n * Generate a next id with a given prefix.\n *\n * @param {Object} [element] element to bind the id to\n *\n * @return {String} id\n */\nIds.prototype.nextPrefixed = function(prefix, element) {\n  var id;\n\n  do {\n    id = prefix + this.next(true);\n  } while (this.assigned(id));\n\n  // claim {prefix}{random}\n  this.claim(id, element);\n\n  // return\n  return id;\n};\n\n/**\n * Manually claim an existing id.\n *\n * @param {String} id\n * @param {String} [element] element the id is claimed by\n */\nIds.prototype.claim = function(id, element) {\n  this._seed.set(id, element || true);\n};\n\n/**\n * Returns true if the given id has already been assigned.\n *\n * @param  {String} id\n * @return {Boolean}\n */\nIds.prototype.assigned = function(id) {\n  return this._seed.get(id) || false;\n};\n\n/**\n * Unclaim an id.\n *\n * @param  {String} id the id to unclaim\n */\nIds.prototype.unclaim = function(id) {\n  delete this._seed.hats[id];\n};\n\n\n/**\n * Clear all claimed ids.\n */\nIds.prototype.clear = function() {\n\n  var hats = this._seed.hats,\n      id;\n\n  for (id in hats) {\n    this.unclaim(id);\n  }\n};\n\nexport { Ids };\n","/*\r\n *  big.js v7.0.1\r\n *  A small, fast, easy-to-use library for arbitrary-precision decimal arithmetic.\r\n *  Copyright (c) 2025 Michael Mclaughlin\r\n *  https://github.com/MikeMcl/big.js/LICENCE.md\r\n */\r\n\r\n\r\n/************************************** EDITABLE DEFAULTS *****************************************/\r\n\r\n\r\n  // The default values below must be integers within the stated ranges.\r\n\r\n  /*\r\n   * The maximum number of decimal places (DP) of the results of operations involving division:\r\n   * div and sqrt, and pow with negative exponents.\r\n   */\r\nvar DP = 20,          // 0 to MAX_DP\r\n\r\n  /*\r\n   * The rounding mode (RM) used when rounding to the above decimal places.\r\n   *\r\n   *  0  Towards zero (i.e. truncate, no rounding).       (ROUND_DOWN)\r\n   *  1  To nearest neighbour. If equidistant, round up.  (ROUND_HALF_UP)\r\n   *  2  To nearest neighbour. If equidistant, to even.   (ROUND_HALF_EVEN)\r\n   *  3  Away from zero.                                  (ROUND_UP)\r\n   */\r\n  RM = 1,             // 0, 1, 2 or 3\r\n\r\n  // The maximum value of DP and Big.DP.\r\n  MAX_DP = 1E6,       // 0 to 1000000\r\n\r\n  // The maximum magnitude of the exponent argument to the pow method.\r\n  MAX_POWER = 1E6,    // 1 to 1000000\r\n\r\n  /*\r\n   * The negative exponent (NE) at and beneath which toString returns exponential notation.\r\n   * (JavaScript numbers: -7)\r\n   * -1000000 is the minimum recommended exponent value of a Big.\r\n   */\r\n  NE = -7,            // 0 to -1000000\r\n\r\n  /*\r\n   * The positive exponent (PE) at and above which toString returns exponential notation.\r\n   * (JavaScript numbers: 21)\r\n   * 1000000 is the maximum recommended exponent value of a Big, but this limit is not enforced.\r\n   */\r\n  PE = 21,            // 0 to 1000000\r\n\r\n  /*\r\n   * When true, an error will be thrown if a primitive number is passed to the Big constructor,\r\n   * or if valueOf is called, or if toNumber is called on a Big which cannot be converted to a\r\n   * primitive number without a loss of precision.\r\n   */\r\n  STRICT = false,     // true or false\r\n\r\n\r\n/**************************************************************************************************/\r\n\r\n\r\n  // Error messages.\r\n  NAME = '[big.js] ',\r\n  INVALID = NAME + 'Invalid ',\r\n  INVALID_DP = INVALID + 'decimal places',\r\n  INVALID_RM = INVALID + 'rounding mode',\r\n  DIV_BY_ZERO = NAME + 'Division by zero',\r\n\r\n  // The shared prototype object.\r\n  P = {},\r\n  UNDEFINED = void 0,\r\n  NUMERIC = /^-?(\\d+(\\.\\d*)?|\\.\\d+)(e[+-]?\\d+)?$/i;\r\n\r\n\r\n/*\r\n * Create and return a Big constructor.\r\n */\r\nfunction _Big_() {\r\n\r\n  /*\r\n   * The Big constructor and exported function.\r\n   * Create and return a new instance of a Big number object.\r\n   *\r\n   * n {number|string|Big} A numeric value.\r\n   */\r\n  function Big(n) {\r\n    var x = this;\r\n\r\n    // Enable constructor usage without new.\r\n    if (!(x instanceof Big)) {\r\n      return n === UNDEFINED && arguments.length === 0 ? _Big_() : new Big(n);\r\n    }\r\n\r\n\r\n    // Duplicate.\r\n    if (n instanceof Big) {\r\n      x.s = n.s;\r\n      x.e = n.e;\r\n      x.c = n.c.slice();\r\n    } else {\r\n      if (typeof n !== 'string') {\r\n        if (Big.strict === true && typeof n !== 'bigint') {\r\n          throw TypeError(INVALID + 'value');\r\n        }\r\n\r\n        // Minus zero?\r\n        n = n === 0 && 1 / n < 0 ? '-0' : String(n);\r\n      }\r\n\r\n      parse(x, n);\r\n    }\r\n\r\n    // Retain a reference to this Big constructor.\r\n    // Shadow Big.prototype.constructor which points to Object.\r\n    x.constructor = Big;\r\n  }\r\n\r\n  Big.prototype = P;\r\n  Big.DP = DP;\r\n  Big.RM = RM;\r\n  Big.NE = NE;\r\n  Big.PE = PE;\r\n  Big.strict = STRICT;\r\n  Big.roundDown = 0;\r\n  Big.roundHalfUp = 1;\r\n  Big.roundHalfEven = 2;\r\n  Big.roundUp = 3;\r\n\r\n  return Big;\r\n}\r\n\r\n\r\n/*\r\n * Parse the number or string value passed to a Big constructor.\r\n *\r\n * x {Big} A Big number instance.\r\n * n {number|string} A numeric value.\r\n */\r\nfunction parse(x, n) {\r\n  var e, i, nl;\r\n\r\n  if (!NUMERIC.test(n)) {\r\n    throw Error(INVALID + 'number');\r\n  }\r\n\r\n  // Determine sign.\r\n  x.s = n.charAt(0) == '-' ? (n = n.slice(1), -1) : 1;\r\n\r\n  // Decimal point?\r\n  if ((e = n.indexOf('.')) > -1) n = n.replace('.', '');\r\n\r\n  // Exponential form?\r\n  if ((i = n.search(/e/i)) > 0) {\r\n\r\n    // Determine exponent.\r\n    if (e < 0) e = i;\r\n    e += +n.slice(i + 1);\r\n    n = n.substring(0, i);\r\n  } else if (e < 0) {\r\n\r\n    // Integer.\r\n    e = n.length;\r\n  }\r\n\r\n  nl = n.length;\r\n\r\n  // Determine leading zeros.\r\n  for (i = 0; i < nl && n.charAt(i) == '0';) ++i;\r\n\r\n  if (i == nl) {\r\n\r\n    // Zero.\r\n    x.c = [x.e = 0];\r\n  } else {\r\n\r\n    // Determine trailing zeros.\r\n    for (; nl > 0 && n.charAt(--nl) == '0';);\r\n    x.e = e - i - 1;\r\n    x.c = [];\r\n\r\n    // Convert string to array of digits without leading/trailing zeros.\r\n    for (e = 0; i <= nl;) x.c[e++] = +n.charAt(i++);\r\n  }\r\n\r\n  return x;\r\n}\r\n\r\n\r\n/*\r\n * Round Big x to a maximum of sd significant digits using rounding mode rm.\r\n *\r\n * x {Big} The Big to round.\r\n * sd {number} Significant digits: integer, 0 to MAX_DP inclusive.\r\n * rm {number} Rounding mode: 0 (down), 1 (half-up), 2 (half-even) or 3 (up).\r\n * [more] {boolean} Whether the result of division was truncated.\r\n */\r\nfunction round(x, sd, rm, more) {\r\n  var xc = x.c;\r\n\r\n  if (rm === UNDEFINED) rm = x.constructor.RM;\r\n  if (rm !== 0 && rm !== 1 && rm !== 2 && rm !== 3) {\r\n    throw Error(INVALID_RM);\r\n  }\r\n\r\n  if (sd < 1) {\r\n    more =\r\n      rm === 3 && (more || !!xc[0]) || sd === 0 && (\r\n      rm === 1 && xc[0] >= 5 ||\r\n      rm === 2 && (xc[0] > 5 || xc[0] === 5 && (more || xc[1] !== UNDEFINED))\r\n    );\r\n\r\n    xc.length = 1;\r\n\r\n    if (more) {\r\n\r\n      // 1, 0.1, 0.01, 0.001, 0.0001 etc.\r\n      x.e = x.e - sd + 1;\r\n      xc[0] = 1;\r\n    } else {\r\n\r\n      // Zero.\r\n      xc[0] = x.e = 0;\r\n    }\r\n  } else if (sd < xc.length) {\r\n\r\n    // xc[sd] is the digit after the digit that may be rounded up.\r\n    more =\r\n      rm === 1 && xc[sd] >= 5 ||\r\n      rm === 2 && (xc[sd] > 5 || xc[sd] === 5 &&\r\n        (more || xc[sd + 1] !== UNDEFINED || xc[sd - 1] & 1)) ||\r\n      rm === 3 && (more || !!xc[0]);\r\n\r\n    // Remove any digits after the required precision.\r\n    xc.length = sd;\r\n\r\n    // Round up?\r\n    if (more) {\r\n\r\n      // Rounding up may mean the previous digit has to be rounded up.\r\n      for (; ++xc[--sd] > 9;) {\r\n        xc[sd] = 0;\r\n        if (sd === 0) {\r\n          ++x.e;\r\n          xc.unshift(1);\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n    // Remove trailing zeros.\r\n    for (sd = xc.length; !xc[--sd];) xc.pop();\r\n  }\r\n\r\n  return x;\r\n}\r\n\r\n\r\n/*\r\n * Return a string representing the value of Big x in normal or exponential notation.\r\n * Handles P.toExponential, P.toFixed, P.toJSON, P.toPrecision, P.toString and P.valueOf.\r\n */\r\nfunction stringify(x, doExponential, isNonzero) {\r\n  var e = x.e,\r\n    s = x.c.join(''),\r\n    n = s.length;\r\n\r\n  // Exponential notation?\r\n  if (doExponential) {\r\n    s = s.charAt(0) + (n > 1 ? '.' + s.slice(1) : '') + (e < 0 ? 'e' : 'e+') + e;\r\n\r\n  // Normal notation.\r\n  } else if (e < 0) {\r\n    for (; ++e;) s = '0' + s;\r\n    s = '0.' + s;\r\n  } else if (e > 0) {\r\n    if (++e > n) {\r\n      for (e -= n; e--;) s += '0';\r\n    } else if (e < n) {\r\n      s = s.slice(0, e) + '.' + s.slice(e);\r\n    }\r\n  } else if (n > 1) {\r\n    s = s.charAt(0) + '.' + s.slice(1);\r\n  }\r\n\r\n  return x.s < 0 && isNonzero ? '-' + s : s;\r\n}\r\n\r\n\r\n// Prototype/instance methods\r\n\r\n\r\n/*\r\n * Return a new Big whose value is the absolute value of this Big.\r\n */\r\nP.abs = function () {\r\n  var x = new this.constructor(this);\r\n  x.s = 1;\r\n  return x;\r\n};\r\n\r\n\r\n/*\r\n * Return 1 if the value of this Big is greater than the value of Big y,\r\n *       -1 if the value of this Big is less than the value of Big y, or\r\n *        0 if they have the same value.\r\n */\r\nP.cmp = function (y) {\r\n  var isneg,\r\n    x = this,\r\n    xc = x.c,\r\n    yc = (y = new x.constructor(y)).c,\r\n    i = x.s,\r\n    j = y.s,\r\n    k = x.e,\r\n    l = y.e;\r\n\r\n  // Either zero?\r\n  if (!xc[0] || !yc[0]) return !xc[0] ? !yc[0] ? 0 : -j : i;\r\n\r\n  // Signs differ?\r\n  if (i != j) return i;\r\n\r\n  isneg = i < 0;\r\n\r\n  // Compare exponents.\r\n  if (k != l) return k > l ^ isneg ? 1 : -1;\r\n\r\n  j = (k = xc.length) < (l = yc.length) ? k : l;\r\n\r\n  // Compare digit by digit.\r\n  for (i = -1; ++i < j;) {\r\n    if (xc[i] != yc[i]) return xc[i] > yc[i] ^ isneg ? 1 : -1;\r\n  }\r\n\r\n  // Compare lengths.\r\n  return k == l ? 0 : k > l ^ isneg ? 1 : -1;\r\n};\r\n\r\n\r\n/*\r\n * Return a new Big whose value is the value of this Big divided by the value of Big y, rounded,\r\n * if necessary, to a maximum of Big.DP decimal places using rounding mode Big.RM.\r\n */\r\nP.div = function (y) {\r\n  var x = this,\r\n    Big = x.constructor,\r\n    a = x.c,                  // dividend\r\n    b = (y = new Big(y)).c,   // divisor\r\n    k = x.s == y.s ? 1 : -1,\r\n    dp = Big.DP;\r\n\r\n  if (dp !== ~~dp || dp < 0 || dp > MAX_DP) {\r\n    throw Error(INVALID_DP);\r\n  }\r\n\r\n  // Divisor is zero?\r\n  if (!b[0]) {\r\n    throw Error(DIV_BY_ZERO);\r\n  }\r\n\r\n  // Dividend is 0? Return +-0.\r\n  if (!a[0]) {\r\n    y.s = k;\r\n    y.c = [y.e = 0];\r\n    return y;\r\n  }\r\n\r\n  var bl, bt, n, cmp, ri,\r\n    bz = b.slice(),\r\n    ai = bl = b.length,\r\n    al = a.length,\r\n    r = a.slice(0, bl),   // remainder\r\n    rl = r.length,\r\n    q = y,                // quotient\r\n    qc = q.c = [],\r\n    qi = 0,\r\n    p = dp + (q.e = x.e - y.e) + 1;    // precision of the result\r\n\r\n  q.s = k;\r\n  k = p < 0 ? 0 : p;\r\n\r\n  // Create version of divisor with leading zero.\r\n  bz.unshift(0);\r\n\r\n  // Add zeros to make remainder as long as divisor.\r\n  for (; rl++ < bl;) r.push(0);\r\n\r\n  do {\r\n\r\n    // n is how many times the divisor goes into current remainder.\r\n    for (n = 0; n < 10; n++) {\r\n\r\n      // Compare divisor and remainder.\r\n      if (bl != (rl = r.length)) {\r\n        cmp = bl > rl ? 1 : -1;\r\n      } else {\r\n        for (ri = -1, cmp = 0; ++ri < bl;) {\r\n          if (b[ri] != r[ri]) {\r\n            cmp = b[ri] > r[ri] ? 1 : -1;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n\r\n      // If divisor < remainder, subtract divisor from remainder.\r\n      if (cmp < 0) {\r\n\r\n        // Remainder can't be more than 1 digit longer than divisor.\r\n        // Equalise lengths using divisor with extra leading zero?\r\n        for (bt = rl == bl ? b : bz; rl;) {\r\n          if (r[--rl] < bt[rl]) {\r\n            ri = rl;\r\n            for (; ri && !r[--ri];) r[ri] = 9;\r\n            --r[ri];\r\n            r[rl] += 10;\r\n          }\r\n          r[rl] -= bt[rl];\r\n        }\r\n\r\n        for (; !r[0];) r.shift();\r\n      } else {\r\n        break;\r\n      }\r\n    }\r\n\r\n    // Add the digit n to the result array.\r\n    qc[qi++] = cmp ? n : ++n;\r\n\r\n    // Update the remainder.\r\n    if (r[0] && cmp) r[rl] = a[ai] || 0;\r\n    else r = [a[ai]];\r\n\r\n  } while ((ai++ < al || r[0] !== UNDEFINED) && k--);\r\n\r\n  // Leading zero? Do not remove if result is simply zero (qi == 1).\r\n  if (!qc[0] && qi != 1) {\r\n\r\n    // There can't be more than one zero.\r\n    qc.shift();\r\n    q.e--;\r\n    p--;\r\n  }\r\n\r\n  // Round?\r\n  if (qi > p) round(q, p, Big.RM, r[0] !== UNDEFINED);\r\n\r\n  return q;\r\n};\r\n\r\n\r\n/*\r\n * Return true if the value of this Big is equal to the value of Big y, otherwise return false.\r\n */\r\nP.eq = function (y) {\r\n  return this.cmp(y) === 0;\r\n};\r\n\r\n\r\n/*\r\n * Return true if the value of this Big is greater than the value of Big y, otherwise return\r\n * false.\r\n */\r\nP.gt = function (y) {\r\n  return this.cmp(y) > 0;\r\n};\r\n\r\n\r\n/*\r\n * Return true if the value of this Big is greater than or equal to the value of Big y, otherwise\r\n * return false.\r\n */\r\nP.gte = function (y) {\r\n  return this.cmp(y) > -1;\r\n};\r\n\r\n\r\n/*\r\n * Return true if the value of this Big is less than the value of Big y, otherwise return false.\r\n */\r\nP.lt = function (y) {\r\n  return this.cmp(y) < 0;\r\n};\r\n\r\n\r\n/*\r\n * Return true if the value of this Big is less than or equal to the value of Big y, otherwise\r\n * return false.\r\n */\r\nP.lte = function (y) {\r\n  return this.cmp(y) < 1;\r\n};\r\n\r\n\r\n/*\r\n * Return a new Big whose value is the value of this Big minus the value of Big y.\r\n */\r\nP.minus = P.sub = function (y) {\r\n  var i, j, t, xlty,\r\n    x = this,\r\n    Big = x.constructor,\r\n    a = x.s,\r\n    b = (y = new Big(y)).s;\r\n\r\n  // Signs differ?\r\n  if (a != b) {\r\n    y.s = -b;\r\n    return x.plus(y);\r\n  }\r\n\r\n  var xc = x.c.slice(),\r\n    xe = x.e,\r\n    yc = y.c,\r\n    ye = y.e;\r\n\r\n  // Either zero?\r\n  if (!xc[0] || !yc[0]) {\r\n    if (yc[0]) {\r\n      y.s = -b;\r\n    } else if (xc[0]) {\r\n      y = new Big(x);\r\n    } else {\r\n      y.s = 1;\r\n    }\r\n    return y;\r\n  }\r\n\r\n  // Determine which is the bigger number. Prepend zeros to equalise exponents.\r\n  if (a = xe - ye) {\r\n\r\n    if (xlty = a < 0) {\r\n      a = -a;\r\n      t = xc;\r\n    } else {\r\n      ye = xe;\r\n      t = yc;\r\n    }\r\n\r\n    t.reverse();\r\n    for (b = a; b--;) t.push(0);\r\n    t.reverse();\r\n  } else {\r\n\r\n    // Exponents equal. Check digit by digit.\r\n    j = ((xlty = xc.length < yc.length) ? xc : yc).length;\r\n\r\n    for (a = b = 0; b < j; b++) {\r\n      if (xc[b] != yc[b]) {\r\n        xlty = xc[b] < yc[b];\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  // x < y? Point xc to the array of the bigger number.\r\n  if (xlty) {\r\n    t = xc;\r\n    xc = yc;\r\n    yc = t;\r\n    y.s = -y.s;\r\n  }\r\n\r\n  /*\r\n   * Append zeros to xc if shorter. No need to add zeros to yc if shorter as subtraction only\r\n   * needs to start at yc.length.\r\n   */\r\n  if ((b = (j = yc.length) - (i = xc.length)) > 0) for (; b--;) xc[i++] = 0;\r\n\r\n  // Subtract yc from xc.\r\n  for (b = i; j > a;) {\r\n    if (xc[--j] < yc[j]) {\r\n      for (i = j; i && !xc[--i];) xc[i] = 9;\r\n      --xc[i];\r\n      xc[j] += 10;\r\n    }\r\n\r\n    xc[j] -= yc[j];\r\n  }\r\n\r\n  // Remove trailing zeros.\r\n  for (; xc[--b] === 0;) xc.pop();\r\n\r\n  // Remove leading zeros and adjust exponent accordingly.\r\n  for (; xc[0] === 0;) {\r\n    xc.shift();\r\n    --ye;\r\n  }\r\n\r\n  if (!xc[0]) {\r\n\r\n    // n - n = +0\r\n    y.s = 1;\r\n\r\n    // Result must be zero.\r\n    xc = [ye = 0];\r\n  }\r\n\r\n  y.c = xc;\r\n  y.e = ye;\r\n\r\n  return y;\r\n};\r\n\r\n\r\n/*\r\n * Return a new Big whose value is the value of this Big modulo the value of Big y.\r\n */\r\nP.mod = function (y) {\r\n  var ygtx,\r\n    x = this,\r\n    Big = x.constructor,\r\n    a = x.s,\r\n    b = (y = new Big(y)).s;\r\n\r\n  if (!y.c[0]) {\r\n    throw Error(DIV_BY_ZERO);\r\n  }\r\n\r\n  x.s = y.s = 1;\r\n  ygtx = y.cmp(x) == 1;\r\n  x.s = a;\r\n  y.s = b;\r\n\r\n  if (ygtx) return new Big(x);\r\n\r\n  a = Big.DP;\r\n  b = Big.RM;\r\n  Big.DP = Big.RM = 0;\r\n  x = x.div(y);\r\n  Big.DP = a;\r\n  Big.RM = b;\r\n\r\n  return this.minus(x.times(y));\r\n};\r\n\r\n\r\n/*\r\n * Return a new Big whose value is the value of this Big negated.\r\n */\r\nP.neg = function () {\r\n  var x = new this.constructor(this);\r\n  x.s = -x.s;\r\n  return x;\r\n};\r\n\r\n\r\n/*\r\n * Return a new Big whose value is the value of this Big plus the value of Big y.\r\n */\r\nP.plus = P.add = function (y) {\r\n  var e, k, t,\r\n    x = this,\r\n    Big = x.constructor;\r\n\r\n  y = new Big(y);\r\n\r\n  // Signs differ?\r\n  if (x.s != y.s) {\r\n    y.s = -y.s;\r\n    return x.minus(y);\r\n  }\r\n\r\n  var xe = x.e,\r\n    xc = x.c,\r\n    ye = y.e,\r\n    yc = y.c;\r\n\r\n  // Either zero?\r\n  if (!xc[0] || !yc[0]) {\r\n    if (!yc[0]) {\r\n      if (xc[0]) {\r\n        y = new Big(x);\r\n      } else {\r\n        y.s = x.s;\r\n      }\r\n    }\r\n    return y;\r\n  }\r\n\r\n  xc = xc.slice();\r\n\r\n  // Prepend zeros to equalise exponents.\r\n  // Note: reverse faster than unshifts.\r\n  if (e = xe - ye) {\r\n    if (e > 0) {\r\n      ye = xe;\r\n      t = yc;\r\n    } else {\r\n      e = -e;\r\n      t = xc;\r\n    }\r\n\r\n    t.reverse();\r\n    for (; e--;) t.push(0);\r\n    t.reverse();\r\n  }\r\n\r\n  // Point xc to the longer array.\r\n  if (xc.length - yc.length < 0) {\r\n    t = yc;\r\n    yc = xc;\r\n    xc = t;\r\n  }\r\n\r\n  e = yc.length;\r\n\r\n  // Only start adding at yc.length - 1 as the further digits of xc can be left as they are.\r\n  for (k = 0; e; xc[e] %= 10) k = (xc[--e] = xc[e] + yc[e] + k) / 10 | 0;\r\n\r\n  // No need to check for zero, as +x + +y != 0 && -x + -y != 0\r\n\r\n  if (k) {\r\n    xc.unshift(k);\r\n    ++ye;\r\n  }\r\n\r\n  // Remove trailing zeros.\r\n  for (e = xc.length; xc[--e] === 0;) xc.pop();\r\n\r\n  y.c = xc;\r\n  y.e = ye;\r\n\r\n  return y;\r\n};\r\n\r\n\r\n/*\r\n * Return a Big whose value is the value of this Big raised to the power n.\r\n * If n is negative, round to a maximum of Big.DP decimal places using rounding\r\n * mode Big.RM.\r\n *\r\n * n {number} Integer, -MAX_POWER to MAX_POWER inclusive.\r\n */\r\nP.pow = function (n) {\r\n  var x = this,\r\n    one = new x.constructor('1'),\r\n    y = one,\r\n    isneg = n < 0;\r\n\r\n  if (n !== ~~n || n < -MAX_POWER || n > MAX_POWER) {\r\n    throw Error(INVALID + 'exponent');\r\n  }\r\n\r\n  if (isneg) n = -n;\r\n\r\n  for (;;) {\r\n    if (n & 1) y = y.times(x);\r\n    n >>= 1;\r\n    if (!n) break;\r\n    x = x.times(x);\r\n  }\r\n\r\n  return isneg ? one.div(y) : y;\r\n};\r\n\r\n\r\n/*\r\n * Return a new Big whose value is the value of this Big rounded to a maximum precision of sd\r\n * significant digits using rounding mode rm, or Big.RM if rm is not specified.\r\n *\r\n * sd {number} Significant digits: integer, 1 to MAX_DP inclusive.\r\n * rm? {number} Rounding mode: 0 (down), 1 (half-up), 2 (half-even) or 3 (up).\r\n */\r\nP.prec = function (sd, rm) {\r\n  if (sd !== ~~sd || sd < 1 || sd > MAX_DP) {\r\n    throw Error(INVALID + 'precision');\r\n  }\r\n  return round(new this.constructor(this), sd, rm);\r\n};\r\n\r\n\r\n/*\r\n * Return a new Big whose value is the value of this Big rounded to a maximum of dp decimal places\r\n * using rounding mode rm, or Big.RM if rm is not specified.\r\n * If dp is negative, round to an integer which is a multiple of 10**-dp.\r\n * If dp is not specified, round to 0 decimal places.\r\n *\r\n * dp? {number} Integer, -MAX_DP to MAX_DP inclusive.\r\n * rm? {number} Rounding mode: 0 (down), 1 (half-up), 2 (half-even) or 3 (up).\r\n */\r\nP.round = function (dp, rm) {\r\n  if (dp === UNDEFINED) dp = 0;\r\n  else if (dp !== ~~dp || dp < -MAX_DP || dp > MAX_DP) {\r\n    throw Error(INVALID_DP);\r\n  }\r\n  return round(new this.constructor(this), dp + this.e + 1, rm);\r\n};\r\n\r\n\r\n/*\r\n * Return a new Big whose value is the square root of the value of this Big, rounded, if\r\n * necessary, to a maximum of Big.DP decimal places using rounding mode Big.RM.\r\n */\r\nP.sqrt = function () {\r\n  var r, c, t,\r\n    x = this,\r\n    Big = x.constructor,\r\n    s = x.s,\r\n    e = x.e,\r\n    half = new Big('0.5');\r\n\r\n  // Zero?\r\n  if (!x.c[0]) return new Big(x);\r\n\r\n  // Negative?\r\n  if (s < 0) {\r\n    throw Error(NAME + 'No square root');\r\n  }\r\n\r\n  // Estimate.\r\n  s = Math.sqrt(+stringify(x, true, true));\r\n\r\n  // Math.sqrt underflow/overflow?\r\n  // Re-estimate: pass x coefficient to Math.sqrt as integer, then adjust the result exponent.\r\n  if (s === 0 || s === 1 / 0) {\r\n    c = x.c.join('');\r\n    if (!(c.length + e & 1)) c += '0';\r\n    s = Math.sqrt(c);\r\n    e = ((e + 1) / 2 | 0) - (e < 0 || e & 1);\r\n    r = new Big((s == 1 / 0 ? '5e' : (s = s.toExponential()).slice(0, s.indexOf('e') + 1)) + e);\r\n  } else {\r\n    r = new Big(s + '');\r\n  }\r\n\r\n  e = r.e + (Big.DP += 4);\r\n\r\n  // Newton-Raphson iteration.\r\n  do {\r\n    t = r;\r\n    r = half.times(t.plus(x.div(t)));\r\n  } while (t.c.slice(0, e).join('') !== r.c.slice(0, e).join(''));\r\n\r\n  return round(r, (Big.DP -= 4) + r.e + 1, Big.RM);\r\n};\r\n\r\n\r\n/*\r\n * Return a new Big whose value is the value of this Big times the value of Big y.\r\n */\r\nP.times = P.mul = function (y) {\r\n  var c,\r\n    x = this,\r\n    Big = x.constructor,\r\n    xc = x.c,\r\n    yc = (y = new Big(y)).c,\r\n    a = xc.length,\r\n    b = yc.length,\r\n    i = x.e,\r\n    j = y.e;\r\n\r\n  // Determine sign of result.\r\n  y.s = x.s == y.s ? 1 : -1;\r\n\r\n  // Return signed 0 if either 0.\r\n  if (!xc[0] || !yc[0]) {\r\n    y.c = [y.e = 0];\r\n    return y;\r\n  }\r\n\r\n  // Initialise exponent of result as x.e + y.e.\r\n  y.e = i + j;\r\n\r\n  // If array xc has fewer digits than yc, swap xc and yc, and lengths.\r\n  if (a < b) {\r\n    c = xc;\r\n    xc = yc;\r\n    yc = c;\r\n    j = a;\r\n    a = b;\r\n    b = j;\r\n  }\r\n\r\n  // Initialise coefficient array of result with zeros.\r\n  for (c = new Array(j = a + b); j--;) c[j] = 0;\r\n\r\n  // Multiply.\r\n\r\n  // i is initially xc.length.\r\n  for (i = b; i--;) {\r\n    b = 0;\r\n\r\n    // a is yc.length.\r\n    for (j = a + i; j > i;) {\r\n\r\n      // Current sum of products at this digit position, plus carry.\r\n      b = c[j] + yc[i] * xc[j - i - 1] + b;\r\n      c[j--] = b % 10;\r\n\r\n      // carry\r\n      b = b / 10 | 0;\r\n    }\r\n\r\n    c[j] = b;\r\n  }\r\n\r\n  // Increment result exponent if there is a final carry, otherwise remove leading zero.\r\n  if (b) ++y.e;\r\n  else c.shift();\r\n\r\n  // Remove trailing zeros.\r\n  for (i = c.length; !c[--i];) c.pop();\r\n  y.c = c;\r\n\r\n  return y;\r\n};\r\n\r\n\r\n/*\r\n * Return a string representing the value of this Big in exponential notation rounded to dp fixed\r\n * decimal places using rounding mode rm, or Big.RM if rm is not specified.\r\n *\r\n * dp? {number} Decimal places: integer, 0 to MAX_DP inclusive.\r\n * rm? {number} Rounding mode: 0 (down), 1 (half-up), 2 (half-even) or 3 (up).\r\n */\r\nP.toExponential = function (dp, rm) {\r\n  var x = this,\r\n    n = x.c[0];\r\n\r\n  if (dp !== UNDEFINED) {\r\n    if (dp !== ~~dp || dp < 0 || dp > MAX_DP) {\r\n      throw Error(INVALID_DP);\r\n    }\r\n    x = round(new x.constructor(x), ++dp, rm);\r\n    for (; x.c.length < dp;) x.c.push(0);\r\n  }\r\n\r\n  return stringify(x, true, !!n);\r\n};\r\n\r\n\r\n/*\r\n * Return a string representing the value of this Big in normal notation rounded to dp fixed\r\n * decimal places using rounding mode rm, or Big.RM if rm is not specified.\r\n *\r\n * dp? {number} Decimal places: integer, 0 to MAX_DP inclusive.\r\n * rm? {number} Rounding mode: 0 (down), 1 (half-up), 2 (half-even) or 3 (up).\r\n *\r\n * (-0).toFixed(0) is '0', but (-0.1).toFixed(0) is '-0'.\r\n * (-0).toFixed(1) is '0.0', but (-0.01).toFixed(1) is '-0.0'.\r\n */\r\nP.toFixed = function (dp, rm) {\r\n  var x = this,\r\n    n = x.c[0];\r\n\r\n  if (dp !== UNDEFINED) {\r\n    if (dp !== ~~dp || dp < 0 || dp > MAX_DP) {\r\n      throw Error(INVALID_DP);\r\n    }\r\n    x = round(new x.constructor(x), dp + x.e + 1, rm);\r\n\r\n    // x.e may have changed if the value is rounded up.\r\n    for (dp = dp + x.e + 1; x.c.length < dp;) x.c.push(0);\r\n  }\r\n\r\n  return stringify(x, false, !!n);\r\n};\r\n\r\n\r\n/*\r\n * Return a string representing the value of this Big.\r\n * Return exponential notation if this Big has a positive exponent equal to or greater than\r\n * Big.PE, or a negative exponent equal to or less than Big.NE.\r\n * Omit the sign for negative zero.\r\n */\r\nP.toJSON = P.toString = function () {\r\n  var x = this,\r\n    Big = x.constructor;\r\n  return stringify(x, x.e <= Big.NE || x.e >= Big.PE, !!x.c[0]);\r\n};\r\n\r\nif (typeof Symbol !== \"undefined\") {\r\n  P[Symbol.for('nodejs.util.inspect.custom')] = P.toJSON;\r\n}\r\n\r\n\r\n/*\r\n * Return the value of this Big as a primitive number.\r\n */\r\nP.toNumber = function () {\r\n  var n = +stringify(this, true, true);\r\n  if (this.constructor.strict === true && !this.eq(n.toString())) {\r\n    throw Error(NAME + 'Imprecise conversion');\r\n  }\r\n  return n;\r\n};\r\n\r\n\r\n/*\r\n * Return a string representing the value of this Big rounded to sd significant digits using\r\n * rounding mode rm, or Big.RM if rm is not specified.\r\n * Use exponential notation if sd is less than the number of digits necessary to represent\r\n * the integer part of the value in normal notation.\r\n *\r\n * sd {number} Significant digits: integer, 1 to MAX_DP inclusive.\r\n * rm? {number} Rounding mode: 0 (down), 1 (half-up), 2 (half-even) or 3 (up).\r\n */\r\nP.toPrecision = function (sd, rm) {\r\n  var x = this,\r\n    Big = x.constructor,\r\n    n = x.c[0];\r\n\r\n  if (sd !== UNDEFINED) {\r\n    if (sd !== ~~sd || sd < 1 || sd > MAX_DP) {\r\n      throw Error(INVALID + 'precision');\r\n    }\r\n    x = round(new Big(x), sd, rm);\r\n    for (; x.c.length < sd;) x.c.push(0);\r\n  }\r\n\r\n  return stringify(x, sd <= x.e || x.e <= Big.NE || x.e >= Big.PE, !!n);\r\n};\r\n\r\n\r\n/*\r\n * Return a string representing the value of this Big.\r\n * Return exponential notation if this Big has a positive exponent equal to or greater than\r\n * Big.PE, or a negative exponent equal to or less than Big.NE.\r\n * Include the sign for negative zero.\r\n */\r\nP.valueOf = function () {\r\n  var x = this,\r\n    Big = x.constructor;\r\n  if (Big.strict === true) {\r\n    throw Error(NAME + 'valueOf disallowed');\r\n  }\r\n  return stringify(x, x.e <= Big.NE || x.e >= Big.PE, true);\r\n};\r\n\r\n\r\n// Export\r\n\r\n\r\nexport var Big = _Big_();\r\n\r\n/// <reference types=\"https://raw.githubusercontent.com/DefinitelyTyped/DefinitelyTyped/master/types/big.js/index.d.ts\" />\r\nexport default Big;\r\n","import{options as r,Fragment as e}from\"preact\";export{Fragment}from\"preact\";var t=/[\"&<]/;function n(r){if(0===r.length||!1===t.test(r))return r;for(var e=0,n=0,o=\"\",f=\"\";n<r.length;n++){switch(r.charCodeAt(n)){case 34:f=\"&quot;\";break;case 38:f=\"&amp;\";break;case 60:f=\"&lt;\";break;default:continue}n!==e&&(o+=r.slice(e,n)),o+=f,e=n+1}return n!==e&&(o+=r.slice(e,n)),o}var o=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,f=0,i=Array.isArray;function u(e,t,n,o,i,u){t||(t={});var a,c,p=t;if(\"ref\"in p)for(c in p={},t)\"ref\"==c?a=t[c]:p[c]=t[c];var l={type:e,props:p,key:n,ref:a,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--f,__i:-1,__u:0,__source:i,__self:u};if(\"function\"==typeof e&&(a=e.defaultProps))for(c in a)void 0===p[c]&&(p[c]=a[c]);return r.vnode&&r.vnode(l),l}function a(r){var t=u(e,{tpl:r,exprs:[].slice.call(arguments,1)});return t.key=t.__v,t}var c={},p=/[A-Z]/g;function l(e,t){if(r.attr){var f=r.attr(e,t);if(\"string\"==typeof f)return f}if(t=function(r){return null!==r&&\"object\"==typeof r&&\"function\"==typeof r.valueOf?r.valueOf():r}(t),\"ref\"===e||\"key\"===e)return\"\";if(\"style\"===e&&\"object\"==typeof t){var i=\"\";for(var u in t){var a=t[u];if(null!=a&&\"\"!==a){var l=\"-\"==u[0]?u:c[u]||(c[u]=u.replace(p,\"-$&\").toLowerCase()),s=\";\";\"number\"!=typeof a||l.startsWith(\"--\")||o.test(l)||(s=\"px;\"),i=i+l+\":\"+a+s}}return e+'=\"'+n(i)+'\"'}return null==t||!1===t||\"function\"==typeof t||\"object\"==typeof t?\"\":!0===t?e:e+'=\"'+n(\"\"+t)+'\"'}function s(r){if(null==r||\"boolean\"==typeof r||\"function\"==typeof r)return null;if(\"object\"==typeof r){if(void 0===r.constructor)return r;if(i(r)){for(var e=0;e<r.length;e++)r[e]=s(r[e]);return r}}return n(\"\"+r)}export{u as jsx,l as jsxAttr,u as jsxDEV,s as jsxEscape,a as jsxTemplate,u as jsxs};\n//# sourceMappingURL=jsxRuntime.module.js.map\n","import{Component as n,createElement as t,options as e,toChildArray as r,Fragment as u,render as o,hydrate as i,createContext as l,createRef as c,cloneElement as f}from\"preact\";export{Component,Fragment,createContext,createElement,createRef}from\"preact\";import{useState as a,useLayoutEffect as s,useEffect as h,useCallback as v,useContext as d,useDebugValue as m,useId as p,useImperativeHandle as y,useMemo as _,useReducer as b,useRef as S}from\"preact/hooks\";export*from\"preact/hooks\";function g(n,t){for(var e in t)n[e]=t[e];return n}function E(n,t){for(var e in n)if(\"__source\"!==e&&!(e in t))return!0;for(var r in t)if(\"__source\"!==r&&n[r]!==t[r])return!0;return!1}function C(n,t){var e=t(),r=a({t:{__:e,u:t}}),u=r[0].t,o=r[1];return s(function(){u.__=e,u.u=t,R(u)&&o({t:u})},[n,e,t]),h(function(){return R(u)&&o({t:u}),n(function(){R(u)&&o({t:u})})},[n]),e}function R(n){var t,e,r=n.u,u=n.__;try{var o=r();return!((t=u)===(e=o)&&(0!==t||1/t==1/e)||t!=t&&e!=e)}catch(n){return!0}}function x(n){n()}function w(n){return n}function k(){return[!1,x]}var I=s;function N(n,t){this.props=n,this.context=t}function M(n,e){function r(n){var t=this.props.ref,r=t==n.ref;return!r&&t&&(t.call?t(null):t.current=null),e?!e(this.props,n)||!r:E(this.props,n)}function u(e){return this.shouldComponentUpdate=r,t(n,e)}return u.displayName=\"Memo(\"+(n.displayName||n.name)+\")\",u.prototype.isReactComponent=!0,u.__f=!0,u.type=n,u}(N.prototype=new n).isPureReactComponent=!0,N.prototype.shouldComponentUpdate=function(n,t){return E(this.props,n)||E(this.state,t)};var T=e.__b;e.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),T&&T(n)};var A=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.forward_ref\")||3911;function D(n){function t(t){var e=g({},t);return delete e.ref,n(e,t.ref||null)}return t.$$typeof=A,t.render=n,t.prototype.isReactComponent=t.__f=!0,t.displayName=\"ForwardRef(\"+(n.displayName||n.name)+\")\",t}var L=function(n,t){return null==n?null:r(r(n).map(t))},O={map:L,forEach:L,count:function(n){return n?r(n).length:0},only:function(n){var t=r(n);if(1!==t.length)throw\"Children.only\";return t[0]},toArray:r},U=e.__e;e.__e=function(n,t,e,r){if(n.then)for(var u,o=t;o=o.__;)if((u=o.__c)&&u.__c)return null==t.__e&&(t.__e=e.__e,t.__k=e.__k),u.__c(n,t);U(n,t,e,r)};var F=e.unmount;function V(n,t,e){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(n){\"function\"==typeof n.__c&&n.__c()}),n.__c.__H=null),null!=(n=g({},n)).__c&&(n.__c.__P===e&&(n.__c.__P=t),n.__c.__e=!0,n.__c=null),n.__k=n.__k&&n.__k.map(function(n){return V(n,t,e)})),n}function W(n,t,e){return n&&e&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(n){return W(n,t,e)}),n.__c&&n.__c.__P===t&&(n.__e&&e.appendChild(n.__e),n.__c.__e=!0,n.__c.__P=e)),n}function P(){this.__u=0,this.o=null,this.__b=null}function j(n){if(!n.__)return null;var t=n.__.__c;return t&&t.__a&&t.__a(n)}function z(n){var e,r,u,o=null;function i(i){if(e||(e=n()).then(function(n){n&&(o=n.default||n),u=!0},function(n){r=n,u=!0}),r)throw r;if(!u)throw e;return o?t(o,i):null}return i.displayName=\"Lazy\",i.__f=!0,i}function B(){this.i=null,this.l=null}e.unmount=function(n){var t=n.__c;t&&(t.__z=!0),t&&t.__R&&t.__R(),t&&32&n.__u&&(n.type=null),F&&F(n)},(P.prototype=new n).__c=function(n,t){var e=t.__c,r=this;null==r.o&&(r.o=[]),r.o.push(e);var u=j(r.__v),o=!1,i=function(){o||r.__z||(o=!0,e.__R=null,u?u(c):c())};e.__R=i;var l=e.__P;e.__P=null;var c=function(){if(!--r.__u){if(r.state.__a){var n=r.state.__a;r.__v.__k[0]=W(n,n.__c.__P,n.__c.__O)}var t;for(r.setState({__a:r.__b=null});t=r.o.pop();)t.__P=l,t.forceUpdate()}};r.__u++||32&t.__u||r.setState({__a:r.__b=r.__v.__k[0]}),n.then(i,i)},P.prototype.componentWillUnmount=function(){this.o=[]},P.prototype.render=function(n,e){if(this.__b){if(this.__v.__k){var r=document.createElement(\"div\"),o=this.__v.__k[0].__c;this.__v.__k[0]=V(this.__b,r,o.__O=o.__P)}this.__b=null}var i=e.__a&&t(u,null,n.fallback);return i&&(i.__u&=-33),[t(u,null,e.__a?null:n.children),i]};var H=function(n,t,e){if(++e[1]===e[0]&&n.l.delete(t),n.props.revealOrder&&(\"t\"!==n.props.revealOrder[0]||!n.l.size))for(e=n.i;e;){for(;e.length>3;)e.pop()();if(e[1]<e[0])break;n.i=e=e[2]}};function Z(n){return this.getChildContext=function(){return n.context},n.children}function Y(n){var e=this,r=n.h;if(e.componentWillUnmount=function(){o(null,e.v),e.v=null,e.h=null},e.h&&e.h!==r&&e.componentWillUnmount(),!e.v){for(var u=e.__v;null!==u&&!u.__m&&null!==u.__;)u=u.__;e.h=r,e.v={nodeType:1,parentNode:r,childNodes:[],__k:{__m:u.__m},contains:function(){return!0},namespaceURI:r.namespaceURI,insertBefore:function(n,t){this.childNodes.push(n),e.h.insertBefore(n,t)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),e.h.removeChild(n)}}}o(t(Z,{context:e.context},n.__v),e.v)}function $(n,e){var r=t(Y,{__v:n,h:e});return r.containerInfo=e,r}(B.prototype=new n).__a=function(n){var t=this,e=j(t.__v),r=t.l.get(n);return r[0]++,function(u){var o=function(){t.props.revealOrder?(r.push(u),H(t,n,r)):u()};e?e(o):o()}},B.prototype.render=function(n){this.i=null,this.l=new Map;var t=r(n.children);n.revealOrder&&\"b\"===n.revealOrder[0]&&t.reverse();for(var e=t.length;e--;)this.l.set(t[e],this.i=[1,0,this.i]);return n.children},B.prototype.componentDidUpdate=B.prototype.componentDidMount=function(){var n=this;this.l.forEach(function(t,e){H(n,e,t)})};var q=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.element\")||60103,G=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,J=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,K=/[A-Z0-9]/g,Q=\"undefined\"!=typeof document,X=function(n){return(\"undefined\"!=typeof Symbol&&\"symbol\"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(n)};function nn(n,t,e){return null==t.__k&&(t.textContent=\"\"),o(n,t),\"function\"==typeof e&&e(),n?n.__c:null}function tn(n,t,e){return i(n,t),\"function\"==typeof e&&e(),n?n.__c:null}n.prototype.isReactComponent={},[\"componentWillMount\",\"componentWillReceiveProps\",\"componentWillUpdate\"].forEach(function(t){Object.defineProperty(n.prototype,t,{configurable:!0,get:function(){return this[\"UNSAFE_\"+t]},set:function(n){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:n})}})});var en=e.event;function rn(){}function un(){return this.cancelBubble}function on(){return this.defaultPrevented}e.event=function(n){return en&&(n=en(n)),n.persist=rn,n.isPropagationStopped=un,n.isDefaultPrevented=on,n.nativeEvent=n};var ln,cn={enumerable:!1,configurable:!0,get:function(){return this.class}},fn=e.vnode;e.vnode=function(n){\"string\"==typeof n.type&&function(n){var t=n.props,e=n.type,u={},o=-1===e.indexOf(\"-\");for(var i in t){var l=t[i];if(!(\"value\"===i&&\"defaultValue\"in t&&null==l||Q&&\"children\"===i&&\"noscript\"===e||\"class\"===i||\"className\"===i)){var c=i.toLowerCase();\"defaultValue\"===i&&\"value\"in t&&null==t.value?i=\"value\":\"download\"===i&&!0===l?l=\"\":\"translate\"===c&&\"no\"===l?l=!1:\"o\"===c[0]&&\"n\"===c[1]?\"ondoubleclick\"===c?i=\"ondblclick\":\"onchange\"!==c||\"input\"!==e&&\"textarea\"!==e||X(t.type)?\"onfocus\"===c?i=\"onfocusin\":\"onblur\"===c?i=\"onfocusout\":J.test(i)&&(i=c):c=i=\"oninput\":o&&G.test(i)?i=i.replace(K,\"-$&\").toLowerCase():null===l&&(l=void 0),\"oninput\"===c&&u[i=c]&&(i=\"oninputCapture\"),u[i]=l}}\"select\"==e&&u.multiple&&Array.isArray(u.value)&&(u.value=r(t.children).forEach(function(n){n.props.selected=-1!=u.value.indexOf(n.props.value)})),\"select\"==e&&null!=u.defaultValue&&(u.value=r(t.children).forEach(function(n){n.props.selected=u.multiple?-1!=u.defaultValue.indexOf(n.props.value):u.defaultValue==n.props.value})),t.class&&!t.className?(u.class=t.class,Object.defineProperty(u,\"className\",cn)):(t.className&&!t.class||t.class&&t.className)&&(u.class=u.className=t.className),n.props=u}(n),n.$$typeof=q,fn&&fn(n)};var an=e.__r;e.__r=function(n){an&&an(n),ln=n.__c};var sn=e.diffed;e.diffed=function(n){sn&&sn(n);var t=n.props,e=n.__e;null!=e&&\"textarea\"===n.type&&\"value\"in t&&t.value!==e.value&&(e.value=null==t.value?\"\":t.value),ln=null};var hn={ReactCurrentDispatcher:{current:{readContext:function(n){return ln.__n[n.__c].props.value},useCallback:v,useContext:d,useDebugValue:m,useDeferredValue:w,useEffect:h,useId:p,useImperativeHandle:y,useInsertionEffect:I,useLayoutEffect:s,useMemo:_,useReducer:b,useRef:S,useState:a,useSyncExternalStore:C,useTransition:k}}},vn=\"18.3.1\";function dn(n){return t.bind(null,n)}function mn(n){return!!n&&n.$$typeof===q}function pn(n){return mn(n)&&n.type===u}function yn(n){return!!n&&!!n.displayName&&(\"string\"==typeof n.displayName||n.displayName instanceof String)&&n.displayName.startsWith(\"Memo(\")}function _n(n){return mn(n)?f.apply(null,arguments):n}function bn(n){return!!n.__k&&(o(null,n),!0)}function Sn(n){return n&&(n.base||1===n.nodeType&&n)||null}var gn=function(n,t){return n(t)},En=function(n,t){return n(t)},Cn=u,Rn=mn,xn={useState:a,useId:p,useReducer:b,useEffect:h,useLayoutEffect:s,useInsertionEffect:I,useTransition:k,useDeferredValue:w,useSyncExternalStore:C,startTransition:x,useRef:S,useImperativeHandle:y,useMemo:_,useCallback:v,useContext:d,useDebugValue:m,version:\"18.3.1\",Children:O,render:nn,hydrate:tn,unmountComponentAtNode:bn,createPortal:$,createElement:t,createContext:l,createFactory:dn,cloneElement:_n,createRef:c,Fragment:u,isValidElement:mn,isElement:Rn,isFragment:pn,isMemo:yn,findDOMNode:Sn,Component:n,PureComponent:N,memo:M,forwardRef:D,flushSync:En,unstable_batchedUpdates:gn,StrictMode:Cn,Suspense:P,SuspenseList:B,lazy:z,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:hn};export{O as Children,N as PureComponent,Cn as StrictMode,P as Suspense,B as SuspenseList,hn as __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_n as cloneElement,dn as createFactory,$ as createPortal,xn as default,Sn as findDOMNode,En as flushSync,D as forwardRef,tn as hydrate,Rn as isElement,pn as isFragment,yn as isMemo,mn as isValidElement,z as lazy,M as memo,nn as render,x as startTransition,bn as unmountComponentAtNode,gn as unstable_batchedUpdates,w as useDeferredValue,I as useInsertionEffect,C as useSyncExternalStore,k as useTransition,vn as version};\n//# sourceMappingURL=compat.module.js.map\n","/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */\n\nconst {\n  entries,\n  setPrototypeOf,\n  isFrozen,\n  getPrototypeOf,\n  getOwnPropertyDescriptor\n} = Object;\nlet {\n  freeze,\n  seal,\n  create\n} = Object; // eslint-disable-line import/no-mutable-exports\nlet {\n  apply,\n  construct\n} = typeof Reflect !== 'undefined' && Reflect;\nif (!freeze) {\n  freeze = function freeze(x) {\n    return x;\n  };\n}\nif (!seal) {\n  seal = function seal(x) {\n    return x;\n  };\n}\nif (!apply) {\n  apply = function apply(func, thisArg) {\n    for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n      args[_key - 2] = arguments[_key];\n    }\n    return func.apply(thisArg, args);\n  };\n}\nif (!construct) {\n  construct = function construct(Func) {\n    for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n      args[_key2 - 1] = arguments[_key2];\n    }\n    return new Func(...args);\n  };\n}\nconst arrayForEach = unapply(Array.prototype.forEach);\nconst arrayLastIndexOf = unapply(Array.prototype.lastIndexOf);\nconst arrayPop = unapply(Array.prototype.pop);\nconst arrayPush = unapply(Array.prototype.push);\nconst arraySplice = unapply(Array.prototype.splice);\nconst stringToLowerCase = unapply(String.prototype.toLowerCase);\nconst stringToString = unapply(String.prototype.toString);\nconst stringMatch = unapply(String.prototype.match);\nconst stringReplace = unapply(String.prototype.replace);\nconst stringIndexOf = unapply(String.prototype.indexOf);\nconst stringTrim = unapply(String.prototype.trim);\nconst objectHasOwnProperty = unapply(Object.prototype.hasOwnProperty);\nconst regExpTest = unapply(RegExp.prototype.test);\nconst typeErrorCreate = unconstruct(TypeError);\n/**\n * Creates a new function that calls the given function with a specified thisArg and arguments.\n *\n * @param func - The function to be wrapped and called.\n * @returns A new function that calls the given function with a specified thisArg and arguments.\n */\nfunction unapply(func) {\n  return function (thisArg) {\n    if (thisArg instanceof RegExp) {\n      thisArg.lastIndex = 0;\n    }\n    for (var _len3 = arguments.length, args = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n      args[_key3 - 1] = arguments[_key3];\n    }\n    return apply(func, thisArg, args);\n  };\n}\n/**\n * Creates a new function that constructs an instance of the given constructor function with the provided arguments.\n *\n * @param func - The constructor function to be wrapped and called.\n * @returns A new function that constructs an instance of the given constructor function with the provided arguments.\n */\nfunction unconstruct(Func) {\n  return function () {\n    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      args[_key4] = arguments[_key4];\n    }\n    return construct(Func, args);\n  };\n}\n/**\n * Add properties to a lookup table\n *\n * @param set - The set to which elements will be added.\n * @param array - The array containing elements to be added to the set.\n * @param transformCaseFunc - An optional function to transform the case of each element before adding to the set.\n * @returns The modified set with added elements.\n */\nfunction addToSet(set, array) {\n  let transformCaseFunc = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : stringToLowerCase;\n  if (setPrototypeOf) {\n    // Make 'in' and truthy checks like Boolean(set.constructor)\n    // independent of any properties defined on Object.prototype.\n    // Prevent prototype setters from intercepting set as a this value.\n    setPrototypeOf(set, null);\n  }\n  let l = array.length;\n  while (l--) {\n    let element = array[l];\n    if (typeof element === 'string') {\n      const lcElement = transformCaseFunc(element);\n      if (lcElement !== element) {\n        // Config presets (e.g. tags.js, attrs.js) are immutable.\n        if (!isFrozen(array)) {\n          array[l] = lcElement;\n        }\n        element = lcElement;\n      }\n    }\n    set[element] = true;\n  }\n  return set;\n}\n/**\n * Clean up an array to harden against CSPP\n *\n * @param array - The array to be cleaned.\n * @returns The cleaned version of the array\n */\nfunction cleanArray(array) {\n  for (let index = 0; index < array.length; index++) {\n    const isPropertyExist = objectHasOwnProperty(array, index);\n    if (!isPropertyExist) {\n      array[index] = null;\n    }\n  }\n  return array;\n}\n/**\n * Shallow clone an object\n *\n * @param object - The object to be cloned.\n * @returns A new object that copies the original.\n */\nfunction clone(object) {\n  const newObject = create(null);\n  for (const [property, value] of entries(object)) {\n    const isPropertyExist = objectHasOwnProperty(object, property);\n    if (isPropertyExist) {\n      if (Array.isArray(value)) {\n        newObject[property] = cleanArray(value);\n      } else if (value && typeof value === 'object' && value.constructor === Object) {\n        newObject[property] = clone(value);\n      } else {\n        newObject[property] = value;\n      }\n    }\n  }\n  return newObject;\n}\n/**\n * This method automatically checks if the prop is function or getter and behaves accordingly.\n *\n * @param object - The object to look up the getter function in its prototype chain.\n * @param prop - The property name for which to find the getter function.\n * @returns The getter function found in the prototype chain or a fallback function.\n */\nfunction lookupGetter(object, prop) {\n  while (object !== null) {\n    const desc = getOwnPropertyDescriptor(object, prop);\n    if (desc) {\n      if (desc.get) {\n        return unapply(desc.get);\n      }\n      if (typeof desc.value === 'function') {\n        return unapply(desc.value);\n      }\n    }\n    object = getPrototypeOf(object);\n  }\n  function fallbackValue() {\n    return null;\n  }\n  return fallbackValue;\n}\n\nconst html$1 = freeze(['a', 'abbr', 'acronym', 'address', 'area', 'article', 'aside', 'audio', 'b', 'bdi', 'bdo', 'big', 'blink', 'blockquote', 'body', 'br', 'button', 'canvas', 'caption', 'center', 'cite', 'code', 'col', 'colgroup', 'content', 'data', 'datalist', 'dd', 'decorator', 'del', 'details', 'dfn', 'dialog', 'dir', 'div', 'dl', 'dt', 'element', 'em', 'fieldset', 'figcaption', 'figure', 'font', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'head', 'header', 'hgroup', 'hr', 'html', 'i', 'img', 'input', 'ins', 'kbd', 'label', 'legend', 'li', 'main', 'map', 'mark', 'marquee', 'menu', 'menuitem', 'meter', 'nav', 'nobr', 'ol', 'optgroup', 'option', 'output', 'p', 'picture', 'pre', 'progress', 'q', 'rp', 'rt', 'ruby', 's', 'samp', 'search', 'section', 'select', 'shadow', 'slot', 'small', 'source', 'spacer', 'span', 'strike', 'strong', 'style', 'sub', 'summary', 'sup', 'table', 'tbody', 'td', 'template', 'textarea', 'tfoot', 'th', 'thead', 'time', 'tr', 'track', 'tt', 'u', 'ul', 'var', 'video', 'wbr']);\nconst svg$1 = freeze(['svg', 'a', 'altglyph', 'altglyphdef', 'altglyphitem', 'animatecolor', 'animatemotion', 'animatetransform', 'circle', 'clippath', 'defs', 'desc', 'ellipse', 'enterkeyhint', 'exportparts', 'filter', 'font', 'g', 'glyph', 'glyphref', 'hkern', 'image', 'inputmode', 'line', 'lineargradient', 'marker', 'mask', 'metadata', 'mpath', 'part', 'path', 'pattern', 'polygon', 'polyline', 'radialgradient', 'rect', 'stop', 'style', 'switch', 'symbol', 'text', 'textpath', 'title', 'tref', 'tspan', 'view', 'vkern']);\nconst svgFilters = freeze(['feBlend', 'feColorMatrix', 'feComponentTransfer', 'feComposite', 'feConvolveMatrix', 'feDiffuseLighting', 'feDisplacementMap', 'feDistantLight', 'feDropShadow', 'feFlood', 'feFuncA', 'feFuncB', 'feFuncG', 'feFuncR', 'feGaussianBlur', 'feImage', 'feMerge', 'feMergeNode', 'feMorphology', 'feOffset', 'fePointLight', 'feSpecularLighting', 'feSpotLight', 'feTile', 'feTurbulence']);\n// List of SVG elements that are disallowed by default.\n// We still need to know them so that we can do namespace\n// checks properly in case one wants to add them to\n// allow-list.\nconst svgDisallowed = freeze(['animate', 'color-profile', 'cursor', 'discard', 'font-face', 'font-face-format', 'font-face-name', 'font-face-src', 'font-face-uri', 'foreignobject', 'hatch', 'hatchpath', 'mesh', 'meshgradient', 'meshpatch', 'meshrow', 'missing-glyph', 'script', 'set', 'solidcolor', 'unknown', 'use']);\nconst mathMl$1 = freeze(['math', 'menclose', 'merror', 'mfenced', 'mfrac', 'mglyph', 'mi', 'mlabeledtr', 'mmultiscripts', 'mn', 'mo', 'mover', 'mpadded', 'mphantom', 'mroot', 'mrow', 'ms', 'mspace', 'msqrt', 'mstyle', 'msub', 'msup', 'msubsup', 'mtable', 'mtd', 'mtext', 'mtr', 'munder', 'munderover', 'mprescripts']);\n// Similarly to SVG, we want to know all MathML elements,\n// even those that we disallow by default.\nconst mathMlDisallowed = freeze(['maction', 'maligngroup', 'malignmark', 'mlongdiv', 'mscarries', 'mscarry', 'msgroup', 'mstack', 'msline', 'msrow', 'semantics', 'annotation', 'annotation-xml', 'mprescripts', 'none']);\nconst text = freeze(['#text']);\n\nconst html = freeze(['accept', 'action', 'align', 'alt', 'autocapitalize', 'autocomplete', 'autopictureinpicture', 'autoplay', 'background', 'bgcolor', 'border', 'capture', 'cellpadding', 'cellspacing', 'checked', 'cite', 'class', 'clear', 'color', 'cols', 'colspan', 'controls', 'controlslist', 'coords', 'crossorigin', 'datetime', 'decoding', 'default', 'dir', 'disabled', 'disablepictureinpicture', 'disableremoteplayback', 'download', 'draggable', 'enctype', 'enterkeyhint', 'exportparts', 'face', 'for', 'headers', 'height', 'hidden', 'high', 'href', 'hreflang', 'id', 'inert', 'inputmode', 'integrity', 'ismap', 'kind', 'label', 'lang', 'list', 'loading', 'loop', 'low', 'max', 'maxlength', 'media', 'method', 'min', 'minlength', 'multiple', 'muted', 'name', 'nonce', 'noshade', 'novalidate', 'nowrap', 'open', 'optimum', 'part', 'pattern', 'placeholder', 'playsinline', 'popover', 'popovertarget', 'popovertargetaction', 'poster', 'preload', 'pubdate', 'radiogroup', 'readonly', 'rel', 'required', 'rev', 'reversed', 'role', 'rows', 'rowspan', 'spellcheck', 'scope', 'selected', 'shape', 'size', 'sizes', 'slot', 'span', 'srclang', 'start', 'src', 'srcset', 'step', 'style', 'summary', 'tabindex', 'title', 'translate', 'type', 'usemap', 'valign', 'value', 'width', 'wrap', 'xmlns', 'slot']);\nconst svg = freeze(['accent-height', 'accumulate', 'additive', 'alignment-baseline', 'amplitude', 'ascent', 'attributename', 'attributetype', 'azimuth', 'basefrequency', 'baseline-shift', 'begin', 'bias', 'by', 'class', 'clip', 'clippathunits', 'clip-path', 'clip-rule', 'color', 'color-interpolation', 'color-interpolation-filters', 'color-profile', 'color-rendering', 'cx', 'cy', 'd', 'dx', 'dy', 'diffuseconstant', 'direction', 'display', 'divisor', 'dur', 'edgemode', 'elevation', 'end', 'exponent', 'fill', 'fill-opacity', 'fill-rule', 'filter', 'filterunits', 'flood-color', 'flood-opacity', 'font-family', 'font-size', 'font-size-adjust', 'font-stretch', 'font-style', 'font-variant', 'font-weight', 'fx', 'fy', 'g1', 'g2', 'glyph-name', 'glyphref', 'gradientunits', 'gradienttransform', 'height', 'href', 'id', 'image-rendering', 'in', 'in2', 'intercept', 'k', 'k1', 'k2', 'k3', 'k4', 'kerning', 'keypoints', 'keysplines', 'keytimes', 'lang', 'lengthadjust', 'letter-spacing', 'kernelmatrix', 'kernelunitlength', 'lighting-color', 'local', 'marker-end', 'marker-mid', 'marker-start', 'markerheight', 'markerunits', 'markerwidth', 'maskcontentunits', 'maskunits', 'max', 'mask', 'mask-type', 'media', 'method', 'mode', 'min', 'name', 'numoctaves', 'offset', 'operator', 'opacity', 'order', 'orient', 'orientation', 'origin', 'overflow', 'paint-order', 'path', 'pathlength', 'patterncontentunits', 'patterntransform', 'patternunits', 'points', 'preservealpha', 'preserveaspectratio', 'primitiveunits', 'r', 'rx', 'ry', 'radius', 'refx', 'refy', 'repeatcount', 'repeatdur', 'restart', 'result', 'rotate', 'scale', 'seed', 'shape-rendering', 'slope', 'specularconstant', 'specularexponent', 'spreadmethod', 'startoffset', 'stddeviation', 'stitchtiles', 'stop-color', 'stop-opacity', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke', 'stroke-width', 'style', 'surfacescale', 'systemlanguage', 'tabindex', 'tablevalues', 'targetx', 'targety', 'transform', 'transform-origin', 'text-anchor', 'text-decoration', 'text-rendering', 'textlength', 'type', 'u1', 'u2', 'unicode', 'values', 'viewbox', 'visibility', 'version', 'vert-adv-y', 'vert-origin-x', 'vert-origin-y', 'width', 'word-spacing', 'wrap', 'writing-mode', 'xchannelselector', 'ychannelselector', 'x', 'x1', 'x2', 'xmlns', 'y', 'y1', 'y2', 'z', 'zoomandpan']);\nconst mathMl = freeze(['accent', 'accentunder', 'align', 'bevelled', 'close', 'columnsalign', 'columnlines', 'columnspan', 'denomalign', 'depth', 'dir', 'display', 'displaystyle', 'encoding', 'fence', 'frame', 'height', 'href', 'id', 'largeop', 'length', 'linethickness', 'lspace', 'lquote', 'mathbackground', 'mathcolor', 'mathsize', 'mathvariant', 'maxsize', 'minsize', 'movablelimits', 'notation', 'numalign', 'open', 'rowalign', 'rowlines', 'rowspacing', 'rowspan', 'rspace', 'rquote', 'scriptlevel', 'scriptminsize', 'scriptsizemultiplier', 'selection', 'separator', 'separators', 'stretchy', 'subscriptshift', 'supscriptshift', 'symmetric', 'voffset', 'width', 'xmlns']);\nconst xml = freeze(['xlink:href', 'xml:id', 'xlink:title', 'xml:space', 'xmlns:xlink']);\n\n// eslint-disable-next-line unicorn/better-regex\nconst MUSTACHE_EXPR = seal(/\\{\\{[\\w\\W]*|[\\w\\W]*\\}\\}/gm); // Specify template detection regex for SAFE_FOR_TEMPLATES mode\nconst ERB_EXPR = seal(/<%[\\w\\W]*|[\\w\\W]*%>/gm);\nconst TMPLIT_EXPR = seal(/\\$\\{[\\w\\W]*/gm); // eslint-disable-line unicorn/better-regex\nconst DATA_ATTR = seal(/^data-[\\-\\w.\\u00B7-\\uFFFF]+$/); // eslint-disable-line no-useless-escape\nconst ARIA_ATTR = seal(/^aria-[\\-\\w]+$/); // eslint-disable-line no-useless-escape\nconst IS_ALLOWED_URI = seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i // eslint-disable-line no-useless-escape\n);\nconst IS_SCRIPT_OR_DATA = seal(/^(?:\\w+script|data):/i);\nconst ATTR_WHITESPACE = seal(/[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g // eslint-disable-line no-control-regex\n);\nconst DOCTYPE_NAME = seal(/^html$/i);\nconst CUSTOM_ELEMENT = seal(/^[a-z][.\\w]*(-[.\\w]+)+$/i);\n\nvar EXPRESSIONS = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  ARIA_ATTR: ARIA_ATTR,\n  ATTR_WHITESPACE: ATTR_WHITESPACE,\n  CUSTOM_ELEMENT: CUSTOM_ELEMENT,\n  DATA_ATTR: DATA_ATTR,\n  DOCTYPE_NAME: DOCTYPE_NAME,\n  ERB_EXPR: ERB_EXPR,\n  IS_ALLOWED_URI: IS_ALLOWED_URI,\n  IS_SCRIPT_OR_DATA: IS_SCRIPT_OR_DATA,\n  MUSTACHE_EXPR: MUSTACHE_EXPR,\n  TMPLIT_EXPR: TMPLIT_EXPR\n});\n\n/* eslint-disable @typescript-eslint/indent */\n// https://developer.mozilla.org/en-US/docs/Web/API/Node/nodeType\nconst NODE_TYPE = {\n  element: 1,\n  attribute: 2,\n  text: 3,\n  cdataSection: 4,\n  entityReference: 5,\n  // Deprecated\n  entityNode: 6,\n  // Deprecated\n  progressingInstruction: 7,\n  comment: 8,\n  document: 9,\n  documentType: 10,\n  documentFragment: 11,\n  notation: 12 // Deprecated\n};\nconst getGlobal = function getGlobal() {\n  return typeof window === 'undefined' ? null : window;\n};\n/**\n * Creates a no-op policy for internal use only.\n * Don't export this function outside this module!\n * @param trustedTypes The policy factory.\n * @param purifyHostElement The Script element used to load DOMPurify (to determine policy name suffix).\n * @return The policy created (or null, if Trusted Types\n * are not supported or creating the policy failed).\n */\nconst _createTrustedTypesPolicy = function _createTrustedTypesPolicy(trustedTypes, purifyHostElement) {\n  if (typeof trustedTypes !== 'object' || typeof trustedTypes.createPolicy !== 'function') {\n    return null;\n  }\n  // Allow the callers to control the unique policy name\n  // by adding a data-tt-policy-suffix to the script element with the DOMPurify.\n  // Policy creation with duplicate names throws in Trusted Types.\n  let suffix = null;\n  const ATTR_NAME = 'data-tt-policy-suffix';\n  if (purifyHostElement && purifyHostElement.hasAttribute(ATTR_NAME)) {\n    suffix = purifyHostElement.getAttribute(ATTR_NAME);\n  }\n  const policyName = 'dompurify' + (suffix ? '#' + suffix : '');\n  try {\n    return trustedTypes.createPolicy(policyName, {\n      createHTML(html) {\n        return html;\n      },\n      createScriptURL(scriptUrl) {\n        return scriptUrl;\n      }\n    });\n  } catch (_) {\n    // Policy creation failed (most likely another DOMPurify script has\n    // already run). Skip creating the policy, as this will only cause errors\n    // if TT are enforced.\n    console.warn('TrustedTypes policy ' + policyName + ' could not be created.');\n    return null;\n  }\n};\nconst _createHooksMap = function _createHooksMap() {\n  return {\n    afterSanitizeAttributes: [],\n    afterSanitizeElements: [],\n    afterSanitizeShadowDOM: [],\n    beforeSanitizeAttributes: [],\n    beforeSanitizeElements: [],\n    beforeSanitizeShadowDOM: [],\n    uponSanitizeAttribute: [],\n    uponSanitizeElement: [],\n    uponSanitizeShadowNode: []\n  };\n};\nfunction createDOMPurify() {\n  let window = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : getGlobal();\n  const DOMPurify = root => createDOMPurify(root);\n  DOMPurify.version = '3.3.1';\n  DOMPurify.removed = [];\n  if (!window || !window.document || window.document.nodeType !== NODE_TYPE.document || !window.Element) {\n    // Not running in a browser, provide a factory function\n    // so that you can pass your own Window\n    DOMPurify.isSupported = false;\n    return DOMPurify;\n  }\n  let {\n    document\n  } = window;\n  const originalDocument = document;\n  const currentScript = originalDocument.currentScript;\n  const {\n    DocumentFragment,\n    HTMLTemplateElement,\n    Node,\n    Element,\n    NodeFilter,\n    NamedNodeMap = window.NamedNodeMap || window.MozNamedAttrMap,\n    HTMLFormElement,\n    DOMParser,\n    trustedTypes\n  } = window;\n  const ElementPrototype = Element.prototype;\n  const cloneNode = lookupGetter(ElementPrototype, 'cloneNode');\n  const remove = lookupGetter(ElementPrototype, 'remove');\n  const getNextSibling = lookupGetter(ElementPrototype, 'nextSibling');\n  const getChildNodes = lookupGetter(ElementPrototype, 'childNodes');\n  const getParentNode = lookupGetter(ElementPrototype, 'parentNode');\n  // As per issue #47, the web-components registry is inherited by a\n  // new document created via createHTMLDocument. As per the spec\n  // (http://w3c.github.io/webcomponents/spec/custom/#creating-and-passing-registries)\n  // a new empty registry is used when creating a template contents owner\n  // document, so we use that as our parent document to ensure nothing\n  // is inherited.\n  if (typeof HTMLTemplateElement === 'function') {\n    const template = document.createElement('template');\n    if (template.content && template.content.ownerDocument) {\n      document = template.content.ownerDocument;\n    }\n  }\n  let trustedTypesPolicy;\n  let emptyHTML = '';\n  const {\n    implementation,\n    createNodeIterator,\n    createDocumentFragment,\n    getElementsByTagName\n  } = document;\n  const {\n    importNode\n  } = originalDocument;\n  let hooks = _createHooksMap();\n  /**\n   * Expose whether this browser supports running the full DOMPurify.\n   */\n  DOMPurify.isSupported = typeof entries === 'function' && typeof getParentNode === 'function' && implementation && implementation.createHTMLDocument !== undefined;\n  const {\n    MUSTACHE_EXPR,\n    ERB_EXPR,\n    TMPLIT_EXPR,\n    DATA_ATTR,\n    ARIA_ATTR,\n    IS_SCRIPT_OR_DATA,\n    ATTR_WHITESPACE,\n    CUSTOM_ELEMENT\n  } = EXPRESSIONS;\n  let {\n    IS_ALLOWED_URI: IS_ALLOWED_URI$1\n  } = EXPRESSIONS;\n  /**\n   * We consider the elements and attributes below to be safe. Ideally\n   * don't add any new ones but feel free to remove unwanted ones.\n   */\n  /* allowed element names */\n  let ALLOWED_TAGS = null;\n  const DEFAULT_ALLOWED_TAGS = addToSet({}, [...html$1, ...svg$1, ...svgFilters, ...mathMl$1, ...text]);\n  /* Allowed attribute names */\n  let ALLOWED_ATTR = null;\n  const DEFAULT_ALLOWED_ATTR = addToSet({}, [...html, ...svg, ...mathMl, ...xml]);\n  /*\n   * Configure how DOMPurify should handle custom elements and their attributes as well as customized built-in elements.\n   * @property {RegExp|Function|null} tagNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any custom elements)\n   * @property {RegExp|Function|null} attributeNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any attributes not on the allow list)\n   * @property {boolean} allowCustomizedBuiltInElements allow custom elements derived from built-ins if they pass CUSTOM_ELEMENT_HANDLING.tagNameCheck. Default: `false`.\n   */\n  let CUSTOM_ELEMENT_HANDLING = Object.seal(create(null, {\n    tagNameCheck: {\n      writable: true,\n      configurable: false,\n      enumerable: true,\n      value: null\n    },\n    attributeNameCheck: {\n      writable: true,\n      configurable: false,\n      enumerable: true,\n      value: null\n    },\n    allowCustomizedBuiltInElements: {\n      writable: true,\n      configurable: false,\n      enumerable: true,\n      value: false\n    }\n  }));\n  /* Explicitly forbidden tags (overrides ALLOWED_TAGS/ADD_TAGS) */\n  let FORBID_TAGS = null;\n  /* Explicitly forbidden attributes (overrides ALLOWED_ATTR/ADD_ATTR) */\n  let FORBID_ATTR = null;\n  /* Config object to store ADD_TAGS/ADD_ATTR functions (when used as functions) */\n  const EXTRA_ELEMENT_HANDLING = Object.seal(create(null, {\n    tagCheck: {\n      writable: true,\n      configurable: false,\n      enumerable: true,\n      value: null\n    },\n    attributeCheck: {\n      writable: true,\n      configurable: false,\n      enumerable: true,\n      value: null\n    }\n  }));\n  /* Decide if ARIA attributes are okay */\n  let ALLOW_ARIA_ATTR = true;\n  /* Decide if custom data attributes are okay */\n  let ALLOW_DATA_ATTR = true;\n  /* Decide if unknown protocols are okay */\n  let ALLOW_UNKNOWN_PROTOCOLS = false;\n  /* Decide if self-closing tags in attributes are allowed.\n   * Usually removed due to a mXSS issue in jQuery 3.0 */\n  let ALLOW_SELF_CLOSE_IN_ATTR = true;\n  /* Output should be safe for common template engines.\n   * This means, DOMPurify removes data attributes, mustaches and ERB\n   */\n  let SAFE_FOR_TEMPLATES = false;\n  /* Output should be safe even for XML used within HTML and alike.\n   * This means, DOMPurify removes comments when containing risky content.\n   */\n  let SAFE_FOR_XML = true;\n  /* Decide if document with <html>... should be returned */\n  let WHOLE_DOCUMENT = false;\n  /* Track whether config is already set on this instance of DOMPurify. */\n  let SET_CONFIG = false;\n  /* Decide if all elements (e.g. style, script) must be children of\n   * document.body. By default, browsers might move them to document.head */\n  let FORCE_BODY = false;\n  /* Decide if a DOM `HTMLBodyElement` should be returned, instead of a html\n   * string (or a TrustedHTML object if Trusted Types are supported).\n   * If `WHOLE_DOCUMENT` is enabled a `HTMLHtmlElement` will be returned instead\n   */\n  let RETURN_DOM = false;\n  /* Decide if a DOM `DocumentFragment` should be returned, instead of a html\n   * string  (or a TrustedHTML object if Trusted Types are supported) */\n  let RETURN_DOM_FRAGMENT = false;\n  /* Try to return a Trusted Type object instead of a string, return a string in\n   * case Trusted Types are not supported  */\n  let RETURN_TRUSTED_TYPE = false;\n  /* Output should be free from DOM clobbering attacks?\n   * This sanitizes markups named with colliding, clobberable built-in DOM APIs.\n   */\n  let SANITIZE_DOM = true;\n  /* Achieve full DOM Clobbering protection by isolating the namespace of named\n   * properties and JS variables, mitigating attacks that abuse the HTML/DOM spec rules.\n   *\n   * HTML/DOM spec rules that enable DOM Clobbering:\n   *   - Named Access on Window (7.3.3)\n   *   - DOM Tree Accessors (3.1.5)\n   *   - Form Element Parent-Child Relations (4.10.3)\n   *   - Iframe srcdoc / Nested WindowProxies (4.8.5)\n   *   - HTMLCollection (4.2.10.2)\n   *\n   * Namespace isolation is implemented by prefixing `id` and `name` attributes\n   * with a constant string, i.e., `user-content-`\n   */\n  let SANITIZE_NAMED_PROPS = false;\n  const SANITIZE_NAMED_PROPS_PREFIX = 'user-content-';\n  /* Keep element content when removing element? */\n  let KEEP_CONTENT = true;\n  /* If a `Node` is passed to sanitize(), then performs sanitization in-place instead\n   * of importing it into a new Document and returning a sanitized copy */\n  let IN_PLACE = false;\n  /* Allow usage of profiles like html, svg and mathMl */\n  let USE_PROFILES = {};\n  /* Tags to ignore content of when KEEP_CONTENT is true */\n  let FORBID_CONTENTS = null;\n  const DEFAULT_FORBID_CONTENTS = addToSet({}, ['annotation-xml', 'audio', 'colgroup', 'desc', 'foreignobject', 'head', 'iframe', 'math', 'mi', 'mn', 'mo', 'ms', 'mtext', 'noembed', 'noframes', 'noscript', 'plaintext', 'script', 'style', 'svg', 'template', 'thead', 'title', 'video', 'xmp']);\n  /* Tags that are safe for data: URIs */\n  let DATA_URI_TAGS = null;\n  const DEFAULT_DATA_URI_TAGS = addToSet({}, ['audio', 'video', 'img', 'source', 'image', 'track']);\n  /* Attributes safe for values like \"javascript:\" */\n  let URI_SAFE_ATTRIBUTES = null;\n  const DEFAULT_URI_SAFE_ATTRIBUTES = addToSet({}, ['alt', 'class', 'for', 'id', 'label', 'name', 'pattern', 'placeholder', 'role', 'summary', 'title', 'value', 'style', 'xmlns']);\n  const MATHML_NAMESPACE = 'http://www.w3.org/1998/Math/MathML';\n  const SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\n  const HTML_NAMESPACE = 'http://www.w3.org/1999/xhtml';\n  /* Document namespace */\n  let NAMESPACE = HTML_NAMESPACE;\n  let IS_EMPTY_INPUT = false;\n  /* Allowed XHTML+XML namespaces */\n  let ALLOWED_NAMESPACES = null;\n  const DEFAULT_ALLOWED_NAMESPACES = addToSet({}, [MATHML_NAMESPACE, SVG_NAMESPACE, HTML_NAMESPACE], stringToString);\n  let MATHML_TEXT_INTEGRATION_POINTS = addToSet({}, ['mi', 'mo', 'mn', 'ms', 'mtext']);\n  let HTML_INTEGRATION_POINTS = addToSet({}, ['annotation-xml']);\n  // Certain elements are allowed in both SVG and HTML\n  // namespace. We need to specify them explicitly\n  // so that they don't get erroneously deleted from\n  // HTML namespace.\n  const COMMON_SVG_AND_HTML_ELEMENTS = addToSet({}, ['title', 'style', 'font', 'a', 'script']);\n  /* Parsing of strict XHTML documents */\n  let PARSER_MEDIA_TYPE = null;\n  const SUPPORTED_PARSER_MEDIA_TYPES = ['application/xhtml+xml', 'text/html'];\n  const DEFAULT_PARSER_MEDIA_TYPE = 'text/html';\n  let transformCaseFunc = null;\n  /* Keep a reference to config to pass to hooks */\n  let CONFIG = null;\n  /* Ideally, do not touch anything below this line */\n  /* ______________________________________________ */\n  const formElement = document.createElement('form');\n  const isRegexOrFunction = function isRegexOrFunction(testValue) {\n    return testValue instanceof RegExp || testValue instanceof Function;\n  };\n  /**\n   * _parseConfig\n   *\n   * @param cfg optional config literal\n   */\n  // eslint-disable-next-line complexity\n  const _parseConfig = function _parseConfig() {\n    let cfg = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    if (CONFIG && CONFIG === cfg) {\n      return;\n    }\n    /* Shield configuration object from tampering */\n    if (!cfg || typeof cfg !== 'object') {\n      cfg = {};\n    }\n    /* Shield configuration object from prototype pollution */\n    cfg = clone(cfg);\n    PARSER_MEDIA_TYPE =\n    // eslint-disable-next-line unicorn/prefer-includes\n    SUPPORTED_PARSER_MEDIA_TYPES.indexOf(cfg.PARSER_MEDIA_TYPE) === -1 ? DEFAULT_PARSER_MEDIA_TYPE : cfg.PARSER_MEDIA_TYPE;\n    // HTML tags and attributes are not case-sensitive, converting to lowercase. Keeping XHTML as is.\n    transformCaseFunc = PARSER_MEDIA_TYPE === 'application/xhtml+xml' ? stringToString : stringToLowerCase;\n    /* Set configuration parameters */\n    ALLOWED_TAGS = objectHasOwnProperty(cfg, 'ALLOWED_TAGS') ? addToSet({}, cfg.ALLOWED_TAGS, transformCaseFunc) : DEFAULT_ALLOWED_TAGS;\n    ALLOWED_ATTR = objectHasOwnProperty(cfg, 'ALLOWED_ATTR') ? addToSet({}, cfg.ALLOWED_ATTR, transformCaseFunc) : DEFAULT_ALLOWED_ATTR;\n    ALLOWED_NAMESPACES = objectHasOwnProperty(cfg, 'ALLOWED_NAMESPACES') ? addToSet({}, cfg.ALLOWED_NAMESPACES, stringToString) : DEFAULT_ALLOWED_NAMESPACES;\n    URI_SAFE_ATTRIBUTES = objectHasOwnProperty(cfg, 'ADD_URI_SAFE_ATTR') ? addToSet(clone(DEFAULT_URI_SAFE_ATTRIBUTES), cfg.ADD_URI_SAFE_ATTR, transformCaseFunc) : DEFAULT_URI_SAFE_ATTRIBUTES;\n    DATA_URI_TAGS = objectHasOwnProperty(cfg, 'ADD_DATA_URI_TAGS') ? addToSet(clone(DEFAULT_DATA_URI_TAGS), cfg.ADD_DATA_URI_TAGS, transformCaseFunc) : DEFAULT_DATA_URI_TAGS;\n    FORBID_CONTENTS = objectHasOwnProperty(cfg, 'FORBID_CONTENTS') ? addToSet({}, cfg.FORBID_CONTENTS, transformCaseFunc) : DEFAULT_FORBID_CONTENTS;\n    FORBID_TAGS = objectHasOwnProperty(cfg, 'FORBID_TAGS') ? addToSet({}, cfg.FORBID_TAGS, transformCaseFunc) : clone({});\n    FORBID_ATTR = objectHasOwnProperty(cfg, 'FORBID_ATTR') ? addToSet({}, cfg.FORBID_ATTR, transformCaseFunc) : clone({});\n    USE_PROFILES = objectHasOwnProperty(cfg, 'USE_PROFILES') ? cfg.USE_PROFILES : false;\n    ALLOW_ARIA_ATTR = cfg.ALLOW_ARIA_ATTR !== false; // Default true\n    ALLOW_DATA_ATTR = cfg.ALLOW_DATA_ATTR !== false; // Default true\n    ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false; // Default false\n    ALLOW_SELF_CLOSE_IN_ATTR = cfg.ALLOW_SELF_CLOSE_IN_ATTR !== false; // Default true\n    SAFE_FOR_TEMPLATES = cfg.SAFE_FOR_TEMPLATES || false; // Default false\n    SAFE_FOR_XML = cfg.SAFE_FOR_XML !== false; // Default true\n    WHOLE_DOCUMENT = cfg.WHOLE_DOCUMENT || false; // Default false\n    RETURN_DOM = cfg.RETURN_DOM || false; // Default false\n    RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT || false; // Default false\n    RETURN_TRUSTED_TYPE = cfg.RETURN_TRUSTED_TYPE || false; // Default false\n    FORCE_BODY = cfg.FORCE_BODY || false; // Default false\n    SANITIZE_DOM = cfg.SANITIZE_DOM !== false; // Default true\n    SANITIZE_NAMED_PROPS = cfg.SANITIZE_NAMED_PROPS || false; // Default false\n    KEEP_CONTENT = cfg.KEEP_CONTENT !== false; // Default true\n    IN_PLACE = cfg.IN_PLACE || false; // Default false\n    IS_ALLOWED_URI$1 = cfg.ALLOWED_URI_REGEXP || IS_ALLOWED_URI;\n    NAMESPACE = cfg.NAMESPACE || HTML_NAMESPACE;\n    MATHML_TEXT_INTEGRATION_POINTS = cfg.MATHML_TEXT_INTEGRATION_POINTS || MATHML_TEXT_INTEGRATION_POINTS;\n    HTML_INTEGRATION_POINTS = cfg.HTML_INTEGRATION_POINTS || HTML_INTEGRATION_POINTS;\n    CUSTOM_ELEMENT_HANDLING = cfg.CUSTOM_ELEMENT_HANDLING || {};\n    if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck)) {\n      CUSTOM_ELEMENT_HANDLING.tagNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck;\n    }\n    if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)) {\n      CUSTOM_ELEMENT_HANDLING.attributeNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck;\n    }\n    if (cfg.CUSTOM_ELEMENT_HANDLING && typeof cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements === 'boolean') {\n      CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements = cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements;\n    }\n    if (SAFE_FOR_TEMPLATES) {\n      ALLOW_DATA_ATTR = false;\n    }\n    if (RETURN_DOM_FRAGMENT) {\n      RETURN_DOM = true;\n    }\n    /* Parse profile info */\n    if (USE_PROFILES) {\n      ALLOWED_TAGS = addToSet({}, text);\n      ALLOWED_ATTR = [];\n      if (USE_PROFILES.html === true) {\n        addToSet(ALLOWED_TAGS, html$1);\n        addToSet(ALLOWED_ATTR, html);\n      }\n      if (USE_PROFILES.svg === true) {\n        addToSet(ALLOWED_TAGS, svg$1);\n        addToSet(ALLOWED_ATTR, svg);\n        addToSet(ALLOWED_ATTR, xml);\n      }\n      if (USE_PROFILES.svgFilters === true) {\n        addToSet(ALLOWED_TAGS, svgFilters);\n        addToSet(ALLOWED_ATTR, svg);\n        addToSet(ALLOWED_ATTR, xml);\n      }\n      if (USE_PROFILES.mathMl === true) {\n        addToSet(ALLOWED_TAGS, mathMl$1);\n        addToSet(ALLOWED_ATTR, mathMl);\n        addToSet(ALLOWED_ATTR, xml);\n      }\n    }\n    /* Merge configuration parameters */\n    if (cfg.ADD_TAGS) {\n      if (typeof cfg.ADD_TAGS === 'function') {\n        EXTRA_ELEMENT_HANDLING.tagCheck = cfg.ADD_TAGS;\n      } else {\n        if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {\n          ALLOWED_TAGS = clone(ALLOWED_TAGS);\n        }\n        addToSet(ALLOWED_TAGS, cfg.ADD_TAGS, transformCaseFunc);\n      }\n    }\n    if (cfg.ADD_ATTR) {\n      if (typeof cfg.ADD_ATTR === 'function') {\n        EXTRA_ELEMENT_HANDLING.attributeCheck = cfg.ADD_ATTR;\n      } else {\n        if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {\n          ALLOWED_ATTR = clone(ALLOWED_ATTR);\n        }\n        addToSet(ALLOWED_ATTR, cfg.ADD_ATTR, transformCaseFunc);\n      }\n    }\n    if (cfg.ADD_URI_SAFE_ATTR) {\n      addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR, transformCaseFunc);\n    }\n    if (cfg.FORBID_CONTENTS) {\n      if (FORBID_CONTENTS === DEFAULT_FORBID_CONTENTS) {\n        FORBID_CONTENTS = clone(FORBID_CONTENTS);\n      }\n      addToSet(FORBID_CONTENTS, cfg.FORBID_CONTENTS, transformCaseFunc);\n    }\n    if (cfg.ADD_FORBID_CONTENTS) {\n      if (FORBID_CONTENTS === DEFAULT_FORBID_CONTENTS) {\n        FORBID_CONTENTS = clone(FORBID_CONTENTS);\n      }\n      addToSet(FORBID_CONTENTS, cfg.ADD_FORBID_CONTENTS, transformCaseFunc);\n    }\n    /* Add #text in case KEEP_CONTENT is set to true */\n    if (KEEP_CONTENT) {\n      ALLOWED_TAGS['#text'] = true;\n    }\n    /* Add html, head and body to ALLOWED_TAGS in case WHOLE_DOCUMENT is true */\n    if (WHOLE_DOCUMENT) {\n      addToSet(ALLOWED_TAGS, ['html', 'head', 'body']);\n    }\n    /* Add tbody to ALLOWED_TAGS in case tables are permitted, see #286, #365 */\n    if (ALLOWED_TAGS.table) {\n      addToSet(ALLOWED_TAGS, ['tbody']);\n      delete FORBID_TAGS.tbody;\n    }\n    if (cfg.TRUSTED_TYPES_POLICY) {\n      if (typeof cfg.TRUSTED_TYPES_POLICY.createHTML !== 'function') {\n        throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a \"createHTML\" hook.');\n      }\n      if (typeof cfg.TRUSTED_TYPES_POLICY.createScriptURL !== 'function') {\n        throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a \"createScriptURL\" hook.');\n      }\n      // Overwrite existing TrustedTypes policy.\n      trustedTypesPolicy = cfg.TRUSTED_TYPES_POLICY;\n      // Sign local variables required by `sanitize`.\n      emptyHTML = trustedTypesPolicy.createHTML('');\n    } else {\n      // Uninitialized policy, attempt to initialize the internal dompurify policy.\n      if (trustedTypesPolicy === undefined) {\n        trustedTypesPolicy = _createTrustedTypesPolicy(trustedTypes, currentScript);\n      }\n      // If creating the internal policy succeeded sign internal variables.\n      if (trustedTypesPolicy !== null && typeof emptyHTML === 'string') {\n        emptyHTML = trustedTypesPolicy.createHTML('');\n      }\n    }\n    // Prevent further manipulation of configuration.\n    // Not available in IE8, Safari 5, etc.\n    if (freeze) {\n      freeze(cfg);\n    }\n    CONFIG = cfg;\n  };\n  /* Keep track of all possible SVG and MathML tags\n   * so that we can perform the namespace checks\n   * correctly. */\n  const ALL_SVG_TAGS = addToSet({}, [...svg$1, ...svgFilters, ...svgDisallowed]);\n  const ALL_MATHML_TAGS = addToSet({}, [...mathMl$1, ...mathMlDisallowed]);\n  /**\n   * @param element a DOM element whose namespace is being checked\n   * @returns Return false if the element has a\n   *  namespace that a spec-compliant parser would never\n   *  return. Return true otherwise.\n   */\n  const _checkValidNamespace = function _checkValidNamespace(element) {\n    let parent = getParentNode(element);\n    // In JSDOM, if we're inside shadow DOM, then parentNode\n    // can be null. We just simulate parent in this case.\n    if (!parent || !parent.tagName) {\n      parent = {\n        namespaceURI: NAMESPACE,\n        tagName: 'template'\n      };\n    }\n    const tagName = stringToLowerCase(element.tagName);\n    const parentTagName = stringToLowerCase(parent.tagName);\n    if (!ALLOWED_NAMESPACES[element.namespaceURI]) {\n      return false;\n    }\n    if (element.namespaceURI === SVG_NAMESPACE) {\n      // The only way to switch from HTML namespace to SVG\n      // is via <svg>. If it happens via any other tag, then\n      // it should be killed.\n      if (parent.namespaceURI === HTML_NAMESPACE) {\n        return tagName === 'svg';\n      }\n      // The only way to switch from MathML to SVG is via`\n      // svg if parent is either <annotation-xml> or MathML\n      // text integration points.\n      if (parent.namespaceURI === MATHML_NAMESPACE) {\n        return tagName === 'svg' && (parentTagName === 'annotation-xml' || MATHML_TEXT_INTEGRATION_POINTS[parentTagName]);\n      }\n      // We only allow elements that are defined in SVG\n      // spec. All others are disallowed in SVG namespace.\n      return Boolean(ALL_SVG_TAGS[tagName]);\n    }\n    if (element.namespaceURI === MATHML_NAMESPACE) {\n      // The only way to switch from HTML namespace to MathML\n      // is via <math>. If it happens via any other tag, then\n      // it should be killed.\n      if (parent.namespaceURI === HTML_NAMESPACE) {\n        return tagName === 'math';\n      }\n      // The only way to switch from SVG to MathML is via\n      // <math> and HTML integration points\n      if (parent.namespaceURI === SVG_NAMESPACE) {\n        return tagName === 'math' && HTML_INTEGRATION_POINTS[parentTagName];\n      }\n      // We only allow elements that are defined in MathML\n      // spec. All others are disallowed in MathML namespace.\n      return Boolean(ALL_MATHML_TAGS[tagName]);\n    }\n    if (element.namespaceURI === HTML_NAMESPACE) {\n      // The only way to switch from SVG to HTML is via\n      // HTML integration points, and from MathML to HTML\n      // is via MathML text integration points\n      if (parent.namespaceURI === SVG_NAMESPACE && !HTML_INTEGRATION_POINTS[parentTagName]) {\n        return false;\n      }\n      if (parent.namespaceURI === MATHML_NAMESPACE && !MATHML_TEXT_INTEGRATION_POINTS[parentTagName]) {\n        return false;\n      }\n      // We disallow tags that are specific for MathML\n      // or SVG and should never appear in HTML namespace\n      return !ALL_MATHML_TAGS[tagName] && (COMMON_SVG_AND_HTML_ELEMENTS[tagName] || !ALL_SVG_TAGS[tagName]);\n    }\n    // For XHTML and XML documents that support custom namespaces\n    if (PARSER_MEDIA_TYPE === 'application/xhtml+xml' && ALLOWED_NAMESPACES[element.namespaceURI]) {\n      return true;\n    }\n    // The code should never reach this place (this means\n    // that the element somehow got namespace that is not\n    // HTML, SVG, MathML or allowed via ALLOWED_NAMESPACES).\n    // Return false just in case.\n    return false;\n  };\n  /**\n   * _forceRemove\n   *\n   * @param node a DOM node\n   */\n  const _forceRemove = function _forceRemove(node) {\n    arrayPush(DOMPurify.removed, {\n      element: node\n    });\n    try {\n      // eslint-disable-next-line unicorn/prefer-dom-node-remove\n      getParentNode(node).removeChild(node);\n    } catch (_) {\n      remove(node);\n    }\n  };\n  /**\n   * _removeAttribute\n   *\n   * @param name an Attribute name\n   * @param element a DOM node\n   */\n  const _removeAttribute = function _removeAttribute(name, element) {\n    try {\n      arrayPush(DOMPurify.removed, {\n        attribute: element.getAttributeNode(name),\n        from: element\n      });\n    } catch (_) {\n      arrayPush(DOMPurify.removed, {\n        attribute: null,\n        from: element\n      });\n    }\n    element.removeAttribute(name);\n    // We void attribute values for unremovable \"is\" attributes\n    if (name === 'is') {\n      if (RETURN_DOM || RETURN_DOM_FRAGMENT) {\n        try {\n          _forceRemove(element);\n        } catch (_) {}\n      } else {\n        try {\n          element.setAttribute(name, '');\n        } catch (_) {}\n      }\n    }\n  };\n  /**\n   * _initDocument\n   *\n   * @param dirty - a string of dirty markup\n   * @return a DOM, filled with the dirty markup\n   */\n  const _initDocument = function _initDocument(dirty) {\n    /* Create a HTML document */\n    let doc = null;\n    let leadingWhitespace = null;\n    if (FORCE_BODY) {\n      dirty = '<remove></remove>' + dirty;\n    } else {\n      /* If FORCE_BODY isn't used, leading whitespace needs to be preserved manually */\n      const matches = stringMatch(dirty, /^[\\r\\n\\t ]+/);\n      leadingWhitespace = matches && matches[0];\n    }\n    if (PARSER_MEDIA_TYPE === 'application/xhtml+xml' && NAMESPACE === HTML_NAMESPACE) {\n      // Root of XHTML doc must contain xmlns declaration (see https://www.w3.org/TR/xhtml1/normative.html#strict)\n      dirty = '<html xmlns=\"http://www.w3.org/1999/xhtml\"><head></head><body>' + dirty + '</body></html>';\n    }\n    const dirtyPayload = trustedTypesPolicy ? trustedTypesPolicy.createHTML(dirty) : dirty;\n    /*\n     * Use the DOMParser API by default, fallback later if needs be\n     * DOMParser not work for svg when has multiple root element.\n     */\n    if (NAMESPACE === HTML_NAMESPACE) {\n      try {\n        doc = new DOMParser().parseFromString(dirtyPayload, PARSER_MEDIA_TYPE);\n      } catch (_) {}\n    }\n    /* Use createHTMLDocument in case DOMParser is not available */\n    if (!doc || !doc.documentElement) {\n      doc = implementation.createDocument(NAMESPACE, 'template', null);\n      try {\n        doc.documentElement.innerHTML = IS_EMPTY_INPUT ? emptyHTML : dirtyPayload;\n      } catch (_) {\n        // Syntax error if dirtyPayload is invalid xml\n      }\n    }\n    const body = doc.body || doc.documentElement;\n    if (dirty && leadingWhitespace) {\n      body.insertBefore(document.createTextNode(leadingWhitespace), body.childNodes[0] || null);\n    }\n    /* Work on whole document or just its body */\n    if (NAMESPACE === HTML_NAMESPACE) {\n      return getElementsByTagName.call(doc, WHOLE_DOCUMENT ? 'html' : 'body')[0];\n    }\n    return WHOLE_DOCUMENT ? doc.documentElement : body;\n  };\n  /**\n   * Creates a NodeIterator object that you can use to traverse filtered lists of nodes or elements in a document.\n   *\n   * @param root The root element or node to start traversing on.\n   * @return The created NodeIterator\n   */\n  const _createNodeIterator = function _createNodeIterator(root) {\n    return createNodeIterator.call(root.ownerDocument || root, root,\n    // eslint-disable-next-line no-bitwise\n    NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT | NodeFilter.SHOW_TEXT | NodeFilter.SHOW_PROCESSING_INSTRUCTION | NodeFilter.SHOW_CDATA_SECTION, null);\n  };\n  /**\n   * _isClobbered\n   *\n   * @param element element to check for clobbering attacks\n   * @return true if clobbered, false if safe\n   */\n  const _isClobbered = function _isClobbered(element) {\n    return element instanceof HTMLFormElement && (typeof element.nodeName !== 'string' || typeof element.textContent !== 'string' || typeof element.removeChild !== 'function' || !(element.attributes instanceof NamedNodeMap) || typeof element.removeAttribute !== 'function' || typeof element.setAttribute !== 'function' || typeof element.namespaceURI !== 'string' || typeof element.insertBefore !== 'function' || typeof element.hasChildNodes !== 'function');\n  };\n  /**\n   * Checks whether the given object is a DOM node.\n   *\n   * @param value object to check whether it's a DOM node\n   * @return true is object is a DOM node\n   */\n  const _isNode = function _isNode(value) {\n    return typeof Node === 'function' && value instanceof Node;\n  };\n  function _executeHooks(hooks, currentNode, data) {\n    arrayForEach(hooks, hook => {\n      hook.call(DOMPurify, currentNode, data, CONFIG);\n    });\n  }\n  /**\n   * _sanitizeElements\n   *\n   * @protect nodeName\n   * @protect textContent\n   * @protect removeChild\n   * @param currentNode to check for permission to exist\n   * @return true if node was killed, false if left alive\n   */\n  const _sanitizeElements = function _sanitizeElements(currentNode) {\n    let content = null;\n    /* Execute a hook if present */\n    _executeHooks(hooks.beforeSanitizeElements, currentNode, null);\n    /* Check if element is clobbered or can clobber */\n    if (_isClobbered(currentNode)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Now let's check the element's type and name */\n    const tagName = transformCaseFunc(currentNode.nodeName);\n    /* Execute a hook if present */\n    _executeHooks(hooks.uponSanitizeElement, currentNode, {\n      tagName,\n      allowedTags: ALLOWED_TAGS\n    });\n    /* Detect mXSS attempts abusing namespace confusion */\n    if (SAFE_FOR_XML && currentNode.hasChildNodes() && !_isNode(currentNode.firstElementChild) && regExpTest(/<[/\\w!]/g, currentNode.innerHTML) && regExpTest(/<[/\\w!]/g, currentNode.textContent)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Remove any occurrence of processing instructions */\n    if (currentNode.nodeType === NODE_TYPE.progressingInstruction) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Remove any kind of possibly harmful comments */\n    if (SAFE_FOR_XML && currentNode.nodeType === NODE_TYPE.comment && regExpTest(/<[/\\w]/g, currentNode.data)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Remove element if anything forbids its presence */\n    if (!(EXTRA_ELEMENT_HANDLING.tagCheck instanceof Function && EXTRA_ELEMENT_HANDLING.tagCheck(tagName)) && (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName])) {\n      /* Check if we have a custom element to handle */\n      if (!FORBID_TAGS[tagName] && _isBasicCustomElement(tagName)) {\n        if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, tagName)) {\n          return false;\n        }\n        if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(tagName)) {\n          return false;\n        }\n      }\n      /* Keep content except for bad-listed elements */\n      if (KEEP_CONTENT && !FORBID_CONTENTS[tagName]) {\n        const parentNode = getParentNode(currentNode) || currentNode.parentNode;\n        const childNodes = getChildNodes(currentNode) || currentNode.childNodes;\n        if (childNodes && parentNode) {\n          const childCount = childNodes.length;\n          for (let i = childCount - 1; i >= 0; --i) {\n            const childClone = cloneNode(childNodes[i], true);\n            childClone.__removalCount = (currentNode.__removalCount || 0) + 1;\n            parentNode.insertBefore(childClone, getNextSibling(currentNode));\n          }\n        }\n      }\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Check whether element has a valid namespace */\n    if (currentNode instanceof Element && !_checkValidNamespace(currentNode)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Make sure that older browsers don't get fallback-tag mXSS */\n    if ((tagName === 'noscript' || tagName === 'noembed' || tagName === 'noframes') && regExpTest(/<\\/no(script|embed|frames)/i, currentNode.innerHTML)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Sanitize element content to be template-safe */\n    if (SAFE_FOR_TEMPLATES && currentNode.nodeType === NODE_TYPE.text) {\n      /* Get the element's text content */\n      content = currentNode.textContent;\n      arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], expr => {\n        content = stringReplace(content, expr, ' ');\n      });\n      if (currentNode.textContent !== content) {\n        arrayPush(DOMPurify.removed, {\n          element: currentNode.cloneNode()\n        });\n        currentNode.textContent = content;\n      }\n    }\n    /* Execute a hook if present */\n    _executeHooks(hooks.afterSanitizeElements, currentNode, null);\n    return false;\n  };\n  /**\n   * _isValidAttribute\n   *\n   * @param lcTag Lowercase tag name of containing element.\n   * @param lcName Lowercase attribute name.\n   * @param value Attribute value.\n   * @return Returns true if `value` is valid, otherwise false.\n   */\n  // eslint-disable-next-line complexity\n  const _isValidAttribute = function _isValidAttribute(lcTag, lcName, value) {\n    /* Make sure attribute cannot clobber */\n    if (SANITIZE_DOM && (lcName === 'id' || lcName === 'name') && (value in document || value in formElement)) {\n      return false;\n    }\n    /* Allow valid data-* attributes: At least one character after \"-\"\n        (https://html.spec.whatwg.org/multipage/dom.html#embedding-custom-non-visible-data-with-the-data-*-attributes)\n        XML-compatible (https://html.spec.whatwg.org/multipage/infrastructure.html#xml-compatible and http://www.w3.org/TR/xml/#d0e804)\n        We don't need to check the value; it's always URI safe. */\n    if (ALLOW_DATA_ATTR && !FORBID_ATTR[lcName] && regExpTest(DATA_ATTR, lcName)) ; else if (ALLOW_ARIA_ATTR && regExpTest(ARIA_ATTR, lcName)) ; else if (EXTRA_ELEMENT_HANDLING.attributeCheck instanceof Function && EXTRA_ELEMENT_HANDLING.attributeCheck(lcName, lcTag)) ; else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {\n      if (\n      // First condition does a very basic check if a) it's basically a valid custom element tagname AND\n      // b) if the tagName passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n      // and c) if the attribute name passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.attributeNameCheck\n      _isBasicCustomElement(lcTag) && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, lcTag) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(lcTag)) && (CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.attributeNameCheck, lcName) || CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.attributeNameCheck(lcName, lcTag)) ||\n      // Alternative, second condition checks if it's an `is`-attribute, AND\n      // the value passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n      lcName === 'is' && CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, value) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(value))) ; else {\n        return false;\n      }\n      /* Check value is safe. First, is attr inert? If so, is safe */\n    } else if (URI_SAFE_ATTRIBUTES[lcName]) ; else if (regExpTest(IS_ALLOWED_URI$1, stringReplace(value, ATTR_WHITESPACE, ''))) ; else if ((lcName === 'src' || lcName === 'xlink:href' || lcName === 'href') && lcTag !== 'script' && stringIndexOf(value, 'data:') === 0 && DATA_URI_TAGS[lcTag]) ; else if (ALLOW_UNKNOWN_PROTOCOLS && !regExpTest(IS_SCRIPT_OR_DATA, stringReplace(value, ATTR_WHITESPACE, ''))) ; else if (value) {\n      return false;\n    } else ;\n    return true;\n  };\n  /**\n   * _isBasicCustomElement\n   * checks if at least one dash is included in tagName, and it's not the first char\n   * for more sophisticated checking see https://github.com/sindresorhus/validate-element-name\n   *\n   * @param tagName name of the tag of the node to sanitize\n   * @returns Returns true if the tag name meets the basic criteria for a custom element, otherwise false.\n   */\n  const _isBasicCustomElement = function _isBasicCustomElement(tagName) {\n    return tagName !== 'annotation-xml' && stringMatch(tagName, CUSTOM_ELEMENT);\n  };\n  /**\n   * _sanitizeAttributes\n   *\n   * @protect attributes\n   * @protect nodeName\n   * @protect removeAttribute\n   * @protect setAttribute\n   *\n   * @param currentNode to sanitize\n   */\n  const _sanitizeAttributes = function _sanitizeAttributes(currentNode) {\n    /* Execute a hook if present */\n    _executeHooks(hooks.beforeSanitizeAttributes, currentNode, null);\n    const {\n      attributes\n    } = currentNode;\n    /* Check if we have attributes; if not we might have a text node */\n    if (!attributes || _isClobbered(currentNode)) {\n      return;\n    }\n    const hookEvent = {\n      attrName: '',\n      attrValue: '',\n      keepAttr: true,\n      allowedAttributes: ALLOWED_ATTR,\n      forceKeepAttr: undefined\n    };\n    let l = attributes.length;\n    /* Go backwards over all attributes; safely remove bad ones */\n    while (l--) {\n      const attr = attributes[l];\n      const {\n        name,\n        namespaceURI,\n        value: attrValue\n      } = attr;\n      const lcName = transformCaseFunc(name);\n      const initValue = attrValue;\n      let value = name === 'value' ? initValue : stringTrim(initValue);\n      /* Execute a hook if present */\n      hookEvent.attrName = lcName;\n      hookEvent.attrValue = value;\n      hookEvent.keepAttr = true;\n      hookEvent.forceKeepAttr = undefined; // Allows developers to see this is a property they can set\n      _executeHooks(hooks.uponSanitizeAttribute, currentNode, hookEvent);\n      value = hookEvent.attrValue;\n      /* Full DOM Clobbering protection via namespace isolation,\n       * Prefix id and name attributes with `user-content-`\n       */\n      if (SANITIZE_NAMED_PROPS && (lcName === 'id' || lcName === 'name')) {\n        // Remove the attribute with this value\n        _removeAttribute(name, currentNode);\n        // Prefix the value and later re-create the attribute with the sanitized value\n        value = SANITIZE_NAMED_PROPS_PREFIX + value;\n      }\n      /* Work around a security issue with comments inside attributes */\n      if (SAFE_FOR_XML && regExpTest(/((--!?|])>)|<\\/(style|title|textarea)/i, value)) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n      /* Make sure we cannot easily use animated hrefs, even if animations are allowed */\n      if (lcName === 'attributename' && stringMatch(value, 'href')) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n      /* Did the hooks approve of the attribute? */\n      if (hookEvent.forceKeepAttr) {\n        continue;\n      }\n      /* Did the hooks approve of the attribute? */\n      if (!hookEvent.keepAttr) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n      /* Work around a security issue in jQuery 3.0 */\n      if (!ALLOW_SELF_CLOSE_IN_ATTR && regExpTest(/\\/>/i, value)) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n      /* Sanitize attribute content to be template-safe */\n      if (SAFE_FOR_TEMPLATES) {\n        arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], expr => {\n          value = stringReplace(value, expr, ' ');\n        });\n      }\n      /* Is `value` valid for this attribute? */\n      const lcTag = transformCaseFunc(currentNode.nodeName);\n      if (!_isValidAttribute(lcTag, lcName, value)) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n      /* Handle attributes that require Trusted Types */\n      if (trustedTypesPolicy && typeof trustedTypes === 'object' && typeof trustedTypes.getAttributeType === 'function') {\n        if (namespaceURI) ; else {\n          switch (trustedTypes.getAttributeType(lcTag, lcName)) {\n            case 'TrustedHTML':\n              {\n                value = trustedTypesPolicy.createHTML(value);\n                break;\n              }\n            case 'TrustedScriptURL':\n              {\n                value = trustedTypesPolicy.createScriptURL(value);\n                break;\n              }\n          }\n        }\n      }\n      /* Handle invalid data-* attribute set by try-catching it */\n      if (value !== initValue) {\n        try {\n          if (namespaceURI) {\n            currentNode.setAttributeNS(namespaceURI, name, value);\n          } else {\n            /* Fallback to setAttribute() for browser-unrecognized namespaces e.g. \"x-schema\". */\n            currentNode.setAttribute(name, value);\n          }\n          if (_isClobbered(currentNode)) {\n            _forceRemove(currentNode);\n          } else {\n            arrayPop(DOMPurify.removed);\n          }\n        } catch (_) {\n          _removeAttribute(name, currentNode);\n        }\n      }\n    }\n    /* Execute a hook if present */\n    _executeHooks(hooks.afterSanitizeAttributes, currentNode, null);\n  };\n  /**\n   * _sanitizeShadowDOM\n   *\n   * @param fragment to iterate over recursively\n   */\n  const _sanitizeShadowDOM = function _sanitizeShadowDOM(fragment) {\n    let shadowNode = null;\n    const shadowIterator = _createNodeIterator(fragment);\n    /* Execute a hook if present */\n    _executeHooks(hooks.beforeSanitizeShadowDOM, fragment, null);\n    while (shadowNode = shadowIterator.nextNode()) {\n      /* Execute a hook if present */\n      _executeHooks(hooks.uponSanitizeShadowNode, shadowNode, null);\n      /* Sanitize tags and elements */\n      _sanitizeElements(shadowNode);\n      /* Check attributes next */\n      _sanitizeAttributes(shadowNode);\n      /* Deep shadow DOM detected */\n      if (shadowNode.content instanceof DocumentFragment) {\n        _sanitizeShadowDOM(shadowNode.content);\n      }\n    }\n    /* Execute a hook if present */\n    _executeHooks(hooks.afterSanitizeShadowDOM, fragment, null);\n  };\n  // eslint-disable-next-line complexity\n  DOMPurify.sanitize = function (dirty) {\n    let cfg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let body = null;\n    let importedNode = null;\n    let currentNode = null;\n    let returnNode = null;\n    /* Make sure we have a string to sanitize.\n      DO NOT return early, as this will return the wrong type if\n      the user has requested a DOM object rather than a string */\n    IS_EMPTY_INPUT = !dirty;\n    if (IS_EMPTY_INPUT) {\n      dirty = '<!-->';\n    }\n    /* Stringify, in case dirty is an object */\n    if (typeof dirty !== 'string' && !_isNode(dirty)) {\n      if (typeof dirty.toString === 'function') {\n        dirty = dirty.toString();\n        if (typeof dirty !== 'string') {\n          throw typeErrorCreate('dirty is not a string, aborting');\n        }\n      } else {\n        throw typeErrorCreate('toString is not a function');\n      }\n    }\n    /* Return dirty HTML if DOMPurify cannot run */\n    if (!DOMPurify.isSupported) {\n      return dirty;\n    }\n    /* Assign config vars */\n    if (!SET_CONFIG) {\n      _parseConfig(cfg);\n    }\n    /* Clean up removed elements */\n    DOMPurify.removed = [];\n    /* Check if dirty is correctly typed for IN_PLACE */\n    if (typeof dirty === 'string') {\n      IN_PLACE = false;\n    }\n    if (IN_PLACE) {\n      /* Do some early pre-sanitization to avoid unsafe root nodes */\n      if (dirty.nodeName) {\n        const tagName = transformCaseFunc(dirty.nodeName);\n        if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n          throw typeErrorCreate('root node is forbidden and cannot be sanitized in-place');\n        }\n      }\n    } else if (dirty instanceof Node) {\n      /* If dirty is a DOM element, append to an empty document to avoid\n         elements being stripped by the parser */\n      body = _initDocument('<!---->');\n      importedNode = body.ownerDocument.importNode(dirty, true);\n      if (importedNode.nodeType === NODE_TYPE.element && importedNode.nodeName === 'BODY') {\n        /* Node is already a body, use as is */\n        body = importedNode;\n      } else if (importedNode.nodeName === 'HTML') {\n        body = importedNode;\n      } else {\n        // eslint-disable-next-line unicorn/prefer-dom-node-append\n        body.appendChild(importedNode);\n      }\n    } else {\n      /* Exit directly if we have nothing to do */\n      if (!RETURN_DOM && !SAFE_FOR_TEMPLATES && !WHOLE_DOCUMENT &&\n      // eslint-disable-next-line unicorn/prefer-includes\n      dirty.indexOf('<') === -1) {\n        return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(dirty) : dirty;\n      }\n      /* Initialize the document to work on */\n      body = _initDocument(dirty);\n      /* Check we have a DOM node from the data */\n      if (!body) {\n        return RETURN_DOM ? null : RETURN_TRUSTED_TYPE ? emptyHTML : '';\n      }\n    }\n    /* Remove first element node (ours) if FORCE_BODY is set */\n    if (body && FORCE_BODY) {\n      _forceRemove(body.firstChild);\n    }\n    /* Get node iterator */\n    const nodeIterator = _createNodeIterator(IN_PLACE ? dirty : body);\n    /* Now start iterating over the created document */\n    while (currentNode = nodeIterator.nextNode()) {\n      /* Sanitize tags and elements */\n      _sanitizeElements(currentNode);\n      /* Check attributes next */\n      _sanitizeAttributes(currentNode);\n      /* Shadow DOM detected, sanitize it */\n      if (currentNode.content instanceof DocumentFragment) {\n        _sanitizeShadowDOM(currentNode.content);\n      }\n    }\n    /* If we sanitized `dirty` in-place, return it. */\n    if (IN_PLACE) {\n      return dirty;\n    }\n    /* Return sanitized string or DOM */\n    if (RETURN_DOM) {\n      if (RETURN_DOM_FRAGMENT) {\n        returnNode = createDocumentFragment.call(body.ownerDocument);\n        while (body.firstChild) {\n          // eslint-disable-next-line unicorn/prefer-dom-node-append\n          returnNode.appendChild(body.firstChild);\n        }\n      } else {\n        returnNode = body;\n      }\n      if (ALLOWED_ATTR.shadowroot || ALLOWED_ATTR.shadowrootmode) {\n        /*\n          AdoptNode() is not used because internal state is not reset\n          (e.g. the past names map of a HTMLFormElement), this is safe\n          in theory but we would rather not risk another attack vector.\n          The state that is cloned by importNode() is explicitly defined\n          by the specs.\n        */\n        returnNode = importNode.call(originalDocument, returnNode, true);\n      }\n      return returnNode;\n    }\n    let serializedHTML = WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;\n    /* Serialize doctype if allowed */\n    if (WHOLE_DOCUMENT && ALLOWED_TAGS['!doctype'] && body.ownerDocument && body.ownerDocument.doctype && body.ownerDocument.doctype.name && regExpTest(DOCTYPE_NAME, body.ownerDocument.doctype.name)) {\n      serializedHTML = '<!DOCTYPE ' + body.ownerDocument.doctype.name + '>\\n' + serializedHTML;\n    }\n    /* Sanitize final string template-safe */\n    if (SAFE_FOR_TEMPLATES) {\n      arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], expr => {\n        serializedHTML = stringReplace(serializedHTML, expr, ' ');\n      });\n    }\n    return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(serializedHTML) : serializedHTML;\n  };\n  DOMPurify.setConfig = function () {\n    let cfg = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    _parseConfig(cfg);\n    SET_CONFIG = true;\n  };\n  DOMPurify.clearConfig = function () {\n    CONFIG = null;\n    SET_CONFIG = false;\n  };\n  DOMPurify.isValidAttribute = function (tag, attr, value) {\n    /* Initialize shared config vars if necessary. */\n    if (!CONFIG) {\n      _parseConfig({});\n    }\n    const lcTag = transformCaseFunc(tag);\n    const lcName = transformCaseFunc(attr);\n    return _isValidAttribute(lcTag, lcName, value);\n  };\n  DOMPurify.addHook = function (entryPoint, hookFunction) {\n    if (typeof hookFunction !== 'function') {\n      return;\n    }\n    arrayPush(hooks[entryPoint], hookFunction);\n  };\n  DOMPurify.removeHook = function (entryPoint, hookFunction) {\n    if (hookFunction !== undefined) {\n      const index = arrayLastIndexOf(hooks[entryPoint], hookFunction);\n      return index === -1 ? undefined : arraySplice(hooks[entryPoint], index, 1)[0];\n    }\n    return arrayPop(hooks[entryPoint]);\n  };\n  DOMPurify.removeHooks = function (entryPoint) {\n    hooks[entryPoint] = [];\n  };\n  DOMPurify.removeAllHooks = function () {\n    hooks = _createHooksMap();\n  };\n  return DOMPurify;\n}\nvar purify = createDOMPurify();\n\nexport { purify as default };\n//# sourceMappingURL=purify.es.mjs.map\n","/**\n * marked v17.0.1 - a markdown parser\n * Copyright (c) 2018-2025, MarkedJS. (MIT License)\n * Copyright (c) 2011-2018, Christopher Jeffrey. (MIT License)\n * https://github.com/markedjs/marked\n */\n\n/**\n * DO NOT EDIT THIS FILE\n * The code in this file is generated from files in ./src/\n */\n\nfunction L(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var T=L();function Z(u){T=u}var C={exec:()=>null};function k(u,e=\"\"){let t=typeof u==\"string\"?u:u.source,n={replace:(r,i)=>{let s=typeof i==\"string\"?i:i.source;return s=s.replace(m.caret,\"$1\"),t=t.replace(r,s),n},getRegex:()=>new RegExp(t,e)};return n}var me=(()=>{try{return!!new RegExp(\"(?<=1)(?<!1)\")}catch{return!1}})(),m={codeRemoveIndent:/^(?: {1,4}| {0,3}\\t)/gm,outputLinkReplace:/\\\\([\\[\\]])/g,indentCodeCompensation:/^(\\s+)(?:```)/,beginningSpace:/^\\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\\n/g,tabCharGlobal:/\\t/g,multipleSpaceGlobal:/\\s+/g,blankLine:/^[ \\t]*$/,doubleBlankLine:/\\n[ \\t]*\\n[ \\t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\\n {0,3}((?:=+|-+) *)(?=\\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \\t]?/gm,listReplaceTabs:/^\\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\\[[ xX]\\] +\\S/,listReplaceTask:/^\\[[ xX]\\] +/,listTaskCheckbox:/\\[[ xX]\\]/,anyLine:/\\n.*\\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\\||\\| *$/g,tableRowBlankLine:/\\n[ \\t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\\s|>)/i,endPreScriptTag:/^<\\/(pre|code|kbd|script)(\\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'\"]*[^\\s])\\s+(['\"])(.*)\\2/,unicodeAlphaNumeric:/[\\p{L}\\p{N}]/u,escapeTest:/[&<>\"']/,escapeReplace:/[&<>\"']/g,escapeTestNoEncode:/[<>\"']|&(?!(#\\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\\w+);)/,escapeReplaceNoEncode:/[<>\"']|&(?!(#\\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\\w+);)/g,unescapeTest:/&(#(?:\\d+)|(?:#x[0-9A-Fa-f]+)|(?:\\w+));?/ig,caret:/(^|[^\\[])\\^/g,percentDecode:/%25/g,findPipe:/\\|/g,splitPipe:/ \\|/,slashPipe:/\\\\\\|/g,carriageReturn:/\\r\\n|\\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\\S*/,endingNewline:/\\n$/,listItemRegex:u=>new RegExp(`^( {0,3}${u})((?:[\t ][^\\\\n]*)?(?:\\\\n|$))`),nextBulletRegex:u=>new RegExp(`^ {0,${Math.min(3,u-1)}}(?:[*+-]|\\\\d{1,9}[.)])((?:[ \t][^\\\\n]*)?(?:\\\\n|$))`),hrRegex:u=>new RegExp(`^ {0,${Math.min(3,u-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\\\* *){3,})(?:\\\\n+|$)`),fencesBeginRegex:u=>new RegExp(`^ {0,${Math.min(3,u-1)}}(?:\\`\\`\\`|~~~)`),headingBeginRegex:u=>new RegExp(`^ {0,${Math.min(3,u-1)}}#`),htmlBeginRegex:u=>new RegExp(`^ {0,${Math.min(3,u-1)}}<(?:[a-z].*>|!--)`,\"i\")},xe=/^(?:[ \\t]*(?:\\n|$))+/,be=/^((?: {4}| {0,3}\\t)[^\\n]+(?:\\n(?:[ \\t]*(?:\\n|$))*)?)+/,Re=/^ {0,3}(`{3,}(?=[^`\\n]*(?:\\n|$))|~{3,})([^\\n]*)(?:\\n|$)(?:|([\\s\\S]*?)(?:\\n|$))(?: {0,3}\\1[~`]* *(?=\\n|$)|$)/,I=/^ {0,3}((?:-[\\t ]*){3,}|(?:_[ \\t]*){3,}|(?:\\*[ \\t]*){3,})(?:\\n+|$)/,Te=/^ {0,3}(#{1,6})(?=\\s|$)(.*)(?:\\n+|$)/,N=/(?:[*+-]|\\d{1,9}[.)])/,re=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\\n(?!\\s*?\\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\\n {0,3}(=+|-+) *(?:\\n+|$)/,se=k(re).replace(/bull/g,N).replace(/blockCode/g,/(?: {4}| {0,3}\\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\\n>]+>\\n/).replace(/\\|table/g,\"\").getRegex(),Oe=k(re).replace(/bull/g,N).replace(/blockCode/g,/(?: {4}| {0,3}\\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\\n>]+>\\n/).replace(/table/g,/ {0,3}\\|?(?:[:\\- ]*\\|)+[\\:\\- ]*\\n/).getRegex(),Q=/^([^\\n]+(?:\\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\\n)[^\\n]+)*)/,we=/^[^\\n]+/,F=/(?!\\s*\\])(?:\\\\[\\s\\S]|[^\\[\\]\\\\])+/,ye=k(/^ {0,3}\\[(label)\\]: *(?:\\n[ \\t]*)?([^<\\s][^\\s]*|<.*?>)(?:(?: +(?:\\n[ \\t]*)?| *\\n[ \\t]*)(title))? *(?:\\n+|$)/).replace(\"label\",F).replace(\"title\",/(?:\"(?:\\\\\"?|[^\"\\\\])*\"|'[^'\\n]*(?:\\n[^'\\n]+)*\\n?'|\\([^()]*\\))/).getRegex(),Pe=k(/^( {0,3}bull)([ \\t][^\\n]+?)?(?:\\n|$)/).replace(/bull/g,N).getRegex(),v=\"address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul\",j=/<!--(?:-?>|[\\s\\S]*?(?:-->|$))/,Se=k(\"^ {0,3}(?:<(script|pre|style|textarea)[\\\\s>][\\\\s\\\\S]*?(?:</\\\\1>[^\\\\n]*\\\\n+|$)|comment[^\\\\n]*(\\\\n+|$)|<\\\\?[\\\\s\\\\S]*?(?:\\\\?>\\\\n*|$)|<![A-Z][\\\\s\\\\S]*?(?:>\\\\n*|$)|<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?(?:\\\\]\\\\]>\\\\n*|$)|</?(tag)(?: +|\\\\n|/?>)[\\\\s\\\\S]*?(?:(?:\\\\n[ \t]*)+\\\\n|$)|<(?!script|pre|style|textarea)([a-z][\\\\w-]*)(?:attribute)*? */?>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:(?:\\\\n[ \t]*)+\\\\n|$)|</(?!script|pre|style|textarea)[a-z][\\\\w-]*\\\\s*>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:(?:\\\\n[ \t]*)+\\\\n|$))\",\"i\").replace(\"comment\",j).replace(\"tag\",v).replace(\"attribute\",/ +[a-zA-Z:_][\\w.:-]*(?: *= *\"[^\"\\n]*\"| *= *'[^'\\n]*'| *= *[^\\s\"'=<>`]+)?/).getRegex(),ie=k(Q).replace(\"hr\",I).replace(\"heading\",\" {0,3}#{1,6}(?:\\\\s|$)\").replace(\"|lheading\",\"\").replace(\"|table\",\"\").replace(\"blockquote\",\" {0,3}>\").replace(\"fences\",\" {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n\").replace(\"list\",\" {0,3}(?:[*+-]|1[.)]) \").replace(\"html\",\"</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|textarea|!--)\").replace(\"tag\",v).getRegex(),$e=k(/^( {0,3}> ?(paragraph|[^\\n]*)(?:\\n|$))+/).replace(\"paragraph\",ie).getRegex(),U={blockquote:$e,code:be,def:ye,fences:Re,heading:Te,hr:I,html:Se,lheading:se,list:Pe,newline:xe,paragraph:ie,table:C,text:we},te=k(\"^ *([^\\\\n ].*)\\\\n {0,3}((?:\\\\| *)?:?-+:? *(?:\\\\| *:?-+:? *)*(?:\\\\| *)?)(?:\\\\n((?:(?! *\\\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\\\n|$))*)\\\\n*|$)\").replace(\"hr\",I).replace(\"heading\",\" {0,3}#{1,6}(?:\\\\s|$)\").replace(\"blockquote\",\" {0,3}>\").replace(\"code\",\"(?: {4}| {0,3}\t)[^\\\\n]\").replace(\"fences\",\" {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n\").replace(\"list\",\" {0,3}(?:[*+-]|1[.)]) \").replace(\"html\",\"</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|textarea|!--)\").replace(\"tag\",v).getRegex(),_e={...U,lheading:Oe,table:te,paragraph:k(Q).replace(\"hr\",I).replace(\"heading\",\" {0,3}#{1,6}(?:\\\\s|$)\").replace(\"|lheading\",\"\").replace(\"table\",te).replace(\"blockquote\",\" {0,3}>\").replace(\"fences\",\" {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n\").replace(\"list\",\" {0,3}(?:[*+-]|1[.)]) \").replace(\"html\",\"</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|textarea|!--)\").replace(\"tag\",v).getRegex()},Le={...U,html:k(`^ *(?:comment *(?:\\\\n|\\\\s*$)|<(tag)[\\\\s\\\\S]+?</\\\\1> *(?:\\\\n{2,}|\\\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\\\s[^'\"/>\\\\s]*)*?/?> *(?:\\\\n{2,}|\\\\s*$))`).replace(\"comment\",j).replace(/tag/g,\"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\\\b)\\\\w+(?!:|[^\\\\w\\\\s@]*@)\\\\b\").getRegex(),def:/^ *\\[([^\\]]+)\\]: *<?([^\\s>]+)>?(?: +([\"(][^\\n]+[\")]))? *(?:\\n+|$)/,heading:/^(#{1,6})(.*)(?:\\n+|$)/,fences:C,lheading:/^(.+?)\\n {0,3}(=+|-+) *(?:\\n+|$)/,paragraph:k(Q).replace(\"hr\",I).replace(\"heading\",` *#{1,6} *[^\n]`).replace(\"lheading\",se).replace(\"|table\",\"\").replace(\"blockquote\",\" {0,3}>\").replace(\"|fences\",\"\").replace(\"|list\",\"\").replace(\"|html\",\"\").replace(\"|tag\",\"\").getRegex()},Me=/^\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/,ze=/^(`+)([^`]|[^`][\\s\\S]*?[^`])\\1(?!`)/,oe=/^( {2,}|\\\\)\\n(?!\\s*$)/,Ae=/^(`+|[^`])(?:(?= {2,}\\n)|[\\s\\S]*?(?:(?=[\\\\<!\\[`*_]|\\b_|$)|[^ ](?= {2,}\\n)))/,D=/[\\p{P}\\p{S}]/u,K=/[\\s\\p{P}\\p{S}]/u,ae=/[^\\s\\p{P}\\p{S}]/u,Ce=k(/^((?![*_])punctSpace)/,\"u\").replace(/punctSpace/g,K).getRegex(),le=/(?!~)[\\p{P}\\p{S}]/u,Ie=/(?!~)[\\s\\p{P}\\p{S}]/u,Ee=/(?:[^\\s\\p{P}\\p{S}]|~)/u,Be=k(/link|precode-code|html/,\"g\").replace(\"link\",/\\[(?:[^\\[\\]`]|(?<a>`+)[^`]+\\k<a>(?!`))*?\\]\\((?:\\\\[\\s\\S]|[^\\\\\\(\\)]|\\((?:\\\\[\\s\\S]|[^\\\\\\(\\)])*\\))*\\)/).replace(\"precode-\",me?\"(?<!`)()\":\"(^^|[^`])\").replace(\"code\",/(?<b>`+)[^`]+\\k<b>(?!`)/).replace(\"html\",/<(?! )[^<>]*?>/).getRegex(),ue=/^(?:\\*+(?:((?!\\*)punct)|[^\\s*]))|^_+(?:((?!_)punct)|([^\\s_]))/,qe=k(ue,\"u\").replace(/punct/g,D).getRegex(),ve=k(ue,\"u\").replace(/punct/g,le).getRegex(),pe=\"^[^_*]*?__[^_*]*?\\\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\\\*)punct(\\\\*+)(?=[\\\\s]|$)|notPunctSpace(\\\\*+)(?!\\\\*)(?=punctSpace|$)|(?!\\\\*)punctSpace(\\\\*+)(?=notPunctSpace)|[\\\\s](\\\\*+)(?!\\\\*)(?=punct)|(?!\\\\*)punct(\\\\*+)(?!\\\\*)(?=punct)|notPunctSpace(\\\\*+)(?=notPunctSpace)\",De=k(pe,\"gu\").replace(/notPunctSpace/g,ae).replace(/punctSpace/g,K).replace(/punct/g,D).getRegex(),He=k(pe,\"gu\").replace(/notPunctSpace/g,Ee).replace(/punctSpace/g,Ie).replace(/punct/g,le).getRegex(),Ze=k(\"^[^_*]*?\\\\*\\\\*[^_*]*?_[^_*]*?(?=\\\\*\\\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)\",\"gu\").replace(/notPunctSpace/g,ae).replace(/punctSpace/g,K).replace(/punct/g,D).getRegex(),Ge=k(/\\\\(punct)/,\"gu\").replace(/punct/g,D).getRegex(),Ne=k(/^<(scheme:[^\\s\\x00-\\x1f<>]*|email)>/).replace(\"scheme\",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace(\"email\",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Qe=k(j).replace(\"(?:-->|$)\",\"-->\").getRegex(),Fe=k(\"^comment|^</[a-zA-Z][\\\\w:-]*\\\\s*>|^<[a-zA-Z][\\\\w-]*(?:attribute)*?\\\\s*/?>|^<\\\\?[\\\\s\\\\S]*?\\\\?>|^<![a-zA-Z]+\\\\s[\\\\s\\\\S]*?>|^<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>\").replace(\"comment\",Qe).replace(\"attribute\",/\\s+[a-zA-Z:_][\\w.:-]*(?:\\s*=\\s*\"[^\"]*\"|\\s*=\\s*'[^']*'|\\s*=\\s*[^\\s\"'=<>`]+)?/).getRegex(),q=/(?:\\[(?:\\\\[\\s\\S]|[^\\[\\]\\\\])*\\]|\\\\[\\s\\S]|`+[^`]*?`+(?!`)|[^\\[\\]\\\\`])*?/,je=k(/^!?\\[(label)\\]\\(\\s*(href)(?:(?:[ \\t]*(?:\\n[ \\t]*)?)(title))?\\s*\\)/).replace(\"label\",q).replace(\"href\",/<(?:\\\\.|[^\\n<>\\\\])+>|[^ \\t\\n\\x00-\\x1f]*/).replace(\"title\",/\"(?:\\\\\"?|[^\"\\\\])*\"|'(?:\\\\'?|[^'\\\\])*'|\\((?:\\\\\\)?|[^)\\\\])*\\)/).getRegex(),ce=k(/^!?\\[(label)\\]\\[(ref)\\]/).replace(\"label\",q).replace(\"ref\",F).getRegex(),he=k(/^!?\\[(ref)\\](?:\\[\\])?/).replace(\"ref\",F).getRegex(),Ue=k(\"reflink|nolink(?!\\\\()\",\"g\").replace(\"reflink\",ce).replace(\"nolink\",he).getRegex(),ne=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,W={_backpedal:C,anyPunctuation:Ge,autolink:Ne,blockSkip:Be,br:oe,code:ze,del:C,emStrongLDelim:qe,emStrongRDelimAst:De,emStrongRDelimUnd:Ze,escape:Me,link:je,nolink:he,punctuation:Ce,reflink:ce,reflinkSearch:Ue,tag:Fe,text:Ae,url:C},Ke={...W,link:k(/^!?\\[(label)\\]\\((.*?)\\)/).replace(\"label\",q).getRegex(),reflink:k(/^!?\\[(label)\\]\\s*\\[([^\\]]*)\\]/).replace(\"label\",q).getRegex()},G={...W,emStrongRDelimAst:He,emStrongLDelim:ve,url:k(/^((?:protocol):\\/\\/|www\\.)(?:[a-zA-Z0-9\\-]+\\.?)+[^\\s<]*|^email/).replace(\"protocol\",ne).replace(\"email\",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'\"~()&]+|\\([^)]*\\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'\"~)]+(?!$))+/,del:/^(~~?)(?=[^\\s~])((?:\\\\[\\s\\S]|[^\\\\])*?(?:\\\\[\\s\\S]|[^\\s~\\\\]))\\1(?=[^~]|$)/,text:k(/^([`~]+|[^`~])(?:(?= {2,}\\n)|(?=[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@)|[\\s\\S]*?(?:(?=[\\\\<!\\[`*~_]|\\b_|protocol:\\/\\/|www\\.|$)|[^ ](?= {2,}\\n)|[^a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-](?=[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@)))/).replace(\"protocol\",ne).getRegex()},We={...G,br:k(oe).replace(\"{2,}\",\"*\").getRegex(),text:k(G.text).replace(\"\\\\b_\",\"\\\\b_| {2,}\\\\n\").replace(/\\{2,\\}/g,\"*\").getRegex()},E={normal:U,gfm:_e,pedantic:Le},M={normal:W,gfm:G,breaks:We,pedantic:Ke};var Xe={\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&#39;\"},ke=u=>Xe[u];function w(u,e){if(e){if(m.escapeTest.test(u))return u.replace(m.escapeReplace,ke)}else if(m.escapeTestNoEncode.test(u))return u.replace(m.escapeReplaceNoEncode,ke);return u}function X(u){try{u=encodeURI(u).replace(m.percentDecode,\"%\")}catch{return null}return u}function J(u,e){let t=u.replace(m.findPipe,(i,s,a)=>{let o=!1,l=s;for(;--l>=0&&a[l]===\"\\\\\";)o=!o;return o?\"|\":\" |\"}),n=t.split(m.splitPipe),r=0;if(n[0].trim()||n.shift(),n.length>0&&!n.at(-1)?.trim()&&n.pop(),e)if(n.length>e)n.splice(e);else for(;n.length<e;)n.push(\"\");for(;r<n.length;r++)n[r]=n[r].trim().replace(m.slashPipe,\"|\");return n}function z(u,e,t){let n=u.length;if(n===0)return\"\";let r=0;for(;r<n;){let i=u.charAt(n-r-1);if(i===e&&!t)r++;else if(i!==e&&t)r++;else break}return u.slice(0,n-r)}function de(u,e){if(u.indexOf(e[1])===-1)return-1;let t=0;for(let n=0;n<u.length;n++)if(u[n]===\"\\\\\")n++;else if(u[n]===e[0])t++;else if(u[n]===e[1]&&(t--,t<0))return n;return t>0?-2:-1}function ge(u,e,t,n,r){let i=e.href,s=e.title||null,a=u[1].replace(r.other.outputLinkReplace,\"$1\");n.state.inLink=!0;let o={type:u[0].charAt(0)===\"!\"?\"image\":\"link\",raw:t,href:i,title:s,text:a,tokens:n.inlineTokens(a)};return n.state.inLink=!1,o}function Je(u,e,t){let n=u.match(t.other.indentCodeCompensation);if(n===null)return e;let r=n[1];return e.split(`\n`).map(i=>{let s=i.match(t.other.beginningSpace);if(s===null)return i;let[a]=s;return a.length>=r.length?i.slice(r.length):i}).join(`\n`)}var y=class{options;rules;lexer;constructor(e){this.options=e||T}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:\"space\",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let n=t[0].replace(this.rules.other.codeRemoveIndent,\"\");return{type:\"code\",raw:t[0],codeBlockStyle:\"indented\",text:this.options.pedantic?n:z(n,`\n`)}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let n=t[0],r=Je(n,t[3]||\"\",this.rules);return{type:\"code\",raw:n,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,\"$1\"):t[2],text:r}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let n=t[2].trim();if(this.rules.other.endingHash.test(n)){let r=z(n,\"#\");(this.options.pedantic||!r||this.rules.other.endingSpaceChar.test(r))&&(n=r.trim())}return{type:\"heading\",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:\"hr\",raw:z(t[0],`\n`)}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let n=z(t[0],`\n`).split(`\n`),r=\"\",i=\"\",s=[];for(;n.length>0;){let a=!1,o=[],l;for(l=0;l<n.length;l++)if(this.rules.other.blockquoteStart.test(n[l]))o.push(n[l]),a=!0;else if(!a)o.push(n[l]);else break;n=n.slice(l);let p=o.join(`\n`),c=p.replace(this.rules.other.blockquoteSetextReplace,`\n    $1`).replace(this.rules.other.blockquoteSetextReplace2,\"\");r=r?`${r}\n${p}`:p,i=i?`${i}\n${c}`:c;let g=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(c,s,!0),this.lexer.state.top=g,n.length===0)break;let h=s.at(-1);if(h?.type===\"code\")break;if(h?.type===\"blockquote\"){let R=h,f=R.raw+`\n`+n.join(`\n`),O=this.blockquote(f);s[s.length-1]=O,r=r.substring(0,r.length-R.raw.length)+O.raw,i=i.substring(0,i.length-R.text.length)+O.text;break}else if(h?.type===\"list\"){let R=h,f=R.raw+`\n`+n.join(`\n`),O=this.list(f);s[s.length-1]=O,r=r.substring(0,r.length-h.raw.length)+O.raw,i=i.substring(0,i.length-R.raw.length)+O.raw,n=f.substring(s.at(-1).raw.length).split(`\n`);continue}}return{type:\"blockquote\",raw:r,tokens:s,text:i}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim(),r=n.length>1,i={type:\"list\",raw:\"\",ordered:r,start:r?+n.slice(0,-1):\"\",loose:!1,items:[]};n=r?`\\\\d{1,9}\\\\${n.slice(-1)}`:`\\\\${n}`,this.options.pedantic&&(n=r?n:\"[*+-]\");let s=this.rules.other.listItemRegex(n),a=!1;for(;e;){let l=!1,p=\"\",c=\"\";if(!(t=s.exec(e))||this.rules.block.hr.test(e))break;p=t[0],e=e.substring(p.length);let g=t[2].split(`\n`,1)[0].replace(this.rules.other.listReplaceTabs,O=>\" \".repeat(3*O.length)),h=e.split(`\n`,1)[0],R=!g.trim(),f=0;if(this.options.pedantic?(f=2,c=g.trimStart()):R?f=t[1].length+1:(f=t[2].search(this.rules.other.nonSpaceChar),f=f>4?1:f,c=g.slice(f),f+=t[1].length),R&&this.rules.other.blankLine.test(h)&&(p+=h+`\n`,e=e.substring(h.length+1),l=!0),!l){let O=this.rules.other.nextBulletRegex(f),V=this.rules.other.hrRegex(f),Y=this.rules.other.fencesBeginRegex(f),ee=this.rules.other.headingBeginRegex(f),fe=this.rules.other.htmlBeginRegex(f);for(;e;){let H=e.split(`\n`,1)[0],A;if(h=H,this.options.pedantic?(h=h.replace(this.rules.other.listReplaceNesting,\"  \"),A=h):A=h.replace(this.rules.other.tabCharGlobal,\"    \"),Y.test(h)||ee.test(h)||fe.test(h)||O.test(h)||V.test(h))break;if(A.search(this.rules.other.nonSpaceChar)>=f||!h.trim())c+=`\n`+A.slice(f);else{if(R||g.replace(this.rules.other.tabCharGlobal,\"    \").search(this.rules.other.nonSpaceChar)>=4||Y.test(g)||ee.test(g)||V.test(g))break;c+=`\n`+h}!R&&!h.trim()&&(R=!0),p+=H+`\n`,e=e.substring(H.length+1),g=A.slice(f)}}i.loose||(a?i.loose=!0:this.rules.other.doubleBlankLine.test(p)&&(a=!0)),i.items.push({type:\"list_item\",raw:p,task:!!this.options.gfm&&this.rules.other.listIsTask.test(c),loose:!1,text:c,tokens:[]}),i.raw+=p}let o=i.items.at(-1);if(o)o.raw=o.raw.trimEnd(),o.text=o.text.trimEnd();else return;i.raw=i.raw.trimEnd();for(let l of i.items){if(this.lexer.state.top=!1,l.tokens=this.lexer.blockTokens(l.text,[]),l.task){if(l.text=l.text.replace(this.rules.other.listReplaceTask,\"\"),l.tokens[0]?.type===\"text\"||l.tokens[0]?.type===\"paragraph\"){l.tokens[0].raw=l.tokens[0].raw.replace(this.rules.other.listReplaceTask,\"\"),l.tokens[0].text=l.tokens[0].text.replace(this.rules.other.listReplaceTask,\"\");for(let c=this.lexer.inlineQueue.length-1;c>=0;c--)if(this.rules.other.listIsTask.test(this.lexer.inlineQueue[c].src)){this.lexer.inlineQueue[c].src=this.lexer.inlineQueue[c].src.replace(this.rules.other.listReplaceTask,\"\");break}}let p=this.rules.other.listTaskCheckbox.exec(l.raw);if(p){let c={type:\"checkbox\",raw:p[0]+\" \",checked:p[0]!==\"[ ]\"};l.checked=c.checked,i.loose?l.tokens[0]&&[\"paragraph\",\"text\"].includes(l.tokens[0].type)&&\"tokens\"in l.tokens[0]&&l.tokens[0].tokens?(l.tokens[0].raw=c.raw+l.tokens[0].raw,l.tokens[0].text=c.raw+l.tokens[0].text,l.tokens[0].tokens.unshift(c)):l.tokens.unshift({type:\"paragraph\",raw:c.raw,text:c.raw,tokens:[c]}):l.tokens.unshift(c)}}if(!i.loose){let p=l.tokens.filter(g=>g.type===\"space\"),c=p.length>0&&p.some(g=>this.rules.other.anyLine.test(g.raw));i.loose=c}}if(i.loose)for(let l of i.items){l.loose=!0;for(let p of l.tokens)p.type===\"text\"&&(p.type=\"paragraph\")}return i}}html(e){let t=this.rules.block.html.exec(e);if(t)return{type:\"html\",block:!0,raw:t[0],pre:t[1]===\"pre\"||t[1]===\"script\"||t[1]===\"style\",text:t[0]}}def(e){let t=this.rules.block.def.exec(e);if(t){let n=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal,\" \"),r=t[2]?t[2].replace(this.rules.other.hrefBrackets,\"$1\").replace(this.rules.inline.anyPunctuation,\"$1\"):\"\",i=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,\"$1\"):t[3];return{type:\"def\",tag:n,raw:t[0],href:r,title:i}}}table(e){let t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;let n=J(t[1]),r=t[2].replace(this.rules.other.tableAlignChars,\"\").split(\"|\"),i=t[3]?.trim()?t[3].replace(this.rules.other.tableRowBlankLine,\"\").split(`\n`):[],s={type:\"table\",raw:t[0],header:[],align:[],rows:[]};if(n.length===r.length){for(let a of r)this.rules.other.tableAlignRight.test(a)?s.align.push(\"right\"):this.rules.other.tableAlignCenter.test(a)?s.align.push(\"center\"):this.rules.other.tableAlignLeft.test(a)?s.align.push(\"left\"):s.align.push(null);for(let a=0;a<n.length;a++)s.header.push({text:n[a],tokens:this.lexer.inline(n[a]),header:!0,align:s.align[a]});for(let a of i)s.rows.push(J(a,s.header.length).map((o,l)=>({text:o,tokens:this.lexer.inline(o),header:!1,align:s.align[l]})));return s}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t)return{type:\"heading\",raw:t[0],depth:t[2].charAt(0)===\"=\"?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let n=t[1].charAt(t[1].length-1)===`\n`?t[1].slice(0,-1):t[1];return{type:\"paragraph\",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}text(e){let t=this.rules.block.text.exec(e);if(t)return{type:\"text\",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:\"escape\",raw:t[0],text:t[1]}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:\"html\",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let n=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;let s=z(n.slice(0,-1),\"\\\\\");if((n.length-s.length)%2===0)return}else{let s=de(t[2],\"()\");if(s===-2)return;if(s>-1){let o=(t[0].indexOf(\"!\")===0?5:4)+t[1].length+s;t[2]=t[2].substring(0,s),t[0]=t[0].substring(0,o).trim(),t[3]=\"\"}}let r=t[2],i=\"\";if(this.options.pedantic){let s=this.rules.other.pedanticHrefTitle.exec(r);s&&(r=s[1],i=s[3])}else i=t[3]?t[3].slice(1,-1):\"\";return r=r.trim(),this.rules.other.startAngleBracket.test(r)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?r=r.slice(1):r=r.slice(1,-1)),ge(t,{href:r&&r.replace(this.rules.inline.anyPunctuation,\"$1\"),title:i&&i.replace(this.rules.inline.anyPunctuation,\"$1\")},t[0],this.lexer,this.rules)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let r=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal,\" \"),i=t[r.toLowerCase()];if(!i){let s=n[0].charAt(0);return{type:\"text\",raw:s,text:s}}return ge(n,i,n[0],this.lexer,this.rules)}}emStrong(e,t,n=\"\"){let r=this.rules.inline.emStrongLDelim.exec(e);if(!r||r[3]&&n.match(this.rules.other.unicodeAlphaNumeric))return;if(!(r[1]||r[2]||\"\")||!n||this.rules.inline.punctuation.exec(n)){let s=[...r[0]].length-1,a,o,l=s,p=0,c=r[0][0]===\"*\"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(c.lastIndex=0,t=t.slice(-1*e.length+s);(r=c.exec(t))!=null;){if(a=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!a)continue;if(o=[...a].length,r[3]||r[4]){l+=o;continue}else if((r[5]||r[6])&&s%3&&!((s+o)%3)){p+=o;continue}if(l-=o,l>0)continue;o=Math.min(o,o+l+p);let g=[...r[0]][0].length,h=e.slice(0,s+r.index+g+o);if(Math.min(s,o)%2){let f=h.slice(1,-1);return{type:\"em\",raw:h,text:f,tokens:this.lexer.inlineTokens(f)}}let R=h.slice(2,-2);return{type:\"strong\",raw:h,text:R,tokens:this.lexer.inlineTokens(R)}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let n=t[2].replace(this.rules.other.newLineCharGlobal,\" \"),r=this.rules.other.nonSpaceChar.test(n),i=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return r&&i&&(n=n.substring(1,n.length-1)),{type:\"codespan\",raw:t[0],text:n}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:\"br\",raw:t[0]}}del(e){let t=this.rules.inline.del.exec(e);if(t)return{type:\"del\",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){let t=this.rules.inline.autolink.exec(e);if(t){let n,r;return t[2]===\"@\"?(n=t[1],r=\"mailto:\"+n):(n=t[1],r=n),{type:\"link\",raw:t[0],text:n,href:r,tokens:[{type:\"text\",raw:n,text:n}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let n,r;if(t[2]===\"@\")n=t[0],r=\"mailto:\"+n;else{let i;do i=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])?.[0]??\"\";while(i!==t[0]);n=t[0],t[1]===\"www.\"?r=\"http://\"+t[0]:r=t[0]}return{type:\"link\",raw:t[0],text:n,href:r,tokens:[{type:\"text\",raw:n,text:n}]}}}inlineText(e){let t=this.rules.inline.text.exec(e);if(t){let n=this.lexer.state.inRawBlock;return{type:\"text\",raw:t[0],text:t[0],escaped:n}}}};var x=class u{tokens;options;state;inlineQueue;tokenizer;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||T,this.options.tokenizer=this.options.tokenizer||new y,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let t={other:m,block:E.normal,inline:M.normal};this.options.pedantic?(t.block=E.pedantic,t.inline=M.pedantic):this.options.gfm&&(t.block=E.gfm,this.options.breaks?t.inline=M.breaks:t.inline=M.gfm),this.tokenizer.rules=t}static get rules(){return{block:E,inline:M}}static lex(e,t){return new u(t).lex(e)}static lexInline(e,t){return new u(t).inlineTokens(e)}lex(e){e=e.replace(m.carriageReturn,`\n`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){let n=this.inlineQueue[t];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],n=!1){for(this.options.pedantic&&(e=e.replace(m.tabCharGlobal,\"    \").replace(m.spaceLine,\"\"));e;){let r;if(this.options.extensions?.block?.some(s=>(r=s.call({lexer:this},e,t))?(e=e.substring(r.raw.length),t.push(r),!0):!1))continue;if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length);let s=t.at(-1);r.raw.length===1&&s!==void 0?s.raw+=`\n`:t.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length);let s=t.at(-1);s?.type===\"paragraph\"||s?.type===\"text\"?(s.raw+=(s.raw.endsWith(`\n`)?\"\":`\n`)+r.raw,s.text+=`\n`+r.text,this.inlineQueue.at(-1).src=s.text):t.push(r);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length);let s=t.at(-1);s?.type===\"paragraph\"||s?.type===\"text\"?(s.raw+=(s.raw.endsWith(`\n`)?\"\":`\n`)+r.raw,s.text+=`\n`+r.raw,this.inlineQueue.at(-1).src=s.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title},t.push(r));continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),t.push(r);continue}let i=e;if(this.options.extensions?.startBlock){let s=1/0,a=e.slice(1),o;this.options.extensions.startBlock.forEach(l=>{o=l.call({lexer:this},a),typeof o==\"number\"&&o>=0&&(s=Math.min(s,o))}),s<1/0&&s>=0&&(i=e.substring(0,s+1))}if(this.state.top&&(r=this.tokenizer.paragraph(i))){let s=t.at(-1);n&&s?.type===\"paragraph\"?(s.raw+=(s.raw.endsWith(`\n`)?\"\":`\n`)+r.raw,s.text+=`\n`+r.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=s.text):t.push(r),n=i.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length);let s=t.at(-1);s?.type===\"text\"?(s.raw+=(s.raw.endsWith(`\n`)?\"\":`\n`)+r.raw,s.text+=`\n`+r.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=s.text):t.push(r);continue}if(e){let s=\"Infinite loop on byte: \"+e.charCodeAt(0);if(this.options.silent){console.error(s);break}else throw new Error(s)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n=e,r=null;if(this.tokens.links){let o=Object.keys(this.tokens.links);if(o.length>0)for(;(r=this.tokenizer.rules.inline.reflinkSearch.exec(n))!=null;)o.includes(r[0].slice(r[0].lastIndexOf(\"[\")+1,-1))&&(n=n.slice(0,r.index)+\"[\"+\"a\".repeat(r[0].length-2)+\"]\"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(r=this.tokenizer.rules.inline.anyPunctuation.exec(n))!=null;)n=n.slice(0,r.index)+\"++\"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let i;for(;(r=this.tokenizer.rules.inline.blockSkip.exec(n))!=null;)i=r[2]?r[2].length:0,n=n.slice(0,r.index+i)+\"[\"+\"a\".repeat(r[0].length-i-2)+\"]\"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);n=this.options.hooks?.emStrongMask?.call({lexer:this},n)??n;let s=!1,a=\"\";for(;e;){s||(a=\"\"),s=!1;let o;if(this.options.extensions?.inline?.some(p=>(o=p.call({lexer:this},e,t))?(e=e.substring(o.raw.length),t.push(o),!0):!1))continue;if(o=this.tokenizer.escape(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.tag(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.link(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(o.raw.length);let p=t.at(-1);o.type===\"text\"&&p?.type===\"text\"?(p.raw+=o.raw,p.text+=o.text):t.push(o);continue}if(o=this.tokenizer.emStrong(e,n,a)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.codespan(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.br(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.del(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.autolink(e)){e=e.substring(o.raw.length),t.push(o);continue}if(!this.state.inLink&&(o=this.tokenizer.url(e))){e=e.substring(o.raw.length),t.push(o);continue}let l=e;if(this.options.extensions?.startInline){let p=1/0,c=e.slice(1),g;this.options.extensions.startInline.forEach(h=>{g=h.call({lexer:this},c),typeof g==\"number\"&&g>=0&&(p=Math.min(p,g))}),p<1/0&&p>=0&&(l=e.substring(0,p+1))}if(o=this.tokenizer.inlineText(l)){e=e.substring(o.raw.length),o.raw.slice(-1)!==\"_\"&&(a=o.raw.slice(-1)),s=!0;let p=t.at(-1);p?.type===\"text\"?(p.raw+=o.raw,p.text+=o.text):t.push(o);continue}if(e){let p=\"Infinite loop on byte: \"+e.charCodeAt(0);if(this.options.silent){console.error(p);break}else throw new Error(p)}}return t}};var P=class{options;parser;constructor(e){this.options=e||T}space(e){return\"\"}code({text:e,lang:t,escaped:n}){let r=(t||\"\").match(m.notSpaceStart)?.[0],i=e.replace(m.endingNewline,\"\")+`\n`;return r?'<pre><code class=\"language-'+w(r)+'\">'+(n?i:w(i,!0))+`</code></pre>\n`:\"<pre><code>\"+(n?i:w(i,!0))+`</code></pre>\n`}blockquote({tokens:e}){return`<blockquote>\n${this.parser.parse(e)}</blockquote>\n`}html({text:e}){return e}def(e){return\"\"}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>\n`}hr(e){return`<hr>\n`}list(e){let t=e.ordered,n=e.start,r=\"\";for(let a=0;a<e.items.length;a++){let o=e.items[a];r+=this.listitem(o)}let i=t?\"ol\":\"ul\",s=t&&n!==1?' start=\"'+n+'\"':\"\";return\"<\"+i+s+`>\n`+r+\"</\"+i+`>\n`}listitem(e){return`<li>${this.parser.parse(e.tokens)}</li>\n`}checkbox({checked:e}){return\"<input \"+(e?'checked=\"\" ':\"\")+'disabled=\"\" type=\"checkbox\"> '}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>\n`}table(e){let t=\"\",n=\"\";for(let i=0;i<e.header.length;i++)n+=this.tablecell(e.header[i]);t+=this.tablerow({text:n});let r=\"\";for(let i=0;i<e.rows.length;i++){let s=e.rows[i];n=\"\";for(let a=0;a<s.length;a++)n+=this.tablecell(s[a]);r+=this.tablerow({text:n})}return r&&(r=`<tbody>${r}</tbody>`),`<table>\n<thead>\n`+t+`</thead>\n`+r+`</table>\n`}tablerow({text:e}){return`<tr>\n${e}</tr>\n`}tablecell(e){let t=this.parser.parseInline(e.tokens),n=e.header?\"th\":\"td\";return(e.align?`<${n} align=\"${e.align}\">`:`<${n}>`)+t+`</${n}>\n`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${w(e,!0)}</code>`}br(e){return\"<br>\"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:n}){let r=this.parser.parseInline(n),i=X(e);if(i===null)return r;e=i;let s='<a href=\"'+e+'\"';return t&&(s+=' title=\"'+w(t)+'\"'),s+=\">\"+r+\"</a>\",s}image({href:e,title:t,text:n,tokens:r}){r&&(n=this.parser.parseInline(r,this.parser.textRenderer));let i=X(e);if(i===null)return w(n);e=i;let s=`<img src=\"${e}\" alt=\"${n}\"`;return t&&(s+=` title=\"${w(t)}\"`),s+=\">\",s}text(e){return\"tokens\"in e&&e.tokens?this.parser.parseInline(e.tokens):\"escaped\"in e&&e.escaped?e.text:w(e.text)}};var $=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return\"\"+e}image({text:e}){return\"\"+e}br(){return\"\"}checkbox({raw:e}){return e}};var b=class u{options;renderer;textRenderer;constructor(e){this.options=e||T,this.options.renderer=this.options.renderer||new P,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new $}static parse(e,t){return new u(t).parse(e)}static parseInline(e,t){return new u(t).parseInline(e)}parse(e){let t=\"\";for(let n=0;n<e.length;n++){let r=e[n];if(this.options.extensions?.renderers?.[r.type]){let s=r,a=this.options.extensions.renderers[s.type].call({parser:this},s);if(a!==!1||![\"space\",\"hr\",\"heading\",\"code\",\"table\",\"blockquote\",\"list\",\"html\",\"def\",\"paragraph\",\"text\"].includes(s.type)){t+=a||\"\";continue}}let i=r;switch(i.type){case\"space\":{t+=this.renderer.space(i);break}case\"hr\":{t+=this.renderer.hr(i);break}case\"heading\":{t+=this.renderer.heading(i);break}case\"code\":{t+=this.renderer.code(i);break}case\"table\":{t+=this.renderer.table(i);break}case\"blockquote\":{t+=this.renderer.blockquote(i);break}case\"list\":{t+=this.renderer.list(i);break}case\"checkbox\":{t+=this.renderer.checkbox(i);break}case\"html\":{t+=this.renderer.html(i);break}case\"def\":{t+=this.renderer.def(i);break}case\"paragraph\":{t+=this.renderer.paragraph(i);break}case\"text\":{t+=this.renderer.text(i);break}default:{let s='Token with \"'+i.type+'\" type was not found.';if(this.options.silent)return console.error(s),\"\";throw new Error(s)}}}return t}parseInline(e,t=this.renderer){let n=\"\";for(let r=0;r<e.length;r++){let i=e[r];if(this.options.extensions?.renderers?.[i.type]){let a=this.options.extensions.renderers[i.type].call({parser:this},i);if(a!==!1||![\"escape\",\"html\",\"link\",\"image\",\"strong\",\"em\",\"codespan\",\"br\",\"del\",\"text\"].includes(i.type)){n+=a||\"\";continue}}let s=i;switch(s.type){case\"escape\":{n+=t.text(s);break}case\"html\":{n+=t.html(s);break}case\"link\":{n+=t.link(s);break}case\"image\":{n+=t.image(s);break}case\"checkbox\":{n+=t.checkbox(s);break}case\"strong\":{n+=t.strong(s);break}case\"em\":{n+=t.em(s);break}case\"codespan\":{n+=t.codespan(s);break}case\"br\":{n+=t.br(s);break}case\"del\":{n+=t.del(s);break}case\"text\":{n+=t.text(s);break}default:{let a='Token with \"'+s.type+'\" type was not found.';if(this.options.silent)return console.error(a),\"\";throw new Error(a)}}}return n}};var S=class{options;block;constructor(e){this.options=e||T}static passThroughHooks=new Set([\"preprocess\",\"postprocess\",\"processAllTokens\",\"emStrongMask\"]);static passThroughHooksRespectAsync=new Set([\"preprocess\",\"postprocess\",\"processAllTokens\"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}emStrongMask(e){return e}provideLexer(){return this.block?x.lex:x.lexInline}provideParser(){return this.block?b.parse:b.parseInline}};var B=class{defaults=L();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=b;Renderer=P;TextRenderer=$;Lexer=x;Tokenizer=y;Hooks=S;constructor(...e){this.use(...e)}walkTokens(e,t){let n=[];for(let r of e)switch(n=n.concat(t.call(this,r)),r.type){case\"table\":{let i=r;for(let s of i.header)n=n.concat(this.walkTokens(s.tokens,t));for(let s of i.rows)for(let a of s)n=n.concat(this.walkTokens(a.tokens,t));break}case\"list\":{let i=r;n=n.concat(this.walkTokens(i.items,t));break}default:{let i=r;this.defaults.extensions?.childTokens?.[i.type]?this.defaults.extensions.childTokens[i.type].forEach(s=>{let a=i[s].flat(1/0);n=n.concat(this.walkTokens(a,t))}):i.tokens&&(n=n.concat(this.walkTokens(i.tokens,t)))}}return n}use(...e){let t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(n=>{let r={...n};if(r.async=this.defaults.async||r.async||!1,n.extensions&&(n.extensions.forEach(i=>{if(!i.name)throw new Error(\"extension name required\");if(\"renderer\"in i){let s=t.renderers[i.name];s?t.renderers[i.name]=function(...a){let o=i.renderer.apply(this,a);return o===!1&&(o=s.apply(this,a)),o}:t.renderers[i.name]=i.renderer}if(\"tokenizer\"in i){if(!i.level||i.level!==\"block\"&&i.level!==\"inline\")throw new Error(\"extension level must be 'block' or 'inline'\");let s=t[i.level];s?s.unshift(i.tokenizer):t[i.level]=[i.tokenizer],i.start&&(i.level===\"block\"?t.startBlock?t.startBlock.push(i.start):t.startBlock=[i.start]:i.level===\"inline\"&&(t.startInline?t.startInline.push(i.start):t.startInline=[i.start]))}\"childTokens\"in i&&i.childTokens&&(t.childTokens[i.name]=i.childTokens)}),r.extensions=t),n.renderer){let i=this.defaults.renderer||new P(this.defaults);for(let s in n.renderer){if(!(s in i))throw new Error(`renderer '${s}' does not exist`);if([\"options\",\"parser\"].includes(s))continue;let a=s,o=n.renderer[a],l=i[a];i[a]=(...p)=>{let c=o.apply(i,p);return c===!1&&(c=l.apply(i,p)),c||\"\"}}r.renderer=i}if(n.tokenizer){let i=this.defaults.tokenizer||new y(this.defaults);for(let s in n.tokenizer){if(!(s in i))throw new Error(`tokenizer '${s}' does not exist`);if([\"options\",\"rules\",\"lexer\"].includes(s))continue;let a=s,o=n.tokenizer[a],l=i[a];i[a]=(...p)=>{let c=o.apply(i,p);return c===!1&&(c=l.apply(i,p)),c}}r.tokenizer=i}if(n.hooks){let i=this.defaults.hooks||new S;for(let s in n.hooks){if(!(s in i))throw new Error(`hook '${s}' does not exist`);if([\"options\",\"block\"].includes(s))continue;let a=s,o=n.hooks[a],l=i[a];S.passThroughHooks.has(s)?i[a]=p=>{if(this.defaults.async&&S.passThroughHooksRespectAsync.has(s))return(async()=>{let g=await o.call(i,p);return l.call(i,g)})();let c=o.call(i,p);return l.call(i,c)}:i[a]=(...p)=>{if(this.defaults.async)return(async()=>{let g=await o.apply(i,p);return g===!1&&(g=await l.apply(i,p)),g})();let c=o.apply(i,p);return c===!1&&(c=l.apply(i,p)),c}}r.hooks=i}if(n.walkTokens){let i=this.defaults.walkTokens,s=n.walkTokens;r.walkTokens=function(a){let o=[];return o.push(s.call(this,a)),i&&(o=o.concat(i.call(this,a))),o}}this.defaults={...this.defaults,...r}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return x.lex(e,t??this.defaults)}parser(e,t){return b.parse(e,t??this.defaults)}parseMarkdown(e){return(n,r)=>{let i={...r},s={...this.defaults,...i},a=this.onError(!!s.silent,!!s.async);if(this.defaults.async===!0&&i.async===!1)return a(new Error(\"marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise.\"));if(typeof n>\"u\"||n===null)return a(new Error(\"marked(): input parameter is undefined or null\"));if(typeof n!=\"string\")return a(new Error(\"marked(): input parameter is of type \"+Object.prototype.toString.call(n)+\", string expected\"));if(s.hooks&&(s.hooks.options=s,s.hooks.block=e),s.async)return(async()=>{let o=s.hooks?await s.hooks.preprocess(n):n,p=await(s.hooks?await s.hooks.provideLexer():e?x.lex:x.lexInline)(o,s),c=s.hooks?await s.hooks.processAllTokens(p):p;s.walkTokens&&await Promise.all(this.walkTokens(c,s.walkTokens));let h=await(s.hooks?await s.hooks.provideParser():e?b.parse:b.parseInline)(c,s);return s.hooks?await s.hooks.postprocess(h):h})().catch(a);try{s.hooks&&(n=s.hooks.preprocess(n));let l=(s.hooks?s.hooks.provideLexer():e?x.lex:x.lexInline)(n,s);s.hooks&&(l=s.hooks.processAllTokens(l)),s.walkTokens&&this.walkTokens(l,s.walkTokens);let c=(s.hooks?s.hooks.provideParser():e?b.parse:b.parseInline)(l,s);return s.hooks&&(c=s.hooks.postprocess(c)),c}catch(o){return a(o)}}}onError(e,t){return n=>{if(n.message+=`\nPlease report this to https://github.com/markedjs/marked.`,e){let r=\"<p>An error occurred:</p><pre>\"+w(n.message+\"\",!0)+\"</pre>\";return t?Promise.resolve(r):r}if(t)return Promise.reject(n);throw n}}};var _=new B;function d(u,e){return _.parse(u,e)}d.options=d.setOptions=function(u){return _.setOptions(u),d.defaults=_.defaults,Z(d.defaults),d};d.getDefaults=L;d.defaults=T;d.use=function(...u){return _.use(...u),d.defaults=_.defaults,Z(d.defaults),d};d.walkTokens=function(u,e){return _.walkTokens(u,e)};d.parseInline=_.parseInline;d.Parser=b;d.parser=b.parse;d.Renderer=P;d.TextRenderer=$;d.Lexer=x;d.lexer=x.lex;d.Tokenizer=y;d.Hooks=S;d.parse=d;var Dt=d.options,Ht=d.setOptions,Zt=d.use,Gt=d.walkTokens,Nt=d.parseInline,Qt=d,Ft=b.parse,jt=x.lex;export{S as Hooks,x as Lexer,B as Marked,b as Parser,P as Renderer,$ as TextRenderer,y as Tokenizer,T as defaults,L as getDefaults,jt as lexer,d as marked,Dt as options,Qt as parse,Nt as parseInline,Ft as parser,Ht as setOptions,Zt as use,Gt as walkTokens};\n//# sourceMappingURL=marked.esm.js.map\n","import { Ids } from 'ids';\nimport { isString, get, isNil, isObject, some, isNumber, set, findIndex, isArray, isDefined, values, uniqueBy, isFunction, bind, assign, groupBy, isUndefined } from 'min-dash';\nimport Big from 'big.js';\nimport classNames from 'classnames';\nimport { jsx, jsxs, Fragment } from 'preact/jsx-runtime';\nimport { useContext, useMemo, useRef, useCallback, useEffect, useState, useLayoutEffect } from 'preact/hooks';\nimport { createContext, createElement, Fragment as Fragment$1, render } from 'preact';\nimport isEqual from 'lodash/isEqual';\nimport { DateTime } from 'luxon';\nimport flatpickr from 'flatpickr';\nimport * as React from 'preact/compat';\nimport { createPortal } from 'preact/compat';\nimport DOMPurify from 'dompurify';\nimport { Injector } from 'didi';\nimport { parseExpression, parseUnaryTests, evaluate, unaryTest } from '@bpmn-io/feelin';\nimport { evaluate as evaluate$1, parser, buildSimpleTree } from 'feelers';\nimport { marked } from 'marked';\n\nconst getFlavouredFeelVariableNames = (feelString, feelFlavour = 'expression', options = {}) => {\n  const {\n    depth = 0,\n    specialDepthAccessors = {}\n  } = options;\n  if (!['expression', 'unaryTest'].includes(feelFlavour)) return [];\n  const tree = feelFlavour === 'expression' ? parseExpression(feelString, {}, undefined) : parseUnaryTests(feelString, {}, undefined);\n  const simpleExpressionTree = _buildSimpleFeelStructureTree(tree, feelString);\n  const variables = function _unfoldVariables(node) {\n    if (node.name === 'PathExpression') {\n      // if the path is built on top of a context, we process that context and\n      // ignore the rest of the path expression, as it is not relevant for variable extraction\n      const pathRoot = _linearizePathExpression(node)[0];\n      if (pathRoot.name === 'Context') {\n        return _unfoldVariables(pathRoot);\n      }\n      if (Object.keys(specialDepthAccessors).length === 0) {\n        return depth === 0 ? [_getVariableNameAtPathIndex(node, 0)] : [];\n      }\n\n      // if using special depth accessors, use a more complex extraction\n      return Array.from(_smartExtractVariableNames(node, depth, specialDepthAccessors));\n    }\n    if (depth === 0 && node.name === 'VariableName') return [node.variableName];\n\n    // for any other kind of node, traverse its children and flatten the result\n    if (node.children) {\n      const variables = node.children.reduce((acc, child) => {\n        return acc.concat(_unfoldVariables(child));\n      }, []);\n\n      // if we are within a filter context, we need to remove the item variable as it is used for iteration there\n      return node.name === 'FilterContext' ? variables.filter(name => name !== 'item') : variables;\n    }\n    return [];\n  }(simpleExpressionTree);\n  return [...new Set(variables)];\n};\n\n/**\n * Get the variable name at the specified index in a given path expression.\n *\n * @param {Object} root - The root node of the path expression tree.\n * @param {number} index - The index of the variable name to retrieve.\n * @returns {string|null} The variable name at the specified index or null if index is out of bounds.\n */\nconst _getVariableNameAtPathIndex = (root, index) => {\n  const nodes = _linearizePathExpression(root);\n  return nodes[index].variableName || null;\n};\n\n/**\n * Extracts the variables which are required of the external context for a given path expression.\n * This is done by traversing the path expression tree and keeping track of the current depth relative to the external context.\n *\n * @param {Object} node - The root node of the path expression tree.\n * @param {number} initialDepth - The depth at which the root node is located in the outer context.\n * @param {Object} specialDepthAccessors - Definitions of special keywords which represent more complex accesses of the outer context.\n * @returns {Set} - A set containing the extracted variable names.\n */\nconst _smartExtractVariableNames = (node, initialDepth, specialDepthAccessors) => {\n  // depth info represents the previous (initialised as null) and current depth of the current accessor in the path expression\n  // we track multiple of these to account for the fact that a path expression may be ambiguous due to special keywords\n  let accessorDepthInfos = [{\n    previous: null,\n    current: initialDepth - 1\n  }];\n  const extractedVariables = new Set();\n  const pathNodes = _linearizePathExpression(node);\n  for (let i = 0; i < pathNodes.length; i++) {\n    const currentAccessor = pathNodes[i].variableName;\n    if (currentAccessor in specialDepthAccessors) {\n      const depthOffsets = specialDepthAccessors[currentAccessor];\n\n      // if the current accessor is a special keyword, we need to expand the current depth info set\n      // this is done to account for the ambiguity of keywords like parent, which may be used to access\n      // the parent of the current node, or a child variable of the same name\n      accessorDepthInfos = depthOffsets.reduce((accumulator, offset) => {\n        return [...accumulator, ...accessorDepthInfos.map(depthInfo => ({\n          previous: depthInfo.current,\n          current: depthInfo.current + offset\n        }))];\n      }, []).filter(depthInfo => depthInfo.current >= -1); // discard all depth infos which are out of bounds\n    } else {\n      // if the current accessor is not a special keyword, we know it's simply accessing a child\n      // hence we are now one level deeper in the tree and simply increment\n      accessorDepthInfos = accessorDepthInfos.map(depthInfo => ({\n        previous: depthInfo.current,\n        current: depthInfo.current + 1\n      }));\n    }\n\n    // finally, we check if for the current accessor, there is a scenario where:\n    // previous it was at depth -1 (i.e. the root context), and is now at depth 0 (i.e. a variable)\n    // these are the variables we need to request, so we add them to the set\n    if (accessorDepthInfos.some(depthInfo => depthInfo.previous === -1 && depthInfo.current === 0)) {\n      extractedVariables.add(currentAccessor);\n    }\n  }\n\n  // we return a set to avoid duplicates\n  return new Set(extractedVariables);\n};\n\n/**\n * Deconstructs a path expression tree into an array of components.\n *\n * @param {Object} root - The root node of the path expression tree.\n * @returns {Array<object>} An array of components in the path expression, in the correct order.\n */\nconst _linearizePathExpression = root => {\n  let node = root;\n  let parts = [];\n\n  // Traverse the tree and collect path components\n  while (node.name === 'PathExpression') {\n    parts.push(node.children[1]);\n    node = node.children[0];\n  }\n\n  // Add the last component to the array\n  parts.push(node);\n\n  // Reverse and return the array to get the correct order\n  return parts.reverse();\n};\n\n/**\n * Builds a simplified feel structure tree from the given parse tree and feel string.\n * The nodes follow this structure: `{ name: string, children: Array, variableName?: string }`\n *\n * @param {Object} parseTree - The parse tree generated by a parser.\n * @param {string} feelString - The feel string used for parsing.\n * @returns {Object} The simplified feel structure tree.\n */\nconst _buildSimpleFeelStructureTree = (parseTree, feelString) => {\n  const stack = [{\n    children: []\n  }];\n  parseTree.iterate({\n    enter: node => {\n      const nodeRepresentation = {\n        name: node.type.name,\n        children: []\n      };\n      if (node.type.name === 'VariableName') {\n        nodeRepresentation.variableName = feelString.slice(node.from, node.to);\n      }\n      stack.push(nodeRepresentation);\n    },\n    leave: () => {\n      const result = stack.pop();\n      const parent = stack[stack.length - 1];\n      parent.children.push(result);\n    }\n  });\n  return _extractFilterExpressions(stack[0].children[0]);\n};\n\n/**\n * Restructure the tree in such a way to bring filters (which create new contexts) to the root of the tree.\n * This is done to simplify the extraction of variables and match the context hierarchy.\n */\nconst _extractFilterExpressions = tree => {\n  const flattenedExpressionTree = {\n    name: 'Root',\n    children: [tree]\n  };\n  const iterate = node => {\n    if (node.children) {\n      for (let x = 0; x < node.children.length; x++) {\n        if (node.children[x].name === 'FilterExpression') {\n          const filterTarget = node.children[x].children[0];\n          const filterExpression = node.children[x].children[2];\n\n          // bypass the filter expression\n          node.children[x] = filterTarget;\n          const taggedFilterExpression = {\n            name: 'FilterContext',\n            children: [filterExpression]\n          };\n\n          // append the filter expression to the root\n          flattenedExpressionTree.children.push(taggedFilterExpression);\n\n          // recursively iterate the expression\n          iterate(filterExpression);\n        } else {\n          iterate(node.children[x]);\n        }\n      }\n    }\n  };\n  iterate(tree);\n  return flattenedExpressionTree;\n};\n\nclass FeelExpressionLanguage {\n  constructor(eventBus) {\n    this._eventBus = eventBus;\n  }\n\n  /**\n   * Determines if the given value is a FEEL expression.\n   *\n   * @param {any} value\n   * @returns {boolean}\n   *\n   */\n  isExpression(value) {\n    return isString(value) && value.startsWith('=');\n  }\n\n  /**\n   * Retrieve variable names from a given FEEL expression.\n   *\n   * @param {string} expression\n   * @param {object} [options]\n   * @param {string} [options.type]\n   *\n   * @returns {string[]}\n   */\n  getVariableNames(expression, options = {}) {\n    const {\n      type = 'expression'\n    } = options;\n    if (!this.isExpression(expression)) {\n      return [];\n    }\n    if (!['unaryTest', 'expression'].includes(type)) {\n      throw new Error('Unknown expression type: ' + type);\n    }\n    return getFlavouredFeelVariableNames(expression, type);\n  }\n\n  /**\n   * Evaluate an expression.\n   *\n   * @param {string} expression\n   * @param {import('../../types').Data} [data]\n   *\n   * @returns {any}\n   */\n  evaluate(expression, data = {}) {\n    if (!expression) {\n      return null;\n    }\n    if (!isString(expression) || !expression.startsWith('=')) {\n      return null;\n    }\n    try {\n      const {\n        value: result\n      } = evaluate(expression.slice(1), data);\n      return result;\n    } catch (error) {\n      this._eventBus.fire('error', {\n        error\n      });\n      return null;\n    }\n  }\n}\nFeelExpressionLanguage.$inject = ['eventBus'];\n\nclass FeelersTemplating {\n  constructor() {}\n\n  /**\n   * Determines if the given value is a feelers template.\n   *\n   * @param {any} value\n   * @returns {boolean}\n   *\n   */\n  isTemplate(value) {\n    return isString(value) && (value.startsWith('=') || /{{.*?}}/.test(value));\n  }\n\n  /**\n   * Retrieve variable names from a given feelers template.\n   *\n   * @param {string} template\n   *\n   * @returns {string[]}\n   */\n  getVariableNames(template) {\n    if (!this.isTemplate(template)) {\n      return [];\n    }\n    const expressions = this._extractExpressionsWithDepth(template);\n\n    // defines special accessors, and the change(s) in depth they could imply (e.g. parent can be used to access the parent context (depth - 1) or a child variable named parent (depth + 1)\n    const specialDepthAccessors = {\n      parent: [-1, 1],\n      _parent_: [-1],\n      this: [0, 1],\n      _this_: [0]\n    };\n    return expressions.reduce((variables, {\n      expression,\n      depth\n    }) => {\n      return variables.concat(getFlavouredFeelVariableNames(expression, 'expression', {\n        depth,\n        specialDepthAccessors\n      }));\n    }, []);\n  }\n\n  /**\n   * Evaluate a template.\n   *\n   * @param {string} template\n   * @param {Object<string, any>} context\n   * @param {Object} options\n   * @param {boolean} [options.debug = false]\n   * @param {boolean} [options.strict = false]\n   * @param {Function} [options.buildDebugString]\n   * @param {Function} [options.sanitizer]\n   *\n   * @returns\n   */\n  evaluate(template, context = {}, options = {}) {\n    const {\n      debug = false,\n      strict = false,\n      buildDebugString = err => ' {{}} ',\n      sanitizer = value => value\n    } = options;\n    return evaluate$1(template, context, {\n      debug,\n      strict,\n      buildDebugString,\n      sanitizer\n    });\n  }\n\n  /**\n   * @typedef {Object} ExpressionWithDepth\n   * @property {number} depth - The depth of the expression in the syntax tree.\n   * @property {string} expression - The extracted expression\n   */\n\n  /**\n  * Extracts all feel expressions in the template along with their depth in the syntax tree.\n  * The depth is incremented for child expressions of loops to account for context drilling.\n  * @name extractExpressionsWithDepth\n  * @param {string} template - A feelers template string.\n  * @returns {Array<ExpressionWithDepth>} An array of objects, each containing the depth and the extracted expression.\n  *\n  * @example\n  * const template = \"Hello {{user}}, you have:{{#loop items}}\\n- {{amount}} {{name}}{{/loop}}.\";\n  * const extractedExpressions = _extractExpressionsWithDepth(template);\n  */\n  _extractExpressionsWithDepth(template) {\n    // build simplified feelers syntax tree\n    const parseTree = parser.parse(template);\n    const tree = buildSimpleTree(parseTree, template);\n    return function _traverse(n, depth = 0) {\n      if (['Feel', 'FeelBlock'].includes(n.name)) {\n        return [{\n          depth,\n          expression: n.content\n        }];\n      }\n      if (n.name === 'LoopSpanner') {\n        const loopExpression = n.children[0].content;\n        const childResults = n.children.slice(1).reduce((acc, child) => {\n          return acc.concat(_traverse(child, depth + 1));\n        }, []);\n        return [{\n          depth,\n          expression: loopExpression\n        }, ...childResults];\n      }\n      return n.children.reduce((acc, child) => {\n        return acc.concat(_traverse(child, depth));\n      }, []);\n    }(tree);\n  }\n}\nFeelersTemplating.$inject = [];\n\n// config  ///////////////////\n\nconst MINUTES_IN_DAY = 60 * 24;\nconst DATETIME_SUBTYPES = {\n  DATE: 'date',\n  TIME: 'time',\n  DATETIME: 'datetime'\n};\nconst TIME_SERIALISING_FORMATS = {\n  UTC_OFFSET: 'utc_offset',\n  UTC_NORMALIZED: 'utc_normalized',\n  NO_TIMEZONE: 'no_timezone'\n};\nconst DATETIME_SUBTYPES_LABELS = {\n  [DATETIME_SUBTYPES.DATE]: 'Date',\n  [DATETIME_SUBTYPES.TIME]: 'Time',\n  [DATETIME_SUBTYPES.DATETIME]: 'Date & Time'\n};\nconst TIME_SERIALISINGFORMAT_LABELS = {\n  [TIME_SERIALISING_FORMATS.UTC_OFFSET]: 'UTC offset',\n  [TIME_SERIALISING_FORMATS.UTC_NORMALIZED]: 'UTC normalized',\n  [TIME_SERIALISING_FORMATS.NO_TIMEZONE]: 'No timezone'\n};\nconst DATETIME_SUBTYPE_PATH = ['subtype'];\nconst DATE_LABEL_PATH = ['dateLabel'];\nconst DATE_DISALLOW_PAST_PATH = ['disallowPassedDates'];\nconst TIME_LABEL_PATH = ['timeLabel'];\nconst TIME_USE24H_PATH = ['use24h'];\nconst TIME_INTERVAL_PATH = ['timeInterval'];\nconst TIME_SERIALISING_FORMAT_PATH = ['timeSerializingFormat'];\n\n// config  ///////////////////\n\nconst OPTIONS_SOURCES = {\n  STATIC: 'static',\n  INPUT: 'input',\n  EXPRESSION: 'expression'\n};\nconst OPTIONS_SOURCE_DEFAULT = OPTIONS_SOURCES.STATIC;\nconst OPTIONS_SOURCES_LABELS = {\n  [OPTIONS_SOURCES.STATIC]: 'Static',\n  [OPTIONS_SOURCES.INPUT]: 'Input data',\n  [OPTIONS_SOURCES.EXPRESSION]: 'Expression'\n};\nconst OPTIONS_SOURCES_PATHS = {\n  [OPTIONS_SOURCES.STATIC]: ['values'],\n  [OPTIONS_SOURCES.INPUT]: ['valuesKey'],\n  [OPTIONS_SOURCES.EXPRESSION]: ['valuesExpression']\n};\nconst OPTIONS_SOURCES_DEFAULTS = {\n  [OPTIONS_SOURCES.STATIC]: [{\n    label: 'Value',\n    value: 'value'\n  }],\n  [OPTIONS_SOURCES.INPUT]: '',\n  [OPTIONS_SOURCES.EXPRESSION]: '='\n};\n\n// helpers ///////////////////\n\nfunction getOptionsSource(field) {\n  for (const source of Object.values(OPTIONS_SOURCES)) {\n    if (get(field, OPTIONS_SOURCES_PATHS[source]) !== undefined) {\n      return source;\n    }\n  }\n  return OPTIONS_SOURCE_DEFAULT;\n}\n\nconst SANDBOX_ATTRIBUTE = 'sandbox';\nconst ALLOW_ATTRIBUTE = 'allow';\n\n// Cf. https://developer.mozilla.org/en-US/docs/Web/HTTP/Permissions_Policy#iframe_syntax\nconst SECURITY_ATTRIBUTES_DEFINITIONS = [{\n  attribute: SANDBOX_ATTRIBUTE,\n  directive: 'allow-scripts',\n  property: 'allowScripts',\n  label: 'Script execution'\n}, {\n  attribute: SANDBOX_ATTRIBUTE,\n  directive: 'allow-same-origin',\n  property: 'allowSameOrigin',\n  label: 'Allow same origin'\n}, {\n  attribute: ALLOW_ATTRIBUTE,\n  directive: 'fullscreen',\n  property: 'fullscreen',\n  label: 'Open in fullscreen'\n}, {\n  attribute: ALLOW_ATTRIBUTE,\n  directive: 'geolocation',\n  property: 'geolocation',\n  label: 'Geolocation'\n}, {\n  attribute: ALLOW_ATTRIBUTE,\n  directive: 'camera',\n  property: 'camera',\n  label: 'Camera access'\n}, {\n  attribute: ALLOW_ATTRIBUTE,\n  directive: 'microphone',\n  property: 'microphone',\n  label: 'Microphone access'\n}, {\n  attribute: SANDBOX_ATTRIBUTE,\n  directive: 'allow-forms',\n  property: 'allowForms',\n  label: 'Forms submission'\n}, {\n  attribute: SANDBOX_ATTRIBUTE,\n  directive: 'allow-modals',\n  property: 'allowModals',\n  label: 'Open modal windows'\n}, {\n  attribute: SANDBOX_ATTRIBUTE,\n  directive: 'allow-popups',\n  property: 'allowPopups',\n  label: 'Open popups'\n}, {\n  attribute: SANDBOX_ATTRIBUTE,\n  directive: 'allow-top-navigation',\n  property: 'allowTopNavigation',\n  label: 'Top level navigation'\n}, {\n  attribute: SANDBOX_ATTRIBUTE,\n  directive: 'allow-storage-access-by-user-activation',\n  property: 'allowStorageAccessByUserActivation',\n  label: 'Storage access by user'\n}];\n\nconst TEXT_VIEW_DEFAULT_TEXT = '# Text';\n\nfunction createInjector(bootstrapModules) {\n  const injector = new Injector(bootstrapModules);\n  injector.init();\n  return injector;\n}\n\n/**\n * @param {string?} prefix\n *\n * @returns Element\n */\nfunction createFormContainer(prefix = 'fjs') {\n  const container = document.createElement('div');\n  container.classList.add(`${prefix}-container`);\n  return container;\n}\n\nfunction formFieldClasses(type, {\n  errors = [],\n  disabled = false,\n  readonly = false\n} = {}) {\n  if (!type) {\n    throw new Error('type required');\n  }\n  return classNames('fjs-form-field', `fjs-form-field-${type}`, {\n    'fjs-has-errors': errors.length > 0,\n    'fjs-disabled': disabled,\n    'fjs-readonly': readonly\n  });\n}\nfunction gridColumnClasses(formField) {\n  const {\n    layout = {}\n  } = formField;\n  const {\n    columns\n  } = layout;\n  return classNames('fjs-layout-column', `cds--col${columns ? '-lg-' + columns : ''}`,\n  // always fall back to top-down on smallest screens\n  'cds--col-sm-16', 'cds--col-md-16');\n}\nfunction textToLabel(text) {\n  if (typeof text != 'string') return null;\n  for (const line of text.split('\\n')) {\n    const displayLine = line.trim();\n\n    // we use the first non-whitespace line in the text as label\n    if (displayLine !== '') {\n      return displayLine;\n    }\n  }\n  return null;\n}\nfunction prefixId(id, formId, indexes) {\n  let result = 'fjs-form';\n  if (formId) {\n    result += `-${formId}`;\n  }\n  result += `-${id}`;\n  Object.values(indexes || {}).forEach(index => {\n    result += `_${index}`;\n  });\n  return result;\n}\n\nconst FormRenderContext = createContext({\n  Empty: props => {\n    return null;\n  },\n  Hidden: props => {\n    return null;\n  },\n  Children: props => {\n    return jsx(\"div\", {\n      class: props.class,\n      style: props.style,\n      children: props.children\n    });\n  },\n  Element: props => {\n    return jsx(\"div\", {\n      class: props.class,\n      style: props.style,\n      children: props.children\n    });\n  },\n  Row: props => {\n    return jsx(\"div\", {\n      class: props.class,\n      style: props.style,\n      children: props.children\n    });\n  },\n  Column: props => {\n    if (props.field.type === 'default') {\n      return props.children;\n    }\n    return jsx(\"div\", {\n      class: props.class,\n      style: props.style,\n      children: props.children\n    });\n  },\n  hoverInfo: {\n    cleanup: () => {}\n  }\n});\n\nconst LocalExpressionContext = createContext({\n  data: null,\n  this: null,\n  parent: null,\n  i: null\n});\n\n/**\n * @param {string} type\n * @param {boolean} [strict]\n *\n * @returns {any}\n */\nfunction getService(type, strict) {}\nconst FormContext = createContext({\n  getService,\n  formId: null\n});\n\n/**\n * @template T\n * @param {string} type\n * @param {boolean} [strict=true]\n * @returns {T | null}\n */\nfunction useService(type, strict) {\n  const {\n    getService\n  } = useContext(FormContext);\n  return getService(type, strict);\n}\n\nfunction isRequired(field) {\n  return field.required;\n}\nfunction pathParse(path) {\n  if (!path) {\n    return [];\n  }\n  return path.split('.').map(key => {\n    return isNaN(parseInt(key)) ? key : parseInt(key);\n  });\n}\nfunction pathsEqual(a, b) {\n  return a && b && a.length === b.length && a.every((value, index) => value === b[index]);\n}\nconst indices = {};\nfunction generateIndexForType(type) {\n  if (type in indices) {\n    indices[type]++;\n  } else {\n    indices[type] = 1;\n  }\n  return indices[type];\n}\nfunction generateIdForType(type) {\n  return `${type}${generateIndexForType(type)}`;\n}\n\n/**\n * @template T\n * @param {T} data\n * @param {(this: any, key: string, value: any) => any} [replacer]\n * @return {T}\n */\nfunction clone(data, replacer) {\n  return JSON.parse(JSON.stringify(data, replacer));\n}\nfunction runRecursively(formField, fn) {\n  const components = formField.components || [];\n  components.forEach((component, _) => {\n    runRecursively(component, fn);\n  });\n  fn(formField);\n}\nfunction wrapObjectKeysWithUnderscores(obj) {\n  const newObj = {};\n  for (const [key, value] of Object.entries(obj)) {\n    newObj[`_${key}_`] = value;\n  }\n  return newObj;\n}\n\n/**\n * Transform a LocalExpressionContext object into a usable FEEL context.\n *\n * @param {Object} context - The LocalExpressionContext object.\n * @returns {Object} The usable FEEL context.\n */\n\nfunction buildExpressionContext(context) {\n  const {\n    data,\n    ...specialContextKeys\n  } = context;\n  return {\n    ...specialContextKeys,\n    ...data,\n    ...wrapObjectKeysWithUnderscores(specialContextKeys)\n  };\n}\n\n/**\n * If the value is a valid expression, it is evaluated and returned. Otherwise, it is returned as-is.\n *\n * @param {any} expressionLanguage - The expression language to use.\n * @param {any} value - The static value or expression to evaluate.\n * @param {Object} expressionContextInfo - The context information to use.\n * @returns {any} - Evaluated value or the original value if not an expression.\n */\nfunction runExpressionEvaluation(expressionLanguage, value, expressionContextInfo) {\n  if (expressionLanguage && expressionLanguage.isExpression(value)) {\n    return expressionLanguage.evaluate(value, buildExpressionContext(expressionContextInfo));\n  }\n  return value;\n}\n\n/**\n * Evaluate if condition is met reactively based on the conditionChecker and form data.\n *\n * @param {string | undefined} condition\n *\n * @returns {boolean} true if condition is met or no condition or condition checker exists\n */\nfunction useCondition(condition) {\n  const conditionChecker = useService('conditionChecker', false);\n  const expressionContextInfo = useContext(LocalExpressionContext);\n  return useMemo(() => {\n    return conditionChecker ? conditionChecker.check(condition, buildExpressionContext(expressionContextInfo)) : null;\n  }, [conditionChecker, condition, expressionContextInfo]);\n}\n\n/**\n * Returns the options data for the provided if they can be simply determined, ignoring expression defined options.\n *\n * @param {object} formField\n * @param {object} formData\n */\nfunction getSimpleOptionsData(formField, formData) {\n  const {\n    valuesExpression: optionsExpression,\n    valuesKey: optionsKey,\n    values: staticOptions\n  } = formField;\n  if (optionsExpression) {\n    return null;\n  }\n  return optionsKey ? get(formData, [optionsKey]) : staticOptions;\n}\n\n/**\n * Normalizes the provided options data to a format that can be used by the select components.\n * If the options data is not valid, it is filtered out.\n *\n * @param {any[]} optionsData\n *\n * @returns {object[]}\n */\nfunction normalizeOptionsData(optionsData) {\n  return optionsData.filter(_isAllowedValue).map(_normalizeOption).filter(o => !isNil(o));\n}\n\n/**\n * Creates an options object with default values if no options are provided.\n *\n * @param {object} options\n *\n * @returns {object}\n */\nfunction createEmptyOptions(options = {}) {\n  const defaults = {};\n\n  // provide default options if valuesKey and valuesExpression are not set\n  if (!options.valuesKey && !options.valuesExpression) {\n    defaults.values = [{\n      label: 'Value',\n      value: 'value'\n    }];\n  }\n  return {\n    ...defaults,\n    ...options\n  };\n}\n\n/**\n * Converts the provided option to a normalized format.\n * If the option is not valid, null is returned.\n *\n * @param {object} option\n * @param {string} option.label\n * @param {*} option.value\n *\n * @returns\n */\nfunction _normalizeOption(option) {\n  // (1) simple primitive case, use it as both label and value\n  if (_isAllowedPrimitive(option)) {\n    return {\n      value: option,\n      label: `${option}`\n    };\n  }\n  if (isObject(option)) {\n    const isValidLabel = _isValidLabel(option.label);\n\n    // (2) no label provided, but value is a simple primitive, use it as label and value\n    if (!isValidLabel && _isAllowedPrimitive(option.value)) {\n      return {\n        value: option.value,\n        label: `${option.value}`\n      };\n    }\n\n    // (3) both label and value are provided, use them as is\n    if (isValidLabel && _isAllowedValue(option.value)) {\n      return option;\n    }\n  }\n  return null;\n}\nfunction _isAllowedPrimitive(value) {\n  const isAllowedPrimitiveType = ['number', 'string', 'boolean'].includes(typeof value);\n  const isValid = value || value === 0 || value === false;\n  return isAllowedPrimitiveType && isValid;\n}\nfunction _isValidLabel(label) {\n  return label && isString(label);\n}\nfunction _isAllowedValue(value) {\n  if (isObject(value)) {\n    return Object.keys(value).length > 0;\n  }\n  return _isAllowedPrimitive(value);\n}\n\n/**\n * If the value is a valid expression, it is evaluated and returned. Otherwise, it is returned as-is.\n * The function is memoized to minimize re-renders.\n *\n * @param {any} value - A static value or expression to evaluate.\n * @returns {any} - Evaluated value or the original value if not an expression.\n */\nfunction useExpressionEvaluation(value) {\n  const expressionLanguage = useService('expressionLanguage');\n  const expressionContextInfo = useContext(LocalExpressionContext);\n  return useMemo(() => runExpressionEvaluation(expressionLanguage, value, expressionContextInfo), [expressionLanguage, expressionContextInfo, value]);\n}\n\n/**\n * A custom hook to manage state changes with deep comparison.\n *\n * @template T\n * @param {T} value - The current value to manage.\n * @returns {T} - Returns the current state.\n */\nfunction useDeepCompareMemoize(value) {\n  /** @type {import(\"preact\").RefObject<T>} */\n  const ref = useRef();\n  if (!isEqual(value, ref.current)) {\n    ref.current = value;\n  }\n  return ref.current;\n}\n\n/**\n * @enum { String }\n */\nconst LOAD_STATES = {\n  LOADED: 'loaded',\n  ERROR: 'error'\n};\n\n/**\n * @typedef {Object} OptionsGetter\n * @property {Object[]} options - The options data\n * @property {(LOAD_STATES)} loadState - The options data's loading state, to use for conditional rendering\n */\n\n/**\n * A hook to load options for single and multiselect components.\n *\n * @param {Object} field - The form field to handle options for\n * @return {OptionsGetter} optionsGetter - A options getter object providing loading state and options\n */\nfunction useOptionsAsync(field) {\n  const {\n    valuesExpression: optionsExpression,\n    valuesKey: optionsKey,\n    values: staticOptions\n  } = field;\n  const initialData = useService('form')._getState().initialData;\n  const expressionEvaluation = useExpressionEvaluation(optionsExpression);\n  const evaluatedOptions = useDeepCompareMemoize(expressionEvaluation || []);\n  const optionsGetter = useMemo(() => {\n    let options = [];\n\n    // dynamic options\n    if (optionsKey !== undefined) {\n      const keyedOptions = (initialData || {})[optionsKey];\n      if (keyedOptions && Array.isArray(keyedOptions)) {\n        options = keyedOptions;\n      }\n\n      // static options\n    } else if (staticOptions !== undefined) {\n      options = Array.isArray(staticOptions) ? staticOptions : [];\n\n      // expression\n    } else if (optionsExpression && evaluatedOptions && Array.isArray(evaluatedOptions)) {\n      options = evaluatedOptions;\n\n      // error case\n    } else {\n      return buildErrorState('No options source defined in the form definition');\n    }\n\n    // normalize data to support primitives and partially defined objects\n    return buildLoadedState(normalizeOptionsData(options));\n  }, [optionsKey, staticOptions, initialData, optionsExpression, evaluatedOptions]);\n  return optionsGetter;\n}\nconst buildErrorState = error => ({\n  options: [],\n  error,\n  loadState: LOAD_STATES.ERROR\n});\nconst buildLoadedState = options => ({\n  options,\n  error: undefined,\n  loadState: LOAD_STATES.LOADED\n});\n\n/**\n * Wrap HTML content in a configuration object for dangerouslySetInnerHTML\n * @param {Object} props\n * @param {string} props.html\n * @param {Function} [props.transform]\n * @param {boolean} [props.sanitize = true]\n * @param {boolean} [props.sanitizeStyleTags = true]\n */\nconst useDangerousHTMLWrapper = props => {\n  const {\n    html,\n    transform = html => html,\n    sanitize = true,\n    sanitizeStyleTags = true\n  } = props;\n  const sanitizedHtml = useMemo(() => sanitize ? DOMPurify.sanitize(html, getDOMPurifyConfig(sanitizeStyleTags)) : html, [html, sanitize, sanitizeStyleTags]);\n  const transformedHtml = useMemo(() => transform(sanitizedHtml), [sanitizedHtml, transform]);\n\n  // Return the configuration object for dangerouslySetInnerHTML\n  return {\n    __html: transformedHtml\n  };\n};\nconst getDOMPurifyConfig = sanitizeStyleTags => {\n  return {\n    FORCE_BODY: true,\n    FORBID_TAGS: sanitizeStyleTags ? ['style'] : []\n  };\n};\n\n/**\n * A custom hook to build up security attributes from form configuration.\n *\n * @param {Object} security - The security configuration.\n * @returns {Array} - Returns a tuple with sandbox and allow attributes.\n */\nfunction useSecurityAttributesMap(security) {\n  const securityMemoized = useDeepCompareMemoize(security);\n  const sandbox = useMemo(() => SECURITY_ATTRIBUTES_DEFINITIONS.filter(({\n    attribute\n  }) => attribute === SANDBOX_ATTRIBUTE).filter(({\n    property\n  }) => get(securityMemoized, [property], false)).map(({\n    directive\n  }) => directive).join(' '), [securityMemoized]);\n  const allow = useMemo(() => SECURITY_ATTRIBUTES_DEFINITIONS.filter(({\n    attribute\n  }) => attribute !== SANDBOX_ATTRIBUTE).filter(({\n    property\n  }) => get(securityMemoized, [property], false)).map(({\n    directive\n  }) => directive).join('; '), [securityMemoized]);\n  return [sandbox, allow];\n}\n\n/**\n * This hook allows us to retrieve the label from a value in linear time by caching it in a map\n * @param {Array} options\n */\nfunction useGetLabelCorrelation(options) {\n  // This allows us to retrieve the label from a value in linear time\n  const labelMap = useMemo(() => Object.assign({}, ...options.map(o => ({\n    [_getValueHash(o.value)]: o.label\n  }))), [options]);\n  return useCallback(value => labelMap[_getValueHash(value)], [labelMap]);\n}\nconst _getValueHash = value => {\n  return isObject(value) ? JSON.stringify(value) : value;\n};\n\n/**\n * Wrap CSS styles with a given prefix.\n *\n * @param {HTMLElement} rootNode\n * @param {string} prefix\n *\n * @returns {HTMLElement}\n */\nfunction wrapCSSStyles(rootNode, prefix) {\n  const styleTags = rootNode.querySelectorAll('style');\n  styleTags.forEach(styleTag => {\n    const topLevelRules = extractTopLevelRules(styleTag.textContent);\n    const scopedCss = topLevelRules.map(rule => {\n      const {\n        selector,\n        styles\n      } = splitRule(rule);\n      const scopedSelector = scopeSelector(selector, prefix);\n      return `${scopedSelector} ${styles}`;\n    }).join(' ');\n    styleTag.textContent = scopedCss;\n  });\n  return rootNode;\n}\nfunction extractTopLevelRules(cssString) {\n  let cursor = 0;\n  let start = 0;\n  let level = 0;\n  const topLevelRules = [];\n  while (cursor < cssString.length) {\n    if (cssString[cursor] === '{') {\n      level++;\n    }\n    if (cssString[cursor] === '}') {\n      level--;\n      if (level === 0) {\n        topLevelRules.push(cssString.substring(start, cursor + 1));\n        start = cursor + 1;\n      }\n    }\n    cursor++;\n  }\n  return topLevelRules.map(rule => rule.trim());\n}\nfunction splitRule(rule) {\n  const firstBracket = rule.indexOf('{');\n  const selector = rule.substring(0, firstBracket);\n  const styles = rule.substring(firstBracket);\n  return {\n    selector,\n    styles\n  };\n}\nfunction scopeSelector(selector, prefix) {\n  return selector.split(',').map(sel => `${prefix} ${sel.trim()}`).join(', ');\n}\nfunction getScrollContainer(el) {\n  while (el && el !== document.body && el !== document.documentElement) {\n    if (_isElementScrollable(el)) {\n      return el;\n    }\n    el = el.parentElement;\n  }\n  if (_isElementScrollable(document.body)) {\n    return document.body;\n  } else if (_isElementScrollable(document.documentElement)) {\n    return document.documentElement;\n  }\n  return null;\n}\nfunction _isElementScrollable(el) {\n  const style = window.getComputedStyle(el);\n  const overflowY = style.overflowY || style.overflow;\n  return (overflowY === 'auto' || overflowY === 'scroll') && el.scrollHeight > el.clientHeight;\n}\n\nconst EMPTY_OBJECT = {};\nconst EMPTY_ARRAY$2 = [];\n\n/**\n * Custom hook to scroll an element within a scrollable container.\n *\n * @param {Object} scrolledElementRef - A ref pointing to the DOM element to scroll into view.\n * @param {Array} deps - An array of dependencies that trigger the effect.\n * @param {Object} [scrollOptions={}] - Options defining the behavior of the scrolling.\n * @param {String} [scrollOptions.align='center'] - The alignment of the element within the viewport.\n * @param {String} [scrollOptions.behavior='auto'] - The scrolling behavior.\n * @param {Number} [scrollOptions.offset=0] - An offset that is added to the scroll position.\n * @param {Boolean} [scrollOptions.scrollIfVisible=false] - Whether to scroll even if the element is visible.\n * @param {Array} [flagRefs] - An array of refs that are used as flags to control when to scroll.\n */\nfunction useScrollIntoView(scrolledElementRef, deps, scrollOptions, flagRefs) {\n  const _scrollOptions = scrollOptions || EMPTY_OBJECT;\n  const _flagRefs = flagRefs || EMPTY_ARRAY$2;\n  useEffect(() => {\n    // return early if flags are not raised, or component is not mounted\n    if (some(_flagRefs, ref => !ref.current) || !scrolledElementRef.current) {\n      return;\n    }\n    for (let i = 0; i < _flagRefs.length; i++) {\n      _flagRefs[i].current = false;\n    }\n    const itemToBeScrolled = scrolledElementRef.current;\n    const scrollContainer = getScrollContainer(itemToBeScrolled);\n    if (!scrollContainer) {\n      return;\n    }\n    const itemRect = itemToBeScrolled.getBoundingClientRect();\n    const containerRect = scrollContainer.getBoundingClientRect();\n    const {\n      align = 'center',\n      offset = 0,\n      behavior = 'auto',\n      scrollIfVisible = false\n    } = _scrollOptions;\n    const shouldScroll = scrollIfVisible || !(itemRect.top >= containerRect.top && itemRect.bottom <= containerRect.bottom);\n    if (!shouldScroll) {\n      return;\n    }\n    const topOffset = _getTopOffset(itemToBeScrolled, scrollContainer, {\n      align,\n      offset\n    });\n    scrollContainer.scroll({\n      top: topOffset,\n      behavior\n    });\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, deps);\n}\n\n// helper //////////////////////\n\nfunction _getTopOffset(item, scrollContainer, options) {\n  const itemRect = item.getBoundingClientRect();\n  const containerRect = scrollContainer.getBoundingClientRect();\n  if (options.align === 'top') {\n    return itemRect.top - containerRect.top + scrollContainer.scrollTop - options.offset;\n  } else if (options.align === 'bottom') {\n    return itemRect.bottom - containerRect.top - scrollContainer.clientHeight + scrollContainer.scrollTop + options.offset;\n  } else if (options.align === 'center') {\n    return itemRect.top - containerRect.top - scrollContainer.clientHeight / 2 + scrollContainer.scrollTop + itemRect.height / 2 + options.offset;\n  }\n  return 0;\n}\n\n/**\n * If the value is a valid expression, we evaluate it. Otherwise, we continue with the value as-is.\n * If the resulting value isn't a boolean, we return 'false'\n * The function is memoized to minimize re-renders.\n *\n * @param {boolean | string} value - A static boolean or expression to evaluate.\n * @returns {boolean} - Evaluated boolean result.\n */\nfunction useBooleanExpressionEvaluation(value) {\n  const expressionLanguage = useService('expressionLanguage');\n  const expressionContextInfo = useContext(LocalExpressionContext);\n  return useMemo(() => {\n    const evaluationResult = runExpressionEvaluation(expressionLanguage, value, expressionContextInfo);\n    return typeof evaluationResult === 'boolean' ? evaluationResult : false;\n  }, [expressionLanguage, expressionContextInfo, value]);\n}\n\n/**\n * Returns the conditionally filtered data of a form reactively.\n * Memoised to minimize re-renders\n *\n * Warning: costly operation, use with care\n */\nfunction useFilteredFormData() {\n  const {\n    initialData,\n    data\n  } = useService('form')._getState();\n  const conditionChecker = useService('conditionChecker', false);\n  return useMemo(() => {\n    const newData = conditionChecker ? conditionChecker.applyConditions(data, data) : data;\n    return {\n      ...initialData,\n      ...newData\n    };\n  }, [conditionChecker, data, initialData]);\n}\n\nfunction useKeyDownAction(targetKey, action, listenerElement = window) {\n  function downHandler({\n    key\n  }) {\n    if (key === targetKey) {\n      action();\n    }\n  }\n  useEffect(() => {\n    listenerElement.addEventListener('keydown', downHandler);\n    return () => {\n      listenerElement.removeEventListener('keydown', downHandler);\n    };\n  });\n}\n\n/**\n * Retrieve readonly value of a form field, given it can be an\n * expression optionally or configured globally.\n *\n * @typedef { import('../../types').FormProperties } FormProperties\n *\n * @param {any} formField\n * @param {FormProperties} properties\n *\n * @returns {boolean}\n */\nfunction useReadonly(formField, properties = {}) {\n  const expressionLanguage = useService('expressionLanguage');\n  const conditionChecker = useService('conditionChecker', false);\n  const expressionContextInfo = useContext(LocalExpressionContext);\n  const {\n    readonly\n  } = formField;\n  if (properties.readOnly) {\n    return true;\n  }\n  if (expressionLanguage && expressionLanguage.isExpression(readonly)) {\n    return conditionChecker ? conditionChecker.check(readonly, buildExpressionContext(expressionContextInfo)) : false;\n  }\n  return readonly || false;\n}\n\nfunction usePrevious(value, defaultValue = null) {\n  const ref = useRef(defaultValue);\n  useEffect(() => ref.current = value, [value]);\n  return ref.current;\n}\n\nfunction useFlushDebounce(func) {\n  const timeoutRef = useRef(null);\n  const lastArgsRef = useRef(null);\n  const config = useService('config', false);\n  const debounce = config && config.debounce;\n  const shouldDebounce = debounce !== false && debounce !== 0;\n  const delay = typeof debounce === 'number' ? debounce : 300;\n  const debounceFunc = useCallback((...args) => {\n    if (!shouldDebounce) {\n      func(...args);\n      return;\n    }\n    lastArgsRef.current = args;\n    if (timeoutRef.current) {\n      clearTimeout(timeoutRef.current);\n    }\n    timeoutRef.current = setTimeout(() => {\n      func(...lastArgsRef.current);\n      lastArgsRef.current = null;\n    }, delay);\n  }, [func, delay, shouldDebounce]);\n  const flushFunc = useCallback(() => {\n    if (timeoutRef.current) {\n      clearTimeout(timeoutRef.current);\n      if (lastArgsRef.current !== null) {\n        func(...lastArgsRef.current);\n        lastArgsRef.current = null;\n      }\n      timeoutRef.current = null;\n    }\n  }, [func]);\n  return [debounceFunc, flushFunc];\n}\n\n/**\n * Template a string reactively based on form data. If the string is not a template, it is returned as is.\n * Memoised to minimize re-renders\n *\n * @param {string} value\n * @param {Object} options\n * @param {boolean} [options.debug = false]\n * @param {boolean} [options.strict = false]\n * @param {Function} [options.sanitizer]\n * @param {Function} [options.buildDebugString]\n *\n */\nfunction useTemplateEvaluation(value, options = {}) {\n  const templating = useService('templating');\n  const expressionContextInfo = useContext(LocalExpressionContext);\n  return useMemo(() => {\n    if (templating && templating.isTemplate(value)) {\n      return templating.evaluate(value, buildExpressionContext(expressionContextInfo), options);\n    }\n    return value;\n  }, [templating, value, expressionContextInfo, options]);\n}\n\n/**\n * Template a string reactively based on form data. If the string is not a template, it is returned as is.\n * If the string contains multiple lines, only the first line is returned.\n * Memoised to minimize re-renders\n *\n * @param {string} value\n * @param {Object} [options]\n * @param {boolean} [options.debug = false]\n * @param {boolean} [options.strict = false]\n * @param {Function} [options.buildDebugString]\n *\n */\nfunction useSingleLineTemplateEvaluation(value, options = {}) {\n  const evaluatedTemplate = useTemplateEvaluation(value, options);\n  return useMemo(() => evaluatedTemplate && evaluatedTemplate.split('\\n')[0], [evaluatedTemplate]);\n}\n\nconst ENTER_KEYDOWN_EVENT = new KeyboardEvent('keydown', {\n  code: 'Enter',\n  key: 'Enter',\n  charCode: 13,\n  keyCode: 13,\n  bubbles: true\n});\nfunction focusRelevantFlatpickerDay(flatpickrInstance) {\n  if (!flatpickrInstance) return;\n  !flatpickrInstance.isOpen && flatpickrInstance.open();\n  const container = flatpickrInstance.calendarContainer;\n  const dayToFocus = container.querySelector('.flatpickr-day.selected') || container.querySelector('.flatpickr-day.today') || container.querySelector('.flatpickr-day');\n  dayToFocus && dayToFocus.focus();\n}\nfunction formatTime(use24h, minutes) {\n  if (minutes === null) return null;\n  const wrappedMinutes = minutes % (24 * 60);\n  const minute = minutes % 60;\n  let hour = Math.floor(wrappedMinutes / 60);\n  if (use24h) {\n    return _getZeroPaddedString(hour) + ':' + _getZeroPaddedString(minute);\n  }\n  hour = hour % 12 || 12;\n  const isPM = wrappedMinutes >= 12 * 60;\n  return _getZeroPaddedString(hour) + ':' + _getZeroPaddedString(minute) + ' ' + (isPM ? 'PM' : 'AM');\n}\nfunction parseInputTime(stringTime) {\n  let workingString = stringTime.toLowerCase();\n  const is12h = workingString.includes('am') || workingString.includes('pm');\n  if (is12h) {\n    const isPM = workingString.includes('pm');\n    const digits = workingString.match(/\\d+/g);\n    const displayHour = parseInt(digits && digits[0]);\n    const minute = parseInt(digits && digits[1]) || 0;\n    const isValidDisplayHour = isNumber(displayHour) && displayHour >= 1 && displayHour <= 12;\n    const isValidMinute = minute >= 0 && minute <= 59;\n    if (!isValidDisplayHour || !isValidMinute) return null;\n    const hour = displayHour % 12 + (isPM ? 12 : 0);\n    return hour * 60 + minute;\n  } else {\n    const digits = workingString.match(/\\d+/g);\n    const hour = parseInt(digits && digits[0]);\n    const minute = parseInt(digits && digits[1]);\n    const isValidHour = isNumber(hour) && hour >= 0 && hour <= 23;\n    const isValidMinute = isNumber(minute) && minute >= 0 && minute <= 59;\n    if (!isValidHour || !isValidMinute) return null;\n    return hour * 60 + minute;\n  }\n}\nfunction serializeTime(minutes, offset, timeSerializingFormat) {\n  if (timeSerializingFormat === TIME_SERIALISING_FORMATS.UTC_NORMALIZED) {\n    const normalizedMinutes = (minutes + offset + MINUTES_IN_DAY) % MINUTES_IN_DAY;\n    return _getZeroPaddedString(Math.floor(normalizedMinutes / 60)) + ':' + _getZeroPaddedString(normalizedMinutes % 60) + 'Z';\n  }\n  const baseTime = _getZeroPaddedString(Math.floor(minutes / 60)) + ':' + _getZeroPaddedString(minutes % 60);\n  const addUTCOffset = timeSerializingFormat === TIME_SERIALISING_FORMATS.UTC_OFFSET;\n  return baseTime + (addUTCOffset ? formatTimezoneOffset(offset) : '');\n}\nfunction parseIsoTime(isoTimeString) {\n  if (!isoTimeString) return null;\n  const parseBasicMinutes = timeString => {\n    const timeSegments = timeString.split(':');\n    const hour = parseInt(timeSegments[0]);\n    const minute = timeSegments.length > 1 ? parseInt(timeSegments[1]) : 0;\n    if (isNaN(hour) || hour < 0 || hour > 24 || isNaN(minute) || minute < 0 || minute > 60) return null;\n    return hour * 60 + minute;\n  };\n  const localOffset = new Date().getTimezoneOffset();\n\n  // Parse normalized time\n  if (isoTimeString.includes('Z')) {\n    isoTimeString = isoTimeString.replace('Z', '');\n    const minutes = parseBasicMinutes(isoTimeString);\n    if (minutes === null) return null;\n    return (minutes - localOffset + MINUTES_IN_DAY) % MINUTES_IN_DAY;\n  }\n\n  // Parse offset positive time\n  else if (isoTimeString.includes('+')) {\n    const [timeString, offsetString] = isoTimeString.split('+');\n    const minutes = parseBasicMinutes(timeString);\n    let inboundOffset = parseBasicMinutes(offsetString);\n    if (minutes === null || inboundOffset === null) return null;\n\n    // The offset is flipped for consistency with javascript\n    inboundOffset = -inboundOffset;\n    return (minutes + inboundOffset - localOffset + MINUTES_IN_DAY) % MINUTES_IN_DAY;\n  }\n\n  // Parse offset negative time\n  else if (isoTimeString.includes('-')) {\n    const [timeString, offsetString] = isoTimeString.split('-');\n    const minutes = parseBasicMinutes(timeString);\n    let inboundOffset = parseBasicMinutes(offsetString);\n    if (minutes === null || inboundOffset === null) return null;\n    return (minutes + inboundOffset - localOffset + MINUTES_IN_DAY) % MINUTES_IN_DAY;\n  }\n\n  // Default to local parsing\n  else {\n    return parseBasicMinutes(isoTimeString);\n  }\n}\n\n/**\n * Returns the date object as a simple 'YYYY-MM-DD' formatted date in the local timezone.\n *\n * @param {*} date The date object to serialize.\n * @returns {string} The serialized date.\n */\nfunction serializeDate(date) {\n  return DateTime.fromJSDate(date).toISODate();\n}\n// this method is used to make the `new Date(value)` parsing behavior stricter\nfunction isDateTimeInputInformationSufficient(value) {\n  if (!value || typeof value !== 'string') return false;\n  const segments = value.split('T');\n  if (segments.length != 2) return false;\n  const dateNumbers = segments[0].split('-');\n  if (dateNumbers.length != 3) return false;\n  return true;\n}\n\n// this method checks if the date isn't a datetime, or a partial date\nfunction isDateInputInformationMatching(value) {\n  if (!value || typeof value !== 'string') return false;\n  if (value.includes('T')) return false;\n  const dateNumbers = value.split('-');\n  if (dateNumbers.length != 3) return false;\n  return true;\n}\nfunction serializeDateTime(date, time, timeSerializingFormat) {\n  const workingDate = new Date();\n  workingDate.setFullYear(date.getFullYear(), date.getMonth(), date.getDate());\n  workingDate.setHours(Math.floor(time / 60), time % 60, 0, 0);\n  if (timeSerializingFormat === TIME_SERIALISING_FORMATS.UTC_NORMALIZED) {\n    const timezoneOffsetMinutes = workingDate.getTimezoneOffset();\n    const dayOffset = time + timezoneOffsetMinutes < 0 ? -1 : time + timezoneOffsetMinutes > MINUTES_IN_DAY ? 1 : 0;\n\n    // Apply the date rollover pre-emptively\n    workingDate.setHours(workingDate.getHours() + dayOffset * 24);\n  }\n  return serializeDate(workingDate) + 'T' + serializeTime(time, workingDate.getTimezoneOffset(), timeSerializingFormat);\n}\nfunction formatTimezoneOffset(minutes) {\n  return _getSignedPaddedHours(minutes) + ':' + _getZeroPaddedString(Math.abs(minutes % 60));\n}\nfunction isInvalidDateString(value) {\n  return isNaN(new Date(Date.parse(value)).getTime());\n}\nfunction getNullDateTime() {\n  return {\n    date: new Date(Date.parse(null)),\n    time: null\n  };\n}\nfunction isValidDate(date) {\n  return date && !isNaN(date.getTime());\n}\nfunction isValidTime(time) {\n  return !isNaN(parseInt(time));\n}\nfunction _getSignedPaddedHours(minutes) {\n  if (minutes > 0) {\n    return '-' + _getZeroPaddedString(Math.floor(minutes / 60));\n  } else {\n    return '+' + _getZeroPaddedString(Math.floor((0 - minutes) / 60));\n  }\n}\nfunction _getZeroPaddedString(time) {\n  return time.toString().padStart(2, '0');\n}\n\nconst ALLOWED_IMAGE_SRC_PATTERN = /^(https?|data):.*/i;\nconst ALLOWED_IFRAME_SRC_PATTERN = /^(https):\\/\\/*/i;\nfunction sanitizeDateTimePickerValue(options) {\n  const {\n    formField,\n    value\n  } = options;\n  const {\n    subtype\n  } = formField;\n  if (typeof value !== 'string') return null;\n  if (subtype === DATETIME_SUBTYPES.DATE && (isInvalidDateString(value) || !isDateInputInformationMatching(value))) return null;\n  if (subtype === DATETIME_SUBTYPES.TIME && parseIsoTime(value) === null) return null;\n  if (subtype === DATETIME_SUBTYPES.DATETIME && (isInvalidDateString(value) || !isDateTimeInputInformationSufficient(value))) return null;\n  return value;\n}\nfunction hasEqualValue(value, array) {\n  if (!Array.isArray(array)) {\n    return false;\n  }\n  return array.some(element => isEqual(value, element));\n}\nfunction sanitizeSingleSelectValue(options) {\n  const {\n    formField,\n    data,\n    value\n  } = options;\n  const {\n    valuesExpression: optionsExpression\n  } = formField;\n  try {\n    // if options are expression evaluated, we don't need to sanitize the value against the options\n    // and defer to the field's internal validation\n    if (optionsExpression) {\n      return value;\n    }\n    const validValues = normalizeOptionsData(getSimpleOptionsData(formField, data)).map(v => v.value);\n    return hasEqualValue(value, validValues) ? value : null;\n  } catch (error) {\n    // use default value in case of formatting error\n    // TODO(@Skaiir): log a warning when this happens - https://github.com/bpmn-io/form-js/issues/289\n    return null;\n  }\n}\nfunction sanitizeMultiSelectValue(options) {\n  const {\n    formField,\n    data,\n    value\n  } = options;\n  const {\n    valuesExpression: optionsExpression\n  } = formField;\n  try {\n    // if options are expression evaluated, we don't need to sanitize the values against the options\n    // and defer to the field's internal validation\n    if (optionsExpression) {\n      return value;\n    }\n    const validValues = normalizeOptionsData(getSimpleOptionsData(formField, data)).map(v => v.value);\n    return value.filter(v => hasEqualValue(v, validValues));\n  } catch (error) {\n    // use default value in case of formatting error\n    // TODO(@Skaiir): log a warning when this happens - https://github.com/bpmn-io/form-js/issues/289\n    return [];\n  }\n}\n\n/**\n * Sanitizes an image source to ensure we only allow for data URI and links\n * that start with http(s).\n *\n * Note: Most browsers anyway do not support script execution in <img> elements.\n *\n * @param {string} src\n * @returns {string}\n */\nfunction sanitizeImageSource(src) {\n  const valid = ALLOWED_IMAGE_SRC_PATTERN.test(src);\n  return valid ? src : '';\n}\n\n/**\n * Sanitizes an iframe source to ensure we only allow for links\n * that start with http(s).\n *\n * @param {string} src\n * @returns {string}\n */\nfunction sanitizeIFrameSource(src) {\n  const valid = ALLOWED_IFRAME_SRC_PATTERN.test(src);\n  return valid ? src : '';\n}\n\n/**\n * Escapes HTML and returns pure text.\n * @param {string} html\n * @returns {string}\n */\nfunction escapeHTML(html) {\n  const escapeMap = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#039;',\n    '{': '&#123;',\n    '}': '&#125;',\n    ':': '&#58;',\n    ';': '&#59;'\n  };\n  return html.replace(/[&<>\"'{};:]/g, match => escapeMap[match]);\n}\n\nfunction useCleanupSingleSelectValue(props) {\n  const {\n    field,\n    options,\n    loadState,\n    onChange,\n    value\n  } = props;\n\n  // Ensures that the value is always one of the possible options\n  useEffect(() => {\n    if (loadState !== LOAD_STATES.LOADED) {\n      return;\n    }\n    const optionValues = options.map(o => o.value);\n    const hasValueNotInOptions = value && !hasEqualValue(value, optionValues);\n    if (hasValueNotInOptions) {\n      onChange({\n        field,\n        value: null\n      });\n    }\n  }, [field, options, onChange, value, loadState]);\n}\n\nfunction useCleanupMultiSelectValue(props) {\n  const {\n    field,\n    options,\n    loadState,\n    onChange,\n    values\n  } = props;\n  const memoizedValues = useDeepCompareMemoize(values || []);\n\n  // ensures that the values are always a subset of the possible options\n  useEffect(() => {\n    if (loadState !== LOAD_STATES.LOADED) {\n      return;\n    }\n    const optionValues = options.map(o => o.value);\n    const hasValuesNotInOptions = memoizedValues.some(v => !hasEqualValue(v, optionValues));\n    if (hasValuesNotInOptions) {\n      onChange({\n        field,\n        value: memoizedValues.filter(v => hasEqualValue(v, optionValues))\n      });\n    }\n  }, [field, options, onChange, memoizedValues, loadState]);\n}\n\nconst type$j = 'button';\nfunction Button(props) {\n  const {\n    disabled,\n    onFocus,\n    onBlur,\n    field\n  } = props;\n  const {\n    action = 'submit'\n  } = field;\n  const evaluatedLabel = useSingleLineTemplateEvaluation(field.label || '', {\n    debug: true\n  });\n  return jsx(\"div\", {\n    class: formFieldClasses(type$j),\n    children: jsx(\"button\", {\n      class: \"fjs-button\",\n      type: action,\n      disabled: disabled,\n      onFocus: () => onFocus && onFocus(),\n      onBlur: () => onBlur && onBlur(),\n      children: evaluatedLabel\n    })\n  });\n}\nButton.config = {\n  type: type$j,\n  keyed: false,\n  name: 'Button',\n  group: 'action',\n  create: (options = {}) => ({\n    label: 'Button',\n    action: 'submit',\n    ...options\n  })\n};\n\nfunction Description(props) {\n  const {\n    description,\n    id\n  } = props;\n  const evaluatedDescription = useSingleLineTemplateEvaluation(description || '', {\n    debug: true\n  });\n  if (!evaluatedDescription) {\n    return null;\n  }\n  return jsx(\"div\", {\n    id: id,\n    class: \"fjs-form-field-description\",\n    children: evaluatedDescription\n  });\n}\n\n/**\n * @typedef Props\n * @property {string} id\n * @property {string[]} errors\n *\n * @param {Props} props\n * @returns {import(\"preact\").JSX.Element}\n */\nfunction Errors(props) {\n  const {\n    errors,\n    id\n  } = props;\n  if (!errors.length) {\n    return null;\n  }\n  return jsx(\"div\", {\n    class: \"fjs-form-field-error\",\n    \"aria-live\": \"polite\",\n    id: id,\n    children: jsx(\"ul\", {\n      children: errors.map((error, index) => {\n        return jsx(\"li\", {\n          children: error\n        }, index);\n      })\n    })\n  });\n}\n\nfunction Label(props) {\n  const {\n    id,\n    htmlFor,\n    label,\n    collapseOnEmpty = true,\n    required = false\n  } = props;\n  const evaluatedLabel = useSingleLineTemplateEvaluation(label || '', {\n    debug: true\n  });\n  return jsxs(\"label\", {\n    id: id,\n    htmlFor: htmlFor,\n    class: classNames('fjs-form-field-label', {\n      'fjs-incollapsible-label': !collapseOnEmpty\n    }, props['class']),\n    children: [props.children, evaluatedLabel, required && jsx(\"span\", {\n      class: \"fjs-asterix\",\n      \"aria-hidden\": true,\n      children: \"*\"\n    })]\n  });\n}\n\nconst type$i = 'checkbox';\nfunction Checkbox(props) {\n  const {\n    disabled,\n    errors = [],\n    domId,\n    onBlur,\n    onFocus,\n    field,\n    readonly,\n    value = false\n  } = props;\n  const {\n    description,\n    label,\n    validate = {}\n  } = field;\n  const {\n    required\n  } = validate;\n  const onChange = ({\n    target\n  }) => {\n    props.onChange({\n      value: target.checked\n    });\n  };\n  const descriptionId = `${domId}-description`;\n  const errorMessageId = `${domId}-error-message`;\n  return jsxs(\"div\", {\n    class: classNames(formFieldClasses(type$i, {\n      errors,\n      disabled,\n      readonly\n    }), {\n      'fjs-checked': value\n    }),\n    children: [jsxs(\"div\", {\n      class: \"fjs-inline-label\",\n      children: [jsx(\"input\", {\n        checked: value,\n        class: \"fjs-input\",\n        disabled: disabled,\n        readOnly: readonly,\n        id: domId,\n        type: \"checkbox\",\n        onChange: onChange,\n        onBlur: () => onBlur && onBlur(),\n        onFocus: () => onFocus && onFocus(),\n        required: required,\n        \"aria-invalid\": errors.length > 0,\n        \"aria-describedby\": [descriptionId, errorMessageId].join(' ')\n      }), jsx(Label, {\n        htmlFor: domId,\n        label: label,\n        required: required\n      })]\n    }), jsx(Description, {\n      id: descriptionId,\n      description: description\n    }), jsx(Errors, {\n      id: errorMessageId,\n      errors: errors\n    })]\n  });\n}\nCheckbox.config = {\n  type: type$i,\n  keyed: true,\n  name: 'Checkbox',\n  group: 'selection',\n  emptyValue: false,\n  sanitizeValue: ({\n    value\n  }) => value === true,\n  create: (options = {}) => ({\n    label: 'Checkbox',\n    ...options\n  })\n};\n\nconst type$h = 'checklist';\nfunction Checklist(props) {\n  const {\n    disabled,\n    errors = [],\n    domId,\n    onBlur,\n    onFocus,\n    field,\n    readonly,\n    value: values = []\n  } = props;\n  const {\n    description,\n    label,\n    validate = {}\n  } = field;\n\n  /** @type {import(\"preact\").RefObject<HTMLDivElement>} */\n  const outerDivRef = useRef();\n  const {\n    required\n  } = validate;\n  const toggleCheckbox = toggledValue => {\n    const newValues = hasEqualValue(toggledValue, values) ? values.filter(value => !isEqual(value, toggledValue)) : [...values, toggledValue];\n    props.onChange({\n      value: newValues\n    });\n  };\n  const onCheckboxBlur = e => {\n    if (outerDivRef.current.contains(e.relatedTarget)) {\n      return;\n    }\n    onBlur && onBlur();\n  };\n  const onCheckboxFocus = e => {\n    if (outerDivRef.current.contains(e.relatedTarget)) {\n      return;\n    }\n    onFocus && onFocus();\n  };\n  const {\n    loadState,\n    options\n  } = useOptionsAsync(field);\n  useCleanupMultiSelectValue({\n    field,\n    loadState,\n    options,\n    values,\n    onChange: props.onChange\n  });\n  const descriptionId = `${domId}-description`;\n  const errorMessageId = `${domId}-error-message`;\n  return jsxs(\"div\", {\n    class: classNames(formFieldClasses(type$h, {\n      errors,\n      disabled,\n      readonly\n    })),\n    ref: outerDivRef,\n    children: [jsx(Label, {\n      label: label,\n      required: required\n    }), loadState == LOAD_STATES.LOADED && options.map((option, index) => {\n      const itemDomId = `${domId}-${index}`;\n      const isChecked = hasEqualValue(option.value, values);\n      return jsxs(\"div\", {\n        className: classNames('fjs-inline-label', {\n          'fjs-checked': isChecked\n        }),\n        children: [jsx(\"input\", {\n          checked: isChecked,\n          class: \"fjs-input\",\n          disabled: disabled,\n          readOnly: readonly,\n          id: itemDomId,\n          type: \"checkbox\",\n          onClick: () => toggleCheckbox(option.value),\n          onBlur: onCheckboxBlur,\n          onFocus: onCheckboxFocus,\n          required: required,\n          \"aria-invalid\": errors.length > 0,\n          \"aria-describedby\": [descriptionId, errorMessageId].join(' ')\n        }), jsx(Label, {\n          htmlFor: itemDomId,\n          label: option.label,\n          required: false\n        })]\n      }, option.value);\n    }), jsx(Description, {\n      id: descriptionId,\n      description: description\n    }), jsx(Errors, {\n      id: errorMessageId,\n      errors: errors\n    })]\n  });\n}\nChecklist.config = {\n  type: type$h,\n  keyed: true,\n  name: 'Checkbox group',\n  group: 'selection',\n  emptyValue: [],\n  sanitizeValue: sanitizeMultiSelectValue,\n  create: (options = {}) => ({\n    label: 'Checkbox group',\n    ...createEmptyOptions(options)\n  })\n};\n\nconst noop$1 = () => false;\nconst ids$2 = new Ids([32, 36, 1]);\nfunction FormField(props) {\n  const instanceIdRef = useRef(ids$2.next());\n  const {\n    field,\n    indexes,\n    onChange: _onChange\n  } = props;\n  const formFields = useService('formFields'),\n    viewerCommands = useService('viewerCommands', false),\n    formFieldInstanceRegistry = useService('formFieldInstanceRegistry', false),\n    pathRegistry = useService('pathRegistry'),\n    eventBus = useService('eventBus'),\n    form = useService('form');\n  const {\n    initialData,\n    data,\n    errors,\n    properties\n  } = form._getState();\n  const {\n    Element,\n    Hidden,\n    Column\n  } = useContext(FormRenderContext);\n  const {\n    formId\n  } = useContext(FormContext);\n\n  // track whether we should trigger initial validation on certain actions, e.g. field blur\n  // disabled straight away, if viewerCommands are not available\n  const [initialValidationTrigger, setInitialValidationTrigger] = useState(!!viewerCommands);\n  const FormFieldComponent = formFields.get(field.type);\n  if (!FormFieldComponent) {\n    throw new Error(`cannot render field <${field.type}>`);\n  }\n  const fieldConfig = FormFieldComponent.config;\n  const localExpressionContext = useContext(LocalExpressionContext);\n  const valuePath = useMemo(() => pathRegistry.getValuePath(field, {\n    indexes\n  }), [field, indexes, pathRegistry]);\n  const initialValue = useMemo(() => get(initialData, valuePath), [initialData, valuePath]);\n  const readonly = useReadonly(field, properties);\n  const value = get(data, valuePath);\n\n  // add precedence: global readonly > form field disabled\n  const disabled = !properties.readOnly && (properties.disabled || field.disabled || false);\n  const hidden = useCondition(field.conditional && field.conditional.hide || null);\n  const instanceId = useMemo(() => {\n    if (!formFieldInstanceRegistry) {\n      return null;\n    }\n    return formFieldInstanceRegistry.syncInstance(instanceIdRef.current, {\n      id: field.id,\n      expressionContextInfo: localExpressionContext,\n      valuePath,\n      value,\n      indexes,\n      hidden\n    });\n  }, [formFieldInstanceRegistry, field.id, localExpressionContext, valuePath, value, indexes, hidden]);\n  const fieldInstance = instanceId ? formFieldInstanceRegistry.get(instanceId) : null;\n\n  // cleanup the instance on unmount\n  useEffect(() => {\n    const instanceId = instanceIdRef.current;\n    if (formFieldInstanceRegistry) {\n      return () => formFieldInstanceRegistry.cleanupInstance(instanceId);\n    }\n  }, [formFieldInstanceRegistry]);\n\n  // ensures the initial validation behavior can be re-triggered upon form reset\n  useEffect(() => {\n    if (!viewerCommands) {\n      return;\n    }\n    const resetValidation = () => {\n      setInitialValidationTrigger(true);\n    };\n    eventBus.on('import.done', resetValidation);\n    eventBus.on('reset', resetValidation);\n    return () => {\n      eventBus.off('import.done', resetValidation);\n      eventBus.off('reset', resetValidation);\n    };\n  }, [eventBus, viewerCommands]);\n  useEffect(() => {\n    const hasInitialValue = initialValue && !isEqual(initialValue, []);\n    if (initialValidationTrigger && hasInitialValue && fieldInstance) {\n      setInitialValidationTrigger(false);\n      viewerCommands.updateFieldInstanceValidation(fieldInstance, initialValue);\n    }\n  }, [fieldInstance, initialValidationTrigger, initialValue, viewerCommands]);\n  const onBlur = useCallback(() => {\n    const value = get(data, valuePath);\n    if (initialValidationTrigger) {\n      setInitialValidationTrigger(false);\n      viewerCommands.updateFieldInstanceValidation(fieldInstance, value);\n    }\n    eventBus.fire('formField.blur', {\n      formField: field\n    });\n  }, [data, eventBus, field, fieldInstance, initialValidationTrigger, valuePath, viewerCommands]);\n  const onFocus = useCallback(() => {\n    eventBus.fire('formField.focus', {\n      formField: field\n    });\n  }, [eventBus, field]);\n  const onChange = useCallback(update => {\n    setInitialValidationTrigger(false);\n    _onChange({\n      field,\n      indexes,\n      fieldInstance,\n      ...update\n    });\n  }, [_onChange, field, fieldInstance, indexes]);\n  if (hidden) {\n    return jsx(Hidden, {\n      field: field\n    });\n  }\n  const domId = `${prefixId(field.id, formId, indexes)}`;\n  const fieldErrors = get(errors, [field.id, ...Object.values(indexes || {})]) || [];\n  const formFieldElement = jsx(FormFieldComponent, {\n    ...props,\n    disabled: disabled,\n    errors: fieldErrors,\n    domId: domId,\n    onChange: disabled || readonly ? noop$1 : onChange,\n    onBlur: disabled || readonly ? noop$1 : onBlur,\n    onFocus: disabled || readonly ? noop$1 : onFocus,\n    readonly: readonly,\n    value: value,\n    fieldInstance: fieldInstance\n  });\n  if (fieldConfig.escapeGridRender) {\n    return formFieldElement;\n  }\n  return jsx(Column, {\n    field: field,\n    class: gridColumnClasses(field),\n    children: jsx(Element, {\n      class: \"fjs-element\",\n      field: field,\n      children: formFieldElement\n    })\n  });\n}\n\nfunction ChildrenRenderer(props) {\n  const {\n    Children\n  } = useContext(FormRenderContext);\n  const {\n    field,\n    Empty\n  } = props;\n  const {\n    id\n  } = field;\n  const repeatRenderManager = useService('repeatRenderManager', false);\n  const isRepeating = repeatRenderManager && repeatRenderManager.isFieldRepeating(id);\n  const Repeater = repeatRenderManager.Repeater;\n  const RepeatFooter = repeatRenderManager.RepeatFooter;\n  return isRepeating ? jsx(RepeatChildrenRenderer, {\n    ...props,\n    ChildrenRoot: Children,\n    Empty,\n    Repeater,\n    RepeatFooter,\n    repeatRenderManager\n  }) : jsx(SimpleChildrenRenderer, {\n    ...props,\n    ChildrenRoot: Children,\n    Empty\n  });\n}\nfunction SimpleChildrenRenderer(props) {\n  const {\n    ChildrenRoot,\n    Empty,\n    field\n  } = props;\n  const {\n    components = []\n  } = field;\n  const isEmpty = !components.length;\n  return jsxs(ChildrenRoot, {\n    class: \"fjs-vertical-layout fjs-children cds--grid cds--grid--condensed\",\n    field: field,\n    children: [jsx(RowsRenderer, {\n      ...props\n    }), isEmpty ? jsx(Empty, {\n      field: field\n    }) : null]\n  });\n}\nfunction RepeatChildrenRenderer(props) {\n  const {\n    ChildrenRoot,\n    repeatRenderManager,\n    Empty,\n    field,\n    ...restProps\n  } = props;\n  const {\n    components = []\n  } = field;\n  const useSharedState = useState({\n    isCollapsed: true\n  });\n  const Repeater = repeatRenderManager.Repeater;\n  const RepeatFooter = repeatRenderManager.RepeatFooter;\n  return jsxs(Fragment, {\n    children: [jsxs(ChildrenRoot, {\n      class: \"fjs-vertical-layout fjs-children cds--grid cds--grid--condensed\",\n      field: field,\n      children: [Repeater ? jsx(Repeater, {\n        ...restProps,\n        useSharedState,\n        field,\n        RowsRenderer\n      }) : jsx(RowsRenderer, {\n        ...restProps,\n        field\n      }), !components.length ? jsx(Empty, {\n        field: field\n      }) : null]\n    }), RepeatFooter ? jsx(RepeatFooter, {\n      ...restProps,\n      useSharedState,\n      field\n    }) : null]\n  });\n}\nfunction RowsRenderer(props) {\n  const {\n    field,\n    indexes\n  } = props;\n  const {\n    id: parentId,\n    verticalAlignment = 'start'\n  } = field;\n  const formLayouter = useService('formLayouter');\n  const formFieldRegistry = useService('formFieldRegistry');\n  const rows = formLayouter.getRows(parentId);\n  const {\n    Row\n  } = useContext(FormRenderContext);\n  return jsxs(Fragment, {\n    children: [' ', rows.map(row => {\n      const {\n        components = []\n      } = row;\n      if (!components.length) {\n        return null;\n      }\n      return jsx(Row, {\n        row: row,\n        class: \"fjs-layout-row cds--row\",\n        style: {\n          alignItems: verticalAlignment\n        },\n        children: components.map(childId => {\n          const childField = formFieldRegistry.get(childId);\n          if (!childField) {\n            return null;\n          }\n          return createElement(FormField, {\n            ...props,\n            key: childId,\n            field: childField,\n            indexes: indexes\n          });\n        })\n      }, row.id);\n    }), ' ']\n  });\n}\n\nfunction Default(props) {\n  const {\n    Empty\n  } = useContext(FormRenderContext);\n  const fullProps = {\n    ...props,\n    Empty\n  };\n  return jsx(ChildrenRenderer, {\n    ...fullProps\n  });\n}\nDefault.config = {\n  type: 'default',\n  keyed: false,\n  label: null,\n  group: null,\n  create: (options = {}) => ({\n    components: [],\n    ...options\n  }),\n  getSubheading: field => field.id\n};\n\nvar _path$z;\nfunction _extends$A() { return _extends$A = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$A.apply(null, arguments); }\nvar SvgCalendar = function SvgCalendar(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends$A({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 14,\n    height: 15,\n    fill: \"none\",\n    viewBox: \"0 0 28 30\"\n  }, props), _path$z || (_path$z = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    d: \"M19 2H9V0H7v2H2a2 2 0 0 0-2 2v24a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2h-5V0h-2zM7 7V4H2v5h24V4h-5v3h-2V4H9v3zm-5 4v17h24V11z\",\n    clipRule: \"evenodd\"\n  })));\n};\n\n/**\n * Returns date format for the provided locale.\n * If the locale is not provided, uses the browser's locale.\n *\n * @param {string} [locale] - The locale to get date format for.\n * @returns {string} The date format for the locale.\n */\nfunction getLocaleDateFormat(locale = 'default') {\n  const parts = new Intl.DateTimeFormat(locale).formatToParts(new Date(Date.UTC(2020, 5, 5)));\n  return parts.map(part => {\n    const len = part.value.length;\n    switch (part.type) {\n      case 'day':\n        return 'd'.repeat(len);\n      case 'month':\n        return 'M'.repeat(len);\n      case 'year':\n        return 'y'.repeat(len);\n      default:\n        return part.value;\n    }\n  }).join('');\n}\n\n/**\n * Returns readable date format for the provided locale.\n * If the locale is not provided, uses the browser's locale.\n *\n * @param {string} [locale] - The locale to get readable date format for.\n * @returns {string} The readable date format for the locale.\n */\nfunction getLocaleReadableDateFormat(locale) {\n  let format = getLocaleDateFormat(locale).toLowerCase();\n\n  // Ensure month is in 'mm' format\n  if (!format.includes('mm')) {\n    format = format.replace('m', 'mm');\n  }\n\n  // Ensure day is in 'dd' format\n  if (!format.includes('dd')) {\n    format = format.replace('d', 'dd');\n  }\n  return format;\n}\n\n/**\n * Returns flatpickr config for the provided locale.\n * If the locale is not provided, uses the browser's locale.\n *\n * @param {string} [locale] - The locale to get flatpickr config for.\n * @returns {object} The flatpickr config for the locale.\n */\nfunction getLocaleDateFlatpickrConfig(locale) {\n  return flatpickerizeDateFormat(getLocaleDateFormat(locale));\n}\nfunction flatpickerizeDateFormat(dateFormat) {\n  const useLeadingZero = {\n    day: dateFormat.includes('dd'),\n    month: dateFormat.includes('MM'),\n    year: dateFormat.includes('yyyy')\n  };\n  dateFormat = useLeadingZero.day ? dateFormat.replace('dd', 'd') : dateFormat.replace('d', 'j');\n  dateFormat = useLeadingZero.month ? dateFormat.replace('MM', 'm') : dateFormat.replace('M', 'n');\n  dateFormat = useLeadingZero.year ? dateFormat.replace('yyyy', 'Y') : dateFormat.replace('yy', 'y');\n  return dateFormat;\n}\n\nfunction InputAdorner(props) {\n  const {\n    pre,\n    post,\n    rootRef,\n    inputRef,\n    children,\n    disabled,\n    readonly,\n    hasErrors\n  } = props;\n  const onAdornmentClick = () => inputRef && inputRef.current && inputRef.current.focus();\n  return jsxs(\"div\", {\n    class: classNames('fjs-input-group', {\n      'fjs-disabled': disabled,\n      'fjs-readonly': readonly\n    }, {\n      hasErrors: hasErrors\n    }),\n    ref: rootRef,\n    children: [pre && jsxs(\"span\", {\n      class: \"fjs-input-adornment border-right border-radius-left\",\n      onClick: onAdornmentClick,\n      children: [' ', isString(pre) ? jsx(\"span\", {\n        class: \"fjs-input-adornment-text\",\n        children: pre\n      }) : pre, ' ']\n    }), children, post && jsxs(\"span\", {\n      class: \"fjs-input-adornment border-left border-radius-right\",\n      onClick: onAdornmentClick,\n      children: [' ', isString(post) ? jsx(\"span\", {\n        class: \"fjs-input-adornment-text\",\n        children: post\n      }) : post, ' ']\n    })]\n  });\n}\n\nfunction Datepicker(props) {\n  const {\n    label,\n    domId,\n    collapseLabelOnEmpty,\n    onDateTimeBlur,\n    onDateTimeFocus,\n    required,\n    disabled,\n    disallowPassedDates,\n    date: dateObject,\n    readonly,\n    setDate\n  } = props;\n\n  /** @type {import(\"preact\").RefObject<HTMLInputElement>} */\n  const dateInputRef = useRef();\n\n  /** @type {import(\"preact\").RefObject<HTMLElement>} */\n  const focusScopeRef = useRef();\n  const [flatpickrInstance, setFlatpickrInstance] = useState(null);\n  const [isInputDirty, setIsInputDirty] = useState(false);\n  const [forceFocusCalendar, setForceFocusCalendar] = useState(false);\n\n  // ensures we render based on date value instead of reference\n  const date = useDeepCompareMemoize(dateObject);\n\n  // shorts the date value back to the source\n  useEffect(() => {\n    if (!flatpickrInstance || !flatpickrInstance.config) return;\n    flatpickrInstance.setDate(date, true);\n    setIsInputDirty(false);\n  }, [flatpickrInstance, date]);\n  useEffect(() => {\n    if (!forceFocusCalendar) return;\n    focusRelevantFlatpickerDay(flatpickrInstance);\n    setForceFocusCalendar(false);\n  }, [flatpickrInstance, forceFocusCalendar]);\n\n  // setup flatpickr instance\n  useEffect(() => {\n    let config = {\n      allowInput: true,\n      dateFormat: getLocaleDateFlatpickrConfig(),\n      static: true,\n      clickOpens: false,\n      // TODO: support dates prior to 1900 (https://github.com/bpmn-io/form-js/issues/533)\n      minDate: disallowPassedDates ? 'today' : '01/01/1900',\n      errorHandler: () => {\n        /* do nothing, we expect the values to sometimes be erronous and we don't want warnings polluting the console */\n      }\n    };\n    const instance = flatpickr(dateInputRef.current, config);\n    setFlatpickrInstance(instance);\n    const onCalendarFocusOut = e => {\n      if (!instance.calendarContainer.contains(e.relatedTarget) && e.relatedTarget != dateInputRef.current) {\n        instance.close();\n      }\n    };\n\n    // remove dirty tag to have mouse day selection prioritize input blur\n    const onCalendarMouseDown = e => {\n      if (e.target.classList.contains('flatpickr-day')) {\n        setIsInputDirty(false);\n      }\n    };\n\n    // when the dropdown of the datepickr opens, we register a few event handlers to re-implement some of the\n    // flatpicker logic that was lost when setting allowInput to true\n    instance.config.onOpen = [() => instance.calendarContainer.addEventListener('focusout', onCalendarFocusOut), () => instance.calendarContainer.addEventListener('mousedown', onCalendarMouseDown)];\n    instance.config.onClose = [() => instance.calendarContainer.removeEventListener('focusout', onCalendarFocusOut), () => instance.calendarContainer.removeEventListener('mousedown', onCalendarMouseDown)];\n  }, [disallowPassedDates]);\n\n  // onChange is updated dynamically, so not to re-render the flatpicker every time it changes\n  useEffect(() => {\n    if (!flatpickrInstance || !flatpickrInstance.config) return;\n    flatpickrInstance.config.onChange = [date => setDate(new Date(date)), () => setIsInputDirty(false)];\n  }, [flatpickrInstance, setDate]);\n  const onInputKeyDown = useCallback(e => {\n    if (!flatpickrInstance) return;\n    if (e.code === 'Escape') {\n      flatpickrInstance.close();\n    }\n    if (e.code === 'ArrowDown') {\n      if (isInputDirty) {\n        // trigger an enter keypress to submit the new input, then focus calendar day on the next render cycle\n        dateInputRef.current.dispatchEvent(ENTER_KEYDOWN_EVENT);\n        setIsInputDirty(false);\n        setForceFocusCalendar(true);\n      } else {\n        // focus calendar day immediately\n        focusRelevantFlatpickerDay(flatpickrInstance);\n      }\n      e.preventDefault();\n    }\n    if (e.code === 'Enter') {\n      setIsInputDirty(false);\n    }\n  }, [flatpickrInstance, isInputDirty]);\n  const onInputFocus = useCallback(e => {\n    if (!flatpickrInstance || focusScopeRef.current.contains(e.relatedTarget) || readonly) return;\n    flatpickrInstance.open();\n    onDateTimeFocus(e);\n  }, [flatpickrInstance, readonly, onDateTimeFocus]);\n\n  // simulate an enter press on blur to make sure the date value is submitted in all scenarios\n  const onInputBlur = useCallback(e => {\n    const isFalseBlur = e.relatedTarget && e.relatedTarget.classList.contains('flatpickr-day');\n    if (isFalseBlur) return;\n    if (isInputDirty) {\n      dateInputRef.current.dispatchEvent(ENTER_KEYDOWN_EVENT);\n      setIsInputDirty(false);\n    }\n    onDateTimeBlur(e);\n  }, [isInputDirty, onDateTimeBlur]);\n  return jsxs(\"div\", {\n    class: \"fjs-datetime-subsection\",\n    children: [jsx(Label, {\n      htmlFor: domId,\n      label: label,\n      collapseOnEmpty: collapseLabelOnEmpty,\n      required: required\n    }), jsx(InputAdorner, {\n      pre: jsx(SvgCalendar, {}),\n      disabled: disabled,\n      readonly: readonly,\n      rootRef: focusScopeRef,\n      inputRef: dateInputRef,\n      children: jsx(\"div\", {\n        class: \"fjs-datepicker\",\n        style: {\n          width: '100%'\n        },\n        children: jsx(\"input\", {\n          ref: dateInputRef,\n          type: \"text\",\n          id: domId,\n          class: \"fjs-input\",\n          disabled: disabled,\n          readOnly: readonly,\n          placeholder: getLocaleReadableDateFormat(),\n          autoComplete: \"off\",\n          onFocus: onInputFocus,\n          onBlur: onInputBlur,\n          onKeyDown: onInputKeyDown,\n          onMouseDown: () => !flatpickrInstance.isOpen && !readonly && flatpickrInstance.open(),\n          onInput: () => setIsInputDirty(true),\n          \"data-input\": true,\n          \"aria-describedby\": props['aria-describedby']\n        })\n      })\n    })]\n  });\n}\n\nvar _path$y, _path2$4;\nfunction _extends$z() { return _extends$z = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$z.apply(null, arguments); }\nvar SvgClock = function SvgClock(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends$z({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 16,\n    height: 16,\n    fill: \"none\",\n    viewBox: \"0 0 28 29\"\n  }, props), _path$y || (_path$y = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M13 14.41 18.59 20 20 18.59l-5-5.01V5h-2z\"\n  })), _path2$4 || (_path2$4 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    d: \"M6.222 25.64A14 14 0 1 0 21.778 2.36 14 14 0 0 0 6.222 25.64M7.333 4.023a12 12 0 1 1 13.334 19.955A12 12 0 0 1 7.333 4.022Z\",\n    clipRule: \"evenodd\"\n  })));\n};\n\nconst DEFAULT_LABEL_GETTER = value => value;\nconst NOOP = () => {};\nfunction DropdownList(props) {\n  const {\n    listenerElement = window,\n    values = [],\n    getLabel = DEFAULT_LABEL_GETTER,\n    onValueSelected = NOOP,\n    height = 235,\n    emptyListMessage = 'No results',\n    initialFocusIndex = 0\n  } = props;\n  const [mouseControl, setMouseControl] = useState(false);\n  const [focusedValueIndex, setFocusedValueIndex] = useState(initialFocusIndex);\n  const [smoothScrolling, setSmoothScrolling] = useState(false);\n\n  /** @type {import(\"preact\").RefObject<HTMLDivElement>} */\n  const dropdownContainer = useRef();\n\n  /** @type {import(\"preact\").RefObject<{ x: number, y: number }>} */\n  const mouseScreenPos = useRef();\n  const focusedItem = useMemo(() => values.length ? values[focusedValueIndex] : null, [focusedValueIndex, values]);\n  const changeFocusedValueIndex = useCallback(delta => {\n    setFocusedValueIndex(x => Math.min(Math.max(0, x + delta), values.length - 1));\n  }, [values.length]);\n  useEffect(() => {\n    if (focusedValueIndex === 0) return;\n    if (!focusedValueIndex || !values.length) {\n      setFocusedValueIndex(0);\n    } else if (focusedValueIndex >= values.length) {\n      setFocusedValueIndex(values.length - 1);\n    }\n  }, [focusedValueIndex, values.length]);\n  useKeyDownAction('ArrowUp', () => {\n    if (values.length) {\n      changeFocusedValueIndex(-1);\n      setMouseControl(false);\n    }\n  }, listenerElement);\n  useKeyDownAction('ArrowDown', () => {\n    if (values.length) {\n      changeFocusedValueIndex(1);\n      setMouseControl(false);\n    }\n  }, listenerElement);\n  useKeyDownAction('Enter', () => {\n    if (focusedItem) {\n      onValueSelected(focusedItem);\n    }\n  }, listenerElement);\n  useEffect(() => {\n    const individualEntries = dropdownContainer.current.children;\n    if (individualEntries.length && !mouseControl) {\n      const focusedEntry = individualEntries[focusedValueIndex];\n      focusedEntry && focusedEntry.scrollIntoView({\n        block: 'nearest',\n        inline: 'nearest'\n      });\n    }\n  }, [focusedValueIndex, mouseControl]);\n  useEffect(() => {\n    setSmoothScrolling(true);\n  }, []);\n  const onMouseMovedInKeyboardMode = (event, valueIndex) => {\n    const userMovedCursor = !mouseScreenPos.current || mouseScreenPos.current.x !== event.screenX && mouseScreenPos.current.y !== event.screenY;\n    if (userMovedCursor) {\n      mouseScreenPos.current = {\n        x: event.screenX,\n        y: event.screenY\n      };\n      setMouseControl(true);\n      setFocusedValueIndex(valueIndex);\n    }\n  };\n  return jsxs(\"div\", {\n    ref: dropdownContainer,\n    tabIndex: -1,\n    class: \"fjs-dropdownlist\",\n    onMouseDown: e => e.preventDefault(),\n    style: {\n      maxHeight: height,\n      scrollBehavior: smoothScrolling ? 'smooth' : 'auto'\n    },\n    children: [values.length > 0 && values.map((entry, index) => {\n      return jsx(\"div\", {\n        class: classNames('fjs-dropdownlist-item', {\n          focused: focusedValueIndex === index\n        }),\n        onMouseMove: mouseControl ? undefined : e => onMouseMovedInKeyboardMode(e, index),\n        onMouseEnter: mouseControl ? () => setFocusedValueIndex(index) : undefined,\n        onMouseDown: e => onValueSelected(entry),\n        children: getLabel(entry)\n      }, entry.value);\n    }), !values.length && jsx(\"div\", {\n      class: \"fjs-dropdownlist-empty\",\n      children: emptyListMessage\n    })]\n  });\n}\n\nfunction Timepicker(props) {\n  const {\n    label,\n    collapseLabelOnEmpty,\n    onDateTimeBlur,\n    onDateTimeFocus,\n    domId,\n    required,\n    disabled,\n    readonly,\n    use24h = false,\n    timeInterval,\n    time,\n    setTime\n  } = props;\n  const safeTimeInterval = useMemo(() => {\n    const allowedIntervals = [1, 5, 10, 15, 30, 60];\n    if (allowedIntervals.includes(timeInterval)) {\n      return timeInterval;\n    }\n    return 15;\n  }, [timeInterval]);\n  const timeInputRef = useRef();\n  const [dropdownIsOpen, setDropdownIsOpen] = useState(false);\n  const useDropdown = useMemo(() => safeTimeInterval !== 1, [safeTimeInterval]);\n  const [rawValue, setRawValue] = useState('');\n\n  // populates values from source\n  useEffect(() => {\n    if (time === null) {\n      setRawValue('');\n      return;\n    }\n    const intervalAdjustedTime = time - time % safeTimeInterval;\n    setRawValue(formatTime(use24h, intervalAdjustedTime));\n    if (intervalAdjustedTime != time) {\n      setTime(intervalAdjustedTime);\n    }\n  }, [time, setTime, use24h, safeTimeInterval]);\n  const propagateRawToMinute = useCallback(newRawValue => {\n    const localRawValue = newRawValue || rawValue;\n\n    // If no raw value exists, set the minute to null\n    if (!localRawValue) {\n      setTime(null);\n      return;\n    }\n    const minutes = parseInputTime(localRawValue);\n\n    // If raw string couldn't be parsed, clean everything up\n    if (!isNumber(minutes)) {\n      setRawValue('');\n      setTime(null);\n      return;\n    }\n\n    // Enforce the minutes to match the timeInterval\n    const correctedMinutes = minutes - minutes % safeTimeInterval;\n\n    // Enforce the raw text to be formatted properly\n    setRawValue(formatTime(use24h, correctedMinutes));\n    setTime(correctedMinutes);\n  }, [rawValue, safeTimeInterval, use24h, setTime]);\n  const timeOptions = useMemo(() => {\n    const minutesInDay = 24 * 60;\n    const intervalCount = Math.floor(minutesInDay / safeTimeInterval);\n    return [...Array(intervalCount).keys()].map(intervalIndex => formatTime(use24h, intervalIndex * safeTimeInterval));\n  }, [safeTimeInterval, use24h]);\n  const initialFocusIndex = useMemo(() => {\n    // if there are no options, there will not be any focusing\n    if (!timeOptions || !safeTimeInterval) return null;\n\n    // if there is a set minute value, we focus it in the dropdown\n    if (time) return time / safeTimeInterval;\n    const cacheTime = parseInputTime(rawValue);\n\n    // if there is a valid value in the input cache, we try and focus close to it\n    if (cacheTime) {\n      const flooredCacheTime = cacheTime - cacheTime % safeTimeInterval;\n      return flooredCacheTime / safeTimeInterval;\n    }\n\n    // If there is no set value, simply focus the middle of the dropdown (12:00)\n    return Math.floor(timeOptions.length / 2);\n  }, [rawValue, time, safeTimeInterval, timeOptions]);\n  const onInputKeyDown = e => {\n    switch (e.key) {\n      case 'ArrowUp':\n        e.preventDefault();\n        break;\n      case 'ArrowDown':\n        useDropdown && setDropdownIsOpen(true);\n        e.preventDefault();\n        break;\n      case 'Escape':\n        useDropdown && setDropdownIsOpen(false);\n        break;\n      case 'Enter':\n        !dropdownIsOpen && propagateRawToMinute();\n        break;\n    }\n  };\n  const onInputBlur = e => {\n    setDropdownIsOpen(false);\n    propagateRawToMinute();\n    onDateTimeBlur(e);\n  };\n  const onInputFocus = e => {\n    onDateTimeFocus(e);\n    !readonly && useDropdown && setDropdownIsOpen(true);\n  };\n  const onDropdownValueSelected = value => {\n    setDropdownIsOpen(false);\n    propagateRawToMinute(value);\n  };\n  return jsxs(\"div\", {\n    class: \"fjs-datetime-subsection\",\n    children: [jsx(Label, {\n      htmlFor: domId,\n      label: label,\n      collapseOnEmpty: collapseLabelOnEmpty,\n      required: required\n    }), jsx(InputAdorner, {\n      pre: jsx(SvgClock, {}),\n      inputRef: timeInputRef,\n      disabled: disabled,\n      readonly: readonly,\n      children: jsxs(\"div\", {\n        class: \"fjs-timepicker fjs-timepicker-anchor\",\n        children: [jsx(\"input\", {\n          ref: timeInputRef,\n          type: \"text\",\n          id: domId,\n          class: \"fjs-input\",\n          value: rawValue,\n          disabled: disabled,\n          readOnly: readonly,\n          placeholder: use24h ? 'hh:mm' : 'hh:mm --',\n          autoComplete: \"off\",\n          onInput: e => {\n            // @ts-expect-error\n            setRawValue(e.target.value);\n            useDropdown && setDropdownIsOpen(false);\n          },\n          onBlur: onInputBlur,\n          onFocus: onInputFocus,\n          onClick: () => !readonly && useDropdown && setDropdownIsOpen(true),\n          onKeyDown: onInputKeyDown,\n          \"data-input\": true,\n          \"aria-describedby\": props['aria-describedby']\n        }), dropdownIsOpen && jsx(DropdownList, {\n          values: timeOptions,\n          height: 150,\n          onValueSelected: onDropdownValueSelected,\n          listenerElement: timeInputRef.current,\n          initialFocusIndex: initialFocusIndex\n        })]\n      })\n    })]\n  });\n}\n\nconst type$g = 'datetime';\nfunction Datetime(props) {\n  const {\n    disabled,\n    errors = [],\n    domId,\n    onBlur,\n    onFocus,\n    field,\n    onChange,\n    readonly,\n    value = ''\n  } = props;\n  const {\n    description,\n    id,\n    dateLabel,\n    timeLabel,\n    validate = {},\n    subtype,\n    use24h,\n    disallowPassedDates,\n    timeInterval,\n    timeSerializingFormat\n  } = field;\n  const {\n    required\n  } = validate;\n  const {\n    formId\n  } = useContext(FormContext);\n\n  /** @type {import(\"preact\").RefObject<HTMLDivElement>} */\n  const dateTimeGroupRef = useRef();\n  const [dateTime, setDateTime] = useState(getNullDateTime());\n  const [dateTimeUpdateRequest, setDateTimeUpdateRequest] = useState(null);\n  const useDatePicker = useMemo(() => subtype === DATETIME_SUBTYPES.DATE || subtype === DATETIME_SUBTYPES.DATETIME, [subtype]);\n  const useTimePicker = useMemo(() => subtype === DATETIME_SUBTYPES.TIME || subtype === DATETIME_SUBTYPES.DATETIME, [subtype]);\n  const onDateTimeBlur = useCallback(e => {\n    if (e.relatedTarget && dateTimeGroupRef.current.contains(e.relatedTarget)) {\n      return;\n    }\n    onBlur && onBlur();\n  }, [onBlur]);\n  const onDateTimeFocus = useCallback(e => {\n    if (e.relatedTarget && dateTimeGroupRef.current.contains(e.relatedTarget)) {\n      return;\n    }\n    onFocus && onFocus();\n  }, [onFocus]);\n  useEffect(() => {\n    let {\n      date,\n      time\n    } = getNullDateTime();\n    switch (subtype) {\n      case DATETIME_SUBTYPES.DATE:\n        {\n          date = typeof value === 'string' ? DateTime.fromISO(value).toJSDate() : new Date(NaN);\n          break;\n        }\n      case DATETIME_SUBTYPES.TIME:\n        {\n          time = parseIsoTime(value);\n          break;\n        }\n      case DATETIME_SUBTYPES.DATETIME:\n        {\n          date = new Date(Date.parse(value));\n          time = isValidDate(date) ? 60 * date.getHours() + date.getMinutes() : null;\n          break;\n        }\n    }\n    setDateTime({\n      date,\n      time\n    });\n  }, [subtype, value]);\n  const computeAndSetState = useCallback(({\n    date,\n    time\n  }) => {\n    let newDateTimeValue = null;\n    if (subtype === DATETIME_SUBTYPES.DATE && isValidDate(date)) {\n      newDateTimeValue = serializeDate(date);\n    } else if (subtype === DATETIME_SUBTYPES.TIME && isValidTime(time)) {\n      newDateTimeValue = serializeTime(time, new Date().getTimezoneOffset(), timeSerializingFormat);\n    } else if (subtype === DATETIME_SUBTYPES.DATETIME && isValidDate(date) && isValidTime(time)) {\n      newDateTimeValue = serializeDateTime(date, time, timeSerializingFormat);\n    }\n    if (value === newDateTimeValue) {\n      return;\n    }\n    onChange({\n      value: newDateTimeValue,\n      field\n    });\n  }, [value, field, onChange, subtype, timeSerializingFormat]);\n  useEffect(() => {\n    if (dateTimeUpdateRequest) {\n      if (dateTimeUpdateRequest.refreshOnly) {\n        computeAndSetState(dateTime);\n      } else {\n        const newDateTime = {\n          ...dateTime,\n          ...dateTimeUpdateRequest\n        };\n        setDateTime(newDateTime);\n        computeAndSetState(newDateTime);\n      }\n      setDateTimeUpdateRequest(null);\n    }\n  }, [computeAndSetState, dateTime, dateTimeUpdateRequest]);\n  useEffect(() => {\n    setDateTimeUpdateRequest({\n      refreshOnly: true\n    });\n  }, [timeSerializingFormat]);\n  const allErrors = useMemo(() => {\n    if (required || subtype !== DATETIME_SUBTYPES.DATETIME) return errors;\n    const isOnlyOneFieldSet = isValidDate(dateTime.date) && !isValidTime(dateTime.time) || !isValidDate(dateTime.date) && isValidTime(dateTime.time);\n    return isOnlyOneFieldSet ? ['Date and time must both be entered.', ...errors] : errors;\n  }, [required, subtype, dateTime, errors]);\n  const setDate = useCallback(date => {\n    setDateTimeUpdateRequest(prev => prev ? {\n      ...prev,\n      date\n    } : {\n      date\n    });\n  }, []);\n  const setTime = useCallback(time => {\n    setDateTimeUpdateRequest(prev => prev ? {\n      ...prev,\n      time\n    } : {\n      time\n    });\n  }, []);\n  const errorMessageId = allErrors.length === 0 ? undefined : `${prefixId(id, formId)}-error-message`;\n  const descriptionId = `${prefixId(id, formId)}-description`;\n  const datePickerProps = {\n    label: dateLabel,\n    collapseLabelOnEmpty: !timeLabel,\n    onDateTimeBlur,\n    onDateTimeFocus,\n    domId: `${domId}-date`,\n    required,\n    disabled,\n    disallowPassedDates,\n    date: dateTime.date,\n    readonly,\n    setDate,\n    'aria-describedby': [descriptionId, errorMessageId].join(' ')\n  };\n  const timePickerProps = {\n    label: timeLabel,\n    collapseLabelOnEmpty: !dateLabel,\n    onDateTimeBlur,\n    onDateTimeFocus,\n    domId: `${domId}-time`,\n    required,\n    disabled,\n    readonly,\n    use24h,\n    timeInterval,\n    time: dateTime.time,\n    setTime,\n    'aria-describedby': [descriptionId, errorMessageId].join(' ')\n  };\n  return jsxs(\"div\", {\n    class: formFieldClasses(type$g, {\n      errors: allErrors,\n      disabled,\n      readonly\n    }),\n    children: [jsxs(\"div\", {\n      class: classNames('fjs-vertical-group'),\n      ref: dateTimeGroupRef,\n      children: [useDatePicker && jsx(Datepicker, {\n        ...datePickerProps\n      }), useTimePicker && useDatePicker && jsx(\"div\", {\n        class: \"fjs-datetime-separator\"\n      }), useTimePicker && jsx(Timepicker, {\n        ...timePickerProps\n      })]\n    }), jsx(Description, {\n      id: descriptionId,\n      description: description\n    }), jsx(Errors, {\n      errors: allErrors,\n      id: errorMessageId\n    })]\n  });\n}\nDatetime.config = {\n  type: type$g,\n  keyed: true,\n  name: 'Date time',\n  group: 'basic-input',\n  emptyValue: null,\n  sanitizeValue: sanitizeDateTimePickerValue,\n  create: (options = {}, isNewField) => {\n    const defaults = {};\n    set(defaults, DATETIME_SUBTYPE_PATH, DATETIME_SUBTYPES.DATE);\n    if (isNewField) {\n      set(defaults, DATE_LABEL_PATH, 'Date');\n    }\n    return {\n      ...defaults,\n      ...options\n    };\n  },\n  getSubheading: field => {\n    return field.dateLabel || field.timeLabel;\n  }\n};\n\nfunction Group(props) {\n  const {\n    field,\n    domId\n  } = props;\n  const {\n    label,\n    type,\n    showOutline\n  } = field;\n  const {\n    Empty\n  } = useContext(FormRenderContext);\n  const fullProps = {\n    ...props,\n    Empty\n  };\n  return jsxs(\"div\", {\n    className: classNames(formFieldClasses(type), 'fjs-form-field-grouplike', {\n      'fjs-outlined': showOutline\n    }),\n    role: \"group\",\n    \"aria-labelledby\": domId,\n    children: [jsx(Label, {\n      id: domId,\n      label: label\n    }), jsx(ChildrenRenderer, {\n      ...fullProps\n    })]\n  });\n}\nGroup.config = {\n  type: 'group',\n  pathed: true,\n  name: 'Group',\n  group: 'container',\n  create: (options = {}) => ({\n    label: 'Group',\n    components: [],\n    showOutline: true,\n    ...options\n  })\n};\n\nconst type$f = 'iframe';\nconst DEFAULT_HEIGHT = 300;\nfunction IFrame(props) {\n  const {\n    field,\n    disabled,\n    readonly,\n    domId\n  } = props;\n  const {\n    height = DEFAULT_HEIGHT,\n    label,\n    url,\n    security = {}\n  } = field;\n  const evaluatedUrl = useSingleLineTemplateEvaluation(url, {\n    debug: true\n  });\n  const safeUrl = useMemo(() => sanitizeIFrameSource(evaluatedUrl), [evaluatedUrl]);\n  const evaluatedLabel = useSingleLineTemplateEvaluation(label, {\n    debug: true\n  });\n  const [sandbox, allow] = useSecurityAttributesMap(security);\n  const [iframeRefresh, setIframeRefresh] = useState(0);\n\n  // forces re-render of iframe when sandbox or allow attributes change, as browsers do not do it automatically\n  useEffect(() => {\n    setIframeRefresh(count => count + 1);\n  }, [sandbox, allow]);\n  return jsxs(\"div\", {\n    class: formFieldClasses(type$f, {\n      disabled,\n      readonly\n    }),\n    children: [jsx(Label, {\n      htmlFor: domId,\n      label: evaluatedLabel\n    }), !evaluatedUrl && jsx(IFramePlaceholder, {\n      text: \"No content to show.\"\n    }), evaluatedUrl && safeUrl && jsx(\"iframe\", {\n      src: safeUrl,\n      title: evaluatedLabel,\n      height: height,\n      class: \"fjs-iframe\",\n      id: domId,\n      sandbox: sandbox,\n      allow\n    }, 'iframe-' + iframeRefresh), evaluatedUrl && !safeUrl && jsx(IFramePlaceholder, {\n      text: \"External content couldn't be loaded.\"\n    })]\n  });\n}\nfunction IFramePlaceholder(props) {\n  const {\n    text = 'iFrame'\n  } = props;\n  return jsx(\"div\", {\n    class: \"fjs-iframe-placeholder\",\n    children: jsx(\"p\", {\n      class: \"fjs-iframe-placeholder-text\",\n      children: text\n    })\n  });\n}\nIFrame.config = {\n  type: type$f,\n  keyed: false,\n  name: 'iFrame',\n  group: 'container',\n  create: (options = {}) => ({\n    label: 'iFrame',\n    security: {\n      allowScripts: true\n    },\n    ...options\n  })\n};\n\nvar _path$x;\nfunction _extends$y() { return _extends$y = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$y.apply(null, arguments); }\nvar SvgButton = function SvgButton(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends$y({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 54,\n    height: 54,\n    fill: \"currentcolor\"\n  }, props), _path$x || (_path$x = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M45 17a3 3 0 0 1 3 3v14a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V20a3 3 0 0 1 3-3zm-9 8.889H18v2.222h18z\"\n  })));\n};\n\nvar _path$w;\nfunction _extends$x() { return _extends$x = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$x.apply(null, arguments); }\nvar SvgCheckbox = function SvgCheckbox(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends$x({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 54,\n    height: 54,\n    fill: \"currentcolor\"\n  }, props), _path$w || (_path$w = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M34 18H20a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V20a2 2 0 0 0-2-2m-9 14-5-5 1.41-1.41L25 29.17l7.59-7.59L34 23z\"\n  })));\n};\n\nvar _path$v;\nfunction _extends$w() { return _extends$w = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$w.apply(null, arguments); }\nvar SvgChecklist = function SvgChecklist(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends$w({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 54,\n    height: 54,\n    fill: \"none\"\n  }, props), _path$v || (_path$v = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    d: \"M14.35 24.75H19v4.65h-4.65zm-1.414-1.414a2 2 0 0 1 1.414-.586H19a2 2 0 0 1 2 2v4.65a2 2 0 0 1-2 2h-4.65a2 2 0 0 1-2-2v-4.65a2 2 0 0 1 .586-1.414M14.35 37.05H19v4.65h-4.65zm-1.414-1.414a2 2 0 0 1 1.414-.586H19a2 2 0 0 1 2 2v4.65a2 2 0 0 1-2 2h-4.65a2 2 0 0 1-2-2v-4.65a2 2 0 0 1 .586-1.414M14.35 12.45H19v4.65h-4.65zm-1.414-1.414a2 2 0 0 1 1.414-.586H19a2 2 0 0 1 2 2v4.65a2 2 0 0 1-2 2h-4.65a2 2 0 0 1-2-2v-4.65a2 2 0 0 1 .586-1.414m12.007 14.977a1 1 0 0 0-.293.707v.65a1 1 0 0 0 1 1h15a1 1 0 0 0 1-1v-.65a1 1 0 0 0-1-1h-15a1 1 0 0 0-.707.293m0 12.3a1 1 0 0 0-.293.707v.65a1 1 0 0 0 1 1h15a1 1 0 0 0 1-1v-.65a1 1 0 0 0-1-1h-15a1 1 0 0 0-.707.293m0-24.6a1 1 0 0 0-.293.707v.65a1 1 0 0 0 1 1h15a1 1 0 0 0 1-1v-.65a1 1 0 0 0-1-1h-15a1 1 0 0 0-.707.293\",\n    clipRule: \"evenodd\"\n  })));\n};\n\nvar _path$u, _path2$3, _path3;\nfunction _extends$v() { return _extends$v = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$v.apply(null, arguments); }\nvar SvgDatetime = function SvgDatetime(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends$v({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 54,\n    height: 54,\n    fill: \"currentcolor\"\n  }, props), _path$u || (_path$u = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M37.908 13.418h-5.004v-2.354h-1.766v2.354H21.13v-2.354h-1.766v2.354H14.36a2.07 2.07 0 0 0-2.06 2.06v23.549a2.07 2.07 0 0 0 2.06 2.06h6.77v-1.766h-6.358a.707.707 0 0 1-.706-.706V15.89c0-.39.316-.707.706-.707h4.592v2.355h1.766v-2.355h10.008v2.355h1.766v-2.355h4.592a.71.71 0 0 1 .707.707v6.358h1.765v-6.77c0-1.133-.927-2.06-2.06-2.06\"\n  })), _path2$3 || (_path2$3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m35.13 37.603 1.237-1.237-3.468-3.475v-5.926h-1.754v6.654l3.984 3.984Z\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M23.08 36.962a9.678 9.678 0 1 0 17.883-7.408 9.678 9.678 0 0 0-17.882 7.408Zm4.54-10.292a7.924 7.924 0 1 1 8.805 13.177A7.924 7.924 0 0 1 27.62 26.67\"\n  })));\n};\n\nvar _path$t, _path2$2;\nfunction _extends$u() { return _extends$u = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$u.apply(null, arguments); }\nvar SvgTaglist = function SvgTaglist(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends$u({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 54,\n    height: 54,\n    fill: \"currentcolor\"\n  }, props), _path$t || (_path$t = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M45 16a3 3 0 0 1 3 3v16a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V19a3 3 0 0 1 3-3zm0 2H9a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h36a1 1 0 0 0 1-1V19a1 1 0 0 0-1-1\"\n  })), _path2$2 || (_path2$2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11 22a1 1 0 0 1 1-1h19a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H12a1 1 0 0 1-1-1z\"\n  })));\n};\n\nvar _rect, _rect2, _rect3;\nfunction _extends$t() { return _extends$t = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$t.apply(null, arguments); }\nvar SvgForm = function SvgForm(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends$t({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 54,\n    height: 54\n  }, props), _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n    width: 24,\n    height: 4,\n    x: 15,\n    y: 17,\n    rx: 1\n  })), _rect2 || (_rect2 = /*#__PURE__*/React.createElement(\"rect\", {\n    width: 24,\n    height: 4,\n    x: 15,\n    y: 25,\n    rx: 1\n  })), _rect3 || (_rect3 = /*#__PURE__*/React.createElement(\"rect\", {\n    width: 13,\n    height: 4,\n    x: 15,\n    y: 33,\n    rx: 1\n  })));\n};\n\nvar _path$s;\nfunction _extends$s() { return _extends$s = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$s.apply(null, arguments); }\nvar SvgGroup = function SvgGroup(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends$s({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 54,\n    height: 54,\n    fill: \"none\"\n  }, props), _path$s || (_path$s = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#000\",\n    fillRule: \"evenodd\",\n    d: \"M4.05 42.132v1.164c0 .693.604 1.254 1.35 1.254h1.35v-2.507h-2.7v.09Zm0-2.328h2.7v-2.328h-2.7zm0-4.656h2.7V32.82h-2.7zm0-4.656h2.7v-2.328h-2.7zm0-4.656h2.7v-2.328h-2.7zm0-4.656h2.7v-2.328h-2.7zm0-4.656h2.7v-2.328h-2.7zm0-4.656v.09h2.7V9.45H5.4c-.746 0-1.35.561-1.35 1.254zm5.4-2.418v2.507h2.7V9.45zm5.4 0v2.507h2.7V9.45zm5.4 0v2.507h2.7V9.45zm5.4 0v2.507h2.7V9.45zm5.4 0v2.507h2.7V9.45zm5.4 0v2.507h2.7V9.45zm5.4 0v2.507h2.7V9.45zm5.4 0v2.507h2.7v-1.253c0-.693-.604-1.254-1.35-1.254zm2.7 4.746h-2.7v2.328h2.7zm0 4.656h-2.7v2.328h2.7zm0 4.656h-2.7v2.328h2.7zm0 4.656h-2.7v2.328h2.7zm0 4.656h-2.7v2.328h2.7zm0 4.656h-2.7v2.328h2.7zm0 4.656v-.09h-2.7v2.508h1.35c.746 0 1.35-.561 1.35-1.254zm-5.4 2.418v-2.507h-2.7v2.507zm-5.4 0v-2.507h-2.7v2.507zm-5.4 0v-2.507h-2.7v2.507zm-5.4 0v-2.507h-2.7v2.507zm-5.4 0v-2.507h-2.7v2.507zm-5.4 0v-2.507h-2.7v2.507zm-5.4 0v-2.507h-2.7v2.507z\",\n    clipRule: \"evenodd\"\n  })));\n};\n\nvar _path$r;\nfunction _extends$r() { return _extends$r = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$r.apply(null, arguments); }\nvar SvgNumber = function SvgNumber(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends$r({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 54,\n    height: 54,\n    fill: \"currentcolor\"\n  }, props), _path$r || (_path$r = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M45 16a3 3 0 0 1 3 3v16a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V19a3 3 0 0 1 3-3zm0 2H9a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h36a1 1 0 0 0 1-1V19a1 1 0 0 0-1-1M35 28.444h7l-3.5 4zM35 26h7l-3.5-4z\"\n  })));\n};\n\nvar _path$q;\nfunction _extends$q() { return _extends$q = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$q.apply(null, arguments); }\nvar SvgRadio = function SvgRadio(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends$q({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 54,\n    height: 54,\n    fill: \"currentcolor\"\n  }, props), _path$q || (_path$q = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M27 22c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5m0-5c-5.52 0-10 4.48-10 10s4.48 10 10 10 10-4.48 10-10-4.48-10-10-10m0 18a8 8 0 1 1 0-16 8 8 0 1 1 0 16\"\n  })));\n};\n\nvar _path$p;\nfunction _extends$p() { return _extends$p = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$p.apply(null, arguments); }\nvar SvgSelect = function SvgSelect(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends$p({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 54,\n    height: 54,\n    fill: \"currentcolor\"\n  }, props), _path$p || (_path$p = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M45 16a3 3 0 0 1 3 3v16a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V19a3 3 0 0 1 3-3zm0 2H9a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h36a1 1 0 0 0 1-1V19a1 1 0 0 0-1-1m-12 7h9l-4.5 6z\"\n  })));\n};\n\nvar _path$o;\nfunction _extends$o() { return _extends$o = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$o.apply(null, arguments); }\nvar SvgSeparator = function SvgSeparator(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends$o({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 54,\n    height: 54,\n    fill: \"none\"\n  }, props), _path$o || (_path$o = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M26.293 16.293a1 1 0 0 1 1.414 0l4 4a1 1 0 0 1-1.414 1.414L27 18.414l-3.293 3.293a1 1 0 0 1-1.414-1.414zM9 26h36v2H9zm13.293 7.707 4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0-1.414-1.414L27 35.586l-3.293-3.293a1 1 0 0 0-1.414 1.414\"\n  })));\n};\n\nvar _path$n;\nfunction _extends$n() { return _extends$n = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$n.apply(null, arguments); }\nvar SvgSpacer = function SvgSpacer(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends$n({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 54,\n    height: 54,\n    fill: \"none\"\n  }, props), _path$n || (_path$n = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M9 15v2h36v-2zm0 22v2h36v-2zm17.293-17.707a1 1 0 0 1 1.414 0l4 4a1 1 0 0 1-1.414 1.414L27 21.414l-3.293 3.293a1 1 0 0 1-1.414-1.414zm-4 11.414 4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0-1.414-1.414L27 32.586l-3.293-3.293a1 1 0 0 0-1.414 1.414\"\n  })));\n};\n\nvar _path$m;\nfunction _extends$m() { return _extends$m = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$m.apply(null, arguments); }\nvar SvgDynamicList = function SvgDynamicList(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends$m({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 54,\n    height: 54,\n    fill: \"none\"\n  }, props), _path$m || (_path$m = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    d: \"M2.7 43.296v1.254c0 .746.604 1.35 1.35 1.35h1.275v-1.795q.074.211.075.445v-1.254h-.075V43.2H4.05c.177 0 .347.034.502.096zm2.7-2.507v-2.507H2.7v2.507zm0-5.014v-2.507H2.7v2.507zm0-5.014v-2.507H2.7v2.507zm0-5.015V23.24H2.7v2.507h2.7Zm0-5.014v-2.507H2.7v2.507zm0-5.014V13.21H2.7v2.507zm-2.7-5.014h1.852a1.4 1.4 0 0 1-.502.096h1.275v-.096H5.4V9.45q0 .235-.075.445V8.1H4.05A1.35 1.35 0 0 0 2.7 9.45zm5.175.096h2.55V8.1h-2.55zm5.1 0h2.55V8.1h-2.55zm5.1 0h2.55V8.1h-2.55zm5.1 0h2.55V8.1h-2.55zm5.1 0h2.55V8.1h-2.55zm5.1 0h2.55V8.1h-2.55zm5.1 0h2.55V8.1h-2.55zm5.1 0h2.55V8.1h-2.55zm5.1-2.7v1.795a1.4 1.4 0 0 1-.075-.445v1.254h.075v.096h1.275a1.4 1.4 0 0 1-.502-.096H51.3V9.45a1.35 1.35 0 0 0-1.35-1.35zm-.075 5.11v2.508h2.7V13.21zm0 5.015v2.507h2.7v-2.507zm0 5.014v2.507h2.7V23.24zm0 5.015v2.507h2.7v-2.507zm0 5.014v2.507h2.7v-2.507zm0 5.014v2.507h2.7v-2.507zm2.7 5.014h-1.852a1.4 1.4 0 0 1 .502-.096h-1.275v.096H48.6v1.254q0-.235.075-.445V45.9h1.275a1.35 1.35 0 0 0 1.35-1.35zm-5.175-.096h-2.55v2.7h2.55zm-5.1 0h-2.55v2.7h2.55zm-5.1 0h-2.55v2.7h2.55zm-5.1 0h-2.55v2.7h2.55zm-5.1 0h-2.55v2.7h2.55zm-5.1 0h-2.55v2.7h2.55zm-5.1 0h-2.55v2.7h2.55zm-5.1 0h-2.55v2.7h2.55zM16.2 17.55a4.05 4.05 0 0 1 4.05 4.05v1.35A4.05 4.05 0 0 1 16.2 27h-1.35a4.05 4.05 0 0 1-4.05-4.05V21.6a4.05 4.05 0 0 1 4.05-4.05zm0 2.7h-1.35a1.35 1.35 0 0 0-1.35 1.35v1.35c0 .746.604 1.35 1.35 1.35h1.35a1.35 1.35 0 0 0 1.35-1.35V21.6a1.35 1.35 0 0 0-1.35-1.35m27 1.35a4.05 4.05 0 0 0-4.05-4.05H29.7a4.05 4.05 0 0 0-4.05 4.05v1.35A4.05 4.05 0 0 0 29.7 27h9.45a4.05 4.05 0 0 0 4.05-4.05zm-13.5-1.35h9.45c.746 0 1.35.604 1.35 1.35v1.35a1.35 1.35 0 0 1-1.35 1.35H29.7a1.35 1.35 0 0 1-1.35-1.35V21.6c0-.746.604-1.35 1.35-1.35M43.2 37.8a4.05 4.05 0 0 0-4.05-4.05H29.7a4.05 4.05 0 0 0-4.05 4.05v1.35h2.7V37.8c0-.746.604-1.35 1.35-1.35h9.45c.746 0 1.35.604 1.35 1.35v1.35h2.7zm-27-4.05a4.05 4.05 0 0 1 4.05 4.05v1.35h-2.7V37.8a1.35 1.35 0 0 0-1.35-1.35h-1.35a1.35 1.35 0 0 0-1.35 1.35v1.35h-2.7V37.8a4.05 4.05 0 0 1 4.05-4.05z\",\n    clipRule: \"evenodd\"\n  })));\n};\n\nvar _path$l;\nfunction _extends$l() { return _extends$l = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$l.apply(null, arguments); }\nvar SvgText = function SvgText(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends$l({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 54,\n    height: 54,\n    fill: \"currentcolor\"\n  }, props), _path$l || (_path$l = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M20.58 33.77h-3l-1.18-3.08H11l-1.1 3.08H7l5.27-13.54h2.89zm-5-5.36-1.86-5-1.83 5zM22 20.23h5.41a15.5 15.5 0 0 1 2.4.14 3.4 3.4 0 0 1 1.41.55 3.5 3.5 0 0 1 1 1.14 3 3 0 0 1 .42 1.58 3.26 3.26 0 0 1-1.91 2.94 3.63 3.63 0 0 1 1.91 1.22 3.28 3.28 0 0 1 .66 2 4 4 0 0 1-.43 1.8 3.6 3.6 0 0 1-1.09 1.4 3.9 3.9 0 0 1-1.83.65q-.69.07-3.3.09H22zm2.73 2.25v3.13h3.8a1.8 1.8 0 0 0 1.1-.49 1.4 1.4 0 0 0 .41-1 1.5 1.5 0 0 0-.35-1 1.54 1.54 0 0 0-1-.48c-.27 0-1.05-.05-2.34-.05zm0 5.39v3.62h2.57a11.5 11.5 0 0 0 1.88-.09 1.65 1.65 0 0 0 1-.54 1.6 1.6 0 0 0 .38-1.14 1.75 1.75 0 0 0-.29-1 1.7 1.7 0 0 0-.86-.62 9.3 9.3 0 0 0-2.41-.23zm19.62.92 2.65.84a5.94 5.94 0 0 1-2 3.29A5.74 5.74 0 0 1 41.38 34a5.87 5.87 0 0 1-4.44-1.84 7.1 7.1 0 0 1-1.73-5A7.43 7.43 0 0 1 37 21.87 6 6 0 0 1 41.54 20a5.64 5.64 0 0 1 4 1.47A5.33 5.33 0 0 1 47 24l-2.7.65a2.8 2.8 0 0 0-2.86-2.27A3.09 3.09 0 0 0 39 23.42a5.3 5.3 0 0 0-.93 3.5 5.62 5.62 0 0 0 .93 3.65 3 3 0 0 0 2.4 1.09 2.72 2.72 0 0 0 1.82-.66 4 4 0 0 0 1.13-2.21\"\n  })));\n};\n\nvar _path$k;\nfunction _extends$k() { return _extends$k = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$k.apply(null, arguments); }\nvar SvgHtml = function SvgHtml(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends$k({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 54,\n    height: 54,\n    fill: \"none\"\n  }, props), _path$k || (_path$k = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    d: \"M47.008 12.15c1.625 0 2.942 1.36 2.942 3.039v23.622c0 1.678-1.317 3.039-2.942 3.039H6.992c-1.625 0-2.942-1.36-2.942-3.039V15.189c0-1.678 1.317-3.039 2.942-3.039zm0 2.026H6.992c-.542 0-.98.454-.98 1.013V16.2h-.004v2.7h.003v19.911c0 .56.44 1.013.98 1.013h40.017c.542 0 .98-.453.98-1.013V18.9h.005v-2.7h-.004v-1.011c0-.56-.44-1.013-.98-1.013M14.934 26.055v-3.78h2.194v9.45h-2.194v-3.78h-3.29v3.78H9.45v-9.45h2.194v3.78zm4.388-1.89h2.194v7.56h2.193v-7.56h2.194v-1.89h-6.581zm14.26-1.89h2.193v9.45h-2.194V25.11l-1.645 3.78-1.645-3.78v6.615h-2.194v-9.45h2.194l1.645 3.78zm4.387 0h2.194v7.56h4.387v1.89h-6.581z\",\n    clipRule: \"evenodd\"\n  })));\n};\n\nvar _path$j;\nfunction _extends$j() { return _extends$j = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$j.apply(null, arguments); }\nvar SvgExpressionField = function SvgExpressionField(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends$j({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 54,\n    height: 54,\n    fill: \"none\"\n  }, props), _path$j || (_path$j = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentcolor\",\n    fillRule: \"evenodd\",\n    d: \"M12.78 16.2v6.75c0 1.619-.635 3.059-1.618 4.05.983.991 1.618 2.431 1.618 4.05v6.75h3.51v2.7h-3.51c-1.289 0-2.34-1.213-2.34-2.7v-6.75c0-1.487-1.051-2.7-2.34-2.7v-2.7c1.289 0 2.34-1.213 2.34-2.7V16.2c0-1.487 1.051-2.7 2.34-2.7h3.51v2.7zm30.78 0v6.75c0 1.487 1.051 2.7 2.34 2.7v2.7c-1.289 0-2.34 1.213-2.34 2.7v6.75c0 1.487-1.051 2.7-2.34 2.7h-3.51v-2.7h3.51v-6.75c0-1.619.635-3.059 1.618-4.05-.983-.991-1.618-2.431-1.618-4.05V16.2h-3.51v-2.7h3.51c1.289 0 2.34 1.213 2.34 2.7M21.8 34.531q.7-.569.959-1.758l1.788-8.34h1.585l.387-1.828h-1.585l.405-1.878h1.585l.387-1.827H25.69q-1.271 0-1.972.569-.681.569-.94 1.758l-.294 1.378H21.34l-.387 1.827h1.142l-1.898 8.841h-1.585l-.387 1.827h1.622q1.272 0 1.953-.569m7.248-7.686-3.797 4.808h2.599l2.12-3.016h.22l.885 3.016h2.599l-1.677-4.36 3.778-4.688h-2.599l-2.12 2.947h-.22l-.885-2.947h-2.599z\",\n    clipRule: \"evenodd\"\n  })));\n};\n\nvar _path$i;\nfunction _extends$i() { return _extends$i = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$i.apply(null, arguments); }\nvar SvgTextfield = function SvgTextfield(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends$i({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 54,\n    height: 54,\n    fill: \"currentcolor\"\n  }, props), _path$i || (_path$i = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M45 16a3 3 0 0 1 3 3v16a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V19a3 3 0 0 1 3-3zm0 2H9a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h36a1 1 0 0 0 1-1V19a1 1 0 0 0-1-1m-32 4v10h-2V22z\"\n  })));\n};\n\nvar _path$h;\nfunction _extends$h() { return _extends$h = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$h.apply(null, arguments); }\nvar SvgTextarea = function SvgTextarea(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends$h({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 54,\n    height: 54,\n    fill: \"currentcolor\"\n  }, props), _path$h || (_path$h = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M45 13a3 3 0 0 1 3 3v22a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V16a3 3 0 0 1 3-3zm0 2H9a1 1 0 0 0-1 1v22a1 1 0 0 0 1 1h36a1 1 0 0 0 1-1V16a1 1 0 0 0-1-1m-1.136 15.5.849.849-6.364 6.364-.849-.849zm.264 3.5.849.849-2.828 2.828-.849-.849zM13 19v10h-2V19z\"\n  })));\n};\n\nvar _path$g;\nfunction _extends$g() { return _extends$g = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$g.apply(null, arguments); }\nvar SvgIFrame = function SvgIFrame(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends$g({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 54,\n    height: 54,\n    fill: \"none\"\n  }, props), _path$g || (_path$g = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    d: \"M45.658 9.45c1.625 0 2.942 1.36 2.942 3.039V22.95h-1.961v-4.383H7.36V41.51c0 .56.44 1.013.98 1.013H27v2.026H8.342c-1.625 0-2.942-1.36-2.942-3.039V12.489c0-1.678 1.317-3.039 2.942-3.039zm0 2.026H8.342c-.542 0-.98.454-.98 1.013v4.052h39.277v-4.052c0-.56-.44-1.013-.98-1.013ZM31.05 35.775A8.77 8.77 0 0 1 39.825 27a8.77 8.77 0 0 1 8.775 8.775 8.77 8.77 0 0 1-8.775 8.775 8.77 8.77 0 0 1-8.775-8.775m12.388-.516h3.097c-.206-2.581-1.858-4.646-4.026-5.678.62 1.548.93 3.613.93 5.678Zm-5.162 2.065c.207 3.303 1.136 4.955 1.549 5.161.413-.206 1.239-1.858 1.445-5.161zm1.446-8.26c-.31.207-1.342 2.272-1.446 6.195h2.994c-.103-3.923-1.135-5.988-1.548-6.194Zm-3.51 6.195c.103-2.065.31-4.13.929-5.678-2.168 1.032-3.82 3.097-4.026 5.678zm0 2.065h-2.89c.515 2.064 1.96 3.82 3.819 4.645-.516-1.342-.826-2.994-.93-4.645Zm7.226 0q-.155 2.632-.929 4.645c1.858-.826 3.304-2.58 3.923-4.645z\",\n    clipRule: \"evenodd\"\n  })));\n};\n\nvar _path$f, _path2$1;\nfunction _extends$f() { return _extends$f = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$f.apply(null, arguments); }\nvar SvgImage = function SvgImage(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends$f({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 54,\n    height: 54,\n    fill: \"currentcolor\"\n  }, props), _path$f || (_path$f = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M34.636 21.91A3.818 3.818 0 1 1 27 21.908a3.818 3.818 0 0 1 7.636 0Zm-2 0A1.818 1.818 0 1 1 29 21.908a1.818 1.818 0 0 1 3.636 0Z\",\n    clipRule: \"evenodd\"\n  })), _path2$1 || (_path2$1 = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M15 13a2 2 0 0 0-2 2v24a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V15a2 2 0 0 0-2-2zm24 2H15v12.45l4.71-4.709a1.91 1.91 0 0 1 2.702 0l6.695 6.695 2.656-1.77a1.91 1.91 0 0 1 2.411.239L39 32.73zM15 39v-8.754a1 1 0 0 0 .168-.135l5.893-5.893 6.684 6.685a1.91 1.91 0 0 0 2.41.238l2.657-1.77 6.02 6.02q.078.077.168.135V39z\",\n    clipRule: \"evenodd\"\n  })));\n};\n\nvar _path$e;\nfunction _extends$e() { return _extends$e = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$e.apply(null, arguments); }\nvar SvgTable = function SvgTable(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends$e({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 54 54\"\n  }, props), _path$e || (_path$e = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentcolor\",\n    fillRule: \"evenodd\",\n    d: \"M42.545 12.273A2.455 2.455 0 0 1 45 14.727v24.546a2.455 2.455 0 0 1-2.455 2.454h-31.09A2.455 2.455 0 0 1 9 39.273V14.727a2.455 2.455 0 0 1 2.455-2.454zM27.818 40.09h14.727a.82.82 0 0 0 .819-.818v-4.91H27.818Zm-1.636-5.727v5.727H11.455a.82.82 0 0 1-.819-.818v-4.91zm1.636-1.637h15.546V27H27.818ZM26.182 27v5.727H10.636V27zm1.636-1.636h15.546v-5.728H27.818Zm-1.636-5.728v5.728H10.636v-5.728z\",\n    clipRule: \"evenodd\"\n  })));\n};\n\nvar _path$d;\nfunction _extends$d() { return _extends$d = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$d.apply(null, arguments); }\nvar SvgFilePicker = function SvgFilePicker(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends$d({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 54,\n    height: 54,\n    fill: \"none\"\n  }, props), _path$d || (_path$d = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentcolor\",\n    fillRule: \"evenodd\",\n    d: \"M17.55 41.175H27v2.362h-9.45a2.37 2.37 0 0 1-2.363-2.362v-28.35a2.37 2.37 0 0 1 2.363-2.363h11.813a1.07 1.07 0 0 1 .826.355l8.27 8.269a1.07 1.07 0 0 1 .353.826v5.907H36.45v-3.544h-7.088A2.37 2.37 0 0 1 27 19.912v-7.087h-9.45zm18.427-21.263-6.614-6.615v6.615zm4.253 18.664 3.308 3.308-1.654 1.653-3.308-3.307a6.35 6.35 0 0 1-3.307.945c-3.308 0-5.906-2.599-5.906-5.906 0-3.308 2.598-5.907 5.906-5.907s5.906 2.6 5.906 5.907a6.35 6.35 0 0 1-.945 3.307m-4.961-6.851c-2.008 0-3.544 1.536-3.544 3.544s1.536 3.543 3.544 3.543 3.544-1.535 3.544-3.543-1.536-3.544-3.544-3.544\",\n    clipRule: \"evenodd\"\n  })));\n};\n\nvar _path$c;\nfunction _extends$c() { return _extends$c = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$c.apply(null, arguments); }\nvar SvgDocumentPreview = function SvgDocumentPreview(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends$c({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 54,\n    height: 54,\n    fill: \"none\"\n  }, props), _path$c || (_path$c = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentcolor\",\n    fillRule: \"evenodd\",\n    d: \"M17.55 41.175h6.75v2.363h-6.75a2.37 2.37 0 0 1-2.363-2.363v-28.35a2.37 2.37 0 0 1 2.363-2.362h11.813a1.07 1.07 0 0 1 .826.354l8.27 8.269a1.07 1.07 0 0 1 .353.827v7.256H36.45v-4.894h-7.088A2.37 2.37 0 0 1 27 19.913v-7.088h-9.45zm18.427-21.262-6.614-6.616v6.616zm-2.212 10.564-.015-.001h-.015a8.86 8.86 0 0 0-7.926 5.656l-.003.008a.9.9 0 0 0 0 .62l.003.008a8.85 8.85 0 0 0 7.926 5.655l.015.001h.015a8.86 8.86 0 0 0 7.926-5.656l.003-.008a.9.9 0 0 0 0-.62l-.003-.008a8.85 8.85 0 0 0-7.926-5.655M33.75 40.6c-2.456 0-5.088-1.802-6.107-4.151 1.019-2.349 3.651-4.151 6.107-4.151s5.088 1.802 6.107 4.151c-1.019 2.349-3.65 4.151-6.107 4.151m0-7.593a3.443 3.443 0 1 0 0 6.885 3.443 3.443 0 0 0 0-6.886Zm-.316 1.853a1.62 1.62 0 1 1 .632 3.178 1.62 1.62 0 0 1-.632-3.178\",\n    clipRule: \"evenodd\"\n  })));\n};\n\nconst iconsByType = type => {\n  return {\n    button: SvgButton,\n    checkbox: SvgCheckbox,\n    checklist: SvgChecklist,\n    columns: SvgGroup,\n    datetime: SvgDatetime,\n    group: SvgGroup,\n    iframe: SvgIFrame,\n    image: SvgImage,\n    number: SvgNumber,\n    expression: SvgExpressionField,\n    radio: SvgRadio,\n    select: SvgSelect,\n    separator: SvgSeparator,\n    spacer: SvgSpacer,\n    dynamiclist: SvgDynamicList,\n    taglist: SvgTaglist,\n    text: SvgText,\n    html: SvgHtml,\n    textfield: SvgTextfield,\n    textarea: SvgTextarea,\n    table: SvgTable,\n    filepicker: SvgFilePicker,\n    documentPreview: SvgDocumentPreview,\n    default: SvgForm\n  }[type];\n};\n\nconst type$e = 'image';\nfunction Image(props) {\n  const {\n    field\n  } = props;\n  const {\n    alt,\n    id,\n    source\n  } = field;\n  const Icon = iconsByType(field.type);\n  const evaluatedImageSource = useSingleLineTemplateEvaluation(source, {\n    debug: true\n  });\n  const safeSource = useMemo(() => sanitizeImageSource(evaluatedImageSource), [evaluatedImageSource]);\n  const altText = useSingleLineTemplateEvaluation(alt, {\n    debug: true\n  });\n  const {\n    formId\n  } = useContext(FormContext);\n  return jsxs(\"div\", {\n    class: formFieldClasses(type$e),\n    children: [safeSource && jsx(\"div\", {\n      class: \"fjs-image-container\",\n      children: jsx(\"img\", {\n        alt: altText,\n        src: safeSource,\n        class: \"fjs-image\",\n        id: prefixId(id, formId)\n      })\n    }), !safeSource && jsx(\"div\", {\n      class: \"fjs-image-placeholder\",\n      children: jsx(\"span\", {\n        class: \"fjs-image-placeholder-inner\",\n        children: jsx(Icon, {\n          alt: \"This is an image placeholder\",\n          width: \"32\",\n          height: \"32\",\n          viewBox: \"0 0 56 56\"\n        })\n      })\n    })]\n  });\n}\nImage.config = {\n  type: type$e,\n  keyed: false,\n  name: 'Image view',\n  group: 'presentation',\n  create: (options = {}) => options,\n  getSubheading: field => field.alt\n};\n\nfunction TemplatedInputAdorner(props) {\n  const {\n    pre,\n    post\n  } = props;\n  const evaluatedPre = useSingleLineTemplateEvaluation(pre, {\n    debug: true\n  });\n  const evaluatedPost = useSingleLineTemplateEvaluation(post, {\n    debug: true\n  });\n  return jsx(InputAdorner, {\n    ...props,\n    pre: evaluatedPre,\n    post: evaluatedPost\n  });\n}\n\nvar _path$b;\nfunction _extends$b() { return _extends$b = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$b.apply(null, arguments); }\nvar SvgAngelDown = function SvgAngelDown(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends$b({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 8,\n    height: 8\n  }, props), _path$b || (_path$b = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    stroke: \"currentColor\",\n    strokeWidth: 0.5,\n    d: \"M7.75 1.336 4 6.125.258 1.335 0 1.54l4 5.125L8 1.54Zm0 0\",\n    clipRule: \"evenodd\"\n  })));\n};\n\nvar _path$a;\nfunction _extends$a() { return _extends$a = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$a.apply(null, arguments); }\nvar SvgAngelUp = function SvgAngelUp(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends$a({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 8,\n    height: 8\n  }, props), _path$a || (_path$a = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    stroke: \"currentColor\",\n    strokeWidth: 0.5,\n    d: \"M7.75 6.664 4 1.875.258 6.665 0 6.46l4-5.125L8 6.46Zm0 0\",\n    clipRule: \"evenodd\"\n  })));\n};\n\nfunction countDecimals(number) {\n  const num = Big(number);\n  if (num.toString() === num.toFixed(0)) return 0;\n  return num.toFixed().split('.')[1].length || 0;\n}\nfunction isValidNumber(value) {\n  return (typeof value === 'number' || typeof value === 'string') && value !== '' && !isNaN(Number(value));\n}\nfunction willKeyProduceValidNumber(key, previousValue, caretIndex, selectionWidth, decimalDigits) {\n  if (previousValue === 'NaN') {\n    return false;\n  }\n\n  // Dot and comma are both treated as dot\n  previousValue = previousValue.replace(',', '.');\n  const isFirstDot = !previousValue.includes('.') && (key === '.' || key === ',');\n  const isFirstMinus = !previousValue.includes('-') && key === '-' && caretIndex === 0;\n  const keypressIsNumeric = /^[0-9]$/i.test(key);\n  const dotIndex = previousValue === undefined ? -1 : previousValue.indexOf('.');\n\n  // If the caret is positioned after a dot, and the current decimal digits count is equal or greater to the maximum, disallow the key press\n  const overflowsDecimalSpace = typeof decimalDigits === 'number' && selectionWidth === 0 && dotIndex !== -1 && previousValue.includes('.') && previousValue.split('.')[1].length >= decimalDigits && caretIndex > dotIndex;\n  const keypressIsAllowedChar = keypressIsNumeric || decimalDigits !== 0 && isFirstDot || isFirstMinus;\n  return keypressIsAllowedChar && !overflowsDecimalSpace;\n}\nfunction isNullEquivalentValue(value) {\n  return value === undefined || value === null || value === '';\n}\n\nconst type$d = 'number';\nfunction Numberfield(props) {\n  const {\n    disabled,\n    errors = [],\n    domId,\n    onBlur,\n    onFocus,\n    field,\n    value,\n    readonly\n  } = props;\n  const {\n    description,\n    label,\n    appearance = {},\n    validate = {},\n    decimalDigits,\n    increment: incrementValue\n  } = field;\n  const {\n    prefixAdorner,\n    suffixAdorner\n  } = appearance;\n  const {\n    required\n  } = validate;\n\n  /** @type {import(\"preact\").RefObject<HTMLInputElement>} */\n  const inputRef = useRef();\n  const [cachedValue, setCachedValue] = useState(value);\n  const [displayValue, setDisplayValue] = useState(value);\n  const sanitize = useCallback(value => Numberfield.config.sanitizeValue({\n    value,\n    formField: field\n  }), [field]);\n  const [debouncedOnChange, flushOnChange] = useFlushDebounce(props.onChange);\n  const previousCachedValue = usePrevious(value);\n  if (previousCachedValue !== cachedValue) {\n    debouncedOnChange({\n      field,\n      value: cachedValue\n    });\n  }\n  const onInputBlur = () => {\n    flushOnChange && flushOnChange();\n    onBlur && onBlur();\n  };\n  const onInputFocus = () => {\n    onFocus && onFocus();\n  };\n\n  // all value changes must go through this function\n  const setValue = useCallback(stringValue => {\n    if (isNullEquivalentValue(stringValue)) {\n      setDisplayValue('');\n      setCachedValue(null);\n      return;\n    }\n\n    // converts automatically for countries where the comma is used as a decimal separator\n    stringValue = stringValue.replaceAll(',', '.');\n    if (stringValue === '-') {\n      setDisplayValue('-');\n      return;\n    }\n\n    // provides feedback for invalid numbers entered via pasting as opposed to just ignoring the paste\n    if (isNaN(Number(stringValue))) {\n      setDisplayValue('NaN');\n      setCachedValue(null);\n      return;\n    }\n    setDisplayValue(stringValue);\n    setCachedValue(sanitize(stringValue));\n  }, [sanitize]);\n\n  // when external changes occur independently of the input, we update the display and cache values of the component\n  const previousValue = usePrevious(value);\n  const outerValueChanged = previousValue != value;\n  const outerValueEqualsCache = sanitize(value) === sanitize(cachedValue);\n  if (outerValueChanged && !outerValueEqualsCache) {\n    setValue(value && value.toString() || '');\n  }\n\n  // caches the value an increment/decrement operation will be based on\n  const incrementAmount = useMemo(() => {\n    if (incrementValue) return Big(incrementValue);\n    if (decimalDigits) return Big(`1e-${decimalDigits}`);\n    return Big('1');\n  }, [decimalDigits, incrementValue]);\n  const increment = () => {\n    if (readonly) {\n      return;\n    }\n    const base = isValidNumber(cachedValue) ? Big(cachedValue) : Big(0);\n    const stepFlooredValue = base.minus(base.mod(incrementAmount));\n\n    // note: toFixed() behaves differently in big.js\n    setValue(stepFlooredValue.plus(incrementAmount).toFixed());\n  };\n  const decrement = () => {\n    if (readonly) {\n      return;\n    }\n    const base = isValidNumber(cachedValue) ? Big(cachedValue) : Big(0);\n    const offset = base.mod(incrementAmount);\n    if (offset.cmp(0) === 0) {\n      // if we're already on a valid step, decrement\n      setValue(base.minus(incrementAmount).toFixed());\n    } else {\n      // otherwise floor to the step\n      const stepFlooredValue = base.minus(base.mod(incrementAmount));\n      setValue(stepFlooredValue.toFixed());\n    }\n  };\n  const onKeyDown = e => {\n    // delete the NaN state all at once on backspace or delete\n    if (displayValue === 'NaN' && (e.code === 'Backspace' || e.code === 'Delete')) {\n      setValue('');\n      e.preventDefault();\n      return;\n    }\n    if (e.code === 'ArrowUp') {\n      increment();\n      e.preventDefault();\n      return;\n    }\n    if (e.code === 'ArrowDown') {\n      decrement();\n      e.preventDefault();\n      return;\n    }\n    if (e.code === 'Enter') {\n      flushOnChange && flushOnChange();\n    }\n  };\n\n  // intercept key presses which would lead to an invalid number\n  const onKeyPress = e => {\n    const caretIndex = inputRef.current.selectionStart;\n    const selectionWidth = inputRef.current.selectionStart - inputRef.current.selectionEnd;\n    const previousValue = inputRef.current.value;\n    if (!willKeyProduceValidNumber(e.key, previousValue, caretIndex, selectionWidth, decimalDigits)) {\n      e.preventDefault();\n    }\n  };\n  const descriptionId = `${domId}-description`;\n  const errorMessageId = `${domId}-error-message`;\n  return jsxs(\"div\", {\n    class: formFieldClasses(type$d, {\n      errors,\n      disabled,\n      readonly\n    }),\n    children: [jsx(Label, {\n      htmlFor: domId,\n      label: label,\n      required: required\n    }), jsx(TemplatedInputAdorner, {\n      disabled: disabled,\n      readonly: readonly,\n      pre: prefixAdorner,\n      post: suffixAdorner,\n      children: jsxs(\"div\", {\n        class: classNames('fjs-vertical-group', {\n          'fjs-disabled': disabled,\n          'fjs-readonly': readonly\n        }, {\n          hasErrors: errors.length\n        }),\n        children: [jsx(\"input\", {\n          ref: inputRef,\n          class: \"fjs-input\",\n          disabled: disabled,\n          readOnly: readonly,\n          id: domId,\n          onKeyDown: onKeyDown,\n          onKeyPress: onKeyPress,\n          onBlur: onInputBlur,\n          onFocus: onInputFocus\n          // @ts-ignore\n          ,\n          onInput: e => setValue(e.target.value, true),\n          onPaste: e => displayValue === 'NaN' && e.preventDefault(),\n          type: \"text\",\n          autoComplete: \"off\",\n          step: incrementAmount,\n          value: displayValue,\n          \"aria-describedby\": [descriptionId, errorMessageId].join(' '),\n          required: required,\n          \"aria-invalid\": errors.length > 0\n        }), jsxs(\"div\", {\n          class: classNames('fjs-number-arrow-container', {\n            'fjs-disabled': disabled,\n            'fjs-readonly': readonly\n          }),\n          children: [jsx(\"button\", {\n            type: \"button\",\n            class: \"fjs-number-arrow-up\",\n            \"aria-label\": \"Increment\",\n            onClick: () => increment(),\n            tabIndex: -1,\n            children: jsx(SvgAngelUp, {})\n          }), jsx(\"div\", {\n            class: \"fjs-number-arrow-separator\"\n          }), jsx(\"button\", {\n            type: \"button\",\n            class: \"fjs-number-arrow-down\",\n            \"aria-label\": \"Decrement\",\n            onClick: () => decrement(),\n            tabIndex: -1,\n            children: jsx(SvgAngelDown, {})\n          })]\n        })]\n      })\n    }), jsx(Description, {\n      id: descriptionId,\n      description: description\n    }), jsx(Errors, {\n      id: errorMessageId,\n      errors: errors\n    })]\n  });\n}\nNumberfield.config = {\n  type: type$d,\n  keyed: true,\n  name: 'Number',\n  group: 'basic-input',\n  emptyValue: null,\n  sanitizeValue: ({\n    value,\n    formField\n  }) => {\n    // invalid value types are sanitized to null\n    if (isNullEquivalentValue(value) || !isValidNumber(value)) return null;\n\n    // otherwise, we return a string or a number depending on the form field configuration\n    return formField.serializeToString ? value.toString() : Number(value);\n  },\n  create: (options = {}) => ({\n    label: 'Number',\n    ...options\n  })\n};\n\nconst type$c = 'radio';\nfunction Radio(props) {\n  const {\n    disabled,\n    errors = [],\n    domId,\n    onBlur,\n    onFocus,\n    field,\n    readonly,\n    value\n  } = props;\n  const {\n    description,\n    label,\n    validate = {}\n  } = field;\n\n  /** @type {import(\"preact\").RefObject<HTMLDivElement>} */\n  const outerDivRef = useRef();\n  const {\n    required\n  } = validate;\n  const onChange = v => {\n    props.onChange({\n      value: v\n    });\n  };\n  const onRadioBlur = e => {\n    if (outerDivRef.current.contains(e.relatedTarget)) {\n      return;\n    }\n    onBlur && onBlur();\n  };\n  const onRadioFocus = e => {\n    if (outerDivRef.current.contains(e.relatedTarget)) {\n      return;\n    }\n    onFocus && onFocus();\n  };\n  const {\n    loadState,\n    options\n  } = useOptionsAsync(field);\n  useCleanupSingleSelectValue({\n    field,\n    loadState,\n    options,\n    value,\n    onChange: props.onChange\n  });\n  const descriptionId = `${domId}-description`;\n  const errorMessageId = `${domId}-error-message`;\n  return jsxs(\"div\", {\n    class: formFieldClasses(type$c, {\n      errors,\n      disabled,\n      readonly\n    }),\n    ref: outerDivRef,\n    children: [jsx(Label, {\n      label: label,\n      required: required\n    }), loadState == LOAD_STATES.LOADED && options.map((option, index) => {\n      const itemDomId = `${domId}-${index}`;\n      const isChecked = isEqual(option.value, value);\n      return jsxs(\"div\", {\n        className: classNames('fjs-inline-label', {\n          'fjs-checked': isChecked\n        }),\n        children: [jsx(\"input\", {\n          checked: isChecked,\n          class: \"fjs-input\",\n          disabled: disabled,\n          readOnly: readonly,\n          name: domId,\n          id: itemDomId,\n          type: \"radio\",\n          onClick: () => onChange(option.value),\n          onBlur: onRadioBlur,\n          onFocus: onRadioFocus,\n          \"aria-describedby\": [descriptionId, errorMessageId].join(' '),\n          required: required,\n          \"aria-invalid\": errors.length > 0\n        }), jsx(Label, {\n          htmlFor: itemDomId,\n          label: option.label,\n          class: classNames({\n            'fjs-checked': isChecked\n          }),\n          required: false\n        })]\n      }, option.value);\n    }), jsx(Description, {\n      id: descriptionId,\n      description: description\n    }), jsx(Errors, {\n      id: errorMessageId,\n      errors: errors\n    })]\n  });\n}\nRadio.config = {\n  type: type$c,\n  keyed: true,\n  name: 'Radio group',\n  group: 'selection',\n  emptyValue: null,\n  sanitizeValue: sanitizeSingleSelectValue,\n  create: (options = {}) => ({\n    label: 'Radio group',\n    ...createEmptyOptions(options)\n  })\n};\n\nvar _path$9;\nfunction _extends$9() { return _extends$9 = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$9.apply(null, arguments); }\nvar SvgXMark = function SvgXMark(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends$9({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 8,\n    height: 8\n  }, props), _path$9 || (_path$9 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    stroke: \"currentColor\",\n    strokeWidth: 0.5,\n    d: \"M4 3.766 7.43.336l.234.234L4.234 4l3.43 3.43-.234.234L4 4.234.57 7.664.336 7.43 3.766 4 .336.57.57.336Zm0 0\",\n    clipRule: \"evenodd\"\n  })));\n};\n\nfunction SearchableSelect(props) {\n  const {\n    domId,\n    disabled,\n    errors,\n    onBlur,\n    onFocus,\n    field,\n    readonly,\n    value\n  } = props;\n  const [filter, setFilter] = useState('');\n  const [isDropdownExpanded, setIsDropdownExpanded] = useState(false);\n  const [isFilterActive, setIsFilterActive] = useState(true);\n  const [isEscapeClosed, setIsEscapeClose] = useState(false);\n\n  /** @type {import(\"preact\").RefObject<HTMLInputElement>} */\n  const searchbarRef = useRef();\n  const eventBus = useService('eventBus');\n  const {\n    loadState,\n    options\n  } = useOptionsAsync(field);\n  useCleanupSingleSelectValue({\n    field,\n    loadState,\n    options,\n    value,\n    onChange: props.onChange\n  });\n  const getLabelCorrelation = useGetLabelCorrelation(options);\n  const label = useMemo(() => value && getLabelCorrelation(value), [value, getLabelCorrelation]);\n\n  // whenever we change the underlying value, set the label to it\n  useEffect(() => {\n    setFilter(label || '');\n  }, [label]);\n  const filteredOptions = useMemo(() => {\n    if (loadState !== LOAD_STATES.LOADED) {\n      return [];\n    }\n    if (!filter || !isFilterActive) {\n      return options;\n    }\n    return options.filter(option => option.label && option.value && option.label.toLowerCase().includes(filter.toLowerCase()));\n  }, [filter, loadState, options, isFilterActive]);\n  const pickOption = useCallback(option => {\n    setFilter(option && option.label || '');\n    props.onChange({\n      value: option && option.value || null\n    });\n  }, [props]);\n  const displayState = useMemo(() => {\n    const ds = {};\n    ds.componentReady = !disabled && !readonly && loadState === LOAD_STATES.LOADED;\n    ds.displayCross = ds.componentReady && value !== null && value !== undefined;\n    ds.displayDropdown = !disabled && !readonly && isDropdownExpanded && !isEscapeClosed;\n    return ds;\n  }, [disabled, isDropdownExpanded, isEscapeClosed, loadState, readonly, value]);\n  const onAngelMouseDown = useCallback(e => {\n    setIsEscapeClose(false);\n    setIsDropdownExpanded(!isDropdownExpanded);\n    const searchbar = searchbarRef.current;\n    isDropdownExpanded ? searchbar.blur() : searchbar.focus();\n    e.preventDefault();\n  }, [isDropdownExpanded]);\n  const onInputChange = ({\n    target\n  }) => {\n    setIsEscapeClose(false);\n    setIsDropdownExpanded(true);\n    setIsFilterActive(true);\n    setFilter(target.value || '');\n    eventBus.fire('formField.search', {\n      formField: field,\n      value: target.value || ''\n    });\n  };\n  const onInputKeyDown = useCallback(keyDownEvent => {\n    switch (keyDownEvent.key) {\n      case 'ArrowUp':\n        keyDownEvent.preventDefault();\n        break;\n      case 'ArrowDown':\n        {\n          if (!isDropdownExpanded) {\n            setIsDropdownExpanded(true);\n            setIsFilterActive(false);\n          }\n          keyDownEvent.preventDefault();\n          break;\n        }\n      case 'Escape':\n        setIsEscapeClose(true);\n        break;\n      case 'Enter':\n        if (isEscapeClosed) {\n          setIsEscapeClose(false);\n        }\n        break;\n    }\n  }, [isDropdownExpanded, isEscapeClosed]);\n  const onInputMouseDown = useCallback(() => {\n    setIsEscapeClose(false);\n    setIsDropdownExpanded(true);\n    setIsFilterActive(false);\n  }, []);\n  const onInputFocus = useCallback(() => {\n    setIsEscapeClose(false);\n    setIsDropdownExpanded(true);\n    onFocus && onFocus();\n  }, [onFocus]);\n  const onInputBlur = useCallback(() => {\n    setIsDropdownExpanded(false);\n    setFilter(label || '');\n    onBlur && onBlur();\n  }, [onBlur, label]);\n  return jsxs(Fragment, {\n    children: [jsxs(\"div\", {\n      class: classNames('fjs-input-group', {\n        disabled: disabled,\n        readonly: readonly\n      }, {\n        hasErrors: errors.length\n      }),\n      children: [jsx(\"input\", {\n        disabled: disabled,\n        readOnly: readonly,\n        class: \"fjs-input\",\n        ref: searchbarRef,\n        id: domId,\n        onChange: onInputChange,\n        type: \"text\",\n        value: filter,\n        placeholder: 'Search',\n        autoComplete: \"off\",\n        onKeyDown: onInputKeyDown,\n        onMouseDown: onInputMouseDown,\n        onFocus: onInputFocus,\n        onBlur: onInputBlur,\n        \"aria-describedby\": props['aria-describedby']\n      }), displayState.displayCross && jsxs(\"span\", {\n        class: \"fjs-select-cross\",\n        onMouseDown: e => {\n          pickOption(null);\n          e.preventDefault();\n        },\n        children: [jsx(SvgXMark, {}), ' ']\n      }), jsx(\"span\", {\n        class: \"fjs-select-arrow\",\n        onMouseDown: e => onAngelMouseDown(e),\n        children: displayState.displayDropdown ? jsx(SvgAngelUp, {}) : jsx(SvgAngelDown, {})\n      })]\n    }), jsx(\"div\", {\n      class: \"fjs-select-anchor\",\n      children: displayState.displayDropdown && jsx(DropdownList, {\n        values: filteredOptions,\n        getLabel: option => option.label,\n        onValueSelected: option => {\n          pickOption(option);\n          setIsDropdownExpanded(false);\n        },\n        listenerElement: searchbarRef.current\n      })\n    })]\n  });\n}\n\nfunction SimpleSelect(props) {\n  const {\n    domId,\n    disabled,\n    errors,\n    onBlur,\n    onFocus,\n    field,\n    readonly,\n    value\n  } = props;\n  const [isDropdownExpanded, setIsDropdownExpanded] = useState(false);\n  const selectRef = useRef();\n\n  /** @type {import(\"preact\").RefObject<HTMLInputElement>} */\n  const inputRef = useRef();\n  const {\n    loadState,\n    options\n  } = useOptionsAsync(field);\n  useCleanupSingleSelectValue({\n    field,\n    loadState,\n    options,\n    value,\n    onChange: props.onChange\n  });\n  const getLabelCorrelation = useGetLabelCorrelation(options);\n  const valueLabel = useMemo(() => value && getLabelCorrelation(value), [value, getLabelCorrelation]);\n  const pickOption = useCallback(option => {\n    props.onChange({\n      value: option && option.value || null\n    });\n  }, [props]);\n  const displayState = useMemo(() => {\n    const ds = {};\n    ds.componentReady = !disabled && !readonly && loadState === LOAD_STATES.LOADED;\n    ds.displayCross = ds.componentReady && value !== null && value !== undefined;\n    ds.displayDropdown = !disabled && !readonly && isDropdownExpanded;\n    return ds;\n  }, [disabled, isDropdownExpanded, loadState, readonly, value]);\n  const onMouseDown = useCallback(e => {\n    const input = inputRef.current;\n    if (disabled || !input) {\n      return;\n    }\n    setIsDropdownExpanded(!isDropdownExpanded);\n    if (isDropdownExpanded) {\n      input.blur();\n    } else {\n      input.focus();\n    }\n    e.preventDefault();\n  }, [disabled, isDropdownExpanded]);\n  const initialFocusIndex = useMemo(() => value && findIndex(options, option => option.value === value) || 0, [options, value]);\n  const onInputFocus = useCallback(() => {\n    if (!readonly) {\n      setIsDropdownExpanded(true);\n      onFocus && onFocus();\n    }\n  }, [onFocus, readonly]);\n  const onInputBlur = useCallback(() => {\n    if (!readonly) {\n      setIsDropdownExpanded(false);\n      onBlur && onBlur();\n    }\n  }, [onBlur, readonly]);\n  return jsxs(Fragment, {\n    children: [jsxs(\"div\", {\n      ref: selectRef,\n      class: classNames('fjs-input-group', {\n        disabled,\n        readonly\n      }, {\n        hasErrors: errors.length\n      }),\n      onFocus: onInputFocus,\n      onBlur: onInputBlur,\n      onMouseDown: onMouseDown,\n      children: [jsx(\"div\", {\n        class: classNames('fjs-select-display', {\n          'fjs-select-placeholder': !value\n        }),\n        id: `${domId}-display`,\n        children: valueLabel || 'Select'\n      }), !disabled && jsx(\"input\", {\n        ref: inputRef,\n        id: domId,\n        class: \"fjs-select-hidden-input\",\n        value: valueLabel,\n        onFocus: onInputFocus,\n        onBlur: onInputBlur,\n        \"aria-describedby\": props['aria-describedby']\n      }), displayState.displayCross && jsx(\"span\", {\n        class: \"fjs-select-cross\",\n        onMouseDown: e => {\n          pickOption(null);\n          e.stopPropagation();\n        },\n        children: jsx(SvgXMark, {})\n      }), jsx(\"span\", {\n        class: \"fjs-select-arrow\",\n        children: displayState.displayDropdown ? jsx(SvgAngelUp, {}) : jsx(SvgAngelDown, {})\n      })]\n    }), jsx(\"div\", {\n      class: \"fjs-select-anchor\",\n      children: displayState.displayDropdown && jsx(DropdownList, {\n        values: options,\n        getLabel: option => option.label,\n        initialFocusIndex: initialFocusIndex,\n        onValueSelected: option => {\n          pickOption(option);\n          setIsDropdownExpanded(false);\n        },\n        listenerElement: selectRef.current\n      })\n    })]\n  });\n}\n\nconst type$b = 'select';\nfunction Select(props) {\n  const {\n    disabled,\n    errors = [],\n    domId,\n    onBlur,\n    onFocus,\n    field,\n    onChange,\n    readonly,\n    value\n  } = props;\n  const {\n    description,\n    label,\n    searchable = false,\n    validate = {}\n  } = field;\n  const {\n    required\n  } = validate;\n  const descriptionId = `${domId}-description`;\n  const errorMessageId = `${domId}-error-message`;\n  const selectProps = {\n    domId,\n    disabled,\n    errors,\n    onBlur,\n    onFocus,\n    field,\n    value,\n    onChange,\n    readonly,\n    required,\n    'aria-invalid': errors.length > 0,\n    'aria-describedby': [descriptionId, errorMessageId].join(' ')\n  };\n  return jsxs(\"div\", {\n    class: formFieldClasses(type$b, {\n      errors,\n      disabled,\n      readonly\n    }),\n    onKeyDown: event => {\n      if (event.key === 'Enter') {\n        event.preventDefault();\n        event.stopPropagation();\n      }\n    },\n    children: [jsx(Label, {\n      htmlFor: domId,\n      label: label,\n      required: required\n    }), searchable ? jsx(SearchableSelect, {\n      ...selectProps\n    }) : jsx(SimpleSelect, {\n      ...selectProps\n    }), jsx(Description, {\n      id: descriptionId,\n      description: description\n    }), jsx(Errors, {\n      id: errorMessageId,\n      errors: errors\n    })]\n  });\n}\nSelect.config = {\n  type: type$b,\n  keyed: true,\n  name: 'Select',\n  group: 'selection',\n  emptyValue: null,\n  sanitizeValue: sanitizeSingleSelectValue,\n  create: (options = {}) => ({\n    label: 'Select',\n    ...createEmptyOptions(options)\n  })\n};\n\nconst type$a = 'separator';\nfunction Separator() {\n  return jsx(\"div\", {\n    class: formFieldClasses(type$a),\n    children: jsx(\"hr\", {})\n  });\n}\nSeparator.config = {\n  type: type$a,\n  keyed: false,\n  name: 'Separator',\n  group: 'presentation',\n  create: (options = {}) => ({\n    ...options\n  })\n};\n\nconst type$9 = 'spacer';\nfunction Spacer(props) {\n  const {\n    field\n  } = props;\n  const {\n    height = 60\n  } = field;\n  return jsx(\"div\", {\n    class: formFieldClasses(type$9),\n    style: {\n      height: height\n    }\n  });\n}\nSpacer.config = {\n  type: type$9,\n  keyed: false,\n  name: 'Spacer',\n  group: 'presentation',\n  create: (options = {}) => ({\n    height: 60,\n    ...options\n  })\n};\n\nfunction DynamicList(props) {\n  const {\n    field,\n    domId,\n    readonly\n  } = props;\n  const {\n    label,\n    type,\n    showOutline\n  } = field;\n  const {\n    Empty\n  } = useContext(FormRenderContext);\n  const fullProps = {\n    ...props,\n    Empty\n  };\n  return jsxs(\"div\", {\n    className: classNames(formFieldClasses(type, {\n      readonly\n    }), 'fjs-form-field-grouplike', {\n      'fjs-outlined': showOutline\n    }),\n    role: \"group\",\n    \"aria-labelledby\": domId,\n    children: [jsx(Label, {\n      id: domId,\n      label: label\n    }), jsx(ChildrenRenderer, {\n      ...fullProps\n    })]\n  });\n}\nDynamicList.config = {\n  type: 'dynamiclist',\n  pathed: true,\n  repeatable: true,\n  name: 'Dynamic list',\n  group: 'container',\n  create: (options = {}) => ({\n    label: 'Dynamic list',\n    components: [],\n    showOutline: true,\n    isRepeating: true,\n    allowAddRemove: true,\n    defaultRepetitions: 1,\n    ...options\n  })\n};\n\nfunction SkipLink(props) {\n  const {\n    className,\n    label,\n    onSkip\n  } = props;\n  const onKeyDown = useCallback(event => {\n    if (event.key === 'Enter') {\n      event.preventDefault();\n      event.stopPropagation();\n      onSkip();\n    }\n  }, [onSkip]);\n  return jsx(\"a\", {\n    href: \"#\",\n    class: classNames('fjs-skip-link', className),\n    onKeyDown: onKeyDown,\n    children: label\n  });\n}\n\nconst type$8 = 'taglist';\nfunction Taglist(props) {\n  const {\n    disabled,\n    errors = [],\n    onFocus,\n    domId,\n    onBlur,\n    field,\n    readonly,\n    value\n  } = props;\n  const {\n    description,\n    label,\n    validate = {}\n  } = field;\n  const {\n    required\n  } = validate;\n  const [filter, setFilter] = useState('');\n  const [isDropdownExpanded, setIsDropdownExpanded] = useState(false);\n  const [isEscapeClosed, setIsEscapeClose] = useState(false);\n\n  /** @type {import(\"preact\").RefObject<HTMLDivElement>} */\n  const focusScopeRef = useRef();\n\n  /** @type {import(\"preact\").RefObject<HTMLInputElement>} */\n  const inputRef = useRef();\n  const eventBus = useService('eventBus');\n  const {\n    loadState,\n    options\n  } = useOptionsAsync(field);\n\n  // ensures we render based on array content instead of reference\n  const values = useDeepCompareMemoize(value || []);\n  useCleanupMultiSelectValue({\n    field,\n    loadState,\n    options,\n    values,\n    onChange: props.onChange\n  });\n  const getLabelCorrelation = useGetLabelCorrelation(options);\n  const hasOptionsLeft = useMemo(() => options.length > values.length, [options.length, values.length]);\n  const filteredOptions = useMemo(() => {\n    if (loadState !== LOAD_STATES.LOADED) {\n      return [];\n    }\n    const isValidFilteredOption = option => {\n      const filterMatches = option.label.toLowerCase().includes(filter.toLowerCase());\n      return filterMatches && !hasEqualValue(option.value, values);\n    };\n    return options.filter(isValidFilteredOption);\n  }, [filter, options, values, loadState]);\n  const selectValue = value => {\n    setFilter('');\n\n    // Ensure values cannot be double selected due to latency\n    if (values.at(-1) === value) {\n      return;\n    }\n    props.onChange({\n      value: [...values, value]\n    });\n  };\n  const deselectValue = value => {\n    const newValues = values.filter(v => !isEqual(v, value));\n    props.onChange({\n      value: newValues\n    });\n  };\n  const onInputChange = ({\n    target\n  }) => {\n    setIsEscapeClose(false);\n    setFilter(target.value || '');\n    eventBus.fire('formField.search', {\n      formField: field,\n      value: target.value || ''\n    });\n  };\n  const onInputKeyDown = e => {\n    switch (e.key) {\n      case 'ArrowUp':\n      case 'ArrowDown':\n        // We do not want the cursor to seek in the search field when we press up and down\n        e.preventDefault();\n        break;\n      case 'Backspace':\n        if (!filter && values.length) {\n          deselectValue(values[values.length - 1]);\n        }\n        break;\n      case 'Escape':\n        setIsEscapeClose(true);\n        break;\n      case 'Enter':\n        if (isEscapeClosed) {\n          setIsEscapeClose(false);\n        }\n        break;\n    }\n  };\n  const onElementBlur = e => {\n    if (focusScopeRef.current.contains(e.relatedTarget)) return;\n    onBlur && onBlur();\n  };\n  const onElementFocus = e => {\n    if (focusScopeRef.current.contains(e.relatedTarget)) return;\n    onFocus && onFocus();\n  };\n  const onInputBlur = e => {\n    if (!readonly) {\n      setIsDropdownExpanded(false);\n      setFilter('');\n    }\n    onElementBlur(e);\n  };\n  const onInputFocus = e => {\n    if (!readonly) {\n      setIsDropdownExpanded(true);\n    }\n    onElementFocus(e);\n  };\n  const onTagRemoveClick = (event, value) => {\n    const {\n      target\n    } = event;\n    deselectValue(value);\n\n    // restore focus if there is no next sibling to focus\n    const nextTag = target.closest('.fjs-taglist-tag').nextSibling;\n    if (!nextTag) {\n      inputRef.current.focus();\n    }\n  };\n  const onSkipToSearch = () => {\n    inputRef.current.focus();\n  };\n  const shouldDisplayDropdown = useMemo(() => !disabled && loadState === LOAD_STATES.LOADED && isDropdownExpanded && !isEscapeClosed, [disabled, isDropdownExpanded, isEscapeClosed, loadState]);\n  const descriptionId = `${domId}-description`;\n  const errorMessageId = `${domId}-error-message`;\n  return jsxs(\"div\", {\n    ref: focusScopeRef,\n    class: formFieldClasses(type$8, {\n      errors,\n      disabled,\n      readonly\n    }),\n    onKeyDown: event => {\n      if (event.key === 'Enter') {\n        event.stopPropagation();\n        event.preventDefault();\n      }\n    },\n    children: [jsx(Label, {\n      label: label,\n      required: required,\n      htmlFor: domId\n    }), !disabled && !readonly && !!values.length && jsx(SkipLink, {\n      className: \"fjs-taglist-skip-link\",\n      label: \"Skip to search\",\n      onSkip: onSkipToSearch\n    }), jsxs(\"div\", {\n      class: classNames('fjs-taglist', {\n        'fjs-disabled': disabled,\n        'fjs-readonly': readonly\n      }),\n      children: [loadState === LOAD_STATES.LOADED && jsx(\"div\", {\n        class: \"fjs-taglist-tags\",\n        children: values.map(entry => {\n          return jsxs(\"div\", {\n            class: classNames('fjs-taglist-tag', {\n              'fjs-disabled': disabled,\n              'fjs-readonly': readonly\n            }),\n            onMouseDown: e => e.preventDefault(),\n            children: [jsx(\"span\", {\n              class: \"fjs-taglist-tag-label\",\n              children: getLabelCorrelation(entry)\n            }), !disabled && !readonly && jsx(\"button\", {\n              type: \"button\",\n              title: \"Remove tag\",\n              class: \"fjs-taglist-tag-remove\",\n              onFocus: onElementFocus,\n              onBlur: onElementBlur,\n              onClick: event => onTagRemoveClick(event, entry),\n              children: jsx(SvgXMark, {})\n            })]\n          }, entry);\n        })\n      }), jsx(\"input\", {\n        disabled: disabled,\n        readOnly: readonly,\n        class: \"fjs-taglist-input\",\n        ref: inputRef,\n        id: domId,\n        onChange: onInputChange,\n        type: \"text\",\n        value: filter,\n        placeholder: disabled || readonly ? undefined : 'Search',\n        autoComplete: \"off\",\n        onKeyDown: onInputKeyDown,\n        onMouseDown: () => setIsEscapeClose(false),\n        onFocus: onInputFocus,\n        onBlur: onInputBlur,\n        \"aria-describedby\": [descriptionId, errorMessageId].join(' '),\n        required: required,\n        \"aria-invalid\": errors.length > 0\n      })]\n    }), jsx(\"div\", {\n      class: \"fjs-taglist-anchor\",\n      children: shouldDisplayDropdown && jsx(DropdownList, {\n        values: filteredOptions,\n        getLabel: option => option.label,\n        onValueSelected: option => selectValue(option.value),\n        emptyListMessage: hasOptionsLeft ? 'No results' : 'All values selected',\n        listenerElement: inputRef.current\n      })\n    }), jsx(Description, {\n      id: descriptionId,\n      description: description\n    }), jsx(Errors, {\n      id: errorMessageId,\n      errors: errors\n    })]\n  });\n}\nTaglist.config = {\n  type: type$8,\n  keyed: true,\n  name: 'Tag list',\n  group: 'selection',\n  emptyValue: [],\n  sanitizeValue: sanitizeMultiSelectValue,\n  create: (options = {}) => ({\n    label: 'Tag list',\n    ...createEmptyOptions(options)\n  })\n};\n\nconst NODE_TYPE_TEXT = 3,\n  NODE_TYPE_ELEMENT = 1;\nconst ALLOWED_NODES = ['h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'span', 'em', 'a', 'p', 'div', 'ul', 'ol', 'li', 'hr', 'blockquote', 'img', 'pre', 'code', 'br', 'strong', 'table', 'thead', 'tbody', 'tr', 'th', 'td'];\nconst ALLOWED_ATTRIBUTES = ['align', 'alt', 'class', 'href', 'id', 'name', 'rel', 'target', 'src'];\nconst ALLOWED_URI_PATTERN = /^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i; // eslint-disable-line no-useless-escape\nconst ATTR_WHITESPACE_PATTERN = /[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g; // eslint-disable-line no-control-regex\n\nconst FORM_ELEMENT = document.createElement('form');\n\n/**\n * Sanitize a HTML string and return the cleaned, safe version.\n *\n * @param {string} html\n * @return {string}\n */\n\n// see https://github.com/developit/snarkdown/issues/70\nfunction sanitizeHTML(html) {\n  const doc = new DOMParser().parseFromString(`<!DOCTYPE html>\\n<html><body><div>${html}`, 'text/html');\n  doc.normalize();\n  const element = doc.body.firstChild;\n  if (element) {\n    sanitizeNode(/** @type Element */element);\n    return /** @type Element */element.innerHTML;\n  } else {\n    // handle the case that document parsing\n    // does not work at all, due to HTML gibberish\n    return '';\n  }\n}\n\n/**\n * Recursively sanitize a HTML node, potentially\n * removing it, its children or attributes.\n *\n * Inspired by https://github.com/developit/snarkdown/issues/70\n * and https://github.com/cure53/DOMPurify. Simplified\n * for our use-case.\n *\n * @param {Element} node\n */\nfunction sanitizeNode(node) {\n  // allow text nodes\n  if (node.nodeType === NODE_TYPE_TEXT) {\n    return;\n  }\n\n  // disallow all other nodes but Element\n  if (node.nodeType !== NODE_TYPE_ELEMENT) {\n    return node.remove();\n  }\n  const lcTag = node.tagName.toLowerCase();\n\n  // disallow non-whitelisted tags\n  if (!ALLOWED_NODES.includes(lcTag)) {\n    return node.remove();\n  }\n  const attributes = node.attributes;\n\n  // clean attributes\n  for (let i = attributes.length; i--;) {\n    const attribute = attributes[i];\n    const name = attribute.name;\n    const lcName = name.toLowerCase();\n\n    // normalize node value\n    const value = attribute.value.trim();\n    node.removeAttribute(name);\n    const valid = isValidAttribute(lcTag, lcName, value);\n    if (valid) {\n      node.setAttribute(name, value);\n    }\n  }\n\n  // force noopener on target=\"_blank\" links\n  if (lcTag === 'a' && node.getAttribute('target') === '_blank' && node.getAttribute('rel') !== 'noopener') {\n    node.setAttribute('rel', 'noopener');\n  }\n  for (let i = node.childNodes.length; i--;) {\n    sanitizeNode(/** @type Element */node.childNodes[i]);\n  }\n}\n\n/**\n * Validates attributes for validity.\n *\n * @param {string} lcTag\n * @param {string} lcName\n * @param {string} value\n * @return {boolean}\n */\nfunction isValidAttribute(lcTag, lcName, value) {\n  // disallow most attributes based on whitelist\n  if (!ALLOWED_ATTRIBUTES.includes(lcName)) {\n    return false;\n  }\n\n  // disallow \"DOM clobbering\" / polution of document and wrapping form elements\n  if ((lcName === 'id' || lcName === 'name') && (value in document || value in FORM_ELEMENT)) {\n    return false;\n  }\n  if (lcName === 'target' && value !== '_blank') {\n    return false;\n  }\n\n  // allow valid url links only\n  if (lcName === 'href' && !ALLOWED_URI_PATTERN.test(value.replace(ATTR_WHITESPACE_PATTERN, ''))) {\n    return false;\n  }\n  return true;\n}\n\nconst type$7 = 'text';\nfunction Text(props) {\n  const form = useService('form');\n  const {\n    textLinkTarget\n  } = form._getState().properties;\n  const {\n    field,\n    disableLinks\n  } = props;\n  const {\n    text = '',\n    strict = false\n  } = field;\n  const markdownRenderer = useService('markdownRenderer');\n\n  // feelers => pure markdown\n  const markdown = useTemplateEvaluation(text, {\n    debug: true,\n    strict\n  });\n\n  // markdown => html\n  const html = useMemo(() => markdownRenderer.render(markdown), [markdownRenderer, markdown]);\n  const sanitizeAndTransformLinks = useCallback(unsafeHtml => {\n    const html = sanitizeHTML(unsafeHtml);\n    const tempDiv = document.createElement('div');\n    tempDiv.innerHTML = html;\n    const links = tempDiv.querySelectorAll('a');\n    links.forEach(link => {\n      if (disableLinks) {\n        link.setAttribute('class', 'fjs-disabled-link');\n        link.setAttribute('tabIndex', '-1');\n      }\n      if (textLinkTarget) {\n        link.setAttribute('target', textLinkTarget);\n      }\n    });\n    return tempDiv.innerHTML;\n  }, [disableLinks, textLinkTarget]);\n  const dangerouslySetInnerHTML = useDangerousHTMLWrapper({\n    html,\n    transform: sanitizeAndTransformLinks,\n    sanitize: false,\n    sanitizeStyleTags: false\n  });\n  return jsx(\"div\", {\n    class: formFieldClasses(type$7),\n    dangerouslySetInnerHTML: dangerouslySetInnerHTML\n  });\n}\nText.config = {\n  type: type$7,\n  keyed: false,\n  name: 'Text view',\n  group: 'presentation',\n  create: (options = {}) => ({\n    text: TEXT_VIEW_DEFAULT_TEXT,\n    ...options\n  }),\n  getSubheading: field => {\n    textToLabel(field.text);\n  }\n};\n\nconst type$6 = 'html';\nfunction Html(props) {\n  const form = useService('form');\n  const {\n    textLinkTarget\n  } = form._getState().properties;\n  const {\n    field,\n    disableLinks,\n    domId\n  } = props;\n  const {\n    content = '',\n    strict = false\n  } = field;\n  const styleScope = `${domId}-style-scope`;\n\n  // we escape HTML within the template evaluation to prevent clickjacking attacks\n  const html = useTemplateEvaluation(content, {\n    debug: true,\n    strict,\n    sanitizer: escapeHTML\n  });\n  const transform = useCallback(html => {\n    const tempDiv = document.createElement('div');\n    tempDiv.innerHTML = html;\n\n    // (1) apply modifications to links\n\n    const links = tempDiv.querySelectorAll('a');\n    links.forEach(link => {\n      if (disableLinks) {\n        link.setAttribute('class', 'fjs-disabled-link');\n        link.setAttribute('tabIndex', '-1');\n      }\n      if (textLinkTarget) {\n        link.setAttribute('target', textLinkTarget);\n      }\n    });\n\n    // (2) scope styles to the root div\n    wrapCSSStyles(tempDiv, `.${styleScope}`);\n    return tempDiv.innerHTML;\n  }, [disableLinks, styleScope, textLinkTarget]);\n  const dangerouslySetInnerHTML = useDangerousHTMLWrapper({\n    html,\n    transform,\n    sanitize: true,\n    sanitizeStyleTags: false\n  });\n  return jsx(\"div\", {\n    class: classNames(formFieldClasses(type$6), styleScope),\n    dangerouslySetInnerHTML: dangerouslySetInnerHTML\n  });\n}\nHtml.config = {\n  type: type$6,\n  keyed: false,\n  name: 'HTML view',\n  group: 'presentation',\n  create: (options = {}) => ({\n    content: '',\n    ...options\n  })\n};\n\nconst type$5 = 'expression';\nfunction ExpressionField(props) {\n  const {\n    field,\n    onChange,\n    value\n  } = props;\n  const {\n    computeOn,\n    expression\n  } = field;\n  const evaluation = useExpressionEvaluation(expression);\n  const evaluationMemo = useDeepCompareMemoize(evaluation);\n  const eventBus = useService('eventBus');\n  const expressionLoopPreventer = useService('expressionLoopPreventer');\n  const sendValue = useCallback(() => {\n    onChange && onChange({\n      field,\n      value: evaluationMemo,\n      shouldNotRecompute: true\n    });\n  }, [field, evaluationMemo, onChange]);\n  useEffect(() => {\n    if (computeOn !== 'change' || isEqual(evaluationMemo, value) || !expressionLoopPreventer.registerExpressionExecution(this)) {\n      return;\n    }\n    sendValue();\n  });\n  useEffect(() => {\n    if (computeOn === 'presubmit') {\n      eventBus.on('presubmit', sendValue);\n      return () => eventBus.off('presubmit', sendValue);\n    }\n  }, [computeOn, sendValue, eventBus]);\n  return null;\n}\nExpressionField.config = {\n  type: type$5,\n  name: 'Expression',\n  group: 'basic-input',\n  keyed: true,\n  emptyValue: null,\n  escapeGridRender: true,\n  create: (options = {}) => ({\n    computeOn: 'change',\n    ...options\n  })\n};\n\nconst type$4 = 'textfield';\nfunction Textfield(props) {\n  const {\n    disabled,\n    errors = [],\n    domId,\n    onBlur,\n    onFocus,\n    field,\n    readonly,\n    value = ''\n  } = props;\n  const {\n    description,\n    label,\n    appearance = {},\n    validate = {}\n  } = field;\n  const {\n    prefixAdorner,\n    suffixAdorner\n  } = appearance;\n  const {\n    required\n  } = validate;\n  const [onChange, flushOnChange] = useFlushDebounce(({\n    target\n  }) => {\n    props.onChange({\n      value: target.value\n    });\n  });\n\n  /**\n   * @param {import('preact').JSX.TargetedEvent<HTMLInputElement, Event>} event\n   */\n  const onInputChange = event => {\n    onChange({\n      target: event.target\n    });\n  };\n  const onInputBlur = () => {\n    flushOnChange && flushOnChange();\n    onBlur && onBlur();\n  };\n  const onInputFocus = () => {\n    onFocus && onFocus();\n  };\n  const onKeyDown = e => {\n    if (e.code === 'Enter') {\n      flushOnChange && flushOnChange();\n    }\n  };\n  const descriptionId = `${domId}-description`;\n  const errorMessageId = `${domId}-error-message`;\n  return jsxs(\"div\", {\n    class: formFieldClasses(type$4, {\n      errors,\n      disabled,\n      readonly\n    }),\n    children: [jsx(Label, {\n      htmlFor: domId,\n      label: label,\n      required: required\n    }), jsx(TemplatedInputAdorner, {\n      disabled: disabled,\n      readonly: readonly,\n      pre: prefixAdorner,\n      post: suffixAdorner,\n      children: jsx(\"input\", {\n        class: \"fjs-input\",\n        disabled: disabled,\n        readOnly: readonly,\n        id: domId,\n        onInput: onInputChange,\n        onBlur: onInputBlur,\n        onFocus: onInputFocus,\n        onKeyDown: onKeyDown,\n        type: \"text\",\n        value: value,\n        \"aria-describedby\": [descriptionId, errorMessageId].join(' '),\n        required: required,\n        \"aria-invalid\": errors.length > 0\n      })\n    }), jsx(Description, {\n      id: descriptionId,\n      description: description\n    }), jsx(Errors, {\n      id: errorMessageId,\n      errors: errors\n    })]\n  });\n}\nTextfield.config = {\n  type: type$4,\n  keyed: true,\n  name: 'Text field',\n  group: 'basic-input',\n  emptyValue: '',\n  sanitizeValue: ({\n    value\n  }) => {\n    if (isArray(value) || isObject(value) || isNil(value)) {\n      return '';\n    }\n\n    // sanitize newlines to spaces\n    if (typeof value === 'string') {\n      return value.replace(/[\\r\\n\\t]/g, ' ');\n    }\n    return String(value);\n  },\n  create: (options = {}) => ({\n    label: 'Text field',\n    ...options\n  })\n};\n\nconst type$3 = 'textarea';\nfunction Textarea(props) {\n  const {\n    disabled,\n    errors = [],\n    domId,\n    onBlur,\n    onFocus,\n    field,\n    readonly,\n    value = ''\n  } = props;\n  const {\n    description,\n    label,\n    validate = {}\n  } = field;\n  const {\n    required\n  } = validate;\n  const textareaRef = useRef();\n  const [onChange, flushOnChange] = useFlushDebounce(({\n    target\n  }) => {\n    props.onChange({\n      value: target.value\n    });\n  });\n  const onInputBlur = () => {\n    flushOnChange && flushOnChange();\n    onBlur && onBlur();\n  };\n  const onInputFocus = () => {\n    onFocus && onFocus();\n  };\n  const onInputChange = event => {\n    onChange({\n      target: event.target\n    });\n    autoSizeTextarea(textareaRef.current);\n  };\n  useLayoutEffect(() => {\n    autoSizeTextarea(textareaRef.current);\n  }, [value]);\n  useEffect(() => {\n    autoSizeTextarea(textareaRef.current);\n  }, []);\n  const descriptionId = `${domId}-description`;\n  const errorMessageId = `${domId}-error-message`;\n  return jsxs(\"div\", {\n    class: formFieldClasses(type$3, {\n      errors,\n      disabled,\n      readonly\n    }),\n    children: [jsx(Label, {\n      htmlFor: domId,\n      label: label,\n      required: required\n    }), jsx(\"textarea\", {\n      class: \"fjs-textarea\",\n      disabled: disabled,\n      readOnly: readonly,\n      id: domId,\n      onInput: onInputChange,\n      onBlur: onInputBlur,\n      onFocus: onInputFocus,\n      value: value,\n      ref: textareaRef,\n      \"aria-describedby\": [descriptionId, errorMessageId].join(' '),\n      required: required,\n      \"aria-invalid\": errors.length > 0\n    }), jsx(Description, {\n      id: descriptionId,\n      description: description\n    }), jsx(Errors, {\n      id: errorMessageId,\n      errors: errors\n    })]\n  });\n}\nTextarea.config = {\n  type: type$3,\n  keyed: true,\n  name: 'Text area',\n  group: 'basic-input',\n  emptyValue: '',\n  sanitizeValue: ({\n    value\n  }) => isArray(value) || isObject(value) || isNil(value) ? '' : String(value),\n  create: (options = {}) => ({\n    label: 'Text area',\n    ...options\n  })\n};\nconst autoSizeTextarea = textarea => {\n  // Ensures the textarea shrinks back, and improves resizing behavior consistency\n  textarea.style.height = '0px';\n  const computed = window.getComputedStyle(textarea);\n  const heightFromLines = () => {\n    const lineHeight = parseInt(computed.getPropertyValue('line-height').replace('px', '')) || 0;\n    const lines = textarea.value ? textarea.value.toString().split('\\n').length : 0;\n    return lines * lineHeight;\n  };\n  const calculatedHeight = parseInt(computed.getPropertyValue('border-top-width')) + parseInt(computed.getPropertyValue('padding-top')) + (textarea.scrollHeight || heightFromLines()) + parseInt(computed.getPropertyValue('padding-bottom')) + parseInt(computed.getPropertyValue('border-bottom-width'));\n  const minHeight = 75;\n  const maxHeight = 350;\n  const displayHeight = Math.max(Math.min(calculatedHeight || 0, maxHeight), minHeight);\n  textarea.style.height = `${displayHeight}px`;\n\n  // Overflow is hidden by default to hide scrollbar flickering\n  textarea.style.overflow = calculatedHeight > maxHeight ? 'visible' : 'hidden';\n};\n\nvar _path$8;\nfunction _extends$8() { return _extends$8 = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$8.apply(null, arguments); }\nvar SvgArrowDown = function SvgArrowDown(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends$8({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 32 32\"\n  }, props), _path$8 || (_path$8 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentcolor\",\n    d: \"M24.59 16.59 17 24.17V4h-2v20.17l-7.59-7.58L6 18l10 10 10-10z\"\n  })));\n};\n\nvar _path$7;\nfunction _extends$7() { return _extends$7 = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$7.apply(null, arguments); }\nvar SvgArrowUp = function SvgArrowUp(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends$7({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 32 32\"\n  }, props), _path$7 || (_path$7 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentcolor\",\n    d: \"M16 4 6 14l1.41 1.41L15 7.83V28h2V7.83l7.59 7.58L26 14z\"\n  })));\n};\n\nvar _path$6;\nfunction _extends$6() { return _extends$6 = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$6.apply(null, arguments); }\nvar SvgCaretLeft = function SvgCaretLeft(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends$6({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlSpace: \"preserve\",\n    viewBox: \"0 0 32 32\"\n  }, props), _path$6 || (_path$6 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentcolor\",\n    d: \"m20 24-10-8 10-8z\"\n  })));\n};\n\nvar _path$5;\nfunction _extends$5() { return _extends$5 = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$5.apply(null, arguments); }\nvar SvgCaretRight = function SvgCaretRight(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends$5({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlSpace: \"preserve\",\n    viewBox: \"0 0 32 32\"\n  }, props), _path$5 || (_path$5 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentcolor\",\n    d: \"m12 8 10 8-10 8z\"\n  })));\n};\n\nconst type$2 = 'table';\n\n/**\n * @typedef {('asc'|'desc')} Direction\n *\n * @typedef Sorting\n * @property {string} key\n * @property {Direction} direction\n *\n * @typedef Column\n * @property {string} label\n * @property {string} key\n *\n * @typedef Field\n * @property {string} id\n * @property {Array<Column>} [columns]\n * @property {string} [columnsExpression]\n * @property {string} [label]\n * @property {number} [rowCount]\n * @property {string} [dataSource]\n *\n * @typedef Props\n * @property {Field} field\n *\n * @param {Props} props\n * @returns {import(\"preact\").JSX.Element}\n */\nfunction Table(props) {\n  const {\n    field\n  } = props;\n  const {\n    columns = [],\n    columnsExpression,\n    dataSource = '',\n    rowCount,\n    id,\n    label\n  } = field;\n  const [sortBy, setSortBy] = useState(/** @type {Sorting | null} */null);\n  const evaluatedColumns = useEvaluatedColumns(columnsExpression || '', columns);\n  const columnKeys = evaluatedColumns.map(({\n    key\n  }) => key);\n  const evaluatedDataSource = useExpressionEvaluation(dataSource);\n  const data = Array.isArray(evaluatedDataSource) ? evaluatedDataSource.filter(entry => !isNil(entry) || typeof entry !== 'object') : [];\n  const sortedData = sortBy === null ? data : sortByColumn(data, sortBy.key, sortBy.direction);\n\n  /** @type {unknown[][]} */\n  const chunkedData = isNumber(rowCount) ? chunk(sortedData, rowCount) : [sortedData];\n  const [currentPage, setCurrentPage] = useState(0);\n  const currentChunk = chunkedData[currentPage] || [];\n  useEffect(() => {\n    setCurrentPage(0);\n  }, [rowCount, sortBy]);\n\n  /** @param {string} key */\n  function toggleSortBy(key) {\n    setSortBy(current => {\n      if (current === null || current.key !== key) {\n        return {\n          key,\n          direction: 'asc'\n        };\n      }\n      if (current.direction === 'desc') {\n        return null;\n      }\n      return {\n        key,\n        direction: 'desc'\n      };\n    });\n  }\n  return jsxs(\"div\", {\n    class: formFieldClasses(type$2),\n    children: [jsx(Label, {\n      htmlFor: prefixId(id),\n      label: label\n    }), jsxs(\"div\", {\n      class: classNames('fjs-table-middle-container', {\n        'fjs-table-empty': evaluatedColumns.length === 0\n      }),\n      children: [evaluatedColumns.length === 0 ? 'Nothing to show.' : jsx(\"div\", {\n        class: \"fjs-table-inner-container\",\n        children: jsxs(\"table\", {\n          class: \"fjs-table\",\n          id: prefixId(id),\n          children: [jsx(\"thead\", {\n            class: \"fjs-table-head\",\n            children: jsx(\"tr\", {\n              class: \"fjs-table-tr\",\n              children: evaluatedColumns.map(({\n                key,\n                label\n              }) => {\n                const displayLabel = label || key;\n                return jsx(\"th\", {\n                  tabIndex: 0,\n                  class: \"fjs-table-th\",\n                  onClick: () => {\n                    toggleSortBy(key);\n                  },\n                  onKeyDown: event => {\n                    if (['Enter', 'Space'].includes(event.code)) {\n                      toggleSortBy(key);\n                    }\n                  },\n                  \"aria-label\": getHeaderAriaLabel(sortBy, key, displayLabel),\n                  children: jsxs(\"span\", {\n                    class: \"fjs-table-th-label\",\n                    children: [displayLabel, sortBy !== null && sortBy.key === key ? jsx(Fragment, {\n                      children: sortBy.direction === 'asc' ? jsx(SvgArrowUp, {\n                        class: \"fjs-table-sort-icon-asc\"\n                      }) : jsx(SvgArrowDown, {\n                        class: \"fjs-table-sort-icon-desc\"\n                      })\n                    }) : null]\n                  })\n                }, key);\n              })\n            })\n          }), currentChunk.length === 0 ? jsx(\"tbody\", {\n            class: \"fjs-table-body\",\n            children: jsx(\"tr\", {\n              class: \"fjs-table-tr\",\n              children: jsx(\"td\", {\n                class: \"fjs-table-td\",\n                colSpan: evaluatedColumns.length,\n                children: \"Nothing to show.\"\n              })\n            })\n          }) : jsx(\"tbody\", {\n            class: \"fjs-table-body\",\n            children: currentChunk.map((row, index) => jsx(\"tr\", {\n              class: \"fjs-table-tr\",\n              children: columnKeys.map(key => jsx(\"td\", {\n                class: \"fjs-table-td\",\n                children: serializeCellData(row[key])\n              }, key))\n            }, index))\n          })]\n        })\n      }), isNumber(rowCount) && chunkedData.length > 1 && evaluatedColumns.length > 0 ? jsxs(\"nav\", {\n        class: \"fjs-table-nav\",\n        children: [jsxs(\"span\", {\n          class: \"fjs-table-nav-label\",\n          children: [currentPage + 1, \" of \", chunkedData.length]\n        }), jsx(\"button\", {\n          type: \"button\",\n          class: \"fjs-table-nav-button\",\n          onClick: () => {\n            setCurrentPage(page => Math.max(page - 1, 0));\n          },\n          disabled: currentPage === 0,\n          \"aria-label\": \"Previous page\",\n          children: jsx(SvgCaretLeft, {})\n        }), jsx(\"button\", {\n          type: \"button\",\n          class: \"fjs-table-nav-button\",\n          onClick: () => {\n            setCurrentPage(page => Math.min(page + 1, chunkedData.length - 1));\n          },\n          disabled: currentPage >= chunkedData.length - 1,\n          \"aria-label\": \"Next page\",\n          children: jsx(SvgCaretRight, {})\n        })]\n      }) : null]\n    })]\n  });\n}\nTable.config = {\n  type: type$2,\n  keyed: false,\n  name: 'Table',\n  group: 'presentation',\n  create: (options = {}) => {\n    const {\n      id,\n      columnsExpression,\n      columns,\n      rowCount,\n      ...remainingOptions\n    } = options;\n    if (isDefined(id) && isNumber(rowCount)) {\n      remainingOptions['rowCount'] = rowCount;\n    }\n    if (isString(columnsExpression)) {\n      return {\n        ...remainingOptions,\n        id,\n        columnsExpression\n      };\n    }\n    if (Array.isArray(columns) && columns.every(isColumn)) {\n      return {\n        ...remainingOptions,\n        id,\n        columns\n      };\n    }\n    return {\n      ...remainingOptions,\n      label: 'Table',\n      rowCount: 10,\n      columns: [{\n        label: 'ID',\n        key: 'id'\n      }, {\n        label: 'Name',\n        key: 'name'\n      }, {\n        label: 'Date',\n        key: 'date'\n      }]\n    };\n  },\n  /**\n   * @experimental\n   *\n   * A function that generates demo data for a new field on the form playground.\n   * @param {Field} field\n   */\n  generateInitialDemoData: field => {\n    const demoData = [{\n      id: 1,\n      name: 'John Doe',\n      date: '31.01.2023'\n    }, {\n      id: 2,\n      name: 'Erika Muller',\n      date: '20.02.2023'\n    }, {\n      id: 3,\n      name: 'Dominic Leaf',\n      date: '11.03.2023'\n    }];\n    const demoDataKeys = Object.keys(demoData[0]);\n    const {\n      columns,\n      id,\n      dataSource\n    } = field;\n    if (!Array.isArray(columns) || columns.length === 0 || dataSource !== `=${id}`) {\n      return;\n    }\n    if (!columns.map(({\n      key\n    }) => key).every(key => demoDataKeys.includes(key))) {\n      return;\n    }\n    return demoData;\n  }\n};\n\n// helpers /////////////////////////////\n\n/**\n * @param {string|void} columnsExpression\n * @param {Column[]} fallbackColumns\n * @returns {Column[]}\n */\nfunction useEvaluatedColumns(columnsExpression, fallbackColumns) {\n  /** @type {Column[]|null} */\n  const evaluation = useExpressionEvaluation(columnsExpression || '');\n  return Array.isArray(evaluation) && evaluation.every(isColumn) ? evaluation : fallbackColumns;\n}\n\n/**\n * @param {any} column\n * @returns {column is Column}\n */\nfunction isColumn(column) {\n  return isObject(column) && isString(column['label']) && isString(column['key']);\n}\n\n/**\n * @param {Array} array\n * @param {number} size\n * @returns {Array}\n */\nfunction chunk(array, size) {\n  return array.reduce((chunks, item, index) => {\n    if (index % size === 0) {\n      chunks.push([item]);\n    } else {\n      chunks[chunks.length - 1].push(item);\n    }\n    return chunks;\n  }, []);\n}\n\n/**\n * @param {unknown[]} array\n * @param {string} key\n * @param {Direction} direction\n * @returns {unknown[]}\n */\nfunction sortByColumn(array, key, direction) {\n  return [...array].sort((a, b) => {\n    if (!isObject(a) || !isObject(b)) {\n      return 0;\n    }\n    if (direction === 'asc') {\n      return a[key] > b[key] ? 1 : -1;\n    }\n    return a[key] < b[key] ? 1 : -1;\n  });\n}\n\n/**\n * @param {null|Sorting} sortBy\n * @param {string} key\n * @param {string} label\n */\nfunction getHeaderAriaLabel(sortBy, key, label) {\n  if (sortBy === null || sortBy.key !== key) {\n    return `Click to sort by ${label} descending`;\n  }\n  if (sortBy.direction === 'asc') {\n    return 'Click to remove sorting';\n  }\n  return `Click to sort by ${label} ascending`;\n}\n\n/**\n * @param {unknown} cellData\n * @returns string\n */\nfunction serializeCellData(cellData) {\n  if (cellData !== null && typeof cellData === 'object') {\n    return JSON.stringify(cellData);\n  }\n  if (cellData === null || cellData === undefined) {\n    return '';\n  }\n  return `${cellData}`;\n}\n\nconst FILE_PICKER_FILE_KEY_PREFIX = 'files::';\n\nconst type$1 = 'filepicker';\nconst ids$1 = new Ids();\nconst EMPTY_ARRAY$1 = [];\n\n/**\n * @typedef Props\n * @property {(props: { value: string }) => void} onChange\n * @property {string} domId\n * @property {string[]} errors\n * @property {boolean} disabled\n * @property {boolean} readonly\n * @property {boolean} required\n * @property {Object} field\n * @property {string} field.id\n * @property {string} [field.label]\n * @property {string} [field.accept]\n * @property {string|boolean} [field.multiple]\n * @property {Object} [field.validate]\n * @property {boolean} [field.validate.required]\n * @property {string} [value]\n *\n * @param {Props} props\n * @returns {import(\"preact\").JSX.Element}\n */\nfunction FilePicker(props) {\n  /** @type {import(\"preact/hooks\").Ref<HTMLInputElement>} */\n  const fileInputRef = useRef(null);\n  /** @type {import('../../FileRegistry').FileRegistry} */\n  const fileRegistry = useService('fileRegistry', false);\n  const {\n    field,\n    onChange,\n    domId,\n    errors = [],\n    disabled,\n    readonly,\n    value: filesKey = ''\n  } = props;\n  const {\n    label,\n    multiple = false,\n    accept = '',\n    validate = {}\n  } = field;\n  /** @type {string} */\n  const evaluatedAccept = useSingleLineTemplateEvaluation(accept, {\n    debug: true\n  });\n  const evaluatedMultiple = useBooleanExpressionEvaluation(multiple);\n  const errorMessageId = `${domId}-error-message`;\n  /** @type {File[]} */\n  const selectedFiles = fileRegistry === null ? EMPTY_ARRAY$1 : fileRegistry.getFiles(filesKey);\n  useEffect(() => {\n    if (filesKey && fileRegistry !== null && !fileRegistry.hasKey(filesKey)) {\n      onChange({\n        value: null\n      });\n    }\n  }, [fileRegistry, filesKey, onChange, selectedFiles.length]);\n  useEffect(() => {\n    const data = new DataTransfer();\n    selectedFiles.forEach(file => data.items.add(file));\n    fileInputRef.current.files = data.files;\n  }, [selectedFiles]);\n\n  /**\n   * @type import(\"preact\").JSX.GenericEventHandler<HTMLInputElement>\n   */\n  const onFileChange = event => {\n    const input = /** @type {HTMLInputElement} */event.target;\n\n    // if we have an associated file key but no files are selected, clear the file key and associated files\n    if ((input.files === null || input.files.length === 0) && filesKey !== '') {\n      fileRegistry.deleteFiles(filesKey);\n      onChange({\n        value: null\n      });\n      return;\n    }\n    const files = Array.from(input.files);\n\n    // ensure fileKey exists\n    const updatedFilesKey = filesKey || ids$1.nextPrefixed(FILE_PICKER_FILE_KEY_PREFIX);\n    fileRegistry.setFiles(updatedFilesKey, files);\n    onChange({\n      value: updatedFilesKey\n    });\n  };\n  const isInputDisabled = disabled || readonly || fileRegistry === null;\n  return jsxs(\"div\", {\n    className: formFieldClasses(type$1, {\n      errors,\n      disabled,\n      readonly\n    }),\n    children: [jsx(Label, {\n      htmlFor: domId,\n      label: label,\n      required: validate.required\n    }), jsx(\"input\", {\n      type: \"file\",\n      className: \"fjs-hidden\",\n      ref: fileInputRef,\n      id: domId,\n      name: domId,\n      disabled: isInputDisabled,\n      multiple: evaluatedMultiple || undefined,\n      accept: evaluatedAccept || undefined,\n      onChange: onFileChange,\n      required: validate.required\n    }), jsxs(\"div\", {\n      className: \"fjs-filepicker-container\",\n      children: [jsx(\"button\", {\n        type: \"button\",\n        disabled: isInputDisabled,\n        readOnly: readonly,\n        className: \"fjs-button fjs-filepicker-button\",\n        onClick: () => {\n          fileInputRef.current.click();\n        },\n        children: \"Browse\"\n      }), jsx(\"span\", {\n        className: \"fjs-form-field-label\",\n        children: getSelectedFilesLabel(selectedFiles)\n      })]\n    }), jsx(Errors, {\n      id: errorMessageId,\n      errors: errors\n    })]\n  });\n}\nFilePicker.config = {\n  type: 'filepicker',\n  keyed: true,\n  label: 'File picker',\n  group: 'basic-input',\n  emptyValue: null,\n  create: (options = {}) => ({\n    ...options\n  })\n};\n\n// helper //////////\n\n/**\n * @param {File[]} files\n * @returns {string}\n */\nfunction getSelectedFilesLabel(files) {\n  if (files.length === 0) {\n    return 'No files selected';\n  }\n  if (files.length === 1) {\n    return files[0].name;\n  }\n  return `${files.length} files selected`;\n}\n\nvar _path$4;\nfunction _extends$4() { return _extends$4 = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$4.apply(null, arguments); }\nvar SvgDownload = function SvgDownload(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends$4({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 16,\n    height: 16\n  }, props), _path$4 || (_path$4 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M13 12v2H3v-2H2v2a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1v-2zm0-5-.705-.705-3.795 3.79V1h-1v9.085l-3.795-3.79L3 7l5 5z\"\n  })), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 0h16v16H0z\",\n    style: {\n      fill: \"none\"\n    }\n  }));\n};\n\nconst type = 'documentPreview';\n\n/**\n * @typedef DocumentEndpointBuilder\n * @property {(document: DocumentMetadata) => string} buildUrl\n */\n\n/**\n * @typedef DocumentMetadata\n * @property {string} documentId\n * @property {string} endpoint\n * @property {Object} metadata\n * @property {string|undefined} [metadata.contentType]\n * @property {string} metadata.fileName\n *\n * @typedef Field\n * @property {string} id\n * @property {string} [title]\n * @property {string} [dataSource]\n * @property {number} [maxHeight]\n * @property {string} [label]\n *\n * @typedef Props\n * @property {Field} field\n * @property {string} domId\n *\n * @param {Props} props\n * @returns {import(\"preact\").JSX.Element}\n */\nfunction DocumentPreview(props) {\n  /** @type {DocumentEndpointBuilder | null} */\n  const documentEndpointBuilder = useService('documentEndpointBuilder', false);\n  const {\n    field,\n    domId\n  } = props;\n  const {\n    dataSource,\n    maxHeight,\n    label\n  } = field;\n  const errorMessageId = `${domId}-error-message`;\n  const data = useValidDocumentData(dataSource || '');\n  const evaluatedLabel = useSingleLineTemplateEvaluation(label, {\n    debug: true\n  });\n  return jsxs(\"div\", {\n    class: formFieldClasses(type),\n    children: [jsx(Label, {\n      htmlFor: domId,\n      label: evaluatedLabel\n    }), jsx(\"div\", {\n      class: `fjs-${type}-document-container`,\n      id: domId,\n      children: data.map((document, index) => {\n        const finalEndpoint = tryCatch(() => documentEndpointBuilder?.buildUrl(document)) ?? document.endpoint;\n        return isValidDocumentEndpoint(finalEndpoint) ? jsx(DocumentRenderer, {\n          documentMetadata: document,\n          endpoint: finalEndpoint,\n          maxHeight: maxHeight,\n          domId: `${domId}-${index}`\n        }, document.documentId) : null;\n      })\n    }), jsx(Errors, {\n      id: errorMessageId,\n      errors: getErrors({\n        dataSource\n      })\n    })]\n  });\n}\nDocumentPreview.config = {\n  type,\n  keyed: false,\n  group: 'presentation',\n  name: 'Document preview',\n  create: (options = {}) => ({\n    label: 'Document preview',\n    ...options\n  })\n};\n\n// helpers /////////////////////////////\n\n/**\n * @typedef GetErrorOptions\n * @property {string|undefined} dataSource\n *\n * @param {GetErrorOptions} options\n * @returns {string[]}\n */\nfunction getErrors(options) {\n  const {\n    dataSource\n  } = options;\n  let errors = [];\n  if (!isString(dataSource) || dataSource.length < 1) {\n    errors.push('Document reference is not defined.');\n  }\n  return errors;\n}\n\n/**\n *\n * @param {unknown} endpoint\n * @returns boolean\n */\nfunction isValidDocumentEndpoint(endpoint) {\n  return typeof endpoint === 'string' && URL.canParse(endpoint);\n}\n\n/**\n * @param {unknown} document\n * @returns {metadata is DocumentMetadata}\n */\nfunction isValidDocument(document) {\n  return typeof document === 'object' && document !== null && 'documentId' in document && 'metadata' in document && typeof document.metadata === 'object' && 'fileName' in document.metadata;\n}\n\n/**\n * @param {string} dataSource\n * @returns {DocumentMetadata[]}\n */\nfunction useValidDocumentData(dataSource) {\n  const data = useExpressionEvaluation(dataSource);\n  if (!Array.isArray(data)) {\n    return [];\n  }\n  return data.filter(isValidDocument);\n}\n\n/**\n * @param {Object} props\n * @param {string} props.url\n * @param {string} props.fileName\n * @param {Function} props.onError\n * @param {string} props.errorMessageId\n * @returns {import(\"preact\").JSX.Element}\n */\nfunction PdfRenderer(props) {\n  const {\n    url,\n    onError,\n    errorMessageId\n  } = props;\n  /** @type {ReturnType<typeof import(\"preact/hooks\").useState<null | string>>} */\n  const [pdfObjectUrl, setPdfObjectUrl] = useState(null);\n  const [hasError, setHasError] = useState(false);\n  useEffect(() => {\n    /** @type {null | string} */\n    let objectUrl = null;\n    const fetchPdf = async () => {\n      try {\n        const response = await fetch(url);\n        if (!response.ok) {\n          setHasError(true);\n          onError();\n          return;\n        }\n        const blob = await response.blob();\n        objectUrl = URL.createObjectURL(blob);\n        setPdfObjectUrl(objectUrl);\n      } catch {\n        setHasError(true);\n        onError();\n      }\n    };\n    fetchPdf();\n    return () => {\n      if (objectUrl) {\n        URL.revokeObjectURL(objectUrl);\n      }\n    };\n  }, [url, onError]);\n  return jsxs(Fragment, {\n    children: [pdfObjectUrl !== null ? jsx(\"embed\", {\n      src: pdfObjectUrl,\n      type: \"application/pdf\",\n      class: `fjs-${type}-pdf-viewer`\n    }) : null, hasError ? jsx(Errors, {\n      id: errorMessageId,\n      errors: ['Unable to download document']\n    }) : null]\n  });\n}\n\n/**\n *\n * @param {Object} props\n * @param {DocumentMetadata} props.documentMetadata\n * @param {string} props.endpoint\n * @param {string} props.domId\n * @param {number|undefined} props.maxHeight\n *\n * @returns {import(\"preact\").JSX.Element}\n */\nfunction DocumentRenderer(props) {\n  const {\n    documentMetadata,\n    endpoint,\n    maxHeight,\n    domId\n  } = props;\n  const {\n    metadata\n  } = documentMetadata;\n  const [hasError, setHasError] = useState(false);\n  const ref = useRef(null);\n  const isInViewport = useInViewport(ref);\n  const singleDocumentContainerClassName = `fjs-${type}-single-document-container`;\n  const errorMessageId = `${domId}-error-message`;\n  const errorMessage = 'Unable to download document';\n  const isContentTypePresent = typeof metadata.contentType === 'string';\n  if (isContentTypePresent && metadata.contentType.toLowerCase().startsWith('image/') && isInViewport) {\n    return jsxs(\"div\", {\n      class: singleDocumentContainerClassName,\n      style: {\n        maxHeight\n      },\n      \"aria-describedby\": hasError ? errorMessageId : undefined,\n      children: [jsx(\"img\", {\n        src: endpoint,\n        alt: metadata.fileName,\n        class: `fjs-${type}-image`\n      }), jsx(DownloadButton, {\n        endpoint: endpoint,\n        fileName: metadata.fileName,\n        onDownloadError: () => {\n          setHasError(true);\n        }\n      }), hasError ? jsx(Errors, {\n        id: errorMessageId,\n        errors: [errorMessage]\n      }) : null]\n    });\n  }\n  if (isContentTypePresent && metadata.contentType.toLowerCase() === 'application/pdf' && isInViewport) {\n    return jsx(\"div\", {\n      class: singleDocumentContainerClassName,\n      style: {\n        maxHeight\n      },\n      \"aria-describedby\": hasError ? errorMessageId : undefined,\n      children: jsx(PdfRenderer, {\n        url: endpoint,\n        fileName: metadata.fileName,\n        onError: () => setHasError(true),\n        errorMessageId: errorMessageId\n      })\n    });\n  }\n  return jsxs(\"div\", {\n    class: classNames(`fjs-${type}-non-preview-item`, `fjs-${type}-single-document-container`),\n    ref: ref,\n    \"aria-describedby\": hasError ? errorMessageId : undefined,\n    children: [jsxs(\"div\", {\n      children: [jsx(\"div\", {\n        class: \"fjs-document-preview-title\",\n        children: metadata.fileName\n      }), hasError ? jsx(Errors, {\n        id: errorMessageId,\n        errors: [errorMessage]\n      }) : null]\n    }), jsx(DownloadButton, {\n      endpoint: endpoint,\n      fileName: metadata.fileName,\n      onDownloadError: () => {\n        setHasError(true);\n      }\n    })]\n  });\n}\n\n/**\n * @param {Object} props\n * @param {string} props.endpoint\n * @param {string} props.fileName\n * @param {Function} props.onDownloadError\n *\n * @returns {import(\"preact\").JSX.Element}\n */\nfunction DownloadButton(props) {\n  const {\n    endpoint,\n    fileName,\n    onDownloadError\n  } = props;\n  const handleDownload = async () => {\n    try {\n      const response = await fetch(endpoint);\n      if (!response.ok) {\n        onDownloadError();\n        return;\n      }\n      const blob = await response.blob();\n      const url = window.URL.createObjectURL(blob);\n      const link = document.createElement('a');\n      link.href = url;\n      link.download = fileName;\n      link.click();\n      window.URL.revokeObjectURL(url);\n    } catch {\n      onDownloadError();\n    }\n  };\n  return jsx(\"button\", {\n    type: \"button\",\n    onClick: handleDownload,\n    class: classNames(`fjs-${type}-download-button`),\n    \"aria-label\": `Download ${fileName}`,\n    children: jsx(SvgDownload, {})\n  });\n}\n\n/**\n *\n * @param {import(\"preact\").RefObject<HTMLElement|null>} ref\n * @returns boolean\n */\nfunction useInViewport(ref) {\n  const [isInViewport, setIsInViewport] = useState(false);\n  useEffect(() => {\n    const container = ref.current;\n    if (!container) {\n      return;\n    }\n    const observer = new IntersectionObserver(([entry]) => {\n      if (entry.isIntersecting) {\n        setIsInViewport(true);\n      }\n    }, {\n      threshold: 0\n    });\n    observer.observe(container);\n    return () => {\n      if (container) {\n        observer.unobserve(container);\n      }\n    };\n  }, [ref]);\n  return isInViewport;\n}\n\n/**\n * @template T\n * @param {() => T} fn - Function to execute\n * @returns {T | null}\n */\nconst tryCatch = fn => {\n  try {\n    return fn();\n  } catch (error) {\n    console.error(error);\n    return null;\n  }\n};\n\n/**\n * This file must not be changed or exchanged.\n *\n * @see http://bpmn.io/license for more information.\n */\nfunction Logo() {\n  return jsxs(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 14.02 5.57\",\n    width: \"53\",\n    height: \"21\",\n    style: \"vertical-align:middle\",\n    children: [jsx(\"path\", {\n      fill: \"currentColor\",\n      d: \"M1.88.92v.14c0 .41-.13.68-.4.8.33.14.46.44.46.86v.33c0 .61-.33.95-.95.95H0V0h.95c.65 0 .93.3.93.92zM.63.57v1.06h.24c.24 0 .38-.1.38-.43V.98c0-.28-.1-.4-.32-.4zm0 1.63v1.22h.36c.2 0 .32-.1.32-.39v-.35c0-.37-.12-.48-.4-.48H.63zM4.18.99v.52c0 .64-.31.98-.94.98h-.3V4h-.62V0h.92c.63 0 .94.35.94.99zM2.94.57v1.35h.3c.2 0 .3-.09.3-.37v-.6c0-.29-.1-.38-.3-.38h-.3zm2.89 2.27L6.25 0h.88v4h-.6V1.12L6.1 3.99h-.6l-.46-2.82v2.82h-.55V0h.87zM8.14 1.1V4h-.56V0h.79L9 2.4V0h.56v4h-.64zm2.49 2.29v.6h-.6v-.6zM12.12 1c0-.63.33-1 .95-1 .61 0 .95.37.95 1v2.04c0 .64-.34 1-.95 1-.62 0-.95-.37-.95-1zm.62 2.08c0 .28.13.39.33.39s.32-.1.32-.4V.98c0-.29-.12-.4-.32-.4s-.33.11-.33.4z\"\n    }), jsx(\"path\", {\n      fill: \"currentColor\",\n      d: \"M0 4.53h14.02v1.04H0zM11.08 0h.63v.62h-.63zm.63 4V1h-.63v2.98z\"\n    })]\n  });\n}\nfunction Lightbox(props) {\n  const {\n    open\n  } = props;\n  if (!open) {\n    return null;\n  }\n  return jsxs(\"div\", {\n    class: \"fjs-powered-by-lightbox\",\n    style: \"z-index: 100; position: fixed; top: 0; left: 0;right: 0; bottom: 0\",\n    children: [jsx(\"div\", {\n      class: \"backdrop\",\n      style: \"width: 100%; height: 100%; background: rgba(40 40 40 / 20%)\",\n      onClick: props.onBackdropClick\n    }), jsxs(\"div\", {\n      class: \"notice\",\n      style: \"position: absolute; left: 50%; top: 40%; transform: translate(-50%); width: 260px; padding: 10px; background: white; box-shadow: 0  1px 4px rgba(0 0 0 / 30%); font-family: Helvetica, Arial, sans-serif; font-size: 14px; display: flex; line-height: 1.3\",\n      children: [jsx(\"a\", {\n        href: \"https://bpmn.io\",\n        target: \"_blank\",\n        rel: \"noopener noreferrer\",\n        style: \"margin: 15px 20px 15px 10px; align-self: center; color: var(--cds-icon-primary, #404040)\",\n        children: jsx(Logo, {})\n      }), jsxs(\"span\", {\n        children: [\"Web-based tooling for BPMN, DMN, and forms powered by\", ' ', jsx(\"a\", {\n          href: \"https://bpmn.io\",\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          children: \"bpmn.io\"\n        }), \".\"]\n      })]\n    })]\n  });\n}\nfunction Link(props) {\n  return jsx(\"div\", {\n    class: \"fjs-powered-by fjs-form-field\",\n    style: \"text-align: right\",\n    children: jsx(\"a\", {\n      href: \"https://bpmn.io\",\n      target: \"_blank\",\n      rel: \"noopener noreferrer\",\n      class: \"fjs-powered-by-link\",\n      title: \"Powered by bpmn.io\",\n      style: \"color: var(--cds-text-primary, #404040)\",\n      onClick: props.onClick,\n      children: jsx(Logo, {})\n    })\n  });\n}\nfunction PoweredBy(props) {\n  const [open, setOpen] = useState(false);\n  function toggleOpen(open) {\n    return event => {\n      event.preventDefault();\n      setOpen(open);\n    };\n  }\n  return jsxs(Fragment$1, {\n    children: [createPortal(jsx(Lightbox, {\n      open: open,\n      onBackdropClick: toggleOpen(false)\n    }), document.body), jsx(Link, {\n      onClick: toggleOpen(true)\n    })]\n  });\n}\n\nconst noop = () => {};\nfunction FormComponent(props) {\n  const form = useService('form');\n  const {\n    schema,\n    properties\n  } = form._getState();\n  const {\n    ariaLabel\n  } = properties;\n  const {\n    onSubmit = noop,\n    onReset = noop,\n    onChange = noop\n  } = props;\n  const handleSubmit = event => {\n    event.preventDefault();\n    onSubmit();\n  };\n  const handleReset = event => {\n    event.preventDefault();\n    onReset();\n  };\n  const filteredFormData = useFilteredFormData();\n  const localExpressionContext = useMemo(() => ({\n    data: filteredFormData,\n    parent: null,\n    this: filteredFormData,\n    i: []\n  }), [filteredFormData]);\n  return jsxs(\"form\", {\n    class: \"fjs-form\",\n    onSubmit: handleSubmit,\n    onReset: handleReset,\n    \"aria-label\": ariaLabel,\n    noValidate: true,\n    children: [jsx(LocalExpressionContext.Provider, {\n      value: localExpressionContext,\n      children: jsx(FormField, {\n        field: schema,\n        onChange: onChange\n      })\n    }), jsx(PoweredBy, {})]\n  });\n}\n\nconst formFields = [/* Input */\nTextfield, Textarea, Numberfield, Datetime, ExpressionField, FilePicker, /* Selection */\nCheckbox, Checklist, Radio, Select, Taglist, /* Presentation */\nText, Image, Table, Html, DocumentPreview, Spacer, Separator, /* Containers */\nGroup, DynamicList, IFrame, /* Other */\nButton, Default];\n\nclass FormFields {\n  constructor() {\n    this._formFields = {};\n    formFields.forEach(formField => {\n      this.register(formField.config.type, formField);\n    });\n  }\n  register(type, formField) {\n    this._formFields[type] = formField;\n  }\n  get(type) {\n    return this._formFields[type];\n  }\n}\n\nconst EXPRESSION_PROPERTIES = ['alt', 'appearance.prefixAdorner', 'appearance.suffixAdorner', 'conditional.hide', 'description', 'label', 'source', 'readonly', 'text', 'validate.min', 'validate.max', 'validate.minLength', 'validate.maxLength', 'valuesExpression', 'url', 'dataSource', 'columnsExpression', 'expression', 'multiple', 'accept', 'title'];\nconst TEMPLATE_PROPERTIES = ['alt', 'appearance.prefixAdorner', 'appearance.suffixAdorner', 'description', 'label', 'source', 'text', 'content', 'url', 'title'];\n\n/**\n * @typedef { import('../types').Schema } Schema\n */\n\n/**\n * Parse the schema for variables a form might make use of.\n *\n * @example\n *\n * // retrieve variables from schema\n * const variables = getSchemaVariables(schema);\n *\n * @example\n *\n * // retrieve input variables from schema\n * const inputVariables = getSchemaVariables(schema, { outputs: false });\n *\n * @example\n *\n * // retrieve output variables from schema\n * const outputVariables = getSchemaVariables(schema, { inputs: false });\n *\n * @param {Schema} schema\n * @param {object} [options]\n * @param {any} [options.expressionLanguage]\n * @param {any} [options.templating]\n * @param {any} [options.formFields]\n * @param {boolean} [options.inputs=true]\n * @param {boolean} [options.outputs=true]\n *\n * @return {string[]}\n */\nfunction getSchemaVariables(schema, options = {}) {\n  const {\n    formFields = new FormFields(),\n    expressionLanguage = new FeelExpressionLanguage(null),\n    templating = new FeelersTemplating(),\n    inputs = true,\n    outputs = true\n  } = options;\n  if (!schema.components) {\n    return [];\n  }\n  const getAllComponents = node => {\n    const components = [];\n    if (node.components) {\n      node.components.forEach(component => {\n        components.push(component);\n        components.push(...getAllComponents(component));\n      });\n    }\n    return components;\n  };\n  const variables = getAllComponents(schema).reduce((variables, component) => {\n    const {\n      valuesKey\n    } = component;\n\n    // collect input-only variables\n    if (inputs) {\n      if (valuesKey) {\n        variables = [...variables, valuesKey];\n      }\n      EXPRESSION_PROPERTIES.forEach(prop => {\n        const property = get(component, prop.split('.'));\n        if (property && expressionLanguage.isExpression(property)) {\n          const expressionVariables = expressionLanguage.getVariableNames(property, {\n            type: 'expression'\n          });\n          variables = [...variables, ...expressionVariables];\n        }\n      });\n      TEMPLATE_PROPERTIES.forEach(prop => {\n        const property = get(component, prop.split('.'));\n        if (property && !expressionLanguage.isExpression(property) && templating.isTemplate(property)) {\n          const templateVariables = templating.getVariableNames(property);\n          variables = [...variables, ...templateVariables];\n        }\n      });\n    }\n    return variables.filter(variable => typeof variable === 'string');\n  }, []);\n  const getBindingVariables = node => {\n    const bindingVariable = [];\n    const formField = formFields.get(node.type);\n    if (formField && formField.config.keyed && node.key) {\n      return [node.key.split('.')[0]];\n    } else if (formField && formField.config.pathed && node.path) {\n      return [node.path.split('.')[0]];\n    } else if (node.components) {\n      node.components.forEach(component => {\n        bindingVariable.push(...getBindingVariables(component));\n      });\n    }\n    return bindingVariable;\n  };\n\n  // collect binding variables\n  if (inputs || outputs) {\n    variables.push(...getBindingVariables(schema));\n  }\n\n  // remove duplicates\n  return Array.from(new Set(variables));\n}\n\n/**\n * Get the ancestry list of a form field.\n *\n * @param {string} formFieldId\n * @param {import('../core/FormFieldRegistry').FormFieldRegistry} formFieldRegistry\n *\n * @return {Array<string>} ancestry list\n */\nconst getAncestryList = (formFieldId, formFieldRegistry) => {\n  const ids = [];\n  let currentFormField = formFieldRegistry.get(formFieldId);\n  while (currentFormField) {\n    ids.push(currentFormField.id);\n    currentFormField = formFieldRegistry.get(currentFormField._parent);\n  }\n  return ids;\n};\n\n/**\n * @typedef {object} Condition\n * @property {string} [hide]\n */\n\nclass ConditionChecker {\n  constructor(formFieldRegistry, pathRegistry, eventBus) {\n    this._formFieldRegistry = formFieldRegistry;\n    this._pathRegistry = pathRegistry;\n    this._eventBus = eventBus;\n  }\n\n  /**\n   * For given data, remove properties based on condition.\n   *\n   * @param {Object<string, any>} data\n   * @param {Object<string, any>} contextData\n   * @param {Object} [options]\n   * @param {Function} [options.getFilterPath]\n   * @param {boolean} [options.leafNodeDeletionOnly]\n   */\n  applyConditions(data, contextData = {}, options = {}) {\n    const workingData = clone(data);\n    const {\n      getFilterPath = (field, indexes) => this._pathRegistry.getValuePath(field, {\n        indexes\n      })\n    } = options;\n    const _applyConditionsWithinScope = (rootField, scopeContext, startHidden = false) => {\n      const {\n        indexes = {},\n        expressionIndexes = [],\n        scopeData = contextData,\n        parentScopeData = null\n      } = scopeContext;\n      this._pathRegistry.executeRecursivelyOnFields(rootField, ({\n        field,\n        isClosed,\n        isRepeatable,\n        context\n      }) => {\n        const {\n          conditional,\n          components,\n          id\n        } = field;\n\n        // build the expression context in the right format\n        const localExpressionContext = buildExpressionContext({\n          this: scopeData,\n          data: contextData,\n          i: expressionIndexes,\n          parent: parentScopeData\n        });\n        context.isHidden = startHidden || context.isHidden || conditional && this._checkHideCondition(conditional, localExpressionContext);\n\n        // if a field is repeatable and visible, we need to implement custom recursion on its children\n        if (isRepeatable && !context.isHidden) {\n          // prevent the regular recursion behavior of executeRecursivelyOnFields\n          context.preventRecursion = true;\n          const repeaterValuePath = this._pathRegistry.getValuePath(field, {\n            indexes\n          });\n          const repeaterValue = get(contextData, repeaterValuePath);\n\n          // quit early if there are no children or data associated with the repeater\n          if (!Array.isArray(repeaterValue) || !repeaterValue.length || !Array.isArray(components) || !components.length) {\n            return;\n          }\n          for (let i = 0; i < repeaterValue.length; i++) {\n            // create a new scope context for each index\n            const newScopeContext = {\n              indexes: {\n                ...indexes,\n                [id]: i\n              },\n              expressionIndexes: [...expressionIndexes, i + 1],\n              scopeData: repeaterValue[i],\n              parentScopeData: scopeData\n            };\n\n            // for each child component, apply conditions within the new repetition scope\n            components.forEach(component => {\n              _applyConditionsWithinScope(component, newScopeContext, context.isHidden);\n            });\n          }\n        }\n\n        // if we have a hidden repeatable field, and the data structure allows, we clear it directly at the root and stop recursion\n        if (context.isHidden && isRepeatable) {\n          context.preventRecursion = true;\n          this._eventBus.fire('conditionChecker.remove', {\n            item: {\n              [field.key]: get(workingData, getFilterPath(field, indexes))\n            }\n          });\n          this._cleanlyClearDataAtPath(getFilterPath(field, indexes), workingData);\n        }\n\n        // for simple leaf fields, we always clear\n        if (context.isHidden && isClosed) {\n          this._eventBus.fire('conditionChecker.remove', {\n            item: {\n              [field.key]: get(workingData, getFilterPath(field, indexes))\n            }\n          });\n          this._cleanlyClearDataAtPath(getFilterPath(field, indexes), workingData);\n        }\n      });\n    };\n\n    // apply conditions starting with the root of the form\n    const form = this._formFieldRegistry.getForm();\n    if (!form) {\n      throw new Error('form field registry has no form');\n    }\n    _applyConditionsWithinScope(form, {\n      scopeData: contextData\n    });\n    return workingData;\n  }\n\n  /**\n   * Check if given condition is met. Returns null for invalid/missing conditions.\n   *\n   * @param {string} condition\n   * @param {import('../../types').Data} [data]\n   *\n   * @returns {boolean|null}\n   */\n  check(condition, data = {}) {\n    if (!condition) {\n      return null;\n    }\n    if (!isString(condition) || !condition.startsWith('=')) {\n      return null;\n    }\n    try {\n      // cut off initial '='\n      const {\n        value: result\n      } = unaryTest(condition.slice(1), data);\n      return result;\n    } catch (error) {\n      this._eventBus.fire('error', {\n        error\n      });\n      return null;\n    }\n  }\n\n  /**\n   * Check if hide condition is met.\n   *\n   * @param {Condition} condition\n   * @param {Object<string, any>} data\n   * @returns {boolean}\n   */\n  _checkHideCondition(condition, data) {\n    if (!condition.hide) {\n      return false;\n    }\n    const result = this.check(condition.hide, data);\n    return result === true;\n  }\n  _cleanlyClearDataAtPath(valuePath, obj) {\n    const workingValuePath = [...valuePath];\n    let recurse = false;\n    do {\n      set(obj, workingValuePath, undefined);\n      workingValuePath.pop();\n      const parentObject = get(obj, workingValuePath);\n      recurse = !!workingValuePath.length && (this._isEmptyObject(parentObject) || this._isEmptyArray(parentObject));\n    } while (recurse);\n  }\n  _isEmptyObject(parentObject) {\n    return isObject(parentObject) && !values(parentObject).length;\n  }\n  _isEmptyArray(parentObject) {\n    return Array.isArray(parentObject) && (!parentObject.length || parentObject.every(item => item === undefined));\n  }\n}\nConditionChecker.$inject = ['formFieldRegistry', 'pathRegistry', 'eventBus'];\n\nconst ExpressionLanguageModule = {\n  __init__: ['expressionLanguage', 'templating', 'conditionChecker'],\n  expressionLanguage: ['type', FeelExpressionLanguage],\n  templating: ['type', FeelersTemplating],\n  conditionChecker: ['type', ConditionChecker]\n};\n\nclass ExpressionLoopPreventer {\n  constructor(eventBus) {\n    this._computedExpressions = [];\n    eventBus.on('field.updated', ({\n      shouldNotRecompute\n    }) => {\n      if (shouldNotRecompute) {\n        return;\n      }\n      this.reset();\n    });\n    eventBus.on('import.done', this.reset.bind(this));\n    eventBus.on('reset', this.reset.bind(this));\n  }\n\n  /**\n   * Checks if the expression field has already been computed, and registers it if not.\n   *\n   * @param {any} expressionField\n   * @returns {boolean} - whether the expression field has already been computed within the current cycle\n   */\n  registerExpressionExecution(expressionField) {\n    if (this._computedExpressions.includes(expressionField)) {\n      return false;\n    }\n    this._computedExpressions.push(expressionField);\n    return true;\n  }\n\n  /**\n   * Resets the list of computed expressions.\n   */\n  reset() {\n    this._computedExpressions = [];\n  }\n}\nExpressionLoopPreventer.$inject = ['eventBus'];\n\nconst ExpressionFieldModule = {\n  __init__: ['expressionLoopPreventer'],\n  expressionLoopPreventer: ['type', ExpressionLoopPreventer]\n};\n\nclass MarkdownRenderer {\n  /**\n   * Render markdown to HTML.\n   *\n   * @param {string} markdown - The markdown to render\n   *\n   * @returns {string} HTML\n   */\n  render(markdown) {\n    // @ts-expect-error\n    return marked.parse(markdown, {\n      gfm: true,\n      breaks: true\n    });\n  }\n}\nMarkdownRenderer.$inject = [];\n\nconst MarkdownRendererModule = {\n  __init__: ['markdownRenderer'],\n  markdownRenderer: ['type', MarkdownRenderer]\n};\n\n/**\n * @typedef {import('didi').Injector} Injector\n *\n * @typedef {import('../core/Types').ElementLike} ElementLike\n *\n * @typedef {import('../core/EventBus').default} EventBus\n * @typedef {import('./CommandHandler').default} CommandHandler\n *\n * @typedef { any } CommandContext\n * @typedef { {\n *   new (...args: any[]) : CommandHandler\n * } } CommandHandlerConstructor\n * @typedef { {\n *   [key: string]: CommandHandler;\n * } } CommandHandlerMap\n * @typedef { {\n *   command: string;\n *   context: any;\n *   id?: any;\n * } } CommandStackAction\n * @typedef { {\n *   actions: CommandStackAction[];\n *   dirty: ElementLike[];\n *   trigger: 'execute' | 'undo' | 'redo' | 'clear' | null;\n *   atomic?: boolean;\n * } } CurrentExecution\n */\n\n/**\n * A service that offers un- and redoable execution of commands.\n *\n * The command stack is responsible for executing modeling actions\n * in a un- and redoable manner. To do this it delegates the actual\n * command execution to {@link CommandHandler}s.\n *\n * Command handlers provide {@link CommandHandler#execute(ctx)} and\n * {@link CommandHandler#revert(ctx)} methods to un- and redo a command\n * identified by a command context.\n *\n *\n * ## Life-Cycle events\n *\n * In the process the command stack fires a number of life-cycle events\n * that other components to participate in the command execution.\n *\n *    * preExecute\n *    * preExecuted\n *    * execute\n *    * executed\n *    * postExecute\n *    * postExecuted\n *    * revert\n *    * reverted\n *\n * A special event is used for validating, whether a command can be\n * performed prior to its execution.\n *\n *    * canExecute\n *\n * Each of the events is fired as `commandStack.{eventName}` and\n * `commandStack.{commandName}.{eventName}`, respectively. This gives\n * components fine grained control on where to hook into.\n *\n * The event object fired transports `command`, the name of the\n * command and `context`, the command context.\n *\n *\n * ## Creating Command Handlers\n *\n * Command handlers should provide the {@link CommandHandler#execute(ctx)}\n * and {@link CommandHandler#revert(ctx)} methods to implement\n * redoing and undoing of a command.\n *\n * A command handler _must_ ensure undo is performed properly in order\n * not to break the undo chain. It must also return the shapes that\n * got changed during the `execute` and `revert` operations.\n *\n * Command handlers may execute other modeling operations (and thus\n * commands) in their `preExecute(d)` and `postExecute(d)` phases. The command\n * stack will properly group all commands together into a logical unit\n * that may be re- and undone atomically.\n *\n * Command handlers must not execute other commands from within their\n * core implementation (`execute`, `revert`).\n *\n *\n * ## Change Tracking\n *\n * During the execution of the CommandStack it will keep track of all\n * elements that have been touched during the command's execution.\n *\n * At the end of the CommandStack execution it will notify interested\n * components via an 'elements.changed' event with all the dirty\n * elements.\n *\n * The event can be picked up by components that are interested in the fact\n * that elements have been changed. One use case for this is updating\n * their graphical representation after moving / resizing or deletion.\n *\n * @see CommandHandler\n *\n * @param {EventBus} eventBus\n * @param {Injector} injector\n */\nfunction CommandStack(eventBus, injector) {\n  /**\n   * A map of all registered command handlers.\n   *\n   * @type {CommandHandlerMap}\n   */\n  this._handlerMap = {};\n\n  /**\n   * A stack containing all re/undoable actions on the diagram\n   *\n   * @type {CommandStackAction[]}\n   */\n  this._stack = [];\n\n  /**\n   * The current index on the stack\n   *\n   * @type {number}\n   */\n  this._stackIdx = -1;\n\n  /**\n   * Current active commandStack execution\n   *\n   * @type {CurrentExecution}\n   */\n  this._currentExecution = {\n    actions: [],\n    dirty: [],\n    trigger: null\n  };\n\n  /**\n   * @type {Injector}\n   */\n  this._injector = injector;\n\n  /**\n   * @type EventBus\n   */\n  this._eventBus = eventBus;\n\n  /**\n   * @type { number }\n   */\n  this._uid = 1;\n  eventBus.on(['diagram.destroy', 'diagram.clear'], function () {\n    this.clear(false);\n  }, this);\n}\nCommandStack.$inject = ['eventBus', 'injector'];\n\n/**\n * Execute a command.\n *\n * @param {string} command The command to execute.\n * @param {CommandContext} context The context with which to execute the command.\n */\nCommandStack.prototype.execute = function (command, context) {\n  if (!command) {\n    throw new Error('command required');\n  }\n  this._currentExecution.trigger = 'execute';\n  const action = {\n    command: command,\n    context: context\n  };\n  this._pushAction(action);\n  this._internalExecute(action);\n  this._popAction();\n};\n\n/**\n * Check whether a command can be executed.\n *\n * Implementors may hook into the mechanism on two ways:\n *\n *   * in event listeners:\n *\n *     Users may prevent the execution via an event listener.\n *     It must prevent the default action for `commandStack.(<command>.)canExecute` events.\n *\n *   * in command handlers:\n *\n *     If the method {@link CommandHandler#canExecute} is implemented in a handler\n *     it will be called to figure out whether the execution is allowed.\n *\n * @param {string} command The command to execute.\n * @param {CommandContext} context The context with which to execute the command.\n *\n * @return {boolean} Whether the command can be executed with the given context.\n */\nCommandStack.prototype.canExecute = function (command, context) {\n  const action = {\n    command: command,\n    context: context\n  };\n  const handler = this._getHandler(command);\n  let result = this._fire(command, 'canExecute', action);\n\n  // handler#canExecute will only be called if no listener\n  // decided on a result already\n  if (result === undefined) {\n    if (!handler) {\n      return false;\n    }\n    if (handler.canExecute) {\n      result = handler.canExecute(context);\n    }\n  }\n  return result;\n};\n\n/**\n * Clear the command stack, erasing all undo / redo history.\n *\n * @param {boolean} [emit=true] Whether to fire an event. Defaults to `true`.\n */\nCommandStack.prototype.clear = function (emit) {\n  this._stack.length = 0;\n  this._stackIdx = -1;\n  if (emit !== false) {\n    this._fire('changed', {\n      trigger: 'clear'\n    });\n  }\n};\n\n/**\n * Undo last command(s)\n */\nCommandStack.prototype.undo = function () {\n  let action = this._getUndoAction(),\n    next;\n  if (action) {\n    this._currentExecution.trigger = 'undo';\n    this._pushAction(action);\n    while (action) {\n      this._internalUndo(action);\n      next = this._getUndoAction();\n      if (!next || next.id !== action.id) {\n        break;\n      }\n      action = next;\n    }\n    this._popAction();\n  }\n};\n\n/**\n * Redo last command(s)\n */\nCommandStack.prototype.redo = function () {\n  let action = this._getRedoAction(),\n    next;\n  if (action) {\n    this._currentExecution.trigger = 'redo';\n    this._pushAction(action);\n    while (action) {\n      this._internalExecute(action, true);\n      next = this._getRedoAction();\n      if (!next || next.id !== action.id) {\n        break;\n      }\n      action = next;\n    }\n    this._popAction();\n  }\n};\n\n/**\n * Register a handler instance with the command stack.\n *\n * @param {string} command Command to be executed.\n * @param {CommandHandler} handler Handler to execute the command.\n */\nCommandStack.prototype.register = function (command, handler) {\n  this._setHandler(command, handler);\n};\n\n/**\n * Register a handler type with the command stack  by instantiating it and\n * injecting its dependencies.\n *\n * @param {string} command Command to be executed.\n * @param {CommandHandlerConstructor} handlerCls Constructor to instantiate a {@link CommandHandler}.\n */\nCommandStack.prototype.registerHandler = function (command, handlerCls) {\n  if (!command || !handlerCls) {\n    throw new Error('command and handlerCls must be defined');\n  }\n  const handler = this._injector.instantiate(handlerCls);\n  this.register(command, handler);\n};\n\n/**\n * @return {boolean}\n */\nCommandStack.prototype.canUndo = function () {\n  return !!this._getUndoAction();\n};\n\n/**\n * @return {boolean}\n */\nCommandStack.prototype.canRedo = function () {\n  return !!this._getRedoAction();\n};\n\n// stack access  //////////////////////\n\nCommandStack.prototype._getRedoAction = function () {\n  return this._stack[this._stackIdx + 1];\n};\nCommandStack.prototype._getUndoAction = function () {\n  return this._stack[this._stackIdx];\n};\n\n// internal functionality //////////////////////\n\nCommandStack.prototype._internalUndo = function (action) {\n  const command = action.command,\n    context = action.context;\n  const handler = this._getHandler(command);\n\n  // guard against illegal nested command stack invocations\n  this._atomicDo(() => {\n    this._fire(command, 'revert', action);\n    if (handler.revert) {\n      this._markDirty(handler.revert(context));\n    }\n    this._revertedAction(action);\n    this._fire(command, 'reverted', action);\n  });\n};\nCommandStack.prototype._fire = function (command, qualifier, event) {\n  if (arguments.length < 3) {\n    event = qualifier;\n    qualifier = null;\n  }\n  const names = qualifier ? [command + '.' + qualifier, qualifier] : [command];\n  let result;\n  event = this._eventBus.createEvent(event);\n  for (const name of names) {\n    result = this._eventBus.fire('commandStack.' + name, event);\n    if (event.cancelBubble) {\n      break;\n    }\n  }\n  return result;\n};\nCommandStack.prototype._createId = function () {\n  return this._uid++;\n};\nCommandStack.prototype._atomicDo = function (fn) {\n  const execution = this._currentExecution;\n  execution.atomic = true;\n  try {\n    fn();\n  } finally {\n    execution.atomic = false;\n  }\n};\nCommandStack.prototype._internalExecute = function (action, redo) {\n  const command = action.command,\n    context = action.context;\n  const handler = this._getHandler(command);\n  if (!handler) {\n    throw new Error('no command handler registered for <' + command + '>');\n  }\n  this._pushAction(action);\n  if (!redo) {\n    this._fire(command, 'preExecute', action);\n    if (handler.preExecute) {\n      handler.preExecute(context);\n    }\n    this._fire(command, 'preExecuted', action);\n  }\n\n  // guard against illegal nested command stack invocations\n  this._atomicDo(() => {\n    this._fire(command, 'execute', action);\n    if (handler.execute) {\n      // actual execute + mark return results as dirty\n      this._markDirty(handler.execute(context));\n    }\n\n    // log to stack\n    this._executedAction(action, redo);\n    this._fire(command, 'executed', action);\n  });\n  if (!redo) {\n    this._fire(command, 'postExecute', action);\n    if (handler.postExecute) {\n      handler.postExecute(context);\n    }\n    this._fire(command, 'postExecuted', action);\n  }\n  this._popAction();\n};\nCommandStack.prototype._pushAction = function (action) {\n  const execution = this._currentExecution,\n    actions = execution.actions;\n  const baseAction = actions[0];\n  if (execution.atomic) {\n    throw new Error('illegal invocation in <execute> or <revert> phase (action: ' + action.command + ')');\n  }\n  if (!action.id) {\n    action.id = baseAction && baseAction.id || this._createId();\n  }\n  actions.push(action);\n};\nCommandStack.prototype._popAction = function () {\n  const execution = this._currentExecution,\n    trigger = execution.trigger,\n    actions = execution.actions,\n    dirty = execution.dirty;\n  actions.pop();\n  if (!actions.length) {\n    this._eventBus.fire('elements.changed', {\n      elements: uniqueBy('id', dirty.reverse())\n    });\n    dirty.length = 0;\n    this._fire('changed', {\n      trigger: trigger\n    });\n    execution.trigger = null;\n  }\n};\nCommandStack.prototype._markDirty = function (elements) {\n  const execution = this._currentExecution;\n  if (!elements) {\n    return;\n  }\n  elements = isArray(elements) ? elements : [elements];\n  execution.dirty = execution.dirty.concat(elements);\n};\nCommandStack.prototype._executedAction = function (action, redo) {\n  const stackIdx = ++this._stackIdx;\n  if (!redo) {\n    this._stack.splice(stackIdx, this._stack.length, action);\n  }\n};\nCommandStack.prototype._revertedAction = function (action) {\n  this._stackIdx--;\n};\nCommandStack.prototype._getHandler = function (command) {\n  return this._handlerMap[command];\n};\nCommandStack.prototype._setHandler = function (command, handler) {\n  if (!command || !handler) {\n    throw new Error('command and handler required');\n  }\n  if (this._handlerMap[command]) {\n    throw new Error('overriding handler for command <' + command + '>');\n  }\n  this._handlerMap[command] = handler;\n};\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\nvar commandModule = {\n  commandStack: ['type', CommandStack]\n};\n\n/**\n * @deprecated\n */\nclass UpdateFieldValidationHandler {\n  constructor(form, validator) {\n    this._form = form;\n    this._validator = validator;\n  }\n  execute(context) {\n    const {\n      field,\n      value,\n      indexes\n    } = context;\n    const {\n      errors\n    } = this._form._getState();\n    context.oldErrors = clone(errors);\n    const fieldErrors = this._validator.validateField(field, value);\n    const updatedErrors = set(errors, [field.id, ...Object.values(indexes || {})], fieldErrors.length ? fieldErrors : undefined);\n    this._form._setState({\n      errors: updatedErrors\n    });\n  }\n  revert(context) {\n    this._form._setState({\n      errors: context.oldErrors\n    });\n  }\n}\nUpdateFieldValidationHandler.$inject = ['form', 'validator'];\n\nclass UpdateFieldInstanceValidationHandler {\n  constructor(form, validator) {\n    this._form = form;\n    this._validator = validator;\n  }\n  execute(context) {\n    const {\n      fieldInstance,\n      value\n    } = context;\n    const {\n      id,\n      indexes\n    } = fieldInstance;\n    const {\n      errors\n    } = this._form._getState();\n    context.oldErrors = clone(errors);\n    const fieldErrors = this._validator.validateFieldInstance(fieldInstance, value);\n    const updatedErrors = set(errors, [id, ...Object.values(indexes || {})], fieldErrors.length ? fieldErrors : undefined);\n    this._form._setState({\n      errors: updatedErrors\n    });\n  }\n  revert(context) {\n    this._form._setState({\n      errors: context.oldErrors\n    });\n  }\n}\nUpdateFieldInstanceValidationHandler.$inject = ['form', 'validator'];\n\nclass ViewerCommands {\n  constructor(commandStack, eventBus) {\n    this._commandStack = commandStack;\n    eventBus.on('form.init', () => {\n      this.registerHandlers();\n    });\n  }\n  registerHandlers() {\n    Object.entries(this.getHandlers()).forEach(([id, handler]) => {\n      this._commandStack.registerHandler(id, handler);\n    });\n  }\n  getHandlers() {\n    return {\n      'formField.validation.update': UpdateFieldValidationHandler,\n      'formFieldInstance.validation.update': UpdateFieldInstanceValidationHandler\n    };\n  }\n\n  /**\n   * @deprecated\n   */\n  updateFieldValidation(field, value, indexes) {\n    const context = {\n      field,\n      value,\n      indexes\n    };\n    this._commandStack.execute('formField.validation.update', context);\n  }\n  updateFieldInstanceValidation(fieldInstance, value) {\n    const context = {\n      fieldInstance,\n      value\n    };\n    this._commandStack.execute('formFieldInstance.validation.update', context);\n  }\n}\nViewerCommands.$inject = ['commandStack', 'eventBus'];\n\nconst ViewerCommandsModule = {\n  __depends__: [commandModule],\n  __init__: ['viewerCommands'],\n  viewerCommands: ['type', ViewerCommands]\n};\n\nvar _path$3;\nfunction _extends$3() { return _extends$3 = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$3.apply(null, arguments); }\nvar SvgExpand = function SvgExpand(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends$3({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 16,\n    height: 16,\n    fill: \"none\"\n  }, props), _path$3 || (_path$3 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M2 9h5.5v3.086l-1.293-1.293-.707.707L8 14l2.5-2.5-.707-.707L8.5 12.086V9H14V8H2zm11-7H3a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1m0 3H3V3h10z\"\n  })));\n};\n\nvar _path$2;\nfunction _extends$2() { return _extends$2 = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$2.apply(null, arguments); }\nvar SvgCollapse = function SvgCollapse(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends$2({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 16,\n    height: 16,\n    fill: \"none\"\n  }, props), _path$2 || (_path$2 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M13 10H3a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1m0 3H3v-2h10zM8.5 3.914l1.293 1.293.707-.707L8 2 5.5 4.5l.707.707L7.5 3.914V7H2v1h12V7H8.5z\"\n  })));\n};\n\nvar _path$1, _path2;\nfunction _extends$1() { return _extends$1 = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$1.apply(null, arguments); }\nvar SvgAdd = function SvgAdd(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends$1({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 16,\n    height: 16,\n    fill: \"none\"\n  }, props), _path$1 || (_path$1 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M8 2c3.3 0 6 2.7 6 6s-2.7 6-6 6-6-2.7-6-6 2.7-6 6-6m0-1C4.15 1 1 4.15 1 8s3.15 7 7 7 7-3.15 7-7-3.15-7-7-7\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M12 7.5H8.5V4h-1v3.5H4v1h3.5V12h1V8.5H12z\"\n  })));\n};\n\nvar _path;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nvar SvgDelete = function SvgDelete(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 16,\n    height: 16,\n    fill: \"none\"\n  }, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"m12 4.7-.7-.7L8 7.3 4.7 4l-.7.7L7.3 8 4 11.3l.7.7L8 8.7l3.3 3.3.7-.7L8.7 8z\"\n  })));\n};\n\n// disable react hook rules as the linter is confusing the functional components within a class as class components\n/* eslint-disable react-hooks/rules-of-hooks */\n\nclass RepeatRenderManager {\n  constructor(form, formFields, formFieldRegistry, pathRegistry, eventBus) {\n    this._form = form;\n    /** @type {import('../../render/FormFields').FormFields} */\n    this._formFields = formFields;\n    /** @type {import('../../core/FormFieldRegistry').FormFieldRegistry} */\n    this._formFieldRegistry = formFieldRegistry;\n    /** @type {import('../../core/PathRegistry').PathRegistry} */\n    this._pathRegistry = pathRegistry;\n    /** @type {import('../../core/EventBus').EventBus} */\n    this._eventBus = eventBus;\n    this.Repeater = this.Repeater.bind(this);\n    this.RepeatFooter = this.RepeatFooter.bind(this);\n  }\n\n  /**\n   * Checks whether a field is currently repeating its children.\n   *\n   * @param {string} id - The id of the field to check\n   * @returns {boolean} - True if repeatable, false otherwise\n   */\n  isFieldRepeating(id) {\n    if (!id) {\n      return false;\n    }\n    const formField = this._formFieldRegistry.get(id);\n    const formFieldDefinition = this._formFields.get(formField.type);\n    return formFieldDefinition.config.repeatable && formField.isRepeating;\n  }\n  Repeater(props) {\n    const {\n      RowsRenderer,\n      indexes,\n      useSharedState,\n      ...restProps\n    } = props;\n    const [sharedRepeatState] = useSharedState;\n    const {\n      data\n    } = this._form._getState();\n    const repeaterField = props.field;\n    const dataPath = this._pathRegistry.getValuePath(repeaterField, {\n      indexes\n    });\n    const values = get(data, dataPath) || [];\n    const nonCollapsedItems = this._getNonCollapsedItems(repeaterField);\n    const collapseEnabled = !repeaterField.disableCollapse && values.length > nonCollapsedItems;\n    const isCollapsed = collapseEnabled && sharedRepeatState.isCollapsed;\n    const hasChildren = repeaterField.components && repeaterField.components.length > 0;\n    const showRemove = repeaterField.allowAddRemove && hasChildren;\n\n    /**\n     * @param {number} index\n     */\n    const onDeleteItem = index => {\n      const updatedValues = values.slice();\n      const removedItem = updatedValues.splice(index, 1)[0];\n      this._eventBus.fire('repeatRenderManager.remove', {\n        dataPath,\n        index,\n        item: removedItem\n      });\n      props.onChange({\n        field: repeaterField,\n        value: updatedValues,\n        indexes\n      });\n    };\n    const parentExpressionContextInfo = useContext(LocalExpressionContext);\n    return jsx(Fragment, {\n      children: values.map((itemValue, itemIndex) => jsx(\"div\", {\n        class: classNames({\n          'fjs-repeat-row-collapsed': isCollapsed ? itemIndex >= nonCollapsedItems : false\n        }),\n        children: jsx(RepetitionScaffold, {\n          itemIndex: itemIndex,\n          itemValue: itemValue,\n          parentExpressionContextInfo: parentExpressionContextInfo,\n          repeaterField: repeaterField,\n          RowsRenderer: RowsRenderer,\n          indexes: indexes,\n          onDeleteItem: onDeleteItem,\n          showRemove: showRemove,\n          ...restProps\n        })\n      }, itemIndex))\n    });\n  }\n  RepeatFooter(props) {\n    const addButtonRef = useRef(null);\n    const {\n      useSharedState,\n      indexes,\n      field: repeaterField,\n      readonly,\n      disabled\n    } = props;\n    const [sharedRepeatState, setSharedRepeatState] = useSharedState;\n    const {\n      data\n    } = this._form._getState();\n    const dataPath = this._pathRegistry.getValuePath(repeaterField, {\n      indexes\n    });\n    const values = get(data, dataPath) || [];\n    const nonCollapsedItems = this._getNonCollapsedItems(repeaterField);\n    const collapseEnabled = !repeaterField.disableCollapse && values.length > nonCollapsedItems;\n    const isCollapsed = collapseEnabled && sharedRepeatState.isCollapsed;\n    const hasChildren = repeaterField.components && repeaterField.components.length > 0;\n    const showAdd = repeaterField.allowAddRemove && hasChildren;\n    const toggle = () => {\n      setSharedRepeatState(state => ({\n        ...state,\n        isCollapsed: !isCollapsed\n      }));\n    };\n    const shouldScroll = useRef(false);\n    const onAddItem = () => {\n      const updatedValues = values.slice();\n      const newItem = this._form._getInitializedFieldData(this._form._getState().data, {\n        container: repeaterField,\n        indexes: {\n          ...indexes,\n          [repeaterField.id]: updatedValues.length\n        }\n      });\n      updatedValues.push(newItem);\n      shouldScroll.current = true;\n      this._eventBus.fire('repeatRenderManager.add', {\n        dataPath,\n        index: updatedValues.length - 1,\n        item: newItem\n      });\n      props.onChange({\n        value: updatedValues\n      });\n      setSharedRepeatState(state => ({\n        ...state,\n        isCollapsed: false\n      }));\n    };\n    useScrollIntoView(addButtonRef, [values.length], {\n      align: 'bottom',\n      behavior: 'auto',\n      offset: 20\n    }, [shouldScroll]);\n    return jsxs(\"div\", {\n      className: classNames('fjs-repeat-render-footer', {\n        'fjs-remove-allowed': repeaterField.allowAddRemove\n      }),\n      children: [showAdd ? jsx(\"button\", {\n        type: \"button\",\n        readOnly: readonly,\n        disabled: disabled || readonly,\n        class: \"fjs-repeat-render-add\",\n        ref: addButtonRef,\n        onClick: onAddItem,\n        children: jsxs(Fragment, {\n          children: [jsx(SvgAdd, {}), \" \", 'Add new']\n        })\n      }) : null, collapseEnabled ? jsx(\"button\", {\n        type: \"button\",\n        class: \"fjs-repeat-render-collapse\",\n        onClick: toggle,\n        children: isCollapsed ? jsxs(Fragment, {\n          children: [jsx(SvgExpand, {}), \" \", `Expand all (${values.length - 1})`]\n        }) : jsxs(Fragment, {\n          children: [jsx(SvgCollapse, {}), \" \", 'Collapse']\n        })\n      }) : null]\n    });\n  }\n  _getNonCollapsedItems(field) {\n    const DEFAULT_NON_COLLAPSED_ITEMS = 5;\n    const {\n      nonCollapsedItems\n    } = field;\n    return nonCollapsedItems ? nonCollapsedItems : DEFAULT_NON_COLLAPSED_ITEMS;\n  }\n}\n\n/**\n * Individual repetition of a repeated field and context scaffolding.\n *\n * @param {Object} props\n * @param {number} props.itemIndex\n * @param {Object} props.itemValue\n * @param {Object} props.parentExpressionContextInfo\n * @param {Object} props.repeaterField\n * @param {import('preact').FunctionComponent} props.RowsRenderer\n * @param {Object} props.indexes\n * @param {Function} props.onDeleteItem\n * @param {boolean} props.showRemove\n */\n\nconst RepetitionScaffold = props => {\n  const {\n    itemIndex,\n    itemValue,\n    parentExpressionContextInfo,\n    repeaterField,\n    RowsRenderer,\n    indexes,\n    onDeleteItem,\n    showRemove,\n    ...restProps\n  } = props;\n  const elementProps = useMemo(() => ({\n    ...restProps,\n    indexes: {\n      ...(indexes || {}),\n      [repeaterField.id]: itemIndex\n    }\n  }), [itemIndex, indexes, repeaterField.id, restProps]);\n  const localExpressionContextInfo = useMemo(() => ({\n    data: parentExpressionContextInfo.data,\n    this: itemValue,\n    parent: buildExpressionContext({\n      ...parentExpressionContextInfo,\n      data: parentExpressionContextInfo.this\n    }),\n    i: [...parentExpressionContextInfo.i, itemIndex + 1]\n  }), [itemIndex, parentExpressionContextInfo, itemValue]);\n  return !showRemove ? jsx(LocalExpressionContext.Provider, {\n    value: localExpressionContextInfo,\n    children: jsx(RowsRenderer, {\n      ...elementProps\n    })\n  }) : jsxs(\"div\", {\n    class: \"fjs-repeat-row-container\",\n    children: [jsx(\"div\", {\n      class: \"fjs-repeat-row-rows\",\n      children: jsx(LocalExpressionContext.Provider, {\n        value: localExpressionContextInfo,\n        children: jsx(RowsRenderer, {\n          ...elementProps\n        })\n      })\n    }), jsx(\"button\", {\n      type: \"button\",\n      class: \"fjs-repeat-row-remove\",\n      \"aria-label\": `Remove list item ${itemIndex + 1}`,\n      onClick: () => onDeleteItem(itemIndex),\n      children: jsx(\"div\", {\n        class: \"fjs-repeat-row-remove-icon-container\",\n        children: jsx(SvgDelete, {})\n      })\n    })]\n  });\n};\nRepeatRenderManager.$inject = ['form', 'formFields', 'formFieldRegistry', 'pathRegistry', 'eventBus'];\n\nconst RepeatRenderModule = {\n  __init__: ['repeatRenderManager'],\n  repeatRenderManager: ['type', RepeatRenderManager]\n};\n\nvar FN_REF = '__fn';\nvar DEFAULT_PRIORITY = 1000;\nvar slice = Array.prototype.slice;\n\n/**\n * @typedef { {\n *   stopPropagation(): void;\n *   preventDefault(): void;\n *   cancelBubble: boolean;\n *   defaultPrevented: boolean;\n *   returnValue: any;\n * } } Event\n */\n\n/**\n * @template E\n *\n * @typedef { (event: E & Event, ...any) => any } EventBusEventCallback\n */\n\n/**\n * @typedef { {\n *  priority: number;\n *  next: EventBusListener | null;\n *  callback: EventBusEventCallback<any>;\n * } } EventBusListener\n */\n\n/**\n * A general purpose event bus.\n *\n * This component is used to communicate across a diagram instance.\n * Other parts of a diagram can use it to listen to and broadcast events.\n *\n *\n * ## Registering for Events\n *\n * The event bus provides the {@link EventBus#on} and {@link EventBus#once}\n * methods to register for events. {@link EventBus#off} can be used to\n * remove event registrations. Listeners receive an instance of {@link Event}\n * as the first argument. It allows them to hook into the event execution.\n *\n * ```javascript\n *\n * // listen for event\n * eventBus.on('foo', function(event) {\n *\n *   // access event type\n *   event.type; // 'foo'\n *\n *   // stop propagation to other listeners\n *   event.stopPropagation();\n *\n *   // prevent event default\n *   event.preventDefault();\n * });\n *\n * // listen for event with custom payload\n * eventBus.on('bar', function(event, payload) {\n *   console.log(payload);\n * });\n *\n * // listen for event returning value\n * eventBus.on('foobar', function(event) {\n *\n *   // stop event propagation + prevent default\n *   return false;\n *\n *   // stop event propagation + return custom result\n *   return {\n *     complex: 'listening result'\n *   };\n * });\n *\n *\n * // listen with custom priority (default=1000, higher is better)\n * eventBus.on('priorityfoo', 1500, function(event) {\n *   console.log('invoked first!');\n * });\n *\n *\n * // listen for event and pass the context (`this`)\n * eventBus.on('foobar', function(event) {\n *   this.foo();\n * }, this);\n * ```\n *\n *\n * ## Emitting Events\n *\n * Events can be emitted via the event bus using {@link EventBus#fire}.\n *\n * ```javascript\n *\n * // false indicates that the default action\n * // was prevented by listeners\n * if (eventBus.fire('foo') === false) {\n *   console.log('default has been prevented!');\n * };\n *\n *\n * // custom args + return value listener\n * eventBus.on('sum', function(event, a, b) {\n *   return a + b;\n * });\n *\n * // you can pass custom arguments + retrieve result values.\n * var sum = eventBus.fire('sum', 1, 2);\n * console.log(sum); // 3\n * ```\n *\n * @template [EventMap=null]\n */\nfunction EventBus() {\n  /**\n   * @type { Record<string, EventBusListener> }\n   */\n  this._listeners = {};\n\n  // cleanup on destroy on lowest priority to allow\n  // message passing until the bitter end\n  this.on('diagram.destroy', 1, this._destroy, this);\n}\n\n/**\n * @overlord\n *\n * Register an event listener for events with the given name.\n *\n * The callback will be invoked with `event, ...additionalArguments`\n * that have been passed to {@link EventBus#fire}.\n *\n * Returning false from a listener will prevent the events default action\n * (if any is specified). To stop an event from being processed further in\n * other listeners execute {@link Event#stopPropagation}.\n *\n * Returning anything but `undefined` from a listener will stop the listener propagation.\n *\n * @template T\n *\n * @param {string|string[]} events to subscribe to\n * @param {number} [priority=1000] listen priority\n * @param {EventBusEventCallback<T>} callback\n * @param {any} [that] callback context\n */\n/**\n * Register an event listener for events with the given name.\n *\n * The callback will be invoked with `event, ...additionalArguments`\n * that have been passed to {@link EventBus#fire}.\n *\n * Returning false from a listener will prevent the events default action\n * (if any is specified). To stop an event from being processed further in\n * other listeners execute {@link Event#stopPropagation}.\n *\n * Returning anything but `undefined` from a listener will stop the listener propagation.\n *\n * @template {keyof EventMap} EventName\n *\n * @param {EventName} events to subscribe to\n * @param {number} [priority=1000] listen priority\n * @param {EventBusEventCallback<EventMap[EventName]>} callback\n * @param {any} [that] callback context\n */\nEventBus.prototype.on = function (events, priority, callback, that) {\n  events = isArray(events) ? events : [events];\n  if (isFunction(priority)) {\n    that = callback;\n    callback = priority;\n    priority = DEFAULT_PRIORITY;\n  }\n  if (!isNumber(priority)) {\n    throw new Error('priority must be a number');\n  }\n  var actualCallback = callback;\n  if (that) {\n    actualCallback = bind(callback, that);\n\n    // make sure we remember and are able to remove\n    // bound callbacks via {@link #off} using the original\n    // callback\n    actualCallback[FN_REF] = callback[FN_REF] || callback;\n  }\n  var self = this;\n  events.forEach(function (e) {\n    self._addListener(e, {\n      priority: priority,\n      callback: actualCallback,\n      next: null\n    });\n  });\n};\n\n/**\n * @overlord\n *\n * Register an event listener that is called only once.\n *\n * @template T\n *\n * @param {string|string[]} events to subscribe to\n * @param {number} [priority=1000] the listen priority\n * @param {EventBusEventCallback<T>} callback\n * @param {any} [that] callback context\n */\n/**\n * Register an event listener that is called only once.\n *\n * @template {keyof EventMap} EventName\n *\n * @param {EventName} events to subscribe to\n * @param {number} [priority=1000] listen priority\n * @param {EventBusEventCallback<EventMap[EventName]>} callback\n * @param {any} [that] callback context\n */\nEventBus.prototype.once = function (events, priority, callback, that) {\n  var self = this;\n  if (isFunction(priority)) {\n    that = callback;\n    callback = priority;\n    priority = DEFAULT_PRIORITY;\n  }\n  if (!isNumber(priority)) {\n    throw new Error('priority must be a number');\n  }\n  function wrappedCallback() {\n    wrappedCallback.__isTomb = true;\n    var result = callback.apply(that, arguments);\n    self.off(events, wrappedCallback);\n    return result;\n  }\n\n  // make sure we remember and are able to remove\n  // bound callbacks via {@link #off} using the original\n  // callback\n  wrappedCallback[FN_REF] = callback;\n  this.on(events, priority, wrappedCallback);\n};\n\n/**\n * Removes event listeners by event and callback.\n *\n * If no callback is given, all listeners for a given event name are being removed.\n *\n * @param {string|string[]} events\n * @param {EventBusEventCallback<unknown>} [callback]\n */\nEventBus.prototype.off = function (events, callback) {\n  events = isArray(events) ? events : [events];\n  var self = this;\n  events.forEach(function (event) {\n    self._removeListener(event, callback);\n  });\n};\n\n/**\n * Create an event recognized be the event bus.\n *\n * @param {Object} data Event data.\n *\n * @return {Event} An event that will be recognized by the event bus.\n */\nEventBus.prototype.createEvent = function (data) {\n  var event = new InternalEvent();\n  event.init(data);\n  return event;\n};\n\n/**\n * Fires an event.\n *\n * @example\n *\n * ```javascript\n * // fire event by name\n * events.fire('foo');\n *\n * // fire event object with nested type\n * var event = { type: 'foo' };\n * events.fire(event);\n *\n * // fire event with explicit type\n * var event = { x: 10, y: 20 };\n * events.fire('element.moved', event);\n *\n * // pass additional arguments to the event\n * events.on('foo', function(event, bar) {\n *   alert(bar);\n * });\n *\n * events.fire({ type: 'foo' }, 'I am bar!');\n * ```\n *\n * @param {string} [type] event type\n * @param {Object} [data] event or event data\n * @param {...any} [args] additional arguments the callback will be called with.\n *\n * @return {any} The return value. Will be set to `false` if the default was prevented.\n */\nEventBus.prototype.fire = function (type, data) {\n  var event, firstListener, returnValue, args;\n  args = slice.call(arguments);\n  if (typeof type === 'object') {\n    data = type;\n    type = data.type;\n  }\n  if (!type) {\n    throw new Error('no event type specified');\n  }\n  firstListener = this._listeners[type];\n  if (!firstListener) {\n    return;\n  }\n\n  // we make sure we fire instances of our home made\n  // events here. We wrap them only once, though\n  if (data instanceof InternalEvent) {\n    // we are fine, we alread have an event\n    event = data;\n  } else {\n    event = this.createEvent(data);\n  }\n\n  // ensure we pass the event as the first parameter\n  args[0] = event;\n\n  // original event type (in case we delegate)\n  var originalType = event.type;\n\n  // update event type before delegation\n  if (type !== originalType) {\n    event.type = type;\n  }\n  try {\n    returnValue = this._invokeListeners(event, args, firstListener);\n  } finally {\n    // reset event type after delegation\n    if (type !== originalType) {\n      event.type = originalType;\n    }\n  }\n\n  // set the return value to false if the event default\n  // got prevented and no other return value exists\n  if (returnValue === undefined && event.defaultPrevented) {\n    returnValue = false;\n  }\n  return returnValue;\n};\n\n/**\n * Handle an error by firing an event.\n *\n * @param {Error} error The error to be handled.\n *\n * @return {boolean} Whether the error was handled.\n */\nEventBus.prototype.handleError = function (error) {\n  return this.fire('error', {\n    error: error\n  }) === false;\n};\nEventBus.prototype._destroy = function () {\n  this._listeners = {};\n};\n\n/**\n * @param {Event} event\n * @param {any[]} args\n * @param {EventBusListener} listener\n *\n * @return {any}\n */\nEventBus.prototype._invokeListeners = function (event, args, listener) {\n  var returnValue;\n  while (listener) {\n    // handle stopped propagation\n    if (event.cancelBubble) {\n      break;\n    }\n    returnValue = this._invokeListener(event, args, listener);\n    listener = listener.next;\n  }\n  return returnValue;\n};\n\n/**\n * @param {Event} event\n * @param {any[]} args\n * @param {EventBusListener} listener\n *\n * @return {any}\n */\nEventBus.prototype._invokeListener = function (event, args, listener) {\n  var returnValue;\n  if (listener.callback.__isTomb) {\n    return returnValue;\n  }\n  try {\n    // returning false prevents the default action\n    returnValue = invokeFunction(listener.callback, args);\n\n    // stop propagation on return value\n    if (returnValue !== undefined) {\n      event.returnValue = returnValue;\n      event.stopPropagation();\n    }\n\n    // prevent default on return false\n    if (returnValue === false) {\n      event.preventDefault();\n    }\n  } catch (error) {\n    if (!this.handleError(error)) {\n      console.error('unhandled error in event listener', error);\n      throw error;\n    }\n  }\n  return returnValue;\n};\n\n/**\n * Add new listener with a certain priority to the list\n * of listeners (for the given event).\n *\n * The semantics of listener registration / listener execution are\n * first register, first serve: New listeners will always be inserted\n * after existing listeners with the same priority.\n *\n * Example: Inserting two listeners with priority 1000 and 1300\n *\n *    * before: [ 1500, 1500, 1000, 1000 ]\n *    * after: [ 1500, 1500, (new=1300), 1000, 1000, (new=1000) ]\n *\n * @param {string} event\n * @param {EventBusListener} newListener\n */\nEventBus.prototype._addListener = function (event, newListener) {\n  var listener = this._getListeners(event),\n    previousListener;\n\n  // no prior listeners\n  if (!listener) {\n    this._setListeners(event, newListener);\n    return;\n  }\n\n  // ensure we order listeners by priority from\n  // 0 (high) to n > 0 (low)\n  while (listener) {\n    if (listener.priority < newListener.priority) {\n      newListener.next = listener;\n      if (previousListener) {\n        previousListener.next = newListener;\n      } else {\n        this._setListeners(event, newListener);\n      }\n      return;\n    }\n    previousListener = listener;\n    listener = listener.next;\n  }\n\n  // add new listener to back\n  previousListener.next = newListener;\n};\n\n/**\n * @param {string} name\n *\n * @return {EventBusListener}\n */\nEventBus.prototype._getListeners = function (name) {\n  return this._listeners[name];\n};\n\n/**\n * @param {string} name\n * @param {EventBusListener} listener\n */\nEventBus.prototype._setListeners = function (name, listener) {\n  this._listeners[name] = listener;\n};\nEventBus.prototype._removeListener = function (event, callback) {\n  var listener = this._getListeners(event),\n    nextListener,\n    previousListener,\n    listenerCallback;\n  if (!callback) {\n    // clear listeners\n    this._setListeners(event, null);\n    return;\n  }\n  while (listener) {\n    nextListener = listener.next;\n    listenerCallback = listener.callback;\n    if (listenerCallback === callback || listenerCallback[FN_REF] === callback) {\n      if (previousListener) {\n        previousListener.next = nextListener;\n      } else {\n        // new first listener\n        this._setListeners(event, nextListener);\n      }\n    }\n    previousListener = listener;\n    listener = nextListener;\n  }\n};\n\n/**\n * A event that is emitted via the event bus.\n */\nfunction InternalEvent() {}\nInternalEvent.prototype.stopPropagation = function () {\n  this.cancelBubble = true;\n};\nInternalEvent.prototype.preventDefault = function () {\n  this.defaultPrevented = true;\n};\nInternalEvent.prototype.init = function (data) {\n  assign(this, data || {});\n};\n\n/**\n * Invoke function. Be fast...\n *\n * @param {Function} fn\n * @param {any[]} args\n *\n * @return {any}\n */\nfunction invokeFunction(fn, args) {\n  return fn.apply(null, args);\n}\n\nconst EMAIL_PATTERN = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;\nconst PHONE_PATTERN = /(\\+|00)(297|93|244|1264|358|355|376|971|54|374|1684|1268|61|43|994|257|32|229|226|880|359|973|1242|387|590|375|501|1441|591|55|1246|673|975|267|236|1|61|41|56|86|225|237|243|242|682|57|269|238|506|53|5999|61|1345|357|420|49|253|1767|45|1809|1829|1849|213|593|20|291|212|34|372|251|358|679|500|33|298|691|241|44|995|44|233|350|224|590|220|245|240|30|1473|299|502|594|1671|592|852|504|385|509|36|62|44|91|246|353|98|964|354|972|39|1876|44|962|81|76|77|254|996|855|686|1869|82|383|965|856|961|231|218|1758|423|94|266|370|352|371|853|590|212|377|373|261|960|52|692|389|223|356|95|382|976|1670|258|222|1664|596|230|265|60|262|264|687|227|672|234|505|683|31|47|977|674|64|968|92|507|64|51|63|680|675|48|1787|1939|850|351|595|970|689|974|262|40|7|250|966|249|221|65|500|4779|677|232|503|378|252|508|381|211|239|597|421|386|46|268|1721|248|963|1649|235|228|66|992|690|993|670|676|1868|216|90|688|886|255|256|380|598|1|998|3906698|379|1784|58|1284|1340|84|678|681|685|967|27|260|263)(9[976]\\d|8[987530]\\d|6[987]\\d|5[90]\\d|42\\d|3[875]\\d|2[98654321]\\d|9[8543210]|8[6421]|6[6543210]|5[87654321]|4[987654310]|3[9643210]|2[70]|7|1)\\d{4,20}$/;\nconst VALIDATE_FEEL_PROPERTIES = ['min', 'max', 'minLength', 'maxLength'];\nclass Validator {\n  constructor(expressionLanguage, conditionChecker, form, formFieldRegistry) {\n    this._expressionLanguage = expressionLanguage;\n    this._conditionChecker = conditionChecker;\n    this._form = form;\n    this._formFieldRegistry = formFieldRegistry;\n  }\n\n  /**\n   * Validate against a field definition, does not support proper expression evaluation.\n   *\n   * @deprecated use validateFieldInstance instead\n   */\n  validateField(field, value) {\n    const {\n      type,\n      validate\n    } = field;\n    let errors = [];\n    if (type === 'number') {\n      errors = [...errors, ...runNumberValidation(field, value)];\n    }\n    if (!validate) {\n      return errors;\n    }\n    const evaluatedValidation = oldEvaluateFEELValues(validate, this._expressionLanguage, this._conditionChecker, this._form);\n    errors = [...errors, ...runPresetValidation(field, evaluatedValidation, value)];\n    return errors;\n  }\n\n  /**\n   * Validate a field instance.\n   *\n   * @param {Object} fieldInstance\n   * @param {string} value\n   *\n   * @returns {Array<string>}\n   */\n  validateFieldInstance(fieldInstance, value) {\n    const {\n      id,\n      expressionContextInfo\n    } = fieldInstance;\n    const field = this._formFieldRegistry.get(id);\n    if (!field) {\n      return [];\n    }\n    const {\n      type,\n      validate\n    } = field;\n    let errors = [];\n    if (type === 'number') {\n      errors = [...errors, ...runNumberValidation(field, value)];\n    }\n    if (!validate) {\n      return errors;\n    }\n    const evaluatedValidation = evaluateFEELValues(validate, this._expressionLanguage, expressionContextInfo);\n    errors = [...errors, ...runPresetValidation(field, evaluatedValidation, value)];\n    return errors;\n  }\n}\nValidator.$inject = ['expressionLanguage', 'conditionChecker', 'form', 'formFieldRegistry'];\n\n// helpers //////////\n\nfunction runNumberValidation(field, value) {\n  const {\n    decimalDigits,\n    increment\n  } = field;\n  const errors = [];\n  if (value === 'NaN') {\n    errors.push('Value is not a number.');\n  } else if (value) {\n    if (decimalDigits >= 0 && countDecimals(value) > decimalDigits) {\n      errors.push('Value is expected to ' + (decimalDigits === 0 ? 'be an integer' : `have at most ${decimalDigits} decimal digit${decimalDigits > 1 ? 's' : ''}`) + '.');\n    }\n    if (increment) {\n      const bigValue = Big(value);\n      const bigIncrement = Big(increment);\n      const offset = bigValue.mod(bigIncrement);\n      if (offset.cmp(0) !== 0) {\n        const previousValue = bigValue.minus(offset);\n        const nextValue = previousValue.plus(bigIncrement);\n        errors.push(`Please select a valid value, the two nearest valid values are ${previousValue} and ${nextValue}.`);\n      }\n    }\n  }\n  return errors;\n}\nfunction runPresetValidation(field, validation, value) {\n  const errors = [];\n  if (validation.pattern && value && !new RegExp(validation.pattern).test(value)) {\n    errors.push(validation.patternErrorMessage || `Field must match pattern ${validation.pattern}.`);\n  }\n  if (validation.required) {\n    const isUncheckedCheckbox = field.type === 'checkbox' && value === false;\n    const isUnsetValue = isNil(value) || value === '';\n    const isEmptyMultiselect = Array.isArray(value) && value.length === 0;\n    if (isUncheckedCheckbox || isUnsetValue || isEmptyMultiselect) {\n      errors.push('Field is required.');\n    }\n  }\n  if ('min' in validation && (value || value === 0) && value < validation.min) {\n    errors.push(`Field must have minimum value of ${validation.min}.`);\n  }\n  if ('max' in validation && (value || value === 0) && value > validation.max) {\n    errors.push(`Field must have maximum value of ${validation.max}.`);\n  }\n  if ('minLength' in validation && value && value.trim().length < validation.minLength) {\n    errors.push(`Field must have minimum length of ${validation.minLength}.`);\n  }\n  if ('maxLength' in validation && value && value.trim().length > validation.maxLength) {\n    errors.push(`Field must have maximum length of ${validation.maxLength}.`);\n  }\n  if ('validationType' in validation && value && validation.validationType === 'phone' && !PHONE_PATTERN.test(value)) {\n    errors.push('Field must be a valid  international phone number. (e.g. +4930664040900)');\n  }\n  if ('validationType' in validation && value && validation.validationType === 'email' && !EMAIL_PATTERN.test(value)) {\n    errors.push('Field must be a valid email.');\n  }\n  return errors;\n}\nfunction evaluateFEELValues(validate, expressionLanguage, expressionContextInfo) {\n  const evaluatedValidate = {\n    ...validate\n  };\n  VALIDATE_FEEL_PROPERTIES.forEach(property => {\n    const path = property.split('.');\n    const value = get(evaluatedValidate, path);\n    const evaluatedValue = runExpressionEvaluation(expressionLanguage, value, expressionContextInfo);\n    set(evaluatedValidate, path, evaluatedValue === null ? undefined : evaluatedValue);\n  });\n  return evaluatedValidate;\n}\nfunction oldEvaluateFEELValues(validate, expressionLanguage, conditionChecker, form) {\n  const evaluatedValidate = {\n    ...validate\n  };\n  VALIDATE_FEEL_PROPERTIES.forEach(property => {\n    const path = property.split('.');\n    const value = get(evaluatedValidate, path);\n\n    // mirroring FEEL evaluation of our hooks\n    if (!expressionLanguage || !expressionLanguage.isExpression(value)) {\n      return value;\n    }\n    const {\n      initialData,\n      data\n    } = form._getState();\n    const newData = conditionChecker ? conditionChecker.applyConditions(data, data) : data;\n    const filteredData = {\n      ...initialData,\n      ...newData\n    };\n    const evaluatedValue = expressionLanguage.evaluate(value, filteredData);\n\n    // replace validate property with evaluated value\n    if (evaluatedValue) {\n      set(evaluatedValidate, path, evaluatedValue);\n    }\n  });\n  return evaluatedValidate;\n}\n\nclass Importer {\n  /**\n   * @constructor\n   * @param { import('./FormFieldRegistry').FormFieldRegistry } formFieldRegistry\n   * @param { import('./PathRegistry').PathRegistry } pathRegistry\n   * @param { import('./FieldFactory').FieldFactory } fieldFactory\n   * @param { import('./FormLayouter').FormLayouter } formLayouter\n   */\n  constructor(formFieldRegistry, pathRegistry, fieldFactory, formLayouter) {\n    this._formFieldRegistry = formFieldRegistry;\n    this._pathRegistry = pathRegistry;\n    this._fieldFactory = fieldFactory;\n    this._formLayouter = formLayouter;\n  }\n\n  /**\n   * Import schema creating rows, fields, attaching additional\n   * information to each field and adding fields to the\n   * field registry.\n   *\n   * Additional information attached:\n   *\n   *   * `id` (unless present)\n   *   * `_parent`\n   *   * `_path`\n   *\n   * @param {any} schema\n   *\n   * @typedef {{ warnings: Error[], schema: any }} ImportResult\n   * @returns {ImportResult}\n   */\n  importSchema(schema) {\n    // TODO: Add warnings\n    const warnings = [];\n    try {\n      this._cleanup();\n      const importedSchema = this.importFormField(clone(schema));\n      this._formLayouter.calculateLayout(clone(importedSchema));\n      return {\n        schema: importedSchema,\n        warnings\n      };\n    } catch (err) {\n      this._cleanup();\n      err.warnings = warnings;\n      throw err;\n    }\n  }\n  _cleanup() {\n    this._formLayouter.clear();\n    this._formFieldRegistry.clear();\n    this._pathRegistry.clear();\n  }\n\n  /**\n   * @param {{[x: string]: any}} fieldAttrs\n   * @param {String} [parentId]\n   * @param {number} [index]\n   *\n   * @return {any} field\n   */\n  importFormField(fieldAttrs, parentId, index) {\n    const {\n      components\n    } = fieldAttrs;\n    let parent, path;\n    if (parentId) {\n      parent = this._formFieldRegistry.get(parentId);\n    }\n\n    // set form field path\n    path = parent ? [...parent._path, 'components', index] : [];\n    const field = this._fieldFactory.create({\n      ...fieldAttrs,\n      _path: path,\n      _parent: parentId\n    }, false);\n    this._formFieldRegistry.add(field);\n    if (components) {\n      field.components = this.importFormFields(components, field.id);\n    }\n    return field;\n  }\n\n  /**\n   * @param {Array<any>} components\n   * @param {string} parentId\n   *\n   * @return {Array<any>} imported components\n   */\n  importFormFields(components, parentId) {\n    return components.map((component, index) => {\n      return this.importFormField(component, parentId, index);\n    });\n  }\n}\nImporter.$inject = ['formFieldRegistry', 'pathRegistry', 'fieldFactory', 'formLayouter'];\n\nclass FieldFactory {\n  /**\n   * @constructor\n   *\n   * @param  formFieldRegistry\n   * @param  formFields\n   */\n  constructor(formFieldRegistry, pathRegistry, formFields) {\n    this._formFieldRegistry = formFieldRegistry;\n    this._pathRegistry = pathRegistry;\n    this._formFields = formFields;\n  }\n  create(attrs, isNewField = true) {\n    const {\n      id,\n      type,\n      key,\n      path,\n      _parent\n    } = attrs;\n    const fieldDefinition = this._formFields.get(type);\n    if (!fieldDefinition) {\n      throw new Error(`form field of type <${type}> not supported`);\n    }\n    const {\n      config\n    } = fieldDefinition;\n    if (!config) {\n      throw new Error(`form field of type <${type}> has no config`);\n    }\n    if (id && this._formFieldRegistry._ids.assigned(id)) {\n      throw new Error(`form field with id <${id}> already exists`);\n    }\n\n    // ensure that we can claim the path\n\n    const parent = _parent && this._formFieldRegistry.get(_parent);\n    const parentPath = parent && this._pathRegistry.getValuePath(parent) || [];\n    const knownAncestorIds = getAncestryList(_parent, this._formFieldRegistry);\n    if (config.keyed && key && !this._pathRegistry.canClaimPath([...parentPath, ...key.split('.')], {\n      isClosed: true,\n      knownAncestorIds\n    })) {\n      throw new Error(`binding path '${[...parentPath, key].join('.')}' is already claimed`);\n    }\n    if (config.pathed && path && !this._pathRegistry.canClaimPath([...parentPath, ...path.split('.')], {\n      isRepeatable: config.repeatable,\n      knownAncestorIds\n    })) {\n      throw new Error(`binding path '${[...parentPath, ...path.split('.')].join('.')}' is already claimed`);\n    }\n    const field = config.create({\n      ...(config.label ? {\n        label: config.label\n      } : {}),\n      ...attrs\n    }, isNewField);\n    this._ensureId(field);\n    if (config.keyed) {\n      this._ensureKey(field);\n      this._pathRegistry.claimPath(this._pathRegistry.getValuePath(field), {\n        isClosed: true,\n        claimerId: field.id,\n        knownAncestorIds: getAncestryList(_parent, this._formFieldRegistry)\n      });\n    }\n    if (config.pathed) {\n      if (config.repeatable) {\n        this._enforceDefaultPath(field);\n      }\n      this._pathRegistry.claimPath(this._pathRegistry.getValuePath(field), {\n        isRepeatable: config.repeatable,\n        claimerId: field.id,\n        knownAncestorIds: getAncestryList(_parent, this._formFieldRegistry)\n      });\n    }\n    return field;\n  }\n  _ensureId(field) {\n    if (field.id) {\n      this._formFieldRegistry._ids.claim(field.id, field);\n      return;\n    }\n    let prefix = 'Field';\n    if (field.type === 'default') {\n      prefix = 'Form';\n    }\n    field.id = this._formFieldRegistry._ids.nextPrefixed(`${prefix}_`, field);\n  }\n  _ensureKey(field) {\n    if (!field.key) {\n      field.key = this._getUniqueKeyPath(field);\n    }\n  }\n  _enforceDefaultPath(field) {\n    if (!field.path) {\n      field.path = this._getUniqueKeyPath(field);\n    }\n  }\n  _getUniqueKeyPath(field) {\n    let random;\n    const parent = this._formFieldRegistry.get(field._parent);\n\n    // ensure key uniqueness at level\n    do {\n      random = Math.random().toString(36).substring(7);\n    } while (parent && parent.components.some(child => child.key === random));\n    return `${field.type}_${random}`;\n  }\n}\nFieldFactory.$inject = ['formFieldRegistry', 'pathRegistry', 'formFields'];\n\n/**\n * The PathRegistry class manages a hierarchical structure of paths associated with form fields.\n * It enables claiming, unclaiming, and validating paths within this structure.\n *\n * Example Tree Structure:\n *\n *   [\n *     {\n *       segment: 'root',\n *       claimCount: 1,\n *       children: [\n *         {\n *           segment: 'child1',\n *           claimCount: 2,\n *           children: null  // A leaf node (closed path)\n *         },\n *         {\n *           segment: 'child2',\n *           claimCount: 1,\n *           children: [\n *             {\n *               segment: 'subChild1',\n *               claimCount: 1,\n *               children: []  // An open node (open path)\n *             }\n *           ]\n *         }\n *       ]\n *     }\n *   ]\n */\nclass PathRegistry {\n  constructor(formFieldRegistry, formFields, injector) {\n    this._formFieldRegistry = formFieldRegistry;\n    this._formFields = formFields;\n    this._injector = injector;\n    this._dataPaths = [];\n  }\n  canClaimPath(path, options = {}) {\n    const {\n      isClosed = false,\n      isRepeatable = false,\n      skipAncestryCheck = false,\n      claimerId = null,\n      knownAncestorIds = []\n    } = options;\n    let node = {\n      children: this._dataPaths\n    };\n\n    // (1) if we reach a leaf node, we cannot claim it, if we reach an open node, we can\n    // if we reach a repeatable node, we need to ensure that the claimer is (or will be) an ancestor of the repeater\n    for (const segment of path) {\n      node = _getNextSegment(node, segment);\n      if (!node) {\n        return true;\n      }\n      if (node.isRepeatable && !skipAncestryCheck) {\n        if (!(claimerId || knownAncestorIds.length)) {\n          throw new Error('cannot claim a path that contains a repeater without specifying a claimerId or knownAncestorIds');\n        }\n        const isValidRepeatClaim = knownAncestorIds.includes(node.repeaterId) || claimerId && getAncestryList(claimerId, this._formFieldRegistry).includes(node.repeaterId);\n        if (!isValidRepeatClaim) {\n          return false;\n        }\n      }\n      if (node.children === null) {\n        return false;\n      }\n    }\n\n    // (2) if the path lands in the middle of the tree, we can only claim an open, non-repeatable path\n    return !(isClosed || isRepeatable);\n  }\n  claimPath(path, options = {}) {\n    const {\n      isClosed = false,\n      isRepeatable = false,\n      claimerId = null,\n      knownAncestorIds = []\n    } = options;\n    if (!this.canClaimPath(path, {\n      isClosed,\n      isRepeatable,\n      claimerId,\n      knownAncestorIds\n    })) {\n      throw new Error(`cannot claim path '${path.join('.')}'`);\n    }\n    let node = {\n      children: this._dataPaths\n    };\n    for (const segment of path) {\n      let child = _getNextSegment(node, segment);\n      if (!child) {\n        child = {\n          segment,\n          claimCount: 1,\n          children: []\n        };\n        node.children.push(child);\n      } else {\n        child.claimCount++;\n      }\n      node = child;\n    }\n    if (isClosed) {\n      node.children = null;\n    }\n\n    // add some additional info when we make a repeatable path claim\n    if (isRepeatable) {\n      node.isRepeatable = true;\n      node.repeaterId = claimerId;\n    }\n  }\n  unclaimPath(path) {\n    // verification Pass\n    let node = {\n      children: this._dataPaths\n    };\n    for (const segment of path) {\n      const child = _getNextSegment(node, segment);\n      if (!child) {\n        throw new Error(`no open path found for '${path.join('.')}'`);\n      }\n      node = child;\n    }\n\n    // mutation Pass\n    node = {\n      children: this._dataPaths\n    };\n    for (const segment of path) {\n      const child = _getNextSegment(node, segment);\n      child.claimCount--;\n      if (child.claimCount === 0) {\n        node.children.splice(node.children.indexOf(child), 1);\n        break; // Abort early if claimCount reaches zero\n      }\n      node = child;\n    }\n  }\n\n  /**\n   * Applies a function (fn) recursively on a given field and its children.\n   *\n   * - `field`: Starting field object.\n   * - `fn`: Function to apply.\n   * - `context`: Optional object for passing data between calls.\n   *\n   * Stops early if `fn` returns `false`. Useful for traversing the form field tree.\n   *\n   * @returns {boolean} Success status based on function execution.\n   */\n  executeRecursivelyOnFields(field, fn, context = {}) {\n    let result = true;\n    const formFieldConfig = this._formFields.get(field.type).config;\n    if (formFieldConfig.keyed) {\n      const callResult = fn({\n        field,\n        isClosed: true,\n        isRepeatable: false,\n        context\n      });\n      return result && callResult;\n    } else if (formFieldConfig.pathed) {\n      const callResult = fn({\n        field,\n        isClosed: false,\n        isRepeatable: formFieldConfig.repeatable,\n        context\n      });\n      result = result && callResult;\n    }\n\n    // stop executing if false is specifically returned or if preventing recursion\n    if (result === false || context.preventRecursion) {\n      return result;\n    }\n    if (Array.isArray(field.components)) {\n      for (const child of field.components) {\n        const callResult = this.executeRecursivelyOnFields(child, fn, clone(context));\n        result = result && callResult;\n\n        // stop executing if false is specifically returned\n        if (result === false) {\n          return result;\n        }\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Generates an array representing the binding path to an underlying data object for a form field.\n   *\n   * @param {Object} field - The field object with properties: `key`, `path`, `id`, and optionally `_parent`.\n   * @param {Object} [options={}] - Configuration options.\n   * @param {Object} [options.replacements={}] - A map of field IDs to alternative path arrays.\n   * @param {Object} [options.indexes=null] - A map of parent IDs to the index of the field within said parent, leave null to get an unindexed path.\n   * @param {Object} [options.cutoffNode] - The ID of the parent field at which to stop generating the path.\n   *\n   * @returns {(Array<string>|undefined)} An array of strings representing the binding path, or undefined if not determinable.\n   */\n  getValuePath(field, options = {}) {\n    const {\n      replacements = {},\n      indexes = null,\n      cutoffNode = null\n    } = options;\n    let localValuePath = [];\n    const hasReplacement = Object.prototype.hasOwnProperty.call(replacements, field.id);\n    const formFieldConfig = this._formFields.get(field.type).config;\n\n    // uses path overrides instead of true path to calculate a potential value path\n    if (hasReplacement) {\n      const replacement = replacements[field.id];\n      if (replacement === null || replacement === undefined || replacement === '') {\n        localValuePath = [];\n      } else if (typeof replacement === 'string') {\n        localValuePath = replacement.split('.');\n      } else if (Array.isArray(replacement)) {\n        localValuePath = replacement;\n      } else {\n        throw new Error(`replacements for field ${field.id} must be a string, array or null/undefined`);\n      }\n    } else if (formFieldConfig.keyed) {\n      localValuePath = field.key.split('.');\n    } else if (formFieldConfig.pathed && field.path) {\n      localValuePath = field.path.split('.');\n    }\n\n    // add potential indexes of repeated fields\n    if (indexes) {\n      localValuePath = this._addIndexes(localValuePath, field, indexes);\n    }\n\n    // if parent exists and isn't cutoff node, add parent's value path\n    if (field._parent && field._parent !== cutoffNode) {\n      const parent = this._formFieldRegistry.get(field._parent);\n      return [...(this.getValuePath(parent, options) || []), ...localValuePath];\n    }\n    return localValuePath;\n  }\n  clear() {\n    this._dataPaths = [];\n  }\n  _addIndexes(localValuePath, field, indexes) {\n    const repeatRenderManager = this._injector.get('repeatRenderManager', false);\n    if (repeatRenderManager && repeatRenderManager.isFieldRepeating(field._parent)) {\n      return [indexes[field._parent], ...localValuePath];\n    }\n    return localValuePath;\n  }\n}\nconst _getNextSegment = (node, segment) => {\n  if (isArray(node.children)) {\n    return node.children.find(node => node.segment === segment) || null;\n  }\n  return null;\n};\nPathRegistry.$inject = ['formFieldRegistry', 'formFields', 'injector'];\n\n/**\n * @typedef { { id: String, components: Array<String> } } FormRow\n * @typedef { { formFieldId: String, rows: Array<FormRow> } } FormRows\n */\n\n/**\n * Maintains the Form layout in a given structure, for example\n *\n *  [\n *    {\n *      formFieldId: 'FormField_1',\n *      rows: [\n *        { id: 'Row_1', components: [ 'Text_1', 'Textdield_1', ... ]  }\n *      ]\n *    }\n *  ]\n *\n */\nclass FormLayouter {\n  constructor(eventBus) {\n    /** @type Array<FormRows>  */\n    this._rows = [];\n    this._ids = new Ids([32, 36, 1]);\n    this._eventBus = eventBus;\n  }\n\n  /**\n   * @param {FormRow} row\n   */\n  addRow(formFieldId, row) {\n    let rowsPerComponent = this._rows.find(r => r.formFieldId === formFieldId);\n    if (!rowsPerComponent) {\n      rowsPerComponent = {\n        formFieldId,\n        rows: []\n      };\n      this._rows.push(rowsPerComponent);\n    }\n    rowsPerComponent.rows.push(row);\n  }\n\n  /**\n   * @param {String} id\n   * @returns {FormRow}\n   */\n  getRow(id) {\n    const rows = allRows(this._rows);\n    return rows.find(r => r.id === id);\n  }\n\n  /**\n   * @param {any} formField\n   * @returns {FormRow}\n   */\n  getRowForField(formField) {\n    return allRows(this._rows).find(r => {\n      const {\n        components\n      } = r;\n      return components.includes(formField.id);\n    });\n  }\n\n  /**\n   * @param {String} formFieldId\n   * @returns { Array<FormRow> }\n   */\n  getRows(formFieldId) {\n    const rowsForField = this._rows.find(r => formFieldId === r.formFieldId);\n    if (!rowsForField) {\n      return [];\n    }\n    return rowsForField.rows;\n  }\n\n  /**\n   * @returns {string}\n   */\n  nextRowId() {\n    return this._ids.nextPrefixed('Row_');\n  }\n\n  /**\n   * @param {any} formField\n   */\n  calculateLayout(formField) {\n    const {\n      type,\n      components\n    } = formField;\n    if (!['default', 'group', 'dynamiclist'].includes(type) || !components) {\n      return;\n    }\n\n    // (1) calculate rows order (by component order)\n    const rowsInOrder = groupByRow(components, this._ids);\n    Object.entries(rowsInOrder).forEach(([id, components]) => {\n      // (2) add fields to rows\n      this.addRow(formField.id, {\n        id: id,\n        components: components.map(c => c.id)\n      });\n    });\n\n    // (3) traverse through nested components\n    components.forEach(field => this.calculateLayout(field));\n\n    // (4) fire event to notify interested parties\n    this._eventBus.fire('form.layoutCalculated', {\n      rows: this._rows\n    });\n  }\n  clear() {\n    this._rows = [];\n    this._ids.clear();\n\n    // fire event to notify interested parties\n    this._eventBus.fire('form.layoutCleared');\n  }\n}\nFormLayouter.$inject = ['eventBus'];\n\n// helpers //////\n\nfunction groupByRow(components, ids) {\n  return groupBy(components, c => {\n    // mitigate missing row by creating new (handle legacy)\n    const {\n      layout\n    } = c;\n    if (!layout || !layout.row) {\n      return ids.nextPrefixed('Row_');\n    }\n    return layout.row;\n  });\n}\n\n/**\n * @param {Array<FormRows>} formRows\n * @returns {Array<FormRow>}\n */\nfunction allRows(formRows) {\n  return formRows.map(r => r.rows).flat();\n}\n\nclass FormFieldRegistry {\n  constructor(eventBus) {\n    this._eventBus = eventBus;\n    this._formFields = {};\n    eventBus.on('form.clear', () => this.clear());\n    this._ids = new Ids([32, 36, 1]);\n  }\n  add(formField) {\n    const {\n      id\n    } = formField;\n    if (this._formFields[id]) {\n      throw new Error(`form field with ID ${id} already exists`);\n    }\n    this._eventBus.fire('formField.add', {\n      formField\n    });\n    this._formFields[id] = formField;\n  }\n  remove(formField) {\n    const {\n      id\n    } = formField;\n    if (!this._formFields[id]) {\n      return;\n    }\n    this._eventBus.fire('formField.remove', {\n      formField\n    });\n    delete this._formFields[id];\n  }\n  get(id) {\n    return this._formFields[id];\n  }\n  getAll() {\n    return Object.values(this._formFields);\n  }\n  getForm() {\n    return this.getAll().find(formField => formField.type === 'default');\n  }\n  forEach(callback) {\n    this.getAll().forEach(formField => callback(formField));\n  }\n  clear() {\n    this._formFields = {};\n    this._ids.clear();\n  }\n}\nFormFieldRegistry.$inject = ['eventBus'];\n\nclass FormFieldInstanceRegistry {\n  constructor(eventBus, formFieldRegistry, formFields) {\n    this._eventBus = eventBus;\n    this._formFieldRegistry = formFieldRegistry;\n    this._formFields = formFields;\n    this._formFieldInstances = {};\n    eventBus.on('form.clear', () => this.clear());\n  }\n  syncInstance(instanceId, formFieldInfo) {\n    const {\n      hidden,\n      ...restInfo\n    } = formFieldInfo;\n    const isInstanceExpected = !hidden;\n    const doesInstanceExist = this._formFieldInstances[instanceId];\n    if (isInstanceExpected && !doesInstanceExist) {\n      this._formFieldInstances[instanceId] = {\n        instanceId,\n        ...restInfo\n      };\n      this._eventBus.fire('formFieldInstance.added', {\n        instanceId\n      });\n    } else if (!isInstanceExpected && doesInstanceExist) {\n      delete this._formFieldInstances[instanceId];\n      this._eventBus.fire('formFieldInstance.removed', {\n        instanceId\n      });\n    } else if (isInstanceExpected && doesInstanceExist) {\n      const wasInstanceChanged = Object.keys(restInfo).some(key => {\n        return this._formFieldInstances[instanceId][key] !== restInfo[key];\n      });\n      if (wasInstanceChanged) {\n        this._formFieldInstances[instanceId] = {\n          instanceId,\n          ...restInfo\n        };\n        this._eventBus.fire('formFieldInstance.changed', {\n          instanceId\n        });\n      }\n    }\n    return instanceId;\n  }\n  cleanupInstance(instanceId) {\n    if (this._formFieldInstances[instanceId]) {\n      delete this._formFieldInstances[instanceId];\n      this._eventBus.fire('formFieldInstance.removed', {\n        instanceId\n      });\n    }\n  }\n  get(instanceId) {\n    return this._formFieldInstances[instanceId];\n  }\n  getAll() {\n    return Object.values(this._formFieldInstances);\n  }\n  getAllKeyed() {\n    return this.getAll().filter(({\n      id\n    }) => {\n      const formFieldDefinition = this._formFieldRegistry.get(id);\n      if (!formFieldDefinition) {\n        return false;\n      }\n      const {\n        type\n      } = formFieldDefinition;\n      const {\n        config\n      } = this._formFields.get(type);\n      return config.keyed;\n    });\n  }\n  clear() {\n    this._formFieldInstances = {};\n  }\n}\nFormFieldInstanceRegistry.$inject = ['eventBus', 'formFieldRegistry', 'formFields'];\n\nfunction Renderer(config, eventBus, form, injector) {\n  const App = () => {\n    const [state, setState] = useState(form._getState());\n    const formContext = {\n      getService(type, strict = true) {\n        return injector.get(type, strict);\n      },\n      formId: form._id\n    };\n    eventBus.on('changed', newState => {\n      setState(newState);\n    });\n    const onChange = useCallback(update => form._update(update), []);\n    const {\n      properties\n    } = state;\n    const {\n      readOnly\n    } = properties;\n    const onSubmit = useCallback(() => {\n      if (!readOnly) {\n        form.submit();\n      }\n    }, [readOnly]);\n    const onReset = useCallback(() => form.reset(), []);\n    const {\n      schema\n    } = state;\n    if (!schema) {\n      return null;\n    }\n    return jsx(FormContext.Provider, {\n      value: formContext,\n      children: jsx(FormComponent, {\n        onChange: onChange,\n        onSubmit: onSubmit,\n        onReset: onReset\n      })\n    });\n  };\n  const {\n    container\n  } = config;\n  eventBus.on('form.init', () => {\n    render(jsx(App, {}), container);\n  });\n  eventBus.on('form.destroy', () => {\n    render(null, container);\n  });\n}\nRenderer.$inject = ['config.renderer', 'eventBus', 'form', 'injector'];\n\n/**\n * @typedef {Record<PropertyKey, unknown>} RemovedData\n * @param {RemovedData} removedData\n * @returns {string[]}\n */\nconst extractFileReferencesFromRemovedData = removedData => {\n  /** @type {string[]} */\n  const fileReferences = [];\n  if (removedData === null) {\n    return fileReferences;\n  }\n  Object.values(removedData).forEach(value => {\n    if (value === null) {\n      return;\n    }\n    if (typeof value === 'object') {\n      fileReferences.push(...extractFileReferencesFromRemovedData(/** @type {RemovedData} */value));\n    } else if (Array.isArray(value)) {\n      fileReferences.push(...value.map(extractFileReferencesFromRemovedData).flat());\n    } else if (typeof value === 'string' && value.startsWith(FILE_PICKER_FILE_KEY_PREFIX)) {\n      fileReferences.push(value);\n    }\n  });\n  return fileReferences;\n};\n\nconst fileRegistry = Symbol('fileRegistry');\nconst eventBusSymbol = Symbol('eventBus');\nconst formFieldRegistrySymbol = Symbol('formFieldRegistry');\nconst formFieldInstanceRegistrySymbol = Symbol('formFieldInstanceRegistry');\nconst EMPTY_ARRAY = [];\nclass FileRegistry {\n  /**\n   * @param {import('../core/EventBus').EventBus} eventBus\n   * @param {import('../core/FormFieldRegistry').FormFieldRegistry} formFieldRegistry\n   * @param {import('../core/FormFieldInstanceRegistry').FormFieldInstanceRegistry} formFieldInstanceRegistry\n   */\n  constructor(eventBus, formFieldRegistry, formFieldInstanceRegistry) {\n    /** @type {Map<string, File[]>} */\n    this[fileRegistry] = new Map();\n    /** @type {import('../core/EventBus').EventBus} */\n    this[eventBusSymbol] = eventBus;\n    /** @type {import('../core/FormFieldRegistry').FormFieldRegistry} */\n    this[formFieldRegistrySymbol] = formFieldRegistry;\n    /** @type {import('../core/FormFieldInstanceRegistry').FormFieldInstanceRegistry} */\n    this[formFieldInstanceRegistrySymbol] = formFieldInstanceRegistry;\n    const removeFileHandler = ({\n      item\n    }) => {\n      const fileReferences = extractFileReferencesFromRemovedData(item);\n\n      // Remove all file references from the registry\n      fileReferences.forEach(fileReference => {\n        this.deleteFiles(fileReference);\n      });\n    };\n    eventBus.on('form.clear', () => this.clear());\n    eventBus.on('conditionChecker.remove', removeFileHandler);\n    eventBus.on('repeatRenderManager.remove', removeFileHandler);\n  }\n\n  /**\n   * @param {string} id\n   * @param {File[]} files\n   */\n  setFiles(id, files) {\n    this[fileRegistry].set(id, files);\n  }\n\n  /**\n   * @param {string} id\n   * @returns {File[]}\n   */\n  getFiles(id) {\n    return this[fileRegistry].get(id) || EMPTY_ARRAY;\n  }\n\n  /**\n   * @returns {string[]}\n   */\n  getKeys() {\n    return Array.from(this[fileRegistry].keys());\n  }\n\n  /**\n   * @param {string} id\n   * @returns {boolean}\n   */\n  hasKey(id) {\n    return this[fileRegistry].has(id);\n  }\n\n  /**\n   * @param {string} id\n   */\n  deleteFiles(id) {\n    this[fileRegistry].delete(id);\n  }\n\n  /**\n   * @returns {Map<string, File[]>}\n   */\n  getAllFiles() {\n    return new Map(this[fileRegistry]);\n  }\n  clear() {\n    this[fileRegistry].clear();\n  }\n}\nFileRegistry.$inject = ['eventBus', 'formFieldRegistry', 'formFieldInstanceRegistry'];\n\nconst RenderModule = {\n  __init__: ['formFields', 'renderer'],\n  formFields: ['type', FormFields],\n  renderer: ['type', Renderer],\n  fileRegistry: ['type', FileRegistry]\n};\n\nconst CoreModule = {\n  __depends__: [RenderModule],\n  eventBus: ['type', EventBus],\n  importer: ['type', Importer],\n  fieldFactory: ['type', FieldFactory],\n  formFieldRegistry: ['type', FormFieldRegistry],\n  formFieldInstanceRegistry: ['type', FormFieldInstanceRegistry],\n  pathRegistry: ['type', PathRegistry],\n  formLayouter: ['type', FormLayouter],\n  validator: ['type', Validator]\n};\n\n/**\n * @typedef { import('./types').Injector } Injector\n * @typedef { import('./types').Data } Data\n * @typedef { import('./types').Errors } Errors\n * @typedef { import('./types').Schema } Schema\n * @typedef { import('./types').FormProperties } FormProperties\n * @typedef { import('./types').FormProperty } FormProperty\n * @typedef { import('./types').FormEvent } FormEvent\n * @typedef { import('./types').FormOptions } FormOptions\n *\n * @typedef { {\n *   data: Data,\n *   initialData: Data,\n *   errors: Errors,\n *   properties: FormProperties,\n *   schema: Schema\n * } } State\n *\n * @typedef { (type:FormEvent, priority:number, handler:Function) => void } OnEventWithPriority\n * @typedef { (type:FormEvent, handler:Function) => void } OnEventWithOutPriority\n * @typedef { OnEventWithPriority & OnEventWithOutPriority } OnEventType\n */\n\nconst ids = new Ids([32, 36, 1]);\n\n/**\n * The form.\n */\nclass Form {\n  /**\n   * @constructor\n   * @param {FormOptions} options\n   */\n  constructor(options = {}) {\n    /**\n     * @public\n     * @type {OnEventType}\n     */\n    this.on = this._onEvent;\n\n    /**\n     * @public\n     * @type {String}\n     */\n    this._id = ids.next();\n\n    /**\n     * @private\n     * @type {Element}\n     */\n    this._container = createFormContainer();\n    const {\n      container,\n      injector = this._createInjector(options, this._container),\n      properties = {}\n    } = options;\n\n    /**\n     * @private\n     * @type {State}\n     */\n    this._state = {\n      initialData: null,\n      data: null,\n      properties,\n      errors: {},\n      schema: null\n    };\n    this.get = injector.get;\n    this.invoke = injector.invoke;\n    this.get('eventBus').fire('form.init');\n    if (container) {\n      this.attachTo(container);\n    }\n  }\n  clear() {\n    // clear diagram services (e.g. EventBus)\n    this._emit('diagram.clear');\n\n    // clear form services\n    this._emit('form.clear');\n  }\n\n  /**\n   * Destroy the form, removing it from DOM,\n   * if attached.\n   */\n  destroy() {\n    // destroy form services\n    this.get('eventBus').fire('form.destroy');\n\n    // destroy diagram services (e.g. EventBus)\n    this.get('eventBus').fire('diagram.destroy');\n    this._detach(false);\n  }\n\n  /**\n   * Open a form schema with the given initial data.\n   *\n   * @param {Schema} schema\n   * @param {Data} [data]\n   *\n   * @return Promise<{ warnings: Array<any> }>\n   */\n  importSchema(schema, data = {}) {\n    return new Promise((resolve, reject) => {\n      try {\n        this.clear();\n        const {\n          schema: importedSchema,\n          warnings\n        } = this.get('importer').importSchema(schema);\n        const initializedData = this._getInitializedFieldData(clone(data));\n        this._setState({\n          data: initializedData,\n          errors: {},\n          schema: importedSchema,\n          initialData: clone(initializedData)\n        });\n        this._emit('import.done', {\n          warnings\n        });\n        return resolve({\n          warnings\n        });\n      } catch (error) {\n        this._emit('import.done', {\n          error,\n          warnings: error.warnings || []\n        });\n        return reject(error);\n      }\n    });\n  }\n\n  /**\n   * Submit the form, triggering all field validations.\n   *\n   * @returns { { data: Data, errors: Errors, files: Map<string, File[]> } }\n   */\n  submit() {\n    const {\n      properties\n    } = this._getState();\n    if (properties.readOnly || properties.disabled) {\n      throw new Error('form is read-only');\n    }\n    this._emit('presubmit');\n    const data = this._getSubmitData();\n    const errors = this.validate();\n    const files = this.get('fileRegistry').getAllFiles();\n    const result = {\n      data,\n      errors,\n      files\n    };\n    this._emit('submit', result);\n    return result;\n  }\n  reset() {\n    this._emit('reset');\n    this._setState({\n      data: clone(this._state.initialData),\n      errors: {}\n    });\n  }\n\n  /**\n   * @returns {Errors}\n   */\n  validate() {\n    const formFieldRegistry = this.get('formFieldRegistry'),\n      formFieldInstanceRegistry = this.get('formFieldInstanceRegistry'),\n      validator = this.get('validator');\n    const {\n      data\n    } = this._getState();\n    const errors = {};\n    const getErrorPath = (id, indexes) => [id, ...Object.values(indexes || {})];\n    formFieldInstanceRegistry.getAllKeyed().forEach(fieldInstance => {\n      const {\n        id,\n        valuePath,\n        indexes\n      } = fieldInstance;\n      const field = formFieldRegistry.get(id);\n\n      // (1) Skip disabled fields\n      if (field.disabled) {\n        return;\n      }\n\n      // (2) Validate the field instance\n      const value = get(data, valuePath);\n      const fieldErrors = validator.validateFieldInstance(fieldInstance, value);\n      if (fieldErrors.length) {\n        set(errors, getErrorPath(field.id, indexes), fieldErrors);\n      }\n    });\n    this._setState({\n      errors\n    });\n\n    // @ts-ignore\n    return errors;\n  }\n\n  /**\n   * @param {Element|string} parentNode\n   */\n  attachTo(parentNode) {\n    if (!parentNode) {\n      throw new Error('parentNode required');\n    }\n    this.detach();\n    if (isString(parentNode)) {\n      parentNode = document.querySelector(parentNode);\n    }\n    const container = this._container;\n    parentNode.appendChild(container);\n    this._emit('attach');\n  }\n  detach() {\n    this._detach();\n  }\n\n  /**\n   * @private\n   *\n   * @param {boolean} [emit]\n   */\n  _detach(emit = true) {\n    const container = this._container,\n      parentNode = container.parentNode;\n    if (!parentNode) {\n      return;\n    }\n    if (emit) {\n      this._emit('detach');\n    }\n    parentNode.removeChild(container);\n  }\n\n  /**\n   * @param {FormProperty} property\n   * @param {any} value\n   */\n  setProperty(property, value) {\n    const properties = set(this._getState().properties, [property], value);\n    this._setState({\n      properties\n    });\n  }\n\n  /**\n   * @param {FormEvent} type\n   * @param {Function} handler\n   */\n  off(type, handler) {\n    this.get('eventBus').off(type, handler);\n  }\n\n  /**\n   * @private\n   *\n   * @param {FormOptions} options\n   * @param {Element} container\n   *\n   * @returns {Injector}\n   */\n  _createInjector(options, container) {\n    const {\n      modules = this._getModules(),\n      additionalModules = [],\n      ...config\n    } = options;\n    const enrichedConfig = {\n      ...config,\n      renderer: {\n        container\n      }\n    };\n    return createInjector([{\n      config: ['value', enrichedConfig]\n    }, {\n      form: ['value', this]\n    }, CoreModule, ...modules, ...additionalModules]);\n  }\n\n  /**\n   * @private\n   */\n  _emit(type, data) {\n    this.get('eventBus').fire(type, data);\n  }\n\n  /**\n   * @internal\n   *\n   * @param { { fieldInstance: any, value: any } } update\n   */\n  _update(update) {\n    const {\n      fieldInstance,\n      value\n    } = update;\n    const {\n      id,\n      valuePath,\n      indexes\n    } = fieldInstance;\n    const {\n      data,\n      errors\n    } = this._getState();\n    const validator = this.get('validator');\n    const fieldErrors = validator.validateFieldInstance(fieldInstance, value);\n    set(data, valuePath, value);\n    set(errors, [id, ...Object.values(indexes || {})], fieldErrors.length ? fieldErrors : undefined);\n    this._emit('field.updated', update);\n    this._setState({\n      data: clone(data),\n      errors: clone(errors)\n    });\n  }\n\n  /**\n   * @internal\n   */\n  _getState() {\n    return this._state;\n  }\n\n  /**\n   * @internal\n   */\n  _setState(state) {\n    this._state = {\n      ...this._state,\n      ...state\n    };\n    this._emit('changed', this._getState());\n  }\n\n  /**\n   * @internal\n   */\n  _getModules() {\n    return [ExpressionLanguageModule, ExpressionFieldModule, MarkdownRendererModule, ViewerCommandsModule, RepeatRenderModule];\n  }\n\n  /**\n   * @internal\n   */\n  _onEvent(type, priority, handler) {\n    this.get('eventBus').on(type, priority, handler);\n  }\n\n  /**\n   * @internal\n   */\n  _getSubmitData() {\n    const formFieldRegistry = this.get('formFieldRegistry');\n    const formFieldInstanceRegistry = this.get('formFieldInstanceRegistry');\n    const formData = this._getState().data;\n    const submitData = {};\n    formFieldInstanceRegistry.getAllKeyed().forEach(formFieldInstance => {\n      const {\n        id,\n        valuePath\n      } = formFieldInstance;\n      const {\n        disabled\n      } = formFieldRegistry.get(id);\n      if (disabled) {\n        return;\n      }\n      const value = get(formData, valuePath);\n      set(submitData, valuePath, value);\n    });\n    return submitData;\n  }\n\n  /**\n   * @internal\n   */\n  _getInitializedFieldData(data, options = {}) {\n    const formFieldRegistry = this.get('formFieldRegistry');\n    const formFields = this.get('formFields');\n    const pathRegistry = this.get('pathRegistry');\n    function initializeFieldDataRecursively(initializedData, formField, indexes) {\n      const {\n        defaultValue,\n        type,\n        isRepeating\n      } = formField;\n      const {\n        config: fieldConfig\n      } = formFields.get(type);\n      const valuePath = pathRegistry.getValuePath(formField, {\n        indexes\n      });\n      let valueData = get(data, valuePath);\n\n      // (1) Process keyed fields\n      if (fieldConfig.keyed) {\n        // (a) Retrieve and sanitize data from input\n        if (!isUndefined(valueData) && fieldConfig.sanitizeValue) {\n          valueData = fieldConfig.sanitizeValue({\n            formField,\n            data,\n            value: valueData\n          });\n        }\n\n        // (b) Initialize field value in output data\n        const initializedFieldValue = !isUndefined(valueData) ? valueData : !isUndefined(defaultValue) ? defaultValue : fieldConfig.emptyValue;\n        set(initializedData, valuePath, initializedFieldValue);\n      }\n\n      // (2) Process parents\n      if (!Array.isArray(formField.components)) {\n        return;\n      }\n      if (fieldConfig.repeatable && isRepeating) {\n        // (a) Sanitize repeatable parents data if it is not an array\n        if (!valueData || !Array.isArray(valueData)) {\n          valueData = new Array(isUndefined(formField.defaultRepetitions) ? 1 : formField.defaultRepetitions).fill().map(_ => ({})) || [];\n        }\n\n        // (b) Ensure all elements of the array are objects\n        valueData = valueData.map(val => isObject(val) ? val : {});\n\n        // (c) Initialize field value in output data\n        set(initializedData, valuePath, valueData);\n\n        // (d) If indexed ahead of time, recurse repeatable simply across the children\n        if (!isUndefined(indexes[formField.id])) {\n          formField.components.forEach(component => initializeFieldDataRecursively(initializedData, component, {\n            ...indexes\n          }));\n          return;\n        }\n\n        // (e1) Recurse repeatable parents both across the indexes of repetition and the children\n        valueData.forEach((_, index) => {\n          formField.components.forEach(component => initializeFieldDataRecursively(initializedData, component, {\n            ...indexes,\n            [formField.id]: index\n          }));\n        });\n        return;\n      }\n\n      // (e2) Recurse non-repeatable parents only across the children\n      formField.components.forEach(component => initializeFieldDataRecursively(initializedData, component, indexes));\n    }\n\n    // allows definition of a specific subfield to generate the data for\n    const container = options.container || formFieldRegistry.getForm();\n    const indexes = options.indexes || {};\n    const basePath = pathRegistry.getValuePath(container, {\n      indexes\n    }) || [];\n\n    // if indexing ahead of time, we must add this index to the data path at the end\n    const path = !isUndefined(indexes[container.id]) ? [...basePath, indexes[container.id]] : basePath;\n    const workingData = clone(data);\n    initializeFieldDataRecursively(workingData, container, indexes);\n    return get(workingData, path, {});\n  }\n}\n\nconst schemaVersion = 19;\n\n/**\n * @typedef { import('./types').CreateFormOptions } CreateFormOptions\n */\n\n/**\n * Create a form.\n *\n * @param {CreateFormOptions} options\n *\n * @return {Promise<Form>}\n */\nfunction createForm(options) {\n  const {\n    data,\n    schema,\n    ...formOptions\n  } = options;\n  const form = new Form(formOptions);\n  return form.importSchema(schema, data).then(function () {\n    return form;\n  });\n}\n\nexport { ALLOW_ATTRIBUTE, Button, Checkbox, Checklist, ConditionChecker, DATETIME_SUBTYPES, DATETIME_SUBTYPES_LABELS, DATETIME_SUBTYPE_PATH, DATE_DISALLOW_PAST_PATH, DATE_LABEL_PATH, Datetime, Default, Description, DocumentPreview, DynamicList, Errors, ExpressionField, ExpressionFieldModule, ExpressionLanguageModule, ExpressionLoopPreventer, FeelExpressionLanguage, FeelersTemplating, FieldFactory, FilePicker, Form, FormComponent, FormContext, FormField, FormFieldRegistry, FormFields, FormLayouter, FormRenderContext, Group, Html, IFrame, Image, Importer, Label, LocalExpressionContext, MINUTES_IN_DAY, MarkdownRenderer, MarkdownRendererModule, Numberfield, OPTIONS_SOURCES, OPTIONS_SOURCES_DEFAULTS, OPTIONS_SOURCES_LABELS, OPTIONS_SOURCES_PATHS, OPTIONS_SOURCE_DEFAULT, PathRegistry, Radio, RenderModule, RepeatRenderManager, RepeatRenderModule, SANDBOX_ATTRIBUTE, SECURITY_ATTRIBUTES_DEFINITIONS, Select, Separator, Spacer, TEXT_VIEW_DEFAULT_TEXT, TIME_INTERVAL_PATH, TIME_LABEL_PATH, TIME_SERIALISINGFORMAT_LABELS, TIME_SERIALISING_FORMATS, TIME_SERIALISING_FORMAT_PATH, TIME_USE24H_PATH, Table, Taglist, Text, Textarea, Textfield, ViewerCommands, ViewerCommandsModule, buildExpressionContext, clone, createForm, createFormContainer, createInjector, escapeHTML, formFields, generateIdForType, generateIndexForType, getAncestryList, getOptionsSource, getSchemaVariables, getScrollContainer, hasEqualValue, iconsByType, isRequired, pathParse, pathsEqual, runExpressionEvaluation, runRecursively, sanitizeDateTimePickerValue, sanitizeHTML, sanitizeIFrameSource, sanitizeImageSource, sanitizeMultiSelectValue, sanitizeSingleSelectValue, schemaVersion, useExpressionEvaluation, useSingleLineTemplateEvaluation, useTemplateEvaluation, wrapCSSStyles, wrapObjectKeysWithUnderscores };\n//# sourceMappingURL=index.es.js.map\n","function getDefaultExportFromCjs (x) {\n\treturn x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;\n}\n\nvar hat$1 = {exports: {}};\n\nvar hasRequiredHat;\n\nfunction requireHat () {\n\tif (hasRequiredHat) return hat$1.exports;\n\thasRequiredHat = 1;\n\tvar hat = hat$1.exports = function (bits, base) {\n\t    if (!base) base = 16;\n\t    if (bits === undefined) bits = 128;\n\t    if (bits <= 0) return '0';\n\t    \n\t    var digits = Math.log(Math.pow(2, bits)) / Math.log(base);\n\t    for (var i = 2; digits === Infinity; i *= 2) {\n\t        digits = Math.log(Math.pow(2, bits / i)) / Math.log(base) * i;\n\t    }\n\t    \n\t    var rem = digits - Math.floor(digits);\n\t    \n\t    var res = '';\n\t    \n\t    for (var i = 0; i < Math.floor(digits); i++) {\n\t        var x = Math.floor(Math.random() * base).toString(base);\n\t        res = x + res;\n\t    }\n\t    \n\t    if (rem) {\n\t        var b = Math.pow(base, rem);\n\t        var x = Math.floor(Math.random() * b).toString(base);\n\t        res = x + res;\n\t    }\n\t    \n\t    var parsed = parseInt(res, base);\n\t    if (parsed !== Infinity && parsed >= Math.pow(2, bits)) {\n\t        return hat(bits, base)\n\t    }\n\t    else return res;\n\t};\n\n\that.rack = function (bits, base, expandBy) {\n\t    var fn = function (data) {\n\t        var iters = 0;\n\t        do {\n\t            if (iters ++ > 10) {\n\t                if (expandBy) bits += expandBy;\n\t                else throw new Error('too many ID collisions, use more bits')\n\t            }\n\t            \n\t            var id = hat(bits, base);\n\t        } while (Object.hasOwnProperty.call(hats, id));\n\t        \n\t        hats[id] = data;\n\t        return id;\n\t    };\n\t    var hats = fn.hats = {};\n\t    \n\t    fn.get = function (id) {\n\t        return fn.hats[id];\n\t    };\n\t    \n\t    fn.set = function (id, value) {\n\t        fn.hats[id] = value;\n\t        return fn;\n\t    };\n\t    \n\t    fn.bits = bits || 128;\n\t    fn.base = base || 16;\n\t    return fn;\n\t};\n\treturn hat$1.exports;\n}\n\nvar hatExports = requireHat();\nvar hat = /*@__PURE__*/getDefaultExportFromCjs(hatExports);\n\n/**\n * @typedef { [ number, number ] | [ number, number, number ] } Seed\n */\n\n/**\n * Create a new id generator / cache instance.\n *\n * You may optionally provide a seed that is used internally.\n *\n * @param {Seed} [seed]\n */\nfunction Ids(seed) {\n\n  if (!(this instanceof Ids)) {\n    return new Ids(seed);\n  }\n\n  seed = seed || [ 128, 36, 1 ];\n  this._seed = seed.length ? hat.rack(seed[0], seed[1], seed[2]) : seed;\n}\n\n/**\n * Generate a next id.\n *\n * @param {Object} [element] element to bind the id to\n *\n * @return {String} id\n */\nIds.prototype.next = function(element) {\n  return this._seed(element || true);\n};\n\n/**\n * Generate a next id with a given prefix.\n *\n * @param {Object} [element] element to bind the id to\n *\n * @return {String} id\n */\nIds.prototype.nextPrefixed = function(prefix, element) {\n  var id;\n\n  do {\n    id = prefix + this.next(true);\n  } while (this.assigned(id));\n\n  // claim {prefix}{random}\n  this.claim(id, element);\n\n  // return\n  return id;\n};\n\n/**\n * Manually claim an existing id.\n *\n * @param {String} id\n * @param {String} [element] element the id is claimed by\n */\nIds.prototype.claim = function(id, element) {\n  this._seed.set(id, element || true);\n};\n\n/**\n * Returns true if the given id has already been assigned.\n *\n * @param  {String} id\n * @return {Boolean}\n */\nIds.prototype.assigned = function(id) {\n  return this._seed.get(id) || false;\n};\n\n/**\n * Unclaim an id.\n *\n * @param  {String} id the id to unclaim\n */\nIds.prototype.unclaim = function(id) {\n  delete this._seed.hats[id];\n};\n\n\n/**\n * Clear all claimed ids.\n */\nIds.prototype.clear = function() {\n\n  var hats = this._seed.hats,\n      id;\n\n  for (id in hats) {\n    this.unclaim(id);\n  }\n};\n\nexport { Ids };\n","function _e(t) {\n  return t && t.__esModule && Object.prototype.hasOwnProperty.call(t, \"default\") ? t.default : t;\n}\nvar Ne = function(n, o) {\n  return Array.prototype.slice.call(n, o);\n}, Be = typeof setImmediate == \"function\", z;\nBe ? z = function(t) {\n  setImmediate(t);\n} : z = function(t) {\n  setTimeout(t, 0);\n};\nvar Me = z, Xe = Me, Ie = function(n, o, l) {\n  n && Xe(function() {\n    n.apply(l || null, o || []);\n  });\n}, ee = Ne, Te = Ie, Ye = function(n, o) {\n  var l = o || {}, c = {};\n  return n === void 0 && (n = {}), n.on = function(d, h) {\n    return c[d] ? c[d].push(h) : c[d] = [h], n;\n  }, n.once = function(d, h) {\n    return h._once = !0, n.on(d, h), n;\n  }, n.off = function(d, h) {\n    var S = arguments.length;\n    if (S === 1)\n      delete c[d];\n    else if (S === 0)\n      c = {};\n    else {\n      var C = c[d];\n      if (!C)\n        return n;\n      C.splice(C.indexOf(h), 1);\n    }\n    return n;\n  }, n.emit = function() {\n    var d = ee(arguments);\n    return n.emitterSnapshot(d.shift()).apply(this, d);\n  }, n.emitterSnapshot = function(d) {\n    var h = (c[d] || []).slice(0);\n    return function() {\n      var S = ee(arguments), C = this || n;\n      if (d === \"error\" && l.throws !== !1 && !h.length)\n        throw S.length === 1 ? S[0] : S;\n      return h.forEach(function(E) {\n        l.async ? Te(E, S, C) : E.apply(C, S), E._once && n.off(d, E);\n      }), n;\n    };\n  }, n;\n};\nconst Le = /* @__PURE__ */ _e(Ye), te = {}, xe = \"(?:^|\\\\s)\", Re = \"(?:\\\\s|$)\";\nfunction le(t) {\n  let n = te[t];\n  return n ? n.lastIndex = 0 : te[t] = n = new RegExp(xe + t + Re, \"g\"), n;\n}\nfunction Y(t, n) {\n  const o = t.className;\n  o.length ? le(n).test(o) || (t.className += \" \" + n) : t.className = n;\n}\nfunction L(t, n) {\n  t.className = t.className.replace(le(n), \" \").trim();\n}\nconst ke = (t, n) => ({\n  containers: n,\n  moves: () => !0,\n  accepts: () => !0,\n  invalid: () => !1,\n  isContainer: () => !1,\n  transformOffset: (o) => o,\n  copy: !1,\n  copySortSource: !1,\n  revertOnSpill: !1,\n  removeOnSpill: !1,\n  direction: \"vertical\",\n  ignoreInputTextSelection: !0,\n  mirrorContainer: document.body,\n  ...t\n});\nfunction ne(t) {\n  if (t.touches !== void 0)\n    return t.touches.length;\n  if (t.which !== void 0 && t.which !== 0)\n    return t.which;\n  if (t.buttons !== void 0)\n    return t.buttons;\n  const n = t.button;\n  if (n !== void 0)\n    return n & 1 ? 1 : n & 2 ? 3 : n & 4 ? 2 : 0;\n}\nconst Ae = (t) => {\n  const n = t.getBoundingClientRect();\n  return {\n    left: n.left + re(\"scrollLeft\", \"pageXOffset\"),\n    top: n.top + re(\"scrollTop\", \"pageYOffset\")\n  };\n}, re = (t, n) => typeof global[n] < \"u\" ? global[n] : document.documentElement.clientHeight ? document.documentElement[t] : document.body[t], ie = (t = {}, n, o) => {\n  const l = t.className || \"\";\n  t.className += \" gu-hide\";\n  const c = document.elementFromPoint(n, o);\n  return t.className = l, c;\n}, oe = (t) => t.width || t.right - t.left, ce = (t) => t.height || t.bottom - t.top, v = (t) => t.parentNode === document ? null : t.parentNode, ue = (t) => [\"INPUT\", \"TEXTAREA\", \"SELECT\"].includes(t == null ? void 0 : t.tagName) || se(t), se = (t) => !t || t.contentEditable === \"false\" ? !1 : t.contentEditable === \"true\" ? !0 : se(v(t)), T = (t) => {\n  const n = () => {\n    let o = t;\n    do\n      o = o.nextSibling;\n    while (o && o.nodeType !== 1);\n    return o;\n  };\n  return t.nextElementSibling || n();\n};\nwindow.global || (window.global = window);\nconst fe = document, M = fe.documentElement;\nfunction De(t = [], n = {}) {\n  Array.isArray(t) || (n = t, t = []);\n  let o, l, c, d, h, S, C, X, E, a, x, N, I;\n  const s = ke(n, t), f = Le({\n    containers: s.containers,\n    start: ve,\n    end: G,\n    cancel: q,\n    remove: W,\n    destroy: ae,\n    canMove: ge,\n    dragging: !1\n  });\n  return s.removeOnSpill && f.on(\"over\", he).on(\"out\", be), j(), f;\n  function R(e) {\n    return f.containers.indexOf(e) !== -1 || s.isContainer(e);\n  }\n  function j(e) {\n    const r = e ? \"removeEventListener\" : \"addEventListener\";\n    M[r](\"pointerdown\", me, !0), M[r](\"pointerup\", D, !0);\n  }\n  function k(e) {\n    M[e ? \"removeEventListener\" : \"addEventListener\"](\"pointermove\", pe, !0);\n  }\n  function H(e) {\n    M[e ? \"removeEventListener\" : \"addEventListener\"](\"click\", de, !0);\n  }\n  function ae() {\n    j(!0), D({});\n  }\n  function de(e) {\n    I && e.preventDefault();\n  }\n  function me(e) {\n    if (S = e.clientX, C = e.clientY, ne(e) !== 1 || e.metaKey || e.ctrlKey)\n      return;\n    const i = e.target, u = A(i);\n    u && (I = u, k(), e.type === \"pointerdown\" && (ue(i) ? i.focus() : e.preventDefault()));\n  }\n  function pe(e) {\n    if (!I)\n      return;\n    if (ne(e) === 0) {\n      D({});\n      return;\n    }\n    if (e.clientX !== void 0 && Math.abs(e.clientX - S) <= (s.slideFactorX || 0) && e.clientY !== void 0 && Math.abs(e.clientY - C) <= (s.slideFactorY || 0))\n      return;\n    if (s.ignoreInputTextSelection) {\n      const {\n        clientX: O = 0,\n        clientY: m = 0\n      } = e, w = fe.elementFromPoint(O, m);\n      if (ue(w))\n        return;\n    }\n    const r = I;\n    k(!0), H(), G(), K(r);\n    const i = Ae(c), u = s.transformOffset(i, e, c), {\n      pageX: g = 0,\n      pageY: p = 0\n    } = e;\n    d = g - u.left, h = p - u.top, Y(a || c, \"gu-transit\"), ye(), $(e);\n  }\n  function A(e) {\n    if (f.dragging && o || R(e))\n      return;\n    const r = e;\n    for (; v(e) && R(v(e)) === !1; )\n      if (s.invalid(e, r) || (e = v(e), !e))\n        return;\n    const i = v(e);\n    if (!(!i || s.invalid(e, r) || !s.moves(e, i, r, T(e))))\n      return {\n        item: e,\n        source: i\n      };\n  }\n  function ge(e) {\n    return !!A(e);\n  }\n  function ve(e) {\n    const r = A(e);\n    r && K(r);\n  }\n  function K(e) {\n    Ee(e.item, e.source) && (a = e.item.cloneNode(!0), f.emit(\"cloned\", a, e.item, \"copy\")), l = e.source, c = e.item, X = E = T(e.item), f.dragging = !0, f.emit(\"drag\", c, l);\n  }\n  function G() {\n    if (!f.dragging)\n      return;\n    const e = a || c;\n    V(e, v(e));\n  }\n  function U() {\n    I = !1, k(!0), H(!0);\n  }\n  function D(e) {\n    if (U(), !f.dragging)\n      return;\n    const r = a || c, {\n      clientX: i = 0,\n      clientY: u = 0\n    } = e, g = ie(o, i, u), p = J(g, i, u);\n    p && (a && s.copySortSource || !a || p !== l) ? V(r, p) : s.removeOnSpill ? W() : q();\n  }\n  function V(e, r) {\n    const i = v(e);\n    a && s.copySortSource && r === l && i.removeChild(c), P(r) ? f.emit(\"cancel\", e, l, l) : f.emit(\"drop\", e, r, l, E), F();\n  }\n  function W() {\n    if (!f.dragging)\n      return;\n    const e = a || c, r = v(e);\n    r && r.removeChild(e), f.emit(a ? \"cancel\" : \"remove\", e, r, l), F();\n  }\n  function q(e) {\n    if (!f.dragging)\n      return;\n    const r = arguments.length > 0 ? e : s.revertOnSpill, i = a || c, u = v(i), g = P(u);\n    g === !1 && r && (a ? u && u.removeChild(a) : l.insertBefore(i, X)), g || r ? f.emit(\"cancel\", i, l, l) : f.emit(\"drop\", i, u, l, E), F();\n  }\n  function F() {\n    const e = a || c;\n    U(), Se(), e && L(e, \"gu-transit\"), x && clearTimeout(x), f.dragging = !1, N && f.emit(\"out\", e, N, l), f.emit(\"dragend\", e), l = c = a = X = E = x = N = null;\n  }\n  function P(e, r) {\n    let i;\n    return r !== void 0 ? i = r : o ? i = E : i = T(a || c), e === l && i === X;\n  }\n  function J(e, r, i) {\n    let u = e;\n    for (; u && !g(); )\n      u = v(u);\n    return u;\n    function g() {\n      if (R(u) === !1)\n        return !1;\n      const O = Q(u, e), m = Z(u, O, r, i);\n      return P(u, m) ? !0 : s.accepts(c, u, l, m);\n    }\n  }\n  function $(e) {\n    if (!o)\n      return;\n    e.preventDefault();\n    const {\n      clientX: r = 0,\n      clientY: i = 0\n    } = e, u = r - d, g = i - h;\n    o.style.left = u + \"px\", o.style.top = g + \"px\";\n    const p = a || c, O = ie(o, r, i);\n    let m = J(O, r, i);\n    const w = m !== null && m !== N;\n    (w || m === null) && (we(), N = m, Ce());\n    const b = v(p);\n    if (m === l && a && !s.copySortSource) {\n      b && b.removeChild(p);\n      return;\n    }\n    let y;\n    const B = Q(m, O);\n    if (B !== null)\n      y = Z(m, B, r, i);\n    else if (s.revertOnSpill === !0 && !a)\n      y = X, m = l;\n    else {\n      a && b && b.removeChild(p);\n      return;\n    }\n    (y === null && w || y !== p && y !== T(p)) && (E = y, m.insertBefore(p, y), f.emit(\"shadow\", p, m, l));\n    function _(Oe) {\n      f.emit(Oe, p, N, l);\n    }\n    function Ce() {\n      w && _(\"over\");\n    }\n    function we() {\n      N && _(\"out\");\n    }\n  }\n  function he(e) {\n    L(e, \"gu-hide\");\n  }\n  function be(e) {\n    f.dragging && Y(e, \"gu-hide\");\n  }\n  function ye() {\n    if (o)\n      return;\n    const e = c.getBoundingClientRect();\n    o = c.cloneNode(!0), o.style.width = oe(e) + \"px\", o.style.height = ce(e) + \"px\", L(o, \"gu-transit\"), Y(o, \"gu-mirror\"), s.mirrorContainer.appendChild(o), M.addEventListener(\"pointermove\", $), Y(s.mirrorContainer, \"gu-unselectable\"), f.emit(\"cloned\", o, c, \"mirror\");\n  }\n  function Se() {\n    o && (L(s.mirrorContainer, \"gu-unselectable\"), M.removeEventListener(\"pointermove\", $), v(o).removeChild(o), o = null);\n  }\n  function Q(e, r) {\n    let i = r;\n    for (; i !== e && v(i) !== e; )\n      i = v(i);\n    return i === M ? null : i;\n  }\n  function Z(e, r, i, u) {\n    const g = (typeof s.direction == \"function\" ? s.direction(c, e, l) : s.direction) === \"horizontal\";\n    return r !== e ? m() : O();\n    function O() {\n      const b = e.children.length;\n      let y, B, _;\n      for (y = 0; y < b; y++)\n        if (B = e.children[y], _ = B.getBoundingClientRect(), g && _.left + _.width / 2 > i || !g && _.top + _.height / 2 > u)\n          return B;\n      return null;\n    }\n    function m() {\n      const b = r.getBoundingClientRect();\n      return w(g ? i > b.left + oe(b) / 2 : u > b.top + ce(b) / 2);\n    }\n    function w(b) {\n      return b ? T(r) : r;\n    }\n  }\n  function Ee(e, r) {\n    return typeof s.copy == \"boolean\" ? s.copy : s.copy(e, r);\n  }\n}\nexport {\n  De as default\n};\n","import { Ids } from 'ids';\nimport { FormFieldRegistry as FormFieldRegistry$1, iconsByType, Label as Label$3, IFrame, Text as Text$1, Html, Table, ExpressionField, DocumentPreview, FormFields, sanitizeImageSource, getAncestryList, FormContext, FormRenderContext, FormComponent, getScrollContainer, FieldFactory, FormLayouter, PathRegistry, Importer, FeelExpressionLanguage, OPTIONS_SOURCES, OPTIONS_SOURCES_PATHS, clone, runRecursively, getSchemaVariables, DATETIME_SUBTYPES, DATE_LABEL_PATH, TIME_LABEL_PATH, TEXT_VIEW_DEFAULT_TEXT, TIME_USE24H_PATH, DATETIME_SUBTYPE_PATH, DATETIME_SUBTYPES_LABELS, TIME_INTERVAL_PATH, TIME_SERIALISING_FORMAT_PATH, DATE_DISALLOW_PAST_PATH, TIME_SERIALISING_FORMATS, TIME_SERIALISINGFORMAT_LABELS, getOptionsSource, OPTIONS_SOURCES_DEFAULTS, OPTIONS_SOURCES_LABELS, SECURITY_ATTRIBUTES_DEFINITIONS, createFormContainer, createInjector, MarkdownRendererModule, schemaVersion } from '@bpmn-io/form-js-viewer';\nexport { schemaVersion } from '@bpmn-io/form-js-viewer';\nimport { isArray, isFunction, isNumber, bind, assign, debounce, forEach, isString, uniqueBy, isObject, get, isDefined, set as set$1, reduce, isNil, without, has } from 'min-dash';\nimport classnames from 'classnames';\nimport { jsxs, jsx, Fragment as Fragment$1 } from 'preact/jsx-runtime';\nimport { useContext, useRef, useEffect, useMemo, useState, useCallback, useLayoutEffect } from 'preact/hooks';\nimport { createContext, Fragment, render, createElement as createElement$1 } from 'preact';\nimport * as React from 'preact/compat';\nimport { createPortal, useRef as useRef$1, useContext as useContext$1, useEffect as useEffect$1, forwardRef } from 'preact/compat';\nimport dragula from '@bpmn-io/draggle';\nimport { classes, query, event, domify } from 'min-dom';\nimport { arrayMoveMutable } from 'array-move';\nimport { FeelersEditor } from 'feelers';\nimport Editor from '@bpmn-io/feel-editor';\nimport { EditorView, lineNumbers } from '@codemirror/view';\nimport * as focusTrap from 'focus-trap';\nimport Big from 'big.js';\n\nvar FN_REF = '__fn';\nvar DEFAULT_PRIORITY$3 = 1000;\nvar slice = Array.prototype.slice;\n\n/**\n * @typedef { {\n *   stopPropagation(): void;\n *   preventDefault(): void;\n *   cancelBubble: boolean;\n *   defaultPrevented: boolean;\n *   returnValue: any;\n * } } Event\n */\n\n/**\n * @template E\n *\n * @typedef { (event: E & Event, ...any) => any } EventBusEventCallback\n */\n\n/**\n * @typedef { {\n *  priority: number;\n *  next: EventBusListener | null;\n *  callback: EventBusEventCallback<any>;\n * } } EventBusListener\n */\n\n/**\n * A general purpose event bus.\n *\n * This component is used to communicate across a diagram instance.\n * Other parts of a diagram can use it to listen to and broadcast events.\n *\n *\n * ## Registering for Events\n *\n * The event bus provides the {@link EventBus#on} and {@link EventBus#once}\n * methods to register for events. {@link EventBus#off} can be used to\n * remove event registrations. Listeners receive an instance of {@link Event}\n * as the first argument. It allows them to hook into the event execution.\n *\n * ```javascript\n *\n * // listen for event\n * eventBus.on('foo', function(event) {\n *\n *   // access event type\n *   event.type; // 'foo'\n *\n *   // stop propagation to other listeners\n *   event.stopPropagation();\n *\n *   // prevent event default\n *   event.preventDefault();\n * });\n *\n * // listen for event with custom payload\n * eventBus.on('bar', function(event, payload) {\n *   console.log(payload);\n * });\n *\n * // listen for event returning value\n * eventBus.on('foobar', function(event) {\n *\n *   // stop event propagation + prevent default\n *   return false;\n *\n *   // stop event propagation + return custom result\n *   return {\n *     complex: 'listening result'\n *   };\n * });\n *\n *\n * // listen with custom priority (default=1000, higher is better)\n * eventBus.on('priorityfoo', 1500, function(event) {\n *   console.log('invoked first!');\n * });\n *\n *\n * // listen for event and pass the context (`this`)\n * eventBus.on('foobar', function(event) {\n *   this.foo();\n * }, this);\n * ```\n *\n *\n * ## Emitting Events\n *\n * Events can be emitted via the event bus using {@link EventBus#fire}.\n *\n * ```javascript\n *\n * // false indicates that the default action\n * // was prevented by listeners\n * if (eventBus.fire('foo') === false) {\n *   console.log('default has been prevented!');\n * };\n *\n *\n * // custom args + return value listener\n * eventBus.on('sum', function(event, a, b) {\n *   return a + b;\n * });\n *\n * // you can pass custom arguments + retrieve result values.\n * var sum = eventBus.fire('sum', 1, 2);\n * console.log(sum); // 3\n * ```\n *\n * @template [EventMap=null]\n */\nfunction EventBus() {\n  /**\n   * @type { Record<string, EventBusListener> }\n   */\n  this._listeners = {};\n\n  // cleanup on destroy on lowest priority to allow\n  // message passing until the bitter end\n  this.on('diagram.destroy', 1, this._destroy, this);\n}\n\n/**\n * @overlord\n *\n * Register an event listener for events with the given name.\n *\n * The callback will be invoked with `event, ...additionalArguments`\n * that have been passed to {@link EventBus#fire}.\n *\n * Returning false from a listener will prevent the events default action\n * (if any is specified). To stop an event from being processed further in\n * other listeners execute {@link Event#stopPropagation}.\n *\n * Returning anything but `undefined` from a listener will stop the listener propagation.\n *\n * @template T\n *\n * @param {string|string[]} events to subscribe to\n * @param {number} [priority=1000] listen priority\n * @param {EventBusEventCallback<T>} callback\n * @param {any} [that] callback context\n */\n/**\n * Register an event listener for events with the given name.\n *\n * The callback will be invoked with `event, ...additionalArguments`\n * that have been passed to {@link EventBus#fire}.\n *\n * Returning false from a listener will prevent the events default action\n * (if any is specified). To stop an event from being processed further in\n * other listeners execute {@link Event#stopPropagation}.\n *\n * Returning anything but `undefined` from a listener will stop the listener propagation.\n *\n * @template {keyof EventMap} EventName\n *\n * @param {EventName} events to subscribe to\n * @param {number} [priority=1000] listen priority\n * @param {EventBusEventCallback<EventMap[EventName]>} callback\n * @param {any} [that] callback context\n */\nEventBus.prototype.on = function (events, priority, callback, that) {\n  events = isArray(events) ? events : [events];\n  if (isFunction(priority)) {\n    that = callback;\n    callback = priority;\n    priority = DEFAULT_PRIORITY$3;\n  }\n  if (!isNumber(priority)) {\n    throw new Error('priority must be a number');\n  }\n  var actualCallback = callback;\n  if (that) {\n    actualCallback = bind(callback, that);\n\n    // make sure we remember and are able to remove\n    // bound callbacks via {@link #off} using the original\n    // callback\n    actualCallback[FN_REF] = callback[FN_REF] || callback;\n  }\n  var self = this;\n  events.forEach(function (e) {\n    self._addListener(e, {\n      priority: priority,\n      callback: actualCallback,\n      next: null\n    });\n  });\n};\n\n/**\n * @overlord\n *\n * Register an event listener that is called only once.\n *\n * @template T\n *\n * @param {string|string[]} events to subscribe to\n * @param {number} [priority=1000] the listen priority\n * @param {EventBusEventCallback<T>} callback\n * @param {any} [that] callback context\n */\n/**\n * Register an event listener that is called only once.\n *\n * @template {keyof EventMap} EventName\n *\n * @param {EventName} events to subscribe to\n * @param {number} [priority=1000] listen priority\n * @param {EventBusEventCallback<EventMap[EventName]>} callback\n * @param {any} [that] callback context\n */\nEventBus.prototype.once = function (events, priority, callback, that) {\n  var self = this;\n  if (isFunction(priority)) {\n    that = callback;\n    callback = priority;\n    priority = DEFAULT_PRIORITY$3;\n  }\n  if (!isNumber(priority)) {\n    throw new Error('priority must be a number');\n  }\n  function wrappedCallback() {\n    wrappedCallback.__isTomb = true;\n    var result = callback.apply(that, arguments);\n    self.off(events, wrappedCallback);\n    return result;\n  }\n\n  // make sure we remember and are able to remove\n  // bound callbacks via {@link #off} using the original\n  // callback\n  wrappedCallback[FN_REF] = callback;\n  this.on(events, priority, wrappedCallback);\n};\n\n/**\n * Removes event listeners by event and callback.\n *\n * If no callback is given, all listeners for a given event name are being removed.\n *\n * @param {string|string[]} events\n * @param {EventBusEventCallback<unknown>} [callback]\n */\nEventBus.prototype.off = function (events, callback) {\n  events = isArray(events) ? events : [events];\n  var self = this;\n  events.forEach(function (event) {\n    self._removeListener(event, callback);\n  });\n};\n\n/**\n * Create an event recognized be the event bus.\n *\n * @param {Object} data Event data.\n *\n * @return {Event} An event that will be recognized by the event bus.\n */\nEventBus.prototype.createEvent = function (data) {\n  var event = new InternalEvent();\n  event.init(data);\n  return event;\n};\n\n/**\n * Fires an event.\n *\n * @example\n *\n * ```javascript\n * // fire event by name\n * events.fire('foo');\n *\n * // fire event object with nested type\n * var event = { type: 'foo' };\n * events.fire(event);\n *\n * // fire event with explicit type\n * var event = { x: 10, y: 20 };\n * events.fire('element.moved', event);\n *\n * // pass additional arguments to the event\n * events.on('foo', function(event, bar) {\n *   alert(bar);\n * });\n *\n * events.fire({ type: 'foo' }, 'I am bar!');\n * ```\n *\n * @param {string} [type] event type\n * @param {Object} [data] event or event data\n * @param {...any} [args] additional arguments the callback will be called with.\n *\n * @return {any} The return value. Will be set to `false` if the default was prevented.\n */\nEventBus.prototype.fire = function (type, data) {\n  var event, firstListener, returnValue, args;\n  args = slice.call(arguments);\n  if (typeof type === 'object') {\n    data = type;\n    type = data.type;\n  }\n  if (!type) {\n    throw new Error('no event type specified');\n  }\n  firstListener = this._listeners[type];\n  if (!firstListener) {\n    return;\n  }\n\n  // we make sure we fire instances of our home made\n  // events here. We wrap them only once, though\n  if (data instanceof InternalEvent) {\n    // we are fine, we alread have an event\n    event = data;\n  } else {\n    event = this.createEvent(data);\n  }\n\n  // ensure we pass the event as the first parameter\n  args[0] = event;\n\n  // original event type (in case we delegate)\n  var originalType = event.type;\n\n  // update event type before delegation\n  if (type !== originalType) {\n    event.type = type;\n  }\n  try {\n    returnValue = this._invokeListeners(event, args, firstListener);\n  } finally {\n    // reset event type after delegation\n    if (type !== originalType) {\n      event.type = originalType;\n    }\n  }\n\n  // set the return value to false if the event default\n  // got prevented and no other return value exists\n  if (returnValue === undefined && event.defaultPrevented) {\n    returnValue = false;\n  }\n  return returnValue;\n};\n\n/**\n * Handle an error by firing an event.\n *\n * @param {Error} error The error to be handled.\n *\n * @return {boolean} Whether the error was handled.\n */\nEventBus.prototype.handleError = function (error) {\n  return this.fire('error', {\n    error: error\n  }) === false;\n};\nEventBus.prototype._destroy = function () {\n  this._listeners = {};\n};\n\n/**\n * @param {Event} event\n * @param {any[]} args\n * @param {EventBusListener} listener\n *\n * @return {any}\n */\nEventBus.prototype._invokeListeners = function (event, args, listener) {\n  var returnValue;\n  while (listener) {\n    // handle stopped propagation\n    if (event.cancelBubble) {\n      break;\n    }\n    returnValue = this._invokeListener(event, args, listener);\n    listener = listener.next;\n  }\n  return returnValue;\n};\n\n/**\n * @param {Event} event\n * @param {any[]} args\n * @param {EventBusListener} listener\n *\n * @return {any}\n */\nEventBus.prototype._invokeListener = function (event, args, listener) {\n  var returnValue;\n  if (listener.callback.__isTomb) {\n    return returnValue;\n  }\n  try {\n    // returning false prevents the default action\n    returnValue = invokeFunction(listener.callback, args);\n\n    // stop propagation on return value\n    if (returnValue !== undefined) {\n      event.returnValue = returnValue;\n      event.stopPropagation();\n    }\n\n    // prevent default on return false\n    if (returnValue === false) {\n      event.preventDefault();\n    }\n  } catch (error) {\n    if (!this.handleError(error)) {\n      console.error('unhandled error in event listener', error);\n      throw error;\n    }\n  }\n  return returnValue;\n};\n\n/**\n * Add new listener with a certain priority to the list\n * of listeners (for the given event).\n *\n * The semantics of listener registration / listener execution are\n * first register, first serve: New listeners will always be inserted\n * after existing listeners with the same priority.\n *\n * Example: Inserting two listeners with priority 1000 and 1300\n *\n *    * before: [ 1500, 1500, 1000, 1000 ]\n *    * after: [ 1500, 1500, (new=1300), 1000, 1000, (new=1000) ]\n *\n * @param {string} event\n * @param {EventBusListener} newListener\n */\nEventBus.prototype._addListener = function (event, newListener) {\n  var listener = this._getListeners(event),\n    previousListener;\n\n  // no prior listeners\n  if (!listener) {\n    this._setListeners(event, newListener);\n    return;\n  }\n\n  // ensure we order listeners by priority from\n  // 0 (high) to n > 0 (low)\n  while (listener) {\n    if (listener.priority < newListener.priority) {\n      newListener.next = listener;\n      if (previousListener) {\n        previousListener.next = newListener;\n      } else {\n        this._setListeners(event, newListener);\n      }\n      return;\n    }\n    previousListener = listener;\n    listener = listener.next;\n  }\n\n  // add new listener to back\n  previousListener.next = newListener;\n};\n\n/**\n * @param {string} name\n *\n * @return {EventBusListener}\n */\nEventBus.prototype._getListeners = function (name) {\n  return this._listeners[name];\n};\n\n/**\n * @param {string} name\n * @param {EventBusListener} listener\n */\nEventBus.prototype._setListeners = function (name, listener) {\n  this._listeners[name] = listener;\n};\nEventBus.prototype._removeListener = function (event, callback) {\n  var listener = this._getListeners(event),\n    nextListener,\n    previousListener,\n    listenerCallback;\n  if (!callback) {\n    // clear listeners\n    this._setListeners(event, null);\n    return;\n  }\n  while (listener) {\n    nextListener = listener.next;\n    listenerCallback = listener.callback;\n    if (listenerCallback === callback || listenerCallback[FN_REF] === callback) {\n      if (previousListener) {\n        previousListener.next = nextListener;\n      } else {\n        // new first listener\n        this._setListeners(event, nextListener);\n      }\n    }\n    previousListener = listener;\n    listener = nextListener;\n  }\n};\n\n/**\n * A event that is emitted via the event bus.\n */\nfunction InternalEvent() {}\nInternalEvent.prototype.stopPropagation = function () {\n  this.cancelBubble = true;\n};\nInternalEvent.prototype.preventDefault = function () {\n  this.defaultPrevented = true;\n};\nInternalEvent.prototype.init = function (data) {\n  assign(this, data || {});\n};\n\n/**\n * Invoke function. Be fast...\n *\n * @param {Function} fn\n * @param {any[]} args\n *\n * @return {any}\n */\nfunction invokeFunction(fn, args) {\n  return fn.apply(null, args);\n}\n\n/**\n * A factory to create a configurable debouncer.\n *\n * @param {number|boolean} [config=true]\n */\nfunction DebounceFactory(config = true) {\n  const timeout = typeof config === 'number' ? config : config ? 300 : 0;\n  if (timeout) {\n    return fn => debounce(fn, timeout);\n  } else {\n    return fn => fn;\n  }\n}\nDebounceFactory.$inject = ['config.debounce'];\n\nclass FormFieldRegistry extends FormFieldRegistry$1 {\n  /**\n   * Updates a form fields id.\n   *\n   * @param {Object} formField\n   * @param {string} newId\n   */\n  updateId(formField, newId) {\n    this._validateId(newId);\n    this._eventBus.fire('formField.updateId', {\n      formField,\n      newId: newId\n    });\n    this.remove(formField);\n    formField.id = newId;\n    this.add(formField);\n\n    // TODO(nikku): make this a proper object graph so we\n    // do not have to deal with IDs this way...\n    if ('components' in formField) {\n      for (const component of formField.components) {\n        component._parent = newId;\n      }\n    }\n  }\n\n  /**\n   * Validate the suitability of the given id and signals a problem\n   * with an exception.\n   *\n   * @param {string} id\n   *\n   * @throws {Error} if id is empty or already assigned\n   */\n  _validateId(id) {\n    if (!id) {\n      throw new Error('formField must have an id');\n    }\n    if (this.get(id)) {\n      throw new Error('formField with id ' + id + ' already added');\n    }\n  }\n}\n\nconst MAX_COLUMNS_PER_ROW = 16;\nconst MAX_COLUMNS = 16;\nconst MIN_COLUMNS = 2;\nconst MAX_FIELDS_PER_ROW = 4;\nclass FormLayoutValidator {\n  /**\n   * @constructor\n   *\n   * @param { import('./FormLayouter').FormLayouter } formLayouter\n   * @param { import('./FormFieldRegistry').FormFieldRegistry } formFieldRegistry\n   */\n  constructor(formLayouter, formFieldRegistry) {\n    this._formLayouter = formLayouter;\n    this._formFieldRegistry = formFieldRegistry;\n  }\n  validateField(field = {}, columns, row) {\n    // allow empty (auto columns)\n    if (Number.isInteger(columns)) {\n      // allow minimum cols\n      if (columns < MIN_COLUMNS) {\n        return `Minimum ${MIN_COLUMNS} columns are allowed`;\n      }\n\n      // allow maximum cols\n      if (columns > MAX_COLUMNS) {\n        return `Maximum ${MAX_COLUMNS} columns are allowed`;\n      }\n    }\n    if (!row) {\n      row = this._formLayouter.getRowForField(field);\n    }\n\n    // calculate columns with and without updated field\n    let sumColumns = parseInt(columns) || 0;\n    let sumFields = 1;\n    let sumAutoCols = columns ? 0 : 1;\n    row.components.forEach(id => {\n      if (field.id === id) {\n        return;\n      }\n      const component = this._formFieldRegistry.get(id);\n      const cols = (component.layout || {}).columns;\n      if (!cols) {\n        sumAutoCols++;\n      }\n      sumColumns += parseInt(cols) || 0;\n      sumFields++;\n    });\n\n    // do not allow overflows\n    if (sumColumns > MAX_COLUMNS_PER_ROW || sumAutoCols > 0 && sumColumns > calculateMaxColumnsWithAuto(sumAutoCols) || columns === MAX_COLUMNS_PER_ROW && sumFields > 1) {\n      return `New value exceeds the maximum of ${MAX_COLUMNS_PER_ROW} columns per row`;\n    }\n    if (sumFields > MAX_FIELDS_PER_ROW) {\n      return `Maximum ${MAX_FIELDS_PER_ROW} fields per row are allowed`;\n    }\n    return null;\n  }\n}\nFormLayoutValidator.$inject = ['formLayouter', 'formFieldRegistry'];\n\n// helper //////////////////////\n\n// on normal screen sizes, auto columns take minimum 2 columns\nfunction calculateMaxColumnsWithAuto(autoCols) {\n  return MAX_COLUMNS_PER_ROW - autoCols * 2;\n}\n\nconst emptyImage = createEmptyImage();\nfunction editorFormFieldClasses(type, {\n  disabled = false\n} = {}) {\n  if (!type) {\n    throw new Error('type required');\n  }\n  return classnames('fjs-form-field', `fjs-form-field-${type}`, {\n    'fjs-disabled': disabled\n  });\n}\n\n/**\n * Add a dragger that calls back the passed function with\n * { event, delta } on drag.\n *\n * @example\n *\n * function dragMove(event, delta) {\n *   // we are dragging (!!)\n * }\n *\n * domElement.addEventListener('dragstart', dragger(dragMove));\n *\n * @param {Function} fn\n *\n * @return {Function} drag start callback function\n */\nfunction createDragger$1(fn) {\n  let self;\n  let startX, startY;\n\n  /** drag start */\n  function onDragStart(event) {\n    self = this;\n    startX = event.clientX;\n    startY = event.clientY;\n\n    // (1) hide drag preview image\n    if (event.dataTransfer) {\n      event.dataTransfer.setDragImage(emptyImage, 0, 0);\n    }\n\n    // (2) setup drag listeners\n\n    // attach drag + cleanup event\n    document.addEventListener('dragover', onDrag);\n    document.addEventListener('dragend', onEnd);\n    document.addEventListener('drop', preventDefault$1);\n  }\n  function onDrag(event) {\n    const delta = {\n      x: event.clientX - startX,\n      y: event.clientY - startY\n    };\n\n    // call provided fn with event, delta\n    return fn.call(self, event, delta);\n  }\n  function onEnd() {\n    document.removeEventListener('dragover', onDrag);\n    document.removeEventListener('dragend', onEnd);\n    document.removeEventListener('drop', preventDefault$1);\n  }\n  return onDragStart;\n}\n\n/**\n * Throttle function call according UI update cycle.\n *\n * @param  {Function} fn\n *\n * @return {Function} throttled fn\n */\nfunction throttle(fn) {\n  let active = false;\n  let lastArgs = [];\n  let lastThis = undefined;\n  return function (...args) {\n    lastArgs = args;\n    lastThis = this;\n    if (active) {\n      return;\n    }\n    active = true;\n    fn.apply(lastThis, lastArgs);\n    window.requestAnimationFrame(function () {\n      lastArgs = lastThis = active = undefined;\n    });\n  };\n}\nfunction preventDefault$1(event) {\n  event.preventDefault();\n  event.stopPropagation();\n}\nfunction createEmptyImage() {\n  const img = new Image();\n  img.src = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';\n  return img;\n}\n\nfunction EditorIFrame(props) {\n  const {\n    field,\n    domId\n  } = props;\n  const {\n    label\n  } = field;\n  const Icon = iconsByType(field.type);\n  return jsxs(\"div\", {\n    class: editorFormFieldClasses(field.type),\n    children: [jsx(Label$3, {\n      id: domId,\n      label: label\n    }), jsx(\"div\", {\n      class: \"fjs-iframe-placeholder\",\n      id: domId,\n      children: jsxs(\"p\", {\n        class: \"fjs-iframe-placeholder-text\",\n        children: [jsx(Icon, {\n          width: \"32\",\n          height: \"24\",\n          viewBox: \"0 0 56 56\"\n        }), \"iFrame\"]\n      })\n    })]\n  });\n}\nEditorIFrame.config = IFrame.config;\n\nconst DragAndDropContext = createContext({\n  drake: null\n});\n\n/**\n * @param {string} type\n * @param {boolean} [strict]\n *\n * @returns {any}\n */\nfunction getService$1(type, strict) {}\nconst FormEditorContext = createContext({\n  getService: getService$1\n});\n\nfunction useService$1(type, strict) {\n  const {\n    getService\n  } = useContext(FormEditorContext);\n  return getService(type, strict);\n}\n\nfunction usePrevious$1(value, defaultValue = null) {\n  const ref = useRef(defaultValue);\n  useEffect(() => ref.current = value, [value]);\n  return ref.current;\n}\n\n/**\n * @param {Function} fn - function to debounce\n */\nfunction useDebounce$1(fn) {\n  const debounce = useService$1('debounce');\n  const callback = useMemo(() => {\n    return debounce(fn);\n  }, [debounce, fn]);\n\n  // cleanup async side-effect if callback #flush is provided.\n  useEffect(() => {\n    return () => {\n      typeof callback.flush === 'function' && callback.flush();\n    };\n  }, [callback]);\n  return callback;\n}\n\nvar _path$5;\nfunction _extends$5() { return _extends$5 = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$5.apply(null, arguments); }\nvar SvgClose = function SvgClose(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends$5({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 16,\n    height: 16,\n    fill: \"currentColor\"\n  }, props), _path$5 || (_path$5 = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"m12 4.7-.7-.7L8 7.3 4.7 4l-.7.7L7.3 8 4 11.3l.7.7L8 8.7l3.3 3.3.7-.7L8.7 8z\",\n    clipRule: \"evenodd\"\n  })));\n};\n\nvar _path$4, _path2$1;\nfunction _extends$4() { return _extends$4 = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$4.apply(null, arguments); }\nvar SvgDelete = function SvgDelete(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends$4({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 16,\n    height: 16,\n    fill: \"none\"\n  }, props), /*#__PURE__*/React.createElement(\"rect\", {\n    width: 16,\n    height: 16,\n    x: 0.536,\n    fill: \"#fff\",\n    rx: 3,\n    style: {\n      mixBlendMode: \"multiply\"\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#fff\",\n    d: \"M0 0h16v16H0z\",\n    style: {\n      mixBlendMode: \"multiply\"\n    },\n    transform: \"translate(.536)\"\n  }), _path$4 || (_path$4 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentcolor\",\n    d: \"M7.536 6h-1v6h1zm3 0h-1v6h1z\"\n  })), _path2$1 || (_path2$1 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentcolor\",\n    d: \"M2.536 3v1h1v10a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4h1V3zm2 11V4h8v10zm6-13h-4v1h4z\"\n  })));\n};\n\nvar _path$3;\nfunction _extends$3() { return _extends$3 = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$3.apply(null, arguments); }\nvar SvgDraggable = function SvgDraggable(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends$3({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlSpace: \"preserve\",\n    width: 16,\n    height: 16,\n    fill: \"currentcolor\",\n    viewBox: \"0 0 32 32\"\n  }, props), _path$3 || (_path$3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10 6h4v4h-4zm8 0h4v4h-4zm-8 8h4v4h-4zm8 0h4v4h-4zm-8 8h4v4h-4zm8 0h4v4h-4z\"\n  })), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 0h32v32H0z\",\n    style: {\n      fill: \"none\"\n    }\n  }));\n};\n\nvar _path$2;\nfunction _extends$2() { return _extends$2 = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$2.apply(null, arguments); }\nvar SvgSearch = function SvgSearch(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends$2({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 15,\n    height: 15,\n    fill: \"none\"\n  }, props), _path$2 || (_path$2 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"m14.5 13.793-3.776-3.776a5.508 5.508 0 1 0-.707.707l3.776 3.776zM2 6.5a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0\"\n  })));\n};\n\nvar _path$1, _rect, _mask, _path2, _path3, _path4, _path5, _path6;\nfunction _extends$1() { return _extends$1 = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$1.apply(null, arguments); }\nvar SvgEmptyForm = function SvgEmptyForm(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends$1({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 126,\n    height: 96,\n    fill: \"none\"\n  }, props), _path$1 || (_path$1 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#FF832B\",\n    fillRule: \"evenodd\",\n    d: \"M70 78v8a3 3 0 0 1-3 3h-8v-5h6v-6zm0-16h-5V46h5zm0-32h-5v-6h-6v-5h8a3 3 0 0 1 3 3zM43 19v5H27v-5zm-32 0v5H5v6H0v-8a3 3 0 0 1 3-3zM0 46h5v16H0zm0 32h5v6h6v5H3a3 3 0 0 1-3-3zm27 11v-5h16v5z\",\n    clipRule: \"evenodd\"\n  })), _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n    width: 70,\n    height: 70,\n    fill: \"#E5E5E5\",\n    rx: 3,\n    transform: \"matrix(-1 0 0 1 94 0)\"\n  })), _mask || (_mask = /*#__PURE__*/React.createElement(\"mask\", {\n    id: \"EmptyForm_svg__a\",\n    fill: \"#fff\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M87.085 88.684 75.43 45.185l43.499 11.656-11.044 8.072 8.557 8.556-12.728 12.728-8.557-8.556z\",\n    clipRule: \"evenodd\"\n  }))), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#393939\",\n    fillRule: \"evenodd\",\n    d: \"M87.085 88.684 75.43 45.185l43.499 11.656-11.044 8.072 8.557 8.556-12.728 12.728-8.557-8.556z\",\n    clipRule: \"evenodd\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#393939\",\n    d: \"M75.43 45.185 70.6 46.48l-2.241-8.365 8.365 2.242zm11.655 43.499 4.037 2.95-6.163 8.432-2.704-10.088zm31.844-31.843 1.294-4.83 10.088 2.703-8.432 6.163zm-11.044 8.072-3.535 3.535-4.128-4.127 4.713-3.445zm8.557 8.556 3.535-3.535 3.536 3.535-3.536 3.536zm-12.728 12.728 3.536 3.536-3.536 3.535-3.536-3.535zm-8.557-8.556-4.036-2.951 3.444-4.713 4.128 4.128zM80.26 43.89 91.915 87.39l-9.66 2.588L70.6 46.48zm37.375 17.78L74.136 50.014l2.588-9.66 43.499 11.656zm-12.699-.795 11.043-8.072 5.901 8.073-11.043 8.072zm7.971 16.129-8.556-8.557 7.071-7.07 8.556 8.556zm-12.728 5.657 12.728-12.728 7.071 7.07-12.727 12.729zm-1.485-8.557 8.557 8.557-7.072 7.07-8.556-8.556zM83.049 85.733 91.12 74.69l8.073 5.901-8.072 11.044z\",\n    mask: \"url(#EmptyForm_svg__a)\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    stroke: \"#000\",\n    strokeLinecap: \"round\",\n    strokeWidth: 3,\n    d: \"m69.431 39.163-9.192-9.192\"\n  })), _path5 || (_path5 = /*#__PURE__*/React.createElement(\"path\", {\n    stroke: \"#000\",\n    strokeLinecap: \"round\",\n    strokeWidth: 3,\n    d: \"M1.5-1.5h8\",\n    transform: \"matrix(-1 0 0 1 68.213 50.123)\"\n  })), _path6 || (_path6 = /*#__PURE__*/React.createElement(\"path\", {\n    stroke: \"#000\",\n    strokeLinecap: \"round\",\n    strokeWidth: 3,\n    d: \"M78.969 36.367v-8\"\n  })));\n};\n\nfunction EditorText(props) {\n  const {\n    type,\n    text = ''\n  } = props.field;\n  const Icon = iconsByType('text');\n  const templating = useService$1('templating');\n  const expressionLanguage = useService$1('expressionLanguage');\n  if (!text || !text.trim()) {\n    return jsx(\"div\", {\n      class: editorFormFieldClasses(type),\n      children: jsxs(\"div\", {\n        class: \"fjs-form-field-placeholder\",\n        children: [jsx(Icon, {\n          viewBox: \"0 0 54 54\"\n        }), \"Text view is empty\"]\n      })\n    });\n  }\n  if (expressionLanguage.isExpression(text)) {\n    return jsx(\"div\", {\n      class: editorFormFieldClasses(type),\n      children: jsxs(\"div\", {\n        class: \"fjs-form-field-placeholder\",\n        children: [jsx(Icon, {\n          viewBox: \"0 0 54 54\"\n        }), \"Text view is populated by an expression\"]\n      })\n    });\n  }\n  if (templating.isTemplate(text)) {\n    return jsx(\"div\", {\n      class: editorFormFieldClasses(type),\n      children: jsxs(\"div\", {\n        class: \"fjs-form-field-placeholder\",\n        children: [jsx(Icon, {\n          viewBox: \"0 0 54 54\"\n        }), \"Text view is templated\"]\n      })\n    });\n  }\n  return jsx(Text$1, {\n    ...props,\n    disableLinks: true\n  });\n}\nEditorText.config = Text$1.config;\n\nfunction EditorHtml(props) {\n  const {\n    type,\n    content = ''\n  } = props.field;\n  const Icon = iconsByType(type);\n  const templating = useService$1('templating');\n  const expressionLanguage = useService$1('expressionLanguage');\n  if (!content || !content.trim()) {\n    return jsx(\"div\", {\n      class: editorFormFieldClasses(type),\n      children: jsxs(\"div\", {\n        class: \"fjs-form-field-placeholder\",\n        children: [jsx(Icon, {\n          viewBox: \"0 0 54 54\"\n        }), \"Html view is empty\"]\n      })\n    });\n  }\n  if (expressionLanguage.isExpression(content)) {\n    return jsx(\"div\", {\n      class: editorFormFieldClasses(type),\n      children: jsxs(\"div\", {\n        class: \"fjs-form-field-placeholder\",\n        children: [jsx(Icon, {\n          viewBox: \"0 0 54 54\"\n        }), \"Html view is populated by an expression\"]\n      })\n    });\n  }\n  if (templating.isTemplate(content)) {\n    return jsx(\"div\", {\n      class: editorFormFieldClasses(type),\n      children: jsxs(\"div\", {\n        class: \"fjs-form-field-placeholder\",\n        children: [jsx(Icon, {\n          viewBox: \"0 0 54 54\"\n        }), \"Html view is templated\"]\n      })\n    });\n  }\n  return jsx(Html, {\n    ...props,\n    disableLinks: true\n  });\n}\nEditorHtml.config = Html.config;\n\nfunction EditorTable(props) {\n  const {\n    columnsExpression,\n    columns,\n    id,\n    label\n  } = props.field;\n  const shouldUseMockColumns = typeof columnsExpression === 'string' && columnsExpression.length > 0 || Array.isArray(columns) && columns.length === 0;\n  const editorColumns = shouldUseMockColumns ? [{\n    key: '1',\n    label: 'Column 1'\n  }, {\n    key: '2',\n    label: 'Column 2'\n  }, {\n    key: '3',\n    label: 'Column 3'\n  }] : columns;\n  const prefixId = `fjs-form-${id}`;\n  return jsxs(\"div\", {\n    class: editorFormFieldClasses('table', {\n      disabled: true\n    }),\n    children: [jsx(Label$3, {\n      id: prefixId,\n      label: label\n    }), jsx(\"div\", {\n      class: \"fjs-table-middle-container\",\n      children: jsx(\"div\", {\n        class: \"fjs-table-inner-container\",\n        children: jsxs(\"table\", {\n          class: classnames('fjs-table', 'fjs-disabled'),\n          id: prefixId,\n          children: [jsx(\"thead\", {\n            class: \"fjs-table-head\",\n            children: jsx(\"tr\", {\n              class: \"fjs-table-tr\",\n              children: editorColumns.map(({\n                key,\n                label\n              }) => jsx(\"th\", {\n                class: \"fjs-table-th\",\n                children: label\n              }, key))\n            })\n          }), jsx(\"tbody\", {\n            class: \"fjs-table-body\",\n            children: jsx(\"tr\", {\n              class: \"fjs-table-tr\",\n              children: editorColumns.map(({\n                key\n              }) => jsx(\"td\", {\n                class: \"fjs-table-td\",\n                children: \"Content\"\n              }, key))\n            })\n          })]\n        })\n      })\n    })]\n  });\n}\nEditorTable.config = Table.config;\n\nconst type = 'expression';\nfunction EditorExpressionField(props) {\n  const {\n    field\n  } = props;\n  const {\n    expression = '',\n    key\n  } = field;\n  const Icon = iconsByType('expression');\n  const expressionLanguage = useService$1('expressionLanguage');\n  let placeholderContent = 'Expression is empty';\n  if (expression.trim() && expressionLanguage.isExpression(expression)) {\n    placeholderContent = `Expression for '${key}'`;\n  }\n  return jsx(\"div\", {\n    class: editorFormFieldClasses(type),\n    children: jsxs(\"div\", {\n      class: \"fjs-form-field-placeholder\",\n      children: [jsx(Icon, {\n        viewBox: \"0 0 54 54\"\n      }), placeholderContent]\n    })\n  });\n}\nEditorExpressionField.config = {\n  ...ExpressionField.config,\n  escapeGridRender: false\n};\n\nfunction EditorDocumentPreview(props) {\n  const {\n    field,\n    domId\n  } = props;\n  const {\n    label\n  } = field;\n  const Icon = iconsByType(field.type);\n  return jsxs(\"div\", {\n    class: editorFormFieldClasses(field.type),\n    children: [jsx(Label$3, {\n      id: domId,\n      label: label\n    }), jsx(\"div\", {\n      class: \"fjs-documentPreview-placeholder\",\n      id: domId,\n      children: jsxs(\"p\", {\n        class: \"fjs-documentPreview-placeholder-text\",\n        children: [jsx(Icon, {\n          width: \"32\",\n          height: \"24\",\n          viewBox: \"0 0 56 56\"\n        }), \"Document preview\"]\n      })\n    })]\n  });\n}\nEditorDocumentPreview.config = DocumentPreview.config;\n\nconst editorFormFields = [EditorIFrame, EditorText, EditorHtml, EditorTable, EditorExpressionField, EditorDocumentPreview];\n\nclass EditorFormFields extends FormFields {\n  constructor() {\n    super();\n    editorFormFields.forEach(formField => {\n      this.register(formField.config.type, formField);\n    });\n  }\n}\n\nconst ModularSection = props => {\n  const {\n    rootClass,\n    RootElement,\n    section,\n    children\n  } = props;\n  const eventBus = useService$1('eventBus');\n  const sectionConfig = useService$1(`config.${section}`);\n  const [parent, setParent] = useState(sectionConfig && sectionConfig.parent || null);\n  const [shouldRender, setShouldRender] = useState(true);\n  const ParentElement = useMemo(() => {\n    if (parent === null) {\n      return null;\n    }\n    if (typeof parent === 'string') {\n      const element = document.querySelector(parent);\n      if (!element) {\n        throw new Error(`Target root element with selector '${parent}' not found for section '${section}'`);\n      }\n      return document.querySelector(parent);\n    }\n\n    // @ts-ignore\n    if (!(parent instanceof Element)) {\n      throw new Error(`Target root element for section '${section}' must be a valid selector or DOM element`);\n    }\n    return parent;\n  }, [section, parent]);\n  useEffect(() => {\n    const onAttach = ({\n      container\n    }) => {\n      setParent(container);\n      setShouldRender(true);\n    };\n    const onDetach = () => {\n      setParent(null);\n      setShouldRender(false);\n    };\n    const onReset = () => {\n      setParent(null);\n      setShouldRender(true);\n    };\n    eventBus.on(`${section}.attach`, onAttach);\n    eventBus.on(`${section}.detach`, onDetach);\n    eventBus.on(`${section}.reset`, onReset);\n    eventBus.fire(`${section}.section.rendered`);\n    return () => {\n      eventBus.off(`${section}.attach`, onAttach);\n      eventBus.off(`${section}.detach`, onDetach);\n      eventBus.off(`${section}.reset`, onReset);\n      eventBus.fire(`${section}.section.destroyed`);\n    };\n  }, [eventBus, section]);\n  useEffect(() => {\n    if (shouldRender) {\n      eventBus.fire(`${section}.rendered`, {\n        element: ParentElement\n      });\n      return () => {\n        eventBus.fire(`${section}.destroyed`, {\n          element: ParentElement\n        });\n      };\n    }\n  }, [eventBus, section, shouldRender, ParentElement]);\n  const Root = useCallback(({\n    children\n  }) => RootElement ? jsx(RootElement, {\n    children: children\n  }) : jsx(\"div\", {\n    className: rootClass,\n    children: children\n  }), [rootClass, RootElement]);\n  return shouldRender ? parent ? createPortal(jsx(Root, {\n    children: children\n  }), ParentElement) : jsx(Root, {\n    children: children\n  }) : null;\n};\n\nconst FillContext = createContext({\n  addFill(uid, props) {\n    throw new Error('FillContext.addFill() uninitialized');\n  },\n  removeFill(uid) {\n    throw new Error('FillContext.addFill() uninitialized');\n  }\n});\n\nconst Fill = props => {\n  const uid = useRef$1(Symbol('fill_uid'));\n  const fillContext = useContext$1(FillContext);\n  useEffect$1(() => {\n    if (!fillContext) {\n      return;\n    }\n    fillContext.addFill({\n      id: uid,\n      ...props\n    });\n    return () => {\n      fillContext.removeFill(uid);\n    };\n  }, [fillContext, props]);\n  return null;\n};\n\nconst SlotContext = createContext({\n  fills: []\n});\n\nconst Slot = props => {\n  const {\n    name,\n    fillRoot = FillFragment,\n    groupFn = _groupByGroupName,\n    separatorFn = key => null,\n    limit\n  } = props;\n  const {\n    fills\n  } = useContext(SlotContext);\n  const filtered = useMemo(() => fills.filter(fill => fill.slot === name), [fills, name]);\n  const cropped = useMemo(() => limit ? filtered.slice(0, limit) : filtered, [filtered, limit]);\n  const groups = useMemo(() => groupFn(cropped), [cropped, groupFn]);\n  const fillsAndSeparators = useMemo(() => {\n    return buildFills(groups, fillRoot, separatorFn);\n  }, [groups, fillRoot, separatorFn]);\n  return fillsAndSeparators;\n};\n\n/**\n * Creates a Fragment for a fill.\n *\n * @param {Object} fill Fill to be rendered\n * @returns {Object} Preact Fragment containing fill's children\n */\nconst FillFragment = fill => jsx(Fragment, {\n  children: fill.children\n}, fill.id);\n\n/**\n * Creates an array of fills, with separators inserted between groups.\n *\n * @param {Array} groups Groups of fills\n * @param {Function} fillRenderer Function to create a fill\n * @param {Function} separatorRenderer Function to create a separator\n * @returns {Array} Array of fills and separators\n */\nconst buildFills = (groups, fillRenderer, separatorRenderer) => {\n  const result = [];\n  groups.forEach((array, idx) => {\n    if (idx !== 0) {\n      const separator = separatorRenderer(`__separator_${idx}`);\n      if (separator) {\n        result.push(separator);\n      }\n    }\n    array.forEach(fill => {\n      result.push(fillRenderer(fill));\n    });\n  });\n  return result;\n};\n\n/**\n * Groups fills by group name property.\n */\nconst _groupByGroupName = fills => {\n  const groups = [];\n  const groupsById = {};\n  fills.forEach(function (fill) {\n    const {\n      group: groupName = 'z_default'\n    } = fill;\n    let group = groupsById[groupName];\n    if (!group) {\n      groupsById[groupName] = group = [];\n      groups.push(group);\n    }\n    group.push(fill);\n  });\n  groups.forEach(group => group.sort(_comparePriority));\n  return Object.keys(groupsById).sort().map(id => groupsById[id]);\n};\n\n/**\n * Compares fills by priority.\n */\nconst _comparePriority = (a, b) => {\n  return (b.priority || 0) - (a.priority || 0);\n};\n\nconst noop$1 = () => {};\nconst SlotFillRoot = props => {\n  const [fills, setFills] = useState([]);\n  const {\n    onSetFill = noop$1,\n    onRemoveFill = noop$1\n  } = props;\n  const fillContext = useMemo(() => ({\n    addFill: fill => {\n      setFills(fills => [...fills.filter(f => f.id !== fill.id), fill]);\n      onSetFill(fill);\n    },\n    removeFill: id => {\n      setFills(fills => fills.filter(f => f.id !== id));\n      onRemoveFill(id);\n    }\n  }), [onRemoveFill, onSetFill]);\n  const slotContext = useMemo(() => ({\n    fills\n  }), [fills]);\n  return jsx(SlotContext.Provider, {\n    value: slotContext,\n    children: jsx(FillContext.Provider, {\n      value: fillContext,\n      children: props.children\n    })\n  });\n};\n\nfunction PaletteEntry(props) {\n  const {\n    type,\n    label,\n    icon,\n    iconUrl,\n    getPaletteIcon\n  } = props;\n  const modeling = useService$1('modeling');\n  const formEditor = useService$1('formEditor');\n  const Icon = getPaletteIcon({\n    icon,\n    iconUrl,\n    label,\n    type\n  });\n  const onKeyDown = event => {\n    if (event.code === 'Enter') {\n      const {\n        fieldType: type\n      } = event.target.dataset;\n      const {\n        schema\n      } = formEditor._getState();\n\n      // add new form field to last position\n      modeling.addFormField({\n        type\n      }, schema, schema.components.length);\n    }\n  };\n  return jsxs(\"button\", {\n    type: \"button\",\n    class: \"fjs-palette-field fjs-drag-copy fjs-no-drop\",\n    \"data-field-type\": type,\n    title: `Create ${getIndefiniteArticle(type)} ${label} element`,\n    onKeyDown: onKeyDown,\n    children: [Icon ? jsx(Icon, {\n      class: \"fjs-palette-field-icon\",\n      width: \"36\",\n      height: \"36\",\n      viewBox: \"0 0 54 54\"\n    }) : null, jsx(\"span\", {\n      class: \"fjs-palette-field-text\",\n      children: label\n    })]\n  });\n}\n\n// helpers ///////////\n\nfunction getIndefiniteArticle(type) {\n  if (['image'].includes(type)) {\n    return 'an';\n  }\n  return 'a';\n}\n\nconst PALETTE_GROUPS = [{\n  label: 'Input',\n  id: 'basic-input'\n}, {\n  label: 'Selection',\n  id: 'selection'\n}, {\n  label: 'Presentation',\n  id: 'presentation'\n}, {\n  label: 'Containers',\n  id: 'container'\n}, {\n  label: 'Action',\n  id: 'action'\n}];\nfunction Palette(props) {\n  const formFields = useService$1('formFields');\n  const initialPaletteEntries = useRef(collectPaletteEntries(formFields));\n  const [paletteEntries, setPaletteEntries] = useState(initialPaletteEntries.current);\n  const [searchTerm, setSearchTerm] = useState('');\n\n  /** @type {import(\"preact\").RefObject<HTMLInputElement>} */\n  const inputRef = useRef();\n  const groups = groupEntries(paletteEntries);\n  const simplifyString = useCallback(str => {\n    return str.toLowerCase().replace(/\\s+/g, '');\n  }, []);\n  const filter = useCallback(entry => {\n    const simplifiedSearchTerm = simplifyString(searchTerm);\n    if (!simplifiedSearchTerm) {\n      return true;\n    }\n    const simplifiedEntryLabel = simplifyString(entry.label);\n    const simplifiedEntryType = simplifyString(entry.type);\n    return simplifiedEntryLabel.includes(simplifiedSearchTerm) || simplifiedEntryType.includes(simplifiedSearchTerm);\n  }, [searchTerm, simplifyString]);\n\n  // filter entries on search change\n  useEffect(() => {\n    const entries = initialPaletteEntries.current.filter(filter);\n    setPaletteEntries(entries);\n  }, [filter, searchTerm]);\n  const handleInput = useCallback(event => {\n    setSearchTerm(() => event.target.value);\n  }, [setSearchTerm]);\n  const handleClear = useCallback(event => {\n    setSearchTerm('');\n    inputRef.current.focus();\n  }, [inputRef, setSearchTerm]);\n  return jsxs(\"div\", {\n    class: \"fjs-palette\",\n    children: [jsx(\"div\", {\n      class: \"fjs-palette-header\",\n      title: \"Components\",\n      children: \"Components\"\n    }), jsxs(\"div\", {\n      class: \"fjs-palette-search-container\",\n      children: [jsx(\"span\", {\n        class: \"fjs-palette-search-icon\",\n        children: jsx(SvgSearch, {})\n      }), jsx(\"input\", {\n        class: \"fjs-palette-search\",\n        ref: inputRef,\n        type: \"text\",\n        placeholder: \"Search components\",\n        value: searchTerm,\n        onInput: handleInput\n      }), searchTerm && jsx(\"button\", {\n        type: \"button\",\n        title: \"Clear content\",\n        class: \"fjs-palette-search-clear\",\n        onClick: handleClear,\n        children: jsx(SvgClose, {})\n      })]\n    }), jsxs(\"div\", {\n      class: \"fjs-palette-entries\",\n      children: [groups.map(({\n        label,\n        entries,\n        id\n      }) => jsxs(\"div\", {\n        class: \"fjs-palette-group\",\n        \"data-group-id\": id,\n        children: [jsx(\"span\", {\n          class: \"fjs-palette-group-title\",\n          children: label\n        }), jsx(\"div\", {\n          class: \"fjs-palette-fields fjs-drag-container fjs-no-drop\",\n          children: entries.map(entry => {\n            return jsx(PaletteEntry, {\n              getPaletteIcon: getPaletteIcon,\n              ...entry\n            }, entry.type);\n          })\n        })]\n      }, id)), groups.length == 0 && jsx(\"div\", {\n        class: \"fjs-palette-no-entries\",\n        children: \"No components found.\"\n      })]\n    }), jsx(\"div\", {\n      class: \"fjs-palette-footer\",\n      children: jsx(Slot, {\n        name: \"editor-palette__footer\",\n        fillRoot: FillRoot\n      })\n    })]\n  });\n}\nconst FillRoot = fill => jsx(\"div\", {\n  className: \"fjs-palette-footer-fill\",\n  children: fill.children\n});\n\n// helpers ///////\n\nfunction groupEntries(entries) {\n  const groups = PALETTE_GROUPS.map(group => {\n    return {\n      ...group,\n      entries: []\n    };\n  });\n  const getGroup = id => groups.find(group => id === group.id);\n  entries.forEach(entry => {\n    const {\n      group\n    } = entry;\n    getGroup(group).entries.push(entry);\n  });\n  return groups.filter(g => g.entries.length);\n}\n\n/**\n * Returns a list of palette entries.\n *\n * @param {FormFields} formFields\n * @returns {Array<PaletteEntry>}\n */\nfunction collectPaletteEntries(formFields) {\n  return Object.entries(formFields._formFields).map(([type, formField]) => {\n    const {\n      config: fieldConfig\n    } = formField;\n    return {\n      // fieldConfig.label is used to maintain backwards compatibility with custom form fields\n      label: fieldConfig.name || fieldConfig.label,\n      type: type,\n      group: fieldConfig.group,\n      icon: fieldConfig.icon,\n      iconUrl: fieldConfig.iconUrl\n    };\n  }).filter(({\n    type\n  }) => type !== 'default');\n}\n\n/**\n * There are various options to specify an icon for a palette entry.\n *\n * a) via `iconUrl` property in a form field config\n * b) via `icon` property in a form field config\n * c) via statically defined iconsByType (fallback)\n */\nfunction getPaletteIcon(entry) {\n  const {\n    icon,\n    iconUrl,\n    type,\n    label\n  } = entry;\n  let Icon;\n  if (iconUrl) {\n    Icon = function Icon() {\n      return jsx(\"img\", {\n        class: \"fjs-field-icon-image\",\n        width: 36,\n        style: {\n          margin: 'auto'\n        },\n        alt: label,\n        src: sanitizeImageSource(iconUrl)\n      });\n    };\n  } else {\n    Icon = icon || iconsByType(type);\n  }\n  return Icon;\n}\n\nconst InjectedRendersRoot = () => {\n  const renderInjector = useService$1('renderInjector');\n  const injectedRenderers = renderInjector.fetchRenderers();\n  const injectedProps = useMemo(() => ({\n    useService: useService$1,\n    components: {\n      Fill,\n      Slot\n    }\n  }), []);\n  return jsx(Fragment, {\n    children: injectedRenderers.map(({\n      Renderer\n    }, index) => jsx(Renderer, {\n      ...injectedProps\n    }, index))\n  });\n};\n\nconst CURSOR_CLS_PATTERN = /^fjs-cursor-.*$/;\nfunction set(mode) {\n  const classes$1 = classes(document.body);\n  classes$1.removeMatching(CURSOR_CLS_PATTERN);\n  if (mode) {\n    classes$1.add('fjs-cursor-' + mode);\n  }\n}\nfunction unset() {\n  set(null);\n}\n\nconst DRAG_CONTAINER_CLS = 'fjs-drag-container';\nconst DROP_CONTAINER_VERTICAL_CLS = 'fjs-drop-container-vertical';\nconst DROP_CONTAINER_HORIZONTAL_CLS = 'fjs-drop-container-horizontal';\nconst DRAG_MOVE_CLS = 'fjs-drag-move';\nconst DRAG_ROW_MOVE_CLS = 'fjs-drag-row-move';\nconst DRAG_COPY_CLS = 'fjs-drag-copy';\nconst DRAG_NO_DROP_CLS = 'fjs-no-drop';\nconst DRAG_NO_MOVE_CLS = 'fjs-no-move';\nconst ERROR_DROP_CLS = 'fjs-error-drop';\n\n/**\n * @typedef { { id: String, components: Array<any> } } FormRow\n */\n\nclass Dragging {\n  /**\n   * @constructor\n   *\n   * @param { import('../../core/FormFieldRegistry').FormFieldRegistry } formFieldRegistry\n   * @param { import('../../core/FormLayouter').FormLayouter } formLayouter\n   * @param { import('../../core/FormLayoutValidator').FormLayoutValidator } formLayoutValidator\n   * @param { import('../../core/EventBus').EventBus } eventBus\n   * @param { import('../modeling/Modeling').Modeling } modeling\n   * @param { import('@bpmn-io/form-js-viewer').PathRegistry } pathRegistry\n   */\n  constructor(formFieldRegistry, formLayouter, formLayoutValidator, eventBus, modeling, pathRegistry) {\n    this._formFieldRegistry = formFieldRegistry;\n    this._formLayouter = formLayouter;\n    this._formLayoutValidator = formLayoutValidator;\n    this._eventBus = eventBus;\n    this._modeling = modeling;\n    this._pathRegistry = pathRegistry;\n  }\n\n  /**\n   * Calculates position in form schema given the dropped place.\n   *\n   * @param { FormRow } targetRow\n   * @param { any } targetFormField\n   * @param { HTMLElement } sibling\n   * @returns { number }\n   */\n  getTargetIndex(targetRow, targetFormField, sibling) {\n    /** @type HTMLElement */\n    const siblingFormFieldNode = sibling && sibling.querySelector('.fjs-element');\n    const siblingFormField = siblingFormFieldNode && this._formFieldRegistry.get(siblingFormFieldNode.dataset.id);\n\n    // (1) dropped before existing field => place before\n    if (siblingFormField) {\n      return getFormFieldIndex$1(targetFormField, siblingFormField);\n    }\n\n    // (2) dropped in row => place at the end of row (after last field in row)\n    if (targetRow) {\n      return getFormFieldIndex$1(targetFormField, this._formFieldRegistry.get(targetRow.components[targetRow.components.length - 1])) + 1;\n    }\n\n    // (3) dropped as last item\n    return targetFormField.components.length;\n  }\n  validateDrop(element, target) {\n    const formFieldNode = element.querySelector('.fjs-element');\n    const targetRow = this._formLayouter.getRow(target.dataset.rowId);\n    let columns;\n    let formField;\n    let targetParentId;\n    if (formFieldNode) {\n      formField = this._formFieldRegistry.get(formFieldNode.dataset.id);\n      if (!formField) {\n        return 'No associated form field in the registry';\n      }\n      columns = (formField.layout || {}).columns;\n\n      // (1) check for row constraints\n      if (isRow(target)) {\n        targetParentId = getFormParent(target).dataset.id;\n        const rowError = this._formLayoutValidator.validateField(formField, columns, targetRow);\n        if (rowError) {\n          return rowError;\n        }\n      } else {\n        targetParentId = target.dataset.id;\n      }\n\n      // (2) check target is a valid parent\n      if (!targetParentId) {\n        return 'Drop is not a valid target';\n      }\n\n      // (3) check  for path collisions\n      const targetParentFormField = this._formFieldRegistry.get(targetParentId);\n      const currentParentFormField = this._formFieldRegistry.get(formField._parent);\n      if (targetParentFormField !== currentParentFormField) {\n        const targetParentPath = this._pathRegistry.getValuePath(targetParentFormField);\n        const currentParentPath = this._pathRegistry.getValuePath(currentParentFormField);\n        if (targetParentPath.join('.') !== currentParentPath.join('.')) {\n          const isDropAllowedByPathRegistry = this._pathRegistry.executeRecursivelyOnFields(formField, ({\n            field,\n            isClosed,\n            isRepeatable\n          }) => {\n            const options = {\n              cutoffNode: currentParentFormField.id\n            };\n            const fieldPath = this._pathRegistry.getValuePath(field, options);\n            return this._pathRegistry.canClaimPath([...targetParentPath, ...fieldPath], {\n              isClosed,\n              isRepeatable,\n              knownAncestorIds: getAncestryList(targetParentId, this._formFieldRegistry)\n            });\n          });\n          if (!isDropAllowedByPathRegistry) {\n            return 'Drop not allowed by path registry';\n          }\n        }\n      }\n    }\n  }\n  moveField(element, source, targetRow, targetFormField, targetIndex) {\n    const formFieldNode = element.querySelector('.fjs-element');\n    const formField = this._formFieldRegistry.get(formFieldNode.dataset.id);\n    const sourceParent = getFormParent(source);\n    const sourceFormField = this._formFieldRegistry.get(sourceParent.dataset.id);\n    const sourceIndex = getFormFieldIndex$1(sourceFormField, formField);\n    const sourceRow = this._formLayouter.getRowForField(formField);\n    this._modeling.moveFormField(formField, sourceFormField, targetFormField, sourceIndex, targetIndex, sourceRow, targetRow);\n  }\n  createNewField(element, targetRow, targetFormField, targetIndex) {\n    const type = element.dataset.fieldType;\n    let attrs = {\n      type\n    };\n    attrs = {\n      ...attrs,\n      _parent: targetFormField.id,\n      layout: {\n        row: targetRow ? targetRow.id : this._formLayouter.nextRowId(),\n        // enable auto columns\n        columns: null\n      }\n    };\n    this._modeling.addFormField(attrs, targetFormField, targetIndex);\n  }\n  handleRowDrop(el, target, source, sibling) {\n    const targetFormField = this._formFieldRegistry.get(target.dataset.id);\n    const rowNode = el.querySelector('.fjs-layout-row');\n    const row = this._formLayouter.getRow(rowNode.dataset.rowId);\n\n    // move each field in the row before first field of sibling row\n    row.components.forEach((id, index) => {\n      const formField = this._formFieldRegistry.get(id);\n      const sourceParent = getFormParent(source);\n      const sourceFormField = this._formFieldRegistry.get(sourceParent.dataset.id);\n      const siblingRowNode = sibling && sibling.querySelector('.fjs-layout-row');\n      const siblingRow = siblingRowNode && this._formLayouter.getRow(siblingRowNode.dataset.rowId);\n      const siblingFormField = sibling && this._formFieldRegistry.get(siblingRow.components[0]);\n      const sourceIndex = getFormFieldIndex$1(sourceFormField, formField);\n      const targetIndex = (siblingRowNode ? getFormFieldIndex$1(targetFormField, siblingFormField) : targetFormField.components.length) + index;\n      this._modeling.moveFormField(formField, sourceFormField, targetFormField, sourceIndex, targetIndex, row, row);\n    });\n  }\n  handleElementDrop(el, target, source, sibling, drake) {\n    // (1) detect drop target\n    const targetFormField = this._formFieldRegistry.get(getFormParent(target).dataset.id);\n    let targetRow;\n\n    // (2.1) dropped in existing row\n    if (isRow(target)) {\n      targetRow = this._formLayouter.getRow(target.dataset.rowId);\n    }\n\n    // (2.2) validate whether drop is allowed\n    const validationError = this.validateDrop(el, target);\n    if (validationError) {\n      return drake.cancel(true);\n    }\n    drake.remove();\n\n    // (3) detect position to drop field in schema order\n    const targetIndex = this.getTargetIndex(targetRow, targetFormField, sibling);\n\n    // (4) create new field or move existing\n    if (isPalette(source)) {\n      this.createNewField(el, targetRow, targetFormField, targetIndex);\n    } else {\n      this.moveField(el, source, targetRow, targetFormField, targetIndex);\n    }\n  }\n\n  /**\n   * @param { { container: Array<string>, direction: string, mirrorContainer: string } } options\n   */\n  createDragulaInstance(options) {\n    const {\n      container,\n      mirrorContainer\n    } = options || {};\n    let dragulaOptions = {\n      direction: function (el, target) {\n        if (isRow(target)) {\n          return 'horizontal';\n        }\n        return 'vertical';\n      },\n      mirrorContainer,\n      isContainer(el) {\n        return container.some(cls => el.classList.contains(cls));\n      },\n      moves(el, source, handle) {\n        return !handle.classList.contains(DRAG_NO_MOVE_CLS) && (el.classList.contains(DRAG_MOVE_CLS) || el.classList.contains(DRAG_COPY_CLS) || el.classList.contains(DRAG_ROW_MOVE_CLS));\n      },\n      copy(el) {\n        return el.classList.contains(DRAG_COPY_CLS);\n      },\n      accepts: (el, target) => {\n        unsetDropNotAllowed(target);\n\n        // allow dropping rows only between rows\n        if (el.classList.contains(DRAG_ROW_MOVE_CLS)) {\n          return !target.classList.contains(DROP_CONTAINER_HORIZONTAL_CLS);\n        }\n\n        // validate field drop\n        const validationError = this.validateDrop(el, target);\n        if (validationError) {\n          // set error feedback to row\n          setDropNotAllowed(target);\n        }\n        return !target.classList.contains(DRAG_NO_DROP_CLS);\n      },\n      transformOffset: (offset, event, element) => {\n        if (element.classList.contains(DRAG_ROW_MOVE_CLS)) {\n          const rowOffset = {\n            x: -5,\n            y: -60\n          };\n          return {\n            left: event.clientX + rowOffset.x,\n            top: event.clientY + rowOffset.y\n          };\n        }\n        if (element.classList.contains(DRAG_MOVE_CLS)) {\n          const iconOffset = {\n            x: -5,\n            y: -15\n          };\n          return {\n            left: event.clientX + iconOffset.x,\n            top: event.clientY + iconOffset.y\n          };\n        }\n        return offset;\n      },\n      slideFactorX: 10,\n      slideFactorY: 5\n    };\n    const dragulaInstance = dragula(dragulaOptions);\n\n    // bind life cycle events\n    dragulaInstance.on('drag', (element, source) => {\n      this.emit('drag.start', {\n        element,\n        source\n      });\n    });\n    dragulaInstance.on('dragend', element => {\n      this.emit('drag.end', {\n        element\n      });\n    });\n    dragulaInstance.on('drop', (element, target, source, sibling) => {\n      this.emit('drag.drop', {\n        element,\n        target,\n        source,\n        sibling\n      });\n    });\n    dragulaInstance.on('over', (element, container, source) => {\n      this.emit('drag.hover', {\n        element,\n        container,\n        source\n      });\n    });\n    dragulaInstance.on('out', (element, container, source) => {\n      this.emit('drag.out', {\n        element,\n        container,\n        source\n      });\n    });\n    dragulaInstance.on('cancel', (element, container, source) => {\n      this.emit('drag.cancel', {\n        element,\n        container,\n        source\n      });\n    });\n    dragulaInstance.on('drop', (el, target, source, sibling) => {\n      if (!target) {\n        dragulaInstance.remove();\n        return;\n      }\n\n      // (1) handle row drop\n      if (isDragRow(el)) {\n        this.handleRowDrop(el, target, source, sibling);\n      } else {\n        // (2) handle form field drop\n        this.handleElementDrop(el, target, source, sibling, dragulaInstance);\n      }\n    });\n    this.emit('dragula.created', dragulaInstance);\n    return dragulaInstance;\n  }\n  emit(event, context) {\n    this._eventBus.fire(event, context);\n  }\n}\nDragging.$inject = ['formFieldRegistry', 'formLayouter', 'formLayoutValidator', 'eventBus', 'modeling', 'pathRegistry'];\n\n// helper //////////\n\nfunction getFormFieldIndex$1(parent, formField) {\n  let fieldFormIndex = parent.components.length;\n  parent.components.forEach(({\n    id\n  }, index) => {\n    if (id === formField.id) {\n      fieldFormIndex = index;\n    }\n  });\n  return fieldFormIndex;\n}\nfunction isRow(node) {\n  return node.classList.contains('fjs-layout-row');\n}\nfunction isDragRow(node) {\n  return node.classList.contains(DRAG_ROW_MOVE_CLS);\n}\nfunction isPalette(node) {\n  return node.classList.contains('fjs-palette-fields');\n}\nfunction getFormParent(node) {\n  return node.closest('.fjs-element');\n}\nfunction setDropNotAllowed(node) {\n  node.classList.add(ERROR_DROP_CLS);\n  set('not-allowed');\n}\nfunction unsetDropNotAllowed(node) {\n  node.classList.remove(ERROR_DROP_CLS);\n  set('grabbing');\n}\n\nfunction FieldDragPreview(props) {\n  const {\n    class: className,\n    Icon,\n    label\n  } = props;\n  return jsxs(\"div\", {\n    class: classnames('fjs-field-preview', className),\n    children: [jsx(Icon, {\n      class: \"fjs-field-preview-icon\",\n      width: \"36\",\n      height: \"36\",\n      viewBox: \"0 0 54 54\"\n    }), jsx(\"span\", {\n      class: \"fjs-field-preview-text\",\n      children: label\n    })]\n  });\n}\n\nconst COLUMNS_REGEX = /^cds--col(-lg)?/;\nconst ELEMENT_RESIZING_CLS = 'fjs-element-resizing';\nconst GRID_OFFSET_PX = 16;\nfunction FieldResizer(props) {\n  const {\n    field,\n    position\n  } = props;\n  const ref = useRef(null);\n  const formLayoutValidator = useService$1('formLayoutValidator');\n  const modeling = useService$1('modeling');\n\n  // we can't use state as we need to\n  // manipulate this inside dragging events\n  const context = useRef({\n    startColumns: 0,\n    newColumns: 0\n  });\n  const onResize = throttle((_, delta) => {\n    const {\n      x: dx\n    } = delta;\n    const {\n      layout = {}\n    } = field;\n    const newColumns = calculateNewColumns(ref.current, layout.columns || context.current.startColumns, dx, position);\n    const errorMessage = formLayoutValidator.validateField(field, newColumns);\n    if (!errorMessage) {\n      context.current.newColumns = newColumns;\n\n      // make visual updates to preview change\n      const columnNode = ref.current.closest('.fjs-layout-column');\n      removeMatching(columnNode, COLUMNS_REGEX);\n      columnNode.classList.add(`cds--col-lg-${newColumns}`);\n    }\n  });\n  const onResizeStart = event => {\n    const target = getElementNode(field);\n    const parent = getParent(target);\n\n    // initialize drag handler\n    const onDragStart = createDragger$1(onResize);\n    onDragStart(event);\n\n    // mitigate auto columns on the grid that\n    // has a offset of 16px (1rem) to both side\n    const columnNode = getColumnNode(target);\n    const startWidth = columnNode.getBoundingClientRect().width + GRID_OFFSET_PX;\n    context.current.startColumns = asColumns(startWidth, parent);\n    setResizing(target, position);\n  };\n  const onResizeEnd = () => {\n    const {\n      layout = {}\n    } = field;\n    if (context.current.newColumns) {\n      modeling.editFormField(field, 'layout', {\n        ...layout,\n        columns: context.current.newColumns\n      });\n    }\n    const target = getElementNode(field);\n    unsetResizing(target, position);\n    context.current.newColumns = null;\n  };\n  if (field.type === 'default') {\n    return null;\n  }\n  return jsx(\"div\", {\n    ref: ref,\n    class: classnames('fjs-field-resize-handle', 'fjs-field-resize-handle-' + position, DRAG_NO_MOVE_CLS),\n    draggable: true,\n    onDragStart: onResizeStart,\n    onDragEnd: onResizeEnd\n  });\n}\n\n// helper //////\n\nfunction asColumns(width, parent) {\n  const totalWidth = parent.getBoundingClientRect().width;\n  const oneColumn = 1 / 16 * totalWidth;\n  return Math.round(width / oneColumn);\n}\nfunction calculateNewColumns(node, currentColumns, deltaX, position) {\n  const parent = getParent(node);\n\n  // invert delta if we are resizing from the left\n  if (position === 'left') {\n    deltaX = deltaX * -1;\n  }\n  const deltaColumns = asColumns(deltaX, parent);\n  return currentColumns + deltaColumns;\n}\nfunction getParent(node) {\n  return node.closest('.fjs-layout-row');\n}\nfunction removeMatching(node, regex) {\n  return classes(node).removeMatching(regex);\n}\nfunction getColumnNode(node) {\n  return node.closest('.fjs-layout-column');\n}\nfunction getElementNode(field) {\n  return query('.fjs-element[data-id=\"' + field.id + '\"]');\n}\nfunction setResizing(node, position) {\n  classes(node).add(ELEMENT_RESIZING_CLS + '-' + position);\n}\nfunction unsetResizing(node, position) {\n  classes(node).remove(ELEMENT_RESIZING_CLS + '-' + position);\n}\n\nfunction ContextPad(props) {\n  if (!props.children) {\n    return null;\n  }\n  return jsx(\"div\", {\n    class: \"fjs-context-pad\",\n    children: props.children\n  });\n}\nfunction EmptyGroup() {\n  return jsx(\"div\", {\n    class: \"fjs-empty-component\",\n    children: jsx(\"span\", {\n      class: \"fjs-empty-component-text\",\n      children: \"Drag and drop components here.\"\n    })\n  });\n}\nfunction EmptyForm() {\n  return jsx(\"div\", {\n    class: \"fjs-empty-editor\",\n    children: jsxs(\"div\", {\n      class: \"fjs-empty-editor-card\",\n      children: [jsx(SvgEmptyForm, {}), jsx(\"h2\", {\n        children: \"Build your form\"\n      }), jsx(\"span\", {\n        children: \"Drag and drop components here to start designing.\"\n      }), jsx(\"span\", {\n        children: \"Use the preview window to test your form.\"\n      })]\n    })\n  });\n}\nfunction Empty(props) {\n  if (['group', 'dynamiclist'].includes(props.field.type)) {\n    return jsx(EmptyGroup, {});\n  }\n  if (props.field.type === 'default') {\n    return jsx(EmptyForm, {});\n  }\n  return null;\n}\nfunction Element$1(props) {\n  const eventBus = useService$1('eventBus'),\n    formFieldRegistry = useService$1('formFieldRegistry'),\n    formFields = useService$1('formFields'),\n    modeling = useService$1('modeling'),\n    selection = useService$1('selection');\n  const {\n    hoverInfo\n  } = useContext(FormRenderContext);\n  const {\n    field\n  } = props;\n  const {\n    id,\n    type,\n    showOutline\n  } = field;\n\n  /** @type {import(\"preact\").RefObject<HTMLDivElement>} */\n  const ref = useRef();\n  const [hovered, setHovered] = useState(false);\n  useEffect(() => {\n    function scrollIntoView({\n      selection\n    }) {\n      const scrollContainer = getScrollContainer(ref.current);\n      if (!selection || selection.type === 'default' || selection.id !== id || !scrollContainer || !ref.current) {\n        return;\n      }\n      const elementBounds = ref.current.getBoundingClientRect();\n      const scrollContainerBounds = scrollContainer.getBoundingClientRect();\n      const isElementLarger = elementBounds.height > scrollContainerBounds.height;\n      const isNotFullyVisible = elementBounds.bottom > scrollContainerBounds.bottom || elementBounds.top < scrollContainerBounds.top;\n      if (isNotFullyVisible && !isElementLarger) {\n        ref.current.scrollIntoView({\n          behavior: 'auto',\n          block: 'nearest'\n        });\n      }\n    }\n    eventBus.on('selection.changed', scrollIntoView);\n    return () => eventBus.off('selection.changed', scrollIntoView);\n  }, [eventBus, id]);\n  useLayoutEffect(() => {\n    if (selection.isSelected(field)) {\n      ref.current.focus();\n    }\n  }, [selection, field]);\n  const onClick = useCallback(event => {\n    // TODO(nikku): refactor this to use proper DOM delegation\n    const fieldEl = event.target.closest('[data-id]');\n    if (!fieldEl) {\n      return;\n    }\n    const id = fieldEl.dataset.id;\n    if (id === field.id) {\n      selection.toggle(field);\n    }\n  }, [field, selection]);\n  const isSelected = selection.isSelected(field);\n  const classString = useMemo(() => {\n    const classes = [];\n    if (props.class) {\n      classes.push(...props.class.split(' '));\n    }\n    if (isSelected) {\n      classes.push('fjs-editor-selected');\n    }\n    const grouplike = ['group', 'dynamiclist'].includes(type);\n    if (grouplike) {\n      classes.push(showOutline ? 'fjs-outlined' : 'fjs-dashed-outlined');\n    }\n    if (hovered) {\n      classes.push('fjs-editor-hovered');\n    }\n    return classes.join(' ');\n  }, [hovered, isSelected, props.class, showOutline, type]);\n  const onRemove = event => {\n    event.stopPropagation();\n    const parentField = formFieldRegistry.get(field._parent);\n    const index = getFormFieldIndex(parentField, field);\n    modeling.removeFormField(field, parentField, index);\n  };\n  const onKeyPress = event => {\n    if (event.key === 'Enter') {\n      event.stopPropagation();\n      selection.toggle(field);\n    }\n  };\n  return jsxs(\"div\", {\n    class: classString,\n    \"data-id\": id,\n    \"data-field-type\": type,\n    tabIndex: type === 'default' ? -1 : 0,\n    onClick: onClick,\n    onKeyPress: onKeyPress,\n    onMouseOver: e => {\n      if (hoverInfo.cleanup) {\n        hoverInfo.cleanup();\n      }\n      setHovered(true);\n      hoverInfo.cleanup = () => setHovered(false);\n      e.stopPropagation();\n    },\n    ref: ref,\n    children: [jsx(DebugColumns, {\n      field: field\n    }), jsx(ContextPad, {\n      children: selection.isSelected(field) && field.type !== 'default' ? jsx(\"button\", {\n        type: \"button\",\n        title: getRemoveButtonTitle(field, formFields),\n        class: \"fjs-context-pad-item\",\n        onClick: onRemove,\n        children: jsx(SvgDelete, {})\n      }) : null\n    }), props.children, jsx(FieldResizer, {\n      position: \"left\",\n      field: field\n    }), jsx(FieldResizer, {\n      position: \"right\",\n      field: field\n    })]\n  });\n}\nfunction DebugColumns(props) {\n  const {\n    field\n  } = props;\n  const debugColumnsConfig = useService$1('config.debugColumns');\n  if (!debugColumnsConfig || field.type == 'default') {\n    return null;\n  }\n  return jsx(\"div\", {\n    style: \"width: fit-content; padding: 2px 6px; height: 16px; background: var(--color-blue-205-100-95); display: flex; justify-content: center; align-items: center; position: absolute; bottom: -2px; z-index: 2; font-size: 10px; right: 3px;\",\n    class: \"fjs-debug-columns\",\n    children: (field.layout || {}).columns || 'auto'\n  });\n}\nfunction Children(props) {\n  const {\n    field\n  } = props;\n  const {\n    id\n  } = field;\n  const classes = ['fjs-children', DROP_CONTAINER_VERTICAL_CLS];\n  if (props.class) {\n    classes.push(...props.class.split(' '));\n  }\n  return jsx(\"div\", {\n    class: classes.join(' '),\n    \"data-id\": id,\n    children: props.children\n  });\n}\nfunction Row(props) {\n  const {\n    row\n  } = props;\n  const {\n    id\n  } = row;\n  const classes = [DROP_CONTAINER_HORIZONTAL_CLS];\n  if (props.class) {\n    classes.push(...props.class.split(' '));\n  }\n  return jsxs(\"div\", {\n    class: classnames(DRAG_ROW_MOVE_CLS),\n    children: [jsx(\"span\", {\n      class: \"fjs-row-dragger\",\n      children: jsx(SvgDraggable, {})\n    }), jsx(\"div\", {\n      class: classes.join(' '),\n      style: props.style,\n      \"data-row-id\": id,\n      children: props.children\n    })]\n  });\n}\nfunction Column(props) {\n  const {\n    field\n  } = props;\n  const classes = [DRAG_MOVE_CLS];\n  if (field.type === 'default') {\n    return props.children;\n  }\n  if (props.class) {\n    classes.push(...props.class.split(' '));\n  }\n  return jsx(\"div\", {\n    \"data-field-type\": field.type,\n    class: classes.join(' '),\n    children: props.children\n  });\n}\nfunction FormEditor$1() {\n  const dragging = useService$1('dragging'),\n    eventBus = useService$1('eventBus'),\n    formEditor = useService$1('formEditor'),\n    injector = useService$1('injector'),\n    selection = useService$1('selection'),\n    propertiesPanel = useService$1('propertiesPanel'),\n    propertiesPanelConfig = useService$1('config.propertiesPanel');\n  const {\n    schema,\n    properties\n  } = formEditor._getState();\n  const {\n    ariaLabel\n  } = properties;\n  const formContainerRef = useRef(null);\n  const propertiesPanelRef = useRef(null);\n  const [, setSelection] = useState(schema);\n  const [hasInitialized, setHasInitialized] = useState(false);\n  useEffect(() => {\n    function handleSelectionChanged(event) {\n      setSelection(event.selection || schema);\n    }\n    eventBus.on('selection.changed', handleSelectionChanged);\n    return () => {\n      eventBus.off('selection.changed', handleSelectionChanged);\n    };\n  }, [eventBus, schema]);\n  useEffect(() => {\n    setSelection(selection.get() || schema);\n  }, [selection, schema]);\n  const [drake, setDrake] = useState(null);\n  const dragAndDropContext = {\n    drake\n  };\n  useEffect(() => {\n    let dragulaInstance = dragging.createDragulaInstance({\n      container: [DRAG_CONTAINER_CLS, DROP_CONTAINER_VERTICAL_CLS, DROP_CONTAINER_HORIZONTAL_CLS],\n      mirrorContainer: formContainerRef.current\n    });\n    setDrake(dragulaInstance);\n    const onDetach = () => {\n      if (dragulaInstance) {\n        dragulaInstance.destroy();\n        eventBus.fire('dragula.destroyed');\n      }\n    };\n    const onAttach = () => {\n      onDetach();\n      dragulaInstance = dragging.createDragulaInstance({\n        container: [DRAG_CONTAINER_CLS, DROP_CONTAINER_VERTICAL_CLS, DROP_CONTAINER_HORIZONTAL_CLS],\n        mirrorContainer: formContainerRef.current\n      });\n      setDrake(dragulaInstance);\n    };\n    const onCreate = drake => {\n      setDrake(drake);\n    };\n    const onDragStart = () => {\n      set('grabbing');\n    };\n    const onDragEnd = () => {\n      unset();\n    };\n    eventBus.on('attach', onAttach);\n    eventBus.on('detach', onDetach);\n    eventBus.on('dragula.created', onCreate);\n    eventBus.on('drag.start', onDragStart);\n    eventBus.on('drag.end', onDragEnd);\n    return () => {\n      onDetach();\n      eventBus.off('attach', onAttach);\n      eventBus.off('detach', onDetach);\n      eventBus.off('dragula.created', onCreate);\n      eventBus.off('drag.start', onDragStart);\n      eventBus.off('drag.end', onDragEnd);\n    };\n  }, [dragging, eventBus]);\n\n  // fire event after render to notify interested parties\n  useEffect(() => {\n    if (hasInitialized) {\n      return;\n    }\n    setHasInitialized(true);\n    eventBus.fire('rendered');\n\n    // keep deprecated event to ensure backward compatibility\n    eventBus.fire('formEditor.rendered');\n  }, [eventBus, hasInitialized]);\n  const formRenderContext = useMemo(() => ({\n    Children,\n    Column,\n    Element: Element$1,\n    Empty,\n    Row,\n    hoverInfo: {}\n  }), []);\n  const formContext = useMemo(() => ({\n    getService(type, strict = true) {\n      // TODO(philippfromme): clean up\n      if (type === 'form') {\n        return {\n          _getState() {\n            return {\n              data: {},\n              errors: {},\n              properties: {\n                ariaLabel,\n                disabled: true\n              },\n              schema\n            };\n          }\n        };\n      }\n      return injector.get(type, strict);\n    },\n    formId: formEditor._id\n  }), [ariaLabel, formEditor, injector, schema]);\n  const onSubmit = useCallback(() => {}, []);\n  const onReset = useCallback(() => {}, []);\n\n  // attach default properties panel\n  const hasDefaultPropertiesPanel = defaultPropertiesPanel(propertiesPanelConfig);\n  useEffect(() => {\n    if (hasDefaultPropertiesPanel) {\n      propertiesPanel.attachTo(propertiesPanelRef.current);\n    }\n  }, [propertiesPanelRef, propertiesPanel, hasDefaultPropertiesPanel]);\n  return jsx(\"div\", {\n    class: \"fjs-form-editor\",\n    children: jsxs(SlotFillRoot, {\n      children: [jsxs(DragAndDropContext.Provider, {\n        value: dragAndDropContext,\n        children: [jsx(ModularSection, {\n          rootClass: \"fjs-palette-container\",\n          section: \"palette\",\n          children: jsx(Palette, {})\n        }), jsx(\"div\", {\n          ref: formContainerRef,\n          class: \"fjs-form-container\",\n          children: jsx(FormContext.Provider, {\n            value: formContext,\n            children: jsx(FormRenderContext.Provider, {\n              // @ts-ignore\n              value: formRenderContext,\n              children: jsx(FormComponent, {\n                onSubmit: onSubmit,\n                onReset: onReset\n              })\n            })\n          })\n        }), jsx(CreatePreview, {})]\n      }), hasDefaultPropertiesPanel && jsx(\"div\", {\n        class: \"fjs-editor-properties-container\",\n        ref: propertiesPanelRef\n      }), jsx(ModularSection, {\n        rootClass: \"fjs-render-injector-container\",\n        section: \"renderInjector\",\n        children: jsx(InjectedRendersRoot, {})\n      })]\n    })\n  });\n}\nfunction getFormFieldIndex(parent, formField) {\n  let fieldFormIndex = parent.components.length;\n  parent.components.forEach(({\n    id\n  }, index) => {\n    if (id === formField.id) {\n      fieldFormIndex = index;\n    }\n  });\n  return fieldFormIndex;\n}\nfunction CreatePreview(props) {\n  const {\n    drake\n  } = useContext(DragAndDropContext);\n  const formFields = useService$1('formFields');\n  useEffect(() => {\n    if (!drake) {\n      return;\n    }\n    function handleCloned(clone, original, type) {\n      const fieldType = clone.dataset.fieldType;\n\n      // (1) field preview\n      if (fieldType) {\n        const paletteEntry = findPaletteEntry(fieldType, formFields);\n        if (!paletteEntry) {\n          return;\n        }\n        const {\n          label\n        } = paletteEntry;\n        const Icon = getPaletteIcon(paletteEntry);\n        clone.innerHTML = '';\n        clone.class = 'gu-mirror';\n        clone.classList.add('fjs-field-preview-container');\n        if (original.classList.contains('fjs-palette-field')) {\n          // default to auto columns when creating from palette\n          clone.classList.add('cds--col');\n        }\n\n        // todo(pinussilvestrus): dragula, how to mitigate cursor position\n        // https://github.com/bevacqua/dragula/issues/285\n        render(jsx(FieldDragPreview, {\n          label: label,\n          Icon: Icon\n        }), clone);\n      } else {\n        // (2) row preview\n\n        // remove elements from copy (context pad, row dragger, ...)\n        ['fjs-context-pad', 'fjs-row-dragger', 'fjs-debug-columns'].forEach(cls => {\n          const cloneNode = clone.querySelectorAll('.' + cls);\n          cloneNode.length && cloneNode.forEach(e => e.remove());\n        });\n\n        // mirror grid\n        clone.classList.add('cds--grid');\n        clone.classList.add('cds--grid--condensed');\n      }\n    }\n    drake.on('cloned', handleCloned);\n    return () => drake.off('cloned', handleCloned);\n  }, [drake, formFields]);\n  return null;\n}\n\n// helper //////\n\nfunction findPaletteEntry(type, formFields) {\n  return collectPaletteEntries(formFields).find(entry => entry.type === type);\n}\nfunction defaultPropertiesPanel(propertiesPanelConfig) {\n  return !(propertiesPanelConfig && propertiesPanelConfig.parent);\n}\nfunction getRemoveButtonTitle(formField, formFields) {\n  const entry = findPaletteEntry(formField.type, formFields);\n  if (!entry) {\n    return 'Remove form field';\n  }\n  return `Remove ${entry.label}`;\n}\n\nclass Renderer {\n  constructor(renderConfig, eventBus, formEditor, injector) {\n    const {\n      container,\n      compact = false\n    } = renderConfig;\n    eventBus.on('form.init', function () {\n      // emit <canvas.init> so dependent components can hook in\n      // this is required to register keyboard bindings\n      eventBus.fire('canvas.init', {\n        svg: container,\n        viewport: null\n      });\n    });\n\n    // focus container on over if no selection\n    container.addEventListener('mouseover', function () {\n      if (document.activeElement === document.body) {\n        container.focus({\n          preventScroll: true\n        });\n      }\n    });\n\n    // ensure we focus the container if the users clicks\n    // inside; this follows input focus handling closely\n    container.addEventListener('click', function (event) {\n      // force focus when clicking container\n      if (!container.contains(document.activeElement)) {\n        container.focus({\n          preventScroll: true\n        });\n      }\n    });\n    const App = () => {\n      const [state, setState] = useState(formEditor._getState());\n      const formEditorContext = {\n        getService(type, strict = true) {\n          return injector.get(type, strict);\n        }\n      };\n      formEditor.on('changed', newState => {\n        setState(newState);\n      });\n      const {\n        schema\n      } = state;\n      if (!schema) {\n        return null;\n      }\n      return jsx(\"div\", {\n        class: `fjs-container fjs-editor-container ${compact ? 'fjs-editor-compact' : ''}`,\n        children: jsx(FormEditorContext.Provider, {\n          value: formEditorContext,\n          children: jsx(FormEditor$1, {})\n        })\n      });\n    };\n    eventBus.on('form.init', () => {\n      render(jsx(App, {}), container);\n    });\n    eventBus.on('form.destroy', () => {\n      render(null, container);\n    });\n  }\n}\nRenderer.$inject = ['config.renderer', 'eventBus', 'formEditor', 'injector'];\n\nconst RenderModule = {\n  __init__: ['formFields', 'renderer'],\n  formFields: ['type', EditorFormFields],\n  renderer: ['type', Renderer]\n};\n\nconst CoreModule = {\n  __depends__: [RenderModule],\n  debounce: ['factory', DebounceFactory],\n  eventBus: ['type', EventBus],\n  importer: ['type', Importer],\n  formFieldRegistry: ['type', FormFieldRegistry],\n  pathRegistry: ['type', PathRegistry],\n  formLayouter: ['type', FormLayouter],\n  formLayoutValidator: ['type', FormLayoutValidator],\n  fieldFactory: ['type', FieldFactory]\n};\n\n/**\n * @typedef {import('didi').Injector} Injector\n *\n * @typedef {import('../../core/EventBus').default} EventBus\n */\n\nvar NOT_REGISTERED_ERROR = 'is not a registered action',\n  IS_REGISTERED_ERROR = 'is already registered';\n\n/**\n * An interface that provides access to modeling actions by decoupling\n * the one who requests the action to be triggered and the trigger itself.\n *\n * It's possible to add new actions by registering them with registerAction\n * and likewise unregister existing ones with unregisterAction.\n *\n *\n * ## Life-Cycle and configuration\n *\n * The editor actions will wait for diagram initialization before\n * registering default actions _and_ firing an `editorActions.init` event.\n *\n * Interested parties may listen to the `editorActions.init` event with\n * low priority to check, which actions got registered. Other components\n * may use the event to register their own actions via `registerAction`.\n *\n * @param {EventBus} eventBus\n * @param {Injector} injector\n */\nfunction EditorActions(eventBus, injector) {\n  // initialize actions\n  this._actions = {};\n  var self = this;\n  eventBus.on('diagram.init', function () {\n    // all diagram modules got loaded; check which ones\n    // are available and register the respective default actions\n    self._registerDefaultActions(injector);\n\n    // ask interested parties to register available editor\n    // actions on diagram initialization\n    eventBus.fire('editorActions.init', {\n      editorActions: self\n    });\n  });\n}\nEditorActions.$inject = ['eventBus', 'injector'];\n\n/**\n * Register default actions.\n *\n * @param {Injector} injector\n */\nEditorActions.prototype._registerDefaultActions = function (injector) {\n  // (1) retrieve optional components to integrate with\n\n  var commandStack = injector.get('commandStack', false);\n  var modeling = injector.get('modeling', false);\n  var selection = injector.get('selection', false);\n  var zoomScroll = injector.get('zoomScroll', false);\n  var copyPaste = injector.get('copyPaste', false);\n  var canvas = injector.get('canvas', false);\n  var rules = injector.get('rules', false);\n  var keyboardMove = injector.get('keyboardMove', false);\n  var keyboardMoveSelection = injector.get('keyboardMoveSelection', false);\n\n  // (2) check components and register actions\n\n  if (commandStack) {\n    this.register('undo', function () {\n      commandStack.undo();\n    });\n    this.register('redo', function () {\n      commandStack.redo();\n    });\n  }\n  if (copyPaste && selection) {\n    this.register('copy', function () {\n      var selectedElements = selection.get();\n      if (selectedElements.length) {\n        return copyPaste.copy(selectedElements);\n      }\n    });\n  }\n  if (copyPaste && selection) {\n    this.register('duplicate', function () {\n      var selectedElements = selection.get();\n      if (selectedElements.length) {\n        return copyPaste.duplicate(selectedElements);\n      }\n    });\n  }\n  if (copyPaste) {\n    this.register('paste', function () {\n      copyPaste.paste();\n    });\n  }\n  if (copyPaste && selection && rules) {\n    this.register('cut', function () {\n      var selectedElements = selection.get();\n      if (!selectedElements.length) {\n        return;\n      }\n      var allowed = rules.allowed('elements.delete', {\n        elements: selectedElements\n      });\n      if (allowed === false) {\n        return;\n      }\n      var cuttableElements = isArray(allowed) ? allowed : selectedElements;\n      return copyPaste.cut(cuttableElements.slice());\n    });\n  }\n  if (zoomScroll) {\n    this.register('stepZoom', function (opts) {\n      zoomScroll.stepZoom(opts.value);\n    });\n  }\n  if (canvas) {\n    this.register('zoom', function (opts) {\n      canvas.zoom(opts.value);\n    });\n  }\n  if (modeling && selection && rules) {\n    this.register('removeSelection', function () {\n      var selectedElements = selection.get();\n      if (!selectedElements.length) {\n        return;\n      }\n      var allowed = rules.allowed('elements.delete', {\n          elements: selectedElements\n        }),\n        removableElements;\n      if (allowed === false) {\n        return;\n      } else if (isArray(allowed)) {\n        removableElements = allowed;\n      } else {\n        removableElements = selectedElements;\n      }\n      if (removableElements.length) {\n        modeling.removeElements(removableElements.slice());\n      }\n    });\n  }\n  if (keyboardMove) {\n    this.register('moveCanvas', function (opts) {\n      keyboardMove.moveCanvas(opts);\n    });\n  }\n  if (keyboardMoveSelection) {\n    this.register('moveSelection', function (opts) {\n      keyboardMoveSelection.moveSelection(opts.direction, opts.accelerated);\n    });\n  }\n};\n\n/**\n * Triggers a registered action\n *\n * @param {string} action\n * @param {Object} opts\n *\n * @return {unknown} Returns what the registered listener returns\n */\nEditorActions.prototype.trigger = function (action, opts) {\n  if (!this._actions[action]) {\n    throw error(action, NOT_REGISTERED_ERROR);\n  }\n  return this._actions[action](opts);\n};\n\n/**\n * Registers a collections of actions.\n * The key of the object will be the name of the action.\n *\n * @example\n *\n * ```javascript\n * var actions = {\n *   spaceTool: function() {\n *     spaceTool.activateSelection();\n *   },\n *   lassoTool: function() {\n *     lassoTool.activateSelection();\n *   }\n * ];\n *\n * editorActions.register(actions);\n *\n * editorActions.isRegistered('spaceTool'); // true\n * ```\n *\n * @param {Object} actions\n */\nEditorActions.prototype.register = function (actions, listener) {\n  var self = this;\n  if (typeof actions === 'string') {\n    return this._registerAction(actions, listener);\n  }\n  forEach(actions, function (listener, action) {\n    self._registerAction(action, listener);\n  });\n};\n\n/**\n * Registers a listener to an action key\n *\n * @param {string} action\n * @param {Function} listener\n */\nEditorActions.prototype._registerAction = function (action, listener) {\n  if (this.isRegistered(action)) {\n    throw error(action, IS_REGISTERED_ERROR);\n  }\n  this._actions[action] = listener;\n};\n\n/**\n * Unregister an existing action\n *\n * @param {string} action\n */\nEditorActions.prototype.unregister = function (action) {\n  if (!this.isRegistered(action)) {\n    throw error(action, NOT_REGISTERED_ERROR);\n  }\n  this._actions[action] = undefined;\n};\n\n/**\n * Returns the identifiers of all currently registered editor actions\n *\n * @return {string[]}\n */\nEditorActions.prototype.getActions = function () {\n  return Object.keys(this._actions);\n};\n\n/**\n * Checks wether the given action is registered\n *\n * @param {string} action\n *\n * @return {boolean}\n */\nEditorActions.prototype.isRegistered = function (action) {\n  return !!this._actions[action];\n};\nfunction error(action, message) {\n  return new Error(action + ' ' + message);\n}\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\nvar BaseEditorActionsModule = {\n  __init__: ['editorActions'],\n  editorActions: ['type', EditorActions]\n};\n\nclass FormEditorActions extends EditorActions {\n  constructor(eventBus, injector) {\n    super(eventBus, injector);\n    eventBus.on('form.init', () => {\n      this._registerDefaultActions(injector);\n      eventBus.fire('editorActions.init', {\n        editorActions: this\n      });\n    });\n  }\n  _registerDefaultActions(injector) {\n    const commandStack = injector.get('commandStack', false),\n      formFieldRegistry = injector.get('formFieldRegistry', false),\n      selection = injector.get('selection', false);\n    if (commandStack) {\n      // @ts-ignore\n      this.register('undo', () => {\n        commandStack.undo();\n      });\n\n      // @ts-ignore\n      this.register('redo', () => {\n        commandStack.redo();\n      });\n    }\n    if (formFieldRegistry && selection) {\n      // @ts-ignore\n      this.register('selectFormField', (options = {}) => {\n        const {\n          id\n        } = options;\n        if (!id) {\n          return;\n        }\n        const formField = formFieldRegistry.get(id);\n        if (formField) {\n          selection.set(formField);\n        }\n      });\n    }\n  }\n}\nFormEditorActions.$inject = ['eventBus', 'injector'];\n\nconst EditorActionsModule = {\n  __depends__: [BaseEditorActionsModule],\n  editorActions: ['type', FormEditorActions]\n};\n\nclass EditorTemplating {\n  // same rules as viewer templating\n  isTemplate(value) {\n    return isString(value) && (value.startsWith('=') || /{{/.test(value));\n  }\n\n  // return the template raw, as we usually just want to display that\n  evaluate(template) {\n    return template;\n  }\n}\nEditorTemplating.$inject = [];\n\nconst EditorExpressionLanguageModule = {\n  __init__: ['expressionLanguage', 'templating'],\n  expressionLanguage: ['type', FeelExpressionLanguage],\n  templating: ['type', EditorTemplating]\n};\n\nvar KEYS_COPY = ['c', 'C'];\nvar KEYS_PASTE = ['v', 'V'];\nvar KEYS_DUPLICATE = ['d', 'D'];\nvar KEYS_CUT = ['x', 'X'];\nvar KEYS_REDO = ['y', 'Y'];\nvar KEYS_UNDO = ['z', 'Z'];\n\n/**\r\n * Returns true if event was triggered with any modifier\r\n * @param {KeyboardEvent} event\r\n */\nfunction hasModifier(event) {\n  return event.ctrlKey || event.metaKey || event.shiftKey || event.altKey;\n}\n\n/**\r\n * @param {KeyboardEvent} event\r\n * @return {boolean}\r\n */\nfunction isCmd$1(event) {\n  // ensure we don't react to AltGr\n  // (mapped to CTRL + ALT)\n  if (event.altKey) {\n    return false;\n  }\n  return event.ctrlKey || event.metaKey;\n}\n\n/**\r\n * Checks if key pressed is one of provided keys.\r\n *\r\n * @param {string|string[]} keys\r\n * @param {KeyboardEvent} event\r\n * @return {boolean}\r\n */\nfunction isKey(keys, event) {\n  keys = isArray(keys) ? keys : [keys];\n  return keys.indexOf(event.key) !== -1 || keys.indexOf(event.code) !== -1;\n}\n\n/**\r\n * @param {KeyboardEvent} event\r\n */\nfunction isShift(event) {\n  return event.shiftKey;\n}\n\n/**\r\n * @param {KeyboardEvent} event\r\n */\nfunction isCopy(event) {\n  return isCmd$1(event) && isKey(KEYS_COPY, event);\n}\n\n/**\r\n * @param {KeyboardEvent} event\r\n */\nfunction isPaste(event) {\n  return isCmd$1(event) && isKey(KEYS_PASTE, event);\n}\n\n/**\r\n * @param {KeyboardEvent} event\r\n */\nfunction isDuplicate(event) {\n  return isCmd$1(event) && isKey(KEYS_DUPLICATE, event);\n}\n\n/**\r\n * @param {KeyboardEvent} event\r\n */\nfunction isCut(event) {\n  return isCmd$1(event) && isKey(KEYS_CUT, event);\n}\n\n/**\r\n * @param {KeyboardEvent} event\r\n */\nfunction isUndo(event) {\n  return isCmd$1(event) && !isShift(event) && isKey(KEYS_UNDO, event);\n}\n\n/**\r\n * @param {KeyboardEvent} event\r\n */\nfunction isRedo(event) {\n  return isCmd$1(event) && (isKey(KEYS_REDO, event) || isKey(KEYS_UNDO, event) && isShift(event));\n}\n\n/**\n * @typedef {import('../../core/EventBus').default} EventBus\n *\n * @typedef {({ keyEvent: KeyboardEvent }) => any} Listener\n */\n\nvar KEYDOWN_EVENT = 'keyboard.keydown',\n  KEYUP_EVENT = 'keyboard.keyup';\nvar DEFAULT_PRIORITY$2 = 1000;\nvar compatMessage = 'Keyboard binding is now implicit; explicit binding to an element got removed. For more information, see https://github.com/bpmn-io/diagram-js/issues/661';\n\n/**\n * A keyboard abstraction that may be activated and\n * deactivated by users at will, consuming global key events\n * and triggering diagram actions.\n *\n * For keys pressed down, keyboard fires `keyboard.keydown` event.\n * The event context contains one field which is `KeyboardEvent` event.\n *\n * The implementation fires the following key events that allow\n * other components to hook into key handling:\n *\n *  - keyboard.bind\n *  - keyboard.unbind\n *  - keyboard.init\n *  - keyboard.destroy\n *\n * All events contain one field which is node.\n *\n * Specify the initial keyboard binding state via the\n * `keyboard.bind=true|false` configuration option.\n *\n * @param {Object} config\n * @param {boolean} [config.bind]\n * @param {EventBus} eventBus\n */\nfunction Keyboard(config, eventBus) {\n  var self = this;\n  this._config = config = config || {};\n  this._eventBus = eventBus;\n  this._keydownHandler = this._keydownHandler.bind(this);\n  this._keyupHandler = this._keyupHandler.bind(this);\n\n  // properly clean dom registrations\n  eventBus.on('diagram.destroy', function () {\n    self._fire('destroy');\n    self.unbind();\n  });\n  if (config.bindTo) {\n    console.error('unsupported configuration <keyboard.bindTo>', new Error(compatMessage));\n  }\n  var bind = config && config.bind !== false;\n  eventBus.on('canvas.init', function (event) {\n    self._target = event.svg;\n    if (bind) {\n      self.bind();\n    }\n    self._fire('init');\n  });\n}\nKeyboard.$inject = ['config.keyboard', 'eventBus'];\nKeyboard.prototype._keydownHandler = function (event) {\n  this._keyHandler(event, KEYDOWN_EVENT);\n};\nKeyboard.prototype._keyupHandler = function (event) {\n  this._keyHandler(event, KEYUP_EVENT);\n};\nKeyboard.prototype._keyHandler = function (event, type) {\n  var eventBusResult;\n  if (this._isEventIgnored(event)) {\n    return;\n  }\n  var context = {\n    keyEvent: event\n  };\n  eventBusResult = this._eventBus.fire(type || KEYDOWN_EVENT, context);\n  if (eventBusResult) {\n    event.preventDefault();\n  }\n};\nKeyboard.prototype._isEventIgnored = function (event) {\n  return false;\n};\n\n/**\n * Bind keyboard events to the given DOM node.\n *\n * @overlord\n * @deprecated No longer in use since version 15.0.0.\n *\n * @param {EventTarget} node\n */\n/**\n * Bind keyboard events to the canvas node.\n */\nKeyboard.prototype.bind = function (node) {\n  // legacy <node> argument provided\n  if (node) {\n    console.error('unsupported argument <node>', new Error(compatMessage));\n  }\n\n  // make sure that the keyboard is only bound once to the DOM\n  this.unbind();\n  node = this._node = this._target;\n\n  // bind key events\n  event.bind(node, 'keydown', this._keydownHandler);\n  event.bind(node, 'keyup', this._keyupHandler);\n  this._fire('bind');\n};\n\n/**\n * @return {EventTarget}\n */\nKeyboard.prototype.getBinding = function () {\n  return this._node;\n};\nKeyboard.prototype.unbind = function () {\n  var node = this._node;\n  if (node) {\n    this._fire('unbind');\n\n    // unbind key events\n    event.unbind(node, 'keydown', this._keydownHandler);\n    event.unbind(node, 'keyup', this._keyupHandler);\n  }\n  this._node = null;\n};\n\n/**\n * @param {string} event\n */\nKeyboard.prototype._fire = function (event) {\n  this._eventBus.fire('keyboard.' + event, {\n    node: this._node\n  });\n};\n\n/**\n * Add a listener function that is notified with `KeyboardEvent` whenever\n * the keyboard is bound and the user presses a key. If no priority is\n * provided, the default value of 1000 is used.\n *\n * @param {number} [priority]\n * @param {Listener} listener\n * @param {string} [type='keyboard.keydown']\n */\nKeyboard.prototype.addListener = function (priority, listener, type) {\n  if (isFunction(priority)) {\n    type = listener;\n    listener = priority;\n    priority = DEFAULT_PRIORITY$2;\n  }\n  this._eventBus.on(type || KEYDOWN_EVENT, priority, listener);\n};\n\n/**\n * Remove a listener function.\n *\n * @param {Listener} listener\n * @param {string} [type='keyboard.keydown']\n */\nKeyboard.prototype.removeListener = function (listener, type) {\n  this._eventBus.off(type || KEYDOWN_EVENT, listener);\n};\nKeyboard.prototype.hasModifier = hasModifier;\nKeyboard.prototype.isCmd = isCmd$1;\nKeyboard.prototype.isShift = isShift;\nKeyboard.prototype.isKey = isKey;\n\nvar LOW_PRIORITY$1 = 500;\n\n/**\n * Adds default keyboard bindings.\n *\n * This does not pull in any features will bind only actions that\n * have previously been registered against the editorActions component.\n *\n * @param {EventBus} eventBus\n * @param {Keyboard} keyboard\n */\nfunction KeyboardBindings(eventBus, keyboard) {\n  var self = this;\n  eventBus.on('editorActions.init', LOW_PRIORITY$1, function (event) {\n    var editorActions = event.editorActions;\n    self.registerBindings(keyboard, editorActions);\n  });\n}\nKeyboardBindings.$inject = ['eventBus', 'keyboard'];\n\n/**\n * Register available keyboard bindings.\n *\n * @param {Keyboard} keyboard\n * @param {EditorActions} editorActions\n */\nKeyboardBindings.prototype.registerBindings = function (keyboard, editorActions) {\n  /**\n   * Add keyboard binding if respective editor action\n   * is registered.\n   *\n   * @param {string} action name\n   * @param {Function} fn that implements the key binding\n   */\n  function addListener(action, fn) {\n    if (editorActions.isRegistered(action)) {\n      keyboard.addListener(fn);\n    }\n  }\n\n  // undo\n  // (CTRL|CMD) + Z\n  addListener('undo', function (context) {\n    var event = context.keyEvent;\n    if (isUndo(event)) {\n      editorActions.trigger('undo');\n      return true;\n    }\n  });\n\n  // redo\n  // CTRL + Y\n  // CMD + SHIFT + Z\n  addListener('redo', function (context) {\n    var event = context.keyEvent;\n    if (isRedo(event)) {\n      editorActions.trigger('redo');\n      return true;\n    }\n  });\n\n  // copy\n  // CTRL/CMD + C\n  addListener('copy', function (context) {\n    var event = context.keyEvent;\n    if (isCopy(event)) {\n      editorActions.trigger('copy');\n      return true;\n    }\n  });\n\n  // paste\n  // CTRL/CMD + V\n  addListener('paste', function (context) {\n    var event = context.keyEvent;\n    if (isPaste(event)) {\n      editorActions.trigger('paste');\n      return true;\n    }\n  });\n\n  // duplicate\n  // CTRL/CMD + D\n  addListener('duplicate', function (context) {\n    var event = context.keyEvent;\n    if (isDuplicate(event)) {\n      editorActions.trigger('duplicate');\n      return true;\n    }\n  });\n\n  // cut\n  // CTRL/CMD + X\n  addListener('cut', function (context) {\n    var event = context.keyEvent;\n    if (isCut(event)) {\n      editorActions.trigger('cut');\n      return true;\n    }\n  });\n\n  // zoom in one step\n  // CTRL/CMD + +\n  addListener('stepZoom', function (context) {\n    var event = context.keyEvent;\n\n    // quirk: it has to be triggered by `=` as well to work on international keyboard layout\n    // cf: https://github.com/bpmn-io/bpmn-js/issues/1362#issuecomment-722989754\n    if (isKey(['+', 'Add', '='], event) && isCmd$1(event)) {\n      editorActions.trigger('stepZoom', {\n        value: 1\n      });\n      return true;\n    }\n  });\n\n  // zoom out one step\n  // CTRL + -\n  addListener('stepZoom', function (context) {\n    var event = context.keyEvent;\n    if (isKey(['-', 'Subtract'], event) && isCmd$1(event)) {\n      editorActions.trigger('stepZoom', {\n        value: -1\n      });\n      return true;\n    }\n  });\n\n  // zoom to the default level\n  // CTRL + 0\n  addListener('zoom', function (context) {\n    var event = context.keyEvent;\n    if (isKey('0', event) && isCmd$1(event)) {\n      editorActions.trigger('zoom', {\n        value: 1\n      });\n      return true;\n    }\n  });\n\n  // delete selected element\n  // DEL\n  addListener('removeSelection', function (context) {\n    var event = context.keyEvent;\n    if (isKey(['Backspace', 'Delete', 'Del'], event)) {\n      editorActions.trigger('removeSelection');\n      return true;\n    }\n  });\n};\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\nvar KeyboardModule = {\n  __init__: ['keyboard', 'keyboardBindings'],\n  keyboard: ['type', Keyboard],\n  keyboardBindings: ['type', KeyboardBindings]\n};\n\nconst LOW_PRIORITY = 500;\nclass FormEditorKeyboardBindings {\n  constructor(eventBus, keyboard) {\n    eventBus.on('editorActions.init', LOW_PRIORITY, event => {\n      const {\n        editorActions\n      } = event;\n      this.registerBindings(keyboard, editorActions);\n    });\n  }\n  registerBindings(keyboard, editorActions) {\n    function addListener(action, fn) {\n      if (editorActions.isRegistered(action)) {\n        keyboard.addListener(fn);\n      }\n    }\n\n    // undo\n    // (CTRL|CMD) + Z\n    addListener('undo', context => {\n      const {\n        keyEvent\n      } = context;\n      if (isUndo(keyEvent)) {\n        editorActions.trigger('undo');\n        return true;\n      }\n    });\n\n    // redo\n    // CTRL + Y\n    // CMD + SHIFT + Z\n    addListener('redo', context => {\n      const {\n        keyEvent\n      } = context;\n      if (isRedo(keyEvent)) {\n        editorActions.trigger('redo');\n        return true;\n      }\n    });\n  }\n}\nFormEditorKeyboardBindings.$inject = ['eventBus', 'keyboard'];\n\nconst FormEditorKeyboardModule = {\n  __depends__: [KeyboardModule],\n  __init__: ['keyboardBindings'],\n  keyboardBindings: ['type', FormEditorKeyboardBindings]\n};\n\nconst DraggingModule = {\n  __init__: ['dragging'],\n  dragging: ['type', Dragging]\n};\n\n/**\n * @typedef {import('didi').Injector} Injector\n *\n * @typedef {import('../core/Types').ElementLike} ElementLike\n *\n * @typedef {import('../core/EventBus').default} EventBus\n * @typedef {import('./CommandHandler').default} CommandHandler\n *\n * @typedef { any } CommandContext\n * @typedef { {\n *   new (...args: any[]) : CommandHandler\n * } } CommandHandlerConstructor\n * @typedef { {\n *   [key: string]: CommandHandler;\n * } } CommandHandlerMap\n * @typedef { {\n *   command: string;\n *   context: any;\n *   id?: any;\n * } } CommandStackAction\n * @typedef { {\n *   actions: CommandStackAction[];\n *   dirty: ElementLike[];\n *   trigger: 'execute' | 'undo' | 'redo' | 'clear' | null;\n *   atomic?: boolean;\n * } } CurrentExecution\n */\n\n/**\n * A service that offers un- and redoable execution of commands.\n *\n * The command stack is responsible for executing modeling actions\n * in a un- and redoable manner. To do this it delegates the actual\n * command execution to {@link CommandHandler}s.\n *\n * Command handlers provide {@link CommandHandler#execute(ctx)} and\n * {@link CommandHandler#revert(ctx)} methods to un- and redo a command\n * identified by a command context.\n *\n *\n * ## Life-Cycle events\n *\n * In the process the command stack fires a number of life-cycle events\n * that other components to participate in the command execution.\n *\n *    * preExecute\n *    * preExecuted\n *    * execute\n *    * executed\n *    * postExecute\n *    * postExecuted\n *    * revert\n *    * reverted\n *\n * A special event is used for validating, whether a command can be\n * performed prior to its execution.\n *\n *    * canExecute\n *\n * Each of the events is fired as `commandStack.{eventName}` and\n * `commandStack.{commandName}.{eventName}`, respectively. This gives\n * components fine grained control on where to hook into.\n *\n * The event object fired transports `command`, the name of the\n * command and `context`, the command context.\n *\n *\n * ## Creating Command Handlers\n *\n * Command handlers should provide the {@link CommandHandler#execute(ctx)}\n * and {@link CommandHandler#revert(ctx)} methods to implement\n * redoing and undoing of a command.\n *\n * A command handler _must_ ensure undo is performed properly in order\n * not to break the undo chain. It must also return the shapes that\n * got changed during the `execute` and `revert` operations.\n *\n * Command handlers may execute other modeling operations (and thus\n * commands) in their `preExecute(d)` and `postExecute(d)` phases. The command\n * stack will properly group all commands together into a logical unit\n * that may be re- and undone atomically.\n *\n * Command handlers must not execute other commands from within their\n * core implementation (`execute`, `revert`).\n *\n *\n * ## Change Tracking\n *\n * During the execution of the CommandStack it will keep track of all\n * elements that have been touched during the command's execution.\n *\n * At the end of the CommandStack execution it will notify interested\n * components via an 'elements.changed' event with all the dirty\n * elements.\n *\n * The event can be picked up by components that are interested in the fact\n * that elements have been changed. One use case for this is updating\n * their graphical representation after moving / resizing or deletion.\n *\n * @see CommandHandler\n *\n * @param {EventBus} eventBus\n * @param {Injector} injector\n */\nfunction CommandStack(eventBus, injector) {\n  /**\n   * A map of all registered command handlers.\n   *\n   * @type {CommandHandlerMap}\n   */\n  this._handlerMap = {};\n\n  /**\n   * A stack containing all re/undoable actions on the diagram\n   *\n   * @type {CommandStackAction[]}\n   */\n  this._stack = [];\n\n  /**\n   * The current index on the stack\n   *\n   * @type {number}\n   */\n  this._stackIdx = -1;\n\n  /**\n   * Current active commandStack execution\n   *\n   * @type {CurrentExecution}\n   */\n  this._currentExecution = {\n    actions: [],\n    dirty: [],\n    trigger: null\n  };\n\n  /**\n   * @type {Injector}\n   */\n  this._injector = injector;\n\n  /**\n   * @type EventBus\n   */\n  this._eventBus = eventBus;\n\n  /**\n   * @type { number }\n   */\n  this._uid = 1;\n  eventBus.on(['diagram.destroy', 'diagram.clear'], function () {\n    this.clear(false);\n  }, this);\n}\nCommandStack.$inject = ['eventBus', 'injector'];\n\n/**\n * Execute a command.\n *\n * @param {string} command The command to execute.\n * @param {CommandContext} context The context with which to execute the command.\n */\nCommandStack.prototype.execute = function (command, context) {\n  if (!command) {\n    throw new Error('command required');\n  }\n  this._currentExecution.trigger = 'execute';\n  const action = {\n    command: command,\n    context: context\n  };\n  this._pushAction(action);\n  this._internalExecute(action);\n  this._popAction();\n};\n\n/**\n * Check whether a command can be executed.\n *\n * Implementors may hook into the mechanism on two ways:\n *\n *   * in event listeners:\n *\n *     Users may prevent the execution via an event listener.\n *     It must prevent the default action for `commandStack.(<command>.)canExecute` events.\n *\n *   * in command handlers:\n *\n *     If the method {@link CommandHandler#canExecute} is implemented in a handler\n *     it will be called to figure out whether the execution is allowed.\n *\n * @param {string} command The command to execute.\n * @param {CommandContext} context The context with which to execute the command.\n *\n * @return {boolean} Whether the command can be executed with the given context.\n */\nCommandStack.prototype.canExecute = function (command, context) {\n  const action = {\n    command: command,\n    context: context\n  };\n  const handler = this._getHandler(command);\n  let result = this._fire(command, 'canExecute', action);\n\n  // handler#canExecute will only be called if no listener\n  // decided on a result already\n  if (result === undefined) {\n    if (!handler) {\n      return false;\n    }\n    if (handler.canExecute) {\n      result = handler.canExecute(context);\n    }\n  }\n  return result;\n};\n\n/**\n * Clear the command stack, erasing all undo / redo history.\n *\n * @param {boolean} [emit=true] Whether to fire an event. Defaults to `true`.\n */\nCommandStack.prototype.clear = function (emit) {\n  this._stack.length = 0;\n  this._stackIdx = -1;\n  if (emit !== false) {\n    this._fire('changed', {\n      trigger: 'clear'\n    });\n  }\n};\n\n/**\n * Undo last command(s)\n */\nCommandStack.prototype.undo = function () {\n  let action = this._getUndoAction(),\n    next;\n  if (action) {\n    this._currentExecution.trigger = 'undo';\n    this._pushAction(action);\n    while (action) {\n      this._internalUndo(action);\n      next = this._getUndoAction();\n      if (!next || next.id !== action.id) {\n        break;\n      }\n      action = next;\n    }\n    this._popAction();\n  }\n};\n\n/**\n * Redo last command(s)\n */\nCommandStack.prototype.redo = function () {\n  let action = this._getRedoAction(),\n    next;\n  if (action) {\n    this._currentExecution.trigger = 'redo';\n    this._pushAction(action);\n    while (action) {\n      this._internalExecute(action, true);\n      next = this._getRedoAction();\n      if (!next || next.id !== action.id) {\n        break;\n      }\n      action = next;\n    }\n    this._popAction();\n  }\n};\n\n/**\n * Register a handler instance with the command stack.\n *\n * @param {string} command Command to be executed.\n * @param {CommandHandler} handler Handler to execute the command.\n */\nCommandStack.prototype.register = function (command, handler) {\n  this._setHandler(command, handler);\n};\n\n/**\n * Register a handler type with the command stack  by instantiating it and\n * injecting its dependencies.\n *\n * @param {string} command Command to be executed.\n * @param {CommandHandlerConstructor} handlerCls Constructor to instantiate a {@link CommandHandler}.\n */\nCommandStack.prototype.registerHandler = function (command, handlerCls) {\n  if (!command || !handlerCls) {\n    throw new Error('command and handlerCls must be defined');\n  }\n  const handler = this._injector.instantiate(handlerCls);\n  this.register(command, handler);\n};\n\n/**\n * @return {boolean}\n */\nCommandStack.prototype.canUndo = function () {\n  return !!this._getUndoAction();\n};\n\n/**\n * @return {boolean}\n */\nCommandStack.prototype.canRedo = function () {\n  return !!this._getRedoAction();\n};\n\n// stack access  //////////////////////\n\nCommandStack.prototype._getRedoAction = function () {\n  return this._stack[this._stackIdx + 1];\n};\nCommandStack.prototype._getUndoAction = function () {\n  return this._stack[this._stackIdx];\n};\n\n// internal functionality //////////////////////\n\nCommandStack.prototype._internalUndo = function (action) {\n  const command = action.command,\n    context = action.context;\n  const handler = this._getHandler(command);\n\n  // guard against illegal nested command stack invocations\n  this._atomicDo(() => {\n    this._fire(command, 'revert', action);\n    if (handler.revert) {\n      this._markDirty(handler.revert(context));\n    }\n    this._revertedAction(action);\n    this._fire(command, 'reverted', action);\n  });\n};\nCommandStack.prototype._fire = function (command, qualifier, event) {\n  if (arguments.length < 3) {\n    event = qualifier;\n    qualifier = null;\n  }\n  const names = qualifier ? [command + '.' + qualifier, qualifier] : [command];\n  let result;\n  event = this._eventBus.createEvent(event);\n  for (const name of names) {\n    result = this._eventBus.fire('commandStack.' + name, event);\n    if (event.cancelBubble) {\n      break;\n    }\n  }\n  return result;\n};\nCommandStack.prototype._createId = function () {\n  return this._uid++;\n};\nCommandStack.prototype._atomicDo = function (fn) {\n  const execution = this._currentExecution;\n  execution.atomic = true;\n  try {\n    fn();\n  } finally {\n    execution.atomic = false;\n  }\n};\nCommandStack.prototype._internalExecute = function (action, redo) {\n  const command = action.command,\n    context = action.context;\n  const handler = this._getHandler(command);\n  if (!handler) {\n    throw new Error('no command handler registered for <' + command + '>');\n  }\n  this._pushAction(action);\n  if (!redo) {\n    this._fire(command, 'preExecute', action);\n    if (handler.preExecute) {\n      handler.preExecute(context);\n    }\n    this._fire(command, 'preExecuted', action);\n  }\n\n  // guard against illegal nested command stack invocations\n  this._atomicDo(() => {\n    this._fire(command, 'execute', action);\n    if (handler.execute) {\n      // actual execute + mark return results as dirty\n      this._markDirty(handler.execute(context));\n    }\n\n    // log to stack\n    this._executedAction(action, redo);\n    this._fire(command, 'executed', action);\n  });\n  if (!redo) {\n    this._fire(command, 'postExecute', action);\n    if (handler.postExecute) {\n      handler.postExecute(context);\n    }\n    this._fire(command, 'postExecuted', action);\n  }\n  this._popAction();\n};\nCommandStack.prototype._pushAction = function (action) {\n  const execution = this._currentExecution,\n    actions = execution.actions;\n  const baseAction = actions[0];\n  if (execution.atomic) {\n    throw new Error('illegal invocation in <execute> or <revert> phase (action: ' + action.command + ')');\n  }\n  if (!action.id) {\n    action.id = baseAction && baseAction.id || this._createId();\n  }\n  actions.push(action);\n};\nCommandStack.prototype._popAction = function () {\n  const execution = this._currentExecution,\n    trigger = execution.trigger,\n    actions = execution.actions,\n    dirty = execution.dirty;\n  actions.pop();\n  if (!actions.length) {\n    this._eventBus.fire('elements.changed', {\n      elements: uniqueBy('id', dirty.reverse())\n    });\n    dirty.length = 0;\n    this._fire('changed', {\n      trigger: trigger\n    });\n    execution.trigger = null;\n  }\n};\nCommandStack.prototype._markDirty = function (elements) {\n  const execution = this._currentExecution;\n  if (!elements) {\n    return;\n  }\n  elements = isArray(elements) ? elements : [elements];\n  execution.dirty = execution.dirty.concat(elements);\n};\nCommandStack.prototype._executedAction = function (action, redo) {\n  const stackIdx = ++this._stackIdx;\n  if (!redo) {\n    this._stack.splice(stackIdx, this._stack.length, action);\n  }\n};\nCommandStack.prototype._revertedAction = function (action) {\n  this._stackIdx--;\n};\nCommandStack.prototype._getHandler = function (command) {\n  return this._handlerMap[command];\n};\nCommandStack.prototype._setHandler = function (command, handler) {\n  if (!command || !handler) {\n    throw new Error('command and handler required');\n  }\n  if (this._handlerMap[command]) {\n    throw new Error('overriding handler for command <' + command + '>');\n  }\n  this._handlerMap[command] = handler;\n};\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\nvar commandModule = {\n  commandStack: ['type', CommandStack]\n};\n\n/**\n * @typedef {import('../core/Types').ElementLike} ElementLike\n * @typedef {import('../core/EventBus').default} EventBus\n * @typedef {import('./CommandStack').CommandContext} CommandContext\n *\n * @typedef {string|string[]} Events\n * @typedef { (context: CommandContext) => ElementLike[] | void } HandlerFunction\n * @typedef { (context: CommandContext) => void } ComposeHandlerFunction\n */\n\nvar DEFAULT_PRIORITY$1 = 1000;\n\n/**\n * A utility that can be used to plug into the command execution for\n * extension and/or validation.\n *\n * @class\n * @constructor\n *\n * @example\n *\n * ```javascript\n * import CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\n *\n * class CommandLogger extends CommandInterceptor {\n *   constructor(eventBus) {\n *     super(eventBus);\n *\n *   this.preExecute('shape.create', (event) => {\n *     console.log('commandStack.shape-create.preExecute', event);\n *   });\n * }\n * ```\n *\n * @param {EventBus} eventBus\n */\nfunction CommandInterceptor(eventBus) {\n  /**\n   * @type {EventBus}\n   */\n  this._eventBus = eventBus;\n}\nCommandInterceptor.$inject = ['eventBus'];\nfunction unwrapEvent(fn, that) {\n  return function (event) {\n    return fn.call(that || null, event.context, event.command, event);\n  };\n}\n\n/**\n * Intercept a command during one of the phases.\n *\n * @param {Events} [events] command(s) to intercept\n * @param {string} [hook] phase to intercept\n * @param {number} [priority]\n * @param {ComposeHandlerFunction|HandlerFunction} handlerFn\n * @param {boolean} [unwrap] whether the event should be unwrapped\n * @param {any} [that]\n */\nCommandInterceptor.prototype.on = function (events, hook, priority, handlerFn, unwrap, that) {\n  if (isFunction(hook) || isNumber(hook)) {\n    that = unwrap;\n    unwrap = handlerFn;\n    handlerFn = priority;\n    priority = hook;\n    hook = null;\n  }\n  if (isFunction(priority)) {\n    that = unwrap;\n    unwrap = handlerFn;\n    handlerFn = priority;\n    priority = DEFAULT_PRIORITY$1;\n  }\n  if (isObject(unwrap)) {\n    that = unwrap;\n    unwrap = false;\n  }\n  if (!isFunction(handlerFn)) {\n    throw new Error('handlerFn must be a function');\n  }\n  if (!isArray(events)) {\n    events = [events];\n  }\n  var eventBus = this._eventBus;\n  forEach(events, function (event) {\n    // concat commandStack(.event)?(.hook)?\n    var fullEvent = ['commandStack', event, hook].filter(function (e) {\n      return e;\n    }).join('.');\n    eventBus.on(fullEvent, priority, unwrap ? unwrapEvent(handlerFn, that) : handlerFn, that);\n  });\n};\n\n/**\n * Add a <canExecute> phase of command interceptor.\n *\n * @param {Events} [events] command(s) to intercept\n * @param {number} [priority]\n * @param {ComposeHandlerFunction|HandlerFunction} handlerFn\n * @param {boolean} [unwrap] whether the event should be unwrapped\n * @param {any} [that]\n */\nCommandInterceptor.prototype.canExecute = createHook('canExecute');\n\n/**\n * Add a <preExecute> phase of command interceptor.\n *\n * @param {Events} [events] command(s) to intercept\n * @param {number} [priority]\n * @param {ComposeHandlerFunction|HandlerFunction} handlerFn\n * @param {boolean} [unwrap] whether the event should be unwrapped\n * @param {any} [that]\n */\nCommandInterceptor.prototype.preExecute = createHook('preExecute');\n\n/**\n * Add a <preExecuted> phase of command interceptor.\n *\n * @param {Events} [events] command(s) to intercept\n * @param {number} [priority]\n * @param {ComposeHandlerFunction|HandlerFunction} handlerFn\n * @param {boolean} [unwrap] whether the event should be unwrapped\n * @param {any} [that]\n */\nCommandInterceptor.prototype.preExecuted = createHook('preExecuted');\n\n/**\n * Add a <execute> phase of command interceptor.\n *\n * @param {Events} [events] command(s) to intercept\n * @param {number} [priority]\n * @param {ComposeHandlerFunction|HandlerFunction} handlerFn\n * @param {boolean} [unwrap] whether the event should be unwrapped\n * @param {any} [that]\n */\nCommandInterceptor.prototype.execute = createHook('execute');\n\n/**\n * Add a <executed> phase of command interceptor.\n *\n * @param {Events} [events] command(s) to intercept\n * @param {number} [priority]\n * @param {ComposeHandlerFunction|HandlerFunction} handlerFn\n * @param {boolean} [unwrap] whether the event should be unwrapped\n * @param {any} [that]\n */\nCommandInterceptor.prototype.executed = createHook('executed');\n\n/**\n * Add a <postExecute> phase of command interceptor.\n *\n * @param {Events} [events] command(s) to intercept\n * @param {number} [priority]\n * @param {ComposeHandlerFunction|HandlerFunction} handlerFn\n * @param {boolean} [unwrap] whether the event should be unwrapped\n * @param {any} [that]\n */\nCommandInterceptor.prototype.postExecute = createHook('postExecute');\n\n/**\n * Add a <postExecuted> phase of command interceptor.\n *\n * @param {Events} [events] command(s) to intercept\n * @param {number} [priority]\n * @param {ComposeHandlerFunction|HandlerFunction} handlerFn\n * @param {boolean} [unwrap] whether the event should be unwrapped\n * @param {any} [that]\n */\nCommandInterceptor.prototype.postExecuted = createHook('postExecuted');\n\n/**\n * Add a <revert> phase of command interceptor.\n *\n * @param {Events} [events] command(s) to intercept\n * @param {number} [priority]\n * @param {ComposeHandlerFunction|HandlerFunction} handlerFn\n * @param {boolean} [unwrap] whether the event should be unwrapped\n * @param {any} [that]\n */\nCommandInterceptor.prototype.revert = createHook('revert');\n\n/**\n * Add a <reverted> phase of command interceptor.\n *\n * @param {Events} [events] command(s) to intercept\n * @param {number} [priority]\n * @param {ComposeHandlerFunction|HandlerFunction} handlerFn\n * @param {boolean} [unwrap] whether the event should be unwrapped\n * @param {any} [that]\n */\nCommandInterceptor.prototype.reverted = createHook('reverted');\n\n/*\n * Add prototype methods for each phase of command execution (e.g. execute,\n * revert).\n *\n * @param {string} hook\n *\n * @return { (\n *   events?: Events,\n *   priority?: number,\n *   handlerFn: ComposeHandlerFunction|HandlerFunction,\n *   unwrap?: boolean\n * ) => any }\n */\nfunction createHook(hook) {\n  /**\n   * @this {CommandInterceptor}\n   *\n   * @param {Events} [events]\n   * @param {number} [priority]\n   * @param {ComposeHandlerFunction|HandlerFunction} handlerFn\n   * @param {boolean} [unwrap]\n   * @param {any} [that]\n   */\n  const hookFn = function (events, priority, handlerFn, unwrap, that) {\n    if (isFunction(events) || isNumber(events)) {\n      that = unwrap;\n      unwrap = handlerFn;\n      handlerFn = priority;\n      priority = events;\n      events = null;\n    }\n    this.on(events, hook, priority, handlerFn, unwrap, that);\n  };\n  return hookFn;\n}\n\nclass IdBehavior extends CommandInterceptor {\n  constructor(eventBus, modeling) {\n    super(eventBus);\n    this.preExecute('formField.remove', function (context) {\n      const {\n        formField\n      } = context;\n      const {\n        id\n      } = formField;\n      modeling.unclaimId(formField, id);\n    }, true);\n    this.preExecute('formField.edit', function (context) {\n      const {\n        formField,\n        properties\n      } = context;\n      if ('id' in properties) {\n        modeling.unclaimId(formField, formField.id);\n        modeling.claimId(formField, properties.id);\n      }\n    }, true);\n  }\n}\nIdBehavior.$inject = ['eventBus', 'modeling'];\n\nclass KeyBehavior extends CommandInterceptor {\n  constructor(eventBus, modeling, formFields) {\n    super(eventBus);\n    this.preExecute('formField.remove', function (context) {\n      const {\n        formField\n      } = context;\n      const {\n        key,\n        type\n      } = formField;\n      const {\n        config\n      } = formFields.get(type);\n      if (config.keyed) {\n        modeling.unclaimKey(formField, key);\n      }\n    }, true);\n    this.preExecute('formField.edit', function (context) {\n      const {\n        formField,\n        properties\n      } = context;\n      const {\n        key,\n        type\n      } = formField;\n      const {\n        config\n      } = formFields.get(type);\n      if (config.keyed && 'key' in properties) {\n        modeling.unclaimKey(formField, key);\n        modeling.claimKey(formField, properties.key);\n      }\n    }, true);\n  }\n}\nKeyBehavior.$inject = ['eventBus', 'modeling', 'formFields'];\n\nclass PathBehavior extends CommandInterceptor {\n  constructor(eventBus, modeling, formFields) {\n    super(eventBus);\n    this.preExecute('formField.remove', function (context) {\n      const {\n        formField\n      } = context;\n      const {\n        path,\n        type\n      } = formField;\n      const {\n        config\n      } = formFields.get(type);\n      if (config.pathed) {\n        modeling.unclaimPath(formField, path);\n      }\n    }, true);\n    this.preExecute('formField.edit', function (context) {\n      const {\n        formField,\n        properties\n      } = context;\n      const {\n        path,\n        type\n      } = formField;\n      const {\n        config\n      } = formFields.get(type);\n      if (config.pathed && 'path' in properties) {\n        modeling.unclaimPath(formField, path);\n        modeling.claimPath(formField, properties.path);\n      }\n    }, true);\n  }\n}\nPathBehavior.$inject = ['eventBus', 'modeling', 'formFields'];\n\nclass ValidateBehavior extends CommandInterceptor {\n  constructor(eventBus) {\n    super(eventBus);\n\n    /**\n     * Remove custom validation if <validationType> is about to be added.\n     */\n    this.preExecute('formField.edit', function (context) {\n      const {\n        properties\n      } = context;\n      const {\n        validate = {}\n      } = properties;\n      if (validate.validationType) {\n        const newValidate = {\n          ...validate\n        };\n        delete newValidate.minLength;\n        delete newValidate.maxLength;\n        delete newValidate.pattern;\n        properties['validate'] = newValidate;\n      }\n    }, true);\n  }\n}\nValidateBehavior.$inject = ['eventBus'];\n\nclass OptionsSourceBehavior extends CommandInterceptor {\n  constructor(eventBus) {\n    super(eventBus);\n\n    /**\n     * Cleanup properties on changing the values source.\n     *\n     * 1) Remove other sources, e.g. set `values` => remove `valuesKey` and `valuesExpression`\n     * 2) Remove default values for all other values sources\n     */\n    this.preExecute('formField.edit', function (context) {\n      const {\n        properties\n      } = context;\n      const newProperties = {};\n      if (!isValuesSourceUpdate(properties)) {\n        return;\n      }\n\n      // clean up value sources that are not to going to be set\n      Object.values(OPTIONS_SOURCES).forEach(source => {\n        const path = OPTIONS_SOURCES_PATHS[source];\n        if (get(properties, path) == undefined) {\n          newProperties[OPTIONS_SOURCES_PATHS[source]] = undefined;\n        }\n      });\n\n      // clean up default value\n      if (get(properties, OPTIONS_SOURCES_PATHS[OPTIONS_SOURCES.EXPRESSION]) !== undefined || get(properties, OPTIONS_SOURCES_PATHS[OPTIONS_SOURCES.INPUT]) !== undefined) {\n        newProperties['defaultValue'] = undefined;\n      }\n      context.properties = {\n        ...properties,\n        ...newProperties\n      };\n    }, true);\n  }\n}\nOptionsSourceBehavior.$inject = ['eventBus'];\n\n// helper ///////////////////\n\nfunction isValuesSourceUpdate(properties) {\n  return Object.values(OPTIONS_SOURCES_PATHS).some(path => {\n    return get(properties, path) !== undefined;\n  });\n}\n\nconst COLUMNS_SOURCE_PROPERTIES = {\n  columns: 'columns',\n  columnsExpression: 'columnsExpression'\n};\nclass ColumnsSourceBehavior extends CommandInterceptor {\n  constructor(eventBus) {\n    super(eventBus);\n    this.preExecute('formField.edit', function (context) {\n      const {\n        properties,\n        oldProperties\n      } = context;\n      const isColumnSourceUpdate = Object.values(COLUMNS_SOURCE_PROPERTIES).some(path => {\n        return get(properties, [path]) !== undefined;\n      });\n      if (!isColumnSourceUpdate) {\n        return;\n      }\n      const columns = get(properties, [COLUMNS_SOURCE_PROPERTIES.columns]);\n      const oldColumns = get(oldProperties, [COLUMNS_SOURCE_PROPERTIES.columns]);\n      const columnsExpression = get(properties, [COLUMNS_SOURCE_PROPERTIES.columnsExpression]);\n      const oldColumnsExpression = get(oldProperties, [COLUMNS_SOURCE_PROPERTIES.columnsExpression]);\n      if (isArray(columns) && !isDefined(oldColumns)) {\n        context.properties = {\n          ...properties,\n          columnsExpression: undefined\n        };\n        return;\n      }\n      if (isString(columnsExpression) && !isString(oldColumnsExpression)) {\n        context.properties = {\n          ...properties,\n          columns: undefined\n        };\n        return;\n      }\n    }, true);\n  }\n}\nColumnsSourceBehavior.$inject = ['eventBus'];\n\nclass TableDataSourceBehavior extends CommandInterceptor {\n  constructor(eventBus) {\n    super(eventBus);\n    this.preExecute('formField.add', function (context) {\n      const {\n        formField\n      } = context;\n      if (get(formField, ['type']) !== 'table') {\n        return;\n      }\n      context.formField = {\n        ...formField,\n        dataSource: `=${formField.id}`\n      };\n    }, true);\n  }\n}\nTableDataSourceBehavior.$inject = ['eventBus'];\n\nconst BehaviorModule = {\n  __init__: ['idBehavior', 'keyBehavior', 'pathBehavior', 'validateBehavior', 'optionsSourceBehavior', 'columnsSourceBehavior', 'tableDataSourceBehavior'],\n  idBehavior: ['type', IdBehavior],\n  keyBehavior: ['type', KeyBehavior],\n  pathBehavior: ['type', PathBehavior],\n  validateBehavior: ['type', ValidateBehavior],\n  optionsSourceBehavior: ['type', OptionsSourceBehavior],\n  columnsSourceBehavior: ['type', ColumnsSourceBehavior],\n  tableDataSourceBehavior: ['type', TableDataSourceBehavior]\n};\n\nfunction arrayAdd$1(array, index, item) {\n  array.splice(index, 0, item);\n  return array;\n}\nfunction arrayRemove(array, index) {\n  array.splice(index, 1);\n  return array;\n}\nfunction updatePath(formFieldRegistry, formField, index) {\n  const parent = formFieldRegistry.get(formField._parent);\n  refreshPathsRecursively(formField, [...parent._path, 'components', index]);\n  return formField;\n}\nfunction refreshPathsRecursively(formField, path) {\n  formField._path = path;\n  const components = formField.components || [];\n  components.forEach((component, index) => {\n    refreshPathsRecursively(component, [...path, 'components', index]);\n  });\n}\nfunction updateRow(formField, rowId) {\n  formField.layout = {\n    ...(formField.layout || {}),\n    row: rowId\n  };\n  return formField;\n}\n\nclass FormLayoutUpdater extends CommandInterceptor {\n  constructor(eventBus, formLayouter, modeling, formEditor) {\n    super(eventBus);\n    this._eventBus = eventBus;\n    this._formLayouter = formLayouter;\n    this._modeling = modeling;\n    this._formEditor = formEditor;\n\n    // @ts-ignore\n    this.preExecute(['formField.add', 'formField.remove', 'formField.move', 'id.updateClaim'], event => this.updateRowIds(event));\n\n    // we need that as the state got updates\n    // on the next tick (not in post execute)\n    eventBus.on('changed', context => {\n      const {\n        schema\n      } = context;\n      this.updateLayout(schema);\n    });\n  }\n  updateLayout(schema) {\n    this._formLayouter.clear();\n    this._formLayouter.calculateLayout(clone(schema));\n  }\n  updateRowIds(event) {\n    const {\n      schema\n    } = this._formEditor._getState();\n    const setRowIds = parent => {\n      if (!parent.components || !parent.components.length) {\n        return;\n      }\n      parent.components.forEach(formField => {\n        const row = this._formLayouter.getRowForField(formField);\n        updateRow(formField, row.id);\n\n        // handle children recursively\n        setRowIds(formField);\n      });\n    };\n\n    // make sure rows are persisted in schema (e.g. for migration case)\n    setRowIds(schema);\n  }\n}\nFormLayoutUpdater.$inject = ['eventBus', 'formLayouter', 'modeling', 'formEditor'];\n\nclass AddFormFieldHandler {\n  /**\n   * @constructor\n   * @param { import('../../../FormEditor').FormEditor } formEditor\n   * @param { import('../../../core/FormFieldRegistry').FormFieldRegistry } formFieldRegistry\n   */\n  constructor(formEditor, formFieldRegistry) {\n    this._formEditor = formEditor;\n    this._formFieldRegistry = formFieldRegistry;\n  }\n  execute(context) {\n    const {\n      formField,\n      targetFormField,\n      targetIndex\n    } = context;\n    const {\n      schema\n    } = this._formEditor._getState();\n    const targetPath = [...targetFormField._path, 'components'];\n    formField._parent = targetFormField.id;\n\n    // (1) Add new form field\n    arrayAdd$1(get(schema, targetPath), targetIndex, formField);\n\n    // (2) Update internal paths of new form field and its siblings (and their children)\n    get(schema, targetPath).forEach((formField, index) => updatePath(this._formFieldRegistry, formField, index));\n\n    // (3) Add new form field to form field registry\n    this._formFieldRegistry.add(formField);\n\n    // TODO: Create updater/change support that automatically updates paths and schema on command execution\n    this._formEditor._setState({\n      schema\n    });\n  }\n  revert(context) {\n    const {\n      formField,\n      targetFormField,\n      targetIndex\n    } = context;\n    const {\n      schema\n    } = this._formEditor._getState();\n    const targetPath = [...targetFormField._path, 'components'];\n\n    // (1) Remove new form field\n    arrayRemove(get(schema, targetPath), targetIndex);\n\n    // (2) Update internal paths of new form field and its siblings (and their children)\n    get(schema, targetPath).forEach((formField, index) => updatePath(this._formFieldRegistry, formField, index));\n\n    // (3) Remove new form field from form field registry\n    this._formFieldRegistry.remove(formField);\n\n    // TODO: Create updater/change support that automatically updates paths and schema on command execution\n    this._formEditor._setState({\n      schema\n    });\n  }\n}\nAddFormFieldHandler.$inject = ['formEditor', 'formFieldRegistry'];\n\nclass EditFormFieldHandler {\n  /**\n   * @constructor\n   * @param { import('../../../FormEditor').FormEditor } formEditor\n   * @param { import('../../../core/FormFieldRegistry').FormFieldRegistry } formFieldRegistry\n   */\n  constructor(formEditor, formFieldRegistry) {\n    this._formEditor = formEditor;\n    this._formFieldRegistry = formFieldRegistry;\n  }\n  execute(context) {\n    const {\n      formField,\n      properties\n    } = context;\n    let {\n      schema\n    } = this._formEditor._getState();\n    const oldProperties = {};\n    for (let key in properties) {\n      oldProperties[key] = formField[key];\n      const property = properties[key];\n      if (key === 'id') {\n        if (property !== formField.id) {\n          this._formFieldRegistry.updateId(formField, property);\n        }\n      } else {\n        formField[key] = property;\n      }\n    }\n    context.oldProperties = oldProperties;\n\n    // TODO: Create updater/change support that automatically updates paths and schema on command execution\n    this._formEditor._setState({\n      schema\n    });\n    return formField;\n  }\n  revert(context) {\n    const {\n      formField,\n      oldProperties\n    } = context;\n    let {\n      schema\n    } = this._formEditor._getState();\n    for (let key in oldProperties) {\n      const property = oldProperties[key];\n      if (key === 'id') {\n        if (property !== formField.id) {\n          this._formFieldRegistry.updateId(formField, property);\n        }\n      } else {\n        formField[key] = property;\n      }\n    }\n\n    // TODO: Create updater/change support that automatically updates paths and schema on command execution\n    this._formEditor._setState({\n      schema\n    });\n    return formField;\n  }\n}\nEditFormFieldHandler.$inject = ['formEditor', 'formFieldRegistry'];\n\nclass MoveFormFieldHandler {\n  /**\n   * @constructor\n   * @param { import('../../../FormEditor').FormEditor } formEditor\n   * @param { import('../../../core/FormFieldRegistry').FormFieldRegistry } formFieldRegistry\n   * @param { import('@bpmn-io/form-js-viewer').PathRegistry } pathRegistry\n   * @param { import('@bpmn-io/form-js-viewer').FormLayouter } formLayouter\n   */\n  constructor(formEditor, formFieldRegistry, pathRegistry, formLayouter) {\n    this._formEditor = formEditor;\n    this._formFieldRegistry = formFieldRegistry;\n    this._pathRegistry = pathRegistry;\n    this._formLayouter = formLayouter;\n  }\n  execute(context) {\n    this.moveFormField(context);\n  }\n  revert(context) {\n    let {\n      sourceFormField,\n      targetFormField,\n      sourceIndex,\n      targetIndex,\n      sourceRow,\n      targetRow\n    } = context;\n    this.moveFormField({\n      sourceFormField: targetFormField,\n      targetFormField: sourceFormField,\n      sourceIndex: targetIndex,\n      targetIndex: sourceIndex,\n      sourceRow: targetRow,\n      targetRow: sourceRow\n    }, true);\n  }\n  moveFormField(context, revert) {\n    let {\n      sourceFormField,\n      targetFormField,\n      sourceIndex,\n      targetIndex,\n      targetRow\n    } = context;\n    let {\n      schema\n    } = this._formEditor._getState();\n    const sourcePath = [...sourceFormField._path, 'components'];\n    if (sourceFormField.id === targetFormField.id) {\n      if (revert) {\n        if (sourceIndex > targetIndex) {\n          sourceIndex--;\n        }\n      } else {\n        if (sourceIndex < targetIndex) {\n          targetIndex--;\n        }\n      }\n      const formField = get(schema, [...sourcePath, sourceIndex]);\n\n      // (1) Add to row or create new one\n      updateRow(formField, targetRow ? targetRow.id : this._formLayouter.nextRowId());\n\n      // (2) Move form field\n      arrayMoveMutable(get(schema, sourcePath), sourceIndex, targetIndex);\n\n      // (3) Update internal paths of new form field and its siblings (and their children)\n      get(schema, sourcePath).forEach((formField, index) => updatePath(this._formFieldRegistry, formField, index));\n    } else {\n      const formField = get(schema, [...sourcePath, sourceIndex]);\n\n      // (1) Deregister form field (and children) from path registry\n      this._pathRegistry.executeRecursivelyOnFields(formField, ({\n        field\n      }) => {\n        this._pathRegistry.unclaimPath(this._pathRegistry.getValuePath(field));\n      });\n      formField._parent = targetFormField.id;\n\n      // (2) Remove form field\n      arrayRemove(get(schema, sourcePath), sourceIndex);\n\n      // (3) Update internal paths of siblings (and their children)\n      get(schema, sourcePath).forEach((formField, index) => updatePath(this._formFieldRegistry, formField, index));\n      const targetPath = [...targetFormField._path, 'components'];\n\n      // (4) Add to row or create new one\n      updateRow(formField, targetRow ? targetRow.id : this._formLayouter.nextRowId());\n\n      // (5) Add form field\n      arrayAdd$1(get(schema, targetPath), targetIndex, formField);\n\n      // (6) Update internal paths of siblings (and their children)\n      get(schema, targetPath).forEach((formField, index) => updatePath(this._formFieldRegistry, formField, index));\n\n      // (7) Reregister form field (and children) from path registry\n      this._pathRegistry.executeRecursivelyOnFields(formField, ({\n        field,\n        isClosed,\n        isRepeatable\n      }) => {\n        this._pathRegistry.claimPath(this._pathRegistry.getValuePath(field), {\n          isClosed,\n          isRepeatable,\n          claimerId: field.id\n        });\n      });\n    }\n\n    // TODO: Create updater/change support that automatically updates paths and schema on command execution\n    this._formEditor._setState({\n      schema\n    });\n  }\n}\nMoveFormFieldHandler.$inject = ['formEditor', 'formFieldRegistry', 'pathRegistry', 'formLayouter'];\n\nclass RemoveFormFieldHandler {\n  /**\n   * @constructor\n   * @param { import('../../../FormEditor').FormEditor } formEditor\n   * @param { import('../../../core/FormFieldRegistry').FormFieldRegistry } formFieldRegistry\n   */\n  constructor(formEditor, formFieldRegistry) {\n    this._formEditor = formEditor;\n    this._formFieldRegistry = formFieldRegistry;\n  }\n  execute(context) {\n    const {\n      sourceFormField,\n      sourceIndex\n    } = context;\n    let {\n      schema\n    } = this._formEditor._getState();\n    const sourcePath = [...sourceFormField._path, 'components'];\n    const formField = context.formField = get(schema, [...sourcePath, sourceIndex]);\n\n    // (1) Remove form field\n    arrayRemove(get(schema, sourcePath), sourceIndex);\n\n    // (2) Update internal paths of its siblings (and their children)\n    get(schema, sourcePath).forEach((formField, index) => updatePath(this._formFieldRegistry, formField, index));\n\n    // (3) Remove form field and children from form field registry\n    runRecursively(formField, formField => this._formFieldRegistry.remove(formField));\n\n    // TODO: Create updater/change support that automatically updates paths and schema on command execution\n    this._formEditor._setState({\n      schema\n    });\n  }\n  revert(context) {\n    const {\n      formField,\n      sourceFormField,\n      sourceIndex\n    } = context;\n    let {\n      schema\n    } = this._formEditor._getState();\n    const sourcePath = [...sourceFormField._path, 'components'];\n\n    // (1) Add form field\n    arrayAdd$1(get(schema, sourcePath), sourceIndex, formField);\n\n    // (2) Update internal paths of its siblings (and their children)\n    get(schema, sourcePath).forEach((formField, index) => updatePath(this._formFieldRegistry, formField, index));\n\n    // (3) Add form field and children to form field registry\n    runRecursively(formField, formField => this._formFieldRegistry.add(formField));\n\n    // TODO: Create updater/change support that automatically updates paths and schema on command execution\n    this._formEditor._setState({\n      schema\n    });\n  }\n}\nRemoveFormFieldHandler.$inject = ['formEditor', 'formFieldRegistry'];\n\nclass UpdateIdClaimHandler {\n  /**\n   * @constructor\n   * @param { import('../../../core/FormFieldRegistry').FormFieldRegistry } formFieldRegistry\n   */\n  constructor(formFieldRegistry) {\n    this._formFieldRegistry = formFieldRegistry;\n  }\n  execute(context) {\n    const {\n      claiming,\n      formField,\n      id\n    } = context;\n    if (claiming) {\n      this._formFieldRegistry._ids.claim(id, formField);\n    } else {\n      this._formFieldRegistry._ids.unclaim(id);\n    }\n  }\n  revert(context) {\n    const {\n      claiming,\n      formField,\n      id\n    } = context;\n    if (claiming) {\n      this._formFieldRegistry._ids.unclaim(id);\n    } else {\n      this._formFieldRegistry._ids.claim(id, formField);\n    }\n  }\n}\nUpdateIdClaimHandler.$inject = ['formFieldRegistry'];\n\nclass UpdateKeyClaimHandler {\n  /**\n   * @constructor\n   * @param { import('@bpmn-io/form-js-viewer').PathRegistry } pathRegistry\n   */\n  constructor(pathRegistry) {\n    this._pathRegistry = pathRegistry;\n  }\n  execute(context) {\n    const {\n      claiming,\n      formField,\n      key\n    } = context;\n    const options = {\n      replacements: {\n        [formField.id]: key\n      }\n    };\n    const valuePath = this._pathRegistry.getValuePath(formField, options);\n    if (claiming) {\n      this._pathRegistry.claimPath(valuePath, {\n        isClosed: true,\n        claimerId: formField.id\n      });\n    } else {\n      this._pathRegistry.unclaimPath(valuePath);\n    }\n\n    // cache path for revert\n    context.valuePath = valuePath;\n  }\n  revert(context) {\n    const {\n      claiming,\n      formField,\n      valuePath\n    } = context;\n    if (claiming) {\n      this._pathRegistry.unclaimPath(valuePath);\n    } else {\n      this._pathRegistry.claimPath(valuePath, {\n        isClosed: true,\n        claimerId: formField.id\n      });\n    }\n  }\n}\nUpdateKeyClaimHandler.$inject = ['pathRegistry'];\n\nclass UpdatePathClaimHandler {\n  /**\n   * @constructor\n   * @param { import('@bpmn-io/form-js-viewer').PathRegistry } pathRegistry\n   */\n  constructor(pathRegistry) {\n    this._pathRegistry = pathRegistry;\n  }\n  execute(context) {\n    const {\n      claiming,\n      formField,\n      path\n    } = context;\n    const options = {\n      replacements: {\n        [formField.id]: path\n      }\n    };\n    const valuePaths = [];\n    if (claiming) {\n      this._pathRegistry.executeRecursivelyOnFields(formField, ({\n        field,\n        isClosed,\n        isRepeatable\n      }) => {\n        const valuePath = this._pathRegistry.getValuePath(field, options);\n        valuePaths.push({\n          valuePath,\n          isClosed,\n          isRepeatable,\n          claimerId: field.id\n        });\n        this._pathRegistry.claimPath(valuePath, {\n          isClosed,\n          isRepeatable,\n          claimerId: field.id\n        });\n      });\n    } else {\n      this._pathRegistry.executeRecursivelyOnFields(formField, ({\n        field,\n        isClosed,\n        isRepeatable\n      }) => {\n        const valuePath = this._pathRegistry.getValuePath(field, options);\n        valuePaths.push({\n          valuePath,\n          isClosed,\n          isRepeatable,\n          claimerId: field.id\n        });\n        this._pathRegistry.unclaimPath(valuePath);\n      });\n    }\n\n    // cache path info for revert\n    context.valuePaths = valuePaths;\n  }\n  revert(context) {\n    const {\n      claiming,\n      valuePaths\n    } = context;\n    if (claiming) {\n      valuePaths.forEach(({\n        valuePath\n      }) => {\n        this._pathRegistry.unclaimPath(valuePath);\n      });\n    } else {\n      valuePaths.forEach(({\n        valuePath,\n        isClosed,\n        isRepeatable,\n        claimerId\n      }) => {\n        this._pathRegistry.claimPath(valuePath, {\n          isClosed,\n          isRepeatable,\n          claimerId\n        });\n      });\n    }\n  }\n}\nUpdatePathClaimHandler.$inject = ['pathRegistry'];\n\nclass Modeling {\n  constructor(commandStack, eventBus, formEditor, formFieldRegistry, fieldFactory) {\n    this._commandStack = commandStack;\n    this._formEditor = formEditor;\n    this._formFieldRegistry = formFieldRegistry;\n    this._fieldFactory = fieldFactory;\n    eventBus.on('form.init', () => {\n      this.registerHandlers();\n    });\n  }\n  registerHandlers() {\n    Object.entries(this.getHandlers()).forEach(([id, handler]) => {\n      this._commandStack.registerHandler(id, handler);\n    });\n  }\n  getHandlers() {\n    return {\n      'formField.add': AddFormFieldHandler,\n      'formField.edit': EditFormFieldHandler,\n      'formField.move': MoveFormFieldHandler,\n      'formField.remove': RemoveFormFieldHandler,\n      'id.updateClaim': UpdateIdClaimHandler,\n      'key.updateClaim': UpdateKeyClaimHandler,\n      'path.updateClaim': UpdatePathClaimHandler\n    };\n  }\n  addFormField(attrs, targetFormField, targetIndex) {\n    const formField = this._fieldFactory.create(attrs);\n    const context = {\n      formField,\n      targetFormField,\n      targetIndex\n    };\n    this._commandStack.execute('formField.add', context);\n    return formField;\n  }\n  editFormField(formField, properties, value) {\n    if (!isObject(properties)) {\n      properties = {\n        [properties]: value\n      };\n    }\n    const context = {\n      formField,\n      properties\n    };\n    this._commandStack.execute('formField.edit', context);\n  }\n  moveFormField(formField, sourceFormField, targetFormField, sourceIndex, targetIndex, sourceRow, targetRow) {\n    const context = {\n      formField,\n      sourceFormField,\n      targetFormField,\n      sourceIndex,\n      targetIndex,\n      sourceRow,\n      targetRow\n    };\n    this._commandStack.execute('formField.move', context);\n  }\n  removeFormField(formField, sourceFormField, sourceIndex) {\n    const context = {\n      formField,\n      sourceFormField,\n      sourceIndex\n    };\n    this._commandStack.execute('formField.remove', context);\n  }\n  claimId(formField, id) {\n    const context = {\n      formField,\n      id,\n      claiming: true\n    };\n    this._commandStack.execute('id.updateClaim', context);\n  }\n  unclaimId(formField, id) {\n    const context = {\n      formField,\n      id,\n      claiming: false\n    };\n    this._commandStack.execute('id.updateClaim', context);\n  }\n  claimKey(formField, key) {\n    const context = {\n      formField,\n      key,\n      claiming: true\n    };\n    this._commandStack.execute('key.updateClaim', context);\n  }\n  unclaimKey(formField, key) {\n    const context = {\n      formField,\n      key,\n      claiming: false\n    };\n    this._commandStack.execute('key.updateClaim', context);\n  }\n  claimPath(formField, path) {\n    const context = {\n      formField,\n      path,\n      claiming: true\n    };\n    this._commandStack.execute('path.updateClaim', context);\n  }\n  unclaimPath(formField, path) {\n    const context = {\n      formField,\n      path,\n      claiming: false\n    };\n    this._commandStack.execute('path.updateClaim', context);\n  }\n}\nModeling.$inject = ['commandStack', 'eventBus', 'formEditor', 'formFieldRegistry', 'fieldFactory'];\n\nconst ModelingModule = {\n  __depends__: [BehaviorModule, commandModule],\n  __init__: ['formLayoutUpdater', 'modeling'],\n  formLayoutUpdater: ['type', FormLayoutUpdater],\n  modeling: ['type', Modeling]\n};\n\nclass Selection {\n  constructor(eventBus) {\n    this._eventBus = eventBus;\n    this._selection = null;\n  }\n  get() {\n    return this._selection;\n  }\n  set(selection) {\n    if (this._selection === selection) {\n      return;\n    }\n    this._selection = selection;\n    this._eventBus.fire('selection.changed', {\n      selection: this._selection\n    });\n  }\n  toggle(selection) {\n    const newSelection = this._selection === selection ? null : selection;\n    this.set(newSelection);\n  }\n  clear() {\n    this.set(null);\n  }\n  isSelected(formField) {\n    return this._selection === formField;\n  }\n}\nSelection.$inject = ['eventBus'];\n\nclass SelectionBehavior {\n  constructor(eventBus, selection) {\n    eventBus.on(['commandStack.formField.add.postExecuted', 'commandStack.formField.move.postExecuted'], ({\n      context\n    }) => {\n      const {\n        formField\n      } = context;\n      selection.set(formField);\n    });\n    eventBus.on('commandStack.formField.remove.postExecuted', ({\n      context\n    }) => {\n      const {\n        sourceFormField,\n        sourceIndex\n      } = context;\n      const formField = sourceFormField.components[sourceIndex] || sourceFormField.components[sourceIndex - 1];\n      if (formField) {\n        selection.set(formField);\n      } else {\n        selection.clear();\n      }\n    });\n    eventBus.on('formField.remove', ({\n      formField\n    }) => {\n      if (selection.isSelected(formField)) {\n        selection.clear();\n      }\n    });\n  }\n}\nSelectionBehavior.$inject = ['eventBus', 'selection'];\n\nconst SelectionModule = {\n  __init__: ['selection', 'selectionBehavior'],\n  selection: ['type', Selection],\n  selectionBehavior: ['type', SelectionBehavior]\n};\n\n/**\n * Base class for sectionable UI modules.\n *\n * @property {EventBus} _eventBus - EventBus instance used for event handling.\n * @property {string} managerType - Type of the render manager. Used to form event names.\n *\n * @class SectionModuleBase\n */\nclass SectionModuleBase {\n  /**\n   * Create a SectionModuleBase instance.\n   *\n   * @param {any} eventBus - The EventBus instance used for event handling.\n   * @param {string} sectionKey - The type of render manager. Used to form event names.\n   *\n   * @constructor\n   */\n  constructor(eventBus, sectionKey) {\n    this._eventBus = eventBus;\n    this._sectionKey = sectionKey;\n    this._eventBus.on(`${this._sectionKey}.section.rendered`, () => {\n      this.isSectionRendered = true;\n    });\n    this._eventBus.on(`${this._sectionKey}.section.destroyed`, () => {\n      this.isSectionRendered = false;\n    });\n  }\n\n  /**\n   * Attach the managed section to a parent node.\n   *\n   * @param {HTMLElement} container - The parent node to attach to.\n   */\n  attachTo(container) {\n    this._onceSectionRendered(() => this._eventBus.fire(`${this._sectionKey}.attach`, {\n      container\n    }));\n  }\n\n  /**\n   * Detach the managed section from its parent node.\n   */\n  detach() {\n    this._onceSectionRendered(() => this._eventBus.fire(`${this._sectionKey}.detach`));\n  }\n\n  /**\n   * Reset the managed section to its initial state.\n   */\n  reset() {\n    this._onceSectionRendered(() => this._eventBus.fire(`${this._sectionKey}.reset`));\n  }\n\n  /**\n   * Circumvents timing issues.\n   */\n  _onceSectionRendered(callback) {\n    if (this.isSectionRendered) {\n      callback();\n    } else {\n      this._eventBus.once(`${this._sectionKey}.section.rendered`, callback);\n    }\n  }\n}\n\nclass PaletteRenderer extends SectionModuleBase {\n  constructor(eventBus) {\n    super(eventBus, 'palette');\n  }\n}\nPaletteRenderer.$inject = ['eventBus'];\n\nconst PaletteModule = {\n  __init__: ['palette'],\n  palette: ['type', PaletteRenderer]\n};\n\nvar ArrowIcon = function ArrowIcon(props) {\n  return jsx(\"svg\", {\n    ...props,\n    children: jsx(\"path\", {\n      fillRule: \"evenodd\",\n      d: \"m11.657 8-4.95 4.95a1 1 0 0 1-1.414-1.414L8.828 8 5.293 4.464A1 1 0 1 1 6.707 3.05L11.657 8Z\"\n    })\n  });\n};\nArrowIcon.defaultProps = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"16\",\n  height: \"16\"\n};\nvar CloseIcon = function CloseIcon(props) {\n  return jsx(\"svg\", {\n    ...props,\n    children: jsx(\"path\", {\n      fillRule: \"evenodd\",\n      d: \"m12 4.7-.7-.7L8 7.3 4.7 4l-.7.7L7.3 8 4 11.3l.7.7L8 8.7l3.3 3.3.7-.7L8.7 8 12 4.7Z\",\n      fill: \"currentColor\"\n    })\n  });\n};\nCloseIcon.defaultProps = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"16\",\n  height: \"16\"\n};\nvar CreateIcon = function CreateIcon(props) {\n  return jsx(\"svg\", {\n    ...props,\n    children: jsx(\"path\", {\n      fillRule: \"evenodd\",\n      d: \"M9 13V9h4a1 1 0 0 0 0-2H9V3a1 1 0 1 0-2 0v4H3a1 1 0 1 0 0 2h4v4a1 1 0 0 0 2 0Z\"\n    })\n  });\n};\nCreateIcon.defaultProps = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"16\",\n  height: \"16\"\n};\nvar DeleteIcon = function DeleteIcon(props) {\n  return jsx(\"svg\", {\n    ...props,\n    children: jsx(\"path\", {\n      fillRule: \"evenodd\",\n      d: \"M12 6v7c0 1.1-.4 1.55-1.5 1.55h-5C4.4 14.55 4 14.1 4 13V6h8Zm-1.5 1.5h-5v4.3c0 .66.5 1.2 1.111 1.2H9.39c.611 0 1.111-.54 1.111-1.2V7.5ZM13 3h-2l-1-1H6L5 3H3v1.5h10V3Z\"\n    })\n  });\n};\nDeleteIcon.defaultProps = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"16\",\n  height: \"16\"\n};\nvar DragIcon = function DragIcon(props) {\n  return jsxs(\"svg\", {\n    ...props,\n    children: [jsx(\"path\", {\n      fill: \"#fff\",\n      style: {\n        mixBlendMode: \"multiply\"\n      },\n      d: \"M0 0h16v16H0z\"\n    }), jsx(\"path\", {\n      fill: \"#fff\",\n      style: {\n        mixBlendMode: \"multiply\"\n      },\n      d: \"M0 0h16v16H0z\"\n    }), jsx(\"path\", {\n      d: \"M7 3H5v2h2V3zm4 0H9v2h2V3zM7 7H5v2h2V7zm4 0H9v2h2V7zm-4 4H5v2h2v-2zm4 0H9v2h2v-2z\",\n      fill: \"#161616\"\n    })]\n  });\n};\nDragIcon.defaultProps = {\n  width: \"16\",\n  height: \"16\",\n  fill: \"none\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n};\nvar ExternalLinkIcon = function ExternalLinkIcon(props) {\n  return jsx(\"svg\", {\n    ...props,\n    children: jsx(\"path\", {\n      fillRule: \"evenodd\",\n      clipRule: \"evenodd\",\n      d: \"M12.637 12.637v-4.72h1.362v4.721c0 .36-.137.676-.411.95-.275.275-.591.412-.95.412H3.362c-.38 0-.703-.132-.967-.396A1.315 1.315 0 0 1 2 12.638V3.362c0-.38.132-.703.396-.967S2.982 2 3.363 2h4.553v1.363H3.363v9.274h9.274ZM14 2H9.28l-.001 1.362h2.408L5.065 9.984l.95.95 6.622-6.622v2.409H14V2Z\",\n      fill: \"currentcolor\"\n    })\n  });\n};\nExternalLinkIcon.defaultProps = {\n  width: \"16\",\n  height: \"16\",\n  fill: \"none\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n};\nvar FeelIcon$1 = function FeelIcon(props) {\n  return jsx(\"svg\", {\n    ...props,\n    children: jsx(\"path\", {\n      d: \"M3.617 11.99c-.137.684-.392 1.19-.765 1.518-.362.328-.882.492-1.558.492H0l.309-1.579h1.264l1.515-7.64h-.912l.309-1.579h.911l.236-1.191c.137-.685.387-1.192.75-1.52C4.753.164 5.277 0 5.953 0h1.294L6.94 1.579H5.675l-.323 1.623h1.264l-.309 1.579H5.043l-1.426 7.208ZM5.605 11.021l3.029-4.155L7.28 3.202h2.073l.706 2.547h.176l1.691-2.547H14l-3.014 4.051 1.338 3.768H10.25l-.706-2.606H9.37L7.678 11.02H5.605Z\",\n      fill: \"currentcolor\"\n    })\n  });\n};\nFeelIcon$1.defaultProps = {\n  width: \"14\",\n  height: \"14\",\n  fill: \"none\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n};\nvar LaunchIcon = function LaunchIcon(props) {\n  return jsxs(\"svg\", {\n    ...props,\n    children: [jsx(\"path\", {\n      d: \"M26 28H6a2.003 2.003 0 0 1-2-2V6a2.003 2.003 0 0 1 2-2h10v2H6v20h20V16h2v10a2.003 2.003 0 0 1-2 2Z\"\n    }), jsx(\"path\", {\n      d: \"M20 2v2h6.586L18 12.586 19.414 14 28 5.414V12h2V2H20z\"\n    })]\n  });\n};\nLaunchIcon.defaultProps = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 32 32\"\n};\nvar OpenPopupIcon = function OpenPopupIcon(props) {\n  return jsx(\"svg\", {\n    ...props,\n    children: jsx(\"path\", {\n      d: \"M6 15v-1H2.7L7 9.7 6.3 9 2 13.3V10H1v5zm4-14v1h3.3L9 6.3l.7.7L14 2.7V6h1V1z\"\n    })\n  });\n};\nOpenPopupIcon.defaultProps = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 16 16\"\n};\n\n/**\n * @typedef { {\n *  getElementLabel: (element: object) => string,\n *  getTypeLabel: (element: object) => string,\n *  getElementIcon: (element: object) => import('preact').Component,\n *  getDocumentationRef: (element: object) => string\n * } } HeaderProvider\n */\n\n/**\n * @param {Object} props\n * @param {Object} props.element,\n * @param {HeaderProvider} props.headerProvider\n */\nfunction Header(props) {\n  const {\n    element,\n    headerProvider\n  } = props;\n  const {\n    getElementIcon,\n    getDocumentationRef,\n    getElementLabel,\n    getTypeLabel\n  } = headerProvider;\n  const label = getElementLabel(element);\n  const type = getTypeLabel(element);\n  const documentationRef = getDocumentationRef && getDocumentationRef(element);\n  const ElementIcon = getElementIcon(element);\n  return jsxs(\"div\", {\n    class: \"bio-properties-panel-header\",\n    children: [jsx(\"div\", {\n      class: \"bio-properties-panel-header-icon\",\n      children: ElementIcon && jsx(ElementIcon, {\n        width: \"32\",\n        height: \"32\",\n        viewBox: \"0 0 32 32\"\n      })\n    }), jsxs(\"div\", {\n      class: \"bio-properties-panel-header-labels\",\n      children: [jsx(\"div\", {\n        class: \"bio-properties-panel-header-type\",\n        children: type\n      }), label ? jsx(\"div\", {\n        class: \"bio-properties-panel-header-label\",\n        children: label\n      }) : null]\n    }), jsx(\"div\", {\n      class: \"bio-properties-panel-header-actions\",\n      children: documentationRef ? jsx(\"a\", {\n        rel: \"noreferrer\",\n        class: \"bio-properties-panel-header-link\",\n        href: documentationRef,\n        title: \"Open documentation\",\n        target: \"_blank\",\n        children: jsx(ExternalLinkIcon, {})\n      }) : null\n    })]\n  });\n}\nconst DescriptionContext = createContext({\n  description: {},\n  getDescriptionForId: () => {}\n});\nconst ErrorsContext = createContext({\n  errors: {}\n});\n\n/**\n * @typedef {Function} <propertiesPanel.showEntry> callback\n *\n * @example\n *\n * useEvent('propertiesPanel.showEntry', ({ focus = false, ...rest }) => {\n *   // ...\n * });\n *\n * @param {Object} context\n * @param {boolean} [context.focus]\n *\n * @returns void\n */\n\nconst EventContext = createContext({\n  eventBus: null\n});\n\n/**\n * @typedef { {\n *   parserDialect?: import('@bpmn-io/feel-editor').ParserDialect,\n *   builtins?: import('@bpmn-io/feel-editor').Variable[],\n *   dialect?: import('@bpmn-io/feel-editor').Dialect\n * } } FeelLanguageContextType\n */\n\n/**\n * @type {import('preact').Context<FeelLanguageContextType>}\n */\nconst FeelLanguageContext = createContext({});\nconst LayoutContext = createContext({\n  layout: {},\n  setLayout: () => {},\n  getLayoutForKey: () => {},\n  setLayoutForKey: () => {}\n});\nconst TooltipContext = createContext({\n  tooltip: {},\n  getTooltipForId: () => {}\n});\n\n/**\n * Accesses the global TooltipContext and returns a tooltip for a given id and element.\n *\n * @example\n * ```jsx\n * function TextField(props) {\n *   const tooltip = useTooltipContext('input1', element);\n * }\n * ```\n *\n * @param {string} id\n * @param {object} element\n *\n * @returns {string}\n */\nfunction useTooltipContext(id, element) {\n  const {\n    getTooltipForId\n  } = useContext(TooltipContext);\n  return getTooltipForId(id, element);\n}\n\n/**\n * @typedef {Object} TooltipProps\n * @property {Object} [parent] - Parent element ref for portal rendering\n * @property {String} [direction='right'] - Tooltip direction ( 'right', 'top')\n * @property {String} [position] - Custom CSS position override\n * @property {Number} [showDelay=250] - Delay in ms before showing tooltip on hover\n * @property {Number} [hideDelay=250] - Delay in ms before hiding tooltip when mouse leaves, to avoid multiple tooltips from being opened, this should be the same as showDelay\n * @property {*} [children] - Child elements to render inside the tooltip wrapper\n */\n\n/**\n * Tooltip wrapper that provides context-based tooltip content lookup.\n * All props are forwarded to the underlying Tooltip component.\n *\n * @param {TooltipProps & {\n *   forId: String,\n *   value?: String|Object,\n *   element?: Object\n * }} props - Shared tooltip props plus wrapper-specific ones\n */\nfunction TooltipWrapper(props) {\n  const {\n    forId,\n    element\n  } = props;\n  const contextDescription = useTooltipContext(forId, element);\n  const value = props.value || contextDescription;\n  if (!value) {\n    return props.children;\n  }\n  return jsx(Tooltip, {\n    ...props,\n    value: value,\n    forId: `bio-properties-panel-${forId}`\n  });\n}\n\n/**\n * @param {TooltipProps & {\n *   forId: String,\n *   value: String|Object\n * }} props\n */\nfunction Tooltip(props) {\n  const {\n    forId,\n    value,\n    parent,\n    direction = 'right',\n    position,\n    showDelay = 250,\n    hideDelay = 250\n  } = props;\n  const [visible, setVisible] = useState(false);\n  const showTimeoutRef = useRef(null);\n  const hideTimeoutRef = useRef(null);\n  const wrapperRef = useRef(null);\n  const tooltipRef = useRef(null);\n  const show = (_, delay) => {\n    clearTimeout(showTimeoutRef.current);\n    clearTimeout(hideTimeoutRef.current);\n    if (visible) return;\n    if (delay) {\n      showTimeoutRef.current = setTimeout(() => {\n        setVisible(true);\n      }, showDelay);\n    } else {\n      setVisible(true);\n    }\n  };\n  const handleWrapperMouseEnter = e => {\n    show(e, true);\n  };\n  const hide = (delay = false) => {\n    clearTimeout(showTimeoutRef.current);\n    clearTimeout(hideTimeoutRef.current);\n    if (delay) {\n      hideTimeoutRef.current = setTimeout(() => {\n        setVisible(false);\n      }, hideDelay);\n    } else {\n      setVisible(false);\n    }\n  };\n\n  // Cleanup timeouts on unmount\n  useEffect(() => {\n    return () => {\n      clearTimeout(showTimeoutRef.current);\n      clearTimeout(hideTimeoutRef.current);\n    };\n  }, []);\n\n  // Handle click outside to close tooltip for non-focusable elements\n  useEffect(() => {\n    if (!visible) return;\n    const handleClickOutside = e => {\n      // If clicking outside both the wrapper and tooltip, hide it\n      if (wrapperRef.current && !wrapperRef.current.contains(e.target) && tooltipRef.current && !tooltipRef.current.contains(e.target)) {\n        hide(false);\n      }\n    };\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [visible, hide]);\n  const handleMouseLeave = ({\n    relatedTarget\n  }) => {\n    // Don't hide the tooltip when moving mouse between the wrapper and the tooltip.\n    if (relatedTarget === wrapperRef.current || relatedTarget === tooltipRef.current || relatedTarget?.parentElement === tooltipRef.current) {\n      return;\n    }\n    const selection = window.getSelection();\n    if (selection && selection.toString().length > 0) {\n      // Check if selection is within tooltip content\n      const selectionRange = selection.getRangeAt(0);\n      if (tooltipRef.current?.contains(selectionRange.commonAncestorContainer) || tooltipRef.current?.contains(selection.anchorNode) || tooltipRef.current?.contains(selection.focusNode)) {\n        return; // Keep tooltip open during text selection\n      }\n    }\n    hide(true);\n  };\n  const handleTooltipMouseEnter = () => {\n    clearTimeout(hideTimeoutRef.current);\n  };\n  const handleFocusOut = e => {\n    const {\n      relatedTarget\n    } = e;\n\n    // Don't hide if focus moved to the tooltip or another element within the wrapper\n    if (tooltipRef.current?.contains(relatedTarget) || wrapperRef.current?.contains(relatedTarget)) {\n      return;\n    }\n    hide(false);\n  };\n  const hideTooltipViaEscape = e => {\n    e.code === 'Escape' && hide(false);\n  };\n  const renderTooltip = () => {\n    return jsxs(\"div\", {\n      class: `bio-properties-panel-tooltip ${direction}`,\n      role: \"tooltip\",\n      id: \"bio-properties-panel-tooltip\",\n      \"aria-labelledby\": forId,\n      style: position || getTooltipPosition(wrapperRef.current),\n      ref: tooltipRef,\n      onClick: e => e.stopPropagation(),\n      onMouseEnter: handleTooltipMouseEnter,\n      onMouseLeave: handleMouseLeave,\n      children: [jsx(\"div\", {\n        class: \"bio-properties-panel-tooltip-content\",\n        children: value\n      }), jsx(\"div\", {\n        class: \"bio-properties-panel-tooltip-arrow\"\n      })]\n    });\n  };\n  return jsxs(\"div\", {\n    class: \"bio-properties-panel-tooltip-wrapper\",\n    tabIndex: \"0\",\n    ref: wrapperRef,\n    onMouseEnter: handleWrapperMouseEnter,\n    onMouseLeave: handleMouseLeave,\n    onFocus: show,\n    onBlur: handleFocusOut,\n    onKeyDown: hideTooltipViaEscape,\n    children: [props.children, visible ? parent ? createPortal(renderTooltip(), parent.current) : renderTooltip() : null]\n  });\n}\n\n// helper\n\nfunction getTooltipPosition(refElement) {\n  const refPosition = refElement.getBoundingClientRect();\n  const right = `calc(100% - ${refPosition.x}px)`;\n  const top = `${refPosition.top - 10}px`;\n  return `right: ${right}; top: ${top};`;\n}\n\n/**\n * Accesses the global DescriptionContext and returns a description for a given id and element.\n *\n * @example\n * ```jsx\n * function TextField(props) {\n *   const description = useDescriptionContext('input1', element);\n * }\n * ```\n *\n * @param {string} id\n * @param {object} element\n *\n * @returns {string}\n */\nfunction useDescriptionContext(id, element) {\n  const {\n    getDescriptionForId\n  } = useContext(DescriptionContext);\n  return getDescriptionForId(id, element);\n}\nfunction useDebounce(callback, debounceFn) {\n  const debouncedCallback = useCallback(debounceFn(callback), [callback, debounceFn]);\n\n  // make sure previous call is not stalled\n  useEffect(() => {\n    return () => {\n      debouncedCallback.cancel?.();\n    };\n  }, [debouncedCallback]);\n  return debouncedCallback;\n}\nfunction useError(id) {\n  const {\n    errors\n  } = useContext(ErrorsContext);\n  return errors[id];\n}\nfunction useErrors() {\n  const {\n    errors\n  } = useContext(ErrorsContext);\n  return errors;\n}\n\n/**\n * Subscribe to an event immediately. Update subscription after inputs changed.\n *\n * @param {string} event\n * @param {Function} callback\n */\nfunction useEvent(event, callback, eventBus) {\n  const eventContext = useContext(EventContext);\n  if (!eventBus) {\n    ({\n      eventBus\n    } = eventContext);\n  }\n  const didMount = useRef(false);\n\n  // (1) subscribe immediately\n  if (eventBus && !didMount.current) {\n    eventBus.on(event, callback);\n  }\n\n  // (2) update subscription after inputs changed\n  useEffect(() => {\n    if (eventBus && didMount.current) {\n      eventBus.on(event, callback);\n    }\n    didMount.current = true;\n    return () => {\n      if (eventBus) {\n        eventBus.off(event, callback);\n      }\n    };\n  }, [callback, event, eventBus]);\n}\n\n/**\n * Creates a state that persists in the global LayoutContext.\n *\n * @example\n * ```jsx\n * function Group(props) {\n *   const [ open, setOpen ] = useLayoutState([ 'groups', 'foo', 'open' ], false);\n * }\n * ```\n *\n * @param {(string|number)[]} path\n * @param {any} [defaultValue]\n *\n * @returns {[ any, Function ]}\n */\nfunction useLayoutState(path, defaultValue) {\n  const {\n    getLayoutForKey,\n    setLayoutForKey\n  } = useContext(LayoutContext);\n  const layoutForKey = getLayoutForKey(path, defaultValue);\n  const setState = useCallback(newValue => {\n    setLayoutForKey(path, newValue);\n  }, [setLayoutForKey]);\n  return [layoutForKey, setState];\n}\n\n/**\n * @pinussilvestrus: we need to introduce our own hook to persist the previous\n * state on updates.\n *\n * cf. https://reactjs.org/docs/hooks-faq.html#how-to-get-the-previous-props-or-state\n */\n\nfunction usePrevious(value) {\n  const ref = useRef();\n  useEffect(() => {\n    ref.current = value;\n  });\n  return ref.current;\n}\n\n/**\n * Subscribe to `propertiesPanel.showEntry`.\n *\n * @param {string} id\n *\n * @returns {import('preact').Ref}\n */\nfunction useShowEntryEvent(id) {\n  const {\n    onShow\n  } = useContext(LayoutContext);\n  const ref = useRef();\n  const focus = useRef(false);\n  const onShowEntry = useCallback(event => {\n    if (event.id === id) {\n      onShow();\n      if (!focus.current) {\n        focus.current = true;\n      }\n    }\n  }, [id]);\n  useEffect(() => {\n    if (focus.current && ref.current) {\n      if (isFunction(ref.current.focus)) {\n        ref.current.focus();\n      }\n      if (isFunction(ref.current.select)) {\n        ref.current.select();\n      }\n      focus.current = false;\n    }\n  });\n  useEvent('propertiesPanel.showEntry', onShowEntry);\n  return ref;\n}\n\n/**\n * @callback setSticky\n * @param {boolean} value\n */\n\n/**\n * Use IntersectionObserver to identify when DOM element is in sticky mode.\n * If sticky is observered setSticky(true) will be called.\n * If sticky mode is left, setSticky(false) will be called.\n *\n *\n * @param {Object} ref\n * @param {string} scrollContainerSelector\n * @param {setSticky} setSticky\n */\nfunction useStickyIntersectionObserver(ref, scrollContainerSelector, setSticky) {\n  const [scrollContainer, setScrollContainer] = useState(query(scrollContainerSelector));\n  const updateScrollContainer = useCallback(() => {\n    const newScrollContainer = query(scrollContainerSelector);\n    if (newScrollContainer !== scrollContainer) {\n      setScrollContainer(newScrollContainer);\n    }\n  }, [scrollContainerSelector, scrollContainer]);\n  useEffect(() => {\n    updateScrollContainer();\n  }, [updateScrollContainer]);\n  useEvent('propertiesPanel.attach', updateScrollContainer);\n  useEvent('propertiesPanel.detach', updateScrollContainer);\n  useEffect(() => {\n    const Observer = IntersectionObserver;\n\n    // return early if IntersectionObserver is not available\n    if (!Observer) {\n      return;\n    }\n\n    // TODO(@barmac): test this\n    if (!ref.current || !scrollContainer) {\n      return;\n    }\n    const observer = new Observer(entries => {\n      // scroll container is unmounted, do not update sticky state\n      if (scrollContainer.scrollHeight === 0) {\n        return;\n      }\n      entries.forEach(entry => {\n        if (entry.intersectionRatio < 1) {\n          setSticky(true);\n        } else if (entry.intersectionRatio === 1) {\n          setSticky(false);\n        }\n      });\n    }, {\n      root: scrollContainer,\n      rootMargin: '0px 0px 999999% 0px',\n      // Use bottom margin to avoid stickyness when scrolling out to bottom\n      threshold: [1]\n    });\n    observer.observe(ref.current);\n\n    // Unobserve if unmounted\n    return () => {\n      observer.unobserve(ref.current);\n    };\n  }, [ref.current, scrollContainer, setSticky]);\n}\n\n/**\n * Creates a static function reference with changing body.\n * This is necessary when external libraries require a callback function\n * that has references to state variables.\n *\n * Usage:\n * const callback = useStaticCallback((val) => {val === currentState});\n *\n * The `callback` reference is static and can be safely used in external\n * libraries or as a prop that does not cause rerendering of children.\n *\n * @param {Function} callback function with changing reference\n * @returns {Function} static function reference\n */\nfunction useStaticCallback(callback) {\n  const callbackRef = useRef(callback);\n  callbackRef.current = callback;\n  return useCallback((...args) => callbackRef.current(...args), []);\n}\nfunction useElementVisible(element) {\n  const [visible, setVisible] = useState(!!element && !!element.clientHeight);\n  useLayoutEffect(() => {\n    if (!element) return;\n    const resizeObserver = new ResizeObserver(([entry]) => {\n      requestAnimationFrame(() => {\n        const newVisible = !!entry.contentRect.height;\n        if (newVisible !== visible) {\n          setVisible(newVisible);\n        }\n      });\n    });\n    resizeObserver.observe(element);\n    return () => resizeObserver.disconnect();\n  }, [element, visible]);\n  return visible;\n}\n\n/**\n * @param {import('../PropertiesPanel').GroupDefinition} props\n */\nfunction Group(props) {\n  const {\n    element,\n    entries = [],\n    id,\n    label,\n    shouldOpen = false\n  } = props;\n  const groupRef = useRef(null);\n  const [open, setOpen] = useLayoutState(['groups', id, 'open'], shouldOpen);\n  const onShow = useCallback(() => setOpen(true), [setOpen]);\n  const toggleOpen = () => setOpen(!open);\n  const [edited, setEdited] = useState(false);\n  const [sticky, setSticky] = useState(false);\n\n  // set edited state depending on all entries\n  useEffect(() => {\n    // TODO(@barmac): replace with CSS when `:has()` is supported in all major browsers, or rewrite as in https://github.com/camunda/camunda-modeler/issues/3815#issuecomment-1733038161\n    const scheduled = requestAnimationFrame(() => {\n      const hasOneEditedEntry = entries.find(entry => {\n        const {\n          id,\n          isEdited\n        } = entry;\n        const entryNode = query(`[data-entry-id=\"${id}\"]`);\n        if (!isFunction(isEdited) || !entryNode) {\n          return false;\n        }\n        const inputNode = query('.bio-properties-panel-input', entryNode);\n        return isEdited(inputNode);\n      });\n      setEdited(hasOneEditedEntry);\n    });\n    return () => cancelAnimationFrame(scheduled);\n  }, [entries, setEdited]);\n\n  // set error state depending on all entries\n  const allErrors = useErrors();\n  const hasErrors = entries.some(entry => allErrors[entry.id]);\n\n  // set css class when group is sticky to top\n  useStickyIntersectionObserver(groupRef, 'div.bio-properties-panel-scroll-container', setSticky);\n  const propertiesPanelContext = {\n    ...useContext(LayoutContext),\n    onShow\n  };\n  return jsxs(\"div\", {\n    class: \"bio-properties-panel-group\",\n    \"data-group-id\": 'group-' + id,\n    ref: groupRef,\n    children: [jsxs(\"div\", {\n      class: classnames('bio-properties-panel-group-header', edited ? '' : 'empty', open ? 'open' : '', sticky && open ? 'sticky' : ''),\n      onClick: toggleOpen,\n      children: [jsx(\"div\", {\n        class: \"bio-properties-panel-group-header-title\",\n        children: jsx(TooltipWrapper, {\n          value: props.tooltip,\n          forId: 'group-' + id,\n          element: element,\n          parent: groupRef,\n          children: label\n        })\n      }), jsxs(\"div\", {\n        class: \"bio-properties-panel-group-header-buttons\",\n        children: [jsx(DataMarker, {\n          edited: edited,\n          hasErrors: hasErrors\n        }), jsx(\"button\", {\n          type: \"button\",\n          title: \"Toggle section\",\n          class: \"bio-properties-panel-group-header-button bio-properties-panel-arrow\",\n          children: jsx(ArrowIcon, {\n            class: open ? 'bio-properties-panel-arrow-down' : 'bio-properties-panel-arrow-right'\n          })\n        })]\n      })]\n    }), jsx(\"div\", {\n      class: classnames('bio-properties-panel-group-entries', open ? 'open' : ''),\n      children: jsx(LayoutContext.Provider, {\n        value: propertiesPanelContext,\n        children: entries.map(entry => {\n          const {\n            component: Component,\n            id\n          } = entry;\n          return createElement$1(Component, {\n            ...entry,\n            element: element,\n            key: id\n          });\n        })\n      })\n    })]\n  });\n}\nfunction DataMarker(props) {\n  const {\n    edited,\n    hasErrors\n  } = props;\n  if (hasErrors) {\n    return jsx(\"div\", {\n      title: \"Section contains an error\",\n      class: \"bio-properties-panel-dot bio-properties-panel-dot--error\"\n    });\n  }\n  if (edited) {\n    return jsx(\"div\", {\n      title: \"Section contains edits\",\n      class: \"bio-properties-panel-dot\"\n    });\n  }\n  return null;\n}\n\n/**\n * @typedef { {\n *  text: (element: object) => string,\n *  icon?: (element: Object) => import('preact').Component\n * } } PlaceholderDefinition\n *\n * @param { PlaceholderDefinition } props\n */\nfunction Placeholder(props) {\n  const {\n    text,\n    icon: Icon\n  } = props;\n  return jsx(\"div\", {\n    class: \"bio-properties-panel open\",\n    children: jsxs(\"section\", {\n      class: \"bio-properties-panel-placeholder\",\n      children: [Icon && jsx(Icon, {\n        class: \"bio-properties-panel-placeholder-icon\"\n      }), jsx(\"p\", {\n        class: \"bio-properties-panel-placeholder-text\",\n        children: text\n      })]\n    })\n  });\n}\nconst DEFAULT_LAYOUT = {};\nconst DEFAULT_DESCRIPTION = {};\nconst DEFAULT_TOOLTIP = {};\n\n/**\n * @typedef { {\n *    component: import('preact').Component,\n *    id: String,\n *    isEdited?: Function\n * } } EntryDefinition\n *\n * @typedef { {\n *    autoFocusEntry: String,\n *    autoOpen?: Boolean,\n *    entries: Array<EntryDefinition>,\n *    id: String,\n *    label: String,\n *    remove: (event: MouseEvent) => void\n * } } ListItemDefinition\n *\n * @typedef { {\n *    add: (event: MouseEvent) => void,\n *    component: import('preact').Component,\n *    element: Object,\n *    id: String,\n *    items: Array<ListItemDefinition>,\n *    label: String,\n *    shouldOpen?: Boolean\n * } } ListGroupDefinition\n *\n * @typedef { {\n *    component?: import('preact').Component,\n *    entries: Array<EntryDefinition>,\n *    id: String,\n *    label: String,\n *    shouldOpen?: Boolean\n * } } GroupDefinition\n *\n *  @typedef { {\n *    [id: String]: GetDescriptionFunction\n * } } DescriptionConfig\n *\n *  @typedef { {\n *    [id: String]: GetTooltipFunction\n * } } TooltipConfig\n *\n * @callback { {\n * @param {string} id\n * @param {Object} element\n * @returns {string}\n * } } GetDescriptionFunction\n *\n * @callback { {\n * @param {string} id\n * @param {Object} element\n * @returns {string}\n * } } GetTooltipFunction\n *\n * @typedef { {\n *  getEmpty: (element: object) => import('./components/Placeholder').PlaceholderDefinition,\n *  getMultiple: (element: Object) => import('./components/Placeholder').PlaceholderDefinition\n * } } PlaceholderProvider\n *\n */\n\n/**\n * A basic properties panel component. Describes *how* content will be rendered, accepts\n * data from implementor to describe *what* will be rendered.\n *\n * @param {Object} props\n * @param {Object|Array} props.element\n * @param {import('./components/Header').HeaderProvider} props.headerProvider\n * @param {PlaceholderProvider} [props.placeholderProvider]\n * @param {Array<GroupDefinition|ListGroupDefinition>} props.groups\n * @param {Object} [props.layoutConfig]\n * @param {Function} [props.layoutChanged]\n * @param {DescriptionConfig} [props.descriptionConfig]\n * @param {Function} [props.descriptionLoaded]\n * @param {TooltipConfig} [props.tooltipConfig]\n * @param {Function} [props.tooltipLoaded]\n * @param {HTMLElement} [props.feelPopupContainer]\n * @param {Function} [props.getFeelPopupLinks]\n * @param {Object} [props.eventBus]\n */\nfunction PropertiesPanel$1(props) {\n  const {\n    element,\n    headerProvider,\n    placeholderProvider,\n    groups,\n    layoutConfig,\n    layoutChanged,\n    descriptionConfig,\n    descriptionLoaded,\n    tooltipConfig,\n    tooltipLoaded,\n    eventBus\n  } = props;\n\n  // set-up layout context\n  const [layout, setLayout] = useState(createLayout(layoutConfig));\n\n  // react to external changes in the layout config\n  useUpdateLayoutEffect(() => {\n    const newLayout = createLayout(layoutConfig);\n    setLayout(newLayout);\n  }, [layoutConfig]);\n  useEffect(() => {\n    if (typeof layoutChanged === 'function') {\n      layoutChanged(layout);\n    }\n  }, [layout, layoutChanged]);\n  const getLayoutForKey = (key, defaultValue) => {\n    return get(layout, key, defaultValue);\n  };\n  const setLayoutForKey = (key, config) => {\n    setLayout(prevLayout => {\n      const newLayout = assign({}, prevLayout);\n      set$1(newLayout, key, config);\n      return newLayout;\n    });\n  };\n  const layoutContext = {\n    layout,\n    setLayout,\n    getLayoutForKey,\n    setLayoutForKey\n  };\n\n  // set-up description context\n  const description = useMemo(() => createDescriptionContext(descriptionConfig), [descriptionConfig]);\n  useEffect(() => {\n    if (typeof descriptionLoaded === 'function') {\n      descriptionLoaded(description);\n    }\n  }, [description, descriptionLoaded]);\n  const getDescriptionForId = (id, element) => {\n    return description[id] && description[id](element);\n  };\n  const descriptionContext = {\n    description,\n    getDescriptionForId\n  };\n\n  // set-up tooltip context\n  const tooltip = useMemo(() => createTooltipContext(tooltipConfig), [tooltipConfig]);\n  useEffect(() => {\n    if (typeof tooltipLoaded === 'function') {\n      tooltipLoaded(tooltip);\n    }\n  }, [tooltip, tooltipLoaded]);\n  const getTooltipForId = (id, element) => {\n    return tooltip[id] && tooltip[id](element);\n  };\n  const tooltipContext = {\n    tooltip,\n    getTooltipForId\n  };\n  const [errors, setErrors] = useState({});\n  const onSetErrors = ({\n    errors\n  }) => setErrors(errors);\n  useEvent('propertiesPanel.setErrors', onSetErrors, eventBus);\n  const errorsContext = {\n    errors\n  };\n  const eventContext = {\n    eventBus\n  };\n  const propertiesPanelContext = {\n    element\n  };\n\n  // empty state\n  if (placeholderProvider && !element) {\n    return jsx(Placeholder, {\n      ...placeholderProvider.getEmpty()\n    });\n  }\n\n  // multiple state\n  if (placeholderProvider && isArray(element)) {\n    return jsx(Placeholder, {\n      ...placeholderProvider.getMultiple()\n    });\n  }\n  return jsx(LayoutContext.Provider, {\n    value: propertiesPanelContext,\n    children: jsx(ErrorsContext.Provider, {\n      value: errorsContext,\n      children: jsx(DescriptionContext.Provider, {\n        value: descriptionContext,\n        children: jsx(TooltipContext.Provider, {\n          value: tooltipContext,\n          children: jsx(LayoutContext.Provider, {\n            value: layoutContext,\n            children: jsx(EventContext.Provider, {\n              value: eventContext,\n              children: jsxs(\"div\", {\n                class: \"bio-properties-panel\",\n                children: [jsx(Header, {\n                  element: element,\n                  headerProvider: headerProvider\n                }), jsx(\"div\", {\n                  class: \"bio-properties-panel-scroll-container\",\n                  children: groups.map(group => {\n                    const {\n                      component: Component = Group,\n                      id\n                    } = group;\n                    return createElement$1(Component, {\n                      ...group,\n                      key: id,\n                      element: element\n                    });\n                  })\n                })]\n              })\n            })\n          })\n        })\n      })\n    })\n  });\n}\n\n// helpers //////////////////\n\nfunction createLayout(overrides = {}, defaults = DEFAULT_LAYOUT) {\n  return {\n    ...defaults,\n    ...overrides\n  };\n}\nfunction createDescriptionContext(overrides = {}) {\n  return {\n    ...DEFAULT_DESCRIPTION,\n    ...overrides\n  };\n}\nfunction createTooltipContext(overrides = {}) {\n  return {\n    ...DEFAULT_TOOLTIP,\n    ...overrides\n  };\n}\n\n// hooks //////////////////\n\n/**\n * This hook behaves like useLayoutEffect, but does not trigger on the first render.\n *\n * @param {Function} effect\n * @param {Array} deps\n */\nfunction useUpdateLayoutEffect(effect, deps) {\n  const isMounted = useRef(false);\n  useLayoutEffect(() => {\n    if (isMounted.current) {\n      return effect();\n    } else {\n      isMounted.current = true;\n    }\n  }, deps);\n}\n\n/**\n * @typedef { {\n *   [key: string]: string;\n * } } TranslateReplacements\n */\n\n/**\n * A simple translation stub to be used for multi-language support.\n * Can be easily replaced with a more sophisticated solution.\n *\n * @param {string} template to interpolate\n * @param {TranslateReplacements} [replacements] a map with substitutes\n *\n * @return {string} the translated string\n */\nfunction translateFallback(template, replacements) {\n  replacements = replacements || {};\n  return template.replace(/{([^}]+)}/g, function (_, key) {\n    return replacements[key] || '{' + key + '}';\n  });\n}\nfunction CollapsibleEntry(props) {\n  const {\n    element,\n    entries = [],\n    id,\n    label,\n    open: shouldOpen,\n    remove,\n    translate = translateFallback\n  } = props;\n  const [open, setOpen] = useState(shouldOpen);\n  const toggleOpen = () => setOpen(!open);\n  const {\n    onShow\n  } = useContext(LayoutContext);\n  const propertiesPanelContext = {\n    ...useContext(LayoutContext),\n    onShow: useCallback(() => {\n      setOpen(true);\n      if (isFunction(onShow)) {\n        onShow();\n      }\n    }, [onShow, setOpen])\n  };\n  const placeholderLabel = translate('<empty>');\n  return jsxs(\"div\", {\n    \"data-entry-id\": id,\n    class: classnames('bio-properties-panel-collapsible-entry', open ? 'open' : ''),\n    children: [jsxs(\"div\", {\n      class: \"bio-properties-panel-collapsible-entry-header\",\n      onClick: toggleOpen,\n      children: [jsx(\"div\", {\n        class: classnames('bio-properties-panel-collapsible-entry-header-title', !label && 'empty'),\n        children: label || placeholderLabel\n      }), jsx(\"button\", {\n        type: \"button\",\n        title: translate('Toggle list item'),\n        class: \"bio-properties-panel-arrow  bio-properties-panel-collapsible-entry-arrow\",\n        children: jsx(ArrowIcon, {\n          class: open ? 'bio-properties-panel-arrow-down' : 'bio-properties-panel-arrow-right'\n        })\n      }), remove ? jsx(\"button\", {\n        type: \"button\",\n        title: translate('Delete item'),\n        class: \"bio-properties-panel-remove-entry\",\n        onClick: remove,\n        children: jsx(DeleteIcon, {})\n      }) : null]\n    }), jsx(\"div\", {\n      class: classnames('bio-properties-panel-collapsible-entry-entries', open ? 'open' : ''),\n      children: jsx(LayoutContext.Provider, {\n        value: propertiesPanelContext,\n        children: entries.map(entry => {\n          const {\n            component: Component,\n            id\n          } = entry;\n          return createElement$1(Component, {\n            ...entry,\n            element: element,\n            key: id\n          });\n        })\n      })\n    })]\n  });\n}\n\n/**\n * @param {import('../PropertiesPanel').ListItemDefinition} props\n */\nfunction ListItem(props) {\n  const {\n    autoFocusEntry,\n    autoOpen,\n    translate = translateFallback\n  } = props;\n\n  // focus specified entry on auto open\n  useEffect(() => {\n    if (autoOpen && autoFocusEntry) {\n      const entry = query(`[data-entry-id=\"${autoFocusEntry}\"]`);\n      const focusableInput = query('.bio-properties-panel-input', entry);\n      if (focusableInput) {\n        if (isFunction(focusableInput.select)) {\n          focusableInput.select();\n        } else if (isFunction(focusableInput.focus)) {\n          focusableInput.focus();\n        }\n        focusableInput.scrollIntoView();\n      }\n    }\n  }, [autoOpen, autoFocusEntry]);\n  return jsx(\"div\", {\n    class: \"bio-properties-panel-list-item\",\n    children: jsx(CollapsibleEntry, {\n      ...props,\n      open: autoOpen,\n      translate: translate\n    })\n  });\n}\nconst noop$6 = () => {};\n\n/**\n * @param {import('../PropertiesPanel').ListGroupDefinition} props\n */\nfunction ListGroup(props) {\n  const {\n    add,\n    element,\n    id,\n    items,\n    label,\n    shouldOpen = false,\n    translate = translateFallback\n  } = props;\n  useEffect(() => {\n    if (props.shouldSort != undefined) {\n      console.warn('the property \\'shouldSort\\' is no longer supported');\n    }\n  }, [props.shouldSort]);\n  const groupRef = useRef(null);\n  const [open, setOpen] = useLayoutState(['groups', id, 'open'], shouldOpen);\n  const [sticky, setSticky] = useState(false);\n  const onShow = useCallback(() => setOpen(true), [setOpen]);\n  const [localItems, setLocalItems] = useState([]);\n\n  // Flag to mark that add button was clicked in the last render cycle\n  const [addTriggered, setAddTriggered] = useState(false);\n  const prevElement = usePrevious(element);\n  const toggleOpen = useCallback(() => setOpen(!open), [open]);\n  const openItemIds = element === prevElement && open && addTriggered ? getNewItemIds(items, localItems) : [];\n\n  // reset local state after items changed\n  useEffect(() => {\n    setLocalItems(items);\n    setAddTriggered(false);\n  }, [items]);\n\n  // set css class when group is sticky to top\n  useStickyIntersectionObserver(groupRef, 'div.bio-properties-panel-scroll-container', setSticky);\n  const hasItems = !!items.length;\n  const propertiesPanelContext = {\n    ...useContext(LayoutContext),\n    onShow\n  };\n  const handleAddClick = e => {\n    setAddTriggered(true);\n    setOpen(true);\n    add(e);\n  };\n  const allErrors = useErrors();\n  const hasError = items.some(item => {\n    if (allErrors[item.id]) {\n      return true;\n    }\n    if (!item.entries) {\n      return;\n    }\n\n    // also check if the error is nested, e.g. for name-value entries\n    return item.entries.some(entry => allErrors[entry.id]);\n  });\n  return jsxs(\"div\", {\n    class: \"bio-properties-panel-group\",\n    \"data-group-id\": 'group-' + id,\n    ref: groupRef,\n    children: [jsxs(\"div\", {\n      class: classnames('bio-properties-panel-group-header', hasItems ? '' : 'empty', hasItems && open ? 'open' : '', sticky && open ? 'sticky' : ''),\n      onClick: hasItems ? toggleOpen : noop$6,\n      children: [jsx(\"div\", {\n        class: \"bio-properties-panel-group-header-title\",\n        children: jsx(TooltipWrapper, {\n          value: props.tooltip,\n          forId: 'group-' + id,\n          element: element,\n          parent: groupRef,\n          children: label\n        })\n      }), jsxs(\"div\", {\n        class: \"bio-properties-panel-group-header-buttons\",\n        children: [add ? jsxs(\"button\", {\n          type: \"button\",\n          title: translate('Create new list item'),\n          class: \"bio-properties-panel-group-header-button bio-properties-panel-add-entry\",\n          onClick: handleAddClick,\n          children: [jsx(CreateIcon, {}), !hasItems ? jsx(\"span\", {\n            class: \"bio-properties-panel-add-entry-label\",\n            children: translate('Create')\n          }) : null]\n        }) : null, hasItems ? jsx(\"div\", {\n          title: translate(`List contains {numOfItems} item${items.length != 1 ? 's' : ''}`, {\n            numOfItems: items.length\n          }),\n          class: classnames('bio-properties-panel-list-badge', hasError ? 'bio-properties-panel-list-badge--error' : ''),\n          children: items.length\n        }) : null, hasItems ? jsx(\"button\", {\n          type: \"button\",\n          title: translate('Toggle section'),\n          class: \"bio-properties-panel-group-header-button bio-properties-panel-arrow\",\n          children: jsx(ArrowIcon, {\n            class: open ? 'bio-properties-panel-arrow-down' : 'bio-properties-panel-arrow-right'\n          })\n        }) : null]\n      })]\n    }), jsx(\"div\", {\n      class: classnames('bio-properties-panel-list', open && hasItems ? 'open' : ''),\n      children: jsx(LayoutContext.Provider, {\n        value: propertiesPanelContext,\n        children: items.map((item, index) => {\n          if (!item) {\n            return;\n          }\n          const {\n            id\n          } = item;\n\n          // if item was added, open it\n          // existing items will not be affected as autoOpen\n          // is only applied on first render\n          const autoOpen = openItemIds.includes(item.id);\n          return createElement$1(ListItem, {\n            ...item,\n            autoOpen: autoOpen,\n            element: element,\n            index: index,\n            key: id,\n            translate: translate\n          });\n        })\n      })\n    })]\n  });\n}\nfunction getNewItemIds(newItems, oldItems) {\n  const newIds = newItems.map(item => item.id);\n  const oldIds = oldItems.map(item => item.id);\n  return newIds.filter(itemId => !oldIds.includes(itemId));\n}\n\n/**\n * @param {Object} props\n * @param {Object} props.element\n * @param {String} props.forId - id of the entry the description is used for\n * @param {String} props.value\n */\nfunction Description$1(props) {\n  const {\n    element,\n    forId,\n    value\n  } = props;\n  const contextDescription = useDescriptionContext(forId, element);\n  const description = value || contextDescription;\n  if (description) {\n    return jsx(\"div\", {\n      class: \"bio-properties-panel-description\",\n      children: description\n    });\n  }\n}\nfunction Checkbox(props) {\n  const {\n    id,\n    label,\n    onChange,\n    disabled,\n    value = false,\n    onFocus,\n    onBlur,\n    tooltip\n  } = props;\n  const [localValue, setLocalValue] = useState(value);\n  const handleChangeCallback = ({\n    target\n  }) => {\n    onChange(target.checked);\n  };\n  const handleChange = e => {\n    handleChangeCallback(e);\n    setLocalValue(e.target.value);\n  };\n  useEffect(() => {\n    if (value === localValue) {\n      return;\n    }\n    setLocalValue(value);\n  }, [value]);\n  const ref = useShowEntryEvent(id);\n  return jsxs(\"div\", {\n    class: \"bio-properties-panel-checkbox\",\n    children: [jsx(\"input\", {\n      ref: ref,\n      id: prefixId$8(id),\n      name: id,\n      onFocus: onFocus,\n      onBlur: onBlur,\n      type: \"checkbox\",\n      class: \"bio-properties-panel-input\",\n      onChange: handleChange,\n      checked: localValue,\n      disabled: disabled\n    }), jsx(\"label\", {\n      for: prefixId$8(id),\n      class: \"bio-properties-panel-label\",\n      children: jsx(TooltipWrapper, {\n        value: tooltip,\n        forId: id,\n        element: props.element,\n        children: label\n      })\n    })]\n  });\n}\n\n/**\n * @param {Object} props\n * @param {Object} props.element\n * @param {String} props.id\n * @param {String} props.description\n * @param {String} props.label\n * @param {Function} props.getValue\n * @param {Function} props.setValue\n * @param {Function} props.onFocus\n * @param {Function} props.onBlur\n * @param {string|import('preact').Component} props.tooltip\n * @param {boolean} [props.disabled]\n */\nfunction CheckboxEntry(props) {\n  const {\n    element,\n    id,\n    description,\n    label,\n    getValue,\n    setValue,\n    disabled,\n    onFocus,\n    onBlur,\n    tooltip\n  } = props;\n  const value = getValue(element);\n  const error = useError(id);\n  return jsxs(\"div\", {\n    class: \"bio-properties-panel-entry bio-properties-panel-checkbox-entry\",\n    \"data-entry-id\": id,\n    children: [jsx(Checkbox, {\n      disabled: disabled,\n      id: id,\n      label: label,\n      onChange: setValue,\n      onFocus: onFocus,\n      onBlur: onBlur,\n      value: value,\n      tooltip: tooltip,\n      element: element\n    }, element), error && jsx(\"div\", {\n      class: \"bio-properties-panel-error\",\n      children: error\n    }), jsx(Description$1, {\n      forId: id,\n      element: element,\n      value: description\n    })]\n  });\n}\nfunction isEdited$8(node) {\n  return node && !!node.checked;\n}\n\n// helpers /////////////////\n\nfunction prefixId$8(id) {\n  return `bio-properties-panel-${id}`;\n}\n\n/**\n * Button to open popups.\n *\n * @param {Object} props\n * @param {Function} props.onClick - Callback to trigger when the button is clicked.\n * @param {string} [props.title] - Tooltip text for the button.\n * @param {boolean} [props.disabled] - Whether the button is disabled.\n * @param {string} [props.className] - Additional class names for the button.\n */\nfunction OpenPopupButton({\n  onClick,\n  title = 'Open pop-up editor'\n}) {\n  return jsx(\"button\", {\n    type: \"button\",\n    title: title,\n    class: 'bio-properties-panel-open-feel-popup',\n    onClick: onClick,\n    children: jsx(OpenPopupIcon, {})\n  });\n}\nconst noop$5 = () => {};\n\n/**\n * Buffer `.focus()` calls while the editor is not initialized.\n * Set Focus inside when the editor is ready.\n */\nconst useBufferedFocus$1 = function (editor, ref) {\n  const [buffer, setBuffer] = useState(undefined);\n  ref.current = useMemo(() => ({\n    focus: offset => {\n      if (editor) {\n        editor.focus(offset);\n      } else {\n        if (typeof offset === 'undefined') {\n          offset = Infinity;\n        }\n        setBuffer(offset);\n      }\n    }\n  }), [editor]);\n  useEffect(() => {\n    if (typeof buffer !== 'undefined' && editor) {\n      editor.focus(buffer);\n      setBuffer(false);\n    }\n  }, [editor, buffer]);\n};\nconst TemplatingEditor = forwardRef((props, ref) => {\n  const {\n    onInput,\n    disabled,\n    tooltipContainer,\n    enableGutters,\n    value,\n    onLint = noop$5,\n    onOpenPopup = noop$5,\n    popupOpen,\n    contentAttributes = {},\n    hostLanguage = null,\n    singleLine = false\n  } = props;\n  const inputRef = useRef();\n  const [editor, setEditor] = useState();\n  const [localValue, setLocalValue] = useState(value || '');\n  useBufferedFocus$1(editor, ref);\n  const handleInput = useStaticCallback(newValue => {\n    onInput(newValue);\n    setLocalValue(newValue);\n  });\n  useEffect(() => {\n    let editor;\n    editor = new FeelersEditor({\n      container: inputRef.current,\n      onChange: handleInput,\n      value: localValue,\n      onLint,\n      contentAttributes,\n      tooltipContainer,\n      enableGutters,\n      hostLanguage,\n      singleLine,\n      lineWrap: true\n    });\n    setEditor(editor);\n    return () => {\n      onLint([]);\n      inputRef.current.innerHTML = '';\n      setEditor(null);\n    };\n  }, []);\n  useEffect(() => {\n    if (!editor) {\n      return;\n    }\n    if (value === localValue) {\n      return;\n    }\n    editor.setValue(value);\n    setLocalValue(value);\n  }, [value]);\n  const handleClick = () => {\n    ref.current.focus();\n  };\n  return jsxs(\"div\", {\n    class: classnames('bio-properties-panel-feelers-editor-container', popupOpen ? 'popupOpen' : null),\n    children: [popupOpen && jsx(\"div\", {\n      class: \"bio-properties-panel-feelers-editor__popup-placeholder\",\n      children: \"Opened in popup\"\n    }), jsx(\"div\", {\n      name: props.name,\n      class: classnames('bio-properties-panel-feelers-editor bio-properties-panel-input', localValue ? 'edited' : null, disabled ? 'disabled' : null),\n      ref: inputRef,\n      onClick: handleClick\n    }), !disabled && jsx(OpenPopupButton, {\n      onClick: () => onOpenPopup('feelers')\n    })]\n  });\n});\nconst noop$4 = () => {};\n\n/**\n * Buffer `.focus()` calls while the editor is not initialized.\n * Set Focus inside when the editor is ready.\n */\nconst useBufferedFocus = function (editor, ref) {\n  const [buffer, setBuffer] = useState(undefined);\n  ref.current = useMemo(() => ({\n    focus: offset => {\n      if (editor) {\n        editor.focus(offset);\n      } else {\n        if (typeof offset === 'undefined') {\n          offset = Infinity;\n        }\n        setBuffer(offset);\n      }\n    }\n  }), [editor]);\n  useEffect(() => {\n    if (typeof buffer !== 'undefined' && editor) {\n      editor.focus(buffer);\n      setBuffer(false);\n    }\n  }, [editor, buffer]);\n};\nconst FeelEditor = forwardRef((props, ref) => {\n  const {\n    contentAttributes,\n    enableGutters,\n    value,\n    onInput,\n    onKeyDown: onKeyDownProp = noop$4,\n    onFeelToggle = noop$4,\n    onLint = noop$4,\n    onOpenPopup = noop$4,\n    placeholder,\n    popupOpen,\n    disabled,\n    tooltipContainer,\n    variables,\n    feelLanguageContext\n  } = props;\n  const inputRef = useRef();\n  const [editor, setEditor] = useState();\n  const [localValue, setLocalValue] = useState(value || '');\n  const {\n    builtins,\n    dialect,\n    parserDialect\n  } = feelLanguageContext || {};\n  useBufferedFocus(editor, ref);\n  const handleInput = useStaticCallback(newValue => {\n    onInput(newValue);\n    setLocalValue(newValue);\n  });\n  useEffect(() => {\n    let editor;\n\n    /* Trigger FEEL toggle when\n     *\n     * - `backspace` is pressed\n     * - AND the cursor is at the beginning of the input\n     */\n    const onKeyDown = e => {\n      // Call parent onKeyDown handler first\n      onKeyDownProp(e);\n      if (e.key !== 'Backspace' || !editor) {\n        return;\n      }\n      const selection = editor.getSelection();\n      const range = selection.ranges[selection.mainIndex];\n      if (range.from === 0 && range.to === 0) {\n        onFeelToggle();\n      }\n    };\n    editor = new Editor({\n      container: inputRef.current,\n      onChange: handleInput,\n      onKeyDown: onKeyDown,\n      onLint: onLint,\n      placeholder: placeholder,\n      tooltipContainer: tooltipContainer,\n      value: localValue,\n      variables,\n      builtins,\n      dialect,\n      parserDialect,\n      extensions: [...(enableGutters ? [lineNumbers()] : []), EditorView.lineWrapping],\n      contentAttributes\n    });\n    setEditor(editor);\n    return () => {\n      onLint([]);\n      inputRef.current.innerHTML = '';\n      setEditor(null);\n    };\n  }, []);\n  useEffect(() => {\n    if (!editor) {\n      return;\n    }\n    if (value === localValue) {\n      return;\n    }\n    editor.setValue(value);\n    setLocalValue(value);\n  }, [value]);\n  useEffect(() => {\n    if (!editor) {\n      return;\n    }\n    editor.setVariables(variables);\n  }, [variables]);\n  useEffect(() => {\n    if (!editor) {\n      return;\n    }\n    editor.setPlaceholder(placeholder);\n  }, [placeholder]);\n  const handleClick = () => {\n    ref.current.focus();\n  };\n  return jsxs(\"div\", {\n    class: classnames('bio-properties-panel-feel-editor-container', disabled ? 'disabled' : null, popupOpen ? 'popupOpen' : null),\n    children: [popupOpen && jsx(\"div\", {\n      class: \"bio-properties-panel-feel-editor__open-popup-placeholder\",\n      children: \"Opened in editor\"\n    }), jsx(\"div\", {\n      name: props.name,\n      class: classnames('bio-properties-panel-input', localValue ? 'edited' : null),\n      ref: inputRef,\n      onClick: handleClick\n    }), !disabled && jsx(OpenPopupButton, {\n      onClick: () => onOpenPopup('feel')\n    })]\n  });\n});\nfunction FeelIndicator(props) {\n  const {\n    active\n  } = props;\n  if (!active) {\n    return null;\n  }\n  return jsx(\"span\", {\n    class: \"bio-properties-panel-feel-indicator\",\n    children: \"=\"\n  });\n}\nconst noop$3 = () => {};\n\n/**\n * @param {Object} props\n * @param {Object} props.label\n * @param {String} props.feel\n */\nfunction FeelIcon(props) {\n  const {\n    feel = false,\n    active,\n    disabled = false,\n    onClick = noop$3\n  } = props;\n  const feelRequiredLabel = 'FEEL expression is mandatory';\n  const feelOptionalLabel = `Click to ${active ? 'remove' : 'set a'} dynamic value with FEEL expression`;\n  const handleClick = e => {\n    onClick(e);\n\n    // when pointer event was created from keyboard, keep focus on button\n    if (!e.pointerType) {\n      e.stopPropagation();\n    }\n  };\n  return jsx(\"button\", {\n    type: \"button\",\n    class: classnames('bio-properties-panel-feel-icon', active ? 'active' : null, feel === 'required' ? 'required' : 'optional'),\n    onClick: handleClick,\n    disabled: feel === 'required' || disabled,\n    title: feel === 'required' ? feelRequiredLabel : feelOptionalLabel,\n    children: jsx(FeelIcon$1, {})\n  });\n}\n\n/**\n * @param {KeyboardEvent} event\n * @return {boolean}\n */\nfunction isCmd(event) {\n  // ensure we don't react to AltGr\n  // (mapped to CTRL + ALT)\n  if (event.altKey) {\n    return false;\n  }\n  return event.ctrlKey || event.metaKey;\n}\nfunction isCmdWithChar(event) {\n  return isCmd(event) && event.key.length === 1 && /^[a-zA-Z]$/.test(event.key);\n}\nfunction ToggleSwitch(props) {\n  const {\n    id,\n    label,\n    onInput,\n    value,\n    switcherLabel,\n    inline,\n    onFocus,\n    onBlur,\n    inputRef,\n    tooltip\n  } = props;\n  const [localValue, setLocalValue] = useState(value);\n  const handleInputCallback = async () => {\n    onInput(!value);\n  };\n  const handleInput = e => {\n    handleInputCallback();\n    setLocalValue(e.target.value);\n  };\n  useEffect(() => {\n    if (value === localValue) {\n      return;\n    }\n    setLocalValue(value);\n  }, [value]);\n  return jsxs(\"div\", {\n    class: classnames('bio-properties-panel-toggle-switch', {\n      inline\n    }),\n    children: [jsx(\"label\", {\n      class: \"bio-properties-panel-label\",\n      for: prefixId$7(id),\n      children: jsx(TooltipWrapper, {\n        value: tooltip,\n        forId: id,\n        element: props.element,\n        children: label\n      })\n    }), jsxs(\"div\", {\n      class: \"bio-properties-panel-field-wrapper\",\n      children: [jsxs(\"label\", {\n        class: \"bio-properties-panel-toggle-switch__switcher\",\n        children: [jsx(\"input\", {\n          ref: inputRef,\n          id: prefixId$7(id),\n          class: \"bio-properties-panel-input\",\n          type: \"checkbox\",\n          onFocus: onFocus,\n          onBlur: onBlur,\n          name: id,\n          onInput: handleInput,\n          checked: !!localValue\n        }), jsx(\"span\", {\n          class: \"bio-properties-panel-toggle-switch__slider\"\n        })]\n      }), switcherLabel && jsx(\"p\", {\n        class: \"bio-properties-panel-toggle-switch__label\",\n        children: switcherLabel\n      })]\n    })]\n  });\n}\n\n/**\n * @param {Object} props\n * @param {Object} props.element\n * @param {String} props.id\n * @param {String} props.description\n * @param {String} props.label\n * @param {String} props.switcherLabel\n * @param {Boolean} props.inline\n * @param {Function} props.getValue\n * @param {Function} props.setValue\n * @param {Function} props.onFocus\n * @param {Function} props.onBlur\n * @param {string|import('preact').Component} props.tooltip\n */\nfunction ToggleSwitchEntry(props) {\n  const {\n    element,\n    id,\n    description,\n    label,\n    switcherLabel,\n    inline,\n    getValue,\n    setValue,\n    onFocus,\n    onBlur,\n    tooltip\n  } = props;\n  const value = getValue(element);\n  return jsxs(\"div\", {\n    class: \"bio-properties-panel-entry bio-properties-panel-toggle-switch-entry\",\n    \"data-entry-id\": id,\n    children: [jsx(ToggleSwitch, {\n      id: id,\n      label: label,\n      value: value,\n      onInput: setValue,\n      onFocus: onFocus,\n      onBlur: onBlur,\n      switcherLabel: switcherLabel,\n      inline: inline,\n      tooltip: tooltip,\n      element: element\n    }), jsx(Description$1, {\n      forId: id,\n      element: element,\n      value: description\n    })]\n  });\n}\nfunction isEdited$7(node) {\n  return node && !!node.checked;\n}\n\n// helpers /////////////////\n\nfunction prefixId$7(id) {\n  return `bio-properties-panel-${id}`;\n}\nfunction NumberField(props) {\n  const {\n    debounce,\n    disabled,\n    displayLabel = true,\n    id,\n    inputRef,\n    label,\n    max,\n    min,\n    onInput,\n    step,\n    value = '',\n    onFocus,\n    onBlur,\n    tooltip\n  } = props;\n  const [localValue, setLocalValue] = useState(value);\n  const handleInputCallback = useMemo(() => {\n    return debounce(target => {\n      if (target.validity.valid) {\n        onInput(target.value ? parseFloat(target.value) : undefined);\n      }\n    });\n  }, [onInput, debounce]);\n  const handleInput = e => {\n    handleInputCallback(e.target);\n    setLocalValue(e.target.value);\n  };\n  useEffect(() => {\n    if (value === localValue) {\n      return;\n    }\n    setLocalValue(value);\n  }, [value]);\n  return jsxs(\"div\", {\n    class: \"bio-properties-panel-numberfield\",\n    children: [displayLabel && jsx(\"label\", {\n      for: prefixId$6(id),\n      class: \"bio-properties-panel-label\",\n      children: jsx(TooltipWrapper, {\n        value: tooltip,\n        forId: id,\n        element: props.element,\n        children: label\n      })\n    }), jsx(\"input\", {\n      id: prefixId$6(id),\n      ref: inputRef,\n      type: \"number\",\n      name: id,\n      spellCheck: \"false\",\n      autoComplete: \"off\",\n      disabled: disabled,\n      class: \"bio-properties-panel-input\",\n      max: max,\n      min: min,\n      onInput: handleInput,\n      onFocus: onFocus,\n      onBlur: onBlur,\n      step: step,\n      value: localValue\n    })]\n  });\n}\n\n/**\n * @param {Object} props\n * @param {Boolean} props.debounce\n * @param {String} props.description\n * @param {Boolean} props.disabled\n * @param {Object} props.element\n * @param {Function} props.getValue\n * @param {String} props.id\n * @param {String} props.label\n * @param {String} props.max\n * @param {String} props.min\n * @param {Function} props.setValue\n * @param {Function} props.onFocus\n * @param {Function} props.onBlur\n * @param {String} props.step\n * @param {Function} props.validate\n */\nfunction NumberFieldEntry(props) {\n  const {\n    debounce,\n    description,\n    disabled,\n    element,\n    getValue,\n    id,\n    label,\n    max,\n    min,\n    setValue,\n    step,\n    onFocus,\n    onBlur,\n    validate,\n    tooltip\n  } = props;\n  const globalError = useError(id);\n  const [localError, setLocalError] = useState(null);\n  let value = getValue(element);\n  useEffect(() => {\n    if (isFunction(validate)) {\n      const newValidationError = validate(value) || null;\n      setLocalError(newValidationError);\n    }\n  }, [value, validate]);\n  const onInput = newValue => {\n    let newValidationError = null;\n    if (isFunction(validate)) {\n      newValidationError = validate(newValue) || null;\n    }\n    setValue(newValue, newValidationError);\n    setLocalError(newValidationError);\n  };\n  const error = globalError || localError;\n  return jsxs(\"div\", {\n    class: classnames('bio-properties-panel-entry', error ? 'has-error' : ''),\n    \"data-entry-id\": id,\n    children: [jsx(NumberField, {\n      debounce: debounce,\n      disabled: disabled,\n      id: id,\n      label: label,\n      onFocus: onFocus,\n      onBlur: onBlur,\n      onInput: onInput,\n      max: max,\n      min: min,\n      step: step,\n      value: value,\n      tooltip: tooltip\n    }, element), error && jsx(\"div\", {\n      class: \"bio-properties-panel-error\",\n      children: error\n    }), jsx(Description$1, {\n      forId: id,\n      element: element,\n      value: description\n    })]\n  });\n}\nfunction isEdited$6(node) {\n  return node && !!node.value;\n}\n\n// helpers /////////////////\n\nfunction prefixId$6(id) {\n  return `bio-properties-panel-${id}`;\n}\nconst noop$2 = () => {};\n\n/**\n * @typedef {'required'|'optional'|'static'} FeelType\n */\n\n/**\n * @param {Object} props\n * @param {Boolean} props.debounce\n * @param {String} props.id\n * @param {Object} props.element\n * @param {String} props.label\n * @param {String} props.hostLanguage\n * @param {Function} props.onInput\n * @param {Function} props.onBlur\n * @param {Function} props.onError\n * @param {FeelType} [props.feel]\n * @param {String} props.value\n * @param {Boolean} [props.singleLine]\n * @param {Function} props.tooltipContainer\n * @param {Function | import('preact').Component} props.OptionalComponent\n * @param {Boolean} props.disabled\n * @param {Array} props.variables\n * @param {string} [props.placeholder]\n * @param {string | import('preact').Component} props.tooltip\n */\nfunction FeelTextfield(props) {\n  const {\n    debounce,\n    id,\n    element,\n    label,\n    hostLanguage,\n    onInput: commitValue,\n    onBlur,\n    onError,\n    placeholder,\n    feel,\n    value = '',\n    disabled = false,\n    variables,\n    singleLine,\n    tooltipContainer,\n    OptionalComponent = OptionalFeelInput,\n    tooltip\n  } = props;\n  const [localValue, setLocalValue] = useState(value);\n  const editorRef = useShowEntryEvent(id);\n  const containerRef = useRef();\n  const onInput = useCallback(newValue => {\n    // we don't commit empty FEEL expressions,\n    // but instead serialize them as <undefined>\n    const newModelValue = newValue === '' || newValue === '=' ? undefined : newValue;\n    commitValue(newModelValue);\n  }, [commitValue]);\n  const feelActive = isString(localValue) && localValue.startsWith('=') || feel === 'required';\n  const feelOnlyValue = isString(localValue) && localValue.startsWith('=') ? localValue.substring(1) : localValue;\n  const feelLanguageContext = useContext(FeelLanguageContext);\n  const [focus, _setFocus] = useState(undefined);\n  const {\n    eventBus\n  } = useContext(EventContext);\n  const [isPopupOpen, setIsPopupOpen] = useState(false);\n  const setFocus = (offset = 0) => {\n    const hasFocus = containerRef.current.contains(document.activeElement);\n\n    // Keep caret position if it is already focused, otherwise focus at the end\n    const position = hasFocus ? document.activeElement.selectionStart : Infinity;\n    _setFocus(position + offset);\n  };\n\n  /**\n   * @type { import('min-dash').DebouncedFunction }\n   */\n  const handleInput = useDebounce(onInput, debounce);\n  const handleFeelToggle = useStaticCallback(() => {\n    if (feel === 'required') {\n      return;\n    }\n    if (!feelActive) {\n      setLocalValue('=' + localValue);\n      handleInput('=' + localValue);\n    } else {\n      setLocalValue(feelOnlyValue);\n      handleInput(feelOnlyValue);\n    }\n  });\n  const handleLocalInput = (newValue, useDebounce = true) => {\n    if (feelActive) {\n      newValue = '=' + newValue;\n    }\n    if (newValue === localValue) {\n      return;\n    }\n    setLocalValue(newValue);\n    if (useDebounce) {\n      handleInput(newValue);\n    } else {\n      onInput(newValue);\n    }\n    if (!feelActive && isString(newValue) && newValue.startsWith('=')) {\n      // focus is behind `=` sign that will be removed\n      setFocus(-1);\n    }\n  };\n  const handleOnBlur = e => {\n    handleInput.cancel?.();\n    if (e.target.type === 'checkbox') {\n      onInput(e.target.checked);\n    } else {\n      const trimmedValue = e.target.value.trim();\n      handleLocalInput(trimmedValue, false);\n    }\n    if (onBlur) {\n      onBlur(e);\n    }\n  };\n  const handleOnKeyDown = e => {\n    if (isCmdWithChar(e)) {\n      handleInput.flush();\n    }\n  };\n  const handleLint = useStaticCallback((lint = []) => {\n    const syntaxError = lint.some(report => report.type === 'Syntax Error');\n    if (syntaxError) {\n      onError('Unparsable FEEL expression.');\n    } else {\n      onError(undefined);\n    }\n  });\n  const handleOpenPopup = (type = 'feel') => {\n    const isOpen = eventBus.fire('propertiesPanel.openPopup', {\n      element,\n      entryId: id,\n      hostLanguage,\n      label,\n      onInput: handleLocalInput,\n      singleLine,\n      sourceElement: editorRef.current,\n      tooltipContainer,\n      type,\n      value: feelOnlyValue,\n      variables,\n      feelLanguageContext\n    });\n    if (isOpen) {\n      eventBus.once('propertiesPanelPopup.close', () => {\n        setIsPopupOpen(false);\n      });\n    }\n    setIsPopupOpen(isOpen === true);\n  };\n  useEffect(() => {\n    if (typeof focus !== 'undefined') {\n      editorRef.current.focus(focus);\n      _setFocus(undefined);\n    }\n  }, [focus]);\n  useEffect(() => {\n    if (value === localValue) {\n      return;\n    }\n\n    // External value change removed content => keep FEEL configuration\n    if (!value) {\n      setLocalValue(feelActive ? '=' : '');\n      return;\n    }\n    setLocalValue(value);\n  }, [value]);\n  useEffect(() => {\n    return () => {\n      eventBus.fire('propertiesPanel.closePopup');\n    };\n  }, []);\n\n  // copy-paste integration\n  useEffect(() => {\n    const copyHandler = event => {\n      if (!feelActive) {\n        return;\n      }\n      event.clipboardData.setData('application/FEEL', event.clipboardData.getData('text'));\n    };\n    const pasteHandler = event => {\n      if (feelActive || isPopupOpen) {\n        return;\n      }\n      const feelData = event.clipboardData.getData('application/FEEL');\n      if (feelData) {\n        setTimeout(() => {\n          handleFeelToggle();\n          setFocus();\n        });\n        return;\n      }\n      const input = event.target;\n      const isFieldEmpty = !input.value;\n      const isAllSelected = input.selectionStart === 0 && input.selectionEnd === input.value.length;\n      if (isFieldEmpty || isAllSelected) {\n        const textData = event.clipboardData.getData('text');\n        const trimmedValue = textData.trim();\n        setLocalValue(trimmedValue);\n        handleInput(trimmedValue);\n        if (!feelActive && isString(trimmedValue) && trimmedValue.startsWith('=')) {\n          setFocus(trimmedValue.length - 1);\n        }\n        event.preventDefault();\n      }\n    };\n    containerRef.current.addEventListener('copy', copyHandler);\n    containerRef.current.addEventListener('cut', copyHandler);\n    containerRef.current.addEventListener('paste', pasteHandler);\n    return () => {\n      containerRef.current.removeEventListener('copy', copyHandler);\n      containerRef.current.removeEventListener('cut', copyHandler);\n      containerRef.current.removeEventListener('paste', pasteHandler);\n    };\n  }, [containerRef, feelActive, handleFeelToggle, setFocus]);\n  return jsxs(\"div\", {\n    class: classnames('bio-properties-panel-feel-entry', {\n      'feel-active': feelActive\n    }),\n    children: [jsxs(\"label\", {\n      for: prefixId$5(id),\n      class: \"bio-properties-panel-label\",\n      onClick: () => setFocus(),\n      children: [jsx(TooltipWrapper, {\n        value: tooltip,\n        forId: id,\n        element: props.element,\n        children: label\n      }), jsx(FeelIcon, {\n        label: label,\n        feel: feel,\n        onClick: handleFeelToggle,\n        active: feelActive\n      })]\n    }), jsxs(\"div\", {\n      class: \"bio-properties-panel-feel-container\",\n      ref: containerRef,\n      children: [jsx(FeelIndicator, {\n        active: feelActive,\n        disabled: feel !== 'optional' || disabled,\n        onClick: handleFeelToggle\n      }), feelActive ? jsx(FeelEditor, {\n        name: id,\n        onInput: handleLocalInput,\n        onKeyDown: handleOnKeyDown,\n        contentAttributes: {\n          'id': prefixId$5(id),\n          'aria-label': label\n        },\n        disabled: disabled,\n        popupOpen: isPopupOpen,\n        onFeelToggle: () => {\n          handleFeelToggle();\n          setFocus(true);\n        },\n        onLint: handleLint,\n        onOpenPopup: handleOpenPopup,\n        placeholder: placeholder,\n        value: feelOnlyValue,\n        variables: variables,\n        feelLanguageContext: feelLanguageContext,\n        ref: editorRef,\n        tooltipContainer: tooltipContainer\n      }) : jsx(OptionalComponent, {\n        ...props,\n        popupOpen: isPopupOpen,\n        onInput: handleLocalInput,\n        onKeyDown: handleOnKeyDown,\n        onBlur: handleOnBlur,\n        contentAttributes: {\n          'id': prefixId$5(id),\n          'aria-label': label\n        },\n        value: localValue,\n        ref: editorRef,\n        onOpenPopup: handleOpenPopup,\n        containerRef: containerRef\n      })]\n    })]\n  });\n}\nconst OptionalFeelInput = forwardRef((props, ref) => {\n  const {\n    id,\n    disabled,\n    onInput,\n    onKeyDown,\n    value,\n    onFocus,\n    onBlur,\n    placeholder\n  } = props;\n  const inputRef = useRef();\n\n  // To be consistent with the FEEL editor, set focus at start of input\n  // this ensures clean editing experience when switching with the keyboard\n  ref.current = {\n    focus: position => {\n      const input = inputRef.current;\n      if (!input) {\n        return;\n      }\n      input.focus();\n      if (typeof position === 'number') {\n        if (position > value.length) {\n          position = value.length;\n        }\n        input.setSelectionRange(position, position);\n      }\n    }\n  };\n  return jsx(\"input\", {\n    id: prefixId$5(id),\n    type: \"text\",\n    ref: inputRef,\n    name: id,\n    spellCheck: \"false\",\n    autoComplete: \"off\",\n    disabled: disabled,\n    class: \"bio-properties-panel-input\",\n    onInput: e => onInput(e.target.value),\n    onFocus: onFocus,\n    onKeyDown: onKeyDown,\n    onBlur: onBlur,\n    placeholder: placeholder,\n    value: value || ''\n  });\n});\nconst OptionalFeelNumberField = forwardRef((props, ref) => {\n  const {\n    id,\n    debounce,\n    disabled,\n    onInput,\n    value,\n    min,\n    max,\n    step,\n    onFocus,\n    onBlur\n  } = props;\n  const inputRef = useRef();\n\n  // To be consistent with the FEEL editor, set focus at start of input\n  // this ensures clean editing experience when switching with the keyboard\n  ref.current = {\n    focus: position => {\n      const input = inputRef.current;\n      if (!input) {\n        return;\n      }\n      input.focus();\n      if (typeof position === 'number' && position !== Infinity) {\n        if (position > value.length) {\n          position = value.length;\n        }\n        input.setSelectionRange(position, position);\n      }\n    }\n  };\n  return jsx(NumberField, {\n    id: id,\n    debounce: debounce,\n    disabled: disabled,\n    displayLabel: false,\n    inputRef: inputRef,\n    max: max,\n    min: min,\n    onInput: onInput,\n    step: step,\n    value: value,\n    onFocus: onFocus,\n    onBlur: onBlur\n  });\n});\nforwardRef((props, ref) => {\n  const {\n    id,\n    disabled,\n    onInput,\n    value,\n    onFocus,\n    onBlur,\n    placeholder\n  } = props;\n  const inputRef = useRef();\n\n  // To be consistent with the FEEL editor, set focus at start of input\n  // this ensures clean editing experience when switching with the keyboard\n  ref.current = {\n    focus: () => {\n      const input = inputRef.current;\n      if (!input) {\n        return;\n      }\n      input.focus();\n      input.setSelectionRange(0, 0);\n    }\n  };\n  return jsx(\"textarea\", {\n    id: prefixId$5(id),\n    type: \"text\",\n    ref: inputRef,\n    name: id,\n    spellCheck: \"false\",\n    autoComplete: \"off\",\n    disabled: disabled,\n    class: \"bio-properties-panel-input\",\n    onInput: e => onInput(e.target.value),\n    onFocus: onFocus,\n    onBlur: onBlur,\n    placeholder: placeholder,\n    value: value || '',\n    \"data-gramm\": \"false\"\n  });\n});\nconst OptionalFeelToggleSwitch = forwardRef((props, ref) => {\n  const {\n    id,\n    onInput,\n    value,\n    onFocus,\n    onBlur,\n    switcherLabel\n  } = props;\n  const inputRef = useRef();\n\n  // To be consistent with the FEEL editor, set focus at start of input\n  // this ensures clean editing experience when switching with the keyboard\n  ref.current = {\n    focus: () => {\n      const input = inputRef.current;\n      if (!input) {\n        return;\n      }\n      input.focus();\n    }\n  };\n  return jsx(ToggleSwitch, {\n    id: id,\n    value: value,\n    inputRef: inputRef,\n    onInput: onInput,\n    onFocus: onFocus,\n    onBlur: onBlur,\n    switcherLabel: switcherLabel\n  });\n});\nforwardRef((props, ref) => {\n  const {\n    id,\n    disabled,\n    onInput,\n    value,\n    onFocus,\n    onBlur\n  } = props;\n  const inputRef = useRef();\n  const handleChange = ({\n    target\n  }) => {\n    onInput(target.checked);\n  };\n\n  // To be consistent with the FEEL editor, set focus at start of input\n  // this ensures clean editing experience when switching with the keyboard\n  ref.current = {\n    focus: () => {\n      const input = inputRef.current;\n      if (!input) {\n        return;\n      }\n      input.focus();\n    }\n  };\n  return jsx(\"input\", {\n    ref: inputRef,\n    id: prefixId$5(id),\n    name: id,\n    onFocus: onFocus,\n    onBlur: onBlur,\n    type: \"checkbox\",\n    class: \"bio-properties-panel-input\",\n    onChange: handleChange,\n    checked: value,\n    disabled: disabled\n  });\n});\n\n/**\n * @param {Object} props\n * @param {Object} props.element\n * @param {String} props.id\n * @param {String} props.description\n * @param {Boolean} props.debounce\n * @param {Boolean} props.disabled\n * @param {FeelType} [props.feel]\n * @param {String} props.label\n * @param {Function} props.getValue\n * @param {Function} props.setValue\n * @param {Function} props.tooltipContainer\n * @param {Function} props.validate\n * @param {Function} props.show\n * @param {Function} props.example\n * @param {Array} props.variables\n * @param {Function} props.onFocus\n * @param {Function} props.onBlur\n * @param {string} [props.placeholder]\n * @param {string|import('preact').Component} props.tooltip\n */\nfunction FeelEntry(props) {\n  const {\n    element,\n    id,\n    description,\n    debounce,\n    disabled,\n    feel,\n    label,\n    getValue,\n    setValue,\n    tooltipContainer,\n    hostLanguage,\n    singleLine,\n    validate,\n    show = noop$2,\n    example,\n    variables,\n    onFocus,\n    onBlur,\n    placeholder,\n    tooltip\n  } = props;\n  const [validationError, setValidationError] = useState(null);\n  const [localError, setLocalError] = useState(null);\n  let value = getValue(element);\n  useEffect(() => {\n    if (isFunction(validate)) {\n      const newValidationError = validate(value) || null;\n      setValidationError(newValidationError);\n    }\n  }, [value, validate]);\n  const onInput = useStaticCallback(newValue => {\n    const value = getValue(element);\n    let newValidationError = null;\n    if (isFunction(validate)) {\n      newValidationError = validate(newValue) || null;\n    }\n\n    // don't create multiple commandStack entries for the same value\n    if (newValue !== value) {\n      setValue(newValue, newValidationError);\n    }\n    setValidationError(newValidationError);\n  });\n  const onError = useCallback(err => {\n    setLocalError(err);\n  }, []);\n  const temporaryError = useError(id);\n  const error = temporaryError || localError || validationError;\n  return jsxs(\"div\", {\n    class: classnames(props.class, 'bio-properties-panel-entry', error ? 'has-error' : ''),\n    \"data-entry-id\": id,\n    children: [createElement$1(FeelTextfield, {\n      ...props,\n      debounce: debounce,\n      disabled: disabled,\n      feel: feel,\n      id: id,\n      key: element,\n      label: label,\n      onInput: onInput,\n      onError: onError,\n      onFocus: onFocus,\n      onBlur: onBlur,\n      placeholder: placeholder,\n      example: example,\n      hostLanguage: hostLanguage,\n      singleLine: singleLine,\n      show: show,\n      value: value,\n      variables: variables,\n      tooltipContainer: tooltipContainer,\n      OptionalComponent: props.OptionalComponent,\n      tooltip: tooltip\n    }), error && jsx(\"div\", {\n      class: \"bio-properties-panel-error\",\n      children: error\n    }), jsx(Description$1, {\n      forId: id,\n      element: element,\n      value: description\n    })]\n  });\n}\n\n/**\n * @param {Object} props\n * @param {Object} props.element\n * @param {String} props.id\n * @param {String} props.description\n * @param {Boolean} props.debounce\n * @param {Boolean} props.disabled\n * @param {String} props.max\n * @param {String} props.min\n * @param {String} props.step\n * @param {FeelType} [props.feel]\n * @param {String} props.label\n * @param {Function} props.getValue\n * @param {Function} props.setValue\n * @param {Function} props.tooltipContainer\n * @param {Function} props.validate\n * @param {Function} props.show\n * @param {Function} props.example\n * @param {Array} props.variables\n * @param {Function} props.onFocus\n * @param {Function} props.onBlur\n */\nfunction FeelNumberEntry(props) {\n  return jsx(FeelEntry, {\n    class: \"bio-properties-panel-feel-number\",\n    OptionalComponent: OptionalFeelNumberField,\n    ...props\n  });\n}\n\n/**\n * @param {Object} props\n * @param {Object} props.element\n * @param {String} props.id\n * @param {String} props.description\n * @param {Boolean} props.debounce\n * @param {Boolean} props.disabled\n * @param {FeelType} [props.feel]\n * @param {String} props.label\n * @param {Function} props.getValue\n * @param {Function} props.setValue\n * @param {Function} props.tooltipContainer\n * @param {Function} props.validate\n * @param {Function} props.show\n * @param {Function} props.example\n * @param {Array} props.variables\n * @param {Function} props.onFocus\n * @param {Function} props.onBlur\n */\nfunction FeelToggleSwitchEntry(props) {\n  return jsx(FeelEntry, {\n    class: \"bio-properties-panel-feel-toggle-switch\",\n    OptionalComponent: OptionalFeelToggleSwitch,\n    ...props\n  });\n}\n\n/**\n * @param {Object} props\n * @param {Object} props.element\n * @param {String} props.id\n * @param {String} props.description\n * @param {String} props.hostLanguage\n * @param {Boolean} props.singleLine\n * @param {Boolean} props.debounce\n * @param {Boolean} props.disabled\n * @param {FeelType} [props.feel]\n * @param {String} props.label\n * @param {Function} props.getValue\n * @param {Function} props.setValue\n * @param {Function} props.tooltipContainer\n * @param {Function} props.validate\n * @param {Function} props.show\n * @param {Function} props.example\n * @param {Array} props.variables\n * @param {Function} props.onFocus\n * @param {Function} props.onBlur\n */\nfunction FeelTemplatingEntry(props) {\n  return jsx(FeelEntry, {\n    class: \"bio-properties-panel-feel-templating\",\n    OptionalComponent: TemplatingEditor,\n    ...props\n  });\n}\nfunction isEdited$5(node) {\n  if (!node) {\n    return false;\n  }\n  if (node.type === 'checkbox') {\n    return !!node.checked || node.classList.contains('edited');\n  }\n  return !!node.value || node.classList.contains('edited');\n}\n\n// helpers /////////////////\n\nfunction prefixId$5(id) {\n  return `bio-properties-panel-${id}`;\n}\n\n/**\n * @typedef { { value: string, label: string, disabled: boolean, children: { value: string, label: string, disabled: boolean } } } Option\n */\n\n/**\n * Provides basic select input.\n *\n * @param {object} props\n * @param {string} props.id\n * @param {string[]} props.path\n * @param {string} props.label\n * @param {Function} props.onChange\n * @param {Function} props.onFocus\n * @param {Function} props.onBlur\n * @param {Array<Option>} [props.options]\n * @param {string} props.value\n * @param {boolean} [props.disabled]\n */\nfunction Select(props) {\n  const {\n    id,\n    label,\n    onChange,\n    options = [],\n    value = '',\n    disabled,\n    onFocus,\n    onBlur,\n    tooltip\n  } = props;\n  const ref = useShowEntryEvent(id);\n  const [localValue, setLocalValue] = useState(value);\n  const handleChangeCallback = ({\n    target\n  }) => {\n    onChange(target.value);\n  };\n  const handleChange = e => {\n    handleChangeCallback(e);\n    setLocalValue(e.target.value);\n  };\n  useEffect(() => {\n    if (value === localValue) {\n      return;\n    }\n    setLocalValue(value);\n  }, [value]);\n  return jsxs(\"div\", {\n    class: \"bio-properties-panel-select\",\n    children: [jsx(\"label\", {\n      for: prefixId$4(id),\n      class: \"bio-properties-panel-label\",\n      children: jsx(TooltipWrapper, {\n        value: tooltip,\n        forId: id,\n        element: props.element,\n        children: label\n      })\n    }), jsx(\"select\", {\n      ref: ref,\n      id: prefixId$4(id),\n      name: id,\n      class: \"bio-properties-panel-input\",\n      onInput: handleChange,\n      onFocus: onFocus,\n      onBlur: onBlur,\n      value: localValue,\n      disabled: disabled,\n      children: options.map((option, idx) => {\n        if (option.children) {\n          return jsx(\"optgroup\", {\n            label: option.label,\n            children: option.children.map((child, idx) => jsx(\"option\", {\n              value: child.value,\n              disabled: child.disabled,\n              children: child.label\n            }, idx))\n          }, idx);\n        }\n        return jsx(\"option\", {\n          value: option.value,\n          disabled: option.disabled,\n          children: option.label\n        }, idx);\n      })\n    })]\n  });\n}\n\n/**\n * @param {object} props\n * @param {object} props.element\n * @param {string} props.id\n * @param {string} [props.description]\n * @param {string} props.label\n * @param {Function} props.getValue\n * @param {Function} props.setValue\n * @param {Function} props.onFocus\n * @param {Function} props.onBlur\n * @param {Function} props.getOptions\n * @param {boolean} [props.disabled]\n * @param {Function} [props.validate]\n * @param {string|import('preact').Component} props.tooltip\n */\nfunction SelectEntry(props) {\n  const {\n    element,\n    id,\n    description,\n    label,\n    getValue,\n    setValue,\n    getOptions,\n    disabled,\n    onFocus,\n    onBlur,\n    validate,\n    tooltip\n  } = props;\n  const options = getOptions(element);\n  const globalError = useError(id);\n  const [localError, setLocalError] = useState(null);\n  let value = getValue(element);\n  useEffect(() => {\n    if (isFunction(validate)) {\n      const newValidationError = validate(value) || null;\n      setLocalError(newValidationError);\n    }\n  }, [value, validate]);\n  const onChange = newValue => {\n    let newValidationError = null;\n    if (isFunction(validate)) {\n      newValidationError = validate(newValue) || null;\n    }\n    setValue(newValue, newValidationError);\n    setLocalError(newValidationError);\n  };\n  const error = globalError || localError;\n  return jsxs(\"div\", {\n    class: classnames('bio-properties-panel-entry', error ? 'has-error' : ''),\n    \"data-entry-id\": id,\n    children: [jsx(Select, {\n      id: id,\n      label: label,\n      value: value,\n      onChange: onChange,\n      onFocus: onFocus,\n      onBlur: onBlur,\n      options: options,\n      disabled: disabled,\n      tooltip: tooltip,\n      element: element\n    }, element), error && jsx(\"div\", {\n      class: \"bio-properties-panel-error\",\n      children: error\n    }), jsx(Description$1, {\n      forId: id,\n      element: element,\n      value: description\n    })]\n  });\n}\nfunction isEdited$3(node) {\n  return node && !!node.value;\n}\n\n// helpers /////////////////\n\nfunction prefixId$4(id) {\n  return `bio-properties-panel-${id}`;\n}\nfunction resizeToContents(element) {\n  element.style.height = 'auto';\n\n  // a 2px pixel offset is required to prevent scrollbar from\n  // appearing on OS with a full length scroll bar (Windows/Linux)\n  element.style.height = `${element.scrollHeight + 2}px`;\n}\nfunction TextArea(props) {\n  const {\n    id,\n    label,\n    debounce,\n    onInput: commitValue,\n    value = '',\n    disabled,\n    monospace,\n    onFocus,\n    onBlur,\n    onPaste,\n    autoResize = true,\n    placeholder,\n    rows = autoResize ? 1 : 2,\n    tooltip\n  } = props;\n  const [localValue, setLocalValue] = useState(value);\n  const ref = useShowEntryEvent(id);\n  const onInput = useCallback(newValue => {\n    const newModelValue = newValue === '' ? undefined : newValue;\n    commitValue(newModelValue);\n  }, [commitValue]);\n  const visible = useElementVisible(ref.current);\n\n  /**\n   * @type { import('min-dash').DebouncedFunction }\n   */\n  const handleInput = useDebounce(onInput, debounce);\n  const handleLocalInput = e => {\n    autoResize && resizeToContents(e.target);\n    if (e.target.value === localValue) {\n      return;\n    }\n    setLocalValue(e.target.value);\n    handleInput(e.target.value);\n  };\n  const handleOnBlur = e => {\n    const trimmedValue = e.target.value.trim();\n\n    // trim and commit on blur\n    handleInput.cancel?.();\n    onInput(trimmedValue);\n    setLocalValue(trimmedValue);\n    if (onBlur) {\n      onBlur(e);\n    }\n  };\n  const handleOnPaste = e => {\n    const input = e.target;\n    const isFieldEmpty = !input.value;\n    const isAllSelected = input.selectionStart === 0 && input.selectionEnd === input.value.length;\n\n    // Trim and handle paste if field is empty or all content is selected\n    if (isFieldEmpty || isAllSelected) {\n      const trimmedValue = e.clipboardData.getData('text').trim();\n      setLocalValue(trimmedValue);\n      handleInput(trimmedValue);\n      if (onPaste) {\n        onPaste(e);\n      }\n      e.preventDefault();\n      return;\n    }\n\n    // Allow default paste behavior for normal text editing\n    if (onPaste) {\n      onPaste(e);\n    }\n  };\n  const handleOnKeyDown = e => {\n    if (isCmdWithChar(e)) {\n      handleInput.flush();\n    }\n  };\n  useLayoutEffect(() => {\n    autoResize && resizeToContents(ref.current);\n  }, []);\n  useLayoutEffect(() => {\n    visible && autoResize && resizeToContents(ref.current);\n  }, [visible]);\n  useEffect(() => {\n    if (value === localValue) {\n      return;\n    }\n    setLocalValue(value);\n  }, [value]);\n  return jsxs(\"div\", {\n    class: \"bio-properties-panel-textarea\",\n    children: [jsx(\"label\", {\n      for: prefixId$2(id),\n      class: \"bio-properties-panel-label\",\n      children: jsx(TooltipWrapper, {\n        value: tooltip,\n        forId: id,\n        element: props.element,\n        children: label\n      })\n    }), jsx(\"textarea\", {\n      ref: ref,\n      id: prefixId$2(id),\n      name: id,\n      spellCheck: \"false\",\n      class: classnames('bio-properties-panel-input', monospace ? 'bio-properties-panel-input-monospace' : '', autoResize ? 'auto-resize' : ''),\n      onInput: handleLocalInput,\n      onFocus: onFocus,\n      onKeyDown: handleOnKeyDown,\n      onBlur: handleOnBlur,\n      onPaste: handleOnPaste,\n      placeholder: placeholder,\n      rows: rows,\n      value: localValue,\n      disabled: disabled,\n      \"data-gramm\": \"false\"\n    })]\n  });\n}\n\n/**\n * @param {object} props\n * @param {object} props.element\n * @param {string} props.id\n * @param {string} props.description\n * @param {boolean} props.debounce\n * @param {string} props.label\n * @param {Function} props.getValue\n * @param {Function} props.setValue\n * @param {Function} props.onFocus\n * @param {Function} props.onBlur\n * @param {Function} props.onPaste\n * @param {number} props.rows\n * @param {boolean} props.monospace\n * @param {Function} [props.validate]\n * @param {boolean} [props.disabled]\n */\nfunction TextAreaEntry(props) {\n  const {\n    element,\n    id,\n    description,\n    debounce,\n    label,\n    getValue,\n    setValue,\n    rows,\n    monospace,\n    disabled,\n    validate,\n    onFocus,\n    onBlur,\n    onPaste,\n    placeholder,\n    autoResize,\n    tooltip\n  } = props;\n  const globalError = useError(id);\n  const [localError, setLocalError] = useState(null);\n  let value = getValue(element);\n  useEffect(() => {\n    if (isFunction(validate)) {\n      const newValidationError = validate(value) || null;\n      setLocalError(newValidationError);\n    }\n  }, [value, validate]);\n  const onInput = useStaticCallback(newValue => {\n    const value = getValue(element);\n    let newValidationError = null;\n    if (isFunction(validate)) {\n      newValidationError = validate(newValue) || null;\n    }\n    if (newValue !== value) {\n      setValue(newValue, newValidationError);\n    }\n    setLocalError(newValidationError);\n  });\n  const error = globalError || localError;\n  return jsxs(\"div\", {\n    class: classnames('bio-properties-panel-entry', error ? 'has-error' : ''),\n    \"data-entry-id\": id,\n    children: [jsx(TextArea, {\n      id: id,\n      label: label,\n      value: value,\n      onInput: onInput,\n      onFocus: onFocus,\n      onBlur: onBlur,\n      onPaste: onPaste,\n      rows: rows,\n      debounce: debounce,\n      monospace: monospace,\n      disabled: disabled,\n      placeholder: placeholder,\n      autoResize: autoResize,\n      tooltip: tooltip,\n      element: element\n    }, element), error && jsx(\"div\", {\n      class: \"bio-properties-panel-error\",\n      children: error\n    }), jsx(Description$1, {\n      forId: id,\n      element: element,\n      value: description\n    })]\n  });\n}\nfunction isEdited$1(node) {\n  return node && !!node.value;\n}\n\n// helpers /////////////////\n\nfunction prefixId$2(id) {\n  return `bio-properties-panel-${id}`;\n}\nfunction Textfield(props) {\n  const {\n    debounce,\n    disabled = false,\n    id,\n    label,\n    onInput: commitValue,\n    onFocus,\n    onBlur,\n    onPaste,\n    placeholder,\n    value = '',\n    tooltip\n  } = props;\n  const [localValue, setLocalValue] = useState(value || '');\n  const ref = useShowEntryEvent(id);\n  const onInput = useCallback(newValue => {\n    const newModelValue = newValue === '' ? undefined : newValue;\n    commitValue(newModelValue);\n  }, [commitValue]);\n\n  /**\n   * @type { import('min-dash').DebouncedFunction }\n   */\n  const handleInput = useDebounce(onInput, debounce);\n  const handleOnBlur = e => {\n    const trimmedValue = e.target.value.trim();\n\n    // trim and commit on blur\n    handleInput.cancel?.();\n    onInput(trimmedValue);\n    setLocalValue(trimmedValue);\n    if (onBlur) {\n      onBlur(e);\n    }\n  };\n  const handleOnPaste = e => {\n    const input = e.target;\n    const isFieldEmpty = !input.value;\n    const isAllSelected = input.selectionStart === 0 && input.selectionEnd === input.value.length;\n\n    // Trim and handle paste if field is empty or all content is selected (overwrite)\n    if (isFieldEmpty || isAllSelected) {\n      const trimmedValue = e.clipboardData.getData('text').trim();\n      setLocalValue(trimmedValue);\n      handleInput(trimmedValue);\n      if (onPaste) {\n        onPaste(e);\n      }\n      e.preventDefault();\n      return;\n    }\n\n    // Allow default paste behavior for normal text editing\n    if (onPaste) {\n      onPaste(e);\n    }\n  };\n  const handleLocalInput = e => {\n    if (e.target.value === localValue) {\n      return;\n    }\n    setLocalValue(e.target.value);\n    handleInput(e.target.value);\n  };\n  useEffect(() => {\n    if (value === localValue) {\n      return;\n    }\n    setLocalValue(value);\n  }, [value]);\n  const handleOnKeyDown = e => {\n    if (isCmdWithChar(e)) {\n      handleInput.flush();\n    }\n  };\n  return jsxs(\"div\", {\n    class: \"bio-properties-panel-textfield\",\n    children: [jsx(\"label\", {\n      for: prefixId$1(id),\n      class: \"bio-properties-panel-label\",\n      children: jsx(TooltipWrapper, {\n        value: tooltip,\n        forId: id,\n        element: props.element,\n        children: label\n      })\n    }), jsx(\"input\", {\n      ref: ref,\n      id: prefixId$1(id),\n      type: \"text\",\n      name: id,\n      spellCheck: \"false\",\n      autoComplete: \"off\",\n      disabled: disabled,\n      class: \"bio-properties-panel-input\",\n      onInput: handleLocalInput,\n      onFocus: onFocus,\n      onKeyDown: handleOnKeyDown,\n      onBlur: handleOnBlur,\n      onPaste: handleOnPaste,\n      placeholder: placeholder,\n      value: localValue\n    })]\n  });\n}\n\n/**\n * @param {Object} props\n * @param {Object} props.element\n * @param {String} props.id\n * @param {String} props.description\n * @param {Boolean} props.debounce\n * @param {Boolean} props.disabled\n * @param {String} props.label\n * @param {Function} props.getValue\n * @param {Function} props.setValue\n * @param {Function} props.onFocus\n * @param {Function} props.onBlur\n * @param {string|import('preact').Component} props.tooltip\n * @param {Function} props.validate\n */\nfunction TextfieldEntry(props) {\n  const {\n    element,\n    id,\n    description,\n    debounce,\n    disabled,\n    label,\n    getValue,\n    setValue,\n    validate,\n    onFocus,\n    onBlur,\n    onPaste,\n    placeholder,\n    tooltip\n  } = props;\n  const globalError = useError(id);\n  const [localError, setLocalError] = useState(null);\n  let value = getValue(element);\n  useEffect(() => {\n    if (isFunction(validate)) {\n      const newValidationError = validate(value) || null;\n      setLocalError(newValidationError);\n    }\n  }, [value, validate]);\n  const onInput = useStaticCallback(newValue => {\n    const value = getValue(element);\n    let newValidationError = null;\n    if (isFunction(validate)) {\n      newValidationError = validate(newValue) || null;\n    }\n    if (newValue !== value) {\n      setValue(newValue, newValidationError);\n    }\n    setLocalError(newValidationError);\n  });\n  const error = globalError || localError;\n  return jsxs(\"div\", {\n    class: classnames('bio-properties-panel-entry', error ? 'has-error' : ''),\n    \"data-entry-id\": id,\n    children: [jsx(Textfield, {\n      debounce: debounce,\n      disabled: disabled,\n      id: id,\n      label: label,\n      onInput: onInput,\n      onFocus: onFocus,\n      onBlur: onBlur,\n      onPaste: onPaste,\n      placeholder: placeholder,\n      value: value,\n      tooltip: tooltip,\n      element: element\n    }, element), error && jsx(\"div\", {\n      class: \"bio-properties-panel-error\",\n      children: error\n    }), jsx(Description$1, {\n      forId: id,\n      element: element,\n      value: description\n    })]\n  });\n}\nfunction isEdited(node) {\n  return node && !!node.value;\n}\n\n// helpers /////////////////\n\nfunction prefixId$1(id) {\n  return `bio-properties-panel-${id}`;\n}\n\n/**\n * Add a dragger that calls back the passed function with\n * { event, delta } on drag.\n *\n * @example\n *\n * function dragMove(event, delta) {\n *   // we are dragging (!!)\n * }\n *\n * domElement.addEventListener('dragstart', dragger(dragMove));\n *\n * @param {Function} fn\n * @param {Element} [dragPreview]\n *\n * @return {Function} drag start callback function\n */\nfunction createDragger(fn, dragPreview) {\n  let self;\n  let startX, startY;\n\n  /** drag start */\n  function onDragStart(event) {\n    self = this;\n    startX = event.clientX;\n    startY = event.clientY;\n\n    // (1) prevent preview image\n    if (event.dataTransfer) {\n      event.dataTransfer.setDragImage(dragPreview || emptyCanvas(), 0, 0);\n    }\n\n    // (2) setup drag listeners\n\n    // attach drag + cleanup event\n    // we need to do this to make sure we track cursor\n    // movements before we reach other drag event handlers,\n    // e.g. in child containers.\n    document.addEventListener('dragover', onDrag, true);\n    document.addEventListener('dragenter', preventDefault, true);\n    document.addEventListener('dragend', onEnd);\n    document.addEventListener('drop', preventDefault);\n  }\n  function onDrag(event) {\n    const delta = {\n      x: event.clientX - startX,\n      y: event.clientY - startY\n    };\n\n    // call provided fn with event, delta\n    return fn.call(self, event, delta);\n  }\n  function onEnd() {\n    document.removeEventListener('dragover', onDrag, true);\n    document.removeEventListener('dragenter', preventDefault, true);\n    document.removeEventListener('dragend', onEnd);\n    document.removeEventListener('drop', preventDefault);\n  }\n  return onDragStart;\n}\nfunction preventDefault(event) {\n  event.preventDefault();\n  event.stopPropagation();\n}\nfunction emptyCanvas() {\n  return domify('<canvas width=\"0\" height=\"0\" />');\n}\nconst noop = () => {};\n\n/**\n * A generic popup component.\n *\n * @param {Object} props\n * @param {string} [props.className]\n * @param {boolean} [props.delayInitialFocus]\n * @param {{top: number, left: number}} [props.position]\n * @param {number} [props.width]\n * @param {number} [props.height]\n * @param {Function} props.onClose\n * @param {Function} [props.onPostActivate]\n * @param {Function} [props.onPostDeactivate]\n * @param {boolean} [props.returnFocus]\n * @param {boolean} [props.closeOnEscape]\n * @param {string} props.title\n * @param {Ref} [ref]\n */\nfunction PopupComponent(props, globalRef) {\n  const {\n    className,\n    delayInitialFocus,\n    position,\n    width,\n    height,\n    onClose,\n    onPostActivate = noop,\n    onPostDeactivate = noop,\n    returnFocus = true,\n    closeOnEscape = true,\n    title\n  } = props;\n  const focusTrapRef = useRef(null);\n  const localRef = useRef(null);\n  const popupRef = globalRef || localRef;\n  const handleKeydown = event => {\n    // do not allow keyboard events to bubble\n    event.stopPropagation();\n    if (closeOnEscape && event.key === 'Escape') {\n      onClose();\n    }\n  };\n\n  // re-activate focus trap on focus\n  const handleFocus = () => {\n    if (focusTrapRef.current) {\n      focusTrapRef.current.activate();\n    }\n  };\n  let style = {};\n  if (position) {\n    style = {\n      ...style,\n      top: position.top + 'px',\n      left: position.left + 'px'\n    };\n  }\n  if (width) {\n    style.width = width + 'px';\n  }\n  if (height) {\n    style.height = height + 'px';\n  }\n  useEffect(() => {\n    if (popupRef.current) {\n      popupRef.current.addEventListener('focusin', handleFocus);\n    }\n    return () => {\n      if (popupRef.current) {\n        popupRef.current.removeEventListener('focusin', handleFocus);\n      }\n    };\n  }, [popupRef]);\n  useEffect(() => {\n    if (popupRef.current) {\n      focusTrapRef.current = focusTrap.createFocusTrap(popupRef.current, {\n        clickOutsideDeactivates: true,\n        delayInitialFocus,\n        fallbackFocus: popupRef.current,\n        onPostActivate,\n        onPostDeactivate,\n        returnFocusOnDeactivate: returnFocus\n      });\n      focusTrapRef.current.activate();\n    }\n    return () => focusTrapRef.current && focusTrapRef.current.deactivate();\n  }, [popupRef]);\n  return jsx(\"div\", {\n    \"aria-label\": title,\n    tabIndex: -1,\n    ref: popupRef,\n    onKeyDown: handleKeydown,\n    role: \"dialog\",\n    class: classnames('bio-properties-panel-popup', className),\n    style: style,\n    children: props.children\n  });\n}\nconst Popup = forwardRef(PopupComponent);\nPopup.Title = Title;\nPopup.Body = Body;\nPopup.Footer = Footer;\nfunction Title(props) {\n  const {\n    children,\n    className,\n    draggable,\n    eventBus,\n    title,\n    showCloseButton = false,\n    closeButtonTooltip = 'Close popup',\n    onClose,\n    ...rest\n  } = props;\n\n  // we can't use state as we need to\n  // manipulate this inside dragging events\n  const context = useRef({\n    startPosition: null,\n    newPosition: null\n  });\n  const dragPreviewRef = useRef();\n  const titleRef = useRef();\n  const onMove = (event, delta) => {\n    cancel(event);\n    const {\n      x: dx,\n      y: dy\n    } = delta;\n    const newPosition = {\n      x: context.current.startPosition.x + dx,\n      y: context.current.startPosition.y + dy\n    };\n    const popupParent = getPopupParent(titleRef.current);\n    popupParent.style.top = newPosition.y + 'px';\n    popupParent.style.left = newPosition.x + 'px';\n    eventBus?.fire('feelPopup.dragover', {\n      newPosition,\n      delta\n    });\n  };\n  const onMoveStart = event => {\n    // initialize drag handler\n    const onDragStart = createDragger(onMove, dragPreviewRef.current);\n    onDragStart(event);\n    event.stopPropagation();\n    const popupParent = getPopupParent(titleRef.current);\n    const bounds = popupParent.getBoundingClientRect();\n    context.current.startPosition = {\n      x: bounds.left,\n      y: bounds.top\n    };\n    eventBus?.fire('feelPopup.dragstart');\n  };\n  const onMoveEnd = () => {\n    context.current.newPosition = null;\n    eventBus?.fire('feelPopup.dragend');\n  };\n  return jsxs(\"div\", {\n    class: classnames('bio-properties-panel-popup__header', draggable && 'draggable', className),\n    ref: titleRef,\n    draggable: draggable,\n    onDragStart: onMoveStart,\n    onDragEnd: onMoveEnd,\n    ...rest,\n    children: [draggable && jsxs(Fragment$1, {\n      children: [jsx(\"div\", {\n        ref: dragPreviewRef,\n        class: \"bio-properties-panel-popup__drag-preview\"\n      }), jsx(\"div\", {\n        class: \"bio-properties-panel-popup__drag-handle\",\n        children: jsx(DragIcon, {})\n      })]\n    }), jsx(\"div\", {\n      class: \"bio-properties-panel-popup__title\",\n      children: title\n    }), children, showCloseButton && jsx(\"button\", {\n      title: closeButtonTooltip,\n      class: \"bio-properties-panel-popup__close\",\n      onClick: onClose,\n      children: jsx(CloseIcon, {})\n    })]\n  });\n}\nfunction Body(props) {\n  const {\n    children,\n    className,\n    ...rest\n  } = props;\n  return jsx(\"div\", {\n    class: classnames('bio-properties-panel-popup__body', className),\n    ...rest,\n    children: children\n  });\n}\nfunction Footer(props) {\n  const {\n    children,\n    className,\n    ...rest\n  } = props;\n  return jsx(\"div\", {\n    class: classnames('bio-properties-panel-popup__footer', className),\n    ...rest,\n    children: props.children\n  });\n}\n\n// helpers //////////////////////\n\nfunction getPopupParent(node) {\n  return node.closest('.bio-properties-panel-popup');\n}\nfunction cancel(event) {\n  event.preventDefault();\n  event.stopPropagation();\n}\n\n/**\n * @typedef {Object} FeelPopupProps\n * @property {string} entryId\n * @property {Function} onInput\n * @property {Function} onClose\n * @property {string} title\n * @property {'feel'|'feelers'} type\n * @property {string} value\n * @property {Array} [links]\n * @property {Array|Object} [variables]\n * @property {Object} [position]\n * @property {string} [hostLanguage]\n * @property {boolean} [singleLine]\n * @property {HTMLElement} [sourceElement]\n * @property {HTMLElement|string} [tooltipContainer]\n * @property {Object} [eventBus]\n */\n\nconst FEEL_POPUP_WIDTH = 700;\nconst FEEL_POPUP_HEIGHT = 250;\n\n/**\n * FEEL expression editor popup component\n * @param {FeelPopupProps} props\n */\nfunction FeelPopup$1(props) {\n  const {\n    entryId,\n    onInput,\n    onClose,\n    title,\n    type,\n    value,\n    links,\n    variables,\n    position,\n    hostLanguage,\n    singleLine,\n    sourceElement,\n    tooltipContainer,\n    eventBus,\n    feelLanguageContext\n  } = props;\n  const editorRef = useRef();\n  const popupRef = useRef();\n  const isAutoCompletionOpen = useRef(false);\n  const handleSetReturnFocus = () => {\n    sourceElement && sourceElement.focus();\n  };\n  const onKeyDownCapture = event => {\n    // we use capture here to make sure we handle the event before the editor does\n    if (event.key === 'Escape') {\n      isAutoCompletionOpen.current = autoCompletionOpen(event.target);\n    }\n  };\n  const onKeyDown = event => {\n    if (event.key === 'Escape') {\n      // close popup only if auto completion is not open\n      if (!isAutoCompletionOpen.current) {\n        onClose();\n        isAutoCompletionOpen.current = false;\n      }\n    }\n  };\n  useEffect(() => {\n    // set focus on editor when popup is opened\n    if (editorRef.current) {\n      editorRef.current.focus();\n    }\n  }, [editorRef]);\n  return jsxs(Popup, {\n    className: \"bio-properties-panel-feel-popup\",\n    position: position,\n    title: title,\n    returnFocus: false,\n    closeOnEscape: false,\n    delayInitialFocus: false,\n    onPostDeactivate: handleSetReturnFocus,\n    height: FEEL_POPUP_HEIGHT,\n    width: FEEL_POPUP_WIDTH,\n    ref: popupRef,\n    children: [jsx(Popup.Title, {\n      title: title,\n      eventBus: eventBus,\n      showCloseButton: true,\n      closeButtonTooltip: \"Save and close\",\n      onClose: onClose,\n      draggable: true,\n      children: jsx(Fragment$1, {\n        children: (links || []).map((link, index) => {\n          return jsxs(\"a\", {\n            rel: \"noreferrer\",\n            href: link.href,\n            target: \"_blank\",\n            class: \"bio-properties-panel-feel-popup__title-link\",\n            children: [link.title, jsx(LaunchIcon, {})]\n          }, index);\n        })\n      })\n    }), jsx(Popup.Body, {\n      children: jsxs(\"div\", {\n        onKeyDownCapture: onKeyDownCapture,\n        onKeyDown: onKeyDown,\n        class: \"bio-properties-panel-feel-popup__body\",\n        children: [type === 'feel' && jsx(FeelEditor, {\n          enableGutters: true,\n          id: prefixId(entryId),\n          name: entryId,\n          onInput: onInput,\n          value: value,\n          variables: variables,\n          feelLanguageContext: feelLanguageContext,\n          ref: editorRef,\n          tooltipContainer: tooltipContainer\n        }), type === 'feelers' && jsx(TemplatingEditor, {\n          id: prefixId(entryId),\n          contentAttributes: {\n            'aria-label': title\n          },\n          enableGutters: true,\n          hostLanguage: hostLanguage,\n          name: entryId,\n          onInput: onInput,\n          value: value,\n          ref: editorRef,\n          singleLine: singleLine,\n          tooltipContainer: tooltipContainer\n        })]\n      })\n    })]\n  });\n}\nfunction prefixId(id) {\n  return `bio-properties-panel-${id}`;\n}\nfunction autoCompletionOpen(element) {\n  const editor = element.closest('.cm-editor');\n  return editor ? editor.querySelector('.cm-tooltip-autocomplete') : null;\n}\nfunction getPopupTitle({\n  element,\n  label\n}) {\n  let popupTitle = '';\n  if (element && element.type) {\n    popupTitle = `${element.type} / `;\n  }\n  return `${popupTitle}${label}`;\n}\nfunction getPopupPosition() {\n  const viewportWidth = window.innerWidth || document.documentElement.clientWidth;\n  const viewportHeight = window.innerHeight || document.documentElement.clientHeight;\n  return {\n    left: Math.max(0, (viewportWidth - FEEL_POPUP_WIDTH) / 2),\n    top: Math.max(0, (viewportHeight - FEEL_POPUP_HEIGHT) / 2)\n  };\n}\n\n/**\n * FEEL popup component, built as a singleton.\n *\n * In order to implement a custom replacement, handle the following events:\n * - `propertiesPanel.openPopup`\n * - `propertiesPanel.closePopup`\n * - `propertiesPanel.detach`\n *\n * Within the custom renderer, make sure to emit the following events:\n *  - `feelPopup.open` - fired before the popup is mounted\n *  - `feelPopup.opened` - fired after the popup is mounted. Event context contains the DOM node of the popup as `domNode`\n *  - `feelPopup.close` - fired before the popup is unmounted. Event context contains the DOM node of the popup as `domNode`\n *  - `feelPopup.closed` - fired after the popup is unmounted\n */\nclass FeelPopup {\n  constructor(eventBus, config = {}) {\n    this._eventBus = eventBus;\n    this._config = config;\n    this._isOpen = false;\n    eventBus.on('propertiesPanel.openPopup', (_, context) => {\n      this.open(context.entryId, context, context.sourceElement);\n\n      // return true to indicate that popup was opened\n      return true;\n    });\n    eventBus.on(['propertiesPanel.closePopup', 'propertiesPanel.detach'], () => {\n      this.close();\n    });\n  }\n\n  /**\n   * Check if the FEEL popup is open.\n   * @return {Boolean}\n   */\n  isOpen() {\n    return this._isOpen;\n  }\n\n  /**\n   * Open the FEEL popup.\n   *\n   * @param {String} entryId\n   * @param {Object} popupConfig\n   * @param {HTMLElement} sourceElement\n   */\n  open(entryId, popupConfig, sourceElement) {\n    // close before opening a new one\n    this.close();\n    this._openPopup({\n      ...popupConfig,\n      entryId,\n      sourceElement\n    });\n  }\n\n  /**\n   * Close the FEEL popup.\n   */\n  close() {\n    this._closePopup();\n  }\n  _openPopup(context) {\n    const {\n      element,\n      label,\n      sourceElement,\n      type\n    } = context;\n    this._isOpen = true;\n    this._eventBus.fire('propertiesPanelPopup.open', {\n      container: this._config.feelPopupContainer,\n      config: {\n        ...context,\n        links: this._config.getFeelPopupLinks?.(type) || [],\n        onClose: () => {\n          this._closePopup();\n\n          // setTimeout to ensure the focus happens after the DOM updates make it focusable\n          setTimeout(() => {\n            sourceElement && sourceElement.focus();\n          }, 0);\n        },\n        position: getPopupPosition(),\n        title: getPopupTitle({\n          element,\n          label\n        })\n      }\n    });\n  }\n  _closePopup() {\n    if (this._isOpen) {\n      this._isOpen = false;\n      this._eventBus.fire('propertiesPanelPopup.close');\n    }\n  }\n}\nFeelPopup.$inject = ['eventBus', 'config.propertiesPanel'];\nclass FeelPopupRenderer {\n  constructor(eventBus) {\n    this._eventBus = eventBus;\n    this._container = null;\n    this._element = null;\n    eventBus.on('propertiesPanelPopup.open', context => {\n      this._renderPopup(context);\n    });\n    eventBus.on('propertiesPanelPopup.close', () => {\n      this._removePopup();\n    });\n  }\n  _renderPopup(context) {\n    let {\n      container,\n      config\n    } = context;\n    container = this._container = getContainer(container) || document.body;\n    const element = this._element = createElement();\n    container.appendChild(element);\n\n    // TODO(philippfromme): there is no useService in this context, so we need\n    // to pass the event bus as a prop or create a context provider, however,\n    // a custom renderer would have to use that context provider as well to have\n    // access to the event bus and other services\n    this._emit('feelPopup.open');\n    render(jsx(FeelPopup$1, {\n      ...config,\n      eventBus: this._eventBus\n    }), element);\n    this._emit('feelPopup.opened', {\n      domNode: element\n    });\n  }\n  _removePopup() {\n    if (!this._container) {\n      return;\n    }\n    this._emit('feelPopup.close', {\n      domNode: this._element\n    });\n    render(null, this._element);\n    this._container.removeChild(this._element);\n    this._container = null;\n    this._emit('feelPopup.closed');\n  }\n  _emit(event, context) {\n    this._eventBus.fire(event, context);\n  }\n}\nFeelPopupRenderer.$inject = ['eventBus'];\n\n// helpers /////////////////\n\nfunction createElement() {\n  const element = document.createElement('div');\n  element.classList.add('bio-properties-panel-popup-container');\n  return element;\n}\nfunction getContainer(container) {\n  if (isString(container)) {\n    return query(container);\n  }\n  return container;\n}\nvar index = {\n  __init__: ['feelPopup', 'feelPopupRenderer'],\n  feelPopup: ['type', FeelPopup],\n  feelPopupRenderer: ['type', FeelPopupRenderer]\n};\n\n/**\n * @param {string} type\n * @param {boolean} [strict]\n *\n * @returns {any}\n */\nfunction getService(type, strict) {}\nconst FormPropertiesPanelContext = createContext({\n  getService\n});\n\nfunction getPropertiesPanelHeaderProvider(options = {}) {\n  const {\n    getDocumentationRef,\n    formFields\n  } = options;\n  return {\n    getElementLabel: field => {\n      const {\n        type\n      } = field;\n      const fieldDefinition = formFields.get(type).config;\n      return fieldDefinition.getSubheading ? fieldDefinition.getSubheading(field) : field.label;\n    },\n    getElementIcon: field => {\n      const {\n        type\n      } = field;\n      const fieldDefinition = formFields.get(type).config;\n      const Icon = fieldDefinition.icon || iconsByType(type);\n      if (Icon) {\n        return function IconComponent() {\n          return jsx(Icon, {\n            width: \"36\",\n            height: \"36\",\n            viewBox: \"0 0 54 54\"\n          });\n        };\n      } else if (fieldDefinition.iconUrl) {\n        return getPaletteIcon({\n          iconUrl: fieldDefinition.iconUrl,\n          label: fieldDefinition.label\n        });\n      }\n    },\n    getTypeLabel: field => {\n      const {\n        type\n      } = field;\n      if (type === 'default') {\n        return 'Form';\n      }\n      const fieldDefinition = formFields.get(type).config;\n      return fieldDefinition.name || fieldDefinition.label || type;\n    },\n    getDocumentationRef\n  };\n}\n\n/**\n * Provide placeholders for empty and multiple state.\n */\nconst PropertiesPanelPlaceholderProvider = {\n  getEmpty: () => {\n    return {\n      text: 'Select a form field to edit its properties.'\n    };\n  },\n  getMultiple: () => {\n    return {\n      text: 'Multiple form fields are selected. Select a single form field to edit its properties.'\n    };\n  }\n};\n\nconst EMPTY = {};\nfunction PropertiesPanel(props) {\n  const {\n    eventBus,\n    getProviders,\n    injector\n  } = props;\n  const formEditor = injector.get('formEditor');\n  const modeling = injector.get('modeling');\n  const selectionModule = injector.get('selection');\n  const propertiesPanelConfig = injector.get('config.propertiesPanel') || EMPTY;\n  const {\n    feelPopupContainer\n  } = propertiesPanelConfig;\n  const [state, setState] = useState({\n    selectedFormField: selectionModule.get() || formEditor._getState().schema\n  });\n  const selectedFormField = state.selectedFormField;\n  const refresh = useCallback(field => {\n    // TODO(skaiir): rework state management, re-rendering the whole properties panel is not the way to go\n    // https://github.com/bpmn-io/form-js/issues/686\n    setState({\n      selectedFormField: selectionModule.get() || formEditor._getState().schema\n    });\n\n    // notify interested parties on property panel updates\n    eventBus.fire('propertiesPanel.updated', {\n      formField: field\n    });\n  }, [eventBus, formEditor, selectionModule]);\n  useLayoutEffect(() => {\n    /**\n     * TODO(pinussilvestrus): update with actual updated element,\n     * once we have a proper updater/change support\n     */\n    eventBus.on('changed', refresh);\n    eventBus.on('import.done', refresh);\n    eventBus.on('selection.changed', refresh);\n    return () => {\n      eventBus.off('changed', refresh);\n      eventBus.off('import.done', refresh);\n      eventBus.off('selection.changed', refresh);\n    };\n  }, [eventBus, refresh]);\n  const getService = (type, strict = true) => injector.get(type, strict);\n  const propertiesPanelContext = {\n    getService\n  };\n  const onFocus = () => eventBus.fire('propertiesPanel.focusin');\n  const onBlur = () => eventBus.fire('propertiesPanel.focusout');\n  const editField = useCallback((formField, key, value) => modeling.editFormField(formField, key, value), [modeling]);\n\n  // retrieve groups for selected form field\n  const providers = getProviders(selectedFormField);\n  const groups = useMemo(() => {\n    return reduce(providers, function (groups, provider) {\n      // do not collect groups for multi element state\n      if (isArray(selectedFormField)) {\n        return [];\n      }\n      const updater = provider.getGroups(selectedFormField, editField);\n      return updater(groups);\n    }, []);\n  }, [providers, selectedFormField, editField]);\n  const formFields = getService('formFields');\n  const PropertiesPanelHeaderProvider = useMemo(() => getPropertiesPanelHeaderProvider({\n    getDocumentationRef: propertiesPanelConfig.getDocumentationRef,\n    formFields\n  }), [formFields, propertiesPanelConfig]);\n  return jsx(\"div\", {\n    class: \"fjs-properties-panel\",\n    \"data-field\": selectedFormField && selectedFormField.id,\n    onFocusCapture: onFocus,\n    onBlurCapture: onBlur,\n    children: jsx(FormPropertiesPanelContext.Provider, {\n      value: propertiesPanelContext,\n      children: jsx(PropertiesPanel$1, {\n        element: selectedFormField,\n        eventBus: eventBus,\n        groups: groups,\n        headerProvider: PropertiesPanelHeaderProvider,\n        placeholderProvider: PropertiesPanelPlaceholderProvider,\n        feelPopupContainer: feelPopupContainer\n      })\n    })\n  });\n}\n\nconst DEFAULT_PRIORITY = 1000;\n\n/**\n * @typedef { { parent: Element } } PropertiesPanelConfig\n * @typedef { import('../../core/EventBus').EventBus } EventBus\n * @typedef { import('../../types').Injector } Injector\n * @typedef { { getGroups: ({ formField, editFormField }) => ({ groups}) => Array } } PropertiesProvider\n */\n\n/**\n * @param {PropertiesPanelConfig} propertiesPanelConfig\n * @param {Injector} injector\n * @param {EventBus} eventBus\n */\nclass PropertiesPanelRenderer {\n  constructor(propertiesPanelConfig, injector, eventBus) {\n    const {\n      parent\n    } = propertiesPanelConfig || {};\n    this._eventBus = eventBus;\n    this._injector = injector;\n    this._container = domify('<div class=\"fjs-properties-container\" input-handle-modified-keys=\"y,z\"></div>');\n    if (parent) {\n      this.attachTo(parent);\n    }\n    this._eventBus.once('formEditor.rendered', 500, () => {\n      this._render();\n    });\n  }\n\n  /**\n   * Attach the properties panel to a parent node.\n   *\n   * @param {HTMLElement} container\n   */\n  attachTo(container) {\n    if (!container) {\n      throw new Error('container required');\n    }\n    if (typeof container === 'string') {\n      container = query(container);\n    }\n\n    // (1) detach from old parent\n    this.detach();\n\n    // (2) append to parent container\n    container.appendChild(this._container);\n\n    // (3) notify interested parties\n    this._eventBus.fire('propertiesPanel.attach');\n  }\n\n  /**\n   * Detach the properties panel from its parent node.\n   */\n  detach() {\n    const parentNode = this._container.parentNode;\n    if (parentNode) {\n      parentNode.removeChild(this._container);\n      this._eventBus.fire('propertiesPanel.detach');\n    }\n  }\n  _render() {\n    render(jsx(PropertiesPanel, {\n      getProviders: this._getProviders.bind(this),\n      eventBus: this._eventBus,\n      injector: this._injector\n    }), this._container);\n    this._eventBus.fire('propertiesPanel.rendered');\n  }\n  _destroy() {\n    if (this._container) {\n      render(null, this._container);\n      this._eventBus.fire('propertiesPanel.destroyed');\n    }\n  }\n\n  /**\n   * Register a new properties provider to the properties panel.\n   *\n   * @param {PropertiesProvider} provider\n   * @param {Number} [priority]\n   */\n  registerProvider(provider, priority) {\n    if (!priority) {\n      priority = DEFAULT_PRIORITY;\n    }\n    if (typeof provider.getGroups !== 'function') {\n      console.error('Properties provider does not implement #getGroups(element) API');\n      return;\n    }\n    this._eventBus.on('propertiesPanel.getProviders', priority, function (event) {\n      event.providers.push(provider);\n    });\n    this._eventBus.fire('propertiesPanel.providersChanged');\n  }\n  _getProviders() {\n    const event = this._eventBus.createEvent({\n      type: 'propertiesPanel.getProviders',\n      providers: []\n    });\n    this._eventBus.fire(event);\n    return event.providers;\n  }\n}\nPropertiesPanelRenderer.$inject = ['config.propertiesPanel', 'injector', 'eventBus'];\n\nfunction ActionEntry(props) {\n  const {\n    editField,\n    field\n  } = props;\n  const entries = [];\n  entries.push({\n    id: 'action',\n    component: Action,\n    editField: editField,\n    field: field,\n    isEdited: isEdited$3,\n    isDefaultVisible: field => field.type === 'button'\n  });\n  return entries;\n}\nfunction Action(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const path = ['action'];\n  const getValue = () => {\n    return get(field, path, '');\n  };\n  const setValue = value => {\n    return editField(field, path, value);\n  };\n  const getOptions = () => [{\n    label: 'Submit',\n    value: 'submit'\n  }, {\n    label: 'Reset',\n    value: 'reset'\n  }];\n  return SelectEntry({\n    element: field,\n    getOptions,\n    getValue,\n    id,\n    label: 'Action',\n    setValue\n  });\n}\n\nfunction useService(type, strict) {\n  const {\n    getService\n  } = useContext(FormPropertiesPanelContext);\n  return getService(type, strict);\n}\n\n/**\n * Retrieve list of variables from the form schema.\n *\n * @returns { string[] } list of variables used in form schema\n */\nfunction useVariables() {\n  const form = useService('formEditor');\n  const schema = form.getSchema();\n  return getSchemaVariables(schema);\n}\n\nfunction AltTextEntry(props) {\n  const {\n    editField,\n    field\n  } = props;\n  const entries = [];\n  entries.push({\n    id: 'alt',\n    component: AltText,\n    editField: editField,\n    field: field,\n    isEdited: isEdited$5,\n    isDefaultVisible: field => ['image'].includes(field.type)\n  });\n  return entries;\n}\nfunction AltText(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const debounce = useService('debounce');\n  const variables = useVariables().map(name => ({\n    name\n  }));\n  const path = ['alt'];\n  const getValue = () => {\n    return get(field, path, '');\n  };\n  const setValue = value => {\n    return editField(field, path, value);\n  };\n  return FeelTemplatingEntry({\n    debounce,\n    element: field,\n    feel: 'optional',\n    getValue,\n    id,\n    label: 'Alternative text',\n    tooltip: 'Descriptive text for screen reader accessibility.',\n    setValue,\n    singleLine: true,\n    variables\n  });\n}\n\nconst AUTO_OPTION_VALUE = '';\nfunction ColumnsEntry(props) {\n  const {\n    editField,\n    field\n  } = props;\n  const entries = [{\n    id: 'columns',\n    component: Columns,\n    field,\n    editField,\n    isEdited: isEdited$3\n  }];\n  return entries;\n}\nfunction Columns(props) {\n  const {\n    field,\n    editField,\n    id\n  } = props;\n  useService('debounce');\n  const formLayoutValidator = useService('formLayoutValidator');\n  const validate = useCallback(value => {\n    return formLayoutValidator.validateField(field, value ? parseInt(value) : null);\n  }, [field, formLayoutValidator]);\n  const setValue = (value, error) => {\n    if (error) {\n      return;\n    }\n    const layout = get(field, ['layout'], {});\n    const newValue = value ? parseInt(value) : null;\n    editField(field, ['layout'], set$1(layout, ['columns'], newValue));\n  };\n  const getValue = () => {\n    return get(field, ['layout', 'columns']);\n  };\n  const getOptions = () => {\n    return [{\n      label: 'Auto',\n      value: AUTO_OPTION_VALUE\n    },\n    // todo(pinussilvestrus): make options dependant on field type\n    // cf. https://github.com/bpmn-io/form-js/issues/575\n    ...asArray(16).filter(i => i >= MIN_COLUMNS).map(asOption)];\n  };\n  return SelectEntry({\n    element: field,\n    id,\n    label: 'Columns',\n    getOptions,\n    getValue,\n    setValue,\n    validate\n  });\n}\n\n// helper /////////\n\nfunction asOption(number) {\n  return {\n    value: number,\n    label: number.toString()\n  };\n}\nfunction asArray(length) {\n  return Array.from({\n    length\n  }).map((_, i) => i + 1);\n}\n\nfunction arrayAdd(array, index, item) {\n  const copy = [...array];\n  copy.splice(index, 0, item);\n  return copy;\n}\nfunction countDecimals(number) {\n  const num = Big(number);\n  if (num.toString() === num.toFixed(0)) return 0;\n  return num.toFixed().split('.')[1].length || 0;\n}\n\n/**\n *\n * @param {unknown} value\n * @returns {boolean}\n */\nfunction isValidNumber(value) {\n  return (typeof value === 'number' || typeof value === 'string') && value !== '' && !isNaN(Number(value));\n}\n\n/**\n * @param {string} path\n */\nfunction isValidDotPath(path) {\n  return /^\\w+(\\.\\w+)*$/.test(path);\n}\n\n/**\n * @param {string} path\n */\nfunction isProhibitedPath(path) {\n  const prohibitedSegments = ['__proto__', 'prototype', 'constructor'];\n  return path.split('.').some(segment => prohibitedSegments.includes(segment));\n}\nconst LABELED_NON_INPUTS = ['button', 'group', 'dynamiclist', 'iframe', 'table', 'documentPreview'];\nconst INPUTS = ['checkbox', 'checklist', 'datetime', 'number', 'radio', 'select', 'taglist', 'textfield', 'textarea', 'filepicker'];\nconst OPTIONS_INPUTS = ['checklist', 'radio', 'select', 'taglist'];\nfunction hasEntryConfigured(formFieldDefinition, entryId) {\n  const {\n    propertiesPanelEntries = []\n  } = formFieldDefinition;\n  if (!propertiesPanelEntries.length) {\n    return false;\n  }\n  return propertiesPanelEntries.some(id => id === entryId);\n}\nfunction hasOptionsGroupsConfigured(formFieldDefinition) {\n  const {\n    propertiesPanelEntries = []\n  } = formFieldDefinition;\n  if (!propertiesPanelEntries.length) {\n    return false;\n  }\n  return propertiesPanelEntries.some(id => id === 'values');\n}\n\n/**\n * @param {string} path\n */\nfunction hasIntegerPathSegment(path) {\n  return path.split('.').some(segment => /^\\d+$/.test(segment));\n}\n\n/**\n * Factory for isEdited functions that check against a default.\n *\n * @param {string} defaultValue The default value to check against.\n * @param {boolean} [includeEmptyAsDefault=true] If true, an empty value (e.g., '') is also considered a default state.\n * @return {(node: HTMLElement) => boolean} A function that returns true if the node's value is edited.\n */\nfunction isEditedFromDefaultFactory(defaultValue, includeEmptyAsDefault = true) {\n  return node => {\n    if (!node) {\n      return false;\n    }\n\n    /**\n     * @type {HTMLElement|null}\n     */\n    const codeMirrorContent = node.querySelector('.cm-content');\n    const isCodeMirrorEditor = !!codeMirrorContent;\n    const value = isCodeMirrorEditor ? codeMirrorContent.innerText : /** @type {HTMLInputElement} */node.value;\n    if (includeEmptyAsDefault && !value) {\n      return false;\n    }\n    return value !== defaultValue;\n  };\n}\nfunction isTrueDefaultToggleSwitchEntryEdited(node) {\n  return node && !node.checked;\n}\n\nfunction DescriptionEntry(props) {\n  const {\n    editField,\n    field\n  } = props;\n  const entries = [];\n  entries.push({\n    id: 'description',\n    component: Description,\n    editField: editField,\n    field: field,\n    isEdited: isEdited$5,\n    isDefaultVisible: field => field.type !== 'filepicker' && INPUTS.includes(field.type)\n  });\n  return entries;\n}\nfunction Description(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const debounce = useService('debounce');\n  const variables = useVariables().map(name => ({\n    name\n  }));\n  const path = ['description'];\n  const getValue = () => {\n    return get(field, path, '');\n  };\n  const setValue = value => {\n    return editField(field, path, value);\n  };\n  return FeelTemplatingEntry({\n    debounce,\n    element: field,\n    getValue,\n    id,\n    label: 'Field description',\n    singleLine: true,\n    setValue,\n    variables\n  });\n}\n\nconst EMPTY_OPTION = '';\nfunction DefaultValueEntry(props) {\n  const {\n    editField,\n    field\n  } = props;\n  const {\n    type\n  } = field;\n  const entries = [];\n  function isDefaultVisible(matchers) {\n    return field => {\n      // Only make default values available when they are statically defined\n      if (!INPUTS.includes(type) || OPTIONS_INPUTS.includes(type) && !field.values) {\n        return false;\n      }\n      return matchers(field);\n    };\n  }\n  const defaultValueBase = {\n    editField,\n    field,\n    id: 'defaultValue',\n    label: 'Default value'\n  };\n  entries.push({\n    ...defaultValueBase,\n    component: DefaultValueCheckbox,\n    isEdited: isEdited$3,\n    isDefaultVisible: isDefaultVisible(field => field.type === 'checkbox')\n  });\n  entries.push({\n    ...defaultValueBase,\n    component: DefaultValueNumber,\n    isEdited: isEdited,\n    isDefaultVisible: isDefaultVisible(field => field.type === 'number')\n  });\n  entries.push({\n    ...defaultValueBase,\n    component: DefaultValueSingleSelect,\n    isEdited: isEdited$3,\n    isDefaultVisible: isDefaultVisible(field => field.type === 'radio' || field.type === 'select')\n  });\n\n  // todo(Skaiir): implement a multiselect equivalent (cf. https://github.com/bpmn-io/form-js/issues/265)\n\n  entries.push({\n    ...defaultValueBase,\n    component: DefaultValueTextfield,\n    isEdited: isEdited,\n    isDefaultVisible: isDefaultVisible(field => field.type === 'textfield')\n  });\n  entries.push({\n    ...defaultValueBase,\n    component: DefaultValueTextarea,\n    isEdited: isEdited$1,\n    isDefaultVisible: isDefaultVisible(field => field.type === 'textarea')\n  });\n  return entries;\n}\nfunction DefaultValueCheckbox(props) {\n  const {\n    editField,\n    field,\n    id,\n    label\n  } = props;\n  const {\n    defaultValue\n  } = field;\n  const path = ['defaultValue'];\n  const getOptions = () => {\n    return [{\n      label: 'Checked',\n      value: 'true'\n    }, {\n      label: 'Not checked',\n      value: 'false'\n    }];\n  };\n  const setValue = value => {\n    return editField(field, path, parseStringToBoolean(value));\n  };\n  const getValue = () => {\n    return parseBooleanToString(defaultValue);\n  };\n  return SelectEntry({\n    element: field,\n    getOptions,\n    getValue,\n    id,\n    label,\n    setValue\n  });\n}\nfunction DefaultValueNumber(props) {\n  const {\n    editField,\n    field,\n    id,\n    label\n  } = props;\n  const {\n    decimalDigits,\n    serializeToString = false\n  } = field;\n  const debounce = useService('debounce');\n  const path = ['defaultValue'];\n  const getValue = e => {\n    let value = get(field, path);\n    if (!isValidNumber(value)) return;\n\n    // Enforces decimal notation so that we do not submit defaults in exponent form\n    return serializeToString ? Big(value).toFixed() : value;\n  };\n  const setValue = (value, error) => {\n    if (error) {\n      return;\n    }\n    let newValue;\n    if (isValidNumber(value)) {\n      newValue = serializeToString ? value : Number(value);\n    }\n    return editField(field, path, newValue);\n  };\n  const decimalDigitsSet = decimalDigits || decimalDigits === 0;\n  const validate = useCallback(value => {\n    if (value === undefined || value === null) {\n      return;\n    }\n    if (!isValidNumber(value)) {\n      return 'Should be a valid number';\n    }\n    if (decimalDigitsSet && countDecimals(value) > decimalDigits) {\n      return `Should not contain more than ${decimalDigits} decimal digits`;\n    }\n  }, [decimalDigitsSet, decimalDigits]);\n  return TextfieldEntry({\n    debounce,\n    label,\n    element: field,\n    getValue,\n    id,\n    setValue,\n    validate\n  });\n}\nfunction DefaultValueSingleSelect(props) {\n  const {\n    editField,\n    field,\n    id,\n    label\n  } = props;\n  const {\n    defaultValue = EMPTY_OPTION,\n    values = []\n  } = field;\n  const path = ['defaultValue'];\n  const getOptions = () => {\n    return [{\n      label: '<none>',\n      value: EMPTY_OPTION\n    }, ...values];\n  };\n  const setValue = value => {\n    return editField(field, path, value.length ? value : undefined);\n  };\n  const getValue = () => {\n    return defaultValue;\n  };\n  return SelectEntry({\n    element: field,\n    getOptions,\n    getValue,\n    id,\n    label,\n    setValue\n  });\n}\nfunction DefaultValueTextfield(props) {\n  const {\n    editField,\n    field,\n    id,\n    label\n  } = props;\n  const debounce = useService('debounce');\n  const path = ['defaultValue'];\n  const getValue = () => {\n    return get(field, path, '');\n  };\n  const setValue = value => {\n    return editField(field, path, value);\n  };\n  return TextfieldEntry({\n    debounce,\n    element: field,\n    getValue,\n    id,\n    label,\n    setValue\n  });\n}\nfunction DefaultValueTextarea(props) {\n  const {\n    editField,\n    field,\n    id,\n    label\n  } = props;\n  const debounce = useService('debounce');\n  const path = ['defaultValue'];\n  const getValue = () => {\n    return get(field, path, '');\n  };\n  const setValue = value => {\n    return editField(field, path, value);\n  };\n  return TextAreaEntry({\n    debounce,\n    element: field,\n    getValue,\n    id,\n    label,\n    setValue\n  });\n}\n\n// helpers /////////////////\n\nfunction parseStringToBoolean(value) {\n  if (value === 'true') {\n    return true;\n  }\n  return false;\n}\nfunction parseBooleanToString(value) {\n  if (value === true) {\n    return 'true';\n  }\n  return 'false';\n}\n\nfunction DisabledEntry(props) {\n  const {\n    editField,\n    field\n  } = props;\n  const entries = [];\n  entries.push({\n    id: 'disabled',\n    component: Disabled,\n    editField: editField,\n    field: field,\n    isEdited: isEdited$7,\n    isDefaultVisible: field => INPUTS.includes(field.type)\n  });\n  return entries;\n}\nfunction Disabled(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const path = ['disabled'];\n  const getValue = () => {\n    return get(field, path, '');\n  };\n  const setValue = value => {\n    return editField(field, path, value);\n  };\n  return ToggleSwitchEntry({\n    element: field,\n    getValue,\n    id,\n    label: 'Disabled',\n    tooltip: 'Disable this field when it should not be interactive for end-users. Its data will not be submitted. This setting takes precedence over read-only.',\n    inline: true,\n    setValue\n  });\n}\n\nfunction IdEntry(props) {\n  const {\n    editField,\n    field\n  } = props;\n  const entries = [];\n  entries.push({\n    id: 'id',\n    component: Id,\n    editField: editField,\n    field: field,\n    isEdited: isEdited,\n    isDefaultVisible: field => field.type === 'default'\n  });\n  return entries;\n}\nfunction Id(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const formFieldRegistry = useService('formFieldRegistry');\n  const debounce = useService('debounce');\n  const path = ['id'];\n  const getValue = () => {\n    return get(field, path, '');\n  };\n  const setValue = (value, error) => {\n    if (error) {\n      return;\n    }\n    return editField(field, path, value);\n  };\n  const validate = useCallback(value => {\n    if (typeof value !== 'string' || value.length === 0) {\n      return 'Must not be empty.';\n    }\n    const assigned = formFieldRegistry._ids.assigned(value);\n    if (assigned && assigned !== field) {\n      return 'Must be unique.';\n    }\n    return validateId(value) || null;\n  }, [formFieldRegistry, field]);\n  return TextfieldEntry({\n    debounce,\n    element: field,\n    getValue,\n    id,\n    label: 'ID',\n    setValue,\n    validate\n  });\n}\n\n// id structural validation /////////////\n\nconst SPACE_REGEX = /\\s/;\n\n// for QName validation as per http://www.w3.org/TR/REC-xml/#NT-NameChar\nconst QNAME_REGEX = /^([a-z][\\w-.]*:)?[a-z_][\\w-.]*$/i;\n\n// for ID validation as per BPMN Schema (QName - Namespace)\nconst ID_REGEX = /^[a-z_][\\w-.]*$/i;\nfunction validateId(idValue) {\n  if (containsSpace(idValue)) {\n    return 'Must not contain spaces.';\n  }\n  if (!ID_REGEX.test(idValue)) {\n    if (QNAME_REGEX.test(idValue)) {\n      return 'Must not contain prefix.';\n    }\n    return 'Must be a valid QName.';\n  }\n}\nfunction containsSpace(value) {\n  return SPACE_REGEX.test(value);\n}\n\nfunction KeyEntry(props) {\n  const {\n    editField,\n    field,\n    getService\n  } = props;\n  const entries = [];\n  entries.push({\n    id: 'key',\n    component: Key$2,\n    editField: editField,\n    field: field,\n    isEdited: isEdited,\n    isDefaultVisible: field => {\n      const formFields = getService('formFields');\n      const {\n        config\n      } = formFields.get(field.type);\n      return config.keyed;\n    }\n  });\n  return entries;\n}\nfunction Key$2(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const pathRegistry = useService('pathRegistry');\n  const debounce = useService('debounce');\n  const path = ['key'];\n  const getValue = () => {\n    return get(field, path, '');\n  };\n  const setValue = (value, error) => {\n    if (error) {\n      return;\n    }\n    return editField(field, path, value);\n  };\n  const validate = useCallback(value => {\n    if (value === field.key) {\n      return null;\n    }\n    if (!isString(value) || value.length === 0) {\n      return 'Must not be empty.';\n    }\n    if (!isValidDotPath(value)) {\n      return 'Must be a variable or a dot separated path.';\n    }\n    if (hasIntegerPathSegment(value)) {\n      return 'Must not contain numerical path segments.';\n    }\n    if (isProhibitedPath(value)) {\n      return 'Must not be a prohibited path.';\n    }\n    const replacements = {\n      [field.id]: value.split('.')\n    };\n    const oldPath = pathRegistry.getValuePath(field);\n    const newPath = pathRegistry.getValuePath(field, {\n      replacements\n    });\n\n    // unclaim temporarily to avoid self-conflicts\n    pathRegistry.unclaimPath(oldPath);\n    const canClaim = pathRegistry.canClaimPath(newPath, {\n      isClosed: true,\n      claimerId: field.id\n    });\n    pathRegistry.claimPath(oldPath, {\n      isClosed: true,\n      claimerId: field.id\n    });\n    return canClaim ? null : 'Must not conflict with other key/path assignments.';\n  }, [field, pathRegistry]);\n  return TextfieldEntry({\n    debounce,\n    description: 'Binds to a form variable',\n    element: field,\n    getValue,\n    id,\n    label: 'Key',\n    tooltip: 'Use a unique \"key\" to link the form element and the related input/output data. When dealing with nested data, break it down in the user task\\'s input mapping before using it.',\n    setValue,\n    validate\n  });\n}\n\nfunction PathEntry(props) {\n  const {\n    editField,\n    field,\n    getService\n  } = props;\n  const {\n    type\n  } = field;\n  const entries = [];\n  const formFieldDefinition = getService('formFields').get(type);\n  if (formFieldDefinition && formFieldDefinition.config.pathed) {\n    entries.push({\n      id: 'path',\n      component: Path,\n      editField: editField,\n      field: field,\n      isEdited: isEdited\n    });\n  }\n  return entries;\n}\nfunction Path(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const debounce = useService('debounce');\n  const pathRegistry = useService('pathRegistry');\n  const fieldConfig = useService('formFields').get(field.type).config;\n  const isRepeating = fieldConfig.repeatable && field.isRepeating;\n  const path = ['path'];\n  const getValue = () => {\n    return get(field, path, '');\n  };\n  const setValue = (value, error) => {\n    if (error) {\n      return;\n    }\n    return editField(field, path, value);\n  };\n  const validate = useCallback(value => {\n    if (!value && isRepeating) {\n      return 'Must not be empty';\n    }\n\n    // Early return for empty value in non-repeating cases or if the field path hasn't changed\n    if (!value && !isRepeating || value === field.path) {\n      return null;\n    }\n\n    // Validate dot-separated path format\n    if (!isValidDotPath(value)) {\n      const msg = isRepeating ? 'Must be a variable or a dot-separated path' : 'Must be empty, a variable or a dot-separated path';\n      return msg;\n    }\n\n    // Check for integer segments in the path\n    if (hasIntegerPathSegment(value)) {\n      return 'Must not contain numerical path segments.';\n    }\n\n    // Check for special prohibited paths\n    if (isProhibitedPath(value)) {\n      return 'Must not be a prohibited path.';\n    }\n\n    // Check for path collisions\n    const options = {\n      replacements: {\n        [field.id]: value.split('.')\n      }\n    };\n    const canClaim = pathRegistry.executeRecursivelyOnFields(field, ({\n      field,\n      isClosed,\n      isRepeatable\n    }) => {\n      const path = pathRegistry.getValuePath(field, options);\n      return pathRegistry.canClaimPath(path, {\n        isClosed,\n        isRepeatable,\n        claimerId: field.id\n      });\n    });\n    if (!canClaim) {\n      return 'Must not cause two binding paths to collide';\n    }\n\n    // If all checks pass\n    return null;\n  }, [field, isRepeating, pathRegistry]);\n  const tooltip = isRepeating ? 'Routes the children of this component into a form variable, may be left empty to route at the root level.' : 'Routes the children of this component into a form variable.';\n  return TextfieldEntry({\n    debounce,\n    description: 'Where the child variables of this component are pathed to.',\n    element: field,\n    getValue,\n    id,\n    label: 'Path',\n    tooltip,\n    setValue,\n    validate\n  });\n}\n\nfunction simpleBoolEntryFactory(options) {\n  const {\n    id,\n    label,\n    description,\n    path,\n    props,\n    getValue,\n    setValue,\n    isDefaultVisible,\n    isTrueDefault = false\n  } = options;\n  const {\n    editField,\n    field\n  } = props;\n  return {\n    id,\n    label,\n    path,\n    field,\n    editField,\n    description,\n    component: SimpleBoolComponent,\n    isEdited: isTrueDefault ? isTrueDefaultToggleSwitchEntryEdited : isEdited$7,\n    isDefaultVisible,\n    getValue,\n    setValue\n  };\n}\nconst SimpleBoolComponent = props => {\n  const {\n    id,\n    label,\n    path,\n    field,\n    editField,\n    getValue = () => get(field, path, ''),\n    setValue = value => editField(field, path, value || false),\n    description\n  } = props;\n  return ToggleSwitchEntry({\n    element: field,\n    getValue,\n    id,\n    label,\n    setValue,\n    inline: true,\n    description\n  });\n};\n\nfunction simpleSelectEntryFactory(options) {\n  const {\n    id,\n    label,\n    path,\n    props,\n    optionsArray\n  } = options;\n  const {\n    editField,\n    field\n  } = props;\n  return {\n    id,\n    label,\n    path,\n    field,\n    editField,\n    optionsArray,\n    component: SimpleSelectComponent,\n    isEdited: isEdited$3\n  };\n}\nconst SimpleSelectComponent = props => {\n  const {\n    id,\n    label,\n    path,\n    field,\n    editField,\n    optionsArray\n  } = props;\n  const getValue = () => get(field, path, '');\n  const setValue = value => editField(field, path, value);\n  const getOptions = () => optionsArray;\n  return SelectEntry({\n    label,\n    element: field,\n    getOptions,\n    getValue,\n    id,\n    setValue\n  });\n};\n\nfunction simpleRangeIntegerEntryFactory(options) {\n  const {\n    id,\n    label,\n    path,\n    props,\n    min,\n    max\n  } = options;\n  const {\n    editField,\n    field\n  } = props;\n  return {\n    id,\n    label,\n    path,\n    field,\n    editField,\n    min,\n    max,\n    component: SimpleRangeIntegerEntry,\n    isEdited: isEdited\n  };\n}\nconst SimpleRangeIntegerEntry = props => {\n  const {\n    id,\n    label,\n    path,\n    field,\n    editField,\n    min = Number.MIN_SAFE_INTEGER,\n    max = Number.MAX_SAFE_INTEGER\n  } = props;\n  const debounce = useService('debounce');\n  const getValue = () => {\n    const value = get(field, path);\n    const isValid = isValidNumber(value) && Number.isInteger(value);\n    return isValid ? value : null;\n  };\n  const setValue = (value, error) => {\n    if (error) {\n      return;\n    }\n    editField(field, path, Number(value));\n  };\n  const validate = useCallback(value => {\n    if (value === undefined || value === null || value === '') {\n      return;\n    }\n    if (!Number.isInteger(Number(value))) {\n      return 'Should be an integer.';\n    }\n    if (Big(value).cmp(min) < 0) {\n      return `Should be at least ${min}.`;\n    }\n    if (Big(value).cmp(max) > 0) {\n      return `Should be at most ${max}.`;\n    }\n  }, [min, max]);\n  return TextfieldEntry({\n    debounce,\n    label,\n    element: field,\n    getValue,\n    id,\n    setValue,\n    validate\n  });\n};\n\nfunction GroupAppearanceEntry(props) {\n  const {\n    field\n  } = props;\n  const {\n    type\n  } = field;\n  if (!['group', 'dynamiclist'].includes(type)) {\n    return [];\n  }\n  const entries = [simpleBoolEntryFactory({\n    id: 'showOutline',\n    path: ['showOutline'],\n    label: 'Show outline',\n    isTrueDefault: true,\n    props\n  })];\n  return entries;\n}\n\nfunction LabelEntry(props) {\n  const {\n    field,\n    editField\n  } = props;\n  const entries = [];\n  entries.push({\n    id: 'date-label',\n    component: DateLabel,\n    editField,\n    field,\n    isEdited: isEdited$5,\n    isDefaultVisible: function (field) {\n      return field.type === 'datetime' && (field.subtype === DATETIME_SUBTYPES.DATE || field.subtype === DATETIME_SUBTYPES.DATETIME);\n    }\n  });\n  entries.push({\n    id: 'time-label',\n    component: TimeLabel,\n    editField,\n    field,\n    isEdited: isEdited$5,\n    isDefaultVisible: function (field) {\n      return field.type === 'datetime' && (field.subtype === DATETIME_SUBTYPES.TIME || field.subtype === DATETIME_SUBTYPES.DATETIME);\n    }\n  });\n  const isSimplyLabeled = field => {\n    return [...INPUTS.filter(input => input !== 'datetime'), ...LABELED_NON_INPUTS].includes(field.type);\n  };\n  entries.push({\n    id: 'label',\n    component: Label$2,\n    editField,\n    field,\n    isEdited: isEdited$5,\n    isDefaultVisible: isSimplyLabeled\n  });\n  return entries;\n}\nfunction Label$2(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const debounce = useService('debounce');\n  const variables = useVariables().map(name => ({\n    name\n  }));\n  const path = ['label'];\n  const getValue = () => {\n    return get(field, path, '');\n  };\n  const setValue = value => {\n    return editField(field, path, value || '');\n  };\n  const label = getLabelText(field.type);\n  return FeelTemplatingEntry({\n    debounce,\n    element: field,\n    getValue,\n    id,\n    label,\n    singleLine: true,\n    setValue,\n    variables\n  });\n}\nfunction DateLabel(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const debounce = useService('debounce');\n  const variables = useVariables().map(name => ({\n    name\n  }));\n  const path = DATE_LABEL_PATH;\n  const getValue = () => {\n    return get(field, path, '');\n  };\n  const setValue = value => {\n    return editField(field, path, value || '');\n  };\n  return FeelTemplatingEntry({\n    debounce,\n    element: field,\n    getValue,\n    id,\n    label: 'Date label',\n    singleLine: true,\n    setValue,\n    variables\n  });\n}\nfunction TimeLabel(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const debounce = useService('debounce');\n  const variables = useVariables().map(name => ({\n    name\n  }));\n  const path = TIME_LABEL_PATH;\n  const getValue = () => {\n    return get(field, path, '');\n  };\n  const setValue = value => {\n    return editField(field, path, value || '');\n  };\n  return FeelTemplatingEntry({\n    debounce,\n    element: field,\n    getValue,\n    id,\n    label: 'Time label',\n    singleLine: true,\n    setValue,\n    variables\n  });\n}\n\n// helpers //////////\n\n/**\n * @param {string} type\n * @returns {string}\n */\nfunction getLabelText(type) {\n  switch (type) {\n    case 'group':\n    case 'dynamiclist':\n      return 'Group label';\n    case 'table':\n      return 'Table label';\n    case 'iframe':\n    case 'documentPreview':\n      return 'Title';\n    default:\n      return 'Field label';\n  }\n}\n\nfunction HeightEntry(props) {\n  const {\n    editField,\n    field,\n    id,\n    description,\n    isDefaultVisible,\n    defaultValue\n  } = props;\n  const entries = [];\n  entries.push({\n    id: id + '-height',\n    component: Height,\n    description,\n    isEdited: isEdited$6,\n    editField,\n    field,\n    defaultValue,\n    isDefaultVisible: field => {\n      if (isFunction(isDefaultVisible)) {\n        return isDefaultVisible(field);\n      }\n      return field.type === 'spacer';\n    }\n  });\n  return entries;\n}\nfunction Height(props) {\n  const {\n    description,\n    editField,\n    field,\n    id\n  } = props;\n  const debounce = useService('debounce');\n  const getValue = e => get(field, ['height'], null);\n  const setValue = (value, error) => {\n    if (error) {\n      return;\n    }\n    editField(field, ['height'], value);\n  };\n  return NumberFieldEntry({\n    debounce,\n    description,\n    label: 'Height',\n    element: field,\n    id,\n    getValue,\n    setValue,\n    validate: validate$9\n  });\n}\n\n// helpers //////////\n\n/**\n * @param {number|void} value\n * @returns {string|null}\n */\nconst validate$9 = value => {\n  if (typeof value !== 'number') {\n    return 'A number is required.';\n  }\n  if (!Number.isInteger(value)) {\n    return 'Should be an integer.';\n  }\n  if (value < 1) {\n    return 'Should be greater than zero.';\n  }\n};\n\nfunction IFrameHeightEntry(props) {\n  return [...HeightEntry({\n    ...props,\n    description: 'Height of the container in pixels.',\n    isDefaultVisible: field => field.type === 'iframe'\n  })];\n}\n\nconst HTTPS_PATTERN = /^(https):\\/\\/*/i;\nfunction IFrameUrlEntry(props) {\n  const {\n    editField,\n    field\n  } = props;\n  const entries = [];\n  entries.push({\n    id: 'url',\n    component: Url,\n    editField: editField,\n    field: field,\n    isEdited: isEdited$5,\n    isDefaultVisible: field => field.type === 'iframe'\n  });\n  return entries;\n}\nfunction Url(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const debounce = useService('debounce');\n  const variables = useVariables().map(name => ({\n    name\n  }));\n  const path = ['url'];\n  const getValue = () => {\n    return get(field, path, '');\n  };\n  const setValue = value => {\n    return editField(field, path, value);\n  };\n  return FeelTemplatingEntry({\n    debounce,\n    element: field,\n    feel: 'optional',\n    getValue,\n    id,\n    label: 'URL',\n    setValue,\n    singleLine: true,\n    tooltip: getTooltip$1(),\n    validate: validate$8,\n    variables\n  });\n}\n\n// helper //////////////////////\n\nfunction getTooltip$1() {\n  return jsxs(Fragment$1, {\n    children: [jsx(\"p\", {\n      children: \"Enter a HTTPS URL to a source or populate it dynamically via a template or an expression (e.g., to pass a value from the variable).\"\n    }), jsx(\"p\", {\n      children: \"Please make sure that the URL is safe as it might impose security risks.\"\n    }), jsxs(\"p\", {\n      children: [\"Not all external sources can be displayed in the iFrame. Read more about it in the\", ' ', jsx(\"a\", {\n        target: \"_blank\",\n        href: \"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Frame-Options\",\n        rel: \"noreferrer\",\n        children: \"X-FRAME-OPTIONS documentation\"\n      }), \".\"]\n    })]\n  });\n}\n\n/**\n * @param {string|void} value\n * @returns {string|null}\n */\nconst validate$8 = value => {\n  if (!value || value.startsWith('=')) {\n    return;\n  }\n  if (!HTTPS_PATTERN.test(value)) {\n    return 'For security reasons the URL must start with \"https\".';\n  }\n};\n\nfunction ImageSourceEntry(props) {\n  const {\n    editField,\n    field\n  } = props;\n  const entries = [];\n  entries.push({\n    id: 'source',\n    component: Source$1,\n    editField: editField,\n    field: field,\n    isEdited: isEdited$5,\n    isDefaultVisible: field => field.type === 'image'\n  });\n  return entries;\n}\nfunction Source$1(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const debounce = useService('debounce');\n  const variables = useVariables().map(name => ({\n    name\n  }));\n  const path = ['source'];\n  const getValue = () => {\n    return get(field, path, '');\n  };\n  const setValue = value => {\n    return editField(field, path, value);\n  };\n  return FeelTemplatingEntry({\n    debounce,\n    description: 'Expression or static value (link/data URI)',\n    element: field,\n    feel: 'optional',\n    getValue,\n    id,\n    label: 'Image source',\n    tooltip: 'Link referring to a hosted image, or use a data URI directly to embed image data into the form.',\n    setValue,\n    singleLine: true,\n    variables\n  });\n}\n\nconst isTextEdited = isEditedFromDefaultFactory(TEXT_VIEW_DEFAULT_TEXT, false);\nfunction TextEntry(props) {\n  const {\n    editField,\n    field\n  } = props;\n  const entries = [{\n    id: 'text',\n    component: Text,\n    editField: editField,\n    field: field,\n    isEdited: isTextEdited,\n    isDefaultVisible: field => field.type === 'text'\n  }];\n  return entries;\n}\nfunction Text(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const debounce = useService('debounce');\n  const variables = useVariables().map(name => ({\n    name\n  }));\n  const path = ['text'];\n  const getValue = () => {\n    return get(field, path, '');\n  };\n  const setValue = value => {\n    return editField(field, path, value || '');\n  };\n  return FeelTemplatingEntry({\n    debounce,\n    description: description$3,\n    element: field,\n    getValue,\n    id,\n    label: 'Text',\n    hostLanguage: 'markdown',\n    setValue,\n    variables\n  });\n}\nconst description$3 = jsxs(Fragment$1, {\n  children: [\"Supports markdown and templating.\", ' ', jsx(\"a\", {\n    href: \"https://docs.camunda.io/docs/components/modeler/forms/form-element-library/forms-element-library-text/\",\n    target: \"_blank\",\n    rel: \"noreferrer\",\n    children: \"Learn more\"\n  })]\n});\n\nfunction HtmlEntry(props) {\n  const {\n    editField,\n    field\n  } = props;\n  const entries = [{\n    id: 'content',\n    component: Content,\n    editField: editField,\n    field: field,\n    isEdited: isEdited$5,\n    isDefaultVisible: field => field.type === 'html'\n  }];\n  return entries;\n}\nfunction Content(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const debounce = useService('debounce');\n  const variables = useVariables().map(name => ({\n    name\n  }));\n  const path = ['content'];\n  const getValue = () => {\n    return get(field, path, '');\n  };\n  const setValue = value => {\n    return editField(field, path, value || '');\n  };\n  return FeelTemplatingEntry({\n    debounce,\n    description: description$2,\n    element: field,\n    getValue,\n    id,\n    label: 'Content',\n    hostLanguage: 'html',\n    validate: validate$7,\n    setValue,\n    variables\n  });\n}\n\n// helpers //////////\n\nconst description$2 = jsxs(Fragment$1, {\n  children: [\"Supports HTML, styling, and templating. Styles are automatically scoped to the HTML component.\", ' ', jsx(\"a\", {\n    href: \"https://docs.camunda.io/docs/components/modeler/forms/form-element-library/forms-element-library-html/\",\n    target: \"_blank\",\n    rel: \"noreferrer\",\n    children: \"Learn more\"\n  })]\n});\n\n/**\n * @param {string|void} value\n * @returns {string|null}\n */\nconst validate$7 = value => {\n  // allow empty state\n  if (typeof value !== 'string' || value === '') {\n    return null;\n  }\n\n  // allow expressions\n  if (value.startsWith('=')) {\n    return null;\n  }\n};\n\nfunction NumberEntries(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const entries = [];\n  entries.push({\n    id: id + '-decimalDigits',\n    component: NumberDecimalDigits,\n    isEdited: isEdited$6,\n    editField,\n    field,\n    isDefaultVisible: field => field.type === 'number'\n  });\n  entries.push({\n    id: id + '-step',\n    component: NumberArrowStep,\n    isEdited: isEdited,\n    editField,\n    field,\n    isDefaultVisible: field => field.type === 'number'\n  });\n  return entries;\n}\nfunction NumberDecimalDigits(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const debounce = useService('debounce');\n  const getValue = e => get(field, ['decimalDigits']);\n  const setValue = (value, error) => {\n    if (error) {\n      return;\n    }\n    editField(field, ['decimalDigits'], value);\n  };\n  return NumberFieldEntry({\n    debounce,\n    label: 'Decimal digits',\n    element: field,\n    step: 'any',\n    getValue,\n    id,\n    setValue,\n    validate: validateNumberEntries\n  });\n}\nfunction NumberArrowStep(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const {\n    decimalDigits\n  } = field;\n  const debounce = useService('debounce');\n  const getValue = e => {\n    let value = get(field, ['increment']);\n    if (!isValidNumber(value)) return null;\n    return value;\n  };\n  const clearLeadingZeroes = value => {\n    if (!value) return value;\n    const trimmed = value.replace(/^0+/g, '');\n    return (trimmed.startsWith('.') ? '0' : '') + trimmed;\n  };\n  const setValue = (value, error) => {\n    if (error) {\n      return;\n    }\n    editField(field, ['increment'], clearLeadingZeroes(value));\n  };\n  const decimalDigitsSet = decimalDigits || decimalDigits === 0;\n  const validate = useCallback(value => {\n    if (value === undefined || value === null) {\n      return;\n    }\n    if (!isValidNumber(value)) {\n      return 'Should be a valid number.';\n    }\n    if (Big(value).cmp(0) <= 0) {\n      return 'Should be greater than zero.';\n    }\n    if (decimalDigitsSet) {\n      const minimumValue = Big(`1e-${decimalDigits}`);\n      if (Big(value).cmp(minimumValue) < 0) {\n        return `Should be at least ${minimumValue.toString()}.`;\n      }\n      if (countDecimals(value) > decimalDigits) {\n        return `Should not contain more than ${decimalDigits} decimal digits.`;\n      }\n    }\n  }, [decimalDigitsSet, decimalDigits]);\n  return TextfieldEntry({\n    debounce,\n    label: 'Increment',\n    element: field,\n    getValue,\n    id,\n    setValue,\n    validate\n  });\n}\n\n// helpers //////////\n\n/**\n * @param {number|void} value\n * @returns {string|void}\n */\nconst validateNumberEntries = value => {\n  if (typeof value !== 'number') {\n    return;\n  }\n  if (!Number.isInteger(value)) {\n    return 'Should be an integer.';\n  }\n  if (value < 0) {\n    return 'Should be greater than or equal to zero.';\n  }\n};\n\nfunction ExpressionFieldEntries(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const entries = [];\n  entries.push({\n    id: `${id}-expression`,\n    component: ExpressionFieldExpression,\n    isEdited: isEdited$5,\n    editField,\n    field,\n    isDefaultVisible: field => field.type === 'expression'\n  });\n  entries.push({\n    id: `${id}-computeOn`,\n    component: ExpressionFieldComputeOn,\n    isEdited: isEdited$3,\n    editField,\n    field,\n    isDefaultVisible: field => field.type === 'expression'\n  });\n  return entries;\n}\nfunction ExpressionFieldExpression(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const debounce = useService('debounce');\n  const variables = useVariables().map(name => ({\n    name\n  }));\n  const getValue = () => field.expression || '';\n  const setValue = value => {\n    editField(field, ['expression'], value);\n  };\n  return FeelEntry({\n    debounce,\n    description: 'Define an expression to calculate the value of this field',\n    element: field,\n    feel: 'required',\n    getValue,\n    id,\n    label: 'Target value',\n    setValue,\n    variables\n  });\n}\nfunction ExpressionFieldComputeOn(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const getValue = () => field.computeOn || '';\n  const setValue = value => {\n    editField(field, ['computeOn'], value);\n  };\n  const getOptions = () => [{\n    value: 'change',\n    label: 'Value changes'\n  }, {\n    value: 'presubmit',\n    label: 'Form submission'\n  }];\n  return SelectEntry({\n    id,\n    label: 'Compute on',\n    getValue,\n    setValue,\n    getOptions\n  });\n}\n\nfunction NumberSerializationEntry(props) {\n  const {\n    editField,\n    field\n  } = props;\n  const entries = [];\n  entries.push({\n    id: 'serialize-to-string',\n    component: SerializeToString,\n    isEdited: isEdited$8,\n    editField,\n    field,\n    isDefaultVisible: field => field.type === 'number'\n  });\n  return entries;\n}\nfunction SerializeToString(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const {\n    defaultValue\n  } = field;\n  const path = ['serializeToString'];\n  const getValue = () => {\n    return get(field, path, '');\n  };\n  const setValue = value => {\n    // Whenever changing the formatting, make sure to change the default value type along with it\n    if (defaultValue || defaultValue === 0) {\n      editField(field, ['defaultValue'], value ? Big(defaultValue).toFixed() : Number(defaultValue));\n    }\n    return editField(field, path, value);\n  };\n  return CheckboxEntry({\n    element: field,\n    getValue,\n    id,\n    label: 'Output as string',\n    description: 'Allows arbitrary precision values',\n    setValue\n  });\n}\n\nfunction DateTimeEntry(props) {\n  const {\n    editField,\n    field\n  } = props;\n  const entries = [{\n    id: 'subtype',\n    component: DateTimeSubtypeSelect,\n    isEdited: isEdited$3,\n    editField,\n    field,\n    isDefaultVisible: field => field.type === 'datetime'\n  }];\n  entries.push({\n    id: 'use24h',\n    component: Use24h,\n    isEdited: isEdited$8,\n    editField,\n    field,\n    isDefaultVisible: field => field.type === 'datetime' && (field.subtype === DATETIME_SUBTYPES.TIME || field.subtype === DATETIME_SUBTYPES.DATETIME)\n  });\n  return entries;\n}\nfunction DateTimeSubtypeSelect(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const getValue = e => get(field, DATETIME_SUBTYPE_PATH);\n  const clearTimeConfig = () => {\n    const timeConfigPaths = [TIME_LABEL_PATH, TIME_USE24H_PATH, TIME_INTERVAL_PATH, TIME_SERIALISING_FORMAT_PATH];\n    for (const path of timeConfigPaths) {\n      editField(field, path, undefined);\n    }\n  };\n  const initTimeConfig = () => {\n    editField(field, TIME_LABEL_PATH, 'Time');\n    editField(field, TIME_SERIALISING_FORMAT_PATH, TIME_SERIALISING_FORMATS.UTC_OFFSET);\n    editField(field, TIME_INTERVAL_PATH, 15);\n  };\n  const clearDateConfig = () => {\n    const dateConfigPaths = [DATE_LABEL_PATH, DATE_DISALLOW_PAST_PATH];\n    for (const path of dateConfigPaths) {\n      editField(field, path, undefined);\n    }\n  };\n  const initDateConfig = () => {\n    editField(field, DATE_LABEL_PATH, 'Date');\n  };\n  const setValue = value => {\n    const oldValue = getValue();\n    if (oldValue === value) return;\n    if (value === DATETIME_SUBTYPES.DATE) {\n      clearTimeConfig();\n      oldValue === DATETIME_SUBTYPES.TIME && initDateConfig();\n    } else if (value === DATETIME_SUBTYPES.TIME) {\n      clearDateConfig();\n      oldValue === DATETIME_SUBTYPES.DATE && initTimeConfig();\n    } else if (value === DATETIME_SUBTYPES.DATETIME) {\n      oldValue === DATETIME_SUBTYPES.DATE && initTimeConfig();\n      oldValue === DATETIME_SUBTYPES.TIME && initDateConfig();\n    }\n    return editField(field, DATETIME_SUBTYPE_PATH, value);\n  };\n  const getDatetimeSubtypes = () => {\n    return Object.values(DATETIME_SUBTYPES).map(subtype => ({\n      label: DATETIME_SUBTYPES_LABELS[subtype],\n      value: subtype\n    }));\n  };\n  return SelectEntry({\n    label: 'Subtype',\n    element: field,\n    getOptions: getDatetimeSubtypes,\n    getValue,\n    id,\n    setValue\n  });\n}\nfunction Use24h(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const path = TIME_USE24H_PATH;\n  const getValue = () => {\n    return get(field, path, '');\n  };\n  const setValue = value => {\n    return editField(field, path, value);\n  };\n  return CheckboxEntry({\n    element: field,\n    getValue,\n    id,\n    label: 'Use 24h',\n    setValue\n  });\n}\n\nconst isTimeIntervalEdited = isEditedFromDefaultFactory('15');\nfunction DateTimeConstraintsEntry(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  function isDefaultVisible(subtypes) {\n    return field => {\n      if (field.type !== 'datetime') {\n        return false;\n      }\n      return subtypes.includes(field.subtype);\n    };\n  }\n  const entries = [];\n  entries.push({\n    id: id + '-timeInterval',\n    component: TimeIntervalSelect,\n    isEdited: isTimeIntervalEdited,\n    editField,\n    field,\n    isDefaultVisible: isDefaultVisible([DATETIME_SUBTYPES.TIME, DATETIME_SUBTYPES.DATETIME])\n  });\n  entries.push({\n    id: id + '-disallowPassedDates',\n    component: DisallowPassedDates,\n    isEdited: isEdited$8,\n    editField,\n    field,\n    isDefaultVisible: isDefaultVisible([DATETIME_SUBTYPES.DATE, DATETIME_SUBTYPES.DATETIME])\n  });\n  return entries;\n}\nfunction DisallowPassedDates(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const path = DATE_DISALLOW_PAST_PATH;\n  const getValue = () => {\n    return get(field, path, '');\n  };\n  const setValue = value => {\n    return editField(field, path, value);\n  };\n  return CheckboxEntry({\n    element: field,\n    getValue,\n    id,\n    label: 'Disallow past dates',\n    setValue\n  });\n}\nfunction TimeIntervalSelect(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const timeIntervals = [1, 5, 10, 15, 30, 60];\n  const getValue = e => get(field, TIME_INTERVAL_PATH);\n  const setValue = value => editField(field, TIME_INTERVAL_PATH, parseInt(value));\n  const getTimeIntervals = () => {\n    return timeIntervals.map(timeInterval => ({\n      label: timeInterval === 60 ? '1h' : timeInterval + 'm',\n      value: timeInterval\n    }));\n  };\n  return SelectEntry({\n    label: 'Time interval',\n    element: field,\n    getOptions: getTimeIntervals,\n    getValue,\n    id,\n    setValue\n  });\n}\n\nconst isTimeFormatEdited = isEditedFromDefaultFactory(TIME_SERIALISING_FORMATS.UTC_OFFSET);\nfunction DateTimeFormatEntry(props) {\n  const {\n    editField,\n    field\n  } = props;\n  const entries = [];\n  entries.push({\n    id: 'time-format',\n    component: TimeFormatSelect,\n    isEdited: isTimeFormatEdited,\n    editField,\n    field,\n    isDefaultVisible: field => field.type === 'datetime' && (field.subtype === DATETIME_SUBTYPES.TIME || field.subtype === DATETIME_SUBTYPES.DATETIME)\n  });\n  return entries;\n}\nfunction TimeFormatSelect(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const getValue = e => get(field, TIME_SERIALISING_FORMAT_PATH);\n  const setValue = value => editField(field, TIME_SERIALISING_FORMAT_PATH, value);\n  const getTimeSerialisingFormats = () => {\n    return Object.values(TIME_SERIALISING_FORMATS).map(format => ({\n      label: TIME_SERIALISINGFORMAT_LABELS[format],\n      value: format\n    }));\n  };\n  return SelectEntry({\n    label: 'Time format',\n    element: field,\n    getOptions: getTimeSerialisingFormats,\n    getValue,\n    id,\n    setValue\n  });\n}\n\nfunction SelectEntries(props) {\n  const entries = [simpleBoolEntryFactory({\n    id: 'searchable',\n    path: ['searchable'],\n    label: 'Searchable',\n    props,\n    isDefaultVisible: field => field.type === 'select'\n  })];\n  return entries;\n}\n\nfunction ValueEntry(props) {\n  const {\n    editField,\n    field,\n    idPrefix,\n    index,\n    validateFactory\n  } = props;\n  const entries = [{\n    component: Label$1,\n    editField,\n    field,\n    id: idPrefix + '-label',\n    idPrefix,\n    index,\n    validateFactory\n  }, {\n    component: Value$1,\n    editField,\n    field,\n    id: idPrefix + '-value',\n    idPrefix,\n    index,\n    validateFactory\n  }];\n  return entries;\n}\nfunction Label$1(props) {\n  const {\n    editField,\n    field,\n    id,\n    index,\n    validateFactory\n  } = props;\n  const debounce = useService('debounce');\n  const setValue = (value, error) => {\n    if (error) {\n      return;\n    }\n    const values = get(field, ['values']);\n    return editField(field, 'values', set$1(values, [index, 'label'], value));\n  };\n  const getValue = () => {\n    return get(field, ['values', index, 'label']);\n  };\n  const validate = useMemo(() => validateFactory(get(field, ['values', index, 'label']), entry => entry.label), [field, index, validateFactory]);\n  return TextfieldEntry({\n    debounce,\n    element: field,\n    getValue,\n    id,\n    label: 'Label',\n    setValue,\n    validate\n  });\n}\nfunction Value$1(props) {\n  const {\n    editField,\n    field,\n    id,\n    index,\n    validateFactory\n  } = props;\n  const debounce = useService('debounce');\n  const setValue = (value, error) => {\n    if (error) {\n      return;\n    }\n    const {\n      defaultValue\n    } = field;\n    const values = get(field, ['values']);\n    const previousValue = get(field, ['values', index, 'value']);\n    if (!isNil(defaultValue) && defaultValue === previousValue) {\n      set$1(field, ['defaultValue'], value);\n    }\n    return editField(field, 'values', set$1(values, [index, 'value'], value));\n  };\n  const getValue = () => {\n    return get(field, ['values', index, 'value']);\n  };\n  const validate = useMemo(() => validateFactory(get(field, ['values', index, 'value']), entry => entry.value), [field, index, validateFactory]);\n  return TextfieldEntry({\n    debounce,\n    element: field,\n    getValue,\n    id,\n    label: 'Value',\n    setValue,\n    validate\n  });\n}\n\nfunction CustomValueEntry(props) {\n  const {\n    editField,\n    field,\n    idPrefix,\n    index,\n    validateFactory\n  } = props;\n  const entries = [{\n    component: Key$1,\n    editField,\n    field,\n    id: idPrefix + '-key',\n    idPrefix,\n    index,\n    validateFactory\n  }, {\n    component: Value,\n    editField,\n    field,\n    id: idPrefix + '-value',\n    idPrefix,\n    index,\n    validateFactory\n  }];\n  return entries;\n}\nfunction Key$1(props) {\n  const {\n    editField,\n    field,\n    id,\n    index,\n    validateFactory\n  } = props;\n  const debounce = useService('debounce');\n  const setValue = (value, error) => {\n    if (error) {\n      return;\n    }\n    const properties = get(field, ['properties']);\n    const key = Object.keys(properties)[index];\n    return editField(field, 'properties', updateKey(properties, key, value));\n  };\n  const getValue = () => {\n    return Object.keys(get(field, ['properties']))[index];\n  };\n  const validate = useMemo(() => validateFactory(Object.keys(get(field, ['properties']))[index]), [validateFactory, field, index]);\n  return TextfieldEntry({\n    debounce,\n    element: field,\n    getValue,\n    id,\n    label: 'Key',\n    setValue,\n    validate\n  });\n}\nfunction Value(props) {\n  const {\n    editField,\n    field,\n    id,\n    index,\n    validateFactory\n  } = props;\n  const debounce = useService('debounce');\n  const setValue = value => {\n    const properties = get(field, ['properties']);\n    const key = Object.keys(properties)[index];\n    editField(field, 'properties', updateValue(properties, key, value));\n  };\n  const getValue = () => {\n    const properties = get(field, ['properties']);\n    const key = Object.keys(properties)[index];\n    return get(field, ['properties', key]);\n  };\n  return TextfieldEntry({\n    debounce,\n    element: field,\n    getValue,\n    id,\n    label: 'Value',\n    setValue,\n    validate: validateFactory(getValue())\n  });\n}\n\n// helpers //////////\n\n/**\n * Returns copy of object with updated value.\n *\n * @param {Object} properties\n * @param {string} key\n * @param {string} value\n *\n * @returns {Object}\n */\nfunction updateValue(properties, key, value) {\n  return {\n    ...properties,\n    [key]: value\n  };\n}\n\n/**\n * Returns copy of object with updated key.\n *\n * @param {Object} properties\n * @param {string} oldKey\n * @param {string} newKey\n *\n * @returns {Object}\n */\nfunction updateKey(properties, oldKey, newKey) {\n  return Object.entries(properties).reduce((newProperties, entry) => {\n    const [key, value] = entry;\n    return {\n      ...newProperties,\n      [key === oldKey ? newKey : key]: value\n    };\n  }, {});\n}\n\nfunction AutoFocusSelectEntry(props) {\n  const {\n    autoFocusEntry,\n    element,\n    getValue\n  } = props;\n  const value = getValue(element);\n  const prevValue = usePrevious(value);\n  const eventBus = useService('eventBus');\n\n  // auto focus specifc other entry when selected value changed\n  useEffect(() => {\n    if (autoFocusEntry && prevValue && value !== prevValue) {\n      // @Note(pinussilvestrus): There is an issue in the properties\n      // panel so we have to wait a bit before showing the entry.\n      // Cf. https://github.com/camunda/linting/blob/4f5328e2722f73ae60ae584c5f576eaec3999cb2/lib/modeler/Linting.js#L37\n      setTimeout(() => {\n        eventBus.fire('propertiesPanel.showEntry', {\n          id: autoFocusEntry\n        });\n      });\n    }\n  }, [value, autoFocusEntry, prevValue, eventBus]);\n  return jsx(SelectEntry, {\n    ...props\n  });\n}\n\nconst isOptionsSourceEdited = isEditedFromDefaultFactory(OPTIONS_SOURCES.STATIC);\nfunction OptionsSourceSelectEntry(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  return [{\n    id: id + '-select',\n    component: ValuesSourceSelect,\n    isEdited: isOptionsSourceEdited,\n    editField,\n    field\n  }];\n}\nfunction ValuesSourceSelect(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const getValue = getOptionsSource;\n  const setValue = value => {\n    let newField = field;\n    const newProperties = {};\n    newProperties[OPTIONS_SOURCES_PATHS[value]] = OPTIONS_SOURCES_DEFAULTS[value];\n    newField = editField(field, newProperties);\n    return newField;\n  };\n  const getOptionsSourceOptions = () => {\n    return Object.values(OPTIONS_SOURCES).map(valueSource => ({\n      label: OPTIONS_SOURCES_LABELS[valueSource],\n      value: valueSource\n    }));\n  };\n  return AutoFocusSelectEntry({\n    autoFocusEntry: getAutoFocusEntryId$1(field),\n    label: 'Type',\n    element: field,\n    getOptions: getOptionsSourceOptions,\n    getValue,\n    id,\n    setValue\n  });\n}\n\n// helpers //////////\n\nfunction getAutoFocusEntryId$1(field) {\n  const valuesSource = getOptionsSource(field);\n  if (valuesSource === OPTIONS_SOURCES.EXPRESSION) {\n    return 'optionsExpression-expression';\n  } else if (valuesSource === OPTIONS_SOURCES.INPUT) {\n    return 'dynamicOptions-key';\n  } else if (valuesSource === OPTIONS_SOURCES.STATIC) {\n    return 'staticOptions-0-label';\n  }\n  return null;\n}\n\nfunction InputKeyOptionsSourceEntry(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  return [{\n    id: id + '-key',\n    component: InputValuesKey,\n    isEdited: isEdited,\n    editField,\n    field\n  }];\n}\nfunction InputValuesKey(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const debounce = useService('debounce');\n  const path = OPTIONS_SOURCES_PATHS[OPTIONS_SOURCES.INPUT];\n  const schema = '[\\n  {\\n    \"label\": \"dollar\",\\n    \"value\": \"$\"\\n  }\\n]';\n  const tooltip = jsxs(\"div\", {\n    children: [\"The input property may be an array of simple values or alternatively follow this schema:\", jsx(\"pre\", {\n      children: jsx(\"code\", {\n        children: schema\n      })\n    })]\n  });\n  const getValue = () => get(field, path, '');\n  const setValue = (value, error) => {\n    if (error) {\n      return;\n    }\n    editField(field, path, value || '');\n  };\n  return TextfieldEntry({\n    debounce,\n    description: 'Define which input property to populate the values from',\n    tooltip,\n    element: field,\n    getValue,\n    id,\n    label: 'Input values key',\n    setValue,\n    validate: validate$6\n  });\n}\n\n// helpers //////////\n\n/**\n * @param {string|void} value\n * @returns {string|null}\n */\nconst validate$6 = value => {\n  if (typeof value !== 'string' || value.length === 0) {\n    return 'Must not be empty.';\n  }\n  if (/\\s/.test(value)) {\n    return 'Must not contain spaces.';\n  }\n  return null;\n};\n\nfunction StaticOptionsSourceEntry(props) {\n  const {\n    editField,\n    field,\n    id: idPrefix\n  } = props;\n  const {\n    values\n  } = field;\n  const addEntry = e => {\n    e.stopPropagation();\n    const index = values.length + 1;\n    const entry = getIndexedEntry(index, values);\n    editField(field, OPTIONS_SOURCES_PATHS[OPTIONS_SOURCES.STATIC], arrayAdd(values, values.length, entry));\n  };\n  const removeEntry = entry => {\n    if (field.defaultValue === entry.value) {\n      editField(field, {\n        values: without(values, entry),\n        defaultValue: undefined\n      });\n    } else {\n      editField(field, OPTIONS_SOURCES_PATHS[OPTIONS_SOURCES.STATIC], without(values, entry));\n    }\n  };\n  const validateFactory = (key, getValue) => {\n    return value => {\n      if (value === key) {\n        return;\n      }\n      if (typeof value !== 'string' || value.length === 0) {\n        return 'Must not be empty.';\n      }\n      const isValueAssigned = values.find(entry => getValue(entry) === value);\n      if (isValueAssigned) {\n        return 'Must be unique.';\n      }\n    };\n  };\n  const items = values.map((entry, index) => {\n    const id = idPrefix + '-' + index;\n    return {\n      id,\n      label: entry.label,\n      entries: ValueEntry({\n        editField,\n        field,\n        idPrefix: id,\n        index,\n        validateFactory\n      }),\n      autoFocusEntry: id + '-label',\n      remove: () => removeEntry(entry)\n    };\n  });\n  return {\n    items,\n    add: addEntry\n  };\n}\n\n// helper\n\nfunction getIndexedEntry(index, values) {\n  const entry = {\n    label: 'Value',\n    value: 'value'\n  };\n  while (labelOrValueIsAlreadyAssignedForIndex(index, values)) {\n    index++;\n  }\n  if (index > 1) {\n    entry.label += ` ${index}`;\n    entry.value += `${index}`;\n  }\n  return entry;\n}\nfunction labelOrValueIsAlreadyAssignedForIndex(index, values) {\n  return values.some(existingEntry => existingEntry.label === `Value ${index}` || existingEntry.value === `value${index}`);\n}\n\nfunction AdornerEntry(props) {\n  const {\n    editField,\n    field\n  } = props;\n  const entries = [];\n  const onChange = key => {\n    return value => {\n      const appearance = get(field, ['appearance'], {});\n      editField(field, ['appearance'], set$1(appearance, [key], value));\n    };\n  };\n  const getValue = key => {\n    return () => {\n      return get(field, ['appearance', key]);\n    };\n  };\n  entries.push({\n    id: 'prefix-adorner',\n    component: PrefixAdorner,\n    isEdited: isEdited$5,\n    editField,\n    field,\n    onChange,\n    getValue,\n    isDefaultVisible: field => ['number', 'textfield'].includes(field.type)\n  });\n  entries.push({\n    id: 'suffix-adorner',\n    component: SuffixAdorner,\n    isEdited: isEdited$5,\n    editField,\n    field,\n    onChange,\n    getValue,\n    isDefaultVisible: field => ['number', 'textfield'].includes(field.type)\n  });\n  return entries;\n}\nfunction PrefixAdorner(props) {\n  const {\n    field,\n    id,\n    onChange,\n    getValue\n  } = props;\n  const debounce = useService('debounce');\n  const variables = useVariables().map(name => ({\n    name\n  }));\n  return FeelTemplatingEntry({\n    debounce,\n    element: field,\n    feel: 'optional',\n    getValue: getValue('prefixAdorner'),\n    id,\n    label: 'Prefix',\n    setValue: onChange('prefixAdorner'),\n    singleLine: true,\n    variables\n  });\n}\nfunction SuffixAdorner(props) {\n  const {\n    field,\n    id,\n    onChange,\n    getValue\n  } = props;\n  const debounce = useService('debounce');\n  const variables = useVariables().map(name => ({\n    name\n  }));\n  return FeelTemplatingEntry({\n    debounce,\n    element: field,\n    getValue: getValue('suffixAdorner'),\n    id,\n    label: 'Suffix',\n    setValue: onChange('suffixAdorner'),\n    singleLine: true,\n    variables\n  });\n}\n\nfunction ReadonlyEntry(props) {\n  const {\n    editField,\n    field\n  } = props;\n  const {\n    disabled\n  } = field;\n  const entries = [];\n  if (!disabled) {\n    entries.push({\n      id: 'readonly',\n      component: Readonly,\n      editField: editField,\n      field: field,\n      isEdited: isEdited$5,\n      isDefaultVisible: field => INPUTS.includes(field.type)\n    });\n  }\n  return entries;\n}\nfunction Readonly(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const debounce = useService('debounce');\n  const variables = useVariables().map(name => ({\n    name\n  }));\n  const path = ['readonly'];\n  const getValue = () => {\n    return get(field, path, '');\n  };\n  const setValue = value => {\n    return editField(field, path, value || false);\n  };\n  return FeelToggleSwitchEntry({\n    debounce,\n    element: field,\n    feel: 'optional',\n    getValue,\n    id,\n    label: 'Read only',\n    tooltip: 'Make this field read-only when it cannot be edited by the end-user, but its content is important for them to see. Its data will still be submitted.',\n    setValue,\n    variables\n  });\n}\n\nfunction LayouterAppearanceEntry(props) {\n  const {\n    field\n  } = props;\n  if (!['group', 'dynamiclist'].includes(field.type)) {\n    return [];\n  }\n  const entries = [simpleSelectEntryFactory({\n    id: 'verticalAlignment',\n    path: ['verticalAlignment'],\n    label: 'Vertical alignment',\n    optionsArray: [{\n      value: 'start',\n      label: 'Top'\n    }, {\n      value: 'center',\n      label: 'Center'\n    }, {\n      value: 'end',\n      label: 'Bottom'\n    }],\n    props\n  })];\n  return entries;\n}\n\nfunction RepeatableEntry(props) {\n  const {\n    field,\n    getService\n  } = props;\n  const {\n    type\n  } = field;\n  const formFieldDefinition = getService('formFields').get(type);\n  if (!formFieldDefinition || !formFieldDefinition.config.repeatable) {\n    return [];\n  }\n  const entries = [simpleRangeIntegerEntryFactory({\n    id: 'defaultRepetitions',\n    path: ['defaultRepetitions'],\n    label: 'Default number of items',\n    min: 1,\n    max: 100,\n    props\n  }), simpleBoolEntryFactory({\n    id: 'allowAddRemove',\n    path: ['allowAddRemove'],\n    label: 'Allow add/delete items',\n    props\n  }), simpleBoolEntryFactory({\n    id: 'disableCollapse',\n    path: ['disableCollapse'],\n    label: 'Disable collapse',\n    props\n  })];\n  if (!field.disableCollapse) {\n    const nonCollapseItemsEntry = simpleRangeIntegerEntryFactory({\n      id: 'nonCollapsedItems',\n      path: ['nonCollapsedItems'],\n      label: 'Number of non-collapsing items',\n      min: 1,\n      props\n    });\n    entries.push(nonCollapseItemsEntry);\n  }\n  return entries;\n}\n\nfunction ConditionEntry(props) {\n  const {\n    editField,\n    field\n  } = props;\n  return [{\n    id: 'conditional-hide',\n    component: Condition,\n    editField: editField,\n    field: field,\n    isEdited: isEdited$5\n  }];\n}\nfunction Condition(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const debounce = useService('debounce');\n  const variables = useVariables().map(name => ({\n    name\n  }));\n  const path = ['conditional', 'hide'];\n  const getValue = () => {\n    return get(field, path, '');\n  };\n  const setValue = value => {\n    if (!value) {\n      return editField(field, 'conditional', undefined);\n    }\n    return editField(field, 'conditional', {\n      hide: value\n    });\n  };\n  let label = 'Hide if';\n  let description = 'Condition under which the field is hidden';\n\n  // special case for expression fields which do not render\n  if (field.type === 'expression') {\n    label = 'Deactivate if';\n    description = 'Condition under which the field is deactivated';\n  }\n  return FeelEntry({\n    debounce,\n    description,\n    element: field,\n    feel: 'required',\n    getValue,\n    id,\n    label,\n    setValue,\n    variables\n  });\n}\n\nfunction OptionsExpressionEntry(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  return [{\n    id: id + '-expression',\n    component: OptionsExpression,\n    isEdited: isEdited$5,\n    editField,\n    field\n  }];\n}\nfunction OptionsExpression(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const debounce = useService('debounce');\n  const variables = useVariables().map(name => ({\n    name\n  }));\n  const path = OPTIONS_SOURCES_PATHS[OPTIONS_SOURCES.EXPRESSION];\n  const schema = '[\\n  {\\n    \"label\": \"dollar\",\\n    \"value\": \"$\"\\n  }\\n]';\n  const tooltip = jsxs(\"div\", {\n    children: [\"The expression may result in an array of simple values or alternatively follow this schema:\", jsx(\"pre\", {\n      children: jsx(\"code\", {\n        children: schema\n      })\n    })]\n  });\n  const getValue = () => get(field, path, '');\n  const setValue = value => editField(field, path, value || '');\n  return FeelEntry({\n    debounce,\n    description: 'Define an expression to populate the options from.',\n    tooltip,\n    element: field,\n    feel: 'required',\n    getValue,\n    id,\n    label: 'Options expression',\n    setValue,\n    variables\n  });\n}\n\nfunction TableDataSourceEntry(props) {\n  const {\n    editField,\n    field\n  } = props;\n  const entries = [];\n  entries.push({\n    id: 'dataSource',\n    component: Source,\n    editField: editField,\n    field: field,\n    isEdited: isEdited$5,\n    isDefaultVisible: field => field.type === 'table'\n  });\n  return entries;\n}\nfunction Source(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const debounce = useService('debounce');\n  const variables = useVariables().map(name => ({\n    name\n  }));\n  const path = ['dataSource'];\n  const getValue = () => {\n    return get(field, path, field.id);\n  };\n  const setValue = (value, error) => {\n    if (error) {\n      return;\n    }\n    editField(field, path, value);\n  };\n  return FeelTemplatingEntry({\n    debounce,\n    description: 'Specify the source from which to populate the table',\n    element: field,\n    feel: 'required',\n    getValue,\n    id,\n    label: 'Data source',\n    tooltip: 'Enter a form input variable that contains the data for the table or define an expression to populate the data dynamically.',\n    setValue,\n    singleLine: true,\n    variables,\n    validate: validate$5\n  });\n}\n\n// helper ////////////////\n\n/**\n * @param {string|void} value\n * @returns {string|null}\n */\nconst validate$5 = value => {\n  if (!isString(value) || value.length === 0) {\n    return 'Must not be empty.';\n  }\n  if (value.startsWith('=')) {\n    return null;\n  }\n  if (!isValidDotPath(value)) {\n    return 'Must be a variable or a dot separated path.';\n  }\n  if (hasIntegerPathSegment(value)) {\n    return 'Must not contain numerical path segments.';\n  }\n  return null;\n};\n\nfunction PaginationEntry(props) {\n  const {\n    editField,\n    field\n  } = props;\n  const entries = [];\n  entries.push({\n    id: 'pagination',\n    component: Pagination,\n    editField: editField,\n    field: field,\n    isEdited: isEdited$7,\n    isDefaultVisible: field => field.type === 'table'\n  });\n  return entries;\n}\nfunction Pagination(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const defaultRowCount = 10;\n  const path = ['rowCount'];\n  const getValue = () => {\n    return isNumber(get(field, path));\n  };\n\n  /**\n   * @param {boolean} value\n   */\n  const setValue = value => {\n    value ? editField(field, path, defaultRowCount) : editField(field, path, undefined);\n  };\n  return ToggleSwitchEntry({\n    element: field,\n    getValue,\n    id,\n    label: 'Pagination',\n    inline: true,\n    setValue\n  });\n}\n\nconst path$2 = ['rowCount'];\nfunction RowCountEntry(props) {\n  const {\n    editField,\n    field\n  } = props;\n  const entries = [];\n  entries.push({\n    id: 'rowCount',\n    component: RowCount,\n    isEdited: isEdited$6,\n    editField,\n    field,\n    isDefaultVisible: field => field.type === 'table' && isNumber(get(field, path$2))\n  });\n  return entries;\n}\nfunction RowCount(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const debounce = useService('debounce');\n  const getValue = () => get(field, path$2);\n\n  /**\n   * @param {number|void} value\n   * @param {string|null} error\n   * @returns {void}\n   */\n  const setValue = (value, error) => {\n    if (error) {\n      return;\n    }\n    editField(field, path$2, value);\n  };\n  return NumberFieldEntry({\n    debounce,\n    label: 'Number of rows per page',\n    element: field,\n    id,\n    getValue,\n    setValue,\n    validate: validate$4\n  });\n}\n\n// helpers //////////\n\n/**\n * @param {string|void} value\n * @returns {string|null}\n */\nconst validate$4 = value => {\n  if (isNil(value)) {\n    return null;\n  }\n  if (!isNumber(value)) {\n    return 'Must be number';\n  }\n  if (!Number.isInteger(value)) {\n    return 'Should be an integer.';\n  }\n  if (value < 1) {\n    return 'Should be greater than zero.';\n  }\n  return null;\n};\n\nconst OPTIONS = {\n  static: {\n    label: 'List of items',\n    value: 'static'\n  },\n  expression: {\n    label: 'Expression',\n    value: 'expression'\n  }\n};\nconst SELECT_OPTIONS = Object.values(OPTIONS);\nconst COLUMNS_PATH = ['columns'];\nconst COLUMNS_EXPRESSION_PATH = ['columnsExpression'];\nconst isHeadersSourceEdited = isEditedFromDefaultFactory(OPTIONS.static.value);\nfunction HeadersSourceSelectEntry(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  return [{\n    id: id + '-select',\n    component: HeadersSourceSelect,\n    isEdited: isHeadersSourceEdited,\n    editField,\n    field\n  }];\n}\nfunction HeadersSourceSelect(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n\n  /**\n   * @returns {string|void}\n   */\n  const getValue = () => {\n    const columns = get(field, COLUMNS_PATH);\n    const columnsExpression = get(field, COLUMNS_EXPRESSION_PATH);\n    if (isString(columnsExpression)) {\n      return OPTIONS.expression.value;\n    }\n    if (isArray(columns)) {\n      return OPTIONS.static.value;\n    }\n  };\n\n  /**\n   * @param {string|void} value\n   */\n  const setValue = value => {\n    switch (value) {\n      case OPTIONS.static.value:\n        editField(field, {\n          columns: [{\n            label: 'Column',\n            key: 'inputVariable'\n          }]\n        });\n        break;\n      case OPTIONS.expression.value:\n        editField(field, {\n          columnsExpression: '='\n        });\n        break;\n    }\n  };\n  const getValuesSourceOptions = () => {\n    return SELECT_OPTIONS;\n  };\n  return AutoFocusSelectEntry({\n    autoFocusEntry: getAutoFocusEntryId(field),\n    label: 'Type',\n    element: field,\n    getOptions: getValuesSourceOptions,\n    getValue,\n    id,\n    setValue\n  });\n}\n\n// helpers //////////\n\nfunction getAutoFocusEntryId(field) {\n  const columns = get(field, COLUMNS_PATH);\n  const columnsExpression = get(field, COLUMNS_EXPRESSION_PATH);\n  if (isString(columnsExpression)) {\n    return `${field.id}-columnsExpression`;\n  }\n  if (isArray(columns)) {\n    return `${field.id}-columns-0-label`;\n  }\n  return null;\n}\n\nconst PATH = ['columnsExpression'];\nfunction ColumnsExpressionEntry(props) {\n  const {\n    editField,\n    field\n  } = props;\n  const entries = [];\n  entries.push({\n    id: `${field.id}-columnsExpression`,\n    component: ColumnsExpression,\n    editField: editField,\n    field: field,\n    isEdited: isEdited$5,\n    isDefaultVisible: field => field.type === 'table' && isString(get(field, PATH))\n  });\n  return entries;\n}\nfunction ColumnsExpression(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const debounce = useService('debounce');\n  const variables = useVariables().map(name => ({\n    name\n  }));\n  const getValue = () => {\n    return get(field, PATH);\n  };\n\n  /**\n   * @param {string|void} value\n   * @param {string|void} error\n   * @returns {void}\n   */\n  const setValue = (value, error) => {\n    if (error) {\n      return;\n    }\n    editField(field, PATH, value);\n  };\n  const schema = '[\\n  {\\n    \"key\": \"column_1\",\\n    \"label\": \"Column 1\"\\n  }\\n]';\n  const tooltip = jsxs(\"div\", {\n    children: [\"The expression may result in an array of simple values or alternatively follow this schema:\", jsx(\"pre\", {\n      children: jsx(\"code\", {\n        children: schema\n      })\n    })]\n  });\n  return FeelTemplatingEntry({\n    debounce,\n    description: 'Specify an expression to populate column items',\n    element: field,\n    feel: 'required',\n    getValue,\n    id,\n    label: 'Expression',\n    tooltip,\n    setValue,\n    singleLine: true,\n    variables,\n    validate: validate$3\n  });\n}\n\n// helpers //////////\n\n/**\n * @param {string|void} value\n * @returns {string|null}\n */\nconst validate$3 = value => {\n  if (!isString(value) || value.length === 0 || value === '=') {\n    return 'Must not be empty.';\n  }\n  return null;\n};\n\nconst path$1 = 'columns';\nconst labelPath = 'label';\nconst keyPath = 'key';\nfunction ColumnEntry(props) {\n  const {\n    editField,\n    field,\n    idPrefix,\n    index\n  } = props;\n  const entries = [{\n    component: Label,\n    editField,\n    field,\n    id: idPrefix + '-label',\n    idPrefix,\n    index\n  }, {\n    component: Key,\n    editField,\n    field,\n    id: idPrefix + '-key',\n    idPrefix,\n    index\n  }];\n  return entries;\n}\nfunction Label(props) {\n  const {\n    editField,\n    field,\n    id,\n    index\n  } = props;\n  const debounce = useService('debounce');\n\n  /**\n   * @param {string|void} value\n   * @param {string|void} error\n   * @returns {void}\n   */\n  const setValue = (value, error) => {\n    if (error) {\n      return;\n    }\n    const columns = get(field, [path$1]);\n    editField(field, path$1, set$1(columns, [index, labelPath], value));\n  };\n  const getValue = () => {\n    return get(field, [path$1, index, labelPath]);\n  };\n  return TextfieldEntry({\n    debounce,\n    element: field,\n    getValue,\n    id,\n    label: 'Label',\n    setValue\n  });\n}\nfunction Key(props) {\n  const {\n    editField,\n    field,\n    id,\n    index\n  } = props;\n  const debounce = useService('debounce');\n\n  /**\n   * @param {string|void} value\n   * @param {string|void} error\n   * @returns {void}\n   */\n  const setValue = (value, error) => {\n    if (error) {\n      return;\n    }\n    const columns = get(field, [path$1]);\n    editField(field, path$1, set$1(columns, [index, keyPath], value));\n  };\n  const getValue = () => {\n    return get(field, [path$1, index, keyPath]);\n  };\n  return TextfieldEntry({\n    debounce,\n    element: field,\n    getValue,\n    id,\n    label: 'Key',\n    setValue,\n    validate: validate$2\n  });\n}\n\n// helpers //////////////////////\n\n/**\n * @param {string|void} value\n * @returns {string|null}\n */\nfunction validate$2(value) {\n  if (!isString(value) || value.length === 0) {\n    return 'Must not be empty.';\n  }\n  return null;\n}\n\nconst path = ['columns'];\nfunction StaticColumnsSourceEntry(props) {\n  const {\n    editField,\n    field,\n    id: idPrefix\n  } = props;\n  const {\n    columns\n  } = field;\n  const addEntry = event => {\n    event.stopPropagation();\n    const entry = {\n      label: 'Column',\n      key: 'inputVariable'\n    };\n    editField(field, path, arrayAdd(columns, columns.length, entry));\n  };\n  const removeEntry = entry => {\n    editField(field, path, without(columns, entry));\n  };\n  const items = columns.map((entry, index) => {\n    const id = `${idPrefix}-${index}`;\n    return {\n      id,\n      label: entry.label || entry.key,\n      entries: ColumnEntry({\n        editField,\n        field,\n        idPrefix: id,\n        index\n      }),\n      autoFocusEntry: `${id}-label`,\n      remove: () => removeEntry(entry)\n    };\n  });\n  return {\n    items,\n    add: addEntry\n  };\n}\n\nfunction VersionTagEntry(props) {\n  const {\n    editField,\n    field\n  } = props;\n  const entries = [];\n  entries.push({\n    id: 'versionTag',\n    component: VersionTag,\n    editField: editField,\n    field: field,\n    isEdited: isEdited,\n    isDefaultVisible: field => field.type === 'default'\n  });\n  return entries;\n}\nfunction VersionTag(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const debounce = useService('debounce');\n  const path = ['versionTag'];\n  const getValue = () => {\n    return get(field, path, '');\n  };\n  const setValue = (value, error) => {\n    if (error) {\n      return;\n    }\n    return editField(field, path, value);\n  };\n  const tooltip = jsx(\"div\", {\n    children: \"Version tag by which this form can be referenced.\"\n  });\n  return TextfieldEntry({\n    debounce,\n    element: field,\n    getValue,\n    id,\n    label: 'Version tag',\n    setValue,\n    tooltip\n  });\n}\n\nfunction AcceptEntry(props) {\n  const {\n    editField,\n    field\n  } = props;\n  const entries = [];\n  entries.push({\n    id: 'accept',\n    component: Accept,\n    editField: editField,\n    field: field,\n    isEdited: isEdited$5,\n    isDefaultVisible: field => field.type === 'filepicker'\n  });\n  return entries;\n}\nfunction Accept(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const debounce = useService('debounce');\n  const variables = useVariables().map(name => ({\n    name\n  }));\n  const path = ['accept'];\n  const getValue = () => {\n    return get(field, path, '');\n  };\n  const setValue = value => {\n    return editField(field, path, value);\n  };\n  return FeelTemplatingEntry({\n    debounce,\n    element: field,\n    getValue,\n    id,\n    label: 'Supported file formats',\n    singleLine: true,\n    setValue,\n    variables,\n    description: description$1\n  });\n}\n\n// helpers //////////\n\nconst description$1 = jsxs(Fragment$1, {\n  children: [\"A comma-separated list of\", ' ', jsx(\"a\", {\n    href: \"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/file#unique_file_type_specifiers\",\n    target: \"_blank\",\n    rel: \"noreferrer\",\n    children: \"file type specifiers\"\n  })]\n});\n\nfunction MultipleEntry(props) {\n  const {\n    editField,\n    field\n  } = props;\n  const entries = [];\n  entries.push({\n    id: 'multiple',\n    component: Multiple,\n    editField: editField,\n    field: field,\n    isEdited: isEdited$5,\n    isDefaultVisible: field => field.type === 'filepicker'\n  });\n  return entries;\n}\nfunction Multiple(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const debounce = useService('debounce');\n  const variables = useVariables().map(name => ({\n    name\n  }));\n  const path = ['multiple'];\n  const getValue = () => {\n    return get(field, path, '');\n  };\n  const setValue = value => {\n    return editField(field, path, value);\n  };\n  return FeelToggleSwitchEntry({\n    debounce,\n    element: field,\n    feel: 'optional',\n    getValue,\n    id,\n    label: 'Upload multiple files',\n    inline: true,\n    setValue,\n    variables\n  });\n}\n\nfunction DocumentsDataSourceEntry(props) {\n  const {\n    editField,\n    field\n  } = props;\n  const entries = [];\n  entries.push({\n    id: 'dataSource',\n    component: DocumentsDataSource,\n    editField: editField,\n    field: field,\n    isEdited: isEdited$5,\n    isDefaultVisible: field => field.type === 'documentPreview'\n  });\n  return entries;\n}\nfunction DocumentsDataSource(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const debounce = useService('debounce');\n  const variables = useVariables().map(name => ({\n    name\n  }));\n  const path = ['dataSource'];\n  const getValue = () => {\n    return get(field, path, '');\n  };\n  const setValue = value => {\n    return editField(field, path, value);\n  };\n  const schema = `[\n  {\n    \"documentId\": \"u123\",\n    \"endpoint\": \"https://api.example.com/documents/u123\",\n    \"metadata\": {\n      \"fileName\": \"Document.pdf\",\n      \"contentType\": \"application/pdf\"\n    }\n  }\n]`;\n  const tooltip = jsxs(\"div\", {\n    children: [jsx(\"p\", {\n      children: \"A source is a JSON object containing metadata for a document or an array of documents.\"\n    }), jsx(\"p\", {\n      children: \"Each entry must include a document ID, name, and MIME type.\"\n    }), jsx(\"p\", {\n      children: \"Additional details are optional. The expected format is as follows:\"\n    }), jsx(\"pre\", {\n      children: jsx(\"code\", {\n        children: schema\n      })\n    }), jsx(\"p\", {\n      children: \"When using Camunda Tasklist UI, additional document reference attributes are automatically handled. Modifying the document reference may affect the document preview functionality.\"\n    }), jsxs(\"p\", {\n      children: [\"Learn more in our\", ' ', jsx(\"a\", {\n        href: \"https://docs.camunda.io/docs/components/modeler/forms/form-element-library/forms-element-library-document-preview/\",\n        target: \"_blank\",\n        rel: \"noopener noreferrer\",\n        children: \"documentation\"\n      }), \".\"]\n    })]\n  });\n  return FeelTemplatingEntry({\n    debounce,\n    element: field,\n    getValue,\n    id,\n    label: 'Document reference',\n    feel: 'required',\n    singleLine: true,\n    setValue,\n    variables,\n    tooltip,\n    validate: validate$1\n  });\n}\n\n// helpers //////////\n\n/**\n * @param {string|undefined} value\n * @returns {string|null}\n */\nconst validate$1 = value => {\n  if (typeof value !== 'string' || value.length === 0) {\n    return 'The document data source is required.';\n  }\n};\n\nfunction MaxHeightEntry(props) {\n  const {\n    editField,\n    field\n  } = props;\n  const entries = [];\n  entries.push({\n    id: 'maxHeight',\n    component: MaxHeight,\n    editField: editField,\n    field: field,\n    isEdited: isEdited$6,\n    isDefaultVisible: field => field.type === 'documentPreview'\n  });\n  return entries;\n}\nfunction MaxHeight(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const debounce = useService('debounce');\n  const path = ['maxHeight'];\n  const getValue = () => {\n    return get(field, path, '');\n  };\n  const setValue = value => {\n    return editField(field, path, value);\n  };\n  return NumberFieldEntry({\n    debounce,\n    label: 'Max height of preview container',\n    element: field,\n    id,\n    getValue,\n    setValue,\n    validate,\n    description\n  });\n}\n\n// helpers //////////\n\n/**\n * @param {string|number|undefined} value\n * @returns {string|null}\n */\nconst validate = value => {\n  if (value === undefined || value === '') {\n    return null;\n  }\n  if (typeof value === 'string') {\n    return 'Value must be a number.';\n  }\n  if (!Number.isInteger(value)) {\n    return 'Should be an integer.';\n  }\n  if (value < 1) {\n    return 'Should be greater than zero.';\n  }\n};\nconst description = jsx(Fragment$1, {\n  children: \"Documents with height that exceeds the defined value will be vertically scrollable\"\n});\n\nfunction GeneralGroup(field, editField, getService) {\n  const entries = [...IdEntry({\n    field,\n    editField\n  }), ...VersionTagEntry({\n    field,\n    editField\n  }), ...LabelEntry({\n    field,\n    editField\n  }), ...DescriptionEntry({\n    field,\n    editField\n  }), ...KeyEntry({\n    field,\n    editField,\n    getService\n  }), ...PathEntry({\n    field,\n    editField,\n    getService\n  }), ...RepeatableEntry({\n    field,\n    editField,\n    getService\n  }), ...DefaultValueEntry({\n    field,\n    editField\n  }), ...ActionEntry({\n    field,\n    editField\n  }), ...DateTimeEntry({\n    field,\n    editField\n  }), ...TextEntry({\n    field,\n    editField}), ...HtmlEntry({\n    field,\n    editField}), ...IFrameUrlEntry({\n    field,\n    editField\n  }), ...IFrameHeightEntry({\n    field,\n    editField\n  }), ...HeightEntry({\n    field,\n    editField\n  }), ...NumberEntries({\n    field,\n    editField\n  }), ...ExpressionFieldEntries({\n    field,\n    editField\n  }), ...ImageSourceEntry({\n    field,\n    editField\n  }), ...AltTextEntry({\n    field,\n    editField\n  }), ...SelectEntries({\n    field,\n    editField\n  }), ...AcceptEntry({\n    field,\n    editField\n  }), ...MultipleEntry({\n    field,\n    editField\n  }), ...DisabledEntry({\n    field,\n    editField\n  }), ...ReadonlyEntry({\n    field,\n    editField\n  }), ...TableDataSourceEntry({\n    field,\n    editField\n  }), ...PaginationEntry({\n    field,\n    editField\n  }), ...RowCountEntry({\n    field,\n    editField\n  }), ...DocumentsDataSourceEntry({\n    field,\n    editField\n  })];\n  if (entries.length === 0) {\n    return null;\n  }\n  return {\n    id: 'general',\n    label: 'General',\n    entries\n  };\n}\n\nfunction SerializationGroup(field, editField) {\n  const entries = [...NumberSerializationEntry({\n    field,\n    editField\n  }), ...DateTimeFormatEntry({\n    field,\n    editField\n  })];\n  if (!entries.length) {\n    return null;\n  }\n  return {\n    id: 'serialization',\n    label: 'Serialization',\n    entries\n  };\n}\n\nfunction ConstraintsGroup(field, editField) {\n  const entries = [...DateTimeConstraintsEntry({\n    field,\n    editField\n  })];\n  if (!entries.length) {\n    return null;\n  }\n  return {\n    id: 'constraints',\n    label: 'Constraints',\n    entries\n  };\n}\n\nconst VALIDATION_TYPE_OPTIONS = {\n  custom: {\n    value: '',\n    label: 'Custom'\n  },\n  email: {\n    value: 'email',\n    label: 'Email'\n  },\n  phone: {\n    value: 'phone',\n    label: 'Phone'\n  }\n};\nfunction ValidationGroup(field, editField) {\n  const {\n    type\n  } = field;\n  const validate = get(field, ['validate'], {});\n  const isCustomValidation = [undefined, VALIDATION_TYPE_OPTIONS.custom.value].includes(validate.validationType);\n  const hasPattern = !!get(field, ['validate', 'pattern']);\n  const onChange = key => {\n    return value => {\n      const validate = get(field, ['validate'], {});\n      editField(field, ['validate'], set$1(validate, [key], value));\n    };\n  };\n  const getValue = key => {\n    return () => {\n      return get(field, ['validate', key]);\n    };\n  };\n  let entries = [{\n    id: 'required',\n    component: Required,\n    getValue,\n    field,\n    isEdited: isEdited$8,\n    onChange,\n    isDefaultVisible: field => INPUTS.includes(field.type)\n  }];\n  entries.push({\n    id: 'validationType',\n    component: ValidationType,\n    getValue,\n    field,\n    editField,\n    isEdited: isEdited,\n    onChange,\n    isDefaultVisible: field => field.type === 'textfield'\n  });\n  entries.push({\n    id: 'minLength',\n    component: MinLength,\n    getValue,\n    field,\n    isEdited: isEdited$5,\n    onChange,\n    isDefaultVisible: field => INPUTS.includes(field.type) && (type === 'textarea' || type === 'textfield' && isCustomValidation)\n  }, {\n    id: 'maxLength',\n    component: MaxLength,\n    getValue,\n    field,\n    isEdited: isEdited$5,\n    onChange,\n    isDefaultVisible: field => INPUTS.includes(field.type) && (type === 'textarea' || type === 'textfield' && isCustomValidation)\n  });\n  entries.push({\n    id: 'pattern',\n    component: Pattern,\n    getValue,\n    field,\n    isEdited: isEdited,\n    onChange,\n    isDefaultVisible: field => INPUTS.includes(field.type) && type === 'textfield' && isCustomValidation\n  });\n  entries.push({\n    id: 'patternErrorMessage',\n    component: PatternErrorMessage,\n    getValue,\n    field,\n    isEdited: isEdited,\n    onChange,\n    isDefaultVisible: field => INPUTS.includes(field.type) && type === 'textfield' && isCustomValidation && hasPattern\n  });\n  entries.push({\n    id: 'min',\n    component: Min,\n    getValue,\n    field,\n    isEdited: isEdited$5,\n    onChange,\n    isDefaultVisible: field => field.type === 'number'\n  }, {\n    id: 'max',\n    component: Max,\n    getValue,\n    field,\n    isEdited: isEdited$5,\n    onChange,\n    isDefaultVisible: field => field.type === 'number'\n  });\n  return {\n    id: 'validation',\n    label: 'Validation',\n    entries\n  };\n}\nfunction Required(props) {\n  const {\n    field,\n    getValue,\n    id,\n    onChange\n  } = props;\n  return CheckboxEntry({\n    element: field,\n    getValue: getValue('required'),\n    id,\n    label: 'Required',\n    setValue: onChange('required')\n  });\n}\nfunction MinLength(props) {\n  const {\n    field,\n    getValue,\n    id,\n    onChange\n  } = props;\n  const debounce = useService('debounce');\n  const variables = useVariables().map(name => ({\n    name\n  }));\n  return FeelNumberEntry({\n    debounce,\n    element: field,\n    feel: 'optional',\n    getValue: getValue('minLength'),\n    id,\n    label: 'Minimum length',\n    min: 0,\n    setValue: onChange('minLength'),\n    variables\n  });\n}\nfunction MaxLength(props) {\n  const {\n    field,\n    getValue,\n    id,\n    onChange\n  } = props;\n  const debounce = useService('debounce');\n  const variables = useVariables().map(name => ({\n    name\n  }));\n  return FeelNumberEntry({\n    debounce,\n    element: field,\n    feel: 'optional',\n    getValue: getValue('maxLength'),\n    id,\n    label: 'Maximum length',\n    min: 0,\n    setValue: onChange('maxLength'),\n    variables\n  });\n}\nfunction Pattern(props) {\n  const {\n    field,\n    getValue,\n    id,\n    onChange\n  } = props;\n  const debounce = useService('debounce');\n  return TextfieldEntry({\n    debounce,\n    element: field,\n    getValue: getValue('pattern'),\n    id,\n    label: 'Custom regular expression',\n    setValue: onChange('pattern')\n  });\n}\nfunction PatternErrorMessage(props) {\n  const {\n    field,\n    getValue,\n    id,\n    onChange\n  } = props;\n  const debounce = useService('debounce');\n  return TextfieldEntry({\n    debounce,\n    element: field,\n    getValue: getValue('patternErrorMessage'),\n    id,\n    label: 'Custom error message',\n    tooltip: 'The error message to display when the input does not match the regular expression.',\n    setValue: onChange('patternErrorMessage')\n  });\n}\nfunction Min(props) {\n  const {\n    field,\n    getValue,\n    id,\n    onChange\n  } = props;\n  const debounce = useService('debounce');\n  const variables = useVariables().map(name => ({\n    name\n  }));\n  return FeelNumberEntry({\n    debounce,\n    element: field,\n    feel: 'optional',\n    id,\n    label: 'Minimum',\n    step: 'any',\n    getValue: getValue('min'),\n    setValue: onChange('min'),\n    variables\n  });\n}\nfunction Max(props) {\n  const {\n    field,\n    getValue,\n    id,\n    onChange\n  } = props;\n  const debounce = useService('debounce');\n  const variables = useVariables().map(name => ({\n    name\n  }));\n  return FeelNumberEntry({\n    debounce,\n    element: field,\n    feel: 'optional',\n    id,\n    label: 'Maximum',\n    step: 'any',\n    getValue: getValue('max'),\n    setValue: onChange('max'),\n    variables\n  });\n}\nfunction ValidationType(props) {\n  const {\n    field,\n    getValue,\n    id,\n    onChange\n  } = props;\n  useService('debounce');\n  const setValue = validationType => {\n    onChange('validationType')(validationType || undefined);\n  };\n  return SelectEntry({\n    element: field,\n    getValue: getValue('validationType'),\n    id,\n    label: 'Validation pattern',\n    setValue,\n    getOptions: () => Object.values(VALIDATION_TYPE_OPTIONS),\n    tooltip: getValue('validationType')() === VALIDATION_TYPE_OPTIONS.phone.value ? 'The built-in phone validation pattern is based on the E.164 standard with no spaces. Ex: +491234567890' : undefined\n  });\n}\n\nfunction OptionsGroups(field, editField, getService) {\n  const {\n    type\n  } = field;\n  const formFields = getService('formFields');\n  const fieldDefinition = formFields.get(type).config;\n  if (!OPTIONS_INPUTS.includes(type) && !hasOptionsGroupsConfigured(fieldDefinition)) {\n    return [];\n  }\n  const context = {\n    editField,\n    field\n  };\n  const id = 'valuesSource';\n\n  /**\n   * @type {Array<Group|ListGroup>}\n   */\n  const groups = [{\n    id,\n    label: 'Options source',\n    tooltip: getValuesTooltip(),\n    component: Group,\n    entries: OptionsSourceSelectEntry({\n      ...context,\n      id\n    })\n  }];\n  const valuesSource = getOptionsSource(field);\n  if (valuesSource === OPTIONS_SOURCES.INPUT) {\n    const id = 'dynamicOptions';\n    groups.push({\n      id,\n      label: 'Dynamic options',\n      component: Group,\n      entries: InputKeyOptionsSourceEntry({\n        ...context,\n        id\n      })\n    });\n  } else if (valuesSource === OPTIONS_SOURCES.STATIC) {\n    const id = 'staticOptions';\n    groups.push({\n      id,\n      label: 'Static options',\n      component: ListGroup,\n      ...StaticOptionsSourceEntry({\n        ...context,\n        id\n      })\n    });\n  } else if (valuesSource === OPTIONS_SOURCES.EXPRESSION) {\n    const id = 'optionsExpression';\n    groups.push({\n      id,\n      label: 'Options expression',\n      component: Group,\n      entries: OptionsExpressionEntry({\n        ...context,\n        id\n      })\n    });\n  }\n  return groups;\n}\n\n// helpers //////////\n\nfunction getValuesTooltip() {\n  return '\"Static\" defines a constant, predefined set of form options.\\n\\n' + '\"Input data\" defines options that are populated dynamically, adjusting based on variable data for flexible responses to different conditions or inputs.\\n\\n' + '\"Expression\" defines options that are populated from a FEEL expression.';\n}\n\nfunction CustomPropertiesGroup(field, editField) {\n  const {\n    properties = {},\n    type\n  } = field;\n  if (type === 'default') {\n    return null;\n  }\n  const addEntry = event => {\n    event.stopPropagation();\n    let index = Object.keys(properties).length + 1;\n    while (`key${index}` in properties) {\n      index++;\n    }\n    editField(field, ['properties'], {\n      ...properties,\n      [`key${index}`]: 'value'\n    });\n  };\n  const validateFactory = key => {\n    return value => {\n      if (value === key) {\n        return;\n      }\n      if (typeof value !== 'string' || value.length === 0) {\n        return 'Must not be empty.';\n      }\n      if (has(properties, value)) {\n        return 'Must be unique.';\n      }\n    };\n  };\n  const items = Object.keys(properties).map((key, index) => {\n    const removeEntry = event => {\n      event.stopPropagation();\n      return editField(field, ['properties'], removeKey(properties, key));\n    };\n    const id = `property-${field.id}-${index}`;\n    return {\n      autoFocusEntry: id + '-key',\n      entries: CustomValueEntry({\n        editField,\n        field,\n        idPrefix: id,\n        index,\n        validateFactory\n      }),\n      id,\n      label: key || '',\n      remove: removeEntry\n    };\n  });\n  return {\n    add: addEntry,\n    component: ListGroup,\n    id: 'custom-values',\n    items,\n    label: 'Custom properties',\n    tooltip: 'Add properties directly to the form schema, useful to configure functionality in custom-built task applications and form renderers.'\n  };\n}\n\n// helpers //////////\n\n/**\n * Returns copy of object without key.\n *\n * @param {Object} properties\n * @param {string} oldKey\n *\n * @returns {Object}\n */\nfunction removeKey(properties, oldKey) {\n  return Object.entries(properties).reduce((newProperties, entry) => {\n    const [key, value] = entry;\n    if (key === oldKey) {\n      return newProperties;\n    }\n    return {\n      ...newProperties,\n      [key]: value\n    };\n  }, {});\n}\n\nfunction AppearanceGroup(field, editField, getService) {\n  const entries = [...AdornerEntry({\n    field,\n    editField\n  }), ...GroupAppearanceEntry({\n    field,\n    editField\n  }), ...LayouterAppearanceEntry({\n    field,\n    editField\n  }), ...MaxHeightEntry({\n    field,\n    editField\n  })];\n  if (!entries.length) {\n    return null;\n  }\n  return {\n    id: 'appearance',\n    label: 'Appearance',\n    entries\n  };\n}\n\nfunction LayoutGroup(field, editField) {\n  const {\n    type\n  } = field;\n  if (type === 'default') {\n    return null;\n  }\n  const entries = [...ColumnsEntry({\n    field,\n    editField\n  })];\n  if (entries.length === 0) {\n    return null;\n  }\n  return {\n    id: 'layout',\n    label: 'Layout',\n    entries\n  };\n}\n\nfunction SecurityAttributesGroup(field, editField) {\n  const {\n    type\n  } = field;\n  if (type !== 'iframe') {\n    return null;\n  }\n  const entries = createEntries({\n    field,\n    editField\n  });\n  if (!entries.length) {\n    return null;\n  }\n  return {\n    id: 'securityAttributes',\n    label: 'Security attributes',\n    entries,\n    tooltip: getTooltip()\n  };\n}\nfunction createEntries(props) {\n  const {\n    editField,\n    field\n  } = props;\n  const securityEntries = SECURITY_ATTRIBUTES_DEFINITIONS.map(definition => {\n    const {\n      label,\n      property\n    } = definition;\n    return simpleBoolEntryFactory({\n      id: property,\n      label: label,\n      isDefaultVisible: field => field.type === 'iframe',\n      path: ['security', property],\n      props,\n      getValue: () => get(field, ['security', property]),\n      setValue: value => {\n        const security = get(field, ['security'], {});\n        editField(field, ['security'], set$1(security, [property], value));\n      }\n    });\n  });\n  return [{\n    component: Advisory\n  }, ...securityEntries];\n}\nconst Advisory = props => {\n  return jsx(\"div\", {\n    class: \"bio-properties-panel-description fjs-properties-panel-detached-description\",\n    children: \"These options can incur security risks, especially if used in combination with dynamic links. Ensure that you are aware of them, that you trust the source url and only enable what your use case requires.\"\n  });\n};\n\n// helpers //////////\n\nfunction getTooltip() {\n  return jsx(Fragment$1, {\n    children: jsxs(\"p\", {\n      children: [\"Allow the iframe to access more functionality of your browser, details regarding the various options can be found in the\", ' ', jsx(\"a\", {\n        target: \"_blank\",\n        href: \"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe\",\n        rel: \"noreferrer\",\n        children: \"MDN iFrame documentation.\"\n      })]\n    })\n  });\n}\n\nfunction ConditionGroup(field, editField) {\n  const {\n    type\n  } = field;\n  if (type === 'default') {\n    return null;\n  }\n  const entries = [...ConditionEntry({\n    field,\n    editField\n  })];\n  return {\n    id: 'condition',\n    label: 'Condition',\n    entries\n  };\n}\n\nfunction TableHeaderGroups(field, editField) {\n  const {\n    type,\n    id: fieldId\n  } = field;\n  if (type !== 'table') {\n    return [];\n  }\n  const areStaticColumnsEnabled = isArray(get(field, ['columns']));\n\n  /**\n   * @type {Array<Group>}\n   */\n  const groups = [{\n    id: `${fieldId}-columnsSource`,\n    label: 'Headers source',\n    tooltip: TOOLTIP_TEXT,\n    component: Group,\n    entries: [...HeadersSourceSelectEntry({\n      field,\n      editField\n    }), ...ColumnsExpressionEntry({\n      field,\n      editField\n    })]\n  }];\n  if (areStaticColumnsEnabled) {\n    const id = `${fieldId}-columns`;\n    groups.push({\n      id,\n      label: 'Header items',\n      component: ListGroup,\n      ...StaticColumnsSourceEntry({\n        field,\n        editField,\n        id\n      })\n    });\n  }\n  return groups;\n}\n\n// helpers //////////\n\nconst TOOLTIP_TEXT = `\"List of items\" defines a constant, predefined set of form options.\n\n\"Expression\" defines options that are populated from a FEEL expression.\n`;\n\nclass PropertiesProvider {\n  constructor(propertiesPanel, injector) {\n    this._injector = injector;\n    propertiesPanel.registerProvider(this);\n  }\n  _filterVisibleEntries(groups, field, getService) {\n    return groups.forEach(group => {\n      const {\n        entries\n      } = group;\n      const {\n        type\n      } = field;\n      const formFields = getService('formFields');\n      const fieldDefinition = formFields.get(type).config;\n      if (!entries) {\n        return;\n      }\n      group.entries = entries.filter(entry => {\n        const {\n          isDefaultVisible\n        } = entry;\n        if (!isDefaultVisible) {\n          return true;\n        }\n        return isDefaultVisible(field) || hasEntryConfigured(fieldDefinition, entry.id);\n      });\n    });\n  }\n  getGroups(field, editField) {\n    return groups => {\n      if (!field) {\n        return groups;\n      }\n      const getService = (type, strict = true) => this._injector.get(type, strict);\n      groups = [...groups, GeneralGroup(field, editField, getService), ...OptionsGroups(field, editField, getService), ...TableHeaderGroups(field, editField), SecurityAttributesGroup(field, editField), ConditionGroup(field, editField), LayoutGroup(field, editField), AppearanceGroup(field, editField), SerializationGroup(field, editField), ConstraintsGroup(field, editField), ValidationGroup(field, editField), CustomPropertiesGroup(field, editField)].filter(group => group != null);\n      this._filterVisibleEntries(groups, field, getService);\n\n      // contract: if a group has no entries or items, it should not be displayed at all\n      return groups.filter(group => {\n        return group.items || group.entries && group.entries.length;\n      });\n    };\n  }\n}\nPropertiesProvider.$inject = ['propertiesPanel', 'injector'];\n\nconst PropertiesPanelModule = {\n  __depends__: [index],\n  __init__: ['propertiesPanel', 'propertiesProvider'],\n  propertiesPanel: ['type', PropertiesPanelRenderer],\n  propertiesProvider: ['type', PropertiesProvider]\n};\n\n/**\n * Manages the rendering of visual plugins.\n * @constructor\n * @param {Object} eventBus - Event bus for the application.\n */\nclass RenderInjector extends SectionModuleBase {\n  constructor(eventBus) {\n    super(eventBus, 'renderInjector');\n    this._eventBus = eventBus;\n    this.registeredRenderers = [];\n  }\n\n  /**\n   * Inject a new renderer into the injector.\n   * @param {string} identifier - Identifier for the renderer.\n   * @param {Function} Renderer - The renderer function.\n   */\n  attachRenderer(identifier, Renderer) {\n    this.registeredRenderers = [...this.registeredRenderers, {\n      identifier,\n      Renderer\n    }];\n  }\n\n  /**\n   * Detach a renderer from the by key injector.\n   * @param {string} identifier - Identifier for the renderer.\n   */\n  detachRenderer(identifier) {\n    this.registeredRenderers = this.registeredRenderers.filter(r => r.identifier !== identifier);\n  }\n\n  /**\n   * Returns the registered renderers.\n   * @returns {Array} Array of registered renderers.\n   */\n  fetchRenderers() {\n    return this.registeredRenderers;\n  }\n}\nRenderInjector.$inject = ['eventBus'];\n\nconst RenderInjectionModule = {\n  __init__: ['renderInjector'],\n  renderInjector: ['type', RenderInjector]\n};\n\nvar _path;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nvar SvgRepeat = function SvgRepeat(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 16,\n    height: 16,\n    fill: \"none\"\n  }, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M3 3h10.086l-1.793-1.793L12 .5l3 3-3 3-.707-.707L13.086 4H3v3.5H2V4a1 1 0 0 1 1-1M4.707 10.207 2.914 12H13V8.5h1V12a1 1 0 0 1-1 1H2.914l1.793 1.793L4 15.5l-3-3 3-3z\"\n  })));\n};\n\nclass EditorRepeatRenderManager {\n  constructor(formFields, formFieldRegistry) {\n    this._formFields = formFields;\n    this._formFieldRegistry = formFieldRegistry;\n    this.RepeatFooter = this.RepeatFooter.bind(this);\n  }\n\n  /**\n   * Checks whether a field should be repeatable.\n   *\n   * @param {string} id - The id of the field to check\n   * @returns {boolean} - True if repeatable, false otherwise\n   */\n  isFieldRepeating(id) {\n    if (!id) {\n      return false;\n    }\n    const formField = this._formFieldRegistry.get(id);\n    const formFieldDefinition = this._formFields.get(formField.type);\n    return formFieldDefinition.config.repeatable && formField.isRepeating;\n  }\n  RepeatFooter() {\n    return jsxs(\"div\", {\n      className: \"fjs-repeat-render-footer\",\n      children: [jsx(SvgRepeat, {}), jsx(\"span\", {\n        children: \"Repeatable\"\n      })]\n    });\n  }\n}\nEditorRepeatRenderManager.$inject = ['formFields', 'formFieldRegistry'];\n\nconst RepeatRenderModule = {\n  __init__: ['repeatRenderManager'],\n  repeatRenderManager: ['type', EditorRepeatRenderManager]\n};\n\nconst ids = new Ids([32, 36, 1]);\n\n/**\n * @typedef { import('./types').Injector } Injector\n * @typedef { import('./types').Module } Module\n * @typedef { import('./types').Schema } Schema\n *\n * @typedef { import('./types').FormEditorOptions } FormEditorOptions\n * @typedef { import('./types').FormEditorProperties } FormEditorProperties\n *\n * @typedef { {\n *   properties: FormEditorProperties,\n *   schema: Schema\n * } } State\n *\n * @typedef { (type:string, priority:number, handler:Function) => void } OnEventWithPriority\n * @typedef { (type:string, handler:Function) => void } OnEventWithOutPriority\n * @typedef { OnEventWithPriority & OnEventWithOutPriority } OnEventType\n */\n\n/**\n * The form editor.\n */\nclass FormEditor {\n  /**\n   * @constructor\n   * @param {FormEditorOptions} options\n   */\n  constructor(options = {}) {\n    /**\n     * @public\n     * @type {OnEventType}\n     */\n    this.on = this._onEvent;\n\n    /**\n     * @public\n     * @type {String}\n     */\n    this._id = ids.next();\n\n    /**\n     * @private\n     * @type {Element}\n     */\n    this._container = createFormContainer();\n    this._container.setAttribute('tabindex', '0');\n    const {\n      container,\n      exporter,\n      injector = this._createInjector(options, this._container),\n      properties = {}\n    } = options;\n\n    /**\n     * @private\n     * @type {any}\n     */\n    this.exporter = exporter;\n\n    /**\n     * @private\n     * @type {State}\n     */\n    this._state = {\n      properties,\n      schema: null\n    };\n    this.get = injector.get;\n    this.invoke = injector.invoke;\n    this.get('eventBus').fire('form.init');\n    if (container) {\n      this.attachTo(container);\n    }\n  }\n  clear() {\n    // clear form services\n    this._emit('diagram.clear');\n\n    // clear diagram services (e.g. EventBus)\n    this._emit('form.clear');\n  }\n  destroy() {\n    // destroy form services\n    this.get('eventBus').fire('form.destroy');\n\n    // destroy diagram services (e.g. EventBus)\n    this.get('eventBus').fire('diagram.destroy');\n    this._detach(false);\n  }\n\n  /**\n   * @param {Schema} schema\n   *\n   * @return {Promise<{ warnings: Array<any> }>}\n   */\n  importSchema(schema) {\n    return new Promise((resolve, reject) => {\n      try {\n        this.clear();\n        const {\n          schema: importedSchema,\n          warnings\n        } = this.get('importer').importSchema(schema);\n        this._setState({\n          schema: importedSchema\n        });\n        this._emit('import.done', {\n          warnings\n        });\n        return resolve({\n          warnings\n        });\n      } catch (error) {\n        this._emit('import.done', {\n          error: error,\n          warnings: error.warnings || []\n        });\n        return reject(error);\n      }\n    });\n  }\n\n  /**\n   * @returns {Schema}\n   */\n  saveSchema() {\n    return this.getSchema();\n  }\n\n  /**\n   * @returns {Schema}\n   */\n  getSchema() {\n    const {\n      schema\n    } = this._getState();\n    return exportSchema(schema, this.exporter, schemaVersion);\n  }\n\n  /**\n   * @param {Element|string} parentNode\n   */\n  attachTo(parentNode) {\n    if (!parentNode) {\n      throw new Error('parentNode required');\n    }\n    this.detach();\n    if (isString(parentNode)) {\n      parentNode = document.querySelector(parentNode);\n    }\n    const container = this._container;\n    parentNode.appendChild(container);\n    this._emit('attach');\n  }\n  detach() {\n    this._detach();\n  }\n\n  /**\n   * @internal\n   *\n   * @param {boolean} [emit]\n   */\n  _detach(emit = true) {\n    const container = this._container,\n      parentNode = container.parentNode;\n    if (!parentNode) {\n      return;\n    }\n    if (emit) {\n      this._emit('detach');\n    }\n    parentNode.removeChild(container);\n  }\n\n  /**\n   * @param {any} property\n   * @param {any} value\n   */\n  setProperty(property, value) {\n    const properties = set$1(this._getState().properties, [property], value);\n    this._setState({\n      properties\n    });\n  }\n\n  /**\n   * @param {string} type\n   * @param {Function} handler\n   */\n  off(type, handler) {\n    this.get('eventBus').off(type, handler);\n  }\n\n  /**\n   * @internal\n   *\n   * @param {FormEditorOptions} options\n   * @param {Element} container\n   *\n   * @returns {Injector}\n   */\n  _createInjector(options, container) {\n    const {\n      modules = this._getModules(),\n      additionalModules = [],\n      renderer = {},\n      ...config\n    } = options;\n    const enrichedConfig = {\n      ...config,\n      renderer: {\n        ...renderer,\n        container\n      }\n    };\n    return createInjector([{\n      config: ['value', enrichedConfig]\n    }, {\n      formEditor: ['value', this]\n    }, CoreModule, ...modules, ...additionalModules]);\n  }\n\n  /**\n   * @internal\n   */\n  _emit(type, data) {\n    this.get('eventBus').fire(type, data);\n  }\n\n  /**\n   * @internal\n   */\n  _getState() {\n    return this._state;\n  }\n\n  /**\n   * @internal\n   */\n  _setState(state) {\n    this._state = {\n      ...this._state,\n      ...state\n    };\n    this._emit('changed', this._getState());\n  }\n\n  /**\n   * @internal\n   */\n  _getModules() {\n    return [ModelingModule, EditorActionsModule, FormEditorKeyboardModule, DraggingModule, SelectionModule, PaletteModule, EditorExpressionLanguageModule, MarkdownRendererModule, PropertiesPanelModule, RenderInjectionModule, RepeatRenderModule];\n  }\n\n  /**\n   * @internal\n   */\n  _onEvent(type, priority, handler) {\n    this.get('eventBus').on(type, priority, handler);\n  }\n}\n\n// helpers //////////\n\nfunction exportSchema(schema, exporter, schemaVersion) {\n  const exportDetails = exporter ? {\n    exporter\n  } : {};\n  const cleanedSchema = clone(schema, (name, value) => {\n    if (['_parent', '_path'].includes(name)) {\n      return undefined;\n    }\n    return value;\n  });\n  return {\n    ...cleanedSchema,\n    ...exportDetails,\n    schemaVersion\n  };\n}\n\n/**\n * @typedef { import('./types').CreateFormEditorOptions } CreateFormEditorOptions\n */\n\n/**\n * Create a form editor.\n *\n * @param {CreateFormEditorOptions} options\n *\n * @return {Promise<FormEditor>}\n */\nfunction createFormEditor(options) {\n  const {\n    schema,\n    ...rest\n  } = options;\n  const formEditor = new FormEditor(rest);\n  return formEditor.importSchema(schema).then(() => {\n    return formEditor;\n  });\n}\n\nexport { FormEditor, createFormEditor, useDebounce$1 as useDebounce, usePrevious$1 as usePrevious, useService as usePropertiesPanelService, useService$1 as useService, useVariables };\n//# sourceMappingURL=index.es.js.map\n","import { render } from 'preact';\nimport fileDrop from 'file-drops';\nimport mitt from 'mitt';\nimport { useEffect, useRef, useState, useCallback } from 'preact/hooks';\nimport { isFunction } from 'min-dash';\nimport download from 'downloadjs';\nimport classNames from 'classnames';\nimport { Form, getSchemaVariables } from '@bpmn-io/form-js-viewer';\nimport { FormEditor } from '@bpmn-io/form-js-editor';\nimport { jsxs, jsx } from 'preact/jsx-runtime';\nimport { basicSetup } from 'codemirror';\nimport { EditorView, keymap, placeholder } from '@codemirror/view';\nimport { Facet, Compartment, EditorState } from '@codemirror/state';\nimport { linter, lintGutter } from '@codemirror/lint';\nimport { json, jsonParseLinter } from '@codemirror/lang-json';\nimport { indentWithTab } from '@codemirror/commands';\nimport { autocompletion } from '@codemirror/autocomplete';\nimport { syntaxTree } from '@codemirror/language';\nimport { classes } from 'min-dom';\n\nfunction Modal(props) {\n  useEffect(() => {\n    function handleKey(event) {\n      if (event.key === 'Escape') {\n        event.stopPropagation();\n        props.onClose();\n      }\n    }\n    document.addEventListener('keydown', handleKey);\n    return () => {\n      document.removeEventListener('keydown', handleKey);\n    };\n  });\n  return jsxs(\"div\", {\n    class: \"fjs-pgl-modal\",\n    children: [jsx(\"div\", {\n      class: \"fjs-pgl-modal-backdrop\",\n      onClick: props.onClose\n    }), jsxs(\"div\", {\n      class: \"fjs-pgl-modal-content\",\n      children: [jsx(\"h1\", {\n        class: \"fjs-pgl-modal-header\",\n        children: props.name\n      }), jsx(\"div\", {\n        class: \"fjs-pgl-modal-body\",\n        children: props.children\n      }), jsx(\"div\", {\n        class: \"fjs-pgl-modal-footer\",\n        children: jsx(\"button\", {\n          type: \"button\",\n          class: \"fjs-pgl-button fjs-pgl-button-default\",\n          onClick: props.onClose,\n          children: \"Close\"\n        })\n      })]\n    })]\n  });\n}\n\nfunction EmbedModal(props) {\n  const schema = serializeValue(props.schema);\n  const data = serializeValue(props.data || {});\n  const fieldRef = useRef();\n  const snippet = `<!-- styles needed for rendering -->\n<link rel=\"stylesheet\" href=\"https://unpkg.com/@bpmn-io/form-js@0.2.4/dist/assets/form-js.css\">\n\n<!-- container to render the form into -->\n<div class=\"fjs-pgl-form-container\"></div>\n\n<!-- scripts needed for embedding -->\n<script src=\"https://unpkg.com/@bpmn-io/form-js@0.2.4/dist/form-viewer.umd.js\"></script>\n\n<!-- actual script to instantiate the form and load form schema + data -->\n<script>\n  const data = JSON.parse(${data});\n  const schema = JSON.parse(${schema});\n\n  const form = new FormViewer.Form({\n    container: document.querySelector(\".fjs-pgl-form-container\")\n  });\n\n  form.on(\"submit\", (event) => {\n    console.log(event.data, event.errors);\n  });\n\n  form.importSchema(schema, data).catch(err => {\n    console.error(\"Failed to render form\", err);\n  });\n</script>\n  `.trim();\n  useEffect(() => {\n    fieldRef.current.select();\n  });\n  return jsxs(Modal, {\n    name: \"Embed form\",\n    onClose: props.onClose,\n    children: [jsxs(\"p\", {\n      children: [\"Use the following HTML snippet to embed your form with \", jsx(\"a\", {\n        href: \"https://github.com/bpmn-io/form-js\",\n        children: \"form-js\"\n      }), \":\"]\n    }), jsx(\"textarea\", {\n      spellCheck: \"false\",\n      ref: fieldRef,\n      children: snippet\n    })]\n  });\n}\n\n// helpers ///////////\n\nfunction serializeValue(obj) {\n  return JSON.stringify(JSON.stringify(obj)).replace(/</g, '&lt;').replace(/>/g, '&gt;');\n}\n\n/**\n * @type {Facet<import('..').Variables>} Variables\n */\nconst variablesFacet = Facet.define();\n\nfunction autocompletionExtension() {\n  return [autocompletion({\n    override: [completions]\n  })];\n}\n\n/**\n * @param {import('@codemirror/autocomplete').CompletionContext} context\n */\nfunction completions(context) {\n  const variables = context.state.facet(variablesFacet)[0];\n  /** @type {import('@codemirror/autocomplete').Completion[]} */\n  const objectOptions = variables.map(label => ({\n    displayLabel: `\"${label}\"`,\n    label: `\"${label}\": `,\n    type: 'variable',\n    apply: (view, completion, from, to) => {\n      const doc = view.state.doc;\n      const beforeChar = doc.sliceString(from - 1, from);\n      const line = doc.lineAt(from);\n      const indentation = /^\\s*/.exec(line.text)[0];\n      const baseInsert = completion.label;\n      if (beforeChar === '{') {\n        const insert = `\\n  ${indentation}${baseInsert},\\n`;\n        view.dispatch({\n          changes: {\n            from,\n            to,\n            insert\n          },\n          selection: {\n            anchor: from + insert.length - 2\n          }\n        });\n      } else if (beforeChar === ',') {\n        const insert = `\\n${indentation}${baseInsert},`;\n        view.dispatch({\n          changes: {\n            from,\n            to,\n            insert\n          },\n          selection: {\n            anchor: from + insert.length - 1\n          }\n        });\n      } else {\n        const insert = `${baseInsert},`;\n        view.dispatch({\n          changes: {\n            from,\n            to,\n            insert\n          },\n          selection: {\n            anchor: from + insert.length - 1\n          }\n        });\n      }\n    }\n  }));\n  /** @type {import('@codemirror/autocomplete').Completion[]} */\n  const propertyNameOptions = variables.map(label => ({\n    label,\n    type: 'variable'\n  }));\n  /** @type {import('@codemirror/autocomplete').Completion[]} */\n  const propertyValueOptions = [{\n    label: 'true',\n    type: 'constant keyword',\n    boost: 3\n  }, {\n    label: 'false',\n    type: 'constant keyword',\n    boost: 2\n  }, {\n    label: 'null',\n    type: 'constant keyword',\n    boost: 1\n  }, {\n    displayLabel: '[ .. ]',\n    label: '[  ]',\n    apply: (view, completion, from, to) => {\n      view.dispatch({\n        changes: {\n          from,\n          to,\n          insert: completion.label\n        },\n        selection: {\n          anchor: from + 2\n        }\n      });\n    }\n  }, {\n    displayLabel: '{ .. }',\n    label: '{  }',\n    apply: (view, completion, from, to) => {\n      view.dispatch({\n        changes: {\n          from,\n          to,\n          insert: completion.label\n        },\n        selection: {\n          anchor: from + 2\n        }\n      });\n    }\n  }];\n  let finalOptions = [];\n  let nodeBefore = syntaxTree(context.state).resolve(context.pos, -1);\n  let word = context.matchBefore(/\\w*/);\n  if (['Object', '{'].includes(nodeBefore.type.name)) {\n    finalOptions = objectOptions;\n  }\n  if (nodeBefore.type.name === 'PropertyName') {\n    context.explicit = true;\n    finalOptions = propertyNameOptions;\n  }\n  if (['Property', '[', 'Array'].includes(nodeBefore.type.name)) {\n    finalOptions = propertyValueOptions;\n  }\n  if (word.from == word.to && !context.explicit) {\n    return null;\n  }\n  return {\n    from: word.from,\n    options: finalOptions\n  };\n}\n\nconst NO_LINT_CLS = 'fjs-cm-no-lint';\n\n/**\n * @param {object} options\n * @param {boolean} [options.readonly]\n * @param {object} [options.contentAttributes]\n * @param {string | HTMLElement} [options.placeholder]\n */\nfunction JSONEditor(options = {}) {\n  const {\n    contentAttributes = {},\n    placeholder: editorPlaceholder,\n    readonly = false\n  } = options;\n  const emitter = mitt();\n  const languageCompartment = new Compartment().of(json());\n  const tabSizeCompartment = new Compartment().of(EditorState.tabSize.of(2));\n  const autocompletionConfCompartment = new Compartment();\n  const placeholderLinterExtension = createPlaceholderLinterExtension();\n  let container = null;\n  function createState(doc, variables = []) {\n    const extensions = [basicSetup, languageCompartment, tabSizeCompartment, lintGutter(), linter(jsonParseLinter()), placeholderLinterExtension, autocompletionConfCompartment.of(variablesFacet.of(variables)), autocompletionExtension(), keymap.of([indentWithTab]), editorPlaceholder ? placeholder(editorPlaceholder) : [], EditorState.readOnly.of(readonly), EditorView.updateListener.of(update => {\n      if (update.docChanged) {\n        emitter.emit('changed', {\n          value: update.state.doc.toString()\n        });\n      }\n    }), EditorView.contentAttributes.of(contentAttributes)];\n    return EditorState.create({\n      doc,\n      extensions\n    });\n  }\n  const view = new EditorView({\n    state: createState('')\n  });\n  this.setValue = function (newValue) {\n    const oldValue = view.state.doc.toString();\n    const diff = findDiff(oldValue, newValue);\n    if (diff) {\n      view.dispatch({\n        changes: {\n          from: diff.start,\n          to: diff.end,\n          insert: diff.text\n        },\n        selection: {\n          anchor: diff.start + diff.text.length\n        }\n      });\n    }\n  };\n  this.getValue = function () {\n    return view.state.doc.toString();\n  };\n  this.setVariables = function (variables) {\n    view.dispatch({\n      effects: autocompletionConfCompartment.reconfigure(variablesFacet.of(variables))\n    });\n  };\n  this.getView = function () {\n    return view;\n  };\n  this.on = emitter.on;\n  this.off = emitter.off;\n  this.emit = emitter.emit;\n  this.attachTo = function (_container) {\n    container = _container;\n    container.appendChild(view.dom);\n    classes(container, document.body).add('fjs-json-editor');\n  };\n  this.destroy = function () {\n    if (container && view.dom) {\n      container.removeChild(view.dom);\n      classes(container, document.body).remove('fjs-json-editor');\n    }\n    view.destroy();\n  };\n  function createPlaceholderLinterExtension() {\n    return linter(view => {\n      const placeholders = view.dom.querySelectorAll('.cm-placeholder');\n      if (placeholders.length > 0) {\n        classes(container, document.body).add(NO_LINT_CLS);\n      } else {\n        classes(container, document.body).remove(NO_LINT_CLS);\n      }\n      return [];\n    });\n  }\n}\nfunction findDiff(oldStr, newStr) {\n  if (oldStr === newStr) {\n    return null;\n  }\n  oldStr = oldStr || '';\n  newStr = newStr || '';\n  let minLength = Math.min(oldStr.length, newStr.length);\n  let start = 0;\n  while (start < minLength && oldStr[start] === newStr[start]) {\n    start++;\n  }\n  if (start === minLength) {\n    return {\n      start: start,\n      text: newStr.slice(start),\n      end: oldStr.length\n    };\n  }\n  let endOld = oldStr.length;\n  let endNew = newStr.length;\n  while (endOld > start && endNew > start && oldStr[endOld - 1] === newStr[endNew - 1]) {\n    endOld--;\n    endNew--;\n  }\n  return {\n    start: start,\n    text: newStr.slice(start, endNew),\n    end: endOld\n  };\n}\n\nfunction Section(props) {\n  const elements = Array.isArray(props.children) ? props.children : [props.children];\n  const {\n    headerItems,\n    children\n  } = elements.reduce((_, child) => {\n    const bucket = child.type === Section.HeaderItem ? _.headerItems : _.children;\n    bucket.push(child);\n    return _;\n  }, {\n    headerItems: [],\n    children: []\n  });\n  return jsxs(\"div\", {\n    class: \"fjs-pgl-section\",\n    children: [jsxs(\"h1\", {\n      class: \"header\",\n      children: [props.name, \" \", headerItems.length ? jsx(\"span\", {\n        class: \"header-items\",\n        children: headerItems\n      }) : null]\n    }), jsx(\"div\", {\n      class: \"body\",\n      children: children\n    })]\n  });\n}\nSection.HeaderItem = function (props) {\n  return props.children;\n};\n\nfunction PlaygroundRoot(config) {\n  const {\n    additionalModules,\n    // goes into both editor + viewer\n    actions: actionsConfig,\n    emit,\n    exporter: exporterConfig,\n    viewerProperties,\n    editorProperties,\n    viewerAdditionalModules,\n    editorAdditionalModules,\n    propertiesPanel: propertiesPanelConfig,\n    apiLinkTarget,\n    onInit\n  } = config;\n  const {\n    display: displayActions = true\n  } = actionsConfig || {};\n  const editorContainerRef = useRef();\n  const paletteContainerRef = useRef();\n  const propertiesPanelContainerRef = useRef();\n  const viewerContainerRef = useRef();\n  const inputDataContainerRef = useRef();\n  const outputDataContainerRef = useRef();\n  const formEditorRef = useRef();\n  const formViewerRef = useRef();\n  const inputDataRef = useRef();\n  const outputDataRef = useRef();\n  const [showEmbed, setShowEmbed] = useState(false);\n  const [schema, setSchema] = useState();\n  const [data, setData] = useState();\n  const load = useCallback((schema, data) => {\n    formEditorRef.current.importSchema(schema, data);\n    inputDataRef.current.setValue(toString(data));\n    setSchema(schema);\n    setData(data);\n  }, []);\n\n  // initialize and link the editors\n  useEffect(() => {\n    const inputDataEditor = inputDataRef.current = new JSONEditor({\n      contentAttributes: {\n        'aria-label': 'Form Input',\n        tabIndex: 0\n      },\n      placeholder: createDataEditorPlaceholder()\n    });\n    const outputDataEditor = outputDataRef.current = new JSONEditor({\n      readonly: true,\n      contentAttributes: {\n        'aria-label': 'Form Output',\n        tabIndex: 0\n      }\n    });\n    const formViewer = formViewerRef.current = new Form({\n      container: viewerContainerRef.current,\n      additionalModules: [...(additionalModules || []), ...(viewerAdditionalModules || [])],\n      properties: {\n        ...(viewerProperties || {}),\n        ariaLabel: 'Form Preview'\n      }\n    });\n    const formEditor = formEditorRef.current = new FormEditor({\n      container: editorContainerRef.current,\n      renderer: {\n        compact: true\n      },\n      palette: {\n        parent: paletteContainerRef.current\n      },\n      propertiesPanel: {\n        parent: propertiesPanelContainerRef.current,\n        ...(propertiesPanelConfig || {})\n      },\n      exporter: exporterConfig,\n      properties: {\n        ...(editorProperties || {}),\n        ariaLabel: 'Form Definition'\n      },\n      additionalModules: [...(additionalModules || []), ...(editorAdditionalModules || [])]\n    });\n    formEditor.on('formField.add', ({\n      formField\n    }) => {\n      const formFields = formEditor.get('formFields');\n      const {\n        config\n      } = formFields.get(formField.type);\n      const {\n        generateInitialDemoData\n      } = config;\n      const {\n        id\n      } = formField;\n      if (!isFunction(generateInitialDemoData)) {\n        return;\n      }\n      const initialDemoData = generateInitialDemoData(formField);\n      if ([initialDemoData, id].includes(undefined)) {\n        return;\n      }\n      setData(currentData => {\n        const newData = {\n          ...currentData,\n          [id]: initialDemoData\n        };\n        inputDataRef.current.setValue(toString(newData));\n        return newData;\n      });\n    });\n    formEditor.on('changed', () => {\n      setSchema(formEditor.getSchema());\n    });\n    formEditor.on('formEditor.rendered', () => {\n      // notify interested parties after render\n      emit('formPlayground.rendered');\n    });\n    const updateOutputData = () => {\n      const submitData = formViewer._getSubmitData();\n      outputDataEditor.setValue(toString(submitData));\n    };\n\n    // pipe viewer changes to output data editor\n    formViewer.on('changed', updateOutputData);\n    formViewer.on('formFieldInstance.added', updateOutputData);\n    formViewer.on('formFieldInstance.removed', updateOutputData);\n    inputDataEditor.on('changed', event => {\n      try {\n        setData(JSON.parse(event.value));\n      } catch (error) {\n        // notify interested about input data error\n        emit('formPlayground.inputDataError', error);\n      }\n    });\n    inputDataEditor.attachTo(inputDataContainerRef.current);\n    outputDataEditor.attachTo(outputDataContainerRef.current);\n    return () => {\n      inputDataEditor.destroy();\n      outputDataEditor.destroy();\n      formViewer.destroy();\n      formEditor.destroy();\n    };\n  }, [additionalModules, editorAdditionalModules, editorProperties, emit, exporterConfig, propertiesPanelConfig, viewerAdditionalModules, viewerProperties]);\n\n  // initialize data through props\n  useEffect(() => {\n    if (!config.initialSchema) {\n      return;\n    }\n    load(config.initialSchema, config.initialData || {});\n  }, [config.initialSchema, config.initialData, load]);\n  useEffect(() => {\n    schema && formViewerRef.current.importSchema(schema, data);\n  }, [schema, data]);\n  useEffect(() => {\n    if (schema && inputDataContainerRef.current) {\n      const variables = getSchemaVariables(schema);\n      inputDataRef.current.setVariables(variables);\n    }\n  }, [schema]);\n\n  // exposes api to parent\n  useEffect(() => {\n    if (!apiLinkTarget) {\n      return;\n    }\n    apiLinkTarget.api = {\n      attachDataContainer: node => inputDataRef.current.attachTo(node),\n      attachResultContainer: node => outputDataRef.current.attachTo(node),\n      attachFormContainer: node => formViewerRef.current.attachTo(node),\n      attachEditorContainer: node => formEditorRef.current.attachTo(node),\n      attachPaletteContainer: node => formEditorRef.current.get('palette').attachTo(node),\n      attachPropertiesPanelContainer: node => formEditorRef.current.get('propertiesPanel').attachTo(node),\n      get: (name, strict) => formEditorRef.current.get(name, strict),\n      getDataEditor: () => inputDataRef.current,\n      getEditor: () => formEditorRef.current,\n      getForm: () => formViewerRef.current,\n      getResultView: () => outputDataRef.current,\n      getSchema: () => formEditorRef.current.getSchema(),\n      saveSchema: () => formEditorRef.current.saveSchema(),\n      setSchema: setSchema,\n      setData: setData\n    };\n    onInit();\n  }, [apiLinkTarget, onInit]);\n\n  // separate effect for state to avoid re-creating the api object every time\n  useEffect(() => {\n    if (!apiLinkTarget) {\n      return;\n    }\n    apiLinkTarget.api.getState = () => ({\n      schema,\n      data\n    });\n    apiLinkTarget.api.load = load;\n  }, [apiLinkTarget, schema, data, load]);\n  const handleDownload = useCallback(() => {\n    download(JSON.stringify(schema, null, '  '), 'form.json', 'text/json');\n  }, [schema]);\n  const hideEmbedModal = useCallback(() => {\n    setShowEmbed(false);\n  }, []);\n  const showEmbedModal = useCallback(() => {\n    setShowEmbed(true);\n  }, []);\n  return jsxs(\"div\", {\n    class: classNames('fjs-container', 'fjs-pgl-root'),\n    children: [jsx(\"div\", {\n      class: \"fjs-pgl-modals\",\n      children: showEmbed ? jsx(EmbedModal, {\n        schema: schema,\n        data: data,\n        onClose: hideEmbedModal\n      }) : null\n    }), jsx(\"div\", {\n      class: \"fjs-pgl-palette-container\",\n      ref: paletteContainerRef\n    }), jsxs(\"div\", {\n      class: \"fjs-pgl-main\",\n      children: [jsxs(Section, {\n        name: \"Form Definition\",\n        children: [displayActions && jsx(Section.HeaderItem, {\n          children: jsx(\"button\", {\n            type: \"button\",\n            class: \"fjs-pgl-button\",\n            title: \"Download form definition\",\n            onClick: handleDownload,\n            children: \"Download\"\n          })\n        }), displayActions && jsx(Section.HeaderItem, {\n          children: jsx(\"button\", {\n            type: \"button\",\n            class: \"fjs-pgl-button\",\n            onClick: showEmbedModal,\n            children: \"Embed\"\n          })\n        }), jsx(\"div\", {\n          ref: editorContainerRef,\n          class: \"fjs-pgl-form-container\"\n        })]\n      }), jsx(Section, {\n        name: \"Form Preview\",\n        children: jsx(\"div\", {\n          ref: viewerContainerRef,\n          class: \"fjs-pgl-form-container\"\n        })\n      }), jsx(Section, {\n        name: \"Form Input\",\n        children: jsx(\"div\", {\n          ref: inputDataContainerRef,\n          class: \"fjs-pgl-text-container\"\n        })\n      }), jsx(Section, {\n        name: \"Form Output\",\n        children: jsx(\"div\", {\n          ref: outputDataContainerRef,\n          class: \"fjs-pgl-text-container\"\n        })\n      })]\n    }), jsx(\"div\", {\n      class: \"fjs-pgl-properties-container\",\n      ref: propertiesPanelContainerRef\n    })]\n  });\n}\n\n// helpers ///////////////\n\nfunction toString(obj) {\n  return JSON.stringify(obj, null, '  ');\n}\nfunction createDataEditorPlaceholder() {\n  const element = document.createElement('p');\n  element.innerHTML = 'Use this panel to simulate the form input, such as process variables.\\nThis helps to test the form by populating the preview.\\n\\n' + 'Follow the JSON format like this:\\n\\n' + '{\\n  \"variable\": \"value\"\\n}';\n  return element;\n}\n\nfunction Playground(options) {\n  const {\n    container: parent,\n    schema: initialSchema,\n    data: initialData,\n    ...rest\n  } = options;\n  const emitter = mitt();\n  const container = document.createElement('div');\n  container.classList.add('fjs-pgl-parent');\n  if (parent) {\n    parent.appendChild(container);\n  }\n  const handleDrop = fileDrop('Drop a form file', function (files) {\n    const file = files[0];\n    if (file) {\n      try {\n        this.api.setSchema(JSON.parse(file.contents));\n      } catch (err) {\n        // TODO(nikku): indicate JSON parse error\n      }\n    }\n  });\n  const safe = function (fn) {\n    return function (...args) {\n      if (!this.api) {\n        throw new Error('Playground is not initialized.');\n      }\n      return fn(...args);\n    };\n  };\n  const onInit = function () {\n    emitter.emit('formPlayground.init');\n  };\n  container.addEventListener('dragover', handleDrop);\n  render(jsx(PlaygroundRoot, {\n    initialSchema: initialSchema,\n    initialData: initialData,\n    emit: emitter.emit,\n    apiLinkTarget: this,\n    onInit: onInit,\n    ...rest\n  }), container);\n  this.on = emitter.on;\n  this.off = emitter.off;\n  this.emit = emitter.emit;\n  this.on('destroy', () => {\n    render(null, container);\n    parent.removeChild(container);\n  });\n  this.destroy = () => this.emit('destroy');\n  this.getState = safe(() => this.api.getState());\n  this.getSchema = safe(() => this.api.getSchema());\n  this.setSchema = safe(schema => this.api.setSchema(schema));\n  this.saveSchema = safe(() => this.api.saveSchema());\n  this.get = safe((name, strict) => this.api.get(name, strict));\n  this.getDataEditor = safe(() => this.api.getDataEditor());\n  this.getEditor = safe(() => this.api.getEditor());\n  this.getForm = safe((name, strict) => this.api.getForm(name, strict));\n  this.getResultView = safe(() => this.api.getResultView());\n  this.attachEditorContainer = safe(node => this.api.attachEditorContainer(node));\n  this.attachPreviewContainer = safe(node => this.api.attachFormContainer(node));\n  this.attachDataContainer = safe(node => this.api.attachDataContainer(node));\n  this.attachResultContainer = safe(node => this.api.attachResultContainer(node));\n  this.attachPaletteContainer = safe(node => this.api.attachPaletteContainer(node));\n  this.attachPropertiesPanelContainer = safe(node => this.api.attachPropertiesPanelContainer(node));\n}\n\nexport { Playground };\n//# sourceMappingURL=index.es.js.map\n","import { html, createContext, useRef, useEffect, useState, render } from 'diagram-js/lib/ui';\nimport { domify, query } from 'min-dom';\nimport mitt from 'mitt';\nimport { get, assign, isArray, set } from 'min-dash';\nimport classNames from 'classnames';\nimport { FormPlayground, DocumentPreview, Checklist } from '@bpmn-io/form-js';\n\nconst noop = () => {};\n\n\nfunction CollapsiblePanel(props) {\n  const {\n    children,\n    collapseTo,\n    idx,\n    onToggle,\n    open,\n    title\n  } = props;\n\n  const toggle = (event) => {\n    event.stopPropagation();\n    onToggle(open);\n  };\n\n  return html`\n    <div \n      data-idx=\"${ idx }\" \n      class=\"${classNames('cfp-collapsible-panel', { open: !collapseTo || open })}\"\n    >\n      <div onClick=\"${ collapseTo ? toggle : noop }\" class=\"cfp-collapsible-panel-title\">\n        <h1>${ title }</h1>\n\n        ${ collapseTo && html`\n          <div class=\"cfp-collapsible-panel-actions\">\n            <button \n              title=\"${ open ? 'Close' : 'Open' } ${ title }\"\n              class=\"cfp-collapsible-panel-action\" \n              onClick=\"${ toggle }\"\n            >\n              ${getIcon(collapseTo, open)}\n            </button>\n          </div>\n        `}\n      </div>\n\n      <div class=\"cfp-collapsible-panel-content\">\n        ${ children }\n      </div>\n    </div>\n  `;\n}\n\n\n// helper ////////////////\n\nfunction getIcon(collapseTo, open) {\n  if (collapseTo === 'right') {\n    return open\n      ? html`<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\">\n        <path fill-rule=\"evenodd\" d=\"M4.41421356,12.9494942 L3,11.5352806 L6.53553391,7.99974671 L3,4.4642128 L4.41421356,3.04999924 L9.36396103,7.99974671 L4.41421356,12.9494942 Z M9.91421356,3 L11.9142136,3 L11.9142136,13 L9.91421356,13 L9.91421356,3 Z\"/>\n      </svg>`\n      : html`<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\">\n        <path fill-rule=\"evenodd\" d=\"M11.5,12.9494942 L6.55025253,7.99974671 L11.5,3.04999924 L12.9142136,4.4642128 L9.37867966,7.99974671 L12.9142136,11.5352806 L11.5,12.9494942 Z M6,3 L6,13 L4,13 L4,3 L6,3 Z\"/>\n      </svg>`;\n  }\n\n  if (collapseTo === 'bottom') {\n    return open\n      ? html`<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\">\n        <path fill-rule=\"evenodd\" d=\"M12.9494942,4.41421356 L7.99974671,9.36396103 L3.04999924,4.41421356 L4.4642128,3 L7.99974671,6.53553391 L11.5352806,3 L12.9494942,4.41421356 Z M3,9.91421356 L13,9.91421356 L13,11.9142136 L3,11.9142136 L3,9.91421356 Z\"/>\n      </svg>`\n      : html`<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\">\n        <path fill-rule=\"evenodd\" d=\"M12.9494942,11.5 L11.5352806,12.9142136 L7.99974671,9.37867966 L4.4642128,12.9142136 L3.04999924,11.5 L7.99974671,6.55025253 L12.9494942,11.5 Z M3,6 L3,4 L13,4 L13,6 L3,6 Z\"/>\n      </svg>`;\n  }\n}\n\nfunction CollapsedPreview(props) {\n\n  const {\n    idx,\n    onTogglePreview,\n    previewContainerRef,\n    open\n  } = props;\n\n  const onToggle = () => {\n    onTogglePreview();\n  };\n\n  return html`\n    <div class=\"${classNames(\n    'cfp-collapsed-preview',\n    { visible: !open })}\">\n      <div class=\"cfp-collapsed-preview-title\" onClick=${ onToggle }>\n        <h1>Form Preview</h1>\n      </div>\n      <div class=\"cfp-collapsed-preview-actions\">\n        <button title=\"Open Form Preview\" class=\"cfp-collapsed-preview-action\" onClick=${ onToggle }>\n          <svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\">\n            <path fill-rule=\"evenodd\" d=\"M11.5,12.9494942 L6.55025253,7.99974671 L11.5,3.04999924 L12.9142136,4.4642128 L9.37867966,7.99974671 L12.9142136,11.5352806 L11.5,12.9494942 Z M6,3 L6,13 L4,13 L4,3 L6,3 Z\"/>\n          </svg>    \n        </button>\n      </div>\n    </div>\n\n    <!-- This is not visible when preview not open -->\n    <${CollapsiblePanel} idx=\"${ idx }\" open=${open} onToggle=${ onToggle } title=\"Form Preview\" collapseTo=\"right\">\n      <div class=\"cfp-preview-container\" ref=${ previewContainerRef }></div>\n    </${CollapsiblePanel}>`;\n}\n\nconst LayoutContext = createContext({\n  layout: {},\n  setLayout: () => {},\n  getLayoutForKey: () => {},\n  setLayoutForKey: () => {}\n});\n\nconst DEFAULT_LAYOUT = {};\n\nconst FORM_DEFINITION_IDX = 'form-definition';\nconst FORM_PREVIEW_IDX = 'form-preview';\nconst FORM_INPUT_IDX = 'form-input';\nconst FORM_OUTPUT_IDX = 'form-output';\n\nconst TOGGLABLE_CONTAINERS = [\n  FORM_PREVIEW_IDX,\n  FORM_INPUT_IDX,\n  FORM_OUTPUT_IDX\n];\n\nconst PIPE_EVENTS = [\n  'formPlayground.init',\n  'formPlayground.rendered'\n];\n\n\nfunction PlaygroundComponent(props) {\n\n  const {\n    data,\n    emitter,\n    layoutConfig = {},\n    onInit,\n    schema,\n    ...restProps\n  } = props;\n\n  let playgroundRef = useRef(null);\n\n  const paletteContainerRef = useRef(null);\n  const editorContainerRef = useRef(null);\n  const dataContainerRef = useRef(null);\n  const previewContainerRef = useRef(null);\n  const resultContainerRef = useRef(null);\n  const propertiesContainerRef = useRef(null);\n\n  const rootRef = useRef(null);\n\n  // (1) initialize playground orchestrator\n  useEffect(() => {\n    playgroundRef.current = new FormPlayground({\n      data,\n      schema,\n      editor: { inlinePropertiesPanel: false },\n      propertiesPanel: {\n        feelPopupContainer: rootRef.current,\n        getDocumentationRef\n      },\n      ...restProps\n    });\n  }, []);\n\n  // (1.1) pipe playground API\n  useEffect(() => {\n    playgroundRef.current.on('formPlayground.init', () => {\n      onInit({\n        ...playgroundRef.current,\n        collapse: this.collapse,\n        open: this.open,\n\n        // @pinussilvestrus: this is added for testing purposes\n        _ref: playgroundRef.current\n      });\n    });\n  }, []);\n\n  // (1.2) pipe core playground events\n  useEffect(() => {\n    const emit = (type, e) => {\n      return emitter.emit(type, e);\n    };\n\n    PIPE_EVENTS.forEach(type => {\n      playgroundRef.current.on(type, event => emit(type, event));\n    });\n\n    return () => {\n      PIPE_EVENTS.forEach(type => {\n        playgroundRef.current.off(type, event => emit(type, event));\n      });\n    };\n  }, [ playgroundRef ]);\n\n  // (2) set-up layout context\n  const [ layout, setLayout ] = useState(createLayout(layoutConfig));\n\n  const getLayoutForKey = (key, defaultValue) => {\n    return get(layout, key, defaultValue);\n  };\n\n  const setLayoutForKey = (key, config) => {\n    const newLayout = assign({}, layout);\n    set(newLayout, key, config);\n    setLayout(newLayout);\n  };\n\n  const layoutContext = {\n    layout,\n    setLayout,\n    getLayoutForKey,\n    setLayoutForKey\n  };\n\n  const inputOpen = getLayoutForKey([ FORM_INPUT_IDX, 'open' ], false);\n  const toggleInput = () => {\n    inputOpen ? this.collapse([ FORM_INPUT_IDX ]) : this.open([ FORM_INPUT_IDX ]);\n  };\n\n  const outputOpen = getLayoutForKey([ FORM_OUTPUT_IDX, 'open' ], false);\n  const toggleOutput = () => {\n    outputOpen ? this.collapse([ FORM_OUTPUT_IDX ]) : this.open([ FORM_OUTPUT_IDX ]);\n  };\n\n  const previewOpen = getLayoutForKey([ FORM_PREVIEW_IDX, 'open' ], false);\n  const togglePreview = () => {\n    previewOpen ? this.collapse() : this.open();\n  };\n\n  const setContainersLayout = (containers, open) => {\n    let newLayout = assign({}, layout);\n\n    if (!containers) {\n      containers = TOGGLABLE_CONTAINERS;\n    }\n\n    if (!isArray(containers)) {\n      containers = [ containers ];\n    }\n\n    containers.map(idx => {\n      set(newLayout, [ idx, 'open' ], open);\n    });\n\n    setLayout(newLayout);\n  };\n\n  // (2.1) notify interested parties on layout changes\n  useEffect(() => {\n    emitter.emit('formPlayground.layoutChanged', { layout });\n  }, [ emitter, layout ]);\n\n  // (3) attach all component containers\n  useEffect(() => {\n    const playground = playgroundRef.current;\n\n    function attachComponents() {\n      playground.attachPaletteContainer(paletteContainerRef.current);\n      playground.attachEditorContainer(editorContainerRef.current);\n      playground.attachDataContainer(dataContainerRef.current);\n      playground.attachPreviewContainer(previewContainerRef.current);\n      playground.attachResultContainer(resultContainerRef.current);\n      playground.attachPropertiesPanelContainer(propertiesContainerRef.current);\n    }\n\n    playground.on('formPlayground.rendered', attachComponents);\n\n    return () => playground.off('formPlayground.rendered', attachComponents);\n  }, []);\n\n  // (4) provide toggle API\n\n  /**\n   * @param {string|Array<string>} [containers]\n   */\n  this.open = function(containers) {\n    setContainersLayout(containers, true);\n  };\n\n  /**\n   * @param {string|Array<string>} [containers]\n   */\n  this.collapse = function(containers) {\n    return setContainersLayout(containers, false);\n  };\n\n  // (5) listen on dragging events to provide drop feedback\n  useEffect(() => {\n\n    const bindDropTargetListeners = () => {\n      const editor = playgroundRef.current.getEditor();\n      editor.on('drag.hover', function(event) {\n\n        const { container } = event;\n\n        if (\n          container.classList.contains('fjs-drop-container-horizontal') ||\n          container.classList.contains('fjs-drop-container-vertical')\n        ) {\n          rootRef.current && rootRef.current.classList.add('cfp-dragging');\n        }\n      });\n\n      editor.on('drag.out', function(event) {\n        rootRef.current && rootRef.current.classList.remove('cfp-dragging');\n      });\n    };\n\n    const playground = playgroundRef.current;\n\n    if (playground) {\n      playground.on('formPlayground.rendered', bindDropTargetListeners);\n    }\n\n    return () => {\n      if (playground) {\n        playground.off('formPlayground.rendered', bindDropTargetListeners);\n      }\n    };\n  });\n\n  // (6) render\n  return html`\n    <${LayoutContext.Provider} value=${ layoutContext }>\n    <div ref=${rootRef} class=\"${classNames('cfp-root', { 'cfp-open-preview': previewOpen })}\">\n      <div class=\"cfp-palette\" ref=${ paletteContainerRef }></div>\n      <div class=\"cfp-left\">\n        <${CollapsiblePanel} idx=\"${ FORM_DEFINITION_IDX }\" title=\"Form Definition\">\n          <div class=\"cfp-editor-container\" ref=${ editorContainerRef }></div>\n        </${CollapsiblePanel}>\n        <${CollapsiblePanel} open=${inputOpen} idx=\"${ FORM_INPUT_IDX }\" title=\"Form Input\" collapseTo=\"bottom\" onToggle=${toggleInput}>\n          <div class=\"cfp-data-container\" ref=${ dataContainerRef }></div>\n        </${CollapsiblePanel}>\n      </div>\n      <div class=\"cfp-right\">\n        <${CollapsedPreview} \n          idx=${ FORM_PREVIEW_IDX }\n          open=${ previewOpen }\n          previewContainerRef=${ previewContainerRef }\n          onTogglePreview=\"${ togglePreview }\" \n        />\n        <${CollapsiblePanel} open=${outputOpen} idx=\"${ FORM_OUTPUT_IDX }\" title=\"Form Output\" collapseTo=\"bottom\" onToggle=${toggleOutput}>\n          <div class=\"cfp-result-container\" ref=${ resultContainerRef }></div>\n        </${CollapsiblePanel}>\n      </div>\n      <div class=\"cfp-properties\" ref=${ propertiesContainerRef }></div>\n    </div>\n    </${LayoutContext.Provider}>\n  `;\n}\n\n\n// helper ///////////////\n\nfunction createLayout(overrides) {\n  return {\n    ...DEFAULT_LAYOUT,\n    ...overrides\n  };\n}\n\nfunction getDocumentationRef(field) {\n\n  if (!field) {\n    return;\n  }\n\n  if (field.type === 'default') {\n    return 'https://docs.camunda.io/docs/components/modeler/forms/camunda-forms-reference/';\n  }\n\n  const typeToDocsMap = {\n    [Checklist.config.type]: 'checkbox-group',\n    [DocumentPreview.config.type]: 'document-preview'\n  };\n\n  return `https://docs.camunda.io/docs/components/modeler/forms/form-element-library/forms-element-library-${typeToDocsMap[field.type] || field.type}/`;\n}\n\n/**\n * @typedef { import('@bpmn-io/form-js-viewer').FormProperties } FormProperties\n * @typedef { import('@bpmn-io/form-js-editor').FormEditorProperties } FormEditorProperties\n *\n * @typedef { {\n *  container?: Element,\n *  data: any,\n *  editorAdditionalModules?: Array<any>,\n *  editorProperties?: FormEditorProperties\n *  exporter?: { name: string, version: string },\n *  layout?: any,\n *  propertiesPanel?: { parent: Element, feelPopupContainer: Element },\n *  schema: any,\n *  viewerAdditionalModules?: Array<any>,\n *  viewerProperties?: FormProperties,\n * } } CamundaFormPlaygroundOptions\n */\n\n/**\n * @param {CamundaFormPlaygroundOptions} options\n */\nfunction CamundaFormPlayground(options) {\n\n  const {\n    container: parent,\n    data,\n    schema,\n    layout: layoutConfig,\n    ...restProps\n  } = options;\n\n  const emitter = mitt();\n\n  const safeRef = function(fn) {\n    return function(...args) {\n      if (!playgroundRef) {\n        throw new Error('Camunda Form Playground is not initialized.');\n      }\n\n      return fn(...args);\n    };\n  };\n\n  const container = this._container = domify('<div class=\"cfp-container\"></div>');\n\n  let playgroundRef;\n\n  if (parent) {\n    parent.appendChild(container);\n  }\n\n\n  // API //////////\n\n  this.on = emitter.on;\n  this.off = emitter.off;\n  this.fire = emitter.emit;\n\n  // added due to current limitation of <mitt.once>\n  // cf. https://github.com/developit/mitt/issues/136\n  this.once = function(type, fn) {\n    emitter.on(type, fn);\n    emitter.on(type, emitter.off.bind(emitter, type, fn));\n  };\n\n  this.destroy = function() {\n    const parent = container.parentNode;\n    render(null, container);\n    parent && parent.removeChild(container);\n  };\n\n  /**\n   * @param {HTMLElement} parent\n   */\n  this.attachTo = function(parent) {\n    if (!parent) {\n      throw new Error('parent required');\n    }\n\n    if (typeof parent === 'string') {\n      parent = query(parent);\n    }\n\n    this.detach();\n    parent.appendChild(this._container);\n  };\n\n  this.detach = function() {\n    const parentNode = container.parentNode;\n\n    if (parentNode) {\n      parentNode.removeChild(container);\n    }\n  };\n\n  this.get = safeRef((module, strict) => playgroundRef.get(module, strict));\n\n  /**\n   * @param {string|Array<string>} [containers]\n   */\n  this.open = safeRef((containers) => playgroundRef.open(containers));\n\n  /**\n   * @param {string|Array<string>} [containers]\n   */\n  this.collapse = safeRef((containers) => playgroundRef.collapse(containers));\n\n  this.setSchema = safeRef((schema) => playgroundRef.setSchema(schema));\n\n  this.getSchema = safeRef(() => playgroundRef.getSchema());\n\n  this.saveSchema = safeRef(() => playgroundRef.saveSchema());\n\n  this.getDataEditor = safeRef(() => playgroundRef.getDataEditor());\n\n  this.getEditor = safeRef(() => playgroundRef.getEditor());\n\n  this.getForm = safeRef((name, strict) => playgroundRef.getForm(name, strict));\n\n  this.getResultView = safeRef(() => playgroundRef.getResultView());\n\n  this._onInit = function(_ref) {\n    playgroundRef = _ref;\n  };\n\n  render(html`\n    <${PlaygroundComponent}\n      data=${ data }\n      emitter=${ emitter }\n      layoutConfig=${ layoutConfig }\n      onInit=${ this._onInit }\n      schema=${ schema }\n      ...${ restProps }\n    />\n  `, container\n  );\n}\n\n/**\n * @param {CamundaFormPlaygroundOptions} options\n *\n * @return {CamundaFormPlayground}\n */\nasync function createCamundaFormPlayground(options) {\n  const playground = new CamundaFormPlayground(options);\n\n  return new Promise((resolve, reject) => {\n\n    const onInit = () => {\n      return resolve(playground);\n    };\n\n    try {\n      playground.once('formPlayground.init', onInit);\n    } catch (err) {\n      return reject(err);\n    }\n  });\n}\n\nexport { CamundaFormPlayground, createCamundaFormPlayground };\n//# sourceMappingURL=index.es.js.map\n","//download.js v4.2, by dandavis; 2008-2016. [MIT] see http://danml.com/download.html for tests/usage\n// v1 landed a FF+Chrome compat way of downloading strings to local un-named files, upgraded to use a hidden frame and optional mime\n// v2 added named files via a[download], msSaveBlob, IE (10+) support, and window.URL support for larger+faster saves than dataURLs\n// v3 added dataURL and Blob Input, bind-toggle arity, and legacy dataURL fallback was improved with force-download mime and base64 support. 3.1 improved safari handling.\n// v4 adds AMD/UMD, commonJS, and plain browser support\n// v4.1 adds url download capability via solo URL argument (same domain/CORS only)\n// v4.2 adds semantic variable names, long (over 2MB) dataURL support, and hidden by default temp anchors\n// https://github.com/rndme/download\n\n(function (root, factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine([], factory);\n\t} else if (typeof exports === 'object') {\n\t\t// Node. Does not work with strict CommonJS, but\n\t\t// only CommonJS-like environments that support module.exports,\n\t\t// like Node.\n\t\tmodule.exports = factory();\n\t} else {\n\t\t// Browser globals (root is window)\n\t\troot.download = factory();\n  }\n}(this, function () {\n\n\treturn function download(data, strFileName, strMimeType) {\n\n\t\tvar self = window, // this script is only for browsers anyway...\n\t\t\tdefaultMime = \"application/octet-stream\", // this default mime also triggers iframe downloads\n\t\t\tmimeType = strMimeType || defaultMime,\n\t\t\tpayload = data,\n\t\t\turl = !strFileName && !strMimeType && payload,\n\t\t\tanchor = document.createElement(\"a\"),\n\t\t\ttoString = function(a){return String(a);},\n\t\t\tmyBlob = (self.Blob || self.MozBlob || self.WebKitBlob || toString),\n\t\t\tfileName = strFileName || \"download\",\n\t\t\tblob,\n\t\t\treader;\n\t\t\tmyBlob= myBlob.call ? myBlob.bind(self) : Blob ;\n\t  \n\t\tif(String(this)===\"true\"){ //reverse arguments, allowing download.bind(true, \"text/xml\", \"export.xml\") to act as a callback\n\t\t\tpayload=[payload, mimeType];\n\t\t\tmimeType=payload[0];\n\t\t\tpayload=payload[1];\n\t\t}\n\n\n\t\tif(url && url.length< 2048){ // if no filename and no mime, assume a url was passed as the only argument\n\t\t\tfileName = url.split(\"/\").pop().split(\"?\")[0];\n\t\t\tanchor.href = url; // assign href prop to temp anchor\n\t\t  \tif(anchor.href.indexOf(url) !== -1){ // if the browser determines that it's a potentially valid url path:\n        \t\tvar ajax=new XMLHttpRequest();\n        \t\tajax.open( \"GET\", url, true);\n        \t\tajax.responseType = 'blob';\n        \t\tajax.onload= function(e){ \n\t\t\t\t  download(e.target.response, fileName, defaultMime);\n\t\t\t\t};\n        \t\tsetTimeout(function(){ ajax.send();}, 0); // allows setting custom ajax headers using the return:\n\t\t\t    return ajax;\n\t\t\t} // end if valid url?\n\t\t} // end if url?\n\n\n\t\t//go ahead and download dataURLs right away\n\t\tif(/^data:([\\w+-]+\\/[\\w+.-]+)?[,;]/.test(payload)){\n\t\t\n\t\t\tif(payload.length > (1024*1024*1.999) && myBlob !== toString ){\n\t\t\t\tpayload=dataUrlToBlob(payload);\n\t\t\t\tmimeType=payload.type || defaultMime;\n\t\t\t}else{\t\t\t\n\t\t\t\treturn navigator.msSaveBlob ?  // IE10 can't do a[download], only Blobs:\n\t\t\t\t\tnavigator.msSaveBlob(dataUrlToBlob(payload), fileName) :\n\t\t\t\t\tsaver(payload) ; // everyone else can save dataURLs un-processed\n\t\t\t}\n\t\t\t\n\t\t}else{//not data url, is it a string with special needs?\n\t\t\tif(/([\\x80-\\xff])/.test(payload)){\t\t\t  \n\t\t\t\tvar i=0, tempUiArr= new Uint8Array(payload.length), mx=tempUiArr.length;\n\t\t\t\tfor(i;i<mx;++i) tempUiArr[i]= payload.charCodeAt(i);\n\t\t\t \tpayload=new myBlob([tempUiArr], {type: mimeType});\n\t\t\t}\t\t  \n\t\t}\n\t\tblob = payload instanceof myBlob ?\n\t\t\tpayload :\n\t\t\tnew myBlob([payload], {type: mimeType}) ;\n\n\n\t\tfunction dataUrlToBlob(strUrl) {\n\t\t\tvar parts= strUrl.split(/[:;,]/),\n\t\t\ttype= parts[1],\n\t\t\tdecoder= parts[2] == \"base64\" ? atob : decodeURIComponent,\n\t\t\tbinData= decoder( parts.pop() ),\n\t\t\tmx= binData.length,\n\t\t\ti= 0,\n\t\t\tuiArr= new Uint8Array(mx);\n\n\t\t\tfor(i;i<mx;++i) uiArr[i]= binData.charCodeAt(i);\n\n\t\t\treturn new myBlob([uiArr], {type: type});\n\t\t }\n\n\t\tfunction saver(url, winMode){\n\n\t\t\tif ('download' in anchor) { //html5 A[download]\n\t\t\t\tanchor.href = url;\n\t\t\t\tanchor.setAttribute(\"download\", fileName);\n\t\t\t\tanchor.className = \"download-js-link\";\n\t\t\t\tanchor.innerHTML = \"downloading...\";\n\t\t\t\tanchor.style.display = \"none\";\n\t\t\t\tdocument.body.appendChild(anchor);\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tanchor.click();\n\t\t\t\t\tdocument.body.removeChild(anchor);\n\t\t\t\t\tif(winMode===true){setTimeout(function(){ self.URL.revokeObjectURL(anchor.href);}, 250 );}\n\t\t\t\t}, 66);\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// handle non-a[download] safari as best we can:\n\t\t\tif(/(Version)\\/(\\d+)\\.(\\d+)(?:\\.(\\d+))?.*Safari\\//.test(navigator.userAgent)) {\n\t\t\t\tif(/^data:/.test(url))\turl=\"data:\"+url.replace(/^data:([\\w\\/\\-\\+]+)/, defaultMime);\n\t\t\t\tif(!window.open(url)){ // popup blocked, offer direct download:\n\t\t\t\t\tif(confirm(\"Displaying New Document\\n\\nUse Save As... to download, then click back to return to this page.\")){ location.href=url; }\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t//do iframe dataURL download (old ch+FF):\n\t\t\tvar f = document.createElement(\"iframe\");\n\t\t\tdocument.body.appendChild(f);\n\n\t\t\tif(!winMode && /^data:/.test(url)){ // force a mime that will download:\n\t\t\t\turl=\"data:\"+url.replace(/^data:([\\w\\/\\-\\+]+)/, defaultMime);\n\t\t\t}\n\t\t\tf.src=url;\n\t\t\tsetTimeout(function(){ document.body.removeChild(f); }, 333);\n\n\t\t}//end saver\n\n\n\n\n\t\tif (navigator.msSaveBlob) { // IE10+ : (has Blob, but not a[download] or URL)\n\t\t\treturn navigator.msSaveBlob(blob, fileName);\n\t\t}\n\n\t\tif(self.URL){ // simple fast and modern way using Blob and URL:\n\t\t\tsaver(self.URL.createObjectURL(blob), true);\n\t\t}else{\n\t\t\t// handle non-Blob()+non-URL browsers:\n\t\t\tif(typeof blob === \"string\" || blob.constructor===toString ){\n\t\t\t\ttry{\n\t\t\t\t\treturn saver( \"data:\" +  mimeType   + \";base64,\"  +  self.btoa(blob)  );\n\t\t\t\t}catch(y){\n\t\t\t\t\treturn saver( \"data:\" +  mimeType   + \",\" + encodeURIComponent(blob)  );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Blob but not URL support:\n\t\t\treader=new FileReader();\n\t\t\treader.onload=function(e){\n\t\t\t\tsaver(this.result);\n\t\t\t};\n\t\t\treader.readAsDataURL(blob);\n\t\t}\n\t\treturn true;\n\t}; /* end download() */\n}));\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nmodule.exports = DataView;\n","var hashClear = require('./_hashClear'),\n    hashDelete = require('./_hashDelete'),\n    hashGet = require('./_hashGet'),\n    hashHas = require('./_hashHas'),\n    hashSet = require('./_hashSet');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n","var mapCacheClear = require('./_mapCacheClear'),\n    mapCacheDelete = require('./_mapCacheDelete'),\n    mapCacheGet = require('./_mapCacheGet'),\n    mapCacheHas = require('./_mapCacheHas'),\n    mapCacheSet = require('./_mapCacheSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nmodule.exports = Promise;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nmodule.exports = Set;\n","var MapCache = require('./_MapCache'),\n    setCacheAdd = require('./_setCacheAdd'),\n    setCacheHas = require('./_setCacheHas');\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nmodule.exports = SetCache;\n","var ListCache = require('./_ListCache'),\n    stackClear = require('./_stackClear'),\n    stackDelete = require('./_stackDelete'),\n    stackGet = require('./_stackGet'),\n    stackHas = require('./_stackHas'),\n    stackSet = require('./_stackSet');\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nmodule.exports = Stack;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nmodule.exports = Uint8Array;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nmodule.exports = WeakMap;\n","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayFilter;\n","var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isIndex = require('./_isIndex'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayPush;\n","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arraySome;\n","var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n","var arrayPush = require('./_arrayPush'),\n    isArray = require('./isArray');\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nmodule.exports = baseGetAllKeys;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n","var baseIsEqualDeep = require('./_baseIsEqualDeep'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nmodule.exports = baseIsEqual;\n","var Stack = require('./_Stack'),\n    equalArrays = require('./_equalArrays'),\n    equalByTag = require('./_equalByTag'),\n    equalObjects = require('./_equalObjects'),\n    getTag = require('./_getTag'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nmodule.exports = baseIsEqualDeep;\n","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n","var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n","var isPrototype = require('./_isPrototype'),\n    nativeKeys = require('./_nativeKeys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeys;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n","/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nmodule.exports = cacheHas;\n","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n","var SetCache = require('./_SetCache'),\n    arraySome = require('./_arraySome'),\n    cacheHas = require('./_cacheHas');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Check that cyclic values are equal.\n  var arrStacked = stack.get(array);\n  var othStacked = stack.get(other);\n  if (arrStacked && othStacked) {\n    return arrStacked == other && othStacked == array;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalArrays;\n","var Symbol = require('./_Symbol'),\n    Uint8Array = require('./_Uint8Array'),\n    eq = require('./eq'),\n    equalArrays = require('./_equalArrays'),\n    mapToArray = require('./_mapToArray'),\n    setToArray = require('./_setToArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nmodule.exports = equalByTag;\n","var getAllKeys = require('./_getAllKeys');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Check that cyclic values are equal.\n  var objStacked = stack.get(object);\n  var othStacked = stack.get(other);\n  if (objStacked && othStacked) {\n    return objStacked == other && othStacked == object;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalObjects;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var baseGetAllKeys = require('./_baseGetAllKeys'),\n    getSymbols = require('./_getSymbols'),\n    keys = require('./keys');\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nmodule.exports = getAllKeys;\n","var isKeyable = require('./_isKeyable');\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","var arrayFilter = require('./_arrayFilter'),\n    stubArray = require('./stubArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nmodule.exports = getSymbols;\n","var DataView = require('./_DataView'),\n    Map = require('./_Map'),\n    Promise = require('./_Promise'),\n    Set = require('./_Set'),\n    WeakMap = require('./_WeakMap'),\n    baseGetTag = require('./_baseGetTag'),\n    toSource = require('./_toSource');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nmodule.exports = getTag;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","var nativeCreate = require('./_nativeCreate');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n","var Hash = require('./_Hash'),\n    ListCache = require('./_ListCache'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n","var getMapData = require('./_getMapData');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n","var getMapData = require('./_getMapData');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n","var getMapData = require('./_getMapData');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n","var getMapData = require('./_getMapData');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n","/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nmodule.exports = mapToArray;\n","var getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n","var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nmodule.exports = setCacheAdd;\n","/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nmodule.exports = setCacheHas;\n","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nmodule.exports = setToArray;\n","var ListCache = require('./_ListCache');\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nmodule.exports = stackClear;\n","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nmodule.exports = stackDelete;\n","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nmodule.exports = stackGet;\n","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nmodule.exports = stackHas;\n","var ListCache = require('./_ListCache'),\n    Map = require('./_Map'),\n    MapCache = require('./_MapCache');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nmodule.exports = stackSet;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n","var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n","var baseIsEqual = require('./_baseIsEqual');\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\nmodule.exports = isEqual;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeys = require('./_baseKeys'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = keys;\n","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nmodule.exports = stubArray;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","import{options as n}from\"preact\";var t,r,u,i,o=0,f=[],c=n,e=c.__b,a=c.__r,v=c.diffed,l=c.__c,m=c.unmount,s=c.__;function p(n,t){c.__h&&c.__h(r,n,o||t),o=0;var u=r.__H||(r.__H={__:[],__h:[]});return n>=u.__.length&&u.__.push({}),u.__[n]}function d(n){return o=1,h(D,n)}function h(n,u,i){var o=p(t++,2);if(o.t=n,!o.__c&&(o.__=[i?i(u):D(void 0,u),function(n){var t=o.__N?o.__N[0]:o.__[0],r=o.t(t,n);t!==r&&(o.__N=[r,o.__[1]],o.__c.setState({}))}],o.__c=r,!r.__f)){var f=function(n,t,r){if(!o.__c.__H)return!0;var u=o.__c.__H.__.filter(function(n){return!!n.__c});if(u.every(function(n){return!n.__N}))return!c||c.call(this,n,t,r);var i=o.__c.props!==n;return u.forEach(function(n){if(n.__N){var t=n.__[0];n.__=n.__N,n.__N=void 0,t!==n.__[0]&&(i=!0)}}),c&&c.call(this,n,t,r)||i};r.__f=!0;var c=r.shouldComponentUpdate,e=r.componentWillUpdate;r.componentWillUpdate=function(n,t,r){if(this.__e){var u=c;c=void 0,f(n,t,r),c=u}e&&e.call(this,n,t,r)},r.shouldComponentUpdate=f}return o.__N||o.__}function y(n,u){var i=p(t++,3);!c.__s&&C(i.__H,u)&&(i.__=n,i.u=u,r.__H.__h.push(i))}function _(n,u){var i=p(t++,4);!c.__s&&C(i.__H,u)&&(i.__=n,i.u=u,r.__h.push(i))}function A(n){return o=5,T(function(){return{current:n}},[])}function F(n,t,r){o=6,_(function(){if(\"function\"==typeof n){var r=n(t());return function(){n(null),r&&\"function\"==typeof r&&r()}}if(n)return n.current=t(),function(){return n.current=null}},null==r?r:r.concat(n))}function T(n,r){var u=p(t++,7);return C(u.__H,r)&&(u.__=n(),u.__H=r,u.__h=n),u.__}function q(n,t){return o=8,T(function(){return n},t)}function x(n){var u=r.context[n.__c],i=p(t++,9);return i.c=n,u?(null==i.__&&(i.__=!0,u.sub(r)),u.props.value):n.__}function P(n,t){c.useDebugValue&&c.useDebugValue(t?t(n):n)}function b(n){var u=p(t++,10),i=d();return u.__=n,r.componentDidCatch||(r.componentDidCatch=function(n,t){u.__&&u.__(n,t),i[1](n)}),[i[0],function(){i[1](void 0)}]}function g(){var n=p(t++,11);if(!n.__){for(var u=r.__v;null!==u&&!u.__m&&null!==u.__;)u=u.__;var i=u.__m||(u.__m=[0,0]);n.__=\"P\"+i[0]+\"-\"+i[1]++}return n.__}function j(){for(var n;n=f.shift();)if(n.__P&&n.__H)try{n.__H.__h.forEach(z),n.__H.__h.forEach(B),n.__H.__h=[]}catch(t){n.__H.__h=[],c.__e(t,n.__v)}}c.__b=function(n){r=null,e&&e(n)},c.__=function(n,t){n&&t.__k&&t.__k.__m&&(n.__m=t.__k.__m),s&&s(n,t)},c.__r=function(n){a&&a(n),t=0;var i=(r=n.__c).__H;i&&(u===r?(i.__h=[],r.__h=[],i.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(i.__h.forEach(z),i.__h.forEach(B),i.__h=[],t=0)),u=r},c.diffed=function(n){v&&v(n);var t=n.__c;t&&t.__H&&(t.__H.__h.length&&(1!==f.push(t)&&i===c.requestAnimationFrame||((i=c.requestAnimationFrame)||w)(j)),t.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),u=r=null},c.__c=function(n,t){t.some(function(n){try{n.__h.forEach(z),n.__h=n.__h.filter(function(n){return!n.__||B(n)})}catch(r){t.some(function(n){n.__h&&(n.__h=[])}),t=[],c.__e(r,n.__v)}}),l&&l(n,t)},c.unmount=function(n){m&&m(n);var t,r=n.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{z(n)}catch(n){t=n}}),r.__H=void 0,t&&c.__e(t,r.__v))};var k=\"function\"==typeof requestAnimationFrame;function w(n){var t,r=function(){clearTimeout(u),k&&cancelAnimationFrame(t),setTimeout(n)},u=setTimeout(r,35);k&&(t=requestAnimationFrame(r))}function z(n){var t=r,u=n.__c;\"function\"==typeof u&&(n.__c=void 0,u()),r=t}function B(n){var t=r;n.__c=n.__(),r=t}function C(n,t){return!n||n.length!==t.length||t.some(function(t,r){return t!==n[r]})}function D(n,t){return\"function\"==typeof t?t(n):t}export{q as useCallback,x as useContext,P as useDebugValue,y as useEffect,b as useErrorBoundary,g as useId,F as useImperativeHandle,_ as useLayoutEffect,T as useMemo,h as useReducer,A as useRef,d as useState};\n//# sourceMappingURL=hooks.module.js.map\n","const CLASS_PATTERN = /^class[ {]/;\n\n\n/**\n * @param {function} fn\n *\n * @return {boolean}\n */\nfunction isClass(fn) {\n  return CLASS_PATTERN.test(fn.toString());\n}\n\n/**\n * @param {any} obj\n *\n * @return {boolean}\n */\nfunction isArray(obj) {\n  return Array.isArray(obj);\n}\n\n/**\n * @param {any} obj\n * @param {string} prop\n *\n * @return {boolean}\n */\nfunction hasOwnProp(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\n/**\n * @typedef {import('./index.js').InjectAnnotated } InjectAnnotated\n */\n\n/**\n * @template T\n *\n * @params {[...string[], T] | ...string[], T} args\n *\n * @return {T & InjectAnnotated}\n */\nfunction annotate(...args) {\n\n  if (args.length === 1 && isArray(args[0])) {\n    args = args[0];\n  }\n\n  args = [ ...args ];\n\n  const fn = args.pop();\n\n  fn.$inject = args;\n\n  return fn;\n}\n\n\n// Current limitations:\n// - can't put into \"function arg\" comments\n// function /* (no parenthesis like this) */ (){}\n// function abc( /* xx (no parenthesis like this) */ a, b) {}\n//\n// Just put the comment before function or inside:\n// /* (((this is fine))) */ function(a, b) {}\n// function abc(a) { /* (((this is fine))) */}\n//\n// - can't reliably auto-annotate constructor; we'll match the\n// first constructor(...) pattern found which may be the one\n// of a nested class, too.\n\nconst CONSTRUCTOR_ARGS = /constructor\\s*[^(]*\\(\\s*([^)]*)\\)/m;\nconst FN_ARGS = /^(?:async\\s+)?(?:function\\s*[^(]*)?(?:\\(\\s*([^)]*)\\)|(\\w+))/m;\nconst FN_ARG = /\\/\\*([^*]*)\\*\\//m;\n\n/**\n * @param {unknown} fn\n *\n * @return {string[]}\n */\nfunction parseAnnotations(fn) {\n\n  if (typeof fn !== 'function') {\n    throw new Error(`Cannot annotate \"${fn}\". Expected a function!`);\n  }\n\n  const match = fn.toString().match(isClass(fn) ? CONSTRUCTOR_ARGS : FN_ARGS);\n\n  // may parse class without constructor\n  if (!match) {\n    return [];\n  }\n\n  const args = match[1] || match[2];\n\n  return args && args.split(',').map(arg => {\n    const argMatch = arg.match(FN_ARG);\n    return (argMatch && argMatch[1] || arg).trim();\n  }) || [];\n}\n\n/**\n * @typedef { import('./index.js').ModuleDeclaration } ModuleDeclaration\n * @typedef { import('./index.js').ModuleDefinition } ModuleDefinition\n * @typedef { import('./index.js').InjectorContext } InjectorContext\n *\n * @typedef { import('./index.js').TypedDeclaration<any, any> } TypedDeclaration\n */\n\n/**\n * Create a new injector with the given modules.\n *\n * @param {ModuleDefinition[]} modules\n * @param {InjectorContext} [_parent]\n */\nfunction Injector(modules, _parent) {\n\n  const parent = _parent || /** @type InjectorContext */ ({\n    get: function(name, strict) {\n      currentlyResolving.push(name);\n\n      if (strict === false) {\n        return null;\n      } else {\n        throw error(`No provider for \"${ name }\"!`);\n      }\n    }\n  });\n\n  const currentlyResolving = [];\n  const providers = this._providers = Object.create(parent._providers || null);\n  const instances = this._instances = Object.create(null);\n\n  const self = instances.injector = this;\n\n  const error = function(msg) {\n    const stack = currentlyResolving.join(' -> ');\n    currentlyResolving.length = 0;\n    return new Error(stack ? `${ msg } (Resolving: ${ stack })` : msg);\n  };\n\n  /**\n   * Return a named service.\n   *\n   * @param {string} name\n   * @param {boolean} [strict=true] if false, resolve missing services to null\n   *\n   * @return {any}\n   */\n  function get(name, strict) {\n    if (!providers[name] && name.includes('.')) {\n\n      const parts = name.split('.');\n      let pivot = get(/** @type { string } */ (parts.shift()));\n\n      while (parts.length) {\n        pivot = pivot[/** @type { string } */ (parts.shift())];\n      }\n\n      return pivot;\n    }\n\n    if (hasOwnProp(instances, name)) {\n      return instances[name];\n    }\n\n    if (hasOwnProp(providers, name)) {\n      if (currentlyResolving.indexOf(name) !== -1) {\n        currentlyResolving.push(name);\n        throw error('Cannot resolve circular dependency!');\n      }\n\n      currentlyResolving.push(name);\n      instances[name] = providers[name][0](providers[name][1]);\n      currentlyResolving.pop();\n\n      return instances[name];\n    }\n\n    return parent.get(name, strict);\n  }\n\n  function fnDef(fn, locals) {\n\n    if (typeof locals === 'undefined') {\n      locals = {};\n    }\n\n    if (typeof fn !== 'function') {\n      if (isArray(fn)) {\n        fn = annotate(fn.slice());\n      } else {\n        throw error(`Cannot invoke \"${ fn }\". Expected a function!`);\n      }\n    }\n\n    /**\n     * @type {string[]}\n     */\n    const inject = fn.$inject || parseAnnotations(fn);\n    const dependencies = inject.map(dep => {\n      if (hasOwnProp(locals, dep)) {\n        return locals[dep];\n      } else {\n        return get(dep);\n      }\n    });\n\n    return {\n      fn: fn,\n      dependencies\n    };\n  }\n\n  /**\n   * Instantiate the given type, injecting dependencies.\n   *\n   * @template T\n   *\n   * @param { Function | [...string[], Function ]} type\n   *\n   * @return T\n   */\n  function instantiate(type) {\n    const {\n      fn,\n      dependencies\n    } = fnDef(type);\n\n    // instantiate var args constructor\n    const Constructor = Function.prototype.bind.call(fn, null, ...dependencies);\n\n    return new Constructor();\n  }\n\n  /**\n   * Invoke the given function, injecting dependencies. Return the result.\n   *\n   * @template T\n   *\n   * @param { Function | [...string[], Function ]} func\n   * @param { Object } [context]\n   * @param { Object } [locals]\n   *\n   * @return {T} invocation result\n   */\n  function invoke(func, context, locals) {\n    const {\n      fn,\n      dependencies\n    } = fnDef(func, locals);\n\n    return fn.apply(context, dependencies);\n  }\n\n  /**\n   * @param {Injector} childInjector\n   *\n   * @return {Function}\n   */\n  function createPrivateInjectorFactory(childInjector) {\n    return annotate(key => childInjector.get(key));\n  }\n\n  /**\n   * @param {ModuleDefinition[]} modules\n   * @param {string[]} [forceNewInstances]\n   *\n   * @return {Injector}\n   */\n  function createChild(modules, forceNewInstances) {\n    if (forceNewInstances && forceNewInstances.length) {\n      const fromParentModule = Object.create(null);\n      const matchedScopes = Object.create(null);\n\n      const privateInjectorsCache = [];\n      const privateChildInjectors = [];\n      const privateChildFactories = [];\n\n      let provider;\n      let cacheIdx;\n      let privateChildInjector;\n      let privateChildInjectorFactory;\n\n      for (let name in providers) {\n        provider = providers[name];\n\n        if (forceNewInstances.indexOf(name) !== -1) {\n          if (provider[2] === 'private') {\n            cacheIdx = privateInjectorsCache.indexOf(provider[3]);\n            if (cacheIdx === -1) {\n              privateChildInjector = provider[3].createChild([], forceNewInstances);\n              privateChildInjectorFactory = createPrivateInjectorFactory(privateChildInjector);\n              privateInjectorsCache.push(provider[3]);\n              privateChildInjectors.push(privateChildInjector);\n              privateChildFactories.push(privateChildInjectorFactory);\n              fromParentModule[name] = [ privateChildInjectorFactory, name, 'private', privateChildInjector ];\n            } else {\n              fromParentModule[name] = [ privateChildFactories[cacheIdx], name, 'private', privateChildInjectors[cacheIdx] ];\n            }\n          } else {\n            fromParentModule[name] = [ provider[2], provider[1] ];\n          }\n          matchedScopes[name] = true;\n        }\n\n        if ((provider[2] === 'factory' || provider[2] === 'type') && provider[1].$scope) {\n          /* jshint -W083 */\n          forceNewInstances.forEach(scope => {\n            if (provider[1].$scope.indexOf(scope) !== -1) {\n              fromParentModule[name] = [ provider[2], provider[1] ];\n              matchedScopes[scope] = true;\n            }\n          });\n        }\n      }\n\n      forceNewInstances.forEach(scope => {\n        if (!matchedScopes[scope]) {\n          throw new Error('No provider for \"' + scope + '\". Cannot use provider from the parent!');\n        }\n      });\n\n      modules.unshift(fromParentModule);\n    }\n\n    return new Injector(modules, self);\n  }\n\n  const factoryMap = {\n    factory: invoke,\n    type: instantiate,\n    value: function(value) {\n      return value;\n    }\n  };\n\n  /**\n   * @param {ModuleDefinition} moduleDefinition\n   * @param {Injector} injector\n   */\n  function createInitializer(moduleDefinition, injector) {\n\n    const initializers = moduleDefinition.__init__ || [];\n\n    return function() {\n      initializers.forEach(initializer => {\n\n        // eagerly resolve component (fn or string)\n        if (typeof initializer === 'string') {\n          injector.get(initializer);\n        } else {\n          injector.invoke(initializer);\n        }\n      });\n    };\n  }\n\n  /**\n   * @param {ModuleDefinition} moduleDefinition\n   */\n  function loadModule(moduleDefinition) {\n\n    const moduleExports = moduleDefinition.__exports__;\n\n    // private module\n    if (moduleExports) {\n      const nestedModules = moduleDefinition.__modules__;\n\n      const clonedModule = Object.keys(moduleDefinition).reduce((clonedModule, key) => {\n\n        if (key !== '__exports__' && key !== '__modules__' && key !== '__init__' && key !== '__depends__') {\n          clonedModule[key] = moduleDefinition[key];\n        }\n\n        return clonedModule;\n      }, Object.create(null));\n\n      const childModules = (nestedModules || []).concat(clonedModule);\n\n      const privateInjector = createChild(childModules);\n      const getFromPrivateInjector = annotate(function(key) {\n        return privateInjector.get(key);\n      });\n\n      moduleExports.forEach(function(key) {\n        providers[key] = [ getFromPrivateInjector, key, 'private', privateInjector ];\n      });\n\n      // ensure child injector initializes\n      const initializers = (moduleDefinition.__init__ || []).slice();\n\n      initializers.unshift(function() {\n        privateInjector.init();\n      });\n\n      moduleDefinition = Object.assign({}, moduleDefinition, {\n        __init__: initializers\n      });\n\n      return createInitializer(moduleDefinition, privateInjector);\n    }\n\n    // normal module\n    Object.keys(moduleDefinition).forEach(function(key) {\n\n      if (key === '__init__' || key === '__depends__') {\n        return;\n      }\n\n      const typeDeclaration = /** @type { TypedDeclaration } */ (\n        moduleDefinition[key]\n      );\n\n      if (typeDeclaration[2] === 'private') {\n        providers[key] = typeDeclaration;\n        return;\n      }\n\n      const type = typeDeclaration[0];\n      const value = typeDeclaration[1];\n\n      providers[key] = [ factoryMap[type], arrayUnwrap(type, value), type ];\n    });\n\n    return createInitializer(moduleDefinition, self);\n  }\n\n  /**\n   * @param {ModuleDefinition[]} moduleDefinitions\n   * @param {ModuleDefinition} moduleDefinition\n   *\n   * @return {ModuleDefinition[]}\n   */\n  function resolveDependencies(moduleDefinitions, moduleDefinition) {\n\n    if (moduleDefinitions.indexOf(moduleDefinition) !== -1) {\n      return moduleDefinitions;\n    }\n\n    moduleDefinitions = (moduleDefinition.__depends__ || []).reduce(resolveDependencies, moduleDefinitions);\n\n    if (moduleDefinitions.indexOf(moduleDefinition) !== -1) {\n      return moduleDefinitions;\n    }\n\n    return moduleDefinitions.concat(moduleDefinition);\n  }\n\n  /**\n   * @param {ModuleDefinition[]} moduleDefinitions\n   *\n   * @return { () => void } initializerFn\n   */\n  function bootstrap(moduleDefinitions) {\n\n    const initializers = moduleDefinitions\n      .reduce(resolveDependencies, [])\n      .map(loadModule);\n\n    let initialized = false;\n\n    return function() {\n\n      if (initialized) {\n        return;\n      }\n\n      initialized = true;\n\n      initializers.forEach(initializer => initializer());\n    };\n  }\n\n  // public API\n  this.get = get;\n  this.invoke = invoke;\n  this.instantiate = instantiate;\n  this.createChild = createChild;\n\n  // setup\n  this.init = bootstrap(modules);\n}\n\n\n// helpers ///////////////\n\nfunction arrayUnwrap(type, value) {\n  if (type !== 'value' && isArray(value)) {\n    value = annotate(value.slice());\n  }\n\n  return value;\n}\n\nexport { Injector, annotate, parseAnnotations };\n//# sourceMappingURL=index.js.map\n"],"names":["nativeToString","Object","prototype","toString","nativeHasOwnProperty","hasOwnProperty","isUndefined","obj","undefined","isNil","isArray","call","has","target","key","forEach","collection","iterator","val","result","convertKey","toNum","identity","arg","Number","others","assign","set","path","value","currentTarget","idx","Error","nextKey","nextTarget","isNaN","readFile","dropFile","done","window","FileReader","reader","onload","e","name","contents","onerror","event","error","readAsText","preventDrop","preventDefault","getDefaultExportFromCjs","x","__esModule","hasRequiredHat","hat$1","exports","hatExports","hat","bits","base","digits","Math","log","pow","i","Infinity","rem","floor","res","random","b","parsed","parseInt","rack","expandBy","fn","data","iters","id","hats","get","requireHat","Ids","seed","this","_seed","length","next","element","nextPrefixed","prefix","assigned","claim","unclaim","clear","MAX_DP","NAME","INVALID","INVALID_DP","INVALID_RM","DIV_BY_ZERO","P","UNDEFINED","NUMERIC","round","sd","rm","more","xc","c","constructor","RM","unshift","pop","stringify","doExponential","isNonzero","s","join","n","charAt","slice","abs","cmp","y","isneg","yc","j","k","l","div","Big","a","dp","DP","bl","bt","ri","bz","ai","al","r","rl","q","qc","qi","p","push","shift","eq","gt","gte","lt","lte","minus","sub","t","xlty","plus","xe","ye","reverse","mod","ygtx","times","neg","add","one","prec","sqrt","half","toExponential","indexOf","mul","Array","toFixed","toJSON","NE","PE","Symbol","for","toNumber","strict","toPrecision","valueOf","_Big_","arguments","TypeError","String","nl","test","replace","search","substring","parse","roundDown","roundHalfUp","roundHalfEven","roundUp","f","u","o","type","props","ref","__k","__","__b","__e","__c","__v","__i","__u","__source","__self","defaultProps","vnode","g","E","N","context","isPureReactComponent","shouldComponentUpdate","state","T","__f","A","D","$$typeof","render","isReactComponent","displayName","U","then","F","unmount","V","__H","__P","map","W","appendChild","__a","B","__z","__R","__O","setState","forceUpdate","componentWillUnmount","document","createElement","fallback","children","H","delete","revealOrder","size","Z","getChildContext","Y","h","v","__m","nodeType","parentNode","childNodes","contains","namespaceURI","insertBefore","removeChild","splice","$","containerInfo","Map","componentDidUpdate","componentDidMount","G","J","K","Q","X","defineProperty","configurable","writable","en","rn","un","cancelBubble","on","defaultPrevented","persist","isPropagationStopped","isDefaultPrevented","nativeEvent","cn","enumerable","class","toLowerCase","multiple","selected","defaultValue","className","an","__r","sn","diffed","entries","setPrototypeOf","isFrozen","getPrototypeOf","getOwnPropertyDescriptor","freeze","seal","create","apply","construct","Reflect","func","thisArg","_len","args","_key","Func","_len2","_key2","arrayForEach","unapply","arrayLastIndexOf","lastIndexOf","arrayPop","arrayPush","arraySplice","stringToLowerCase","stringToString","stringMatch","match","stringReplace","stringIndexOf","stringTrim","trim","objectHasOwnProperty","regExpTest","RegExp","typeErrorCreate","_len4","_key4","lastIndex","_len3","_key3","addToSet","array","transformCaseFunc","lcElement","cleanArray","index","clone","object","newObject","property","lookupGetter","prop","desc","html$1","svg$1","svgFilters","svgDisallowed","mathMl$1","mathMlDisallowed","html","svg","mathMl","xml","MUSTACHE_EXPR","ERB_EXPR","TMPLIT_EXPR","DATA_ATTR","ARIA_ATTR","IS_ALLOWED_URI","IS_SCRIPT_OR_DATA","ATTR_WHITESPACE","DOCTYPE_NAME","CUSTOM_ELEMENT","EXPRESSIONS","__proto__","getGlobal","purify","createDOMPurify","DOMPurify","root","version","removed","Element","isSupported","originalDocument","currentScript","DocumentFragment","HTMLTemplateElement","Node","NodeFilter","NamedNodeMap","MozNamedAttrMap","HTMLFormElement","DOMParser","trustedTypes","ElementPrototype","cloneNode","remove","getNextSibling","getChildNodes","getParentNode","template","content","ownerDocument","trustedTypesPolicy","emptyHTML","implementation","createNodeIterator","createDocumentFragment","getElementsByTagName","importNode","hooks","afterSanitizeAttributes","afterSanitizeElements","afterSanitizeShadowDOM","beforeSanitizeAttributes","beforeSanitizeElements","beforeSanitizeShadowDOM","uponSanitizeAttribute","uponSanitizeElement","uponSanitizeShadowNode","createHTMLDocument","IS_ALLOWED_URI$1","ALLOWED_TAGS","DEFAULT_ALLOWED_TAGS","ALLOWED_ATTR","DEFAULT_ALLOWED_ATTR","CUSTOM_ELEMENT_HANDLING","tagNameCheck","attributeNameCheck","allowCustomizedBuiltInElements","FORBID_TAGS","FORBID_ATTR","EXTRA_ELEMENT_HANDLING","tagCheck","attributeCheck","ALLOW_ARIA_ATTR","ALLOW_DATA_ATTR","ALLOW_UNKNOWN_PROTOCOLS","ALLOW_SELF_CLOSE_IN_ATTR","SAFE_FOR_TEMPLATES","SAFE_FOR_XML","WHOLE_DOCUMENT","SET_CONFIG","FORCE_BODY","RETURN_DOM","RETURN_DOM_FRAGMENT","RETURN_TRUSTED_TYPE","SANITIZE_DOM","SANITIZE_NAMED_PROPS","KEEP_CONTENT","IN_PLACE","USE_PROFILES","FORBID_CONTENTS","DEFAULT_FORBID_CONTENTS","DATA_URI_TAGS","DEFAULT_DATA_URI_TAGS","URI_SAFE_ATTRIBUTES","DEFAULT_URI_SAFE_ATTRIBUTES","MATHML_NAMESPACE","SVG_NAMESPACE","HTML_NAMESPACE","NAMESPACE","IS_EMPTY_INPUT","ALLOWED_NAMESPACES","DEFAULT_ALLOWED_NAMESPACES","MATHML_TEXT_INTEGRATION_POINTS","HTML_INTEGRATION_POINTS","COMMON_SVG_AND_HTML_ELEMENTS","PARSER_MEDIA_TYPE","SUPPORTED_PARSER_MEDIA_TYPES","CONFIG","formElement","isRegexOrFunction","testValue","Function","_parseConfig","cfg","ADD_URI_SAFE_ATTR","ADD_DATA_URI_TAGS","ALLOWED_URI_REGEXP","ADD_TAGS","ADD_ATTR","ADD_FORBID_CONTENTS","table","tbody","TRUSTED_TYPES_POLICY","createHTML","createScriptURL","purifyHostElement","createPolicy","suffix","ATTR_NAME","hasAttribute","getAttribute","policyName","scriptUrl","_","console","warn","_createTrustedTypesPolicy","ALL_SVG_TAGS","ALL_MATHML_TAGS","_forceRemove","node","_removeAttribute","attribute","getAttributeNode","from","removeAttribute","setAttribute","_initDocument","dirty","doc","leadingWhitespace","matches","dirtyPayload","parseFromString","documentElement","createDocument","innerHTML","body","createTextNode","_createNodeIterator","SHOW_ELEMENT","SHOW_COMMENT","SHOW_TEXT","SHOW_PROCESSING_INSTRUCTION","SHOW_CDATA_SECTION","_isClobbered","nodeName","textContent","attributes","hasChildNodes","_isNode","_executeHooks","currentNode","hook","_sanitizeElements","tagName","allowedTags","firstElementChild","_isBasicCustomElement","childClone","__removalCount","parent","parentTagName","Boolean","_checkValidNamespace","expr","_isValidAttribute","lcTag","lcName","_sanitizeAttributes","hookEvent","attrName","attrValue","keepAttr","allowedAttributes","forceKeepAttr","attr","initValue","getAttributeType","setAttributeNS","_sanitizeShadowDOM","fragment","shadowNode","shadowIterator","nextNode","sanitize","importedNode","returnNode","firstChild","nodeIterator","shadowroot","shadowrootmode","serializedHTML","outerHTML","doctype","setConfig","clearConfig","isValidAttribute","tag","addHook","entryPoint","hookFunction","removeHook","removeHooks","removeAllHooks","async","breaks","extensions","gfm","pedantic","renderer","silent","tokenizer","walkTokens","exec","source","m","caret","getRegex","me","codeRemoveIndent","outputLinkReplace","indentCodeCompensation","beginningSpace","endingHash","startingSpaceChar","endingSpaceChar","nonSpaceChar","newLineCharGlobal","tabCharGlobal","multipleSpaceGlobal","blankLine","doubleBlankLine","blockquoteStart","blockquoteSetextReplace","blockquoteSetextReplace2","listReplaceTabs","listReplaceNesting","listIsTask","listReplaceTask","listTaskCheckbox","anyLine","hrefBrackets","tableDelimiter","tableAlignChars","tableRowBlankLine","tableAlignRight","tableAlignCenter","tableAlignLeft","startATag","endATag","startPreScriptTag","endPreScriptTag","startAngleBracket","endAngleBracket","pedanticHrefTitle","unicodeAlphaNumeric","escapeTest","escapeReplace","escapeTestNoEncode","escapeReplaceNoEncode","unescapeTest","percentDecode","findPipe","splitPipe","slashPipe","carriageReturn","spaceLine","notSpaceStart","endingNewline","listItemRegex","nextBulletRegex","min","hrRegex","fencesBeginRegex","headingBeginRegex","htmlBeginRegex","re","se","Oe","Pe","Se","ie","blockquote","code","def","fences","heading","hr","lheading","list","newline","paragraph","text","te","_e","Le","oe","ae","Ce","le","Be","ue","qe","ve","pe","De","He","Ze","Ge","Ne","Qe","Fe","je","ce","he","ne","_backpedal","anyPunctuation","autolink","blockSkip","br","del","emStrongLDelim","emStrongRDelimAst","emStrongRDelimUnd","escape","link","nolink","punctuation","reflink","reflinkSearch","url","Ke","We","normal","Xe","ke","encodeURI","split","at","ge","href","title","other","inLink","raw","tokens","inlineTokens","options","rules","lexer","space","block","codeBlockStyle","Je","lang","inline","depth","top","blockTokens","R","O","ordered","start","loose","items","repeat","trimStart","ee","fe","task","trimEnd","inlineQueue","src","checked","includes","filter","some","pre","header","align","rows","inRawBlock","de","emStrong","codespan","inlineText","escaped","links","lex","lexInline","endsWith","startBlock","charCodeAt","keys","emStrongMask","startInline","parser","parseInline","listitem","checkbox","tablecell","tablerow","strong","em","image","textRenderer","renderers","S","static","Set","preprocess","postprocess","processAllTokens","provideLexer","provideParser","defaults","setOptions","parseMarkdown","Parser","Renderer","TextRenderer","Lexer","Tokenizer","Hooks","use","concat","childTokens","flat","level","passThroughHooks","passThroughHooksRespectAsync","onError","Promise","all","catch","message","resolve","reject","d","getDefaults","getFlavouredFeelVariableNames","feelString","feelFlavour","specialDepthAccessors","tree","variables","_unfoldVariables","pathRoot","_linearizePathExpression","_getVariableNameAtPathIndex","_smartExtractVariableNames","variableName","reduce","acc","child","_buildSimpleFeelStructureTree","initialDepth","accessorDepthInfos","previous","current","extractedVariables","pathNodes","currentAccessor","depthOffsets","accumulator","offset","depthInfo","parts","parseTree","stack","iterate","enter","nodeRepresentation","to","leave","_extractFilterExpressions","flattenedExpressionTree","filterTarget","filterExpression","taggedFilterExpression","FeelExpressionLanguage","eventBus","_eventBus","isExpression","isString","startsWith","getVariableNames","expression","evaluate","fire","$inject","FeelersTemplating","isTemplate","expressions","_extractExpressionsWithDepth","_parent_","_this_","debug","buildDebugString","err","sanitizer","_traverse","loopExpression","childResults","MINUTES_IN_DAY","DATETIME_SUBTYPES","DATE","TIME","DATETIME","TIME_SERIALISING_FORMATS","UTC_OFFSET","UTC_NORMALIZED","NO_TIMEZONE","DATETIME_SUBTYPES_LABELS","TIME_SERIALISINGFORMAT_LABELS","DATETIME_SUBTYPE_PATH","DATE_LABEL_PATH","DATE_DISALLOW_PAST_PATH","TIME_LABEL_PATH","TIME_USE24H_PATH","TIME_INTERVAL_PATH","TIME_SERIALISING_FORMAT_PATH","OPTIONS_SOURCES","STATIC","INPUT","EXPRESSION","OPTIONS_SOURCE_DEFAULT","OPTIONS_SOURCES_LABELS","OPTIONS_SOURCES_PATHS","OPTIONS_SOURCES_DEFAULTS","label","getOptionsSource","field","values","SANDBOX_ATTRIBUTE","ALLOW_ATTRIBUTE","SECURITY_ATTRIBUTES_DEFINITIONS","directive","TEXT_VIEW_DEFAULT_TEXT","createInjector","bootstrapModules","injector","init","createFormContainer","container","classList","formFieldClasses","errors","disabled","readonly","gridColumnClasses","formField","layout","columns","prefixId","formId","indexes","FormRenderContext","createContext","Empty","Hidden","Children","style","Row","Column","hoverInfo","cleanup","LocalExpressionContext","FormContext","getService","useService","replacer","JSON","runRecursively","components","component","wrapObjectKeysWithUnderscores","newObj","buildExpressionContext","specialContextKeys","runExpressionEvaluation","expressionLanguage","expressionContextInfo","getSimpleOptionsData","formData","valuesExpression","optionsExpression","valuesKey","optionsKey","staticOptions","normalizeOptionsData","optionsData","_isAllowedValue","_normalizeOption","createEmptyOptions","option","_isAllowedPrimitive","isObject","isValidLabel","useExpressionEvaluation","useDeepCompareMemoize","LOAD_STATES","useOptionsAsync","initialData","_getState","evaluatedOptions","keyedOptions","buildErrorState","buildLoadedState","loadState","useDangerousHTMLWrapper","transform","sanitizeStyleTags","sanitizedHtml","getDOMPurifyConfig","__html","useGetLabelCorrelation","labelMap","_getValueHash","getScrollContainer","el","_isElementScrollable","parentElement","getComputedStyle","overflowY","overflow","scrollHeight","clientHeight","EMPTY_OBJECT","EMPTY_ARRAY$2","useKeyDownAction","targetKey","action","listenerElement","downHandler","addEventListener","removeEventListener","usePrevious","useFlushDebounce","timeoutRef","lastArgsRef","config","debounce","shouldDebounce","delay","clearTimeout","setTimeout","useTemplateEvaluation","templating","useSingleLineTemplateEvaluation","evaluatedTemplate","ENTER_KEYDOWN_EVENT","KeyboardEvent","charCode","keyCode","bubbles","focusRelevantFlatpickerDay","flatpickrInstance","isOpen","open","calendarContainer","dayToFocus","querySelector","focus","formatTime","use24h","minutes","wrappedMinutes","minute","hour","_getZeroPaddedString","isPM","parseInputTime","stringTime","workingString","displayHour","isNumber","isValidHour","isValidMinute","serializeTime","timeSerializingFormat","normalizedMinutes","_getSignedPaddedHours","formatTimezoneOffset","parseIsoTime","isoTimeString","parseBasicMinutes","timeString","timeSegments","localOffset","Date","getTimezoneOffset","offsetString","inboundOffset","serializeDate","date","fromJSDate","toISODate","isInvalidDateString","getTime","getNullDateTime","time","isValidDate","isValidTime","padStart","ALLOWED_IMAGE_SRC_PATTERN","ALLOWED_IFRAME_SRC_PATTERN","hasEqualValue","sanitizeSingleSelectValue","validValues","sanitizeMultiSelectValue","sanitizeImageSource","escapeHTML","escapeMap","useCleanupSingleSelectValue","onChange","optionValues","useCleanupMultiSelectValue","memoizedValues","hasValuesNotInOptions","type$j","Button","onFocus","onBlur","evaluatedLabel","Description","description","evaluatedDescription","Errors","Label","htmlFor","collapseOnEmpty","required","keyed","group","type$i","Checkbox","domId","validate","descriptionId","errorMessageId","readOnly","emptyValue","sanitizeValue","type$h","Checklist","outerDivRef","onCheckboxBlur","relatedTarget","onCheckboxFocus","itemDomId","isChecked","onClick","toggledValue","newValues","toggleCheckbox","noop$1","ids$2","FormField","instanceIdRef","_onChange","formFields","viewerCommands","formFieldInstanceRegistry","pathRegistry","form","properties","initialValidationTrigger","setInitialValidationTrigger","FormFieldComponent","fieldConfig","localExpressionContext","valuePath","getValuePath","initialValue","conditionChecker","check","useReadonly","hidden","condition","useCondition","conditional","hide","instanceId","syncInstance","fieldInstance","cleanupInstance","resetValidation","off","hasInitialValue","updateFieldInstanceValidation","update","fieldErrors","formFieldElement","escapeGridRender","ChildrenRenderer","repeatRenderManager","isRepeating","isFieldRepeating","Repeater","RepeatFooter","RepeatChildrenRenderer","ChildrenRoot","SimpleChildrenRenderer","isEmpty","RowsRenderer","restProps","useSharedState","isCollapsed","Fragment","parentId","verticalAlignment","formLayouter","formFieldRegistry","getRows","row","alignItems","childId","childField","Default","_path$z","_extends$A","bind","getSubheading","_path$y","_path2$4","SvgCalendar","xmlns","width","height","fill","viewBox","fillRule","clipRule","getLocaleDateFormat","locale","Intl","DateTimeFormat","formatToParts","UTC","part","len","getLocaleReadableDateFormat","format","InputAdorner","post","rootRef","inputRef","hasErrors","onAdornmentClick","Datepicker","collapseLabelOnEmpty","onDateTimeBlur","onDateTimeFocus","disallowPassedDates","dateObject","setDate","dateInputRef","focusScopeRef","setFlatpickrInstance","isInputDirty","setIsInputDirty","forceFocusCalendar","setForceFocusCalendar","allowInput","dateFormat","useLeadingZero","flatpickerizeDateFormat","clickOpens","minDate","errorHandler","instance","onCalendarFocusOut","close","onCalendarMouseDown","onOpen","onClose","onInputKeyDown","dispatchEvent","onInputFocus","onInputBlur","placeholder","autoComplete","onKeyDown","onMouseDown","onInput","_extends$z","SvgClock","DEFAULT_LABEL_GETTER","NOOP","DropdownList","getLabel","onValueSelected","emptyListMessage","initialFocusIndex","mouseControl","setMouseControl","focusedValueIndex","setFocusedValueIndex","smoothScrolling","setSmoothScrolling","dropdownContainer","mouseScreenPos","focusedItem","changeFocusedValueIndex","delta","max","individualEntries","focusedEntry","scrollIntoView","tabIndex","maxHeight","scrollBehavior","entry","focused","onMouseMove","onMouseMovedInKeyboardMode","valueIndex","screenX","screenY","onMouseEnter","Timepicker","timeInterval","setTime","safeTimeInterval","timeInputRef","dropdownIsOpen","setDropdownIsOpen","useDropdown","rawValue","setRawValue","intervalAdjustedTime","propagateRawToMinute","newRawValue","localRawValue","correctedMinutes","timeOptions","intervalCount","intervalIndex","cacheTime","type$g","Datetime","dateLabel","timeLabel","subtype","dateTimeGroupRef","dateTime","setDateTime","dateTimeUpdateRequest","setDateTimeUpdateRequest","useDatePicker","useTimePicker","fromISO","toJSDate","NaN","getHours","getMinutes","computeAndSetState","newDateTimeValue","workingDate","setFullYear","getFullYear","getMonth","getDate","setHours","timezoneOffsetMinutes","dayOffset","serializeDateTime","refreshOnly","newDateTime","allErrors","prev","datePickerProps","timePickerProps","Group","showOutline","fullProps","role","isDateInputInformationMatching","segments","isDateTimeInputInformationSufficient","isNewField","pathed","type$f","DEFAULT_HEIGHT","IFrame","security","evaluatedUrl","safeUrl","sanitizeIFrameSource","sandbox","allow","securityMemoized","useSecurityAttributesMap","iframeRefresh","setIframeRefresh","count","IFramePlaceholder","_path$x","_extends$y","allowScripts","_path$w","SvgButton","_extends$x","_path$v","SvgCheckbox","_extends$w","_path$u","_path2$3","_path3","SvgChecklist","_extends$v","_path$t","_path2$2","SvgDatetime","_extends$u","_rect","_rect2","_rect3","SvgTaglist","_extends$t","_path$s","SvgForm","rx","_extends$s","_path$r","SvgGroup","_extends$r","_path$q","SvgNumber","_extends$q","_path$p","SvgRadio","_extends$p","_path$o","SvgSelect","_extends$o","_path$n","SvgSeparator","_extends$n","_path$m","SvgSpacer","_extends$m","_path$l","SvgDynamicList","_extends$l","_path$k","SvgText","_extends$k","_path$j","SvgHtml","_extends$j","_path$i","SvgExpressionField","_extends$i","_path$h","SvgTextfield","_extends$h","_path$g","SvgTextarea","_extends$g","_path$f","_path2$1","SvgIFrame","_extends$f","_path$e","SvgImage","_extends$e","_path$d","SvgTable","_extends$d","_path$c","SvgFilePicker","_extends$c","SvgDocumentPreview","iconsByType","button","checklist","datetime","iframe","number","radio","select","separator","spacer","dynamiclist","taglist","textfield","textarea","filepicker","documentPreview","default","type$e","alt","Icon","evaluatedImageSource","safeSource","altText","TemplatedInputAdorner","evaluatedPre","evaluatedPost","_path$b","_extends$b","_path$a","SvgAngelDown","stroke","strokeWidth","_extends$a","SvgAngelUp","isValidNumber","isNullEquivalentValue","type$d","Numberfield","appearance","decimalDigits","increment","incrementValue","prefixAdorner","suffixAdorner","cachedValue","setCachedValue","displayValue","setDisplayValue","debouncedOnChange","flushOnChange","setValue","stringValue","replaceAll","outerValueChanged","outerValueEqualsCache","incrementAmount","stepFlooredValue","decrement","onKeyPress","caretIndex","selectionStart","selectionWidth","selectionEnd","previousValue","isFirstDot","isFirstMinus","keypressIsNumeric","dotIndex","overflowsDecimalSpace","willKeyProduceValidNumber","onPaste","step","serializeToString","type$c","Radio","onRadioBlur","onRadioFocus","_path$9","_extends$9","SvgXMark","SearchableSelect","setFilter","isDropdownExpanded","setIsDropdownExpanded","isFilterActive","setIsFilterActive","isEscapeClosed","setIsEscapeClose","searchbarRef","getLabelCorrelation","filteredOptions","pickOption","displayState","ds","componentReady","displayCross","displayDropdown","onAngelMouseDown","searchbar","blur","keyDownEvent","onInputMouseDown","SimpleSelect","selectRef","valueLabel","input","findIndex","stopPropagation","type$b","Select","searchable","selectProps","type$a","Separator","type$9","Spacer","DynamicList","SkipLink","onSkip","repeatable","allowAddRemove","defaultRepetitions","type$8","Taglist","hasOptionsLeft","deselectValue","onElementBlur","onElementFocus","shouldDisplayDropdown","closest","nextSibling","onTagRemoveClick","selectValue","ALLOWED_NODES","ALLOWED_ATTRIBUTES","ALLOWED_URI_PATTERN","ATTR_WHITESPACE_PATTERN","FORM_ELEMENT","sanitizeHTML","normalize","sanitizeNode","type$7","Text","textLinkTarget","disableLinks","markdownRenderer","markdown","sanitizeAndTransformLinks","unsafeHtml","tempDiv","querySelectorAll","dangerouslySetInnerHTML","line","displayLine","textToLabel","type$6","Html","styleScope","styleTag","scopedCss","cssString","cursor","topLevelRules","rule","extractTopLevelRules","selector","styles","firstBracket","splitRule","scopedSelector","sel","scopeSelector","ExpressionField","computeOn","evaluationMemo","expressionLoopPreventer","sendValue","shouldNotRecompute","registerExpressionExecution","type$4","Textfield","type$3","Textarea","textareaRef","autoSizeTextarea","computed","calculatedHeight","getPropertyValue","lineHeight","heightFromLines","displayHeight","_path$8","_extends$8","_path$7","SvgArrowDown","_extends$7","_path$6","SvgArrowUp","_extends$6","_path$5","SvgCaretLeft","xmlSpace","_extends$5","SvgCaretRight","type$2","Table","columnsExpression","dataSource","rowCount","sortBy","setSortBy","evaluatedColumns","fallbackColumns","evaluation","every","isColumn","useEvaluatedColumns","columnKeys","evaluatedDataSource","sortedData","direction","sort","chunkedData","chunks","item","chunk","currentPage","setCurrentPage","currentChunk","toggleSortBy","displayLabel","getHeaderAriaLabel","colSpan","cellData","page","column","remainingOptions","isDefined","generateInitialDemoData","demoData","demoDataKeys","FILE_PICKER_FILE_KEY_PREFIX","ids$1","EMPTY_ARRAY$1","FilePicker","fileInputRef","fileRegistry","filesKey","accept","evaluatedAccept","evaluatedMultiple","evaluationResult","useBooleanExpressionEvaluation","selectedFiles","getFiles","hasKey","DataTransfer","file","files","isInputDisabled","deleteFiles","updatedFilesKey","setFiles","click","_path$4","_extends$4","SvgDownload","DocumentPreview","documentEndpointBuilder","isValidDocument","useValidDocumentData","finalEndpoint","tryCatch","buildUrl","endpoint","URL","canParse","DocumentRenderer","documentMetadata","documentId","getErrors","metadata","PdfRenderer","pdfObjectUrl","setPdfObjectUrl","hasError","setHasError","objectUrl","response","fetch","ok","blob","createObjectURL","fetchPdf","revokeObjectURL","isInViewport","setIsInViewport","observer","IntersectionObserver","isIntersecting","threshold","observe","unobserve","useInViewport","singleDocumentContainerClassName","errorMessage","isContentTypePresent","contentType","fileName","DownloadButton","onDownloadError","download","Logo","Lightbox","onBackdropClick","rel","Link","PoweredBy","setOpen","toggleOpen","noop","FormComponent","schema","ariaLabel","onSubmit","onReset","filteredFormData","newData","applyConditions","useFilteredFormData","noValidate","Provider","FormFields","_formFields","register","EXPRESSION_PROPERTIES","TEMPLATE_PROPERTIES","getSchemaVariables","inputs","outputs","getAllComponents","expressionVariables","templateVariables","variable","getBindingVariables","bindingVariable","getAncestryList","formFieldId","ids","currentFormField","_parent","ConditionChecker","_formFieldRegistry","_pathRegistry","contextData","workingData","getFilterPath","_applyConditionsWithinScope","rootField","scopeContext","startHidden","expressionIndexes","scopeData","parentScopeData","executeRecursivelyOnFields","isClosed","isRepeatable","isHidden","_checkHideCondition","preventRecursion","repeaterValuePath","repeaterValue","newScopeContext","_cleanlyClearDataAtPath","getForm","workingValuePath","recurse","parentObject","_isEmptyObject","_isEmptyArray","ExpressionLanguageModule","__init__","ExpressionLoopPreventer","_computedExpressions","reset","expressionField","ExpressionFieldModule","MarkdownRenderer","MarkdownRendererModule","CommandStack","_handlerMap","_stack","_stackIdx","_currentExecution","actions","trigger","_injector","_uid","execute","command","_pushAction","_internalExecute","_popAction","canExecute","handler","_getHandler","_fire","emit","undo","_getUndoAction","_internalUndo","redo","_getRedoAction","_setHandler","registerHandler","handlerCls","instantiate","canUndo","canRedo","_atomicDo","revert","_markDirty","_revertedAction","qualifier","names","createEvent","_createId","execution","atomic","preExecute","_executedAction","postExecute","baseAction","elements","uniqueBy","stackIdx","commandModule","commandStack","UpdateFieldValidationHandler","validator","_form","_validator","oldErrors","validateField","updatedErrors","_setState","UpdateFieldInstanceValidationHandler","validateFieldInstance","ViewerCommands","_commandStack","registerHandlers","getHandlers","updateFieldValidation","ViewerCommandsModule","__depends__","_path$3","_extends$3","_path$2","SvgExpand","_extends$2","_path$1","_path2","SvgCollapse","_extends$1","_path","SvgAdd","_extends","SvgDelete","RepeatRenderManager","sharedRepeatState","repeaterField","dataPath","nonCollapsedItems","_getNonCollapsedItems","disableCollapse","hasChildren","showRemove","onDeleteItem","updatedValues","removedItem","parentExpressionContextInfo","itemValue","itemIndex","RepetitionScaffold","addButtonRef","setSharedRepeatState","collapseEnabled","showAdd","shouldScroll","scrolledElementRef","deps","scrollOptions","flagRefs","_scrollOptions","behavior","_flagRefs","itemToBeScrolled","scrollContainer","itemRect","getBoundingClientRect","containerRect","scrollIfVisible","bottom","topOffset","scrollTop","_getTopOffset","scroll","useScrollIntoView","newItem","_getInitializedFieldData","elementProps","localExpressionContextInfo","RepeatRenderModule","FN_REF","EventBus","_listeners","_destroy","InternalEvent","events","priority","callback","that","isFunction","actualCallback","self","_addListener","once","wrappedCallback","__isTomb","_removeListener","firstListener","returnValue","originalType","_invokeListeners","handleError","listener","_invokeListener","invokeFunction","newListener","previousListener","_getListeners","_setListeners","nextListener","listenerCallback","EMAIL_PATTERN","PHONE_PATTERN","VALIDATE_FEEL_PROPERTIES","Validator","_expressionLanguage","_conditionChecker","runNumberValidation","evaluatedValidation","evaluatedValidate","filteredData","evaluatedValue","oldEvaluateFEELValues","runPresetValidation","evaluateFEELValues","num","countDecimals","bigValue","bigIncrement","nextValue","validation","pattern","patternErrorMessage","isUncheckedCheckbox","isUnsetValue","isEmptyMultiselect","minLength","maxLength","validationType","Importer","fieldFactory","_fieldFactory","_formLayouter","importSchema","warnings","_cleanup","importedSchema","importFormField","calculateLayout","fieldAttrs","importFormFields","FieldFactory","attrs","fieldDefinition","_ids","parentPath","knownAncestorIds","canClaimPath","_ensureId","_ensureKey","claimPath","claimerId","_enforceDefaultPath","_getUniqueKeyPath","PathRegistry","_dataPaths","skipAncestryCheck","segment","_getNextSegment","repeaterId","claimCount","unclaimPath","formFieldConfig","callResult","replacements","cutoffNode","localValuePath","hasReplacement","replacement","_addIndexes","find","FormLayouter","_rows","addRow","rowsPerComponent","getRow","allRows","getRowForField","rowsForField","nextRowId","rowsInOrder","groupBy","groupByRow","formRows","getAll","FormFieldInstanceRegistry","_formFieldInstances","formFieldInfo","restInfo","isInstanceExpected","doesInstanceExist","getAllKeyed","formFieldDefinition","App","formContext","_id","newState","_update","submit","extractFileReferencesFromRemovedData","removedData","fileReferences","eventBusSymbol","formFieldRegistrySymbol","formFieldInstanceRegistrySymbol","EMPTY_ARRAY","FileRegistry","removeFileHandler","fileReference","getKeys","getAllFiles","CoreModule","importer","Form","_onEvent","_container","_createInjector","_state","invoke","attachTo","_emit","destroy","_detach","initializedData","_getSubmitData","getErrorPath","detach","setProperty","modules","_getModules","additionalModules","submitData","formFieldInstance","basePath","initializeFieldDataRecursively","valueData","initializedFieldValue","setImmediate","Ye","_once","C","emitterSnapshot","throws","touches","which","buttons","global","elementFromPoint","right","left","contentEditable","nextElementSibling","DebounceFactory","timeout","FormLayoutValidator","isInteger","sumColumns","sumFields","sumAutoCols","cols","emptyImage","img","Image","createEmptyImage","editorFormFieldClasses","preventDefault$1","EditorIFrame","DragAndDropContext","drake","FormEditorContext","useService$1","SvgClose","mixBlendMode","SvgDraggable","_mask","_path4","_path5","_path6","SvgSearch","SvgEmptyForm","mask","strokeLinecap","EditorText","EditorHtml","EditorTable","editorColumns","EditorExpressionField","placeholderContent","EditorDocumentPreview","editorFormFields","ModularSection","rootClass","RootElement","section","sectionConfig","setParent","shouldRender","setShouldRender","ParentElement","onAttach","onDetach","Root","FillContext","addFill","uid","removeFill","Fill","fillContext","SlotContext","fills","Slot","fillRoot","FillFragment","groupFn","_groupByGroupName","separatorFn","limit","filtered","slot","cropped","groups","buildFills","fillRenderer","separatorRenderer","groupsById","groupName","_comparePriority","SlotFillRoot","setFills","onSetFill","onRemoveFill","slotContext","PaletteEntry","icon","iconUrl","getPaletteIcon","modeling","formEditor","getIndefiniteArticle","fieldType","dataset","addFormField","PALETTE_GROUPS","Palette","initialPaletteEntries","collectPaletteEntries","paletteEntries","setPaletteEntries","searchTerm","setSearchTerm","groupEntries","simplifyString","str","simplifiedSearchTerm","simplifiedEntryLabel","simplifiedEntryType","handleInput","handleClear","FillRoot","margin","InjectedRendersRoot","injectedRenderers","fetchRenderers","injectedProps","CURSOR_CLS_PATTERN","mode","classes$1","removeMatching","DRAG_CONTAINER_CLS","DROP_CONTAINER_VERTICAL_CLS","DROP_CONTAINER_HORIZONTAL_CLS","DRAG_MOVE_CLS","DRAG_ROW_MOVE_CLS","DRAG_COPY_CLS","DRAG_NO_MOVE_CLS","ERROR_DROP_CLS","Dragging","formLayoutValidator","_formLayoutValidator","_modeling","getTargetIndex","targetRow","targetFormField","sibling","siblingFormFieldNode","siblingFormField","getFormFieldIndex$1","validateDrop","formFieldNode","rowId","targetParentId","isRow","getFormParent","rowError","targetParentFormField","currentParentFormField","targetParentPath","currentParentPath","fieldPath","moveField","targetIndex","sourceParent","sourceFormField","sourceIndex","sourceRow","moveFormField","createNewField","handleRowDrop","rowNode","siblingRowNode","siblingRow","handleElementDrop","cancel","createDragulaInstance","mirrorContainer","dragulaInstance","I","containers","moves","accepts","invalid","isContainer","transformOffset","copy","copySortSource","revertOnSpill","removeOnSpill","ignoreInputTextSelection","end","canMove","dragging","clientX","clientY","metaKey","ctrlKey","slideFactorX","slideFactorY","w","pageX","pageY","Ee","cls","handle","rowOffset","iconOffset","fieldFormIndex","FieldDragPreview","COLUMNS_REGEX","ELEMENT_RESIZING_CLS","FieldResizer","position","startColumns","newColumns","onResize","lastThis","active","lastArgs","requestAnimationFrame","dx","currentColumns","deltaX","asColumns","getParent","calculateNewColumns","columnNode","regex","draggable","onDragStart","getElementNode","startX","startY","onDrag","onEnd","dataTransfer","setDragImage","createDragger$1","startWidth","setResizing","onDragEnd","editFormField","unsetResizing","oneColumn","ContextPad","EmptyGroup","EmptyForm","Element$1","selection","hovered","setHovered","elementBounds","scrollContainerBounds","isElementLarger","isSelected","fieldEl","toggle","classes","onMouseOver","DebugColumns","getRemoveButtonTitle","parentField","getFormFieldIndex","removeFormField","FormEditor$1","propertiesPanel","propertiesPanelConfig","formContainerRef","propertiesPanelRef","setSelection","hasInitialized","setHasInitialized","handleSelectionChanged","setDrake","dragAndDropContext","onCreate","formRenderContext","hasDefaultPropertiesPanel","defaultPropertiesPanel","CreatePreview","handleCloned","original","paletteEntry","findPaletteEntry","renderConfig","compact","viewport","activeElement","preventScroll","formEditorContext","super","updateId","newId","_validateId","NOT_REGISTERED_ERROR","EditorActions","_actions","_registerDefaultActions","editorActions","zoomScroll","copyPaste","canvas","keyboardMove","keyboardMoveSelection","selectedElements","duplicate","paste","allowed","cuttableElements","cut","opts","stepZoom","zoom","removableElements","removeElements","moveCanvas","moveSelection","accelerated","_registerAction","isRegistered","unregister","getActions","BaseEditorActionsModule","FormEditorActions","EditorActionsModule","EditorTemplating","EditorExpressionLanguageModule","KEYS_COPY","KEYS_PASTE","KEYS_DUPLICATE","KEYS_CUT","KEYS_REDO","KEYS_UNDO","isCmd$1","altKey","isKey","isShift","shiftKey","isUndo","isRedo","KEYDOWN_EVENT","compatMessage","Keyboard","_config","_keydownHandler","_keyupHandler","unbind","bindTo","_target","KeyboardBindings","keyboard","registerBindings","_keyHandler","_isEventIgnored","keyEvent","_node","getBinding","addListener","removeListener","hasModifier","isCmd","KeyboardModule","keyboardBindings","FormEditorKeyboardBindings","FormEditorKeyboardModule","DraggingModule","CommandInterceptor","createHook","handlerFn","unwrap","fullEvent","unwrapEvent","preExecuted","executed","postExecuted","reverted","IdBehavior","unclaimId","claimId","KeyBehavior","unclaimKey","claimKey","PathBehavior","ValidateBehavior","newValidate","OptionsSourceBehavior","newProperties","isValuesSourceUpdate","COLUMNS_SOURCE_PROPERTIES","ColumnsSourceBehavior","oldProperties","isColumnSourceUpdate","oldColumns","oldColumnsExpression","TableDataSourceBehavior","BehaviorModule","idBehavior","keyBehavior","pathBehavior","validateBehavior","optionsSourceBehavior","columnsSourceBehavior","tableDataSourceBehavior","arrayAdd$1","arrayRemove","updatePath","refreshPathsRecursively","updateRow","FormLayoutUpdater","_formEditor","updateRowIds","updateLayout","setRowIds","AddFormFieldHandler","targetPath","EditFormFieldHandler","MoveFormFieldHandler","sourcePath","RemoveFormFieldHandler","UpdateIdClaimHandler","claiming","UpdateKeyClaimHandler","UpdatePathClaimHandler","valuePaths","Modeling","ModelingModule","formLayoutUpdater","Selection","_selection","newSelection","SelectionBehavior","SelectionModule","selectionBehavior","SectionModuleBase","sectionKey","_sectionKey","isSectionRendered","_onceSectionRendered","PaletteRenderer","PaletteModule","palette","ArrowIcon","CloseIcon","CreateIcon","DeleteIcon","DragIcon","ExternalLinkIcon","FeelIcon$1","LaunchIcon","OpenPopupIcon","Header","headerProvider","getElementIcon","getDocumentationRef","getElementLabel","getTypeLabel","documentationRef","ElementIcon","DescriptionContext","getDescriptionForId","ErrorsContext","EventContext","FeelLanguageContext","LayoutContext","setLayout","getLayoutForKey","setLayoutForKey","TooltipContext","tooltip","getTooltipForId","TooltipWrapper","forId","contextDescription","useTooltipContext","Tooltip","showDelay","hideDelay","visible","setVisible","showTimeoutRef","hideTimeoutRef","wrapperRef","tooltipRef","show","handleClickOutside","handleMouseLeave","getSelection","selectionRange","getRangeAt","commonAncestorContainer","anchorNode","focusNode","handleTooltipMouseEnter","renderTooltip","getTooltipPosition","onMouseLeave","refElement","refPosition","useDebounce","debounceFn","debouncedCallback","useError","useErrors","useEvent","eventContext","didMount","useLayoutState","newValue","useShowEntryEvent","onShow","onShowEntry","useStickyIntersectionObserver","scrollContainerSelector","setSticky","setScrollContainer","updateScrollContainer","newScrollContainer","Observer","intersectionRatio","rootMargin","useStaticCallback","callbackRef","shouldOpen","groupRef","edited","setEdited","sticky","scheduled","hasOneEditedEntry","isEdited","entryNode","cancelAnimationFrame","propertiesPanelContext","DataMarker","Component","Placeholder","DEFAULT_LAYOUT","DEFAULT_DESCRIPTION","DEFAULT_TOOLTIP","PropertiesPanel$1","placeholderProvider","layoutConfig","layoutChanged","descriptionConfig","descriptionLoaded","tooltipConfig","tooltipLoaded","createLayout","effect","isMounted","newLayout","useUpdateLayoutEffect","layoutContext","prevLayout","overrides","createDescriptionContext","descriptionContext","createTooltipContext","tooltipContext","setErrors","errorsContext","getEmpty","getMultiple","translateFallback","CollapsibleEntry","translate","placeholderLabel","ListItem","autoFocusEntry","autoOpen","focusableInput","noop$6","ListGroup","shouldSort","localItems","setLocalItems","addTriggered","setAddTriggered","prevElement","openItemIds","newItems","oldItems","newIds","oldIds","itemId","getNewItemIds","hasItems","numOfItems","Description$1","useDescriptionContext","localValue","setLocalValue","prefixId$8","handleChangeCallback","CheckboxEntry","getValue","isEdited$8","OpenPopupButton","noop$5","TemplatingEditor","tooltipContainer","enableGutters","onLint","onOpenPopup","popupOpen","contentAttributes","hostLanguage","singleLine","editor","setEditor","buffer","setBuffer","useBufferedFocus$1","lineWrap","noop$4","FeelEditor","onKeyDownProp","onFeelToggle","feelLanguageContext","builtins","dialect","parserDialect","useBufferedFocus","range","ranges","mainIndex","lineWrapping","setVariables","setPlaceholder","FeelIndicator","noop$3","FeelIcon","feel","feelOptionalLabel","pointerType","isCmdWithChar","ToggleSwitch","switcherLabel","prefixId$7","handleInputCallback","ToggleSwitchEntry","isEdited$7","NumberField","validity","valid","parseFloat","prefixId$6","spellCheck","NumberFieldEntry","globalError","localError","setLocalError","newValidationError","isEdited$6","noop$2","FeelTextfield","commitValue","OptionalComponent","OptionalFeelInput","editorRef","containerRef","feelActive","feelOnlyValue","_setFocus","isPopupOpen","setIsPopupOpen","setFocus","handleFeelToggle","handleLocalInput","handleOnKeyDown","flush","handleLint","lint","syntaxError","report","handleOpenPopup","entryId","sourceElement","copyHandler","clipboardData","setData","getData","pasteHandler","isFieldEmpty","isAllSelected","trimmedValue","prefixId$5","setSelectionRange","OptionalFeelNumberField","OptionalFeelToggleSwitch","FeelEntry","example","validationError","setValidationError","FeelNumberEntry","FeelToggleSwitchEntry","FeelTemplatingEntry","isEdited$5","prefixId$4","SelectEntry","getOptions","isEdited$3","resizeToContents","TextArea","monospace","autoResize","resizeObserver","ResizeObserver","newVisible","contentRect","disconnect","useElementVisible","prefixId$2","isEdited$1","prefixId$1","TextfieldEntry","Popup","globalRef","delayInitialFocus","onPostActivate","onPostDeactivate","returnFocus","closeOnEscape","focusTrapRef","localRef","popupRef","handleFocus","activate","clickOutsideDeactivates","fallbackFocus","returnFocusOnDeactivate","deactivate","getPopupParent","FeelPopup$1","isAutoCompletionOpen","Title","showCloseButton","closeButtonTooltip","Body","onKeyDownCapture","autoCompletionOpen","getPopupTitle","popupTitle","getPopupPosition","viewportWidth","innerWidth","clientWidth","viewportHeight","innerHeight","rest","startPosition","newPosition","dragPreviewRef","titleRef","onMove","dy","popupParent","dragPreview","createDragger","bounds","Footer","FeelPopup","_isOpen","popupConfig","_openPopup","_closePopup","feelPopupContainer","getFeelPopupLinks","FeelPopupRenderer","_element","_renderPopup","_removePopup","getContainer","domNode","feelPopup","feelPopupRenderer","FormPropertiesPanelContext","PropertiesPanelPlaceholderProvider","EMPTY","PropertiesPanel","getProviders","selectionModule","selectedFormField","refresh","editField","providers","provider","getGroups","updater","PropertiesPanelHeaderProvider","getPropertiesPanelHeaderProvider","onFocusCapture","onBlurCapture","PropertiesPanelRenderer","_render","_getProviders","registerProvider","ActionEntry","Action","isDefaultVisible","useVariables","getSchema","AltTextEntry","AltText","ColumnsEntry","Columns","asOption","arrayAdd","isValidDotPath","isProhibitedPath","prohibitedSegments","LABELED_NON_INPUTS","INPUTS","OPTIONS_INPUTS","hasIntegerPathSegment","isEditedFromDefaultFactory","includeEmptyAsDefault","codeMirrorContent","innerText","isTrueDefaultToggleSwitchEntryEdited","DescriptionEntry","EMPTY_OPTION","DefaultValueEntry","matchers","defaultValueBase","DefaultValueCheckbox","DefaultValueNumber","DefaultValueSingleSelect","DefaultValueTextfield","DefaultValueTextarea","parseStringToBoolean","decimalDigitsSet","TextAreaEntry","DisabledEntry","Disabled","IdEntry","Id","SPACE_REGEX","containsSpace","idValue","ID_REGEX","QNAME_REGEX","KeyEntry","Key$2","oldPath","newPath","canClaim","PathEntry","Path","simpleBoolEntryFactory","isTrueDefault","SimpleBoolComponent","simpleSelectEntryFactory","optionsArray","SimpleSelectComponent","simpleRangeIntegerEntryFactory","SimpleRangeIntegerEntry","MIN_SAFE_INTEGER","MAX_SAFE_INTEGER","GroupAppearanceEntry","LabelEntry","DateLabel","TimeLabel","Label$2","getLabelText","HeightEntry","Height","validate$9","HTTPS_PATTERN","IFrameUrlEntry","Url","validate$8","ImageSourceEntry","Source$1","isTextEdited","TextEntry","description$3","HtmlEntry","Content","description$2","validate$7","NumberEntries","NumberDecimalDigits","NumberArrowStep","validateNumberEntries","minimumValue","trimmed","clearLeadingZeroes","ExpressionFieldEntries","ExpressionFieldExpression","ExpressionFieldComputeOn","NumberSerializationEntry","SerializeToString","DateTimeEntry","DateTimeSubtypeSelect","Use24h","initTimeConfig","initDateConfig","oldValue","timeConfigPaths","clearTimeConfig","dateConfigPaths","clearDateConfig","isTimeIntervalEdited","DateTimeConstraintsEntry","subtypes","TimeIntervalSelect","DisallowPassedDates","timeIntervals","isTimeFormatEdited","DateTimeFormatEntry","TimeFormatSelect","SelectEntries","ValueEntry","idPrefix","validateFactory","Label$1","Value$1","CustomValueEntry","Key$1","Value","oldKey","newKey","updateKey","updateValue","AutoFocusSelectEntry","prevValue","isOptionsSourceEdited","OptionsSourceSelectEntry","ValuesSourceSelect","getAutoFocusEntryId$1","valueSource","newField","valuesSource","InputKeyOptionsSourceEntry","InputValuesKey","validate$6","StaticOptionsSourceEntry","without","removeEntry","labelOrValueIsAlreadyAssignedForIndex","getIndexedEntry","existingEntry","AdornerEntry","PrefixAdorner","SuffixAdorner","ReadonlyEntry","Readonly","LayouterAppearanceEntry","RepeatableEntry","nonCollapseItemsEntry","ConditionEntry","Condition","OptionsExpressionEntry","OptionsExpression","TableDataSourceEntry","Source","validate$5","PaginationEntry","Pagination","path$2","RowCountEntry","RowCount","validate$4","OPTIONS","SELECT_OPTIONS","COLUMNS_PATH","COLUMNS_EXPRESSION_PATH","isHeadersSourceEdited","HeadersSourceSelectEntry","HeadersSourceSelect","getAutoFocusEntryId","PATH","ColumnsExpressionEntry","ColumnsExpression","validate$3","path$1","labelPath","ColumnEntry","Key","validate$2","StaticColumnsSourceEntry","VersionTagEntry","VersionTag","AcceptEntry","Accept","description$1","MultipleEntry","Multiple","DocumentsDataSourceEntry","DocumentsDataSource","validate$1","MaxHeightEntry","MaxHeight","GeneralGroup","SerializationGroup","ConstraintsGroup","VALIDATION_TYPE_OPTIONS","custom","email","phone","ValidationGroup","isCustomValidation","hasPattern","Required","ValidationType","MinLength","MaxLength","Pattern","PatternErrorMessage","Min","Max","OptionsGroups","propertiesPanelEntries","hasOptionsGroupsConfigured","CustomPropertiesGroup","removeKey","AppearanceGroup","LayoutGroup","SecurityAttributesGroup","securityEntries","definition","Advisory","createEntries","ConditionGroup","TableHeaderGroups","fieldId","areStaticColumnsEnabled","TOOLTIP_TEXT","PropertiesProvider","_filterVisibleEntries","hasEntryConfigured","PropertiesPanelModule","propertiesProvider","RenderInjector","registeredRenderers","attachRenderer","identifier","detachRenderer","RenderInjectionModule","renderInjector","SvgRepeat","EditorRepeatRenderManager","FormEditor","exporter","saveSchema","exportDetails","schemaVersion","exportSchema","Modal","handleKey","EmbedModal","serializeValue","fieldRef","snippet","variablesFacet","define","completions","facet","objectOptions","view","completion","beforeChar","sliceString","lineAt","indentation","baseInsert","insert","dispatch","changes","anchor","propertyNameOptions","finalOptions","nodeBefore","pos","word","matchBefore","explicit","boost","NO_LINT_CLS","JSONEditor","editorPlaceholder","emitter","mitt","languageCompartment","of","tabSizeCompartment","tabSize","autocompletionConfCompartment","placeholderLinterExtension","dom","override","updateListener","docChanged","createState","diff","oldStr","newStr","endOld","endNew","findDiff","effects","reconfigure","getView","Section","headerItems","HeaderItem","PlaygroundRoot","actionsConfig","exporterConfig","viewerProperties","editorProperties","viewerAdditionalModules","editorAdditionalModules","apiLinkTarget","onInit","display","displayActions","editorContainerRef","paletteContainerRef","propertiesPanelContainerRef","viewerContainerRef","inputDataContainerRef","outputDataContainerRef","formEditorRef","formViewerRef","inputDataRef","outputDataRef","showEmbed","setShowEmbed","setSchema","load","inputDataEditor","createDataEditorPlaceholder","outputDataEditor","formViewer","initialDemoData","currentData","updateOutputData","initialSchema","api","attachDataContainer","attachResultContainer","attachFormContainer","attachEditorContainer","attachPaletteContainer","attachPropertiesPanelContainer","getDataEditor","getEditor","getResultView","getState","handleDownload","hideEmbedModal","showEmbedModal","Playground","handleDrop","extraArgs","overlay","onDrop","results","onDragover","_event","arr","onLeave","types","isDragAllowed","dropEffect","markup","domify","pointerEvents","createOverlay","fileDrop","safe","attachPreviewContainer","CollapsiblePanel","collapseTo","onToggle","getIcon","CollapsedPreview","onTogglePreview","previewContainerRef","FORM_PREVIEW_IDX","FORM_INPUT_IDX","FORM_OUTPUT_IDX","TOGGLABLE_CONTAINERS","PIPE_EVENTS","PlaygroundComponent","playgroundRef","dataContainerRef","resultContainerRef","propertiesContainerRef","inlinePropertiesPanel","collapse","_ref","inputOpen","outputOpen","previewOpen","setContainersLayout","playground","attachComponents","bindDropTargetListeners","CamundaFormPlayground","safeRef","module","_onInit","strFileName","strMimeType","defaultMime","mimeType","payload","myBlob","Blob","MozBlob","WebKitBlob","ajax","XMLHttpRequest","responseType","send","navigator","msSaveBlob","dataUrlToBlob","saver","tempUiArr","Uint8Array","mx","strUrl","binData","atob","decodeURIComponent","uiArr","winMode","userAgent","confirm","location","btoa","encodeURIComponent","readAsDataURL","DataView","getNative","hashClear","hashDelete","hashGet","hashHas","hashSet","Hash","listCacheClear","listCacheDelete","listCacheGet","listCacheHas","listCacheSet","ListCache","mapCacheClear","mapCacheDelete","mapCacheGet","mapCacheHas","mapCacheSet","MapCache","setCacheAdd","setCacheHas","SetCache","__data__","stackClear","stackDelete","stackGet","stackHas","stackSet","Stack","WeakMap","predicate","resIndex","baseTimes","isArguments","isBuffer","isIndex","isTypedArray","inherited","isArr","isArg","isBuff","isType","skipIndexes","keysFunc","symbolsFunc","getRawTag","objectToString","symToStringTag","toStringTag","baseGetTag","isObjectLike","baseIsEqualDeep","baseIsEqual","bitmask","customizer","equalArrays","equalByTag","equalObjects","getTag","argsTag","arrayTag","objectTag","equalFunc","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","isMasked","toSource","reIsHostCtor","funcProto","objectProto","funcToString","reIsNative","isLength","typedArrayTags","isPrototype","nativeKeys","iteratee","cache","coreJsData","arraySome","cacheHas","isPartial","arrLength","othLength","arrStacked","othStacked","seen","arrValue","othValue","compared","othIndex","mapToArray","setToArray","symbolProto","symbolValueOf","byteLength","byteOffset","convert","stacked","getAllKeys","objProps","objLength","objStacked","skipCtor","objValue","objCtor","othCtor","freeGlobal","baseGetAllKeys","getSymbols","isKeyable","baseIsNative","nativeObjectToString","isOwn","unmasked","arrayFilter","stubArray","propertyIsEnumerable","nativeGetSymbols","getOwnPropertySymbols","symbol","mapTag","promiseTag","setTag","weakMapTag","dataViewTag","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","ArrayBuffer","Ctor","ctorString","nativeCreate","reIsUint","maskSrcKey","IE_PROTO","assocIndexOf","getMapData","overArg","freeExports","freeModule","freeProcess","process","nodeUtil","require","binding","freeSelf","pairs","LARGE_ARRAY_SIZE","baseIsArguments","stubFalse","Buffer","baseIsTypedArray","baseUnary","nodeIsTypedArray","arrayLikeKeys","baseKeys","isArrayLike","__h","__N","componentWillUpdate","__s","useDebugValue","z","CLASS_PATTERN","hasOwnProp","annotate","CONSTRUCTOR_ARGS","FN_ARGS","FN_ARG","parseAnnotations","isClass","argMatch","Injector","currentlyResolving","_providers","instances","_instances","msg","pivot","fnDef","locals","dependencies","dep","createPrivateInjectorFactory","childInjector","createChild","forceNewInstances","fromParentModule","matchedScopes","privateInjectorsCache","privateChildInjectors","privateChildFactories","cacheIdx","privateChildInjector","privateChildInjectorFactory","$scope","scope","factoryMap","factory","createInitializer","moduleDefinition","initializers","initializer","loadModule","moduleExports","__exports__","nestedModules","__modules__","clonedModule","privateInjector","getFromPrivateInjector","typeDeclaration","arrayUnwrap","resolveDependencies","moduleDefinitions","initialized","bootstrap"],"sourceRoot":""}