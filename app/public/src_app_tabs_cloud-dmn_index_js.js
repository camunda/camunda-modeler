"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkcamunda_modeler_client"] = self["webpackChunkcamunda_modeler_client"] || []).push([["src_app_tabs_cloud-dmn_index_js"],{

/***/ "./src/app/tabs/cloud-dmn/DmnEditor.js"
/*!*********************************************!*\
  !*** ./src/app/tabs/cloud-dmn/DmnEditor.js ***!
  \*********************************************/
(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_ENGINE_PROFILE: () => (/* binding */ DEFAULT_ENGINE_PROFILE),\n/* harmony export */   DmnEditor: () => (/* binding */ DmnEditor),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"../node_modules/react/index.js\");\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! min-dash */ \"../node_modules/min-dash/dist/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ \"../node_modules/classnames/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _primitives__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../primitives */ \"./src/app/primitives/index.js\");\n/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../util */ \"./src/util/index.js\");\n/* harmony import */ var _dmn_util_configure__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../dmn/util/configure */ \"./src/app/tabs/dmn/util/configure.js\");\n/* harmony import */ var _cached__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../cached */ \"./src/app/cached/index.js\");\n/* harmony import */ var _dmn_OverviewContainer__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../dmn/OverviewContainer */ \"./src/app/tabs/dmn/OverviewContainer.js\");\n/* harmony import */ var _resizable_container_PropertiesPanelContainer__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../resizable-container/PropertiesPanelContainer */ \"./src/app/resizable-container/PropertiesPanelContainer.js\");\n/* harmony import */ var _modeler__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./modeler */ \"./src/app/tabs/cloud-dmn/modeler/index.js\");\n/* harmony import */ var _util_dom_isInput__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../util/dom/isInput */ \"./src/util/dom/isInput.js\");\n/* harmony import */ var _dmn_getDmnEditMenu__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../dmn/getDmnEditMenu */ \"./src/app/tabs/dmn/getDmnEditMenu.js\");\n/* harmony import */ var _dmn_getDmnWindowMenu__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../dmn/getDmnWindowMenu */ \"./src/app/tabs/dmn/getDmnWindowMenu.js\");\n/* harmony import */ var _dmn_DmnEditor_less__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../dmn/DmnEditor.less */ \"./src/app/tabs/dmn/DmnEditor.less\");\n/* harmony import */ var _util_generateImage__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../util/generateImage */ \"./src/app/util/generateImage.js\");\n/* harmony import */ var _util_Metadata__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../util/Metadata */ \"./src/util/Metadata.js\");\n/* harmony import */ var _util_namespace__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../util/namespace */ \"./src/app/tabs/util/namespace.js\");\n/* harmony import */ var _bpmn_io_dmn_migrate__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @bpmn-io/dmn-migrate */ \"../node_modules/@bpmn-io/dmn-migrate/dist/index.js\");\n/* harmony import */ var _EngineProfile__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../EngineProfile */ \"./src/app/tabs/EngineProfile.js\");\n/* harmony import */ var _EngineProfileHelper__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../EngineProfileHelper */ \"./src/app/tabs/EngineProfileHelper.js\");\n/* harmony import */ var _util_Engines__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../util/Engines */ \"./src/util/Engines.js\");\n/**\r\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\r\n * under one or more contributor license agreements. See the NOTICE file\r\n * distributed with this work for additional information regarding copyright\r\n * ownership.\r\n *\r\n * Camunda licenses this file to you under the MIT; you may not use this file\r\n * except in compliance with the MIT License.\r\n */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst EXPORT_AS = ['png', 'jpeg', 'svg'];\nconst NAMESPACE_URL_DMN11 = 'http://www.omg.org/spec/DMN/20151101/dmn.xsd',\n  NAMESPACE_URL_DMN12 = 'http://www.omg.org/spec/DMN/20180521/MODEL/';\nconst CONFIG_KEY = 'editor.askDmnMigration';\nconst DEFAULT_ENGINE_PROFILE = {\n  executionPlatform: _util_Engines__WEBPACK_IMPORTED_MODULE_20__.ENGINES.CLOUD,\n  executionPlatformVersion: undefined\n};\nclass DmnEditor extends _cached__WEBPACK_IMPORTED_MODULE_6__.CachedComponent {\n  constructor(props) {\n    super(props);\n    this.state = {};\n    this.ref = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createRef();\n    this.overviewRef = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createRef();\n    this.propertiesPanelRef = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createRef();\n    this.handleResize = (0,_util__WEBPACK_IMPORTED_MODULE_4__.debounce)(this.handleResize);\n    this.engineProfile = new _EngineProfileHelper__WEBPACK_IMPORTED_MODULE_19__[\"default\"]({\n      get: () => {\n        const modeler = this.getModeler();\n        const activeViewer = modeler.getActiveViewer();\n        const executionPlatformHelper = activeViewer.get('executionPlatform');\n        const executionPlatform = executionPlatformHelper.getExecutionPlatform();\n        if (!executionPlatform) {\n          return DEFAULT_ENGINE_PROFILE;\n        }\n        return {\n          executionPlatform: executionPlatform.name,\n          executionPlatformVersion: (0,_EngineProfile__WEBPACK_IMPORTED_MODULE_18__.toSemver)(executionPlatform.version)\n        };\n      },\n      set: engineProfile => {\n        const modeler = this.getModeler();\n        const executionPlatformHelper = modeler.getActiveViewer().get('executionPlatform');\n        executionPlatformHelper.setExecutionPlatform({\n          name: engineProfile.executionPlatform,\n          version: engineProfile.executionPlatformVersion\n        });\n      },\n      getCached: () => this.getCached(),\n      setCached: state => this.setCached(state)\n    });\n  }\n  componentDidMount() {\n    this._isMounted = true;\n    const modeler = this.getModeler();\n    this.listen('on');\n    modeler.attachTo(this.ref.current);\n    const activeViewer = modeler.getActiveViewer();\n    let propertiesPanel;\n    if (activeViewer) {\n      propertiesPanel = activeViewer.get('propertiesPanel', false);\n      if (propertiesPanel) {\n        propertiesPanel.attachTo(this.propertiesPanelRef.current);\n      }\n\n      // attach overview\n      if (this.overviewRef.current) {\n        modeler.attachOverviewTo(this.overviewRef.current);\n        if (isOverviewOpen(this.props)) {\n          modeler._emit('overviewOpen');\n        }\n      }\n    }\n\n    // grid may not be available, depending on the editor\n    activeViewer && activeViewer.get('grid', false)?.toggle(this.props.layout?.grid?.visible !== false);\n    this.checkImport();\n  }\n  componentWillUnmount() {\n    this._isMounted = false;\n    const modeler = this.getModeler();\n    this.listen('off');\n    modeler.detach();\n  }\n  componentDidUpdate(prevProps) {\n    this.checkImport(prevProps);\n\n    // We can only notify interested parties about overview open once its parent component was\n    // rendered\n    if (isOverviewOpened(prevProps, this.props)) {\n      const modeler = this.getModeler();\n      modeler._emit('overviewOpen');\n    }\n    if (isGridLayoutChange(prevProps, this.props)) {\n      const activeViewer = this.getModeler().getActiveViewer();\n\n      // grid may not be available, depending on the editor\n      activeViewer.get('grid', false)?.toggle(this.props.layout?.grid?.visible !== false);\n    }\n    if (isCachedStateChange(prevProps, this.props)) {\n      this.handleChanged();\n    }\n  }\n  ifMounted = fn => {\n    return (...args) => {\n      if (this._isMounted) {\n        fn(...args);\n      }\n    };\n  };\n  listen(fn) {\n    const modeler = this.getModeler();\n    ['saveXML.done', 'attach', 'view.selectionChanged', 'view.directEditingChanged', 'propertiesPanel.focusin', 'propertiesPanel.focusout'].forEach(event => {\n      modeler[fn](event, this.handleChanged);\n    });\n    modeler[fn]('views.changed', this.viewsChanged);\n    modeler[fn]('view.contentChanged', this.viewContentChanged);\n    modeler[fn]('error', this.handleError);\n  }\n  isDirty = () => {\n    let {\n      dirty,\n      modeler,\n      stackIdx\n    } = this.getCached();\n    return dirty || modeler.getStackIdx() !== stackIdx;\n  };\n  viewContentChanged = () => {\n    this.handleChanged();\n  };\n  handleImport(error, warnings) {\n    const {\n      activeSheet,\n      onImport,\n      xml\n    } = this.props;\n    const modeler = this.getModeler();\n    const stackIdx = modeler.getStackIdx();\n    let engineProfile = null;\n    if (!error) {\n      try {\n        engineProfile = this.engineProfile.get();\n      } catch (err) {\n        error = err;\n      }\n    }\n    onImport(error, warnings);\n    if (error) {\n      this.setCached({\n        dirty: false,\n        engineProfile,\n        lastXML: null\n      });\n    } else {\n      this.setCached({\n        dirty: false,\n        engineProfile,\n        lastXML: xml,\n        stackIdx\n      });\n      this.setState({\n        importing: false\n      });\n      if (activeSheet && activeSheet.element) {\n        return this.open(activeSheet.element);\n      }\n      const initialView = modeler._getInitialView(modeler._views);\n      this.open(initialView.element);\n    }\n  }\n  viewsChanged = ({\n    activeView\n  }) => {\n    const {\n      activeSheet: previousActiveSheet,\n      onSheetsChanged\n    } = this.props;\n    const {\n      dirty,\n      stackIdx\n    } = this.getCached();\n    const previousActiveView = this.getCached().activeView;\n    const modeler = this.getModeler();\n    const {\n      element\n    } = activeView;\n    const activeSheet = {\n      ...activeView,\n      id: element.id,\n      name: 'Diagram',\n      order: -1\n    };\n    if (previousActiveSheet.id !== activeSheet.id) {\n      onSheetsChanged([activeSheet], activeSheet);\n    }\n    const activeViewer = modeler.getActiveViewer();\n    let propertiesPanel;\n\n    // only attach properties panel if view is switched\n    if (activeViewer && (!previousActiveView || previousActiveView.element !== activeView.element)) {\n      propertiesPanel = activeViewer.get('propertiesPanel', false);\n      if (propertiesPanel) {\n        propertiesPanel.attachTo(this.propertiesPanelRef.current);\n      }\n    }\n\n    // grid may not be available, depending on the editor\n    activeViewer && activeViewer.get('grid', false)?.toggle(this.props.layout?.grid?.visible !== false);\n\n    // attach or detach overview\n    if (activeView.type === 'drd') {\n      modeler.detachOverview();\n    } else if (previousActiveView && previousActiveView.type === 'drd') {\n      modeler.attachOverviewTo(this.overviewRef.current);\n      if (isOverviewOpen(this.props)) {\n        modeler._emit('overviewOpen');\n      }\n    }\n\n    // must be called last\n    this.setCached({\n      activeView,\n      dirty: dirty || modeler.getStackIdx() !== stackIdx\n    });\n    this.handleChanged();\n  };\n  undo = () => {\n    const modeler = this.getModeler();\n    modeler.getActiveViewer().get('commandStack').undo();\n  };\n  redo = () => {\n    const modeler = this.getModeler();\n    modeler.getActiveViewer().get('commandStack').redo();\n  };\n  handleChanged = () => {\n    const modeler = this.getModeler();\n    const {\n      onChanged\n    } = this.props;\n    const activeViewer = modeler.getActiveViewer(),\n      activeView = modeler.getActiveView();\n    if (!activeViewer) {\n      return;\n    }\n    const dirty = this.isDirty();\n    const commandStack = activeViewer.get('commandStack');\n    const hasPropertiesPanel = !!activeViewer.get('propertiesPanel', false);\n    const hasGrid = !!activeViewer.get('grid', false);\n    const hasOverview = activeView.type !== 'drd';\n    const inputActive = (0,_util_dom_isInput__WEBPACK_IMPORTED_MODULE_10__.active)();\n    const newState = {\n      close: true,\n      copy: false,\n      cut: false,\n      dirty,\n      exportAs: 'saveSVG' in activeViewer ? EXPORT_AS : false,\n      inputActive,\n      overview: hasOverview,\n      paste: false,\n      platform: 'cloud',\n      propertiesPanel: hasPropertiesPanel,\n      grid: hasGrid,\n      redo: commandStack.canRedo(),\n      save: true,\n      undo: commandStack.canUndo()\n    };\n    const selection = activeViewer.get('selection', false);\n    const hasSelection = selection && !!selection.get();\n    const selectionLength = hasSelection ? selection.get().length : 0;\n    let editMenu;\n    if (activeView.type === 'drd') {\n      const canvasFocused = activeViewer.get('canvas').isFocused();\n      (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.assign)(newState, {\n        align: selectionLength > 1,\n        canvasFocused,\n        defaultCopyCutPaste: !canvasFocused,\n        defaultUndoRedo: !canvasFocused,\n        distribute: selectionLength > 2,\n        editLabel: canvasFocused && !!selectionLength,\n        find: canvasFocused,\n        lassoTool: canvasFocused,\n        moveCanvas: canvasFocused,\n        moveSelection: canvasFocused && !!selectionLength,\n        removeSelected: !canvasFocused || !!selectionLength,\n        selectAll: canvasFocused || inputActive,\n        zoom: true\n      });\n      editMenu = (0,_dmn_getDmnEditMenu__WEBPACK_IMPORTED_MODULE_11__.getDmnDrdEditMenu)(newState);\n    } else if (activeView.type === 'decisionTable') {\n      (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.assign)(newState, {\n        defaultCopyCutPaste: true,\n        defaultUndoRedo: false,\n        hasSelection: activeViewer.get('selection').hasSelection(),\n        removeSelected: inputActive,\n        selectAll: inputActive\n      });\n\n      // ensure backwards compatibility\n      // https://github.com/camunda/camunda-modeler/commit/78357e3ed9e6e0255ac8225fbdf451a90457e8bf#diff-bd5be70c4e5eadf1a316c16085a72f0fL17\n      newState.dmnRuleEditing = !!selectionLength;\n      newState.dmnClauseEditing = !!selectionLength;\n      editMenu = (0,_dmn_getDmnEditMenu__WEBPACK_IMPORTED_MODULE_11__.getDmnDecisionTableEditMenu)(newState);\n    } else if (activeView.type === 'literalExpression') {\n      (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.assign)(newState, {\n        defaultCopyCutPaste: true,\n        defaultUndoRedo: true,\n        removeSelected: true,\n        selectAll: true\n      });\n\n      // The literalExpressions editor does not fire events when\n      // elements are selected, so we always set inputActive to true.\n      // cf. https://github.com/camunda/camunda-modeler/pull/2394\n      newState.inputActive = true;\n      editMenu = (0,_dmn_getDmnEditMenu__WEBPACK_IMPORTED_MODULE_11__.getDmnLiteralExpressionEditMenu)(newState);\n    } else if (activeView.type === 'boxedExpression') {\n      // TODO(@barmac): handle boxed expression differently than literal expression when needed\n      (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.assign)(newState, {\n        defaultCopyCutPaste: true,\n        defaultUndoRedo: true,\n        removeSelected: true,\n        selectAll: true\n      });\n\n      // The boxedExpression editor does not fire events when\n      // elements are selected, so we always set inputActive to true.\n      // cf. https://github.com/camunda/camunda-modeler/pull/2394\n      newState.inputActive = true;\n      editMenu = (0,_dmn_getDmnEditMenu__WEBPACK_IMPORTED_MODULE_11__.getDmnBoxedExpressionEditMenu)(newState);\n    }\n\n    // ensure backwards compatibility\n    // https://github.com/camunda/camunda-modeler/commit/78357e3ed9e6e0255ac8225fbdf451a90457e8bf#diff-bd5be70c4e5eadf1a316c16085a72f0fL17\n    newState.activeEditor = activeView.type;\n    newState.dmn = true;\n    newState.editable = true;\n    newState.elementsSelected = !!selectionLength;\n    newState.inactiveInput = !inputActive;\n    const windowMenu = (0,_dmn_getDmnWindowMenu__WEBPACK_IMPORTED_MODULE_12__[\"default\"])(newState);\n    if (typeof onChanged === 'function') {\n      onChanged({\n        ...newState,\n        editMenu,\n        windowMenu\n      });\n    }\n    const engineProfile = this.engineProfile.get();\n    this.engineProfile.setCached(engineProfile);\n    this.setState(newState);\n  };\n  handleError = event => {\n    const {\n      error\n    } = event;\n    const {\n      onError\n    } = this.props;\n    onError(error);\n  };\n  handleDistributeElements = type => {\n    this.triggerAction('distributeElements', {\n      type\n    });\n  };\n  handleAlignElements = type => {\n    this.triggerAction('alignElements', {\n      type\n    });\n  };\n  checkImport(prevProps) {\n    if (!this.isImportNeeded(prevProps)) {\n      return this.checkSheetChange(prevProps);\n    }\n    const {\n      xml\n    } = this.props;\n    this.importXML(xml);\n  }\n  isImportNeeded(prevProps) {\n    const {\n      importing\n    } = this.state;\n    if (importing) {\n      return false;\n    }\n    const {\n      xml\n    } = this.props;\n    if (prevProps && prevProps.xml === xml) {\n      return false;\n    }\n    const {\n      lastXML\n    } = this.getCached();\n    return xml !== lastXML;\n  }\n  async importXML(xml) {\n    const {\n      modeler\n    } = this.getCached();\n    this.setState({\n      importing: true\n    });\n    const importedXML = await this.handleMigration(xml);\n    if (!importedXML) {\n      this.props.onAction('close-tab');\n      return;\n    }\n    return modeler.importXML(importedXML).then(this.ifMounted(({\n      warnings\n    }) => this.handleImport(null, warnings)), this.ifMounted(error => this.handleImport(error, error.warnings)));\n  }\n  handleMigration = async xml => {\n    const used = (0,_util_namespace__WEBPACK_IMPORTED_MODULE_16__.findUsages)(xml, NAMESPACE_URL_DMN11) || (0,_util_namespace__WEBPACK_IMPORTED_MODULE_16__.findUsages)(xml, NAMESPACE_URL_DMN12);\n    if (!used) {\n      return xml;\n    }\n    const askDmnMigration = await this.props.getConfig(CONFIG_KEY);\n    if (askDmnMigration !== false) {\n      const shouldMigrate = await this.shouldMigrate();\n      if (!shouldMigrate) {\n        return null;\n      }\n    }\n    const {\n      onContentUpdated\n    } = this.props;\n    let migratedXML;\n    try {\n      migratedXML = await (0,_bpmn_io_dmn_migrate__WEBPACK_IMPORTED_MODULE_17__.migrateDiagram)(xml);\n    } catch (err) {\n      this.handleError({\n        error: err\n      });\n      return null;\n    }\n    onContentUpdated(migratedXML);\n    return migratedXML;\n  };\n  async shouldMigrate() {\n    const {\n      onAction\n    } = this.props;\n    const {\n      button,\n      checkboxChecked\n    } = await onAction('show-dialog', getMigrationDialog());\n    if (button === 'yes' && checkboxChecked) {\n      this.props.setConfig(CONFIG_KEY, false);\n    }\n    return button === 'yes';\n  }\n  checkSheetChange(prevProps) {\n    if (!this.shouldOpenActiveSheet(prevProps)) {\n      return;\n    }\n    this.open(this.props.activeSheet.element);\n  }\n  shouldOpenActiveSheet(prevProps) {\n    return !prevProps || prevProps.activeSheet.id !== this.props.activeSheet.id;\n  }\n  open = element => {\n    const {\n      activeView,\n      dirty,\n      modeler,\n      stackIdx\n    } = this.getCached();\n    let view = modeler.getView(element);\n    if (!view) {\n      // try to find view based on ID\n      // after re-import reference comparison won't work anymore\n      view = modeler.getViews().find(view => view.element.id === element.id);\n    }\n    if (!view) {\n      return;\n    }\n    if (!activeView || activeView.element !== element) {\n      // dirty must be cached before switching active view\n      // if active view has unsaved changes editor must still be dirty after switching active view\n      this.setCached({\n        dirty: dirty || this.getModeler().getStackIdx() !== stackIdx\n      });\n      modeler.open(view);\n      this.setCached({\n        stackIdx: this.getModeler().getStackIdx()\n      });\n    }\n  };\n  triggerAction = (action, context) => {\n    const {\n      layout = {},\n      onLayoutChanged: handleLayoutChange\n    } = this.props;\n    const {\n      propertiesPanel: propertiesPanelLayout = {}\n    } = layout;\n    const modeler = this.getModeler();\n    if (action === 'resize') {\n      return this.handleResize();\n    }\n    if (action === 'toggleGrid') {\n      const newLayout = {\n        grid: {\n          visible: layout.grid?.visible === false\n        }\n      };\n      return handleLayoutChange(newLayout);\n    }\n    if (action === 'toggleProperties') {\n      const newLayout = {\n        propertiesPanel: {\n          ..._resizable_container_PropertiesPanelContainer__WEBPACK_IMPORTED_MODULE_8__.DEFAULT_LAYOUT,\n          ...propertiesPanelLayout,\n          open: !propertiesPanelLayout.open\n        }\n      };\n      return handleLayoutChange(newLayout);\n    }\n    if (action === 'zoomIn') {\n      action = 'stepZoom';\n      context = {\n        value: 1\n      };\n    }\n    if (action === 'zoomOut') {\n      action = 'stepZoom';\n      context = {\n        value: -1\n      };\n    }\n    if (action === 'resetZoom') {\n      action = 'zoom';\n      context = {\n        value: 1\n      };\n    }\n    if (action === 'zoomFit') {\n      action = 'zoom';\n      context = {\n        value: 'fit-viewport'\n      };\n    }\n    if (action === 'toggleOverview') {\n      return this.toggleOverview();\n    } else if (action === 'resetOverview') {\n      return this.resetOverview();\n    }\n    return modeler.getActiveViewer().get('editorActions').trigger(action, context);\n  };\n\n  /**\r\n   * @returns {CamundaDmnModeler}\r\n   */\n  getModeler() {\n    const {\n      modeler\n    } = this.getCached();\n    return modeler;\n  }\n  handleResize = () => {\n    const {\n      modeler\n    } = this.getCached();\n    const view = modeler.getActiveView();\n    const viewType = view && view.type;\n    if (viewType !== 'drd') {\n      return;\n    }\n    const viewer = modeler.getActiveViewer();\n    const canvas = viewer.get('canvas');\n    const eventBus = viewer.get('eventBus');\n    canvas.resized();\n    eventBus.fire('propertiesPanel.resized');\n  };\n  async getXML() {\n    const {\n      lastXML,\n      modeler\n    } = this.getCached();\n    if (!this.isDirty()) {\n      return lastXML || this.props.xml;\n    }\n    try {\n      const {\n        xml\n      } = await modeler.saveXML({\n        format: true\n      });\n      const stackIdx = modeler.getStackIdx();\n      this.setCached({\n        dirty: false,\n        lastXML: xml,\n        stackIdx\n      });\n      return xml;\n    } catch (error) {\n      this.handleError({\n        error\n      });\n      return Promise.reject(error);\n    }\n  }\n  async exportAs(type) {\n    let svg;\n    try {\n      svg = await this.exportSVG();\n    } catch (error) {\n      this.handleError({\n        error\n      });\n      return Promise.reject(error);\n    }\n    if (type === 'svg') {\n      return svg;\n    }\n    return (0,_util_generateImage__WEBPACK_IMPORTED_MODULE_14__[\"default\"])(type, svg);\n  }\n  async exportSVG() {\n    const modeler = this.getModeler();\n    const viewer = modeler.getActiveViewer();\n    if (!viewer.saveSVG) {\n      return Promise.reject(new Error('SVG export not supported in current view'));\n    }\n    try {\n      const {\n        svg\n      } = await viewer.saveSVG();\n      return svg;\n    } catch (err) {\n      return Promise.reject(err);\n    }\n  }\n  handleEditDrdClick = () => {\n    const modeler = this.getModeler();\n    const drdView = modeler._views.find(({\n      type\n    }) => type === 'drd');\n    if (drdView) {\n      modeler.open(drdView);\n    }\n  };\n  toggleOverview = () => {\n    const {\n      layout,\n      onLayoutChanged\n    } = this.props;\n    const dmnOverview = layout.dmnOverview || _dmn_OverviewContainer__WEBPACK_IMPORTED_MODULE_7__.DEFAULT_LAYOUT;\n    onLayoutChanged({\n      dmnOverview: {\n        ...dmnOverview,\n        open: !dmnOverview.open\n      }\n    });\n  };\n  resetOverview() {\n    const {\n      onLayoutChanged\n    } = this.props;\n    onLayoutChanged({\n      dmnOverview: {\n        ..._dmn_OverviewContainer__WEBPACK_IMPORTED_MODULE_7__.DEFAULT_LAYOUT\n      }\n    });\n  }\n  render() {\n    const engineProfile = this.engineProfile.getCached();\n    const {\n      layout,\n      onLayoutChanged\n    } = this.props;\n    const imported = this.getModeler().getDefinitions();\n    const {\n      importing\n    } = this.state;\n    const modeler = this.getModeler();\n    const activeView = modeler.getActiveView();\n    const isDrd = activeView && activeView.type === 'drd';\n    const activeViewer = modeler.getActiveViewer();\n    const overviewOpen = isOverviewOpen(this.props);\n    const hasPropertiesPanel = !importing && activeViewer && !!activeViewer.get('propertiesPanel', false);\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: _dmn_DmnEditor_less__WEBPACK_IMPORTED_MODULE_13__.DmnEditor\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_primitives__WEBPACK_IMPORTED_MODULE_3__.Loader, {\n      hidden: imported && !importing\n    }), !isDrd && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"top\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", {\n      id: \"button-edit-drd\",\n      className: \"button\",\n      onClick: this.handleEditDrdClick\n    }, \"Edit DRD\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", {\n      id: \"button-toggle-overview\",\n      className: \"button\",\n      onClick: this.toggleOverview\n    }, overviewOpen ? 'Close' : 'Open', \" overview\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"bottom\"\n    }, !isDrd && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_dmn_OverviewContainer__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n      className: \"overview\",\n      layout: layout,\n      ref: this.overviewRef,\n      onLayoutChanged: onLayoutChanged\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: classnames__WEBPACK_IMPORTED_MODULE_2___default()('diagram', {\n        'drd': isDrd\n      }),\n      ref: this.ref\n    }), hasPropertiesPanel && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_resizable_container_PropertiesPanelContainer__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n      ref: this.propertiesPanelRef,\n      layout: layout,\n      onLayoutChanged: onLayoutChanged\n    })), engineProfile && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_EngineProfile__WEBPACK_IMPORTED_MODULE_18__.EngineProfile, {\n      filterVersions: version => !/^1\\./.test(version),\n      engineProfile: engineProfile,\n      onChange: engineProfile => this.engineProfile.set(engineProfile)\n    }));\n  }\n  static createCachedState(props) {\n    const {\n      name,\n      version\n    } = _util_Metadata__WEBPACK_IMPORTED_MODULE_15__[\"default\"];\n    const {\n      getPlugins,\n      onAction,\n      onError,\n      settings\n    } = props;\n\n    // notify interested parties that modeler will be configured\n    const handleMiddlewareExtensions = middlewares => {\n      onAction('emit-event', {\n        type: 'dmn.modeler.configure',\n        payload: {\n          middlewares\n        }\n      });\n    };\n    const {\n      options,\n      warnings\n    } = (0,_dmn_util_configure__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(getPlugins, {\n      exporter: {\n        name,\n        version\n      },\n      settings\n    }, handleMiddlewareExtensions, 'cloud');\n    if (warnings.length && (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isFunction)(onError)) {\n      onError('Problem(s) configuring DMN editor: \\n\\t' + warnings.map(error => error.message).join('\\n\\t') + '\\n');\n    }\n    const modeler = new _modeler__WEBPACK_IMPORTED_MODULE_9__[\"default\"]({\n      ...options,\n      position: 'absolute',\n      keyboard: {\n        bind: false\n      }\n    });\n    const stackIdx = modeler.getStackIdx();\n\n    // notify interested parties that modeler was created\n    onAction('emit-event', {\n      type: 'dmn.modeler.created',\n      payload: {\n        modeler\n      }\n    });\n    return {\n      __destroy: () => {\n        modeler.destroy();\n      },\n      dirty: false,\n      lastXML: null,\n      modeler,\n      stackIdx\n    };\n  }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_cached__WEBPACK_IMPORTED_MODULE_6__.WithCache)((0,_cached__WEBPACK_IMPORTED_MODULE_6__.WithCachedState)(DmnEditor)));\n\n// helpers //////////\n\nfunction isCachedStateChange(prevProps, props) {\n  return prevProps.cachedState !== props.cachedState;\n}\nfunction getMigrationDialog() {\n  return {\n    type: 'warning',\n    title: 'Deprecated DMN 1.1 Diagram Detected',\n    buttons: [{\n      id: 'cancel',\n      label: 'Cancel'\n    }, {\n      id: 'yes',\n      label: 'Yes'\n    }],\n    defaultId: 1,\n    message: 'Would you like to migrate your diagram to DMN 1.3?',\n    detail: ['Only DMN 1.3 diagrams can be opened with Camunda Modeler v4.0.0 or later.'].join('\\n'),\n    checkboxChecked: true,\n    checkboxLabel: 'Do not ask again.'\n  };\n}\n\n/**\r\n * Check layout whether overview is open.\r\n *\r\n * @param {Object} props\r\n *\r\n * @returns {boolean}\r\n */\nfunction isOverviewOpen(props) {\n  const layout = props.layout || {};\n  const dmnOverview = layout.dmnOverview;\n  return !dmnOverview || dmnOverview.open;\n}\n\n/**\r\n * Check layout whether overview was opened.\r\n *\r\n * @param {Object} prevProps\r\n * @param {Object} props\r\n *\r\n * @returns {boolean}\r\n */\nfunction isOverviewOpened(prevProps, props) {\n  return isOverviewOpen(prevProps) === false && isOverviewOpen(props) === true;\n}\n\n/**\r\n * Check whether grid layout changed since last open\r\n *\r\n * @param {Object} prevProps\r\n * @param {Object} props\r\n *\r\n * @returns {boolean}\r\n */\nfunction isGridLayoutChange(prevProps, props) {\n  return props.layout?.grid?.visible !== prevProps.layout?.grid?.visible;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYXBwL3RhYnMvY2xvdWQtZG1uL0RtbkVkaXRvci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUUwQjtBQUtSO0FBRWtCO0FBSVY7QUFJSDtBQUU4QjtBQU0vQjtBQUVtQztBQUV3RjtBQUV2RztBQUUwQjtBQU9yQztBQUV3QjtBQUVWO0FBRVE7QUFFUDtBQUV3QjtBQUVoQjtBQUU2QjtBQUV4QjtBQUVGO0FBRVQ7QUFFaEQsTUFBTWlDLFNBQVMsR0FBRyxDQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsS0FBSyxDQUFFO0FBRTFDLE1BQU1DLG1CQUFtQixHQUFHLDhDQUE4QztFQUNwRUMsbUJBQW1CLEdBQUcsNkNBQTZDO0FBRXpFLE1BQU1DLFVBQVUsR0FBRyx3QkFBd0I7QUFFcEMsTUFBTUMsc0JBQXNCLEdBQUc7RUFDcENDLGlCQUFpQixFQUFFTixtREFBTyxDQUFDTyxLQUFLO0VBQ2hDQyx3QkFBd0IsRUFBRUM7QUFDNUIsQ0FBQztBQUdNLE1BQU1DLFNBQVMsU0FBU2pDLG9EQUFlLENBQUM7RUFFN0NrQyxXQUFXQSxDQUFDQyxLQUFLLEVBQUU7SUFDakIsS0FBSyxDQUFDQSxLQUFLLENBQUM7SUFFWixJQUFJLENBQUNDLEtBQUssR0FBRyxDQUFFLENBQUM7SUFFaEIsSUFBSSxDQUFDQyxHQUFHLGdCQUFHOUMsNENBQWUsQ0FBQyxDQUFDO0lBQzVCLElBQUksQ0FBQ2dELFdBQVcsZ0JBQUdoRCw0Q0FBZSxDQUFDLENBQUM7SUFDcEMsSUFBSSxDQUFDaUQsa0JBQWtCLGdCQUFHakQsNENBQWUsQ0FBQyxDQUFDO0lBRTNDLElBQUksQ0FBQ2tELFlBQVksR0FBRzdDLCtDQUFRLENBQUMsSUFBSSxDQUFDNkMsWUFBWSxDQUFDO0lBRS9DLElBQUksQ0FBQ0MsYUFBYSxHQUFHLElBQUlwQiw2REFBbUIsQ0FBQztNQUMzQ3FCLEdBQUcsRUFB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TSxJQUFJLENBQUMsQ0FBQztFQUVqQyxNQUFNa0osV0FBVyxHQUFHbEosTUFBTSxDQUFDa0osV0FBVztFQUV0QyxPQUFPLENBQUNBLFdBQVcsSUFBSUEsV0FBVyxDQUFDL0csSUFBSTtBQUN6Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzNCLGdCQUFnQkEsQ0FBQ0QsU0FBUyxFQUFFdEMsS0FBSyxFQUFFO0VBQzFDLE9BQU80QixjQUFjLENBQUNVLFNBQVMsQ0FBQyxLQUFLLEtBQUssSUFBSVYsY0FBYyxDQUFDNUIsS0FBSyxDQUFDLEtBQUssSUFBSTtBQUM5RTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBU3dDLGtCQUFrQkEsQ0FBQ0YsU0FBUyxFQUFFdEMsS0FBSyxFQUFFO0VBQzVDLE9BQU9BLEtBQUssQ0FBQytCLE1BQU0sRUFBRUMsSUFBSSxFQUFFQyxPQUFPLEtBQUtLLFNBQVMsQ0FBQ1AsTUFBTSxFQUFFQyxJQUFJLEVBQUVDLE9BQU87QUFDeEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jYW11bmRhLW1vZGVsZXItY2xpZW50Ly4vc3JjL2FwcC90YWJzL2Nsb3VkLWRtbi9EbW5FZGl0b3IuanM/ZGM1MyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQ29weXJpZ2h0IENhbXVuZGEgU2VydmljZXMgR21iSCBhbmQvb3IgbGljZW5zZWQgdG8gQ2FtdW5kYSBTZXJ2aWNlcyBHbWJIXHJcbiAqIHVuZGVyIG9uZSBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gU2VlIHRoZSBOT1RJQ0UgZmlsZVxyXG4gKiBkaXN0cmlidXRlZCB3aXRoIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiByZWdhcmRpbmcgY29weXJpZ2h0XHJcbiAqIG93bmVyc2hpcC5cclxuICpcclxuICogQ2FtdW5kYSBsaWNlbnNlcyB0aGlzIGZpbGUgdG8geW91IHVuZGVyIHRoZSBNSVQ7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGVcclxuICogZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuXHJcbmltcG9ydCB7XHJcbiAgYXNzaWduLFxyXG4gIGlzRnVuY3Rpb25cclxufSBmcm9tICdtaW4tZGFzaCc7XHJcblxyXG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcclxuXHJcbmltcG9ydCB7XHJcbiAgTG9hZGVyXHJcbn0gZnJvbSAnLi4vLi4vcHJpbWl0aXZlcyc7XHJcblxyXG5pbXBvcnQge1xyXG4gIGRlYm91bmNlXHJcbn0gZnJvbSAnLi4vLi4vLi4vdXRpbCc7XHJcblxyXG5pbXBvcnQgY29uZmlndXJlTW9kZWxlciBmcm9tICcuLi9kbW4vdXRpbC9jb25maWd1cmUnO1xyXG5cclxuaW1wb3J0IHtcclxuICBXaXRoQ2FjaGUsXHJcbiAgV2l0aENhY2hlZFN0YXRlLFxyXG4gIENhY2hlZENvbXBvbmVudFxyXG59IGZyb20gJy4uLy4uL2NhY2hlZCc7XHJcblxyXG5pbXBvcnQgT3ZlcnZpZXdDb250YWluZXIgZnJvbSAnLi4vZG1uL092ZXJ2aWV3Q29udGFpbmVyJztcclxuXHJcbmltcG9ydCBQcm9wZXJ0aWVzUGFuZWxDb250YWluZXIsIHsgREVGQVVMVF9MQVlPVVQgYXMgUFJPUEVSVElFU19QQU5FTF9ERUZBVUxUX0xBWU9VVCB9IGZyb20gJy4uLy4uL3Jlc2l6YWJsZS1jb250YWluZXIvUHJvcGVydGllc1BhbmVsQ29udGFpbmVyJztcclxuXHJcbmltcG9ydCBDYW11bmRhRG1uTW9kZWxlciBmcm9tICcuL21vZGVsZXInO1xyXG5cclxuaW1wb3J0IHsgYWN0aXZlIGFzIGlzSW5wdXRBY3RpdmUgfSBmcm9tICcuLi8uLi8uLi91dGlsL2RvbS9pc0lucHV0JztcclxuXHJcbmltcG9ydCB7XHJcbiAgZ2V0RG1uQm94ZWRFeHByZXNzaW9uRWRpdE1lbnUsXHJcbiAgZ2V0RG1uRHJkRWRpdE1lbnUsXHJcbiAgZ2V0RG1uRGVjaXNpb25UYWJsZUVkaXRNZW51LFxyXG4gIGdldERtbkxpdGVyYWxFeHByZXNzaW9uRWRpdE1lbnVcclxufSBmcm9tICcuLi9kbW4vZ2V0RG1uRWRpdE1lbnUnO1xyXG5cclxuaW1wb3J0IGdldERtbldpbmRvd01lbnUgZnJvbSAnLi4vZG1uL2dldERtbldpbmRvd01lbnUnO1xyXG5cclxuaW1wb3J0ICogYXMgY3NzIGZyb20gJy4uL2Rtbi9EbW5FZGl0b3IubGVzcyc7XHJcblxyXG5pbXBvcnQgZ2VuZXJhdGVJbWFnZSBmcm9tICcuLi8uLi91dGlsL2dlbmVyYXRlSW1hZ2UnO1xyXG5cclxuaW1wb3J0IE1ldGFkYXRhIGZyb20gJy4uLy4uLy4uL3V0aWwvTWV0YWRhdGEnO1xyXG5cclxuaW1wb3J0IHsgZmluZFVzYWdlcyBhcyBmaW5kTmFtZXNwYWNlVXNhZ2VzIH0gZnJvbSAnLi4vdXRpbC9uYW1lc3BhY2UnO1xyXG5cclxuaW1wb3J0IHsgbWlncmF0ZURpYWdyYW0gfSBmcm9tICdAYnBtbi1pby9kbW4tbWlncmF0ZSc7XHJcblxyXG5pbXBvcnQgeyBERUZBVUxUX0xBWU9VVCBhcyBvdmVydmlld0RlZmF1bHRMYXlvdXQgfSBmcm9tICcuLi9kbW4vT3ZlcnZpZXdDb250YWluZXInO1xyXG5cclxuaW1wb3J0IHsgRW5naW5lUHJvZmlsZSwgdG9TZW12ZXIgfSBmcm9tICcuLi9FbmdpbmVQcm9maWxlJztcclxuXHJcbmltcG9ydCBFbmdpbmVQcm9maWxlSGVscGVyIGZyb20gJy4uL0VuZ2luZVByb2ZpbGVIZWxwZXInO1xyXG5cclxuaW1wb3J0IHsgRU5HSU5FUyB9IGZyb20gJy4uLy4uLy4uL3V0aWwvRW5naW5lcyc7XHJcblxyXG5jb25zdCBFWFBPUlRfQVMgPSBbICdwbmcnLCAnanBlZycsICdzdmcnIF07XHJcblxyXG5jb25zdCBOQU1FU1BBQ0VfVVJMX0RNTjExID0gJ2h0dHA6Ly93d3cub21nLm9yZy9zcGVjL0RNTi8yMDE1MTEwMS9kbW4ueHNkJyxcclxuICAgICAgTkFNRVNQQUNFX1VSTF9ETU4xMiA9ICdodHRwOi8vd3d3Lm9tZy5vcmcvc3BlYy9ETU4vMjAxODA1MjEvTU9ERUwvJztcclxuXHJcbmNvbnN0IENPTkZJR19LRVkgPSAnZWRpdG9yLmFza0Rtbk1pZ3JhdGlvbic7XHJcblxyXG5leHBvcnQgY29uc3QgREVGQVVMVF9FTkdJTkVfUFJPRklMRSA9IHtcclxuICBleGVjdXRpb25QbGF0Zm9ybTogRU5HSU5FUy5DTE9VRCxcclxuICBleGVjdXRpb25QbGF0Zm9ybVZlcnNpb246IHVuZGVmaW5lZFxyXG59O1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBEbW5FZGl0b3IgZXh0ZW5kcyBDYWNoZWRDb21wb25lbnQge1xyXG5cclxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpO1xyXG5cclxuICAgIHRoaXMuc3RhdGUgPSB7IH07XHJcblxyXG4gICAgdGhpcy5yZWYgPSBSZWFjdC5jcmVhdGVSZWYoKTtcclxuICAgIHRoaXMub3ZlcnZpZXdSZWYgPSBSZWFjdC5jcmVhdGVSZWYoKTtcclxuICAgIHRoaXMucHJvcGVydGllc1BhbmVsUmVmID0gUmVhY3QuY3JlYXRlUmVmKCk7XHJcblxyXG4gICAgdGhpcy5oYW5kbGVSZXNpemUgPSBkZWJvdW5jZSh0aGlzLmhhbmRsZVJlc2l6ZSk7XHJcblxyXG4gICAgdGhpcy5lbmdpbmVQcm9maWxlID0gbmV3IEVuZ2luZVByb2ZpbGVIZWxwZXIoe1xyXG4gICAgICBnZXQ6ICgpID0+IHtcclxuICAgICAgICBjb25zdCBtb2RlbGVyID0gdGhpcy5nZXRNb2RlbGVyKCk7XHJcbiAgICAgICAgY29uc3QgYWN0aXZlVmlld2VyID0gbW9kZWxlci5nZXRBY3RpdmVWaWV3ZXIoKTtcclxuICAgICAgICBjb25zdCBleGVjdXRpb25QbGF0Zm9ybUhlbHBlciA9IGFjdGl2ZVZpZXdlci5nZXQoJ2V4ZWN1dGlvblBsYXRmb3JtJyk7XHJcbiAgICAgICAgY29uc3QgZXhlY3V0aW9uUGxhdGZvcm0gPSBleGVjdXRpb25QbGF0Zm9ybUhlbHBlci5nZXRFeGVjdXRpb25QbGF0Zm9ybSgpO1xyXG5cclxuICAgICAgICBpZiAoIWV4ZWN1dGlvblBsYXRmb3JtKSB7XHJcbiAgICAgICAgICByZXR1cm4gREVGQVVMVF9FTkdJTkVfUFJPRklMRTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBleGVjdXRpb25QbGF0Zm9ybTogZXhlY3V0aW9uUGxhdGZvcm0ubmFtZSxcclxuICAgICAgICAgIGV4ZWN1dGlvblBsYXRmb3JtVmVyc2lvbjogdG9TZW12ZXIoZXhlY3V0aW9uUGxhdGZvcm0udmVyc2lvbilcclxuICAgICAgICB9O1xyXG4gICAgICB9LFxyXG4gICAgICBzZXQ6IGVuZ2luZVByb2ZpbGUgPT4ge1xyXG4gICAgICAgIGNvbnN0IG1vZGVsZXIgPSB0aGlzLmdldE1vZGVsZXIoKTtcclxuICAgICAgICBjb25zdCBleGVjdXRpb25QbGF0Zm9ybUhlbHBlciA9IG1vZGVsZXIuZ2V0QWN0aXZlVmlld2VyKCkuZ2V0KCdleGVjdXRpb25QbGF0Zm9ybScpO1xyXG5cclxuICAgICAgICBleGVjdXRpb25QbGF0Zm9ybUhlbHBlci5zZXRFeGVjdXRpb25QbGF0Zm9ybSh7XHJcbiAgICAgICAgICBuYW1lOiBlbmdpbmVQcm9maWxlLmV4ZWN1dGlvblBsYXRmb3JtLFxyXG4gICAgICAgICAgdmVyc2lvbjogZW5naW5lUHJvZmlsZS5leGVjdXRpb25QbGF0Zm9ybVZlcnNpb25cclxuICAgICAgICB9KTtcclxuICAgICAgfSxcclxuICAgICAgZ2V0Q2FjaGVkOiAoKSA9PiB0aGlzLmdldENhY2hlZCgpLFxyXG4gICAgICBzZXRDYWNoZWQ6IChzdGF0ZSkgPT4gdGhpcy5zZXRDYWNoZWQoc3RhdGUpXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xyXG4gICAgdGhpcy5faXNNb3VudGVkID0gdHJ1ZTtcclxuXHJcbiAgICBjb25zdCBtb2RlbGVyID0gdGhpcy5nZXRNb2RlbGVyKCk7XHJcblxyXG4gICAgdGhpcy5saXN0ZW4oJ29uJyk7XHJcblxyXG4gICAgbW9kZWxlci5hdHRhY2hUbyh0aGlzLnJlZi5jdXJyZW50KTtcclxuXHJcbiAgICBjb25zdCBhY3RpdmVWaWV3ZXIgPSBtb2RlbGVyLmdldEFjdGl2ZVZpZXdlcigpO1xyXG5cclxuICAgIGxldCBwcm9wZXJ0aWVzUGFuZWw7XHJcblxyXG4gICAgaWYgKGFjdGl2ZVZpZXdlcikge1xyXG4gICAgICBwcm9wZXJ0aWVzUGFuZWwgPSBhY3RpdmVWaWV3ZXIuZ2V0KCdwcm9wZXJ0aWVzUGFuZWwnLCBmYWxzZSk7XHJcblxyXG4gICAgICBpZiAocHJvcGVydGllc1BhbmVsKSB7XHJcbiAgICAgICAgcHJvcGVydGllc1BhbmVsLmF0dGFjaFRvKHRoaXMucHJvcGVydGllc1BhbmVsUmVmLmN1cnJlbnQpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBhdHRhY2ggb3ZlcnZpZXdcclxuICAgICAgaWYgKHRoaXMub3ZlcnZpZXdSZWYuY3VycmVudCkge1xyXG4gICAgICAgIG1vZGVsZXIuYXR0YWNoT3ZlcnZpZXdUbyh0aGlzLm92ZXJ2aWV3UmVmLmN1cnJlbnQpO1xyXG5cclxuICAgICAgICBpZiAoaXNPdmVydmlld09wZW4odGhpcy5wcm9wcykpIHtcclxuICAgICAgICAgIG1vZGVsZXIuX2VtaXQoJ292ZXJ2aWV3T3BlbicpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIGdyaWQgbWF5IG5vdCBiZSBhdmFpbGFibGUsIGRlcGVuZGluZyBvbiB0aGUgZWRpdG9yXHJcbiAgICBhY3RpdmVWaWV3ZXIgJiYgYWN0aXZlVmlld2VyLmdldCgnZ3JpZCcsIGZhbHNlKT8udG9nZ2xlKHRoaXMucHJvcHMubGF5b3V0Py5ncmlkPy52aXNpYmxlICE9PSBmYWxzZSk7XHJcblxyXG4gICAgdGhpcy5jaGVja0ltcG9ydCgpO1xyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XHJcbiAgICB0aGlzLl9pc01vdW50ZWQgPSBmYWxzZTtcclxuXHJcbiAgICBjb25zdCBtb2RlbGVyID0gdGhpcy5nZXRNb2RlbGVyKCk7XHJcblxyXG4gICAgdGhpcy5saXN0ZW4oJ29mZicpO1xyXG5cclxuICAgIG1vZGVsZXIuZGV0YWNoKCk7XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XHJcbiAgICB0aGlzLmNoZWNrSW1wb3J0KHByZXZQcm9wcyk7XHJcblxyXG4gICAgLy8gV2UgY2FuIG9ubHkgbm90aWZ5IGludGVyZXN0ZWQgcGFydGllcyBhYm91dCBvdmVydmlldyBvcGVuIG9uY2UgaXRzIHBhcmVudCBjb21wb25lbnQgd2FzXHJcbiAgICAvLyByZW5kZXJlZFxyXG4gICAgaWYgKGlzT3ZlcnZpZXdPcGVuZWQocHJldlByb3BzLCB0aGlzLnByb3BzKSkge1xyXG4gICAgICBjb25zdCBtb2RlbGVyID0gdGhpcy5nZXRNb2RlbGVyKCk7XHJcblxyXG4gICAgICBtb2RlbGVyLl9lbWl0KCdvdmVydmlld09wZW4nKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoaXNHcmlkTGF5b3V0Q2hhbmdlKHByZXZQcm9wcywgdGhpcy5wcm9wcykpIHtcclxuICAgICAgY29uc3QgYWN0aXZlVmlld2VyID0gdGhpcy5nZXRNb2RlbGVyKCkuZ2V0QWN0aXZlVmlld2VyKCk7XHJcblxyXG4gICAgICAvLyBncmlkIG1heSBub3QgYmUgYXZhaWxhYmxlLCBkZXBlbmRpbmcgb24gdGhlIGVkaXRvclxyXG4gICAgICBhY3RpdmVWaWV3ZXIuZ2V0KCdncmlkJywgZmFsc2UpPy50b2dnbGUodGhpcy5wcm9wcy5sYXlvdXQ/LmdyaWQ/LnZpc2libGUgIT09IGZhbHNlKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoaXNDYWNoZWRTdGF0ZUNoYW5nZShwcmV2UHJvcHMsIHRoaXMucHJvcHMpKSB7XHJcbiAgICAgIHRoaXMuaGFuZGxlQ2hhbmdlZCgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaWZNb3VudGVkID0gKGZuKSA9PiB7XHJcbiAgICByZXR1cm4gKC4uLmFyZ3MpID0+IHtcclxuICAgICAgaWYgKHRoaXMuX2lzTW91bnRlZCkge1xyXG4gICAgICAgIGZuKC4uLmFyZ3MpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH07XHJcblxyXG4gIGxpc3Rlbihmbikge1xyXG4gICAgY29uc3QgbW9kZWxlciA9IHRoaXMuZ2V0TW9kZWxlcigpO1xyXG5cclxuICAgIFtcclxuICAgICAgJ3NhdmVYTUwuZG9uZScsXHJcbiAgICAgICdhdHRhY2gnLFxyXG4gICAgICAndmlldy5zZWxlY3Rpb25DaGFuZ2VkJyxcclxuICAgICAgJ3ZpZXcuZGlyZWN0RWRpdGluZ0NoYW5nZWQnLFxyXG4gICAgICAncHJvcGVydGllc1BhbmVsLmZvY3VzaW4nLFxyXG4gICAgICAncHJvcGVydGllc1BhbmVsLmZvY3Vzb3V0J1xyXG4gICAgXS5mb3JFYWNoKChldmVudCkgPT4ge1xyXG4gICAgICBtb2RlbGVyW2ZuXShldmVudCwgdGhpcy5oYW5kbGVDaGFuZ2VkKTtcclxuICAgIH0pO1xyXG5cclxuICAgIG1vZGVsZXJbZm5dKCd2aWV3cy5jaGFuZ2VkJywgdGhpcy52aWV3c0NoYW5nZWQpO1xyXG5cclxuICAgIG1vZGVsZXJbZm5dKCd2aWV3LmNvbnRlbnRDaGFuZ2VkJywgdGhpcy52aWV3Q29udGVudENoYW5nZWQpO1xyXG5cclxuICAgIG1vZGVsZXJbZm5dKCdlcnJvcicsIHRoaXMuaGFuZGxlRXJyb3IpO1xyXG4gIH1cclxuXHJcbiAgaXNEaXJ0eSA9ICgpID0+IHtcclxuICAgIGxldCB7XHJcbiAgICAgIGRpcnR5LFxyXG4gICAgICBtb2RlbGVyLFxyXG4gICAgICBzdGFja0lkeFxyXG4gICAgfSA9IHRoaXMuZ2V0Q2FjaGVkKCk7XHJcblxyXG4gICAgcmV0dXJuIGRpcnR5IHx8IG1vZGVsZXIuZ2V0U3RhY2tJZHgoKSAhPT0gc3RhY2tJZHg7XHJcbiAgfTtcclxuXHJcbiAgdmlld0NvbnRlbnRDaGFuZ2VkID0gKCkgPT4ge1xyXG4gICAgdGhpcy5oYW5kbGVDaGFuZ2VkKCk7XHJcbiAgfTtcclxuXHJcbiAgaGFuZGxlSW1wb3J0KGVycm9yLCB3YXJuaW5ncykge1xyXG4gICAgY29uc3Qge1xyXG4gICAgICBhY3RpdmVTaGVldCxcclxuICAgICAgb25JbXBvcnQsXHJcbiAgICAgIHhtbFxyXG4gICAgfSA9IHRoaXMucHJvcHM7XHJcblxyXG4gICAgY29uc3QgbW9kZWxlciA9IHRoaXMuZ2V0TW9kZWxlcigpO1xyXG5cclxuICAgIGNvbnN0IHN0YWNrSWR4ID0gbW9kZWxlci5nZXRTdGFja0lkeCgpO1xyXG5cclxuICAgIGxldCBlbmdpbmVQcm9maWxlID0gbnVsbDtcclxuXHJcbiAgICBpZiAoIWVycm9yKSB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgZW5naW5lUHJvZmlsZSA9IHRoaXMuZW5naW5lUHJvZmlsZS5nZXQoKTtcclxuICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgZXJyb3IgPSBlcnI7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvbkltcG9ydChlcnJvciwgd2FybmluZ3MpO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICB0aGlzLnNldENhY2hlZCh7XHJcbiAgICAgICAgZGlydHk6IGZhbHNlLFxyXG4gICAgICAgIGVuZ2luZVByb2ZpbGUsXHJcbiAgICAgICAgbGFzdFhNTDogbnVsbFxyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuc2V0Q2FjaGVkKHtcclxuICAgICAgICBkaXJ0eTogZmFsc2UsXHJcbiAgICAgICAgZW5naW5lUHJvZmlsZSxcclxuICAgICAgICBsYXN0WE1MOiB4bWwsXHJcbiAgICAgICAgc3RhY2tJZHhcclxuICAgICAgfSk7XHJcblxyXG4gICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICBpbXBvcnRpbmc6IGZhbHNlXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaWYgKGFjdGl2ZVNoZWV0ICYmIGFjdGl2ZVNoZWV0LmVsZW1lbnQpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5vcGVuKGFjdGl2ZVNoZWV0LmVsZW1lbnQpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBpbml0aWFsVmlldyA9IG1vZGVsZXIuX2dldEluaXRpYWxWaWV3KG1vZGVsZXIuX3ZpZXdzKTtcclxuXHJcbiAgICAgIHRoaXMub3Blbihpbml0aWFsVmlldy5lbGVtZW50KTtcclxuICAgIH1cclxuXHJcbiAgfVxyXG5cclxuICB2aWV3c0NoYW5nZWQgPSAoeyBhY3RpdmVWaWV3IH0pID0+IHtcclxuICAgIGNvbnN0IHtcclxuICAgICAgYWN0aXZlU2hlZXQ6IHByZXZpb3VzQWN0aXZlU2hlZXQsXHJcbiAgICAgIG9uU2hlZXRzQ2hhbmdlZFxyXG4gICAgfSA9IHRoaXMucHJvcHM7XHJcblxyXG4gICAgY29uc3Qge1xyXG4gICAgICBkaXJ0eSxcclxuICAgICAgc3RhY2tJZHhcclxuICAgIH0gPSB0aGlzLmdldENhY2hlZCgpO1xyXG5cclxuICAgIGNvbnN0IHByZXZpb3VzQWN0aXZlVmlldyA9IHRoaXMuZ2V0Q2FjaGVkKCkuYWN0aXZlVmlldztcclxuXHJcbiAgICBjb25zdCBtb2RlbGVyID0gdGhpcy5nZXRNb2RlbGVyKCk7XHJcblxyXG4gICAgY29uc3QgeyBlbGVtZW50IH0gPSBhY3RpdmVWaWV3O1xyXG5cclxuICAgIGNvbnN0IGFjdGl2ZVNoZWV0ID0ge1xyXG4gICAgICAuLi5hY3RpdmVWaWV3LFxyXG4gICAgICBpZDogZWxlbWVudC5pZCxcclxuICAgICAgbmFtZTogJ0RpYWdyYW0nLFxyXG4gICAgICBvcmRlcjogLTFcclxuICAgIH07XHJcblxyXG4gICAgaWYgKHByZXZpb3VzQWN0aXZlU2hlZXQuaWQgIT09IGFjdGl2ZVNoZWV0LmlkKSB7XHJcbiAgICAgIG9uU2hlZXRzQ2hhbmdlZChbIGFjdGl2ZVNoZWV0IF0sIGFjdGl2ZVNoZWV0KTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBhY3RpdmVWaWV3ZXIgPSBtb2RlbGVyLmdldEFjdGl2ZVZpZXdlcigpO1xyXG5cclxuICAgIGxldCBwcm9wZXJ0aWVzUGFuZWw7XHJcblxyXG4gICAgLy8gb25seSBhdHRhY2ggcHJvcGVydGllcyBwYW5lbCBpZiB2aWV3IGlzIHN3aXRjaGVkXHJcbiAgICBpZiAoYWN0aXZlVmlld2VyICYmXHJcbiAgICAgICghcHJldmlvdXNBY3RpdmVWaWV3IHx8IHByZXZpb3VzQWN0aXZlVmlldy5lbGVtZW50ICE9PSBhY3RpdmVWaWV3LmVsZW1lbnQpKSB7XHJcbiAgICAgIHByb3BlcnRpZXNQYW5lbCA9IGFjdGl2ZVZpZXdlci5nZXQoJ3Byb3BlcnRpZXNQYW5lbCcsIGZhbHNlKTtcclxuXHJcbiAgICAgIGlmIChwcm9wZXJ0aWVzUGFuZWwpIHtcclxuICAgICAgICBwcm9wZXJ0aWVzUGFuZWwuYXR0YWNoVG8odGhpcy5wcm9wZXJ0aWVzUGFuZWxSZWYuY3VycmVudCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBncmlkIG1heSBub3QgYmUgYXZhaWxhYmxlLCBkZXBlbmRpbmcgb24gdGhlIGVkaXRvclxyXG4gICAgYWN0aXZlVmlld2VyICYmIGFjdGl2ZVZpZXdlci5nZXQoJ2dyaWQnLCBmYWxzZSk/LnRvZ2dsZSh0aGlzLnByb3BzLmxheW91dD8uZ3JpZD8udmlzaWJsZSAhPT0gZmFsc2UpO1xyXG5cclxuICAgIC8vIGF0dGFjaCBvciBkZXRhY2ggb3ZlcnZpZXdcclxuICAgIGlmIChhY3RpdmVWaWV3LnR5cGUgPT09ICdkcmQnKSB7XHJcbiAgICAgIG1vZGVsZXIuZGV0YWNoT3ZlcnZpZXcoKTtcclxuICAgIH0gZWxzZSBpZiAocHJldmlvdXNBY3RpdmVWaWV3ICYmIHByZXZpb3VzQWN0aXZlVmlldy50eXBlID09PSAnZHJkJykge1xyXG4gICAgICBtb2RlbGVyLmF0dGFjaE92ZXJ2aWV3VG8odGhpcy5vdmVydmlld1JlZi5jdXJyZW50KTtcclxuXHJcbiAgICAgIGlmIChpc092ZXJ2aWV3T3Blbih0aGlzLnByb3BzKSkge1xyXG4gICAgICAgIG1vZGVsZXIuX2VtaXQoJ292ZXJ2aWV3T3BlbicpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gbXVzdCBiZSBjYWxsZWQgbGFzdFxyXG4gICAgdGhpcy5zZXRDYWNoZWQoe1xyXG4gICAgICBhY3RpdmVWaWV3LFxyXG4gICAgICBkaXJ0eTogZGlydHkgfHwgbW9kZWxlci5nZXRTdGFja0lkeCgpICE9PSBzdGFja0lkeFxyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5oYW5kbGVDaGFuZ2VkKCk7XHJcbiAgfTtcclxuXHJcbiAgdW5kbyA9ICgpID0+IHtcclxuICAgIGNvbnN0IG1vZGVsZXIgPSB0aGlzLmdldE1vZGVsZXIoKTtcclxuXHJcbiAgICBtb2RlbGVyLmdldEFjdGl2ZVZpZXdlcigpLmdldCgnY29tbWFuZFN0YWNrJykudW5kbygpO1xyXG4gIH07XHJcblxyXG4gIHJlZG8gPSAoKSA9PiB7XHJcbiAgICBjb25zdCBtb2RlbGVyID0gdGhpcy5nZXRNb2RlbGVyKCk7XHJcblxyXG4gICAgbW9kZWxlci5nZXRBY3RpdmVWaWV3ZXIoKS5nZXQoJ2NvbW1hbmRTdGFjaycpLnJlZG8oKTtcclxuICB9O1xyXG5cclxuICBoYW5kbGVDaGFuZ2VkID0gKCkgPT4ge1xyXG4gICAgY29uc3QgbW9kZWxlciA9IHRoaXMuZ2V0TW9kZWxlcigpO1xyXG5cclxuICAgIGNvbnN0IHtcclxuICAgICAgb25DaGFuZ2VkXHJcbiAgICB9ID0gdGhpcy5wcm9wcztcclxuXHJcbiAgICBjb25zdCBhY3RpdmVWaWV3ZXIgPSBtb2RlbGVyLmdldEFjdGl2ZVZpZXdlcigpLFxyXG4gICAgICAgICAgYWN0aXZlVmlldyA9IG1vZGVsZXIuZ2V0QWN0aXZlVmlldygpO1xyXG5cclxuICAgIGlmICghYWN0aXZlVmlld2VyKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBkaXJ0eSA9IHRoaXMuaXNEaXJ0eSgpO1xyXG5cclxuICAgIGNvbnN0IGNvbW1hbmRTdGFjayA9IGFjdGl2ZVZpZXdlci5nZXQoJ2NvbW1hbmRTdGFjaycpO1xyXG5cclxuICAgIGNvbnN0IGhhc1Byb3BlcnRpZXNQYW5lbCA9ICEhYWN0aXZlVmlld2VyLmdldCgncHJvcGVydGllc1BhbmVsJywgZmFsc2UpO1xyXG4gICAgY29uc3QgaGFzR3JpZCA9ICEhYWN0aXZlVmlld2VyLmdldCgnZ3JpZCcsIGZhbHNlKTtcclxuXHJcbiAgICBjb25zdCBoYXNPdmVydmlldyA9IGFjdGl2ZVZpZXcudHlwZSAhPT0gJ2RyZCc7XHJcblxyXG4gICAgY29uc3QgaW5wdXRBY3RpdmUgPSBpc0lucHV0QWN0aXZlKCk7XHJcblxyXG4gICAgY29uc3QgbmV3U3RhdGUgPSB7XHJcbiAgICAgIGNsb3NlOiB0cnVlLFxyXG4gICAgICBjb3B5OiBmYWxzZSxcclxuICAgICAgY3V0OiBmYWxzZSxcclxuICAgICAgZGlydHksXHJcbiAgICAgIGV4cG9ydEFzOiAnc2F2ZVNWRycgaW4gYWN0aXZlVmlld2VyID8gRVhQT1JUX0FTIDogZmFsc2UsXHJcbiAgICAgIGlucHV0QWN0aXZlLFxyXG4gICAgICBvdmVydmlldzogaGFzT3ZlcnZpZXcsXHJcbiAgICAgIHBhc3RlOiBmYWxzZSxcclxuICAgICAgcGxhdGZvcm06ICdjbG91ZCcsXHJcbiAgICAgIHByb3BlcnRpZXNQYW5lbDogaGFzUHJvcGVydGllc1BhbmVsLFxyXG4gICAgICBncmlkOiBoYXNHcmlkLFxyXG4gICAgICByZWRvOiBjb21tYW5kU3RhY2suY2FuUmVkbygpLFxyXG4gICAgICBzYXZlOiB0cnVlLFxyXG4gICAgICB1bmRvOiBjb21tYW5kU3RhY2suY2FuVW5kbygpXHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IHNlbGVjdGlvbiA9IGFjdGl2ZVZpZXdlci5nZXQoJ3NlbGVjdGlvbicsIGZhbHNlKTtcclxuXHJcbiAgICBjb25zdCBoYXNTZWxlY3Rpb24gPSBzZWxlY3Rpb24gJiYgISFzZWxlY3Rpb24uZ2V0KCk7XHJcblxyXG4gICAgY29uc3Qgc2VsZWN0aW9uTGVuZ3RoID0gaGFzU2VsZWN0aW9uID8gc2VsZWN0aW9uLmdldCgpLmxlbmd0aCA6IDA7XHJcblxyXG4gICAgbGV0IGVkaXRNZW51O1xyXG5cclxuICAgIGlmIChhY3RpdmVWaWV3LnR5cGUgPT09ICdkcmQnKSB7XHJcblxyXG4gICAgICBjb25zdCBjYW52YXNGb2N1c2VkID0gYWN0aXZlVmlld2VyLmdldCgnY2FudmFzJykuaXNGb2N1c2VkKCk7XHJcblxyXG4gICAgICBhc3NpZ24obmV3U3RhdGUsIHtcclxuICAgICAgICBhbGlnbjogc2VsZWN0aW9uTGVuZ3RoID4gMSxcclxuICAgICAgICBjYW52YXNGb2N1c2VkLFxyXG4gICAgICAgIGRlZmF1bHRDb3B5Q3V0UGFzdGU6ICFjYW52YXNGb2N1c2VkLFxyXG4gICAgICAgIGRlZmF1bHRVbmRvUmVkbzogIWNhbnZhc0ZvY3VzZWQsXHJcbiAgICAgICAgZGlzdHJpYnV0ZTogc2VsZWN0aW9uTGVuZ3RoID4gMixcclxuICAgICAgICBlZGl0TGFiZWw6IGNhbnZhc0ZvY3VzZWQgJiYgISFzZWxlY3Rpb25MZW5ndGgsXHJcbiAgICAgICAgZmluZDogY2FudmFzRm9jdXNlZCxcclxuICAgICAgICBsYXNzb1Rvb2w6IGNhbnZhc0ZvY3VzZWQsXHJcbiAgICAgICAgbW92ZUNhbnZhczogY2FudmFzRm9jdXNlZCxcclxuICAgICAgICBtb3ZlU2VsZWN0aW9uOiBjYW52YXNGb2N1c2VkICYmICEhc2VsZWN0aW9uTGVuZ3RoLFxyXG4gICAgICAgIHJlbW92ZVNlbGVjdGVkOiAhY2FudmFzRm9jdXNlZCB8fCAhIXNlbGVjdGlvbkxlbmd0aCxcclxuICAgICAgICBzZWxlY3RBbGw6IGNhbnZhc0ZvY3VzZWQgfHwgaW5wdXRBY3RpdmUsXHJcbiAgICAgICAgem9vbTogdHJ1ZVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGVkaXRNZW51ID0gZ2V0RG1uRHJkRWRpdE1lbnUobmV3U3RhdGUpO1xyXG4gICAgfSBlbHNlIGlmIChhY3RpdmVWaWV3LnR5cGUgPT09ICdkZWNpc2lvblRhYmxlJykge1xyXG4gICAgICBhc3NpZ24obmV3U3RhdGUsIHtcclxuICAgICAgICBkZWZhdWx0Q29weUN1dFBhc3RlOiB0cnVlLFxyXG4gICAgICAgIGRlZmF1bHRVbmRvUmVkbzogZmFsc2UsXHJcbiAgICAgICAgaGFzU2VsZWN0aW9uOiBhY3RpdmVWaWV3ZXIuZ2V0KCdzZWxlY3Rpb24nKS5oYXNTZWxlY3Rpb24oKSxcclxuICAgICAgICByZW1vdmVTZWxlY3RlZDogaW5wdXRBY3RpdmUsXHJcbiAgICAgICAgc2VsZWN0QWxsOiBpbnB1dEFjdGl2ZVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vIGVuc3VyZSBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eVxyXG4gICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vY2FtdW5kYS9jYW11bmRhLW1vZGVsZXIvY29tbWl0Lzc4MzU3ZTNlZDllNmUwMjU1YWM4MjI1ZmJkZjQ1MWE5MDQ1N2U4YmYjZGlmZi1iZDViZTcwYzRlNWVhZGYxYTMxNmMxNjA4NWE3MmYwZkwxN1xyXG4gICAgICBuZXdTdGF0ZS5kbW5SdWxlRWRpdGluZyA9ICEhc2VsZWN0aW9uTGVuZ3RoO1xyXG4gICAgICBuZXdTdGF0ZS5kbW5DbGF1c2VFZGl0aW5nID0gISFzZWxlY3Rpb25MZW5ndGg7XHJcblxyXG4gICAgICBlZGl0TWVudSA9IGdldERtbkRlY2lzaW9uVGFibGVFZGl0TWVudShuZXdTdGF0ZSk7XHJcbiAgICB9IGVsc2UgaWYgKGFjdGl2ZVZpZXcudHlwZSA9PT0gJ2xpdGVyYWxFeHByZXNzaW9uJykge1xyXG4gICAgICBhc3NpZ24obmV3U3RhdGUsIHtcclxuICAgICAgICBkZWZhdWx0Q29weUN1dFBhc3RlOiB0cnVlLFxyXG4gICAgICAgIGRlZmF1bHRVbmRvUmVkbzogdHJ1ZSxcclxuICAgICAgICByZW1vdmVTZWxlY3RlZDogdHJ1ZSxcclxuICAgICAgICBzZWxlY3RBbGw6IHRydWVcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyBUaGUgbGl0ZXJhbEV4cHJlc3Npb25zIGVkaXRvciBkb2VzIG5vdCBmaXJlIGV2ZW50cyB3aGVuXHJcbiAgICAgIC8vIGVsZW1lbnRzIGFyZSBzZWxlY3RlZCwgc28gd2UgYWx3YXlzIHNldCBpbnB1dEFjdGl2ZSB0byB0cnVlLlxyXG4gICAgICAvLyBjZi4gaHR0cHM6Ly9naXRodWIuY29tL2NhbXVuZGEvY2FtdW5kYS1tb2RlbGVyL3B1bGwvMjM5NFxyXG4gICAgICBuZXdTdGF0ZS5pbnB1dEFjdGl2ZSA9IHRydWU7XHJcblxyXG4gICAgICBlZGl0TWVudSA9IGdldERtbkxpdGVyYWxFeHByZXNzaW9uRWRpdE1lbnUobmV3U3RhdGUpO1xyXG4gICAgfSBlbHNlIGlmIChhY3RpdmVWaWV3LnR5cGUgPT09ICdib3hlZEV4cHJlc3Npb24nKSB7XHJcblxyXG4gICAgICAvLyBUT0RPKEBiYXJtYWMpOiBoYW5kbGUgYm94ZWQgZXhwcmVzc2lvbiBkaWZmZXJlbnRseSB0aGFuIGxpdGVyYWwgZXhwcmVzc2lvbiB3aGVuIG5lZWRlZFxyXG4gICAgICBhc3NpZ24obmV3U3RhdGUsIHtcclxuICAgICAgICBkZWZhdWx0Q29weUN1dFBhc3RlOiB0cnVlLFxyXG4gICAgICAgIGRlZmF1bHRVbmRvUmVkbzogdHJ1ZSxcclxuICAgICAgICByZW1vdmVTZWxlY3RlZDogdHJ1ZSxcclxuICAgICAgICBzZWxlY3RBbGw6IHRydWVcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyBUaGUgYm94ZWRFeHByZXNzaW9uIGVkaXRvciBkb2VzIG5vdCBmaXJlIGV2ZW50cyB3aGVuXHJcbiAgICAgIC8vIGVsZW1lbnRzIGFyZSBzZWxlY3RlZCwgc28gd2UgYWx3YXlzIHNldCBpbnB1dEFjdGl2ZSB0byB0cnVlLlxyXG4gICAgICAvLyBjZi4gaHR0cHM6Ly9naXRodWIuY29tL2NhbXVuZGEvY2FtdW5kYS1tb2RlbGVyL3B1bGwvMjM5NFxyXG4gICAgICBuZXdTdGF0ZS5pbnB1dEFjdGl2ZSA9IHRydWU7XHJcblxyXG4gICAgICBlZGl0TWVudSA9IGdldERtbkJveGVkRXhwcmVzc2lvbkVkaXRNZW51KG5ld1N0YXRlKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBlbnN1cmUgYmFja3dhcmRzIGNvbXBhdGliaWxpdHlcclxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9jYW11bmRhL2NhbXVuZGEtbW9kZWxlci9jb21taXQvNzgzNTdlM2VkOWU2ZTAyNTVhYzgyMjVmYmRmNDUxYTkwNDU3ZThiZiNkaWZmLWJkNWJlNzBjNGU1ZWFkZjFhMzE2YzE2MDg1YTcyZjBmTDE3XHJcbiAgICBuZXdTdGF0ZS5hY3RpdmVFZGl0b3IgPSBhY3RpdmVWaWV3LnR5cGU7XHJcbiAgICBuZXdTdGF0ZS5kbW4gPSB0cnVlO1xyXG4gICAgbmV3U3RhdGUuZWRpdGFibGUgPSB0cnVlO1xyXG4gICAgbmV3U3RhdGUuZWxlbWVudHNTZWxlY3RlZCA9ICEhc2VsZWN0aW9uTGVuZ3RoO1xyXG4gICAgbmV3U3RhdGUuaW5hY3RpdmVJbnB1dCA9ICFpbnB1dEFjdGl2ZTtcclxuXHJcbiAgICBjb25zdCB3aW5kb3dNZW51ID0gZ2V0RG1uV2luZG93TWVudShuZXdTdGF0ZSk7XHJcblxyXG4gICAgaWYgKHR5cGVvZiBvbkNoYW5nZWQgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgb25DaGFuZ2VkKHtcclxuICAgICAgICAuLi5uZXdTdGF0ZSxcclxuICAgICAgICBlZGl0TWVudSxcclxuICAgICAgICB3aW5kb3dNZW51XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGVuZ2luZVByb2ZpbGUgPSB0aGlzLmVuZ2luZVByb2ZpbGUuZ2V0KCk7XHJcbiAgICB0aGlzLmVuZ2luZVByb2ZpbGUuc2V0Q2FjaGVkKGVuZ2luZVByb2ZpbGUpO1xyXG5cclxuICAgIHRoaXMuc2V0U3RhdGUobmV3U3RhdGUpO1xyXG4gIH07XHJcblxyXG4gIGhhbmRsZUVycm9yID0gKGV2ZW50KSA9PiB7XHJcbiAgICBjb25zdCB7XHJcbiAgICAgIGVycm9yXHJcbiAgICB9ID0gZXZlbnQ7XHJcblxyXG4gICAgY29uc3Qge1xyXG4gICAgICBvbkVycm9yXHJcbiAgICB9ID0gdGhpcy5wcm9wcztcclxuXHJcbiAgICBvbkVycm9yKGVycm9yKTtcclxuICB9O1xyXG5cclxuICBoYW5kbGVEaXN0cmlidXRlRWxlbWVudHMgPSAodHlwZSkgPT4ge1xyXG4gICAgdGhpcy50cmlnZ2VyQWN0aW9uKCdkaXN0cmlidXRlRWxlbWVudHMnLCB7XHJcbiAgICAgIHR5cGVcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIGhhbmRsZUFsaWduRWxlbWVudHMgPSAodHlwZSkgPT4ge1xyXG4gICAgdGhpcy50cmlnZ2VyQWN0aW9uKCdhbGlnbkVsZW1lbnRzJywge1xyXG4gICAgICB0eXBlXHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICBjaGVja0ltcG9ydChwcmV2UHJvcHMpIHtcclxuICAgIGlmICghdGhpcy5pc0ltcG9ydE5lZWRlZChwcmV2UHJvcHMpKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmNoZWNrU2hlZXRDaGFuZ2UocHJldlByb3BzKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB7IHhtbCB9ID0gdGhpcy5wcm9wcztcclxuXHJcbiAgICB0aGlzLmltcG9ydFhNTCh4bWwpO1xyXG4gIH1cclxuXHJcbiAgaXNJbXBvcnROZWVkZWQocHJldlByb3BzKSB7XHJcbiAgICBjb25zdCB7XHJcbiAgICAgIGltcG9ydGluZ1xyXG4gICAgfSA9IHRoaXMuc3RhdGU7XHJcblxyXG4gICAgaWYgKGltcG9ydGluZykge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qge1xyXG4gICAgICB4bWxcclxuICAgIH0gPSB0aGlzLnByb3BzO1xyXG5cclxuICAgIGlmIChwcmV2UHJvcHMgJiYgcHJldlByb3BzLnhtbCA9PT0geG1sKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB7XHJcbiAgICAgIGxhc3RYTUxcclxuICAgIH0gPSB0aGlzLmdldENhY2hlZCgpO1xyXG5cclxuICAgIHJldHVybiB4bWwgIT09IGxhc3RYTUw7XHJcbiAgfVxyXG5cclxuICBhc3luYyBpbXBvcnRYTUwoeG1sKSB7XHJcbiAgICBjb25zdCB7XHJcbiAgICAgIG1vZGVsZXJcclxuICAgIH0gPSB0aGlzLmdldENhY2hlZCgpO1xyXG5cclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBpbXBvcnRpbmc6IHRydWVcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IGltcG9ydGVkWE1MID0gYXdhaXQgdGhpcy5oYW5kbGVNaWdyYXRpb24oeG1sKTtcclxuXHJcbiAgICBpZiAoIWltcG9ydGVkWE1MKSB7XHJcbiAgICAgIHRoaXMucHJvcHMub25BY3Rpb24oJ2Nsb3NlLXRhYicpO1xyXG5cclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBtb2RlbGVyLmltcG9ydFhNTChpbXBvcnRlZFhNTCkudGhlbihcclxuICAgICAgdGhpcy5pZk1vdW50ZWQoKHsgd2FybmluZ3MgfSkgPT4gdGhpcy5oYW5kbGVJbXBvcnQobnVsbCwgd2FybmluZ3MpKSxcclxuICAgICAgdGhpcy5pZk1vdW50ZWQoKGVycm9yKSA9PiB0aGlzLmhhbmRsZUltcG9ydChlcnJvciwgZXJyb3Iud2FybmluZ3MpKVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGhhbmRsZU1pZ3JhdGlvbiA9IGFzeW5jICh4bWwpID0+IHtcclxuICAgIGNvbnN0IHVzZWQgPSBmaW5kTmFtZXNwYWNlVXNhZ2VzKHhtbCwgTkFNRVNQQUNFX1VSTF9ETU4xMSkgfHxcclxuICAgICAgZmluZE5hbWVzcGFjZVVzYWdlcyh4bWwsIE5BTUVTUEFDRV9VUkxfRE1OMTIpO1xyXG5cclxuICAgIGlmICghdXNlZCkge1xyXG4gICAgICByZXR1cm4geG1sO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGFza0Rtbk1pZ3JhdGlvbiA9IGF3YWl0IHRoaXMucHJvcHMuZ2V0Q29uZmlnKENPTkZJR19LRVkpO1xyXG5cclxuICAgIGlmIChhc2tEbW5NaWdyYXRpb24gIT09IGZhbHNlKSB7XHJcbiAgICAgIGNvbnN0IHNob3VsZE1pZ3JhdGUgPSBhd2FpdCB0aGlzLnNob3VsZE1pZ3JhdGUoKTtcclxuXHJcbiAgICAgIGlmICghc2hvdWxkTWlncmF0ZSkge1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qge1xyXG4gICAgICBvbkNvbnRlbnRVcGRhdGVkXHJcbiAgICB9ID0gdGhpcy5wcm9wcztcclxuXHJcbiAgICBsZXQgbWlncmF0ZWRYTUw7XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgbWlncmF0ZWRYTUwgPSBhd2FpdCBtaWdyYXRlRGlhZ3JhbSh4bWwpO1xyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgIHRoaXMuaGFuZGxlRXJyb3Ioe1xyXG4gICAgICAgIGVycm9yOiBlcnJcclxuICAgICAgfSk7XHJcblxyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBvbkNvbnRlbnRVcGRhdGVkKG1pZ3JhdGVkWE1MKTtcclxuXHJcbiAgICByZXR1cm4gbWlncmF0ZWRYTUw7XHJcbiAgfTtcclxuXHJcbiAgYXN5bmMgc2hvdWxkTWlncmF0ZSgpIHtcclxuICAgIGNvbnN0IHsgb25BY3Rpb24gfSA9IHRoaXMucHJvcHM7XHJcblxyXG4gICAgY29uc3QgeyBidXR0b24sIGNoZWNrYm94Q2hlY2tlZCB9ID0gYXdhaXQgb25BY3Rpb24oJ3Nob3ctZGlhbG9nJywgZ2V0TWlncmF0aW9uRGlhbG9nKCkpO1xyXG5cclxuICAgIGlmIChidXR0b24gPT09ICd5ZXMnICYmIGNoZWNrYm94Q2hlY2tlZCkge1xyXG4gICAgICB0aGlzLnByb3BzLnNldENvbmZpZyhDT05GSUdfS0VZLCBmYWxzZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGJ1dHRvbiA9PT0gJ3llcyc7XHJcbiAgfVxyXG5cclxuICBjaGVja1NoZWV0Q2hhbmdlKHByZXZQcm9wcykge1xyXG4gICAgaWYgKCF0aGlzLnNob3VsZE9wZW5BY3RpdmVTaGVldChwcmV2UHJvcHMpKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLm9wZW4odGhpcy5wcm9wcy5hY3RpdmVTaGVldC5lbGVtZW50KTtcclxuICB9XHJcblxyXG4gIHNob3VsZE9wZW5BY3RpdmVTaGVldChwcmV2UHJvcHMpIHtcclxuICAgIHJldHVybiAhcHJldlByb3BzIHx8IHByZXZQcm9wcy5hY3RpdmVTaGVldC5pZCAhPT0gdGhpcy5wcm9wcy5hY3RpdmVTaGVldC5pZDtcclxuICB9XHJcblxyXG4gIG9wZW4gPSAoZWxlbWVudCkgPT4ge1xyXG4gICAgY29uc3Qge1xyXG4gICAgICBhY3RpdmVWaWV3LFxyXG4gICAgICBkaXJ0eSxcclxuICAgICAgbW9kZWxlcixcclxuICAgICAgc3RhY2tJZHhcclxuICAgIH0gPSB0aGlzLmdldENhY2hlZCgpO1xyXG5cclxuICAgIGxldCB2aWV3ID0gbW9kZWxlci5nZXRWaWV3KGVsZW1lbnQpO1xyXG5cclxuICAgIGlmICghdmlldykge1xyXG5cclxuICAgICAgLy8gdHJ5IHRvIGZpbmQgdmlldyBiYXNlZCBvbiBJRFxyXG4gICAgICAvLyBhZnRlciByZS1pbXBvcnQgcmVmZXJlbmNlIGNvbXBhcmlzb24gd29uJ3Qgd29yayBhbnltb3JlXHJcbiAgICAgIHZpZXcgPSBtb2RlbGVyLmdldFZpZXdzKCkuZmluZCh2aWV3ID0+IHZpZXcuZWxlbWVudC5pZCA9PT0gZWxlbWVudC5pZCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCF2aWV3KSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWFjdGl2ZVZpZXcgfHwgYWN0aXZlVmlldy5lbGVtZW50ICE9PSBlbGVtZW50KSB7XHJcblxyXG4gICAgICAvLyBkaXJ0eSBtdXN0IGJlIGNhY2hlZCBiZWZvcmUgc3dpdGNoaW5nIGFjdGl2ZSB2aWV3XHJcbiAgICAgIC8vIGlmIGFjdGl2ZSB2aWV3IGhhcyB1bnNhdmVkIGNoYW5nZXMgZWRpdG9yIG11c3Qgc3RpbGwgYmUgZGlydHkgYWZ0ZXIgc3dpdGNoaW5nIGFjdGl2ZSB2aWV3XHJcbiAgICAgIHRoaXMuc2V0Q2FjaGVkKHtcclxuICAgICAgICBkaXJ0eTogZGlydHkgfHwgdGhpcy5nZXRNb2RlbGVyKCkuZ2V0U3RhY2tJZHgoKSAhPT0gc3RhY2tJZHhcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBtb2RlbGVyLm9wZW4odmlldyk7XHJcblxyXG4gICAgICB0aGlzLnNldENhY2hlZCh7XHJcbiAgICAgICAgc3RhY2tJZHg6IHRoaXMuZ2V0TW9kZWxlcigpLmdldFN0YWNrSWR4KClcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgdHJpZ2dlckFjdGlvbiA9IChhY3Rpb24sIGNvbnRleHQpID0+IHtcclxuICAgIGNvbnN0IHtcclxuICAgICAgbGF5b3V0ID0ge30sXHJcbiAgICAgIG9uTGF5b3V0Q2hhbmdlZDogaGFuZGxlTGF5b3V0Q2hhbmdlXHJcbiAgICB9ID0gdGhpcy5wcm9wcztcclxuXHJcbiAgICBjb25zdCB7XHJcbiAgICAgIHByb3BlcnRpZXNQYW5lbDogcHJvcGVydGllc1BhbmVsTGF5b3V0ID0ge31cclxuICAgIH0gPSBsYXlvdXQ7XHJcblxyXG4gICAgY29uc3QgbW9kZWxlciA9IHRoaXMuZ2V0TW9kZWxlcigpO1xyXG5cclxuICAgIGlmIChhY3Rpb24gPT09ICdyZXNpemUnKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmhhbmRsZVJlc2l6ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChhY3Rpb24gPT09ICd0b2dnbGVHcmlkJykge1xyXG4gICAgICBjb25zdCBuZXdMYXlvdXQgPSB7XHJcbiAgICAgICAgZ3JpZDoge1xyXG4gICAgICAgICAgdmlzaWJsZTogbGF5b3V0LmdyaWQ/LnZpc2libGUgPT09IGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgcmV0dXJuIGhhbmRsZUxheW91dENoYW5nZShuZXdMYXlvdXQpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChhY3Rpb24gPT09ICd0b2dnbGVQcm9wZXJ0aWVzJykge1xyXG4gICAgICBjb25zdCBuZXdMYXlvdXQgPSB7XHJcbiAgICAgICAgcHJvcGVydGllc1BhbmVsOiB7XHJcbiAgICAgICAgICAuLi5QUk9QRVJUSUVTX1BBTkVMX0RFRkFVTFRfTEFZT1VULFxyXG4gICAgICAgICAgLi4ucHJvcGVydGllc1BhbmVsTGF5b3V0LFxyXG4gICAgICAgICAgb3BlbjogIXByb3BlcnRpZXNQYW5lbExheW91dC5vcGVuXHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgcmV0dXJuIGhhbmRsZUxheW91dENoYW5nZShuZXdMYXlvdXQpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChhY3Rpb24gPT09ICd6b29tSW4nKSB7XHJcbiAgICAgIGFjdGlvbiA9ICdzdGVwWm9vbSc7XHJcblxyXG4gICAgICBjb250ZXh0ID0ge1xyXG4gICAgICAgIHZhbHVlOiAxXHJcbiAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGFjdGlvbiA9PT0gJ3pvb21PdXQnKSB7XHJcbiAgICAgIGFjdGlvbiA9ICdzdGVwWm9vbSc7XHJcblxyXG4gICAgICBjb250ZXh0ID0ge1xyXG4gICAgICAgIHZhbHVlOiAtMVxyXG4gICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChhY3Rpb24gPT09ICdyZXNldFpvb20nKSB7XHJcbiAgICAgIGFjdGlvbiA9ICd6b29tJztcclxuXHJcbiAgICAgIGNvbnRleHQgPSB7XHJcbiAgICAgICAgdmFsdWU6IDFcclxuICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoYWN0aW9uID09PSAnem9vbUZpdCcpIHtcclxuICAgICAgYWN0aW9uID0gJ3pvb20nO1xyXG5cclxuICAgICAgY29udGV4dCA9IHtcclxuICAgICAgICB2YWx1ZTogJ2ZpdC12aWV3cG9ydCdcclxuICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoYWN0aW9uID09PSAndG9nZ2xlT3ZlcnZpZXcnKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnRvZ2dsZU92ZXJ2aWV3KCk7XHJcbiAgICB9IGVsc2UgaWYgKGFjdGlvbiA9PT0gJ3Jlc2V0T3ZlcnZpZXcnKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnJlc2V0T3ZlcnZpZXcoKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbW9kZWxlci5nZXRBY3RpdmVWaWV3ZXIoKVxyXG4gICAgICAuZ2V0KCdlZGl0b3JBY3Rpb25zJylcclxuICAgICAgLnRyaWdnZXIoYWN0aW9uLCBjb250ZXh0KTtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBAcmV0dXJucyB7Q2FtdW5kYURtbk1vZGVsZXJ9XHJcbiAgICovXHJcbiAgZ2V0TW9kZWxlcigpIHtcclxuICAgIGNvbnN0IHtcclxuICAgICAgbW9kZWxlclxyXG4gICAgfSA9IHRoaXMuZ2V0Q2FjaGVkKCk7XHJcblxyXG4gICAgcmV0dXJuIG1vZGVsZXI7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVSZXNpemUgPSAoKSA9PiB7XHJcbiAgICBjb25zdCB7XHJcbiAgICAgIG1vZGVsZXJcclxuICAgIH0gPSB0aGlzLmdldENhY2hlZCgpO1xyXG5cclxuICAgIGNvbnN0IHZpZXcgPSBtb2RlbGVyLmdldEFjdGl2ZVZpZXcoKTtcclxuXHJcbiAgICBjb25zdCB2aWV3VHlwZSA9IHZpZXcgJiYgdmlldy50eXBlO1xyXG5cclxuICAgIGlmICh2aWV3VHlwZSAhPT0gJ2RyZCcpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHZpZXdlciA9IG1vZGVsZXIuZ2V0QWN0aXZlVmlld2VyKCk7XHJcblxyXG4gICAgY29uc3QgY2FudmFzID0gdmlld2VyLmdldCgnY2FudmFzJyk7XHJcbiAgICBjb25zdCBldmVudEJ1cyA9IHZpZXdlci5nZXQoJ2V2ZW50QnVzJyk7XHJcblxyXG4gICAgY2FudmFzLnJlc2l6ZWQoKTtcclxuICAgIGV2ZW50QnVzLmZpcmUoJ3Byb3BlcnRpZXNQYW5lbC5yZXNpemVkJyk7XHJcbiAgfTtcclxuXHJcbiAgYXN5bmMgZ2V0WE1MKCkge1xyXG4gICAgY29uc3Qge1xyXG4gICAgICBsYXN0WE1MLFxyXG4gICAgICBtb2RlbGVyXHJcbiAgICB9ID0gdGhpcy5nZXRDYWNoZWQoKTtcclxuXHJcbiAgICBpZiAoIXRoaXMuaXNEaXJ0eSgpKSB7XHJcbiAgICAgIHJldHVybiBsYXN0WE1MIHx8IHRoaXMucHJvcHMueG1sO1xyXG4gICAgfVxyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHsgeG1sIH0gPSBhd2FpdCBtb2RlbGVyLnNhdmVYTUwoeyBmb3JtYXQ6IHRydWUgfSk7XHJcblxyXG4gICAgICBjb25zdCBzdGFja0lkeCA9IG1vZGVsZXIuZ2V0U3RhY2tJZHgoKTtcclxuXHJcbiAgICAgIHRoaXMuc2V0Q2FjaGVkKHtcclxuICAgICAgICBkaXJ0eTogZmFsc2UsXHJcbiAgICAgICAgbGFzdFhNTDogeG1sLFxyXG4gICAgICAgIHN0YWNrSWR4XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgcmV0dXJuIHhtbDtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIHRoaXMuaGFuZGxlRXJyb3IoeyBlcnJvciB9KTtcclxuXHJcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhc3luYyBleHBvcnRBcyh0eXBlKSB7XHJcbiAgICBsZXQgc3ZnO1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIHN2ZyA9IGF3YWl0IHRoaXMuZXhwb3J0U1ZHKCk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICB0aGlzLmhhbmRsZUVycm9yKHsgZXJyb3IgfSk7XHJcblxyXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0eXBlID09PSAnc3ZnJykge1xyXG4gICAgICByZXR1cm4gc3ZnO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBnZW5lcmF0ZUltYWdlKHR5cGUsIHN2Zyk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBleHBvcnRTVkcoKSB7XHJcbiAgICBjb25zdCBtb2RlbGVyID0gdGhpcy5nZXRNb2RlbGVyKCk7XHJcblxyXG4gICAgY29uc3Qgdmlld2VyID0gbW9kZWxlci5nZXRBY3RpdmVWaWV3ZXIoKTtcclxuXHJcbiAgICBpZiAoIXZpZXdlci5zYXZlU1ZHKSB7XHJcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ1NWRyBleHBvcnQgbm90IHN1cHBvcnRlZCBpbiBjdXJyZW50IHZpZXcnKSk7XHJcbiAgICB9XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgeyBzdmcgfSA9IGF3YWl0IHZpZXdlci5zYXZlU1ZHKCk7XHJcblxyXG4gICAgICByZXR1cm4gc3ZnO1xyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcblxyXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGhhbmRsZUVkaXREcmRDbGljayA9ICgpID0+IHtcclxuICAgIGNvbnN0IG1vZGVsZXIgPSB0aGlzLmdldE1vZGVsZXIoKTtcclxuXHJcbiAgICBjb25zdCBkcmRWaWV3ID0gbW9kZWxlci5fdmlld3MuZmluZCgoeyB0eXBlIH0pID0+IHR5cGUgPT09ICdkcmQnKTtcclxuXHJcbiAgICBpZiAoZHJkVmlldykge1xyXG4gICAgICBtb2RlbGVyLm9wZW4oZHJkVmlldyk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgdG9nZ2xlT3ZlcnZpZXcgPSAoKSA9PiB7XHJcbiAgICBjb25zdCB7XHJcbiAgICAgIGxheW91dCxcclxuICAgICAgb25MYXlvdXRDaGFuZ2VkXHJcbiAgICB9ID0gdGhpcy5wcm9wcztcclxuXHJcbiAgICBjb25zdCBkbW5PdmVydmlldyA9IGxheW91dC5kbW5PdmVydmlldyB8fCBvdmVydmlld0RlZmF1bHRMYXlvdXQ7XHJcblxyXG4gICAgb25MYXlvdXRDaGFuZ2VkKHtcclxuICAgICAgZG1uT3ZlcnZpZXc6IHtcclxuICAgICAgICAuLi5kbW5PdmVydmlldyxcclxuICAgICAgICBvcGVuOiAhZG1uT3ZlcnZpZXcub3BlblxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICByZXNldE92ZXJ2aWV3KCkge1xyXG4gICAgY29uc3Qge1xyXG4gICAgICBvbkxheW91dENoYW5nZWRcclxuICAgIH0gPSB0aGlzLnByb3BzO1xyXG5cclxuICAgIG9uTGF5b3V0Q2hhbmdlZCh7XHJcbiAgICAgIGRtbk92ZXJ2aWV3OiB7XHJcbiAgICAgICAgLi4ub3ZlcnZpZXdEZWZhdWx0TGF5b3V0XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyKCkge1xyXG4gICAgY29uc3QgZW5naW5lUHJvZmlsZSA9IHRoaXMuZW5naW5lUHJvZmlsZS5nZXRDYWNoZWQoKTtcclxuXHJcbiAgICBjb25zdCB7XHJcbiAgICAgIGxheW91dCxcclxuICAgICAgb25MYXlvdXRDaGFuZ2VkXHJcbiAgICB9ID0gdGhpcy5wcm9wcztcclxuXHJcbiAgICBjb25zdCBpbXBvcnRlZCA9IHRoaXMuZ2V0TW9kZWxlcigpLmdldERlZmluaXRpb25zKCk7XHJcblxyXG4gICAgY29uc3Qge1xyXG4gICAgICBpbXBvcnRpbmdcclxuICAgIH0gPSB0aGlzLnN0YXRlO1xyXG5cclxuICAgIGNvbnN0IG1vZGVsZXIgPSB0aGlzLmdldE1vZGVsZXIoKTtcclxuXHJcbiAgICBjb25zdCBhY3RpdmVWaWV3ID0gbW9kZWxlci5nZXRBY3RpdmVWaWV3KCk7XHJcblxyXG4gICAgY29uc3QgaXNEcmQgPSBhY3RpdmVWaWV3ICYmIGFjdGl2ZVZpZXcudHlwZSA9PT0gJ2RyZCc7XHJcblxyXG4gICAgY29uc3QgYWN0aXZlVmlld2VyID0gbW9kZWxlci5nZXRBY3RpdmVWaWV3ZXIoKTtcclxuXHJcbiAgICBjb25zdCBvdmVydmlld09wZW4gPSBpc092ZXJ2aWV3T3Blbih0aGlzLnByb3BzKTtcclxuXHJcbiAgICBjb25zdCBoYXNQcm9wZXJ0aWVzUGFuZWwgPSAhaW1wb3J0aW5nICYmIGFjdGl2ZVZpZXdlciAmJiAhIWFjdGl2ZVZpZXdlci5nZXQoJ3Byb3BlcnRpZXNQYW5lbCcsIGZhbHNlKTtcclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17IGNzcy5EbW5FZGl0b3IgfT5cclxuXHJcbiAgICAgICAgPExvYWRlciBoaWRkZW49eyBpbXBvcnRlZCAmJiAhaW1wb3J0aW5nIH0gLz5cclxuXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgIWlzRHJkICYmIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0b3BcIj5cclxuICAgICAgICAgICAgICA8YnV0dG9uIGlkPVwiYnV0dG9uLWVkaXQtZHJkXCIgY2xhc3NOYW1lPVwiYnV0dG9uXCIgb25DbGljaz17IHRoaXMuaGFuZGxlRWRpdERyZENsaWNrIH0+RWRpdCBEUkQ8L2J1dHRvbj5cclxuICAgICAgICAgICAgICA8YnV0dG9uIGlkPVwiYnV0dG9uLXRvZ2dsZS1vdmVydmlld1wiIGNsYXNzTmFtZT1cImJ1dHRvblwiIG9uQ2xpY2s9eyB0aGlzLnRvZ2dsZU92ZXJ2aWV3IH0+eyBvdmVydmlld09wZW4gPyAnQ2xvc2UnIDogJ09wZW4nIH0gb3ZlcnZpZXc8L2J1dHRvbj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICApXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJvdHRvbVwiPlxyXG5cclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgIWlzRHJkICYmIChcclxuICAgICAgICAgICAgICA8T3ZlcnZpZXdDb250YWluZXJcclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm92ZXJ2aWV3XCJcclxuICAgICAgICAgICAgICAgIGxheW91dD17IGxheW91dCB9XHJcbiAgICAgICAgICAgICAgICByZWY9eyB0aGlzLm92ZXJ2aWV3UmVmIH1cclxuICAgICAgICAgICAgICAgIG9uTGF5b3V0Q2hhbmdlZD17IG9uTGF5b3V0Q2hhbmdlZCB9IC8+XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17XHJcbiAgICAgICAgICAgIGNsYXNzTmFtZXMoXHJcbiAgICAgICAgICAgICAgJ2RpYWdyYW0nLFxyXG4gICAgICAgICAgICAgIHsgJ2RyZCc6IGlzRHJkIH1cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgfSByZWY9eyB0aGlzLnJlZiB9PjwvZGl2PlxyXG5cclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgaGFzUHJvcGVydGllc1BhbmVsICYmIChcclxuICAgICAgICAgICAgICA8UHJvcGVydGllc1BhbmVsQ29udGFpbmVyXHJcbiAgICAgICAgICAgICAgICByZWY9eyB0aGlzLnByb3BlcnRpZXNQYW5lbFJlZiB9XHJcbiAgICAgICAgICAgICAgICBsYXlvdXQ9eyBsYXlvdXQgfVxyXG4gICAgICAgICAgICAgICAgb25MYXlvdXRDaGFuZ2VkPXsgb25MYXlvdXRDaGFuZ2VkIH0gLz5cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgZW5naW5lUHJvZmlsZSAmJiA8RW5naW5lUHJvZmlsZVxyXG4gICAgICAgICAgICBmaWx0ZXJWZXJzaW9ucz17IHZlcnNpb24gPT4gIS9eMVxcLi8udGVzdCh2ZXJzaW9uKSB9XHJcbiAgICAgICAgICAgIGVuZ2luZVByb2ZpbGU9eyBlbmdpbmVQcm9maWxlIH1cclxuICAgICAgICAgICAgb25DaGFuZ2U9eyAoZW5naW5lUHJvZmlsZSkgPT4gdGhpcy5lbmdpbmVQcm9maWxlLnNldChlbmdpbmVQcm9maWxlKSB9IC8+XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgPC9kaXY+XHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGNyZWF0ZUNhY2hlZFN0YXRlKHByb3BzKSB7XHJcbiAgICBjb25zdCB7XHJcbiAgICAgIG5hbWUsXHJcbiAgICAgIHZlcnNpb25cclxuICAgIH0gPSBNZXRhZGF0YTtcclxuXHJcbiAgICBjb25zdCB7XHJcbiAgICAgIGdldFBsdWdpbnMsXHJcbiAgICAgIG9uQWN0aW9uLFxyXG4gICAgICBvbkVycm9yLFxyXG4gICAgICBzZXR0aW5nc1xyXG4gICAgfSA9IHByb3BzO1xyXG5cclxuICAgIC8vIG5vdGlmeSBpbnRlcmVzdGVkIHBhcnRpZXMgdGhhdCBtb2RlbGVyIHdpbGwgYmUgY29uZmlndXJlZFxyXG4gICAgY29uc3QgaGFuZGxlTWlkZGxld2FyZUV4dGVuc2lvbnMgPSAobWlkZGxld2FyZXMpID0+IHtcclxuICAgICAgb25BY3Rpb24oJ2VtaXQtZXZlbnQnLCB7XHJcbiAgICAgICAgdHlwZTogJ2Rtbi5tb2RlbGVyLmNvbmZpZ3VyZScsXHJcbiAgICAgICAgcGF5bG9hZDoge1xyXG4gICAgICAgICAgbWlkZGxld2FyZXNcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCB7XHJcbiAgICAgIG9wdGlvbnMsXHJcbiAgICAgIHdhcm5pbmdzXHJcbiAgICB9ID0gY29uZmlndXJlTW9kZWxlcihnZXRQbHVnaW5zLCB7XHJcbiAgICAgIGV4cG9ydGVyOiB7XHJcbiAgICAgICAgbmFtZSxcclxuICAgICAgICB2ZXJzaW9uXHJcbiAgICAgIH0sXHJcbiAgICAgIHNldHRpbmdzXHJcbiAgICB9LCBoYW5kbGVNaWRkbGV3YXJlRXh0ZW5zaW9ucywgJ2Nsb3VkJyk7XHJcblxyXG4gICAgaWYgKHdhcm5pbmdzLmxlbmd0aCAmJiBpc0Z1bmN0aW9uKG9uRXJyb3IpKSB7XHJcbiAgICAgIG9uRXJyb3IoXHJcbiAgICAgICAgJ1Byb2JsZW0ocykgY29uZmlndXJpbmcgRE1OIGVkaXRvcjogXFxuXFx0JyArXHJcbiAgICAgICAgd2FybmluZ3MubWFwKGVycm9yID0+IGVycm9yLm1lc3NhZ2UpLmpvaW4oJ1xcblxcdCcpICtcclxuICAgICAgICAnXFxuJ1xyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IG1vZGVsZXIgPSBuZXcgQ2FtdW5kYURtbk1vZGVsZXIoe1xyXG4gICAgICAuLi5vcHRpb25zLFxyXG4gICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcclxuICAgICAga2V5Ym9hcmQ6IHtcclxuICAgICAgICBiaW5kOiBmYWxzZVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCBzdGFja0lkeCA9IG1vZGVsZXIuZ2V0U3RhY2tJZHgoKTtcclxuXHJcbiAgICAvLyBub3RpZnkgaW50ZXJlc3RlZCBwYXJ0aWVzIHRoYXQgbW9kZWxlciB3YXMgY3JlYXRlZFxyXG4gICAgb25BY3Rpb24oJ2VtaXQtZXZlbnQnLCB7XHJcbiAgICAgIHR5cGU6ICdkbW4ubW9kZWxlci5jcmVhdGVkJyxcclxuICAgICAgcGF5bG9hZDoge1xyXG4gICAgICAgIG1vZGVsZXJcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgX19kZXN0cm95OiAoKSA9PiB7XHJcbiAgICAgICAgbW9kZWxlci5kZXN0cm95KCk7XHJcbiAgICAgIH0sXHJcbiAgICAgIGRpcnR5OiBmYWxzZSxcclxuICAgICAgbGFzdFhNTDogbnVsbCxcclxuICAgICAgbW9kZWxlcixcclxuICAgICAgc3RhY2tJZHhcclxuICAgIH07XHJcbiAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgV2l0aENhY2hlKFdpdGhDYWNoZWRTdGF0ZShEbW5FZGl0b3IpKTtcclxuXHJcbi8vIGhlbHBlcnMgLy8vLy8vLy8vL1xyXG5cclxuZnVuY3Rpb24gaXNDYWNoZWRTdGF0ZUNoYW5nZShwcmV2UHJvcHMsIHByb3BzKSB7XHJcbiAgcmV0dXJuIHByZXZQcm9wcy5jYWNoZWRTdGF0ZSAhPT0gcHJvcHMuY2FjaGVkU3RhdGU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldE1pZ3JhdGlvbkRpYWxvZygpIHtcclxuICByZXR1cm4ge1xyXG4gICAgdHlwZTogJ3dhcm5pbmcnLFxyXG4gICAgdGl0bGU6ICdEZXByZWNhdGVkIERNTiAxLjEgRGlhZ3JhbSBEZXRlY3RlZCcsXHJcbiAgICBidXR0b25zOiBbXHJcbiAgICAgIHsgaWQ6ICdjYW5jZWwnLCBsYWJlbDogJ0NhbmNlbCcgfSxcclxuICAgICAgeyBpZDogJ3llcycsIGxhYmVsOiAnWWVzJyB9XHJcbiAgICBdLFxyXG4gICAgZGVmYXVsdElkOiAxLFxyXG4gICAgbWVzc2FnZTogJ1dvdWxkIHlvdSBsaWtlIHRvIG1pZ3JhdGUgeW91ciBkaWFncmFtIHRvIERNTiAxLjM/JyxcclxuICAgIGRldGFpbDogW1xyXG4gICAgICAnT25seSBETU4gMS4zIGRpYWdyYW1zIGNhbiBiZSBvcGVuZWQgd2l0aCBDYW11bmRhIE1vZGVsZXIgdjQuMC4wIG9yIGxhdGVyLicsXHJcbiAgICBdLmpvaW4oJ1xcbicpLFxyXG4gICAgY2hlY2tib3hDaGVja2VkOiB0cnVlLFxyXG4gICAgY2hlY2tib3hMYWJlbDogJ0RvIG5vdCBhc2sgYWdhaW4uJ1xyXG4gIH07XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDaGVjayBsYXlvdXQgd2hldGhlciBvdmVydmlldyBpcyBvcGVuLlxyXG4gKlxyXG4gKiBAcGFyYW0ge09iamVjdH0gcHJvcHNcclxuICpcclxuICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAqL1xyXG5mdW5jdGlvbiBpc092ZXJ2aWV3T3Blbihwcm9wcykge1xyXG4gIGNvbnN0IGxheW91dCA9IHByb3BzLmxheW91dCB8fCB7fTtcclxuXHJcbiAgY29uc3QgZG1uT3ZlcnZpZXcgPSBsYXlvdXQuZG1uT3ZlcnZpZXc7XHJcblxyXG4gIHJldHVybiAhZG1uT3ZlcnZpZXcgfHwgZG1uT3ZlcnZpZXcub3BlbjtcclxufVxyXG5cclxuLyoqXHJcbiAqIENoZWNrIGxheW91dCB3aGV0aGVyIG92ZXJ2aWV3IHdhcyBvcGVuZWQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcmV2UHJvcHNcclxuICogQHBhcmFtIHtPYmplY3R9IHByb3BzXHJcbiAqXHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuZnVuY3Rpb24gaXNPdmVydmlld09wZW5lZChwcmV2UHJvcHMsIHByb3BzKSB7XHJcbiAgcmV0dXJuIGlzT3ZlcnZpZXdPcGVuKHByZXZQcm9wcykgPT09IGZhbHNlICYmIGlzT3ZlcnZpZXdPcGVuKHByb3BzKSA9PT0gdHJ1ZTtcclxufVxyXG5cclxuLyoqXHJcbiAqIENoZWNrIHdoZXRoZXIgZ3JpZCBsYXlvdXQgY2hhbmdlZCBzaW5jZSBsYXN0IG9wZW5cclxuICpcclxuICogQHBhcmFtIHtPYmplY3R9IHByZXZQcm9wc1xyXG4gKiBAcGFyYW0ge09iamVjdH0gcHJvcHNcclxuICpcclxuICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAqL1xyXG5mdW5jdGlvbiBpc0dyaWRMYXlvdXRDaGFuZ2UocHJldlByb3BzLCBwcm9wcykge1xyXG4gIHJldHVybiBwcm9wcy5sYXlvdXQ/LmdyaWQ/LnZpc2libGUgIT09IHByZXZQcm9wcy5sYXlvdXQ/LmdyaWQ/LnZpc2libGU7XHJcbn1cclxuIl0sIm5hbWVzIjpbIlJlYWN0IiwiYXNzaWduIiwiaXNGdW5jdGlvbiIsImNsYXNzTmFtZXMiLCJMb2FkZXIiLCJkZWJvdW5jZSIsImNvbmZpZ3VyZU1vZGVsZXIiLCJXaXRoQ2FjaGUiLCJXaXRoQ2FjaGVkU3RhdGUiLCJDYWNoZWRDb21wb25lbnQiLCJPdmVydmlld0NvbnRhaW5lciIsIlByb3BlcnRpZXNQYW5lbENvbnRhaW5lciIsIkRFRkFVTFRfTEFZT1VUIiwiUFJPUEVSVElFU19QQU5FTF9ERUZBVUxUX0xBWU9VVCIsIkNhbXVuZGFEbW5Nb2RlbGVyIiwiYWN0aXZlIiwiaXNJbnB1dEFjdGl2ZSIsImdldERtbkJveGVkRXhwcmVzc2lvbkVkaXRNZW51IiwiZ2V0RG1uRHJkRWRpdE1lbnUiLCJnZXREbW5EZWNpc2lvblRhYmxlRWRpdE1lbnUiLCJnZXREbW5MaXRlcmFsRXhwcmVzc2lvbkVkaXRNZW51IiwiZ2V0RG1uV2luZG93TWVudSIsImNzcyIsImdlbmVyYXRlSW1hZ2UiLCJNZXRhZGF0YSIsImZpbmRVc2FnZXMiLCJmaW5kTmFtZXNwYWNlVXNhZ2VzIiwibWlncmF0ZURpYWdyYW0iLCJvdmVydmlld0RlZmF1bHRMYXlvdXQiLCJFbmdpbmVQcm9maWxlIiwidG9TZW12ZXIiLCJFbmdpbmVQcm9maWxlSGVscGVyIiwiRU5HSU5FUyIsIkVYUE9SVF9BUyIsIk5BTUVTUEFDRV9VUkxfRE1OMTEiLCJOQU1FU1BBQ0VfVVJMX0RNTjEyIiwiQ09ORklHX0tFWSIsIkRFRkFVTFRfRU5HSU5FX1BST0ZJTEUiLCJleGVjdXRpb25QbGF0Zm9ybSIsIkNMT1VEIiwiZXhlY3V0aW9uUGxhdGZvcm1WZXJzaW9uIiwidW5kZWZpbmVkIiwiRG1uRWRpdG9yIiwiY29uc3RydWN0b3IiLCJwcm9wcyIsInN0YXRlIiwicmVmIiwiY3JlYXRlUmVmIiwib3ZlcnZpZXdSZWYiLCJwcm9wZXJ0aWVzUGFuZWxSZWYiLCJoYW5kbGVSZXNpemUiLCJlbmdpbmVQcm9maWxlIiwiZ2V0IiwibW9kZWxlciIsImdldE1vZGVsZXIiLCJhY3RpdmVWaWV3ZXIiLCJnZXRBY3RpdmVWaWV3ZXIiLCJleGVjdXRpb25QbGF0Zm9ybUhlbHBlciIsImdldEV4ZWN1dGlvblBsYXRmb3JtIiwibmFtZSIsInZlcnNpb24iLCJzZXQiLCJzZXRFeGVjdXRpb25QbGF0Zm9ybSIsImdldENhY2hlZCIsInNldENhY2hlZCIsImNvbXBvbmVudERpZE1vdW50IiwiX2lzTW91bnRlZCIsImxpc3RlbiIsImF0dGFjaFRvIiwiY3VycmVudCIsInByb3BlcnRpZXNQYW5lbCIsImF0dGFjaE92ZXJ2aWV3VG8iLCJpc092ZXJ2aWV3T3BlbiIsIl9lbWl0IiwidG9nZ2xlIiwibGF5b3V0IiwiZ3JpZCIsInZpc2libGUiLCJjaGVja0ltcG9ydCIsImNvbXBvbmVudFdpbGxVbm1vdW50IiwiZGV0YWNoIiwiY29tcG9uZW50RGlkVXBkYXRlIiwicHJldlByb3BzIiwiaXNPdmVydmlld09wZW5lZCIsImlzR3JpZExheW91dENoYW5nZSIsImlzQ2FjaGVkU3RhdGVDaGFuZ2UiLCJoYW5kbGVDaGFuZ2VkIiwiaWZNb3VudGVkIiwiZm4iLCJhcmdzIiwiZm9yRWFjaCIsImV2ZW50Iiwidmlld3NDaGFuZ2VkIiwidmlld0NvbnRlbnRDaGFuZ2VkIiwiaGFuZGxlRXJyb3IiLCJpc0RpcnR5IiwiZGlydHkiLCJzdGFja0lkeCIsImdldFN0YWNrSWR4IiwiaGFuZGxlSW1wb3J0IiwiZXJyb3IiLCJ3YXJuaW5ncyIsImFjdGl2ZVNoZWV0Iiwib25JbXBvcnQiLCJ4bWwiLCJlcnIiLCJsYXN0WE1MIiwic2V0U3RhdGUiLCJpbXBvcnRpbmciLCJlbGVtZW50Iiwib3BlbiIsImluaXRpYWxWaWV3IiwiX2dldEluaXRpYWxWaWV3IiwiX3ZpZXdzIiwiYWN0aXZlVmlldyIsInByZXZpb3VzQWN0aXZlU2hlZXQiLCJvblNoZWV0c0NoYW5nZWQiLCJwcmV2aW91c0FjdGl2ZVZpZXciLCJpZCIsIm9yZGVyIiwidHlwZSIsImRldGFjaE92ZXJ2aWV3IiwidW5kbyIsInJlZG8iLCJvbkNoYW5nZWQiLCJnZXRBY3RpdmVWaWV3IiwiY29tbWFuZFN0YWNrIiwiaGFzUHJvcGVydGllc1BhbmVsIiwiaGFzR3JpZCIsImhhc092ZXJ2aWV3IiwiaW5wdXRBY3RpdmUiLCJuZXdTdGF0ZSIsImNsb3NlIiwiY29weSIsImN1dCIsImV4cG9ydEFzIiwib3ZlcnZpZXciLCJwYXN0ZSIsInBsYXRmb3JtIiwiY2FuUmVkbyIsInNhdmUiLCJjYW5VbmRvIiwic2VsZWN0aW9uIiwiaGFzU2VsZWN0aW9uIiwic2VsZWN0aW9uTGVuZ3RoIiwibGVuZ3RoIiwiZWRpdE1lbnUiLCJjYW52YXNGb2N1c2VkIiwiaXNGb2N1c2VkIiwiYWxpZ24iLCJkZWZhdWx0Q29weUN1dFBhc3RlIiwiZGVmYXVsdFVuZG9SZWRvIiwiZGlzdHJpYnV0ZSIsImVkaXRMYWJlbCIsImZpbmQiLCJsYXNzb1Rvb2wiLCJtb3ZlQ2FudmFzIiwibW92ZVNlbGVjdGlvbiIsInJlbW92ZVNlbGVjdGVkIiwic2VsZWN0QWxsIiwiem9vbSIsImRtblJ1bGVFZGl0aW5nIiwiZG1uQ2xhdXNlRWRpdGluZyIsImFjdGl2ZUVkaXRvciIsImRtbiIsImVkaXRhYmxlIiwiZWxlbWVudHNTZWxlY3RlZCIsImluYWN0aXZlSW5wdXQiLCJ3aW5kb3dNZW51Iiwib25FcnJvciIsImhhbmRsZURpc3RyaWJ1dGVFbGVtZW50cyIsInRyaWdnZXJBY3Rpb24iLCJoYW5kbGVBbGlnbkVsZW1lbnRzIiwiaXNJbXBvcnROZWVkZWQiLCJjaGVja1NoZWV0Q2hhbmdlIiwiaW1wb3J0WE1MIiwiaW1wb3J0ZWRYTUwiLCJoYW5kbGVNaWdyYXRpb24iLCJvbkFjdGlvbiIsInRoZW4iLCJ1c2VkIiwiYXNrRG1uTWlncmF0aW9uIiwiZ2V0Q29uZmlnIiwic2hvdWxkTWlncmF0ZSIsIm9uQ29udGVudFVwZGF0ZWQiLCJtaWdyYXRlZFhNTCIsImJ1dHRvbiIsImNoZWNrYm94Q2hlY2tlZCIsImdldE1pZ3JhdGlvbkRpYWxvZyIsInNldENvbmZpZyIsInNob3VsZE9wZW5BY3RpdmVTaGVldCIsInZpZXciLCJnZXRWaWV3IiwiZ2V0Vmlld3MiLCJhY3Rpb24iLCJjb250ZXh0Iiwib25MYXlvdXRDaGFuZ2VkIiwiaGFuZGxlTGF5b3V0Q2hhbmdlIiwicHJvcGVydGllc1BhbmVsTGF5b3V0IiwibmV3TGF5b3V0IiwidmFsdWUiLCJ0b2dnbGVPdmVydmlldyIsInJlc2V0T3ZlcnZpZXciLCJ0cmlnZ2VyIiwidmlld1R5cGUiLCJ2aWV3ZXIiLCJjYW52YXMiLCJldmVudEJ1cyIsInJlc2l6ZWQiLCJmaXJlIiwiZ2V0WE1MIiwic2F2ZVhNTCIsImZvcm1hdCIsIlByb21pc2UiLCJyZWplY3QiLCJzdmciLCJleHBvcnRTVkciLCJzYXZlU1ZHIiwiRXJyb3IiLCJoYW5kbGVFZGl0RHJkQ2xpY2siLCJkcmRWaWV3IiwiZG1uT3ZlcnZpZXciLCJyZW5kZXIiLCJpbXBvcnRlZCIsImdldERlZmluaXRpb25zIiwiaXNEcmQiLCJvdmVydmlld09wZW4iLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwiaGlkZGVuIiwib25DbGljayIsImZpbHRlclZlcnNpb25zIiwidGVzdCIsIm9uQ2hhbmdlIiwiY3JlYXRlQ2FjaGVkU3RhdGUiLCJnZXRQbHVnaW5zIiwic2V0dGluZ3MiLCJoYW5kbGVNaWRkbGV3YXJlRXh0ZW5zaW9ucyIsIm1pZGRsZXdhcmVzIiwicGF5bG9hZCIsIm9wdGlvbnMiLCJleHBvcnRlciIsIm1hcCIsIm1lc3NhZ2UiLCJqb2luIiwicG9zaXRpb24iLCJrZXlib2FyZCIsImJpbmQiLCJfX2Rlc3Ryb3kiLCJkZXN0cm95IiwiY2FjaGVkU3RhdGUiLCJ0aXRsZSIsImJ1dHRvbnMiLCJsYWJlbCIsImRlZmF1bHRJZCIsImRldGFpbCIsImNoZWNrYm94TGFiZWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/app/tabs/cloud-dmn/DmnEditor.js\n\n}");

/***/ },

/***/ "./src/app/tabs/cloud-dmn/DmnTab.js"
/*!******************************************!*\
  !*** ./src/app/tabs/cloud-dmn/DmnTab.js ***!
  \******************************************/
(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _DmnEditor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DmnEditor */ \"./src/app/tabs/cloud-dmn/DmnEditor.js\");\n/* harmony import */ var _xml__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../xml */ \"./src/app/tabs/xml/index.js\");\n/* harmony import */ var _EditorTab__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../EditorTab */ \"./src/app/tabs/EditorTab.js\");\n/**\r\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\r\n * under one or more contributor license agreements. See the NOTICE file\r\n * distributed with this work for additional information regarding copyright\r\n * ownership.\r\n *\r\n * Camunda licenses this file to you under the MIT; you may not use this file\r\n * except in compliance with the MIT License.\r\n */\n\n\n\n\nconst DmnTab = (0,_EditorTab__WEBPACK_IMPORTED_MODULE_2__.createTab)('DmnTab', [{\n  type: 'cloud-dmn',\n  editor: _DmnEditor__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n  defaultName: 'Diagram (Camunda 8)'\n}, {\n  type: 'xml',\n  editor: _xml__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n  isFallback: true,\n  defaultName: 'XML'\n}]);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DmnTab);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYXBwL3RhYnMvY2xvdWQtZG1uL0RtblRhYi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVvQztBQUNMO0FBRVU7QUFHekMsTUFBTUcsTUFBTSxHQUFHRCxxREFBUyxDQUFDLFFBQVEsRUFBRSxDQUNqQztFQUNFRSxJQUFJLEVBQUUsV0FBVztFQUNqQkMsTUFBTSxFQUFFTCxrREFBUztFQUNqQk0sV0FBVyxFQUFFO0FBQ2YsQ0FBQyxFQUNEO0VBQ0VGLElBQUksRUFBRSxLQUFLO0VBQ1hDLE1BQU0sRUFBRUosNENBQVM7RUFDakJNLFVBQVUsRUFBRSxJQUFJO0VBQ2hCRCxXQUFXLEVBQUU7QUFDZixDQUFDLENBQ0YsQ0FBQztBQUVGLGlFQUFlSCxNQUFNIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2FtdW5kYS1tb2RlbGVyLWNsaWVudC8uL3NyYy9hcHAvdGFicy9jbG91ZC1kbW4vRG1uVGFiLmpzP2VmODAiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIENvcHlyaWdodCBDYW11bmRhIFNlcnZpY2VzIEdtYkggYW5kL29yIGxpY2Vuc2VkIHRvIENhbXVuZGEgU2VydmljZXMgR21iSFxyXG4gKiB1bmRlciBvbmUgb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuIFNlZSB0aGUgTk9USUNFIGZpbGVcclxuICogZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gcmVnYXJkaW5nIGNvcHlyaWdodFxyXG4gKiBvd25lcnNoaXAuXHJcbiAqXHJcbiAqIENhbXVuZGEgbGljZW5zZXMgdGhpcyBmaWxlIHRvIHlvdSB1bmRlciB0aGUgTUlUOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlXHJcbiAqIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIE1JVCBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCBEbW5FZGl0b3IgZnJvbSAnLi9EbW5FZGl0b3InO1xyXG5pbXBvcnQgWE1MRWRpdG9yIGZyb20gJy4uL3htbCc7XHJcblxyXG5pbXBvcnQgeyBjcmVhdGVUYWIgfSBmcm9tICcuLi9FZGl0b3JUYWInO1xyXG5cclxuXHJcbmNvbnN0IERtblRhYiA9IGNyZWF0ZVRhYignRG1uVGFiJywgW1xyXG4gIHtcclxuICAgIHR5cGU6ICdjbG91ZC1kbW4nLFxyXG4gICAgZWRpdG9yOiBEbW5FZGl0b3IsXHJcbiAgICBkZWZhdWx0TmFtZTogJ0RpYWdyYW0gKENhbXVuZGEgOCknXHJcbiAgfSxcclxuICB7XHJcbiAgICB0eXBlOiAneG1sJyxcclxuICAgIGVkaXRvcjogWE1MRWRpdG9yLFxyXG4gICAgaXNGYWxsYmFjazogdHJ1ZSxcclxuICAgIGRlZmF1bHROYW1lOiAnWE1MJ1xyXG4gIH1cclxuXSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBEbW5UYWI7XHJcbiJdLCJuYW1lcyI6WyJEbW5FZGl0b3IiLCJYTUxFZGl0b3IiLCJjcmVhdGVUYWIiLCJEbW5UYWIiLCJ0eXBlIiwiZWRpdG9yIiwiZGVmYXVsdE5hbWUiLCJpc0ZhbGxiYWNrIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/app/tabs/cloud-dmn/DmnTab.js\n\n}");

/***/ },

/***/ "./src/app/tabs/cloud-dmn/index.js"
/*!*****************************************!*\
  !*** ./src/app/tabs/cloud-dmn/index.js ***!
  \*****************************************/
(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* reexport safe */ _DmnTab__WEBPACK_IMPORTED_MODULE_0__[\"default\"])\n/* harmony export */ });\n/* harmony import */ var _DmnTab__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DmnTab */ \"./src/app/tabs/cloud-dmn/DmnTab.js\");\n/**\r\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\r\n * under one or more contributor license agreements. See the NOTICE file\r\n * distributed with this work for additional information regarding copyright\r\n * ownership.\r\n *\r\n * Camunda licenses this file to you under the MIT; you may not use this file\r\n * except in compliance with the MIT License.\r\n */\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYXBwL3RhYnMvY2xvdWQtZG1uL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2FtdW5kYS1tb2RlbGVyLWNsaWVudC8uL3NyYy9hcHAvdGFicy9jbG91ZC1kbW4vaW5kZXguanM/MDE0ZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQ29weXJpZ2h0IENhbXVuZGEgU2VydmljZXMgR21iSCBhbmQvb3IgbGljZW5zZWQgdG8gQ2FtdW5kYSBTZXJ2aWNlcyBHbWJIXHJcbiAqIHVuZGVyIG9uZSBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gU2VlIHRoZSBOT1RJQ0UgZmlsZVxyXG4gKiBkaXN0cmlidXRlZCB3aXRoIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiByZWdhcmRpbmcgY29weXJpZ2h0XHJcbiAqIG93bmVyc2hpcC5cclxuICpcclxuICogQ2FtdW5kYSBsaWNlbnNlcyB0aGlzIGZpbGUgdG8geW91IHVuZGVyIHRoZSBNSVQ7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGVcclxuICogZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuZXhwb3J0IHsgZGVmYXVsdCB9IGZyb20gJy4vRG1uVGFiJzsiXSwibmFtZXMiOlsiZGVmYXVsdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/app/tabs/cloud-dmn/index.js\n\n}");

/***/ },

/***/ "./src/app/tabs/cloud-dmn/modeler/DmnModeler.js"
/*!******************************************************!*\
  !*** ./src/app/tabs/cloud-dmn/modeler/DmnModeler.js ***!
  \******************************************************/
(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CamundaDmnModeler)\n/* harmony export */ });\n/* harmony import */ var camunda_dmn_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! camunda-dmn-js */ \"../node_modules/camunda-dmn-js/dist/index.esm.js\");\n/* harmony import */ var _dmn_modeler_DrdViewer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../dmn/modeler/DrdViewer */ \"./src/app/tabs/dmn/modeler/DrdViewer.js\");\n/* harmony import */ var _bpmn_io_add_exporter_add_exporter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @bpmn-io/add-exporter/add-exporter */ \"../node_modules/@bpmn-io/add-exporter/add-exporter.js\");\n/* harmony import */ var _bpmn_modeler_features_complete_direct_editing__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../bpmn/modeler/features/complete-direct-editing */ \"./src/app/tabs/bpmn/modeler/features/complete-direct-editing/index.js\");\n/* harmony import */ var _bpmn_modeler_features_properties_panel_keyboard_bindings__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../bpmn/modeler/features/properties-panel-keyboard-bindings */ \"./src/app/tabs/bpmn/modeler/features/properties-panel-keyboard-bindings/index.js\");\n/* harmony import */ var _util_Flags__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../util/Flags */ \"./src/util/Flags.js\");\n/* harmony import */ var _dmn_modeler_features_overview_open_drg_element__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../dmn/modeler/features/overview/open-drg-element */ \"./src/app/tabs/dmn/modeler/features/overview/open-drg-element/index.js\");\n/* harmony import */ var _dmn_modeler_features_overview_overview_renderer__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../dmn/modeler/features/overview/overview-renderer */ \"./src/app/tabs/dmn/modeler/features/overview/overview-renderer/index.js\");\n/* harmony import */ var _camunda_execution_platform__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @camunda/execution-platform */ \"../node_modules/@camunda/execution-platform/src/index.js\");\n/* harmony import */ var modeler_moddle_resources_dmn_modeler_json__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! modeler-moddle/resources/dmn-modeler.json */ \"../node_modules/modeler-moddle/resources/dmn-modeler.json\");\n/* harmony import */ var _camunda_improved_canvas__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @camunda/improved-canvas */ \"../node_modules/@camunda/improved-canvas/dist/index.es.js\");\n/**\r\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\r\n * under one or more contributor license agreements. See the NOTICE file\r\n * distributed with this work for additional information regarding copyright\r\n * ownership.\r\n *\r\n * Camunda licenses this file to you under the MIT; you may not use this file\r\n * except in compliance with the MIT License.\r\n */\n\n\n\n\n\n\n\n\n\n\n\n\nconst NOOP_MODULE = ['value', null];\nconst poweredByModule = {\n  poweredBy: NOOP_MODULE\n};\nconst OVERVIEW_ZOOM_SCALE = 0.66;\nconst LOW_PRIORITY = 500,\n  HIGH_PRIORITY = 2500;\nclass CamundaDmnModeler extends camunda_dmn_js__WEBPACK_IMPORTED_MODULE_0__.CamundaCloudModeler {\n  constructor(options = {}) {\n    const {\n      moddleExtensions = {},\n      drd,\n      decisionTable,\n      literalExpression,\n      exporter,\n      overview,\n      settings,\n      ...otherOptions\n    } = options;\n    let additionalModules = [];\n    if (settings.get('app.newContextPad')) {\n      additionalModules = [...additionalModules, _camunda_improved_canvas__WEBPACK_IMPORTED_MODULE_10__.DmnImprovedCanvasModule];\n    }\n    super({\n      ...otherOptions,\n      boxedExpression: mergeModules(otherOptions.boxedExpression, [poweredByModule, _camunda_execution_platform__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n        viewDrd: NOOP_MODULE\n      }]),\n      drd: mergeModules({\n        ...drd,\n        disableAdjustOrigin: _util_Flags__WEBPACK_IMPORTED_MODULE_5__[\"default\"].get(_util_Flags__WEBPACK_IMPORTED_MODULE_5__.DISABLE_ADJUST_ORIGIN)\n      }, [_bpmn_modeler_features_properties_panel_keyboard_bindings__WEBPACK_IMPORTED_MODULE_4__[\"default\"], _camunda_execution_platform__WEBPACK_IMPORTED_MODULE_8__[\"default\"], ...additionalModules]),\n      decisionTable: mergeModules(decisionTable, [poweredByModule, _camunda_execution_platform__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n        viewDrd: NOOP_MODULE\n      }]),\n      literalExpression: mergeModules(literalExpression, [poweredByModule, _camunda_execution_platform__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n        viewDrd: NOOP_MODULE\n      }]),\n      moddleExtensions: {\n        ...moddleExtensions,\n        modeler: modeler_moddle_resources_dmn_modeler_json__WEBPACK_IMPORTED_MODULE_9__\n      },\n      canvas: {\n        autoFocus: true\n      }\n    });\n    this.on('viewer.created', ({\n      viewer\n    }) => {\n      viewer.on('commandStack.changed', event => {\n        this._emit('view.contentChanged', event);\n      });\n      viewer.on('selection.changed', event => {\n        this._emit('view.selectionChanged', event);\n      });\n      viewer.on(['directEditing.activate', 'directEditing.deactivate'], event => {\n        this._emit('view.directEditingChanged', event);\n      });\n      viewer.on('error', ({\n        error\n      }) => {\n        this._emit('error', {\n          viewer,\n          error\n        });\n      });\n      viewer.on('propertiesPanel.focusin', event => {\n        this._emit('propertiesPanel.focusin', event);\n      });\n      viewer.on('propertiesPanel.focusout', event => {\n        this._emit('propertiesPanel.focusout', event);\n      });\n    });\n    (0,_bpmn_io_add_exporter_add_exporter__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(exporter, this);\n    this._addOverview(overview);\n  }\n  showOverview(xml) {\n    return this._overview.importXML(xml).then(() => {}, err => err).then(err => this._handleOverviewImport(err));\n  }\n\n  /**\r\n   * Get stack index of active viewer.\r\n   *\r\n   * @returns {?number} Stack index or null.\r\n   */\n  getStackIdx() {\n    const viewer = this.getActiveViewer();\n    if (!viewer) {\n      return null;\n    }\n    const commandStack = viewer.get('commandStack', false);\n    if (!commandStack) {\n      return null;\n    }\n    return commandStack._stackIdx;\n  }\n  _addOverview(options = {}) {\n    const {\n      layout\n    } = options;\n    const overview = this._overview = new _dmn_modeler_DrdViewer__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\n      drd: {\n        additionalModules: [_dmn_modeler_features_overview_open_drg_element__WEBPACK_IMPORTED_MODULE_6__[\"default\"], _dmn_modeler_features_overview_overview_renderer__WEBPACK_IMPORTED_MODULE_7__[\"default\"]],\n        openDrgElement: {\n          layout\n        }\n      }\n    });\n\n    // (1) import overview initially\n    this.on('import.parse.start', ({\n      xml\n    }) => {\n      this.showOverview(xml);\n    });\n\n    // keep track of view type\n    let previousActiveViewType;\n    this.on('views.changed', LOW_PRIORITY, ({\n      activeView\n    }) => {\n      previousActiveViewType = activeView.type;\n    });\n\n    // (2) update overview on changes in modeler\n    let offCommandStackChanged;\n    this.on('views.changed', ({\n      activeView\n    }) => {\n      if (previousActiveViewType === activeView.type) {\n        return;\n      }\n\n      // (2.1) remove previous listener\n      if (offCommandStackChanged) {\n        offCommandStackChanged();\n      }\n      const handleCommandStackChanged = () => {\n        // (2.3) stop listening until save XML done\n        offCommandStackChanged();\n\n        // (2.4) start listening again when save XML done\n        this.once('saveXML.done', onCommandStackChanged);\n        this._updateOverview();\n      };\n      const viewer = this._viewers[activeView.type];\n      const eventBus = viewer.get('eventBus', false);\n      const onCommandStackChanged = () => {\n        eventBus.on('commandStack.changed', handleCommandStackChanged);\n      };\n      offCommandStackChanged = () => {\n        eventBus.off('commandStack.changed', handleCommandStackChanged);\n      };\n\n      // (2.2) add new listener\n      onCommandStackChanged();\n    });\n\n    // (3) highlight current open DRG element on views changed\n    this.on('views.changed', ({\n      activeView\n    }) => {\n      if (activeView.type !== 'drd') {\n        const activeViewer = overview.getActiveViewer();\n        if (activeViewer) {\n          activeViewer.get('eventBus').fire('drgElementOpened', {\n            id: activeView.element.id\n          });\n        }\n      }\n    });\n\n    // (4) propagate layout changes\n    this.on('overviewOpen', () => {\n      const activeViewer = this._overview.getActiveViewer();\n      if (activeViewer) {\n        activeViewer.get('eventBus').fire('overviewOpen');\n      }\n    });\n    overview.once('import.done', () => {\n      const activeViewer = overview.getActiveViewer();\n      if (!activeViewer) {\n        return;\n      }\n\n      // (5) open DRG element on click\n      activeViewer.on('openDrgElement', ({\n        id\n      }) => {\n        const view = this.getViews().find(({\n          element\n        }) => {\n          return element.id === id;\n        });\n        if (view && view.type !== 'drd') {\n          this.open(view);\n        }\n      });\n    });\n  }\n  _updateOverview = () => {\n    if (!this._overview) {\n      return;\n    }\n\n    // Prevent others from hooking in when updating overview\n    this.once('saveXML.start', HIGH_PRIORITY, () => false);\n    return this.saveXML().then(({\n      xml\n    }) => this.showOverview(xml)).catch(err => {\n      console.error(err);\n    });\n  };\n  _handleOverviewImport = err => {\n    if (!this._overview || !this._overview.getActiveViewer()) {\n      return;\n    }\n    if (err) {\n      console.error(err);\n    } else {\n      this._overview.getActiveViewer().get('canvas').zoom(OVERVIEW_ZOOM_SCALE);\n    }\n  };\n  attachOverviewTo = parentNode => {\n    this.detachOverview();\n    const activeViewer = this._overview.getActiveViewer();\n    if (!activeViewer) {\n      return;\n    }\n    this._emit('attachOverview');\n    this._overview.attachTo(parentNode);\n    activeViewer.get('canvas').resized();\n  };\n  detachOverview = () => {\n    const activeViewer = this._overview.getActiveViewer();\n    if (!activeViewer) {\n      return;\n    }\n    this._emit('detachOverview');\n    this._overview.detach();\n  };\n}\n\n// helpers ///////////////////////\n\nfunction mergeModules(editorConfig = {}, additionalModules) {\n  const editorModules = editorConfig.additionalModules || [];\n  return {\n    ...editorConfig,\n    additionalModules: [_bpmn_modeler_features_complete_direct_editing__WEBPACK_IMPORTED_MODULE_3__[\"default\"], ...editorModules, ...additionalModules]\n  };\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYXBwL3RhYnMvY2xvdWQtZG1uL21vZGVsZXIvRG1uTW9kZWxlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRW1FO0FBQ2Y7QUFFUztBQUVpQztBQUVxQjtBQUluRjtBQUV3RDtBQUNHO0FBRXpCO0FBQ0k7QUFFSDtBQUVuRSxNQUFNYSxXQUFXLEdBQUcsQ0FBRSxPQUFPLEVBQUUsSUFBSSxDQUFFO0FBRXJDLE1BQU1DLGVBQWUsR0FBRztFQUN0QkMsU0FBUyxFQUFFRjtBQUNiLENBQUM7QUFFRCxNQUFNRyxtQkFBbUIsR0FBRyxJQUFJO0FBRWhDLE1BQU1DLFlBQVksR0FBRyxHQUFHO0VBQ2xCQyxhQUFhLEdBQUcsSUFBSTtBQUdYLE1BQU1DLGlCQUFpQixTQUFTbEIsK0RBQVUsQ0FBQztFQUV4RG1CLFdBQVdBLENBQUNDLE9BQU8sR0FBRyxDQUFDLENBQUMsRUFBRTtJQUV4QixNQUFNO01BQ0pDLGdCQUFnQixHQUFHLENBQUMsQ0FBQztNQUNyQkMsR0FBRztNQUNIQyxhQUFhO01BQ2JDLGlCQUFpQjtNQUNqQkMsUUFBUTtNQUNSQyxRQUFRO01BQ1JDLFFBQVE7TUFDUixHQUFHQztJQUNMLENBQUMsR0FBR1IsT0FBTztJQUVYLElBQUlTLGlCQUFpQixHQUFHLEVBQUU7SUFFMUIsSUFBSUYsUUFBUSxDQUFDRyxHQUFHLENBQUMsbUJBQW1CLENBQUMsRUFBRTtNQUNyQ0QsaUJBQWlCLEdBQUcsQ0FDbEIsR0FBR0EsaUJBQWlCLEVBQ3BCbEIsOEVBQXVCLENBQ3hCO0lBQ0g7SUFFQSxLQUFLLENBQUM7TUFDSixHQUFHaUIsWUFBWTtNQUNmRyxlQUFlLEVBQUVDLFlBQVksQ0FBQ0osWUFBWSxDQUFDRyxlQUFlLEVBQUUsQ0FDMURsQixlQUFlLEVBQ2ZKLG1FQUF1QixFQUN2QjtRQUNFd0IsT0FBTyxFQUFFckI7TUFDWCxDQUFDLENBQ0YsQ0FBQztNQUNGVSxH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QyxnQkFBZ0IsQ0FBQztJQUU1QixJQUFJLENBQUNLLFNBQVMsQ0FBQ3VDLE1BQU0sQ0FBQyxDQUFDO0VBQ3pCLENBQUM7QUFDSDs7QUFHQTs7QUFFQSxTQUFTckQsWUFBWUEsQ0FBQ3NELFlBQVksR0FBRyxDQUFDLENBQUMsRUFBRXpELGlCQUFpQixFQUFFO0VBRTFELE1BQU0wRCxhQUFhLEdBQUdELFlBQVksQ0FBQ3pELGlCQUFpQixJQUFJLEVBQUU7RUFFMUQsT0FBTztJQUNMLEdBQUd5RCxZQUFZO0lBQ2Z6RCxpQkFBaUIsRUFBRSxDQUNqQjFCLHNGQUEyQixFQUMzQixHQUFHb0YsYUFBYSxFQUNoQixHQUFHMUQsaUJBQWlCO0VBRXhCLENBQUM7QUFDSCIsInNvdXJjZXMiOlsid2VicGFjazovL2NhbXVuZGEtbW9kZWxlci1jbGllbnQvLi9zcmMvYXBwL3RhYnMvY2xvdWQtZG1uL21vZGVsZXIvRG1uTW9kZWxlci5qcz84YzM2Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDb3B5cmlnaHQgQ2FtdW5kYSBTZXJ2aWNlcyBHbWJIIGFuZC9vciBsaWNlbnNlZCB0byBDYW11bmRhIFNlcnZpY2VzIEdtYkhcclxuICogdW5kZXIgb25lIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiBTZWUgdGhlIE5PVElDRSBmaWxlXHJcbiAqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIHJlZ2FyZGluZyBjb3B5cmlnaHRcclxuICogb3duZXJzaGlwLlxyXG4gKlxyXG4gKiBDYW11bmRhIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byB5b3UgdW5kZXIgdGhlIE1JVDsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZVxyXG4gKiBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBNSVQgTGljZW5zZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBDYW11bmRhQ2xvdWRNb2RlbGVyIGFzIERtbk1vZGVsZXIgfSBmcm9tICdjYW11bmRhLWRtbi1qcyc7XHJcbmltcG9ydCBEcmRWaWV3ZXIgZnJvbSAnLi4vLi4vZG1uL21vZGVsZXIvRHJkVmlld2VyJztcclxuXHJcbmltcG9ydCBhZGRFeHBvcnRlciBmcm9tICdAYnBtbi1pby9hZGQtZXhwb3J0ZXIvYWRkLWV4cG9ydGVyJztcclxuXHJcbmltcG9ydCBjb21wbGV0ZURpcmVjdEVkaXRpbmdNb2R1bGUgZnJvbSAnLi4vLi4vYnBtbi9tb2RlbGVyL2ZlYXR1cmVzL2NvbXBsZXRlLWRpcmVjdC1lZGl0aW5nJztcclxuXHJcbmltcG9ydCBwcm9wZXJ0aWVzUGFuZWxLZXlib2FyZEJpbmRpbmdzTW9kdWxlIGZyb20gJy4uLy4uL2JwbW4vbW9kZWxlci9mZWF0dXJlcy9wcm9wZXJ0aWVzLXBhbmVsLWtleWJvYXJkLWJpbmRpbmdzJztcclxuXHJcbmltcG9ydCBGbGFncywge1xyXG4gIERJU0FCTEVfQURKVVNUX09SSUdJTlxyXG59IGZyb20gJy4uLy4uLy4uLy4uL3V0aWwvRmxhZ3MnO1xyXG5cclxuaW1wb3J0IG9wZW5EcmdFbGVtZW50TW9kdWxlIGZyb20gJy4uLy4uL2Rtbi9tb2RlbGVyL2ZlYXR1cmVzL292ZXJ2aWV3L29wZW4tZHJnLWVsZW1lbnQnO1xyXG5pbXBvcnQgb3ZlcnZpZXdSZW5kZXJlck1vZHVsZSBmcm9tICcuLi8uLi9kbW4vbW9kZWxlci9mZWF0dXJlcy9vdmVydmlldy9vdmVydmlldy1yZW5kZXJlcic7XHJcblxyXG5pbXBvcnQgZXhlY3V0aW9uUGxhdGZvcm1Nb2R1bGUgZnJvbSAnQGNhbXVuZGEvZXhlY3V0aW9uLXBsYXRmb3JtJztcclxuaW1wb3J0IG1vZGVsZXJNb2RkbGUgZnJvbSAnbW9kZWxlci1tb2RkbGUvcmVzb3VyY2VzL2Rtbi1tb2RlbGVyLmpzb24nO1xyXG5cclxuaW1wb3J0IHsgRG1uSW1wcm92ZWRDYW52YXNNb2R1bGUgfSBmcm9tICdAY2FtdW5kYS9pbXByb3ZlZC1jYW52YXMnO1xyXG5cclxuY29uc3QgTk9PUF9NT0RVTEUgPSBbICd2YWx1ZScsIG51bGwgXTtcclxuXHJcbmNvbnN0IHBvd2VyZWRCeU1vZHVsZSA9IHtcclxuICBwb3dlcmVkQnk6IE5PT1BfTU9EVUxFXHJcbn07XHJcblxyXG5jb25zdCBPVkVSVklFV19aT09NX1NDQUxFID0gMC42NjtcclxuXHJcbmNvbnN0IExPV19QUklPUklUWSA9IDUwMCxcclxuICAgICAgSElHSF9QUklPUklUWSA9IDI1MDA7XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FtdW5kYURtbk1vZGVsZXIgZXh0ZW5kcyBEbW5Nb2RlbGVyIHtcclxuXHJcbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7XHJcblxyXG4gICAgY29uc3Qge1xyXG4gICAgICBtb2RkbGVFeHRlbnNpb25zID0ge30sXHJcbiAgICAgIGRyZCxcclxuICAgICAgZGVjaXNpb25UYWJsZSxcclxuICAgICAgbGl0ZXJhbEV4cHJlc3Npb24sXHJcbiAgICAgIGV4cG9ydGVyLFxyXG4gICAgICBvdmVydmlldyxcclxuICAgICAgc2V0dGluZ3MsXHJcbiAgICAgIC4uLm90aGVyT3B0aW9uc1xyXG4gICAgfSA9IG9wdGlvbnM7XHJcblxyXG4gICAgbGV0IGFkZGl0aW9uYWxNb2R1bGVzID0gW107XHJcblxyXG4gICAgaWYgKHNldHRpbmdzLmdldCgnYXBwLm5ld0NvbnRleHRQYWQnKSkge1xyXG4gICAgICBhZGRpdGlvbmFsTW9kdWxlcyA9IFtcclxuICAgICAgICAuLi5hZGRpdGlvbmFsTW9kdWxlcyxcclxuICAgICAgICBEbW5JbXByb3ZlZENhbnZhc01vZHVsZVxyXG4gICAgICBdO1xyXG4gICAgfVxyXG5cclxuICAgIHN1cGVyKHtcclxuICAgICAgLi4ub3RoZXJPcHRpb25zLFxyXG4gICAgICBib3hlZEV4cHJlc3Npb246IG1lcmdlTW9kdWxlcyhvdGhlck9wdGlvbnMuYm94ZWRFeHByZXNzaW9uLCBbXHJcbiAgICAgICAgcG93ZXJlZEJ5TW9kdWxlLFxyXG4gICAgICAgIGV4ZWN1dGlvblBsYXRmb3JtTW9kdWxlLFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIHZpZXdEcmQ6IE5PT1BfTU9EVUxFXHJcbiAgICAgICAgfVxyXG4gICAgICBdKSxcclxuICAgICAgZHJkOiBtZXJnZU1vZHVsZXMoe1xyXG4gICAgICAgIC4uLmRyZCxcclxuICAgICAgICBkaXNhYmxlQWRqdXN0T3JpZ2luOiBGbGFncy5nZXQoRElTQUJMRV9BREpVU1RfT1JJR0lOKSxcclxuICAgICAgfSwgW1xyXG4gICAgICAgIHByb3BlcnRpZXNQYW5lbEtleWJvYXJkQmluZGluZ3NNb2R1bGUsXHJcbiAgICAgICAgZXhlY3V0aW9uUGxhdGZvcm1Nb2R1bGUsXHJcbiAgICAgICAgLi4uYWRkaXRpb25hbE1vZHVsZXNcclxuICAgICAgXSksXHJcbiAgICAgIGRlY2lzaW9uVGFibGU6IG1lcmdlTW9kdWxlcyhkZWNpc2lvblRhYmxlLCBbXHJcbiAgICAgICAgcG93ZXJlZEJ5TW9kdWxlLFxyXG4gICAgICAgIGV4ZWN1dGlvblBsYXRmb3JtTW9kdWxlLFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIHZpZXdEcmQ6IE5PT1BfTU9EVUxFXHJcbiAgICAgICAgfVxyXG4gICAgICBdKSxcclxuICAgICAgbGl0ZXJhbEV4cHJlc3Npb246IG1lcmdlTW9kdWxlcyhsaXRlcmFsRXhwcmVzc2lvbiwgW1xyXG4gICAgICAgIHBvd2VyZWRCeU1vZHVsZSxcclxuICAgICAgICBleGVjdXRpb25QbGF0Zm9ybU1vZHVsZSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICB2aWV3RHJkOiBOT09QX01PRFVMRVxyXG4gICAgICAgIH1cclxuICAgICAgXSksXHJcbiAgICAgIG1vZGRsZUV4dGVuc2lvbnM6IHtcclxuICAgICAgICAuLi5tb2RkbGVFeHRlbnNpb25zLFxyXG4gICAgICAgIG1vZGVsZXI6IG1vZGVsZXJNb2RkbGVcclxuICAgICAgfSxcclxuICAgICAgY2FudmFzOiB7XHJcbiAgICAgICAgYXV0b0ZvY3VzOiB0cnVlXHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMub24oJ3ZpZXdlci5jcmVhdGVkJywgKHsgdmlld2VyIH0pID0+IHtcclxuXHJcbiAgICAgIHZpZXdlci5vbignY29tbWFuZFN0YWNrLmNoYW5nZWQnLCBldmVudCA9PiB7XHJcbiAgICAgICAgdGhpcy5fZW1pdCgndmlldy5jb250ZW50Q2hhbmdlZCcsIGV2ZW50KTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICB2aWV3ZXIub24oJ3NlbGVjdGlvbi5jaGFuZ2VkJywgZXZlbnQgPT4ge1xyXG4gICAgICAgIHRoaXMuX2VtaXQoJ3ZpZXcuc2VsZWN0aW9uQ2hhbmdlZCcsIGV2ZW50KTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICB2aWV3ZXIub24oWyAnZGlyZWN0RWRpdGluZy5hY3RpdmF0ZScsICdkaXJlY3RFZGl0aW5nLmRlYWN0aXZhdGUnIF0sIGV2ZW50ID0+IHtcclxuICAgICAgICB0aGlzLl9lbWl0KCd2aWV3LmRpcmVjdEVkaXRpbmdDaGFuZ2VkJywgZXZlbnQpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHZpZXdlci5vbignZXJyb3InLCAoeyBlcnJvciB9KSA9PiB7XHJcbiAgICAgICAgdGhpcy5fZW1pdCgnZXJyb3InLCB7XHJcbiAgICAgICAgICB2aWV3ZXIsXHJcbiAgICAgICAgICBlcnJvclxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHZpZXdlci5vbigncHJvcGVydGllc1BhbmVsLmZvY3VzaW4nLCBldmVudCA9PiB7XHJcbiAgICAgICAgdGhpcy5fZW1pdCgncHJvcGVydGllc1BhbmVsLmZvY3VzaW4nLCBldmVudCk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgdmlld2VyLm9uKCdwcm9wZXJ0aWVzUGFuZWwuZm9jdXNvdXQnLCBldmVudCA9PiB7XHJcbiAgICAgICAgdGhpcy5fZW1pdCgncHJvcGVydGllc1BhbmVsLmZvY3Vzb3V0JywgZXZlbnQpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICB9KTtcclxuXHJcbiAgICBhZGRFeHBvcnRlcihleHBvcnRlciwgdGhpcyk7XHJcblxyXG4gICAgdGhpcy5fYWRkT3ZlcnZpZXcob3ZlcnZpZXcpO1xyXG4gIH1cclxuXHJcbiAgc2hvd092ZXJ2aWV3KHhtbCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX292ZXJ2aWV3LmltcG9ydFhNTCh4bWwpLnRoZW4oXHJcbiAgICAgICgpID0+IHt9LCBlcnIgPT4gZXJyXHJcbiAgICApLnRoZW4oZXJyID0+IHRoaXMuX2hhbmRsZU92ZXJ2aWV3SW1wb3J0KGVycikpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IHN0YWNrIGluZGV4IG9mIGFjdGl2ZSB2aWV3ZXIuXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7P251bWJlcn0gU3RhY2sgaW5kZXggb3IgbnVsbC5cclxuICAgKi9cclxuICBnZXRTdGFja0lkeCgpIHtcclxuICAgIGNvbnN0IHZpZXdlciA9IHRoaXMuZ2V0QWN0aXZlVmlld2VyKCk7XHJcblxyXG4gICAgaWYgKCF2aWV3ZXIpIHtcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgY29tbWFuZFN0YWNrID0gdmlld2VyLmdldCgnY29tbWFuZFN0YWNrJywgZmFsc2UpO1xyXG5cclxuICAgIGlmICghY29tbWFuZFN0YWNrKSB7XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBjb21tYW5kU3RhY2suX3N0YWNrSWR4O1xyXG4gIH1cclxuXHJcbiAgX2FkZE92ZXJ2aWV3KG9wdGlvbnMgPSB7fSkge1xyXG4gICAgY29uc3QgeyBsYXlvdXQgfSA9IG9wdGlvbnM7XHJcblxyXG4gICAgY29uc3Qgb3ZlcnZpZXcgPSB0aGlzLl9vdmVydmlldyA9IG5ldyBEcmRWaWV3ZXIoe1xyXG4gICAgICBkcmQ6IHtcclxuICAgICAgICBhZGRpdGlvbmFsTW9kdWxlczogW1xyXG4gICAgICAgICAgb3BlbkRyZ0VsZW1lbnRNb2R1bGUsXHJcbiAgICAgICAgICBvdmVydmlld1JlbmRlcmVyTW9kdWxlXHJcbiAgICAgICAgXSxcclxuICAgICAgICBvcGVuRHJnRWxlbWVudDoge1xyXG4gICAgICAgICAgbGF5b3V0XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyAoMSkgaW1wb3J0IG92ZXJ2aWV3IGluaXRpYWxseVxyXG4gICAgdGhpcy5vbignaW1wb3J0LnBhcnNlLnN0YXJ0JywgKHsgeG1sIH0pID0+IHtcclxuICAgICAgdGhpcy5zaG93T3ZlcnZpZXcoeG1sKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIGtlZXAgdHJhY2sgb2YgdmlldyB0eXBlXHJcbiAgICBsZXQgcHJldmlvdXNBY3RpdmVWaWV3VHlwZTtcclxuXHJcbiAgICB0aGlzLm9uKCd2aWV3cy5jaGFuZ2VkJywgTE9XX1BSSU9SSVRZLCAoeyBhY3RpdmVWaWV3IH0pID0+IHtcclxuICAgICAgcHJldmlvdXNBY3RpdmVWaWV3VHlwZSA9IGFjdGl2ZVZpZXcudHlwZTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vICgyKSB1cGRhdGUgb3ZlcnZpZXcgb24gY2hhbmdlcyBpbiBtb2RlbGVyXHJcbiAgICBsZXQgb2ZmQ29tbWFuZFN0YWNrQ2hhbmdlZDtcclxuXHJcbiAgICB0aGlzLm9uKCd2aWV3cy5jaGFuZ2VkJywgKHsgYWN0aXZlVmlldyB9KSA9PiB7XHJcbiAgICAgIGlmIChwcmV2aW91c0FjdGl2ZVZpZXdUeXBlID09PSBhY3RpdmVWaWV3LnR5cGUpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vICgyLjEpIHJlbW92ZSBwcmV2aW91cyBsaXN0ZW5lclxyXG4gICAgICBpZiAob2ZmQ29tbWFuZFN0YWNrQ2hhbmdlZCkge1xyXG4gICAgICAgIG9mZkNvbW1hbmRTdGFja0NoYW5nZWQoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgaGFuZGxlQ29tbWFuZFN0YWNrQ2hhbmdlZCA9ICgpID0+IHtcclxuXHJcbiAgICAgICAgLy8gKDIuMykgc3RvcCBsaXN0ZW5pbmcgdW50aWwgc2F2ZSBYTUwgZG9uZVxyXG4gICAgICAgIG9mZkNvbW1hbmRTdGFja0NoYW5nZWQoKTtcclxuXHJcbiAgICAgICAgLy8gKDIuNCkgc3RhcnQgbGlzdGVuaW5nIGFnYWluIHdoZW4gc2F2ZSBYTUwgZG9uZVxyXG4gICAgICAgIHRoaXMub25jZSgnc2F2ZVhNTC5kb25lJywgb25Db21tYW5kU3RhY2tDaGFuZ2VkKTtcclxuXHJcbiAgICAgICAgdGhpcy5fdXBkYXRlT3ZlcnZpZXcoKTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGNvbnN0IHZpZXdlciA9IHRoaXMuX3ZpZXdlcnNbIGFjdGl2ZVZpZXcudHlwZSBdO1xyXG5cclxuICAgICAgY29uc3QgZXZlbnRCdXMgPSB2aWV3ZXIuZ2V0KCdldmVudEJ1cycsIGZhbHNlKTtcclxuXHJcbiAgICAgIGNvbnN0IG9uQ29tbWFuZFN0YWNrQ2hhbmdlZCA9ICgpID0+IHtcclxuICAgICAgICBldmVudEJ1cy5vbignY29tbWFuZFN0YWNrLmNoYW5nZWQnLCBoYW5kbGVDb21tYW5kU3RhY2tDaGFuZ2VkKTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIG9mZkNvbW1hbmRTdGFja0NoYW5nZWQgPSAoKSA9PiB7XHJcbiAgICAgICAgZXZlbnRCdXMub2ZmKCdjb21tYW5kU3RhY2suY2hhbmdlZCcsIGhhbmRsZUNvbW1hbmRTdGFja0NoYW5nZWQpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgLy8gKDIuMikgYWRkIG5ldyBsaXN0ZW5lclxyXG4gICAgICBvbkNvbW1hbmRTdGFja0NoYW5nZWQoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vICgzKSBoaWdobGlnaHQgY3VycmVudCBvcGVuIERSRyBlbGVtZW50IG9uIHZpZXdzIGNoYW5nZWRcclxuICAgIHRoaXMub24oJ3ZpZXdzLmNoYW5nZWQnLCAoeyBhY3RpdmVWaWV3IH0pID0+IHtcclxuICAgICAgaWYgKGFjdGl2ZVZpZXcudHlwZSAhPT0gJ2RyZCcpIHtcclxuICAgICAgICBjb25zdCBhY3RpdmVWaWV3ZXIgPSBvdmVydmlldy5nZXRBY3RpdmVWaWV3ZXIoKTtcclxuXHJcbiAgICAgICAgaWYgKGFjdGl2ZVZpZXdlcikge1xyXG4gICAgICAgICAgYWN0aXZlVmlld2VyLmdldCgnZXZlbnRCdXMnKS5maXJlKCdkcmdFbGVtZW50T3BlbmVkJywge1xyXG4gICAgICAgICAgICBpZDogYWN0aXZlVmlldy5lbGVtZW50LmlkXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8vICg0KSBwcm9wYWdhdGUgbGF5b3V0IGNoYW5nZXNcclxuICAgIHRoaXMub24oJ292ZXJ2aWV3T3BlbicsICgpID0+IHtcclxuICAgICAgY29uc3QgYWN0aXZlVmlld2VyID0gdGhpcy5fb3ZlcnZpZXcuZ2V0QWN0aXZlVmlld2VyKCk7XHJcblxyXG4gICAgICBpZiAoYWN0aXZlVmlld2VyKSB7XHJcbiAgICAgICAgYWN0aXZlVmlld2VyLmdldCgnZXZlbnRCdXMnKS5maXJlKCdvdmVydmlld09wZW4nKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgb3ZlcnZpZXcub25jZSgnaW1wb3J0LmRvbmUnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGFjdGl2ZVZpZXdlciA9IG92ZXJ2aWV3LmdldEFjdGl2ZVZpZXdlcigpO1xyXG5cclxuICAgICAgaWYgKCFhY3RpdmVWaWV3ZXIpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vICg1KSBvcGVuIERSRyBlbGVtZW50IG9uIGNsaWNrXHJcbiAgICAgIGFjdGl2ZVZpZXdlci5vbignb3BlbkRyZ0VsZW1lbnQnLCAoeyBpZCB9KSA9PiB7XHJcbiAgICAgICAgY29uc3QgdmlldyA9IHRoaXMuZ2V0Vmlld3MoKS5maW5kKCh7IGVsZW1lbnQgfSkgPT4ge1xyXG4gICAgICAgICAgcmV0dXJuIGVsZW1lbnQuaWQgPT09IGlkO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAodmlldyAmJiB2aWV3LnR5cGUgIT09ICdkcmQnKSB7XHJcbiAgICAgICAgICB0aGlzLm9wZW4odmlldyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgX3VwZGF0ZU92ZXJ2aWV3ID0gKCkgPT4ge1xyXG4gICAgaWYgKCF0aGlzLl9vdmVydmlldykge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUHJldmVudCBvdGhlcnMgZnJvbSBob29raW5nIGluIHdoZW4gdXBkYXRpbmcgb3ZlcnZpZXdcclxuICAgIHRoaXMub25jZSgnc2F2ZVhNTC5zdGFydCcsIEhJR0hfUFJJT1JJVFksICgpID0+IGZhbHNlKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5zYXZlWE1MKCkudGhlbihcclxuICAgICAgKHsgeG1sIH0pID0+IHRoaXMuc2hvd092ZXJ2aWV3KHhtbClcclxuICAgICkuY2F0Y2goZXJyID0+IHtcclxuICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgX2hhbmRsZU92ZXJ2aWV3SW1wb3J0ID0gZXJyID0+IHtcclxuICAgIGlmICghdGhpcy5fb3ZlcnZpZXcgfHwgIXRoaXMuX292ZXJ2aWV3LmdldEFjdGl2ZVZpZXdlcigpKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZXJyKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX292ZXJ2aWV3LmdldEFjdGl2ZVZpZXdlcigpLmdldCgnY2FudmFzJykuem9vbShPVkVSVklFV19aT09NX1NDQUxFKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBhdHRhY2hPdmVydmlld1RvID0gKHBhcmVudE5vZGUpID0+IHtcclxuICAgIHRoaXMuZGV0YWNoT3ZlcnZpZXcoKTtcclxuXHJcbiAgICBjb25zdCBhY3RpdmVWaWV3ZXIgPSB0aGlzLl9vdmVydmlldy5nZXRBY3RpdmVWaWV3ZXIoKTtcclxuXHJcbiAgICBpZiAoIWFjdGl2ZVZpZXdlcikge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5fZW1pdCgnYXR0YWNoT3ZlcnZpZXcnKTtcclxuXHJcbiAgICB0aGlzLl9vdmVydmlldy5hdHRhY2hUbyhwYXJlbnROb2RlKTtcclxuXHJcbiAgICBhY3RpdmVWaWV3ZXIuZ2V0KCdjYW52YXMnKS5yZXNpemVkKCk7XHJcbiAgfTtcclxuXHJcbiAgZGV0YWNoT3ZlcnZpZXcgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBhY3RpdmVWaWV3ZXIgPSB0aGlzLl9vdmVydmlldy5nZXRBY3RpdmVWaWV3ZXIoKTtcclxuXHJcbiAgICBpZiAoIWFjdGl2ZVZpZXdlcikge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5fZW1pdCgnZGV0YWNoT3ZlcnZpZXcnKTtcclxuXHJcbiAgICB0aGlzLl9vdmVydmlldy5kZXRhY2goKTtcclxuICB9O1xyXG59XHJcblxyXG5cclxuLy8gaGVscGVycyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuZnVuY3Rpb24gbWVyZ2VNb2R1bGVzKGVkaXRvckNvbmZpZyA9IHt9LCBhZGRpdGlvbmFsTW9kdWxlcykge1xyXG5cclxuICBjb25zdCBlZGl0b3JNb2R1bGVzID0gZWRpdG9yQ29uZmlnLmFkZGl0aW9uYWxNb2R1bGVzIHx8IFtdO1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgLi4uZWRpdG9yQ29uZmlnLFxyXG4gICAgYWRkaXRpb25hbE1vZHVsZXM6IFtcclxuICAgICAgY29tcGxldGVEaXJlY3RFZGl0aW5nTW9kdWxlLFxyXG4gICAgICAuLi5lZGl0b3JNb2R1bGVzLFxyXG4gICAgICAuLi5hZGRpdGlvbmFsTW9kdWxlc1xyXG4gICAgXVxyXG4gIH07XHJcbn1cclxuIl0sIm5hbWVzIjpbIkNhbXVuZGFDbG91ZE1vZGVsZXIiLCJEbW5Nb2RlbGVyIiwiRHJkVmlld2VyIiwiYWRkRXhwb3J0ZXIiLCJjb21wbGV0ZURpcmVjdEVkaXRpbmdNb2R1bGUiLCJwcm9wZXJ0aWVzUGFuZWxLZXlib2FyZEJpbmRpbmdzTW9kdWxlIiwiRmxhZ3MiLCJESVNBQkxFX0FESlVTVF9PUklHSU4iLCJvcGVuRHJnRWxlbWVudE1vZHVsZSIsIm92ZXJ2aWV3UmVuZGVyZXJNb2R1bGUiLCJleGVjdXRpb25QbGF0Zm9ybU1vZHVsZSIsIm1vZGVsZXJNb2RkbGUiLCJEbW5JbXByb3ZlZENhbnZhc01vZHVsZSIsIk5PT1BfTU9EVUxFIiwicG93ZXJlZEJ5TW9kdWxlIiwicG93ZXJlZEJ5IiwiT1ZFUlZJRVdfWk9PTV9TQ0FMRSIsIkxPV19QUklPUklUWSIsIkhJR0hfUFJJT1JJVFkiLCJDYW11bmRhRG1uTW9kZWxlciIsImNvbnN0cnVjdG9yIiwib3B0aW9ucyIsIm1vZGRsZUV4dGVuc2lvbnMiLCJkcmQiLCJkZWNpc2lvblRhYmxlIiwibGl0ZXJhbEV4cHJlc3Npb24iLCJleHBvcnRlciIsIm92ZXJ2aWV3Iiwic2V0dGluZ3MiLCJvdGhlck9wdGlvbnMiLCJhZGRpdGlvbmFsTW9kdWxlcyIsImdldCIsImJveGVkRXhwcmVzc2lvbiIsIm1lcmdlTW9kdWxlcyIsInZpZXdEcmQiLCJkaXNhYmxlQWRqdXN0T3JpZ2luIiwibW9kZWxlciIsImNhbnZhcyIsImF1dG9Gb2N1cyIsIm9uIiwidmlld2VyIiwiZXZlbnQiLCJfZW1pdCIsImVycm9yIiwiX2FkZE92ZXJ2aWV3Iiwic2hvd092ZXJ2aWV3IiwieG1sIiwiX292ZXJ2aWV3IiwiaW1wb3J0WE1MIiwidGhlbiIsImVyciIsIl9oYW5kbGVPdmVydmlld0ltcG9ydCIsImdldFN0YWNrSWR4IiwiZ2V0QWN0aXZlVmlld2VyIiwiY29tbWFuZFN0YWNrIiwiX3N0YWNrSWR4IiwibGF5b3V0Iiwib3BlbkRyZ0VsZW1lbnQiLCJwcmV2aW91c0FjdGl2ZVZpZXdUeXBlIiwiYWN0aXZlVmlldyIsInR5cGUiLCJvZmZDb21tYW5kU3RhY2tDaGFuZ2VkIiwiaGFuZGxlQ29tbWFuZFN0YWNrQ2hhbmdlZCIsIm9uY2UiLCJvbkNvbW1hbmRTdGFja0NoYW5nZWQiLCJfdXBkYXRlT3ZlcnZpZXciLCJfdmlld2VycyIsImV2ZW50QnVzIiwib2ZmIiwiYWN0aXZlVmlld2VyIiwiZmlyZSIsImlkIiwiZWxlbWVudCIsInZpZXciLCJnZXRWaWV3cyIsImZpbmQiLCJvcGVuIiwic2F2ZVhNTCIsImNhdGNoIiwiY29uc29sZSIsInpvb20iLCJhdHRhY2hPdmVydmlld1RvIiwicGFyZW50Tm9kZSIsImRldGFjaE92ZXJ2aWV3IiwiYXR0YWNoVG8iLCJyZXNpemVkIiwiZGV0YWNoIiwiZWRpdG9yQ29uZmlnIiwiZWRpdG9yTW9kdWxlcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/app/tabs/cloud-dmn/modeler/DmnModeler.js\n\n}");

/***/ },

/***/ "./src/app/tabs/cloud-dmn/modeler/index.js"
/*!*************************************************!*\
  !*** ./src/app/tabs/cloud-dmn/modeler/index.js ***!
  \*************************************************/
(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* reexport safe */ _DmnModeler__WEBPACK_IMPORTED_MODULE_0__[\"default\"])\n/* harmony export */ });\n/* harmony import */ var _DmnModeler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DmnModeler */ \"./src/app/tabs/cloud-dmn/modeler/DmnModeler.js\");\n/**\r\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\r\n * under one or more contributor license agreements. See the NOTICE file\r\n * distributed with this work for additional information regarding copyright\r\n * ownership.\r\n *\r\n * Camunda licenses this file to you under the MIT; you may not use this file\r\n * except in compliance with the MIT License.\r\n */\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYXBwL3RhYnMvY2xvdWQtZG1uL21vZGVsZXIvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jYW11bmRhLW1vZGVsZXItY2xpZW50Ly4vc3JjL2FwcC90YWJzL2Nsb3VkLWRtbi9tb2RlbGVyL2luZGV4LmpzPzMwZGEiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIENvcHlyaWdodCBDYW11bmRhIFNlcnZpY2VzIEdtYkggYW5kL29yIGxpY2Vuc2VkIHRvIENhbXVuZGEgU2VydmljZXMgR21iSFxyXG4gKiB1bmRlciBvbmUgb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuIFNlZSB0aGUgTk9USUNFIGZpbGVcclxuICogZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gcmVnYXJkaW5nIGNvcHlyaWdodFxyXG4gKiBvd25lcnNoaXAuXHJcbiAqXHJcbiAqIENhbXVuZGEgbGljZW5zZXMgdGhpcyBmaWxlIHRvIHlvdSB1bmRlciB0aGUgTUlUOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlXHJcbiAqIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIE1JVCBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbmV4cG9ydCB7IGRlZmF1bHQgfSBmcm9tICcuL0Rtbk1vZGVsZXInOyJdLCJuYW1lcyI6WyJkZWZhdWx0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/app/tabs/cloud-dmn/modeler/index.js\n\n}");

/***/ }

}]);