/*! For license information please see 1860.js.LICENSE.txt */
(self.webpackChunkcamunda_modeler_client=self.webpackChunkcamunda_modeler_client||[]).push([[1860],{61860(e,t,n){"use strict";n.d(t,{n:()=>Gb});var r=n(29610),i=n(60616),o=n(43078),l=n(93083),s=n.n(l),a=n(81340),c=n(19622);const u=Object.prototype.toString,d=Object.prototype.hasOwnProperty;function p(e){return void 0===e}function h(e){return null==e}function f(e){return"[object Array]"===u.call(e)}function m(e,t){return!h(e)&&d.call(e,t)}function g(e,t){let n,r;if(p(e))return;const i=f(e)?b:v;for(let o in e)if(m(e,o)&&(n=e[o],r=t(n,i(o)),!1===r))return n}function v(e){return e}function b(e){return Number(e)}function y(e,...t){return Object.assign(e,...t)}function _(e,t,n){let r=e;return g(t,function(e,i){if("number"!=typeof e&&"string"!=typeof e)throw new Error("illegal key type: "+typeof e+". Key should be of type number or string.");if("constructor"===e)throw new Error("illegal key: constructor");if("__proto__"===e)throw new Error("illegal key: __proto__");let o=t[i+1],l=r[e];void 0!==o&&h(l)&&(l=r[e]=isNaN(+o)?{}:[]),p(o)?p(n)?delete r[e]:r[e]=n:r=l}),e}var w=n(4452),x=n.n(w);function k(e,t){if(!window.FileReader)return t();var n=new FileReader;n.onload=function(n){t(null,{name:e.name,path:e.path,contents:n.target.result})},n.onerror=function(e){t(e.target.error)},n.readAsText(e)}function E(e){e.preventDefault()}var F=n(57094),S=n(60056),R=n.n(S);function C(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var j,T={exports:{}},A=function(){if(j)return T.exports;j=1;var e=T.exports=function(t,n){if(n||(n=16),void 0===t&&(t=128),t<=0)return"0";for(var r=Math.log(Math.pow(2,t))/Math.log(n),i=2;r===1/0;i*=2)r=Math.log(Math.pow(2,t/i))/Math.log(n)*i;var o=r-Math.floor(r),l="";for(i=0;i<Math.floor(r);i++)l=Math.floor(Math.random()*n).toString(n)+l;if(o){var s=Math.pow(n,o);l=Math.floor(Math.random()*s).toString(n)+l}var a=parseInt(l,n);return a!==1/0&&a>=Math.pow(2,t)?e(t,n):l};return e.rack=function(t,n,r){var i=function(i){var l=0;do{if(l++>10){if(!r)throw new Error("too many ID collisions, use more bits");t+=r}var s=e(t,n)}while(Object.hasOwnProperty.call(o,s));return o[s]=i,s},o=i.hats={};return i.get=function(e){return i.hats[e]},i.set=function(e,t){return i.hats[e]=t,i},i.bits=t||128,i.base=n||16,i},T.exports}(),L=C(A);function I(e){if(!(this instanceof I))return new I(e);e=e||[128,36,1],this._seed=e.length?L.rack(e[0],e[1],e[2]):e}I.prototype.next=function(e){return this._seed(e||!0)},I.prototype.nextPrefixed=function(e,t){var n;do{n=e+this.next(!0)}while(this.assigned(n));return this.claim(n,t),n},I.prototype.claim=function(e,t){this._seed.set(e,t||!0)},I.prototype.assigned=function(e){return this._seed.get(e)||!1},I.prototype.unclaim=function(e){delete this._seed.hats[e]},I.prototype.clear=function(){var e,t=this._seed.hats;for(e in t)this.unclaim(e)};var P=1e6,O="[big.js] ",D=O+"Invalid ",V=D+"decimal places",M=D+"rounding mode",N=O+"Division by zero",z={},$=void 0,B=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function H(e,t,n,r){var i=e.c;if(n===$&&(n=e.constructor.RM),0!==n&&1!==n&&2!==n&&3!==n)throw Error(M);if(t<1)r=3===n&&(r||!!i[0])||0===t&&(1===n&&i[0]>=5||2===n&&(i[0]>5||5===i[0]&&(r||i[1]!==$))),i.length=1,r?(e.e=e.e-t+1,i[0]=1):i[0]=e.e=0;else if(t<i.length){if(r=1===n&&i[t]>=5||2===n&&(i[t]>5||5===i[t]&&(r||i[t+1]!==$||1&i[t-1]))||3===n&&(r||!!i[0]),i.length=t,r)for(;++i[--t]>9;)if(i[t]=0,0===t){++e.e,i.unshift(1);break}for(t=i.length;!i[--t];)i.pop()}return e}function J(e,t,n){var r=e.e,i=e.c.join(""),o=i.length;if(t)i=i.charAt(0)+(o>1?"."+i.slice(1):"")+(r<0?"e":"e+")+r;else if(r<0){for(;++r;)i="0"+i;i="0."+i}else if(r>0)if(++r>o)for(r-=o;r--;)i+="0";else r<o&&(i=i.slice(0,r)+"."+i.slice(r));else o>1&&(i=i.charAt(0)+"."+i.slice(1));return e.s<0&&n?"-"+i:i}z.abs=function(){var e=new this.constructor(this);return e.s=1,e},z.cmp=function(e){var t,n=this,r=n.c,i=(e=new n.constructor(e)).c,o=n.s,l=e.s,s=n.e,a=e.e;if(!r[0]||!i[0])return r[0]?o:i[0]?-l:0;if(o!=l)return o;if(t=o<0,s!=a)return s>a^t?1:-1;for(l=(s=r.length)<(a=i.length)?s:a,o=-1;++o<l;)if(r[o]!=i[o])return r[o]>i[o]^t?1:-1;return s==a?0:s>a^t?1:-1},z.div=function(e){var t=this,n=t.constructor,r=t.c,i=(e=new n(e)).c,o=t.s==e.s?1:-1,l=n.DP;if(l!==~~l||l<0||l>P)throw Error(V);if(!i[0])throw Error(N);if(!r[0])return e.s=o,e.c=[e.e=0],e;var s,a,c,u,d,p=i.slice(),h=s=i.length,f=r.length,m=r.slice(0,s),g=m.length,v=e,b=v.c=[],y=0,_=l+(v.e=t.e-e.e)+1;for(v.s=o,o=_<0?0:_,p.unshift(0);g++<s;)m.push(0);do{for(c=0;c<10;c++){if(s!=(g=m.length))u=s>g?1:-1;else for(d=-1,u=0;++d<s;)if(i[d]!=m[d]){u=i[d]>m[d]?1:-1;break}if(!(u<0))break;for(a=g==s?i:p;g;){if(m[--g]<a[g]){for(d=g;d&&!m[--d];)m[d]=9;--m[d],m[g]+=10}m[g]-=a[g]}for(;!m[0];)m.shift()}b[y++]=u?c:++c,m[0]&&u?m[g]=r[h]||0:m=[r[h]]}while((h++<f||m[0]!==$)&&o--);return b[0]||1==y||(b.shift(),v.e--,_--),y>_&&H(v,_,n.RM,m[0]!==$),v},z.eq=function(e){return 0===this.cmp(e)},z.gt=function(e){return this.cmp(e)>0},z.gte=function(e){return this.cmp(e)>-1},z.lt=function(e){return this.cmp(e)<0},z.lte=function(e){return this.cmp(e)<1},z.minus=z.sub=function(e){var t,n,r,i,o=this,l=o.constructor,s=o.s,a=(e=new l(e)).s;if(s!=a)return e.s=-a,o.plus(e);var c=o.c.slice(),u=o.e,d=e.c,p=e.e;if(!c[0]||!d[0])return d[0]?e.s=-a:c[0]?e=new l(o):e.s=1,e;if(s=u-p){for((i=s<0)?(s=-s,r=c):(p=u,r=d),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else for(n=((i=c.length<d.length)?c:d).length,s=a=0;a<n;a++)if(c[a]!=d[a]){i=c[a]<d[a];break}if(i&&(r=c,c=d,d=r,e.s=-e.s),(a=(n=d.length)-(t=c.length))>0)for(;a--;)c[t++]=0;for(a=t;n>s;){if(c[--n]<d[n]){for(t=n;t&&!c[--t];)c[t]=9;--c[t],c[n]+=10}c[n]-=d[n]}for(;0===c[--a];)c.pop();for(;0===c[0];)c.shift(),--p;return c[0]||(e.s=1,c=[p=0]),e.c=c,e.e=p,e},z.mod=function(e){var t,n=this,r=n.constructor,i=n.s,o=(e=new r(e)).s;if(!e.c[0])throw Error(N);return n.s=e.s=1,t=1==e.cmp(n),n.s=i,e.s=o,t?new r(n):(i=r.DP,o=r.RM,r.DP=r.RM=0,n=n.div(e),r.DP=i,r.RM=o,this.minus(n.times(e)))},z.neg=function(){var e=new this.constructor(this);return e.s=-e.s,e},z.plus=z.add=function(e){var t,n,r,i=this,o=i.constructor;if(e=new o(e),i.s!=e.s)return e.s=-e.s,i.minus(e);var l=i.e,s=i.c,a=e.e,c=e.c;if(!s[0]||!c[0])return c[0]||(s[0]?e=new o(i):e.s=i.s),e;if(s=s.slice(),t=l-a){for(t>0?(a=l,r=c):(t=-t,r=s),r.reverse();t--;)r.push(0);r.reverse()}for(s.length-c.length<0&&(r=c,c=s,s=r),t=c.length,n=0;t;s[t]%=10)n=(s[--t]=s[t]+c[t]+n)/10|0;for(n&&(s.unshift(n),++a),t=s.length;0===s[--t];)s.pop();return e.c=s,e.e=a,e},z.pow=function(e){var t=this,n=new t.constructor("1"),r=n,i=e<0;if(e!==~~e||e<-1e6||e>1e6)throw Error(D+"exponent");for(i&&(e=-e);1&e&&(r=r.times(t)),e>>=1;)t=t.times(t);return i?n.div(r):r},z.prec=function(e,t){if(e!==~~e||e<1||e>P)throw Error(D+"precision");return H(new this.constructor(this),e,t)},z.round=function(e,t){if(e===$)e=0;else if(e!==~~e||e<-P||e>P)throw Error(V);return H(new this.constructor(this),e+this.e+1,t)},z.sqrt=function(){var e,t,n,r=this,i=r.constructor,o=r.s,l=r.e,s=new i("0.5");if(!r.c[0])return new i(r);if(o<0)throw Error(O+"No square root");0===(o=Math.sqrt(+J(r,!0,!0)))||o===1/0?((t=r.c.join("")).length+l&1||(t+="0"),l=((l+1)/2|0)-(l<0||1&l),e=new i(((o=Math.sqrt(t))==1/0?"5e":(o=o.toExponential()).slice(0,o.indexOf("e")+1))+l)):e=new i(o+""),l=e.e+(i.DP+=4);do{n=e,e=s.times(n.plus(r.div(n)))}while(n.c.slice(0,l).join("")!==e.c.slice(0,l).join(""));return H(e,(i.DP-=4)+e.e+1,i.RM)},z.times=z.mul=function(e){var t,n=this,r=n.constructor,i=n.c,o=(e=new r(e)).c,l=i.length,s=o.length,a=n.e,c=e.e;if(e.s=n.s==e.s?1:-1,!i[0]||!o[0])return e.c=[e.e=0],e;for(e.e=a+c,l<s&&(t=i,i=o,o=t,c=l,l=s,s=c),t=new Array(c=l+s);c--;)t[c]=0;for(a=s;a--;){for(s=0,c=l+a;c>a;)s=t[c]+o[a]*i[c-a-1]+s,t[c--]=s%10,s=s/10|0;t[c]=s}for(s?++e.e:t.shift(),a=t.length;!t[--a];)t.pop();return e.c=t,e},z.toExponential=function(e,t){var n=this,r=n.c[0];if(e!==$){if(e!==~~e||e<0||e>P)throw Error(V);for(n=H(new n.constructor(n),++e,t);n.c.length<e;)n.c.push(0)}return J(n,!0,!!r)},z.toFixed=function(e,t){var n=this,r=n.c[0];if(e!==$){if(e!==~~e||e<0||e>P)throw Error(V);for(e=e+(n=H(new n.constructor(n),e+n.e+1,t)).e+1;n.c.length<e;)n.c.push(0)}return J(n,!1,!!r)},z.toJSON=z.toString=function(){var e=this,t=e.constructor;return J(e,e.e<=t.NE||e.e>=t.PE,!!e.c[0])},"undefined"!=typeof Symbol&&(z[Symbol.for("nodejs.util.inspect.custom")]=z.toJSON),z.toNumber=function(){var e=+J(this,!0,!0);if(!0===this.constructor.strict&&!this.eq(e.toString()))throw Error(O+"Imprecise conversion");return e},z.toPrecision=function(e,t){var n=this,r=n.constructor,i=n.c[0];if(e!==$){if(e!==~~e||e<1||e>P)throw Error(D+"precision");for(n=H(new r(n),e,t);n.c.length<e;)n.c.push(0)}return J(n,e<=n.e||n.e<=r.NE||n.e>=r.PE,!!i)},z.valueOf=function(){var e=this,t=e.constructor;if(!0===t.strict)throw Error(O+"valueOf disallowed");return J(e,e.e<=t.NE||e.e>=t.PE,!0)};var U=function e(){function t(n){var r=this;if(!(r instanceof t))return n===$&&0===arguments.length?e():new t(n);if(n instanceof t)r.s=n.s,r.e=n.e,r.c=n.c.slice();else{if("string"!=typeof n){if(!0===t.strict&&"bigint"!=typeof n)throw TypeError(D+"value");n=0===n&&1/n<0?"-0":String(n)}!function(e,t){var n,r,i;if(!B.test(t))throw Error(D+"number");for(e.s="-"==t.charAt(0)?(t=t.slice(1),-1):1,(n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),i=t.length,r=0;r<i&&"0"==t.charAt(r);)++r;if(r==i)e.c=[e.e=0];else{for(;i>0&&"0"==t.charAt(--i););for(e.e=n-r-1,e.c=[],n=0;r<=i;)e.c[n++]=+t.charAt(r++)}}(r,n)}r.constructor=t}return t.prototype=z,t.DP=20,t.RM=1,t.NE=-7,t.PE=21,t.strict=!1,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}();const q=U;var K=0;function Z(e,t,n,r,o,l){t||(t={});var s,a,c=t;if("ref"in c)for(a in c={},t)"ref"==a?s=t[a]:c[a]=t[a];var u={type:e,props:c,key:n,ref:s,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--K,__i:-1,__u:0,__source:o,__self:l};if("function"==typeof e&&(s=e.defaultProps))for(a in s)void 0===c[a]&&(c[a]=s[a]);return i.options.vnode&&i.options.vnode(u),u}Array.isArray;var W=n(18264),G=n.n(W),Y=n(69875),X=n(28578);function Q(e,t){for(var n in t)e[n]=t[n];return e}function ee(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var r in t)if("__source"!==r&&e[r]!==t[r])return!0;return!1}o.Nf;function te(e,t){this.props=e,this.context=t}(te.prototype=new i.Component).isPureReactComponent=!0,te.prototype.shouldComponentUpdate=function(e,t){return ee(this.props,e)||ee(this.state,t)};var ne=i.options.__b;i.options.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),ne&&ne(e)};var re="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function ie(e){function t(t){var n=Q({},t);return delete n.ref,e(n,t.ref||null)}return t.$$typeof=re,t.render=e,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var oe=(i.toChildArray,i.options.__e);i.options.__e=function(e,t,n,r){if(e.then)for(var i,o=t;o=o.__;)if((i=o.__c)&&i.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),i.__c(e,t);oe(e,t,n,r)};var le=i.options.unmount;function se(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(e){"function"==typeof e.__c&&e.__c()}),e.__c.__H=null),null!=(e=Q({},e)).__c&&(e.__c.__P===n&&(e.__c.__P=t),e.__c.__e=!0,e.__c=null),e.__k=e.__k&&e.__k.map(function(e){return se(e,t,n)})),e}function ae(e,t,n){return e&&n&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(e){return ae(e,t,n)}),e.__c&&e.__c.__P===t&&(e.__e&&n.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=n)),e}function ce(){this.__u=0,this.o=null,this.__b=null}function ue(e){if(!e.__)return null;var t=e.__.__c;return t&&t.__a&&t.__a(e)}function de(){this.i=null,this.l=null}i.options.unmount=function(e){var t=e.__c;t&&(t.__z=!0),t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),le&&le(e)},(ce.prototype=new i.Component).__c=function(e,t){var n=t.__c,r=this;null==r.o&&(r.o=[]),r.o.push(n);var i=ue(r.__v),o=!1,l=function(){o||r.__z||(o=!0,n.__R=null,i?i(a):a())};n.__R=l;var s=n.__P;n.__P=null;var a=function(){if(! --r.__u){if(r.state.__a){var e=r.state.__a;r.__v.__k[0]=ae(e,e.__c.__P,e.__c.__O)}var t;for(r.setState({__a:r.__b=null});t=r.o.pop();)t.__P=s,t.forceUpdate()}};r.__u++||32&t.__u||r.setState({__a:r.__b=r.__v.__k[0]}),e.then(l,l)},ce.prototype.componentWillUnmount=function(){this.o=[]},ce.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=se(this.__b,n,r.__O=r.__P)}this.__b=null}var o=t.__a&&(0,i.createElement)(i.Fragment,null,e.fallback);return o&&(o.__u&=-33),[(0,i.createElement)(i.Fragment,null,t.__a?null:e.children),o]};var pe=function(e,t,n){if(++n[1]===n[0]&&e.l.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.l.size))for(n=e.i;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.i=n=n[2]}};function he(e){return this.getChildContext=function(){return e.context},e.children}function fe(e){var t=this,n=e.h;if(t.componentWillUnmount=function(){(0,i.render)(null,t.v),t.v=null,t.h=null},t.h&&t.h!==n&&t.componentWillUnmount(),!t.v){for(var r=t.__v;null!==r&&!r.__m&&null!==r.__;)r=r.__;t.h=n,t.v={nodeType:1,parentNode:n,childNodes:[],__k:{__m:r.__m},contains:function(){return!0},namespaceURI:n.namespaceURI,insertBefore:function(e,n){this.childNodes.push(e),t.h.insertBefore(e,n)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t.h.removeChild(e)}}}(0,i.render)((0,i.createElement)(he,{context:t.context},e.__v),t.v)}function me(e,t){var n=(0,i.createElement)(fe,{__v:e,h:t});return n.containerInfo=t,n}(de.prototype=new i.Component).__a=function(e){var t=this,n=ue(t.__v),r=t.l.get(e);return r[0]++,function(i){var o=function(){t.props.revealOrder?(r.push(i),pe(t,e,r)):i()};n?n(o):o()}},de.prototype.render=function(e){this.i=null,this.l=new Map;var t=(0,i.toChildArray)(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.l.set(t[n],this.i=[1,0,this.i]);return e.children},de.prototype.componentDidUpdate=de.prototype.componentDidMount=function(){var e=this;this.l.forEach(function(t,n){pe(e,n,t)})};var ge="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,ve=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,be=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,ye=/[A-Z0-9]/g,_e="undefined"!=typeof document,we=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(e)};i.Component.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(i.Component.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var xe=i.options.event;function ke(){}function Ee(){return this.cancelBubble}function Fe(){return this.defaultPrevented}i.options.event=function(e){return xe&&(e=xe(e)),e.persist=ke,e.isPropagationStopped=Ee,e.isDefaultPrevented=Fe,e.nativeEvent=e};var Se={enumerable:!1,configurable:!0,get:function(){return this.class}},Re=i.options.vnode;i.options.vnode=function(e){"string"==typeof e.type&&function(e){var t=e.props,n=e.type,r={},o=-1===n.indexOf("-");for(var l in t){var s=t[l];if(!("value"===l&&"defaultValue"in t&&null==s||_e&&"children"===l&&"noscript"===n||"class"===l||"className"===l)){var a=l.toLowerCase();"defaultValue"===l&&"value"in t&&null==t.value?l="value":"download"===l&&!0===s?s="":"translate"===a&&"no"===s?s=!1:"o"===a[0]&&"n"===a[1]?"ondoubleclick"===a?l="ondblclick":"onchange"!==a||"input"!==n&&"textarea"!==n||we(t.type)?"onfocus"===a?l="onfocusin":"onblur"===a?l="onfocusout":be.test(l)&&(l=a):a=l="oninput":o&&ve.test(l)?l=l.replace(ye,"-$&").toLowerCase():null===s&&(s=void 0),"oninput"===a&&r[l=a]&&(l="oninputCapture"),r[l]=s}}"select"==n&&r.multiple&&Array.isArray(r.value)&&(r.value=(0,i.toChildArray)(t.children).forEach(function(e){e.props.selected=-1!=r.value.indexOf(e.props.value)})),"select"==n&&null!=r.defaultValue&&(r.value=(0,i.toChildArray)(t.children).forEach(function(e){e.props.selected=r.multiple?-1!=r.defaultValue.indexOf(e.props.value):r.defaultValue==e.props.value})),t.class&&!t.className?(r.class=t.class,Object.defineProperty(r,"className",Se)):(t.className&&!t.class||t.class&&t.className)&&(r.class=r.className=t.className),e.props=r}(e),e.$$typeof=ge,Re&&Re(e)};var Ce=i.options.__r;i.options.__r=function(e){Ce&&Ce(e),e.__c};var je=i.options.diffed;i.options.diffed=function(e){je&&je(e);var t=e.props,n=e.__e;null!=n&&"textarea"===e.type&&"value"in t&&t.value!==n.value&&(n.value=null==t.value?"":t.value)},o.hb,o.NT,o.MN,o.vJ,o.Bi,o.Yn,o.Nf,o.Kr,o.WO,o.li,o.J0,i.Fragment,o.J0,o.Bi,o.WO,o.vJ,o.Nf,o.li,o.Yn,o.Kr,o.hb,o.NT,o.MN,i.createElement,i.createContext,i.createRef,i.Fragment,i.Component;const{entries:Te,setPrototypeOf:Ae,isFrozen:Le,getPrototypeOf:Ie,getOwnPropertyDescriptor:Pe}=Object;let{freeze:Oe,seal:De,create:Ve}=Object,{apply:Me,construct:Ne}="undefined"!=typeof Reflect&&Reflect;Oe||(Oe=function(e){return e}),De||(De=function(e){return e}),Me||(Me=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return e.apply(t,r)}),Ne||(Ne=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new e(...n)});const ze=tt(Array.prototype.forEach),$e=tt(Array.prototype.lastIndexOf),Be=tt(Array.prototype.pop),He=tt(Array.prototype.push),Je=tt(Array.prototype.splice),Ue=tt(String.prototype.toLowerCase),qe=tt(String.prototype.toString),Ke=tt(String.prototype.match),Ze=tt(String.prototype.replace),We=tt(String.prototype.indexOf),Ge=tt(String.prototype.trim),Ye=tt(Object.prototype.hasOwnProperty),Xe=tt(RegExp.prototype.test),Qe=(et=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ne(et,t)});var et;function tt(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Me(e,t,r)}}function nt(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ue;Ae&&Ae(e,null);let r=t.length;for(;r--;){let i=t[r];if("string"==typeof i){const e=n(i);e!==i&&(Le(t)||(t[r]=e),i=e)}e[i]=!0}return e}function rt(e){for(let t=0;t<e.length;t++)Ye(e,t)||(e[t]=null);return e}function it(e){const t=Ve(null);for(const[n,r]of Te(e))Ye(e,n)&&(Array.isArray(r)?t[n]=rt(r):r&&"object"==typeof r&&r.constructor===Object?t[n]=it(r):t[n]=r);return t}function ot(e,t){for(;null!==e;){const n=Pe(e,t);if(n){if(n.get)return tt(n.get);if("function"==typeof n.value)return tt(n.value)}e=Ie(e)}return function(){return null}}const lt=Oe(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),st=Oe(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),at=Oe(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),ct=Oe(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ut=Oe(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),dt=Oe(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),pt=Oe(["#text"]),ht=Oe(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),ft=Oe(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),mt=Oe(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),gt=Oe(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),vt=De(/\{\{[\w\W]*|[\w\W]*\}\}/gm),bt=De(/<%[\w\W]*|[\w\W]*%>/gm),yt=De(/\$\{[\w\W]*/gm),_t=De(/^data-[\-\w.\u00B7-\uFFFF]+$/),wt=De(/^aria-[\-\w]+$/),xt=De(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),kt=De(/^(?:\w+script|data):/i),Et=De(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Ft=De(/^html$/i),St=De(/^[a-z][.\w]*(-[.\w]+)+$/i);var Rt=Object.freeze({__proto__:null,ARIA_ATTR:wt,ATTR_WHITESPACE:Et,CUSTOM_ELEMENT:St,DATA_ATTR:_t,DOCTYPE_NAME:Ft,ERB_EXPR:bt,IS_ALLOWED_URI:xt,IS_SCRIPT_OR_DATA:kt,MUSTACHE_EXPR:vt,TMPLIT_EXPR:yt});const Ct=function(){return"undefined"==typeof window?null:window};var jt=function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct();const n=t=>e(t);if(n.version="3.3.1",n.removed=[],!t||!t.document||9!==t.document.nodeType||!t.Element)return n.isSupported=!1,n;let{document:r}=t;const i=r,o=i.currentScript,{DocumentFragment:l,HTMLTemplateElement:s,Node:a,Element:c,NodeFilter:u,NamedNodeMap:d=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:p,DOMParser:h,trustedTypes:f}=t,m=c.prototype,g=ot(m,"cloneNode"),v=ot(m,"remove"),b=ot(m,"nextSibling"),y=ot(m,"childNodes"),_=ot(m,"parentNode");if("function"==typeof s){const e=r.createElement("template");e.content&&e.content.ownerDocument&&(r=e.content.ownerDocument)}let w,x="";const{implementation:k,createNodeIterator:E,createDocumentFragment:F,getElementsByTagName:S}=r,{importNode:R}=i;let C={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};n.isSupported="function"==typeof Te&&"function"==typeof _&&k&&void 0!==k.createHTMLDocument;const{MUSTACHE_EXPR:j,ERB_EXPR:T,TMPLIT_EXPR:A,DATA_ATTR:L,ARIA_ATTR:I,IS_SCRIPT_OR_DATA:P,ATTR_WHITESPACE:O,CUSTOM_ELEMENT:D}=Rt;let{IS_ALLOWED_URI:V}=Rt,M=null;const N=nt({},[...lt,...st,...at,...ut,...pt]);let z=null;const $=nt({},[...ht,...ft,...mt,...gt]);let B=Object.seal(Ve(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),H=null,J=null;const U=Object.seal(Ve(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let q=!0,K=!0,Z=!1,W=!0,G=!1,Y=!0,X=!1,Q=!1,ee=!1,te=!1,ne=!1,re=!1,ie=!0,oe=!1,le=!0,se=!1,ae={},ce=null;const ue=nt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let de=null;const pe=nt({},["audio","video","img","source","image","track"]);let he=null;const fe=nt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),me="http://www.w3.org/1998/Math/MathML",ge="http://www.w3.org/2000/svg",ve="http://www.w3.org/1999/xhtml";let be=ve,ye=!1,_e=null;const we=nt({},[me,ge,ve],qe);let xe=nt({},["mi","mo","mn","ms","mtext"]),ke=nt({},["annotation-xml"]);const Ee=nt({},["title","style","font","a","script"]);let Fe=null;const Se=["application/xhtml+xml","text/html"];let Re=null,Ce=null;const je=r.createElement("form"),Ae=function(e){return e instanceof RegExp||e instanceof Function},Le=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!Ce||Ce!==e){if(e&&"object"==typeof e||(e={}),e=it(e),Fe=-1===Se.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,Re="application/xhtml+xml"===Fe?qe:Ue,M=Ye(e,"ALLOWED_TAGS")?nt({},e.ALLOWED_TAGS,Re):N,z=Ye(e,"ALLOWED_ATTR")?nt({},e.ALLOWED_ATTR,Re):$,_e=Ye(e,"ALLOWED_NAMESPACES")?nt({},e.ALLOWED_NAMESPACES,qe):we,he=Ye(e,"ADD_URI_SAFE_ATTR")?nt(it(fe),e.ADD_URI_SAFE_ATTR,Re):fe,de=Ye(e,"ADD_DATA_URI_TAGS")?nt(it(pe),e.ADD_DATA_URI_TAGS,Re):pe,ce=Ye(e,"FORBID_CONTENTS")?nt({},e.FORBID_CONTENTS,Re):ue,H=Ye(e,"FORBID_TAGS")?nt({},e.FORBID_TAGS,Re):it({}),J=Ye(e,"FORBID_ATTR")?nt({},e.FORBID_ATTR,Re):it({}),ae=!!Ye(e,"USE_PROFILES")&&e.USE_PROFILES,q=!1!==e.ALLOW_ARIA_ATTR,K=!1!==e.ALLOW_DATA_ATTR,Z=e.ALLOW_UNKNOWN_PROTOCOLS||!1,W=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,G=e.SAFE_FOR_TEMPLATES||!1,Y=!1!==e.SAFE_FOR_XML,X=e.WHOLE_DOCUMENT||!1,te=e.RETURN_DOM||!1,ne=e.RETURN_DOM_FRAGMENT||!1,re=e.RETURN_TRUSTED_TYPE||!1,ee=e.FORCE_BODY||!1,ie=!1!==e.SANITIZE_DOM,oe=e.SANITIZE_NAMED_PROPS||!1,le=!1!==e.KEEP_CONTENT,se=e.IN_PLACE||!1,V=e.ALLOWED_URI_REGEXP||xt,be=e.NAMESPACE||ve,xe=e.MATHML_TEXT_INTEGRATION_POINTS||xe,ke=e.HTML_INTEGRATION_POINTS||ke,B=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&Ae(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(B.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&Ae(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(B.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(B.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),G&&(K=!1),ne&&(te=!0),ae&&(M=nt({},pt),z=[],!0===ae.html&&(nt(M,lt),nt(z,ht)),!0===ae.svg&&(nt(M,st),nt(z,ft),nt(z,gt)),!0===ae.svgFilters&&(nt(M,at),nt(z,ft),nt(z,gt)),!0===ae.mathMl&&(nt(M,ut),nt(z,mt),nt(z,gt))),e.ADD_TAGS&&("function"==typeof e.ADD_TAGS?U.tagCheck=e.ADD_TAGS:(M===N&&(M=it(M)),nt(M,e.ADD_TAGS,Re))),e.ADD_ATTR&&("function"==typeof e.ADD_ATTR?U.attributeCheck=e.ADD_ATTR:(z===$&&(z=it(z)),nt(z,e.ADD_ATTR,Re))),e.ADD_URI_SAFE_ATTR&&nt(he,e.ADD_URI_SAFE_ATTR,Re),e.FORBID_CONTENTS&&(ce===ue&&(ce=it(ce)),nt(ce,e.FORBID_CONTENTS,Re)),e.ADD_FORBID_CONTENTS&&(ce===ue&&(ce=it(ce)),nt(ce,e.ADD_FORBID_CONTENTS,Re)),le&&(M["#text"]=!0),X&&nt(M,["html","head","body"]),M.table&&(nt(M,["tbody"]),delete H.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw Qe('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw Qe('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');w=e.TRUSTED_TYPES_POLICY,x=w.createHTML("")}else void 0===w&&(w=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null;const r="data-tt-policy-suffix";t&&t.hasAttribute(r)&&(n=t.getAttribute(r));const i="dompurify"+(n?"#"+n:"");try{return e.createPolicy(i,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){return console.warn("TrustedTypes policy "+i+" could not be created."),null}}(f,o)),null!==w&&"string"==typeof x&&(x=w.createHTML(""));Oe&&Oe(e),Ce=e}},Ie=nt({},[...st,...at,...ct]),Pe=nt({},[...ut,...dt]),De=function(e){He(n.removed,{element:e});try{_(e).removeChild(e)}catch(t){v(e)}},Me=function(e,t){try{He(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){He(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e)if(te||ne)try{De(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},Ne=function(e){let t=null,n=null;if(ee)e="<remove></remove>"+e;else{const t=Ke(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===Fe&&be===ve&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const i=w?w.createHTML(e):e;if(be===ve)try{t=(new h).parseFromString(i,Fe)}catch(e){}if(!t||!t.documentElement){t=k.createDocument(be,"template",null);try{t.documentElement.innerHTML=ye?x:i}catch(e){}}const o=t.body||t.documentElement;return e&&n&&o.insertBefore(r.createTextNode(n),o.childNodes[0]||null),be===ve?S.call(t,X?"html":"body")[0]:X?t.documentElement:o},et=function(e){return E.call(e.ownerDocument||e,e,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},tt=function(e){return e instanceof p&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof d)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},rt=function(e){return"function"==typeof a&&e instanceof a};function vt(e,t,r){ze(e,e=>{e.call(n,t,r,Ce)})}const bt=function(e){let t=null;if(vt(C.beforeSanitizeElements,e,null),tt(e))return De(e),!0;const r=Re(e.nodeName);if(vt(C.uponSanitizeElement,e,{tagName:r,allowedTags:M}),Y&&e.hasChildNodes()&&!rt(e.firstElementChild)&&Xe(/<[/\w!]/g,e.innerHTML)&&Xe(/<[/\w!]/g,e.textContent))return De(e),!0;if(7===e.nodeType)return De(e),!0;if(Y&&8===e.nodeType&&Xe(/<[/\w]/g,e.data))return De(e),!0;if(!(U.tagCheck instanceof Function&&U.tagCheck(r))&&(!M[r]||H[r])){if(!H[r]&&_t(r)){if(B.tagNameCheck instanceof RegExp&&Xe(B.tagNameCheck,r))return!1;if(B.tagNameCheck instanceof Function&&B.tagNameCheck(r))return!1}if(le&&!ce[r]){const t=_(e)||e.parentNode,n=y(e)||e.childNodes;if(n&&t)for(let r=n.length-1;r>=0;--r){const i=g(n[r],!0);i.__removalCount=(e.__removalCount||0)+1,t.insertBefore(i,b(e))}}return De(e),!0}return e instanceof c&&!function(e){let t=_(e);t&&t.tagName||(t={namespaceURI:be,tagName:"template"});const n=Ue(e.tagName),r=Ue(t.tagName);return!!_e[e.namespaceURI]&&(e.namespaceURI===ge?t.namespaceURI===ve?"svg"===n:t.namespaceURI===me?"svg"===n&&("annotation-xml"===r||xe[r]):Boolean(Ie[n]):e.namespaceURI===me?t.namespaceURI===ve?"math"===n:t.namespaceURI===ge?"math"===n&&ke[r]:Boolean(Pe[n]):e.namespaceURI===ve?!(t.namespaceURI===ge&&!ke[r])&&!(t.namespaceURI===me&&!xe[r])&&!Pe[n]&&(Ee[n]||!Ie[n]):!("application/xhtml+xml"!==Fe||!_e[e.namespaceURI]))}(e)?(De(e),!0):"noscript"!==r&&"noembed"!==r&&"noframes"!==r||!Xe(/<\/no(script|embed|frames)/i,e.innerHTML)?(G&&3===e.nodeType&&(t=e.textContent,ze([j,T,A],e=>{t=Ze(t,e," ")}),e.textContent!==t&&(He(n.removed,{element:e.cloneNode()}),e.textContent=t)),vt(C.afterSanitizeElements,e,null),!1):(De(e),!0)},yt=function(e,t,n){if(ie&&("id"===t||"name"===t)&&(n in r||n in je))return!1;if(K&&!J[t]&&Xe(L,t));else if(q&&Xe(I,t));else if(U.attributeCheck instanceof Function&&U.attributeCheck(t,e));else if(!z[t]||J[t]){if(!(_t(e)&&(B.tagNameCheck instanceof RegExp&&Xe(B.tagNameCheck,e)||B.tagNameCheck instanceof Function&&B.tagNameCheck(e))&&(B.attributeNameCheck instanceof RegExp&&Xe(B.attributeNameCheck,t)||B.attributeNameCheck instanceof Function&&B.attributeNameCheck(t,e))||"is"===t&&B.allowCustomizedBuiltInElements&&(B.tagNameCheck instanceof RegExp&&Xe(B.tagNameCheck,n)||B.tagNameCheck instanceof Function&&B.tagNameCheck(n))))return!1}else if(he[t]);else if(Xe(V,Ze(n,O,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==We(n,"data:")||!de[e])if(Z&&!Xe(P,Ze(n,O,"")));else if(n)return!1;return!0},_t=function(e){return"annotation-xml"!==e&&Ke(e,D)},wt=function(e){vt(C.beforeSanitizeAttributes,e,null);const{attributes:t}=e;if(!t||tt(e))return;const r={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:z,forceKeepAttr:void 0};let i=t.length;for(;i--;){const o=t[i],{name:l,namespaceURI:s,value:a}=o,c=Re(l),u=a;let d="value"===l?u:Ge(u);if(r.attrName=c,r.attrValue=d,r.keepAttr=!0,r.forceKeepAttr=void 0,vt(C.uponSanitizeAttribute,e,r),d=r.attrValue,!oe||"id"!==c&&"name"!==c||(Me(l,e),d="user-content-"+d),Y&&Xe(/((--!?|])>)|<\/(style|title|textarea)/i,d)){Me(l,e);continue}if("attributename"===c&&Ke(d,"href")){Me(l,e);continue}if(r.forceKeepAttr)continue;if(!r.keepAttr){Me(l,e);continue}if(!W&&Xe(/\/>/i,d)){Me(l,e);continue}G&&ze([j,T,A],e=>{d=Ze(d,e," ")});const p=Re(e.nodeName);if(yt(p,c,d)){if(w&&"object"==typeof f&&"function"==typeof f.getAttributeType)if(s);else switch(f.getAttributeType(p,c)){case"TrustedHTML":d=w.createHTML(d);break;case"TrustedScriptURL":d=w.createScriptURL(d)}if(d!==u)try{s?e.setAttributeNS(s,l,d):e.setAttribute(l,d),tt(e)?De(e):Be(n.removed)}catch(t){Me(l,e)}}else Me(l,e)}vt(C.afterSanitizeAttributes,e,null)},kt=function e(t){let n=null;const r=et(t);for(vt(C.beforeSanitizeShadowDOM,t,null);n=r.nextNode();)vt(C.uponSanitizeShadowNode,n,null),bt(n),wt(n),n.content instanceof l&&e(n.content);vt(C.afterSanitizeShadowDOM,t,null)};return n.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null,o=null,s=null,c=null;if(ye=!e,ye&&(e="\x3c!--\x3e"),"string"!=typeof e&&!rt(e)){if("function"!=typeof e.toString)throw Qe("toString is not a function");if("string"!=typeof(e=e.toString()))throw Qe("dirty is not a string, aborting")}if(!n.isSupported)return e;if(Q||Le(t),n.removed=[],"string"==typeof e&&(se=!1),se){if(e.nodeName){const t=Re(e.nodeName);if(!M[t]||H[t])throw Qe("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof a)r=Ne("\x3c!----\x3e"),o=r.ownerDocument.importNode(e,!0),1===o.nodeType&&"BODY"===o.nodeName||"HTML"===o.nodeName?r=o:r.appendChild(o);else{if(!te&&!G&&!X&&-1===e.indexOf("<"))return w&&re?w.createHTML(e):e;if(r=Ne(e),!r)return te?null:re?x:""}r&&ee&&De(r.firstChild);const u=et(se?e:r);for(;s=u.nextNode();)bt(s),wt(s),s.content instanceof l&&kt(s.content);if(se)return e;if(te){if(ne)for(c=F.call(r.ownerDocument);r.firstChild;)c.appendChild(r.firstChild);else c=r;return(z.shadowroot||z.shadowrootmode)&&(c=R.call(i,c,!0)),c}let d=X?r.outerHTML:r.innerHTML;return X&&M["!doctype"]&&r.ownerDocument&&r.ownerDocument.doctype&&r.ownerDocument.doctype.name&&Xe(Ft,r.ownerDocument.doctype.name)&&(d="<!DOCTYPE "+r.ownerDocument.doctype.name+">\n"+d),G&&ze([j,T,A],e=>{d=Ze(d,e," ")}),w&&re?w.createHTML(d):d},n.setConfig=function(){Le(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),Q=!0},n.clearConfig=function(){Ce=null,Q=!1},n.isValidAttribute=function(e,t,n){Ce||Le({});const r=Re(e),i=Re(t);return yt(r,i,n)},n.addHook=function(e,t){"function"==typeof t&&He(C[e],t)},n.removeHook=function(e,t){if(void 0!==t){const n=$e(C[e],t);return-1===n?void 0:Je(C[e],n,1)[0]}return Be(C[e])},n.removeHooks=function(e){C[e]=[]},n.removeAllHooks=function(){C={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},n}(),Tt=n(11719),At=n(6817),Lt=n(42223);var It={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function Pt(e){It=e}var Ot={exec:()=>null};function Dt(e,t=""){let n="string"==typeof e?e:e.source,r={replace:(e,t)=>{let i="string"==typeof t?t:t.source;return i=i.replace(Mt.caret,"$1"),n=n.replace(e,i),r},getRegex:()=>new RegExp(n,t)};return r}var Vt=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),Mt={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] +\S/,listReplaceTask:/^\[[ xX]\] +/,listTaskCheckbox:/\[[ xX]\]/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[\t ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},Nt=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,zt=/(?:[*+-]|\d{1,9}[.)])/,$t=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,Bt=Dt($t).replace(/bull/g,zt).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),Ht=Dt($t).replace(/bull/g,zt).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),Jt=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Ut=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,qt=Dt(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Ut).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Kt=Dt(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,zt).getRegex(),Zt="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Wt=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Gt=Dt("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$))","i").replace("comment",Wt).replace("tag",Zt).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Yt=Dt(Jt).replace("hr",Nt).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Zt).getRegex(),Xt={blockquote:Dt(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Yt).getRegex(),code:/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,def:qt,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:Nt,html:Gt,lheading:Bt,list:Kt,newline:/^(?:[ \t]*(?:\n|$))+/,paragraph:Yt,table:Ot,text:/^[^\n]+/},Qt=Dt("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Nt).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}\t)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Zt).getRegex(),en={...Xt,lheading:Ht,table:Qt,paragraph:Dt(Jt).replace("hr",Nt).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Qt).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Zt).getRegex()},tn={...Xt,html:Dt("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",Wt).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Ot,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Dt(Jt).replace("hr",Nt).replace("heading"," *#{1,6} *[^\n]").replace("lheading",Bt).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},nn=/^( {2,}|\\)\n(?!\s*$)/,rn=/[\p{P}\p{S}]/u,on=/[\s\p{P}\p{S}]/u,ln=/[^\s\p{P}\p{S}]/u,sn=Dt(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,on).getRegex(),an=/(?!~)[\p{P}\p{S}]/u,cn=Dt(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",Vt?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),un=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,dn=Dt(un,"u").replace(/punct/g,rn).getRegex(),pn=Dt(un,"u").replace(/punct/g,an).getRegex(),hn="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",fn=Dt(hn,"gu").replace(/notPunctSpace/g,ln).replace(/punctSpace/g,on).replace(/punct/g,rn).getRegex(),mn=Dt(hn,"gu").replace(/notPunctSpace/g,/(?:[^\s\p{P}\p{S}]|~)/u).replace(/punctSpace/g,/(?!~)[\s\p{P}\p{S}]/u).replace(/punct/g,an).getRegex(),gn=Dt("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,ln).replace(/punctSpace/g,on).replace(/punct/g,rn).getRegex(),vn=Dt(/\\(punct)/,"gu").replace(/punct/g,rn).getRegex(),bn=Dt(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),yn=Dt(Wt).replace("(?:--\x3e|$)","--\x3e").getRegex(),_n=Dt("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",yn).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),wn=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,xn=Dt(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",wn).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),kn=Dt(/^!?\[(label)\]\[(ref)\]/).replace("label",wn).replace("ref",Ut).getRegex(),En=Dt(/^!?\[(ref)\](?:\[\])?/).replace("ref",Ut).getRegex(),Fn=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,Sn={_backpedal:Ot,anyPunctuation:vn,autolink:bn,blockSkip:cn,br:nn,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:Ot,emStrongLDelim:dn,emStrongRDelimAst:fn,emStrongRDelimUnd:gn,escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,link:xn,nolink:En,punctuation:sn,reflink:kn,reflinkSearch:Dt("reflink|nolink(?!\\()","g").replace("reflink",kn).replace("nolink",En).getRegex(),tag:_n,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:Ot},Rn={...Sn,link:Dt(/^!?\[(label)\]\((.*?)\)/).replace("label",wn).getRegex(),reflink:Dt(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",wn).getRegex()},Cn={...Sn,emStrongRDelimAst:mn,emStrongLDelim:pn,url:Dt(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",Fn).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:Dt(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",Fn).getRegex()},jn={...Cn,br:Dt(nn).replace("{2,}","*").getRegex(),text:Dt(Cn.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Tn={normal:Xt,gfm:en,pedantic:tn},An={normal:Sn,gfm:Cn,breaks:jn,pedantic:Rn},Ln={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},In=e=>Ln[e];function Pn(e,t){if(t){if(Mt.escapeTest.test(e))return e.replace(Mt.escapeReplace,In)}else if(Mt.escapeTestNoEncode.test(e))return e.replace(Mt.escapeReplaceNoEncode,In);return e}function On(e){try{e=encodeURI(e).replace(Mt.percentDecode,"%")}catch{return null}return e}function Dn(e,t){let n=e.replace(Mt.findPipe,(e,t,n)=>{let r=!1,i=t;for(;--i>=0&&"\\"===n[i];)r=!r;return r?"|":" |"}).split(Mt.splitPipe),r=0;if(n[0].trim()||n.shift(),n.length>0&&!n.at(-1)?.trim()&&n.pop(),t)if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(Mt.slashPipe,"|");return n}function Vn(e,t,n){let r=e.length;if(0===r)return"";let i=0;for(;i<r;){let o=e.charAt(r-i-1);if(o!==t||n){if(o===t||!n)break;i++}else i++}return e.slice(0,r-i)}function Mn(e,t,n,r,i){let o=t.href,l=t.title||null,s=e[1].replace(i.other.outputLinkReplace,"$1");r.state.inLink=!0;let a={type:"!"===e[0].charAt(0)?"image":"link",raw:n,href:o,title:l,text:s,tokens:r.inlineTokens(s)};return r.state.inLink=!1,a}var Nn=class{options;rules;lexer;constructor(e){this.options=e||It}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let e=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:Vn(e,"\n")}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let e=t[0],n=function(e,t,n){let r=e.match(n.other.indentCodeCompensation);if(null===r)return t;let i=r[1];return t.split("\n").map(e=>{let t=e.match(n.other.beginningSpace);if(null===t)return e;let[r]=t;return r.length>=i.length?e.slice(i.length):e}).join("\n")}(e,t[3]||"",this.rules);return{type:"code",raw:e,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:n}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(this.rules.other.endingHash.test(e)){let t=Vn(e,"#");(this.options.pedantic||!t||this.rules.other.endingSpaceChar.test(t))&&(e=t.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:this.lexer.inline(e)}}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:Vn(t[0],"\n")}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let e=Vn(t[0],"\n").split("\n"),n="",r="",i=[];for(;e.length>0;){let t,o=!1,l=[];for(t=0;t<e.length;t++)if(this.rules.other.blockquoteStart.test(e[t]))l.push(e[t]),o=!0;else{if(o)break;l.push(e[t])}e=e.slice(t);let s=l.join("\n"),a=s.replace(this.rules.other.blockquoteSetextReplace,"\n    $1").replace(this.rules.other.blockquoteSetextReplace2,"");n=n?`${n}\n${s}`:s,r=r?`${r}\n${a}`:a;let c=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(a,i,!0),this.lexer.state.top=c,0===e.length)break;let u=i.at(-1);if("code"===u?.type)break;if("blockquote"===u?.type){let t=u,o=t.raw+"\n"+e.join("\n"),l=this.blockquote(o);i[i.length-1]=l,n=n.substring(0,n.length-t.raw.length)+l.raw,r=r.substring(0,r.length-t.text.length)+l.text;break}if("list"===u?.type){let t=u,o=t.raw+"\n"+e.join("\n"),l=this.list(o);i[i.length-1]=l,n=n.substring(0,n.length-u.raw.length)+l.raw,r=r.substring(0,r.length-t.raw.length)+l.raw,e=o.substring(i.at(-1).raw.length).split("\n");continue}}return{type:"blockquote",raw:n,tokens:i,text:r}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim(),r=n.length>1,i={type:"list",raw:"",ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]};n=r?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=r?n:"[*+-]");let o=this.rules.other.listItemRegex(n),l=!1;for(;e;){let n=!1,r="",s="";if(!(t=o.exec(e))||this.rules.block.hr.test(e))break;r=t[0],e=e.substring(r.length);let a=t[2].split("\n",1)[0].replace(this.rules.other.listReplaceTabs,e=>" ".repeat(3*e.length)),c=e.split("\n",1)[0],u=!a.trim(),d=0;if(this.options.pedantic?(d=2,s=a.trimStart()):u?d=t[1].length+1:(d=t[2].search(this.rules.other.nonSpaceChar),d=d>4?1:d,s=a.slice(d),d+=t[1].length),u&&this.rules.other.blankLine.test(c)&&(r+=c+"\n",e=e.substring(c.length+1),n=!0),!n){let t=this.rules.other.nextBulletRegex(d),n=this.rules.other.hrRegex(d),i=this.rules.other.fencesBeginRegex(d),o=this.rules.other.headingBeginRegex(d),l=this.rules.other.htmlBeginRegex(d);for(;e;){let p,h=e.split("\n",1)[0];if(c=h,this.options.pedantic?(c=c.replace(this.rules.other.listReplaceNesting,"  "),p=c):p=c.replace(this.rules.other.tabCharGlobal,"    "),i.test(c)||o.test(c)||l.test(c)||t.test(c)||n.test(c))break;if(p.search(this.rules.other.nonSpaceChar)>=d||!c.trim())s+="\n"+p.slice(d);else{if(u||a.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||i.test(a)||o.test(a)||n.test(a))break;s+="\n"+c}!u&&!c.trim()&&(u=!0),r+=h+"\n",e=e.substring(h.length+1),a=p.slice(d)}}i.loose||(l?i.loose=!0:this.rules.other.doubleBlankLine.test(r)&&(l=!0)),i.items.push({type:"list_item",raw:r,task:!!this.options.gfm&&this.rules.other.listIsTask.test(s),loose:!1,text:s,tokens:[]}),i.raw+=r}let s=i.items.at(-1);if(!s)return;s.raw=s.raw.trimEnd(),s.text=s.text.trimEnd(),i.raw=i.raw.trimEnd();for(let e of i.items){if(this.lexer.state.top=!1,e.tokens=this.lexer.blockTokens(e.text,[]),e.task){if(e.text=e.text.replace(this.rules.other.listReplaceTask,""),"text"===e.tokens[0]?.type||"paragraph"===e.tokens[0]?.type){e.tokens[0].raw=e.tokens[0].raw.replace(this.rules.other.listReplaceTask,""),e.tokens[0].text=e.tokens[0].text.replace(this.rules.other.listReplaceTask,"");for(let e=this.lexer.inlineQueue.length-1;e>=0;e--)if(this.rules.other.listIsTask.test(this.lexer.inlineQueue[e].src)){this.lexer.inlineQueue[e].src=this.lexer.inlineQueue[e].src.replace(this.rules.other.listReplaceTask,"");break}}let t=this.rules.other.listTaskCheckbox.exec(e.raw);if(t){let n={type:"checkbox",raw:t[0]+" ",checked:"[ ]"!==t[0]};e.checked=n.checked,i.loose?e.tokens[0]&&["paragraph","text"].includes(e.tokens[0].type)&&"tokens"in e.tokens[0]&&e.tokens[0].tokens?(e.tokens[0].raw=n.raw+e.tokens[0].raw,e.tokens[0].text=n.raw+e.tokens[0].text,e.tokens[0].tokens.unshift(n)):e.tokens.unshift({type:"paragraph",raw:n.raw,text:n.raw,tokens:[n]}):e.tokens.unshift(n)}}if(!i.loose){let t=e.tokens.filter(e=>"space"===e.type),n=t.length>0&&t.some(e=>this.rules.other.anyLine.test(e.raw));i.loose=n}}if(i.loose)for(let e of i.items){e.loose=!0;for(let t of e.tokens)"text"===t.type&&(t.type="paragraph")}return i}}html(e){let t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:"pre"===t[1]||"script"===t[1]||"style"===t[1],text:t[0]}}def(e){let t=this.rules.block.def.exec(e);if(t){let e=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),n=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",r=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:e,raw:t[0],href:n,title:r}}}table(e){let t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;let n=Dn(t[1]),r=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),i=t[3]?.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split("\n"):[],o={type:"table",raw:t[0],header:[],align:[],rows:[]};if(n.length===r.length){for(let e of r)this.rules.other.tableAlignRight.test(e)?o.align.push("right"):this.rules.other.tableAlignCenter.test(e)?o.align.push("center"):this.rules.other.tableAlignLeft.test(e)?o.align.push("left"):o.align.push(null);for(let e=0;e<n.length;e++)o.header.push({text:n[e],tokens:this.lexer.inline(n[e]),header:!0,align:o.align[e]});for(let e of i)o.rows.push(Dn(e,o.header.length).map((e,t)=>({text:e,tokens:this.lexer.inline(e),header:!1,align:o.align[t]})));return o}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let e="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:e,tokens:this.lexer.inline(e)}}}text(e){let t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let e=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(e)){if(!this.rules.other.endAngleBracket.test(e))return;let t=Vn(e.slice(0,-1),"\\");if((e.length-t.length)%2==0)return}else{let e=function(e,t){if(-1===e.indexOf(t[1]))return-1;let n=0;for(let r=0;r<e.length;r++)if("\\"===e[r])r++;else if(e[r]===t[0])n++;else if(e[r]===t[1]&&(n--,n<0))return r;return n>0?-2:-1}(t[2],"()");if(-2===e)return;if(e>-1){let n=(0===t[0].indexOf("!")?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,n).trim(),t[3]=""}}let n=t[2],r="";if(this.options.pedantic){let e=this.rules.other.pedanticHrefTitle.exec(n);e&&(n=e[1],r=e[3])}else r=t[3]?t[3].slice(1,-1):"";return n=n.trim(),this.rules.other.startAngleBracket.test(n)&&(n=this.options.pedantic&&!this.rules.other.endAngleBracket.test(e)?n.slice(1):n.slice(1,-1)),Mn(t,{href:n&&n.replace(this.rules.inline.anyPunctuation,"$1"),title:r&&r.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let e=t[(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," ").toLowerCase()];if(!e){let e=n[0].charAt(0);return{type:"text",raw:e,text:e}}return Mn(n,e,n[0],this.lexer,this.rules)}}emStrong(e,t,n=""){let r=this.rules.inline.emStrongLDelim.exec(e);if(!(!r||r[3]&&n.match(this.rules.other.unicodeAlphaNumeric))&&(!r[1]&&!r[2]||!n||this.rules.inline.punctuation.exec(n))){let n,i,o=[...r[0]].length-1,l=o,s=0,a="*"===r[0][0]?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(a.lastIndex=0,t=t.slice(-1*e.length+o);null!=(r=a.exec(t));){if(n=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!n)continue;if(i=[...n].length,r[3]||r[4]){l+=i;continue}if((r[5]||r[6])&&o%3&&!((o+i)%3)){s+=i;continue}if(l-=i,l>0)continue;i=Math.min(i,i+l+s);let t=[...r[0]][0].length,a=e.slice(0,o+r.index+t+i);if(Math.min(o,i)%2){let e=a.slice(1,-1);return{type:"em",raw:a,text:e,tokens:this.lexer.inlineTokens(e)}}let c=a.slice(2,-2);return{type:"strong",raw:a,text:c,tokens:this.lexer.inlineTokens(c)}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(this.rules.other.newLineCharGlobal," "),n=this.rules.other.nonSpaceChar.test(e),r=this.rules.other.startingSpaceChar.test(e)&&this.rules.other.endingSpaceChar.test(e);return n&&r&&(e=e.substring(1,e.length-1)),{type:"codespan",raw:t[0],text:e}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){let t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){let t=this.rules.inline.autolink.exec(e);if(t){let e,n;return"@"===t[2]?(e=t[1],n="mailto:"+e):(e=t[1],n=e),{type:"link",raw:t[0],text:e,href:n,tokens:[{type:"text",raw:e,text:e}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let e,n;if("@"===t[2])e=t[0],n="mailto:"+e;else{let r;do{r=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])?.[0]??""}while(r!==t[0]);e=t[0],n="www."===t[1]?"http://"+t[0]:t[0]}return{type:"link",raw:t[0],text:e,href:n,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e){let t=this.rules.inline.text.exec(e);if(t){let e=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:e}}}},zn=class e{tokens;options;state;inlineQueue;tokenizer;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||It,this.options.tokenizer=this.options.tokenizer||new Nn,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let t={other:Mt,block:Tn.normal,inline:An.normal};this.options.pedantic?(t.block=Tn.pedantic,t.inline=An.pedantic):this.options.gfm&&(t.block=Tn.gfm,this.options.breaks?t.inline=An.breaks:t.inline=An.gfm),this.tokenizer.rules=t}static get rules(){return{block:Tn,inline:An}}static lex(t,n){return new e(n).lex(t)}static lexInline(t,n){return new e(n).inlineTokens(t)}lex(e){e=e.replace(Mt.carriageReturn,"\n"),this.blockTokens(e,this.tokens);for(let e=0;e<this.inlineQueue.length;e++){let t=this.inlineQueue[e];this.inlineTokens(t.src,t.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],n=!1){for(this.options.pedantic&&(e=e.replace(Mt.tabCharGlobal,"    ").replace(Mt.spaceLine,""));e;){let r;if(this.options.extensions?.block?.some(n=>!!(r=n.call({lexer:this},e,t))&&(e=e.substring(r.raw.length),t.push(r),!0)))continue;if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length);let n=t.at(-1);1===r.raw.length&&void 0!==n?n.raw+="\n":t.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length);let n=t.at(-1);"paragraph"===n?.type||"text"===n?.type?(n.raw+=(n.raw.endsWith("\n")?"":"\n")+r.raw,n.text+="\n"+r.text,this.inlineQueue.at(-1).src=n.text):t.push(r);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length);let n=t.at(-1);"paragraph"===n?.type||"text"===n?.type?(n.raw+=(n.raw.endsWith("\n")?"":"\n")+r.raw,n.text+="\n"+r.raw,this.inlineQueue.at(-1).src=n.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title},t.push(r));continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),t.push(r);continue}let i=e;if(this.options.extensions?.startBlock){let t,n=1/0,r=e.slice(1);this.options.extensions.startBlock.forEach(e=>{t=e.call({lexer:this},r),"number"==typeof t&&t>=0&&(n=Math.min(n,t))}),n<1/0&&n>=0&&(i=e.substring(0,n+1))}if(this.state.top&&(r=this.tokenizer.paragraph(i))){let o=t.at(-1);n&&"paragraph"===o?.type?(o.raw+=(o.raw.endsWith("\n")?"":"\n")+r.raw,o.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):t.push(r),n=i.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length);let n=t.at(-1);"text"===n?.type?(n.raw+=(n.raw.endsWith("\n")?"":"\n")+r.raw,n.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=n.text):t.push(r);continue}if(e){let t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n,r=e,i=null;if(this.tokens.links){let e=Object.keys(this.tokens.links);if(e.length>0)for(;null!=(i=this.tokenizer.rules.inline.reflinkSearch.exec(r));)e.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(i=this.tokenizer.rules.inline.anyPunctuation.exec(r));)r=r.slice(0,i.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;null!=(i=this.tokenizer.rules.inline.blockSkip.exec(r));)n=i[2]?i[2].length:0,r=r.slice(0,i.index+n)+"["+"a".repeat(i[0].length-n-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);r=this.options.hooks?.emStrongMask?.call({lexer:this},r)??r;let o=!1,l="";for(;e;){let n;if(o||(l=""),o=!1,this.options.extensions?.inline?.some(r=>!!(n=r.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))continue;if(n=this.tokenizer.escape(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.tag(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.link(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(n.raw.length);let r=t.at(-1);"text"===n.type&&"text"===r?.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);continue}if(n=this.tokenizer.emStrong(e,r,l)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.codespan(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.br(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.del(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.autolink(e)){e=e.substring(n.raw.length),t.push(n);continue}if(!this.state.inLink&&(n=this.tokenizer.url(e))){e=e.substring(n.raw.length),t.push(n);continue}let i=e;if(this.options.extensions?.startInline){let t,n=1/0,r=e.slice(1);this.options.extensions.startInline.forEach(e=>{t=e.call({lexer:this},r),"number"==typeof t&&t>=0&&(n=Math.min(n,t))}),n<1/0&&n>=0&&(i=e.substring(0,n+1))}if(n=this.tokenizer.inlineText(i)){e=e.substring(n.raw.length),"_"!==n.raw.slice(-1)&&(l=n.raw.slice(-1)),o=!0;let r=t.at(-1);"text"===r?.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);continue}if(e){let t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}return t}},$n=class{options;parser;constructor(e){this.options=e||It}space(e){return""}code({text:e,lang:t,escaped:n}){let r=(t||"").match(Mt.notSpaceStart)?.[0],i=e.replace(Mt.endingNewline,"")+"\n";return r?'<pre><code class="language-'+Pn(r)+'">'+(n?i:Pn(i,!0))+"</code></pre>\n":"<pre><code>"+(n?i:Pn(i,!0))+"</code></pre>\n"}blockquote({tokens:e}){return`<blockquote>\n${this.parser.parse(e)}</blockquote>\n`}html({text:e}){return e}def(e){return""}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>\n`}hr(e){return"<hr>\n"}list(e){let t=e.ordered,n=e.start,r="";for(let t=0;t<e.items.length;t++){let n=e.items[t];r+=this.listitem(n)}let i=t?"ol":"ul";return"<"+i+(t&&1!==n?' start="'+n+'"':"")+">\n"+r+"</"+i+">\n"}listitem(e){return`<li>${this.parser.parse(e.tokens)}</li>\n`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"> '}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>\n`}table(e){let t="",n="";for(let t=0;t<e.header.length;t++)n+=this.tablecell(e.header[t]);t+=this.tablerow({text:n});let r="";for(let t=0;t<e.rows.length;t++){let i=e.rows[t];n="";for(let e=0;e<i.length;e++)n+=this.tablecell(i[e]);r+=this.tablerow({text:n})}return r&&(r=`<tbody>${r}</tbody>`),"<table>\n<thead>\n"+t+"</thead>\n"+r+"</table>\n"}tablerow({text:e}){return`<tr>\n${e}</tr>\n`}tablecell(e){let t=this.parser.parseInline(e.tokens),n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+t+`</${n}>\n`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${Pn(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:n}){let r=this.parser.parseInline(n),i=On(e);if(null===i)return r;let o='<a href="'+(e=i)+'"';return t&&(o+=' title="'+Pn(t)+'"'),o+=">"+r+"</a>",o}image({href:e,title:t,text:n,tokens:r}){r&&(n=this.parser.parseInline(r,this.parser.textRenderer));let i=On(e);if(null===i)return Pn(n);let o=`<img src="${e=i}" alt="${n}"`;return t&&(o+=` title="${Pn(t)}"`),o+=">",o}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:Pn(e.text)}},Bn=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}checkbox({raw:e}){return e}},Hn=class e{options;renderer;textRenderer;constructor(e){this.options=e||It,this.options.renderer=this.options.renderer||new $n,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Bn}static parse(t,n){return new e(n).parse(t)}static parseInline(t,n){return new e(n).parseInline(t)}parse(e){let t="";for(let n=0;n<e.length;n++){let r=e[n];if(this.options.extensions?.renderers?.[r.type]){let e=r,n=this.options.extensions.renderers[e.type].call({parser:this},e);if(!1!==n||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(e.type)){t+=n||"";continue}}let i=r;switch(i.type){case"space":t+=this.renderer.space(i);break;case"hr":t+=this.renderer.hr(i);break;case"heading":t+=this.renderer.heading(i);break;case"code":t+=this.renderer.code(i);break;case"table":t+=this.renderer.table(i);break;case"blockquote":t+=this.renderer.blockquote(i);break;case"list":t+=this.renderer.list(i);break;case"checkbox":t+=this.renderer.checkbox(i);break;case"html":t+=this.renderer.html(i);break;case"def":t+=this.renderer.def(i);break;case"paragraph":t+=this.renderer.paragraph(i);break;case"text":t+=this.renderer.text(i);break;default:{let e='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw new Error(e)}}}return t}parseInline(e,t=this.renderer){let n="";for(let r=0;r<e.length;r++){let i=e[r];if(this.options.extensions?.renderers?.[i.type]){let e=this.options.extensions.renderers[i.type].call({parser:this},i);if(!1!==e||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){n+=e||"";continue}}let o=i;switch(o.type){case"escape":case"text":n+=t.text(o);break;case"html":n+=t.html(o);break;case"link":n+=t.link(o);break;case"image":n+=t.image(o);break;case"checkbox":n+=t.checkbox(o);break;case"strong":n+=t.strong(o);break;case"em":n+=t.em(o);break;case"codespan":n+=t.codespan(o);break;case"br":n+=t.br(o);break;case"del":n+=t.del(o);break;default:{let e='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw new Error(e)}}}return n}},Jn=class{options;block;constructor(e){this.options=e||It}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens","emStrongMask"]);static passThroughHooksRespectAsync=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}emStrongMask(e){return e}provideLexer(){return this.block?zn.lex:zn.lexInline}provideParser(){return this.block?Hn.parse:Hn.parseInline}},Un=new class{defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=Hn;Renderer=$n;TextRenderer=Bn;Lexer=zn;Tokenizer=Nn;Hooks=Jn;constructor(...e){this.use(...e)}walkTokens(e,t){let n=[];for(let r of e)switch(n=n.concat(t.call(this,r)),r.type){case"table":{let e=r;for(let r of e.header)n=n.concat(this.walkTokens(r.tokens,t));for(let r of e.rows)for(let e of r)n=n.concat(this.walkTokens(e.tokens,t));break}case"list":{let e=r;n=n.concat(this.walkTokens(e.items,t));break}default:{let e=r;this.defaults.extensions?.childTokens?.[e.type]?this.defaults.extensions.childTokens[e.type].forEach(r=>{let i=e[r].flat(1/0);n=n.concat(this.walkTokens(i,t))}):e.tokens&&(n=n.concat(this.walkTokens(e.tokens,t)))}}return n}use(...e){let t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(e=>{let n={...e};if(n.async=this.defaults.async||n.async||!1,e.extensions&&(e.extensions.forEach(e=>{if(!e.name)throw new Error("extension name required");if("renderer"in e){let n=t.renderers[e.name];t.renderers[e.name]=n?function(...t){let r=e.renderer.apply(this,t);return!1===r&&(r=n.apply(this,t)),r}:e.renderer}if("tokenizer"in e){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");let n=t[e.level];n?n.unshift(e.tokenizer):t[e.level]=[e.tokenizer],e.start&&("block"===e.level?t.startBlock?t.startBlock.push(e.start):t.startBlock=[e.start]:"inline"===e.level&&(t.startInline?t.startInline.push(e.start):t.startInline=[e.start]))}"childTokens"in e&&e.childTokens&&(t.childTokens[e.name]=e.childTokens)}),n.extensions=t),e.renderer){let t=this.defaults.renderer||new $n(this.defaults);for(let n in e.renderer){if(!(n in t))throw new Error(`renderer '${n}' does not exist`);if(["options","parser"].includes(n))continue;let r=n,i=e.renderer[r],o=t[r];t[r]=(...e)=>{let n=i.apply(t,e);return!1===n&&(n=o.apply(t,e)),n||""}}n.renderer=t}if(e.tokenizer){let t=this.defaults.tokenizer||new Nn(this.defaults);for(let n in e.tokenizer){if(!(n in t))throw new Error(`tokenizer '${n}' does not exist`);if(["options","rules","lexer"].includes(n))continue;let r=n,i=e.tokenizer[r],o=t[r];t[r]=(...e)=>{let n=i.apply(t,e);return!1===n&&(n=o.apply(t,e)),n}}n.tokenizer=t}if(e.hooks){let t=this.defaults.hooks||new Jn;for(let n in e.hooks){if(!(n in t))throw new Error(`hook '${n}' does not exist`);if(["options","block"].includes(n))continue;let r=n,i=e.hooks[r],o=t[r];Jn.passThroughHooks.has(n)?t[r]=e=>{if(this.defaults.async&&Jn.passThroughHooksRespectAsync.has(n))return(async()=>{let n=await i.call(t,e);return o.call(t,n)})();let r=i.call(t,e);return o.call(t,r)}:t[r]=(...e)=>{if(this.defaults.async)return(async()=>{let n=await i.apply(t,e);return!1===n&&(n=await o.apply(t,e)),n})();let n=i.apply(t,e);return!1===n&&(n=o.apply(t,e)),n}}n.hooks=t}if(e.walkTokens){let t=this.defaults.walkTokens,r=e.walkTokens;n.walkTokens=function(e){let n=[];return n.push(r.call(this,e)),t&&(n=n.concat(t.call(this,e))),n}}this.defaults={...this.defaults,...n}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return zn.lex(e,t??this.defaults)}parser(e,t){return Hn.parse(e,t??this.defaults)}parseMarkdown(e){return(t,n)=>{let r={...n},i={...this.defaults,...r},o=this.onError(!!i.silent,!!i.async);if(!0===this.defaults.async&&!1===r.async)return o(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof t>"u"||null===t)return o(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof t)return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));if(i.hooks&&(i.hooks.options=i,i.hooks.block=e),i.async)return(async()=>{let n=i.hooks?await i.hooks.preprocess(t):t,r=await(i.hooks?await i.hooks.provideLexer():e?zn.lex:zn.lexInline)(n,i),o=i.hooks?await i.hooks.processAllTokens(r):r;i.walkTokens&&await Promise.all(this.walkTokens(o,i.walkTokens));let l=await(i.hooks?await i.hooks.provideParser():e?Hn.parse:Hn.parseInline)(o,i);return i.hooks?await i.hooks.postprocess(l):l})().catch(o);try{i.hooks&&(t=i.hooks.preprocess(t));let n=(i.hooks?i.hooks.provideLexer():e?zn.lex:zn.lexInline)(t,i);i.hooks&&(n=i.hooks.processAllTokens(n)),i.walkTokens&&this.walkTokens(n,i.walkTokens);let r=(i.hooks?i.hooks.provideParser():e?Hn.parse:Hn.parseInline)(n,i);return i.hooks&&(r=i.hooks.postprocess(r)),r}catch(e){return o(e)}}}onError(e,t){return n=>{if(n.message+="\nPlease report this to https://github.com/markedjs/marked.",e){let e="<p>An error occurred:</p><pre>"+Pn(n.message+"",!0)+"</pre>";return t?Promise.resolve(e):e}if(t)return Promise.reject(n);throw n}}};function qn(e,t){return Un.parse(e,t)}qn.options=qn.setOptions=function(e){return Un.setOptions(e),qn.defaults=Un.defaults,Pt(qn.defaults),qn},qn.getDefaults=function(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}},qn.defaults=It,qn.use=function(...e){return Un.use(...e),qn.defaults=Un.defaults,Pt(qn.defaults),qn},qn.walkTokens=function(e,t){return Un.walkTokens(e,t)},qn.parseInline=Un.parseInline,qn.Parser=Hn,qn.parser=Hn.parse,qn.Renderer=$n,qn.TextRenderer=Bn,qn.Lexer=zn,qn.lexer=zn.lex,qn.Tokenizer=Nn,qn.Hooks=Jn,qn.parse=qn,qn.options,qn.setOptions,qn.use,qn.walkTokens,qn.parseInline,Hn.parse,zn.lex;const Kn=(e,t="expression",n={})=>{const{depth:r=0,specialDepthAccessors:i={}}=n;if(!["expression","unaryTest"].includes(t))return[];const o="expression"===t?(0,At.YK)(e,{},void 0):(0,At.YJ)(e,{},void 0),l=function e(t){if("PathExpression"===t.name){const n=Gn(t)[0];return"Context"===n.name?e(n):0===Object.keys(i).length?0===r?[Zn(t,0)]:[]:Array.from(Wn(t,r,i))}if(0===r&&"VariableName"===t.name)return[t.variableName];if(t.children){const n=t.children.reduce((t,n)=>t.concat(e(n)),[]);return"FilterContext"===t.name?n.filter(e=>"item"!==e):n}return[]}(Yn(o,e));return[...new Set(l)]},Zn=(e,t)=>Gn(e)[t].variableName||null,Wn=(e,t,n)=>{let r=[{previous:null,current:t-1}];const i=new Set,o=Gn(e);for(let e=0;e<o.length;e++){const t=o[e].variableName;if(t in n){const e=n[t];r=e.reduce((e,t)=>[...e,...r.map(e=>({previous:e.current,current:e.current+t}))],[]).filter(e=>e.current>=-1)}else r=r.map(e=>({previous:e.current,current:e.current+1}));r.some(e=>-1===e.previous&&0===e.current)&&i.add(t)}return new Set(i)},Gn=e=>{let t=e,n=[];for(;"PathExpression"===t.name;)n.push(t.children[1]),t=t.children[0];return n.push(t),n.reverse()},Yn=(e,t)=>{const n=[{children:[]}];return e.iterate({enter:e=>{const r={name:e.type.name,children:[]};"VariableName"===e.type.name&&(r.variableName=t.slice(e.from,e.to)),n.push(r)},leave:()=>{const e=n.pop();n[n.length-1].children.push(e)}}),Xn(n[0].children[0])},Xn=e=>{const t={name:"Root",children:[e]},n=e=>{if(e.children)for(let r=0;r<e.children.length;r++)if("FilterExpression"===e.children[r].name){const i=e.children[r].children[0],o=e.children[r].children[2];e.children[r]=i;const l={name:"FilterContext",children:[o]};t.children.push(l),n(o)}else n(e.children[r])};return n(e),t};class Qn{constructor(e){this._eventBus=e}isExpression(e){return(0,F.isString)(e)&&e.startsWith("=")}getVariableNames(e,t={}){const{type:n="expression"}=t;if(!this.isExpression(e))return[];if(!["unaryTest","expression"].includes(n))throw new Error("Unknown expression type: "+n);return Kn(e,n)}evaluate(e,t={}){if(!e)return null;if(!(0,F.isString)(e)||!e.startsWith("="))return null;try{const{value:n}=(0,At._3)(e.slice(1),t);return n}catch(e){return this._eventBus.fire("error",{error:e}),null}}}Qn.$inject=["eventBus"];class er{constructor(){}isTemplate(e){return(0,F.isString)(e)&&(e.startsWith("=")||/{{.*?}}/.test(e))}getVariableNames(e){if(!this.isTemplate(e))return[];const t=this._extractExpressionsWithDepth(e),n={parent:[-1,1],_parent_:[-1],this:[0,1],_this_:[0]};return t.reduce((e,{expression:t,depth:r})=>e.concat(Kn(t,"expression",{depth:r,specialDepthAccessors:n})),[])}evaluate(e,t={},n={}){const{debug:r=!1,strict:i=!1,buildDebugString:o=e=>" {{⚠}} ",sanitizer:l=e=>e}=n;return(0,Lt._3)(e,t,{debug:r,strict:i,buildDebugString:o,sanitizer:l})}_extractExpressionsWithDepth(e){const t=Lt.K3.parse(e);return function e(t,n=0){if(["Feel","FeelBlock"].includes(t.name))return[{depth:n,expression:t.content}];if("LoopSpanner"===t.name){const r=t.children[0].content,i=t.children.slice(1).reduce((t,r)=>t.concat(e(r,n+1)),[]);return[{depth:n,expression:r},...i]}return t.children.reduce((t,r)=>t.concat(e(r,n)),[])}((0,Lt.pc)(t,e))}}er.$inject=[];const tr=1440,nr={DATE:"date",TIME:"time",DATETIME:"datetime"},rr={UTC_OFFSET:"utc_offset",UTC_NORMALIZED:"utc_normalized",NO_TIMEZONE:"no_timezone"},ir={[nr.DATE]:"Date",[nr.TIME]:"Time",[nr.DATETIME]:"Date & Time"},or={[rr.UTC_OFFSET]:"UTC offset",[rr.UTC_NORMALIZED]:"UTC normalized",[rr.NO_TIMEZONE]:"No timezone"},lr=["subtype"],sr=["dateLabel"],ar=["disallowPassedDates"],cr=["timeLabel"],ur=["use24h"],dr=["timeInterval"],pr=["timeSerializingFormat"],hr={STATIC:"static",INPUT:"input",EXPRESSION:"expression"},fr=hr.STATIC,mr={[hr.STATIC]:"Static",[hr.INPUT]:"Input data",[hr.EXPRESSION]:"Expression"},gr={[hr.STATIC]:["values"],[hr.INPUT]:["valuesKey"],[hr.EXPRESSION]:["valuesExpression"]},vr={[hr.STATIC]:[{label:"Value",value:"value"}],[hr.INPUT]:"",[hr.EXPRESSION]:"="};function br(e){for(const t of Object.values(hr))if(void 0!==(0,F.get)(e,gr[t]))return t;return fr}const yr="sandbox",_r="allow",wr=[{attribute:yr,directive:"allow-scripts",property:"allowScripts",label:"Script execution"},{attribute:yr,directive:"allow-same-origin",property:"allowSameOrigin",label:"Allow same origin"},{attribute:_r,directive:"fullscreen",property:"fullscreen",label:"Open in fullscreen"},{attribute:_r,directive:"geolocation",property:"geolocation",label:"Geolocation"},{attribute:_r,directive:"camera",property:"camera",label:"Camera access"},{attribute:_r,directive:"microphone",property:"microphone",label:"Microphone access"},{attribute:yr,directive:"allow-forms",property:"allowForms",label:"Forms submission"},{attribute:yr,directive:"allow-modals",property:"allowModals",label:"Open modal windows"},{attribute:yr,directive:"allow-popups",property:"allowPopups",label:"Open popups"},{attribute:yr,directive:"allow-top-navigation",property:"allowTopNavigation",label:"Top level navigation"},{attribute:yr,directive:"allow-storage-access-by-user-activation",property:"allowStorageAccessByUserActivation",label:"Storage access by user"}],xr="# Text";function kr(e){const t=new Tt.zZ(e);return t.init(),t}function Er(e="fjs"){const t=document.createElement("div");return t.classList.add(`${e}-container`),t}function Fr(e,{errors:t=[],disabled:n=!1,readonly:r=!1}={}){if(!e)throw new Error("type required");return x()("fjs-form-field",`fjs-form-field-${e}`,{"fjs-has-errors":t.length>0,"fjs-disabled":n,"fjs-readonly":r})}function Sr(e){const{layout:t={}}=e,{columns:n}=t;return x()("fjs-layout-column","cds--col"+(n?"-lg-"+n:""),"cds--col-sm-16","cds--col-md-16")}function Rr(e,t,n){let r="fjs-form";return t&&(r+=`-${t}`),r+=`-${e}`,Object.values(n||{}).forEach(e=>{r+=`_${e}`}),r}const Cr=(0,i.createContext)({Empty:e=>null,Hidden:e=>null,Children:e=>Z("div",{class:e.class,style:e.style,children:e.children}),Element:e=>Z("div",{class:e.class,style:e.style,children:e.children}),Row:e=>Z("div",{class:e.class,style:e.style,children:e.children}),Column:e=>"default"===e.field.type?e.children:Z("div",{class:e.class,style:e.style,children:e.children}),hoverInfo:{cleanup:()=>{}}}),jr=(0,i.createContext)({data:null,this:null,parent:null,i:null}),Tr=(0,i.createContext)({getService:function(e,t){},formId:null});function Ar(e,t){const{getService:n}=(0,o.NT)(Tr);return n(e,t)}function Lr(e,t){return JSON.parse(JSON.stringify(e,t))}function Ir(e,t){(e.components||[]).forEach((e,n)=>{Ir(e,t)}),t(e)}function Pr(e){const t={};for(const[n,r]of Object.entries(e))t[`_${n}_`]=r;return t}function Or(e){const{data:t,...n}=e;return{...n,...t,...Pr(n)}}function Dr(e,t,n){return e&&e.isExpression(t)?e.evaluate(t,Or(n)):t}function Vr(e,t){const{valuesExpression:n,valuesKey:r,values:i}=e;return n?null:r?(0,F.get)(t,[r]):i}function Mr(e){return e.filter(Br).map(zr).filter(e=>!(0,F.isNil)(e))}function Nr(e={}){const t={};return e.valuesKey||e.valuesExpression||(t.values=[{label:"Value",value:"value"}]),{...t,...e}}function zr(e){if($r(e))return{value:e,label:`${e}`};if((0,F.isObject)(e)){const n=(t=e.label)&&(0,F.isString)(t);if(!n&&$r(e.value))return{value:e.value,label:`${e.value}`};if(n&&Br(e.value))return e}var t;return null}function $r(e){return["number","string","boolean"].includes(typeof e)&&(e||0===e||!1===e)}function Br(e){return(0,F.isObject)(e)?Object.keys(e).length>0:$r(e)}function Hr(e){const t=Ar("expressionLanguage"),n=(0,o.NT)(jr);return(0,o.Kr)(()=>Dr(t,e,n),[t,n,e])}function Jr(e){const t=(0,o.li)();return G()(e,t.current)||(t.current=e),t.current}const Ur="loaded";function qr(e){const{valuesExpression:t,valuesKey:n,values:r}=e,i=Ar("form")._getState().initialData,l=Jr(Hr(t)||[]);return(0,o.Kr)(()=>{let e=[];if(void 0!==n){const t=(i||{})[n];t&&Array.isArray(t)&&(e=t)}else if(void 0!==r)e=Array.isArray(r)?r:[];else{if(!(t&&l&&Array.isArray(l)))return Kr("No options source defined in the form definition");e=l}return Zr(Mr(e))},[n,r,i,t,l])}const Kr=e=>({options:[],error:e,loadState:"error"}),Zr=e=>({options:e,error:void 0,loadState:Ur}),Wr=e=>{const{html:t,transform:n=e=>e,sanitize:r=!0,sanitizeStyleTags:i=!0}=e,l=(0,o.Kr)(()=>r?jt.sanitize(t,Gr(i)):t,[t,r,i]);return{__html:(0,o.Kr)(()=>n(l),[l,n])}},Gr=e=>({FORCE_BODY:!0,FORBID_TAGS:e?["style"]:[]});function Yr(e){const t=(0,o.Kr)(()=>Object.assign({},...e.map(e=>({[Xr(e.value)]:e.label}))),[e]);return(0,o.hb)(e=>t[Xr(e)],[t])}const Xr=e=>(0,F.isObject)(e)?JSON.stringify(e):e;function Qr(e){for(;e&&e!==document.body&&e!==document.documentElement;){if(ei(e))return e;e=e.parentElement}return ei(document.body)?document.body:ei(document.documentElement)?document.documentElement:null}function ei(e){const t=window.getComputedStyle(e),n=t.overflowY||t.overflow;return("auto"===n||"scroll"===n)&&e.scrollHeight>e.clientHeight}const ti={},ni=[];function ri(e,t,n=window){function r({key:n}){n===e&&t()}(0,o.vJ)(()=>(n.addEventListener("keydown",r),()=>{n.removeEventListener("keydown",r)}))}function ii(e,t=null){const n=(0,o.li)(t);return(0,o.vJ)(()=>n.current=e,[e]),n.current}function oi(e){const t=(0,o.li)(null),n=(0,o.li)(null),r=Ar("config",!1),i=r&&r.debounce,l=!1!==i&&0!==i,s="number"==typeof i?i:300;return[(0,o.hb)((...r)=>{l?(n.current=r,t.current&&clearTimeout(t.current),t.current=setTimeout(()=>{e(...n.current),n.current=null},s)):e(...r)},[e,s,l]),(0,o.hb)(()=>{t.current&&(clearTimeout(t.current),null!==n.current&&(e(...n.current),n.current=null),t.current=null)},[e])]}function li(e,t={}){const n=Ar("templating"),r=(0,o.NT)(jr);return(0,o.Kr)(()=>n&&n.isTemplate(e)?n.evaluate(e,Or(r),t):e,[n,e,r,t])}function si(e,t={}){const n=li(e,t);return(0,o.Kr)(()=>n&&n.split("\n")[0],[n])}const ai=new KeyboardEvent("keydown",{code:"Enter",key:"Enter",charCode:13,keyCode:13,bubbles:!0});function ci(e){if(!e)return;!e.isOpen&&e.open();const t=e.calendarContainer,n=t.querySelector(".flatpickr-day.selected")||t.querySelector(".flatpickr-day.today")||t.querySelector(".flatpickr-day");n&&n.focus()}function ui(e,t){if(null===t)return null;const n=t%1440,r=t%60;let i=Math.floor(n/60);if(e)return yi(i)+":"+yi(r);i=i%12||12;const o=n>=720;return yi(i)+":"+yi(r)+" "+(o?"PM":"AM")}function di(e){let t=e.toLowerCase();if(t.includes("am")||t.includes("pm")){const e=t.includes("pm"),n=t.match(/\d+/g),r=parseInt(n&&n[0]),i=parseInt(n&&n[1])||0;return(0,F.isNumber)(r)&&r>=1&&r<=12&&i>=0&&i<=59?60*(r%12+(e?12:0))+i:null}{const e=t.match(/\d+/g),n=parseInt(e&&e[0]),r=parseInt(e&&e[1]),i=(0,F.isNumber)(n)&&n>=0&&n<=23,o=(0,F.isNumber)(r)&&r>=0&&r<=59;return i&&o?60*n+r:null}}function pi(e,t,n){if(n===rr.UTC_NORMALIZED){const n=(e+t+tr)%tr;return yi(Math.floor(n/60))+":"+yi(n%60)+"Z"}return yi(Math.floor(e/60))+":"+yi(e%60)+(n===rr.UTC_OFFSET?function(e){return function(e){return e>0?"-"+yi(Math.floor(e/60)):"+"+yi(Math.floor((0-e)/60))}(e)+":"+yi(Math.abs(e%60))}(t):"")}function hi(e){if(!e)return null;const t=e=>{const t=e.split(":"),n=parseInt(t[0]),r=t.length>1?parseInt(t[1]):0;return isNaN(n)||n<0||n>24||isNaN(r)||r<0||r>60?null:60*n+r},n=(new Date).getTimezoneOffset();if(e.includes("Z")){const r=t(e=e.replace("Z",""));return null===r?null:(r-n+tr)%tr}if(e.includes("+")){const[r,i]=e.split("+"),o=t(r);let l=t(i);return null===o||null===l?null:(l=-l,(o+l-n+tr)%tr)}if(e.includes("-")){const[r,i]=e.split("-"),o=t(r);let l=t(i);return null===o||null===l?null:(o+l-n+tr)%tr}return t(e)}function fi(e){return Y.c9.fromJSDate(e).toISODate()}function mi(e){return isNaN(new Date(Date.parse(e)).getTime())}function gi(){return{date:new Date(Date.parse(null)),time:null}}function vi(e){return e&&!isNaN(e.getTime())}function bi(e){return!isNaN(parseInt(e))}function yi(e){return e.toString().padStart(2,"0")}const _i=/^(https?|data):.*/i,wi=/^(https):\/\/*/i;function xi(e,t){return!!Array.isArray(t)&&t.some(t=>G()(e,t))}function ki(e){const{formField:t,data:n,value:r}=e,{valuesExpression:i}=t;try{if(i)return r;const e=Mr(Vr(t,n)).map(e=>e.value);return xi(r,e)?r:null}catch(e){return null}}function Ei(e){const{formField:t,data:n,value:r}=e,{valuesExpression:i}=t;try{if(i)return r;const e=Mr(Vr(t,n)).map(e=>e.value);return r.filter(t=>xi(t,e))}catch(e){return[]}}function Fi(e){return _i.test(e)?e:""}function Si(e){const t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;","{":"&#123;","}":"&#125;",":":"&#58;",";":"&#59;"};return e.replace(/[&<>"'{};:]/g,e=>t[e])}function Ri(e){const{field:t,options:n,loadState:r,onChange:i,value:l}=e;(0,o.vJ)(()=>{if(r!==Ur)return;const e=n.map(e=>e.value);l&&!xi(l,e)&&i({field:t,value:null})},[t,n,i,l,r])}function Ci(e){const{field:t,options:n,loadState:r,onChange:i,values:l}=e,s=Jr(l||[]);(0,o.vJ)(()=>{if(r!==Ur)return;const e=n.map(e=>e.value),o=s.some(t=>!xi(t,e));o&&i({field:t,value:s.filter(t=>xi(t,e))})},[t,n,i,s,r])}const ji="button";function Ti(e){const{disabled:t,onFocus:n,onBlur:r,field:i}=e,{action:o="submit"}=i,l=si(i.label||"",{debug:!0});return Z("div",{class:Fr(ji),children:Z("button",{class:"fjs-button",type:o,disabled:t,onFocus:()=>n&&n(),onBlur:()=>r&&r(),children:l})})}function Ai(e){const{description:t,id:n}=e,r=si(t||"",{debug:!0});return r?Z("div",{id:n,class:"fjs-form-field-description",children:r}):null}function Li(e){const{errors:t,id:n}=e;return t.length?Z("div",{class:"fjs-form-field-error","aria-live":"polite",id:n,children:Z("ul",{children:t.map((e,t)=>Z("li",{children:e},t))})}):null}function Ii(e){const{id:t,htmlFor:n,label:r,collapseOnEmpty:i=!0,required:o=!1}=e,l=si(r||"",{debug:!0});return Z("label",{id:t,htmlFor:n,class:x()("fjs-form-field-label",{"fjs-incollapsible-label":!i},e.class),children:[e.children,l,o&&Z("span",{class:"fjs-asterix","aria-hidden":!0,children:"*"})]})}Ti.config={type:ji,keyed:!1,name:"Button",group:"action",create:(e={})=>({label:"Button",action:"submit",...e})};const Pi="checkbox";function Oi(e){const{disabled:t,errors:n=[],domId:r,onBlur:i,onFocus:o,field:l,readonly:s,value:a=!1}=e,{description:c,label:u,validate:d={}}=l,{required:p}=d,h=`${r}-description`,f=`${r}-error-message`;return Z("div",{class:x()(Fr(Pi,{errors:n,disabled:t,readonly:s}),{"fjs-checked":a}),children:[Z("div",{class:"fjs-inline-label",children:[Z("input",{checked:a,class:"fjs-input",disabled:t,readOnly:s,id:r,type:"checkbox",onChange:({target:t})=>{e.onChange({value:t.checked})},onBlur:()=>i&&i(),onFocus:()=>o&&o(),required:p,"aria-invalid":n.length>0,"aria-describedby":[h,f].join(" ")}),Z(Ii,{htmlFor:r,label:u,required:p})]}),Z(Ai,{id:h,description:c}),Z(Li,{id:f,errors:n})]})}Oi.config={type:Pi,keyed:!0,name:"Checkbox",group:"selection",emptyValue:!1,sanitizeValue:({value:e})=>!0===e,create:(e={})=>({label:"Checkbox",...e})};const Di="checklist";function Vi(e){const{disabled:t,errors:n=[],domId:r,onBlur:i,onFocus:l,field:s,readonly:a,value:c=[]}=e,{description:u,label:d,validate:p={}}=s,h=(0,o.li)(),{required:f}=p,m=e=>{h.current.contains(e.relatedTarget)||i&&i()},g=e=>{h.current.contains(e.relatedTarget)||l&&l()},{loadState:v,options:b}=qr(s);Ci({field:s,loadState:v,options:b,values:c,onChange:e.onChange});const y=`${r}-description`,_=`${r}-error-message`;return Z("div",{class:x()(Fr(Di,{errors:n,disabled:t,readonly:a})),ref:h,children:[Z(Ii,{label:d,required:f}),v==Ur&&b.map((i,o)=>{const l=`${r}-${o}`,s=xi(i.value,c);return Z("div",{className:x()("fjs-inline-label",{"fjs-checked":s}),children:[Z("input",{checked:s,class:"fjs-input",disabled:t,readOnly:a,id:l,type:"checkbox",onClick:()=>(t=>{const n=xi(t,c)?c.filter(e=>!G()(e,t)):[...c,t];e.onChange({value:n})})(i.value),onBlur:m,onFocus:g,required:f,"aria-invalid":n.length>0,"aria-describedby":[y,_].join(" ")}),Z(Ii,{htmlFor:l,label:i.label,required:!1})]},i.value)}),Z(Ai,{id:y,description:u}),Z(Li,{id:_,errors:n})]})}Vi.config={type:Di,keyed:!0,name:"Checkbox group",group:"selection",emptyValue:[],sanitizeValue:Ei,create:(e={})=>({label:"Checkbox group",...Nr(e)})};const Mi=()=>!1,Ni=new I([32,36,1]);function zi(e){const t=(0,o.li)(Ni.next()),{field:n,indexes:r,onChange:i}=e,l=Ar("formFields"),s=Ar("viewerCommands",!1),a=Ar("formFieldInstanceRegistry",!1),c=Ar("pathRegistry"),u=Ar("eventBus"),d=Ar("form"),{initialData:p,data:h,errors:f,properties:m}=d._getState(),{Element:g,Hidden:v,Column:b}=(0,o.NT)(Cr),{formId:y}=(0,o.NT)(Tr),[_,w]=(0,o.J0)(!!s),x=l.get(n.type);if(!x)throw new Error(`cannot render field <${n.type}>`);const k=x.config,E=(0,o.NT)(jr),S=(0,o.Kr)(()=>c.getValuePath(n,{indexes:r}),[n,r,c]),R=(0,o.Kr)(()=>(0,F.get)(p,S),[p,S]),C=function(e,t={}){const n=Ar("expressionLanguage"),r=Ar("conditionChecker",!1),i=(0,o.NT)(jr),{readonly:l}=e;return!!t.readOnly||(n&&n.isExpression(l)?!!r&&r.check(l,Or(i)):l||!1)}(n,m),j=(0,F.get)(h,S),T=!m.readOnly&&(m.disabled||n.disabled||!1),A=function(e){const t=Ar("conditionChecker",!1),n=(0,o.NT)(jr);return(0,o.Kr)(()=>t?t.check(e,Or(n)):null,[t,e,n])}(n.conditional&&n.conditional.hide||null),L=(0,o.Kr)(()=>a?a.syncInstance(t.current,{id:n.id,expressionContextInfo:E,valuePath:S,value:j,indexes:r,hidden:A}):null,[a,n.id,E,S,j,r,A]),I=L?a.get(L):null;(0,o.vJ)(()=>{const e=t.current;if(a)return()=>a.cleanupInstance(e)},[a]),(0,o.vJ)(()=>{if(!s)return;const e=()=>{w(!0)};return u.on("import.done",e),u.on("reset",e),()=>{u.off("import.done",e),u.off("reset",e)}},[u,s]),(0,o.vJ)(()=>{const e=R&&!G()(R,[]);_&&e&&I&&(w(!1),s.updateFieldInstanceValidation(I,R))},[I,_,R,s]);const P=(0,o.hb)(()=>{const e=(0,F.get)(h,S);_&&(w(!1),s.updateFieldInstanceValidation(I,e)),u.fire("formField.blur",{formField:n})},[h,u,n,I,_,S,s]),O=(0,o.hb)(()=>{u.fire("formField.focus",{formField:n})},[u,n]),D=(0,o.hb)(e=>{w(!1),i({field:n,indexes:r,fieldInstance:I,...e})},[i,n,I,r]);if(A)return Z(v,{field:n});const V=`${Rr(n.id,y,r)}`,M=(0,F.get)(f,[n.id,...Object.values(r||{})])||[],N=Z(x,{...e,disabled:T,errors:M,domId:V,onChange:T||C?Mi:D,onBlur:T||C?Mi:P,onFocus:T||C?Mi:O,readonly:C,value:j,fieldInstance:I});return k.escapeGridRender?N:Z(b,{field:n,class:Sr(n),children:Z(g,{class:"fjs-element",field:n,children:N})})}function $i(e){const{Children:t}=(0,o.NT)(Cr),{field:n,Empty:r}=e,{id:i}=n,l=Ar("repeatRenderManager",!1),s=l&&l.isFieldRepeating(i),a=l.Repeater,c=l.RepeatFooter;return s?Z(Hi,{...e,ChildrenRoot:t,Empty:r,Repeater:a,RepeatFooter:c,repeatRenderManager:l}):Z(Bi,{...e,ChildrenRoot:t,Empty:r})}function Bi(e){const{ChildrenRoot:t,Empty:n,field:r}=e,{components:i=[]}=r,o=!i.length;return Z(t,{class:"fjs-vertical-layout fjs-children cds--grid cds--grid--condensed",field:r,children:[Z(Ji,{...e}),o?Z(n,{field:r}):null]})}function Hi(e){const{ChildrenRoot:t,repeatRenderManager:n,Empty:r,field:l,...s}=e,{components:a=[]}=l,c=(0,o.J0)({isCollapsed:!0}),u=n.Repeater,d=n.RepeatFooter;return Z(i.Fragment,{children:[Z(t,{class:"fjs-vertical-layout fjs-children cds--grid cds--grid--condensed",field:l,children:[u?Z(u,{...s,useSharedState:c,field:l,RowsRenderer:Ji}):Z(Ji,{...s,field:l}),a.length?null:Z(r,{field:l})]}),d?Z(d,{...s,useSharedState:c,field:l}):null]})}function Ji(e){const{field:t,indexes:n}=e,{id:r,verticalAlignment:l="start"}=t,s=Ar("formLayouter"),a=Ar("formFieldRegistry"),c=s.getRows(r),{Row:u}=(0,o.NT)(Cr);return Z(i.Fragment,{children:[" ",c.map(t=>{const{components:r=[]}=t;return r.length?Z(u,{row:t,class:"fjs-layout-row cds--row",style:{alignItems:l},children:r.map(t=>{const r=a.get(t);return r?(0,i.createElement)(zi,{...e,key:t,field:r,indexes:n}):null})},t.id):null})," "]})}function Ui(e){const{Empty:t}=(0,o.NT)(Cr);return Z($i,{...{...e,Empty:t}})}var qi;function Ki(){return Ki=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ki.apply(null,arguments)}Ui.config={type:"default",keyed:!1,label:null,group:null,create:(e={})=>({components:[],...e}),getSubheading:e=>e.id};var Zi,Wi,Gi=function(e){return i.createElement("svg",Ki({xmlns:"http://www.w3.org/2000/svg",width:14,height:15,fill:"none",viewBox:"0 0 28 30"},e),qi||(qi=i.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M19 2H9V0H7v2H2a2 2 0 0 0-2 2v24a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2h-5V0h-2zM7 7V4H2v5h24V4h-5v3h-2V4H9v3zm-5 4v17h24V11z",clipRule:"evenodd"})))};function Yi(e="default"){return new Intl.DateTimeFormat(e).formatToParts(new Date(Date.UTC(2020,5,5))).map(e=>{const t=e.value.length;switch(e.type){case"day":return"d".repeat(t);case"month":return"M".repeat(t);case"year":return"y".repeat(t);default:return e.value}}).join("")}function Xi(e){let t=Yi(e).toLowerCase();return t.includes("mm")||(t=t.replace("m","mm")),t.includes("dd")||(t=t.replace("d","dd")),t}function Qi(e){const{pre:t,post:n,rootRef:r,inputRef:i,children:o,disabled:l,readonly:s,hasErrors:a}=e,c=()=>i&&i.current&&i.current.focus();return Z("div",{class:x()("fjs-input-group",{"fjs-disabled":l,"fjs-readonly":s},{hasErrors:a}),ref:r,children:[t&&Z("span",{class:"fjs-input-adornment border-right border-radius-left",onClick:c,children:[" ",(0,F.isString)(t)?Z("span",{class:"fjs-input-adornment-text",children:t}):t," "]}),o,n&&Z("span",{class:"fjs-input-adornment border-left border-radius-right",onClick:c,children:[" ",(0,F.isString)(n)?Z("span",{class:"fjs-input-adornment-text",children:n}):n," "]})]})}function eo(e){const{label:t,domId:n,collapseLabelOnEmpty:r,onDateTimeBlur:i,onDateTimeFocus:l,required:s,disabled:a,disallowPassedDates:c,date:u,readonly:d,setDate:p}=e,h=(0,o.li)(),f=(0,o.li)(),[m,g]=(0,o.J0)(null),[v,b]=(0,o.J0)(!1),[y,_]=(0,o.J0)(!1),w=Jr(u);(0,o.vJ)(()=>{m&&m.config&&(m.setDate(w,!0),b(!1))},[m,w]),(0,o.vJ)(()=>{y&&(ci(m),_(!1))},[m,y]),(0,o.vJ)(()=>{let e={allowInput:!0,dateFormat:function(e){const t=e.includes("dd"),n=e.includes("MM"),r=e.includes("yyyy");return e=t?e.replace("dd","d"):e.replace("d","j"),e=n?e.replace("MM","m"):e.replace("M","n"),r?e.replace("yyyy","Y"):e.replace("yy","y")}(Yi(void 0)),static:!0,clickOpens:!1,minDate:c?"today":"01/01/1900",errorHandler:()=>{}};const t=(0,X.A)(h.current,e);g(t);const n=e=>{t.calendarContainer.contains(e.relatedTarget)||e.relatedTarget==h.current||t.close()},r=e=>{e.target.classList.contains("flatpickr-day")&&b(!1)};t.config.onOpen=[()=>t.calendarContainer.addEventListener("focusout",n),()=>t.calendarContainer.addEventListener("mousedown",r)],t.config.onClose=[()=>t.calendarContainer.removeEventListener("focusout",n),()=>t.calendarContainer.removeEventListener("mousedown",r)]},[c]),(0,o.vJ)(()=>{m&&m.config&&(m.config.onChange=[e=>p(new Date(e)),()=>b(!1)])},[m,p]);const x=(0,o.hb)(e=>{m&&("Escape"===e.code&&m.close(),"ArrowDown"===e.code&&(v?(h.current.dispatchEvent(ai),b(!1),_(!0)):ci(m),e.preventDefault()),"Enter"===e.code&&b(!1))},[m,v]),k=(0,o.hb)(e=>{!m||f.current.contains(e.relatedTarget)||d||(m.open(),l(e))},[m,d,l]),E=(0,o.hb)(e=>{e.relatedTarget&&e.relatedTarget.classList.contains("flatpickr-day")||(v&&(h.current.dispatchEvent(ai),b(!1)),i(e))},[v,i]);return Z("div",{class:"fjs-datetime-subsection",children:[Z(Ii,{htmlFor:n,label:t,collapseOnEmpty:r,required:s}),Z(Qi,{pre:Z(Gi,{}),disabled:a,readonly:d,rootRef:f,inputRef:h,children:Z("div",{class:"fjs-datepicker",style:{width:"100%"},children:Z("input",{ref:h,type:"text",id:n,class:"fjs-input",disabled:a,readOnly:d,placeholder:Xi(),autoComplete:"off",onFocus:k,onBlur:E,onKeyDown:x,onMouseDown:()=>!m.isOpen&&!d&&m.open(),onInput:()=>b(!0),"data-input":!0,"aria-describedby":e["aria-describedby"]})})})]})}function to(){return to=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},to.apply(null,arguments)}var no=function(e){return i.createElement("svg",to({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 28 29"},e),Zi||(Zi=i.createElement("path",{fill:"currentColor",d:"M13 14.41 18.59 20 20 18.59l-5-5.01V5h-2z"})),Wi||(Wi=i.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M6.222 25.64A14 14 0 1 0 21.778 2.36 14 14 0 0 0 6.222 25.64M7.333 4.023a12 12 0 1 1 13.334 19.955A12 12 0 0 1 7.333 4.022Z",clipRule:"evenodd"})))};const ro=e=>e,io=()=>{};function oo(e){const{listenerElement:t=window,values:n=[],getLabel:r=ro,onValueSelected:i=io,height:l=235,emptyListMessage:s="No results",initialFocusIndex:a=0}=e,[c,u]=(0,o.J0)(!1),[d,p]=(0,o.J0)(a),[h,f]=(0,o.J0)(!1),m=(0,o.li)(),g=(0,o.li)(),v=(0,o.Kr)(()=>n.length?n[d]:null,[d,n]),b=(0,o.hb)(e=>{p(t=>Math.min(Math.max(0,t+e),n.length-1))},[n.length]);return(0,o.vJ)(()=>{0!==d&&(d&&n.length?d>=n.length&&p(n.length-1):p(0))},[d,n.length]),ri("ArrowUp",()=>{n.length&&(b(-1),u(!1))},t),ri("ArrowDown",()=>{n.length&&(b(1),u(!1))},t),ri("Enter",()=>{v&&i(v)},t),(0,o.vJ)(()=>{const e=m.current.children;if(e.length&&!c){const t=e[d];t&&t.scrollIntoView({block:"nearest",inline:"nearest"})}},[d,c]),(0,o.vJ)(()=>{f(!0)},[]),Z("div",{ref:m,tabIndex:-1,class:"fjs-dropdownlist",onMouseDown:e=>e.preventDefault(),style:{maxHeight:l,scrollBehavior:h?"smooth":"auto"},children:[n.length>0&&n.map((e,t)=>Z("div",{class:x()("fjs-dropdownlist-item",{focused:d===t}),onMouseMove:c?void 0:e=>{return n=e,r=t,void((!g.current||g.current.x!==n.screenX&&g.current.y!==n.screenY)&&(g.current={x:n.screenX,y:n.screenY},u(!0),p(r)));var n,r},onMouseEnter:c?()=>p(t):void 0,onMouseDown:t=>i(e),children:r(e)},e.value)),!n.length&&Z("div",{class:"fjs-dropdownlist-empty",children:s})]})}function lo(e){const{label:t,collapseLabelOnEmpty:n,onDateTimeBlur:r,onDateTimeFocus:i,domId:l,required:s,disabled:a,readonly:c,use24h:u=!1,timeInterval:d,time:p,setTime:h}=e,f=(0,o.Kr)(()=>[1,5,10,15,30,60].includes(d)?d:15,[d]),m=(0,o.li)(),[g,v]=(0,o.J0)(!1),b=(0,o.Kr)(()=>1!==f,[f]),[y,_]=(0,o.J0)("");(0,o.vJ)(()=>{if(null===p)return void _("");const e=p-p%f;_(ui(u,e)),e!=p&&h(e)},[p,h,u,f]);const w=(0,o.hb)(e=>{const t=e||y;if(!t)return void h(null);const n=di(t);if(!(0,F.isNumber)(n))return _(""),void h(null);const r=n-n%f;_(ui(u,r)),h(r)},[y,f,u,h]),x=(0,o.Kr)(()=>{const e=Math.floor(1440/f);return[...Array(e).keys()].map(e=>ui(u,e*f))},[f,u]),k=(0,o.Kr)(()=>{if(!x||!f)return null;if(p)return p/f;const e=di(y);return e?(e-e%f)/f:Math.floor(x.length/2)},[y,p,f,x]);return Z("div",{class:"fjs-datetime-subsection",children:[Z(Ii,{htmlFor:l,label:t,collapseOnEmpty:n,required:s}),Z(Qi,{pre:Z(no,{}),inputRef:m,disabled:a,readonly:c,children:Z("div",{class:"fjs-timepicker fjs-timepicker-anchor",children:[Z("input",{ref:m,type:"text",id:l,class:"fjs-input",value:y,disabled:a,readOnly:c,placeholder:u?"hh:mm":"hh:mm --",autoComplete:"off",onInput:e=>{_(e.target.value),b&&v(!1)},onBlur:e=>{v(!1),w(),r(e)},onFocus:e=>{i(e),!c&&b&&v(!0)},onClick:()=>!c&&b&&v(!0),onKeyDown:e=>{switch(e.key){case"ArrowUp":e.preventDefault();break;case"ArrowDown":b&&v(!0),e.preventDefault();break;case"Escape":b&&v(!1);break;case"Enter":!g&&w()}},"data-input":!0,"aria-describedby":e["aria-describedby"]}),g&&Z(oo,{values:x,height:150,onValueSelected:e=>{v(!1),w(e)},listenerElement:m.current,initialFocusIndex:k})]})})]})}const so="datetime";function ao(e){const{disabled:t,errors:n=[],domId:r,onBlur:i,onFocus:l,field:s,onChange:a,readonly:c,value:u=""}=e,{description:d,id:p,dateLabel:h,timeLabel:f,validate:m={},subtype:g,use24h:v,disallowPassedDates:b,timeInterval:y,timeSerializingFormat:_}=s,{required:w}=m,{formId:k}=(0,o.NT)(Tr),E=(0,o.li)(),[F,S]=(0,o.J0)(gi()),[R,C]=(0,o.J0)(null),j=(0,o.Kr)(()=>g===nr.DATE||g===nr.DATETIME,[g]),T=(0,o.Kr)(()=>g===nr.TIME||g===nr.DATETIME,[g]),A=(0,o.hb)(e=>{e.relatedTarget&&E.current.contains(e.relatedTarget)||i&&i()},[i]),L=(0,o.hb)(e=>{e.relatedTarget&&E.current.contains(e.relatedTarget)||l&&l()},[l]);(0,o.vJ)(()=>{let{date:e,time:t}=gi();switch(g){case nr.DATE:e="string"==typeof u?Y.c9.fromISO(u).toJSDate():new Date(NaN);break;case nr.TIME:t=hi(u);break;case nr.DATETIME:e=new Date(Date.parse(u)),t=vi(e)?60*e.getHours()+e.getMinutes():null}S({date:e,time:t})},[g,u]);const I=(0,o.hb)(({date:e,time:t})=>{let n=null;g===nr.DATE&&vi(e)?n=fi(e):g===nr.TIME&&bi(t)?n=pi(t,(new Date).getTimezoneOffset(),_):g===nr.DATETIME&&vi(e)&&bi(t)&&(n=function(e,t,n){const r=new Date;if(r.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),r.setHours(Math.floor(t/60),t%60,0,0),n===rr.UTC_NORMALIZED){const e=r.getTimezoneOffset(),n=t+e<0?-1:t+e>tr?1:0;r.setHours(r.getHours()+24*n)}return fi(r)+"T"+pi(t,r.getTimezoneOffset(),n)}(e,t,_)),u!==n&&a({value:n,field:s})},[u,s,a,g,_]);(0,o.vJ)(()=>{if(R){if(R.refreshOnly)I(F);else{const e={...F,...R};S(e),I(e)}C(null)}},[I,F,R]),(0,o.vJ)(()=>{C({refreshOnly:!0})},[_]);const P=(0,o.Kr)(()=>w||g!==nr.DATETIME?n:vi(F.date)&&!bi(F.time)||!vi(F.date)&&bi(F.time)?["Date and time must both be entered.",...n]:n,[w,g,F,n]),O=(0,o.hb)(e=>{C(t=>t?{...t,date:e}:{date:e})},[]),D=(0,o.hb)(e=>{C(t=>t?{...t,time:e}:{time:e})},[]),V=0===P.length?void 0:`${Rr(p,k)}-error-message`,M=`${Rr(p,k)}-description`,N={label:h,collapseLabelOnEmpty:!f,onDateTimeBlur:A,onDateTimeFocus:L,domId:`${r}-date`,required:w,disabled:t,disallowPassedDates:b,date:F.date,readonly:c,setDate:O,"aria-describedby":[M,V].join(" ")},z={label:f,collapseLabelOnEmpty:!h,onDateTimeBlur:A,onDateTimeFocus:L,domId:`${r}-time`,required:w,disabled:t,readonly:c,use24h:v,timeInterval:y,time:F.time,setTime:D,"aria-describedby":[M,V].join(" ")};return Z("div",{class:Fr(so,{errors:P,disabled:t,readonly:c}),children:[Z("div",{class:x()("fjs-vertical-group"),ref:E,children:[j&&Z(eo,{...N}),T&&j&&Z("div",{class:"fjs-datetime-separator"}),T&&Z(lo,{...z})]}),Z(Ai,{id:M,description:d}),Z(Li,{errors:P,id:V})]})}function co(e){const{field:t,domId:n}=e,{label:r,type:i,showOutline:l}=t,{Empty:s}=(0,o.NT)(Cr),a={...e,Empty:s};return Z("div",{className:x()(Fr(i),"fjs-form-field-grouplike",{"fjs-outlined":l}),role:"group","aria-labelledby":n,children:[Z(Ii,{id:n,label:r}),Z($i,{...a})]})}ao.config={type:so,keyed:!0,name:"Date time",group:"basic-input",emptyValue:null,sanitizeValue:function(e){const{formField:t,value:n}=e,{subtype:r}=t;return"string"!=typeof n?null:r!==nr.DATE||!mi(n)&&function(e){return!(!e||"string"!=typeof e||e.includes("T")||3!=e.split("-").length)}(n)?r===nr.TIME&&null===hi(n)?null:r!==nr.DATETIME||!mi(n)&&function(e){if(!e||"string"!=typeof e)return!1;const t=e.split("T");return 2==t.length&&3==t[0].split("-").length}(n)?n:null:null},create:(e={},t)=>{const n={};return(0,F.set)(n,lr,nr.DATE),t&&(0,F.set)(n,sr,"Date"),{...n,...e}},getSubheading:e=>e.dateLabel||e.timeLabel},co.config={type:"group",pathed:!0,name:"Group",group:"container",create:(e={})=>({label:"Group",components:[],showOutline:!0,...e})};const uo="iframe",po=300;function ho(e){const{field:t,disabled:n,readonly:r,domId:i}=e,{height:l=po,label:s,url:a,security:c={}}=t,u=si(a,{debug:!0}),d=(0,o.Kr)(()=>{return e=u,wi.test(e)?e:"";var e},[u]),p=si(s,{debug:!0}),[h,f]=function(e){const t=Jr(e);return[(0,o.Kr)(()=>wr.filter(({attribute:e})=>e===yr).filter(({property:e})=>(0,F.get)(t,[e],!1)).map(({directive:e})=>e).join(" "),[t]),(0,o.Kr)(()=>wr.filter(({attribute:e})=>e!==yr).filter(({property:e})=>(0,F.get)(t,[e],!1)).map(({directive:e})=>e).join("; "),[t])]}(c),[m,g]=(0,o.J0)(0);return(0,o.vJ)(()=>{g(e=>e+1)},[h,f]),Z("div",{class:Fr(uo,{disabled:n,readonly:r}),children:[Z(Ii,{htmlFor:i,label:p}),!u&&Z(fo,{text:"No content to show."}),u&&d&&Z("iframe",{src:d,title:p,height:l,class:"fjs-iframe",id:i,sandbox:h,allow:f},"iframe-"+m),u&&!d&&Z(fo,{text:"External content couldn't be loaded."})]})}function fo(e){const{text:t="iFrame"}=e;return Z("div",{class:"fjs-iframe-placeholder",children:Z("p",{class:"fjs-iframe-placeholder-text",children:t})})}var mo;function go(){return go=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},go.apply(null,arguments)}ho.config={type:uo,keyed:!1,name:"iFrame",group:"container",create:(e={})=>({label:"iFrame",security:{allowScripts:!0},...e})};var vo,bo=function(e){return i.createElement("svg",go({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"currentcolor"},e),mo||(mo=i.createElement("path",{fillRule:"evenodd",d:"M45 17a3 3 0 0 1 3 3v14a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V20a3 3 0 0 1 3-3zm-9 8.889H18v2.222h18z"})))};function yo(){return yo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yo.apply(null,arguments)}var _o,wo=function(e){return i.createElement("svg",yo({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"currentcolor"},e),vo||(vo=i.createElement("path",{d:"M34 18H20a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V20a2 2 0 0 0-2-2m-9 14-5-5 1.41-1.41L25 29.17l7.59-7.59L34 23z"})))};function xo(){return xo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xo.apply(null,arguments)}var ko,Eo,Fo,So=function(e){return i.createElement("svg",xo({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"none"},e),_o||(_o=i.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M14.35 24.75H19v4.65h-4.65zm-1.414-1.414a2 2 0 0 1 1.414-.586H19a2 2 0 0 1 2 2v4.65a2 2 0 0 1-2 2h-4.65a2 2 0 0 1-2-2v-4.65a2 2 0 0 1 .586-1.414M14.35 37.05H19v4.65h-4.65zm-1.414-1.414a2 2 0 0 1 1.414-.586H19a2 2 0 0 1 2 2v4.65a2 2 0 0 1-2 2h-4.65a2 2 0 0 1-2-2v-4.65a2 2 0 0 1 .586-1.414M14.35 12.45H19v4.65h-4.65zm-1.414-1.414a2 2 0 0 1 1.414-.586H19a2 2 0 0 1 2 2v4.65a2 2 0 0 1-2 2h-4.65a2 2 0 0 1-2-2v-4.65a2 2 0 0 1 .586-1.414m12.007 14.977a1 1 0 0 0-.293.707v.65a1 1 0 0 0 1 1h15a1 1 0 0 0 1-1v-.65a1 1 0 0 0-1-1h-15a1 1 0 0 0-.707.293m0 12.3a1 1 0 0 0-.293.707v.65a1 1 0 0 0 1 1h15a1 1 0 0 0 1-1v-.65a1 1 0 0 0-1-1h-15a1 1 0 0 0-.707.293m0-24.6a1 1 0 0 0-.293.707v.65a1 1 0 0 0 1 1h15a1 1 0 0 0 1-1v-.65a1 1 0 0 0-1-1h-15a1 1 0 0 0-.707.293",clipRule:"evenodd"})))};function Ro(){return Ro=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ro.apply(null,arguments)}var Co,jo,To=function(e){return i.createElement("svg",Ro({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"currentcolor"},e),ko||(ko=i.createElement("path",{fillRule:"evenodd",d:"M37.908 13.418h-5.004v-2.354h-1.766v2.354H21.13v-2.354h-1.766v2.354H14.36a2.07 2.07 0 0 0-2.06 2.06v23.549a2.07 2.07 0 0 0 2.06 2.06h6.77v-1.766h-6.358a.707.707 0 0 1-.706-.706V15.89c0-.39.316-.707.706-.707h4.592v2.355h1.766v-2.355h10.008v2.355h1.766v-2.355h4.592a.71.71 0 0 1 .707.707v6.358h1.765v-6.77c0-1.133-.927-2.06-2.06-2.06"})),Eo||(Eo=i.createElement("path",{d:"m35.13 37.603 1.237-1.237-3.468-3.475v-5.926h-1.754v6.654l3.984 3.984Z"})),Fo||(Fo=i.createElement("path",{fillRule:"evenodd",d:"M23.08 36.962a9.678 9.678 0 1 0 17.883-7.408 9.678 9.678 0 0 0-17.882 7.408Zm4.54-10.292a7.924 7.924 0 1 1 8.805 13.177A7.924 7.924 0 0 1 27.62 26.67"})))};function Ao(){return Ao=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ao.apply(null,arguments)}var Lo,Io,Po,Oo=function(e){return i.createElement("svg",Ao({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"currentcolor"},e),Co||(Co=i.createElement("path",{fillRule:"evenodd",d:"M45 16a3 3 0 0 1 3 3v16a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V19a3 3 0 0 1 3-3zm0 2H9a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h36a1 1 0 0 0 1-1V19a1 1 0 0 0-1-1"})),jo||(jo=i.createElement("path",{d:"M11 22a1 1 0 0 1 1-1h19a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H12a1 1 0 0 1-1-1z"})))};function Do(){return Do=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Do.apply(null,arguments)}var Vo,Mo=function(e){return i.createElement("svg",Do({xmlns:"http://www.w3.org/2000/svg",width:54,height:54},e),Lo||(Lo=i.createElement("rect",{width:24,height:4,x:15,y:17,rx:1})),Io||(Io=i.createElement("rect",{width:24,height:4,x:15,y:25,rx:1})),Po||(Po=i.createElement("rect",{width:13,height:4,x:15,y:33,rx:1})))};function No(){return No=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},No.apply(null,arguments)}var zo,$o=function(e){return i.createElement("svg",No({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"none"},e),Vo||(Vo=i.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M4.05 42.132v1.164c0 .693.604 1.254 1.35 1.254h1.35v-2.507h-2.7v.09Zm0-2.328h2.7v-2.328h-2.7zm0-4.656h2.7V32.82h-2.7zm0-4.656h2.7v-2.328h-2.7zm0-4.656h2.7v-2.328h-2.7zm0-4.656h2.7v-2.328h-2.7zm0-4.656h2.7v-2.328h-2.7zm0-4.656v.09h2.7V9.45H5.4c-.746 0-1.35.561-1.35 1.254zm5.4-2.418v2.507h2.7V9.45zm5.4 0v2.507h2.7V9.45zm5.4 0v2.507h2.7V9.45zm5.4 0v2.507h2.7V9.45zm5.4 0v2.507h2.7V9.45zm5.4 0v2.507h2.7V9.45zm5.4 0v2.507h2.7V9.45zm5.4 0v2.507h2.7v-1.253c0-.693-.604-1.254-1.35-1.254zm2.7 4.746h-2.7v2.328h2.7zm0 4.656h-2.7v2.328h2.7zm0 4.656h-2.7v2.328h2.7zm0 4.656h-2.7v2.328h2.7zm0 4.656h-2.7v2.328h2.7zm0 4.656h-2.7v2.328h2.7zm0 4.656v-.09h-2.7v2.508h1.35c.746 0 1.35-.561 1.35-1.254zm-5.4 2.418v-2.507h-2.7v2.507zm-5.4 0v-2.507h-2.7v2.507zm-5.4 0v-2.507h-2.7v2.507zm-5.4 0v-2.507h-2.7v2.507zm-5.4 0v-2.507h-2.7v2.507zm-5.4 0v-2.507h-2.7v2.507zm-5.4 0v-2.507h-2.7v2.507z",clipRule:"evenodd"})))};function Bo(){return Bo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bo.apply(null,arguments)}var Ho,Jo=function(e){return i.createElement("svg",Bo({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"currentcolor"},e),zo||(zo=i.createElement("path",{fillRule:"evenodd",d:"M45 16a3 3 0 0 1 3 3v16a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V19a3 3 0 0 1 3-3zm0 2H9a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h36a1 1 0 0 0 1-1V19a1 1 0 0 0-1-1M35 28.444h7l-3.5 4zM35 26h7l-3.5-4z"})))};function Uo(){return Uo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uo.apply(null,arguments)}var qo,Ko=function(e){return i.createElement("svg",Uo({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"currentcolor"},e),Ho||(Ho=i.createElement("path",{d:"M27 22c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5m0-5c-5.52 0-10 4.48-10 10s4.48 10 10 10 10-4.48 10-10-4.48-10-10-10m0 18a8 8 0 1 1 0-16 8 8 0 1 1 0 16"})))};function Zo(){return Zo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zo.apply(null,arguments)}var Wo,Go=function(e){return i.createElement("svg",Zo({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"currentcolor"},e),qo||(qo=i.createElement("path",{fillRule:"evenodd",d:"M45 16a3 3 0 0 1 3 3v16a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V19a3 3 0 0 1 3-3zm0 2H9a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h36a1 1 0 0 0 1-1V19a1 1 0 0 0-1-1m-12 7h9l-4.5 6z"})))};function Yo(){return Yo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yo.apply(null,arguments)}var Xo,Qo=function(e){return i.createElement("svg",Yo({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"none"},e),Wo||(Wo=i.createElement("path",{fill:"currentColor",d:"M26.293 16.293a1 1 0 0 1 1.414 0l4 4a1 1 0 0 1-1.414 1.414L27 18.414l-3.293 3.293a1 1 0 0 1-1.414-1.414zM9 26h36v2H9zm13.293 7.707 4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0-1.414-1.414L27 35.586l-3.293-3.293a1 1 0 0 0-1.414 1.414"})))};function el(){return el=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},el.apply(null,arguments)}var tl,nl=function(e){return i.createElement("svg",el({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"none"},e),Xo||(Xo=i.createElement("path",{fill:"currentColor",d:"M9 15v2h36v-2zm0 22v2h36v-2zm17.293-17.707a1 1 0 0 1 1.414 0l4 4a1 1 0 0 1-1.414 1.414L27 21.414l-3.293 3.293a1 1 0 0 1-1.414-1.414zm-4 11.414 4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0-1.414-1.414L27 32.586l-3.293-3.293a1 1 0 0 0-1.414 1.414"})))};function rl(){return rl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rl.apply(null,arguments)}var il,ol=function(e){return i.createElement("svg",rl({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"none"},e),tl||(tl=i.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M2.7 43.296v1.254c0 .746.604 1.35 1.35 1.35h1.275v-1.795q.074.211.075.445v-1.254h-.075V43.2H4.05c.177 0 .347.034.502.096zm2.7-2.507v-2.507H2.7v2.507zm0-5.014v-2.507H2.7v2.507zm0-5.014v-2.507H2.7v2.507zm0-5.015V23.24H2.7v2.507h2.7Zm0-5.014v-2.507H2.7v2.507zm0-5.014V13.21H2.7v2.507zm-2.7-5.014h1.852a1.4 1.4 0 0 1-.502.096h1.275v-.096H5.4V9.45q0 .235-.075.445V8.1H4.05A1.35 1.35 0 0 0 2.7 9.45zm5.175.096h2.55V8.1h-2.55zm5.1 0h2.55V8.1h-2.55zm5.1 0h2.55V8.1h-2.55zm5.1 0h2.55V8.1h-2.55zm5.1 0h2.55V8.1h-2.55zm5.1 0h2.55V8.1h-2.55zm5.1 0h2.55V8.1h-2.55zm5.1 0h2.55V8.1h-2.55zm5.1-2.7v1.795a1.4 1.4 0 0 1-.075-.445v1.254h.075v.096h1.275a1.4 1.4 0 0 1-.502-.096H51.3V9.45a1.35 1.35 0 0 0-1.35-1.35zm-.075 5.11v2.508h2.7V13.21zm0 5.015v2.507h2.7v-2.507zm0 5.014v2.507h2.7V23.24zm0 5.015v2.507h2.7v-2.507zm0 5.014v2.507h2.7v-2.507zm0 5.014v2.507h2.7v-2.507zm2.7 5.014h-1.852a1.4 1.4 0 0 1 .502-.096h-1.275v.096H48.6v1.254q0-.235.075-.445V45.9h1.275a1.35 1.35 0 0 0 1.35-1.35zm-5.175-.096h-2.55v2.7h2.55zm-5.1 0h-2.55v2.7h2.55zm-5.1 0h-2.55v2.7h2.55zm-5.1 0h-2.55v2.7h2.55zm-5.1 0h-2.55v2.7h2.55zm-5.1 0h-2.55v2.7h2.55zm-5.1 0h-2.55v2.7h2.55zm-5.1 0h-2.55v2.7h2.55zM16.2 17.55a4.05 4.05 0 0 1 4.05 4.05v1.35A4.05 4.05 0 0 1 16.2 27h-1.35a4.05 4.05 0 0 1-4.05-4.05V21.6a4.05 4.05 0 0 1 4.05-4.05zm0 2.7h-1.35a1.35 1.35 0 0 0-1.35 1.35v1.35c0 .746.604 1.35 1.35 1.35h1.35a1.35 1.35 0 0 0 1.35-1.35V21.6a1.35 1.35 0 0 0-1.35-1.35m27 1.35a4.05 4.05 0 0 0-4.05-4.05H29.7a4.05 4.05 0 0 0-4.05 4.05v1.35A4.05 4.05 0 0 0 29.7 27h9.45a4.05 4.05 0 0 0 4.05-4.05zm-13.5-1.35h9.45c.746 0 1.35.604 1.35 1.35v1.35a1.35 1.35 0 0 1-1.35 1.35H29.7a1.35 1.35 0 0 1-1.35-1.35V21.6c0-.746.604-1.35 1.35-1.35M43.2 37.8a4.05 4.05 0 0 0-4.05-4.05H29.7a4.05 4.05 0 0 0-4.05 4.05v1.35h2.7V37.8c0-.746.604-1.35 1.35-1.35h9.45c.746 0 1.35.604 1.35 1.35v1.35h2.7zm-27-4.05a4.05 4.05 0 0 1 4.05 4.05v1.35h-2.7V37.8a1.35 1.35 0 0 0-1.35-1.35h-1.35a1.35 1.35 0 0 0-1.35 1.35v1.35h-2.7V37.8a4.05 4.05 0 0 1 4.05-4.05z",clipRule:"evenodd"})))};function ll(){return ll=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ll.apply(null,arguments)}var sl,al=function(e){return i.createElement("svg",ll({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"currentcolor"},e),il||(il=i.createElement("path",{d:"M20.58 33.77h-3l-1.18-3.08H11l-1.1 3.08H7l5.27-13.54h2.89zm-5-5.36-1.86-5-1.83 5zM22 20.23h5.41a15.5 15.5 0 0 1 2.4.14 3.4 3.4 0 0 1 1.41.55 3.5 3.5 0 0 1 1 1.14 3 3 0 0 1 .42 1.58 3.26 3.26 0 0 1-1.91 2.94 3.63 3.63 0 0 1 1.91 1.22 3.28 3.28 0 0 1 .66 2 4 4 0 0 1-.43 1.8 3.6 3.6 0 0 1-1.09 1.4 3.9 3.9 0 0 1-1.83.65q-.69.07-3.3.09H22zm2.73 2.25v3.13h3.8a1.8 1.8 0 0 0 1.1-.49 1.4 1.4 0 0 0 .41-1 1.5 1.5 0 0 0-.35-1 1.54 1.54 0 0 0-1-.48c-.27 0-1.05-.05-2.34-.05zm0 5.39v3.62h2.57a11.5 11.5 0 0 0 1.88-.09 1.65 1.65 0 0 0 1-.54 1.6 1.6 0 0 0 .38-1.14 1.75 1.75 0 0 0-.29-1 1.7 1.7 0 0 0-.86-.62 9.3 9.3 0 0 0-2.41-.23zm19.62.92 2.65.84a5.94 5.94 0 0 1-2 3.29A5.74 5.74 0 0 1 41.38 34a5.87 5.87 0 0 1-4.44-1.84 7.1 7.1 0 0 1-1.73-5A7.43 7.43 0 0 1 37 21.87 6 6 0 0 1 41.54 20a5.64 5.64 0 0 1 4 1.47A5.33 5.33 0 0 1 47 24l-2.7.65a2.8 2.8 0 0 0-2.86-2.27A3.09 3.09 0 0 0 39 23.42a5.3 5.3 0 0 0-.93 3.5 5.62 5.62 0 0 0 .93 3.65 3 3 0 0 0 2.4 1.09 2.72 2.72 0 0 0 1.82-.66 4 4 0 0 0 1.13-2.21"})))};function cl(){return cl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cl.apply(null,arguments)}var ul,dl=function(e){return i.createElement("svg",cl({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"none"},e),sl||(sl=i.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M47.008 12.15c1.625 0 2.942 1.36 2.942 3.039v23.622c0 1.678-1.317 3.039-2.942 3.039H6.992c-1.625 0-2.942-1.36-2.942-3.039V15.189c0-1.678 1.317-3.039 2.942-3.039zm0 2.026H6.992c-.542 0-.98.454-.98 1.013V16.2h-.004v2.7h.003v19.911c0 .56.44 1.013.98 1.013h40.017c.542 0 .98-.453.98-1.013V18.9h.005v-2.7h-.004v-1.011c0-.56-.44-1.013-.98-1.013M14.934 26.055v-3.78h2.194v9.45h-2.194v-3.78h-3.29v3.78H9.45v-9.45h2.194v3.78zm4.388-1.89h2.194v7.56h2.193v-7.56h2.194v-1.89h-6.581zm14.26-1.89h2.193v9.45h-2.194V25.11l-1.645 3.78-1.645-3.78v6.615h-2.194v-9.45h2.194l1.645 3.78zm4.387 0h2.194v7.56h4.387v1.89h-6.581z",clipRule:"evenodd"})))};function pl(){return pl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pl.apply(null,arguments)}var hl,fl=function(e){return i.createElement("svg",pl({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"none"},e),ul||(ul=i.createElement("path",{fill:"currentcolor",fillRule:"evenodd",d:"M12.78 16.2v6.75c0 1.619-.635 3.059-1.618 4.05.983.991 1.618 2.431 1.618 4.05v6.75h3.51v2.7h-3.51c-1.289 0-2.34-1.213-2.34-2.7v-6.75c0-1.487-1.051-2.7-2.34-2.7v-2.7c1.289 0 2.34-1.213 2.34-2.7V16.2c0-1.487 1.051-2.7 2.34-2.7h3.51v2.7zm30.78 0v6.75c0 1.487 1.051 2.7 2.34 2.7v2.7c-1.289 0-2.34 1.213-2.34 2.7v6.75c0 1.487-1.051 2.7-2.34 2.7h-3.51v-2.7h3.51v-6.75c0-1.619.635-3.059 1.618-4.05-.983-.991-1.618-2.431-1.618-4.05V16.2h-3.51v-2.7h3.51c1.289 0 2.34 1.213 2.34 2.7M21.8 34.531q.7-.569.959-1.758l1.788-8.34h1.585l.387-1.828h-1.585l.405-1.878h1.585l.387-1.827H25.69q-1.271 0-1.972.569-.681.569-.94 1.758l-.294 1.378H21.34l-.387 1.827h1.142l-1.898 8.841h-1.585l-.387 1.827h1.622q1.272 0 1.953-.569m7.248-7.686-3.797 4.808h2.599l2.12-3.016h.22l.885 3.016h2.599l-1.677-4.36 3.778-4.688h-2.599l-2.12 2.947h-.22l-.885-2.947h-2.599z",clipRule:"evenodd"})))};function ml(){return ml=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ml.apply(null,arguments)}var gl,vl=function(e){return i.createElement("svg",ml({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"currentcolor"},e),hl||(hl=i.createElement("path",{fillRule:"evenodd",d:"M45 16a3 3 0 0 1 3 3v16a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V19a3 3 0 0 1 3-3zm0 2H9a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h36a1 1 0 0 0 1-1V19a1 1 0 0 0-1-1m-32 4v10h-2V22z"})))};function bl(){return bl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bl.apply(null,arguments)}var yl,_l=function(e){return i.createElement("svg",bl({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"currentcolor"},e),gl||(gl=i.createElement("path",{fillRule:"evenodd",d:"M45 13a3 3 0 0 1 3 3v22a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V16a3 3 0 0 1 3-3zm0 2H9a1 1 0 0 0-1 1v22a1 1 0 0 0 1 1h36a1 1 0 0 0 1-1V16a1 1 0 0 0-1-1m-1.136 15.5.849.849-6.364 6.364-.849-.849zm.264 3.5.849.849-2.828 2.828-.849-.849zM13 19v10h-2V19z"})))};function wl(){return wl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wl.apply(null,arguments)}var xl,kl,El=function(e){return i.createElement("svg",wl({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"none"},e),yl||(yl=i.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M45.658 9.45c1.625 0 2.942 1.36 2.942 3.039V22.95h-1.961v-4.383H7.36V41.51c0 .56.44 1.013.98 1.013H27v2.026H8.342c-1.625 0-2.942-1.36-2.942-3.039V12.489c0-1.678 1.317-3.039 2.942-3.039zm0 2.026H8.342c-.542 0-.98.454-.98 1.013v4.052h39.277v-4.052c0-.56-.44-1.013-.98-1.013ZM31.05 35.775A8.77 8.77 0 0 1 39.825 27a8.77 8.77 0 0 1 8.775 8.775 8.77 8.77 0 0 1-8.775 8.775 8.77 8.77 0 0 1-8.775-8.775m12.388-.516h3.097c-.206-2.581-1.858-4.646-4.026-5.678.62 1.548.93 3.613.93 5.678Zm-5.162 2.065c.207 3.303 1.136 4.955 1.549 5.161.413-.206 1.239-1.858 1.445-5.161zm1.446-8.26c-.31.207-1.342 2.272-1.446 6.195h2.994c-.103-3.923-1.135-5.988-1.548-6.194Zm-3.51 6.195c.103-2.065.31-4.13.929-5.678-2.168 1.032-3.82 3.097-4.026 5.678zm0 2.065h-2.89c.515 2.064 1.96 3.82 3.819 4.645-.516-1.342-.826-2.994-.93-4.645Zm7.226 0q-.155 2.632-.929 4.645c1.858-.826 3.304-2.58 3.923-4.645z",clipRule:"evenodd"})))};function Fl(){return Fl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fl.apply(null,arguments)}var Sl,Rl=function(e){return i.createElement("svg",Fl({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"currentcolor"},e),xl||(xl=i.createElement("path",{fillRule:"evenodd",d:"M34.636 21.91A3.818 3.818 0 1 1 27 21.908a3.818 3.818 0 0 1 7.636 0Zm-2 0A1.818 1.818 0 1 1 29 21.908a1.818 1.818 0 0 1 3.636 0Z",clipRule:"evenodd"})),kl||(kl=i.createElement("path",{fillRule:"evenodd",d:"M15 13a2 2 0 0 0-2 2v24a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V15a2 2 0 0 0-2-2zm24 2H15v12.45l4.71-4.709a1.91 1.91 0 0 1 2.702 0l6.695 6.695 2.656-1.77a1.91 1.91 0 0 1 2.411.239L39 32.73zM15 39v-8.754a1 1 0 0 0 .168-.135l5.893-5.893 6.684 6.685a1.91 1.91 0 0 0 2.41.238l2.657-1.77 6.02 6.02q.078.077.168.135V39z",clipRule:"evenodd"})))};function Cl(){return Cl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cl.apply(null,arguments)}var jl,Tl=function(e){return i.createElement("svg",Cl({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 54 54"},e),Sl||(Sl=i.createElement("path",{fill:"currentcolor",fillRule:"evenodd",d:"M42.545 12.273A2.455 2.455 0 0 1 45 14.727v24.546a2.455 2.455 0 0 1-2.455 2.454h-31.09A2.455 2.455 0 0 1 9 39.273V14.727a2.455 2.455 0 0 1 2.455-2.454zM27.818 40.09h14.727a.82.82 0 0 0 .819-.818v-4.91H27.818Zm-1.636-5.727v5.727H11.455a.82.82 0 0 1-.819-.818v-4.91zm1.636-1.637h15.546V27H27.818ZM26.182 27v5.727H10.636V27zm1.636-1.636h15.546v-5.728H27.818Zm-1.636-5.728v5.728H10.636v-5.728z",clipRule:"evenodd"})))};function Al(){return Al=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Al.apply(null,arguments)}var Ll,Il=function(e){return i.createElement("svg",Al({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"none"},e),jl||(jl=i.createElement("path",{fill:"currentcolor",fillRule:"evenodd",d:"M17.55 41.175H27v2.362h-9.45a2.37 2.37 0 0 1-2.363-2.362v-28.35a2.37 2.37 0 0 1 2.363-2.363h11.813a1.07 1.07 0 0 1 .826.355l8.27 8.269a1.07 1.07 0 0 1 .353.826v5.907H36.45v-3.544h-7.088A2.37 2.37 0 0 1 27 19.912v-7.087h-9.45zm18.427-21.263-6.614-6.615v6.615zm4.253 18.664 3.308 3.308-1.654 1.653-3.308-3.307a6.35 6.35 0 0 1-3.307.945c-3.308 0-5.906-2.599-5.906-5.906 0-3.308 2.598-5.907 5.906-5.907s5.906 2.6 5.906 5.907a6.35 6.35 0 0 1-.945 3.307m-4.961-6.851c-2.008 0-3.544 1.536-3.544 3.544s1.536 3.543 3.544 3.543 3.544-1.535 3.544-3.543-1.536-3.544-3.544-3.544",clipRule:"evenodd"})))};function Pl(){return Pl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pl.apply(null,arguments)}var Ol=function(e){return i.createElement("svg",Pl({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"none"},e),Ll||(Ll=i.createElement("path",{fill:"currentcolor",fillRule:"evenodd",d:"M17.55 41.175h6.75v2.363h-6.75a2.37 2.37 0 0 1-2.363-2.363v-28.35a2.37 2.37 0 0 1 2.363-2.362h11.813a1.07 1.07 0 0 1 .826.354l8.27 8.269a1.07 1.07 0 0 1 .353.827v7.256H36.45v-4.894h-7.088A2.37 2.37 0 0 1 27 19.913v-7.088h-9.45zm18.427-21.262-6.614-6.616v6.616zm-2.212 10.564-.015-.001h-.015a8.86 8.86 0 0 0-7.926 5.656l-.003.008a.9.9 0 0 0 0 .62l.003.008a8.85 8.85 0 0 0 7.926 5.655l.015.001h.015a8.86 8.86 0 0 0 7.926-5.656l.003-.008a.9.9 0 0 0 0-.62l-.003-.008a8.85 8.85 0 0 0-7.926-5.655M33.75 40.6c-2.456 0-5.088-1.802-6.107-4.151 1.019-2.349 3.651-4.151 6.107-4.151s5.088 1.802 6.107 4.151c-1.019 2.349-3.65 4.151-6.107 4.151m0-7.593a3.443 3.443 0 1 0 0 6.885 3.443 3.443 0 0 0 0-6.886Zm-.316 1.853a1.62 1.62 0 1 1 .632 3.178 1.62 1.62 0 0 1-.632-3.178",clipRule:"evenodd"})))};const Dl=e=>({button:bo,checkbox:wo,checklist:So,columns:$o,datetime:To,group:$o,iframe:El,image:Rl,number:Jo,expression:fl,radio:Ko,select:Go,separator:Qo,spacer:nl,dynamiclist:ol,taglist:Oo,text:al,html:dl,textfield:vl,textarea:_l,table:Tl,filepicker:Il,documentPreview:Ol,default:Mo}[e]),Vl="image";function Ml(e){const{field:t}=e,{alt:n,id:r,source:i}=t,l=Dl(t.type),s=si(i,{debug:!0}),a=(0,o.Kr)(()=>Fi(s),[s]),c=si(n,{debug:!0}),{formId:u}=(0,o.NT)(Tr);return Z("div",{class:Fr(Vl),children:[a&&Z("div",{class:"fjs-image-container",children:Z("img",{alt:c,src:a,class:"fjs-image",id:Rr(r,u)})}),!a&&Z("div",{class:"fjs-image-placeholder",children:Z("span",{class:"fjs-image-placeholder-inner",children:Z(l,{alt:"This is an image placeholder",width:"32",height:"32",viewBox:"0 0 56 56"})})})]})}function Nl(e){const{pre:t,post:n}=e,r=si(t,{debug:!0}),i=si(n,{debug:!0});return Z(Qi,{...e,pre:r,post:i})}var zl;function $l(){return $l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$l.apply(null,arguments)}Ml.config={type:Vl,keyed:!1,name:"Image view",group:"presentation",create:(e={})=>e,getSubheading:e=>e.alt};var Bl,Hl=function(e){return i.createElement("svg",$l({xmlns:"http://www.w3.org/2000/svg",width:8,height:8},e),zl||(zl=i.createElement("path",{fill:"currentColor",fillRule:"evenodd",stroke:"currentColor",strokeWidth:.5,d:"M7.75 1.336 4 6.125.258 1.335 0 1.54l4 5.125L8 1.54Zm0 0",clipRule:"evenodd"})))};function Jl(){return Jl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jl.apply(null,arguments)}var Ul=function(e){return i.createElement("svg",Jl({xmlns:"http://www.w3.org/2000/svg",width:8,height:8},e),Bl||(Bl=i.createElement("path",{fill:"currentColor",fillRule:"evenodd",stroke:"currentColor",strokeWidth:.5,d:"M7.75 6.664 4 1.875.258 6.665 0 6.46l4-5.125L8 6.46Zm0 0",clipRule:"evenodd"})))};function ql(e){return("number"==typeof e||"string"==typeof e)&&""!==e&&!isNaN(Number(e))}function Kl(e){return null==e||""===e}const Zl="number";function Wl(e){const{disabled:t,errors:n=[],domId:r,onBlur:i,onFocus:l,field:s,value:a,readonly:c}=e,{description:u,label:d,appearance:p={},validate:h={},decimalDigits:f,increment:m}=s,{prefixAdorner:g,suffixAdorner:v}=p,{required:b}=h,y=(0,o.li)(),[_,w]=(0,o.J0)(a),[k,E]=(0,o.J0)(a),F=(0,o.hb)(e=>Wl.config.sanitizeValue({value:e,formField:s}),[s]),[S,R]=oi(e.onChange);ii(a)!==_&&S({field:s,value:_});const C=(0,o.hb)(e=>{if(Kl(e))return E(""),void w(null);if("-"!==(e=e.replaceAll(",","."))){if(isNaN(Number(e)))return E("NaN"),void w(null);E(e),w(F(e))}else E("-")},[F]),j=ii(a)!=a,T=F(a)===F(_);j&&!T&&C(a&&a.toString()||"");const A=(0,o.Kr)(()=>q(m||(f?`1e-${f}`:"1")),[f,m]),L=()=>{if(c)return;const e=ql(_)?q(_):q(0),t=e.minus(e.mod(A));C(t.plus(A).toFixed())},I=()=>{if(c)return;const e=ql(_)?q(_):q(0);if(0===e.mod(A).cmp(0))C(e.minus(A).toFixed());else{const t=e.minus(e.mod(A));C(t.toFixed())}},P=`${r}-description`,O=`${r}-error-message`;return Z("div",{class:Fr(Zl,{errors:n,disabled:t,readonly:c}),children:[Z(Ii,{htmlFor:r,label:d,required:b}),Z(Nl,{disabled:t,readonly:c,pre:g,post:v,children:Z("div",{class:x()("fjs-vertical-group",{"fjs-disabled":t,"fjs-readonly":c},{hasErrors:n.length}),children:[Z("input",{ref:y,class:"fjs-input",disabled:t,readOnly:c,id:r,onKeyDown:e=>"NaN"!==k||"Backspace"!==e.code&&"Delete"!==e.code?"ArrowUp"===e.code?(L(),void e.preventDefault()):"ArrowDown"===e.code?(I(),void e.preventDefault()):void("Enter"===e.code&&R&&R()):(C(""),void e.preventDefault()),onKeyPress:e=>{const t=y.current.selectionStart,n=y.current.selectionStart-y.current.selectionEnd,r=y.current.value;(function(e,t,n,r,i){if("NaN"===t)return!1;const o=!(t=t.replace(",",".")).includes(".")&&("."===e||","===e),l=!t.includes("-")&&"-"===e&&0===n,s=/^[0-9]$/i.test(e),a=void 0===t?-1:t.indexOf("."),c="number"==typeof i&&0===r&&-1!==a&&t.includes(".")&&t.split(".")[1].length>=i&&n>a;return(s||0!==i&&o||l)&&!c})(e.key,r,t,n,f)||e.preventDefault()},onBlur:()=>{R&&R(),i&&i()},onFocus:()=>{l&&l()},onInput:e=>C(e.target.value,!0),onPaste:e=>"NaN"===k&&e.preventDefault(),type:"text",autoComplete:"off",step:A,value:k,"aria-describedby":[P,O].join(" "),required:b,"aria-invalid":n.length>0}),Z("div",{class:x()("fjs-number-arrow-container",{"fjs-disabled":t,"fjs-readonly":c}),children:[Z("button",{type:"button",class:"fjs-number-arrow-up","aria-label":"Increment",onClick:()=>L(),tabIndex:-1,children:Z(Ul,{})}),Z("div",{class:"fjs-number-arrow-separator"}),Z("button",{type:"button",class:"fjs-number-arrow-down","aria-label":"Decrement",onClick:()=>I(),tabIndex:-1,children:Z(Hl,{})})]})]})}),Z(Ai,{id:P,description:u}),Z(Li,{id:O,errors:n})]})}Wl.config={type:Zl,keyed:!0,name:"Number",group:"basic-input",emptyValue:null,sanitizeValue:({value:e,formField:t})=>Kl(e)||!ql(e)?null:t.serializeToString?e.toString():Number(e),create:(e={})=>({label:"Number",...e})};const Gl="radio";function Yl(e){const{disabled:t,errors:n=[],domId:r,onBlur:i,onFocus:l,field:s,readonly:a,value:c}=e,{description:u,label:d,validate:p={}}=s,h=(0,o.li)(),{required:f}=p,m=e=>{h.current.contains(e.relatedTarget)||i&&i()},g=e=>{h.current.contains(e.relatedTarget)||l&&l()},{loadState:v,options:b}=qr(s);Ri({field:s,loadState:v,options:b,value:c,onChange:e.onChange});const y=`${r}-description`,_=`${r}-error-message`;return Z("div",{class:Fr(Gl,{errors:n,disabled:t,readonly:a}),ref:h,children:[Z(Ii,{label:d,required:f}),v==Ur&&b.map((i,o)=>{const l=`${r}-${o}`,s=G()(i.value,c);return Z("div",{className:x()("fjs-inline-label",{"fjs-checked":s}),children:[Z("input",{checked:s,class:"fjs-input",disabled:t,readOnly:a,name:r,id:l,type:"radio",onClick:()=>(t=>{e.onChange({value:t})})(i.value),onBlur:m,onFocus:g,"aria-describedby":[y,_].join(" "),required:f,"aria-invalid":n.length>0}),Z(Ii,{htmlFor:l,label:i.label,class:x()({"fjs-checked":s}),required:!1})]},i.value)}),Z(Ai,{id:y,description:u}),Z(Li,{id:_,errors:n})]})}var Xl;function Ql(){return Ql=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ql.apply(null,arguments)}Yl.config={type:Gl,keyed:!0,name:"Radio group",group:"selection",emptyValue:null,sanitizeValue:ki,create:(e={})=>({label:"Radio group",...Nr(e)})};var es=function(e){return i.createElement("svg",Ql({xmlns:"http://www.w3.org/2000/svg",width:8,height:8},e),Xl||(Xl=i.createElement("path",{fill:"currentColor",fillRule:"evenodd",stroke:"currentColor",strokeWidth:.5,d:"M4 3.766 7.43.336l.234.234L4.234 4l3.43 3.43-.234.234L4 4.234.57 7.664.336 7.43 3.766 4 .336.57.57.336Zm0 0",clipRule:"evenodd"})))};function ts(e){const{domId:t,disabled:n,errors:r,onBlur:l,onFocus:s,field:a,readonly:c,value:u}=e,[d,p]=(0,o.J0)(""),[h,f]=(0,o.J0)(!1),[m,g]=(0,o.J0)(!0),[v,b]=(0,o.J0)(!1),y=(0,o.li)(),_=Ar("eventBus"),{loadState:w,options:k}=qr(a);Ri({field:a,loadState:w,options:k,value:u,onChange:e.onChange});const E=Yr(k),F=(0,o.Kr)(()=>u&&E(u),[u,E]);(0,o.vJ)(()=>{p(F||"")},[F]);const S=(0,o.Kr)(()=>w!==Ur?[]:d&&m?k.filter(e=>e.label&&e.value&&e.label.toLowerCase().includes(d.toLowerCase())):k,[d,w,k,m]),R=(0,o.hb)(t=>{p(t&&t.label||""),e.onChange({value:t&&t.value||null})},[e]),C=(0,o.Kr)(()=>{const e={};return e.componentReady=!n&&!c&&w===Ur,e.displayCross=e.componentReady&&null!=u,e.displayDropdown=!n&&!c&&h&&!v,e},[n,h,v,w,c,u]),j=(0,o.hb)(e=>{b(!1),f(!h);const t=y.current;h?t.blur():t.focus(),e.preventDefault()},[h]),T=(0,o.hb)(e=>{switch(e.key){case"ArrowUp":e.preventDefault();break;case"ArrowDown":h||(f(!0),g(!1)),e.preventDefault();break;case"Escape":b(!0);break;case"Enter":v&&b(!1)}},[h,v]),A=(0,o.hb)(()=>{b(!1),f(!0),g(!1)},[]),L=(0,o.hb)(()=>{b(!1),f(!0),s&&s()},[s]),I=(0,o.hb)(()=>{f(!1),p(F||""),l&&l()},[l,F]);return Z(i.Fragment,{children:[Z("div",{class:x()("fjs-input-group",{disabled:n,readonly:c},{hasErrors:r.length}),children:[Z("input",{disabled:n,readOnly:c,class:"fjs-input",ref:y,id:t,onChange:({target:e})=>{b(!1),f(!0),g(!0),p(e.value||""),_.fire("formField.search",{formField:a,value:e.value||""})},type:"text",value:d,placeholder:"Search",autoComplete:"off",onKeyDown:T,onMouseDown:A,onFocus:L,onBlur:I,"aria-describedby":e["aria-describedby"]}),C.displayCross&&Z("span",{class:"fjs-select-cross",onMouseDown:e=>{R(null),e.preventDefault()},children:[Z(es,{})," "]}),Z("span",{class:"fjs-select-arrow",onMouseDown:e=>j(e),children:C.displayDropdown?Z(Ul,{}):Z(Hl,{})})]}),Z("div",{class:"fjs-select-anchor",children:C.displayDropdown&&Z(oo,{values:S,getLabel:e=>e.label,onValueSelected:e=>{R(e),f(!1)},listenerElement:y.current})})]})}function ns(e){const{domId:t,disabled:n,errors:r,onBlur:l,onFocus:s,field:a,readonly:c,value:u}=e,[d,p]=(0,o.J0)(!1),h=(0,o.li)(),f=(0,o.li)(),{loadState:m,options:g}=qr(a);Ri({field:a,loadState:m,options:g,value:u,onChange:e.onChange});const v=Yr(g),b=(0,o.Kr)(()=>u&&v(u),[u,v]),y=(0,o.hb)(t=>{e.onChange({value:t&&t.value||null})},[e]),_=(0,o.Kr)(()=>{const e={};return e.componentReady=!n&&!c&&m===Ur,e.displayCross=e.componentReady&&null!=u,e.displayDropdown=!n&&!c&&d,e},[n,d,m,c,u]),w=(0,o.hb)(e=>{const t=f.current;!n&&t&&(p(!d),d?t.blur():t.focus(),e.preventDefault())},[n,d]),k=(0,o.Kr)(()=>u&&(0,F.findIndex)(g,e=>e.value===u)||0,[g,u]),E=(0,o.hb)(()=>{c||(p(!0),s&&s())},[s,c]),S=(0,o.hb)(()=>{c||(p(!1),l&&l())},[l,c]);return Z(i.Fragment,{children:[Z("div",{ref:h,class:x()("fjs-input-group",{disabled:n,readonly:c},{hasErrors:r.length}),onFocus:E,onBlur:S,onMouseDown:w,children:[Z("div",{class:x()("fjs-select-display",{"fjs-select-placeholder":!u}),id:`${t}-display`,children:b||"Select"}),!n&&Z("input",{ref:f,id:t,class:"fjs-select-hidden-input",value:b,onFocus:E,onBlur:S,"aria-describedby":e["aria-describedby"]}),_.displayCross&&Z("span",{class:"fjs-select-cross",onMouseDown:e=>{y(null),e.stopPropagation()},children:Z(es,{})}),Z("span",{class:"fjs-select-arrow",children:_.displayDropdown?Z(Ul,{}):Z(Hl,{})})]}),Z("div",{class:"fjs-select-anchor",children:_.displayDropdown&&Z(oo,{values:g,getLabel:e=>e.label,initialFocusIndex:k,onValueSelected:e=>{y(e),p(!1)},listenerElement:h.current})})]})}const rs="select";function is(e){const{disabled:t,errors:n=[],domId:r,onBlur:i,onFocus:o,field:l,onChange:s,readonly:a,value:c}=e,{description:u,label:d,searchable:p=!1,validate:h={}}=l,{required:f}=h,m=`${r}-description`,g=`${r}-error-message`,v={domId:r,disabled:t,errors:n,onBlur:i,onFocus:o,field:l,value:c,onChange:s,readonly:a,required:f,"aria-invalid":n.length>0,"aria-describedby":[m,g].join(" ")};return Z("div",{class:Fr(rs,{errors:n,disabled:t,readonly:a}),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),e.stopPropagation())},children:[Z(Ii,{htmlFor:r,label:d,required:f}),Z(p?ts:ns,{...v}),Z(Ai,{id:m,description:u}),Z(Li,{id:g,errors:n})]})}is.config={type:rs,keyed:!0,name:"Select",group:"selection",emptyValue:null,sanitizeValue:ki,create:(e={})=>({label:"Select",...Nr(e)})};const os="separator";function ls(){return Z("div",{class:Fr(os),children:Z("hr",{})})}ls.config={type:os,keyed:!1,name:"Separator",group:"presentation",create:(e={})=>({...e})};const ss="spacer";function as(e){const{field:t}=e,{height:n=60}=t;return Z("div",{class:Fr(ss),style:{height:n}})}function cs(e){const{field:t,domId:n,readonly:r}=e,{label:i,type:l,showOutline:s}=t,{Empty:a}=(0,o.NT)(Cr),c={...e,Empty:a};return Z("div",{className:x()(Fr(l,{readonly:r}),"fjs-form-field-grouplike",{"fjs-outlined":s}),role:"group","aria-labelledby":n,children:[Z(Ii,{id:n,label:i}),Z($i,{...c})]})}function us(e){const{className:t,label:n,onSkip:r}=e,i=(0,o.hb)(e=>{"Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),r())},[r]);return Z("a",{href:"#",class:x()("fjs-skip-link",t),onKeyDown:i,children:n})}as.config={type:ss,keyed:!1,name:"Spacer",group:"presentation",create:(e={})=>({height:60,...e})},cs.config={type:"dynamiclist",pathed:!0,repeatable:!0,name:"Dynamic list",group:"container",create:(e={})=>({label:"Dynamic list",components:[],showOutline:!0,isRepeating:!0,allowAddRemove:!0,defaultRepetitions:1,...e})};const ds="taglist";function ps(e){const{disabled:t,errors:n=[],onFocus:r,domId:i,onBlur:l,field:s,readonly:a,value:c}=e,{description:u,label:d,validate:p={}}=s,{required:h}=p,[f,m]=(0,o.J0)(""),[g,v]=(0,o.J0)(!1),[b,y]=(0,o.J0)(!1),_=(0,o.li)(),w=(0,o.li)(),k=Ar("eventBus"),{loadState:E,options:F}=qr(s),S=Jr(c||[]);Ci({field:s,loadState:E,options:F,values:S,onChange:e.onChange});const R=Yr(F),C=(0,o.Kr)(()=>F.length>S.length,[F.length,S.length]),j=(0,o.Kr)(()=>E!==Ur?[]:F.filter(e=>e.label.toLowerCase().includes(f.toLowerCase())&&!xi(e.value,S)),[f,F,S,E]),T=t=>{const n=S.filter(e=>!G()(e,t));e.onChange({value:n})},A=e=>{_.current.contains(e.relatedTarget)||l&&l()},L=e=>{_.current.contains(e.relatedTarget)||r&&r()},I=(0,o.Kr)(()=>!t&&E===Ur&&g&&!b,[t,g,b,E]),P=`${i}-description`,O=`${i}-error-message`;return Z("div",{ref:_,class:Fr(ds,{errors:n,disabled:t,readonly:a}),onKeyDown:e=>{"Enter"===e.key&&(e.stopPropagation(),e.preventDefault())},children:[Z(Ii,{label:d,required:h,htmlFor:i}),!t&&!a&&!!S.length&&Z(us,{className:"fjs-taglist-skip-link",label:"Skip to search",onSkip:()=>{w.current.focus()}}),Z("div",{class:x()("fjs-taglist",{"fjs-disabled":t,"fjs-readonly":a}),children:[E===Ur&&Z("div",{class:"fjs-taglist-tags",children:S.map(e=>Z("div",{class:x()("fjs-taglist-tag",{"fjs-disabled":t,"fjs-readonly":a}),onMouseDown:e=>e.preventDefault(),children:[Z("span",{class:"fjs-taglist-tag-label",children:R(e)}),!t&&!a&&Z("button",{type:"button",title:"Remove tag",class:"fjs-taglist-tag-remove",onFocus:L,onBlur:A,onClick:t=>((e,t)=>{const{target:n}=e;T(t),n.closest(".fjs-taglist-tag").nextSibling||w.current.focus()})(t,e),children:Z(es,{})})]},e))}),Z("input",{disabled:t,readOnly:a,class:"fjs-taglist-input",ref:w,id:i,onChange:({target:e})=>{y(!1),m(e.value||""),k.fire("formField.search",{formField:s,value:e.value||""})},type:"text",value:f,placeholder:t||a?void 0:"Search",autoComplete:"off",onKeyDown:e=>{switch(e.key){case"ArrowUp":case"ArrowDown":e.preventDefault();break;case"Backspace":!f&&S.length&&T(S[S.length-1]);break;case"Escape":y(!0);break;case"Enter":b&&y(!1)}},onMouseDown:()=>y(!1),onFocus:e=>{a||v(!0),L(e)},onBlur:e=>{a||(v(!1),m("")),A(e)},"aria-describedby":[P,O].join(" "),required:h,"aria-invalid":n.length>0})]}),Z("div",{class:"fjs-taglist-anchor",children:I&&Z(oo,{values:j,getLabel:e=>e.label,onValueSelected:t=>(t=>{m(""),S.at(-1)!==t&&e.onChange({value:[...S,t]})})(t.value),emptyListMessage:C?"No results":"All values selected",listenerElement:w.current})}),Z(Ai,{id:P,description:u}),Z(Li,{id:O,errors:n})]})}ps.config={type:ds,keyed:!0,name:"Tag list",group:"selection",emptyValue:[],sanitizeValue:Ei,create:(e={})=>({label:"Tag list",...Nr(e)})};const hs=["h1","h2","h3","h4","h5","h6","span","em","a","p","div","ul","ol","li","hr","blockquote","img","pre","code","br","strong","table","thead","tbody","tr","th","td"],fs=["align","alt","class","href","id","name","rel","target","src"],ms=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,gs=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g,vs=document.createElement("form");function bs(e){const t=(new DOMParser).parseFromString(`<!DOCTYPE html>\n<html><body><div>${e}`,"text/html");t.normalize();const n=t.body.firstChild;return n?(ys(n),n.innerHTML):""}function ys(e){if(3===e.nodeType)return;if(1!==e.nodeType)return e.remove();const t=e.tagName.toLowerCase();if(!hs.includes(t))return e.remove();const n=e.attributes;for(let t=n.length;t--;){const r=n[t],i=r.name,o=i.toLowerCase(),l=r.value.trim();e.removeAttribute(i),_s(0,o,l)&&e.setAttribute(i,l)}"a"===t&&"_blank"===e.getAttribute("target")&&"noopener"!==e.getAttribute("rel")&&e.setAttribute("rel","noopener");for(let t=e.childNodes.length;t--;)ys(e.childNodes[t])}function _s(e,t,n){return!(!fs.includes(t)||("id"===t||"name"===t)&&(n in document||n in vs)||"target"===t&&"_blank"!==n||"href"===t&&!ms.test(n.replace(gs,"")))}const ws="text";function xs(e){const t=Ar("form"),{textLinkTarget:n}=t._getState().properties,{field:r,disableLinks:i}=e,{text:l="",strict:s=!1}=r,a=Ar("markdownRenderer"),c=li(l,{debug:!0,strict:s}),u=(0,o.Kr)(()=>a.render(c),[a,c]),d=(0,o.hb)(e=>{const t=bs(e),r=document.createElement("div");return r.innerHTML=t,r.querySelectorAll("a").forEach(e=>{i&&(e.setAttribute("class","fjs-disabled-link"),e.setAttribute("tabIndex","-1")),n&&e.setAttribute("target",n)}),r.innerHTML},[i,n]),p=Wr({html:u,transform:d,sanitize:!1,sanitizeStyleTags:!1});return Z("div",{class:Fr(ws),dangerouslySetInnerHTML:p})}xs.config={type:ws,keyed:!1,name:"Text view",group:"presentation",create:(e={})=>({text:xr,...e}),getSubheading:e=>{!function(e){if("string"!=typeof e)return null;for(const t of e.split("\n")){const e=t.trim();if(""!==e)return e}}(e.text)}};const ks="html";function Es(e){const t=Ar("form"),{textLinkTarget:n}=t._getState().properties,{field:r,disableLinks:i,domId:l}=e,{content:s="",strict:a=!1}=r,c=`${l}-style-scope`,u=li(s,{debug:!0,strict:a,sanitizer:Si}),d=(0,o.hb)(e=>{const t=document.createElement("div");var r;return t.innerHTML=e,t.querySelectorAll("a").forEach(e=>{i&&(e.setAttribute("class","fjs-disabled-link"),e.setAttribute("tabIndex","-1")),n&&e.setAttribute("target",n)}),r=`.${c}`,t.querySelectorAll("style").forEach(e=>{const t=function(e){let t=0,n=0,r=0;const i=[];for(;t<e.length;)"{"===e[t]&&r++,"}"===e[t]&&(r--,0===r&&(i.push(e.substring(n,t+1)),n=t+1)),t++;return i.map(e=>e.trim())}(e.textContent).map(e=>{const{selector:t,styles:n}=function(e){const t=e.indexOf("{");return{selector:e.substring(0,t),styles:e.substring(t)}}(e),i=function(e,t){return e.split(",").map(e=>`${t} ${e.trim()}`).join(", ")}(t,r);return`${i} ${n}`}).join(" ");e.textContent=t}),t.innerHTML},[i,c,n]),p=Wr({html:u,transform:d,sanitize:!0,sanitizeStyleTags:!1});return Z("div",{class:x()(Fr(ks),c),dangerouslySetInnerHTML:p})}function Fs(e){const{field:t,onChange:n,value:r}=e,{computeOn:i,expression:l}=t,s=Jr(Hr(l)),a=Ar("eventBus"),c=Ar("expressionLoopPreventer"),u=(0,o.hb)(()=>{n&&n({field:t,value:s,shouldNotRecompute:!0})},[t,s,n]);return(0,o.vJ)(()=>{"change"===i&&!G()(s,r)&&c.registerExpressionExecution(this)&&u()}),(0,o.vJ)(()=>{if("presubmit"===i)return a.on("presubmit",u),()=>a.off("presubmit",u)},[i,u,a]),null}Es.config={type:ks,keyed:!1,name:"HTML view",group:"presentation",create:(e={})=>({content:"",...e})},Fs.config={type:"expression",name:"Expression",group:"basic-input",keyed:!0,emptyValue:null,escapeGridRender:!0,create:(e={})=>({computeOn:"change",...e})};const Ss="textfield";function Rs(e){const{disabled:t,errors:n=[],domId:r,onBlur:i,onFocus:o,field:l,readonly:s,value:a=""}=e,{description:c,label:u,appearance:d={},validate:p={}}=l,{prefixAdorner:h,suffixAdorner:f}=d,{required:m}=p,[g,v]=oi(({target:t})=>{e.onChange({value:t.value})}),b=`${r}-description`,y=`${r}-error-message`;return Z("div",{class:Fr(Ss,{errors:n,disabled:t,readonly:s}),children:[Z(Ii,{htmlFor:r,label:u,required:m}),Z(Nl,{disabled:t,readonly:s,pre:h,post:f,children:Z("input",{class:"fjs-input",disabled:t,readOnly:s,id:r,onInput:e=>{g({target:e.target})},onBlur:()=>{v&&v(),i&&i()},onFocus:()=>{o&&o()},onKeyDown:e=>{"Enter"===e.code&&v&&v()},type:"text",value:a,"aria-describedby":[b,y].join(" "),required:m,"aria-invalid":n.length>0})}),Z(Ai,{id:b,description:c}),Z(Li,{id:y,errors:n})]})}Rs.config={type:Ss,keyed:!0,name:"Text field",group:"basic-input",emptyValue:"",sanitizeValue:({value:e})=>(0,F.isArray)(e)||(0,F.isObject)(e)||(0,F.isNil)(e)?"":"string"==typeof e?e.replace(/[\r\n\t]/g," "):String(e),create:(e={})=>({label:"Text field",...e})};const Cs="textarea";function js(e){const{disabled:t,errors:n=[],domId:r,onBlur:i,onFocus:l,field:s,readonly:a,value:c=""}=e,{description:u,label:d,validate:p={}}=s,{required:h}=p,f=(0,o.li)(),[m,g]=oi(({target:t})=>{e.onChange({value:t.value})});(0,o.Nf)(()=>{Ts(f.current)},[c]),(0,o.vJ)(()=>{Ts(f.current)},[]);const v=`${r}-description`,b=`${r}-error-message`;return Z("div",{class:Fr(Cs,{errors:n,disabled:t,readonly:a}),children:[Z(Ii,{htmlFor:r,label:d,required:h}),Z("textarea",{class:"fjs-textarea",disabled:t,readOnly:a,id:r,onInput:e=>{m({target:e.target}),Ts(f.current)},onBlur:()=>{g&&g(),i&&i()},onFocus:()=>{l&&l()},value:c,ref:f,"aria-describedby":[v,b].join(" "),required:h,"aria-invalid":n.length>0}),Z(Ai,{id:v,description:u}),Z(Li,{id:b,errors:n})]})}js.config={type:Cs,keyed:!0,name:"Text area",group:"basic-input",emptyValue:"",sanitizeValue:({value:e})=>(0,F.isArray)(e)||(0,F.isObject)(e)||(0,F.isNil)(e)?"":String(e),create:(e={})=>({label:"Text area",...e})};const Ts=e=>{e.style.height="0px";const t=window.getComputedStyle(e),n=parseInt(t.getPropertyValue("border-top-width"))+parseInt(t.getPropertyValue("padding-top"))+(e.scrollHeight||(()=>{const n=parseInt(t.getPropertyValue("line-height").replace("px",""))||0;return(e.value?e.value.toString().split("\n").length:0)*n})())+parseInt(t.getPropertyValue("padding-bottom"))+parseInt(t.getPropertyValue("border-bottom-width")),r=Math.max(Math.min(n||0,350),75);e.style.height=`${r}px`,e.style.overflow=n>350?"visible":"hidden"};var As;function Ls(){return Ls=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ls.apply(null,arguments)}var Is,Ps=function(e){return i.createElement("svg",Ls({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},e),As||(As=i.createElement("path",{fill:"currentcolor",d:"M24.59 16.59 17 24.17V4h-2v20.17l-7.59-7.58L6 18l10 10 10-10z"})))};function Os(){return Os=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Os.apply(null,arguments)}var Ds,Vs=function(e){return i.createElement("svg",Os({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},e),Is||(Is=i.createElement("path",{fill:"currentcolor",d:"M16 4 6 14l1.41 1.41L15 7.83V28h2V7.83l7.59 7.58L26 14z"})))};function Ms(){return Ms=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ms.apply(null,arguments)}var Ns,zs=function(e){return i.createElement("svg",Ms({xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",viewBox:"0 0 32 32"},e),Ds||(Ds=i.createElement("path",{fill:"currentcolor",d:"m20 24-10-8 10-8z"})))};function $s(){return $s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$s.apply(null,arguments)}var Bs=function(e){return i.createElement("svg",$s({xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",viewBox:"0 0 32 32"},e),Ns||(Ns=i.createElement("path",{fill:"currentcolor",d:"m12 8 10 8-10 8z"})))};const Hs="table";function Js(e){const{field:t}=e,{columns:n=[],columnsExpression:r,dataSource:l="",rowCount:s,id:a,label:c}=t,[u,d]=(0,o.J0)(null),p=function(e,t){const n=Hr(e||"");return Array.isArray(n)&&n.every(Us)?n:t}(r||"",n),h=p.map(({key:e})=>e),f=Hr(l),m=Array.isArray(f)?f.filter(e=>!(0,F.isNil)(e)||"object"!=typeof e):[],g=null===u?m:(v=m,b=u.key,y=u.direction,[...v].sort((e,t)=>(0,F.isObject)(e)&&(0,F.isObject)(t)?"asc"===y?e[b]>t[b]?1:-1:e[b]<t[b]?1:-1:0));var v,b,y;const _=(0,F.isNumber)(s)?function(e,t){return e.reduce((e,n,r)=>(r%t===0?e.push([n]):e[e.length-1].push(n),e),[])}(g,s):[g],[w,k]=(0,o.J0)(0),E=_[w]||[];function S(e){d(t=>null===t||t.key!==e?{key:e,direction:"asc"}:"desc"===t.direction?null:{key:e,direction:"desc"})}return(0,o.vJ)(()=>{k(0)},[s,u]),Z("div",{class:Fr(Hs),children:[Z(Ii,{htmlFor:Rr(a),label:c}),Z("div",{class:x()("fjs-table-middle-container",{"fjs-table-empty":0===p.length}),children:[0===p.length?"Nothing to show.":Z("div",{class:"fjs-table-inner-container",children:Z("table",{class:"fjs-table",id:Rr(a),children:[Z("thead",{class:"fjs-table-head",children:Z("tr",{class:"fjs-table-tr",children:p.map(({key:e,label:t})=>{const n=t||e;return Z("th",{tabIndex:0,class:"fjs-table-th",onClick:()=>{S(e)},onKeyDown:t=>{["Enter","Space"].includes(t.code)&&S(e)},"aria-label":qs(u,e,n),children:Z("span",{class:"fjs-table-th-label",children:[n,null!==u&&u.key===e?Z(i.Fragment,{children:"asc"===u.direction?Z(Vs,{class:"fjs-table-sort-icon-asc"}):Z(Ps,{class:"fjs-table-sort-icon-desc"})}):null]})},e)})})}),0===E.length?Z("tbody",{class:"fjs-table-body",children:Z("tr",{class:"fjs-table-tr",children:Z("td",{class:"fjs-table-td",colSpan:p.length,children:"Nothing to show."})})}):Z("tbody",{class:"fjs-table-body",children:E.map((e,t)=>Z("tr",{class:"fjs-table-tr",children:h.map(t=>{return Z("td",{class:"fjs-table-td",children:(n=e[t],null!==n&&"object"==typeof n?JSON.stringify(n):null==n?"":`${n}`)},t);var n})},t))})]})}),(0,F.isNumber)(s)&&_.length>1&&p.length>0?Z("nav",{class:"fjs-table-nav",children:[Z("span",{class:"fjs-table-nav-label",children:[w+1," of ",_.length]}),Z("button",{type:"button",class:"fjs-table-nav-button",onClick:()=>{k(e=>Math.max(e-1,0))},disabled:0===w,"aria-label":"Previous page",children:Z(zs,{})}),Z("button",{type:"button",class:"fjs-table-nav-button",onClick:()=>{k(e=>Math.min(e+1,_.length-1))},disabled:w>=_.length-1,"aria-label":"Next page",children:Z(Bs,{})})]}):null]})]})}function Us(e){return(0,F.isObject)(e)&&(0,F.isString)(e.label)&&(0,F.isString)(e.key)}function qs(e,t,n){return null===e||e.key!==t?`Click to sort by ${n} descending`:"asc"===e.direction?"Click to remove sorting":`Click to sort by ${n} ascending`}Js.config={type:Hs,keyed:!1,name:"Table",group:"presentation",create:(e={})=>{const{id:t,columnsExpression:n,columns:r,rowCount:i,...o}=e;return(0,F.isDefined)(t)&&(0,F.isNumber)(i)&&(o.rowCount=i),(0,F.isString)(n)?{...o,id:t,columnsExpression:n}:Array.isArray(r)&&r.every(Us)?{...o,id:t,columns:r}:{...o,label:"Table",rowCount:10,columns:[{label:"ID",key:"id"},{label:"Name",key:"name"},{label:"Date",key:"date"}]}},generateInitialDemoData:e=>{const t=[{id:1,name:"John Doe",date:"31.01.2023"},{id:2,name:"Erika Muller",date:"20.02.2023"},{id:3,name:"Dominic Leaf",date:"11.03.2023"}],n=Object.keys(t[0]),{columns:r,id:i,dataSource:o}=e;if(Array.isArray(r)&&0!==r.length&&o===`=${i}`&&r.map(({key:e})=>e).every(e=>n.includes(e)))return t}};const Ks="files::",Zs=new I,Ws=[];function Gs(e){const t=(0,o.li)(null),n=Ar("fileRegistry",!1),{field:r,onChange:i,domId:l,errors:s=[],disabled:a,readonly:c,value:u=""}=e,{label:d,multiple:p=!1,accept:h="",validate:f={}}=r,m=si(h,{debug:!0}),g=function(e){const t=Ar("expressionLanguage"),n=(0,o.NT)(jr);return(0,o.Kr)(()=>{const r=Dr(t,e,n);return"boolean"==typeof r&&r},[t,n,e])}(p),v=`${l}-error-message`,b=null===n?Ws:n.getFiles(u);(0,o.vJ)(()=>{u&&null!==n&&!n.hasKey(u)&&i({value:null})},[n,u,i,b.length]),(0,o.vJ)(()=>{const e=new DataTransfer;b.forEach(t=>e.items.add(t)),t.current.files=e.files},[b]);const y=a||c||null===n;return Z("div",{className:Fr("filepicker",{errors:s,disabled:a,readonly:c}),children:[Z(Ii,{htmlFor:l,label:d,required:f.required}),Z("input",{type:"file",className:"fjs-hidden",ref:t,id:l,name:l,disabled:y,multiple:g||void 0,accept:m||void 0,onChange:e=>{const t=e.target;if((null===t.files||0===t.files.length)&&""!==u)return n.deleteFiles(u),void i({value:null});const r=Array.from(t.files),o=u||Zs.nextPrefixed(Ks);n.setFiles(o,r),i({value:o})},required:f.required}),Z("div",{className:"fjs-filepicker-container",children:[Z("button",{type:"button",disabled:y,readOnly:c,className:"fjs-button fjs-filepicker-button",onClick:()=>{t.current.click()},children:"Browse"}),Z("span",{className:"fjs-form-field-label",children:(_=b,0===_.length?"No files selected":1===_.length?_[0].name:`${_.length} files selected`)})]}),Z(Li,{id:v,errors:s})]});var _}var Ys;function Xs(){return Xs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xs.apply(null,arguments)}Gs.config={type:"filepicker",keyed:!0,label:"File picker",group:"basic-input",emptyValue:null,create:(e={})=>({...e})};var Qs=function(e){return i.createElement("svg",Xs({xmlns:"http://www.w3.org/2000/svg",width:16,height:16},e),Ys||(Ys=i.createElement("path",{fill:"currentColor",d:"M13 12v2H3v-2H2v2a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1v-2zm0-5-.705-.705-3.795 3.79V1h-1v9.085l-3.795-3.79L3 7l5 5z"})),i.createElement("path",{d:"M0 0h16v16H0z",style:{fill:"none"}}))};const ea="documentPreview";function ta(e){const t=Ar("documentEndpointBuilder",!1),{field:n,domId:r}=e,{dataSource:i,maxHeight:o,label:l}=n,s=`${r}-error-message`,a=function(e){const t=Hr(e);return Array.isArray(t)?t.filter(ra):[]}(i||""),c=si(l,{debug:!0});return Z("div",{class:Fr(ea),children:[Z(Ii,{htmlFor:r,label:c}),Z("div",{class:`fjs-${ea}-document-container`,id:r,children:a.map((e,n)=>{const i=sa(()=>t?.buildUrl(e))??e.endpoint;return"string"==typeof(l=i)&&URL.canParse(l)?Z(oa,{documentMetadata:e,endpoint:i,maxHeight:o,domId:`${r}-${n}`},e.documentId):null;var l})}),Z(Li,{id:s,errors:na({dataSource:i})})]})}function na(e){const{dataSource:t}=e;let n=[];return(!(0,F.isString)(t)||t.length<1)&&n.push("Document reference is not defined."),n}function ra(e){return"object"==typeof e&&null!==e&&"documentId"in e&&"metadata"in e&&"object"==typeof e.metadata&&"fileName"in e.metadata}function ia(e){const{url:t,onError:n,errorMessageId:r}=e,[l,s]=(0,o.J0)(null),[a,c]=(0,o.J0)(!1);return(0,o.vJ)(()=>{let e=null;return(async()=>{try{const r=await fetch(t);if(!r.ok)return c(!0),void n();const i=await r.blob();e=URL.createObjectURL(i),s(e)}catch{c(!0),n()}})(),()=>{e&&URL.revokeObjectURL(e)}},[t,n]),Z(i.Fragment,{children:[null!==l?Z("embed",{src:l,type:"application/pdf",class:`fjs-${ea}-pdf-viewer`}):null,a?Z(Li,{id:r,errors:["Unable to download document"]}):null]})}function oa(e){const{documentMetadata:t,endpoint:n,maxHeight:r,domId:i}=e,{metadata:l}=t,[s,a]=(0,o.J0)(!1),c=(0,o.li)(null),u=function(e){const[t,n]=(0,o.J0)(!1);return(0,o.vJ)(()=>{const t=e.current;if(!t)return;const r=new IntersectionObserver(([e])=>{e.isIntersecting&&n(!0)},{threshold:0});return r.observe(t),()=>{t&&r.unobserve(t)}},[e]),t}(c),d=`fjs-${ea}-single-document-container`,p=`${i}-error-message`,h="Unable to download document",f="string"==typeof l.contentType;return f&&l.contentType.toLowerCase().startsWith("image/")&&u?Z("div",{class:d,style:{maxHeight:r},"aria-describedby":s?p:void 0,children:[Z("img",{src:n,alt:l.fileName,class:`fjs-${ea}-image`}),Z(la,{endpoint:n,fileName:l.fileName,onDownloadError:()=>{a(!0)}}),s?Z(Li,{id:p,errors:[h]}):null]}):f&&"application/pdf"===l.contentType.toLowerCase()&&u?Z("div",{class:d,style:{maxHeight:r},"aria-describedby":s?p:void 0,children:Z(ia,{url:n,fileName:l.fileName,onError:()=>a(!0),errorMessageId:p})}):Z("div",{class:x()(`fjs-${ea}-non-preview-item`,`fjs-${ea}-single-document-container`),ref:c,"aria-describedby":s?p:void 0,children:[Z("div",{children:[Z("div",{class:"fjs-document-preview-title",children:l.fileName}),s?Z(Li,{id:p,errors:[h]}):null]}),Z(la,{endpoint:n,fileName:l.fileName,onDownloadError:()=>{a(!0)}})]})}function la(e){const{endpoint:t,fileName:n,onDownloadError:r}=e;return Z("button",{type:"button",onClick:async()=>{try{const e=await fetch(t);if(!e.ok)return void r();const i=await e.blob(),o=window.URL.createObjectURL(i),l=document.createElement("a");l.href=o,l.download=n,l.click(),window.URL.revokeObjectURL(o)}catch{r()}},class:x()(`fjs-${ea}-download-button`),"aria-label":`Download ${n}`,children:Z(Qs,{})})}ta.config={type:ea,keyed:!1,group:"presentation",name:"Document preview",create:(e={})=>({label:"Document preview",...e})};const sa=e=>{try{return e()}catch(e){return console.error(e),null}};function aa(){return Z("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14.02 5.57",width:"53",height:"21",style:"vertical-align:middle",children:[Z("path",{fill:"currentColor",d:"M1.88.92v.14c0 .41-.13.68-.4.8.33.14.46.44.46.86v.33c0 .61-.33.95-.95.95H0V0h.95c.65 0 .93.3.93.92zM.63.57v1.06h.24c.24 0 .38-.1.38-.43V.98c0-.28-.1-.4-.32-.4zm0 1.63v1.22h.36c.2 0 .32-.1.32-.39v-.35c0-.37-.12-.48-.4-.48H.63zM4.18.99v.52c0 .64-.31.98-.94.98h-.3V4h-.62V0h.92c.63 0 .94.35.94.99zM2.94.57v1.35h.3c.2 0 .3-.09.3-.37v-.6c0-.29-.1-.38-.3-.38h-.3zm2.89 2.27L6.25 0h.88v4h-.6V1.12L6.1 3.99h-.6l-.46-2.82v2.82h-.55V0h.87zM8.14 1.1V4h-.56V0h.79L9 2.4V0h.56v4h-.64zm2.49 2.29v.6h-.6v-.6zM12.12 1c0-.63.33-1 .95-1 .61 0 .95.37.95 1v2.04c0 .64-.34 1-.95 1-.62 0-.95-.37-.95-1zm.62 2.08c0 .28.13.39.33.39s.32-.1.32-.4V.98c0-.29-.12-.4-.32-.4s-.33.11-.33.4z"}),Z("path",{fill:"currentColor",d:"M0 4.53h14.02v1.04H0zM11.08 0h.63v.62h-.63zm.63 4V1h-.63v2.98z"})]})}function ca(e){const{open:t}=e;return t?Z("div",{class:"fjs-powered-by-lightbox",style:"z-index: 100; position: fixed; top: 0; left: 0;right: 0; bottom: 0",children:[Z("div",{class:"backdrop",style:"width: 100%; height: 100%; background: rgba(40 40 40 / 20%)",onClick:e.onBackdropClick}),Z("div",{class:"notice",style:"position: absolute; left: 50%; top: 40%; transform: translate(-50%); width: 260px; padding: 10px; background: white; box-shadow: 0  1px 4px rgba(0 0 0 / 30%); font-family: Helvetica, Arial, sans-serif; font-size: 14px; display: flex; line-height: 1.3",children:[Z("a",{href:"https://bpmn.io",target:"_blank",rel:"noopener noreferrer",style:"margin: 15px 20px 15px 10px; align-self: center; color: var(--cds-icon-primary, #404040)",children:Z(aa,{})}),Z("span",{children:["Web-based tooling for BPMN, DMN, and forms powered by"," ",Z("a",{href:"https://bpmn.io",target:"_blank",rel:"noopener noreferrer",children:"bpmn.io"}),"."]})]})]}):null}function ua(e){return Z("div",{class:"fjs-powered-by fjs-form-field",style:"text-align: right",children:Z("a",{href:"https://bpmn.io",target:"_blank",rel:"noopener noreferrer",class:"fjs-powered-by-link",title:"Powered by bpmn.io",style:"color: var(--cds-text-primary, #404040)",onClick:e.onClick,children:Z(aa,{})})})}function da(e){const[t,n]=(0,o.J0)(!1);function r(e){return t=>{t.preventDefault(),n(e)}}return Z(i.Fragment,{children:[me(Z(ca,{open:t,onBackdropClick:r(!1)}),document.body),Z(ua,{onClick:r(!0)})]})}const pa=()=>{};function ha(e){const t=Ar("form"),{schema:n,properties:r}=t._getState(),{ariaLabel:i}=r,{onSubmit:l=pa,onReset:s=pa,onChange:a=pa}=e,c=function(){const{initialData:e,data:t}=Ar("form")._getState(),n=Ar("conditionChecker",!1);return(0,o.Kr)(()=>{const r=n?n.applyConditions(t,t):t;return{...e,...r}},[n,t,e])}(),u=(0,o.Kr)(()=>({data:c,parent:null,this:c,i:[]}),[c]);return Z("form",{class:"fjs-form",onSubmit:e=>{e.preventDefault(),l()},onReset:e=>{e.preventDefault(),s()},"aria-label":i,noValidate:!0,children:[Z(jr.Provider,{value:u,children:Z(zi,{field:n,onChange:a})}),Z(da,{})]})}const fa=[Rs,js,Wl,ao,Fs,Gs,Oi,Vi,Yl,is,ps,xs,Ml,Js,Es,ta,as,ls,co,cs,ho,Ti,Ui];class ma{constructor(){this._formFields={},fa.forEach(e=>{this.register(e.config.type,e)})}register(e,t){this._formFields[e]=t}get(e){return this._formFields[e]}}const ga=["alt","appearance.prefixAdorner","appearance.suffixAdorner","conditional.hide","description","label","source","readonly","text","validate.min","validate.max","validate.minLength","validate.maxLength","valuesExpression","url","dataSource","columnsExpression","expression","multiple","accept","title"],va=["alt","appearance.prefixAdorner","appearance.suffixAdorner","description","label","source","text","content","url","title"];function ba(e,t={}){const{formFields:n=new ma,expressionLanguage:r=new Qn(null),templating:i=new er,inputs:o=!0,outputs:l=!0}=t;if(!e.components)return[];const s=e=>{const t=[];return e.components&&e.components.forEach(e=>{t.push(e),t.push(...s(e))}),t},a=s(e).reduce((e,t)=>{const{valuesKey:n}=t;return o&&(n&&(e=[...e,n]),ga.forEach(n=>{const i=(0,F.get)(t,n.split("."));if(i&&r.isExpression(i)){const t=r.getVariableNames(i,{type:"expression"});e=[...e,...t]}}),va.forEach(n=>{const o=(0,F.get)(t,n.split("."));if(o&&!r.isExpression(o)&&i.isTemplate(o)){const t=i.getVariableNames(o);e=[...e,...t]}})),e.filter(e=>"string"==typeof e)},[]),c=e=>{const t=[],r=n.get(e.type);return r&&r.config.keyed&&e.key?[e.key.split(".")[0]]:r&&r.config.pathed&&e.path?[e.path.split(".")[0]]:(e.components&&e.components.forEach(e=>{t.push(...c(e))}),t)};return(o||l)&&a.push(...c(e)),Array.from(new Set(a))}const ya=(e,t)=>{const n=[];let r=t.get(e);for(;r;)n.push(r.id),r=t.get(r._parent);return n};class _a{constructor(e,t,n){this._formFieldRegistry=e,this._pathRegistry=t,this._eventBus=n}applyConditions(e,t={},n={}){const r=Lr(e),{getFilterPath:i=(e,t)=>this._pathRegistry.getValuePath(e,{indexes:t})}=n,o=(e,n,l=!1)=>{const{indexes:s={},expressionIndexes:a=[],scopeData:c=t,parentScopeData:u=null}=n;this._pathRegistry.executeRecursivelyOnFields(e,({field:e,isClosed:n,isRepeatable:d,context:p})=>{const{conditional:h,components:f,id:m}=e,g=Or({this:c,data:t,i:a,parent:u});if(p.isHidden=l||p.isHidden||h&&this._checkHideCondition(h,g),d&&!p.isHidden){p.preventRecursion=!0;const n=this._pathRegistry.getValuePath(e,{indexes:s}),r=(0,F.get)(t,n);if(!(Array.isArray(r)&&r.length&&Array.isArray(f)&&f.length))return;for(let e=0;e<r.length;e++){const t={indexes:{...s,[m]:e},expressionIndexes:[...a,e+1],scopeData:r[e],parentScopeData:c};f.forEach(e=>{o(e,t,p.isHidden)})}}p.isHidden&&d&&(p.preventRecursion=!0,this._eventBus.fire("conditionChecker.remove",{item:{[e.key]:(0,F.get)(r,i(e,s))}}),this._cleanlyClearDataAtPath(i(e,s),r)),p.isHidden&&n&&(this._eventBus.fire("conditionChecker.remove",{item:{[e.key]:(0,F.get)(r,i(e,s))}}),this._cleanlyClearDataAtPath(i(e,s),r))})},l=this._formFieldRegistry.getForm();if(!l)throw new Error("form field registry has no form");return o(l,{scopeData:t}),r}check(e,t={}){if(!e)return null;if(!(0,F.isString)(e)||!e.startsWith("="))return null;try{const{value:n}=(0,At._K)(e.slice(1),t);return n}catch(e){return this._eventBus.fire("error",{error:e}),null}}_checkHideCondition(e,t){return!!e.hide&&!0===this.check(e.hide,t)}_cleanlyClearDataAtPath(e,t){const n=[...e];let r=!1;do{(0,F.set)(t,n,void 0),n.pop();const e=(0,F.get)(t,n);r=!!n.length&&(this._isEmptyObject(e)||this._isEmptyArray(e))}while(r)}_isEmptyObject(e){return(0,F.isObject)(e)&&!(0,F.values)(e).length}_isEmptyArray(e){return Array.isArray(e)&&(!e.length||e.every(e=>void 0===e))}}_a.$inject=["formFieldRegistry","pathRegistry","eventBus"];const wa={__init__:["expressionLanguage","templating","conditionChecker"],expressionLanguage:["type",Qn],templating:["type",er],conditionChecker:["type",_a]};class xa{constructor(e){this._computedExpressions=[],e.on("field.updated",({shouldNotRecompute:e})=>{e||this.reset()}),e.on("import.done",this.reset.bind(this)),e.on("reset",this.reset.bind(this))}registerExpressionExecution(e){return!this._computedExpressions.includes(e)&&(this._computedExpressions.push(e),!0)}reset(){this._computedExpressions=[]}}xa.$inject=["eventBus"];const ka={__init__:["expressionLoopPreventer"],expressionLoopPreventer:["type",xa]};class Ea{render(e){return qn.parse(e,{gfm:!0,breaks:!0})}}Ea.$inject=[];const Fa={__init__:["markdownRenderer"],markdownRenderer:["type",Ea]};function Sa(e,t){this._handlerMap={},this._stack=[],this._stackIdx=-1,this._currentExecution={actions:[],dirty:[],trigger:null},this._injector=t,this._eventBus=e,this._uid=1,e.on(["diagram.destroy","diagram.clear"],function(){this.clear(!1)},this)}Sa.$inject=["eventBus","injector"],Sa.prototype.execute=function(e,t){if(!e)throw new Error("command required");this._currentExecution.trigger="execute";const n={command:e,context:t};this._pushAction(n),this._internalExecute(n),this._popAction()},Sa.prototype.canExecute=function(e,t){const n={command:e,context:t},r=this._getHandler(e);let i=this._fire(e,"canExecute",n);if(void 0===i){if(!r)return!1;r.canExecute&&(i=r.canExecute(t))}return i},Sa.prototype.clear=function(e){this._stack.length=0,this._stackIdx=-1,!1!==e&&this._fire("changed",{trigger:"clear"})},Sa.prototype.undo=function(){let e,t=this._getUndoAction();if(t){for(this._currentExecution.trigger="undo",this._pushAction(t);t&&(this._internalUndo(t),e=this._getUndoAction(),e&&e.id===t.id);)t=e;this._popAction()}},Sa.prototype.redo=function(){let e,t=this._getRedoAction();if(t){for(this._currentExecution.trigger="redo",this._pushAction(t);t&&(this._internalExecute(t,!0),e=this._getRedoAction(),e&&e.id===t.id);)t=e;this._popAction()}},Sa.prototype.register=function(e,t){this._setHandler(e,t)},Sa.prototype.registerHandler=function(e,t){if(!e||!t)throw new Error("command and handlerCls must be defined");const n=this._injector.instantiate(t);this.register(e,n)},Sa.prototype.canUndo=function(){return!!this._getUndoAction()},Sa.prototype.canRedo=function(){return!!this._getRedoAction()},Sa.prototype._getRedoAction=function(){return this._stack[this._stackIdx+1]},Sa.prototype._getUndoAction=function(){return this._stack[this._stackIdx]},Sa.prototype._internalUndo=function(e){const t=e.command,n=e.context,r=this._getHandler(t);this._atomicDo(()=>{this._fire(t,"revert",e),r.revert&&this._markDirty(r.revert(n)),this._revertedAction(e),this._fire(t,"reverted",e)})},Sa.prototype._fire=function(e,t,n){arguments.length<3&&(n=t,t=null);const r=t?[e+"."+t,t]:[e];let i;n=this._eventBus.createEvent(n);for(const e of r)if(i=this._eventBus.fire("commandStack."+e,n),n.cancelBubble)break;return i},Sa.prototype._createId=function(){return this._uid++},Sa.prototype._atomicDo=function(e){const t=this._currentExecution;t.atomic=!0;try{e()}finally{t.atomic=!1}},Sa.prototype._internalExecute=function(e,t){const n=e.command,r=e.context,i=this._getHandler(n);if(!i)throw new Error("no command handler registered for <"+n+">");this._pushAction(e),t||(this._fire(n,"preExecute",e),i.preExecute&&i.preExecute(r),this._fire(n,"preExecuted",e)),this._atomicDo(()=>{this._fire(n,"execute",e),i.execute&&this._markDirty(i.execute(r)),this._executedAction(e,t),this._fire(n,"executed",e)}),t||(this._fire(n,"postExecute",e),i.postExecute&&i.postExecute(r),this._fire(n,"postExecuted",e)),this._popAction()},Sa.prototype._pushAction=function(e){const t=this._currentExecution,n=t.actions,r=n[0];if(t.atomic)throw new Error("illegal invocation in <execute> or <revert> phase (action: "+e.command+")");e.id||(e.id=r&&r.id||this._createId()),n.push(e)},Sa.prototype._popAction=function(){const e=this._currentExecution,t=e.trigger,n=e.actions,r=e.dirty;n.pop(),n.length||(this._eventBus.fire("elements.changed",{elements:(0,F.uniqueBy)("id",r.reverse())}),r.length=0,this._fire("changed",{trigger:t}),e.trigger=null)},Sa.prototype._markDirty=function(e){const t=this._currentExecution;e&&(e=(0,F.isArray)(e)?e:[e],t.dirty=t.dirty.concat(e))},Sa.prototype._executedAction=function(e,t){const n=++this._stackIdx;t||this._stack.splice(n,this._stack.length,e)},Sa.prototype._revertedAction=function(e){this._stackIdx--},Sa.prototype._getHandler=function(e){return this._handlerMap[e]},Sa.prototype._setHandler=function(e,t){if(!e||!t)throw new Error("command and handler required");if(this._handlerMap[e])throw new Error("overriding handler for command <"+e+">");this._handlerMap[e]=t};var Ra={commandStack:["type",Sa]};class Ca{constructor(e,t){this._form=e,this._validator=t}execute(e){const{field:t,value:n,indexes:r}=e,{errors:i}=this._form._getState();e.oldErrors=Lr(i);const o=this._validator.validateField(t,n),l=(0,F.set)(i,[t.id,...Object.values(r||{})],o.length?o:void 0);this._form._setState({errors:l})}revert(e){this._form._setState({errors:e.oldErrors})}}Ca.$inject=["form","validator"];class ja{constructor(e,t){this._form=e,this._validator=t}execute(e){const{fieldInstance:t,value:n}=e,{id:r,indexes:i}=t,{errors:o}=this._form._getState();e.oldErrors=Lr(o);const l=this._validator.validateFieldInstance(t,n),s=(0,F.set)(o,[r,...Object.values(i||{})],l.length?l:void 0);this._form._setState({errors:s})}revert(e){this._form._setState({errors:e.oldErrors})}}ja.$inject=["form","validator"];class Ta{constructor(e,t){this._commandStack=e,t.on("form.init",()=>{this.registerHandlers()})}registerHandlers(){Object.entries(this.getHandlers()).forEach(([e,t])=>{this._commandStack.registerHandler(e,t)})}getHandlers(){return{"formField.validation.update":Ca,"formFieldInstance.validation.update":ja}}updateFieldValidation(e,t,n){const r={field:e,value:t,indexes:n};this._commandStack.execute("formField.validation.update",r)}updateFieldInstanceValidation(e,t){const n={fieldInstance:e,value:t};this._commandStack.execute("formFieldInstance.validation.update",n)}}Ta.$inject=["commandStack","eventBus"];const Aa={__depends__:[Ra],__init__:["viewerCommands"],viewerCommands:["type",Ta]};var La;function Ia(){return Ia=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ia.apply(null,arguments)}var Pa,Oa=function(e){return i.createElement("svg",Ia({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),La||(La=i.createElement("path",{fill:"currentColor",d:"M2 9h5.5v3.086l-1.293-1.293-.707.707L8 14l2.5-2.5-.707-.707L8.5 12.086V9H14V8H2zm11-7H3a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1m0 3H3V3h10z"})))};function Da(){return Da=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Da.apply(null,arguments)}var Va,Ma,Na=function(e){return i.createElement("svg",Da({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),Pa||(Pa=i.createElement("path",{fill:"currentColor",d:"M13 10H3a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1m0 3H3v-2h10zM8.5 3.914l1.293 1.293.707-.707L8 2 5.5 4.5l.707.707L7.5 3.914V7H2v1h12V7H8.5z"})))};function za(){return za=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},za.apply(null,arguments)}var $a,Ba=function(e){return i.createElement("svg",za({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),Va||(Va=i.createElement("path",{fill:"currentColor",d:"M8 2c3.3 0 6 2.7 6 6s-2.7 6-6 6-6-2.7-6-6 2.7-6 6-6m0-1C4.15 1 1 4.15 1 8s3.15 7 7 7 7-3.15 7-7-3.15-7-7-7"})),Ma||(Ma=i.createElement("path",{fill:"currentColor",d:"M12 7.5H8.5V4h-1v3.5H4v1h3.5V12h1V8.5H12z"})))};function Ha(){return Ha=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ha.apply(null,arguments)}var Ja=function(e){return i.createElement("svg",Ha({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),$a||($a=i.createElement("path",{fill:"currentColor",d:"m12 4.7-.7-.7L8 7.3 4.7 4l-.7.7L7.3 8 4 11.3l.7.7L8 8.7l3.3 3.3.7-.7L8.7 8z"})))};class Ua{constructor(e,t,n,r,i){this._form=e,this._formFields=t,this._formFieldRegistry=n,this._pathRegistry=r,this._eventBus=i,this.Repeater=this.Repeater.bind(this),this.RepeatFooter=this.RepeatFooter.bind(this)}isFieldRepeating(e){if(!e)return!1;const t=this._formFieldRegistry.get(e);return this._formFields.get(t.type).config.repeatable&&t.isRepeating}Repeater(e){const{RowsRenderer:t,indexes:n,useSharedState:r,...l}=e,[s]=r,{data:a}=this._form._getState(),c=e.field,u=this._pathRegistry.getValuePath(c,{indexes:n}),d=(0,F.get)(a,u)||[],p=this._getNonCollapsedItems(c),h=!c.disableCollapse&&d.length>p&&s.isCollapsed,f=c.components&&c.components.length>0,m=c.allowAddRemove&&f,g=t=>{const r=d.slice(),i=r.splice(t,1)[0];this._eventBus.fire("repeatRenderManager.remove",{dataPath:u,index:t,item:i}),e.onChange({field:c,value:r,indexes:n})},v=(0,o.NT)(jr);return Z(i.Fragment,{children:d.map((e,r)=>Z("div",{class:x()({"fjs-repeat-row-collapsed":!!h&&r>=p}),children:Z(qa,{itemIndex:r,itemValue:e,parentExpressionContextInfo:v,repeaterField:c,RowsRenderer:t,indexes:n,onDeleteItem:g,showRemove:m,...l})},r))})}RepeatFooter(e){const t=(0,o.li)(null),{useSharedState:n,indexes:r,field:l,readonly:s,disabled:a}=e,[c,u]=n,{data:d}=this._form._getState(),p=this._pathRegistry.getValuePath(l,{indexes:r}),h=(0,F.get)(d,p)||[],f=this._getNonCollapsedItems(l),m=!l.disableCollapse&&h.length>f,g=m&&c.isCollapsed,v=l.components&&l.components.length>0,b=l.allowAddRemove&&v,y=(0,o.li)(!1);return function(e,t,n,r){const i={align:"bottom",behavior:"auto",offset:20}||ti,l=r||ni;(0,o.vJ)(()=>{if((0,F.some)(l,e=>!e.current)||!e.current)return;for(let e=0;e<l.length;e++)l[e].current=!1;const t=e.current,n=Qr(t);if(!n)return;const r=t.getBoundingClientRect(),o=n.getBoundingClientRect(),{align:s="center",offset:a=0,behavior:c="auto",scrollIfVisible:u=!1}=i;if(!u&&r.top>=o.top&&r.bottom<=o.bottom)return;const d=function(e,t,n){const r=e.getBoundingClientRect(),i=t.getBoundingClientRect();return"top"===n.align?r.top-i.top+t.scrollTop-n.offset:"bottom"===n.align?r.bottom-i.top-t.clientHeight+t.scrollTop+n.offset:"center"===n.align?r.top-i.top-t.clientHeight/2+t.scrollTop+r.height/2+n.offset:0}(t,n,{align:s,offset:a});n.scroll({top:d,behavior:c})},t)}(t,[h.length],0,[y]),Z("div",{className:x()("fjs-repeat-render-footer",{"fjs-remove-allowed":l.allowAddRemove}),children:[b?Z("button",{type:"button",readOnly:s,disabled:a||s,class:"fjs-repeat-render-add",ref:t,onClick:()=>{const t=h.slice(),n=this._form._getInitializedFieldData(this._form._getState().data,{container:l,indexes:{...r,[l.id]:t.length}});t.push(n),y.current=!0,this._eventBus.fire("repeatRenderManager.add",{dataPath:p,index:t.length-1,item:n}),e.onChange({value:t}),u(e=>({...e,isCollapsed:!1}))},children:Z(i.Fragment,{children:[Z(Ba,{})," ","Add new"]})}):null,m?Z("button",{type:"button",class:"fjs-repeat-render-collapse",onClick:()=>{u(e=>({...e,isCollapsed:!g}))},children:Z(i.Fragment,g?{children:[Z(Oa,{})," ",`Expand all (${h.length-1})`]}:{children:[Z(Na,{})," ","Collapse"]})}):null]})}_getNonCollapsedItems(e){const{nonCollapsedItems:t}=e;return t||5}}const qa=e=>{const{itemIndex:t,itemValue:n,parentExpressionContextInfo:r,repeaterField:i,RowsRenderer:l,indexes:s,onDeleteItem:a,showRemove:c,...u}=e,d=(0,o.Kr)(()=>({...u,indexes:{...s||{},[i.id]:t}}),[t,s,i.id,u]),p=(0,o.Kr)(()=>({data:r.data,this:n,parent:Or({...r,data:r.this}),i:[...r.i,t+1]}),[t,r,n]);return c?Z("div",{class:"fjs-repeat-row-container",children:[Z("div",{class:"fjs-repeat-row-rows",children:Z(jr.Provider,{value:p,children:Z(l,{...d})})}),Z("button",{type:"button",class:"fjs-repeat-row-remove","aria-label":`Remove list item ${t+1}`,onClick:()=>a(t),children:Z("div",{class:"fjs-repeat-row-remove-icon-container",children:Z(Ja,{})})})]}):Z(jr.Provider,{value:p,children:Z(l,{...d})})};Ua.$inject=["form","formFields","formFieldRegistry","pathRegistry","eventBus"];const Ka={__init__:["repeatRenderManager"],repeatRenderManager:["type",Ua]};var Za="__fn",Wa=Array.prototype.slice;function Ga(){this._listeners={},this.on("diagram.destroy",1,this._destroy,this)}function Ya(){}Ga.prototype.on=function(e,t,n,r){if(e=(0,F.isArray)(e)?e:[e],(0,F.isFunction)(t)&&(r=n,n=t,t=1e3),!(0,F.isNumber)(t))throw new Error("priority must be a number");var i=n;r&&((i=(0,F.bind)(n,r))[Za]=n[Za]||n);var o=this;e.forEach(function(e){o._addListener(e,{priority:t,callback:i,next:null})})},Ga.prototype.once=function(e,t,n,r){var i=this;if((0,F.isFunction)(t)&&(r=n,n=t,t=1e3),!(0,F.isNumber)(t))throw new Error("priority must be a number");function o(){o.__isTomb=!0;var t=n.apply(r,arguments);return i.off(e,o),t}o[Za]=n,this.on(e,t,o)},Ga.prototype.off=function(e,t){e=(0,F.isArray)(e)?e:[e];var n=this;e.forEach(function(e){n._removeListener(e,t)})},Ga.prototype.createEvent=function(e){var t=new Ya;return t.init(e),t},Ga.prototype.fire=function(e,t){var n,r,i,o;if(o=Wa.call(arguments),"object"==typeof e&&(e=(t=e).type),!e)throw new Error("no event type specified");if(r=this._listeners[e]){n=t instanceof Ya?t:this.createEvent(t),o[0]=n;var l=n.type;e!==l&&(n.type=e);try{i=this._invokeListeners(n,o,r)}finally{e!==l&&(n.type=l)}return void 0===i&&n.defaultPrevented&&(i=!1),i}},Ga.prototype.handleError=function(e){return!1===this.fire("error",{error:e})},Ga.prototype._destroy=function(){this._listeners={}},Ga.prototype._invokeListeners=function(e,t,n){for(var r;n&&!e.cancelBubble;)r=this._invokeListener(e,t,n),n=n.next;return r},Ga.prototype._invokeListener=function(e,t,n){var r;if(n.callback.__isTomb)return r;try{r=function(e,t){return e.apply(null,t)}(n.callback,t),void 0!==r&&(e.returnValue=r,e.stopPropagation()),!1===r&&e.preventDefault()}catch(e){if(!this.handleError(e))throw console.error("unhandled error in event listener",e),e}return r},Ga.prototype._addListener=function(e,t){var n,r=this._getListeners(e);if(r){for(;r;){if(r.priority<t.priority)return t.next=r,void(n?n.next=t:this._setListeners(e,t));n=r,r=r.next}n.next=t}else this._setListeners(e,t)},Ga.prototype._getListeners=function(e){return this._listeners[e]},Ga.prototype._setListeners=function(e,t){this._listeners[e]=t},Ga.prototype._removeListener=function(e,t){var n,r,i,o=this._getListeners(e);if(t)for(;o;)n=o.next,(i=o.callback)!==t&&i[Za]!==t||(r?r.next=n:this._setListeners(e,n)),r=o,o=n;else this._setListeners(e,null)},Ya.prototype.stopPropagation=function(){this.cancelBubble=!0},Ya.prototype.preventDefault=function(){this.defaultPrevented=!0},Ya.prototype.init=function(e){(0,F.assign)(this,e||{})};const Xa=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Qa=/(\+|00)(297|93|244|1264|358|355|376|971|54|374|1684|1268|61|43|994|257|32|229|226|880|359|973|1242|387|590|375|501|1441|591|55|1246|673|975|267|236|1|61|41|56|86|225|237|243|242|682|57|269|238|506|53|5999|61|1345|357|420|49|253|1767|45|1809|1829|1849|213|593|20|291|212|34|372|251|358|679|500|33|298|691|241|44|995|44|233|350|224|590|220|245|240|30|1473|299|502|594|1671|592|852|504|385|509|36|62|44|91|246|353|98|964|354|972|39|1876|44|962|81|76|77|254|996|855|686|1869|82|383|965|856|961|231|218|1758|423|94|266|370|352|371|853|590|212|377|373|261|960|52|692|389|223|356|95|382|976|1670|258|222|1664|596|230|265|60|262|264|687|227|672|234|505|683|31|47|977|674|64|968|92|507|64|51|63|680|675|48|1787|1939|850|351|595|970|689|974|262|40|7|250|966|249|221|65|500|4779|677|232|503|378|252|508|381|211|239|597|421|386|46|268|1721|248|963|1649|235|228|66|992|690|993|670|676|1868|216|90|688|886|255|256|380|598|1|998|3906698|379|1784|58|1284|1340|84|678|681|685|967|27|260|263)(9[976]\d|8[987530]\d|6[987]\d|5[90]\d|42\d|3[875]\d|2[98654321]\d|9[8543210]|8[6421]|6[6543210]|5[87654321]|4[987654310]|3[9643210]|2[70]|7|1)\d{4,20}$/,ec=["min","max","minLength","maxLength"];class tc{constructor(e,t,n,r){this._expressionLanguage=e,this._conditionChecker=t,this._form=n,this._formFieldRegistry=r}validateField(e,t){const{type:n,validate:r}=e;let i=[];if("number"===n&&(i=[...i,...nc(e,t)]),!r)return i;const o=function(e,t,n,r){const i={...e};return ec.forEach(e=>{const o=e.split("."),l=(0,F.get)(i,o);if(!t||!t.isExpression(l))return l;const{initialData:s,data:a}=r._getState(),c={...s,...n?n.applyConditions(a,a):a},u=t.evaluate(l,c);u&&(0,F.set)(i,o,u)}),i}(r,this._expressionLanguage,this._conditionChecker,this._form);return i=[...i,...rc(e,o,t)],i}validateFieldInstance(e,t){const{id:n,expressionContextInfo:r}=e,i=this._formFieldRegistry.get(n);if(!i)return[];const{type:o,validate:l}=i;let s=[];if("number"===o&&(s=[...s,...nc(i,t)]),!l)return s;const a=function(e,t,n){const r={...e};return ec.forEach(e=>{const i=e.split("."),o=(0,F.get)(r,i),l=Dr(t,o,n);(0,F.set)(r,i,null===l?void 0:l)}),r}(l,this._expressionLanguage,r);return s=[...s,...rc(i,a,t)],s}}function nc(e,t){const{decimalDigits:n,increment:r}=e,i=[];if("NaN"===t)i.push("Value is not a number.");else if(t&&(n>=0&&function(e){const t=q(e);return t.toString()===t.toFixed(0)?0:t.toFixed().split(".")[1].length||0}(t)>n&&i.push("Value is expected to "+(0===n?"be an integer":`have at most ${n} decimal digit${n>1?"s":""}`)+"."),r)){const e=q(t),n=q(r),o=e.mod(n);if(0!==o.cmp(0)){const t=e.minus(o),r=t.plus(n);i.push(`Please select a valid value, the two nearest valid values are ${t} and ${r}.`)}}return i}function rc(e,t,n){const r=[];if(t.pattern&&n&&!new RegExp(t.pattern).test(n)&&r.push(t.patternErrorMessage||`Field must match pattern ${t.pattern}.`),t.required){const t="checkbox"===e.type&&!1===n,i=(0,F.isNil)(n)||""===n,o=Array.isArray(n)&&0===n.length;(t||i||o)&&r.push("Field is required.")}return"min"in t&&(n||0===n)&&n<t.min&&r.push(`Field must have minimum value of ${t.min}.`),"max"in t&&(n||0===n)&&n>t.max&&r.push(`Field must have maximum value of ${t.max}.`),"minLength"in t&&n&&n.trim().length<t.minLength&&r.push(`Field must have minimum length of ${t.minLength}.`),"maxLength"in t&&n&&n.trim().length>t.maxLength&&r.push(`Field must have maximum length of ${t.maxLength}.`),"validationType"in t&&n&&"phone"===t.validationType&&!Qa.test(n)&&r.push("Field must be a valid  international phone number. (e.g. +4930664040900)"),"validationType"in t&&n&&"email"===t.validationType&&!Xa.test(n)&&r.push("Field must be a valid email."),r}tc.$inject=["expressionLanguage","conditionChecker","form","formFieldRegistry"];class ic{constructor(e,t,n,r){this._formFieldRegistry=e,this._pathRegistry=t,this._fieldFactory=n,this._formLayouter=r}importSchema(e){const t=[];try{this._cleanup();const n=this.importFormField(Lr(e));return this._formLayouter.calculateLayout(Lr(n)),{schema:n,warnings:t}}catch(e){throw this._cleanup(),e.warnings=t,e}}_cleanup(){this._formLayouter.clear(),this._formFieldRegistry.clear(),this._pathRegistry.clear()}importFormField(e,t,n){const{components:r}=e;let i,o;t&&(i=this._formFieldRegistry.get(t)),o=i?[...i._path,"components",n]:[];const l=this._fieldFactory.create({...e,_path:o,_parent:t},!1);return this._formFieldRegistry.add(l),r&&(l.components=this.importFormFields(r,l.id)),l}importFormFields(e,t){return e.map((e,n)=>this.importFormField(e,t,n))}}ic.$inject=["formFieldRegistry","pathRegistry","fieldFactory","formLayouter"];class oc{constructor(e,t,n){this._formFieldRegistry=e,this._pathRegistry=t,this._formFields=n}create(e,t=!0){const{id:n,type:r,key:i,path:o,_parent:l}=e,s=this._formFields.get(r);if(!s)throw new Error(`form field of type <${r}> not supported`);const{config:a}=s;if(!a)throw new Error(`form field of type <${r}> has no config`);if(n&&this._formFieldRegistry._ids.assigned(n))throw new Error(`form field with id <${n}> already exists`);const c=l&&this._formFieldRegistry.get(l),u=c&&this._pathRegistry.getValuePath(c)||[],d=ya(l,this._formFieldRegistry);if(a.keyed&&i&&!this._pathRegistry.canClaimPath([...u,...i.split(".")],{isClosed:!0,knownAncestorIds:d}))throw new Error(`binding path '${[...u,i].join(".")}' is already claimed`);if(a.pathed&&o&&!this._pathRegistry.canClaimPath([...u,...o.split(".")],{isRepeatable:a.repeatable,knownAncestorIds:d}))throw new Error(`binding path '${[...u,...o.split(".")].join(".")}' is already claimed`);const p=a.create({...a.label?{label:a.label}:{},...e},t);return this._ensureId(p),a.keyed&&(this._ensureKey(p),this._pathRegistry.claimPath(this._pathRegistry.getValuePath(p),{isClosed:!0,claimerId:p.id,knownAncestorIds:ya(l,this._formFieldRegistry)})),a.pathed&&(a.repeatable&&this._enforceDefaultPath(p),this._pathRegistry.claimPath(this._pathRegistry.getValuePath(p),{isRepeatable:a.repeatable,claimerId:p.id,knownAncestorIds:ya(l,this._formFieldRegistry)})),p}_ensureId(e){if(e.id)return void this._formFieldRegistry._ids.claim(e.id,e);let t="Field";"default"===e.type&&(t="Form"),e.id=this._formFieldRegistry._ids.nextPrefixed(`${t}_`,e)}_ensureKey(e){e.key||(e.key=this._getUniqueKeyPath(e))}_enforceDefaultPath(e){e.path||(e.path=this._getUniqueKeyPath(e))}_getUniqueKeyPath(e){let t;const n=this._formFieldRegistry.get(e._parent);do{t=Math.random().toString(36).substring(7)}while(n&&n.components.some(e=>e.key===t));return`${e.type}_${t}`}}oc.$inject=["formFieldRegistry","pathRegistry","formFields"];class lc{constructor(e,t,n){this._formFieldRegistry=e,this._formFields=t,this._injector=n,this._dataPaths=[]}canClaimPath(e,t={}){const{isClosed:n=!1,isRepeatable:r=!1,skipAncestryCheck:i=!1,claimerId:o=null,knownAncestorIds:l=[]}=t;let s={children:this._dataPaths};for(const t of e){if(s=sc(s,t),!s)return!0;if(s.isRepeatable&&!i){if(!o&&!l.length)throw new Error("cannot claim a path that contains a repeater without specifying a claimerId or knownAncestorIds");if(!(l.includes(s.repeaterId)||o&&ya(o,this._formFieldRegistry).includes(s.repeaterId)))return!1}if(null===s.children)return!1}return!(n||r)}claimPath(e,t={}){const{isClosed:n=!1,isRepeatable:r=!1,claimerId:i=null,knownAncestorIds:o=[]}=t;if(!this.canClaimPath(e,{isClosed:n,isRepeatable:r,claimerId:i,knownAncestorIds:o}))throw new Error(`cannot claim path '${e.join(".")}'`);let l={children:this._dataPaths};for(const t of e){let e=sc(l,t);e?e.claimCount++:(e={segment:t,claimCount:1,children:[]},l.children.push(e)),l=e}n&&(l.children=null),r&&(l.isRepeatable=!0,l.repeaterId=i)}unclaimPath(e){let t={children:this._dataPaths};for(const n of e){const r=sc(t,n);if(!r)throw new Error(`no open path found for '${e.join(".")}'`);t=r}t={children:this._dataPaths};for(const n of e){const e=sc(t,n);if(e.claimCount--,0===e.claimCount){t.children.splice(t.children.indexOf(e),1);break}t=e}}executeRecursivelyOnFields(e,t,n={}){let r=!0;const i=this._formFields.get(e.type).config;if(i.keyed){const i=t({field:e,isClosed:!0,isRepeatable:!1,context:n});return r&&i}if(i.pathed){const o=t({field:e,isClosed:!1,isRepeatable:i.repeatable,context:n});r=r&&o}if(!1===r||n.preventRecursion)return r;if(Array.isArray(e.components))for(const i of e.components){const e=this.executeRecursivelyOnFields(i,t,Lr(n));if(r=r&&e,!1===r)return r}return r}getValuePath(e,t={}){const{replacements:n={},indexes:r=null,cutoffNode:i=null}=t;let o=[];const l=Object.prototype.hasOwnProperty.call(n,e.id),s=this._formFields.get(e.type).config;if(l){const t=n[e.id];if(null==t||""===t)o=[];else if("string"==typeof t)o=t.split(".");else{if(!Array.isArray(t))throw new Error(`replacements for field ${e.id} must be a string, array or null/undefined`);o=t}}else s.keyed?o=e.key.split("."):s.pathed&&e.path&&(o=e.path.split("."));if(r&&(o=this._addIndexes(o,e,r)),e._parent&&e._parent!==i){const n=this._formFieldRegistry.get(e._parent);return[...this.getValuePath(n,t)||[],...o]}return o}clear(){this._dataPaths=[]}_addIndexes(e,t,n){const r=this._injector.get("repeatRenderManager",!1);return r&&r.isFieldRepeating(t._parent)?[n[t._parent],...e]:e}}const sc=(e,t)=>(0,F.isArray)(e.children)&&e.children.find(e=>e.segment===t)||null;lc.$inject=["formFieldRegistry","formFields","injector"];class ac{constructor(e){this._rows=[],this._ids=new I([32,36,1]),this._eventBus=e}addRow(e,t){let n=this._rows.find(t=>t.formFieldId===e);n||(n={formFieldId:e,rows:[]},this._rows.push(n)),n.rows.push(t)}getRow(e){return cc(this._rows).find(t=>t.id===e)}getRowForField(e){return cc(this._rows).find(t=>{const{components:n}=t;return n.includes(e.id)})}getRows(e){const t=this._rows.find(t=>e===t.formFieldId);return t?t.rows:[]}nextRowId(){return this._ids.nextPrefixed("Row_")}calculateLayout(e){const{type:t,components:n}=e;if(!["default","group","dynamiclist"].includes(t)||!n)return;const r=function(e,t){return(0,F.groupBy)(e,e=>{const{layout:n}=e;return n&&n.row?n.row:t.nextPrefixed("Row_")})}(n,this._ids);Object.entries(r).forEach(([t,n])=>{this.addRow(e.id,{id:t,components:n.map(e=>e.id)})}),n.forEach(e=>this.calculateLayout(e)),this._eventBus.fire("form.layoutCalculated",{rows:this._rows})}clear(){this._rows=[],this._ids.clear(),this._eventBus.fire("form.layoutCleared")}}function cc(e){return e.map(e=>e.rows).flat()}ac.$inject=["eventBus"];class uc{constructor(e){this._eventBus=e,this._formFields={},e.on("form.clear",()=>this.clear()),this._ids=new I([32,36,1])}add(e){const{id:t}=e;if(this._formFields[t])throw new Error(`form field with ID ${t} already exists`);this._eventBus.fire("formField.add",{formField:e}),this._formFields[t]=e}remove(e){const{id:t}=e;this._formFields[t]&&(this._eventBus.fire("formField.remove",{formField:e}),delete this._formFields[t])}get(e){return this._formFields[e]}getAll(){return Object.values(this._formFields)}getForm(){return this.getAll().find(e=>"default"===e.type)}forEach(e){this.getAll().forEach(t=>e(t))}clear(){this._formFields={},this._ids.clear()}}uc.$inject=["eventBus"];class dc{constructor(e,t,n){this._eventBus=e,this._formFieldRegistry=t,this._formFields=n,this._formFieldInstances={},e.on("form.clear",()=>this.clear())}syncInstance(e,t){const{hidden:n,...r}=t,i=!n,o=this._formFieldInstances[e];return i&&!o?(this._formFieldInstances[e]={instanceId:e,...r},this._eventBus.fire("formFieldInstance.added",{instanceId:e})):!i&&o?(delete this._formFieldInstances[e],this._eventBus.fire("formFieldInstance.removed",{instanceId:e})):i&&o&&Object.keys(r).some(t=>this._formFieldInstances[e][t]!==r[t])&&(this._formFieldInstances[e]={instanceId:e,...r},this._eventBus.fire("formFieldInstance.changed",{instanceId:e})),e}cleanupInstance(e){this._formFieldInstances[e]&&(delete this._formFieldInstances[e],this._eventBus.fire("formFieldInstance.removed",{instanceId:e}))}get(e){return this._formFieldInstances[e]}getAll(){return Object.values(this._formFieldInstances)}getAllKeyed(){return this.getAll().filter(({id:e})=>{const t=this._formFieldRegistry.get(e);if(!t)return!1;const{type:n}=t,{config:r}=this._formFields.get(n);return r.keyed})}clear(){this._formFieldInstances={}}}function pc(e,t,n,r){const l=()=>{const[e,i]=(0,o.J0)(n._getState()),l={getService:(e,t=!0)=>r.get(e,t),formId:n._id};t.on("changed",e=>{i(e)});const s=(0,o.hb)(e=>n._update(e),[]),{properties:a}=e,{readOnly:c}=a,u=(0,o.hb)(()=>{c||n.submit()},[c]),d=(0,o.hb)(()=>n.reset(),[]),{schema:p}=e;return p?Z(Tr.Provider,{value:l,children:Z(ha,{onChange:s,onSubmit:u,onReset:d})}):null},{container:s}=e;t.on("form.init",()=>{(0,i.render)(Z(l,{}),s)}),t.on("form.destroy",()=>{(0,i.render)(null,s)})}dc.$inject=["eventBus","formFieldRegistry","formFields"],pc.$inject=["config.renderer","eventBus","form","injector"];const hc=e=>{const t=[];return null===e||Object.values(e).forEach(e=>{null!==e&&("object"==typeof e?t.push(...hc(e)):Array.isArray(e)?t.push(...e.map(hc).flat()):"string"==typeof e&&e.startsWith(Ks)&&t.push(e))}),t},fc=Symbol("fileRegistry"),mc=Symbol("eventBus"),gc=Symbol("formFieldRegistry"),vc=Symbol("formFieldInstanceRegistry"),bc=[];class yc{constructor(e,t,n){this[fc]=new Map,this[mc]=e,this[gc]=t,this[vc]=n;const r=({item:e})=>{hc(e).forEach(e=>{this.deleteFiles(e)})};e.on("form.clear",()=>this.clear()),e.on("conditionChecker.remove",r),e.on("repeatRenderManager.remove",r)}setFiles(e,t){this[fc].set(e,t)}getFiles(e){return this[fc].get(e)||bc}getKeys(){return Array.from(this[fc].keys())}hasKey(e){return this[fc].has(e)}deleteFiles(e){this[fc].delete(e)}getAllFiles(){return new Map(this[fc])}clear(){this[fc].clear()}}yc.$inject=["eventBus","formFieldRegistry","formFieldInstanceRegistry"];const _c={__depends__:[{__init__:["formFields","renderer"],formFields:["type",ma],renderer:["type",pc],fileRegistry:["type",yc]}],eventBus:["type",Ga],importer:["type",ic],fieldFactory:["type",oc],formFieldRegistry:["type",uc],formFieldInstanceRegistry:["type",dc],pathRegistry:["type",lc],formLayouter:["type",ac],validator:["type",tc]},wc=new I([32,36,1]);class xc{constructor(e={}){this.on=this._onEvent,this._id=wc.next(),this._container=Er();const{container:t,injector:n=this._createInjector(e,this._container),properties:r={}}=e;this._state={initialData:null,data:null,properties:r,errors:{},schema:null},this.get=n.get,this.invoke=n.invoke,this.get("eventBus").fire("form.init"),t&&this.attachTo(t)}clear(){this._emit("diagram.clear"),this._emit("form.clear")}destroy(){this.get("eventBus").fire("form.destroy"),this.get("eventBus").fire("diagram.destroy"),this._detach(!1)}importSchema(e,t={}){return new Promise((n,r)=>{try{this.clear();const{schema:r,warnings:i}=this.get("importer").importSchema(e),o=this._getInitializedFieldData(Lr(t));return this._setState({data:o,errors:{},schema:r,initialData:Lr(o)}),this._emit("import.done",{warnings:i}),n({warnings:i})}catch(e){return this._emit("import.done",{error:e,warnings:e.warnings||[]}),r(e)}})}submit(){const{properties:e}=this._getState();if(e.readOnly||e.disabled)throw new Error("form is read-only");this._emit("presubmit");const t={data:this._getSubmitData(),errors:this.validate(),files:this.get("fileRegistry").getAllFiles()};return this._emit("submit",t),t}reset(){this._emit("reset"),this._setState({data:Lr(this._state.initialData),errors:{}})}validate(){const e=this.get("formFieldRegistry"),t=this.get("formFieldInstanceRegistry"),n=this.get("validator"),{data:r}=this._getState(),i={};return t.getAllKeyed().forEach(t=>{const{id:o,valuePath:l,indexes:s}=t,a=e.get(o);if(a.disabled)return;const c=(0,F.get)(r,l),u=n.validateFieldInstance(t,c);u.length&&(0,F.set)(i,((e,t)=>[e,...Object.values(t||{})])(a.id,s),u)}),this._setState({errors:i}),i}attachTo(e){if(!e)throw new Error("parentNode required");this.detach(),(0,F.isString)(e)&&(e=document.querySelector(e));const t=this._container;e.appendChild(t),this._emit("attach")}detach(){this._detach()}_detach(e=!0){const t=this._container,n=t.parentNode;n&&(e&&this._emit("detach"),n.removeChild(t))}setProperty(e,t){const n=(0,F.set)(this._getState().properties,[e],t);this._setState({properties:n})}off(e,t){this.get("eventBus").off(e,t)}_createInjector(e,t){const{modules:n=this._getModules(),additionalModules:r=[],...i}=e;return kr([{config:["value",{...i,renderer:{container:t}}]},{form:["value",this]},_c,...n,...r])}_emit(e,t){this.get("eventBus").fire(e,t)}_update(e){const{fieldInstance:t,value:n}=e,{id:r,valuePath:i,indexes:o}=t,{data:l,errors:s}=this._getState(),a=this.get("validator").validateFieldInstance(t,n);(0,F.set)(l,i,n),(0,F.set)(s,[r,...Object.values(o||{})],a.length?a:void 0),this._emit("field.updated",e),this._setState({data:Lr(l),errors:Lr(s)})}_getState(){return this._state}_setState(e){this._state={...this._state,...e},this._emit("changed",this._getState())}_getModules(){return[wa,ka,Fa,Aa,Ka]}_onEvent(e,t,n){this.get("eventBus").on(e,t,n)}_getSubmitData(){const e=this.get("formFieldRegistry"),t=this.get("formFieldInstanceRegistry"),n=this._getState().data,r={};return t.getAllKeyed().forEach(t=>{const{id:i,valuePath:o}=t,{disabled:l}=e.get(i);if(l)return;const s=(0,F.get)(n,o);(0,F.set)(r,o,s)}),r}_getInitializedFieldData(e,t={}){const n=this.get("formFieldRegistry"),r=this.get("formFields"),i=this.get("pathRegistry"),o=t.container||n.getForm(),l=t.indexes||{},s=i.getValuePath(o,{indexes:l})||[],a=(0,F.isUndefined)(l[o.id])?s:[...s,l[o.id]],c=Lr(e);return function t(n,o,l){const{defaultValue:s,type:a,isRepeating:c}=o,{config:u}=r.get(a),d=i.getValuePath(o,{indexes:l});let p=(0,F.get)(e,d);if(u.keyed){!(0,F.isUndefined)(p)&&u.sanitizeValue&&(p=u.sanitizeValue({formField:o,data:e,value:p}));const t=(0,F.isUndefined)(p)?(0,F.isUndefined)(s)?u.emptyValue:s:p;(0,F.set)(n,d,t)}if(Array.isArray(o.components))return u.repeatable&&c?(p&&Array.isArray(p)||(p=new Array((0,F.isUndefined)(o.defaultRepetitions)?1:o.defaultRepetitions).fill().map(e=>({}))||[]),p=p.map(e=>(0,F.isObject)(e)?e:{}),(0,F.set)(n,d,p),(0,F.isUndefined)(l[o.id])?void p.forEach((e,r)=>{o.components.forEach(e=>t(n,e,{...l,[o.id]:r}))}):void o.components.forEach(e=>t(n,e,{...l}))):void o.components.forEach(e=>t(n,e,l))}(c,o,l),(0,F.get)(c,a,{})}}function kc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ec,Fc={exports:{}},Sc=function(){if(Ec)return Fc.exports;Ec=1;var e=Fc.exports=function(t,n){if(n||(n=16),void 0===t&&(t=128),t<=0)return"0";for(var r=Math.log(Math.pow(2,t))/Math.log(n),i=2;r===1/0;i*=2)r=Math.log(Math.pow(2,t/i))/Math.log(n)*i;var o=r-Math.floor(r),l="";for(i=0;i<Math.floor(r);i++)l=Math.floor(Math.random()*n).toString(n)+l;if(o){var s=Math.pow(n,o);l=Math.floor(Math.random()*s).toString(n)+l}var a=parseInt(l,n);return a!==1/0&&a>=Math.pow(2,t)?e(t,n):l};return e.rack=function(t,n,r){var i=function(i){var l=0;do{if(l++>10){if(!r)throw new Error("too many ID collisions, use more bits");t+=r}var s=e(t,n)}while(Object.hasOwnProperty.call(o,s));return o[s]=i,s},o=i.hats={};return i.get=function(e){return i.hats[e]},i.set=function(e,t){return i.hats[e]=t,i},i.bits=t||128,i.base=n||16,i},Fc.exports}(),Rc=kc(Sc);function Cc(e){if(!(this instanceof Cc))return new Cc(e);e=e||[128,36,1],this._seed=e.length?Rc.rack(e[0],e[1],e[2]):e}function jc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}Cc.prototype.next=function(e){return this._seed(e||!0)},Cc.prototype.nextPrefixed=function(e,t){var n;do{n=e+this.next(!0)}while(this.assigned(n));return this.claim(n,t),n},Cc.prototype.claim=function(e,t){this._seed.set(e,t||!0)},Cc.prototype.assigned=function(e){return this._seed.get(e)||!1},Cc.prototype.unclaim=function(e){delete this._seed.hats[e]},Cc.prototype.clear=function(){var e,t=this._seed.hats;for(e in t)this.unclaim(e)};var Tc="function"==typeof setImmediate?function(e){setImmediate(e)}:function(e){setTimeout(e,0)},Ac=function(e,t){return Array.prototype.slice.call(e,t)},Lc=function(e,t){var n=t||{},r={};return void 0===e&&(e={}),e.on=function(t,n){return r[t]?r[t].push(n):r[t]=[n],e},e.once=function(t,n){return n._once=!0,e.on(t,n),e},e.off=function(t,n){var i=arguments.length;if(1===i)delete r[t];else if(0===i)r={};else{var o=r[t];if(!o)return e;o.splice(o.indexOf(n),1)}return e},e.emit=function(){var t=Ac(arguments);return e.emitterSnapshot(t.shift()).apply(this,t)},e.emitterSnapshot=function(t){var i=(r[t]||[]).slice(0);return function(){var r=Ac(arguments),o=this||e;if("error"===t&&!1!==n.throws&&!i.length)throw 1===r.length?r[0]:r;return i.forEach(function(i){n.async?function(e,t,n){e&&Tc(function(){e.apply(n||null,t||[])})}(i,r,o):i.apply(o,r),i._once&&e.off(t,i)}),e}},e};const Ic=jc(Lc),Pc={};function Oc(e){let t=Pc[e];return t?t.lastIndex=0:Pc[e]=t=new RegExp("(?:^|\\s)"+e+"(?:\\s|$)","g"),t}function Dc(e,t){const n=e.className;n.length?Oc(t).test(n)||(e.className+=" "+t):e.className=t}function Vc(e,t){e.className=e.className.replace(Oc(t)," ").trim()}function Mc(e){if(void 0!==e.touches)return e.touches.length;if(void 0!==e.which&&0!==e.which)return e.which;if(void 0!==e.buttons)return e.buttons;const t=e.button;return void 0!==t?1&t?1:2&t?3:4&t?2:0:void 0}const Nc=(e,t)=>typeof global[t]<"u"?global[t]:document.documentElement.clientHeight?document.documentElement[e]:document.body[e],zc=(e={},t,n)=>{const r=e.className||"";e.className+=" gu-hide";const i=document.elementFromPoint(t,n);return e.className=r,i},$c=e=>e.width||e.right-e.left,Bc=e=>e.height||e.bottom-e.top,Hc=e=>e.parentNode===document?null:e.parentNode,Jc=e=>["INPUT","TEXTAREA","SELECT"].includes(null==e?void 0:e.tagName)||Uc(e),Uc=e=>!(!e||"false"===e.contentEditable)&&("true"===e.contentEditable||Uc(Hc(e))),qc=e=>e.nextElementSibling||(()=>{let t=e;do{t=t.nextSibling}while(t&&1!==t.nodeType);return t})();window.global||(window.global=window);const Kc=document,Zc=Kc.documentElement;var Wc=n(52551),Gc=n(66504),Yc=n(68944),Xc=n(37437),Qc="__fn",eu=Array.prototype.slice;function tu(){this._listeners={},this.on("diagram.destroy",1,this._destroy,this)}function nu(){}function ru(e=!0){const t="number"==typeof e?e:e?300:0;return t?e=>(0,F.debounce)(e,t):e=>e}tu.prototype.on=function(e,t,n,r){if(e=(0,F.isArray)(e)?e:[e],(0,F.isFunction)(t)&&(r=n,n=t,t=1e3),!(0,F.isNumber)(t))throw new Error("priority must be a number");var i=n;r&&((i=(0,F.bind)(n,r))[Qc]=n[Qc]||n);var o=this;e.forEach(function(e){o._addListener(e,{priority:t,callback:i,next:null})})},tu.prototype.once=function(e,t,n,r){var i=this;if((0,F.isFunction)(t)&&(r=n,n=t,t=1e3),!(0,F.isNumber)(t))throw new Error("priority must be a number");function o(){o.__isTomb=!0;var t=n.apply(r,arguments);return i.off(e,o),t}o[Qc]=n,this.on(e,t,o)},tu.prototype.off=function(e,t){e=(0,F.isArray)(e)?e:[e];var n=this;e.forEach(function(e){n._removeListener(e,t)})},tu.prototype.createEvent=function(e){var t=new nu;return t.init(e),t},tu.prototype.fire=function(e,t){var n,r,i,o;if(o=eu.call(arguments),"object"==typeof e&&(e=(t=e).type),!e)throw new Error("no event type specified");if(r=this._listeners[e]){n=t instanceof nu?t:this.createEvent(t),o[0]=n;var l=n.type;e!==l&&(n.type=e);try{i=this._invokeListeners(n,o,r)}finally{e!==l&&(n.type=l)}return void 0===i&&n.defaultPrevented&&(i=!1),i}},tu.prototype.handleError=function(e){return!1===this.fire("error",{error:e})},tu.prototype._destroy=function(){this._listeners={}},tu.prototype._invokeListeners=function(e,t,n){for(var r;n&&!e.cancelBubble;)r=this._invokeListener(e,t,n),n=n.next;return r},tu.prototype._invokeListener=function(e,t,n){var r;if(n.callback.__isTomb)return r;try{r=function(e,t){return e.apply(null,t)}(n.callback,t),void 0!==r&&(e.returnValue=r,e.stopPropagation()),!1===r&&e.preventDefault()}catch(e){if(!this.handleError(e))throw console.error("unhandled error in event listener",e),e}return r},tu.prototype._addListener=function(e,t){var n,r=this._getListeners(e);if(r){for(;r;){if(r.priority<t.priority)return t.next=r,void(n?n.next=t:this._setListeners(e,t));n=r,r=r.next}n.next=t}else this._setListeners(e,t)},tu.prototype._getListeners=function(e){return this._listeners[e]},tu.prototype._setListeners=function(e,t){this._listeners[e]=t},tu.prototype._removeListener=function(e,t){var n,r,i,o=this._getListeners(e);if(t)for(;o;)n=o.next,(i=o.callback)!==t&&i[Qc]!==t||(r?r.next=n:this._setListeners(e,n)),r=o,o=n;else this._setListeners(e,null)},nu.prototype.stopPropagation=function(){this.cancelBubble=!0},nu.prototype.preventDefault=function(){this.defaultPrevented=!0},nu.prototype.init=function(e){(0,F.assign)(this,e||{})},ru.$inject=["config.debounce"];class iu{constructor(e,t){this._formLayouter=e,this._formFieldRegistry=t}validateField(e={},t,n){if(Number.isInteger(t)){if(t<2)return"Minimum 2 columns are allowed";if(t>16)return"Maximum 16 columns are allowed"}n||(n=this._formLayouter.getRowForField(e));let r=parseInt(t)||0,i=1,o=t?0:1;return n.components.forEach(t=>{if(e.id===t)return;const n=(this._formFieldRegistry.get(t).layout||{}).columns;n||o++,r+=parseInt(n)||0,i++}),r>16||o>0&&r>16-2*o||16===t&&i>1?"New value exceeds the maximum of 16 columns per row":i>4?"Maximum 4 fields per row are allowed":null}}iu.$inject=["formLayouter","formFieldRegistry"];const ou=function(){const e=new Image;return e.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",e}();function lu(e,{disabled:t=!1}={}){if(!e)throw new Error("type required");return x()("fjs-form-field",`fjs-form-field-${e}`,{"fjs-disabled":t})}function su(e){e.preventDefault(),e.stopPropagation()}function au(e){const{field:t,domId:n}=e,{label:r}=t,i=Dl(t.type);return Z("div",{class:lu(t.type),children:[Z(Ii,{id:n,label:r}),Z("div",{class:"fjs-iframe-placeholder",id:n,children:Z("p",{class:"fjs-iframe-placeholder-text",children:[Z(i,{width:"32",height:"24",viewBox:"0 0 56 56"}),"iFrame"]})})]})}au.config=ho.config;const cu=(0,i.createContext)({drake:null}),uu=(0,i.createContext)({getService:function(e,t){}});function du(e,t){const{getService:n}=(0,o.NT)(uu);return n(e,t)}var pu;function hu(){return hu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hu.apply(null,arguments)}var fu,mu,gu=function(e){return i.createElement("svg",hu({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor"},e),pu||(pu=i.createElement("path",{fillRule:"evenodd",d:"m12 4.7-.7-.7L8 7.3 4.7 4l-.7.7L7.3 8 4 11.3l.7.7L8 8.7l3.3 3.3.7-.7L8.7 8z",clipRule:"evenodd"})))};function vu(){return vu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vu.apply(null,arguments)}var bu,yu=function(e){return i.createElement("svg",vu({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),i.createElement("rect",{width:16,height:16,x:.536,fill:"#fff",rx:3,style:{mixBlendMode:"multiply"}}),i.createElement("path",{fill:"#fff",d:"M0 0h16v16H0z",style:{mixBlendMode:"multiply"},transform:"translate(.536)"}),fu||(fu=i.createElement("path",{fill:"currentcolor",d:"M7.536 6h-1v6h1zm3 0h-1v6h1z"})),mu||(mu=i.createElement("path",{fill:"currentcolor",d:"M2.536 3v1h1v10a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4h1V3zm2 11V4h8v10zm6-13h-4v1h4z"})))};function _u(){return _u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_u.apply(null,arguments)}var wu,xu=function(e){return i.createElement("svg",_u({xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",width:16,height:16,fill:"currentcolor",viewBox:"0 0 32 32"},e),bu||(bu=i.createElement("path",{d:"M10 6h4v4h-4zm8 0h4v4h-4zm-8 8h4v4h-4zm8 0h4v4h-4zm-8 8h4v4h-4zm8 0h4v4h-4z"})),i.createElement("path",{d:"M0 0h32v32H0z",style:{fill:"none"}}))};function ku(){return ku=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ku.apply(null,arguments)}var Eu,Fu,Su,Ru,Cu,ju,Tu,Au,Lu=function(e){return i.createElement("svg",ku({xmlns:"http://www.w3.org/2000/svg",width:15,height:15,fill:"none"},e),wu||(wu=i.createElement("path",{fill:"currentColor",d:"m14.5 13.793-3.776-3.776a5.508 5.508 0 1 0-.707.707l3.776 3.776zM2 6.5a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0"})))};function Iu(){return Iu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Iu.apply(null,arguments)}var Pu=function(e){return i.createElement("svg",Iu({xmlns:"http://www.w3.org/2000/svg",width:126,height:96,fill:"none"},e),Eu||(Eu=i.createElement("path",{fill:"#FF832B",fillRule:"evenodd",d:"M70 78v8a3 3 0 0 1-3 3h-8v-5h6v-6zm0-16h-5V46h5zm0-32h-5v-6h-6v-5h8a3 3 0 0 1 3 3zM43 19v5H27v-5zm-32 0v5H5v6H0v-8a3 3 0 0 1 3-3zM0 46h5v16H0zm0 32h5v6h6v5H3a3 3 0 0 1-3-3zm27 11v-5h16v5z",clipRule:"evenodd"})),Fu||(Fu=i.createElement("rect",{width:70,height:70,fill:"#E5E5E5",rx:3,transform:"matrix(-1 0 0 1 94 0)"})),Su||(Su=i.createElement("mask",{id:"EmptyForm_svg__a",fill:"#fff"},i.createElement("path",{fillRule:"evenodd",d:"M87.085 88.684 75.43 45.185l43.499 11.656-11.044 8.072 8.557 8.556-12.728 12.728-8.557-8.556z",clipRule:"evenodd"}))),Ru||(Ru=i.createElement("path",{fill:"#393939",fillRule:"evenodd",d:"M87.085 88.684 75.43 45.185l43.499 11.656-11.044 8.072 8.557 8.556-12.728 12.728-8.557-8.556z",clipRule:"evenodd"})),Cu||(Cu=i.createElement("path",{fill:"#393939",d:"M75.43 45.185 70.6 46.48l-2.241-8.365 8.365 2.242zm11.655 43.499 4.037 2.95-6.163 8.432-2.704-10.088zm31.844-31.843 1.294-4.83 10.088 2.703-8.432 6.163zm-11.044 8.072-3.535 3.535-4.128-4.127 4.713-3.445zm8.557 8.556 3.535-3.535 3.536 3.535-3.536 3.536zm-12.728 12.728 3.536 3.536-3.536 3.535-3.536-3.535zm-8.557-8.556-4.036-2.951 3.444-4.713 4.128 4.128zM80.26 43.89 91.915 87.39l-9.66 2.588L70.6 46.48zm37.375 17.78L74.136 50.014l2.588-9.66 43.499 11.656zm-12.699-.795 11.043-8.072 5.901 8.073-11.043 8.072zm7.971 16.129-8.556-8.557 7.071-7.07 8.556 8.556zm-12.728 5.657 12.728-12.728 7.071 7.07-12.727 12.729zm-1.485-8.557 8.557 8.557-7.072 7.07-8.556-8.556zM83.049 85.733 91.12 74.69l8.073 5.901-8.072 11.044z",mask:"url(#EmptyForm_svg__a)"})),ju||(ju=i.createElement("path",{stroke:"#000",strokeLinecap:"round",strokeWidth:3,d:"m69.431 39.163-9.192-9.192"})),Tu||(Tu=i.createElement("path",{stroke:"#000",strokeLinecap:"round",strokeWidth:3,d:"M1.5-1.5h8",transform:"matrix(-1 0 0 1 68.213 50.123)"})),Au||(Au=i.createElement("path",{stroke:"#000",strokeLinecap:"round",strokeWidth:3,d:"M78.969 36.367v-8"})))};function Ou(e){const{type:t,text:n=""}=e.field,r=Dl("text"),i=du("templating"),o=du("expressionLanguage");return n&&n.trim()?o.isExpression(n)?Z("div",{class:lu(t),children:Z("div",{class:"fjs-form-field-placeholder",children:[Z(r,{viewBox:"0 0 54 54"}),"Text view is populated by an expression"]})}):i.isTemplate(n)?Z("div",{class:lu(t),children:Z("div",{class:"fjs-form-field-placeholder",children:[Z(r,{viewBox:"0 0 54 54"}),"Text view is templated"]})}):Z(xs,{...e,disableLinks:!0}):Z("div",{class:lu(t),children:Z("div",{class:"fjs-form-field-placeholder",children:[Z(r,{viewBox:"0 0 54 54"}),"Text view is empty"]})})}function Du(e){const{type:t,content:n=""}=e.field,r=Dl(t),i=du("templating"),o=du("expressionLanguage");return n&&n.trim()?o.isExpression(n)?Z("div",{class:lu(t),children:Z("div",{class:"fjs-form-field-placeholder",children:[Z(r,{viewBox:"0 0 54 54"}),"Html view is populated by an expression"]})}):i.isTemplate(n)?Z("div",{class:lu(t),children:Z("div",{class:"fjs-form-field-placeholder",children:[Z(r,{viewBox:"0 0 54 54"}),"Html view is templated"]})}):Z(Es,{...e,disableLinks:!0}):Z("div",{class:lu(t),children:Z("div",{class:"fjs-form-field-placeholder",children:[Z(r,{viewBox:"0 0 54 54"}),"Html view is empty"]})})}function Vu(e){const{columnsExpression:t,columns:n,id:r,label:i}=e.field,o="string"==typeof t&&t.length>0||Array.isArray(n)&&0===n.length?[{key:"1",label:"Column 1"},{key:"2",label:"Column 2"},{key:"3",label:"Column 3"}]:n,l=`fjs-form-${r}`;return Z("div",{class:lu("table",{disabled:!0}),children:[Z(Ii,{id:l,label:i}),Z("div",{class:"fjs-table-middle-container",children:Z("div",{class:"fjs-table-inner-container",children:Z("table",{class:x()("fjs-table","fjs-disabled"),id:l,children:[Z("thead",{class:"fjs-table-head",children:Z("tr",{class:"fjs-table-tr",children:o.map(({key:e,label:t})=>Z("th",{class:"fjs-table-th",children:t},e))})}),Z("tbody",{class:"fjs-table-body",children:Z("tr",{class:"fjs-table-tr",children:o.map(({key:e})=>Z("td",{class:"fjs-table-td",children:"Content"},e))})})]})})})]})}function Mu(e){const{field:t}=e,{expression:n="",key:r}=t,i=Dl("expression"),o=du("expressionLanguage");let l="Expression is empty";return n.trim()&&o.isExpression(n)&&(l=`Expression for '${r}'`),Z("div",{class:lu("expression"),children:Z("div",{class:"fjs-form-field-placeholder",children:[Z(i,{viewBox:"0 0 54 54"}),l]})})}function Nu(e){const{field:t,domId:n}=e,{label:r}=t,i=Dl(t.type);return Z("div",{class:lu(t.type),children:[Z(Ii,{id:n,label:r}),Z("div",{class:"fjs-documentPreview-placeholder",id:n,children:Z("p",{class:"fjs-documentPreview-placeholder-text",children:[Z(i,{width:"32",height:"24",viewBox:"0 0 56 56"}),"Document preview"]})})]})}Ou.config=xs.config,Du.config=Es.config,Vu.config=Js.config,Mu.config={...Fs.config,escapeGridRender:!1},Nu.config=ta.config;const zu=[au,Ou,Du,Vu,Mu,Nu],$u=e=>{const{rootClass:t,RootElement:n,section:r,children:i}=e,l=du("eventBus"),s=du(`config.${r}`),[a,c]=(0,o.J0)(s&&s.parent||null),[u,d]=(0,o.J0)(!0),p=(0,o.Kr)(()=>{if(null===a)return null;if("string"==typeof a){if(!document.querySelector(a))throw new Error(`Target root element with selector '${a}' not found for section '${r}'`);return document.querySelector(a)}if(!(a instanceof Element))throw new Error(`Target root element for section '${r}' must be a valid selector or DOM element`);return a},[r,a]);(0,o.vJ)(()=>{const e=({container:e})=>{c(e),d(!0)},t=()=>{c(null),d(!1)},n=()=>{c(null),d(!0)};return l.on(`${r}.attach`,e),l.on(`${r}.detach`,t),l.on(`${r}.reset`,n),l.fire(`${r}.section.rendered`),()=>{l.off(`${r}.attach`,e),l.off(`${r}.detach`,t),l.off(`${r}.reset`,n),l.fire(`${r}.section.destroyed`)}},[l,r]),(0,o.vJ)(()=>{if(u)return l.fire(`${r}.rendered`,{element:p}),()=>{l.fire(`${r}.destroyed`,{element:p})}},[l,r,u,p]);const h=(0,o.hb)(({children:e})=>n?Z(n,{children:e}):Z("div",{className:t,children:e}),[t,n]);return u?a?me(Z(h,{children:i}),p):Z(h,{children:i}):null},Bu=(0,i.createContext)({addFill(e,t){throw new Error("FillContext.addFill() uninitialized")},removeFill(e){throw new Error("FillContext.addFill() uninitialized")}}),Hu=e=>{const t=(0,o.li)(Symbol("fill_uid")),n=(0,o.NT)(Bu);return(0,o.vJ)(()=>{if(n)return n.addFill({id:t,...e}),()=>{n.removeFill(t)}},[n,e]),null},Ju=(0,i.createContext)({fills:[]}),Uu=e=>{const{name:t,fillRoot:n=qu,groupFn:r=Zu,separatorFn:i=e=>null,limit:l}=e,{fills:s}=(0,o.NT)(Ju),a=(0,o.Kr)(()=>s.filter(e=>e.slot===t),[s,t]),c=(0,o.Kr)(()=>l?a.slice(0,l):a,[a,l]),u=(0,o.Kr)(()=>r(c),[c,r]);return(0,o.Kr)(()=>Ku(u,n,i),[u,n,i])},qu=e=>Z(i.Fragment,{children:e.children},e.id),Ku=(e,t,n)=>{const r=[];return e.forEach((e,i)=>{if(0!==i){const e=n(`__separator_${i}`);e&&r.push(e)}e.forEach(e=>{r.push(t(e))})}),r},Zu=e=>{const t=[],n={};return e.forEach(function(e){const{group:r="z_default"}=e;let i=n[r];i||(n[r]=i=[],t.push(i)),i.push(e)}),t.forEach(e=>e.sort(Wu)),Object.keys(n).sort().map(e=>n[e])},Wu=(e,t)=>(t.priority||0)-(e.priority||0),Gu=()=>{},Yu=e=>{const[t,n]=(0,o.J0)([]),{onSetFill:r=Gu,onRemoveFill:i=Gu}=e,l=(0,o.Kr)(()=>({addFill:e=>{n(t=>[...t.filter(t=>t.id!==e.id),e]),r(e)},removeFill:e=>{n(t=>t.filter(t=>t.id!==e)),i(e)}}),[i,r]),s=(0,o.Kr)(()=>({fills:t}),[t]);return Z(Ju.Provider,{value:s,children:Z(Bu.Provider,{value:l,children:e.children})})};function Xu(e){const{type:t,label:n,icon:r,iconUrl:i,getPaletteIcon:o}=e,l=du("modeling"),s=du("formEditor"),a=o({icon:r,iconUrl:i,label:n,type:t});return Z("button",{type:"button",class:"fjs-palette-field fjs-drag-copy fjs-no-drop","data-field-type":t,title:`Create ${Qu(t)} ${n} element`,onKeyDown:e=>{if("Enter"===e.code){const{fieldType:t}=e.target.dataset,{schema:n}=s._getState();l.addFormField({type:t},n,n.components.length)}},children:[a?Z(a,{class:"fjs-palette-field-icon",width:"36",height:"36",viewBox:"0 0 54 54"}):null,Z("span",{class:"fjs-palette-field-text",children:n})]})}function Qu(e){return["image"].includes(e)?"an":"a"}const ed=[{label:"Input",id:"basic-input"},{label:"Selection",id:"selection"},{label:"Presentation",id:"presentation"},{label:"Containers",id:"container"},{label:"Action",id:"action"}];function td(e){const t=du("formFields"),n=(0,o.li)(rd(t)),[r,i]=(0,o.J0)(n.current),[l,s]=(0,o.J0)(""),a=(0,o.li)(),c=function(e){const t=ed.map(e=>({...e,entries:[]}));return e.forEach(e=>{const{group:n}=e;var r;(r=n,t.find(e=>r===e.id)).entries.push(e)}),t.filter(e=>e.entries.length)}(r),u=(0,o.hb)(e=>e.toLowerCase().replace(/\s+/g,""),[]),d=(0,o.hb)(e=>{const t=u(l);if(!t)return!0;const n=u(e.label),r=u(e.type);return n.includes(t)||r.includes(t)},[l,u]);(0,o.vJ)(()=>{const e=n.current.filter(d);i(e)},[d,l]);const p=(0,o.hb)(e=>{s(()=>e.target.value)},[s]),h=(0,o.hb)(e=>{s(""),a.current.focus()},[a,s]);return Z("div",{class:"fjs-palette",children:[Z("div",{class:"fjs-palette-header",title:"Components",children:"Components"}),Z("div",{class:"fjs-palette-search-container",children:[Z("span",{class:"fjs-palette-search-icon",children:Z(Lu,{})}),Z("input",{class:"fjs-palette-search",ref:a,type:"text",placeholder:"Search components",value:l,onInput:p}),l&&Z("button",{type:"button",title:"Clear content",class:"fjs-palette-search-clear",onClick:h,children:Z(gu,{})})]}),Z("div",{class:"fjs-palette-entries",children:[c.map(({label:e,entries:t,id:n})=>Z("div",{class:"fjs-palette-group","data-group-id":n,children:[Z("span",{class:"fjs-palette-group-title",children:e}),Z("div",{class:"fjs-palette-fields fjs-drag-container fjs-no-drop",children:t.map(e=>Z(Xu,{getPaletteIcon:id,...e},e.type))})]},n)),0==c.length&&Z("div",{class:"fjs-palette-no-entries",children:"No components found."})]}),Z("div",{class:"fjs-palette-footer",children:Z(Uu,{name:"editor-palette__footer",fillRoot:nd})})]})}const nd=e=>Z("div",{className:"fjs-palette-footer-fill",children:e.children});function rd(e){return Object.entries(e._formFields).map(([e,t])=>{const{config:n}=t;return{label:n.name||n.label,type:e,group:n.group,icon:n.icon,iconUrl:n.iconUrl}}).filter(({type:e})=>"default"!==e)}function id(e){const{icon:t,iconUrl:n,type:r,label:i}=e;let o;return o=n?function(){return Z("img",{class:"fjs-field-icon-image",width:36,style:{margin:"auto"},alt:i,src:Fi(n)})}:t||Dl(r),o}const od=()=>{const e=du("renderInjector").fetchRenderers(),t=(0,o.Kr)(()=>({useService:du,components:{Fill:Hu,Slot:Uu}}),[]);return Z(i.Fragment,{children:e.map(({Renderer:e},n)=>Z(e,{...t},n))})},ld=/^fjs-cursor-.*$/;function sd(e){const t=(0,a.Ly)(document.body);t.removeMatching(ld),e&&t.add("fjs-cursor-"+e)}const ad="fjs-drag-container",cd="fjs-drop-container-vertical",ud="fjs-drop-container-horizontal",dd="fjs-drag-move",pd="fjs-drag-row-move",hd="fjs-drag-copy",fd="fjs-no-move",md="fjs-error-drop";class gd{constructor(e,t,n,r,i,o){this._formFieldRegistry=e,this._formLayouter=t,this._formLayoutValidator=n,this._eventBus=r,this._modeling=i,this._pathRegistry=o}getTargetIndex(e,t,n){const r=n&&n.querySelector(".fjs-element"),i=r&&this._formFieldRegistry.get(r.dataset.id);return i?vd(t,i):e?vd(t,this._formFieldRegistry.get(e.components[e.components.length-1]))+1:t.components.length}validateDrop(e,t){const n=e.querySelector(".fjs-element"),r=this._formLayouter.getRow(t.dataset.rowId);let i,o,l;if(n){if(o=this._formFieldRegistry.get(n.dataset.id),!o)return"No associated form field in the registry";if(i=(o.layout||{}).columns,bd(t)){l=yd(t).dataset.id;const e=this._formLayoutValidator.validateField(o,i,r);if(e)return e}else l=t.dataset.id;if(!l)return"Drop is not a valid target";const e=this._formFieldRegistry.get(l),s=this._formFieldRegistry.get(o._parent);if(e!==s){const t=this._pathRegistry.getValuePath(e),n=this._pathRegistry.getValuePath(s);if(t.join(".")!==n.join(".")&&!this._pathRegistry.executeRecursivelyOnFields(o,({field:e,isClosed:n,isRepeatable:r})=>{const i={cutoffNode:s.id},o=this._pathRegistry.getValuePath(e,i);return this._pathRegistry.canClaimPath([...t,...o],{isClosed:n,isRepeatable:r,knownAncestorIds:ya(l,this._formFieldRegistry)})}))return"Drop not allowed by path registry"}}}moveField(e,t,n,r,i){const o=e.querySelector(".fjs-element"),l=this._formFieldRegistry.get(o.dataset.id),s=yd(t),a=this._formFieldRegistry.get(s.dataset.id),c=vd(a,l),u=this._formLayouter.getRowForField(l);this._modeling.moveFormField(l,a,r,c,i,u,n)}createNewField(e,t,n,r){let i={type:e.dataset.fieldType};i={...i,_parent:n.id,layout:{row:t?t.id:this._formLayouter.nextRowId(),columns:null}},this._modeling.addFormField(i,n,r)}handleRowDrop(e,t,n,r){const i=this._formFieldRegistry.get(t.dataset.id),o=e.querySelector(".fjs-layout-row"),l=this._formLayouter.getRow(o.dataset.rowId);l.components.forEach((e,t)=>{const o=this._formFieldRegistry.get(e),s=yd(n),a=this._formFieldRegistry.get(s.dataset.id),c=r&&r.querySelector(".fjs-layout-row"),u=c&&this._formLayouter.getRow(c.dataset.rowId),d=r&&this._formFieldRegistry.get(u.components[0]),p=vd(a,o),h=(c?vd(i,d):i.components.length)+t;this._modeling.moveFormField(o,a,i,p,h,l,l)})}handleElementDrop(e,t,n,r,i){const o=this._formFieldRegistry.get(yd(t).dataset.id);let l;if(bd(t)&&(l=this._formLayouter.getRow(t.dataset.rowId)),this.validateDrop(e,t))return i.cancel(!0);i.remove();const s=this.getTargetIndex(l,o,r);n.classList.contains("fjs-palette-fields")?this.createNewField(e,l,o,s):this.moveField(e,n,l,o,s)}createDragulaInstance(e){const{container:t,mirrorContainer:n}=e||{},r=function(e=[],t={}){let n,r,i,o,l,s,a,c,u,d,p,h,f;Array.isArray(e)||(t=e,e=[]);const m=((e,t)=>({containers:t,moves:()=>!0,accepts:()=>!0,invalid:()=>!1,isContainer:()=>!1,transformOffset:e=>e,copy:!1,copySortSource:!1,revertOnSpill:!1,removeOnSpill:!1,direction:"vertical",ignoreInputTextSelection:!0,mirrorContainer:document.body,...e}))(t,e),g=Ic({containers:m.containers,start:function(e){const t=E(e);t&&F(t)},end:S,cancel:A,remove:T,destroy:function(){b(!0),C({})},canMove:function(e){return!!E(e)},dragging:!1});return m.removeOnSpill&&g.on("over",function(e){Vc(e,"gu-hide")}).on("out",function(e){g.dragging&&Dc(e,"gu-hide")}),b(),g;function v(e){return-1!==g.containers.indexOf(e)||m.isContainer(e)}function b(e){const t=e?"removeEventListener":"addEventListener";Zc[t]("pointerdown",x,!0),Zc[t]("pointerup",C,!0)}function y(e){Zc[e?"removeEventListener":"addEventListener"]("pointermove",k,!0)}function _(e){Zc[e?"removeEventListener":"addEventListener"]("click",w,!0)}function w(e){f&&e.preventDefault()}function x(e){if(s=e.clientX,a=e.clientY,1!==Mc(e)||e.metaKey||e.ctrlKey)return;const t=e.target,n=E(t);n&&(f=n,y(),"pointerdown"===e.type&&(Jc(t)?t.focus():e.preventDefault()))}function k(e){if(!f)return;if(0===Mc(e))return void C({});if(void 0!==e.clientX&&Math.abs(e.clientX-s)<=(m.slideFactorX||0)&&void 0!==e.clientY&&Math.abs(e.clientY-a)<=(m.slideFactorY||0))return;if(m.ignoreInputTextSelection){const{clientX:t=0,clientY:n=0}=e,r=Kc.elementFromPoint(t,n);if(Jc(r))return}const t=f;y(!0),_(),S(),F(t);const r=(e=>{const t=e.getBoundingClientRect();return{left:t.left+Nc("scrollLeft","pageXOffset"),top:t.top+Nc("scrollTop","pageYOffset")}})(i),c=m.transformOffset(r,e,i),{pageX:u=0,pageY:p=0}=e;o=u-c.left,l=p-c.top,Dc(d||i,"gu-transit"),function(){if(n)return;const e=i.getBoundingClientRect();n=i.cloneNode(!0),n.style.width=$c(e)+"px",n.style.height=Bc(e)+"px",Vc(n,"gu-transit"),Dc(n,"gu-mirror"),m.mirrorContainer.appendChild(n),Zc.addEventListener("pointermove",O),Dc(m.mirrorContainer,"gu-unselectable"),g.emit("cloned",n,i,"mirror")}(),O(e)}function E(e){if(g.dragging&&n||v(e))return;const t=e;for(;Hc(e)&&!1===v(Hc(e));)if(m.invalid(e,t)||!(e=Hc(e)))return;const r=Hc(e);return r&&!m.invalid(e,t)&&m.moves(e,r,t,qc(e))?{item:e,source:r}:void 0}function F(e){(function(e,t){return"boolean"==typeof m.copy?m.copy:m.copy(e,t)})(e.item,e.source)&&(d=e.item.cloneNode(!0),g.emit("cloned",d,e.item,"copy")),r=e.source,i=e.item,c=u=qc(e.item),g.dragging=!0,g.emit("drag",i,r)}function S(){if(!g.dragging)return;const e=d||i;j(e,Hc(e))}function R(){f=!1,y(!0),_(!0)}function C(e){if(R(),!g.dragging)return;const t=d||i,{clientX:o=0,clientY:l=0}=e,s=P(zc(n,o,l),o,l);s&&(d&&m.copySortSource||!d||s!==r)?j(t,s):m.removeOnSpill?T():A()}function j(e,t){const n=Hc(e);d&&m.copySortSource&&t===r&&n.removeChild(i),I(t)?g.emit("cancel",e,r,r):g.emit("drop",e,t,r,u),L()}function T(){if(!g.dragging)return;const e=d||i,t=Hc(e);t&&t.removeChild(e),g.emit(d?"cancel":"remove",e,t,r),L()}function A(e){if(!g.dragging)return;const t=arguments.length>0?e:m.revertOnSpill,n=d||i,o=Hc(n),l=I(o);!1===l&&t&&(d?o&&o.removeChild(d):r.insertBefore(n,c)),l||t?g.emit("cancel",n,r,r):g.emit("drop",n,o,r,u),L()}function L(){const e=d||i;R(),n&&(Vc(m.mirrorContainer,"gu-unselectable"),Zc.removeEventListener("pointermove",O),Hc(n).removeChild(n),n=null),e&&Vc(e,"gu-transit"),p&&clearTimeout(p),g.dragging=!1,h&&g.emit("out",e,h,r),g.emit("dragend",e),r=i=d=c=u=p=h=null}function I(e,t){let o;return o=void 0!==t?t:n?u:qc(d||i),e===r&&o===c}function P(e,t,n){let o=e;for(;o&&!l();)o=Hc(o);return o;function l(){if(!1===v(o))return!1;const l=D(o,e),s=V(o,l,t,n);return!!I(o,s)||m.accepts(i,o,r,s)}}function O(e){if(!n)return;e.preventDefault();const{clientX:t=0,clientY:s=0}=e,a=t-o,p=s-l;n.style.left=a+"px",n.style.top=p+"px";const f=d||i,v=zc(n,t,s);let b=P(v,t,s);const y=null!==b&&b!==h;(y||null===b)&&(h&&k("out"),h=b,y&&k("over"));const _=Hc(f);if(b===r&&d&&!m.copySortSource)return void(_&&_.removeChild(f));let w;const x=D(b,v);if(null!==x)w=V(b,x,t,s);else{if(!0!==m.revertOnSpill||d)return void(d&&_&&_.removeChild(f));w=c,b=r}function k(e){g.emit(e,f,h,r)}(null===w&&y||w!==f&&w!==qc(f))&&(u=w,b.insertBefore(f,w),g.emit("shadow",f,b,r))}function D(e,t){let n=t;for(;n!==e&&Hc(n)!==e;)n=Hc(n);return n===Zc?null:n}function V(e,t,n,o){const l="horizontal"===("function"==typeof m.direction?m.direction(i,e,r):m.direction);return t!==e?function(){const e=t.getBoundingClientRect();return function(e){return e?qc(t):t}(l?n>e.left+$c(e)/2:o>e.top+Bc(e)/2)}():function(){const t=e.children.length;let r,i,s;for(r=0;r<t;r++)if(i=e.children[r],s=i.getBoundingClientRect(),l&&s.left+s.width/2>n||!l&&s.top+s.height/2>o)return i;return null}()}}({direction:function(e,t){return bd(t)?"horizontal":"vertical"},mirrorContainer:n,isContainer:e=>t.some(t=>e.classList.contains(t)),moves:(e,t,n)=>!n.classList.contains(fd)&&(e.classList.contains(dd)||e.classList.contains(hd)||e.classList.contains(pd)),copy:e=>e.classList.contains(hd),accepts:(e,t)=>(t.classList.remove(md),sd("grabbing"),e.classList.contains(pd)?!t.classList.contains(ud):(this.validateDrop(e,t)&&(t.classList.add(md),sd("not-allowed")),!t.classList.contains("fjs-no-drop"))),transformOffset:(e,t,n)=>{if(n.classList.contains(pd)){const e={x:-5,y:-60};return{left:t.clientX+e.x,top:t.clientY+e.y}}if(n.classList.contains(dd)){const e={x:-5,y:-15};return{left:t.clientX+e.x,top:t.clientY+e.y}}return e},slideFactorX:10,slideFactorY:5});return r.on("drag",(e,t)=>{this.emit("drag.start",{element:e,source:t})}),r.on("dragend",e=>{this.emit("drag.end",{element:e})}),r.on("drop",(e,t,n,r)=>{this.emit("drag.drop",{element:e,target:t,source:n,sibling:r})}),r.on("over",(e,t,n)=>{this.emit("drag.hover",{element:e,container:t,source:n})}),r.on("out",(e,t,n)=>{this.emit("drag.out",{element:e,container:t,source:n})}),r.on("cancel",(e,t,n)=>{this.emit("drag.cancel",{element:e,container:t,source:n})}),r.on("drop",(e,t,n,i)=>{t?e.classList.contains(pd)?this.handleRowDrop(e,t,n,i):this.handleElementDrop(e,t,n,i,r):r.remove()}),this.emit("dragula.created",r),r}emit(e,t){this._eventBus.fire(e,t)}}function vd(e,t){let n=e.components.length;return e.components.forEach(({id:e},r)=>{e===t.id&&(n=r)}),n}function bd(e){return e.classList.contains("fjs-layout-row")}function yd(e){return e.closest(".fjs-element")}function _d(e){const{class:t,Icon:n,label:r}=e;return Z("div",{class:x()("fjs-field-preview",t),children:[Z(n,{class:"fjs-field-preview-icon",width:"36",height:"36",viewBox:"0 0 54 54"}),Z("span",{class:"fjs-field-preview-text",children:r})]})}gd.$inject=["formFieldRegistry","formLayouter","formLayoutValidator","eventBus","modeling","pathRegistry"];const wd=/^cds--col(-lg)?/,xd="fjs-element-resizing";function kd(e){const{field:t,position:n}=e,r=(0,o.li)(null),i=du("formLayoutValidator"),l=du("modeling"),s=(0,o.li)({startColumns:0,newColumns:0}),c=function(e){let t,n=!1,r=[];return function(...i){r=i,t=this,n||(n=!0,e.apply(t,r),window.requestAnimationFrame(function(){r=t=n=void 0}))}}((e,o)=>{const{x:l}=o,{layout:c={}}=t,u=function(e,t,n,r){"left"===r&&(n*=-1);return t+Ed(n,Fd(e))}(r.current,c.columns||s.current.startColumns,l,n);if(!i.validateField(t,u)){s.current.newColumns=u;const e=r.current.closest(".fjs-layout-column");d=e,p=wd,(0,a.Ly)(d).removeMatching(p),e.classList.add(`cds--col-lg-${u}`)}var d,p});return"default"===t.type?null:Z("div",{ref:r,class:x()("fjs-field-resize-handle","fjs-field-resize-handle-"+n,fd),draggable:!0,onDragStart:e=>{const r=Sd(t),i=Fd(r),o=function(e){let t,n,r;function i(i){const o={x:i.clientX-n,y:i.clientY-r};return e.call(t,i,o)}function o(){document.removeEventListener("dragover",i),document.removeEventListener("dragend",o),document.removeEventListener("drop",su)}return function(e){t=this,n=e.clientX,r=e.clientY,e.dataTransfer&&e.dataTransfer.setDragImage(ou,0,0),document.addEventListener("dragover",i),document.addEventListener("dragend",o),document.addEventListener("drop",su)}}(c);o(e);const l=r.closest(".fjs-layout-column").getBoundingClientRect().width+16;s.current.startColumns=Ed(l,i),function(e,t){(0,a.Ly)(e).add(xd+"-"+t)}(r,n)},onDragEnd:()=>{const{layout:e={}}=t;s.current.newColumns&&l.editFormField(t,"layout",{...e,columns:s.current.newColumns}),function(e,t){(0,a.Ly)(e).remove(xd+"-"+t)}(Sd(t),n),s.current.newColumns=null}})}function Ed(e,t){const n=1/16*t.getBoundingClientRect().width;return Math.round(e/n)}function Fd(e){return e.closest(".fjs-layout-row")}function Sd(e){return(0,a.P)('.fjs-element[data-id="'+e.id+'"]')}function Rd(e){return e.children?Z("div",{class:"fjs-context-pad",children:e.children}):null}function Cd(){return Z("div",{class:"fjs-empty-component",children:Z("span",{class:"fjs-empty-component-text",children:"Drag and drop components here."})})}function jd(){return Z("div",{class:"fjs-empty-editor",children:Z("div",{class:"fjs-empty-editor-card",children:[Z(Pu,{}),Z("h2",{children:"Build your form"}),Z("span",{children:"Drag and drop components here to start designing."}),Z("span",{children:"Use the preview window to test your form."})]})})}function Td(e){return["group","dynamiclist"].includes(e.field.type)?Z(Cd,{}):"default"===e.field.type?Z(jd,{}):null}function Ad(e){const t=du("eventBus"),n=du("formFieldRegistry"),r=du("formFields"),i=du("modeling"),l=du("selection"),{hoverInfo:s}=(0,o.NT)(Cr),{field:a}=e,{id:c,type:u,showOutline:d}=a,p=(0,o.li)(),[h,f]=(0,o.J0)(!1);(0,o.vJ)(()=>{function e({selection:e}){const t=Qr(p.current);if(!e||"default"===e.type||e.id!==c||!t||!p.current)return;const n=p.current.getBoundingClientRect(),r=t.getBoundingClientRect(),i=n.height>r.height;(n.bottom>r.bottom||n.top<r.top)&&!i&&p.current.scrollIntoView({behavior:"auto",block:"nearest"})}return t.on("selection.changed",e),()=>t.off("selection.changed",e)},[t,c]),(0,o.Nf)(()=>{l.isSelected(a)&&p.current.focus()},[l,a]);const m=(0,o.hb)(e=>{const t=e.target.closest("[data-id]");t&&t.dataset.id===a.id&&l.toggle(a)},[a,l]),g=l.isSelected(a);return Z("div",{class:(0,o.Kr)(()=>{const t=[];return e.class&&t.push(...e.class.split(" ")),g&&t.push("fjs-editor-selected"),["group","dynamiclist"].includes(u)&&t.push(d?"fjs-outlined":"fjs-dashed-outlined"),h&&t.push("fjs-editor-hovered"),t.join(" ")},[h,g,e.class,d,u]),"data-id":c,"data-field-type":u,tabIndex:"default"===u?-1:0,onClick:m,onKeyPress:e=>{"Enter"===e.key&&(e.stopPropagation(),l.toggle(a))},onMouseOver:e=>{s.cleanup&&s.cleanup(),f(!0),s.cleanup=()=>f(!1),e.stopPropagation()},ref:p,children:[Z(Ld,{field:a}),Z(Rd,{children:l.isSelected(a)&&"default"!==a.type?Z("button",{type:"button",title:Nd(a,r),class:"fjs-context-pad-item",onClick:e=>{e.stopPropagation();const t=n.get(a._parent),r=function(e,t){let n=e.components.length;return e.components.forEach(({id:e},r)=>{e===t.id&&(n=r)}),n}(t,a);i.removeFormField(a,t,r)},children:Z(yu,{})}):null}),e.children,Z(kd,{position:"left",field:a}),Z(kd,{position:"right",field:a})]})}function Ld(e){const{field:t}=e;return du("config.debugColumns")&&"default"!=t.type?Z("div",{style:"width: fit-content; padding: 2px 6px; height: 16px; background: var(--color-blue-205-100-95); display: flex; justify-content: center; align-items: center; position: absolute; bottom: -2px; z-index: 2; font-size: 10px; right: 3px;",class:"fjs-debug-columns",children:(t.layout||{}).columns||"auto"}):null}function Id(e){const{field:t}=e,{id:n}=t,r=["fjs-children",cd];return e.class&&r.push(...e.class.split(" ")),Z("div",{class:r.join(" "),"data-id":n,children:e.children})}function Pd(e){const{row:t}=e,{id:n}=t,r=[ud];return e.class&&r.push(...e.class.split(" ")),Z("div",{class:x()(pd),children:[Z("span",{class:"fjs-row-dragger",children:Z(xu,{})}),Z("div",{class:r.join(" "),style:e.style,"data-row-id":n,children:e.children})]})}function Od(e){const{field:t}=e,n=[dd];return"default"===t.type?e.children:(e.class&&n.push(...e.class.split(" ")),Z("div",{"data-field-type":t.type,class:n.join(" "),children:e.children}))}function Dd(){const e=du("dragging"),t=du("eventBus"),n=du("formEditor"),r=du("injector"),i=du("selection"),l=du("propertiesPanel"),s=du("config.propertiesPanel"),{schema:a,properties:c}=n._getState(),{ariaLabel:u}=c,d=(0,o.li)(null),p=(0,o.li)(null),[,h]=(0,o.J0)(a),[f,m]=(0,o.J0)(!1);(0,o.vJ)(()=>{function e(e){h(e.selection||a)}return t.on("selection.changed",e),()=>{t.off("selection.changed",e)}},[t,a]),(0,o.vJ)(()=>{h(i.get()||a)},[i,a]);const[g,v]=(0,o.J0)(null),b={drake:g};(0,o.vJ)(()=>{let n=e.createDragulaInstance({container:[ad,cd,ud],mirrorContainer:d.current});v(n);const r=()=>{n&&(n.destroy(),t.fire("dragula.destroyed"))},i=()=>{r(),n=e.createDragulaInstance({container:[ad,cd,ud],mirrorContainer:d.current}),v(n)},o=e=>{v(e)},l=()=>{sd("grabbing")},s=()=>{sd(null)};return t.on("attach",i),t.on("detach",r),t.on("dragula.created",o),t.on("drag.start",l),t.on("drag.end",s),()=>{r(),t.off("attach",i),t.off("detach",r),t.off("dragula.created",o),t.off("drag.start",l),t.off("drag.end",s)}},[e,t]),(0,o.vJ)(()=>{f||(m(!0),t.fire("rendered"),t.fire("formEditor.rendered"))},[t,f]);const y=(0,o.Kr)(()=>({Children:Id,Column:Od,Element:Ad,Empty:Td,Row:Pd,hoverInfo:{}}),[]),_=(0,o.Kr)(()=>({getService:(e,t=!0)=>"form"===e?{_getState:()=>({data:{},errors:{},properties:{ariaLabel:u,disabled:!0},schema:a})}:r.get(e,t),formId:n._id}),[u,n,r,a]),w=(0,o.hb)(()=>{},[]),x=(0,o.hb)(()=>{},[]),k=function(e){return!(e&&e.parent)}(s);return(0,o.vJ)(()=>{k&&l.attachTo(p.current)},[p,l,k]),Z("div",{class:"fjs-form-editor",children:Z(Yu,{children:[Z(cu.Provider,{value:b,children:[Z($u,{rootClass:"fjs-palette-container",section:"palette",children:Z(td,{})}),Z("div",{ref:d,class:"fjs-form-container",children:Z(Tr.Provider,{value:_,children:Z(Cr.Provider,{value:y,children:Z(ha,{onSubmit:w,onReset:x})})})}),Z(Vd,{})]}),k&&Z("div",{class:"fjs-editor-properties-container",ref:p}),Z($u,{rootClass:"fjs-render-injector-container",section:"renderInjector",children:Z(od,{})})]})})}function Vd(e){const{drake:t}=(0,o.NT)(cu),n=du("formFields");return(0,o.vJ)(()=>{if(t)return t.on("cloned",e),()=>t.off("cloned",e);function e(e,t,r){const o=e.dataset.fieldType;if(o){const r=Md(o,n);if(!r)return;const{label:l}=r,s=id(r);e.innerHTML="",e.class="gu-mirror",e.classList.add("fjs-field-preview-container"),t.classList.contains("fjs-palette-field")&&e.classList.add("cds--col"),(0,i.render)(Z(_d,{label:l,Icon:s}),e)}else["fjs-context-pad","fjs-row-dragger","fjs-debug-columns"].forEach(t=>{const n=e.querySelectorAll("."+t);n.length&&n.forEach(e=>e.remove())}),e.classList.add("cds--grid"),e.classList.add("cds--grid--condensed")}},[t,n]),null}function Md(e,t){return rd(t).find(t=>t.type===e)}function Nd(e,t){const n=Md(e.type,t);return n?`Remove ${n.label}`:"Remove form field"}class zd{constructor(e,t,n,r){const{container:l,compact:s=!1}=e;t.on("form.init",function(){t.fire("canvas.init",{svg:l,viewport:null})}),l.addEventListener("mouseover",function(){document.activeElement===document.body&&l.focus({preventScroll:!0})}),l.addEventListener("click",function(e){l.contains(document.activeElement)||l.focus({preventScroll:!0})});const a=()=>{const[e,t]=(0,o.J0)(n._getState()),i={getService:(e,t=!0)=>r.get(e,t)};n.on("changed",e=>{t(e)});const{schema:l}=e;return l?Z("div",{class:"fjs-container fjs-editor-container "+(s?"fjs-editor-compact":""),children:Z(uu.Provider,{value:i,children:Z(Dd,{})})}):null};t.on("form.init",()=>{(0,i.render)(Z(a,{}),l)}),t.on("form.destroy",()=>{(0,i.render)(null,l)})}}zd.$inject=["config.renderer","eventBus","formEditor","injector"];const $d={__depends__:[{__init__:["formFields","renderer"],formFields:["type",class extends ma{constructor(){super(),zu.forEach(e=>{this.register(e.config.type,e)})}}],renderer:["type",zd]}],debounce:["factory",ru],eventBus:["type",tu],importer:["type",ic],formFieldRegistry:["type",class extends uc{updateId(e,t){if(this._validateId(t),this._eventBus.fire("formField.updateId",{formField:e,newId:t}),this.remove(e),e.id=t,this.add(e),"components"in e)for(const n of e.components)n._parent=t}_validateId(e){if(!e)throw new Error("formField must have an id");if(this.get(e))throw new Error("formField with id "+e+" already added")}}],pathRegistry:["type",lc],formLayouter:["type",ac],formLayoutValidator:["type",iu],fieldFactory:["type",oc]};var Bd="is not a registered action";function Hd(e,t){this._actions={};var n=this;e.on("diagram.init",function(){n._registerDefaultActions(t),e.fire("editorActions.init",{editorActions:n})})}function Jd(e,t){return new Error(e+" "+t)}Hd.$inject=["eventBus","injector"],Hd.prototype._registerDefaultActions=function(e){var t=e.get("commandStack",!1),n=e.get("modeling",!1),r=e.get("selection",!1),i=e.get("zoomScroll",!1),o=e.get("copyPaste",!1),l=e.get("canvas",!1),s=e.get("rules",!1),a=e.get("keyboardMove",!1),c=e.get("keyboardMoveSelection",!1);t&&(this.register("undo",function(){t.undo()}),this.register("redo",function(){t.redo()})),o&&r&&this.register("copy",function(){var e=r.get();if(e.length)return o.copy(e)}),o&&r&&this.register("duplicate",function(){var e=r.get();if(e.length)return o.duplicate(e)}),o&&this.register("paste",function(){o.paste()}),o&&r&&s&&this.register("cut",function(){var e=r.get();if(e.length){var t=s.allowed("elements.delete",{elements:e});if(!1!==t){var n=(0,F.isArray)(t)?t:e;return o.cut(n.slice())}}}),i&&this.register("stepZoom",function(e){i.stepZoom(e.value)}),l&&this.register("zoom",function(e){l.zoom(e.value)}),n&&r&&s&&this.register("removeSelection",function(){var e=r.get();if(e.length){var t,i=s.allowed("elements.delete",{elements:e});!1!==i&&(t=(0,F.isArray)(i)?i:e).length&&n.removeElements(t.slice())}}),a&&this.register("moveCanvas",function(e){a.moveCanvas(e)}),c&&this.register("moveSelection",function(e){c.moveSelection(e.direction,e.accelerated)})},Hd.prototype.trigger=function(e,t){if(!this._actions[e])throw Jd(e,Bd);return this._actions[e](t)},Hd.prototype.register=function(e,t){var n=this;if("string"==typeof e)return this._registerAction(e,t);(0,F.forEach)(e,function(e,t){n._registerAction(t,e)})},Hd.prototype._registerAction=function(e,t){if(this.isRegistered(e))throw Jd(e,"is already registered");this._actions[e]=t},Hd.prototype.unregister=function(e){if(!this.isRegistered(e))throw Jd(e,Bd);this._actions[e]=void 0},Hd.prototype.getActions=function(){return Object.keys(this._actions)},Hd.prototype.isRegistered=function(e){return!!this._actions[e]};var Ud={__init__:["editorActions"],editorActions:["type",Hd]};class qd extends Hd{constructor(e,t){super(e,t),e.on("form.init",()=>{this._registerDefaultActions(t),e.fire("editorActions.init",{editorActions:this})})}_registerDefaultActions(e){const t=e.get("commandStack",!1),n=e.get("formFieldRegistry",!1),r=e.get("selection",!1);t&&(this.register("undo",()=>{t.undo()}),this.register("redo",()=>{t.redo()})),n&&r&&this.register("selectFormField",(e={})=>{const{id:t}=e;if(!t)return;const i=n.get(t);i&&r.set(i)})}}qd.$inject=["eventBus","injector"];const Kd={__depends__:[Ud],editorActions:["type",qd]};class Zd{isTemplate(e){return(0,F.isString)(e)&&(e.startsWith("=")||/{{/.test(e))}evaluate(e){return e}}Zd.$inject=[];const Wd={__init__:["expressionLanguage","templating"],expressionLanguage:["type",Qn],templating:["type",Zd]};var Gd=["c","C"],Yd=["v","V"],Xd=["d","D"],Qd=["x","X"],ep=["y","Y"],tp=["z","Z"];function np(e){return!e.altKey&&(e.ctrlKey||e.metaKey)}function rp(e,t){return-1!==(e=(0,F.isArray)(e)?e:[e]).indexOf(t.key)||-1!==e.indexOf(t.code)}function ip(e){return e.shiftKey}function op(e){return np(e)&&!ip(e)&&rp(tp,e)}function lp(e){return np(e)&&(rp(ep,e)||rp(tp,e)&&ip(e))}var sp="keyboard.keydown",ap="Keyboard binding is now implicit; explicit binding to an element got removed. For more information, see https://github.com/bpmn-io/diagram-js/issues/661";function cp(e,t){var n=this;this._config=e=e||{},this._eventBus=t,this._keydownHandler=this._keydownHandler.bind(this),this._keyupHandler=this._keyupHandler.bind(this),t.on("diagram.destroy",function(){n._fire("destroy"),n.unbind()}),e.bindTo&&console.error("unsupported configuration <keyboard.bindTo>",new Error(ap));var r=e&&!1!==e.bind;t.on("canvas.init",function(e){n._target=e.svg,r&&n.bind(),n._fire("init")})}function up(e,t){var n=this;e.on("editorActions.init",500,function(e){var r=e.editorActions;n.registerBindings(t,r)})}cp.$inject=["config.keyboard","eventBus"],cp.prototype._keydownHandler=function(e){this._keyHandler(e,sp)},cp.prototype._keyupHandler=function(e){this._keyHandler(e,"keyboard.keyup")},cp.prototype._keyHandler=function(e,t){if(!this._isEventIgnored(e)){var n={keyEvent:e};this._eventBus.fire(t||sp,n)&&e.preventDefault()}},cp.prototype._isEventIgnored=function(e){return!1},cp.prototype.bind=function(e){e&&console.error("unsupported argument <node>",new Error(ap)),this.unbind(),e=this._node=this._target,a.f0.bind(e,"keydown",this._keydownHandler),a.f0.bind(e,"keyup",this._keyupHandler),this._fire("bind")},cp.prototype.getBinding=function(){return this._node},cp.prototype.unbind=function(){var e=this._node;e&&(this._fire("unbind"),a.f0.unbind(e,"keydown",this._keydownHandler),a.f0.unbind(e,"keyup",this._keyupHandler)),this._node=null},cp.prototype._fire=function(e){this._eventBus.fire("keyboard."+e,{node:this._node})},cp.prototype.addListener=function(e,t,n){(0,F.isFunction)(e)&&(n=t,t=e,e=1e3),this._eventBus.on(n||sp,e,t)},cp.prototype.removeListener=function(e,t){this._eventBus.off(t||sp,e)},cp.prototype.hasModifier=function(e){return e.ctrlKey||e.metaKey||e.shiftKey||e.altKey},cp.prototype.isCmd=np,cp.prototype.isShift=ip,cp.prototype.isKey=rp,up.$inject=["eventBus","keyboard"],up.prototype.registerBindings=function(e,t){function n(n,r){t.isRegistered(n)&&e.addListener(r)}n("undo",function(e){if(op(e.keyEvent))return t.trigger("undo"),!0}),n("redo",function(e){if(lp(e.keyEvent))return t.trigger("redo"),!0}),n("copy",function(e){if(np(n=e.keyEvent)&&rp(Gd,n))return t.trigger("copy"),!0;var n}),n("paste",function(e){if(np(n=e.keyEvent)&&rp(Yd,n))return t.trigger("paste"),!0;var n}),n("duplicate",function(e){if(np(n=e.keyEvent)&&rp(Xd,n))return t.trigger("duplicate"),!0;var n}),n("cut",function(e){if(np(n=e.keyEvent)&&rp(Qd,n))return t.trigger("cut"),!0;var n}),n("stepZoom",function(e){var n=e.keyEvent;if(rp(["+","Add","="],n)&&np(n))return t.trigger("stepZoom",{value:1}),!0}),n("stepZoom",function(e){var n=e.keyEvent;if(rp(["-","Subtract"],n)&&np(n))return t.trigger("stepZoom",{value:-1}),!0}),n("zoom",function(e){var n=e.keyEvent;if(rp("0",n)&&np(n))return t.trigger("zoom",{value:1}),!0}),n("removeSelection",function(e){if(rp(["Backspace","Delete","Del"],e.keyEvent))return t.trigger("removeSelection"),!0})};var dp={__init__:["keyboard","keyboardBindings"],keyboard:["type",cp],keyboardBindings:["type",up]};class pp{constructor(e,t){e.on("editorActions.init",500,e=>{const{editorActions:n}=e;this.registerBindings(t,n)})}registerBindings(e,t){function n(n,r){t.isRegistered(n)&&e.addListener(r)}n("undo",e=>{const{keyEvent:n}=e;if(op(n))return t.trigger("undo"),!0}),n("redo",e=>{const{keyEvent:n}=e;if(lp(n))return t.trigger("redo"),!0})}}pp.$inject=["eventBus","keyboard"];const hp={__depends__:[dp],__init__:["keyboardBindings"],keyboardBindings:["type",pp]},fp={__init__:["dragging"],dragging:["type",gd]};function mp(e,t){this._handlerMap={},this._stack=[],this._stackIdx=-1,this._currentExecution={actions:[],dirty:[],trigger:null},this._injector=t,this._eventBus=e,this._uid=1,e.on(["diagram.destroy","diagram.clear"],function(){this.clear(!1)},this)}mp.$inject=["eventBus","injector"],mp.prototype.execute=function(e,t){if(!e)throw new Error("command required");this._currentExecution.trigger="execute";const n={command:e,context:t};this._pushAction(n),this._internalExecute(n),this._popAction()},mp.prototype.canExecute=function(e,t){const n={command:e,context:t},r=this._getHandler(e);let i=this._fire(e,"canExecute",n);if(void 0===i){if(!r)return!1;r.canExecute&&(i=r.canExecute(t))}return i},mp.prototype.clear=function(e){this._stack.length=0,this._stackIdx=-1,!1!==e&&this._fire("changed",{trigger:"clear"})},mp.prototype.undo=function(){let e,t=this._getUndoAction();if(t){for(this._currentExecution.trigger="undo",this._pushAction(t);t&&(this._internalUndo(t),e=this._getUndoAction(),e&&e.id===t.id);)t=e;this._popAction()}},mp.prototype.redo=function(){let e,t=this._getRedoAction();if(t){for(this._currentExecution.trigger="redo",this._pushAction(t);t&&(this._internalExecute(t,!0),e=this._getRedoAction(),e&&e.id===t.id);)t=e;this._popAction()}},mp.prototype.register=function(e,t){this._setHandler(e,t)},mp.prototype.registerHandler=function(e,t){if(!e||!t)throw new Error("command and handlerCls must be defined");const n=this._injector.instantiate(t);this.register(e,n)},mp.prototype.canUndo=function(){return!!this._getUndoAction()},mp.prototype.canRedo=function(){return!!this._getRedoAction()},mp.prototype._getRedoAction=function(){return this._stack[this._stackIdx+1]},mp.prototype._getUndoAction=function(){return this._stack[this._stackIdx]},mp.prototype._internalUndo=function(e){const t=e.command,n=e.context,r=this._getHandler(t);this._atomicDo(()=>{this._fire(t,"revert",e),r.revert&&this._markDirty(r.revert(n)),this._revertedAction(e),this._fire(t,"reverted",e)})},mp.prototype._fire=function(e,t,n){arguments.length<3&&(n=t,t=null);const r=t?[e+"."+t,t]:[e];let i;n=this._eventBus.createEvent(n);for(const e of r)if(i=this._eventBus.fire("commandStack."+e,n),n.cancelBubble)break;return i},mp.prototype._createId=function(){return this._uid++},mp.prototype._atomicDo=function(e){const t=this._currentExecution;t.atomic=!0;try{e()}finally{t.atomic=!1}},mp.prototype._internalExecute=function(e,t){const n=e.command,r=e.context,i=this._getHandler(n);if(!i)throw new Error("no command handler registered for <"+n+">");this._pushAction(e),t||(this._fire(n,"preExecute",e),i.preExecute&&i.preExecute(r),this._fire(n,"preExecuted",e)),this._atomicDo(()=>{this._fire(n,"execute",e),i.execute&&this._markDirty(i.execute(r)),this._executedAction(e,t),this._fire(n,"executed",e)}),t||(this._fire(n,"postExecute",e),i.postExecute&&i.postExecute(r),this._fire(n,"postExecuted",e)),this._popAction()},mp.prototype._pushAction=function(e){const t=this._currentExecution,n=t.actions,r=n[0];if(t.atomic)throw new Error("illegal invocation in <execute> or <revert> phase (action: "+e.command+")");e.id||(e.id=r&&r.id||this._createId()),n.push(e)},mp.prototype._popAction=function(){const e=this._currentExecution,t=e.trigger,n=e.actions,r=e.dirty;n.pop(),n.length||(this._eventBus.fire("elements.changed",{elements:(0,F.uniqueBy)("id",r.reverse())}),r.length=0,this._fire("changed",{trigger:t}),e.trigger=null)},mp.prototype._markDirty=function(e){const t=this._currentExecution;e&&(e=(0,F.isArray)(e)?e:[e],t.dirty=t.dirty.concat(e))},mp.prototype._executedAction=function(e,t){const n=++this._stackIdx;t||this._stack.splice(n,this._stack.length,e)},mp.prototype._revertedAction=function(e){this._stackIdx--},mp.prototype._getHandler=function(e){return this._handlerMap[e]},mp.prototype._setHandler=function(e,t){if(!e||!t)throw new Error("command and handler required");if(this._handlerMap[e])throw new Error("overriding handler for command <"+e+">");this._handlerMap[e]=t};var gp={commandStack:["type",mp]};function vp(e){this._eventBus=e}function bp(e){return function(t,n,r,i,o){((0,F.isFunction)(t)||(0,F.isNumber)(t))&&(o=i,i=r,r=n,n=t,t=null),this.on(t,e,n,r,i,o)}}vp.$inject=["eventBus"],vp.prototype.on=function(e,t,n,r,i,o){if(((0,F.isFunction)(t)||(0,F.isNumber)(t))&&(o=i,i=r,r=n,n=t,t=null),(0,F.isFunction)(n)&&(o=i,i=r,r=n,n=1e3),(0,F.isObject)(i)&&(o=i,i=!1),!(0,F.isFunction)(r))throw new Error("handlerFn must be a function");(0,F.isArray)(e)||(e=[e]);var l=this._eventBus;(0,F.forEach)(e,function(e){var s=["commandStack",e,t].filter(function(e){return e}).join(".");l.on(s,n,i?function(e,t){return function(n){return e.call(t||null,n.context,n.command,n)}}(r,o):r,o)})},vp.prototype.canExecute=bp("canExecute"),vp.prototype.preExecute=bp("preExecute"),vp.prototype.preExecuted=bp("preExecuted"),vp.prototype.execute=bp("execute"),vp.prototype.executed=bp("executed"),vp.prototype.postExecute=bp("postExecute"),vp.prototype.postExecuted=bp("postExecuted"),vp.prototype.revert=bp("revert"),vp.prototype.reverted=bp("reverted");class yp extends vp{constructor(e,t){super(e),this.preExecute("formField.remove",function(e){const{formField:n}=e,{id:r}=n;t.unclaimId(n,r)},!0),this.preExecute("formField.edit",function(e){const{formField:n,properties:r}=e;"id"in r&&(t.unclaimId(n,n.id),t.claimId(n,r.id))},!0)}}yp.$inject=["eventBus","modeling"];class _p extends vp{constructor(e,t,n){super(e),this.preExecute("formField.remove",function(e){const{formField:r}=e,{key:i,type:o}=r,{config:l}=n.get(o);l.keyed&&t.unclaimKey(r,i)},!0),this.preExecute("formField.edit",function(e){const{formField:r,properties:i}=e,{key:o,type:l}=r,{config:s}=n.get(l);s.keyed&&"key"in i&&(t.unclaimKey(r,o),t.claimKey(r,i.key))},!0)}}_p.$inject=["eventBus","modeling","formFields"];class wp extends vp{constructor(e,t,n){super(e),this.preExecute("formField.remove",function(e){const{formField:r}=e,{path:i,type:o}=r,{config:l}=n.get(o);l.pathed&&t.unclaimPath(r,i)},!0),this.preExecute("formField.edit",function(e){const{formField:r,properties:i}=e,{path:o,type:l}=r,{config:s}=n.get(l);s.pathed&&"path"in i&&(t.unclaimPath(r,o),t.claimPath(r,i.path))},!0)}}wp.$inject=["eventBus","modeling","formFields"];class xp extends vp{constructor(e){super(e),this.preExecute("formField.edit",function(e){const{properties:t}=e,{validate:n={}}=t;if(n.validationType){const e={...n};delete e.minLength,delete e.maxLength,delete e.pattern,t.validate=e}},!0)}}xp.$inject=["eventBus"];class kp extends vp{constructor(e){super(e),this.preExecute("formField.edit",function(e){const{properties:t}=e,n={};(function(e){return Object.values(gr).some(t=>void 0!==(0,F.get)(e,t))})(t)&&(Object.values(hr).forEach(e=>{const r=gr[e];null==(0,F.get)(t,r)&&(n[gr[e]]=void 0)}),void 0===(0,F.get)(t,gr[hr.EXPRESSION])&&void 0===(0,F.get)(t,gr[hr.INPUT])||(n.defaultValue=void 0),e.properties={...t,...n})},!0)}}kp.$inject=["eventBus"];const Ep={columns:"columns",columnsExpression:"columnsExpression"};class Fp extends vp{constructor(e){super(e),this.preExecute("formField.edit",function(e){const{properties:t,oldProperties:n}=e,r=Object.values(Ep).some(e=>void 0!==(0,F.get)(t,[e]));if(!r)return;const i=(0,F.get)(t,[Ep.columns]),o=(0,F.get)(n,[Ep.columns]),l=(0,F.get)(t,[Ep.columnsExpression]),s=(0,F.get)(n,[Ep.columnsExpression]);!(0,F.isArray)(i)||(0,F.isDefined)(o)?!(0,F.isString)(l)||(0,F.isString)(s)||(e.properties={...t,columns:void 0}):e.properties={...t,columnsExpression:void 0}},!0)}}Fp.$inject=["eventBus"];class Sp extends vp{constructor(e){super(e),this.preExecute("formField.add",function(e){const{formField:t}=e;"table"===(0,F.get)(t,["type"])&&(e.formField={...t,dataSource:`=${t.id}`})},!0)}}Sp.$inject=["eventBus"];const Rp={__init__:["idBehavior","keyBehavior","pathBehavior","validateBehavior","optionsSourceBehavior","columnsSourceBehavior","tableDataSourceBehavior"],idBehavior:["type",yp],keyBehavior:["type",_p],pathBehavior:["type",wp],validateBehavior:["type",xp],optionsSourceBehavior:["type",kp],columnsSourceBehavior:["type",Fp],tableDataSourceBehavior:["type",Sp]};function Cp(e,t,n){return e.splice(t,0,n),e}function jp(e,t){return e.splice(t,1),e}function Tp(e,t,n){return Ap(t,[...e.get(t._parent)._path,"components",n]),t}function Ap(e,t){e._path=t,(e.components||[]).forEach((e,n)=>{Ap(e,[...t,"components",n])})}function Lp(e,t){return e.layout={...e.layout||{},row:t},e}class Ip extends vp{constructor(e,t,n,r){super(e),this._eventBus=e,this._formLayouter=t,this._modeling=n,this._formEditor=r,this.preExecute(["formField.add","formField.remove","formField.move","id.updateClaim"],e=>this.updateRowIds(e)),e.on("changed",e=>{const{schema:t}=e;this.updateLayout(t)})}updateLayout(e){this._formLayouter.clear(),this._formLayouter.calculateLayout(Lr(e))}updateRowIds(e){const{schema:t}=this._formEditor._getState(),n=e=>{e.components&&e.components.length&&e.components.forEach(e=>{Lp(e,this._formLayouter.getRowForField(e).id),n(e)})};n(t)}}Ip.$inject=["eventBus","formLayouter","modeling","formEditor"];class Pp{constructor(e,t){this._formEditor=e,this._formFieldRegistry=t}execute(e){const{formField:t,targetFormField:n,targetIndex:r}=e,{schema:i}=this._formEditor._getState(),o=[...n._path,"components"];t._parent=n.id,Cp((0,F.get)(i,o),r,t),(0,F.get)(i,o).forEach((e,t)=>Tp(this._formFieldRegistry,e,t)),this._formFieldRegistry.add(t),this._formEditor._setState({schema:i})}revert(e){const{formField:t,targetFormField:n,targetIndex:r}=e,{schema:i}=this._formEditor._getState(),o=[...n._path,"components"];jp((0,F.get)(i,o),r),(0,F.get)(i,o).forEach((e,t)=>Tp(this._formFieldRegistry,e,t)),this._formFieldRegistry.remove(t),this._formEditor._setState({schema:i})}}Pp.$inject=["formEditor","formFieldRegistry"];class Op{constructor(e,t){this._formEditor=e,this._formFieldRegistry=t}execute(e){const{formField:t,properties:n}=e;let{schema:r}=this._formEditor._getState();const i={};for(let e in n){i[e]=t[e];const r=n[e];"id"===e?r!==t.id&&this._formFieldRegistry.updateId(t,r):t[e]=r}return e.oldProperties=i,this._formEditor._setState({schema:r}),t}revert(e){const{formField:t,oldProperties:n}=e;let{schema:r}=this._formEditor._getState();for(let e in n){const r=n[e];"id"===e?r!==t.id&&this._formFieldRegistry.updateId(t,r):t[e]=r}return this._formEditor._setState({schema:r}),t}}Op.$inject=["formEditor","formFieldRegistry"];class Dp{constructor(e,t,n,r){this._formEditor=e,this._formFieldRegistry=t,this._pathRegistry=n,this._formLayouter=r}execute(e){this.moveFormField(e)}revert(e){let{sourceFormField:t,targetFormField:n,sourceIndex:r,targetIndex:i,sourceRow:o,targetRow:l}=e;this.moveFormField({sourceFormField:n,targetFormField:t,sourceIndex:i,targetIndex:r,sourceRow:l,targetRow:o},!0)}moveFormField(e,t){let{sourceFormField:n,targetFormField:r,sourceIndex:i,targetIndex:o,targetRow:l}=e,{schema:s}=this._formEditor._getState();const a=[...n._path,"components"];if(n.id===r.id)t?i>o&&i--:i<o&&o--,Lp((0,F.get)(s,[...a,i]),l?l.id:this._formLayouter.nextRowId()),(0,Wc.F)((0,F.get)(s,a),i,o),(0,F.get)(s,a).forEach((e,t)=>Tp(this._formFieldRegistry,e,t));else{const e=(0,F.get)(s,[...a,i]);this._pathRegistry.executeRecursivelyOnFields(e,({field:e})=>{this._pathRegistry.unclaimPath(this._pathRegistry.getValuePath(e))}),e._parent=r.id,jp((0,F.get)(s,a),i),(0,F.get)(s,a).forEach((e,t)=>Tp(this._formFieldRegistry,e,t));const t=[...r._path,"components"];Lp(e,l?l.id:this._formLayouter.nextRowId()),Cp((0,F.get)(s,t),o,e),(0,F.get)(s,t).forEach((e,t)=>Tp(this._formFieldRegistry,e,t)),this._pathRegistry.executeRecursivelyOnFields(e,({field:e,isClosed:t,isRepeatable:n})=>{this._pathRegistry.claimPath(this._pathRegistry.getValuePath(e),{isClosed:t,isRepeatable:n,claimerId:e.id})})}this._formEditor._setState({schema:s})}}Dp.$inject=["formEditor","formFieldRegistry","pathRegistry","formLayouter"];class Vp{constructor(e,t){this._formEditor=e,this._formFieldRegistry=t}execute(e){const{sourceFormField:t,sourceIndex:n}=e;let{schema:r}=this._formEditor._getState();const i=[...t._path,"components"],o=e.formField=(0,F.get)(r,[...i,n]);jp((0,F.get)(r,i),n),(0,F.get)(r,i).forEach((e,t)=>Tp(this._formFieldRegistry,e,t)),Ir(o,e=>this._formFieldRegistry.remove(e)),this._formEditor._setState({schema:r})}revert(e){const{formField:t,sourceFormField:n,sourceIndex:r}=e;let{schema:i}=this._formEditor._getState();const o=[...n._path,"components"];Cp((0,F.get)(i,o),r,t),(0,F.get)(i,o).forEach((e,t)=>Tp(this._formFieldRegistry,e,t)),Ir(t,e=>this._formFieldRegistry.add(e)),this._formEditor._setState({schema:i})}}Vp.$inject=["formEditor","formFieldRegistry"];class Mp{constructor(e){this._formFieldRegistry=e}execute(e){const{claiming:t,formField:n,id:r}=e;t?this._formFieldRegistry._ids.claim(r,n):this._formFieldRegistry._ids.unclaim(r)}revert(e){const{claiming:t,formField:n,id:r}=e;t?this._formFieldRegistry._ids.unclaim(r):this._formFieldRegistry._ids.claim(r,n)}}Mp.$inject=["formFieldRegistry"];class Np{constructor(e){this._pathRegistry=e}execute(e){const{claiming:t,formField:n,key:r}=e,i={replacements:{[n.id]:r}},o=this._pathRegistry.getValuePath(n,i);t?this._pathRegistry.claimPath(o,{isClosed:!0,claimerId:n.id}):this._pathRegistry.unclaimPath(o),e.valuePath=o}revert(e){const{claiming:t,formField:n,valuePath:r}=e;t?this._pathRegistry.unclaimPath(r):this._pathRegistry.claimPath(r,{isClosed:!0,claimerId:n.id})}}Np.$inject=["pathRegistry"];class zp{constructor(e){this._pathRegistry=e}execute(e){const{claiming:t,formField:n,path:r}=e,i={replacements:{[n.id]:r}},o=[];t?this._pathRegistry.executeRecursivelyOnFields(n,({field:e,isClosed:t,isRepeatable:n})=>{const r=this._pathRegistry.getValuePath(e,i);o.push({valuePath:r,isClosed:t,isRepeatable:n,claimerId:e.id}),this._pathRegistry.claimPath(r,{isClosed:t,isRepeatable:n,claimerId:e.id})}):this._pathRegistry.executeRecursivelyOnFields(n,({field:e,isClosed:t,isRepeatable:n})=>{const r=this._pathRegistry.getValuePath(e,i);o.push({valuePath:r,isClosed:t,isRepeatable:n,claimerId:e.id}),this._pathRegistry.unclaimPath(r)}),e.valuePaths=o}revert(e){const{claiming:t,valuePaths:n}=e;t?n.forEach(({valuePath:e})=>{this._pathRegistry.unclaimPath(e)}):n.forEach(({valuePath:e,isClosed:t,isRepeatable:n,claimerId:r})=>{this._pathRegistry.claimPath(e,{isClosed:t,isRepeatable:n,claimerId:r})})}}zp.$inject=["pathRegistry"];class $p{constructor(e,t,n,r,i){this._commandStack=e,this._formEditor=n,this._formFieldRegistry=r,this._fieldFactory=i,t.on("form.init",()=>{this.registerHandlers()})}registerHandlers(){Object.entries(this.getHandlers()).forEach(([e,t])=>{this._commandStack.registerHandler(e,t)})}getHandlers(){return{"formField.add":Pp,"formField.edit":Op,"formField.move":Dp,"formField.remove":Vp,"id.updateClaim":Mp,"key.updateClaim":Np,"path.updateClaim":zp}}addFormField(e,t,n){const r=this._fieldFactory.create(e),i={formField:r,targetFormField:t,targetIndex:n};return this._commandStack.execute("formField.add",i),r}editFormField(e,t,n){(0,F.isObject)(t)||(t={[t]:n});const r={formField:e,properties:t};this._commandStack.execute("formField.edit",r)}moveFormField(e,t,n,r,i,o,l){const s={formField:e,sourceFormField:t,targetFormField:n,sourceIndex:r,targetIndex:i,sourceRow:o,targetRow:l};this._commandStack.execute("formField.move",s)}removeFormField(e,t,n){const r={formField:e,sourceFormField:t,sourceIndex:n};this._commandStack.execute("formField.remove",r)}claimId(e,t){const n={formField:e,id:t,claiming:!0};this._commandStack.execute("id.updateClaim",n)}unclaimId(e,t){const n={formField:e,id:t,claiming:!1};this._commandStack.execute("id.updateClaim",n)}claimKey(e,t){const n={formField:e,key:t,claiming:!0};this._commandStack.execute("key.updateClaim",n)}unclaimKey(e,t){const n={formField:e,key:t,claiming:!1};this._commandStack.execute("key.updateClaim",n)}claimPath(e,t){const n={formField:e,path:t,claiming:!0};this._commandStack.execute("path.updateClaim",n)}unclaimPath(e,t){const n={formField:e,path:t,claiming:!1};this._commandStack.execute("path.updateClaim",n)}}$p.$inject=["commandStack","eventBus","formEditor","formFieldRegistry","fieldFactory"];const Bp={__depends__:[Rp,gp],__init__:["formLayoutUpdater","modeling"],formLayoutUpdater:["type",Ip],modeling:["type",$p]};class Hp{constructor(e){this._eventBus=e,this._selection=null}get(){return this._selection}set(e){this._selection!==e&&(this._selection=e,this._eventBus.fire("selection.changed",{selection:this._selection}))}toggle(e){const t=this._selection===e?null:e;this.set(t)}clear(){this.set(null)}isSelected(e){return this._selection===e}}Hp.$inject=["eventBus"];class Jp{constructor(e,t){e.on(["commandStack.formField.add.postExecuted","commandStack.formField.move.postExecuted"],({context:e})=>{const{formField:n}=e;t.set(n)}),e.on("commandStack.formField.remove.postExecuted",({context:e})=>{const{sourceFormField:n,sourceIndex:r}=e,i=n.components[r]||n.components[r-1];i?t.set(i):t.clear()}),e.on("formField.remove",({formField:e})=>{t.isSelected(e)&&t.clear()})}}Jp.$inject=["eventBus","selection"];const Up={__init__:["selection","selectionBehavior"],selection:["type",Hp],selectionBehavior:["type",Jp]};class qp{constructor(e,t){this._eventBus=e,this._sectionKey=t,this._eventBus.on(`${this._sectionKey}.section.rendered`,()=>{this.isSectionRendered=!0}),this._eventBus.on(`${this._sectionKey}.section.destroyed`,()=>{this.isSectionRendered=!1})}attachTo(e){this._onceSectionRendered(()=>this._eventBus.fire(`${this._sectionKey}.attach`,{container:e}))}detach(){this._onceSectionRendered(()=>this._eventBus.fire(`${this._sectionKey}.detach`))}reset(){this._onceSectionRendered(()=>this._eventBus.fire(`${this._sectionKey}.reset`))}_onceSectionRendered(e){this.isSectionRendered?e():this._eventBus.once(`${this._sectionKey}.section.rendered`,e)}}class Kp extends qp{constructor(e){super(e,"palette")}}Kp.$inject=["eventBus"];const Zp={__init__:["palette"],palette:["type",Kp]};var Wp=function(e){return Z("svg",{...e,children:Z("path",{fillRule:"evenodd",d:"m11.657 8-4.95 4.95a1 1 0 0 1-1.414-1.414L8.828 8 5.293 4.464A1 1 0 1 1 6.707 3.05L11.657 8Z"})})};Wp.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"};var Gp=function(e){return Z("svg",{...e,children:Z("path",{fillRule:"evenodd",d:"m12 4.7-.7-.7L8 7.3 4.7 4l-.7.7L7.3 8 4 11.3l.7.7L8 8.7l3.3 3.3.7-.7L8.7 8 12 4.7Z",fill:"currentColor"})})};Gp.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"};var Yp=function(e){return Z("svg",{...e,children:Z("path",{fillRule:"evenodd",d:"M9 13V9h4a1 1 0 0 0 0-2H9V3a1 1 0 1 0-2 0v4H3a1 1 0 1 0 0 2h4v4a1 1 0 0 0 2 0Z"})})};Yp.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"};var Xp=function(e){return Z("svg",{...e,children:Z("path",{fillRule:"evenodd",d:"M12 6v7c0 1.1-.4 1.55-1.5 1.55h-5C4.4 14.55 4 14.1 4 13V6h8Zm-1.5 1.5h-5v4.3c0 .66.5 1.2 1.111 1.2H9.39c.611 0 1.111-.54 1.111-1.2V7.5ZM13 3h-2l-1-1H6L5 3H3v1.5h10V3Z"})})};Xp.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"};var Qp=function(e){return Z("svg",{...e,children:[Z("path",{fill:"#fff",style:{mixBlendMode:"multiply"},d:"M0 0h16v16H0z"}),Z("path",{fill:"#fff",style:{mixBlendMode:"multiply"},d:"M0 0h16v16H0z"}),Z("path",{d:"M7 3H5v2h2V3zm4 0H9v2h2V3zM7 7H5v2h2V7zm4 0H9v2h2V7zm-4 4H5v2h2v-2zm4 0H9v2h2v-2z",fill:"#161616"})]})};Qp.defaultProps={width:"16",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};var eh=function(e){return Z("svg",{...e,children:Z("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.637 12.637v-4.72h1.362v4.721c0 .36-.137.676-.411.95-.275.275-.591.412-.95.412H3.362c-.38 0-.703-.132-.967-.396A1.315 1.315 0 0 1 2 12.638V3.362c0-.38.132-.703.396-.967S2.982 2 3.363 2h4.553v1.363H3.363v9.274h9.274ZM14 2H9.28l-.001 1.362h2.408L5.065 9.984l.95.95 6.622-6.622v2.409H14V2Z",fill:"currentcolor"})})};eh.defaultProps={width:"16",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};var th=function(e){return Z("svg",{...e,children:Z("path",{d:"M3.617 11.99c-.137.684-.392 1.19-.765 1.518-.362.328-.882.492-1.558.492H0l.309-1.579h1.264l1.515-7.64h-.912l.309-1.579h.911l.236-1.191c.137-.685.387-1.192.75-1.52C4.753.164 5.277 0 5.953 0h1.294L6.94 1.579H5.675l-.323 1.623h1.264l-.309 1.579H5.043l-1.426 7.208ZM5.605 11.021l3.029-4.155L7.28 3.202h2.073l.706 2.547h.176l1.691-2.547H14l-3.014 4.051 1.338 3.768H10.25l-.706-2.606H9.37L7.678 11.02H5.605Z",fill:"currentcolor"})})};th.defaultProps={width:"14",height:"14",fill:"none",xmlns:"http://www.w3.org/2000/svg"};var nh=function(e){return Z("svg",{...e,children:[Z("path",{d:"M26 28H6a2.003 2.003 0 0 1-2-2V6a2.003 2.003 0 0 1 2-2h10v2H6v20h20V16h2v10a2.003 2.003 0 0 1-2 2Z"}),Z("path",{d:"M20 2v2h6.586L18 12.586 19.414 14 28 5.414V12h2V2H20z"})]})};nh.defaultProps={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"};var rh=function(e){return Z("svg",{...e,children:Z("path",{d:"M6 15v-1H2.7L7 9.7 6.3 9 2 13.3V10H1v5zm4-14v1h3.3L9 6.3l.7.7L14 2.7V6h1V1z"})})};function ih(e){const{element:t,headerProvider:n}=e,{getElementIcon:r,getDocumentationRef:i,getElementLabel:o,getTypeLabel:l}=n,s=o(t),a=l(t),c=i&&i(t),u=r(t);return Z("div",{class:"bio-properties-panel-header",children:[Z("div",{class:"bio-properties-panel-header-icon",children:u&&Z(u,{width:"32",height:"32",viewBox:"0 0 32 32"})}),Z("div",{class:"bio-properties-panel-header-labels",children:[Z("div",{class:"bio-properties-panel-header-type",children:a}),s?Z("div",{class:"bio-properties-panel-header-label",children:s}):null]}),Z("div",{class:"bio-properties-panel-header-actions",children:c?Z("a",{rel:"noreferrer",class:"bio-properties-panel-header-link",href:c,title:"Open documentation",target:"_blank",children:Z(eh,{})}):null})]})}rh.defaultProps={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"};const oh=(0,i.createContext)({description:{},getDescriptionForId:()=>{}}),lh=(0,i.createContext)({errors:{}}),sh=(0,i.createContext)({eventBus:null}),ah=(0,i.createContext)({}),ch=(0,i.createContext)({layout:{},setLayout:()=>{},getLayoutForKey:()=>{},setLayoutForKey:()=>{}}),uh=(0,i.createContext)({tooltip:{},getTooltipForId:()=>{}});function dh(e){const{forId:t,element:n}=e,r=function(e,t){const{getTooltipForId:n}=(0,o.NT)(uh);return n(e,t)}(t,n),i=e.value||r;return i?Z(ph,{...e,value:i,forId:`bio-properties-panel-${t}`}):e.children}function ph(e){const{forId:t,value:n,parent:r,direction:i="right",position:l,showDelay:s=250,hideDelay:a=250}=e,[c,u]=(0,o.J0)(!1),d=(0,o.li)(null),p=(0,o.li)(null),h=(0,o.li)(null),f=(0,o.li)(null),m=(e,t)=>{clearTimeout(d.current),clearTimeout(p.current),c||(t?d.current=setTimeout(()=>{u(!0)},s):u(!0))},g=(e=!1)=>{clearTimeout(d.current),clearTimeout(p.current),e?p.current=setTimeout(()=>{u(!1)},a):u(!1)};(0,o.vJ)(()=>()=>{clearTimeout(d.current),clearTimeout(p.current)},[]),(0,o.vJ)(()=>{if(!c)return;const e=e=>{h.current&&!h.current.contains(e.target)&&f.current&&!f.current.contains(e.target)&&g(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[c,g]);const v=({relatedTarget:e})=>{if(e===h.current||e===f.current||e?.parentElement===f.current)return;const t=window.getSelection();if(t&&t.toString().length>0){const e=t.getRangeAt(0);if(f.current?.contains(e.commonAncestorContainer)||f.current?.contains(t.anchorNode)||f.current?.contains(t.focusNode))return}g(!0)},b=()=>{clearTimeout(p.current)},y=()=>Z("div",{class:`bio-properties-panel-tooltip ${i}`,role:"tooltip",id:"bio-properties-panel-tooltip","aria-labelledby":t,style:l||hh(h.current),ref:f,onClick:e=>e.stopPropagation(),onMouseEnter:b,onMouseLeave:v,children:[Z("div",{class:"bio-properties-panel-tooltip-content",children:n}),Z("div",{class:"bio-properties-panel-tooltip-arrow"})]});return Z("div",{class:"bio-properties-panel-tooltip-wrapper",tabIndex:"0",ref:h,onMouseEnter:e=>{m(0,!0)},onMouseLeave:v,onFocus:m,onBlur:e=>{const{relatedTarget:t}=e;f.current?.contains(t)||h.current?.contains(t)||g(!1)},onKeyDown:e=>{"Escape"===e.code&&g(!1)},children:[e.children,c?r?me(y(),r.current):y():null]})}function hh(e){const t=e.getBoundingClientRect();return`right: calc(100% - ${t.x}px); top: ${t.top-10+"px"};`}function fh(e,t){const n=(0,o.hb)(t(e),[e,t]);return(0,o.vJ)(()=>()=>{n.cancel?.()},[n]),n}function mh(e){const{errors:t}=(0,o.NT)(lh);return t[e]}function gh(){const{errors:e}=(0,o.NT)(lh);return e}function vh(e,t,n){const r=(0,o.NT)(sh);n||({eventBus:n}=r);const i=(0,o.li)(!1);n&&!i.current&&n.on(e,t),(0,o.vJ)(()=>(n&&i.current&&n.on(e,t),i.current=!0,()=>{n&&n.off(e,t)}),[t,e,n])}function bh(e,t){const{getLayoutForKey:n,setLayoutForKey:r}=(0,o.NT)(ch);return[n(e,t),(0,o.hb)(t=>{r(e,t)},[r])]}function yh(e){const t=(0,o.li)();return(0,o.vJ)(()=>{t.current=e}),t.current}function _h(e){const{onShow:t}=(0,o.NT)(ch),n=(0,o.li)(),r=(0,o.li)(!1),i=(0,o.hb)(n=>{n.id===e&&(t(),r.current||(r.current=!0))},[e]);return(0,o.vJ)(()=>{r.current&&n.current&&((0,F.isFunction)(n.current.focus)&&n.current.focus(),(0,F.isFunction)(n.current.select)&&n.current.select(),r.current=!1)}),vh("propertiesPanel.showEntry",i),n}function wh(e,t,n){const[r,i]=(0,o.J0)((0,a.P)(t)),l=(0,o.hb)(()=>{const e=(0,a.P)(t);e!==r&&i(e)},[t,r]);(0,o.vJ)(()=>{l()},[l]),vh("propertiesPanel.attach",l),vh("propertiesPanel.detach",l),(0,o.vJ)(()=>{const t=IntersectionObserver;if(!t)return;if(!e.current||!r)return;const i=new t(e=>{0!==r.scrollHeight&&e.forEach(e=>{e.intersectionRatio<1?n(!0):1===e.intersectionRatio&&n(!1)})},{root:r,rootMargin:"0px 0px 999999% 0px",threshold:[1]});return i.observe(e.current),()=>{i.unobserve(e.current)}},[e.current,r,n])}function xh(e){const t=(0,o.li)(e);return t.current=e,(0,o.hb)((...e)=>t.current(...e),[])}function kh(e){const{element:t,entries:n=[],id:r,label:l,shouldOpen:s=!1}=e,c=(0,o.li)(null),[u,d]=bh(["groups",r,"open"],s),p=(0,o.hb)(()=>d(!0),[d]),[h,f]=(0,o.J0)(!1),[m,g]=(0,o.J0)(!1);(0,o.vJ)(()=>{const e=requestAnimationFrame(()=>{const e=n.find(e=>{const{id:t,isEdited:n}=e,r=(0,a.P)(`[data-entry-id="${t}"]`);return!(!(0,F.isFunction)(n)||!r)&&n((0,a.P)(".bio-properties-panel-input",r))});f(e)});return()=>cancelAnimationFrame(e)},[n,f]);const v=gh(),b=n.some(e=>v[e.id]);wh(c,"div.bio-properties-panel-scroll-container",g);const y={...(0,o.NT)(ch),onShow:p};return Z("div",{class:"bio-properties-panel-group","data-group-id":"group-"+r,ref:c,children:[Z("div",{class:x()("bio-properties-panel-group-header",h?"":"empty",u?"open":"",m&&u?"sticky":""),onClick:()=>d(!u),children:[Z("div",{class:"bio-properties-panel-group-header-title",children:Z(dh,{value:e.tooltip,forId:"group-"+r,element:t,parent:c,children:l})}),Z("div",{class:"bio-properties-panel-group-header-buttons",children:[Z(Eh,{edited:h,hasErrors:b}),Z("button",{type:"button",title:"Toggle section",class:"bio-properties-panel-group-header-button bio-properties-panel-arrow",children:Z(Wp,{class:u?"bio-properties-panel-arrow-down":"bio-properties-panel-arrow-right"})})]})]}),Z("div",{class:x()("bio-properties-panel-group-entries",u?"open":""),children:Z(ch.Provider,{value:y,children:n.map(e=>{const{component:n,id:r}=e;return(0,i.createElement)(n,{...e,element:t,key:r})})})})]})}function Eh(e){const{edited:t,hasErrors:n}=e;return n?Z("div",{title:"Section contains an error",class:"bio-properties-panel-dot bio-properties-panel-dot--error"}):t?Z("div",{title:"Section contains edits",class:"bio-properties-panel-dot"}):null}function Fh(e){const{text:t,icon:n}=e;return Z("div",{class:"bio-properties-panel open",children:Z("section",{class:"bio-properties-panel-placeholder",children:[n&&Z(n,{class:"bio-properties-panel-placeholder-icon"}),Z("p",{class:"bio-properties-panel-placeholder-text",children:t})]})})}const Sh={},Rh={},Ch={};function jh(e){const{element:t,headerProvider:n,placeholderProvider:r,groups:l,layoutConfig:s,layoutChanged:a,descriptionConfig:c,descriptionLoaded:u,tooltipConfig:d,tooltipLoaded:p,eventBus:h}=e,[f,m]=(0,o.J0)(Th(s));!function(e,t){const n=(0,o.li)(!1);(0,o.Nf)(()=>{if(n.current)return(()=>{const e=Th(s);m(e)})();n.current=!0},t)}(0,[s]),(0,o.vJ)(()=>{"function"==typeof a&&a(f)},[f,a]);const g={layout:f,setLayout:m,getLayoutForKey:(e,t)=>(0,F.get)(f,e,t),setLayoutForKey:(e,t)=>{m(n=>{const r=(0,F.assign)({},n);return(0,F.set)(r,e,t),r})}},v=(0,o.Kr)(()=>function(e={}){return{...Rh,...e}}(c),[c]);(0,o.vJ)(()=>{"function"==typeof u&&u(v)},[v,u]);const b={description:v,getDescriptionForId:(e,t)=>v[e]&&v[e](t)},y=(0,o.Kr)(()=>function(e={}){return{...Ch,...e}}(d),[d]);(0,o.vJ)(()=>{"function"==typeof p&&p(y)},[y,p]);const _={tooltip:y,getTooltipForId:(e,t)=>y[e]&&y[e](t)},[w,x]=(0,o.J0)({});vh("propertiesPanel.setErrors",({errors:e})=>x(e),h);const k={errors:w},E={eventBus:h},S={element:t};return r&&!t?Z(Fh,{...r.getEmpty()}):r&&(0,F.isArray)(t)?Z(Fh,{...r.getMultiple()}):Z(ch.Provider,{value:S,children:Z(lh.Provider,{value:k,children:Z(oh.Provider,{value:b,children:Z(uh.Provider,{value:_,children:Z(ch.Provider,{value:g,children:Z(sh.Provider,{value:E,children:Z("div",{class:"bio-properties-panel",children:[Z(ih,{element:t,headerProvider:n}),Z("div",{class:"bio-properties-panel-scroll-container",children:l.map(e=>{const{component:n=kh,id:r}=e;return(0,i.createElement)(n,{...e,key:r,element:t})})})]})})})})})})})}function Th(e={},t=Sh){return{...t,...e}}function Ah(e,t){return t=t||{},e.replace(/{([^}]+)}/g,function(e,n){return t[n]||"{"+n+"}"})}function Lh(e){const{element:t,entries:n=[],id:r,label:l,open:s,remove:a,translate:c=Ah}=e,[u,d]=(0,o.J0)(s),{onShow:p}=(0,o.NT)(ch),h={...(0,o.NT)(ch),onShow:(0,o.hb)(()=>{d(!0),(0,F.isFunction)(p)&&p()},[p,d])},f=c("<empty>");return Z("div",{"data-entry-id":r,class:x()("bio-properties-panel-collapsible-entry",u?"open":""),children:[Z("div",{class:"bio-properties-panel-collapsible-entry-header",onClick:()=>d(!u),children:[Z("div",{class:x()("bio-properties-panel-collapsible-entry-header-title",!l&&"empty"),children:l||f}),Z("button",{type:"button",title:c("Toggle list item"),class:"bio-properties-panel-arrow  bio-properties-panel-collapsible-entry-arrow",children:Z(Wp,{class:u?"bio-properties-panel-arrow-down":"bio-properties-panel-arrow-right"})}),a?Z("button",{type:"button",title:c("Delete item"),class:"bio-properties-panel-remove-entry",onClick:a,children:Z(Xp,{})}):null]}),Z("div",{class:x()("bio-properties-panel-collapsible-entry-entries",u?"open":""),children:Z(ch.Provider,{value:h,children:n.map(e=>{const{component:n,id:r}=e;return(0,i.createElement)(n,{...e,element:t,key:r})})})})]})}function Ih(e){const{autoFocusEntry:t,autoOpen:n,translate:r=Ah}=e;return(0,o.vJ)(()=>{if(n&&t){const e=(0,a.P)(`[data-entry-id="${t}"]`),n=(0,a.P)(".bio-properties-panel-input",e);n&&((0,F.isFunction)(n.select)?n.select():(0,F.isFunction)(n.focus)&&n.focus(),n.scrollIntoView())}},[n,t]),Z("div",{class:"bio-properties-panel-list-item",children:Z(Lh,{...e,open:n,translate:r})})}const Ph=()=>{};function Oh(e){const{add:t,element:n,id:r,items:l,label:s,shouldOpen:a=!1,translate:c=Ah}=e;(0,o.vJ)(()=>{null!=e.shouldSort&&console.warn("the property 'shouldSort' is no longer supported")},[e.shouldSort]);const u=(0,o.li)(null),[d,p]=bh(["groups",r,"open"],a),[h,f]=(0,o.J0)(!1),m=(0,o.hb)(()=>p(!0),[p]),[g,v]=(0,o.J0)([]),[b,y]=(0,o.J0)(!1),_=yh(n),w=(0,o.hb)(()=>p(!d),[d]),k=n===_&&d&&b?function(e,t){const n=e.map(e=>e.id),r=t.map(e=>e.id);return n.filter(e=>!r.includes(e))}(l,g):[];(0,o.vJ)(()=>{v(l),y(!1)},[l]),wh(u,"div.bio-properties-panel-scroll-container",f);const E=!!l.length,F={...(0,o.NT)(ch),onShow:m},S=gh(),R=l.some(e=>!!S[e.id]||(e.entries?e.entries.some(e=>S[e.id]):void 0));return Z("div",{class:"bio-properties-panel-group","data-group-id":"group-"+r,ref:u,children:[Z("div",{class:x()("bio-properties-panel-group-header",E?"":"empty",E&&d?"open":"",h&&d?"sticky":""),onClick:E?w:Ph,children:[Z("div",{class:"bio-properties-panel-group-header-title",children:Z(dh,{value:e.tooltip,forId:"group-"+r,element:n,parent:u,children:s})}),Z("div",{class:"bio-properties-panel-group-header-buttons",children:[t?Z("button",{type:"button",title:c("Create new list item"),class:"bio-properties-panel-group-header-button bio-properties-panel-add-entry",onClick:e=>{y(!0),p(!0),t(e)},children:[Z(Yp,{}),E?null:Z("span",{class:"bio-properties-panel-add-entry-label",children:c("Create")})]}):null,E?Z("div",{title:c("List contains {numOfItems} item"+(1!=l.length?"s":""),{numOfItems:l.length}),class:x()("bio-properties-panel-list-badge",R?"bio-properties-panel-list-badge--error":""),children:l.length}):null,E?Z("button",{type:"button",title:c("Toggle section"),class:"bio-properties-panel-group-header-button bio-properties-panel-arrow",children:Z(Wp,{class:d?"bio-properties-panel-arrow-down":"bio-properties-panel-arrow-right"})}):null]})]}),Z("div",{class:x()("bio-properties-panel-list",d&&E?"open":""),children:Z(ch.Provider,{value:F,children:l.map((e,t)=>{if(!e)return;const{id:r}=e,o=k.includes(e.id);return(0,i.createElement)(Ih,{...e,autoOpen:o,element:n,index:t,key:r,translate:c})})})})]})}function Dh(e){const{element:t,forId:n,value:r}=e,i=function(e,t){const{getDescriptionForId:n}=(0,o.NT)(oh);return n(e,t)}(n,t),l=r||i;if(l)return Z("div",{class:"bio-properties-panel-description",children:l})}function Vh(e){const{id:t,label:n,onChange:r,disabled:i,value:l=!1,onFocus:s,onBlur:a,tooltip:c}=e,[u,d]=(0,o.J0)(l);return(0,o.vJ)(()=>{l!==u&&d(l)},[l]),Z("div",{class:"bio-properties-panel-checkbox",children:[Z("input",{ref:_h(t),id:zh(t),name:t,onFocus:s,onBlur:a,type:"checkbox",class:"bio-properties-panel-input",onChange:e=>{(({target:e})=>{r(e.checked)})(e),d(e.target.value)},checked:u,disabled:i}),Z("label",{for:zh(t),class:"bio-properties-panel-label",children:Z(dh,{value:c,forId:t,element:e.element,children:n})})]})}function Mh(e){const{element:t,id:n,description:r,label:i,getValue:o,setValue:l,disabled:s,onFocus:a,onBlur:c,tooltip:u}=e,d=o(t),p=mh(n);return Z("div",{class:"bio-properties-panel-entry bio-properties-panel-checkbox-entry","data-entry-id":n,children:[Z(Vh,{disabled:s,id:n,label:i,onChange:l,onFocus:a,onBlur:c,value:d,tooltip:u,element:t},t),p&&Z("div",{class:"bio-properties-panel-error",children:p}),Z(Dh,{forId:n,element:t,value:r})]})}function Nh(e){return e&&!!e.checked}function zh(e){return`bio-properties-panel-${e}`}function $h({onClick:e,title:t="Open pop-up editor"}){return Z("button",{type:"button",title:t,class:"bio-properties-panel-open-feel-popup",onClick:e,children:Z(rh,{})})}const Bh=()=>{},Hh=ie((e,t)=>{const{onInput:n,disabled:r,tooltipContainer:i,enableGutters:l,value:s,onLint:a=Bh,onOpenPopup:c=Bh,popupOpen:u,contentAttributes:d={},hostLanguage:p=null,singleLine:h=!1}=e,f=(0,o.li)(),[m,g]=(0,o.J0)(),[v,b]=(0,o.J0)(s||"");!function(e,t){const[n,r]=(0,o.J0)(void 0);t.current=(0,o.Kr)(()=>({focus:t=>{e?e.focus(t):(void 0===t&&(t=1/0),r(t))}}),[e]),(0,o.vJ)(()=>{void 0!==n&&e&&(e.focus(n),r(!1))},[e,n])}(m,t);const y=xh(e=>{n(e),b(e)});return(0,o.vJ)(()=>{let e;return e=new Lt.Mu({container:f.current,onChange:y,value:v,onLint:a,contentAttributes:d,tooltipContainer:i,enableGutters:l,hostLanguage:p,singleLine:h,lineWrap:!0}),g(e),()=>{a([]),f.current.innerHTML="",g(null)}},[]),(0,o.vJ)(()=>{m&&s!==v&&(m.setValue(s),b(s))},[s]),Z("div",{class:x()("bio-properties-panel-feelers-editor-container",u?"popupOpen":null),children:[u&&Z("div",{class:"bio-properties-panel-feelers-editor__popup-placeholder",children:"Opened in popup"}),Z("div",{name:e.name,class:x()("bio-properties-panel-feelers-editor bio-properties-panel-input",v?"edited":null,r?"disabled":null),ref:f,onClick:()=>{t.current.focus()}}),!r&&Z($h,{onClick:()=>c("feelers")})]})}),Jh=()=>{},Uh=ie((e,t)=>{const{contentAttributes:n,enableGutters:r,value:i,onInput:l,onKeyDown:s=Jh,onFeelToggle:a=Jh,onLint:c=Jh,onOpenPopup:u=Jh,placeholder:d,popupOpen:p,disabled:h,tooltipContainer:f,variables:m,feelLanguageContext:g}=e,v=(0,o.li)(),[b,y]=(0,o.J0)(),[_,w]=(0,o.J0)(i||""),{builtins:k,dialect:E,parserDialect:F}=g||{};!function(e,t){const[n,r]=(0,o.J0)(void 0);t.current=(0,o.Kr)(()=>({focus:t=>{e?e.focus(t):(void 0===t&&(t=1/0),r(t))}}),[e]),(0,o.vJ)(()=>{void 0!==n&&e&&(e.focus(n),r(!1))},[e,n])}(b,t);const S=xh(e=>{l(e),w(e)});return(0,o.vJ)(()=>{let e;return e=new Gc.A({container:v.current,onChange:S,onKeyDown:t=>{if(s(t),"Backspace"!==t.key||!e)return;const n=e.getSelection(),r=n.ranges[n.mainIndex];0===r.from&&0===r.to&&a()},onLint:c,placeholder:d,tooltipContainer:f,value:_,variables:m,builtins:k,dialect:E,parserDialect:F,extensions:[...r?[(0,Yc.$K)()]:[],Yc.Lz.lineWrapping],contentAttributes:n}),y(e),()=>{c([]),v.current.innerHTML="",y(null)}},[]),(0,o.vJ)(()=>{b&&i!==_&&(b.setValue(i),w(i))},[i]),(0,o.vJ)(()=>{b&&b.setVariables(m)},[m]),(0,o.vJ)(()=>{b&&b.setPlaceholder(d)},[d]),Z("div",{class:x()("bio-properties-panel-feel-editor-container",h?"disabled":null,p?"popupOpen":null),children:[p&&Z("div",{class:"bio-properties-panel-feel-editor__open-popup-placeholder",children:"Opened in editor"}),Z("div",{name:e.name,class:x()("bio-properties-panel-input",_?"edited":null),ref:v,onClick:()=>{t.current.focus()}}),!h&&Z($h,{onClick:()=>u("feel")})]})});function qh(e){const{active:t}=e;return t?Z("span",{class:"bio-properties-panel-feel-indicator",children:"="}):null}const Kh=()=>{};function Zh(e){const{feel:t=!1,active:n,disabled:r=!1,onClick:i=Kh}=e,o=`Click to ${n?"remove":"set a"} dynamic value with FEEL expression`;return Z("button",{type:"button",class:x()("bio-properties-panel-feel-icon",n?"active":null,"required"===t?"required":"optional"),onClick:e=>{i(e),e.pointerType||e.stopPropagation()},disabled:"required"===t||r,title:"required"===t?"FEEL expression is mandatory":o,children:Z(th,{})})}function Wh(e){return function(e){return!e.altKey&&(e.ctrlKey||e.metaKey)}(e)&&1===e.key.length&&/^[a-zA-Z]$/.test(e.key)}function Gh(e){const{id:t,label:n,onInput:r,value:i,switcherLabel:l,inline:s,onFocus:a,onBlur:c,inputRef:u,tooltip:d}=e,[p,h]=(0,o.J0)(i);return(0,o.vJ)(()=>{i!==p&&h(i)},[i]),Z("div",{class:x()("bio-properties-panel-toggle-switch",{inline:s}),children:[Z("label",{class:"bio-properties-panel-label",for:Qh(t),children:Z(dh,{value:d,forId:t,element:e.element,children:n})}),Z("div",{class:"bio-properties-panel-field-wrapper",children:[Z("label",{class:"bio-properties-panel-toggle-switch__switcher",children:[Z("input",{ref:u,id:Qh(t),class:"bio-properties-panel-input",type:"checkbox",onFocus:a,onBlur:c,name:t,onInput:e=>{(async()=>{r(!i)})(),h(e.target.value)},checked:!!p}),Z("span",{class:"bio-properties-panel-toggle-switch__slider"})]}),l&&Z("p",{class:"bio-properties-panel-toggle-switch__label",children:l})]})]})}function Yh(e){const{element:t,id:n,description:r,label:i,switcherLabel:o,inline:l,getValue:s,setValue:a,onFocus:c,onBlur:u,tooltip:d}=e;return Z("div",{class:"bio-properties-panel-entry bio-properties-panel-toggle-switch-entry","data-entry-id":n,children:[Z(Gh,{id:n,label:i,value:s(t),onInput:a,onFocus:c,onBlur:u,switcherLabel:o,inline:l,tooltip:d,element:t}),Z(Dh,{forId:n,element:t,value:r})]})}function Xh(e){return e&&!!e.checked}function Qh(e){return`bio-properties-panel-${e}`}function ef(e){const{debounce:t,disabled:n,displayLabel:r=!0,id:i,inputRef:l,label:s,max:a,min:c,onInput:u,step:d,value:p="",onFocus:h,onBlur:f,tooltip:m}=e,[g,v]=(0,o.J0)(p),b=(0,o.Kr)(()=>t(e=>{e.validity.valid&&u(e.value?parseFloat(e.value):void 0)}),[u,t]);return(0,o.vJ)(()=>{p!==g&&v(p)},[p]),Z("div",{class:"bio-properties-panel-numberfield",children:[r&&Z("label",{for:rf(i),class:"bio-properties-panel-label",children:Z(dh,{value:m,forId:i,element:e.element,children:s})}),Z("input",{id:rf(i),ref:l,type:"number",name:i,spellCheck:"false",autoComplete:"off",disabled:n,class:"bio-properties-panel-input",max:a,min:c,onInput:e=>{b(e.target),v(e.target.value)},onFocus:h,onBlur:f,step:d,value:g})]})}function tf(e){const{debounce:t,description:n,disabled:r,element:i,getValue:l,id:s,label:a,max:c,min:u,setValue:d,step:p,onFocus:h,onBlur:f,validate:m,tooltip:g}=e,v=mh(s),[b,y]=(0,o.J0)(null);let _=l(i);(0,o.vJ)(()=>{if((0,F.isFunction)(m)){const e=m(_)||null;y(e)}},[_,m]);const w=v||b;return Z("div",{class:x()("bio-properties-panel-entry",w?"has-error":""),"data-entry-id":s,children:[Z(ef,{debounce:t,disabled:r,id:s,label:a,onFocus:h,onBlur:f,onInput:e=>{let t=null;(0,F.isFunction)(m)&&(t=m(e)||null),d(e,t),y(t)},max:c,min:u,step:p,value:_,tooltip:g},i),w&&Z("div",{class:"bio-properties-panel-error",children:w}),Z(Dh,{forId:s,element:i,value:n})]})}function nf(e){return e&&!!e.value}function rf(e){return`bio-properties-panel-${e}`}const of=()=>{};function lf(e){const{debounce:t,id:n,element:r,label:i,hostLanguage:l,onInput:s,onBlur:a,onError:c,placeholder:u,feel:d,value:p="",disabled:h=!1,variables:f,singleLine:m,tooltipContainer:g,OptionalComponent:v=sf,tooltip:b}=e,[y,_]=(0,o.J0)(p),w=_h(n),k=(0,o.li)(),E=(0,o.hb)(e=>{s(""===e||"="===e?void 0:e)},[s]),S=(0,F.isString)(y)&&y.startsWith("=")||"required"===d,R=(0,F.isString)(y)&&y.startsWith("=")?y.substring(1):y,C=(0,o.NT)(ah),[j,T]=(0,o.J0)(void 0),{eventBus:A}=(0,o.NT)(sh),[L,I]=(0,o.J0)(!1),P=(e=0)=>{const t=k.current.contains(document.activeElement)?document.activeElement.selectionStart:1/0;T(t+e)},O=fh(E,t),D=xh(()=>{"required"!==d&&(S?(_(R),O(R)):(_("="+y),O("="+y)))}),V=(e,t=!0)=>{S&&(e="="+e),e!==y&&(_(e),t?O(e):E(e),!S&&(0,F.isString)(e)&&e.startsWith("=")&&P(-1))},M=e=>{Wh(e)&&O.flush()},N=xh((e=[])=>{const t=e.some(e=>"Syntax Error"===e.type);c(t?"Unparsable FEEL expression.":void 0)}),z=(e="feel")=>{const t=A.fire("propertiesPanel.openPopup",{element:r,entryId:n,hostLanguage:l,label:i,onInput:V,singleLine:m,sourceElement:w.current,tooltipContainer:g,type:e,value:R,variables:f,feelLanguageContext:C});t&&A.once("propertiesPanelPopup.close",()=>{I(!1)}),I(!0===t)};return(0,o.vJ)(()=>{void 0!==j&&(w.current.focus(j),T(void 0))},[j]),(0,o.vJ)(()=>{p!==y&&_(p||(S?"=":""))},[p]),(0,o.vJ)(()=>()=>{A.fire("propertiesPanel.closePopup")},[]),(0,o.vJ)(()=>{const e=e=>{S&&e.clipboardData.setData("application/FEEL",e.clipboardData.getData("text"))},t=e=>{if(S||L)return;if(e.clipboardData.getData("application/FEEL"))return void setTimeout(()=>{D(),P()});const t=e.target,n=!t.value,r=0===t.selectionStart&&t.selectionEnd===t.value.length;if(n||r){const t=e.clipboardData.getData("text").trim();_(t),O(t),!S&&(0,F.isString)(t)&&t.startsWith("=")&&P(t.length-1),e.preventDefault()}};return k.current.addEventListener("copy",e),k.current.addEventListener("cut",e),k.current.addEventListener("paste",t),()=>{k.current.removeEventListener("copy",e),k.current.removeEventListener("cut",e),k.current.removeEventListener("paste",t)}},[k,S,D,P]),Z("div",{class:x()("bio-properties-panel-feel-entry",{"feel-active":S}),children:[Z("label",{for:mf(n),class:"bio-properties-panel-label",onClick:()=>P(),children:[Z(dh,{value:b,forId:n,element:e.element,children:i}),Z(Zh,{label:i,feel:d,onClick:D,active:S})]}),Z("div",{class:"bio-properties-panel-feel-container",ref:k,children:[Z(qh,{active:S,disabled:"optional"!==d||h,onClick:D}),S?Z(Uh,{name:n,onInput:V,onKeyDown:M,contentAttributes:{id:mf(n),"aria-label":i},disabled:h,popupOpen:L,onFeelToggle:()=>{D(),P(!0)},onLint:N,onOpenPopup:z,placeholder:u,value:R,variables:f,feelLanguageContext:C,ref:w,tooltipContainer:g}):Z(v,{...e,popupOpen:L,onInput:V,onKeyDown:M,onBlur:e=>{if(O.cancel?.(),"checkbox"===e.target.type)E(e.target.checked);else{const t=e.target.value.trim();V(t,!1)}a&&a(e)},contentAttributes:{id:mf(n),"aria-label":i},value:y,ref:w,onOpenPopup:z,containerRef:k})]})]})}const sf=ie((e,t)=>{const{id:n,disabled:r,onInput:i,onKeyDown:l,value:s,onFocus:a,onBlur:c,placeholder:u}=e,d=(0,o.li)();return t.current={focus:e=>{const t=d.current;t&&(t.focus(),"number"==typeof e&&(e>s.length&&(e=s.length),t.setSelectionRange(e,e)))}},Z("input",{id:mf(n),type:"text",ref:d,name:n,spellCheck:"false",autoComplete:"off",disabled:r,class:"bio-properties-panel-input",onInput:e=>i(e.target.value),onFocus:a,onKeyDown:l,onBlur:c,placeholder:u,value:s||""})}),af=ie((e,t)=>{const{id:n,debounce:r,disabled:i,onInput:l,value:s,min:a,max:c,step:u,onFocus:d,onBlur:p}=e,h=(0,o.li)();return t.current={focus:e=>{const t=h.current;t&&(t.focus(),"number"==typeof e&&e!==1/0&&(e>s.length&&(e=s.length),t.setSelectionRange(e,e)))}},Z(ef,{id:n,debounce:r,disabled:i,displayLabel:!1,inputRef:h,max:c,min:a,onInput:l,step:u,value:s,onFocus:d,onBlur:p})});ie((e,t)=>{const{id:n,disabled:r,onInput:i,value:l,onFocus:s,onBlur:a,placeholder:c}=e,u=(0,o.li)();return t.current={focus:()=>{const e=u.current;e&&(e.focus(),e.setSelectionRange(0,0))}},Z("textarea",{id:mf(n),type:"text",ref:u,name:n,spellCheck:"false",autoComplete:"off",disabled:r,class:"bio-properties-panel-input",onInput:e=>i(e.target.value),onFocus:s,onBlur:a,placeholder:c,value:l||"","data-gramm":"false"})});const cf=ie((e,t)=>{const{id:n,onInput:r,value:i,onFocus:l,onBlur:s,switcherLabel:a}=e,c=(0,o.li)();return t.current={focus:()=>{const e=c.current;e&&e.focus()}},Z(Gh,{id:n,value:i,inputRef:c,onInput:r,onFocus:l,onBlur:s,switcherLabel:a})});function uf(e){const{element:t,id:n,description:r,debounce:l,disabled:s,feel:a,label:c,getValue:u,setValue:d,tooltipContainer:p,hostLanguage:h,singleLine:f,validate:m,show:g=of,example:v,variables:b,onFocus:y,onBlur:_,placeholder:w,tooltip:k}=e,[E,S]=(0,o.J0)(null),[R,C]=(0,o.J0)(null);let j=u(t);(0,o.vJ)(()=>{if((0,F.isFunction)(m)){const e=m(j)||null;S(e)}},[j,m]);const T=xh(e=>{const n=u(t);let r=null;(0,F.isFunction)(m)&&(r=m(e)||null),e!==n&&d(e,r),S(r)}),A=(0,o.hb)(e=>{C(e)},[]),L=mh(n)||R||E;return Z("div",{class:x()(e.class,"bio-properties-panel-entry",L?"has-error":""),"data-entry-id":n,children:[(0,i.createElement)(lf,{...e,debounce:l,disabled:s,feel:a,id:n,key:t,label:c,onInput:T,onError:A,onFocus:y,onBlur:_,placeholder:w,example:v,hostLanguage:h,singleLine:f,show:g,value:j,variables:b,tooltipContainer:p,OptionalComponent:e.OptionalComponent,tooltip:k}),L&&Z("div",{class:"bio-properties-panel-error",children:L}),Z(Dh,{forId:n,element:t,value:r})]})}function df(e){return Z(uf,{class:"bio-properties-panel-feel-number",OptionalComponent:af,...e})}function pf(e){return Z(uf,{class:"bio-properties-panel-feel-toggle-switch",OptionalComponent:cf,...e})}function hf(e){return Z(uf,{class:"bio-properties-panel-feel-templating",OptionalComponent:Hh,...e})}function ff(e){return!!e&&("checkbox"===e.type?!!e.checked||e.classList.contains("edited"):!!e.value||e.classList.contains("edited"))}function mf(e){return`bio-properties-panel-${e}`}function gf(e){const{id:t,label:n,onChange:r,options:i=[],value:l="",disabled:s,onFocus:a,onBlur:c,tooltip:u}=e,d=_h(t),[p,h]=(0,o.J0)(l);return(0,o.vJ)(()=>{l!==p&&h(l)},[l]),Z("div",{class:"bio-properties-panel-select",children:[Z("label",{for:yf(t),class:"bio-properties-panel-label",children:Z(dh,{value:u,forId:t,element:e.element,children:n})}),Z("select",{ref:d,id:yf(t),name:t,class:"bio-properties-panel-input",onInput:e=>{(({target:e})=>{r(e.value)})(e),h(e.target.value)},onFocus:a,onBlur:c,value:p,disabled:s,children:i.map((e,t)=>e.children?Z("optgroup",{label:e.label,children:e.children.map((e,t)=>Z("option",{value:e.value,disabled:e.disabled,children:e.label},t))},t):Z("option",{value:e.value,disabled:e.disabled,children:e.label},t))})]})}function vf(e){const{element:t,id:n,description:r,label:i,getValue:l,setValue:s,getOptions:a,disabled:c,onFocus:u,onBlur:d,validate:p,tooltip:h}=e,f=a(t),m=mh(n),[g,v]=(0,o.J0)(null);let b=l(t);(0,o.vJ)(()=>{if((0,F.isFunction)(p)){const e=p(b)||null;v(e)}},[b,p]);const y=m||g;return Z("div",{class:x()("bio-properties-panel-entry",y?"has-error":""),"data-entry-id":n,children:[Z(gf,{id:n,label:i,value:b,onChange:e=>{let t=null;(0,F.isFunction)(p)&&(t=p(e)||null),s(e,t),v(t)},onFocus:u,onBlur:d,options:f,disabled:c,tooltip:h,element:t},t),y&&Z("div",{class:"bio-properties-panel-error",children:y}),Z(Dh,{forId:n,element:t,value:r})]})}function bf(e){return e&&!!e.value}function yf(e){return`bio-properties-panel-${e}`}function _f(e){e.style.height="auto",e.style.height=`${e.scrollHeight+2}px`}function wf(e){const{id:t,label:n,debounce:r,onInput:i,value:l="",disabled:s,monospace:a,onFocus:c,onBlur:u,onPaste:d,autoResize:p=!0,placeholder:h,rows:f=(p?1:2),tooltip:m}=e,[g,v]=(0,o.J0)(l),b=_h(t),y=(0,o.hb)(e=>{i(""===e?void 0:e)},[i]),_=function(e){const[t,n]=(0,o.J0)(!!e&&!!e.clientHeight);return(0,o.Nf)(()=>{if(!e)return;const r=new ResizeObserver(([e])=>{requestAnimationFrame(()=>{const r=!!e.contentRect.height;r!==t&&n(r)})});return r.observe(e),()=>r.disconnect()},[e,t]),t}(b.current),w=fh(y,r);return(0,o.Nf)(()=>{p&&_f(b.current)},[]),(0,o.Nf)(()=>{_&&p&&_f(b.current)},[_]),(0,o.vJ)(()=>{l!==g&&v(l)},[l]),Z("div",{class:"bio-properties-panel-textarea",children:[Z("label",{for:kf(t),class:"bio-properties-panel-label",children:Z(dh,{value:m,forId:t,element:e.element,children:n})}),Z("textarea",{ref:b,id:kf(t),name:t,spellCheck:"false",class:x()("bio-properties-panel-input",a?"bio-properties-panel-input-monospace":"",p?"auto-resize":""),onInput:e=>{p&&_f(e.target),e.target.value!==g&&(v(e.target.value),w(e.target.value))},onFocus:c,onKeyDown:e=>{Wh(e)&&w.flush()},onBlur:e=>{const t=e.target.value.trim();w.cancel?.(),y(t),v(t),u&&u(e)},onPaste:e=>{const t=e.target,n=!t.value,r=0===t.selectionStart&&t.selectionEnd===t.value.length;if(n||r){const t=e.clipboardData.getData("text").trim();return v(t),w(t),d&&d(e),void e.preventDefault()}d&&d(e)},placeholder:h,rows:f,value:g,disabled:s,"data-gramm":"false"})]})}function xf(e){return e&&!!e.value}function kf(e){return`bio-properties-panel-${e}`}function Ef(e){const{debounce:t,disabled:n=!1,id:r,label:i,onInput:l,onFocus:s,onBlur:a,onPaste:c,placeholder:u,value:d="",tooltip:p}=e,[h,f]=(0,o.J0)(d||""),m=_h(r),g=(0,o.hb)(e=>{l(""===e?void 0:e)},[l]),v=fh(g,t);return(0,o.vJ)(()=>{d!==h&&f(d)},[d]),Z("div",{class:"bio-properties-panel-textfield",children:[Z("label",{for:Rf(r),class:"bio-properties-panel-label",children:Z(dh,{value:p,forId:r,element:e.element,children:i})}),Z("input",{ref:m,id:Rf(r),type:"text",name:r,spellCheck:"false",autoComplete:"off",disabled:n,class:"bio-properties-panel-input",onInput:e=>{e.target.value!==h&&(f(e.target.value),v(e.target.value))},onFocus:s,onKeyDown:e=>{Wh(e)&&v.flush()},onBlur:e=>{const t=e.target.value.trim();v.cancel?.(),g(t),f(t),a&&a(e)},onPaste:e=>{const t=e.target,n=!t.value,r=0===t.selectionStart&&t.selectionEnd===t.value.length;if(n||r){const t=e.clipboardData.getData("text").trim();return f(t),v(t),c&&c(e),void e.preventDefault()}c&&c(e)},placeholder:u,value:h})]})}function Ff(e){const{element:t,id:n,description:r,debounce:i,disabled:l,label:s,getValue:a,setValue:c,validate:u,onFocus:d,onBlur:p,onPaste:h,placeholder:f,tooltip:m}=e,g=mh(n),[v,b]=(0,o.J0)(null);let y=a(t);(0,o.vJ)(()=>{if((0,F.isFunction)(u)){const e=u(y)||null;b(e)}},[y,u]);const _=xh(e=>{const n=a(t);let r=null;(0,F.isFunction)(u)&&(r=u(e)||null),e!==n&&c(e,r),b(r)}),w=g||v;return Z("div",{class:x()("bio-properties-panel-entry",w?"has-error":""),"data-entry-id":n,children:[Z(Ef,{debounce:i,disabled:l,id:n,label:s,onInput:_,onFocus:d,onBlur:p,onPaste:h,placeholder:f,value:y,tooltip:m,element:t},t),w&&Z("div",{class:"bio-properties-panel-error",children:w}),Z(Dh,{forId:n,element:t,value:r})]})}function Sf(e){return e&&!!e.value}function Rf(e){return`bio-properties-panel-${e}`}function Cf(e){e.preventDefault(),e.stopPropagation()}ie((e,t)=>{const{id:n,disabled:r,onInput:i,value:l,onFocus:s,onBlur:a}=e,c=(0,o.li)();return t.current={focus:()=>{const e=c.current;e&&e.focus()}},Z("input",{ref:c,id:mf(n),name:n,onFocus:s,onBlur:a,type:"checkbox",class:"bio-properties-panel-input",onChange:({target:e})=>{i(e.checked)},checked:l,disabled:r})});const jf=()=>{},Tf=ie(function(e,t){const{className:n,delayInitialFocus:r,position:i,width:l,height:s,onClose:a,onPostActivate:c=jf,onPostDeactivate:u=jf,returnFocus:d=!0,closeOnEscape:p=!0,title:h}=e,f=(0,o.li)(null),m=(0,o.li)(null),g=t||m,v=()=>{f.current&&f.current.activate()};let b={};return i&&(b={...b,top:i.top+"px",left:i.left+"px"}),l&&(b.width=l+"px"),s&&(b.height=s+"px"),(0,o.vJ)(()=>(g.current&&g.current.addEventListener("focusin",v),()=>{g.current&&g.current.removeEventListener("focusin",v)}),[g]),(0,o.vJ)(()=>(g.current&&(f.current=Xc.K(g.current,{clickOutsideDeactivates:!0,delayInitialFocus:r,fallbackFocus:g.current,onPostActivate:c,onPostDeactivate:u,returnFocusOnDeactivate:d}),f.current.activate()),()=>f.current&&f.current.deactivate()),[g]),Z("div",{"aria-label":h,tabIndex:-1,ref:g,onKeyDown:e=>{e.stopPropagation(),p&&"Escape"===e.key&&a()},role:"dialog",class:x()("bio-properties-panel-popup",n),style:b,children:e.children})});function Af(e){return e.closest(".bio-properties-panel-popup")}function Lf(e){const{entryId:t,onInput:n,onClose:r,title:l,type:s,value:a,links:c,variables:u,position:d,hostLanguage:p,singleLine:h,sourceElement:f,tooltipContainer:m,eventBus:g,feelLanguageContext:v}=e,b=(0,o.li)(),y=(0,o.li)(),_=(0,o.li)(!1);return(0,o.vJ)(()=>{b.current&&b.current.focus()},[b]),Z(Tf,{className:"bio-properties-panel-feel-popup",position:d,title:l,returnFocus:!1,closeOnEscape:!1,delayInitialFocus:!1,onPostDeactivate:()=>{f&&f.focus()},height:250,width:700,ref:y,children:[Z(Tf.Title,{title:l,eventBus:g,showCloseButton:!0,closeButtonTooltip:"Save and close",onClose:r,draggable:!0,children:Z(i.Fragment,{children:(c||[]).map((e,t)=>Z("a",{rel:"noreferrer",href:e.href,target:"_blank",class:"bio-properties-panel-feel-popup__title-link",children:[e.title,Z(nh,{})]},t))})}),Z(Tf.Body,{children:Z("div",{onKeyDownCapture:e=>{"Escape"===e.key&&(_.current=function(e){const t=e.closest(".cm-editor");return t?t.querySelector(".cm-tooltip-autocomplete"):null}(e.target))},onKeyDown:e=>{"Escape"===e.key&&(_.current||(r(),_.current=!1))},class:"bio-properties-panel-feel-popup__body",children:["feel"===s&&Z(Uh,{enableGutters:!0,id:If(t),name:t,onInput:n,value:a,variables:u,feelLanguageContext:v,ref:b,tooltipContainer:m}),"feelers"===s&&Z(Hh,{id:If(t),contentAttributes:{"aria-label":l},enableGutters:!0,hostLanguage:p,name:t,onInput:n,value:a,ref:b,singleLine:h,tooltipContainer:m})]})})]})}function If(e){return`bio-properties-panel-${e}`}function Pf({element:e,label:t}){let n="";return e&&e.type&&(n=`${e.type} / `),`${n}${t}`}function Of(){const e=window.innerWidth||document.documentElement.clientWidth,t=window.innerHeight||document.documentElement.clientHeight;return{left:Math.max(0,(e-700)/2),top:Math.max(0,(t-250)/2)}}Tf.Title=function(e){const{children:t,className:n,draggable:r,eventBus:l,title:a,showCloseButton:c=!1,closeButtonTooltip:u="Close popup",onClose:d,...p}=e,h=(0,o.li)({startPosition:null,newPosition:null}),f=(0,o.li)(),m=(0,o.li)(),g=(e,t)=>{!function(e){e.preventDefault(),e.stopPropagation()}(e);const{x:n,y:r}=t,i={x:h.current.startPosition.x+n,y:h.current.startPosition.y+r},o=Af(m.current);o.style.top=i.y+"px",o.style.left=i.x+"px",l?.fire("feelPopup.dragover",{newPosition:i,delta:t})};return Z("div",{class:x()("bio-properties-panel-popup__header",r&&"draggable",n),ref:m,draggable:r,onDragStart:e=>{(function(e,t){let n,r,i;function o(t){const o={x:t.clientX-r,y:t.clientY-i};return e.call(n,t,o)}function l(){document.removeEventListener("dragover",o,!0),document.removeEventListener("dragenter",Cf,!0),document.removeEventListener("dragend",l),document.removeEventListener("drop",Cf)}return function(e){n=this,r=e.clientX,i=e.clientY,e.dataTransfer&&e.dataTransfer.setDragImage(t||s()('<canvas width="0" height="0" />'),0,0),document.addEventListener("dragover",o,!0),document.addEventListener("dragenter",Cf,!0),document.addEventListener("dragend",l),document.addEventListener("drop",Cf)}})(g,f.current)(e),e.stopPropagation();const t=Af(m.current).getBoundingClientRect();h.current.startPosition={x:t.left,y:t.top},l?.fire("feelPopup.dragstart")},onDragEnd:()=>{h.current.newPosition=null,l?.fire("feelPopup.dragend")},...p,children:[r&&Z(i.Fragment,{children:[Z("div",{ref:f,class:"bio-properties-panel-popup__drag-preview"}),Z("div",{class:"bio-properties-panel-popup__drag-handle",children:Z(Qp,{})})]}),Z("div",{class:"bio-properties-panel-popup__title",children:a}),t,c&&Z("button",{title:u,class:"bio-properties-panel-popup__close",onClick:d,children:Z(Gp,{})})]})},Tf.Body=function(e){const{children:t,className:n,...r}=e;return Z("div",{class:x()("bio-properties-panel-popup__body",n),...r,children:t})},Tf.Footer=function(e){const{children:t,className:n,...r}=e;return Z("div",{class:x()("bio-properties-panel-popup__footer",n),...r,children:e.children})};class Df{constructor(e,t={}){this._eventBus=e,this._config=t,this._isOpen=!1,e.on("propertiesPanel.openPopup",(e,t)=>(this.open(t.entryId,t,t.sourceElement),!0)),e.on(["propertiesPanel.closePopup","propertiesPanel.detach"],()=>{this.close()})}isOpen(){return this._isOpen}open(e,t,n){this.close(),this._openPopup({...t,entryId:e,sourceElement:n})}close(){this._closePopup()}_openPopup(e){const{element:t,label:n,sourceElement:r,type:i}=e;this._isOpen=!0,this._eventBus.fire("propertiesPanelPopup.open",{container:this._config.feelPopupContainer,config:{...e,links:this._config.getFeelPopupLinks?.(i)||[],onClose:()=>{this._closePopup(),setTimeout(()=>{r&&r.focus()},0)},position:Of(),title:Pf({element:t,label:n})}})}_closePopup(){this._isOpen&&(this._isOpen=!1,this._eventBus.fire("propertiesPanelPopup.close"))}}Df.$inject=["eventBus","config.propertiesPanel"];class Vf{constructor(e){this._eventBus=e,this._container=null,this._element=null,e.on("propertiesPanelPopup.open",e=>{this._renderPopup(e)}),e.on("propertiesPanelPopup.close",()=>{this._removePopup()})}_renderPopup(e){let{container:t,config:n}=e;t=this._container=function(e){return(0,F.isString)(e)?(0,a.P)(e):e}(t)||document.body;const r=this._element=function(){const e=document.createElement("div");return e.classList.add("bio-properties-panel-popup-container"),e}();t.appendChild(r),this._emit("feelPopup.open"),(0,i.render)(Z(Lf,{...n,eventBus:this._eventBus}),r),this._emit("feelPopup.opened",{domNode:r})}_removePopup(){this._container&&(this._emit("feelPopup.close",{domNode:this._element}),(0,i.render)(null,this._element),this._container.removeChild(this._element),this._container=null,this._emit("feelPopup.closed"))}_emit(e,t){this._eventBus.fire(e,t)}}Vf.$inject=["eventBus"];var Mf={__init__:["feelPopup","feelPopupRenderer"],feelPopup:["type",Df],feelPopupRenderer:["type",Vf]};const Nf=(0,i.createContext)({getService:function(e,t){}}),zf={getEmpty:()=>({text:"Select a form field to edit its properties."}),getMultiple:()=>({text:"Multiple form fields are selected. Select a single form field to edit its properties."})},$f={};function Bf(e){const{eventBus:t,getProviders:n,injector:r}=e,i=r.get("formEditor"),l=r.get("modeling"),s=r.get("selection"),a=r.get("config.propertiesPanel")||$f,{feelPopupContainer:c}=a,[u,d]=(0,o.J0)({selectedFormField:s.get()||i._getState().schema}),p=u.selectedFormField,h=(0,o.hb)(e=>{d({selectedFormField:s.get()||i._getState().schema}),t.fire("propertiesPanel.updated",{formField:e})},[t,i,s]);(0,o.Nf)(()=>(t.on("changed",h),t.on("import.done",h),t.on("selection.changed",h),()=>{t.off("changed",h),t.off("import.done",h),t.off("selection.changed",h)}),[t,h]);const f=(e,t=!0)=>r.get(e,t),m={getService:f},g=(0,o.hb)((e,t,n)=>l.editFormField(e,t,n),[l]),v=n(p),b=(0,o.Kr)(()=>(0,F.reduce)(v,function(e,t){return(0,F.isArray)(p)?[]:t.getGroups(p,g)(e)},[]),[v,p,g]),y=f("formFields"),_=(0,o.Kr)(()=>function(e={}){const{getDocumentationRef:t,formFields:n}=e;return{getElementLabel:e=>{const{type:t}=e,r=n.get(t).config;return r.getSubheading?r.getSubheading(e):e.label},getElementIcon:e=>{const{type:t}=e,r=n.get(t).config,i=r.icon||Dl(t);return i?function(){return Z(i,{width:"36",height:"36",viewBox:"0 0 54 54"})}:r.iconUrl?id({iconUrl:r.iconUrl,label:r.label}):void 0},getTypeLabel:e=>{const{type:t}=e;if("default"===t)return"Form";const r=n.get(t).config;return r.name||r.label||t},getDocumentationRef:t}}({getDocumentationRef:a.getDocumentationRef,formFields:y}),[y,a]);return Z("div",{class:"fjs-properties-panel","data-field":p&&p.id,onFocusCapture:()=>t.fire("propertiesPanel.focusin"),onBlurCapture:()=>t.fire("propertiesPanel.focusout"),children:Z(Nf.Provider,{value:m,children:Z(jh,{element:p,eventBus:t,groups:b,headerProvider:_,placeholderProvider:zf,feelPopupContainer:c})})})}class Hf{constructor(e,t,n){const{parent:r}=e||{};this._eventBus=n,this._injector=t,this._container=s()('<div class="fjs-properties-container" input-handle-modified-keys="y,z"></div>'),r&&this.attachTo(r),this._eventBus.once("formEditor.rendered",500,()=>{this._render()})}attachTo(e){if(!e)throw new Error("container required");"string"==typeof e&&(e=(0,a.P)(e)),this.detach(),e.appendChild(this._container),this._eventBus.fire("propertiesPanel.attach")}detach(){const e=this._container.parentNode;e&&(e.removeChild(this._container),this._eventBus.fire("propertiesPanel.detach"))}_render(){(0,i.render)(Z(Bf,{getProviders:this._getProviders.bind(this),eventBus:this._eventBus,injector:this._injector}),this._container),this._eventBus.fire("propertiesPanel.rendered")}_destroy(){this._container&&((0,i.render)(null,this._container),this._eventBus.fire("propertiesPanel.destroyed"))}registerProvider(e,t){t||(t=1e3),"function"==typeof e.getGroups?(this._eventBus.on("propertiesPanel.getProviders",t,function(t){t.providers.push(e)}),this._eventBus.fire("propertiesPanel.providersChanged")):console.error("Properties provider does not implement #getGroups(element) API")}_getProviders(){const e=this._eventBus.createEvent({type:"propertiesPanel.getProviders",providers:[]});return this._eventBus.fire(e),e.providers}}function Jf(e){const{editField:t,field:n}=e,r=[];return r.push({id:"action",component:Uf,editField:t,field:n,isEdited:bf,isDefaultVisible:e=>"button"===e.type}),r}function Uf(e){const{editField:t,field:n,id:r}=e,i=["action"];return vf({element:n,getOptions:()=>[{label:"Submit",value:"submit"},{label:"Reset",value:"reset"}],getValue:()=>(0,F.get)(n,i,""),id:r,label:"Action",setValue:e=>t(n,i,e)})}function qf(e,t){const{getService:n}=(0,o.NT)(Nf);return n(e,t)}function Kf(){return ba(qf("formEditor").getSchema())}function Zf(e){const{editField:t,field:n}=e,r=[];return r.push({id:"alt",component:Wf,editField:t,field:n,isEdited:ff,isDefaultVisible:e=>["image"].includes(e.type)}),r}function Wf(e){const{editField:t,field:n,id:r}=e,i=qf("debounce"),o=Kf().map(e=>({name:e})),l=["alt"];return hf({debounce:i,element:n,feel:"optional",getValue:()=>(0,F.get)(n,l,""),id:r,label:"Alternative text",tooltip:"Descriptive text for screen reader accessibility.",setValue:e=>t(n,l,e),singleLine:!0,variables:o})}function Gf(e){const{editField:t,field:n}=e;return[{id:"columns",component:Yf,field:n,editField:t,isEdited:bf}]}function Yf(e){const{field:t,editField:n,id:r}=e;qf("debounce");const i=qf("formLayoutValidator"),l=(0,o.hb)(e=>i.validateField(t,e?parseInt(e):null),[t,i]);return vf({element:t,id:r,label:"Columns",getOptions:()=>[{label:"Auto",value:""},...Array.from({length:16}).map((e,t)=>t+1).filter(e=>e>=2).map(Xf)],getValue:()=>(0,F.get)(t,["layout","columns"]),setValue:(e,r)=>{if(r)return;const i=(0,F.get)(t,["layout"],{}),o=e?parseInt(e):null;n(t,["layout"],(0,F.set)(i,["columns"],o))},validate:l})}function Xf(e){return{value:e,label:e.toString()}}function Qf(e,t,n){const r=[...e];return r.splice(t,0,n),r}function em(e){const t=q(e);return t.toString()===t.toFixed(0)?0:t.toFixed().split(".")[1].length||0}function tm(e){return("number"==typeof e||"string"==typeof e)&&""!==e&&!isNaN(Number(e))}function nm(e){return/^\w+(\.\w+)*$/.test(e)}function rm(e){const t=["__proto__","prototype","constructor"];return e.split(".").some(e=>t.includes(e))}Hf.$inject=["config.propertiesPanel","injector","eventBus"];const im=["button","group","dynamiclist","iframe","table","documentPreview"],om=["checkbox","checklist","datetime","number","radio","select","taglist","textfield","textarea","filepicker"],lm=["checklist","radio","select","taglist"];function sm(e){return e.split(".").some(e=>/^\d+$/.test(e))}function am(e,t=!0){return n=>{if(!n)return!1;const r=n.querySelector(".cm-content"),i=r?r.innerText:n.value;return!(t&&!i)&&i!==e}}function cm(e){return e&&!e.checked}function um(e){const{editField:t,field:n}=e,r=[];return r.push({id:"description",component:dm,editField:t,field:n,isEdited:ff,isDefaultVisible:e=>"filepicker"!==e.type&&om.includes(e.type)}),r}function dm(e){const{editField:t,field:n,id:r}=e,i=qf("debounce"),o=Kf().map(e=>({name:e})),l=["description"];return hf({debounce:i,element:n,getValue:()=>(0,F.get)(n,l,""),id:r,label:"Field description",singleLine:!0,setValue:e=>t(n,l,e),variables:o})}const pm="";function hm(e){const{editField:t,field:n}=e,{type:r}=n,i=[];function o(e){return t=>!(!om.includes(r)||lm.includes(r)&&!t.values)&&e(t)}const l={editField:t,field:n,id:"defaultValue",label:"Default value"};return i.push({...l,component:fm,isEdited:bf,isDefaultVisible:o(e=>"checkbox"===e.type)}),i.push({...l,component:mm,isEdited:Sf,isDefaultVisible:o(e=>"number"===e.type)}),i.push({...l,component:gm,isEdited:bf,isDefaultVisible:o(e=>"radio"===e.type||"select"===e.type)}),i.push({...l,component:vm,isEdited:Sf,isDefaultVisible:o(e=>"textfield"===e.type)}),i.push({...l,component:bm,isEdited:xf,isDefaultVisible:o(e=>"textarea"===e.type)}),i}function fm(e){const{editField:t,field:n,id:r,label:i}=e,{defaultValue:o}=n,l=["defaultValue"];return vf({element:n,getOptions:()=>[{label:"Checked",value:"true"},{label:"Not checked",value:"false"}],getValue:()=>!0===o?"true":"false",id:r,label:i,setValue:e=>t(n,l,function(e){return"true"===e}(e))})}function mm(e){const{editField:t,field:n,id:r,label:i}=e,{decimalDigits:l,serializeToString:s=!1}=n,a=qf("debounce"),c=["defaultValue"],u=l||0===l,d=(0,o.hb)(e=>{if(null!=e)return tm(e)?u&&em(e)>l?`Should not contain more than ${l} decimal digits`:void 0:"Should be a valid number"},[u,l]);return Ff({debounce:a,label:i,element:n,getValue:e=>{let t=(0,F.get)(n,c);if(tm(t))return s?q(t).toFixed():t},id:r,setValue:(e,r)=>{if(r)return;let i;return tm(e)&&(i=s?e:Number(e)),t(n,c,i)},validate:d})}function gm(e){const{editField:t,field:n,id:r,label:i}=e,{defaultValue:o=pm,values:l=[]}=n,s=["defaultValue"];return vf({element:n,getOptions:()=>[{label:"<none>",value:pm},...l],getValue:()=>o,id:r,label:i,setValue:e=>t(n,s,e.length?e:void 0)})}function vm(e){const{editField:t,field:n,id:r,label:i}=e,o=qf("debounce"),l=["defaultValue"];return Ff({debounce:o,element:n,getValue:()=>(0,F.get)(n,l,""),id:r,label:i,setValue:e=>t(n,l,e)})}function bm(e){const{editField:t,field:n,id:r,label:i}=e,l=qf("debounce"),s=["defaultValue"];return function(e){const{element:t,id:n,description:r,debounce:i,label:l,getValue:s,setValue:a,rows:c,monospace:u,disabled:d,validate:p,onFocus:h,onBlur:f,onPaste:m,placeholder:g,autoResize:v,tooltip:b}=e,y=mh(n),[_,w]=(0,o.J0)(null);let k=s(t);(0,o.vJ)(()=>{if((0,F.isFunction)(p)){const e=p(k)||null;w(e)}},[k,p]);const E=xh(e=>{const n=s(t);let r=null;(0,F.isFunction)(p)&&(r=p(e)||null),e!==n&&a(e,r),w(r)}),S=y||_;return Z("div",{class:x()("bio-properties-panel-entry",S?"has-error":""),"data-entry-id":n,children:[Z(wf,{id:n,label:l,value:k,onInput:E,onFocus:h,onBlur:f,onPaste:m,rows:c,debounce:i,monospace:u,disabled:d,placeholder:g,autoResize:v,tooltip:b,element:t},t),S&&Z("div",{class:"bio-properties-panel-error",children:S}),Z(Dh,{forId:n,element:t,value:r})]})}({debounce:l,element:n,getValue:()=>(0,F.get)(n,s,""),id:r,label:i,setValue:e=>t(n,s,e)})}function ym(e){const{editField:t,field:n}=e,r=[];return r.push({id:"disabled",component:_m,editField:t,field:n,isEdited:Xh,isDefaultVisible:e=>om.includes(e.type)}),r}function _m(e){const{editField:t,field:n,id:r}=e,i=["disabled"];return Yh({element:n,getValue:()=>(0,F.get)(n,i,""),id:r,label:"Disabled",tooltip:"Disable this field when it should not be interactive for end-users. Its data will not be submitted. This setting takes precedence over read-only.",inline:!0,setValue:e=>t(n,i,e)})}function wm(e){const{editField:t,field:n}=e,r=[];return r.push({id:"id",component:xm,editField:t,field:n,isEdited:Sf,isDefaultVisible:e=>"default"===e.type}),r}function xm(e){const{editField:t,field:n,id:r}=e,i=qf("formFieldRegistry"),l=qf("debounce"),s=["id"],a=(0,o.hb)(e=>{if("string"!=typeof e||0===e.length)return"Must not be empty.";const t=i._ids.assigned(e);return t&&t!==n?"Must be unique.":(function(e){return km.test(e)}(r=e)?"Must not contain spaces.":Fm.test(r)?void 0:Em.test(r)?"Must not contain prefix.":"Must be a valid QName.")||null;var r},[i,n]);return Ff({debounce:l,element:n,getValue:()=>(0,F.get)(n,s,""),id:r,label:"ID",setValue:(e,r)=>{if(!r)return t(n,s,e)},validate:a})}const km=/\s/,Em=/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i,Fm=/^[a-z_][\w-.]*$/i;function Sm(e){const{editField:t,field:n,getService:r}=e,i=[];return i.push({id:"key",component:Rm,editField:t,field:n,isEdited:Sf,isDefaultVisible:e=>{const t=r("formFields"),{config:n}=t.get(e.type);return n.keyed}}),i}function Rm(e){const{editField:t,field:n,id:r}=e,i=qf("pathRegistry"),l=qf("debounce"),s=["key"],a=(0,o.hb)(e=>{if(e===n.key)return null;if(!(0,F.isString)(e)||0===e.length)return"Must not be empty.";if(!nm(e))return"Must be a variable or a dot separated path.";if(sm(e))return"Must not contain numerical path segments.";if(rm(e))return"Must not be a prohibited path.";const t={[n.id]:e.split(".")},r=i.getValuePath(n),o=i.getValuePath(n,{replacements:t});i.unclaimPath(r);const l=i.canClaimPath(o,{isClosed:!0,claimerId:n.id});return i.claimPath(r,{isClosed:!0,claimerId:n.id}),l?null:"Must not conflict with other key/path assignments."},[n,i]);return Ff({debounce:l,description:"Binds to a form variable",element:n,getValue:()=>(0,F.get)(n,s,""),id:r,label:"Key",tooltip:'Use a unique "key" to link the form element and the related input/output data. When dealing with nested data, break it down in the user task\'s input mapping before using it.',setValue:(e,r)=>{if(!r)return t(n,s,e)},validate:a})}function Cm(e){const{editField:t,field:n,getService:r}=e,{type:i}=n,o=[],l=r("formFields").get(i);return l&&l.config.pathed&&o.push({id:"path",component:jm,editField:t,field:n,isEdited:Sf}),o}function jm(e){const{editField:t,field:n,id:r}=e,i=qf("debounce"),l=qf("pathRegistry"),s=qf("formFields").get(n.type).config.repeatable&&n.isRepeating,a=["path"],c=(0,o.hb)(e=>{if(!e&&s)return"Must not be empty";if(!e&&!s||e===n.path)return null;if(!nm(e))return s?"Must be a variable or a dot-separated path":"Must be empty, a variable or a dot-separated path";if(sm(e))return"Must not contain numerical path segments.";if(rm(e))return"Must not be a prohibited path.";const t={replacements:{[n.id]:e.split(".")}},r=l.executeRecursivelyOnFields(n,({field:e,isClosed:n,isRepeatable:r})=>{const i=l.getValuePath(e,t);return l.canClaimPath(i,{isClosed:n,isRepeatable:r,claimerId:e.id})});return r?null:"Must not cause two binding paths to collide"},[n,s,l]);return Ff({debounce:i,description:"Where the child variables of this component are pathed to.",element:n,getValue:()=>(0,F.get)(n,a,""),id:r,label:"Path",tooltip:s?"Routes the children of this component into a form variable, may be left empty to route at the root level.":"Routes the children of this component into a form variable.",setValue:(e,r)=>{if(!r)return t(n,a,e)},validate:c})}function Tm(e){const{id:t,label:n,description:r,path:i,props:o,getValue:l,setValue:s,isDefaultVisible:a,isTrueDefault:c=!1}=e,{editField:u,field:d}=o;return{id:t,label:n,path:i,field:d,editField:u,description:r,component:Am,isEdited:c?cm:Xh,isDefaultVisible:a,getValue:l,setValue:s}}const Am=e=>{const{id:t,label:n,path:r,field:i,editField:o,getValue:l=()=>(0,F.get)(i,r,""),setValue:s=e=>o(i,r,e||!1),description:a}=e;return Yh({element:i,getValue:l,id:t,label:n,setValue:s,inline:!0,description:a})};function Lm(e){const{id:t,label:n,path:r,props:i,optionsArray:o}=e,{editField:l,field:s}=i;return{id:t,label:n,path:r,field:s,editField:l,optionsArray:o,component:Im,isEdited:bf}}const Im=e=>{const{id:t,label:n,path:r,field:i,editField:o,optionsArray:l}=e;return vf({label:n,element:i,getOptions:()=>l,getValue:()=>(0,F.get)(i,r,""),id:t,setValue:e=>o(i,r,e)})};function Pm(e){const{id:t,label:n,path:r,props:i,min:o,max:l}=e,{editField:s,field:a}=i;return{id:t,label:n,path:r,field:a,editField:s,min:o,max:l,component:Om,isEdited:Sf}}const Om=e=>{const{id:t,label:n,path:r,field:i,editField:l,min:s=Number.MIN_SAFE_INTEGER,max:a=Number.MAX_SAFE_INTEGER}=e,c=qf("debounce"),u=(0,o.hb)(e=>{if(null!=e&&""!==e)return Number.isInteger(Number(e))?q(e).cmp(s)<0?`Should be at least ${s}.`:q(e).cmp(a)>0?`Should be at most ${a}.`:void 0:"Should be an integer."},[s,a]);return Ff({debounce:c,label:n,element:i,getValue:()=>{const e=(0,F.get)(i,r);return tm(e)&&Number.isInteger(e)?e:null},id:t,setValue:(e,t)=>{t||l(i,r,Number(e))},validate:u})};function Dm(e){const{field:t}=e,{type:n}=t;return["group","dynamiclist"].includes(n)?[Tm({id:"showOutline",path:["showOutline"],label:"Show outline",isTrueDefault:!0,props:e})]:[]}function Vm(e){const{field:t,editField:n}=e,r=[];return r.push({id:"date-label",component:Nm,editField:n,field:t,isEdited:ff,isDefaultVisible:function(e){return"datetime"===e.type&&(e.subtype===nr.DATE||e.subtype===nr.DATETIME)}}),r.push({id:"time-label",component:zm,editField:n,field:t,isEdited:ff,isDefaultVisible:function(e){return"datetime"===e.type&&(e.subtype===nr.TIME||e.subtype===nr.DATETIME)}}),r.push({id:"label",component:Mm,editField:n,field:t,isEdited:ff,isDefaultVisible:e=>[...om.filter(e=>"datetime"!==e),...im].includes(e.type)}),r}function Mm(e){const{editField:t,field:n,id:r}=e,i=qf("debounce"),o=Kf().map(e=>({name:e})),l=["label"],s=function(e){switch(e){case"group":case"dynamiclist":return"Group label";case"table":return"Table label";case"iframe":case"documentPreview":return"Title";default:return"Field label"}}(n.type);return hf({debounce:i,element:n,getValue:()=>(0,F.get)(n,l,""),id:r,label:s,singleLine:!0,setValue:e=>t(n,l,e||""),variables:o})}function Nm(e){const{editField:t,field:n,id:r}=e,i=qf("debounce"),o=Kf().map(e=>({name:e})),l=sr;return hf({debounce:i,element:n,getValue:()=>(0,F.get)(n,l,""),id:r,label:"Date label",singleLine:!0,setValue:e=>t(n,l,e||""),variables:o})}function zm(e){const{editField:t,field:n,id:r}=e,i=qf("debounce"),o=Kf().map(e=>({name:e})),l=cr;return hf({debounce:i,element:n,getValue:()=>(0,F.get)(n,l,""),id:r,label:"Time label",singleLine:!0,setValue:e=>t(n,l,e||""),variables:o})}function $m(e){const{editField:t,field:n,id:r,description:i,isDefaultVisible:o,defaultValue:l}=e,s=[];return s.push({id:r+"-height",component:Bm,description:i,isEdited:nf,editField:t,field:n,defaultValue:l,isDefaultVisible:e=>(0,F.isFunction)(o)?o(e):"spacer"===e.type}),s}function Bm(e){const{description:t,editField:n,field:r,id:i}=e;return tf({debounce:qf("debounce"),description:t,label:"Height",element:r,id:i,getValue:e=>(0,F.get)(r,["height"],null),setValue:(e,t)=>{t||n(r,["height"],e)},validate:Hm})}const Hm=e=>"number"!=typeof e?"A number is required.":Number.isInteger(e)?e<1?"Should be greater than zero.":void 0:"Should be an integer.",Jm=/^(https):\/\/*/i;function Um(e){const{editField:t,field:n}=e,r=[];return r.push({id:"url",component:qm,editField:t,field:n,isEdited:ff,isDefaultVisible:e=>"iframe"===e.type}),r}function qm(e){const{editField:t,field:n,id:r}=e,o=qf("debounce"),l=Kf().map(e=>({name:e})),s=["url"];return hf({debounce:o,element:n,feel:"optional",getValue:()=>(0,F.get)(n,s,""),id:r,label:"URL",setValue:e=>t(n,s,e),singleLine:!0,tooltip:Z(i.Fragment,{children:[Z("p",{children:"Enter a HTTPS URL to a source or populate it dynamically via a template or an expression (e.g., to pass a value from the variable)."}),Z("p",{children:"Please make sure that the URL is safe as it might impose security risks."}),Z("p",{children:["Not all external sources can be displayed in the iFrame. Read more about it in the"," ",Z("a",{target:"_blank",href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Frame-Options",rel:"noreferrer",children:"X-FRAME-OPTIONS documentation"}),"."]})]}),validate:Km,variables:l})}const Km=e=>{if(e&&!e.startsWith("="))return Jm.test(e)?void 0:'For security reasons the URL must start with "https".'};function Zm(e){const{editField:t,field:n}=e,r=[];return r.push({id:"source",component:Wm,editField:t,field:n,isEdited:ff,isDefaultVisible:e=>"image"===e.type}),r}function Wm(e){const{editField:t,field:n,id:r}=e,i=qf("debounce"),o=Kf().map(e=>({name:e})),l=["source"];return hf({debounce:i,description:"Expression or static value (link/data URI)",element:n,feel:"optional",getValue:()=>(0,F.get)(n,l,""),id:r,label:"Image source",tooltip:"Link referring to a hosted image, or use a data URI directly to embed image data into the form.",setValue:e=>t(n,l,e),singleLine:!0,variables:o})}const Gm=am(xr,!1);function Ym(e){const{editField:t,field:n}=e,r=[{id:"text",component:Xm,editField:t,field:n,isEdited:Gm,isDefaultVisible:e=>"text"===e.type}];return r}function Xm(e){const{editField:t,field:n,id:r}=e,i=qf("debounce"),o=Kf().map(e=>({name:e})),l=["text"];return hf({debounce:i,description:Qm,element:n,getValue:()=>(0,F.get)(n,l,""),id:r,label:"Text",hostLanguage:"markdown",setValue:e=>t(n,l,e||""),variables:o})}const Qm=Z(i.Fragment,{children:["Supports markdown and templating."," ",Z("a",{href:"https://docs.camunda.io/docs/components/modeler/forms/form-element-library/forms-element-library-text/",target:"_blank",rel:"noreferrer",children:"Learn more"})]});function eg(e){const{editField:t,field:n}=e,r=[{id:"content",component:tg,editField:t,field:n,isEdited:ff,isDefaultVisible:e=>"html"===e.type}];return r}function tg(e){const{editField:t,field:n,id:r}=e,i=qf("debounce"),o=Kf().map(e=>({name:e})),l=["content"];return hf({debounce:i,description:ng,element:n,getValue:()=>(0,F.get)(n,l,""),id:r,label:"Content",hostLanguage:"html",validate:rg,setValue:e=>t(n,l,e||""),variables:o})}const ng=Z(i.Fragment,{children:["Supports HTML, styling, and templating. Styles are automatically scoped to the HTML component."," ",Z("a",{href:"https://docs.camunda.io/docs/components/modeler/forms/form-element-library/forms-element-library-html/",target:"_blank",rel:"noreferrer",children:"Learn more"})]}),rg=e=>"string"!=typeof e||""===e||e.startsWith("=")?null:void 0;function ig(e){const{editField:t,field:n,id:r}=e,i=[];return i.push({id:r+"-decimalDigits",component:og,isEdited:nf,editField:t,field:n,isDefaultVisible:e=>"number"===e.type}),i.push({id:r+"-step",component:lg,isEdited:Sf,editField:t,field:n,isDefaultVisible:e=>"number"===e.type}),i}function og(e){const{editField:t,field:n,id:r}=e;return tf({debounce:qf("debounce"),label:"Decimal digits",element:n,step:"any",getValue:e=>(0,F.get)(n,["decimalDigits"]),id:r,setValue:(e,r)=>{r||t(n,["decimalDigits"],e)},validate:sg})}function lg(e){const{editField:t,field:n,id:r}=e,{decimalDigits:i}=n,l=qf("debounce"),s=i||0===i,a=(0,o.hb)(e=>{if(null!=e){if(!tm(e))return"Should be a valid number.";if(q(e).cmp(0)<=0)return"Should be greater than zero.";if(s){const t=q(`1e-${i}`);if(q(e).cmp(t)<0)return`Should be at least ${t.toString()}.`;if(em(e)>i)return`Should not contain more than ${i} decimal digits.`}}},[s,i]);return Ff({debounce:l,label:"Increment",element:n,getValue:e=>{let t=(0,F.get)(n,["increment"]);return tm(t)?t:null},id:r,setValue:(e,r)=>{r||t(n,["increment"],(e=>{if(!e)return e;const t=e.replace(/^0+/g,"");return(t.startsWith(".")?"0":"")+t})(e))},validate:a})}const sg=e=>{if("number"==typeof e)return Number.isInteger(e)?e<0?"Should be greater than or equal to zero.":void 0:"Should be an integer."};function ag(e){const{editField:t,field:n,id:r}=e,i=[];return i.push({id:`${r}-expression`,component:cg,isEdited:ff,editField:t,field:n,isDefaultVisible:e=>"expression"===e.type}),i.push({id:`${r}-computeOn`,component:ug,isEdited:bf,editField:t,field:n,isDefaultVisible:e=>"expression"===e.type}),i}function cg(e){const{editField:t,field:n,id:r}=e,i=qf("debounce"),o=Kf().map(e=>({name:e}));return uf({debounce:i,description:"Define an expression to calculate the value of this field",element:n,feel:"required",getValue:()=>n.expression||"",id:r,label:"Target value",setValue:e=>{t(n,["expression"],e)},variables:o})}function ug(e){const{editField:t,field:n,id:r}=e;return vf({id:r,label:"Compute on",getValue:()=>n.computeOn||"",setValue:e=>{t(n,["computeOn"],e)},getOptions:()=>[{value:"change",label:"Value changes"},{value:"presubmit",label:"Form submission"}]})}function dg(e){const{editField:t,field:n}=e,r=[];return r.push({id:"serialize-to-string",component:pg,isEdited:Nh,editField:t,field:n,isDefaultVisible:e=>"number"===e.type}),r}function pg(e){const{editField:t,field:n,id:r}=e,{defaultValue:i}=n,o=["serializeToString"];return Mh({element:n,getValue:()=>(0,F.get)(n,o,""),id:r,label:"Output as string",description:"Allows arbitrary precision values",setValue:e=>((i||0===i)&&t(n,["defaultValue"],e?q(i).toFixed():Number(i)),t(n,o,e))})}function hg(e){const{editField:t,field:n}=e,r=[{id:"subtype",component:fg,isEdited:bf,editField:t,field:n,isDefaultVisible:e=>"datetime"===e.type}];return r.push({id:"use24h",component:mg,isEdited:Nh,editField:t,field:n,isDefaultVisible:e=>"datetime"===e.type&&(e.subtype===nr.TIME||e.subtype===nr.DATETIME)}),r}function fg(e){const{editField:t,field:n,id:r}=e,i=e=>(0,F.get)(n,lr),o=()=>{t(n,cr,"Time"),t(n,pr,rr.UTC_OFFSET),t(n,dr,15)},l=()=>{t(n,sr,"Date")};return vf({label:"Subtype",element:n,getOptions:()=>Object.values(nr).map(e=>({label:ir[e],value:e})),getValue:i,id:r,setValue:e=>{const r=i();if(r!==e)return e===nr.DATE?((()=>{const e=[cr,ur,dr,pr];for(const r of e)t(n,r,void 0)})(),r===nr.TIME&&l()):e===nr.TIME?((()=>{const e=[sr,ar];for(const r of e)t(n,r,void 0)})(),r===nr.DATE&&o()):e===nr.DATETIME&&(r===nr.DATE&&o(),r===nr.TIME&&l()),t(n,lr,e)}})}function mg(e){const{editField:t,field:n,id:r}=e,i=ur;return Mh({element:n,getValue:()=>(0,F.get)(n,i,""),id:r,label:"Use 24h",setValue:e=>t(n,i,e)})}const gg=am("15");function vg(e){const{editField:t,field:n,id:r}=e;function i(e){return t=>"datetime"===t.type&&e.includes(t.subtype)}const o=[];return o.push({id:r+"-timeInterval",component:yg,isEdited:gg,editField:t,field:n,isDefaultVisible:i([nr.TIME,nr.DATETIME])}),o.push({id:r+"-disallowPassedDates",component:bg,isEdited:Nh,editField:t,field:n,isDefaultVisible:i([nr.DATE,nr.DATETIME])}),o}function bg(e){const{editField:t,field:n,id:r}=e,i=ar;return Mh({element:n,getValue:()=>(0,F.get)(n,i,""),id:r,label:"Disallow past dates",setValue:e=>t(n,i,e)})}function yg(e){const{editField:t,field:n,id:r}=e,i=[1,5,10,15,30,60];return vf({label:"Time interval",element:n,getOptions:()=>i.map(e=>({label:60===e?"1h":e+"m",value:e})),getValue:e=>(0,F.get)(n,dr),id:r,setValue:e=>t(n,dr,parseInt(e))})}const _g=am(rr.UTC_OFFSET);function wg(e){const{editField:t,field:n}=e,r=[];return r.push({id:"time-format",component:xg,isEdited:_g,editField:t,field:n,isDefaultVisible:e=>"datetime"===e.type&&(e.subtype===nr.TIME||e.subtype===nr.DATETIME)}),r}function xg(e){const{editField:t,field:n,id:r}=e;return vf({label:"Time format",element:n,getOptions:()=>Object.values(rr).map(e=>({label:or[e],value:e})),getValue:e=>(0,F.get)(n,pr),id:r,setValue:e=>t(n,pr,e)})}function kg(e){return[Tm({id:"searchable",path:["searchable"],label:"Searchable",props:e,isDefaultVisible:e=>"select"===e.type})]}function Eg(e){const{editField:t,field:n,idPrefix:r,index:i,validateFactory:o}=e;return[{component:Fg,editField:t,field:n,id:r+"-label",idPrefix:r,index:i,validateFactory:o},{component:Sg,editField:t,field:n,id:r+"-value",idPrefix:r,index:i,validateFactory:o}]}function Fg(e){const{editField:t,field:n,id:r,index:i,validateFactory:l}=e,s=qf("debounce"),a=(0,o.Kr)(()=>l((0,F.get)(n,["values",i,"label"]),e=>e.label),[n,i,l]);return Ff({debounce:s,element:n,getValue:()=>(0,F.get)(n,["values",i,"label"]),id:r,label:"Label",setValue:(e,r)=>{if(r)return;const o=(0,F.get)(n,["values"]);return t(n,"values",(0,F.set)(o,[i,"label"],e))},validate:a})}function Sg(e){const{editField:t,field:n,id:r,index:i,validateFactory:l}=e,s=qf("debounce"),a=(0,o.Kr)(()=>l((0,F.get)(n,["values",i,"value"]),e=>e.value),[n,i,l]);return Ff({debounce:s,element:n,getValue:()=>(0,F.get)(n,["values",i,"value"]),id:r,label:"Value",setValue:(e,r)=>{if(r)return;const{defaultValue:o}=n,l=(0,F.get)(n,["values"]),s=(0,F.get)(n,["values",i,"value"]);return(0,F.isNil)(o)||o!==s||(0,F.set)(n,["defaultValue"],e),t(n,"values",(0,F.set)(l,[i,"value"],e))},validate:a})}function Rg(e){const{editField:t,field:n,idPrefix:r,index:i,validateFactory:o}=e;return[{component:Cg,editField:t,field:n,id:r+"-key",idPrefix:r,index:i,validateFactory:o},{component:jg,editField:t,field:n,id:r+"-value",idPrefix:r,index:i,validateFactory:o}]}function Cg(e){const{editField:t,field:n,id:r,index:i,validateFactory:l}=e,s=qf("debounce"),a=(0,o.Kr)(()=>l(Object.keys((0,F.get)(n,["properties"]))[i]),[l,n,i]);return Ff({debounce:s,element:n,getValue:()=>Object.keys((0,F.get)(n,["properties"]))[i],id:r,label:"Key",setValue:(e,r)=>{if(r)return;const o=(0,F.get)(n,["properties"]),l=Object.keys(o)[i];return t(n,"properties",function(e,t,n){return Object.entries(e).reduce((e,r)=>{const[i,o]=r;return{...e,[i===t?n:i]:o}},{})}(o,l,e))},validate:a})}function jg(e){const{editField:t,field:n,id:r,index:i,validateFactory:o}=e,l=()=>{const e=(0,F.get)(n,["properties"]),t=Object.keys(e)[i];return(0,F.get)(n,["properties",t])};return Ff({debounce:qf("debounce"),element:n,getValue:l,id:r,label:"Value",setValue:e=>{const r=(0,F.get)(n,["properties"]),o=Object.keys(r)[i];t(n,"properties",function(e,t,n){return{...e,[t]:n}}(r,o,e))},validate:o(l())})}function Tg(e){const{autoFocusEntry:t,element:n,getValue:r}=e,i=r(n),l=yh(i),s=qf("eventBus");return(0,o.vJ)(()=>{t&&l&&i!==l&&setTimeout(()=>{s.fire("propertiesPanel.showEntry",{id:t})})},[i,t,l,s]),Z(vf,{...e})}const Ag=am(hr.STATIC);function Lg(e){const{editField:t,field:n,id:r}=e;return[{id:r+"-select",component:Ig,isEdited:Ag,editField:t,field:n}]}function Ig(e){const{editField:t,field:n,id:r}=e,i=br;return Tg({autoFocusEntry:Pg(n),label:"Type",element:n,getOptions:()=>Object.values(hr).map(e=>({label:mr[e],value:e})),getValue:i,id:r,setValue:e=>{let r=n;const i={};return i[gr[e]]=vr[e],r=t(n,i),r}})}function Pg(e){const t=br(e);return t===hr.EXPRESSION?"optionsExpression-expression":t===hr.INPUT?"dynamicOptions-key":t===hr.STATIC?"staticOptions-0-label":null}function Og(e){const{editField:t,field:n,id:r}=e;return[{id:r+"-key",component:Dg,isEdited:Sf,editField:t,field:n}]}function Dg(e){const{editField:t,field:n,id:r}=e,i=qf("debounce"),o=gr[hr.INPUT];return Ff({debounce:i,description:"Define which input property to populate the values from",tooltip:Z("div",{children:["The input property may be an array of simple values or alternatively follow this schema:",Z("pre",{children:Z("code",{children:'[\n  {\n    "label": "dollar",\n    "value": "$"\n  }\n]'})})]}),element:n,getValue:()=>(0,F.get)(n,o,""),id:r,label:"Input values key",setValue:(e,r)=>{r||t(n,o,e||"")},validate:Vg})}const Vg=e=>"string"!=typeof e||0===e.length?"Must not be empty.":/\s/.test(e)?"Must not contain spaces.":null;function Mg(e){const{editField:t,field:n,id:r}=e,{values:i}=n,o=(e,t)=>n=>{if(n!==e)return"string"!=typeof n||0===n.length?"Must not be empty.":i.find(e=>t(e)===n)?"Must be unique.":void 0},l=i.map((e,l)=>{const s=r+"-"+l;return{id:s,label:e.label,entries:Eg({editField:t,field:n,idPrefix:s,index:l,validateFactory:o}),autoFocusEntry:s+"-label",remove:()=>(e=>{n.defaultValue===e.value?t(n,{values:(0,F.without)(i,e),defaultValue:void 0}):t(n,gr[hr.STATIC],(0,F.without)(i,e))})(e)}});return{items:l,add:e=>{e.stopPropagation();const r=function(e,t){const n={label:"Value",value:"value"};for(;Ng(e,t);)e++;return e>1&&(n.label+=` ${e}`,n.value+=`${e}`),n}(i.length+1,i);t(n,gr[hr.STATIC],Qf(i,i.length,r))}}}function Ng(e,t){return t.some(t=>t.label===`Value ${e}`||t.value===`value${e}`)}function zg(e){const{editField:t,field:n}=e,r=[],i=e=>r=>{const i=(0,F.get)(n,["appearance"],{});t(n,["appearance"],(0,F.set)(i,[e],r))},o=e=>()=>(0,F.get)(n,["appearance",e]);return r.push({id:"prefix-adorner",component:$g,isEdited:ff,editField:t,field:n,onChange:i,getValue:o,isDefaultVisible:e=>["number","textfield"].includes(e.type)}),r.push({id:"suffix-adorner",component:Bg,isEdited:ff,editField:t,field:n,onChange:i,getValue:o,isDefaultVisible:e=>["number","textfield"].includes(e.type)}),r}function $g(e){const{field:t,id:n,onChange:r,getValue:i}=e,o=qf("debounce"),l=Kf().map(e=>({name:e}));return hf({debounce:o,element:t,feel:"optional",getValue:i("prefixAdorner"),id:n,label:"Prefix",setValue:r("prefixAdorner"),singleLine:!0,variables:l})}function Bg(e){const{field:t,id:n,onChange:r,getValue:i}=e,o=qf("debounce"),l=Kf().map(e=>({name:e}));return hf({debounce:o,element:t,getValue:i("suffixAdorner"),id:n,label:"Suffix",setValue:r("suffixAdorner"),singleLine:!0,variables:l})}function Hg(e){const{editField:t,field:n}=e,{disabled:r}=n,i=[];return r||i.push({id:"readonly",component:Jg,editField:t,field:n,isEdited:ff,isDefaultVisible:e=>om.includes(e.type)}),i}function Jg(e){const{editField:t,field:n,id:r}=e,i=qf("debounce"),o=Kf().map(e=>({name:e})),l=["readonly"];return pf({debounce:i,element:n,feel:"optional",getValue:()=>(0,F.get)(n,l,""),id:r,label:"Read only",tooltip:"Make this field read-only when it cannot be edited by the end-user, but its content is important for them to see. Its data will still be submitted.",setValue:e=>t(n,l,e||!1),variables:o})}function Ug(e){const{field:t}=e;return["group","dynamiclist"].includes(t.type)?[Lm({id:"verticalAlignment",path:["verticalAlignment"],label:"Vertical alignment",optionsArray:[{value:"start",label:"Top"},{value:"center",label:"Center"},{value:"end",label:"Bottom"}],props:e})]:[]}function qg(e){const{field:t,getService:n}=e,{type:r}=t,i=n("formFields").get(r);if(!i||!i.config.repeatable)return[];const o=[Pm({id:"defaultRepetitions",path:["defaultRepetitions"],label:"Default number of items",min:1,max:100,props:e}),Tm({id:"allowAddRemove",path:["allowAddRemove"],label:"Allow add/delete items",props:e}),Tm({id:"disableCollapse",path:["disableCollapse"],label:"Disable collapse",props:e})];if(!t.disableCollapse){const t=Pm({id:"nonCollapsedItems",path:["nonCollapsedItems"],label:"Number of non-collapsing items",min:1,props:e});o.push(t)}return o}function Kg(e){const{editField:t,field:n}=e;return[{id:"conditional-hide",component:Zg,editField:t,field:n,isEdited:ff}]}function Zg(e){const{editField:t,field:n,id:r}=e,i=qf("debounce"),o=Kf().map(e=>({name:e})),l=["conditional","hide"];let s="Hide if",a="Condition under which the field is hidden";return"expression"===n.type&&(s="Deactivate if",a="Condition under which the field is deactivated"),uf({debounce:i,description:a,element:n,feel:"required",getValue:()=>(0,F.get)(n,l,""),id:r,label:s,setValue:e=>t(n,"conditional",e?{hide:e}:void 0),variables:o})}function Wg(e){const{editField:t,field:n,id:r}=e;return[{id:r+"-expression",component:Gg,isEdited:ff,editField:t,field:n}]}function Gg(e){const{editField:t,field:n,id:r}=e,i=qf("debounce"),o=Kf().map(e=>({name:e})),l=gr[hr.EXPRESSION];return uf({debounce:i,description:"Define an expression to populate the options from.",tooltip:Z("div",{children:["The expression may result in an array of simple values or alternatively follow this schema:",Z("pre",{children:Z("code",{children:'[\n  {\n    "label": "dollar",\n    "value": "$"\n  }\n]'})})]}),element:n,feel:"required",getValue:()=>(0,F.get)(n,l,""),id:r,label:"Options expression",setValue:e=>t(n,l,e||""),variables:o})}function Yg(e){const{editField:t,field:n}=e,r=[];return r.push({id:"dataSource",component:Xg,editField:t,field:n,isEdited:ff,isDefaultVisible:e=>"table"===e.type}),r}function Xg(e){const{editField:t,field:n,id:r}=e,i=qf("debounce"),o=Kf().map(e=>({name:e})),l=["dataSource"];return hf({debounce:i,description:"Specify the source from which to populate the table",element:n,feel:"required",getValue:()=>(0,F.get)(n,l,n.id),id:r,label:"Data source",tooltip:"Enter a form input variable that contains the data for the table or define an expression to populate the data dynamically.",setValue:(e,r)=>{r||t(n,l,e)},singleLine:!0,variables:o,validate:Qg})}const Qg=e=>(0,F.isString)(e)&&0!==e.length?e.startsWith("=")?null:nm(e)?sm(e)?"Must not contain numerical path segments.":null:"Must be a variable or a dot separated path.":"Must not be empty.";function ev(e){const{editField:t,field:n}=e,r=[];return r.push({id:"pagination",component:tv,editField:t,field:n,isEdited:Xh,isDefaultVisible:e=>"table"===e.type}),r}function tv(e){const{editField:t,field:n,id:r}=e,i=["rowCount"];return Yh({element:n,getValue:()=>(0,F.isNumber)((0,F.get)(n,i)),id:r,label:"Pagination",inline:!0,setValue:e=>{t(n,i,e?10:void 0)}})}const nv=["rowCount"];function rv(e){const{editField:t,field:n}=e,r=[];return r.push({id:"rowCount",component:iv,isEdited:nf,editField:t,field:n,isDefaultVisible:e=>"table"===e.type&&(0,F.isNumber)((0,F.get)(e,nv))}),r}function iv(e){const{editField:t,field:n,id:r}=e;return tf({debounce:qf("debounce"),label:"Number of rows per page",element:n,id:r,getValue:()=>(0,F.get)(n,nv),setValue:(e,r)=>{r||t(n,nv,e)},validate:ov})}const ov=e=>(0,F.isNil)(e)?null:(0,F.isNumber)(e)?Number.isInteger(e)?e<1?"Should be greater than zero.":null:"Should be an integer.":"Must be number",lv={static:{label:"List of items",value:"static"},expression:{label:"Expression",value:"expression"}},sv=Object.values(lv),av=["columns"],cv=["columnsExpression"],uv=am(lv.static.value);function dv(e){const{editField:t,field:n,id:r}=e;return[{id:r+"-select",component:pv,isEdited:uv,editField:t,field:n}]}function pv(e){const{editField:t,field:n,id:r}=e;return Tg({autoFocusEntry:hv(n),label:"Type",element:n,getOptions:()=>sv,getValue:()=>{const e=(0,F.get)(n,av),t=(0,F.get)(n,cv);return(0,F.isString)(t)?lv.expression.value:(0,F.isArray)(e)?lv.static.value:void 0},id:r,setValue:e=>{switch(e){case lv.static.value:t(n,{columns:[{label:"Column",key:"inputVariable"}]});break;case lv.expression.value:t(n,{columnsExpression:"="})}}})}function hv(e){const t=(0,F.get)(e,av),n=(0,F.get)(e,cv);return(0,F.isString)(n)?`${e.id}-columnsExpression`:(0,F.isArray)(t)?`${e.id}-columns-0-label`:null}const fv=["columnsExpression"];function mv(e){const{editField:t,field:n}=e,r=[];return r.push({id:`${n.id}-columnsExpression`,component:gv,editField:t,field:n,isEdited:ff,isDefaultVisible:e=>"table"===e.type&&(0,F.isString)((0,F.get)(e,fv))}),r}function gv(e){const{editField:t,field:n,id:r}=e,i=qf("debounce"),o=Kf().map(e=>({name:e})),l=Z("div",{children:["The expression may result in an array of simple values or alternatively follow this schema:",Z("pre",{children:Z("code",{children:'[\n  {\n    "key": "column_1",\n    "label": "Column 1"\n  }\n]'})})]});return hf({debounce:i,description:"Specify an expression to populate column items",element:n,feel:"required",getValue:()=>(0,F.get)(n,fv),id:r,label:"Expression",tooltip:l,setValue:(e,r)=>{r||t(n,fv,e)},singleLine:!0,variables:o,validate:vv})}const vv=e=>(0,F.isString)(e)&&0!==e.length&&"="!==e?null:"Must not be empty.",bv="columns",yv="label";function _v(e){const{editField:t,field:n,idPrefix:r,index:i}=e;return[{component:wv,editField:t,field:n,id:r+"-label",idPrefix:r,index:i},{component:xv,editField:t,field:n,id:r+"-key",idPrefix:r,index:i}]}function wv(e){const{editField:t,field:n,id:r,index:i}=e;return Ff({debounce:qf("debounce"),element:n,getValue:()=>(0,F.get)(n,[bv,i,yv]),id:r,label:"Label",setValue:(e,r)=>{if(r)return;const o=(0,F.get)(n,[bv]);t(n,bv,(0,F.set)(o,[i,yv],e))}})}function xv(e){const{editField:t,field:n,id:r,index:i}=e;return Ff({debounce:qf("debounce"),element:n,getValue:()=>(0,F.get)(n,[bv,i,"key"]),id:r,label:"Key",setValue:(e,r)=>{if(r)return;const o=(0,F.get)(n,[bv]);t(n,bv,(0,F.set)(o,[i,"key"],e))},validate:kv})}function kv(e){return(0,F.isString)(e)&&0!==e.length?null:"Must not be empty."}const Ev=["columns"];function Fv(e){const{editField:t,field:n,id:r}=e,{columns:i}=n,o=i.map((e,o)=>{const l=`${r}-${o}`;return{id:l,label:e.label||e.key,entries:_v({editField:t,field:n,idPrefix:l,index:o}),autoFocusEntry:`${l}-label`,remove:()=>(e=>{t(n,Ev,(0,F.without)(i,e))})(e)}});return{items:o,add:e=>{e.stopPropagation(),t(n,Ev,Qf(i,i.length,{label:"Column",key:"inputVariable"}))}}}function Sv(e){const{editField:t,field:n}=e,r=[];return r.push({id:"versionTag",component:Rv,editField:t,field:n,isEdited:Sf,isDefaultVisible:e=>"default"===e.type}),r}function Rv(e){const{editField:t,field:n,id:r}=e,i=qf("debounce"),o=["versionTag"],l=Z("div",{children:"Version tag by which this form can be referenced."});return Ff({debounce:i,element:n,getValue:()=>(0,F.get)(n,o,""),id:r,label:"Version tag",setValue:(e,r)=>{if(!r)return t(n,o,e)},tooltip:l})}function Cv(e){const{editField:t,field:n}=e,r=[];return r.push({id:"accept",component:jv,editField:t,field:n,isEdited:ff,isDefaultVisible:e=>"filepicker"===e.type}),r}function jv(e){const{editField:t,field:n,id:r}=e,i=qf("debounce"),o=Kf().map(e=>({name:e})),l=["accept"];return hf({debounce:i,element:n,getValue:()=>(0,F.get)(n,l,""),id:r,label:"Supported file formats",singleLine:!0,setValue:e=>t(n,l,e),variables:o,description:Tv})}const Tv=Z(i.Fragment,{children:["A comma-separated list of"," ",Z("a",{href:"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/file#unique_file_type_specifiers",target:"_blank",rel:"noreferrer",children:"file type specifiers"})]});function Av(e){const{editField:t,field:n}=e,r=[];return r.push({id:"multiple",component:Lv,editField:t,field:n,isEdited:ff,isDefaultVisible:e=>"filepicker"===e.type}),r}function Lv(e){const{editField:t,field:n,id:r}=e,i=qf("debounce"),o=Kf().map(e=>({name:e})),l=["multiple"];return pf({debounce:i,element:n,feel:"optional",getValue:()=>(0,F.get)(n,l,""),id:r,label:"Upload multiple files",inline:!0,setValue:e=>t(n,l,e),variables:o})}function Iv(e){const{editField:t,field:n}=e,r=[];return r.push({id:"dataSource",component:Pv,editField:t,field:n,isEdited:ff,isDefaultVisible:e=>"documentPreview"===e.type}),r}function Pv(e){const{editField:t,field:n,id:r}=e,i=qf("debounce"),o=Kf().map(e=>({name:e})),l=["dataSource"],s=Z("div",{children:[Z("p",{children:"A source is a JSON object containing metadata for a document or an array of documents."}),Z("p",{children:"Each entry must include a document ID, name, and MIME type."}),Z("p",{children:"Additional details are optional. The expected format is as follows:"}),Z("pre",{children:Z("code",{children:'[\n  {\n    "documentId": "u123",\n    "endpoint": "https://api.example.com/documents/u123",\n    "metadata": {\n      "fileName": "Document.pdf",\n      "contentType": "application/pdf"\n    }\n  }\n]'})}),Z("p",{children:"When using Camunda Tasklist UI, additional document reference attributes are automatically handled. Modifying the document reference may affect the document preview functionality."}),Z("p",{children:["Learn more in our"," ",Z("a",{href:"https://docs.camunda.io/docs/components/modeler/forms/form-element-library/forms-element-library-document-preview/",target:"_blank",rel:"noopener noreferrer",children:"documentation"}),"."]})]});return hf({debounce:i,element:n,getValue:()=>(0,F.get)(n,l,""),id:r,label:"Document reference",feel:"required",singleLine:!0,setValue:e=>t(n,l,e),variables:o,tooltip:s,validate:Ov})}const Ov=e=>{if("string"!=typeof e||0===e.length)return"The document data source is required."};function Dv(e){const{editField:t,field:n}=e,r=[];return r.push({id:"maxHeight",component:Vv,editField:t,field:n,isEdited:nf,isDefaultVisible:e=>"documentPreview"===e.type}),r}function Vv(e){const{editField:t,field:n,id:r}=e,i=qf("debounce"),o=["maxHeight"];return tf({debounce:i,label:"Max height of preview container",element:n,id:r,getValue:()=>(0,F.get)(n,o,""),setValue:e=>t(n,o,e),validate:Mv,description:Nv})}const Mv=e=>void 0===e||""===e?null:"string"==typeof e?"Value must be a number.":Number.isInteger(e)?e<1?"Should be greater than zero.":void 0:"Should be an integer.",Nv=Z(i.Fragment,{children:"Documents with height that exceeds the defined value will be vertically scrollable"});function zv(e,t,n){const r=[...wm({field:e,editField:t}),...Sv({field:e,editField:t}),...Vm({field:e,editField:t}),...um({field:e,editField:t}),...Sm({field:e,editField:t,getService:n}),...Cm({field:e,editField:t,getService:n}),...qg({field:e,editField:t,getService:n}),...hm({field:e,editField:t}),...Jf({field:e,editField:t}),...hg({field:e,editField:t}),...Ym({field:e,editField:t}),...eg({field:e,editField:t}),...Um({field:e,editField:t}),...(i={field:e,editField:t},[...$m({...i,description:"Height of the container in pixels.",isDefaultVisible:e=>"iframe"===e.type})]),...$m({field:e,editField:t}),...ig({field:e,editField:t}),...ag({field:e,editField:t}),...Zm({field:e,editField:t}),...Zf({field:e,editField:t}),...kg({field:e,editField:t}),...Cv({field:e,editField:t}),...Av({field:e,editField:t}),...ym({field:e,editField:t}),...Hg({field:e,editField:t}),...Yg({field:e,editField:t}),...ev({field:e,editField:t}),...rv({field:e,editField:t}),...Iv({field:e,editField:t})];var i;return 0===r.length?null:{id:"general",label:"General",entries:r}}function $v(e,t){const n=[...dg({field:e,editField:t}),...wg({field:e,editField:t})];return n.length?{id:"serialization",label:"Serialization",entries:n}:null}function Bv(e,t){const n=[...vg({field:e,editField:t})];return n.length?{id:"constraints",label:"Constraints",entries:n}:null}const Hv={custom:{value:"",label:"Custom"},email:{value:"email",label:"Email"},phone:{value:"phone",label:"Phone"}};function Jv(e,t){const{type:n}=e,r=(0,F.get)(e,["validate"],{}),i=[void 0,Hv.custom.value].includes(r.validationType),o=!!(0,F.get)(e,["validate","pattern"]),l=n=>r=>{const i=(0,F.get)(e,["validate"],{});t(e,["validate"],(0,F.set)(i,[n],r))},s=t=>()=>(0,F.get)(e,["validate",t]);let a=[{id:"required",component:Uv,getValue:s,field:e,isEdited:Nh,onChange:l,isDefaultVisible:e=>om.includes(e.type)}];return a.push({id:"validationType",component:Xv,getValue:s,field:e,editField:t,isEdited:Sf,onChange:l,isDefaultVisible:e=>"textfield"===e.type}),a.push({id:"minLength",component:qv,getValue:s,field:e,isEdited:ff,onChange:l,isDefaultVisible:e=>om.includes(e.type)&&("textarea"===n||"textfield"===n&&i)},{id:"maxLength",component:Kv,getValue:s,field:e,isEdited:ff,onChange:l,isDefaultVisible:e=>om.includes(e.type)&&("textarea"===n||"textfield"===n&&i)}),a.push({id:"pattern",component:Zv,getValue:s,field:e,isEdited:Sf,onChange:l,isDefaultVisible:e=>om.includes(e.type)&&"textfield"===n&&i}),a.push({id:"patternErrorMessage",component:Wv,getValue:s,field:e,isEdited:Sf,onChange:l,isDefaultVisible:e=>om.includes(e.type)&&"textfield"===n&&i&&o}),a.push({id:"min",component:Gv,getValue:s,field:e,isEdited:ff,onChange:l,isDefaultVisible:e=>"number"===e.type},{id:"max",component:Yv,getValue:s,field:e,isEdited:ff,onChange:l,isDefaultVisible:e=>"number"===e.type}),{id:"validation",label:"Validation",entries:a}}function Uv(e){const{field:t,getValue:n,id:r,onChange:i}=e;return Mh({element:t,getValue:n("required"),id:r,label:"Required",setValue:i("required")})}function qv(e){const{field:t,getValue:n,id:r,onChange:i}=e,o=qf("debounce"),l=Kf().map(e=>({name:e}));return df({debounce:o,element:t,feel:"optional",getValue:n("minLength"),id:r,label:"Minimum length",min:0,setValue:i("minLength"),variables:l})}function Kv(e){const{field:t,getValue:n,id:r,onChange:i}=e,o=qf("debounce"),l=Kf().map(e=>({name:e}));return df({debounce:o,element:t,feel:"optional",getValue:n("maxLength"),id:r,label:"Maximum length",min:0,setValue:i("maxLength"),variables:l})}function Zv(e){const{field:t,getValue:n,id:r,onChange:i}=e;return Ff({debounce:qf("debounce"),element:t,getValue:n("pattern"),id:r,label:"Custom regular expression",setValue:i("pattern")})}function Wv(e){const{field:t,getValue:n,id:r,onChange:i}=e;return Ff({debounce:qf("debounce"),element:t,getValue:n("patternErrorMessage"),id:r,label:"Custom error message",tooltip:"The error message to display when the input does not match the regular expression.",setValue:i("patternErrorMessage")})}function Gv(e){const{field:t,getValue:n,id:r,onChange:i}=e,o=qf("debounce"),l=Kf().map(e=>({name:e}));return df({debounce:o,element:t,feel:"optional",id:r,label:"Minimum",step:"any",getValue:n("min"),setValue:i("min"),variables:l})}function Yv(e){const{field:t,getValue:n,id:r,onChange:i}=e,o=qf("debounce"),l=Kf().map(e=>({name:e}));return df({debounce:o,element:t,feel:"optional",id:r,label:"Maximum",step:"any",getValue:n("max"),setValue:i("max"),variables:l})}function Xv(e){const{field:t,getValue:n,id:r,onChange:i}=e;return qf("debounce"),vf({element:t,getValue:n("validationType"),id:r,label:"Validation pattern",setValue:e=>{i("validationType")(e||void 0)},getOptions:()=>Object.values(Hv),tooltip:n("validationType")()===Hv.phone.value?"The built-in phone validation pattern is based on the E.164 standard with no spaces. Ex: +491234567890":void 0})}function Qv(e,t,n){const{type:r}=e,i=n("formFields").get(r).config;if(!lm.includes(r)&&!function(e){const{propertiesPanelEntries:t=[]}=e;return!!t.length&&t.some(e=>"values"===e)}(i))return[];const o={editField:t,field:e},l="valuesSource",s=[{id:l,label:"Options source",tooltip:'"Static" defines a constant, predefined set of form options.\n\n"Input data" defines options that are populated dynamically, adjusting based on variable data for flexible responses to different conditions or inputs.\n\n"Expression" defines options that are populated from a FEEL expression.',component:kh,entries:Lg({...o,id:l})}],a=br(e);if(a===hr.INPUT){const e="dynamicOptions";s.push({id:e,label:"Dynamic options",component:kh,entries:Og({...o,id:e})})}else if(a===hr.STATIC){const e="staticOptions";s.push({id:e,label:"Static options",component:Oh,...Mg({...o,id:e})})}else if(a===hr.EXPRESSION){const e="optionsExpression";s.push({id:e,label:"Options expression",component:kh,entries:Wg({...o,id:e})})}return s}function eb(e,t){const{properties:n={},type:r}=e;if("default"===r)return null;const i=e=>t=>{if(t!==e)return"string"!=typeof t||0===t.length?"Must not be empty.":(0,F.has)(n,t)?"Must be unique.":void 0},o=Object.keys(n).map((r,o)=>{const l=`property-${e.id}-${o}`;return{autoFocusEntry:l+"-key",entries:Rg({editField:t,field:e,idPrefix:l,index:o,validateFactory:i}),id:l,label:r||"",remove:i=>(i.stopPropagation(),t(e,["properties"],function(e,t){return Object.entries(e).reduce((e,n)=>{const[r,i]=n;return r===t?e:{...e,[r]:i}},{})}(n,r)))}});return{add:r=>{r.stopPropagation();let i=Object.keys(n).length+1;for(;`key${i}`in n;)i++;t(e,["properties"],{...n,[`key${i}`]:"value"})},component:Oh,id:"custom-values",items:o,label:"Custom properties",tooltip:"Add properties directly to the form schema, useful to configure functionality in custom-built task applications and form renderers."}}function tb(e,t,n){const r=[...zg({field:e,editField:t}),...Dm({field:e,editField:t}),...Ug({field:e,editField:t}),...Dv({field:e,editField:t})];return r.length?{id:"appearance",label:"Appearance",entries:r}:null}function nb(e,t){const{type:n}=e;if("default"===n)return null;const r=[...Gf({field:e,editField:t})];return 0===r.length?null:{id:"layout",label:"Layout",entries:r}}function rb(e,t){const{type:n}=e;if("iframe"!==n)return null;const r=function(e){const{editField:t,field:n}=e,r=wr.map(r=>{const{label:i,property:o}=r;return Tm({id:o,label:i,isDefaultVisible:e=>"iframe"===e.type,path:["security",o],props:e,getValue:()=>(0,F.get)(n,["security",o]),setValue:e=>{const r=(0,F.get)(n,["security"],{});t(n,["security"],(0,F.set)(r,[o],e))}})});return[{component:ib},...r]}({field:e,editField:t});return r.length?{id:"securityAttributes",label:"Security attributes",entries:r,tooltip:Z(i.Fragment,{children:Z("p",{children:["Allow the iframe to access more functionality of your browser, details regarding the various options can be found in the"," ",Z("a",{target:"_blank",href:"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe",rel:"noreferrer",children:"MDN iFrame documentation."})]})})}:null}const ib=e=>Z("div",{class:"bio-properties-panel-description fjs-properties-panel-detached-description",children:"These options can incur security risks, especially if used in combination with dynamic links. Ensure that you are aware of them, that you trust the source url and only enable what your use case requires."});function ob(e,t){const{type:n}=e;return"default"===n?null:{id:"condition",label:"Condition",entries:[...Kg({field:e,editField:t})]}}function lb(e,t){const{type:n,id:r}=e;if("table"!==n)return[];const i=(0,F.isArray)((0,F.get)(e,["columns"])),o=[{id:`${r}-columnsSource`,label:"Headers source",tooltip:sb,component:kh,entries:[...dv({field:e,editField:t}),...mv({field:e,editField:t})]}];if(i){const n=`${r}-columns`;o.push({id:n,label:"Header items",component:Oh,...Fv({field:e,editField:t,id:n})})}return o}const sb='"List of items" defines a constant, predefined set of form options.\n\n"Expression" defines options that are populated from a FEEL expression.\n';class ab{constructor(e,t){this._injector=t,e.registerProvider(this)}_filterVisibleEntries(e,t,n){return e.forEach(e=>{const{entries:r}=e,{type:i}=t,o=n("formFields").get(i).config;r&&(e.entries=r.filter(e=>{const{isDefaultVisible:n}=e;return!n||n(t)||function(e,t){const{propertiesPanelEntries:n=[]}=e;return!!n.length&&n.some(e=>e===t)}(o,e.id)}))})}getGroups(e,t){return n=>{if(!e)return n;const r=(e,t=!0)=>this._injector.get(e,t);return n=[...n,zv(e,t,r),...Qv(e,t,r),...lb(e,t),rb(e,t),ob(e,t),nb(e,t),tb(e,t),$v(e,t),Bv(e,t),Jv(e,t),eb(e,t)].filter(e=>null!=e),this._filterVisibleEntries(n,e,r),n.filter(e=>e.items||e.entries&&e.entries.length)}}}ab.$inject=["propertiesPanel","injector"];const cb={__depends__:[Mf],__init__:["propertiesPanel","propertiesProvider"],propertiesPanel:["type",Hf],propertiesProvider:["type",ab]};class ub extends qp{constructor(e){super(e,"renderInjector"),this._eventBus=e,this.registeredRenderers=[]}attachRenderer(e,t){this.registeredRenderers=[...this.registeredRenderers,{identifier:e,Renderer:t}]}detachRenderer(e){this.registeredRenderers=this.registeredRenderers.filter(t=>t.identifier!==e)}fetchRenderers(){return this.registeredRenderers}}ub.$inject=["eventBus"];const db={__init__:["renderInjector"],renderInjector:["type",ub]};var pb;function hb(){return hb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hb.apply(null,arguments)}var fb=function(e){return i.createElement("svg",hb({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),pb||(pb=i.createElement("path",{fill:"currentColor",d:"M3 3h10.086l-1.793-1.793L12 .5l3 3-3 3-.707-.707L13.086 4H3v3.5H2V4a1 1 0 0 1 1-1M4.707 10.207 2.914 12H13V8.5h1V12a1 1 0 0 1-1 1H2.914l1.793 1.793L4 15.5l-3-3 3-3z"})))};class mb{constructor(e,t){this._formFields=e,this._formFieldRegistry=t,this.RepeatFooter=this.RepeatFooter.bind(this)}isFieldRepeating(e){if(!e)return!1;const t=this._formFieldRegistry.get(e);return this._formFields.get(t.type).config.repeatable&&t.isRepeating}RepeatFooter(){return Z("div",{className:"fjs-repeat-render-footer",children:[Z(fb,{}),Z("span",{children:"Repeatable"})]})}}mb.$inject=["formFields","formFieldRegistry"];const gb={__init__:["repeatRenderManager"],repeatRenderManager:["type",mb]},vb=new Cc([32,36,1]);class bb{constructor(e={}){this.on=this._onEvent,this._id=vb.next(),this._container=Er(),this._container.setAttribute("tabindex","0");const{container:t,exporter:n,injector:r=this._createInjector(e,this._container),properties:i={}}=e;this.exporter=n,this._state={properties:i,schema:null},this.get=r.get,this.invoke=r.invoke,this.get("eventBus").fire("form.init"),t&&this.attachTo(t)}clear(){this._emit("diagram.clear"),this._emit("form.clear")}destroy(){this.get("eventBus").fire("form.destroy"),this.get("eventBus").fire("diagram.destroy"),this._detach(!1)}importSchema(e){return new Promise((t,n)=>{try{this.clear();const{schema:n,warnings:r}=this.get("importer").importSchema(e);return this._setState({schema:n}),this._emit("import.done",{warnings:r}),t({warnings:r})}catch(e){return this._emit("import.done",{error:e,warnings:e.warnings||[]}),n(e)}})}saveSchema(){return this.getSchema()}getSchema(){const{schema:e}=this._getState();return function(e,t){const n=t?{exporter:t}:{};return{...Lr(e,(e,t)=>{if(!["_parent","_path"].includes(e))return t}),...n,schemaVersion:19}}(e,this.exporter)}attachTo(e){if(!e)throw new Error("parentNode required");this.detach(),(0,F.isString)(e)&&(e=document.querySelector(e));const t=this._container;e.appendChild(t),this._emit("attach")}detach(){this._detach()}_detach(e=!0){const t=this._container,n=t.parentNode;n&&(e&&this._emit("detach"),n.removeChild(t))}setProperty(e,t){const n=(0,F.set)(this._getState().properties,[e],t);this._setState({properties:n})}off(e,t){this.get("eventBus").off(e,t)}_createInjector(e,t){const{modules:n=this._getModules(),additionalModules:r=[],renderer:i={},...o}=e;return kr([{config:["value",{...o,renderer:{...i,container:t}}]},{formEditor:["value",this]},$d,...n,...r])}_emit(e,t){this.get("eventBus").fire(e,t)}_getState(){return this._state}_setState(e){this._state={...this._state,...e},this._emit("changed",this._getState())}_getModules(){return[Bp,Kd,hp,fp,Up,Zp,Wd,Fa,cb,db,gb]}_onEvent(e,t,n){this.get("eventBus").on(e,t,n)}}var yb=n(6953),_b=n(36744),wb=n(13313),xb=n(32352),kb=n(98720),Eb=n(9714),Fb=n(63960);function Sb(e){return(0,o.vJ)(()=>{function t(t){"Escape"===t.key&&(t.stopPropagation(),e.onClose())}return document.addEventListener("keydown",t),()=>{document.removeEventListener("keydown",t)}}),Z("div",{class:"fjs-pgl-modal",children:[Z("div",{class:"fjs-pgl-modal-backdrop",onClick:e.onClose}),Z("div",{class:"fjs-pgl-modal-content",children:[Z("h1",{class:"fjs-pgl-modal-header",children:e.name}),Z("div",{class:"fjs-pgl-modal-body",children:e.children}),Z("div",{class:"fjs-pgl-modal-footer",children:Z("button",{type:"button",class:"fjs-pgl-button fjs-pgl-button-default",onClick:e.onClose,children:"Close"})})]})]})}function Rb(e){const t=Cb(e.schema),n=Cb(e.data||{}),r=(0,o.li)(),i=`\x3c!-- styles needed for rendering --\x3e\n<link rel="stylesheet" href="https://unpkg.com/@bpmn-io/form-js@0.2.4/dist/assets/form-js.css">\n\n\x3c!-- container to render the form into --\x3e\n<div class="fjs-pgl-form-container"></div>\n\n\x3c!-- scripts needed for embedding --\x3e\n<script src="https://unpkg.com/@bpmn-io/form-js@0.2.4/dist/form-viewer.umd.js"><\/script>\n\n\x3c!-- actual script to instantiate the form and load form schema + data --\x3e\n<script>\n  const data = JSON.parse(${n});\n  const schema = JSON.parse(${t});\n\n  const form = new FormViewer.Form({\n    container: document.querySelector(".fjs-pgl-form-container")\n  });\n\n  form.on("submit", (event) => {\n    console.log(event.data, event.errors);\n  });\n\n  form.importSchema(schema, data).catch(err => {\n    console.error("Failed to render form", err);\n  });\n<\/script>\n  `.trim();return(0,o.vJ)(()=>{r.current.select()}),Z(Sb,{name:"Embed form",onClose:e.onClose,children:[Z("p",{children:["Use the following HTML snippet to embed your form with ",Z("a",{href:"https://github.com/bpmn-io/form-js",children:"form-js"}),":"]}),Z("textarea",{spellCheck:"false",ref:r,children:i})]})}function Cb(e){return JSON.stringify(JSON.stringify(e)).replace(/</g,"&lt;").replace(/>/g,"&gt;")}const jb=_b.sj.define();function Tb(e){const t=e.state.facet(jb)[0],n=t.map(e=>({displayLabel:`"${e}"`,label:`"${e}": `,type:"variable",apply:(e,t,n,r)=>{const i=e.state.doc,o=i.sliceString(n-1,n),l=i.lineAt(n),s=/^\s*/.exec(l.text)[0],a=t.label;if("{"===o){const t=`\n  ${s}${a},\n`;e.dispatch({changes:{from:n,to:r,insert:t},selection:{anchor:n+t.length-2}})}else if(","===o){const t=`\n${s}${a},`;e.dispatch({changes:{from:n,to:r,insert:t},selection:{anchor:n+t.length-1}})}else{const t=`${a},`;e.dispatch({changes:{from:n,to:r,insert:t},selection:{anchor:n+t.length-1}})}}})),r=t.map(e=>({label:e,type:"variable"}));let i=[],o=(0,Fb.mv)(e.state).resolve(e.pos,-1),l=e.matchBefore(/\w*/);return["Object","{"].includes(o.type.name)&&(i=n),"PropertyName"===o.type.name&&(e.explicit=!0,i=r),["Property","[","Array"].includes(o.type.name)&&(i=[{label:"true",type:"constant keyword",boost:3},{label:"false",type:"constant keyword",boost:2},{label:"null",type:"constant keyword",boost:1},{displayLabel:"[ .. ]",label:"[  ]",apply:(e,t,n,r)=>{e.dispatch({changes:{from:n,to:r,insert:t.label},selection:{anchor:n+2}})}},{displayLabel:"{ .. }",label:"{  }",apply:(e,t,n,r)=>{e.dispatch({changes:{from:n,to:r,insert:t.label},selection:{anchor:n+2}})}}]),l.from!=l.to||e.explicit?{from:l.from,options:i}:null}const Ab="fjs-cm-no-lint";function Lb(e={}){const{contentAttributes:t={},placeholder:n,readonly:r=!1}=e,i=(0,c.A)(),o=(new _b.xx).of((0,xb.Pq)()),l=(new _b.xx).of(_b.$t.tabSize.of(2)),s=new _b.xx,u=(0,wb.bu)(e=>(e.dom.querySelectorAll(".cm-placeholder").length>0?(0,a.Ly)(d,document.body).add(Ab):(0,a.Ly)(d,document.body).remove(Ab),[]));let d=null;const p=new Yc.Lz({state:function(e,a=[]){const c=[yb.oQ,o,l,(0,wb.pJ)(),(0,wb.bu)((0,xb.cp)()),u,s.of(jb.of(a)),[(0,Eb.yU)({override:[Tb]})],Yc.w4.of([kb.Yc]),n?(0,Yc.qf)(n):[],_b.$t.readOnly.of(r),Yc.Lz.updateListener.of(e=>{e.docChanged&&i.emit("changed",{value:e.state.doc.toString()})}),Yc.Lz.contentAttributes.of(t)];return _b.$t.create({doc:e,extensions:c})}("")});this.setValue=function(e){const t=function(e,t){if(e===t)return null;e=e||"",t=t||"";let n=Math.min(e.length,t.length),r=0;for(;r<n&&e[r]===t[r];)r++;if(r===n)return{start:r,text:t.slice(r),end:e.length};let i=e.length,o=t.length;for(;i>r&&o>r&&e[i-1]===t[o-1];)i--,o--;return{start:r,text:t.slice(r,o),end:i}}(p.state.doc.toString(),e);t&&p.dispatch({changes:{from:t.start,to:t.end,insert:t.text},selection:{anchor:t.start+t.text.length}})},this.getValue=function(){return p.state.doc.toString()},this.setVariables=function(e){p.dispatch({effects:s.reconfigure(jb.of(e))})},this.getView=function(){return p},this.on=i.on,this.off=i.off,this.emit=i.emit,this.attachTo=function(e){d=e,d.appendChild(p.dom),(0,a.Ly)(d,document.body).add("fjs-json-editor")},this.destroy=function(){d&&p.dom&&(d.removeChild(p.dom),(0,a.Ly)(d,document.body).remove("fjs-json-editor")),p.destroy()}}function Ib(e){const t=Array.isArray(e.children)?e.children:[e.children],{headerItems:n,children:r}=t.reduce((e,t)=>((t.type===Ib.HeaderItem?e.headerItems:e.children).push(t),e),{headerItems:[],children:[]});return Z("div",{class:"fjs-pgl-section",children:[Z("h1",{class:"header",children:[e.name," ",n.length?Z("span",{class:"header-items",children:n}):null]}),Z("div",{class:"body",children:r})]})}function Pb(e){const{additionalModules:t,actions:n,emit:r,exporter:i,viewerProperties:l,editorProperties:s,viewerAdditionalModules:a,editorAdditionalModules:c,propertiesPanel:u,apiLinkTarget:d,onInit:p}=e,{display:h=!0}=n||{},f=(0,o.li)(),m=(0,o.li)(),g=(0,o.li)(),v=(0,o.li)(),b=(0,o.li)(),y=(0,o.li)(),_=(0,o.li)(),w=(0,o.li)(),k=(0,o.li)(),E=(0,o.li)(),[S,C]=(0,o.J0)(!1),[j,T]=(0,o.J0)(),[A,L]=(0,o.J0)(),I=(0,o.hb)((e,t)=>{_.current.importSchema(e,t),k.current.setValue(Ob(t)),T(e),L(t)},[]);(0,o.vJ)(()=>{const e=k.current=new Lb({contentAttributes:{"aria-label":"Form Input",tabIndex:0},placeholder:Db()}),n=E.current=new Lb({readonly:!0,contentAttributes:{"aria-label":"Form Output",tabIndex:0}}),o=w.current=new xc({container:v.current,additionalModules:[...t||[],...a||[]],properties:{...l||{},ariaLabel:"Form Preview"}}),d=_.current=new bb({container:f.current,renderer:{compact:!0},palette:{parent:m.current},propertiesPanel:{parent:g.current,...u||{}},exporter:i,properties:{...s||{},ariaLabel:"Form Definition"},additionalModules:[...t||[],...c||[]]});d.on("formField.add",({formField:e})=>{const t=d.get("formFields"),{config:n}=t.get(e.type),{generateInitialDemoData:r}=n,{id:i}=e;if(!(0,F.isFunction)(r))return;const o=r(e);[o,i].includes(void 0)||L(e=>{const t={...e,[i]:o};return k.current.setValue(Ob(t)),t})}),d.on("changed",()=>{T(d.getSchema())}),d.on("formEditor.rendered",()=>{r("formPlayground.rendered")});const p=()=>{const e=o._getSubmitData();n.setValue(Ob(e))};return o.on("changed",p),o.on("formFieldInstance.added",p),o.on("formFieldInstance.removed",p),e.on("changed",e=>{try{L(JSON.parse(e.value))}catch(e){r("formPlayground.inputDataError",e)}}),e.attachTo(b.current),n.attachTo(y.current),()=>{e.destroy(),n.destroy(),o.destroy(),d.destroy()}},[t,c,s,r,i,u,a,l]),(0,o.vJ)(()=>{e.initialSchema&&I(e.initialSchema,e.initialData||{})},[e.initialSchema,e.initialData,I]),(0,o.vJ)(()=>{j&&w.current.importSchema(j,A)},[j,A]),(0,o.vJ)(()=>{if(j&&b.current){const e=ba(j);k.current.setVariables(e)}},[j]),(0,o.vJ)(()=>{d&&(d.api={attachDataContainer:e=>k.current.attachTo(e),attachResultContainer:e=>E.current.attachTo(e),attachFormContainer:e=>w.current.attachTo(e),attachEditorContainer:e=>_.current.attachTo(e),attachPaletteContainer:e=>_.current.get("palette").attachTo(e),attachPropertiesPanelContainer:e=>_.current.get("propertiesPanel").attachTo(e),get:(e,t)=>_.current.get(e,t),getDataEditor:()=>k.current,getEditor:()=>_.current,getForm:()=>w.current,getResultView:()=>E.current,getSchema:()=>_.current.getSchema(),saveSchema:()=>_.current.saveSchema(),setSchema:T,setData:L},p())},[d,p]),(0,o.vJ)(()=>{d&&(d.api.getState=()=>({schema:j,data:A}),d.api.load=I)},[d,j,A,I]);const P=(0,o.hb)(()=>{R()(JSON.stringify(j,null,"  "),"form.json","text/json")},[j]),O=(0,o.hb)(()=>{C(!1)},[]),D=(0,o.hb)(()=>{C(!0)},[]);return Z("div",{class:x()("fjs-container","fjs-pgl-root"),children:[Z("div",{class:"fjs-pgl-modals",children:S?Z(Rb,{schema:j,data:A,onClose:O}):null}),Z("div",{class:"fjs-pgl-palette-container",ref:m}),Z("div",{class:"fjs-pgl-main",children:[Z(Ib,{name:"Form Definition",children:[h&&Z(Ib.HeaderItem,{children:Z("button",{type:"button",class:"fjs-pgl-button",title:"Download form definition",onClick:P,children:"Download"})}),h&&Z(Ib.HeaderItem,{children:Z("button",{type:"button",class:"fjs-pgl-button",onClick:D,children:"Embed"})}),Z("div",{ref:f,class:"fjs-pgl-form-container"})]}),Z(Ib,{name:"Form Preview",children:Z("div",{ref:v,class:"fjs-pgl-form-container"})}),Z(Ib,{name:"Form Input",children:Z("div",{ref:b,class:"fjs-pgl-text-container"})}),Z(Ib,{name:"Form Output",children:Z("div",{ref:y,class:"fjs-pgl-text-container"})})]}),Z("div",{class:"fjs-pgl-properties-container",ref:g})]})}function Ob(e){return JSON.stringify(e,null,"  ")}function Db(){const e=document.createElement("p");return e.innerHTML='Use this panel to simulate the form input, such as process variables.\nThis helps to test the form by populating the preview.\n\nFollow the JSON format like this:\n\n{\n  "variable": "value"\n}',e}function Vb(e){const{container:t,schema:n,data:r,...o}=e,s=(0,c.A)(),a=document.createElement("div");a.classList.add("fjs-pgl-parent"),t&&t.appendChild(a);const u=function(e,t){var n,r,i;function o(e){var i,o,l,s,a;e.preventDefault(),i=e.dataTransfer.files,o=k,l=function(i,o){if(i)console.warn("file drop failed",i);else{var l=r.concat([o,e]);t.apply(n,l)}},s=0,a=[],function e(){s===i.length?l(null,a):o(i[s],function(t,n){if(t)return l(t);a[s]=n,s++,e()})}()}function s(t){var s,a=(s=arguments,Array.prototype.slice.call(s)),c=a.pop(),u=c.dataTransfer,d=c.currentTarget||c.target;function p(e){var t=e.relatedTarget;d.contains(t)||h()}function h(e){document.removeEventListener("drop",o),document.removeEventListener("drop",h),document.removeEventListener("dragleave",p),document.removeEventListener("dragend",h),document.removeEventListener("dragover",E),i&&(d.removeChild(i),i=null)}(function(e){return e&&e.types&&e.types.includes("Files")})(u)&&(c.preventDefault(),u.dropEffect="copy",i||(i=function(e){var t='<div class="drop-overlay"><div class="box"><div class="label">{label}</div></div></div>'.replace("{label}",e);const n=l(t);return n.style.pointerEvents="none",n}(e),d.appendChild(i),n=this,r=a,d&&(document.addEventListener("drop",o),document.addEventListener("drop",h),document.addEventListener("dragleave",p),document.addEventListener("dragend",h),document.addEventListener("dragover",E))))}return"function"==typeof e&&(t=e,e="Drop files here"),s.onDrop=o,s}("Drop a form file",function(e){const t=e[0];if(t)try{this.api.setSchema(JSON.parse(t.contents))}catch(e){}}),d=function(e){return function(...t){if(!this.api)throw new Error("Playground is not initialized.");return e(...t)}};a.addEventListener("dragover",u),(0,i.render)(Z(Pb,{initialSchema:n,initialData:r,emit:s.emit,apiLinkTarget:this,onInit:function(){s.emit("formPlayground.init")},...o}),a),this.on=s.on,this.off=s.off,this.emit=s.emit,this.on("destroy",()=>{(0,i.render)(null,a),t.removeChild(a)}),this.destroy=()=>this.emit("destroy"),this.getState=d(()=>this.api.getState()),this.getSchema=d(()=>this.api.getSchema()),this.setSchema=d(e=>this.api.setSchema(e)),this.saveSchema=d(()=>this.api.saveSchema()),this.get=d((e,t)=>this.api.get(e,t)),this.getDataEditor=d(()=>this.api.getDataEditor()),this.getEditor=d(()=>this.api.getEditor()),this.getForm=d((e,t)=>this.api.getForm(e,t)),this.getResultView=d(()=>this.api.getResultView()),this.attachEditorContainer=d(e=>this.api.attachEditorContainer(e)),this.attachPreviewContainer=d(e=>this.api.attachFormContainer(e)),this.attachDataContainer=d(e=>this.api.attachDataContainer(e)),this.attachResultContainer=d(e=>this.api.attachResultContainer(e)),this.attachPaletteContainer=d(e=>this.api.attachPaletteContainer(e)),this.attachPropertiesPanelContainer=d(e=>this.api.attachPropertiesPanelContainer(e))}Ib.HeaderItem=function(e){return e.children};const Mb=()=>{};function Nb(e){const{children:t,collapseTo:n,idx:i,onToggle:o,open:l,title:s}=e,a=e=>{e.stopPropagation(),o(l)};return r.qy`
    <div 
      data-idx="${i}" 
      class="${x()("cfp-collapsible-panel",{open:!n||l})}"
    >
      <div onClick="${n?a:Mb}" class="cfp-collapsible-panel-title">
        <h1>${s}</h1>

        ${n&&r.qy`
          <div class="cfp-collapsible-panel-actions">
            <button 
              title="${l?"Close":"Open"} ${s}"
              class="cfp-collapsible-panel-action" 
              onClick="${a}"
            >
              ${function(e,t){return"right"===e?t?r.qy`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" viewBox="0 0 16 16">
        <path fill-rule="evenodd" d="M4.41421356,12.9494942 L3,11.5352806 L6.53553391,7.99974671 L3,4.4642128 L4.41421356,3.04999924 L9.36396103,7.99974671 L4.41421356,12.9494942 Z M9.91421356,3 L11.9142136,3 L11.9142136,13 L9.91421356,13 L9.91421356,3 Z"/>
      </svg>`:r.qy`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" viewBox="0 0 16 16">
        <path fill-rule="evenodd" d="M11.5,12.9494942 L6.55025253,7.99974671 L11.5,3.04999924 L12.9142136,4.4642128 L9.37867966,7.99974671 L12.9142136,11.5352806 L11.5,12.9494942 Z M6,3 L6,13 L4,13 L4,3 L6,3 Z"/>
      </svg>`:"bottom"===e?t?r.qy`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" viewBox="0 0 16 16">
        <path fill-rule="evenodd" d="M12.9494942,4.41421356 L7.99974671,9.36396103 L3.04999924,4.41421356 L4.4642128,3 L7.99974671,6.53553391 L11.5352806,3 L12.9494942,4.41421356 Z M3,9.91421356 L13,9.91421356 L13,11.9142136 L3,11.9142136 L3,9.91421356 Z"/>
      </svg>`:r.qy`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" viewBox="0 0 16 16">
        <path fill-rule="evenodd" d="M12.9494942,11.5 L11.5352806,12.9142136 L7.99974671,9.37867966 L4.4642128,12.9142136 L3.04999924,11.5 L7.99974671,6.55025253 L12.9494942,11.5 Z M3,6 L3,4 L13,4 L13,6 L3,6 Z"/>
      </svg>`:void 0}(n,l)}
            </button>
          </div>
        `}
      </div>

      <div class="cfp-collapsible-panel-content">
        ${t}
      </div>
    </div>
  `}function zb(e){const{idx:t,onTogglePreview:n,previewContainerRef:i,open:o}=e,l=()=>{n()};return r.qy`
    <div class="${x()("cfp-collapsed-preview",{visible:!o})}">
      <div class="cfp-collapsed-preview-title" onClick=${l}>
        <h1>Form Preview</h1>
      </div>
      <div class="cfp-collapsed-preview-actions">
        <button title="Open Form Preview" class="cfp-collapsed-preview-action" onClick=${l}>
          <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" viewBox="0 0 16 16">
            <path fill-rule="evenodd" d="M11.5,12.9494942 L6.55025253,7.99974671 L11.5,3.04999924 L12.9142136,4.4642128 L9.37867966,7.99974671 L12.9142136,11.5352806 L11.5,12.9494942 Z M6,3 L6,13 L4,13 L4,3 L6,3 Z"/>
          </svg>    
        </button>
      </div>
    </div>

    <!-- This is not visible when preview not open -->
    <${Nb} idx="${t}" open=${o} onToggle=${l} title="Form Preview" collapseTo="right">
      <div class="cfp-preview-container" ref=${i}></div>
    </${Nb}>`}const $b=(0,i.createContext)({layout:{},setLayout:()=>{},getLayoutForKey:()=>{},setLayoutForKey:()=>{}}),Bb={},Hb="form-preview",Jb="form-input",Ub="form-output",qb=[Hb,Jb,Ub],Kb=["formPlayground.init","formPlayground.rendered"];function Zb(e){const{data:t,emitter:n,layoutConfig:i={},onInit:l,schema:s,...a}=e;let c=(0,o.li)(null);const u=(0,o.li)(null),d=(0,o.li)(null),m=(0,o.li)(null),v=(0,o.li)(null),b=(0,o.li)(null),w=(0,o.li)(null),k=(0,o.li)(null);(0,o.vJ)(()=>{c.current=new Vb({data:t,schema:s,editor:{inlinePropertiesPanel:!1},propertiesPanel:{feelPopupContainer:k.current,getDocumentationRef:Wb},...a})},[]),(0,o.vJ)(()=>{c.current.on("formPlayground.init",()=>{l({...c.current,collapse:this.collapse,open:this.open,_ref:c.current})})},[]),(0,o.vJ)(()=>{const e=(e,t)=>n.emit(e,t);return Kb.forEach(t=>{c.current.on(t,n=>e(t,n))}),()=>{Kb.forEach(t=>{c.current.off(t,n=>e(t,n))})}},[c]);const[E,F]=(0,o.J0)((S=i,{...Bb,...S}));var S;const R=(e,t)=>function(e,t,n){let r=e;return g(t,function(e){if(h(r))return r=void 0,!1;r=r[e]}),p(r)?n:r}(E,e,t),C={layout:E,setLayout:F,getLayoutForKey:R,setLayoutForKey:(e,t)=>{const n=y({},E);_(n,e,t),F(n)}},j=R([Jb,"open"],!1),T=R([Ub,"open"],!1),A=R([Hb,"open"],!1),L=(e,t)=>{let n=y({},E);e||(e=qb),f(e)||(e=[e]),e.map(e=>{_(n,[e,"open"],t)}),F(n)};return(0,o.vJ)(()=>{n.emit("formPlayground.layoutChanged",{layout:E})},[n,E]),(0,o.vJ)(()=>{const e=c.current;function t(){e.attachPaletteContainer(u.current),e.attachEditorContainer(d.current),e.attachDataContainer(m.current),e.attachPreviewContainer(v.current),e.attachResultContainer(b.current),e.attachPropertiesPanelContainer(w.current)}return e.on("formPlayground.rendered",t),()=>e.off("formPlayground.rendered",t)},[]),this.open=function(e){L(e,!0)},this.collapse=function(e){return L(e,!1)},(0,o.vJ)(()=>{const e=()=>{const e=c.current.getEditor();e.on("drag.hover",function(e){const{container:t}=e;(t.classList.contains("fjs-drop-container-horizontal")||t.classList.contains("fjs-drop-container-vertical"))&&k.current&&k.current.classList.add("cfp-dragging")}),e.on("drag.out",function(e){k.current&&k.current.classList.remove("cfp-dragging")})},t=c.current;return t&&t.on("formPlayground.rendered",e),()=>{t&&t.off("formPlayground.rendered",e)}}),r.qy`
    <${$b.Provider} value=${C}>
    <div ref=${k} class="${x()("cfp-root",{"cfp-open-preview":A})}">
      <div class="cfp-palette" ref=${u}></div>
      <div class="cfp-left">
        <${Nb} idx="${"form-definition"}" title="Form Definition">
          <div class="cfp-editor-container" ref=${d}></div>
        </${Nb}>
        <${Nb} open=${j} idx="${Jb}" title="Form Input" collapseTo="bottom" onToggle=${()=>{j?this.collapse([Jb]):this.open([Jb])}}>
          <div class="cfp-data-container" ref=${m}></div>
        </${Nb}>
      </div>
      <div class="cfp-right">
        <${zb} 
          idx=${Hb}
          open=${A}
          previewContainerRef=${v}
          onTogglePreview="${()=>{A?this.collapse():this.open()}}" 
        />
        <${Nb} open=${T} idx="${Ub}" title="Form Output" collapseTo="bottom" onToggle=${()=>{T?this.collapse([Ub]):this.open([Ub])}}>
          <div class="cfp-result-container" ref=${b}></div>
        </${Nb}>
      </div>
      <div class="cfp-properties" ref=${w}></div>
    </div>
    </${$b.Provider}>
  `}function Wb(e){if(e)return"default"===e.type?"https://docs.camunda.io/docs/components/modeler/forms/camunda-forms-reference/":`https://docs.camunda.io/docs/components/modeler/forms/form-element-library/forms-element-library-${{[Vi.config.type]:"checkbox-group",[ta.config.type]:"document-preview"}[e.type]||e.type}/`}function Gb(e){const{container:t,data:n,schema:o,layout:l,...u}=e,d=(0,c.A)(),p=function(e){return function(...t){if(!f)throw new Error("Camunda Form Playground is not initialized.");return e(...t)}},h=this._container=s()('<div class="cfp-container"></div>');let f;t&&t.appendChild(h),this.on=d.on,this.off=d.off,this.fire=d.emit,this.once=function(e,t){d.on(e,t),d.on(e,d.off.bind(d,e,t))},this.destroy=function(){const e=h.parentNode;(0,i.render)(null,h),e&&e.removeChild(h)},this.attachTo=function(e){if(!e)throw new Error("parent required");"string"==typeof e&&(e=(0,a.P)(e)),this.detach(),e.appendChild(this._container)},this.detach=function(){const e=h.parentNode;e&&e.removeChild(h)},this.get=p((e,t)=>f.get(e,t)),this.open=p(e=>f.open(e)),this.collapse=p(e=>f.collapse(e)),this.setSchema=p(e=>f.setSchema(e)),this.getSchema=p(()=>f.getSchema()),this.saveSchema=p(()=>f.saveSchema()),this.getDataEditor=p(()=>f.getDataEditor()),this.getEditor=p(()=>f.getEditor()),this.getForm=p((e,t)=>f.getForm(e,t)),this.getResultView=p(()=>f.getResultView()),this._onInit=function(e){f=e},(0,i.render)(r.qy`
    <${Zb}
      data=${n}
      emitter=${d}
      layoutConfig=${l}
      onInit=${this._onInit}
      schema=${o}
      ...${u}
    />
  `,h)}},60056(e,t){var n,r;void 0===(r="function"==typeof(n=function(){return function e(t,n,r){var i,o,l=window,s="application/octet-stream",a=r||s,c=t,u=!n&&!r&&c,d=document.createElement("a"),p=function(e){return String(e)},h=l.Blob||l.MozBlob||l.WebKitBlob||p,f=n||"download";if(h=h.call?h.bind(l):Blob,"true"===String(this)&&(a=(c=[c,a])[0],c=c[1]),u&&u.length<2048&&(f=u.split("/").pop().split("?")[0],d.href=u,-1!==d.href.indexOf(u))){var m=new XMLHttpRequest;return m.open("GET",u,!0),m.responseType="blob",m.onload=function(t){e(t.target.response,f,s)},setTimeout(function(){m.send()},0),m}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(c)){if(!(c.length>2096103.424&&h!==p))return navigator.msSaveBlob?navigator.msSaveBlob(y(c),f):_(c);a=(c=y(c)).type||s}else if(/([\x80-\xff])/.test(c)){for(var g=0,v=new Uint8Array(c.length),b=v.length;g<b;++g)v[g]=c.charCodeAt(g);c=new h([v],{type:a})}function y(e){for(var t=e.split(/[:;,]/),n=t[1],r=("base64"==t[2]?atob:decodeURIComponent)(t.pop()),i=r.length,o=0,l=new Uint8Array(i);o<i;++o)l[o]=r.charCodeAt(o);return new h([l],{type:n})}function _(e,t){if("download"in d)return d.href=e,d.setAttribute("download",f),d.className="download-js-link",d.innerHTML="downloading...",d.style.display="none",document.body.appendChild(d),setTimeout(function(){d.click(),document.body.removeChild(d),!0===t&&setTimeout(function(){l.URL.revokeObjectURL(d.href)},250)},66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,s)),window.open(e)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=e),!0;var n=document.createElement("iframe");document.body.appendChild(n),!t&&/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,s)),n.src=e,setTimeout(function(){document.body.removeChild(n)},333)}if(i=c instanceof h?c:new h([c],{type:a}),navigator.msSaveBlob)return navigator.msSaveBlob(i,f);if(l.URL)_(l.URL.createObjectURL(i),!0);else{if("string"==typeof i||i.constructor===p)try{return _("data:"+a+";base64,"+l.btoa(i))}catch(e){return _("data:"+a+","+encodeURIComponent(i))}(o=new FileReader).onload=function(e){_(this.result)},o.readAsDataURL(i)}return!0}})?n.apply(t,[]):n)||(e.exports=r)},1416(e,t,n){var r=n(99138)(n(41433),"DataView");e.exports=r},9073(e,t,n){var r=n(82316),i=n(76458),o=n(2149),l=n(44297),s=n(33121);function a(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}a.prototype.clear=r,a.prototype.delete=i,a.prototype.get=o,a.prototype.has=l,a.prototype.set=s,e.exports=a},72707(e,t,n){var r=n(39714),i=n(33812),o=n(14727),l=n(8379),s=n(8291);function a(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}a.prototype.clear=r,a.prototype.delete=i,a.prototype.get=o,a.prototype.has=l,a.prototype.set=s,e.exports=a},91955(e,t,n){var r=n(99138)(n(41433),"Map");e.exports=r},90369(e,t,n){var r=n(72092),i=n(49626),o=n(79925),l=n(26809),s=n(94385);function a(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}a.prototype.clear=r,a.prototype.delete=i,a.prototype.get=o,a.prototype.has=l,a.prototype.set=s,e.exports=a},42616(e,t,n){var r=n(99138)(n(41433),"Promise");e.exports=r},60157(e,t,n){var r=n(99138)(n(41433),"Set");e.exports=r},61527(e,t,n){var r=n(90369),i=n(79912),o=n(23767);function l(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}l.prototype.add=l.prototype.push=i,l.prototype.has=o,e.exports=l},86469(e,t,n){var r=n(72707),i=n(71848),o=n(17406),l=n(58569),s=n(43109),a=n(73389);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=l,c.prototype.has=s,c.prototype.set=a,e.exports=c},32781(e,t,n){var r=n(41433).Symbol;e.exports=r},28944(e,t,n){var r=n(41433).Uint8Array;e.exports=r},78499(e,t,n){var r=n(99138)(n(41433),"WeakMap");e.exports=r},61414(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var l=e[n];t(l,n,e)&&(o[i++]=l)}return o}},31163(e,t,n){var r=n(36204),i=n(98875),o=n(6397),l=n(30492),s=n(42845),a=n(47995),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),u=!n&&i(e),d=!n&&!u&&l(e),p=!n&&!u&&!d&&a(e),h=n||u||d||p,f=h?r(e.length,String):[],m=f.length;for(var g in e)!t&&!c.call(e,g)||h&&("length"==g||d&&("offset"==g||"parent"==g)||p&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||f.push(g);return f}},78740(e){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},57260(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},58301(e,t,n){var r=n(39316);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},96784(e,t,n){var r=n(78740),i=n(6397);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},87148(e,t,n){var r=n(32781),i=n(17903),o=n(71738),l=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":l&&l in Object(e)?i(e):o(e)}},79250(e,t,n){var r=n(87148),i=n(22934);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},22122(e,t,n){var r=n(42032),i=n(22934);e.exports=function e(t,n,o,l,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!=t&&n!=n:r(t,n,o,l,e,s))}},42032(e,t,n){var r=n(86469),i=n(44075),o=n(64622),l=n(62677),s=n(31201),a=n(6397),c=n(30492),u=n(47995),d="[object Arguments]",p="[object Array]",h="[object Object]",f=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,g,v){var b=a(e),y=a(t),_=b?p:s(e),w=y?p:s(t),x=(_=_==d?h:_)==h,k=(w=w==d?h:w)==h,E=_==w;if(E&&c(e)){if(!c(t))return!1;b=!0,x=!1}if(E&&!x)return v||(v=new r),b||u(e)?i(e,t,n,m,g,v):o(e,t,_,n,m,g,v);if(!(1&n)){var F=x&&f.call(e,"__wrapped__"),S=k&&f.call(t,"__wrapped__");if(F||S){var R=F?e.value():e,C=S?t.value():t;return v||(v=new r),g(R,C,n,m,v)}}return!!E&&(v||(v=new r),l(e,t,n,m,g,v))}},16567(e,t,n){var r=n(18446),i=n(18092),o=n(58953),l=n(81485),s=/^\[object .+?Constructor\]$/,a=Function.prototype,c=Object.prototype,u=a.toString,d=c.hasOwnProperty,p=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?p:s).test(l(e))}},97129(e,t,n){var r=n(87148),i=n(3330),o=n(22934),l={};l["[object Float32Array]"]=l["[object Float64Array]"]=l["[object Int8Array]"]=l["[object Int16Array]"]=l["[object Int32Array]"]=l["[object Uint8Array]"]=l["[object Uint8ClampedArray]"]=l["[object Uint16Array]"]=l["[object Uint32Array]"]=!0,l["[object Arguments]"]=l["[object Array]"]=l["[object ArrayBuffer]"]=l["[object Boolean]"]=l["[object DataView]"]=l["[object Date]"]=l["[object Error]"]=l["[object Function]"]=l["[object Map]"]=l["[object Number]"]=l["[object Object]"]=l["[object RegExp]"]=l["[object Set]"]=l["[object String]"]=l["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!l[r(e)]}},81452(e,t,n){var r=n(67499),i=n(9566),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},36204(e){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},30041(e){e.exports=function(e){return function(t){return e(t)}}},79151(e){e.exports=function(e,t){return e.has(t)}},38109(e,t,n){var r=n(41433)["__core-js_shared__"];e.exports=r},44075(e,t,n){var r=n(61527),i=n(57260),o=n(79151);e.exports=function(e,t,n,l,s,a){var c=1&n,u=e.length,d=t.length;if(u!=d&&!(c&&d>u))return!1;var p=a.get(e),h=a.get(t);if(p&&h)return p==t&&h==e;var f=-1,m=!0,g=2&n?new r:void 0;for(a.set(e,t),a.set(t,e);++f<u;){var v=e[f],b=t[f];if(l)var y=c?l(b,v,f,t,e,a):l(v,b,f,e,t,a);if(void 0!==y){if(y)continue;m=!1;break}if(g){if(!i(t,function(e,t){if(!o(g,t)&&(v===e||s(v,e,n,l,a)))return g.push(t)})){m=!1;break}}else if(v!==b&&!s(v,b,n,l,a)){m=!1;break}}return a.delete(e),a.delete(t),m}},64622(e,t,n){var r=n(32781),i=n(28944),o=n(39316),l=n(44075),s=n(90953),a=n(15851),c=r?r.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,d,p){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=s;case"[object Set]":var f=1&r;if(h||(h=a),e.size!=t.size&&!f)return!1;var m=p.get(e);if(m)return m==t;r|=2,p.set(e,t);var g=l(h(e),h(t),r,c,d,p);return p.delete(e),g;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},62677(e,t,n){var r=n(90966),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,l,s){var a=1&n,c=r(e),u=c.length;if(u!=r(t).length&&!a)return!1;for(var d=u;d--;){var p=c[d];if(!(a?p in t:i.call(t,p)))return!1}var h=s.get(e),f=s.get(t);if(h&&f)return h==t&&f==e;var m=!0;s.set(e,t),s.set(t,e);for(var g=a;++d<u;){var v=e[p=c[d]],b=t[p];if(o)var y=a?o(b,v,p,t,e,s):o(v,b,p,e,t,s);if(!(void 0===y?v===b||l(v,b,n,o,s):y)){m=!1;break}g||(g="constructor"==p)}if(m&&!g){var _=e.constructor,w=t.constructor;_==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof w&&w instanceof w||(m=!1)}return s.delete(e),s.delete(t),m}},75380(e){var t="object"==typeof global&&global&&global.Object===Object&&global;e.exports=t},90966(e,t,n){var r=n(96784),i=n(88876),o=n(31178);e.exports=function(e){return r(e,o,i)}},15535(e,t,n){var r=n(95662);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},99138(e,t,n){var r=n(16567),i=n(6772);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},17903(e,t,n){var r=n(32781),i=Object.prototype,o=i.hasOwnProperty,l=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var i=l.call(e);return r&&(t?e[s]=n:delete e[s]),i}},88876(e,t,n){var r=n(61414),i=n(53629),o=Object.prototype.propertyIsEnumerable,l=Object.getOwnPropertySymbols,s=l?function(e){return null==e?[]:(e=Object(e),r(l(e),function(t){return o.call(e,t)}))}:i;e.exports=s},31201(e,t,n){var r=n(1416),i=n(91955),o=n(42616),l=n(60157),s=n(78499),a=n(87148),c=n(81485),u="[object Map]",d="[object Promise]",p="[object Set]",h="[object WeakMap]",f="[object DataView]",m=c(r),g=c(i),v=c(o),b=c(l),y=c(s),_=a;(r&&_(new r(new ArrayBuffer(1)))!=f||i&&_(new i)!=u||o&&_(o.resolve())!=d||l&&_(new l)!=p||s&&_(new s)!=h)&&(_=function(e){var t=a(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case m:return f;case g:return u;case v:return d;case b:return p;case y:return h}return t}),e.exports=_},6772(e){e.exports=function(e,t){return null==e?void 0:e[t]}},82316(e,t,n){var r=n(4558);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},76458(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},2149(e,t,n){var r=n(4558),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},44297(e,t,n){var r=n(4558),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},33121(e,t,n){var r=n(4558);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},42845(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},95662(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},18092(e,t,n){var r,i=n(38109),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!o&&o in e}},67499(e){var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},39714(e){e.exports=function(){this.__data__=[],this.size=0}},33812(e,t,n){var r=n(58301),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():i.call(t,n,1),--this.size,0))}},14727(e,t,n){var r=n(58301);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},8379(e,t,n){var r=n(58301);e.exports=function(e){return r(this.__data__,e)>-1}},8291(e,t,n){var r=n(58301);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},72092(e,t,n){var r=n(9073),i=n(72707),o=n(91955);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},49626(e,t,n){var r=n(15535);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},79925(e,t,n){var r=n(15535);e.exports=function(e){return r(this,e).get(e)}},26809(e,t,n){var r=n(15535);e.exports=function(e){return r(this,e).has(e)}},94385(e,t,n){var r=n(15535);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},90953(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}},4558(e,t,n){var r=n(99138)(Object,"create");e.exports=r},9566(e,t,n){var r=n(51019)(Object.keys,Object);e.exports=r},23685(e,t,n){e=n.nmd(e);var r=n(75380),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,l=o&&o.exports===i&&r.process,s=function(){try{return o&&o.require&&o.require("util").types||l&&l.binding&&l.binding("util")}catch(e){}}();e.exports=s},71738(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},51019(e){e.exports=function(e,t){return function(n){return e(t(n))}}},41433(e,t,n){var r=n(75380),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},79912(e){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},23767(e){e.exports=function(e){return this.__data__.has(e)}},15851(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},71848(e,t,n){var r=n(72707);e.exports=function(){this.__data__=new r,this.size=0}},17406(e){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},58569(e){e.exports=function(e){return this.__data__.get(e)}},43109(e){e.exports=function(e){return this.__data__.has(e)}},73389(e,t,n){var r=n(72707),i=n(91955),o=n(90369);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var l=n.__data__;if(!i||l.length<199)return l.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(l)}return n.set(e,t),this.size=n.size,this}},81485(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},39316(e){e.exports=function(e,t){return e===t||e!=e&&t!=t}},98875(e,t,n){var r=n(79250),i=n(22934),o=Object.prototype,l=o.hasOwnProperty,s=o.propertyIsEnumerable,a=r(function(){return arguments}())?r:function(e){return i(e)&&l.call(e,"callee")&&!s.call(e,"callee")};e.exports=a},6397(e){var t=Array.isArray;e.exports=t},18330(e,t,n){var r=n(18446),i=n(3330);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},30492(e,t,n){e=n.nmd(e);var r=n(41433),i=n(80659),o=t&&!t.nodeType&&t,l=o&&e&&!e.nodeType&&e,s=l&&l.exports===o?r.Buffer:void 0,a=(s?s.isBuffer:void 0)||i;e.exports=a},18264(e,t,n){var r=n(22122);e.exports=function(e,t){return r(e,t)}},18446(e,t,n){var r=n(87148),i=n(58953);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},3330(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},58953(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},22934(e){e.exports=function(e){return null!=e&&"object"==typeof e}},47995(e,t,n){var r=n(97129),i=n(30041),o=n(23685),l=o&&o.isTypedArray,s=l?i(l):r;e.exports=s},31178(e,t,n){var r=n(31163),i=n(81452),o=n(18330);e.exports=function(e){return o(e)?r(e):i(e)}},53629(e){e.exports=function(){return[]}},80659(e){e.exports=function(){return!1}},43078(e,t,n){"use strict";n.d(t,{Bi:()=>C,J0:()=>b,Kr:()=>E,MN:()=>R,NT:()=>S,Nf:()=>w,WO:()=>y,Yn:()=>k,hb:()=>F,li:()=>x,vJ:()=>_});var r,i,o,l,s=n(60616),a=0,c=[],u=s.options,d=u.__b,p=u.__r,h=u.diffed,f=u.__c,m=u.unmount,g=u.__;function v(e,t){u.__h&&u.__h(i,e,a||t),a=0;var n=i.__H||(i.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function b(e){return a=1,y(O,e)}function y(e,t,n){var o=v(r++,2);if(o.t=e,!o.__c&&(o.__=[n?n(t):O(void 0,t),function(e){var t=o.__N?o.__N[0]:o.__[0],n=o.t(t,e);t!==n&&(o.__N=[n,o.__[1]],o.__c.setState({}))}],o.__c=i,!i.__f)){var l=function(e,t,n){if(!o.__c.__H)return!0;var r=o.__c.__H.__.filter(function(e){return!!e.__c});if(r.every(function(e){return!e.__N}))return!s||s.call(this,e,t,n);var i=o.__c.props!==e;return r.forEach(function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(i=!0)}}),s&&s.call(this,e,t,n)||i};i.__f=!0;var s=i.shouldComponentUpdate,a=i.componentWillUpdate;i.componentWillUpdate=function(e,t,n){if(this.__e){var r=s;s=void 0,l(e,t,n),s=r}a&&a.call(this,e,t,n)},i.shouldComponentUpdate=l}return o.__N||o.__}function _(e,t){var n=v(r++,3);!u.__s&&P(n.__H,t)&&(n.__=e,n.u=t,i.__H.__h.push(n))}function w(e,t){var n=v(r++,4);!u.__s&&P(n.__H,t)&&(n.__=e,n.u=t,i.__h.push(n))}function x(e){return a=5,E(function(){return{current:e}},[])}function k(e,t,n){a=6,w(function(){if("function"==typeof e){var n=e(t());return function(){e(null),n&&"function"==typeof n&&n()}}if(e)return e.current=t(),function(){return e.current=null}},null==n?n:n.concat(e))}function E(e,t){var n=v(r++,7);return P(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function F(e,t){return a=8,E(function(){return e},t)}function S(e){var t=i.context[e.__c],n=v(r++,9);return n.c=e,t?(null==n.__&&(n.__=!0,t.sub(i)),t.props.value):e.__}function R(e,t){u.useDebugValue&&u.useDebugValue(t?t(e):e)}function C(){var e=v(r++,11);if(!e.__){for(var t=i.__v;null!==t&&!t.__m&&null!==t.__;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function j(){for(var e;e=c.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(L),e.__H.__h.forEach(I),e.__H.__h=[]}catch(t){e.__H.__h=[],u.__e(t,e.__v)}}u.__b=function(e){i=null,d&&d(e)},u.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),g&&g(e,t)},u.__r=function(e){p&&p(e),r=0;var t=(i=e.__c).__H;t&&(o===i?(t.__h=[],i.__h=[],t.__.forEach(function(e){e.__N&&(e.__=e.__N),e.u=e.__N=void 0})):(t.__h.forEach(L),t.__h.forEach(I),t.__h=[],r=0)),o=i},u.diffed=function(e){h&&h(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==c.push(t)&&l===u.requestAnimationFrame||((l=u.requestAnimationFrame)||A)(j)),t.__H.__.forEach(function(e){e.u&&(e.__H=e.u),e.u=void 0})),o=i=null},u.__c=function(e,t){t.some(function(e){try{e.__h.forEach(L),e.__h=e.__h.filter(function(e){return!e.__||I(e)})}catch(n){t.some(function(e){e.__h&&(e.__h=[])}),t=[],u.__e(n,e.__v)}}),f&&f(e,t)},u.unmount=function(e){m&&m(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(e){try{L(e)}catch(e){t=e}}),n.__H=void 0,t&&u.__e(t,n.__v))};var T="function"==typeof requestAnimationFrame;function A(e){var t,n=function(){clearTimeout(r),T&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,35);T&&(t=requestAnimationFrame(n))}function L(e){var t=i,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),i=t}function I(e){var t=i;e.__c=e.__(),i=t}function P(e,t){return!e||e.length!==t.length||t.some(function(t,n){return t!==e[n]})}function O(e,t){return"function"==typeof t?t(e):t}},11719(e,t,n){"use strict";n.d(t,{zZ:()=>d});const r=/^class[ {]/;function i(e){return Array.isArray(e)}function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l(...e){1===e.length&&i(e[0])&&(e=e[0]);const t=(e=[...e]).pop();return t.$inject=e,t}const s=/constructor\s*[^(]*\(\s*([^)]*)\)/m,a=/^(?:async\s+)?(?:function\s*[^(]*)?(?:\(\s*([^)]*)\)|(\w+))/m,c=/\/\*([^*]*)\*\//m;function u(e){if("function"!=typeof e)throw new Error(`Cannot annotate "${e}". Expected a function!`);const t=e.toString().match(function(e){return r.test(e.toString())}(e)?s:a);if(!t)return[];const n=t[1]||t[2];return n&&n.split(",").map(e=>{const t=e.match(c);return(t&&t[1]||e).trim()})||[]}function d(e,t){const n=t||{get:function(e,t){if(r.push(e),!1===t)return null;throw h(`No provider for "${e}"!`)}},r=[],s=this._providers=Object.create(n._providers||null),a=this._instances=Object.create(null),c=a.injector=this,h=function(e){const t=r.join(" -> ");return r.length=0,new Error(t?`${e} (Resolving: ${t})`:e)};function f(e,t){if(!s[e]&&e.includes(".")){const t=e.split(".");let n=f(t.shift());for(;t.length;)n=n[t.shift()];return n}if(o(a,e))return a[e];if(o(s,e)){if(-1!==r.indexOf(e))throw r.push(e),h("Cannot resolve circular dependency!");return r.push(e),a[e]=s[e][0](s[e][1]),r.pop(),a[e]}return n.get(e,t)}function m(e,t){if(void 0===t&&(t={}),"function"!=typeof e){if(!i(e))throw h(`Cannot invoke "${e}". Expected a function!`);e=l(e.slice())}return{fn:e,dependencies:(e.$inject||u(e)).map(e=>o(t,e)?t[e]:f(e))}}function g(e){const{fn:t,dependencies:n}=m(e);return new(Function.prototype.bind.call(t,null,...n))}function v(e,t,n){const{fn:r,dependencies:i}=m(e,n);return r.apply(t,i)}function b(e){return l(t=>e.get(t))}function y(e,t){if(t&&t.length){const n=Object.create(null),r=Object.create(null),i=[],o=[],l=[];let a,c,u,d;for(let e in s)a=s[e],-1!==t.indexOf(e)&&("private"===a[2]?(c=i.indexOf(a[3]),-1===c?(u=a[3].createChild([],t),d=b(u),i.push(a[3]),o.push(u),l.push(d),n[e]=[d,e,"private",u]):n[e]=[l[c],e,"private",o[c]]):n[e]=[a[2],a[1]],r[e]=!0),"factory"!==a[2]&&"type"!==a[2]||!a[1].$scope||t.forEach(t=>{-1!==a[1].$scope.indexOf(t)&&(n[e]=[a[2],a[1]],r[t]=!0)});t.forEach(e=>{if(!r[e])throw new Error('No provider for "'+e+'". Cannot use provider from the parent!')}),e.unshift(n)}return new d(e,c)}const _={factory:v,type:g,value:function(e){return e}};function w(e,t){const n=e.__init__||[];return function(){n.forEach(e=>{"string"==typeof e?t.get(e):t.invoke(e)})}}function x(e){const t=e.__exports__;if(t){const n=e.__modules__,r=Object.keys(e).reduce((t,n)=>("__exports__"!==n&&"__modules__"!==n&&"__init__"!==n&&"__depends__"!==n&&(t[n]=e[n]),t),Object.create(null)),i=y((n||[]).concat(r)),o=l(function(e){return i.get(e)});t.forEach(function(e){s[e]=[o,e,"private",i]});const a=(e.__init__||[]).slice();return a.unshift(function(){i.init()}),w(e=Object.assign({},e,{__init__:a}),i)}return Object.keys(e).forEach(function(t){if("__init__"===t||"__depends__"===t)return;const n=e[t];if("private"===n[2])return void(s[t]=n);const r=n[0],i=n[1];s[t]=[_[r],p(r,i),r]}),w(e,c)}function k(e,t){return-1!==e.indexOf(t)||-1!==(e=(t.__depends__||[]).reduce(k,e)).indexOf(t)?e:e.concat(t)}this.get=f,this.invoke=v,this.instantiate=g,this.createChild=y,this.init=function(e){const t=e.reduce(k,[]).map(x);let n=!1;return function(){n||(n=!0,t.forEach(e=>e()))}}(e)}function p(e,t){return"value"!==e&&i(t)&&(t=l(t.slice())),t}}}]);
//# sourceMappingURL=1860.js.map