{"version":3,"file":"8954.js","mappings":"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","sources":["webpack://camunda-modeler-client/./src/app/tabs/form/FormEditor.less?be5b","webpack://camunda-modeler-client/./src/app/tabs/form/getFormEditMenu.js","webpack://camunda-modeler-client/./src/app/tabs/form/getFormWindowMenu.js","webpack://camunda-modeler-client/./resources/icons/Design.svg","webpack://camunda-modeler-client/./resources/icons/Validate.svg","webpack://camunda-modeler-client/./src/app/tabs/form/FormPreviewToggle.less?3aba","webpack://camunda-modeler-client/./src/app/tabs/form/FormPreviewToggle.js","webpack://camunda-modeler-client/./src/app/tabs/form/FormEditor.js","webpack://camunda-modeler-client/./src/app/tabs/form/FormTab.js","webpack://camunda-modeler-client/./src/util/dom/isInput.js","webpack://camunda-modeler-client/./src/app/tabs/form/FormEditor.less","webpack://camunda-modeler-client/./src/app/tabs/form/FormPreviewToggle.less"],"sourcesContent":["\n      import API from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].oneOf[3].use[1]!../../../../../node_modules/less-loader/dist/cjs.js!./FormEditor.less\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].oneOf[3].use[1]!../../../../../node_modules/less-loader/dist/cjs.js!./FormEditor.less\";\n       export default content && content.locals ? content.locals : undefined;\n","/**\r\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\r\n * under one or more contributor license agreements. See the NOTICE file\r\n * distributed with this work for additional information regarding copyright\r\n * ownership.\r\n *\r\n * Camunda licenses this file to you under the MIT; you may not use this file\r\n * except in compliance with the MIT License.\r\n */\r\n\r\nimport {\r\n  getDefaultCopyCutPasteEntries,\r\n  getDefaultUndoRedoEntries,\r\n  getSelectionEntries,\r\n  getUndoRedoEntries\r\n} from '../getEditMenu';\r\n\r\nfunction getCopyCutPasteEntries(state) {\r\n  const { inputActive } = state;\r\n\r\n  return getDefaultCopyCutPasteEntries(inputActive);\r\n}\r\n\r\nexport function getFormEditMenu(state) {\r\n  const { defaultUndoRedo } = state;\r\n\r\n  const undoRedoEntries = defaultUndoRedo\r\n    ? getDefaultUndoRedoEntries(true)\r\n    : getUndoRedoEntries(state);\r\n\r\n  return [\r\n    undoRedoEntries,\r\n    getCopyCutPasteEntries(state),\r\n    getSelectionEntries(state)\r\n  ];\r\n}\r\n","/**\r\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\r\n * under one or more contributor license agreements. See the NOTICE file\r\n * distributed with this work for additional information regarding copyright\r\n * ownership.\r\n *\r\n * Camunda licenses this file to you under the MIT; you may not use this file\r\n * except in compliance with the MIT License.\r\n */\r\n\r\nimport { FORM_PREVIEW_TRIGGER } from './FormEditor';\r\n\r\nexport function getFormWindowMenu(state) {\r\n  return [\r\n    ...getPreviewEntries(state)\r\n  ];\r\n}\r\n\r\nfunction getPreviewEntries({ previewOpen }) {\r\n  return [ {\r\n    label: previewOpen ? 'Open design mode' : 'Open validation mode',\r\n    accelerator: 'CommandOrControl+P',\r\n    action: previewOpen ? 'collapsePreview' : 'openPreview',\r\n    options: {\r\n      triggeredBy: FORM_PREVIEW_TRIGGER.WINDOW_MENU\r\n    }\r\n  } ];\r\n}","function _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport React from \"react\";\nexport default ({\n  styles = {},\n  ...props\n}) => /*#__PURE__*/React.createElement(\"svg\", _extends({\n  fill: \"currentcolor\",\n  viewBox: \"0 0 32 32\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  strokeLinejoin: \"round\",\n  strokeMiterlimit: \"2\"\n}, props), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M24.515 16.314L30 21.799 21.799 30l-5.485-5.485 2.121-2.122 3.364 3.364 3.958-3.958-3.364-3.364 2.122-2.121zm-7.494 4.665l-2.122 2.122-6-6 2.122-2.122 6 6zm6.08-6.08l-2.122 2.122-6-6 2.122-2.122 6 6zm-7.415-7.414l-2.121 2.122-3.364-3.364-3.958 3.958 3.364 3.364-2.122 2.121L2 10.201 10.201 2l5.485 5.485z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M3 23L19 7l6 6L9 29H3v-6zM21 5l6 6 1.751-1.751a3.18 3.18 0 000-4.498l-1.502-1.502a3.18 3.18 0 00-4.498 0L21 5z\"\n}));","function _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport React from \"react\";\nexport default ({\n  styles = {},\n  ...props\n}) => /*#__PURE__*/React.createElement(\"svg\", _extends({\n  fill: \"currentcolor\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 32 32\"\n}, props), /*#__PURE__*/React.createElement(\"circle\", {\n  cx: \"16\",\n  cy: \"16\",\n  r: \"4\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M30.94 15.66A16.69 16.69 0 0016 5 16.69 16.69 0 001.06 15.66a1 1 0 000 .68A16.69 16.69 0 0016 27a16.69 16.69 0 0014.94-10.66 1 1 0 000-.68zM16 22.5a6.5 6.5 0 116.5-6.5 6.51 6.51 0 01-6.5 6.5z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  \"data-name\": \"<Transparent Rectangle>\",\n  fill: \"none\",\n  d: \"M0 0h32v32H0z\"\n}));","\n      import API from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].oneOf[3].use[1]!../../../../../node_modules/less-loader/dist/cjs.js!./FormPreviewToggle.less\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].oneOf[3].use[1]!../../../../../node_modules/less-loader/dist/cjs.js!./FormPreviewToggle.less\";\n       export default content && content.locals ? content.locals : undefined;\n","/**\r\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\r\n * under one or more contributor license agreements. See the NOTICE file\r\n * distributed with this work for additional information regarding copyright\r\n * ownership.\r\n *\r\n * Camunda licenses this file to you under the MIT; you may not use this file\r\n * except in compliance with the MIT License.\r\n */\r\n\r\nimport React from 'react';\r\n\r\nimport classnames from 'classnames';\r\n\r\nimport { Fill } from '../../slot-fill';\r\n\r\nimport DesignIcon from '../../../../resources/icons/Design.svg';\r\nimport ValidateIcon from '../../../../resources/icons/Validate.svg';\r\n\r\nimport { FORM_PREVIEW_TRIGGER } from './FormEditor';\r\n\r\nimport * as css from './FormPreviewToggle.less';\r\n\r\n\r\nexport function FormPreviewToggle(props) {\r\n\r\n  const {\r\n    onCollapsePreview,\r\n    onOpenPreview,\r\n    previewOpen\r\n  } = props;\r\n\r\n  const handleCollapse = () => {\r\n    onCollapsePreview({\r\n      triggeredBy: FORM_PREVIEW_TRIGGER.STATUS_BAR\r\n    });\r\n  };\r\n\r\n  const handleOpen = () => {\r\n    onOpenPreview({\r\n      triggeredBy: FORM_PREVIEW_TRIGGER.STATUS_BAR\r\n    });\r\n  };\r\n\r\n  return <Fill slot=\"status-bar__app\" group=\"1_form-preview\">\r\n    <div className={ classnames(css.FormPreviewToggle) }>\r\n      <button\r\n        className={ classnames('btn', { 'btn--active': !previewOpen }) }\r\n        title=\"Open design mode\"\r\n        onClick={ handleCollapse }\r\n      >\r\n        <DesignIcon /> Design\r\n      </button>\r\n      <button\r\n        className={ classnames('btn', { 'btn--active': previewOpen }) }\r\n        title=\"Open validation mode\"\r\n        onClick={ handleOpen }\r\n      >\r\n        <ValidateIcon /> Validate\r\n      </button>\r\n    </div>\r\n  </Fill>;\r\n}\r\n","/**\r\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\r\n * under one or more contributor license agreements. See the NOTICE file\r\n * distributed with this work for additional information regarding copyright\r\n * ownership.\r\n *\r\n * Camunda licenses this file to you under the MIT; you may not use this file\r\n * except in compliance with the MIT License.\r\n */\r\n\r\nimport React, { createRef } from 'react';\r\n\r\nimport { isFunction, keys } from 'min-dash';\r\n\r\nimport debounce from '../../../util/debounce';\r\n\r\nimport {\r\n  WithCache,\r\n  WithCachedState,\r\n  CachedComponent\r\n} from '../../cached';\r\n\r\nimport { Loader } from '../../primitives';\r\n\r\nimport * as css from './FormEditor.less';\r\n\r\nimport { getFormEditMenu } from './getFormEditMenu';\r\n\r\nimport { getFormWindowMenu } from './getFormWindowMenu';\r\n\r\nimport { active as isInputActive } from '../../../util/dom/isInput';\r\n\r\nimport { FormPlayground as Form } from './editor/FormEditor';\r\n\r\nimport Metadata from '../../../util/Metadata';\r\n\r\nimport {\r\n  EngineProfile,\r\n  getEngineProfileFromForm\r\n} from '../EngineProfile';\r\n\r\nimport EngineProfileHelper from '../EngineProfileHelper';\r\n\r\nimport { ENGINES } from '../../../util/Engines';\r\n\r\nimport { FormPreviewToggle } from './FormPreviewToggle';\r\n\r\nconst LOW_PRIORITY = 500;\r\n\r\nexport const DEFAULT_ENGINE_PROFILE = {\r\n  executionPlatform: ENGINES.PLATFORM\r\n};\r\n\r\nconst FORM_LAYOUT_KEY = 'formEditor';\r\n\r\nconst DEFAULT_LAYOUT = {\r\n  'form-preview': { open: false },\r\n  'form-input': { open: false },\r\n  'form-output': { open: false }\r\n};\r\n\r\nexport const FORM_PREVIEW_TRIGGER = {\r\n  KEYBOARD_SHORTCUT: 'keyboardShortcut',\r\n  PREVIEW_PANEL: 'previewPanel',\r\n  STATUS_BAR: 'statusBar',\r\n  WINDOW_MENU: 'windowMenu'\r\n};\r\n\r\n\r\nexport class FormEditor extends CachedComponent {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const {\r\n      layout = {}\r\n    } = props;\r\n\r\n    this.ref = createRef();\r\n\r\n    this.state = {\r\n      lastFormPreviewState: null,\r\n      lastInputData: null,\r\n      importing: false,\r\n      previewOpen: isValidation(getInitialFormLayout(layout)),\r\n      triggeredBy: null\r\n    };\r\n\r\n    this.engineProfile = new EngineProfileHelper({\r\n      get: () => {\r\n        const { form } = this.getCached();\r\n\r\n        const schema = form.getSchema();\r\n\r\n        return getEngineProfileFromForm(schema, DEFAULT_ENGINE_PROFILE);\r\n      },\r\n      set: (engineProfile) => {\r\n        const { form } = this.getCached();\r\n\r\n        const editor = form.getEditor();\r\n\r\n        const root = editor._state.schema;\r\n\r\n        const modeling = editor.get('modeling');\r\n\r\n        modeling.editFormField(root, engineProfile);\r\n      },\r\n      getCached: () => this.getCached(),\r\n      setCached: (state) => this.setCached(state)\r\n    });\r\n\r\n    this.handleLintingDebounced = debounce(this.handleLinting.bind(this));\r\n  }\r\n\r\n  componentDidMount() {\r\n    let { form, lastSchema } = this.getCached();\r\n\r\n    if (this.ref.current) {\r\n      form.attachTo(this.ref.current);\r\n    }\r\n\r\n    if (lastSchema) {\r\n      this.handlePlaygroundRendered();\r\n      this.handleInitialPlaygroundLayout();\r\n    } else {\r\n\r\n      // wait for proper instantiation\r\n      form.on('formPlayground.rendered', this.handlePlaygroundRendered);\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this._isMounted = false;\r\n\r\n    const { form } = this.getCached();\r\n\r\n    form.detach();\r\n\r\n    // notify current dragula instance to properly destroy from editor\r\n    form.getEditor().get('eventBus').fire('detach');\r\n\r\n    this.listen('off');\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    this.checkImport(prevProps);\r\n\r\n    if (isCacheStateChanged(prevProps, this.props)) {\r\n      this.handleChanged();\r\n    }\r\n  }\r\n\r\n  checkImport(prevProps) {\r\n    if (!this.isImportNeeded(prevProps)) {\r\n      return;\r\n    }\r\n\r\n    const { xml: schema } = this.props;\r\n\r\n    this.importSchema(schema);\r\n  }\r\n\r\n  isImportNeeded(prevProps = {}) {\r\n    const { importing } = this.state;\r\n\r\n    if (importing) {\r\n      return false;\r\n    }\r\n\r\n    const { xml: schema } = this.props;\r\n\r\n    const { xml: prevSchema } = prevProps;\r\n\r\n    if (schema === prevSchema) {\r\n      return false;\r\n    }\r\n\r\n    const { lastSchema } = this.getCached();\r\n\r\n    return schema !== lastSchema;\r\n  }\r\n\r\n  async importSchema(schema) {\r\n    this.setState({\r\n      importing: true\r\n    });\r\n\r\n    const { form } = this.getCached();\r\n\r\n    let error = null,\r\n        warnings = null;\r\n\r\n    try {\r\n      const schemaJSON = JSON.parse(schema);\r\n\r\n      /*\r\n       * Note @pinussilvestrus:\r\n       * Consider https://github.com/bpmn-io/form-js/issues/322.\r\n       *\r\n       * In the meanwhile, simply use editor import,\r\n       * the playground is handling the orchestration\r\n       */\r\n      const result = await form.getEditor().importSchema(schemaJSON);\r\n\r\n      if (result) {\r\n        ({ error, warnings } = result);\r\n      }\r\n    } catch (err) {\r\n      error = err;\r\n\r\n      if (err.warnings) {\r\n        warnings = err.warnings;\r\n      }\r\n    }\r\n\r\n    if (this._isMounted) {\r\n      this.handleImport(error, warnings);\r\n    }\r\n  }\r\n\r\n  handleImport(error, warnings) {\r\n    const { form } = this.getCached();\r\n\r\n    const {\r\n      onImport,\r\n      xml: schema\r\n    } = this.props;\r\n\r\n    const editor = form.getEditor();\r\n\r\n    const commandStack = editor.get('commandStack');\r\n\r\n    const stackIdx = commandStack._stackIdx;\r\n\r\n    let engineProfile = null;\r\n\r\n    try {\r\n      engineProfile = this.engineProfile.get(true);\r\n    } catch (err) {\r\n      error = err;\r\n    }\r\n\r\n    if (error) {\r\n      this.setCached({\r\n        engineProfile: null,\r\n        lastSchema: null\r\n      });\r\n    } else {\r\n      this.setCached({\r\n        engineProfile,\r\n        lastSchema: schema,\r\n        stackIdx\r\n      });\r\n\r\n      this.handleLinting();\r\n    }\r\n\r\n    this.setState({\r\n      importing: false\r\n    });\r\n\r\n    onImport(error, warnings);\r\n  }\r\n\r\n  listen(fn) {\r\n    const { form } = this.getCached();\r\n\r\n    const editor = form.getEditor();\r\n\r\n    [\r\n      'attach',\r\n      'commandStack.changed',\r\n      'import.done',\r\n      'propertiesPanel.focusin',\r\n      'propertiesPanel.focusout',\r\n      'selection.changed'\r\n    ].forEach((event) => editor[ fn ](event, this.handleChanged));\r\n\r\n    this.handleDataEditorInteraction(fn);\r\n    this.handleFormPreviewInteraction(fn);\r\n\r\n    if (fn === 'on') {\r\n      editor.on('commandStack.changed', LOW_PRIORITY, this.handleLintingDebounced);\r\n      form.on('formPlayground.layoutChanged', this.handlePlaygroundLayoutChanged);\r\n    } else if (fn === 'off') {\r\n      editor.off('commandStack.changed', this.handleLintingDebounced);\r\n      form.off('formPlayground.layoutChanged', this.handlePlaygroundLayoutChanged);\r\n    }\r\n  }\r\n\r\n  handleDataEditorInteractionStart = () => {\r\n    this.setState({\r\n      lastInputData: this.getInputData()\r\n    });\r\n  };\r\n\r\n  handleDataEditorInteractionEnd = () => {\r\n    const {\r\n      onAction\r\n    } = this.props;\r\n\r\n    const newData = this.getInputData();\r\n\r\n    // fire event once data was touched (changed)\r\n    if (this.state.lastInputData !== newData) {\r\n      onAction('emit-event', {\r\n        type: 'form.modeler.inputDataChanged'\r\n      });\r\n    }\r\n\r\n    this.setState({\r\n      lastInputData: null\r\n    });\r\n  };\r\n\r\n  handleDataEditorInteraction(fn) {\r\n    const dataEditorNode = this.ref.current.querySelector('.cfp-data-container');\r\n\r\n    if (!dataEditorNode) {\r\n      return;\r\n    }\r\n\r\n    if (fn === 'on') {\r\n      dataEditorNode.addEventListener('focusin', this.handleDataEditorInteractionStart);\r\n      dataEditorNode.addEventListener('focusout', this.handleDataEditorInteractionEnd);\r\n    } else {\r\n      dataEditorNode.removeEventListener('focusin', this.handleDataEditorInteractionStart);\r\n      dataEditorNode.removeEventListener('focusout', this.handleDataEditorInteractionEnd);\r\n    }\r\n  }\r\n\r\n  handleFormPreviewInteractionStart = () => {\r\n    this.setState({\r\n      lastFormPreviewState: this.getFormPreviewState()\r\n    });\r\n  };\r\n\r\n  handleFormPreviewInteractionEnd = () => {\r\n    const {\r\n      onAction\r\n    } = this.props;\r\n\r\n    const newformPreviewState = this.getFormPreviewState();\r\n\r\n    // fire event once preview was touched (changed)\r\n    if (this.state.lastFormPreviewState !== newformPreviewState) {\r\n      onAction('emit-event', {\r\n        type: 'form.modeler.previewChanged'\r\n      });\r\n    }\r\n\r\n    this.setState({\r\n      lastFormPreviewState: null\r\n    });\r\n  };\r\n\r\n  handleFormPreviewInteraction(fn) {\r\n    const formPreviewNode = this.ref.current.querySelector('.cfp-preview-container');\r\n\r\n    if (!formPreviewNode) {\r\n      return;\r\n    }\r\n\r\n    if (fn === 'on') {\r\n      formPreviewNode.addEventListener('focusin', this.handleFormPreviewInteractionStart);\r\n      formPreviewNode.addEventListener('focusout', this.handleFormPreviewInteractionEnd);\r\n    } else {\r\n      formPreviewNode.removeEventListener('focusin', this.handleFormPreviewInteractionStart);\r\n      formPreviewNode.removeEventListener('focusout', this.handleFormPreviewInteractionEnd);\r\n    }\r\n  }\r\n\r\n  handleChanged = () => {\r\n\r\n    const { onChanged } = this.props;\r\n\r\n    const { previewOpen } = this.state;\r\n\r\n    const { form } = this.getCached();\r\n\r\n    const commandStack = form.getEditor().get('commandStack');\r\n\r\n    const inputActive = isInputActive() || formOutputFocused();\r\n\r\n    const newState = {\r\n      defaultUndoRedo: inputActive,\r\n      dirty: this.isDirty(),\r\n      inputActive,\r\n      previewOpen,\r\n      redo: commandStack.canRedo(),\r\n      removeSelected: inputActive,\r\n      save: true,\r\n      selectAll: true,\r\n      undo: commandStack.canUndo()\r\n    };\r\n\r\n    if (isFunction(onChanged)) {\r\n      onChanged({\r\n        ...newState,\r\n        editMenu: getFormEditMenu(newState),\r\n        windowMenu: getFormWindowMenu(newState)\r\n      });\r\n    }\r\n\r\n    this.setState(newState);\r\n\r\n    try {\r\n      const engineProfile = this.engineProfile.get();\r\n\r\n      this.engineProfile.setCached(engineProfile);\r\n    } catch (err) {\r\n\r\n      // TODO\r\n    }\r\n  };\r\n\r\n  handlePlaygroundRendered = () => {\r\n    const { form } = this.getCached();\r\n\r\n    this._isMounted = true;\r\n    this.listen('on');\r\n\r\n    // notify current dragula instance to properly re-attach\r\n    form.getEditor().get('eventBus').fire('attach');\r\n\r\n    this.checkImport();\r\n  };\r\n\r\n  handleInitialPlaygroundLayout() {\r\n\r\n    const { form } = this.getCached();\r\n\r\n    const { layout } = this.props;\r\n\r\n    // adjust collapsible panels state according to global layout\r\n    const formLayout = getInitialFormLayout(layout);\r\n\r\n    const openedContainers = getOpenContainers(formLayout);\r\n    openedContainers.length && form.open(openedContainers);\r\n\r\n    const collapsedContainers = getCollapsedContainers(formLayout);\r\n    collapsedContainers.length && form.collapse(collapsedContainers);\r\n  }\r\n\r\n  handlePlaygroundLayoutChanged = (event) => {\r\n    const {\r\n      layout\r\n    } = event;\r\n\r\n    const {\r\n      onAction,\r\n      onLayoutChanged\r\n    } = this.props;\r\n\r\n    // (1) persist layout in application\r\n    if (isFunction(onLayoutChanged)) {\r\n      onLayoutChanged({\r\n        [FORM_LAYOUT_KEY]: layout\r\n      });\r\n    }\r\n\r\n    // (2) notify interested parties that playground layout has changed\r\n    onAction('emit-event', {\r\n      type: 'form.modeler.playgroundLayoutChanged',\r\n      payload: {\r\n        layout,\r\n\r\n        // assumption: everything else is internally triggered by the playground\r\n        triggeredBy: this.state.triggeredBy || FORM_PREVIEW_TRIGGER.PREVIEW_PANEL\r\n      }\r\n    });\r\n\r\n    // (3) toggle preview\r\n    this.setState({\r\n      previewOpen: isValidation(layout),\r\n      triggeredBy: null\r\n    });\r\n\r\n    // (4) update menus and others\r\n    this.handleChanged();\r\n  };\r\n\r\n  onTogglePreview = (open, context = {}) => {\r\n    const {\r\n      triggeredBy,\r\n      triggeredByShortcut\r\n    } = context;\r\n\r\n    const { form } = this.getCached();\r\n    open ? form.open() : form.collapse();\r\n\r\n    this.setState({\r\n      triggeredBy: triggeredByShortcut ? FORM_PREVIEW_TRIGGER.KEYBOARD_SHORTCUT : triggeredBy\r\n    });\r\n  };\r\n\r\n  onCollapsePreview = (context) => this.onTogglePreview(false, context);\r\n\r\n  onOpenPreview = (context) => this.onTogglePreview(true, context);\r\n\r\n  handleLinting = () => {\r\n    const engineProfile = this.engineProfile.getCached();\r\n\r\n    const { form } = this.getCached();\r\n\r\n    if (!engineProfile || !engineProfile.executionPlatformVersion) {\r\n      return;\r\n    }\r\n\r\n    const contents = form.getEditor().saveSchema();\r\n\r\n    const { onAction } = this.props;\r\n\r\n    onAction('lint-tab', { contents });\r\n  };\r\n\r\n  isDirty() {\r\n    const {\r\n      form,\r\n      stackIdx\r\n    } = this.getCached();\r\n\r\n    const commandStack = form.getEditor().get('commandStack');\r\n\r\n    return commandStack._stackIdx !== stackIdx;\r\n  }\r\n\r\n  getForm() {\r\n    const {\r\n      form\r\n    } = this.getCached();\r\n\r\n    return form;\r\n  }\r\n\r\n  getXML() {\r\n    const {\r\n      form,\r\n      lastSchema\r\n    } = this.getCached();\r\n\r\n    const commandStack = form.getEditor().get('commandStack');\r\n\r\n    const stackIdx = commandStack._stackIdx;\r\n\r\n    if (!this.isDirty()) {\r\n      return lastSchema || this.props.xml;\r\n    }\r\n\r\n    const schema = JSON.stringify(form.saveSchema(), null, 2);\r\n\r\n    this.setCached({\r\n      lastSchema: schema,\r\n      stackIdx\r\n    });\r\n\r\n    return schema;\r\n  }\r\n\r\n  getInputData() {\r\n    const {\r\n      form\r\n    } = this.getCached();\r\n\r\n    return form.getDataEditor().getValue();\r\n  }\r\n\r\n  getFormPreviewState() {\r\n    const {\r\n      form\r\n    } = this.getCached();\r\n\r\n    return form.getForm()._getState();\r\n  }\r\n\r\n  triggerAction(action, context) {\r\n    const { form } = this.getCached();\r\n\r\n    if (action === 'collapsePreview') {\r\n      return this.onCollapsePreview(context);\r\n    }\r\n\r\n    if (action === 'openPreview') {\r\n      return this.onOpenPreview(context);\r\n    }\r\n\r\n    // editor is not yet available\r\n    if (!this._isMounted) {\r\n      return;\r\n    }\r\n\r\n    const editorActions = form.getEditor().get('editorActions');\r\n\r\n    if (action === 'showLintError') {\r\n      editorActions.trigger('selectFormField', context);\r\n    }\r\n\r\n    if (editorActions.isRegistered(action)) {\r\n      return editorActions.trigger(action, context);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const engineProfile = this.engineProfile.getCached();\r\n\r\n    const {\r\n      importing,\r\n      previewOpen\r\n    } = this.state;\r\n\r\n    return (\r\n      <div className={ css.FormEditor }>\r\n        <Loader hidden={ !importing } />\r\n\r\n        <div\r\n          className=\"form\"\r\n          onFocus={ this.handleChanged }\r\n          ref={ this.ref }\r\n        ></div>\r\n\r\n        { engineProfile && <EngineProfile\r\n          engineProfile={ engineProfile }\r\n          onChange={ (engineProfile) => this.engineProfile.set(engineProfile) } /> }\r\n\r\n        <FormPreviewToggle\r\n          previewOpen={ previewOpen }\r\n          onCollapsePreview={ this.onCollapsePreview }\r\n          onOpenPreview={ this.onOpenPreview } />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  static createCachedState(props) {\r\n\r\n    const {\r\n      layout = {},\r\n      onAction\r\n    } = props;\r\n\r\n    const {\r\n      name,\r\n      version\r\n    } = Metadata;\r\n\r\n    const form = new Form({\r\n      schema: {\r\n        components: [],\r\n        type: 'default'\r\n      },\r\n      layout: getInitialFormLayout(layout),\r\n      exporter: {\r\n        name,\r\n        version\r\n      }\r\n    });\r\n\r\n    onAction('emit-event', {\r\n      type: 'form.modeler.created',\r\n      payload: form\r\n    });\r\n\r\n    return {\r\n      __destroy: () => {\r\n        form.destroy();\r\n      },\r\n      engineProfile: null,\r\n      form,\r\n      lastSchema: null,\r\n      stackIdx: -1\r\n    };\r\n  }\r\n}\r\n\r\nexport default WithCache(WithCachedState(FormEditor));\r\n\r\n// helpers //////////\r\n\r\nfunction isCacheStateChanged(prevProps, props) {\r\n  return prevProps.cachedState !== props.cachedState;\r\n}\r\n\r\nfunction isValidation(layout = {}) {\r\n  return (\r\n    (layout['form-preview'] || {}).open ||\r\n    (layout['form-input'] || {}).open ||\r\n    (layout['form-output'] || {}).open\r\n  );\r\n}\r\n\r\nfunction getInitialFormLayout(layout) {\r\n  const {\r\n    [FORM_LAYOUT_KEY]: formLayout\r\n  } = layout;\r\n\r\n  return formLayout || DEFAULT_LAYOUT;\r\n}\r\n\r\nfunction filterContainersByState(formLayout, open) {\r\n  return keys(formLayout).reduce((collapsed, key) => {\r\n    const layout = formLayout[key];\r\n\r\n    if (layout.open === open) {\r\n      collapsed.push(key);\r\n    }\r\n\r\n    return collapsed;\r\n  }, []);\r\n}\r\n\r\nfunction getCollapsedContainers(formLayout) {\r\n  return filterContainersByState(formLayout, false);\r\n}\r\n\r\nfunction getOpenContainers(formLayout) {\r\n  return filterContainersByState(formLayout, true);\r\n}\r\n\r\nfunction formOutputFocused() {\r\n  const formOutputNode =\r\n    document.body.querySelector('.cfp-collapsible-panel[data-idx=\"form-output\"] .cfp-collapsible-panel-content');\r\n\r\n  return !!formOutputNode && formOutputNode.contains(document.activeElement);\r\n}\r\n","/**\r\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\r\n * under one or more contributor license agreements. See the NOTICE file\r\n * distributed with this work for additional information regarding copyright\r\n * ownership.\r\n *\r\n * Camunda licenses this file to you under the MIT; you may not use this file\r\n * except in compliance with the MIT License.\r\n */\r\n\r\nimport FormEditor from './FormEditor';\r\nimport JSONEditor from '../json';\r\n\r\nimport { createTab } from '../EditorTab';\r\n\r\n\r\nconst FormTab = createTab('FormTab', [\r\n  {\r\n    type: 'form',\r\n    editor: FormEditor,\r\n    defaultName: 'Form'\r\n  },\r\n  {\r\n    type: 'json',\r\n    editor: JSONEditor,\r\n    isFallback: true,\r\n    defaultName: 'JSON'\r\n  }\r\n]);\r\n\r\nexport default FormTab;\r\n","/**\r\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\r\n * under one or more contributor license agreements. See the NOTICE file\r\n * distributed with this work for additional information regarding copyright\r\n * ownership.\r\n *\r\n * Camunda licenses this file to you under the MIT; you may not use this file\r\n * except in compliance with the MIT License.\r\n */\r\n\r\nexport function isInput(element) {\r\n  return (\r\n    element.tagName === 'TEXTAREA' ||\r\n    element.tagName === 'INPUT' ||\r\n    element.contentEditable === 'true'\r\n  );\r\n}\r\n\r\nexport function active(element) {\r\n  element = element || document.activeElement;\r\n\r\n  if (!element) {\r\n    element = document.getSelection().focusNode;\r\n  }\r\n\r\n  return isInput(element);\r\n}","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.e8uYBQqzVNaf5V2iZ8Or {\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n}\n.e8uYBQqzVNaf5V2iZ8Or .cfp-root {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  overflow-y: auto;\n}\n.e8uYBQqzVNaf5V2iZ8Or .form {\n  display: flex;\n  flex: 1;\n  flex-direction: row;\n}\n.e8uYBQqzVNaf5V2iZ8Or .form .fjs-container {\n  --font-family: inherit;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n}\n.e8uYBQqzVNaf5V2iZ8Or .form .bio-properties-panel {\n  --font-family: inherit;\n}\n.e8uYBQqzVNaf5V2iZ8Or .form .cm-editor .cm-scroller {\n  font-family: var(--font-family-monospace);\n}\n.e8uYBQqzVNaf5V2iZ8Or .form .cm-editor .cm-scroller * {\n  user-select: text;\n}\n.e8uYBQqzVNaf5V2iZ8Or .form .fjs-editor-container .fjs-properties-panel {\n  left: 1px;\n}\n.e8uYBQqzVNaf5V2iZ8Or .form .fjs-editor-container .fjs-properties-panel .bio-properties-panel {\n  --font-family: var(--font-family);\n  --font-family-monospace: var(--font-family-monospace);\n}\n.e8uYBQqzVNaf5V2iZ8Or .form .fjs-powered-by {\n  display: none;\n}\n/*# sourceMappingURL=FormEditor.css.map */`, \"\",{\"version\":3,\"sources\":[\"webpack://./FormEditor.less\",\"webpack://./src/app/tabs/form/FormEditor.less\"],\"names\":[],\"mappings\":\"AAAA;EACE,aAAA;EACA,OAAA;EACA,sBAAA;ACCF;ADJA;EAMI,kBAAA;EACA,MAAA;EACA,OAAA;EACA,QAAA;EACA,SAAA;EACA,gBAAA;ACCJ;ADZA;EAeI,aAAA;EACA,OAAA;EACA,mBAAA;ACAJ;ADjBA;EAoBM,sBAAA;EACA,aAAA;EACA,OAAA;EACA,sBAAA;ACAN;ADvBA;EA2BM,sBAAA;ACDN;AD1BA;EAgCQ,yCAAA;ACHR;AD7BA;EAmCU,iBAAA;ACHV;ADhCA;EAyCM,SAAA;ACNN;ADnCA;EA4CQ,iCAAA;EACA,qDAAA;ACNR;ADvCA;EAkDM,aAAA;ACRN;AACA,yCAAyC\",\"sourcesContent\":[\":local(.FormEditor) {\\n  display: flex;\\n  flex: 1;\\n  flex-direction: column;\\n\\n  .cfp-root {\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    right: 0;\\n    bottom: 0;\\n    overflow-y: auto;\\n  }\\n\\n  .form {\\n    display: flex;\\n    flex: 1;\\n    flex-direction: row;\\n  \\n    .fjs-container {\\n      --font-family: inherit;\\n      display: flex;\\n      flex: 1;\\n      flex-direction: column;\\n    }\\n\\n    .bio-properties-panel {\\n      --font-family: inherit;\\n    }\\n\\n    .cm-editor {\\n      .cm-scroller {\\n        font-family: var(--font-family-monospace);\\n        \\n        * {\\n          user-select: text;\\n        }\\n      }\\n    }\\n  \\n    .fjs-editor-container .fjs-properties-panel {\\n      left: 1px;\\n\\n      .bio-properties-panel {\\n        --font-family: var(--font-family);\\n        --font-family-monospace: var(--font-family-monospace);\\n      }\\n    }\\n\\n    .fjs-powered-by {\\n      display: none;\\n    }\\n  }\\n}\",\":local(.FormEditor) {\\n  display: flex;\\n  flex: 1;\\n  flex-direction: column;\\n}\\n:local(.FormEditor) .cfp-root {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n  overflow-y: auto;\\n}\\n:local(.FormEditor) .form {\\n  display: flex;\\n  flex: 1;\\n  flex-direction: row;\\n}\\n:local(.FormEditor) .form .fjs-container {\\n  --font-family: inherit;\\n  display: flex;\\n  flex: 1;\\n  flex-direction: column;\\n}\\n:local(.FormEditor) .form .bio-properties-panel {\\n  --font-family: inherit;\\n}\\n:local(.FormEditor) .form .cm-editor .cm-scroller {\\n  font-family: var(--font-family-monospace);\\n}\\n:local(.FormEditor) .form .cm-editor .cm-scroller * {\\n  user-select: text;\\n}\\n:local(.FormEditor) .form .fjs-editor-container .fjs-properties-panel {\\n  left: 1px;\\n}\\n:local(.FormEditor) .form .fjs-editor-container .fjs-properties-panel .bio-properties-panel {\\n  --font-family: var(--font-family);\\n  --font-family-monospace: var(--font-family-monospace);\\n}\\n:local(.FormEditor) .form .fjs-powered-by {\\n  display: none;\\n}\\n/*# sourceMappingURL=FormEditor.css.map */\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport var FormEditor = `e8uYBQqzVNaf5V2iZ8Or`;\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.Aa1q2MV_hdchoV3sn5og {\n  display: flex;\n  border-right: 1px solid var(--color-grey-225-10-75);\n  border-left: 1px solid var(--color-grey-225-10-75);\n  padding: 0 !important;\n}\n.Aa1q2MV_hdchoV3sn5og .btn {\n  padding: 0 10px;\n}\n.Aa1q2MV_hdchoV3sn5og .btn svg {\n  fill: currentColor;\n  margin-right: 5px;\n  width: 18px;\n  height: 18px;\n}\n/*# sourceMappingURL=FormPreviewToggle.css.map */`, \"\",{\"version\":3,\"sources\":[\"webpack://./FormPreviewToggle.less\",\"webpack://./src/app/tabs/form/FormPreviewToggle.less\"],\"names\":[],\"mappings\":\"AAAA;EACE,aAAA;EACA,mDAAA;EACA,kDAAA;EACA,qBAAA;ACCF;ADLA;EAOI,eAAA;ACCJ;ADRA;EAUM,kBAAA;EACA,iBAAA;EACA,WAAA;EACA,YAAA;ACCN;AACA,gDAAgD\",\"sourcesContent\":[\":local(.FormPreviewToggle) {\\n  display: flex;\\n  border-right: 1px solid var(--color-grey-225-10-75);\\n  border-left: 1px solid var(--color-grey-225-10-75);\\n  padding: 0 !important;\\n\\n  .btn {\\n    padding: 0 10px;\\n\\n    svg {\\n      fill: currentColor;\\n      margin-right: 5px;\\n      width: 18px;\\n      height: 18px;\\n    }\\n  }\\n}\",\":local(.FormPreviewToggle) {\\n  display: flex;\\n  border-right: 1px solid var(--color-grey-225-10-75);\\n  border-left: 1px solid var(--color-grey-225-10-75);\\n  padding: 0 !important;\\n}\\n:local(.FormPreviewToggle) .btn {\\n  padding: 0 10px;\\n}\\n:local(.FormPreviewToggle) .btn svg {\\n  fill: currentColor;\\n  margin-right: 5px;\\n  width: 18px;\\n  height: 18px;\\n}\\n/*# sourceMappingURL=FormPreviewToggle.css.map */\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport var FormPreviewToggle = `Aa1q2MV_hdchoV3sn5og`;\nexport default ___CSS_LOADER_EXPORT___;\n"],"names":["options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","locals","getCopyCutPasteEntries","state","inputActive","getDefaultCopyCutPasteEntries","getFormEditMenu","defaultUndoRedo","getDefaultUndoRedoEntries","getUndoRedoEntries","getSelectionEntries","getPreviewEntries","previewOpen","label","accelerator","action","triggeredBy","FORM_PREVIEW_TRIGGER","WINDOW_MENU","_extends","Object","assign","bind","n","e","arguments","length","t","r","hasOwnProperty","call","apply","styles","props","fill","viewBox","xmlns","fillRule","clipRule","strokeLinejoin","strokeMiterlimit","d","cx","cy","FormPreviewToggle","onCollapsePreview","onOpenPreview","React","Fill","slot","group","className","classnames","css","title","onClick","handleCollapse","STATUS_BAR","DesignIcon","handleOpen","ValidateIcon","DEFAULT_ENGINE_PROFILE","executionPlatform","ENGINES","PLATFORM","FORM_LAYOUT_KEY","DEFAULT_LAYOUT","open","KEYBOARD_SHORTCUT","PREVIEW_PANEL","FormEditor","CachedComponent","constructor","super","layout","this","ref","createRef","lastFormPreviewState","lastInputData","importing","isValidation","getInitialFormLayout","engineProfile","EngineProfileHelper","get","form","getCached","schema","getSchema","getEngineProfileFromForm","set","editor","getEditor","root","_state","editFormField","setCached","handleLintingDebounced","debounce","handleLinting","componentDidMount","lastSchema","current","attachTo","handlePlaygroundRendered","handleInitialPlaygroundLayout","on","componentWillUnmount","_isMounted","detach","fire","listen","componentDidUpdate","prevProps","checkImport","cachedState","isCacheStateChanged","handleChanged","isImportNeeded","xml","importSchema","prevSchema","setState","error","warnings","schemaJSON","JSON","parse","result","err","handleImport","onImport","stackIdx","_stackIdx","fn","forEach","event","handleDataEditorInteraction","handleFormPreviewInteraction","handlePlaygroundLayoutChanged","off","handleDataEditorInteractionStart","getInputData","handleDataEditorInteractionEnd","onAction","newData","type","dataEditorNode","querySelector","addEventListener","removeEventListener","handleFormPreviewInteractionStart","getFormPreviewState","handleFormPreviewInteractionEnd","newformPreviewState","formPreviewNode","onChanged","commandStack","isInputActive","formOutputNode","document","body","contains","activeElement","formOutputFocused","newState","dirty","isDirty","redo","canRedo","removeSelected","save","selectAll","undo","canUndo","isFunction","editMenu","windowMenu","formLayout","openedContainers","filterContainersByState","getOpenContainers","collapsedContainers","getCollapsedContainers","collapse","onLayoutChanged","payload","onTogglePreview","context","triggeredByShortcut","executionPlatformVersion","contents","saveSchema","getForm","getXML","stringify","getDataEditor","getValue","_getState","triggerAction","editorActions","trigger","isRegistered","render","Loader","hidden","onFocus","EngineProfile","onChange","createCachedState","name","version","Metadata","Form","components","exporter","__destroy","destroy","WithCache","WithCachedState","keys","reduce","collapsed","key","push","createTab","defaultName","JSONEditor","isFallback","active","element","getSelection","focusNode","tagName","contentEditable","isInput","___CSS_LOADER_EXPORT___","module","id"],"sourceRoot":""}