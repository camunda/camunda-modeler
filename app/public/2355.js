/*! For license information please see 2355.js.LICENSE.txt */
(self.webpackChunkcamunda_modeler_client=self.webpackChunkcamunda_modeler_client||[]).push([[2355],{1416:(e,t,n)=>{var r=n(99138)(n(41433),"DataView");e.exports=r},2149:(e,t,n)=>{var r=n(4558),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},3330:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},4558:(e,t,n)=>{var r=n(99138)(Object,"create");e.exports=r},6397:e=>{var t=Array.isArray;e.exports=t},6772:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},8291:(e,t,n)=>{var r=n(58301);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},8379:(e,t,n)=>{var r=n(58301);e.exports=function(e){return r(this.__data__,e)>-1}},9073:(e,t,n)=>{var r=n(82316),i=n(76458),o=n(2149),s=n(44297),a=n(33121);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=s,l.prototype.set=a,e.exports=l},9566:(e,t,n)=>{var r=n(51019)(Object.keys,Object);e.exports=r},14727:(e,t,n)=>{var r=n(58301);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},15535:(e,t,n)=>{var r=n(95662);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},15851:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},16567:(e,t,n)=>{var r=n(18446),i=n(18092),o=n(58953),s=n(81485),a=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,h=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?h:a).test(s(e))}},17406:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},17903:(e,t,n)=>{var r=n(32781),i=Object.prototype,o=i.hasOwnProperty,s=i.toString,a=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,a),n=e[a];try{e[a]=void 0;var r=!0}catch(e){}var i=s.call(e);return r&&(t?e[a]=n:delete e[a]),i}},18092:(e,t,n)=>{var r,i=n(38109),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!o&&o in e}},18264:(e,t,n)=>{var r=n(22122);e.exports=function(e,t){return r(e,t)}},18330:(e,t,n)=>{var r=n(18446),i=n(3330);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},18446:(e,t,n)=>{var r=n(87148),i=n(58953);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},22122:(e,t,n)=>{var r=n(42032),i=n(22934);e.exports=function e(t,n,o,s,a){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!=t&&n!=n:r(t,n,o,s,e,a))}},22934:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},23685:(e,t,n)=>{e=n.nmd(e);var r=n(75380),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,s=o&&o.exports===i&&r.process,a=function(){try{return o&&o.require&&o.require("util").types||s&&s.binding&&s.binding("util")}catch(e){}}();e.exports=a},23767:e=>{e.exports=function(e){return this.__data__.has(e)}},26809:(e,t,n)=>{var r=n(15535);e.exports=function(e){return r(this,e).has(e)}},28944:(e,t,n)=>{var r=n(41433).Uint8Array;e.exports=r},30041:e=>{e.exports=function(e){return function(t){return e(t)}}},30492:(e,t,n)=>{e=n.nmd(e);var r=n(41433),i=n(80659),o=t&&!t.nodeType&&t,s=o&&e&&!e.nodeType&&e,a=s&&s.exports===o?r.Buffer:void 0,l=(a?a.isBuffer:void 0)||i;e.exports=l},31163:(e,t,n)=>{var r=n(36204),i=n(98875),o=n(6397),s=n(30492),a=n(42845),l=n(47995),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),u=!n&&i(e),d=!n&&!u&&s(e),h=!n&&!u&&!d&&l(e),p=n||u||d||h,f=p?r(e.length,String):[],m=f.length;for(var g in e)!t&&!c.call(e,g)||p&&("length"==g||d&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||a(g,m))||f.push(g);return f}},31178:(e,t,n)=>{var r=n(31163),i=n(81452),o=n(18330);e.exports=function(e){return o(e)?r(e):i(e)}},31201:(e,t,n)=>{var r=n(1416),i=n(91955),o=n(42616),s=n(60157),a=n(78499),l=n(87148),c=n(81485),u="[object Map]",d="[object Promise]",h="[object Set]",p="[object WeakMap]",f="[object DataView]",m=c(r),g=c(i),v=c(o),b=c(s),y=c(a),w=l;(r&&w(new r(new ArrayBuffer(1)))!=f||i&&w(new i)!=u||o&&w(o.resolve())!=d||s&&w(new s)!=h||a&&w(new a)!=p)&&(w=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case m:return f;case g:return u;case v:return d;case b:return h;case y:return p}return t}),e.exports=w},32781:(e,t,n)=>{var r=n(41433).Symbol;e.exports=r},33121:(e,t,n)=>{var r=n(4558);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},33812:(e,t,n)=>{var r=n(58301),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():i.call(t,n,1),--this.size,0))}},36204:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},38109:(e,t,n)=>{var r=n(41433)["__core-js_shared__"];e.exports=r},39316:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},39714:e=>{e.exports=function(){this.__data__=[],this.size=0}},41433:(e,t,n)=>{var r=n(75380),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},42032:(e,t,n)=>{var r=n(86469),i=n(44075),o=n(64622),s=n(62677),a=n(31201),l=n(6397),c=n(30492),u=n(47995),d="[object Arguments]",h="[object Array]",p="[object Object]",f=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,g,v){var b=l(e),y=l(t),w=b?h:a(e),_=y?h:a(t),x=(w=w==d?p:w)==p,k=(_=_==d?p:_)==p,E=w==_;if(E&&c(e)){if(!c(t))return!1;b=!0,x=!1}if(E&&!x)return v||(v=new r),b||u(e)?i(e,t,n,m,g,v):o(e,t,w,n,m,g,v);if(!(1&n)){var A=x&&f.call(e,"__wrapped__"),T=k&&f.call(t,"__wrapped__");if(A||T){var R=A?e.value():e,S=T?t.value():t;return v||(v=new r),g(R,S,n,m,v)}}return!!E&&(v||(v=new r),s(e,t,n,m,g,v))}},42616:(e,t,n)=>{var r=n(99138)(n(41433),"Promise");e.exports=r},42845:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},43109:e=>{e.exports=function(e){return this.__data__.has(e)}},44075:(e,t,n)=>{var r=n(61527),i=n(57260),o=n(79151);e.exports=function(e,t,n,s,a,l){var c=1&n,u=e.length,d=t.length;if(u!=d&&!(c&&d>u))return!1;var h=l.get(e),p=l.get(t);if(h&&p)return h==t&&p==e;var f=-1,m=!0,g=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++f<u;){var v=e[f],b=t[f];if(s)var y=c?s(b,v,f,t,e,l):s(v,b,f,e,t,l);if(void 0!==y){if(y)continue;m=!1;break}if(g){if(!i(t,(function(e,t){if(!o(g,t)&&(v===e||a(v,e,n,s,l)))return g.push(t)}))){m=!1;break}}else if(v!==b&&!a(v,b,n,s,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},44297:(e,t,n)=>{var r=n(4558),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},47995:(e,t,n)=>{var r=n(97129),i=n(30041),o=n(23685),s=o&&o.isTypedArray,a=s?i(s):r;e.exports=a},49626:(e,t,n)=>{var r=n(15535);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},51019:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},53629:e=>{e.exports=function(){return[]}},57260:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},58301:(e,t,n)=>{var r=n(39316);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},58569:e=>{e.exports=function(e){return this.__data__.get(e)}},58953:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},60157:(e,t,n)=>{var r=n(99138)(n(41433),"Set");e.exports=r},61414:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}},61527:(e,t,n)=>{var r=n(90369),i=n(79912),o=n(23767);function s(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}s.prototype.add=s.prototype.push=i,s.prototype.has=o,e.exports=s},62677:(e,t,n)=>{var r=n(90966),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,s,a){var l=1&n,c=r(e),u=c.length;if(u!=r(t).length&&!l)return!1;for(var d=u;d--;){var h=c[d];if(!(l?h in t:i.call(t,h)))return!1}var p=a.get(e),f=a.get(t);if(p&&f)return p==t&&f==e;var m=!0;a.set(e,t),a.set(t,e);for(var g=l;++d<u;){var v=e[h=c[d]],b=t[h];if(o)var y=l?o(b,v,h,t,e,a):o(v,b,h,e,t,a);if(!(void 0===y?v===b||s(v,b,n,o,a):y)){m=!1;break}g||(g="constructor"==h)}if(m&&!g){var w=e.constructor,_=t.constructor;w==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof _&&_ instanceof _||(m=!1)}return a.delete(e),a.delete(t),m}},64622:(e,t,n)=>{var r=n(32781),i=n(28944),o=n(39316),s=n(44075),a=n(90953),l=n(15851),c=r?r.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,d,h){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=a;case"[object Set]":var f=1&r;if(p||(p=l),e.size!=t.size&&!f)return!1;var m=h.get(e);if(m)return m==t;r|=2,h.set(e,t);var g=s(p(e),p(t),r,c,d,h);return h.delete(e),g;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},67499:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},71738:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},71848:(e,t,n)=>{var r=n(72707);e.exports=function(){this.__data__=new r,this.size=0}},72092:(e,t,n)=>{var r=n(9073),i=n(72707),o=n(91955);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},72355:(e,t,n)=>{"use strict";n.d(t,{bY:()=>Xi,ou:()=>vr,KC:()=>yr,dQ:()=>_r,q3:()=>kr,wI:()=>xr,mE:()=>bl,J6:()=>Ha,he:()=>fr,L2:()=>xc,lV:()=>Pc,s2:()=>Ol,cK:()=>Ur,QM:()=>Rc,CL:()=>Cl,SL:()=>Ac,Gj:()=>Br,Ed:()=>Ya,Zy:()=>So,l9:()=>_c,JU:()=>Ji,Rp:()=>Hl,Qb:()=>Sr,Lu:()=>Cr,U8:()=>Or,lh:()=>Fr,ZY:()=>kc,Ci:()=>Mr,G9:()=>Nr,Kt:()=>Tr,pE:()=>Er,ki:()=>wr,Gk:()=>br,JR:()=>Rr,cL:()=>Ar,XI:()=>al,EY:()=>Pa,o8:()=>Kr,q1:()=>Pr,J:()=>Lr,Kz:()=>Ml,ef:()=>Dr,rt:()=>zl,Bo:()=>fi,S2:()=>Gs,br:()=>Jr,GX:()=>$i,CZ:()=>$c});var r=n(64847);const i=Object.prototype.toString,o=Object.prototype.hasOwnProperty;function s(e){return void 0===e}function a(e){return void 0!==e}function l(e){return null==e}function c(e){return"[object Array]"===i.call(e)}function u(e){return"[object Object]"===i.call(e)}function d(e){return"[object Number]"===i.call(e)}function h(e){const t=i.call(e);return"[object Function]"===t||"[object AsyncFunction]"===t||"[object GeneratorFunction]"===t||"[object AsyncGeneratorFunction]"===t||"[object Proxy]"===t}function p(e){return"[object String]"===i.call(e)}function f(e,t){return!l(e)&&o.call(e,t)}function m(e,t){let n,r;if(s(e))return;const i=c(e)?x:_;for(let o in e)if(f(e,o)&&(n=e[o],r=t(n,i(o)),!1===r))return n}function g(e,t){let n=[];return m(e,(function(e,r){n.push(t(e,r))})),n}function v(e,t,n={}){return t=y(t),m(e,(function(e){let r=t(e)||"_",i=n[r];i||(i=n[r]=[]),i.push(e)})),n}function b(e,...t){e=y(e);let n={};return m(t,(t=>v(t,e,n))),g(n,(function(e,t){return e[0]}))}function y(e){return h(e)?e:t=>t[e]}function w(e){return h(e)?e:t=>t===e}function _(e){return e}function x(e){return Number(e)}function k(e,t,n){let r=e;return m(t,(function(e,i){if("number"!=typeof e&&"string"!=typeof e)throw new Error("illegal key type: "+typeof e+". Key should be of type number or string.");if("constructor"===e)throw new Error("illegal key: constructor");if("__proto__"===e)throw new Error("illegal key: __proto__");let o=t[i+1],c=r[e];a(o)&&l(c)&&(c=r[e]=isNaN(+o)?{}:[]),s(o)?s(n)?delete r[e]:r[e]=n:r=c})),e}function E(e,t,n){let r=e;return m(t,(function(e){if(l(r))return r=void 0,!1;r=r[e]})),s(r)?n:r}var A=1e6,T="[big.js] ",R=T+"Invalid ",S=R+"decimal places",j=R+"rounding mode",O=T+"Division by zero",F={},C=void 0,D=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function I(e,t,n,r){var i=e.c;if(n===C&&(n=e.constructor.RM),0!==n&&1!==n&&2!==n&&3!==n)throw Error(j);if(t<1)r=3===n&&(r||!!i[0])||0===t&&(1===n&&i[0]>=5||2===n&&(i[0]>5||5===i[0]&&(r||i[1]!==C))),i.length=1,r?(e.e=e.e-t+1,i[0]=1):i[0]=e.e=0;else if(t<i.length){if(r=1===n&&i[t]>=5||2===n&&(i[t]>5||5===i[t]&&(r||i[t+1]!==C||1&i[t-1]))||3===n&&(r||!!i[0]),i.length=t,r)for(;++i[--t]>9;)if(i[t]=0,0===t){++e.e,i.unshift(1);break}for(t=i.length;!i[--t];)i.pop()}return e}function z(e,t,n){var r=e.e,i=e.c.join(""),o=i.length;if(t)i=i.charAt(0)+(o>1?"."+i.slice(1):"")+(r<0?"e":"e+")+r;else if(r<0){for(;++r;)i="0"+i;i="0."+i}else if(r>0)if(++r>o)for(r-=o;r--;)i+="0";else r<o&&(i=i.slice(0,r)+"."+i.slice(r));else o>1&&(i=i.charAt(0)+"."+i.slice(1));return e.s<0&&n?"-"+i:i}F.abs=function(){var e=new this.constructor(this);return e.s=1,e},F.cmp=function(e){var t,n=this,r=n.c,i=(e=new n.constructor(e)).c,o=n.s,s=e.s,a=n.e,l=e.e;if(!r[0]||!i[0])return r[0]?o:i[0]?-s:0;if(o!=s)return o;if(t=o<0,a!=l)return a>l^t?1:-1;for(s=(a=r.length)<(l=i.length)?a:l,o=-1;++o<s;)if(r[o]!=i[o])return r[o]>i[o]^t?1:-1;return a==l?0:a>l^t?1:-1},F.div=function(e){var t=this,n=t.constructor,r=t.c,i=(e=new n(e)).c,o=t.s==e.s?1:-1,s=n.DP;if(s!==~~s||s<0||s>A)throw Error(S);if(!i[0])throw Error(O);if(!r[0])return e.s=o,e.c=[e.e=0],e;var a,l,c,u,d,h=i.slice(),p=a=i.length,f=r.length,m=r.slice(0,a),g=m.length,v=e,b=v.c=[],y=0,w=s+(v.e=t.e-e.e)+1;for(v.s=o,o=w<0?0:w,h.unshift(0);g++<a;)m.push(0);do{for(c=0;c<10;c++){if(a!=(g=m.length))u=a>g?1:-1;else for(d=-1,u=0;++d<a;)if(i[d]!=m[d]){u=i[d]>m[d]?1:-1;break}if(!(u<0))break;for(l=g==a?i:h;g;){if(m[--g]<l[g]){for(d=g;d&&!m[--d];)m[d]=9;--m[d],m[g]+=10}m[g]-=l[g]}for(;!m[0];)m.shift()}b[y++]=u?c:++c,m[0]&&u?m[g]=r[p]||0:m=[r[p]]}while((p++<f||m[0]!==C)&&o--);return b[0]||1==y||(b.shift(),v.e--,w--),y>w&&I(v,w,n.RM,m[0]!==C),v},F.eq=function(e){return 0===this.cmp(e)},F.gt=function(e){return this.cmp(e)>0},F.gte=function(e){return this.cmp(e)>-1},F.lt=function(e){return this.cmp(e)<0},F.lte=function(e){return this.cmp(e)<1},F.minus=F.sub=function(e){var t,n,r,i,o=this,s=o.constructor,a=o.s,l=(e=new s(e)).s;if(a!=l)return e.s=-l,o.plus(e);var c=o.c.slice(),u=o.e,d=e.c,h=e.e;if(!c[0]||!d[0])return d[0]?e.s=-l:c[0]?e=new s(o):e.s=1,e;if(a=u-h){for((i=a<0)?(a=-a,r=c):(h=u,r=d),r.reverse(),l=a;l--;)r.push(0);r.reverse()}else for(n=((i=c.length<d.length)?c:d).length,a=l=0;l<n;l++)if(c[l]!=d[l]){i=c[l]<d[l];break}if(i&&(r=c,c=d,d=r,e.s=-e.s),(l=(n=d.length)-(t=c.length))>0)for(;l--;)c[t++]=0;for(l=t;n>a;){if(c[--n]<d[n]){for(t=n;t&&!c[--t];)c[t]=9;--c[t],c[n]+=10}c[n]-=d[n]}for(;0===c[--l];)c.pop();for(;0===c[0];)c.shift(),--h;return c[0]||(e.s=1,c=[h=0]),e.c=c,e.e=h,e},F.mod=function(e){var t,n=this,r=n.constructor,i=n.s,o=(e=new r(e)).s;if(!e.c[0])throw Error(O);return n.s=e.s=1,t=1==e.cmp(n),n.s=i,e.s=o,t?new r(n):(i=r.DP,o=r.RM,r.DP=r.RM=0,n=n.div(e),r.DP=i,r.RM=o,this.minus(n.times(e)))},F.neg=function(){var e=new this.constructor(this);return e.s=-e.s,e},F.plus=F.add=function(e){var t,n,r,i=this,o=i.constructor;if(e=new o(e),i.s!=e.s)return e.s=-e.s,i.minus(e);var s=i.e,a=i.c,l=e.e,c=e.c;if(!a[0]||!c[0])return c[0]||(a[0]?e=new o(i):e.s=i.s),e;if(a=a.slice(),t=s-l){for(t>0?(l=s,r=c):(t=-t,r=a),r.reverse();t--;)r.push(0);r.reverse()}for(a.length-c.length<0&&(r=c,c=a,a=r),t=c.length,n=0;t;a[t]%=10)n=(a[--t]=a[t]+c[t]+n)/10|0;for(n&&(a.unshift(n),++l),t=a.length;0===a[--t];)a.pop();return e.c=a,e.e=l,e},F.pow=function(e){var t=this,n=new t.constructor("1"),r=n,i=e<0;if(e!==~~e||e<-1e6||e>1e6)throw Error(R+"exponent");for(i&&(e=-e);1&e&&(r=r.times(t)),e>>=1;)t=t.times(t);return i?n.div(r):r},F.prec=function(e,t){if(e!==~~e||e<1||e>A)throw Error(R+"precision");return I(new this.constructor(this),e,t)},F.round=function(e,t){if(e===C)e=0;else if(e!==~~e||e<-A||e>A)throw Error(S);return I(new this.constructor(this),e+this.e+1,t)},F.sqrt=function(){var e,t,n,r=this,i=r.constructor,o=r.s,s=r.e,a=new i("0.5");if(!r.c[0])return new i(r);if(o<0)throw Error(T+"No square root");0===(o=Math.sqrt(+z(r,!0,!0)))||o===1/0?((t=r.c.join("")).length+s&1||(t+="0"),s=((s+1)/2|0)-(s<0||1&s),e=new i(((o=Math.sqrt(t))==1/0?"5e":(o=o.toExponential()).slice(0,o.indexOf("e")+1))+s)):e=new i(o+""),s=e.e+(i.DP+=4);do{n=e,e=a.times(n.plus(r.div(n)))}while(n.c.slice(0,s).join("")!==e.c.slice(0,s).join(""));return I(e,(i.DP-=4)+e.e+1,i.RM)},F.times=F.mul=function(e){var t,n=this,r=n.constructor,i=n.c,o=(e=new r(e)).c,s=i.length,a=o.length,l=n.e,c=e.e;if(e.s=n.s==e.s?1:-1,!i[0]||!o[0])return e.c=[e.e=0],e;for(e.e=l+c,s<a&&(t=i,i=o,o=t,c=s,s=a,a=c),t=new Array(c=s+a);c--;)t[c]=0;for(l=a;l--;){for(a=0,c=s+l;c>l;)a=t[c]+o[l]*i[c-l-1]+a,t[c--]=a%10,a=a/10|0;t[c]=a}for(a?++e.e:t.shift(),l=t.length;!t[--l];)t.pop();return e.c=t,e},F.toExponential=function(e,t){var n=this,r=n.c[0];if(e!==C){if(e!==~~e||e<0||e>A)throw Error(S);for(n=I(new n.constructor(n),++e,t);n.c.length<e;)n.c.push(0)}return z(n,!0,!!r)},F.toFixed=function(e,t){var n=this,r=n.c[0];if(e!==C){if(e!==~~e||e<0||e>A)throw Error(S);for(e=e+(n=I(new n.constructor(n),e+n.e+1,t)).e+1;n.c.length<e;)n.c.push(0)}return z(n,!1,!!r)},F.toJSON=F.toString=function(){var e=this,t=e.constructor;return z(e,e.e<=t.NE||e.e>=t.PE,!!e.c[0])},"undefined"!=typeof Symbol&&(F[Symbol.for("nodejs.util.inspect.custom")]=F.toJSON),F.toNumber=function(){var e=+z(this,!0,!0);if(!0===this.constructor.strict&&!this.eq(e.toString()))throw Error(T+"Imprecise conversion");return e},F.toPrecision=function(e,t){var n=this,r=n.constructor,i=n.c[0];if(e!==C){if(e!==~~e||e<1||e>A)throw Error(R+"precision");for(n=I(new r(n),e,t);n.c.length<e;)n.c.push(0)}return z(n,e<=n.e||n.e<=r.NE||n.e>=r.PE,!!i)},F.valueOf=function(){var e=this,t=e.constructor;if(!0===t.strict)throw Error(T+"valueOf disallowed");return z(e,e.e<=t.NE||e.e>=t.PE,!0)};var M=function e(){function t(n){var r=this;if(!(r instanceof t))return n===C&&0===arguments.length?e():new t(n);if(n instanceof t)r.s=n.s,r.e=n.e,r.c=n.c.slice();else{if("string"!=typeof n){if(!0===t.strict&&"bigint"!=typeof n)throw TypeError(R+"value");n=0===n&&1/n<0?"-0":String(n)}!function(e,t){var n,r,i;if(!D.test(t))throw Error(R+"number");for(e.s="-"==t.charAt(0)?(t=t.slice(1),-1):1,(n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),i=t.length,r=0;r<i&&"0"==t.charAt(r);)++r;if(r==i)e.c=[e.e=0];else{for(;i>0&&"0"==t.charAt(--i););for(e.e=n-r-1,e.c=[],n=0;r<=i;)e.c[n++]=+t.charAt(r++)}}(r,n)}r.constructor=t}return t.prototype=F,t.DP=20,t.RM=1,t.NE=-7,t.PE=21,t.strict=!1,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}();const N=M;var L=n(4452),P=n.n(L),$=n(81413),Y=n(43078),H=n(60616),B=n(18264),V=n.n(B),U=n(69875),q=n(28578),K=n(99094);const{entries:J,setPrototypeOf:Z,isFrozen:W,getPrototypeOf:G,getOwnPropertyDescriptor:X}=Object;let{freeze:Q,seal:ee,create:te}=Object,{apply:ne,construct:re}="undefined"!=typeof Reflect&&Reflect;Q||(Q=function(e){return e}),ee||(ee=function(e){return e}),ne||(ne=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return e.apply(t,r)}),re||(re=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new e(...n)});const ie=ye(Array.prototype.forEach),oe=ye(Array.prototype.lastIndexOf),se=ye(Array.prototype.pop),ae=ye(Array.prototype.push),le=ye(Array.prototype.splice),ce=ye(String.prototype.toLowerCase),ue=ye(String.prototype.toString),de=ye(String.prototype.match),he=ye(String.prototype.replace),pe=ye(String.prototype.indexOf),fe=ye(String.prototype.trim),me=ye(Object.prototype.hasOwnProperty),ge=ye(RegExp.prototype.test),ve=(be=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return re(be,t)});var be;function ye(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return ne(e,t,r)}}function we(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ce;Z&&Z(e,null);let r=t.length;for(;r--;){let i=t[r];if("string"==typeof i){const e=n(i);e!==i&&(W(t)||(t[r]=e),i=e)}e[i]=!0}return e}function _e(e){for(let t=0;t<e.length;t++)me(e,t)||(e[t]=null);return e}function xe(e){const t=te(null);for(const[n,r]of J(e))me(e,n)&&(Array.isArray(r)?t[n]=_e(r):r&&"object"==typeof r&&r.constructor===Object?t[n]=xe(r):t[n]=r);return t}function ke(e,t){for(;null!==e;){const n=X(e,t);if(n){if(n.get)return ye(n.get);if("function"==typeof n.value)return ye(n.value)}e=G(e)}return function(){return null}}const Ee=Q(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Ae=Q(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Te=Q(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Re=Q(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Se=Q(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),je=Q(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Oe=Q(["#text"]),Fe=Q(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Ce=Q(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),De=Q(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ie=Q(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ze=ee(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Me=ee(/<%[\w\W]*|[\w\W]*%>/gm),Ne=ee(/\$\{[\w\W]*/gm),Le=ee(/^data-[\-\w.\u00B7-\uFFFF]+$/),Pe=ee(/^aria-[\-\w]+$/),$e=ee(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Ye=ee(/^(?:\w+script|data):/i),He=ee(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Be=ee(/^html$/i),Ve=ee(/^[a-z][.\w]*(-[.\w]+)+$/i);var Ue=Object.freeze({__proto__:null,ARIA_ATTR:Pe,ATTR_WHITESPACE:He,CUSTOM_ELEMENT:Ve,DATA_ATTR:Le,DOCTYPE_NAME:Be,ERB_EXPR:Me,IS_ALLOWED_URI:$e,IS_SCRIPT_OR_DATA:Ye,MUSTACHE_EXPR:ze,TMPLIT_EXPR:Ne});const qe=function(){return"undefined"==typeof window?null:window};var Ke=function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe();const n=t=>e(t);if(n.version="3.3.0",n.removed=[],!t||!t.document||9!==t.document.nodeType||!t.Element)return n.isSupported=!1,n;let{document:r}=t;const i=r,o=i.currentScript,{DocumentFragment:s,HTMLTemplateElement:a,Node:l,Element:c,NodeFilter:u,NamedNodeMap:d=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:h,DOMParser:p,trustedTypes:f}=t,m=c.prototype,g=ke(m,"cloneNode"),v=ke(m,"remove"),b=ke(m,"nextSibling"),y=ke(m,"childNodes"),w=ke(m,"parentNode");if("function"==typeof a){const e=r.createElement("template");e.content&&e.content.ownerDocument&&(r=e.content.ownerDocument)}let _,x="";const{implementation:k,createNodeIterator:E,createDocumentFragment:A,getElementsByTagName:T}=r,{importNode:R}=i;let S={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};n.isSupported="function"==typeof J&&"function"==typeof w&&k&&void 0!==k.createHTMLDocument;const{MUSTACHE_EXPR:j,ERB_EXPR:O,TMPLIT_EXPR:F,DATA_ATTR:C,ARIA_ATTR:D,IS_SCRIPT_OR_DATA:I,ATTR_WHITESPACE:z,CUSTOM_ELEMENT:M}=Ue;let{IS_ALLOWED_URI:N}=Ue,L=null;const P=we({},[...Ee,...Ae,...Te,...Se,...Oe]);let $=null;const Y=we({},[...Fe,...Ce,...De,...Ie]);let H=Object.seal(te(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),B=null,V=null;const U=Object.seal(te(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let q=!0,K=!0,Z=!1,W=!0,G=!1,X=!0,ee=!1,ne=!1,re=!1,be=!1,ye=!1,_e=!1,ze=!0,Me=!1,Ne=!0,Le=!1,Pe={},Ye=null;const He=we({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ve=null;const Ke=we({},["audio","video","img","source","image","track"]);let Je=null;const Ze=we({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),We="http://www.w3.org/1998/Math/MathML",Ge="http://www.w3.org/2000/svg",Xe="http://www.w3.org/1999/xhtml";let Qe=Xe,et=!1,tt=null;const nt=we({},[We,Ge,Xe],ue);let rt=we({},["mi","mo","mn","ms","mtext"]),it=we({},["annotation-xml"]);const ot=we({},["title","style","font","a","script"]);let st=null;const at=["application/xhtml+xml","text/html"];let lt=null,ct=null;const ut=r.createElement("form"),dt=function(e){return e instanceof RegExp||e instanceof Function},ht=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!ct||ct!==e){if(e&&"object"==typeof e||(e={}),e=xe(e),st=-1===at.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,lt="application/xhtml+xml"===st?ue:ce,L=me(e,"ALLOWED_TAGS")?we({},e.ALLOWED_TAGS,lt):P,$=me(e,"ALLOWED_ATTR")?we({},e.ALLOWED_ATTR,lt):Y,tt=me(e,"ALLOWED_NAMESPACES")?we({},e.ALLOWED_NAMESPACES,ue):nt,Je=me(e,"ADD_URI_SAFE_ATTR")?we(xe(Ze),e.ADD_URI_SAFE_ATTR,lt):Ze,Ve=me(e,"ADD_DATA_URI_TAGS")?we(xe(Ke),e.ADD_DATA_URI_TAGS,lt):Ke,Ye=me(e,"FORBID_CONTENTS")?we({},e.FORBID_CONTENTS,lt):He,B=me(e,"FORBID_TAGS")?we({},e.FORBID_TAGS,lt):xe({}),V=me(e,"FORBID_ATTR")?we({},e.FORBID_ATTR,lt):xe({}),Pe=!!me(e,"USE_PROFILES")&&e.USE_PROFILES,q=!1!==e.ALLOW_ARIA_ATTR,K=!1!==e.ALLOW_DATA_ATTR,Z=e.ALLOW_UNKNOWN_PROTOCOLS||!1,W=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,G=e.SAFE_FOR_TEMPLATES||!1,X=!1!==e.SAFE_FOR_XML,ee=e.WHOLE_DOCUMENT||!1,be=e.RETURN_DOM||!1,ye=e.RETURN_DOM_FRAGMENT||!1,_e=e.RETURN_TRUSTED_TYPE||!1,re=e.FORCE_BODY||!1,ze=!1!==e.SANITIZE_DOM,Me=e.SANITIZE_NAMED_PROPS||!1,Ne=!1!==e.KEEP_CONTENT,Le=e.IN_PLACE||!1,N=e.ALLOWED_URI_REGEXP||$e,Qe=e.NAMESPACE||Xe,rt=e.MATHML_TEXT_INTEGRATION_POINTS||rt,it=e.HTML_INTEGRATION_POINTS||it,H=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&dt(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(H.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&dt(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(H.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(H.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),G&&(K=!1),ye&&(be=!0),Pe&&(L=we({},Oe),$=[],!0===Pe.html&&(we(L,Ee),we($,Fe)),!0===Pe.svg&&(we(L,Ae),we($,Ce),we($,Ie)),!0===Pe.svgFilters&&(we(L,Te),we($,Ce),we($,Ie)),!0===Pe.mathMl&&(we(L,Se),we($,De),we($,Ie))),e.ADD_TAGS&&("function"==typeof e.ADD_TAGS?U.tagCheck=e.ADD_TAGS:(L===P&&(L=xe(L)),we(L,e.ADD_TAGS,lt))),e.ADD_ATTR&&("function"==typeof e.ADD_ATTR?U.attributeCheck=e.ADD_ATTR:($===Y&&($=xe($)),we($,e.ADD_ATTR,lt))),e.ADD_URI_SAFE_ATTR&&we(Je,e.ADD_URI_SAFE_ATTR,lt),e.FORBID_CONTENTS&&(Ye===He&&(Ye=xe(Ye)),we(Ye,e.FORBID_CONTENTS,lt)),Ne&&(L["#text"]=!0),ee&&we(L,["html","head","body"]),L.table&&(we(L,["tbody"]),delete B.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw ve('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw ve('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');_=e.TRUSTED_TYPES_POLICY,x=_.createHTML("")}else void 0===_&&(_=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null;const r="data-tt-policy-suffix";t&&t.hasAttribute(r)&&(n=t.getAttribute(r));const i="dompurify"+(n?"#"+n:"");try{return e.createPolicy(i,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){return console.warn("TrustedTypes policy "+i+" could not be created."),null}}(f,o)),null!==_&&"string"==typeof x&&(x=_.createHTML(""));Q&&Q(e),ct=e}},pt=we({},[...Ae,...Te,...Re]),ft=we({},[...Se,...je]),mt=function(e){ae(n.removed,{element:e});try{w(e).removeChild(e)}catch(t){v(e)}},gt=function(e,t){try{ae(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){ae(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e)if(be||ye)try{mt(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},vt=function(e){let t=null,n=null;if(re)e="<remove></remove>"+e;else{const t=de(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===st&&Qe===Xe&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const i=_?_.createHTML(e):e;if(Qe===Xe)try{t=(new p).parseFromString(i,st)}catch(e){}if(!t||!t.documentElement){t=k.createDocument(Qe,"template",null);try{t.documentElement.innerHTML=et?x:i}catch(e){}}const o=t.body||t.documentElement;return e&&n&&o.insertBefore(r.createTextNode(n),o.childNodes[0]||null),Qe===Xe?T.call(t,ee?"html":"body")[0]:ee?t.documentElement:o},bt=function(e){return E.call(e.ownerDocument||e,e,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},yt=function(e){return e instanceof h&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof d)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},wt=function(e){return"function"==typeof l&&e instanceof l};function _t(e,t,r){ie(e,(e=>{e.call(n,t,r,ct)}))}const xt=function(e){let t=null;if(_t(S.beforeSanitizeElements,e,null),yt(e))return mt(e),!0;const r=lt(e.nodeName);if(_t(S.uponSanitizeElement,e,{tagName:r,allowedTags:L}),X&&e.hasChildNodes()&&!wt(e.firstElementChild)&&ge(/<[/\w!]/g,e.innerHTML)&&ge(/<[/\w!]/g,e.textContent))return mt(e),!0;if(7===e.nodeType)return mt(e),!0;if(X&&8===e.nodeType&&ge(/<[/\w]/g,e.data))return mt(e),!0;if(!(U.tagCheck instanceof Function&&U.tagCheck(r))&&(!L[r]||B[r])){if(!B[r]&&Et(r)){if(H.tagNameCheck instanceof RegExp&&ge(H.tagNameCheck,r))return!1;if(H.tagNameCheck instanceof Function&&H.tagNameCheck(r))return!1}if(Ne&&!Ye[r]){const t=w(e)||e.parentNode,n=y(e)||e.childNodes;if(n&&t)for(let r=n.length-1;r>=0;--r){const i=g(n[r],!0);i.__removalCount=(e.__removalCount||0)+1,t.insertBefore(i,b(e))}}return mt(e),!0}return e instanceof c&&!function(e){let t=w(e);t&&t.tagName||(t={namespaceURI:Qe,tagName:"template"});const n=ce(e.tagName),r=ce(t.tagName);return!!tt[e.namespaceURI]&&(e.namespaceURI===Ge?t.namespaceURI===Xe?"svg"===n:t.namespaceURI===We?"svg"===n&&("annotation-xml"===r||rt[r]):Boolean(pt[n]):e.namespaceURI===We?t.namespaceURI===Xe?"math"===n:t.namespaceURI===Ge?"math"===n&&it[r]:Boolean(ft[n]):e.namespaceURI===Xe?!(t.namespaceURI===Ge&&!it[r])&&!(t.namespaceURI===We&&!rt[r])&&!ft[n]&&(ot[n]||!pt[n]):!("application/xhtml+xml"!==st||!tt[e.namespaceURI]))}(e)?(mt(e),!0):"noscript"!==r&&"noembed"!==r&&"noframes"!==r||!ge(/<\/no(script|embed|frames)/i,e.innerHTML)?(G&&3===e.nodeType&&(t=e.textContent,ie([j,O,F],(e=>{t=he(t,e," ")})),e.textContent!==t&&(ae(n.removed,{element:e.cloneNode()}),e.textContent=t)),_t(S.afterSanitizeElements,e,null),!1):(mt(e),!0)},kt=function(e,t,n){if(ze&&("id"===t||"name"===t)&&(n in r||n in ut))return!1;if(K&&!V[t]&&ge(C,t));else if(q&&ge(D,t));else if(U.attributeCheck instanceof Function&&U.attributeCheck(t,e));else if(!$[t]||V[t]){if(!(Et(e)&&(H.tagNameCheck instanceof RegExp&&ge(H.tagNameCheck,e)||H.tagNameCheck instanceof Function&&H.tagNameCheck(e))&&(H.attributeNameCheck instanceof RegExp&&ge(H.attributeNameCheck,t)||H.attributeNameCheck instanceof Function&&H.attributeNameCheck(t,e))||"is"===t&&H.allowCustomizedBuiltInElements&&(H.tagNameCheck instanceof RegExp&&ge(H.tagNameCheck,n)||H.tagNameCheck instanceof Function&&H.tagNameCheck(n))))return!1}else if(Je[t]);else if(ge(N,he(n,z,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==pe(n,"data:")||!Ve[e])if(Z&&!ge(I,he(n,z,"")));else if(n)return!1;return!0},Et=function(e){return"annotation-xml"!==e&&de(e,M)},At=function(e){_t(S.beforeSanitizeAttributes,e,null);const{attributes:t}=e;if(!t||yt(e))return;const r={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:$,forceKeepAttr:void 0};let i=t.length;for(;i--;){const o=t[i],{name:s,namespaceURI:a,value:l}=o,c=lt(s),u=l;let d="value"===s?u:fe(u);if(r.attrName=c,r.attrValue=d,r.keepAttr=!0,r.forceKeepAttr=void 0,_t(S.uponSanitizeAttribute,e,r),d=r.attrValue,!Me||"id"!==c&&"name"!==c||(gt(s,e),d="user-content-"+d),X&&ge(/((--!?|])>)|<\/(style|title|textarea)/i,d)){gt(s,e);continue}if("attributename"===c&&de(d,"href")){gt(s,e);continue}if(r.forceKeepAttr)continue;if(!r.keepAttr){gt(s,e);continue}if(!W&&ge(/\/>/i,d)){gt(s,e);continue}G&&ie([j,O,F],(e=>{d=he(d,e," ")}));const h=lt(e.nodeName);if(kt(h,c,d)){if(_&&"object"==typeof f&&"function"==typeof f.getAttributeType)if(a);else switch(f.getAttributeType(h,c)){case"TrustedHTML":d=_.createHTML(d);break;case"TrustedScriptURL":d=_.createScriptURL(d)}if(d!==u)try{a?e.setAttributeNS(a,s,d):e.setAttribute(s,d),yt(e)?mt(e):se(n.removed)}catch(t){gt(s,e)}}else gt(s,e)}_t(S.afterSanitizeAttributes,e,null)},Tt=function e(t){let n=null;const r=bt(t);for(_t(S.beforeSanitizeShadowDOM,t,null);n=r.nextNode();)_t(S.uponSanitizeShadowNode,n,null),xt(n),At(n),n.content instanceof s&&e(n.content);_t(S.afterSanitizeShadowDOM,t,null)};return n.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null,o=null,a=null,c=null;if(et=!e,et&&(e="\x3c!--\x3e"),"string"!=typeof e&&!wt(e)){if("function"!=typeof e.toString)throw ve("toString is not a function");if("string"!=typeof(e=e.toString()))throw ve("dirty is not a string, aborting")}if(!n.isSupported)return e;if(ne||ht(t),n.removed=[],"string"==typeof e&&(Le=!1),Le){if(e.nodeName){const t=lt(e.nodeName);if(!L[t]||B[t])throw ve("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof l)r=vt("\x3c!----\x3e"),o=r.ownerDocument.importNode(e,!0),1===o.nodeType&&"BODY"===o.nodeName||"HTML"===o.nodeName?r=o:r.appendChild(o);else{if(!be&&!G&&!ee&&-1===e.indexOf("<"))return _&&_e?_.createHTML(e):e;if(r=vt(e),!r)return be?null:_e?x:""}r&&re&&mt(r.firstChild);const u=bt(Le?e:r);for(;a=u.nextNode();)xt(a),At(a),a.content instanceof s&&Tt(a.content);if(Le)return e;if(be){if(ye)for(c=A.call(r.ownerDocument);r.firstChild;)c.appendChild(r.firstChild);else c=r;return($.shadowroot||$.shadowrootmode)&&(c=R.call(i,c,!0)),c}let d=ee?r.outerHTML:r.innerHTML;return ee&&L["!doctype"]&&r.ownerDocument&&r.ownerDocument.doctype&&r.ownerDocument.doctype.name&&ge(Be,r.ownerDocument.doctype.name)&&(d="<!DOCTYPE "+r.ownerDocument.doctype.name+">\n"+d),G&&ie([j,O,F],(e=>{d=he(d,e," ")})),_&&_e?_.createHTML(d):d},n.setConfig=function(){ht(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),ne=!0},n.clearConfig=function(){ct=null,ne=!1},n.isValidAttribute=function(e,t,n){ct||ht({});const r=lt(e),i=lt(t);return kt(r,i,n)},n.addHook=function(e,t){"function"==typeof t&&ae(S[e],t)},n.removeHook=function(e,t){if(void 0!==t){const n=oe(S[e],t);return-1===n?void 0:le(S[e],n,1)[0]}return se(S[e])},n.removeHooks=function(e){S[e]=[]},n.removeAllHooks=function(){S={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},n}(),Je=n(11719),Ze=n(84462);function We(e){return U.c9.isDateTime(e)}function Ge(e){return U.dw.isDuration(e)}function Xe(e){return Array.isArray(e)}function Qe(e){return null==e?"nil":function(e){return"boolean"==typeof e}(e)?"boolean":nt(e)?"number":rt(e)?"string":function(e){return Object.getPrototypeOf(e)===Object.prototype}(e)?"context":Xe(e)?"list":Ge(e)?"duration":We(e)?1900===e.year&&1===e.month&&1===e.day?"time":0===e.hour&&0===e.minute&&0===e.second&&0===e.millisecond&&e.zone===U.mQ.utcInstance?"date":"date time":e instanceof tt?"range":e instanceof ot?"function":"literal"}function et(e,t){return Qe(e)===t}class tt{constructor(e){Object.assign(this,e)}}function nt(e){return"number"==typeof e}function rt(e){return"string"==typeof e}function it(e,t,n=!1){if(null===e&&null!==t||null!==e&&null===t)return!1;Xe(e)&&e.length<2&&(e=e[0]),Xe(t)&&t.length<2&&(t=t[0]);const r=Qe(e),i=Qe(t),o=["date time","time","date"];if(o.includes(r))return o.includes(i)?"time"===r&&"time"!==i||"time"===i&&"time"!==r?null:n||e.zone===U.mJ.instance||t.zone===U.mJ.instance?e.equals(t):e.toUTC().valueOf()===t.toUTC().valueOf():null;if(r!==i)return null;if("nil"===r)return!0;if("list"===r)return e.length===t.length&&e.every(((e,n)=>it(e,t[n])));if("duration"===r)return Math.abs(e.as("days"))>180?0===Math.trunc(e.minus(t).as("months")):0===Math.trunc(e.minus(t).as("seconds"));if("context"===r){const n=Object.entries(e),r=Object.entries(t);return n.length===r.length&&n.every((([e,n])=>e in t&&it(n,t[e])))}return"range"===r?[[e.start,t.start],[e.end,t.end],[e["start included"],t["start included"]],[e["end included"],t["end included"]]].every((([e,t])=>e===t)):e==t||r!==i&&null}class ot{constructor(e,t){this.fn=e,this.parameterNames=t}invoke(e){let t;if(Xe(e)){if(t=e,t.length>this.parameterNames.length){const e=this.parameterNames[this.parameterNames.length-1];if(!e||!e.startsWith("..."))return null}}else{if(Object.keys(e).some((e=>!this.parameterNames.includes(e)&&!this.parameterNames.includes(`...${e}`))))return null;t=this.parameterNames.reduce(((t,n)=>{if(n.startsWith("...")){n=n.slice(3);const r=e[n];return r?[...t,...Xe(r)?r:[r]]:t}return[...t,e[n]]}),[])}return this.fn.call(null,...t)}}function st(e){if(Array.isArray(e.$args))return e.$args;const t=e.toString(),n=/^(?:[^(]*\s*)?\(([^)]+)?\)/.exec(t);if(!n)throw new Error("failed to parse params: "+t);const[r,i]=n;return i?i.split(",").map((e=>e.trim())):[]}function at(e){return new Error(`not implemented: ${e}`)}function lt(e,t){if(["nil","boolean","number","string"].includes(Qe(t)))return;if(e in t)return t[e];const n=(0,Ze.OV)(e);if(n in t)return t[n];const r=Object.entries(t).find((([e])=>n===(0,Ze.OV)(e)));return r?r[1]:void 0}function ct(e){return"number"==typeof e?U.dw.fromMillis(e):U.dw.fromISO(e)}function ut(e=null,t=null,n=null){if(t){if(e)throw new Error("<str> and <time> provided");return ut(`1900-01-01T${t}`,null)}if("string"==typeof e){if(e.startsWith("-"))throw at("negative date");if(!e.includes("T"))return ut(e+"T00:00:00",null,n||U.mQ.utcInstance);if(e.includes("@")){if(n)throw new Error("<zone> already provided");const[t,r]=e.split("@");return ut(t,null,U.R2.normalizeZone(r))}return U.c9.fromISO(e.toUpperCase(),{setZone:!0,zone:n})}return U.c9.now()}const dt={number:vt((function(e,t,n){if(3!==arguments.length)return null;t&&(e=e.split(t).join("")),n&&"."!==n&&(e=e.split(".").join("#").split(n).join("."));const r=+e;return isNaN(r)?null:r}),["string","string?","string?"],["from","grouping separator","decimal separator"]),string:vt((function(e){return null===e?null:kt(e)}),["any"]),date:vt((function(e,t,n,r){let i;if(r||nt(e)||(r=e,e=null),rt(r)&&(i=ut(r)),We(r)&&(i=r),e){if(!nt(t)||!nt(n))return null;i=ut().setZone("utc").set({year:e,month:t,day:n})}return i&&Tt(i.setZone("utc").startOf("day"))||null}),["any?","number?","number?","any?"]),"date and time":vt((function(e,t,n){let r;if(We(e)&&We(t)){const n=e.toLocal();r=t.set({year:n.year,month:n.month,day:n.day})}return rt(e)&&(n=e,e=null),rt(n)&&(r=ut(n,null,n.includes("@")?null:U.mJ.instance)),r&&Tt(r)||null}),["any?","time?","string?"],["date","time","from"]),time:vt((function(e,t,n,r,i){let o;if(r)throw at("time(..., offset)");if((rt(e)||We(e))&&(i=e,e=null),rt(i)&&i&&(o=ut(null,i)),We(i)&&(o=i.set({year:1900,month:1,day:1})),nt(e)){if(!nt(t)||!nt(n))return null;o=ut().set({hour:e,minute:t,second:n}).set({year:1900,month:1,day:1,millisecond:0})}return o&&Tt(o)||null}),["any?","number?","number?","any?","any?"]),duration:vt((function(e){return Tt(ct(e))}),["string"]),"years and months duration":vt((function(e,t){return Tt(t.diff(e,["years","months"]))}),["date","date"]),"@":vt((function(e){let t;return t=/^-?P/.test(e)?ct(e):/^[\d]{1,2}:[\d]{1,2}:[\d]{1,2}/.test(e)?ut(null,e):ut(e),t&&Tt(t)||null}),["string"]),now:vt((function(){return ut()}),[]),today:vt((function(){return ut().startOf("day")}),[]),not:vt((function(e){return et(e,"boolean")?!e:null}),["any"]),substring:vt((function(e,t,n){const r=t<0?e.length+t:t-1,i=Array.from(e);return(void 0!==n?i.slice(r,r+n):i.slice(r)).join("")}),["string","number","number?"],["string","start position","length"]),"string length":vt((function(e){return e.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length}),["string"]),"upper case":vt((function(e){return e.toUpperCase()}),["string"]),"lower case":vt((function(e){return e.toLowerCase()}),["string"]),"substring before":vt((function(e,t){const n=e.indexOf(t);return-1===n?"":e.substring(0,n)}),["string","string"]),"substring after":vt((function(e,t){const n=e.indexOf(t);return-1===n?"":e.substring(n+t.length)}),["string","string"]),replace:vt((function(e,t,n,r){const i=Rt(t,r||"","g");return i&&e.replace(i,n.replace(/\$0/g,"$$&"))}),["string","string","string","string?"]),contains:vt((function(e,t){return e.includes(t)}),["string","string"]),matches:vt((function(e,t,n){const r=Rt(t,n||"","");return r&&r.test(e)}),["string","string","string?"]),"starts with":vt((function(e,t){return e.startsWith(t)}),["string","string"]),"ends with":vt((function(e,t){return e.endsWith(t)}),["string","string"]),split:vt((function(e,t){const n=Rt(t,"","");return n&&e.split(n)}),["string","string"]),"string join":vt((function(e,t){return e.some((e=>!rt(e)&&null!==e))?null:e.filter((e=>null!==e)).join(t||"")}),["list","string?"]),"list contains":vt((function(e,t){return e.some((e=>pt(e,t)))}),["list","any?"]),"list replace":vt((function(e,t,n,r){return["number","function"].includes(Qe(t||r))?function(e,t,n){return nt(t)?[...e.slice(0,t-1),n,...e.slice(t)]:e.map(((e,r)=>t.invoke([e,n])?n:e))}(e,t||r,n):null}),["list","any?","any","function?"]),count:vt((function(e){return e.length}),["list"]),min:gt((function(...e){return e.reduce(((e,t)=>null===e?t:Math.min(e,t)),null)}),"number"),max:gt((function(...e){return e.reduce(((e,t)=>null===e?t:Math.max(e,t)),null)}),"number"),sum:gt((function(...e){return wt(e)}),"number"),mean:gt((function(...e){const t=wt(e);return null===t?t:t/e.length}),"number"),all:gt((function(...e){let t=!1;for(const n of e){if(!1===n)return!1;"boolean"!=typeof n&&(t=!0)}return!t||null}),"any?"),any:gt((function(...e){let t=!1;for(const n of e){if(!0===n)return!0;"boolean"!=typeof n&&(t=!0)}return!!t&&null}),"any?"),sublist:vt((function(e,t,n){const r=t<0?e.length+t:t-1;return void 0!==n?e.slice(r,r+n):e.slice(r)}),["list","number","number?"]),append:vt((function(e,...t){return e.concat(t)}),["list","any?"]),concatenate:vt((function(...e){return e.reduce(((e,t)=>e.concat(t)),[])}),["any"]),"insert before":vt((function(e,t,n){return e.slice(0,t-1).concat([n],e.slice(t-1))}),["list","number","any?"]),remove:vt((function(e,t){return e.slice(0,t-1).concat(e.slice(t))}),["list","number"]),reverse:vt((function(e){return e.slice().reverse()}),["list"]),"index of":vt((function(e,t){return e.reduce((function(e,n,r){return pt(n,t)&&e.push(r+1),e}),[])}),["list","any"]),union:gt((function(...e){return e.reduce(((e,t)=>t.reduce(((e,t)=>(e.some((e=>it(t,e)))||e.push(t),e)),e)),[])}),"list"),"distinct values":vt((function(e){return e.reduce(((e,t)=>(e.some((e=>it(t,e)))||e.push(t),e)),[])}),["list"]),flatten:vt((function(e){return _t(e)}),["list"]),product:gt((function(...e){return 0===e.length?null:e.reduce(((e,t)=>e*t),1)}),"number"),median:gt((function(...e){return 0===e.length?null:function(e){const t=e.length,n=e.slice().sort(),r=t/2-1,i=Math.ceil(r);return r===i?(n[i]+n[i+1])/2:n[i]}(e)}),"number"),stddev:gt((function(...e){return e.length<2?null:function(e){const t=e.length,n=e.reduce(((e,t)=>e+t))/t;return Math.sqrt(e.map((e=>Math.pow(e-n,2))).reduce(((e,t)=>e+t))/(t-1))}(e)}),"number"),mode:gt((function(...e){return function(e){if(e.length<2)return e;const t={};for(const n of e)t[n]=(t[n]||0)+1;const n=Object.entries(t).sort(((e,t)=>t[1]-e[1]));return n.filter((e=>e[1]===n[0][1])).map((e=>+e[0]))}(e)}),"number"),decimal:vt((function(e,t){return null===e||null===t?null:Et(At,e,t)}),["number","number"]),floor:vt((function(e,t=0){if(null===t)return null;const n=Math.pow(10,t);return Math.floor(e*n)/n}),["number","number?"]),ceiling:vt((function(e,t=0){if(null===t)return null;const n=Math.pow(10,t);return Math.ceil(e*n)/n}),["number","number?"]),abs:vt((function(e){return"number"!=typeof e?null:Math.abs(e)}),["number"]),"round up":vt((function(e,t){return null===e||null===t?null:Et(e>0?Math.ceil:Math.floor,e,t)}),["number","number"]),"round down":vt((function(e,t){return null===e||null===t?null:Et(e>0?Math.floor:Math.ceil,e,t)}),["number","number"]),"round half up":vt((function(e,t){if(null===e||null===t)return null;const n=e*Math.pow(10,t)%1;return.5===Math.abs(n)?Et(e>0?Math.ceil:Math.floor,e,t):Et(Math.round,e,t)}),["number","number"]),"round half down":vt((function(e,t){if(null===e||null===t)return null;const n=e*Math.pow(10,t)%1;return.5===Math.abs(n)?Et(e>0?Math.floor:Math.ceil,e,t):Et(Math.round,e,t)}),["number","number"]),modulo:vt((function(e,t){if(!t)return null;const n=1e9;return Math.round((e%t+t)%t*n)/n}),["number","number"]),sqrt:vt((function(e){return e<0?null:Math.sqrt(e)}),["number"]),log:vt((function(e){return e<=0?null:Math.log(e)}),["number"]),exp:vt((function(e){return Math.exp(e)}),["number"]),odd:vt((function(e){return Math.abs(e)%2==1}),["number"]),even:vt((function(e){return Math.abs(e)%2==0}),["number"]),is:vt((function(e,t){return void 0!==e&&void 0!==t&&it(e,t,!0)}),["any?","any?"]),before:vt((function(e,t){return yt(e,t)}),["any","any"]),after:vt((function(e,t){return yt(t,e)}),["any","any"]),meets:vt((function(e,t){return bt(e,t)}),["range","range"]),"met by":vt((function(e,t){return bt(t,e)}),["range","range"]),overlaps:vt((function(e,t){return!yt(e,t)&&!yt(t,e)}),["range","range"]),"overlaps before":vt((function(){throw at("overlaps before")}),["any?"]),"overlaps after":vt((function(){throw at("overlaps after")}),["any?"]),finishes:vt((function(){throw at("finishes")}),["any?"]),"finished by":vt((function(){throw at("finished by")}),["any?"]),includes:vt((function(e,t){return function(e,t){if(!(e instanceof tt))return!1;if(t instanceof tt){const n=e.start<t.start||e.start===t.start&&(e["start included"]||!t["start included"]),r=e.end>t.end||e.end===t.end&&(e["end included"]||!t["end included"]);return n&&r}const n=t>e.start||t===e.start&&e["start included"],r=t<e.end||t===e.end&&e["end included"];return n&&r}(e,t)}),["range","any"]),during:vt((function(){throw at("during")}),["any?"]),starts:vt((function(){throw at("starts")}),["any?"]),"started by":vt((function(){throw at("started by")}),["any?"]),coincides:vt((function(){throw at("coincides")}),["any?"]),"day of year":vt((function(e){return e.ordinal}),["date time"]),"day of week":vt((function(e){return e.weekdayLong}),["date time"]),"month of year":vt((function(e){return e.monthLong}),["date time"]),"week of year":vt((function(e){return e.weekNumber}),["date time"]),sort:vt((function(e,t){return Array.from(e).sort(((e,n)=>t.invoke([e,n])?-1:1))}),["list","function"]),"get value":vt((function(e,t){const n=lt(t,e);return null!=n?n:null}),["context","string"]),"get entries":vt((function(e){return 1!==arguments.length||Array.isArray(e)?null:Object.entries(e).map((([e,t])=>({key:e,value:t})))}),["context"]),context:gt((function(...e){const t=e.reduce(((e,t)=>{if(e===ft||!["key","value"].every((e=>e in t)))return ft;const n=t.key;return null===n||n in e?ft:Object.assign(Object.assign({},e),{[t.key]:t.value})}),{});return t===ft?null:t}),"context"),"context merge":gt((function(...e){return Object.assign({},...e)}),"context"),"context put":vt((function(e,t,n,r){return void 0===t&&void 0===r?null:ht(e,t||[r],n)}),["context","list?","any","string?"],["context","keys","value","key"])};function ht(e,t,n){const[r,...i]=t;return"string"!==Qe(r)||"nil"===Qe(e)||i.length&&null===(n=ht(e[r],i,n))?null:Object.assign(Object.assign({},e),{[r]:n})}function pt(e,t){return e===t}const ft={};function mt(e){const t=e.endsWith("?"),n=t?e.substring(0,e.length-1):e;return function(e){const r=Array.isArray(e);if("list"===n)return r||t&&void 0===e?e:null===e?ft:[e];"any"!==n&&r&&1===e.length&&(e=e[0]);const i=Qe(e);return"any"===n||n===i?t||void 0!==e?e:ft:"nil"===i?t?e:ft:function(e,t){if(We(e)){if("time"===t)return e.set({year:1900,month:1,day:1});if("date"===t)return e.setZone("utc",{keepLocalTime:!0}).startOf("day");if("date time"===t)return e}return null}(e,n)||ft}}function gt(e,t,n=null){const r=mt(t),i=function(...t){return 0===t.length?null:(Array.isArray(t[0])&&1===t.length&&(t=t[0]),t.every((e=>r(e)!==ft))?e(...t):null)};return i.$args=n||st(e),i}function vt(e,t,n=null){const r=function(e){const t=e.map(mt);return function(n){for(;n.length<e.length;)n.push(void 0);return n.reduce(((e,n,r)=>{if(!1===e)return e;const i=t[r],o=i?i(n):n;return o!==ft&&(e.push(o),e)}),[])}}(t);n=n||st(e);const i=function(...t){const n=r(t);return n?e(...n):null};return i.$args=n,i}function bt(e,t){return[e.end===t.start,!0===e["end included"],!0===t["start included"]].every((e=>e))}function yt(e,t){return e instanceof tt&&t instanceof tt?e.end<t.start||(!e["end included"]||!t["start included"])&&e.end==t.start:e instanceof tt?e.end<t||!e["end included"]&&e.end===t:t instanceof tt?t.start>e||!t["start included"]&&t.start===e:e<t}function wt(e){return e.reduce(((e,t)=>null===e?t:e+t),null)}function _t([e,...t]){return void 0!==e?[...Array.isArray(e)?_t(e):[e],..._t(t)]:[]}function xt(e){return kt(e,!0)}function kt(e,t=!1){var n,r,i,o;const s=Qe(e);if("nil"===s)return"null";if("string"===s)return t?`"${a=e,a.replace(/("|\\)/g,"\\$1")}"`:e;var a;if("boolean"===s||"number"===s)return String(e);if("list"===s)return"["+e.map(xt).join(", ")+"]";if("context"===s)return"{"+Object.entries(e).map((([e,t])=>function(e){return"string"==typeof e&&/\W/.test(e)?kt(e,!0):e}(e)+": "+xt(t))).join(", ")+"}";if("duration"===s)return e.shiftTo("years","months","days","hours","minutes","seconds").normalize().toISO();if("date time"===s)return e.zone===U.mJ.instance?e.toISO({suppressMilliseconds:!0,includeOffset:!1}):(null===(n=e.zone)||void 0===n?void 0:n.zoneName)?e.toISO({suppressMilliseconds:!0,includeOffset:!1})+"@"+(null===(r=e.zone)||void 0===r?void 0:r.zoneName):e.toISO({suppressMilliseconds:!0});if("date"===s)return e.toISODate();if("range"===s)return"<range>";if("time"===s)return e.zone===U.mJ.instance?e.toISOTime({suppressMilliseconds:!0,includeOffset:!1}):(null===(i=e.zone)||void 0===i?void 0:i.zoneName)?e.toISOTime({suppressMilliseconds:!0,includeOffset:!1})+"@"+(null===(o=e.zone)||void 0===o?void 0:o.zoneName):e.toISOTime({suppressMilliseconds:!0});if("function"===s)return"<function>";throw at("string("+s+")")}function Et(e,t,n){return e(t*Math.pow(10,n))/Math.pow(10,n)}function At(e){const t=Math.floor(e);return.5==e-t?t%2==0?t:t+1:Math.round(e)}function Tt(e){return e.isValid?e:null}function Rt(e,t,n=""){try{return new RegExp(e,"u"+function(e,t){const n=e.replace(/[smix]/g,"");if(n)throw new Error("illegal flags: "+n);if(/x/.test(e))throw at("matches <x> flag");return e+t}(t,n))}catch(e){if(/^not implemented/.test(e.message))throw e}return null}function St(e,t={},n){return Ze.K3.configure({top:"Expression",contextTracker:(0,Ze.L$)(t),dialect:n}).parse(e)}function jt(e,t={},n){return Ze.K3.configure({top:"UnaryTests",contextTracker:(0,Ze.L$)(t),dialect:n}).parse(e)}class Ot extends Error{constructor(e,t){super(e),Object.assign(this,t)}}const Ft=new class{_buildExecutionTree(e,t){const n={args:[],nodeInput:t},r=[n];return e.iterate({enter(e){const{isError:n,isSkipped:i}=e.type,{from:o,to:s}=e;if(n){const{from:n,to:r,message:i}=function(e){const t=e.node,n=t.parent;if(t.from!==t.to)return{from:t.from,to:t.to,message:`Unrecognized token in <${n.name}>`};const r=function(e){let t,n=e.node;do{if(t=n.nextSibling,t)return t;n=n.parent}while(n);return null}(t);if(r)return{from:t.from,to:r.to,message:`Unrecognized token <${r.name}> in <${n.name}>`};{const r=n.enterUnfinishedNodesBefore(e.to);return{from:t.from,to:t.to,message:`Incomplete <${(r||n).name}>`}}}(e);throw new Ot(i,{input:t.slice(n,r),position:{from:n,to:r}})}if(i)return!1;const a=t.slice(o,s);r.push({nodeInput:a,args:[]})},leave(e){if(e.type.isSkipped)return;const{nodeInput:t,args:n}=r.pop(),i=r[r.length-1],o=function(e,t,n){switch(e.name){case"ArithOp":return e=>{const n=(t,n=["number"])=>(r,i)=>{const o=r(e),s=i(e);if(Xe(o))return null;if(Xe(s))return null;const a=Qe(o),l=Qe(s),c=["date","time","date time","duration"];if(c.includes(a)){if(!c.includes(l))return null}else if(a!==l||!n.includes(a))return null;return t(o,s)};switch(t){case"+":return n(((e,t)=>{if(Ge(e)&&!Ge(t)){const n=e;e=t,t=n}return et(e,"time")&&Ge(t)?e.plus(t).set({year:1900,month:1,day:1}):We(e)&&We(t)?null:We(e)&&Ge(t)||Ge(e)&&Ge(t)?e.plus(t):e+t}),["string","number","date","time","duration","date time"]);case"-":return n(((e,t)=>et(e,"time")&&Ge(t)?e.minus(t).set({year:1900,month:1,day:1}):We(e)&&We(t)?e.diff(t):We(e)&&Ge(t)||Ge(e)&&Ge(t)?e.minus(t):e-t),["number","date","time","duration","date time"]);case"*":return n(((e,t)=>e*t));case"/":return n(((e,t)=>t?e/t:null));case"**":case"^":return n(((e,t)=>Math.pow(e,t)))}};case"CompareOp":return Vt((()=>{switch(t){case">":return e=>Nt(e,null,!1,!1);case">=":return e=>Nt(e,null,!0,!1);case"<":return e=>Nt(null,e,!1,!1);case"<=":return e=>Nt(null,e,!1,!0);case"=":return e=>t=>it(t,e);case"!=":return e=>t=>!it(t,e)}}),qt("boolean"));case"BacktickIdentifier":return t.replace(/`/g,"");case"Wildcard":return e=>!0;case"null":return e=>null;case"Disjunction":return Vt((e=>{const t=n[0](e),r=n[2](e),i="boolean"==typeof t?t:null,o="boolean"==typeof r?r:null;return[[!0,!0,!0],[!0,!1,!0],[!0,null,!0],[!1,!0,!0],[!1,!1,!1],[!1,null,null],[null,!0,!0],[null,!1,null],[null,null,null]].find((e=>e[0]===i&&e[1]===o))[2]}),qt("boolean"));case"Conjunction":return Vt((e=>{const t=n[0](e),r=n[2](e),i="boolean"==typeof t?t:null,o="boolean"==typeof r?r:null;return[[!0,!0,!0],[!0,!1,!1],[!0,null,null],[!1,!0,!1],[!1,!1,!1],[!1,null,!1],[null,!0,null],[null,!1,!1],[null,null,null]].find((e=>e[0]===i&&e[1]===o))[2]}),qt("boolean"));case"Context":return e=>n.slice(1,-1).reduce(((t,n)=>{const[r,i]=n(Object.assign(Object.assign({},e),t));return Object.assign(Object.assign({},t),{[r]:i})}),{});case"FunctionBody":case"FormalParameter":case"Key":case"Type":return n[0];case"FormalParameters":return n;case"ParameterName":return n.join(" ");case"FunctionDefinition":return e=>{const t=n[2],r=n[4];return Kt(((...n)=>{const i=t.reduce(((e,t,r)=>(e[t]=n[r],e)),Object.assign({},e));return r(i)}),t)};case"ContextEntry":return e=>["function"==typeof n[0]?n[0](e):n[0],n[1](e)];case"Identifier":return t;case"SpecialFunctionName":case"DateTimeConstructor":return e=>Ct(t);case"Name":return t.replace(/\s{2,}/g," ");case"VariableName":return e=>{const t=n.join(" "),r=lt(t,e);return void 0!==r?r:Ct(t)||null};case"QualifiedName":return e=>n.reduce(((e,t)=>t(e)),e);case"?":return e=>lt("?",e);case"IterationContext":return e=>{const t=n[0](e),r=n[1]&&n[1](e);return r?Nt(t,r):t};case"InExpressions":return e=>{const t=e=>null!==e&&!e.some((e=>"nil"===Qe(e))),r=(n,i,...o)=>t(n)?i?r(((n,r)=>[].concat(...n.map((n=>{const i=r(Object.assign(Object.assign({},e),n));return t(i)?i.map((e=>Object.assign(Object.assign({},n),e))):null}))))(n,i),...o):n:null,i=(t=>{const[n,...i]=t,o=n(e);return r(o,...i)})(n);return i&&i.map((t=>Object.assign(Object.assign({},e),t)))};case"InExpression":return e=>function(e,t,n){const r=n(e);return["list","range"].includes(Qe(r))?r.map((e=>({[t]:e}))):null}(e,n[0],n[2]);case"SpecialType":throw at("SpecialType");case"InstanceOfExpression":return Vt((e=>n[0](e)instanceof n[3](e)),qt("boolean"));case"every":return Vt((e=>(t,n)=>{const r=t(e);return"list"!==Qe(r)?r:r.every((e=>Ut(n(e))))}),qt("boolean"));case"some":return Vt((e=>(t,n)=>{const r=t(e);return"list"!==Qe(r)?r:r.some((e=>Ut(n(e))))}),qt("boolean"));case"NumericLiteral":return Vt((e=>t.includes(".")?parseFloat(t):parseInt(t)),"number");case"BooleanLiteral":return Vt((e=>"true"===t),"boolean");case"StringLiteral":return Vt((e=>{return(n=t).startsWith('"')&&(n=n.slice(1)),n.endsWith('"')&&(n=n.slice(0,-1)),n.replace(/(\\")|(\\\\)|(\\n)|(\\r)|(\\t)|(\\u[a-fA-F0-9]{5,6})|((?:\\u[a-fA-F0-9]{1,4})+)/gi,(function(e,...t){const[n,r,i,o,s,a,l]=t;if(n)return'"';if(i)return"\n";if(o)return"\r";if(s)return"\t";if(r)return"\\";const c=/\\u([a-fA-F0-9]+)/gi;if(a){const e=c.exec(a);return String.fromCodePoint(parseInt(e[1],16))}if(l){const t=[];let n;for(;null!==(n=c.exec(e));)t.push(parseInt(n[1],16));return String.fromCharCode(...t)}throw new Error("illegal match")}));var n}),"string");case"PositionalParameters":return e=>n.map((t=>t(e)));case"NamedParameter":return e=>[n[0],n[1](e)];case"NamedParameters":return e=>n.reduce(((t,n)=>{const[r,i]=n(e);return t[r]=i,t}),{});case"DateTimeLiteral":return e=>{if(1===n.length)return n[0](e);{const t=Kt(n[0](e));if(!t)return null;const r=n[2](e);return t.invoke(r)}};case"AtLiteral":return e=>{const t=Kt(Ct("@"));return t?t.invoke([n[0](e)]):null};case"FunctionInvocation":return e=>{const t=Kt(n[0](e));if(!t)return null;const r=n[2](e);return t.invoke(r)};case"IfExpression":return function(){const e=n[1],t=n[3],r=n[5];return Vt((n=>Ut(e(n))?t(n):r?r(n):null),Bt(t,r))}();case"Parameters":return 3===n.length?n[1]:e=>[];case"Comparison":return e=>{const t=n[1];if("in"===t)return function(e,t){if(!Xe(t)){if("nil"===Qe(t))return null;t=[t]}return t.some((t=>Dt(t,e)))}(n[0](e),(n[3]||n[2])(e));if("between"===t){const t=n[2](e),r=n[4](e);return null===t||null===r?null:Nt(t,r).includes(n[0](e))}const r=n[0](e),i=n[2](e);return Dt(t()(i),r)};case"QuantifiedExpression":return e=>n[0](e)(n[1],n[3]);case"ForExpression":return e=>{const t=n[n.length-1],r=n[1](e);if("list"!==Qe(r))return r;const i=[];for(const e of r)i.push(t(Object.assign(Object.assign({},e),{partial:i})));return i};case"ArithmeticExpression":return function(){if(3===n.length){const[e,t,r]=n;return Vt((n=>t(n)(e,r)),Bt(e,r))}if(2===n.length){const[e,t]=n;return Vt((n=>e(n)((()=>0),t)),t.type)}}();case"PositiveUnaryTest":return e=>"boolean"===n[0].type&&f(e,"?")?n[0](e)===e["?"]:n[0](e);case"ParenthesizedExpression":return n[1];case"PathExpression":return e=>{const t=n[0](e),r=n[1];return Xe(t)?t.map(r):r(t)};case"FilterExpression":return e=>{const t=n[0](e),r=n[2],i=Xe(t)?t:[t];if(null===t)return null;if(void 0===r.type)try{nt(r(e))&&(r.type="number")}catch(e){}if("number"===r.type){const t=r(e),n=i[t<0?i.length+t:t-1];return void 0===n?null:n}if("boolean"===r.type)return r(e)?i:[];if("string"===r.type){const t=r(e);return i.filter((e=>e===t))}return i.map((t=>{const n=Object.assign(Object.assign(Object.assign({},e),{item:t}),t);let i=r(n);return"function"==typeof i&&(i=i(t)),i instanceof tt&&(i=i.includes(t)),!0===i?t:i})).filter(Ut)};case"SimplePositiveUnaryTest":return Vt((e=>1===n.length?n[0](e):n[0](e)(n[1](e))),"test");case"List":return e=>n.slice(1,-1).map((t=>t(e)));case"Interval":return Vt((e=>{const t=n[1](e),r=n[2](e);return Nt(t,r,null!==t&&"["===n[0],null!==r&&"]"===n[3])}),qt("boolean"));case"PositiveUnaryTests":case"Expressions":return e=>n.map((t=>t(e)));case"Expression":return e=>n[0](e);case"UnaryTests":return e=>(t=null)=>{const r="not"===n[0],i=(r?n.slice(2,-1):n).map((t=>t(e))).flat(1).map((e=>Xe(e)?e.includes(t):"boolean"==typeof e?e:Dt(e,t))).some((e=>!0===e));return null===i?null:r?!i:i};default:return e.name}}(e,t,n);i.args.push(o)}}),n.args[n.args.length-1]}evaluate(e,t={},n){const r=St(e,t,n);return{parseTree:r,root:this._buildExecutionTree(r,e)}}unaryTest(e,t={},n){const r=jt(e,t,n);return{parseTree:r,root:this._buildExecutionTree(r,e)}}};function Ct(e,t){return lt(e,dt)}function Dt(e,t){return"function"==typeof e?e(t):e instanceof tt?e.includes(t):it(e,t)}const It=Array.from("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ");function zt(e,t){return t.some((t=>Qe(t)===e))&&t.every((t=>null===t||Qe(t)===e))}const Mt=new tt({start:null,end:null,"start included":!1,"end included":!1,map:()=>[],includes:()=>null});function Nt(e,t,n=!0,r=!0){if(zt("string",[e,t]))return function(e,t,n=!0,r=!0){if(null!==e&&!It.includes(e))throw new Error("illegal range start: "+e);if(null!==t&&!It.includes(t))throw new Error("illegal range end: "+t);let i;if(null!==e&&null!==t){let o=It.indexOf(e),s=It.indexOf(t);const a=o>s?-1:1;!1===n&&(o+=a),!1===r&&(s-=a),i=It.slice(o,s+1)}const o=i?function(e){return t=>e.map(t)}(i):Lt(),s=i?function(e){return t=>e.includes(t)}(i):Yt(e,t,n,r);return new tt({start:e,end:t,"start included":n,"end included":r,map:o,includes:s})}(e,t,n,r);if(zt("number",[e,t]))return function(e,t,n,r){const i=null!==e&&null!==t?function(e,t,n,r){const i=e>t?-1:1;return o=>{const s=[];for(let a=e;;a+=i)if(0!==a||n){if(a===t&&!r)break;if(s.push(o(a)),a===t)break}return s}}(e,t,n,r):Lt(),o=Yt(e,t,n,r);return new tt({start:e,end:t,"start included":n,"end included":r,map:i,includes:o})}(e,t,n,r);if(zt("duration",[e,t]))return function(e,t,n,r){const i=e=>e?U.dw.fromDurationLike(e).toMillis():null,o=Lt(),s=Yt(i(e),i(t),n,r,i);return new tt({start:e,end:t,"start included":n,"end included":r,map:o,includes:s})}(e,t,n,r);if(zt("time",[e,t]))return Ht(e,t,n,r);if(zt("date time",[e,t]))return Ht(e,t,n,r);if(zt("date",[e,t]))return Ht(e,t,n,r);if(null===e&&null===t)return Mt;throw new Error(`unsupported range: ${e}..${t}`)}function Lt(){return()=>{throw new Error("unsupported range operation: map")}}function Pt(e,t){return t?t=>e<=t:t=>e<t}function $t(e,t){return t?t=>e>=t:t=>e>t}function Yt(e,t,n,r,i=e=>e){let o=[];return null===e&&null===t?()=>null:(null!==e&&null!==t?o=e>t?[Pt(t,r),$t(e,n)]:[Pt(e,n),$t(t,r)]:null!==t?o=[$t(t,r)]:null!==e&&(o=[Pt(e,n)]),e=>null===e?null:o.every((t=>t(i(e)))))}function Ht(e,t,n,r){const i=Lt(),o=Yt(e,t,n,r);return new tt({start:e,end:t,"start included":n,"end included":r,map:i,includes:o})}function Bt(e,t){return t?e.type===t.type?e.type:"any":e.type}function Vt(e,t){return Object.assign(e,{type:t,toString:()=>`TaggedFunction[${t}] ${Function.prototype.toString.call(e)}`})}function Ut(e){return!1!==e&&null!==e}function qt(e){return`Test<${e}>`}function Kt(e,t=null){return e?e instanceof ot?e:e instanceof tt?new ot((t=>e.includes(t)),["value"]):"function"!=typeof e?null:new ot(e,t||st(e)):null}var Jt=n(32917);var Zt={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function Wt(e){Zt=e}var Gt={exec:()=>null};function Xt(e,t=""){let n="string"==typeof e?e:e.source,r={replace:(e,t)=>{let i="string"==typeof t?t:t.source;return i=i.replace(Qt.caret,"$1"),n=n.replace(e,i),r},getRegex:()=>new RegExp(n,t)};return r}var Qt={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[\t ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},en=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,tn=/(?:[*+-]|\d{1,9}[.)])/,nn=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,rn=Xt(nn).replace(/bull/g,tn).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),on=Xt(nn).replace(/bull/g,tn).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),sn=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,an=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,ln=Xt(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",an).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),cn=Xt(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,tn).getRegex(),un="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",dn=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,hn=Xt("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$))","i").replace("comment",dn).replace("tag",un).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),pn=Xt(sn).replace("hr",en).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",un).getRegex(),fn={blockquote:Xt(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",pn).getRegex(),code:/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,def:ln,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:en,html:hn,lheading:rn,list:cn,newline:/^(?:[ \t]*(?:\n|$))+/,paragraph:pn,table:Gt,text:/^[^\n]+/},mn=Xt("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",en).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}\t)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",un).getRegex(),gn={...fn,lheading:on,table:mn,paragraph:Xt(sn).replace("hr",en).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",mn).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",un).getRegex()},vn={...fn,html:Xt("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",dn).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Gt,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Xt(sn).replace("hr",en).replace("heading"," *#{1,6} *[^\n]").replace("lheading",rn).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},bn=/^( {2,}|\\)\n(?!\s*$)/,yn=/[\p{P}\p{S}]/u,wn=/[\s\p{P}\p{S}]/u,_n=/[^\s\p{P}\p{S}]/u,xn=Xt(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,wn).getRegex(),kn=/(?!~)[\p{P}\p{S}]/u,En=Xt(/link|code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<!`)(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("code",/(?<!`)(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),An=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,Tn=Xt(An,"u").replace(/punct/g,yn).getRegex(),Rn=Xt(An,"u").replace(/punct/g,kn).getRegex(),Sn="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",jn=Xt(Sn,"gu").replace(/notPunctSpace/g,_n).replace(/punctSpace/g,wn).replace(/punct/g,yn).getRegex(),On=Xt(Sn,"gu").replace(/notPunctSpace/g,/(?:[^\s\p{P}\p{S}]|~)/u).replace(/punctSpace/g,/(?!~)[\s\p{P}\p{S}]/u).replace(/punct/g,kn).getRegex(),Fn=Xt("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,_n).replace(/punctSpace/g,wn).replace(/punct/g,yn).getRegex(),Cn=Xt(/\\(punct)/,"gu").replace(/punct/g,yn).getRegex(),Dn=Xt(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),In=Xt(dn).replace("(?:--\x3e|$)","--\x3e").getRegex(),zn=Xt("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",In).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Mn=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,Nn=Xt(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",Mn).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Ln=Xt(/^!?\[(label)\]\[(ref)\]/).replace("label",Mn).replace("ref",an).getRegex(),Pn=Xt(/^!?\[(ref)\](?:\[\])?/).replace("ref",an).getRegex(),$n=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,Yn={_backpedal:Gt,anyPunctuation:Cn,autolink:Dn,blockSkip:En,br:bn,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:Gt,emStrongLDelim:Tn,emStrongRDelimAst:jn,emStrongRDelimUnd:Fn,escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,link:Nn,nolink:Pn,punctuation:xn,reflink:Ln,reflinkSearch:Xt("reflink|nolink(?!\\()","g").replace("reflink",Ln).replace("nolink",Pn).getRegex(),tag:zn,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:Gt},Hn={...Yn,link:Xt(/^!?\[(label)\]\((.*?)\)/).replace("label",Mn).getRegex(),reflink:Xt(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Mn).getRegex()},Bn={...Yn,emStrongRDelimAst:On,emStrongLDelim:Rn,url:Xt(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",$n).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:Xt(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",$n).getRegex()},Vn={...Bn,br:Xt(bn).replace("{2,}","*").getRegex(),text:Xt(Bn.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Un={normal:fn,gfm:gn,pedantic:vn},qn={normal:Yn,gfm:Bn,breaks:Vn,pedantic:Hn},Kn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Jn=e=>Kn[e];function Zn(e,t){if(t){if(Qt.escapeTest.test(e))return e.replace(Qt.escapeReplace,Jn)}else if(Qt.escapeTestNoEncode.test(e))return e.replace(Qt.escapeReplaceNoEncode,Jn);return e}function Wn(e){try{e=encodeURI(e).replace(Qt.percentDecode,"%")}catch{return null}return e}function Gn(e,t){let n=e.replace(Qt.findPipe,((e,t,n)=>{let r=!1,i=t;for(;--i>=0&&"\\"===n[i];)r=!r;return r?"|":" |"})).split(Qt.splitPipe),r=0;if(n[0].trim()||n.shift(),n.length>0&&!n.at(-1)?.trim()&&n.pop(),t)if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(Qt.slashPipe,"|");return n}function Xn(e,t,n){let r=e.length;if(0===r)return"";let i=0;for(;i<r;){let o=e.charAt(r-i-1);if(o!==t||n){if(o===t||!n)break;i++}else i++}return e.slice(0,r-i)}function Qn(e,t,n,r,i){let o=t.href,s=t.title||null,a=e[1].replace(i.other.outputLinkReplace,"$1");r.state.inLink=!0;let l={type:"!"===e[0].charAt(0)?"image":"link",raw:n,href:o,title:s,text:a,tokens:r.inlineTokens(a)};return r.state.inLink=!1,l}var er=class{options;rules;lexer;constructor(e){this.options=e||Zt}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let e=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:Xn(e,"\n")}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let e=t[0],n=function(e,t,n){let r=e.match(n.other.indentCodeCompensation);if(null===r)return t;let i=r[1];return t.split("\n").map((e=>{let t=e.match(n.other.beginningSpace);if(null===t)return e;let[r]=t;return r.length>=i.length?e.slice(i.length):e})).join("\n")}(e,t[3]||"",this.rules);return{type:"code",raw:e,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:n}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(this.rules.other.endingHash.test(e)){let t=Xn(e,"#");(this.options.pedantic||!t||this.rules.other.endingSpaceChar.test(t))&&(e=t.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:this.lexer.inline(e)}}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:Xn(t[0],"\n")}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let e=Xn(t[0],"\n").split("\n"),n="",r="",i=[];for(;e.length>0;){let t,o=!1,s=[];for(t=0;t<e.length;t++)if(this.rules.other.blockquoteStart.test(e[t]))s.push(e[t]),o=!0;else{if(o)break;s.push(e[t])}e=e.slice(t);let a=s.join("\n"),l=a.replace(this.rules.other.blockquoteSetextReplace,"\n    $1").replace(this.rules.other.blockquoteSetextReplace2,"");n=n?`${n}\n${a}`:a,r=r?`${r}\n${l}`:l;let c=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(l,i,!0),this.lexer.state.top=c,0===e.length)break;let u=i.at(-1);if("code"===u?.type)break;if("blockquote"===u?.type){let t=u,o=t.raw+"\n"+e.join("\n"),s=this.blockquote(o);i[i.length-1]=s,n=n.substring(0,n.length-t.raw.length)+s.raw,r=r.substring(0,r.length-t.text.length)+s.text;break}if("list"!==u?.type);else{let t=u,o=t.raw+"\n"+e.join("\n"),s=this.list(o);i[i.length-1]=s,n=n.substring(0,n.length-u.raw.length)+s.raw,r=r.substring(0,r.length-t.raw.length)+s.raw,e=o.substring(i.at(-1).raw.length).split("\n")}}return{type:"blockquote",raw:n,tokens:i,text:r}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim(),r=n.length>1,i={type:"list",raw:"",ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]};n=r?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=r?n:"[*+-]");let o=this.rules.other.listItemRegex(n),s=!1;for(;e;){let n=!1,r="",a="";if(!(t=o.exec(e))||this.rules.block.hr.test(e))break;r=t[0],e=e.substring(r.length);let l=t[2].split("\n",1)[0].replace(this.rules.other.listReplaceTabs,(e=>" ".repeat(3*e.length))),c=e.split("\n",1)[0],u=!l.trim(),d=0;if(this.options.pedantic?(d=2,a=l.trimStart()):u?d=t[1].length+1:(d=t[2].search(this.rules.other.nonSpaceChar),d=d>4?1:d,a=l.slice(d),d+=t[1].length),u&&this.rules.other.blankLine.test(c)&&(r+=c+"\n",e=e.substring(c.length+1),n=!0),!n){let t=this.rules.other.nextBulletRegex(d),n=this.rules.other.hrRegex(d),i=this.rules.other.fencesBeginRegex(d),o=this.rules.other.headingBeginRegex(d),s=this.rules.other.htmlBeginRegex(d);for(;e;){let h,p=e.split("\n",1)[0];if(c=p,this.options.pedantic?(c=c.replace(this.rules.other.listReplaceNesting,"  "),h=c):h=c.replace(this.rules.other.tabCharGlobal,"    "),i.test(c)||o.test(c)||s.test(c)||t.test(c)||n.test(c))break;if(h.search(this.rules.other.nonSpaceChar)>=d||!c.trim())a+="\n"+h.slice(d);else{if(u||l.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||i.test(l)||o.test(l)||n.test(l))break;a+="\n"+c}!u&&!c.trim()&&(u=!0),r+=p+"\n",e=e.substring(p.length+1),l=h.slice(d)}}i.loose||(s?i.loose=!0:this.rules.other.doubleBlankLine.test(r)&&(s=!0));let h,p=null;this.options.gfm&&(p=this.rules.other.listIsTask.exec(a),p&&(h="[ ] "!==p[0],a=a.replace(this.rules.other.listReplaceTask,""))),i.items.push({type:"list_item",raw:r,task:!!p,checked:h,loose:!1,text:a,tokens:[]}),i.raw+=r}let a=i.items.at(-1);if(!a)return;a.raw=a.raw.trimEnd(),a.text=a.text.trimEnd(),i.raw=i.raw.trimEnd();for(let e=0;e<i.items.length;e++)if(this.lexer.state.top=!1,i.items[e].tokens=this.lexer.blockTokens(i.items[e].text,[]),!i.loose){let t=i.items[e].tokens.filter((e=>"space"===e.type)),n=t.length>0&&t.some((e=>this.rules.other.anyLine.test(e.raw)));i.loose=n}if(i.loose)for(let e=0;e<i.items.length;e++)i.items[e].loose=!0;return i}}html(e){let t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:"pre"===t[1]||"script"===t[1]||"style"===t[1],text:t[0]}}def(e){let t=this.rules.block.def.exec(e);if(t){let e=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),n=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",r=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:e,raw:t[0],href:n,title:r}}}table(e){let t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;let n=Gn(t[1]),r=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),i=t[3]?.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split("\n"):[],o={type:"table",raw:t[0],header:[],align:[],rows:[]};if(n.length===r.length){for(let e of r)this.rules.other.tableAlignRight.test(e)?o.align.push("right"):this.rules.other.tableAlignCenter.test(e)?o.align.push("center"):this.rules.other.tableAlignLeft.test(e)?o.align.push("left"):o.align.push(null);for(let e=0;e<n.length;e++)o.header.push({text:n[e],tokens:this.lexer.inline(n[e]),header:!0,align:o.align[e]});for(let e of i)o.rows.push(Gn(e,o.header.length).map(((e,t)=>({text:e,tokens:this.lexer.inline(e),header:!1,align:o.align[t]}))));return o}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let e="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:e,tokens:this.lexer.inline(e)}}}text(e){let t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let e=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(e)){if(!this.rules.other.endAngleBracket.test(e))return;let t=Xn(e.slice(0,-1),"\\");if((e.length-t.length)%2==0)return}else{let e=function(e,t){if(-1===e.indexOf(t[1]))return-1;let n=0;for(let r=0;r<e.length;r++)if("\\"===e[r])r++;else if(e[r]===t[0])n++;else if(e[r]===t[1]&&(n--,n<0))return r;return n>0?-2:-1}(t[2],"()");if(-2===e)return;if(e>-1){let n=(0===t[0].indexOf("!")?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,n).trim(),t[3]=""}}let n=t[2],r="";if(this.options.pedantic){let e=this.rules.other.pedanticHrefTitle.exec(n);e&&(n=e[1],r=e[3])}else r=t[3]?t[3].slice(1,-1):"";return n=n.trim(),this.rules.other.startAngleBracket.test(n)&&(n=this.options.pedantic&&!this.rules.other.endAngleBracket.test(e)?n.slice(1):n.slice(1,-1)),Qn(t,{href:n&&n.replace(this.rules.inline.anyPunctuation,"$1"),title:r&&r.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let e=t[(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," ").toLowerCase()];if(!e){let e=n[0].charAt(0);return{type:"text",raw:e,text:e}}return Qn(n,e,n[0],this.lexer,this.rules)}}emStrong(e,t,n=""){let r=this.rules.inline.emStrongLDelim.exec(e);if(!(!r||r[3]&&n.match(this.rules.other.unicodeAlphaNumeric))&&(!r[1]&&!r[2]||!n||this.rules.inline.punctuation.exec(n))){let n,i,o=[...r[0]].length-1,s=o,a=0,l="*"===r[0][0]?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(l.lastIndex=0,t=t.slice(-1*e.length+o);null!=(r=l.exec(t));){if(n=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!n)continue;if(i=[...n].length,r[3]||r[4]){s+=i;continue}if((r[5]||r[6])&&o%3&&!((o+i)%3)){a+=i;continue}if(s-=i,s>0)continue;i=Math.min(i,i+s+a);let t=[...r[0]][0].length,l=e.slice(0,o+r.index+t+i);if(Math.min(o,i)%2){let e=l.slice(1,-1);return{type:"em",raw:l,text:e,tokens:this.lexer.inlineTokens(e)}}let c=l.slice(2,-2);return{type:"strong",raw:l,text:c,tokens:this.lexer.inlineTokens(c)}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(this.rules.other.newLineCharGlobal," "),n=this.rules.other.nonSpaceChar.test(e),r=this.rules.other.startingSpaceChar.test(e)&&this.rules.other.endingSpaceChar.test(e);return n&&r&&(e=e.substring(1,e.length-1)),{type:"codespan",raw:t[0],text:e}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){let t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){let t=this.rules.inline.autolink.exec(e);if(t){let e,n;return"@"===t[2]?(e=t[1],n="mailto:"+e):(e=t[1],n=e),{type:"link",raw:t[0],text:e,href:n,tokens:[{type:"text",raw:e,text:e}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let e,n;if("@"===t[2])e=t[0],n="mailto:"+e;else{let r;do{r=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])?.[0]??""}while(r!==t[0]);e=t[0],n="www."===t[1]?"http://"+t[0]:t[0]}return{type:"link",raw:t[0],text:e,href:n,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e){let t=this.rules.inline.text.exec(e);if(t){let e=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:e}}}},tr=class e{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Zt,this.options.tokenizer=this.options.tokenizer||new er,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let t={other:Qt,block:Un.normal,inline:qn.normal};this.options.pedantic?(t.block=Un.pedantic,t.inline=qn.pedantic):this.options.gfm&&(t.block=Un.gfm,this.options.breaks?t.inline=qn.breaks:t.inline=qn.gfm),this.tokenizer.rules=t}static get rules(){return{block:Un,inline:qn}}static lex(t,n){return new e(n).lex(t)}static lexInline(t,n){return new e(n).inlineTokens(t)}lex(e){e=e.replace(Qt.carriageReturn,"\n"),this.blockTokens(e,this.tokens);for(let e=0;e<this.inlineQueue.length;e++){let t=this.inlineQueue[e];this.inlineTokens(t.src,t.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],n=!1){for(this.options.pedantic&&(e=e.replace(Qt.tabCharGlobal,"    ").replace(Qt.spaceLine,""));e;){let r;if(this.options.extensions?.block?.some((n=>!!(r=n.call({lexer:this},e,t))&&(e=e.substring(r.raw.length),t.push(r),!0))))continue;if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length);let n=t.at(-1);1===r.raw.length&&void 0!==n?n.raw+="\n":t.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length);let n=t.at(-1);"paragraph"===n?.type||"text"===n?.type?(n.raw+=(n.raw.endsWith("\n")?"":"\n")+r.raw,n.text+="\n"+r.text,this.inlineQueue.at(-1).src=n.text):t.push(r);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length);let n=t.at(-1);"paragraph"===n?.type||"text"===n?.type?(n.raw+=(n.raw.endsWith("\n")?"":"\n")+r.raw,n.text+="\n"+r.raw,this.inlineQueue.at(-1).src=n.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title},t.push(r));continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),t.push(r);continue}let i=e;if(this.options.extensions?.startBlock){let t,n=1/0,r=e.slice(1);this.options.extensions.startBlock.forEach((e=>{t=e.call({lexer:this},r),"number"==typeof t&&t>=0&&(n=Math.min(n,t))})),n<1/0&&n>=0&&(i=e.substring(0,n+1))}if(this.state.top&&(r=this.tokenizer.paragraph(i))){let o=t.at(-1);n&&"paragraph"===o?.type?(o.raw+=(o.raw.endsWith("\n")?"":"\n")+r.raw,o.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):t.push(r),n=i.length!==e.length,e=e.substring(r.raw.length)}else if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length);let n=t.at(-1);"text"===n?.type?(n.raw+=(n.raw.endsWith("\n")?"":"\n")+r.raw,n.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=n.text):t.push(r)}else if(e){let t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n=e,r=null;if(this.tokens.links){let e=Object.keys(this.tokens.links);if(e.length>0)for(;null!=(r=this.tokenizer.rules.inline.reflinkSearch.exec(n));)e.includes(r[0].slice(r[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(r=this.tokenizer.rules.inline.anyPunctuation.exec(n));)n=n.slice(0,r.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;null!=(r=this.tokenizer.rules.inline.blockSkip.exec(n));)n=n.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);n=this.options.hooks?.emStrongMask?.call({lexer:this},n)??n;let i=!1,o="";for(;e;){let r;if(i||(o=""),i=!1,this.options.extensions?.inline?.some((n=>!!(r=n.call({lexer:this},e,t))&&(e=e.substring(r.raw.length),t.push(r),!0))))continue;if(r=this.tokenizer.escape(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.tag(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.link(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(r.raw.length);let n=t.at(-1);"text"===r.type&&"text"===n?.type?(n.raw+=r.raw,n.text+=r.text):t.push(r);continue}if(r=this.tokenizer.emStrong(e,n,o)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.codespan(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.br(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.del(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.autolink(e)){e=e.substring(r.raw.length),t.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(e))){e=e.substring(r.raw.length),t.push(r);continue}let s=e;if(this.options.extensions?.startInline){let t,n=1/0,r=e.slice(1);this.options.extensions.startInline.forEach((e=>{t=e.call({lexer:this},r),"number"==typeof t&&t>=0&&(n=Math.min(n,t))})),n<1/0&&n>=0&&(s=e.substring(0,n+1))}if(r=this.tokenizer.inlineText(s)){e=e.substring(r.raw.length),"_"!==r.raw.slice(-1)&&(o=r.raw.slice(-1)),i=!0;let n=t.at(-1);"text"===n?.type?(n.raw+=r.raw,n.text+=r.text):t.push(r)}else if(e){let t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}return t}},nr=class{options;parser;constructor(e){this.options=e||Zt}space(e){return""}code({text:e,lang:t,escaped:n}){let r=(t||"").match(Qt.notSpaceStart)?.[0],i=e.replace(Qt.endingNewline,"")+"\n";return r?'<pre><code class="language-'+Zn(r)+'">'+(n?i:Zn(i,!0))+"</code></pre>\n":"<pre><code>"+(n?i:Zn(i,!0))+"</code></pre>\n"}blockquote({tokens:e}){return`<blockquote>\n${this.parser.parse(e)}</blockquote>\n`}html({text:e}){return e}def(e){return""}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>\n`}hr(e){return"<hr>\n"}list(e){let t=e.ordered,n=e.start,r="";for(let t=0;t<e.items.length;t++){let n=e.items[t];r+=this.listitem(n)}let i=t?"ol":"ul";return"<"+i+(t&&1!==n?' start="'+n+'"':"")+">\n"+r+"</"+i+">\n"}listitem(e){let t="";if(e.task){let n=this.checkbox({checked:!!e.checked});e.loose?"paragraph"===e.tokens[0]?.type?(e.tokens[0].text=n+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&"text"===e.tokens[0].tokens[0].type&&(e.tokens[0].tokens[0].text=n+" "+Zn(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:n+" ",text:n+" ",escaped:!0}):t+=n+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>\n`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>\n`}table(e){let t="",n="";for(let t=0;t<e.header.length;t++)n+=this.tablecell(e.header[t]);t+=this.tablerow({text:n});let r="";for(let t=0;t<e.rows.length;t++){let i=e.rows[t];n="";for(let e=0;e<i.length;e++)n+=this.tablecell(i[e]);r+=this.tablerow({text:n})}return r&&(r=`<tbody>${r}</tbody>`),"<table>\n<thead>\n"+t+"</thead>\n"+r+"</table>\n"}tablerow({text:e}){return`<tr>\n${e}</tr>\n`}tablecell(e){let t=this.parser.parseInline(e.tokens),n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+t+`</${n}>\n`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${Zn(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:n}){let r=this.parser.parseInline(n),i=Wn(e);if(null===i)return r;let o='<a href="'+(e=i)+'"';return t&&(o+=' title="'+Zn(t)+'"'),o+=">"+r+"</a>",o}image({href:e,title:t,text:n,tokens:r}){r&&(n=this.parser.parseInline(r,this.parser.textRenderer));let i=Wn(e);if(null===i)return Zn(n);let o=`<img src="${e=i}" alt="${n}"`;return t&&(o+=` title="${Zn(t)}"`),o+=">",o}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:Zn(e.text)}},rr=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}},ir=class e{options;renderer;textRenderer;constructor(e){this.options=e||Zt,this.options.renderer=this.options.renderer||new nr,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new rr}static parse(t,n){return new e(n).parse(t)}static parseInline(t,n){return new e(n).parseInline(t)}parse(e,t=!0){let n="";for(let r=0;r<e.length;r++){let i=e[r];if(this.options.extensions?.renderers?.[i.type]){let e=i,t=this.options.extensions.renderers[e.type].call({parser:this},e);if(!1!==t||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(e.type)){n+=t||"";continue}}let o=i;switch(o.type){case"space":n+=this.renderer.space(o);continue;case"hr":n+=this.renderer.hr(o);continue;case"heading":n+=this.renderer.heading(o);continue;case"code":n+=this.renderer.code(o);continue;case"table":n+=this.renderer.table(o);continue;case"blockquote":n+=this.renderer.blockquote(o);continue;case"list":n+=this.renderer.list(o);continue;case"html":n+=this.renderer.html(o);continue;case"def":n+=this.renderer.def(o);continue;case"paragraph":n+=this.renderer.paragraph(o);continue;case"text":{let i=o,s=this.renderer.text(i);for(;r+1<e.length&&"text"===e[r+1].type;)i=e[++r],s+="\n"+this.renderer.text(i);n+=t?this.renderer.paragraph({type:"paragraph",raw:s,text:s,tokens:[{type:"text",raw:s,text:s,escaped:!0}]}):s;continue}default:{let e='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw new Error(e)}}}return n}parseInline(e,t=this.renderer){let n="";for(let r=0;r<e.length;r++){let i=e[r];if(this.options.extensions?.renderers?.[i.type]){let e=this.options.extensions.renderers[i.type].call({parser:this},i);if(!1!==e||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){n+=e||"";continue}}let o=i;switch(o.type){case"escape":case"text":n+=t.text(o);break;case"html":n+=t.html(o);break;case"link":n+=t.link(o);break;case"image":n+=t.image(o);break;case"strong":n+=t.strong(o);break;case"em":n+=t.em(o);break;case"codespan":n+=t.codespan(o);break;case"br":n+=t.br(o);break;case"del":n+=t.del(o);break;default:{let e='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw new Error(e)}}}return n}},or=class{options;block;constructor(e){this.options=e||Zt}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens","emStrongMask"]);static passThroughHooksRespectAsync=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}emStrongMask(e){return e}provideLexer(){return this.block?tr.lex:tr.lexInline}provideParser(){return this.block?ir.parse:ir.parseInline}},sr=new class{defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=ir;Renderer=nr;TextRenderer=rr;Lexer=tr;Tokenizer=er;Hooks=or;constructor(...e){this.use(...e)}walkTokens(e,t){let n=[];for(let r of e)switch(n=n.concat(t.call(this,r)),r.type){case"table":{let e=r;for(let r of e.header)n=n.concat(this.walkTokens(r.tokens,t));for(let r of e.rows)for(let e of r)n=n.concat(this.walkTokens(e.tokens,t));break}case"list":{let e=r;n=n.concat(this.walkTokens(e.items,t));break}default:{let e=r;this.defaults.extensions?.childTokens?.[e.type]?this.defaults.extensions.childTokens[e.type].forEach((r=>{let i=e[r].flat(1/0);n=n.concat(this.walkTokens(i,t))})):e.tokens&&(n=n.concat(this.walkTokens(e.tokens,t)))}}return n}use(...e){let t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach((e=>{let n={...e};if(n.async=this.defaults.async||n.async||!1,e.extensions&&(e.extensions.forEach((e=>{if(!e.name)throw new Error("extension name required");if("renderer"in e){let n=t.renderers[e.name];t.renderers[e.name]=n?function(...t){let r=e.renderer.apply(this,t);return!1===r&&(r=n.apply(this,t)),r}:e.renderer}if("tokenizer"in e){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");let n=t[e.level];n?n.unshift(e.tokenizer):t[e.level]=[e.tokenizer],e.start&&("block"===e.level?t.startBlock?t.startBlock.push(e.start):t.startBlock=[e.start]:"inline"===e.level&&(t.startInline?t.startInline.push(e.start):t.startInline=[e.start]))}"childTokens"in e&&e.childTokens&&(t.childTokens[e.name]=e.childTokens)})),n.extensions=t),e.renderer){let t=this.defaults.renderer||new nr(this.defaults);for(let n in e.renderer){if(!(n in t))throw new Error(`renderer '${n}' does not exist`);if(["options","parser"].includes(n))continue;let r=n,i=e.renderer[r],o=t[r];t[r]=(...e)=>{let n=i.apply(t,e);return!1===n&&(n=o.apply(t,e)),n||""}}n.renderer=t}if(e.tokenizer){let t=this.defaults.tokenizer||new er(this.defaults);for(let n in e.tokenizer){if(!(n in t))throw new Error(`tokenizer '${n}' does not exist`);if(["options","rules","lexer"].includes(n))continue;let r=n,i=e.tokenizer[r],o=t[r];t[r]=(...e)=>{let n=i.apply(t,e);return!1===n&&(n=o.apply(t,e)),n}}n.tokenizer=t}if(e.hooks){let t=this.defaults.hooks||new or;for(let n in e.hooks){if(!(n in t))throw new Error(`hook '${n}' does not exist`);if(["options","block"].includes(n))continue;let r=n,i=e.hooks[r],o=t[r];or.passThroughHooks.has(n)?t[r]=e=>{if(this.defaults.async&&or.passThroughHooksRespectAsync.has(n))return(async()=>{let n=await i.call(t,e);return o.call(t,n)})();let r=i.call(t,e);return o.call(t,r)}:t[r]=(...e)=>{if(this.defaults.async)return(async()=>{let n=await i.apply(t,e);return!1===n&&(n=await o.apply(t,e)),n})();let n=i.apply(t,e);return!1===n&&(n=o.apply(t,e)),n}}n.hooks=t}if(e.walkTokens){let t=this.defaults.walkTokens,r=e.walkTokens;n.walkTokens=function(e){let n=[];return n.push(r.call(this,e)),t&&(n=n.concat(t.call(this,e))),n}}this.defaults={...this.defaults,...n}})),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return tr.lex(e,t??this.defaults)}parser(e,t){return ir.parse(e,t??this.defaults)}parseMarkdown(e){return(t,n)=>{let r={...n},i={...this.defaults,...r},o=this.onError(!!i.silent,!!i.async);if(!0===this.defaults.async&&!1===r.async)return o(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof t>"u"||null===t)return o(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof t)return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));if(i.hooks&&(i.hooks.options=i,i.hooks.block=e),i.async)return(async()=>{let n=i.hooks?await i.hooks.preprocess(t):t,r=await(i.hooks?await i.hooks.provideLexer():e?tr.lex:tr.lexInline)(n,i),o=i.hooks?await i.hooks.processAllTokens(r):r;i.walkTokens&&await Promise.all(this.walkTokens(o,i.walkTokens));let s=await(i.hooks?await i.hooks.provideParser():e?ir.parse:ir.parseInline)(o,i);return i.hooks?await i.hooks.postprocess(s):s})().catch(o);try{i.hooks&&(t=i.hooks.preprocess(t));let n=(i.hooks?i.hooks.provideLexer():e?tr.lex:tr.lexInline)(t,i);i.hooks&&(n=i.hooks.processAllTokens(n)),i.walkTokens&&this.walkTokens(n,i.walkTokens);let r=(i.hooks?i.hooks.provideParser():e?ir.parse:ir.parseInline)(n,i);return i.hooks&&(r=i.hooks.postprocess(r)),r}catch(e){return o(e)}}}onError(e,t){return n=>{if(n.message+="\nPlease report this to https://github.com/markedjs/marked.",e){let e="<p>An error occurred:</p><pre>"+Zn(n.message+"",!0)+"</pre>";return t?Promise.resolve(e):e}if(t)return Promise.reject(n);throw n}}};function ar(e,t){return sr.parse(e,t)}ar.options=ar.setOptions=function(e){return sr.setOptions(e),ar.defaults=sr.defaults,Wt(ar.defaults),ar},ar.getDefaults=function(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}},ar.defaults=Zt,ar.use=function(...e){return sr.use(...e),ar.defaults=sr.defaults,Wt(ar.defaults),ar},ar.walkTokens=function(e,t){return sr.walkTokens(e,t)},ar.parseInline=sr.parseInline,ar.Parser=ir,ar.parser=ir.parse,ar.Renderer=nr,ar.TextRenderer=rr,ar.Lexer=tr,ar.lexer=tr.lex,ar.Tokenizer=er,ar.Hooks=or,ar.parse=ar,ar.options,ar.setOptions,ar.use,ar.walkTokens,ar.parseInline,ir.parse,tr.lex;const lr=(e,t="expression",n={})=>{const{depth:r=0,specialDepthAccessors:i={}}=n;if(!["expression","unaryTest"].includes(t))return[];const o="expression"===t?St(e):jt(e),s=function e(t){if("PathExpression"===t.name){const n=dr(t)[0];return"Context"===n.name?e(n):0===Object.keys(i).length?0===r?[cr(t,0)]:[]:Array.from(ur(t,r,i))}if(0===r&&"VariableName"===t.name)return[t.variableName];if(t.children){const n=t.children.reduce(((t,n)=>t.concat(e(n))),[]);return"FilterContext"===t.name?n.filter((e=>"item"!==e)):n}return[]}(hr(o,e));return[...new Set(s)]},cr=(e,t)=>dr(e)[t].variableName||null,ur=(e,t,n)=>{let r=[{previous:null,current:t-1}];const i=new Set,o=dr(e);for(let e=0;e<o.length;e++){const t=o[e].variableName;if(t in n){const e=n[t];r=e.reduce(((e,t)=>[...e,...r.map((e=>({previous:e.current,current:e.current+t})))]),[]).filter((e=>e.current>=-1))}else r=r.map((e=>({previous:e.current,current:e.current+1})));r.some((e=>-1===e.previous&&0===e.current))&&i.add(t)}return new Set(i)},dr=e=>{let t=e,n=[];for(;"PathExpression"===t.name;)n.push(t.children[1]),t=t.children[0];return n.push(t),n.reverse()},hr=(e,t)=>{const n=[{children:[]}];return e.iterate({enter:e=>{const r={name:e.type.name,children:[]};"VariableName"===e.type.name&&(r.variableName=t.slice(e.from,e.to)),n.push(r)},leave:()=>{const e=n.pop();n[n.length-1].children.push(e)}}),pr(n[0].children[0])},pr=e=>{const t={name:"Root",children:[e]},n=e=>{if(e.children)for(let r=0;r<e.children.length;r++)if("FilterExpression"===e.children[r].name){const i=e.children[r].children[0],o=e.children[r].children[2];e.children[r]=i;const s={name:"FilterContext",children:[o]};t.children.push(s),n(o)}else n(e.children[r])};return n(e),t};class fr{constructor(e){this._eventBus=e}isExpression(e){return p(e)&&e.startsWith("=")}getVariableNames(e,t={}){const{type:n="expression"}=t;if(!this.isExpression(e))return[];if(!["unaryTest","expression"].includes(n))throw new Error("Unknown expression type: "+n);return lr(e,n)}evaluate(e,t={}){if(!e)return null;if(!p(e)||!e.startsWith("="))return null;try{return function(e,t={},n){const{root:r}=Ft.evaluate(e,t,n);return r(t)}(e.slice(1),t)}catch(e){return this._eventBus.fire("error",{error:e}),null}}}fr.$inject=["eventBus"];class mr{constructor(){}isTemplate(e){return p(e)&&(e.startsWith("=")||/{{.*?}}/.test(e))}getVariableNames(e){if(!this.isTemplate(e))return[];const t=this._extractExpressionsWithDepth(e),n={parent:[-1,1],_parent_:[-1],this:[0,1],_this_:[0]};return t.reduce(((e,{expression:t,depth:r})=>e.concat(lr(t,"expression",{depth:r,specialDepthAccessors:n}))),[])}evaluate(e,t={},n={}){const{debug:r=!1,strict:i=!1,buildDebugString:o=e=>" {{}} ",sanitizer:s=e=>e}=n;return(0,Jt._3)(e,t,{debug:r,strict:i,buildDebugString:o,sanitizer:s})}_extractExpressionsWithDepth(e){const t=Jt.K3.parse(e);return function e(t,n=0){if(["Feel","FeelBlock"].includes(t.name))return[{depth:n,expression:t.content}];if("LoopSpanner"===t.name){const r=t.children[0].content,i=t.children.slice(1).reduce(((t,r)=>t.concat(e(r,n+1))),[]);return[{depth:n,expression:r},...i]}return t.children.reduce(((t,r)=>t.concat(e(r,n))),[])}((0,Jt.pc)(t,e))}}mr.$inject=[];const gr=1440,vr={DATE:"date",TIME:"time",DATETIME:"datetime"},br={UTC_OFFSET:"utc_offset",UTC_NORMALIZED:"utc_normalized",NO_TIMEZONE:"no_timezone"},yr={[vr.DATE]:"Date",[vr.TIME]:"Time",[vr.DATETIME]:"Date & Time"},wr={[br.UTC_OFFSET]:"UTC offset",[br.UTC_NORMALIZED]:"UTC normalized",[br.NO_TIMEZONE]:"No timezone"},_r=["subtype"],xr=["dateLabel"],kr=["disallowPassedDates"],Er=["timeLabel"],Ar=["use24h"],Tr=["timeInterval"],Rr=["timeSerializingFormat"],Sr={STATIC:"static",INPUT:"input",EXPRESSION:"expression"},jr=Sr.STATIC,Or={[Sr.STATIC]:"Static",[Sr.INPUT]:"Input data",[Sr.EXPRESSION]:"Expression"},Fr={[Sr.STATIC]:["values"],[Sr.INPUT]:["valuesKey"],[Sr.EXPRESSION]:["valuesExpression"]},Cr={[Sr.STATIC]:[{label:"Value",value:"value"}],[Sr.INPUT]:"",[Sr.EXPRESSION]:"="};function Dr(e){for(const t of Object.values(Sr))if(void 0!==E(e,Fr[t]))return t;return jr}const Ir="sandbox",zr="allow",Mr=[{attribute:Ir,directive:"allow-scripts",property:"allowScripts",label:"Script execution"},{attribute:Ir,directive:"allow-same-origin",property:"allowSameOrigin",label:"Allow same origin"},{attribute:zr,directive:"fullscreen",property:"fullscreen",label:"Open in fullscreen"},{attribute:zr,directive:"geolocation",property:"geolocation",label:"Geolocation"},{attribute:zr,directive:"camera",property:"camera",label:"Camera access"},{attribute:zr,directive:"microphone",property:"microphone",label:"Microphone access"},{attribute:Ir,directive:"allow-forms",property:"allowForms",label:"Forms submission"},{attribute:Ir,directive:"allow-modals",property:"allowModals",label:"Open modal windows"},{attribute:Ir,directive:"allow-popups",property:"allowPopups",label:"Open popups"},{attribute:Ir,directive:"allow-top-navigation",property:"allowTopNavigation",label:"Top level navigation"},{attribute:Ir,directive:"allow-storage-access-by-user-activation",property:"allowStorageAccessByUserActivation",label:"Storage access by user"}],Nr="# Text";function Lr(e){const t=new Je.zZ(e);return t.init(),t}function Pr(e="fjs"){const t=document.createElement("div");return t.classList.add(`${e}-container`),t}function $r(e,{errors:t=[],disabled:n=!1,readonly:r=!1}={}){if(!e)throw new Error("type required");return P()("fjs-form-field",`fjs-form-field-${e}`,{"fjs-has-errors":t.length>0,"fjs-disabled":n,"fjs-readonly":r})}function Yr(e){const{layout:t={}}=e,{columns:n}=t;return P()("fjs-layout-column","cds--col"+(n?"-lg-"+n:""),"cds--col-sm-16","cds--col-md-16")}function Hr(e,t,n){let r="fjs-form";return t&&(r+=`-${t}`),r+=`-${e}`,Object.values(n||{}).forEach((e=>{r+=`_${e}`})),r}const Br=(0,H.createContext)({Empty:e=>null,Hidden:e=>null,Children:e=>(0,$.Y)("div",{class:e.class,style:e.style,children:e.children}),Element:e=>(0,$.Y)("div",{class:e.class,style:e.style,children:e.children}),Row:e=>(0,$.Y)("div",{class:e.class,style:e.style,children:e.children}),Column:e=>"default"===e.field.type?e.children:(0,$.Y)("div",{class:e.class,style:e.style,children:e.children}),hoverInfo:{cleanup:()=>{}}}),Vr=(0,H.createContext)({data:null,this:null,parent:null,i:null}),Ur=(0,H.createContext)({getService:function(e,t){},formId:null});function qr(e,t){const{getService:n}=(0,Y.NT)(Ur);return n(e,t)}function Kr(e,t){return JSON.parse(JSON.stringify(e,t))}function Jr(e,t){(e.components||[]).forEach(((e,n)=>{Jr(e,t)})),t(e)}function Zr(e){const t={};for(const[n,r]of Object.entries(e))t[`_${n}_`]=r;return t}function Wr(e){const{data:t,...n}=e;return{...n,...t,...Zr(n)}}function Gr(e,t,n){return e&&e.isExpression(t)?e.evaluate(t,Wr(n)):t}function Xr(e,t){const{valuesExpression:n,valuesKey:r,values:i}=e;return n?null:r?E(t,[r]):i}function Qr(e){return e.filter(ri).map(ti).filter((e=>!l(e)))}function ei(e={}){const t={};return e.valuesKey||e.valuesExpression||(t.values=[{label:"Value",value:"value"}]),{...t,...e}}function ti(e){if(ni(e))return{value:e,label:`${e}`};if(u(e)){const n=(t=e.label)&&p(t);if(!n&&ni(e.value))return{value:e.value,label:`${e.value}`};if(n&&ri(e.value))return e}var t;return null}function ni(e){return["number","string","boolean"].includes(typeof e)&&(e||0===e||!1===e)}function ri(e){return u(e)?Object.keys(e).length>0:ni(e)}function ii(e){const t=qr("expressionLanguage"),n=(0,Y.NT)(Vr);return(0,Y.Kr)((()=>Gr(t,e,n)),[t,n,e])}function oi(e){const t=(0,Y.li)();return V()(e,t.current)||(t.current=e),t.current}const si={LOADED:"loaded",ERROR:"error"};function ai(e){const{valuesExpression:t,valuesKey:n,values:r}=e,i=qr("form")._getState().initialData,o=oi(ii(t)||[]);return(0,Y.Kr)((()=>{let e=[];if(void 0!==n){const t=(i||{})[n];t&&Array.isArray(t)&&(e=t)}else if(void 0!==r)e=Array.isArray(r)?r:[];else{if(!(t&&o&&Array.isArray(o)))return li("No options source defined in the form definition");e=o}return ci(Qr(e))}),[n,r,i,t,o])}const li=e=>({options:[],error:e,loadState:si.ERROR}),ci=e=>({options:e,error:void 0,loadState:si.LOADED}),ui=e=>{const{html:t,transform:n=e=>e,sanitize:r=!0,sanitizeStyleTags:i=!0}=e,o=(0,Y.Kr)((()=>r?Ke.sanitize(t,di(i)):t),[t,r,i]);return{__html:(0,Y.Kr)((()=>n(o)),[o,n])}},di=e=>({FORCE_BODY:!0,FORBID_TAGS:e?["style"]:[]});function hi(e){const t=(0,Y.Kr)((()=>Object.assign({},...e.map((e=>({[pi(e.value)]:e.label}))))),[e]);return(0,Y.hb)((e=>t[pi(e)]),[t])}const pi=e=>u(e)?JSON.stringify(e):e;function fi(e){for(;e&&e!==document.body&&e!==document.documentElement;){if(mi(e))return e;e=e.parentElement}return mi(document.body)?document.body:mi(document.documentElement)?document.documentElement:null}function mi(e){const t=window.getComputedStyle(e),n=t.overflowY||t.overflow;return("auto"===n||"scroll"===n)&&e.scrollHeight>e.clientHeight}const gi={},vi=[];function bi(e,t,n=window){function r({key:n}){n===e&&t()}(0,Y.vJ)((()=>(n.addEventListener("keydown",r),()=>{n.removeEventListener("keydown",r)})))}function yi(e,t=null){const n=(0,Y.li)(t);return(0,Y.vJ)((()=>n.current=e),[e]),n.current}function wi(e){const t=(0,Y.li)(null),n=(0,Y.li)(null),r=qr("config",!1),i=r&&r.debounce,o=!1!==i&&0!==i,s="number"==typeof i?i:300;return[(0,Y.hb)(((...r)=>{o?(n.current=r,t.current&&clearTimeout(t.current),t.current=setTimeout((()=>{e(...n.current),n.current=null}),s)):e(...r)}),[e,s,o]),(0,Y.hb)((()=>{t.current&&(clearTimeout(t.current),null!==n.current&&(e(...n.current),n.current=null),t.current=null)}),[e])]}function _i(e,t={}){const n=qr("templating"),r=(0,Y.NT)(Vr);return(0,Y.Kr)((()=>n&&n.isTemplate(e)?n.evaluate(e,Wr(r),t):e),[n,e,r,t])}function xi(e,t={}){const n=_i(e,t);return(0,Y.Kr)((()=>n&&n.split("\n")[0]),[n])}const ki=new KeyboardEvent("keydown",{code:"Enter",key:"Enter",charCode:13,keyCode:13,bubbles:!0});function Ei(e){if(!e)return;!e.isOpen&&e.open();const t=e.calendarContainer,n=t.querySelector(".flatpickr-day.selected")||t.querySelector(".flatpickr-day.today")||t.querySelector(".flatpickr-day");n&&n.focus()}function Ai(e,t){if(null===t)return null;const n=t%1440,r=t%60;let i=Math.floor(n/60);if(e)return Ii(i)+":"+Ii(r);i=i%12||12;const o=n>=720;return Ii(i)+":"+Ii(r)+" "+(o?"PM":"AM")}function Ti(e){let t=e.toLowerCase();if(t.includes("am")||t.includes("pm")){const e=t.includes("pm"),n=t.match(/\d+/g),r=parseInt(n&&n[0]),i=parseInt(n&&n[1])||0;return d(r)&&r>=1&&r<=12&&i>=0&&i<=59?60*(r%12+(e?12:0))+i:null}{const e=t.match(/\d+/g),n=parseInt(e&&e[0]),r=parseInt(e&&e[1]),i=d(n)&&n>=0&&n<=23,o=d(r)&&r>=0&&r<=59;return i&&o?60*n+r:null}}function Ri(e,t,n){if(n===br.UTC_NORMALIZED){const n=(e+t+gr)%gr;return Ii(Math.floor(n/60))+":"+Ii(n%60)+"Z"}return Ii(Math.floor(e/60))+":"+Ii(e%60)+(n===br.UTC_OFFSET?function(e){return function(e){return e>0?"-"+Ii(Math.floor(e/60)):"+"+Ii(Math.floor((0-e)/60))}(e)+":"+Ii(Math.abs(e%60))}(t):"")}function Si(e){if(!e)return null;const t=e=>{const t=e.split(":"),n=parseInt(t[0]),r=t.length>1?parseInt(t[1]):0;return isNaN(n)||n<0||n>24||isNaN(r)||r<0||r>60?null:60*n+r},n=(new Date).getTimezoneOffset();if(e.includes("Z")){const r=t(e=e.replace("Z",""));return null===r?null:(r-n+gr)%gr}if(e.includes("+")){const[r,i]=e.split("+"),o=t(r);let s=t(i);return null===o||null===s?null:(s=-s,(o+s-n+gr)%gr)}if(e.includes("-")){const[r,i]=e.split("-"),o=t(r);let s=t(i);return null===o||null===s?null:(o+s-n+gr)%gr}return t(e)}function ji(e){return U.c9.fromJSDate(e).toISODate()}function Oi(e){return isNaN(new Date(Date.parse(e)).getTime())}function Fi(){return{date:new Date(Date.parse(null)),time:null}}function Ci(e){return e&&!isNaN(e.getTime())}function Di(e){return!isNaN(parseInt(e))}function Ii(e){return e.toString().padStart(2,"0")}const zi=/^(https?|data):.*/i,Mi=/^(https):\/\/*/i;function Ni(e,t){return!!Array.isArray(t)&&t.some((t=>V()(e,t)))}function Li(e){const{formField:t,data:n,value:r}=e,{valuesExpression:i}=t;try{if(i)return r;const e=Qr(Xr(t,n)).map((e=>e.value));return Ni(r,e)?r:null}catch(e){return null}}function Pi(e){const{formField:t,data:n,value:r}=e,{valuesExpression:i}=t;try{if(i)return r;const e=Qr(Xr(t,n)).map((e=>e.value));return r.filter((t=>Ni(t,e)))}catch(e){return[]}}function $i(e){return zi.test(e)?e:""}function Yi(e){const t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;","{":"&#123;","}":"&#125;",":":"&#58;",";":"&#59;"};return e.replace(/[&<>"'{};:]/g,(e=>t[e]))}function Hi(e){const{field:t,options:n,loadState:r,onChange:i,value:o}=e;(0,Y.vJ)((()=>{if(r!==si.LOADED)return;const e=n.map((e=>e.value));o&&!Ni(o,e)&&i({field:t,value:null})}),[t,n,i,o,r])}function Bi(e){const{field:t,options:n,loadState:r,onChange:i,values:o}=e,s=oi(o||[]);(0,Y.vJ)((()=>{if(r!==si.LOADED)return;const e=n.map((e=>e.value)),o=s.some((t=>!Ni(t,e)));o&&i({field:t,value:s.filter((t=>Ni(t,e)))})}),[t,n,i,s,r])}const Vi="button";function Ui(e){const{disabled:t,onFocus:n,onBlur:r,field:i}=e,{action:o="submit"}=i,s=xi(i.label||"",{debug:!0});return(0,$.Y)("div",{class:$r(Vi),children:(0,$.Y)("button",{class:"fjs-button",type:o,disabled:t,onFocus:()=>n&&n(),onBlur:()=>r&&r(),children:s})})}function qi(e){const{description:t,id:n}=e,r=xi(t||"",{debug:!0});return r?(0,$.Y)("div",{id:n,class:"fjs-form-field-description",children:r}):null}function Ki(e){const{errors:t,id:n}=e;return t.length?(0,$.Y)("div",{class:"fjs-form-field-error","aria-live":"polite",id:n,children:(0,$.Y)("ul",{children:t.map(((e,t)=>(0,$.Y)("li",{children:e},t)))})}):null}function Ji(e){const{id:t,htmlFor:n,label:r,collapseOnEmpty:i=!0,required:o=!1}=e,s=xi(r||"",{debug:!0});return(0,$.FD)("label",{id:t,htmlFor:n,class:P()("fjs-form-field-label",{"fjs-incollapsible-label":!i},e.class),children:[e.children,s,o&&(0,$.Y)("span",{class:"fjs-asterix","aria-hidden":!0,children:"*"})]})}Ui.config={type:Vi,keyed:!1,name:"Button",group:"action",create:(e={})=>({label:"Button",action:"submit",...e})};const Zi="checkbox";function Wi(e){const{disabled:t,errors:n=[],domId:r,onBlur:i,onFocus:o,field:s,readonly:a,value:l=!1}=e,{description:c,label:u,validate:d={}}=s,{required:h}=d,p=`${r}-description`,f=`${r}-error-message`;return(0,$.FD)("div",{class:P()($r(Zi,{errors:n,disabled:t,readonly:a}),{"fjs-checked":l}),children:[(0,$.FD)("div",{class:"fjs-inline-label",children:[(0,$.Y)("input",{checked:l,class:"fjs-input",disabled:t,readOnly:a,id:r,type:"checkbox",onChange:({target:t})=>{e.onChange({value:t.checked})},onBlur:()=>i&&i(),onFocus:()=>o&&o(),required:h,"aria-invalid":n.length>0,"aria-describedby":[p,f].join(" ")}),(0,$.Y)(Ji,{htmlFor:r,label:u,required:h})]}),(0,$.Y)(qi,{id:p,description:c}),(0,$.Y)(Ki,{id:f,errors:n})]})}Wi.config={type:Zi,keyed:!0,name:"Checkbox",group:"selection",emptyValue:!1,sanitizeValue:({value:e})=>!0===e,create:(e={})=>({label:"Checkbox",...e})};const Gi="checklist";function Xi(e){const{disabled:t,errors:n=[],domId:r,onBlur:i,onFocus:o,field:s,readonly:a,value:l=[]}=e,{description:c,label:u,validate:d={}}=s,h=(0,Y.li)(),{required:p}=d,f=e=>{h.current.contains(e.relatedTarget)||i&&i()},m=e=>{h.current.contains(e.relatedTarget)||o&&o()},{loadState:g,options:v}=ai(s);Bi({field:s,loadState:g,options:v,values:l,onChange:e.onChange});const b=`${r}-description`,y=`${r}-error-message`;return(0,$.FD)("div",{class:P()($r(Gi,{errors:n,disabled:t,readonly:a})),ref:h,children:[(0,$.Y)(Ji,{label:u,required:p}),g==si.LOADED&&v.map(((i,o)=>{const s=`${r}-${o}`,c=Ni(i.value,l);return(0,$.FD)("div",{className:P()("fjs-inline-label",{"fjs-checked":c}),children:[(0,$.Y)("input",{checked:c,class:"fjs-input",disabled:t,readOnly:a,id:s,type:"checkbox",onClick:()=>(t=>{const n=Ni(t,l)?l.filter((e=>!V()(e,t))):[...l,t];e.onChange({value:n})})(i.value),onBlur:f,onFocus:m,required:p,"aria-invalid":n.length>0,"aria-describedby":[b,y].join(" ")}),(0,$.Y)(Ji,{htmlFor:s,label:i.label,required:!1})]},i.value)})),(0,$.Y)(qi,{id:b,description:c}),(0,$.Y)(Ki,{id:y,errors:n})]})}Xi.config={type:Gi,keyed:!0,name:"Checkbox group",group:"selection",emptyValue:[],sanitizeValue:Pi,create:(e={})=>({label:"Checkbox group",...ei(e)})};const Qi=()=>!1,eo=new r.A([32,36,1]);function to(e){const t=(0,Y.li)(eo.next()),{field:n,indexes:r,onChange:i}=e,o=qr("formFields"),s=qr("viewerCommands",!1),a=qr("formFieldInstanceRegistry",!1),l=qr("pathRegistry"),c=qr("eventBus"),u=qr("form"),{initialData:d,data:h,errors:p,properties:f}=u._getState(),{Element:m,Hidden:g,Column:v}=(0,Y.NT)(Br),{formId:b}=(0,Y.NT)(Ur),[y,w]=(0,Y.J0)(!!s),_=o.get(n.type);if(!_)throw new Error(`cannot render field <${n.type}>`);const x=_.config,k=(0,Y.NT)(Vr),A=(0,Y.Kr)((()=>l.getValuePath(n,{indexes:r})),[n,r,l]),T=(0,Y.Kr)((()=>E(d,A)),[d,A]),R=function(e,t={}){const n=qr("expressionLanguage"),r=qr("conditionChecker",!1),i=(0,Y.NT)(Vr),{readonly:o}=e;return!!t.readOnly||(n&&n.isExpression(o)?!!r&&r.check(o,Wr(i)):o||!1)}(n,f),S=E(h,A),j=!f.readOnly&&(f.disabled||n.disabled||!1),O=function(e){const t=qr("conditionChecker",!1),n=(0,Y.NT)(Vr);return(0,Y.Kr)((()=>t?t.check(e,Wr(n)):null),[t,e,n])}(n.conditional&&n.conditional.hide||null),F=(0,Y.Kr)((()=>a?a.syncInstance(t.current,{id:n.id,expressionContextInfo:k,valuePath:A,value:S,indexes:r,hidden:O}):null),[a,n.id,k,A,S,r,O]),C=F?a.get(F):null;(0,Y.vJ)((()=>{const e=t.current;if(a)return()=>a.cleanupInstance(e)}),[a]),(0,Y.vJ)((()=>{if(!s)return;const e=()=>{w(!0)};return c.on("import.done",e),c.on("reset",e),()=>{c.off("import.done",e),c.off("reset",e)}}),[c,s]),(0,Y.vJ)((()=>{const e=T&&!V()(T,[]);y&&e&&C&&(w(!1),s.updateFieldInstanceValidation(C,T))}),[C,y,T,s]);const D=(0,Y.hb)((()=>{const e=E(h,A);y&&(w(!1),s.updateFieldInstanceValidation(C,e)),c.fire("formField.blur",{formField:n})}),[h,c,n,C,y,A,s]),I=(0,Y.hb)((()=>{c.fire("formField.focus",{formField:n})}),[c,n]),z=(0,Y.hb)((e=>{w(!1),i({field:n,indexes:r,fieldInstance:C,...e})}),[i,n,C,r]);if(O)return(0,$.Y)(g,{field:n});const M=`${Hr(n.id,b,r)}`,N=E(p,[n.id,...Object.values(r||{})])||[],L=(0,$.Y)(_,{...e,disabled:j,errors:N,domId:M,onChange:j||R?Qi:z,onBlur:j||R?Qi:D,onFocus:j||R?Qi:I,readonly:R,value:S,fieldInstance:C});return x.escapeGridRender?L:(0,$.Y)(v,{field:n,class:Yr(n),children:(0,$.Y)(m,{class:"fjs-element",field:n,children:L})})}function no(e){const{Children:t}=(0,Y.NT)(Br),{field:n,Empty:r}=e,{id:i}=n,o=qr("repeatRenderManager",!1),s=o&&o.isFieldRepeating(i),a=o.Repeater,l=o.RepeatFooter;return s?(0,$.Y)(io,{...e,ChildrenRoot:t,Empty:r,Repeater:a,RepeatFooter:l,repeatRenderManager:o}):(0,$.Y)(ro,{...e,ChildrenRoot:t,Empty:r})}function ro(e){const{ChildrenRoot:t,Empty:n,field:r}=e,{components:i=[]}=r,o=!i.length;return(0,$.FD)(t,{class:"fjs-vertical-layout fjs-children cds--grid cds--grid--condensed",field:r,children:[(0,$.Y)(oo,{...e}),o?(0,$.Y)(n,{field:r}):null]})}function io(e){const{ChildrenRoot:t,repeatRenderManager:n,Empty:r,field:i,...o}=e,{components:s=[]}=i,a=(0,Y.J0)({isCollapsed:!0}),l=n.Repeater,c=n.RepeatFooter;return(0,$.FD)($.FK,{children:[(0,$.FD)(t,{class:"fjs-vertical-layout fjs-children cds--grid cds--grid--condensed",field:i,children:[l?(0,$.Y)(l,{...o,useSharedState:a,field:i,RowsRenderer:oo}):(0,$.Y)(oo,{...o,field:i}),s.length?null:(0,$.Y)(r,{field:i})]}),c?(0,$.Y)(c,{...o,useSharedState:a,field:i}):null]})}function oo(e){const{field:t,indexes:n}=e,{id:r,verticalAlignment:i="start"}=t,o=qr("formLayouter"),s=qr("formFieldRegistry"),a=o.getRows(r),{Row:l}=(0,Y.NT)(Br);return(0,$.FD)($.FK,{children:[" ",a.map((t=>{const{components:r=[]}=t;return r.length?(0,$.Y)(l,{row:t,class:"fjs-layout-row cds--row",style:{alignItems:i},children:r.map((t=>{const r=s.get(t);return r?(0,H.createElement)(to,{...e,key:t,field:r,indexes:n}):null}))},t.id):null}))," "]})}function so(e){const{Empty:t}=(0,Y.NT)(Br),n={...e,Empty:t};return(0,$.Y)(no,{...n})}var ao;function lo(){return lo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lo.apply(null,arguments)}so.config={type:"default",keyed:!1,label:null,group:null,create:(e={})=>({components:[],...e}),getSubheading:e=>e.id};var co,uo,ho=function(e){return K.n("svg",lo({xmlns:"http://www.w3.org/2000/svg",width:14,height:15,fill:"none",viewBox:"0 0 28 30"},e),ao||(ao=K.n("path",{fill:"currentColor",fillRule:"evenodd",d:"M19 2H9V0H7v2H2a2 2 0 0 0-2 2v24a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2h-5V0h-2zM7 7V4H2v5h24V4h-5v3h-2V4H9v3zm-5 4v17h24V11z",clipRule:"evenodd"})))};function po(e="default"){return new Intl.DateTimeFormat(e).formatToParts(new Date(Date.UTC(2020,5,5))).map((e=>{const t=e.value.length;switch(e.type){case"day":return"d".repeat(t);case"month":return"M".repeat(t);case"year":return"y".repeat(t);default:return e.value}})).join("")}function fo(e){let t=po(e).toLowerCase();return t.includes("mm")||(t=t.replace("m","mm")),t.includes("dd")||(t=t.replace("d","dd")),t}function mo(e){const{pre:t,post:n,rootRef:r,inputRef:i,children:o,disabled:s,readonly:a,hasErrors:l}=e,c=()=>i&&i.current&&i.current.focus();return(0,$.FD)("div",{class:P()("fjs-input-group",{"fjs-disabled":s,"fjs-readonly":a},{hasErrors:l}),ref:r,children:[t&&(0,$.FD)("span",{class:"fjs-input-adornment border-right border-radius-left",onClick:c,children:[" ",p(t)?(0,$.Y)("span",{class:"fjs-input-adornment-text",children:t}):t," "]}),o,n&&(0,$.FD)("span",{class:"fjs-input-adornment border-left border-radius-right",onClick:c,children:[" ",p(n)?(0,$.Y)("span",{class:"fjs-input-adornment-text",children:n}):n," "]})]})}function go(e){const{label:t,domId:n,collapseLabelOnEmpty:r,onDateTimeBlur:i,onDateTimeFocus:o,required:s,disabled:a,disallowPassedDates:l,date:c,readonly:u,setDate:d}=e,h=(0,Y.li)(),p=(0,Y.li)(),[f,m]=(0,Y.J0)(null),[g,v]=(0,Y.J0)(!1),[b,y]=(0,Y.J0)(!1),w=oi(c);(0,Y.vJ)((()=>{f&&f.config&&(f.setDate(w,!0),v(!1))}),[f,w]),(0,Y.vJ)((()=>{b&&(Ei(f),y(!1))}),[f,b]),(0,Y.vJ)((()=>{let e={allowInput:!0,dateFormat:function(e){const t=e.includes("dd"),n=e.includes("MM"),r=e.includes("yyyy");return e=t?e.replace("dd","d"):e.replace("d","j"),e=n?e.replace("MM","m"):e.replace("M","n"),r?e.replace("yyyy","Y"):e.replace("yy","y")}(po(undefined)),static:!0,clickOpens:!1,minDate:l?"today":"01/01/1900",errorHandler:()=>{}};const t=(0,q.A)(h.current,e);m(t);const n=e=>{t.calendarContainer.contains(e.relatedTarget)||e.relatedTarget==h.current||t.close()},r=e=>{e.target.classList.contains("flatpickr-day")&&v(!1)};t.config.onOpen=[()=>t.calendarContainer.addEventListener("focusout",n),()=>t.calendarContainer.addEventListener("mousedown",r)],t.config.onClose=[()=>t.calendarContainer.removeEventListener("focusout",n),()=>t.calendarContainer.removeEventListener("mousedown",r)]}),[l]),(0,Y.vJ)((()=>{f&&f.config&&(f.config.onChange=[e=>d(new Date(e)),()=>v(!1)])}),[f,d]);const _=(0,Y.hb)((e=>{f&&("Escape"===e.code&&f.close(),"ArrowDown"===e.code&&(g?(h.current.dispatchEvent(ki),v(!1),y(!0)):Ei(f),e.preventDefault()),"Enter"===e.code&&v(!1))}),[f,g]),x=(0,Y.hb)((e=>{!f||p.current.contains(e.relatedTarget)||u||(f.open(),o(e))}),[f,u,o]),k=(0,Y.hb)((e=>{e.relatedTarget&&e.relatedTarget.classList.contains("flatpickr-day")||(g&&(h.current.dispatchEvent(ki),v(!1)),i(e))}),[g,i]);return(0,$.FD)("div",{class:"fjs-datetime-subsection",children:[(0,$.Y)(Ji,{htmlFor:n,label:t,collapseOnEmpty:r,required:s}),(0,$.Y)(mo,{pre:(0,$.Y)(ho,{}),disabled:a,readonly:u,rootRef:p,inputRef:h,children:(0,$.Y)("div",{class:"fjs-datepicker",style:{width:"100%"},children:(0,$.Y)("input",{ref:h,type:"text",id:n,class:"fjs-input",disabled:a,readOnly:u,placeholder:fo(),autoComplete:"off",onFocus:x,onBlur:k,onKeyDown:_,onMouseDown:()=>!f.isOpen&&!u&&f.open(),onInput:()=>v(!0),"data-input":!0,"aria-describedby":e["aria-describedby"]})})})]})}function vo(){return vo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vo.apply(null,arguments)}var bo=function(e){return K.n("svg",vo({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 28 29"},e),co||(co=K.n("path",{fill:"currentColor",d:"M13 14.41 18.59 20 20 18.59l-5-5.01V5h-2z"})),uo||(uo=K.n("path",{fill:"currentColor",fillRule:"evenodd",d:"M6.222 25.64A14 14 0 1 0 21.778 2.36 14 14 0 0 0 6.222 25.64M7.333 4.023a12 12 0 1 1 13.334 19.955A12 12 0 0 1 7.333 4.022Z",clipRule:"evenodd"})))};const yo=e=>e,wo=()=>{};function _o(e){const{listenerElement:t=window,values:n=[],getLabel:r=yo,onValueSelected:i=wo,height:o=235,emptyListMessage:s="No results",initialFocusIndex:a=0}=e,[l,c]=(0,Y.J0)(!1),[u,d]=(0,Y.J0)(a),[h,p]=(0,Y.J0)(!1),f=(0,Y.li)(),m=(0,Y.li)(),g=(0,Y.Kr)((()=>n.length?n[u]:null),[u,n]),v=(0,Y.hb)((e=>{d((t=>Math.min(Math.max(0,t+e),n.length-1)))}),[n.length]);return(0,Y.vJ)((()=>{0!==u&&(u&&n.length?u>=n.length&&d(n.length-1):d(0))}),[u,n.length]),bi("ArrowUp",(()=>{n.length&&(v(-1),c(!1))}),t),bi("ArrowDown",(()=>{n.length&&(v(1),c(!1))}),t),bi("Enter",(()=>{g&&i(g)}),t),(0,Y.vJ)((()=>{const e=f.current.children;if(e.length&&!l){const t=e[u];t&&t.scrollIntoView({block:"nearest",inline:"nearest"})}}),[u,l]),(0,Y.vJ)((()=>{p(!0)}),[]),(0,$.FD)("div",{ref:f,tabIndex:-1,class:"fjs-dropdownlist",onMouseDown:e=>e.preventDefault(),style:{maxHeight:o,scrollBehavior:h?"smooth":"auto"},children:[n.length>0&&n.map(((e,t)=>(0,$.Y)("div",{class:P()("fjs-dropdownlist-item",{focused:u===t}),onMouseMove:l?void 0:e=>{return n=e,r=t,void((!m.current||m.current.x!==n.screenX&&m.current.y!==n.screenY)&&(m.current={x:n.screenX,y:n.screenY},c(!0),d(r)));var n,r},onMouseEnter:l?()=>d(t):void 0,onMouseDown:t=>i(e),children:r(e)},e.value))),!n.length&&(0,$.Y)("div",{class:"fjs-dropdownlist-empty",children:s})]})}function xo(e){const{label:t,collapseLabelOnEmpty:n,onDateTimeBlur:r,onDateTimeFocus:i,domId:o,required:s,disabled:a,readonly:l,use24h:c=!1,timeInterval:u,time:h,setTime:p}=e,f=(0,Y.Kr)((()=>[1,5,10,15,30,60].includes(u)?u:15),[u]),m=(0,Y.li)(),[g,v]=(0,Y.J0)(!1),b=(0,Y.Kr)((()=>1!==f),[f]),[y,w]=(0,Y.J0)("");(0,Y.vJ)((()=>{if(null===h)return void w("");const e=h-h%f;w(Ai(c,e)),e!=h&&p(e)}),[h,p,c,f]);const _=(0,Y.hb)((e=>{const t=e||y;if(!t)return void p(null);const n=Ti(t);if(!d(n))return w(""),void p(null);const r=n-n%f;w(Ai(c,r)),p(r)}),[y,f,c,p]),x=(0,Y.Kr)((()=>{const e=Math.floor(1440/f);return[...Array(e).keys()].map((e=>Ai(c,e*f)))}),[f,c]),k=(0,Y.Kr)((()=>{if(!x||!f)return null;if(h)return h/f;const e=Ti(y);return e?(e-e%f)/f:Math.floor(x.length/2)}),[y,h,f,x]);return(0,$.FD)("div",{class:"fjs-datetime-subsection",children:[(0,$.Y)(Ji,{htmlFor:o,label:t,collapseOnEmpty:n,required:s}),(0,$.Y)(mo,{pre:(0,$.Y)(bo,{}),inputRef:m,disabled:a,readonly:l,children:(0,$.FD)("div",{class:"fjs-timepicker fjs-timepicker-anchor",children:[(0,$.Y)("input",{ref:m,type:"text",id:o,class:"fjs-input",value:y,disabled:a,readOnly:l,placeholder:c?"hh:mm":"hh:mm --",autoComplete:"off",onInput:e=>{w(e.target.value),b&&v(!1)},onBlur:e=>{v(!1),_(),r(e)},onFocus:e=>{i(e),!l&&b&&v(!0)},onClick:()=>!l&&b&&v(!0),onKeyDown:e=>{switch(e.key){case"ArrowUp":e.preventDefault();break;case"ArrowDown":b&&v(!0),e.preventDefault();break;case"Escape":b&&v(!1);break;case"Enter":!g&&_()}},"data-input":!0,"aria-describedby":e["aria-describedby"]}),g&&(0,$.Y)(_o,{values:x,height:150,onValueSelected:e=>{v(!1),_(e)},listenerElement:m.current,initialFocusIndex:k})]})})]})}const ko="datetime";function Eo(e){const{disabled:t,errors:n=[],domId:r,onBlur:i,onFocus:o,field:s,onChange:a,readonly:l,value:c=""}=e,{description:u,id:d,dateLabel:h,timeLabel:p,validate:f={},subtype:m,use24h:g,disallowPassedDates:v,timeInterval:b,timeSerializingFormat:y}=s,{required:w}=f,{formId:_}=(0,Y.NT)(Ur),x=(0,Y.li)(),[k,E]=(0,Y.J0)(Fi()),[A,T]=(0,Y.J0)(null),R=(0,Y.Kr)((()=>m===vr.DATE||m===vr.DATETIME),[m]),S=(0,Y.Kr)((()=>m===vr.TIME||m===vr.DATETIME),[m]),j=(0,Y.hb)((e=>{e.relatedTarget&&x.current.contains(e.relatedTarget)||i&&i()}),[i]),O=(0,Y.hb)((e=>{e.relatedTarget&&x.current.contains(e.relatedTarget)||o&&o()}),[o]);(0,Y.vJ)((()=>{let{date:e,time:t}=Fi();switch(m){case vr.DATE:e="string"==typeof c?U.c9.fromISO(c).toJSDate():new Date(NaN);break;case vr.TIME:t=Si(c);break;case vr.DATETIME:e=new Date(Date.parse(c)),t=Ci(e)?60*e.getHours()+e.getMinutes():null}E({date:e,time:t})}),[m,c]);const F=(0,Y.hb)((({date:e,time:t})=>{let n=null;m===vr.DATE&&Ci(e)?n=ji(e):m===vr.TIME&&Di(t)?n=Ri(t,(new Date).getTimezoneOffset(),y):m===vr.DATETIME&&Ci(e)&&Di(t)&&(n=function(e,t,n){const r=new Date;if(r.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),r.setHours(Math.floor(t/60),t%60,0,0),n===br.UTC_NORMALIZED){const e=r.getTimezoneOffset(),n=t+e<0?-1:t+e>gr?1:0;r.setHours(r.getHours()+24*n)}return ji(r)+"T"+Ri(t,r.getTimezoneOffset(),n)}(e,t,y)),c!==n&&a({value:n,field:s})}),[c,s,a,m,y]);(0,Y.vJ)((()=>{if(A){if(A.refreshOnly)F(k);else{const e={...k,...A};E(e),F(e)}T(null)}}),[F,k,A]),(0,Y.vJ)((()=>{T({refreshOnly:!0})}),[y]);const C=(0,Y.Kr)((()=>w||m!==vr.DATETIME?n:Ci(k.date)&&!Di(k.time)||!Ci(k.date)&&Di(k.time)?["Date and time must both be entered.",...n]:n),[w,m,k,n]),D=(0,Y.hb)((e=>{T((t=>t?{...t,date:e}:{date:e}))}),[]),I=(0,Y.hb)((e=>{T((t=>t?{...t,time:e}:{time:e}))}),[]),z=0===C.length?void 0:`${Hr(d,_)}-error-message`,M=`${Hr(d,_)}-description`,N={label:h,collapseLabelOnEmpty:!p,onDateTimeBlur:j,onDateTimeFocus:O,domId:`${r}-date`,required:w,disabled:t,disallowPassedDates:v,date:k.date,readonly:l,setDate:D,"aria-describedby":[M,z].join(" ")},L={label:p,collapseLabelOnEmpty:!h,onDateTimeBlur:j,onDateTimeFocus:O,domId:`${r}-time`,required:w,disabled:t,readonly:l,use24h:g,timeInterval:b,time:k.time,setTime:I,"aria-describedby":[M,z].join(" ")};return(0,$.FD)("div",{class:$r(ko,{errors:C,disabled:t,readonly:l}),children:[(0,$.FD)("div",{class:P()("fjs-vertical-group"),ref:x,children:[R&&(0,$.Y)(go,{...N}),S&&R&&(0,$.Y)("div",{class:"fjs-datetime-separator"}),S&&(0,$.Y)(xo,{...L})]}),(0,$.Y)(qi,{id:M,description:u}),(0,$.Y)(Ki,{errors:C,id:z})]})}function Ao(e){const{field:t,domId:n}=e,{label:r,type:i,showOutline:o}=t,{Empty:s}=(0,Y.NT)(Br),a={...e,Empty:s};return(0,$.FD)("div",{className:P()($r(i),"fjs-form-field-grouplike",{"fjs-outlined":o}),role:"group","aria-labelledby":n,children:[(0,$.Y)(Ji,{id:n,label:r}),(0,$.Y)(no,{...a})]})}Eo.config={type:ko,keyed:!0,name:"Date time",group:"basic-input",emptyValue:null,sanitizeValue:function(e){const{formField:t,value:n}=e,{subtype:r}=t;return"string"!=typeof n?null:r!==vr.DATE||!Oi(n)&&function(e){return!(!e||"string"!=typeof e||e.includes("T")||3!=e.split("-").length)}(n)?r===vr.TIME&&null===Si(n)?null:r!==vr.DATETIME||!Oi(n)&&function(e){if(!e||"string"!=typeof e)return!1;const t=e.split("T");return 2==t.length&&3==t[0].split("-").length}(n)?n:null:null},create:(e={},t)=>{const n={};return k(n,_r,vr.DATE),t&&k(n,xr,"Date"),{...n,...e}},getSubheading:e=>e.dateLabel||e.timeLabel},Ao.config={type:"group",pathed:!0,name:"Group",group:"container",create:(e={})=>({label:"Group",components:[],showOutline:!0,...e})};const To="iframe",Ro=300;function So(e){const{field:t,disabled:n,readonly:r,domId:i}=e,{height:o=Ro,label:s,url:a,security:l={}}=t,c=xi(a,{debug:!0}),u=(0,Y.Kr)((()=>{return e=c,Mi.test(e)?e:"";var e}),[c]),d=xi(s,{debug:!0}),[h,p]=function(e){const t=oi(e);return[(0,Y.Kr)((()=>Mr.filter((({attribute:e})=>e===Ir)).filter((({property:e})=>E(t,[e],!1))).map((({directive:e})=>e)).join(" ")),[t]),(0,Y.Kr)((()=>Mr.filter((({attribute:e})=>e!==Ir)).filter((({property:e})=>E(t,[e],!1))).map((({directive:e})=>e)).join("; ")),[t])]}(l),[f,m]=(0,Y.J0)(0);return(0,Y.vJ)((()=>{m((e=>e+1))}),[h,p]),(0,$.FD)("div",{class:$r(To,{disabled:n,readonly:r}),children:[(0,$.Y)(Ji,{htmlFor:i,label:d}),!c&&(0,$.Y)(jo,{text:"No content to show."}),c&&u&&(0,$.Y)("iframe",{src:u,title:d,height:o,class:"fjs-iframe",id:i,sandbox:h,allow:p},"iframe-"+f),c&&!u&&(0,$.Y)(jo,{text:"External content couldn't be loaded."})]})}function jo(e){const{text:t="iFrame"}=e;return(0,$.Y)("div",{class:"fjs-iframe-placeholder",children:(0,$.Y)("p",{class:"fjs-iframe-placeholder-text",children:t})})}var Oo;function Fo(){return Fo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fo.apply(null,arguments)}So.config={type:To,keyed:!1,name:"iFrame",group:"container",create:(e={})=>({label:"iFrame",security:{allowScripts:!0},...e})};var Co,Do=function(e){return K.n("svg",Fo({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"currentcolor"},e),Oo||(Oo=K.n("path",{fillRule:"evenodd",d:"M45 17a3 3 0 0 1 3 3v14a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V20a3 3 0 0 1 3-3zm-9 8.889H18v2.222h18z"})))};function Io(){return Io=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Io.apply(null,arguments)}var zo,Mo=function(e){return K.n("svg",Io({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"currentcolor"},e),Co||(Co=K.n("path",{d:"M34 18H20a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V20a2 2 0 0 0-2-2m-9 14-5-5 1.41-1.41L25 29.17l7.59-7.59L34 23z"})))};function No(){return No=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},No.apply(null,arguments)}var Lo,Po,$o,Yo=function(e){return K.n("svg",No({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"none"},e),zo||(zo=K.n("path",{fill:"currentColor",fillRule:"evenodd",d:"M14.35 24.75H19v4.65h-4.65zm-1.414-1.414a2 2 0 0 1 1.414-.586H19a2 2 0 0 1 2 2v4.65a2 2 0 0 1-2 2h-4.65a2 2 0 0 1-2-2v-4.65a2 2 0 0 1 .586-1.414M14.35 37.05H19v4.65h-4.65zm-1.414-1.414a2 2 0 0 1 1.414-.586H19a2 2 0 0 1 2 2v4.65a2 2 0 0 1-2 2h-4.65a2 2 0 0 1-2-2v-4.65a2 2 0 0 1 .586-1.414M14.35 12.45H19v4.65h-4.65zm-1.414-1.414a2 2 0 0 1 1.414-.586H19a2 2 0 0 1 2 2v4.65a2 2 0 0 1-2 2h-4.65a2 2 0 0 1-2-2v-4.65a2 2 0 0 1 .586-1.414m12.007 14.977a1 1 0 0 0-.293.707v.65a1 1 0 0 0 1 1h15a1 1 0 0 0 1-1v-.65a1 1 0 0 0-1-1h-15a1 1 0 0 0-.707.293m0 12.3a1 1 0 0 0-.293.707v.65a1 1 0 0 0 1 1h15a1 1 0 0 0 1-1v-.65a1 1 0 0 0-1-1h-15a1 1 0 0 0-.707.293m0-24.6a1 1 0 0 0-.293.707v.65a1 1 0 0 0 1 1h15a1 1 0 0 0 1-1v-.65a1 1 0 0 0-1-1h-15a1 1 0 0 0-.707.293",clipRule:"evenodd"})))};function Ho(){return Ho=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ho.apply(null,arguments)}var Bo,Vo,Uo=function(e){return K.n("svg",Ho({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"currentcolor"},e),Lo||(Lo=K.n("path",{fillRule:"evenodd",d:"M37.908 13.418h-5.004v-2.354h-1.766v2.354H21.13v-2.354h-1.766v2.354H14.36a2.07 2.07 0 0 0-2.06 2.06v23.549a2.07 2.07 0 0 0 2.06 2.06h6.77v-1.766h-6.358a.707.707 0 0 1-.706-.706V15.89c0-.39.316-.707.706-.707h4.592v2.355h1.766v-2.355h10.008v2.355h1.766v-2.355h4.592a.71.71 0 0 1 .707.707v6.358h1.765v-6.77c0-1.133-.927-2.06-2.06-2.06"})),Po||(Po=K.n("path",{d:"m35.13 37.603 1.237-1.237-3.468-3.475v-5.926h-1.754v6.654l3.984 3.984Z"})),$o||($o=K.n("path",{fillRule:"evenodd",d:"M23.08 36.962a9.678 9.678 0 1 0 17.883-7.408 9.678 9.678 0 0 0-17.882 7.408Zm4.54-10.292a7.924 7.924 0 1 1 8.805 13.177A7.924 7.924 0 0 1 27.62 26.67"})))};function qo(){return qo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qo.apply(null,arguments)}var Ko,Jo,Zo,Wo=function(e){return K.n("svg",qo({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"currentcolor"},e),Bo||(Bo=K.n("path",{fillRule:"evenodd",d:"M45 16a3 3 0 0 1 3 3v16a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V19a3 3 0 0 1 3-3zm0 2H9a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h36a1 1 0 0 0 1-1V19a1 1 0 0 0-1-1"})),Vo||(Vo=K.n("path",{d:"M11 22a1 1 0 0 1 1-1h19a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H12a1 1 0 0 1-1-1z"})))};function Go(){return Go=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Go.apply(null,arguments)}var Xo,Qo=function(e){return K.n("svg",Go({xmlns:"http://www.w3.org/2000/svg",width:54,height:54},e),Ko||(Ko=K.n("rect",{width:24,height:4,x:15,y:17,rx:1})),Jo||(Jo=K.n("rect",{width:24,height:4,x:15,y:25,rx:1})),Zo||(Zo=K.n("rect",{width:13,height:4,x:15,y:33,rx:1})))};function es(){return es=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},es.apply(null,arguments)}var ts,ns=function(e){return K.n("svg",es({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"none"},e),Xo||(Xo=K.n("path",{fill:"#000",fillRule:"evenodd",d:"M4.05 42.132v1.164c0 .693.604 1.254 1.35 1.254h1.35v-2.507h-2.7v.09Zm0-2.328h2.7v-2.328h-2.7zm0-4.656h2.7V32.82h-2.7zm0-4.656h2.7v-2.328h-2.7zm0-4.656h2.7v-2.328h-2.7zm0-4.656h2.7v-2.328h-2.7zm0-4.656h2.7v-2.328h-2.7zm0-4.656v.09h2.7V9.45H5.4c-.746 0-1.35.561-1.35 1.254zm5.4-2.418v2.507h2.7V9.45zm5.4 0v2.507h2.7V9.45zm5.4 0v2.507h2.7V9.45zm5.4 0v2.507h2.7V9.45zm5.4 0v2.507h2.7V9.45zm5.4 0v2.507h2.7V9.45zm5.4 0v2.507h2.7V9.45zm5.4 0v2.507h2.7v-1.253c0-.693-.604-1.254-1.35-1.254zm2.7 4.746h-2.7v2.328h2.7zm0 4.656h-2.7v2.328h2.7zm0 4.656h-2.7v2.328h2.7zm0 4.656h-2.7v2.328h2.7zm0 4.656h-2.7v2.328h2.7zm0 4.656h-2.7v2.328h2.7zm0 4.656v-.09h-2.7v2.508h1.35c.746 0 1.35-.561 1.35-1.254zm-5.4 2.418v-2.507h-2.7v2.507zm-5.4 0v-2.507h-2.7v2.507zm-5.4 0v-2.507h-2.7v2.507zm-5.4 0v-2.507h-2.7v2.507zm-5.4 0v-2.507h-2.7v2.507zm-5.4 0v-2.507h-2.7v2.507zm-5.4 0v-2.507h-2.7v2.507z",clipRule:"evenodd"})))};function rs(){return rs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rs.apply(null,arguments)}var is,os=function(e){return K.n("svg",rs({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"currentcolor"},e),ts||(ts=K.n("path",{fillRule:"evenodd",d:"M45 16a3 3 0 0 1 3 3v16a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V19a3 3 0 0 1 3-3zm0 2H9a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h36a1 1 0 0 0 1-1V19a1 1 0 0 0-1-1M35 28.444h7l-3.5 4zM35 26h7l-3.5-4z"})))};function ss(){return ss=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ss.apply(null,arguments)}var as,ls=function(e){return K.n("svg",ss({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"currentcolor"},e),is||(is=K.n("path",{d:"M27 22c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5m0-5c-5.52 0-10 4.48-10 10s4.48 10 10 10 10-4.48 10-10-4.48-10-10-10m0 18a8 8 0 1 1 0-16 8 8 0 1 1 0 16"})))};function cs(){return cs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cs.apply(null,arguments)}var us,ds=function(e){return K.n("svg",cs({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"currentcolor"},e),as||(as=K.n("path",{fillRule:"evenodd",d:"M45 16a3 3 0 0 1 3 3v16a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V19a3 3 0 0 1 3-3zm0 2H9a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h36a1 1 0 0 0 1-1V19a1 1 0 0 0-1-1m-12 7h9l-4.5 6z"})))};function hs(){return hs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hs.apply(null,arguments)}var ps,fs=function(e){return K.n("svg",hs({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"none"},e),us||(us=K.n("path",{fill:"currentColor",d:"M26.293 16.293a1 1 0 0 1 1.414 0l4 4a1 1 0 0 1-1.414 1.414L27 18.414l-3.293 3.293a1 1 0 0 1-1.414-1.414zM9 26h36v2H9zm13.293 7.707 4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0-1.414-1.414L27 35.586l-3.293-3.293a1 1 0 0 0-1.414 1.414"})))};function ms(){return ms=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ms.apply(null,arguments)}var gs,vs=function(e){return K.n("svg",ms({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"none"},e),ps||(ps=K.n("path",{fill:"currentColor",d:"M9 15v2h36v-2zm0 22v2h36v-2zm17.293-17.707a1 1 0 0 1 1.414 0l4 4a1 1 0 0 1-1.414 1.414L27 21.414l-3.293 3.293a1 1 0 0 1-1.414-1.414zm-4 11.414 4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0-1.414-1.414L27 32.586l-3.293-3.293a1 1 0 0 0-1.414 1.414"})))};function bs(){return bs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bs.apply(null,arguments)}var ys,ws=function(e){return K.n("svg",bs({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"none"},e),gs||(gs=K.n("path",{fill:"currentColor",fillRule:"evenodd",d:"M2.7 43.296v1.254c0 .746.604 1.35 1.35 1.35h1.275v-1.795q.074.211.075.445v-1.254h-.075V43.2H4.05c.177 0 .347.034.502.096zm2.7-2.507v-2.507H2.7v2.507zm0-5.014v-2.507H2.7v2.507zm0-5.014v-2.507H2.7v2.507zm0-5.015V23.24H2.7v2.507h2.7Zm0-5.014v-2.507H2.7v2.507zm0-5.014V13.21H2.7v2.507zm-2.7-5.014h1.852a1.4 1.4 0 0 1-.502.096h1.275v-.096H5.4V9.45q0 .235-.075.445V8.1H4.05A1.35 1.35 0 0 0 2.7 9.45zm5.175.096h2.55V8.1h-2.55zm5.1 0h2.55V8.1h-2.55zm5.1 0h2.55V8.1h-2.55zm5.1 0h2.55V8.1h-2.55zm5.1 0h2.55V8.1h-2.55zm5.1 0h2.55V8.1h-2.55zm5.1 0h2.55V8.1h-2.55zm5.1 0h2.55V8.1h-2.55zm5.1-2.7v1.795a1.4 1.4 0 0 1-.075-.445v1.254h.075v.096h1.275a1.4 1.4 0 0 1-.502-.096H51.3V9.45a1.35 1.35 0 0 0-1.35-1.35zm-.075 5.11v2.508h2.7V13.21zm0 5.015v2.507h2.7v-2.507zm0 5.014v2.507h2.7V23.24zm0 5.015v2.507h2.7v-2.507zm0 5.014v2.507h2.7v-2.507zm0 5.014v2.507h2.7v-2.507zm2.7 5.014h-1.852a1.4 1.4 0 0 1 .502-.096h-1.275v.096H48.6v1.254q0-.235.075-.445V45.9h1.275a1.35 1.35 0 0 0 1.35-1.35zm-5.175-.096h-2.55v2.7h2.55zm-5.1 0h-2.55v2.7h2.55zm-5.1 0h-2.55v2.7h2.55zm-5.1 0h-2.55v2.7h2.55zm-5.1 0h-2.55v2.7h2.55zm-5.1 0h-2.55v2.7h2.55zm-5.1 0h-2.55v2.7h2.55zm-5.1 0h-2.55v2.7h2.55zM16.2 17.55a4.05 4.05 0 0 1 4.05 4.05v1.35A4.05 4.05 0 0 1 16.2 27h-1.35a4.05 4.05 0 0 1-4.05-4.05V21.6a4.05 4.05 0 0 1 4.05-4.05zm0 2.7h-1.35a1.35 1.35 0 0 0-1.35 1.35v1.35c0 .746.604 1.35 1.35 1.35h1.35a1.35 1.35 0 0 0 1.35-1.35V21.6a1.35 1.35 0 0 0-1.35-1.35m27 1.35a4.05 4.05 0 0 0-4.05-4.05H29.7a4.05 4.05 0 0 0-4.05 4.05v1.35A4.05 4.05 0 0 0 29.7 27h9.45a4.05 4.05 0 0 0 4.05-4.05zm-13.5-1.35h9.45c.746 0 1.35.604 1.35 1.35v1.35a1.35 1.35 0 0 1-1.35 1.35H29.7a1.35 1.35 0 0 1-1.35-1.35V21.6c0-.746.604-1.35 1.35-1.35M43.2 37.8a4.05 4.05 0 0 0-4.05-4.05H29.7a4.05 4.05 0 0 0-4.05 4.05v1.35h2.7V37.8c0-.746.604-1.35 1.35-1.35h9.45c.746 0 1.35.604 1.35 1.35v1.35h2.7zm-27-4.05a4.05 4.05 0 0 1 4.05 4.05v1.35h-2.7V37.8a1.35 1.35 0 0 0-1.35-1.35h-1.35a1.35 1.35 0 0 0-1.35 1.35v1.35h-2.7V37.8a4.05 4.05 0 0 1 4.05-4.05z",clipRule:"evenodd"})))};function _s(){return _s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_s.apply(null,arguments)}var xs,ks=function(e){return K.n("svg",_s({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"currentcolor"},e),ys||(ys=K.n("path",{d:"M20.58 33.77h-3l-1.18-3.08H11l-1.1 3.08H7l5.27-13.54h2.89zm-5-5.36-1.86-5-1.83 5zM22 20.23h5.41a15.5 15.5 0 0 1 2.4.14 3.4 3.4 0 0 1 1.41.55 3.5 3.5 0 0 1 1 1.14 3 3 0 0 1 .42 1.58 3.26 3.26 0 0 1-1.91 2.94 3.63 3.63 0 0 1 1.91 1.22 3.28 3.28 0 0 1 .66 2 4 4 0 0 1-.43 1.8 3.6 3.6 0 0 1-1.09 1.4 3.9 3.9 0 0 1-1.83.65q-.69.07-3.3.09H22zm2.73 2.25v3.13h3.8a1.8 1.8 0 0 0 1.1-.49 1.4 1.4 0 0 0 .41-1 1.5 1.5 0 0 0-.35-1 1.54 1.54 0 0 0-1-.48c-.27 0-1.05-.05-2.34-.05zm0 5.39v3.62h2.57a11.5 11.5 0 0 0 1.88-.09 1.65 1.65 0 0 0 1-.54 1.6 1.6 0 0 0 .38-1.14 1.75 1.75 0 0 0-.29-1 1.7 1.7 0 0 0-.86-.62 9.3 9.3 0 0 0-2.41-.23zm19.62.92 2.65.84a5.94 5.94 0 0 1-2 3.29A5.74 5.74 0 0 1 41.38 34a5.87 5.87 0 0 1-4.44-1.84 7.1 7.1 0 0 1-1.73-5A7.43 7.43 0 0 1 37 21.87 6 6 0 0 1 41.54 20a5.64 5.64 0 0 1 4 1.47A5.33 5.33 0 0 1 47 24l-2.7.65a2.8 2.8 0 0 0-2.86-2.27A3.09 3.09 0 0 0 39 23.42a5.3 5.3 0 0 0-.93 3.5 5.62 5.62 0 0 0 .93 3.65 3 3 0 0 0 2.4 1.09 2.72 2.72 0 0 0 1.82-.66 4 4 0 0 0 1.13-2.21"})))};function Es(){return Es=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Es.apply(null,arguments)}var As,Ts=function(e){return K.n("svg",Es({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"none"},e),xs||(xs=K.n("path",{fill:"currentColor",fillRule:"evenodd",d:"M47.008 12.15c1.625 0 2.942 1.36 2.942 3.039v23.622c0 1.678-1.317 3.039-2.942 3.039H6.992c-1.625 0-2.942-1.36-2.942-3.039V15.189c0-1.678 1.317-3.039 2.942-3.039zm0 2.026H6.992c-.542 0-.98.454-.98 1.013V16.2h-.004v2.7h.003v19.911c0 .56.44 1.013.98 1.013h40.017c.542 0 .98-.453.98-1.013V18.9h.005v-2.7h-.004v-1.011c0-.56-.44-1.013-.98-1.013M14.934 26.055v-3.78h2.194v9.45h-2.194v-3.78h-3.29v3.78H9.45v-9.45h2.194v3.78zm4.388-1.89h2.194v7.56h2.193v-7.56h2.194v-1.89h-6.581zm14.26-1.89h2.193v9.45h-2.194V25.11l-1.645 3.78-1.645-3.78v6.615h-2.194v-9.45h2.194l1.645 3.78zm4.387 0h2.194v7.56h4.387v1.89h-6.581z",clipRule:"evenodd"})))};function Rs(){return Rs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rs.apply(null,arguments)}var Ss,js=function(e){return K.n("svg",Rs({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"none"},e),As||(As=K.n("path",{fill:"currentcolor",fillRule:"evenodd",d:"M12.78 16.2v6.75c0 1.619-.635 3.059-1.618 4.05.983.991 1.618 2.431 1.618 4.05v6.75h3.51v2.7h-3.51c-1.289 0-2.34-1.213-2.34-2.7v-6.75c0-1.487-1.051-2.7-2.34-2.7v-2.7c1.289 0 2.34-1.213 2.34-2.7V16.2c0-1.487 1.051-2.7 2.34-2.7h3.51v2.7zm30.78 0v6.75c0 1.487 1.051 2.7 2.34 2.7v2.7c-1.289 0-2.34 1.213-2.34 2.7v6.75c0 1.487-1.051 2.7-2.34 2.7h-3.51v-2.7h3.51v-6.75c0-1.619.635-3.059 1.618-4.05-.983-.991-1.618-2.431-1.618-4.05V16.2h-3.51v-2.7h3.51c1.289 0 2.34 1.213 2.34 2.7M21.8 34.531q.7-.569.959-1.758l1.788-8.34h1.585l.387-1.828h-1.585l.405-1.878h1.585l.387-1.827H25.69q-1.271 0-1.972.569-.681.569-.94 1.758l-.294 1.378H21.34l-.387 1.827h1.142l-1.898 8.841h-1.585l-.387 1.827h1.622q1.272 0 1.953-.569m7.248-7.686-3.797 4.808h2.599l2.12-3.016h.22l.885 3.016h2.599l-1.677-4.36 3.778-4.688h-2.599l-2.12 2.947h-.22l-.885-2.947h-2.599z",clipRule:"evenodd"})))};function Os(){return Os=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Os.apply(null,arguments)}var Fs,Cs=function(e){return K.n("svg",Os({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"currentcolor"},e),Ss||(Ss=K.n("path",{fillRule:"evenodd",d:"M45 16a3 3 0 0 1 3 3v16a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V19a3 3 0 0 1 3-3zm0 2H9a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h36a1 1 0 0 0 1-1V19a1 1 0 0 0-1-1m-32 4v10h-2V22z"})))};function Ds(){return Ds=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ds.apply(null,arguments)}var Is,zs=function(e){return K.n("svg",Ds({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"currentcolor"},e),Fs||(Fs=K.n("path",{fillRule:"evenodd",d:"M45 13a3 3 0 0 1 3 3v22a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V16a3 3 0 0 1 3-3zm0 2H9a1 1 0 0 0-1 1v22a1 1 0 0 0 1 1h36a1 1 0 0 0 1-1V16a1 1 0 0 0-1-1m-1.136 15.5.849.849-6.364 6.364-.849-.849zm.264 3.5.849.849-2.828 2.828-.849-.849zM13 19v10h-2V19z"})))};function Ms(){return Ms=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ms.apply(null,arguments)}var Ns,Ls,Ps=function(e){return K.n("svg",Ms({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"none"},e),Is||(Is=K.n("path",{fill:"currentColor",fillRule:"evenodd",d:"M45.658 9.45c1.625 0 2.942 1.36 2.942 3.039V22.95h-1.961v-4.383H7.36V41.51c0 .56.44 1.013.98 1.013H27v2.026H8.342c-1.625 0-2.942-1.36-2.942-3.039V12.489c0-1.678 1.317-3.039 2.942-3.039zm0 2.026H8.342c-.542 0-.98.454-.98 1.013v4.052h39.277v-4.052c0-.56-.44-1.013-.98-1.013ZM31.05 35.775A8.77 8.77 0 0 1 39.825 27a8.77 8.77 0 0 1 8.775 8.775 8.77 8.77 0 0 1-8.775 8.775 8.77 8.77 0 0 1-8.775-8.775m12.388-.516h3.097c-.206-2.581-1.858-4.646-4.026-5.678.62 1.548.93 3.613.93 5.678Zm-5.162 2.065c.207 3.303 1.136 4.955 1.549 5.161.413-.206 1.239-1.858 1.445-5.161zm1.446-8.26c-.31.207-1.342 2.272-1.446 6.195h2.994c-.103-3.923-1.135-5.988-1.548-6.194Zm-3.51 6.195c.103-2.065.31-4.13.929-5.678-2.168 1.032-3.82 3.097-4.026 5.678zm0 2.065h-2.89c.515 2.064 1.96 3.82 3.819 4.645-.516-1.342-.826-2.994-.93-4.645Zm7.226 0q-.155 2.632-.929 4.645c1.858-.826 3.304-2.58 3.923-4.645z",clipRule:"evenodd"})))};function $s(){return $s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$s.apply(null,arguments)}var Ys,Hs=function(e){return K.n("svg",$s({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"currentcolor"},e),Ns||(Ns=K.n("path",{fillRule:"evenodd",d:"M34.636 21.91A3.818 3.818 0 1 1 27 21.908a3.818 3.818 0 0 1 7.636 0Zm-2 0A1.818 1.818 0 1 1 29 21.908a1.818 1.818 0 0 1 3.636 0Z",clipRule:"evenodd"})),Ls||(Ls=K.n("path",{fillRule:"evenodd",d:"M15 13a2 2 0 0 0-2 2v24a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V15a2 2 0 0 0-2-2zm24 2H15v12.45l4.71-4.709a1.91 1.91 0 0 1 2.702 0l6.695 6.695 2.656-1.77a1.91 1.91 0 0 1 2.411.239L39 32.73zM15 39v-8.754a1 1 0 0 0 .168-.135l5.893-5.893 6.684 6.685a1.91 1.91 0 0 0 2.41.238l2.657-1.77 6.02 6.02q.078.077.168.135V39z",clipRule:"evenodd"})))};function Bs(){return Bs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bs.apply(null,arguments)}var Vs,Us=function(e){return K.n("svg",Bs({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 54 54"},e),Ys||(Ys=K.n("path",{fill:"currentcolor",fillRule:"evenodd",d:"M42.545 12.273A2.455 2.455 0 0 1 45 14.727v24.546a2.455 2.455 0 0 1-2.455 2.454h-31.09A2.455 2.455 0 0 1 9 39.273V14.727a2.455 2.455 0 0 1 2.455-2.454zM27.818 40.09h14.727a.82.82 0 0 0 .819-.818v-4.91H27.818Zm-1.636-5.727v5.727H11.455a.82.82 0 0 1-.819-.818v-4.91zm1.636-1.637h15.546V27H27.818ZM26.182 27v5.727H10.636V27zm1.636-1.636h15.546v-5.728H27.818Zm-1.636-5.728v5.728H10.636v-5.728z",clipRule:"evenodd"})))};function qs(){return qs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qs.apply(null,arguments)}var Ks,Js=function(e){return K.n("svg",qs({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"none"},e),Vs||(Vs=K.n("path",{fill:"currentcolor",fillRule:"evenodd",d:"M17.55 41.175H27v2.362h-9.45a2.37 2.37 0 0 1-2.363-2.362v-28.35a2.37 2.37 0 0 1 2.363-2.363h11.813a1.07 1.07 0 0 1 .826.355l8.27 8.269a1.07 1.07 0 0 1 .353.826v5.907H36.45v-3.544h-7.088A2.37 2.37 0 0 1 27 19.912v-7.087h-9.45zm18.427-21.263-6.614-6.615v6.615zm4.253 18.664 3.308 3.308-1.654 1.653-3.308-3.307a6.35 6.35 0 0 1-3.307.945c-3.308 0-5.906-2.599-5.906-5.906 0-3.308 2.598-5.907 5.906-5.907s5.906 2.6 5.906 5.907a6.35 6.35 0 0 1-.945 3.307m-4.961-6.851c-2.008 0-3.544 1.536-3.544 3.544s1.536 3.543 3.544 3.543 3.544-1.535 3.544-3.543-1.536-3.544-3.544-3.544",clipRule:"evenodd"})))};function Zs(){return Zs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zs.apply(null,arguments)}var Ws=function(e){return K.n("svg",Zs({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"none"},e),Ks||(Ks=K.n("path",{fill:"currentcolor",fillRule:"evenodd",d:"M17.55 41.175h6.75v2.363h-6.75a2.37 2.37 0 0 1-2.363-2.363v-28.35a2.37 2.37 0 0 1 2.363-2.362h11.813a1.07 1.07 0 0 1 .826.354l8.27 8.269a1.07 1.07 0 0 1 .353.827v7.256H36.45v-4.894h-7.088A2.37 2.37 0 0 1 27 19.913v-7.088h-9.45zm18.427-21.262-6.614-6.616v6.616zm-2.212 10.564-.015-.001h-.015a8.86 8.86 0 0 0-7.926 5.656l-.003.008a.9.9 0 0 0 0 .62l.003.008a8.85 8.85 0 0 0 7.926 5.655l.015.001h.015a8.86 8.86 0 0 0 7.926-5.656l.003-.008a.9.9 0 0 0 0-.62l-.003-.008a8.85 8.85 0 0 0-7.926-5.655M33.75 40.6c-2.456 0-5.088-1.802-6.107-4.151 1.019-2.349 3.651-4.151 6.107-4.151s5.088 1.802 6.107 4.151c-1.019 2.349-3.65 4.151-6.107 4.151m0-7.593a3.443 3.443 0 1 0 0 6.885 3.443 3.443 0 0 0 0-6.886Zm-.316 1.853a1.62 1.62 0 1 1 .632 3.178 1.62 1.62 0 0 1-.632-3.178",clipRule:"evenodd"})))};const Gs=e=>({button:Do,checkbox:Mo,checklist:Yo,columns:ns,datetime:Uo,group:ns,iframe:Ps,image:Hs,number:os,expression:js,radio:ls,select:ds,separator:fs,spacer:vs,dynamiclist:ws,taglist:Wo,text:ks,html:Ts,textfield:Cs,textarea:zs,table:Us,filepicker:Js,documentPreview:Ws,default:Qo}[e]),Xs="image";function Qs(e){const{field:t}=e,{alt:n,id:r,source:i}=t,o=Gs(t.type),s=xi(i,{debug:!0}),a=(0,Y.Kr)((()=>$i(s)),[s]),l=xi(n,{debug:!0}),{formId:c}=(0,Y.NT)(Ur);return(0,$.FD)("div",{class:$r(Xs),children:[a&&(0,$.Y)("div",{class:"fjs-image-container",children:(0,$.Y)("img",{alt:l,src:a,class:"fjs-image",id:Hr(r,c)})}),!a&&(0,$.Y)("div",{class:"fjs-image-placeholder",children:(0,$.Y)("span",{class:"fjs-image-placeholder-inner",children:(0,$.Y)(o,{alt:"This is an image placeholder",width:"32",height:"32",viewBox:"0 0 56 56"})})})]})}function ea(e){const{pre:t,post:n}=e,r=xi(t,{debug:!0}),i=xi(n,{debug:!0});return(0,$.Y)(mo,{...e,pre:r,post:i})}var ta;function na(){return na=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},na.apply(null,arguments)}Qs.config={type:Xs,keyed:!1,name:"Image view",group:"presentation",create:(e={})=>e,getSubheading:e=>e.alt};var ra,ia=function(e){return K.n("svg",na({xmlns:"http://www.w3.org/2000/svg",width:8,height:8},e),ta||(ta=K.n("path",{fill:"currentColor",fillRule:"evenodd",stroke:"currentColor",strokeWidth:.5,d:"M7.75 1.336 4 6.125.258 1.335 0 1.54l4 5.125L8 1.54Zm0 0",clipRule:"evenodd"})))};function oa(){return oa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oa.apply(null,arguments)}var sa=function(e){return K.n("svg",oa({xmlns:"http://www.w3.org/2000/svg",width:8,height:8},e),ra||(ra=K.n("path",{fill:"currentColor",fillRule:"evenodd",stroke:"currentColor",strokeWidth:.5,d:"M7.75 6.664 4 1.875.258 6.665 0 6.46l4-5.125L8 6.46Zm0 0",clipRule:"evenodd"})))};function aa(e){return("number"==typeof e||"string"==typeof e)&&""!==e&&!isNaN(Number(e))}function la(e){return null==e||""===e}const ca="number";function ua(e){const{disabled:t,errors:n=[],domId:r,onBlur:i,onFocus:o,field:s,value:a,readonly:l}=e,{description:c,label:u,appearance:d={},validate:h={},decimalDigits:p,increment:f}=s,{prefixAdorner:m,suffixAdorner:g}=d,{required:v}=h,b=(0,Y.li)(),[y,w]=(0,Y.J0)(a),[_,x]=(0,Y.J0)(a),k=(0,Y.hb)((e=>ua.config.sanitizeValue({value:e,formField:s})),[s]),[E,A]=wi(e.onChange);yi(a)!==y&&E({field:s,value:y});const T=(0,Y.hb)((e=>{if(la(e))return x(""),void w(null);if("-"!==(e=e.replaceAll(",","."))){if(isNaN(Number(e)))return x("NaN"),void w(null);x(e),w(k(e))}else x("-")}),[k]),R=yi(a)!=a,S=k(a)===k(y);R&&!S&&T(a&&a.toString()||"");const j=(0,Y.Kr)((()=>N(f||(p?`1e-${p}`:"1"))),[p,f]),O=()=>{if(l)return;const e=aa(y)?N(y):N(0),t=e.minus(e.mod(j));T(t.plus(j).toFixed())},F=()=>{if(l)return;const e=aa(y)?N(y):N(0);if(0===e.mod(j).cmp(0))T(e.minus(j).toFixed());else{const t=e.minus(e.mod(j));T(t.toFixed())}},C=`${r}-description`,D=`${r}-error-message`;return(0,$.FD)("div",{class:$r(ca,{errors:n,disabled:t,readonly:l}),children:[(0,$.Y)(Ji,{htmlFor:r,label:u,required:v}),(0,$.Y)(ea,{disabled:t,readonly:l,pre:m,post:g,children:(0,$.FD)("div",{class:P()("fjs-vertical-group",{"fjs-disabled":t,"fjs-readonly":l},{hasErrors:n.length}),children:[(0,$.Y)("input",{ref:b,class:"fjs-input",disabled:t,readOnly:l,id:r,onKeyDown:e=>"NaN"!==_||"Backspace"!==e.code&&"Delete"!==e.code?"ArrowUp"===e.code?(O(),void e.preventDefault()):"ArrowDown"===e.code?(F(),void e.preventDefault()):void("Enter"===e.code&&A&&A()):(T(""),void e.preventDefault()),onKeyPress:e=>{const t=b.current.selectionStart,n=b.current.selectionStart-b.current.selectionEnd,r=b.current.value;(function(e,t,n,r,i){if("NaN"===t)return!1;const o=!(t=t.replace(",",".")).includes(".")&&("."===e||","===e),s=!t.includes("-")&&"-"===e&&0===n,a=/^[0-9]$/i.test(e),l=void 0===t?-1:t.indexOf("."),c="number"==typeof i&&0===r&&-1!==l&&t.includes(".")&&t.split(".")[1].length>=i&&n>l;return(a||0!==i&&o||s)&&!c})(e.key,r,t,n,p)||e.preventDefault()},onBlur:()=>{A&&A(),i&&i()},onFocus:()=>{o&&o()},onInput:e=>T(e.target.value,!0),onPaste:e=>"NaN"===_&&e.preventDefault(),type:"text",autoComplete:"off",step:j,value:_,"aria-describedby":[C,D].join(" "),required:v,"aria-invalid":n.length>0}),(0,$.FD)("div",{class:P()("fjs-number-arrow-container",{"fjs-disabled":t,"fjs-readonly":l}),children:[(0,$.Y)("button",{type:"button",class:"fjs-number-arrow-up","aria-label":"Increment",onClick:()=>O(),tabIndex:-1,children:(0,$.Y)(sa,{})}),(0,$.Y)("div",{class:"fjs-number-arrow-separator"}),(0,$.Y)("button",{type:"button",class:"fjs-number-arrow-down","aria-label":"Decrement",onClick:()=>F(),tabIndex:-1,children:(0,$.Y)(ia,{})})]})]})}),(0,$.Y)(qi,{id:C,description:c}),(0,$.Y)(Ki,{id:D,errors:n})]})}ua.config={type:ca,keyed:!0,name:"Number",group:"basic-input",emptyValue:null,sanitizeValue:({value:e,formField:t})=>la(e)||!aa(e)?null:t.serializeToString?e.toString():Number(e),create:(e={})=>({label:"Number",...e})};const da="radio";function ha(e){const{disabled:t,errors:n=[],domId:r,onBlur:i,onFocus:o,field:s,readonly:a,value:l}=e,{description:c,label:u,validate:d={}}=s,h=(0,Y.li)(),{required:p}=d,f=e=>{h.current.contains(e.relatedTarget)||i&&i()},m=e=>{h.current.contains(e.relatedTarget)||o&&o()},{loadState:g,options:v}=ai(s);Hi({field:s,loadState:g,options:v,value:l,onChange:e.onChange});const b=`${r}-description`,y=`${r}-error-message`;return(0,$.FD)("div",{class:$r(da,{errors:n,disabled:t,readonly:a}),ref:h,children:[(0,$.Y)(Ji,{label:u,required:p}),g==si.LOADED&&v.map(((i,o)=>{const s=`${r}-${o}`,c=V()(i.value,l);return(0,$.FD)("div",{className:P()("fjs-inline-label",{"fjs-checked":c}),children:[(0,$.Y)("input",{checked:c,class:"fjs-input",disabled:t,readOnly:a,name:r,id:s,type:"radio",onClick:()=>(t=>{e.onChange({value:t})})(i.value),onBlur:f,onFocus:m,"aria-describedby":[b,y].join(" "),required:p,"aria-invalid":n.length>0}),(0,$.Y)(Ji,{htmlFor:s,label:i.label,class:P()({"fjs-checked":c}),required:!1})]},i.value)})),(0,$.Y)(qi,{id:b,description:c}),(0,$.Y)(Ki,{id:y,errors:n})]})}var pa;function fa(){return fa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fa.apply(null,arguments)}ha.config={type:da,keyed:!0,name:"Radio group",group:"selection",emptyValue:null,sanitizeValue:Li,create:(e={})=>({label:"Radio group",...ei(e)})};var ma=function(e){return K.n("svg",fa({xmlns:"http://www.w3.org/2000/svg",width:8,height:8},e),pa||(pa=K.n("path",{fill:"currentColor",fillRule:"evenodd",stroke:"currentColor",strokeWidth:.5,d:"M4 3.766 7.43.336l.234.234L4.234 4l3.43 3.43-.234.234L4 4.234.57 7.664.336 7.43 3.766 4 .336.57.57.336Zm0 0",clipRule:"evenodd"})))};function ga(e){const{domId:t,disabled:n,errors:r,onBlur:i,onFocus:o,field:s,readonly:a,value:l}=e,[c,u]=(0,Y.J0)(""),[d,h]=(0,Y.J0)(!1),[p,f]=(0,Y.J0)(!0),[m,g]=(0,Y.J0)(!1),v=(0,Y.li)(),b=qr("eventBus"),{loadState:y,options:w}=ai(s);Hi({field:s,loadState:y,options:w,value:l,onChange:e.onChange});const _=hi(w),x=(0,Y.Kr)((()=>l&&_(l)),[l,_]);(0,Y.vJ)((()=>{u(x||"")}),[x]);const k=(0,Y.Kr)((()=>y!==si.LOADED?[]:c&&p?w.filter((e=>e.label&&e.value&&e.label.toLowerCase().includes(c.toLowerCase()))):w),[c,y,w,p]),E=(0,Y.hb)((t=>{u(t&&t.label||""),e.onChange({value:t&&t.value||null})}),[e]),A=(0,Y.Kr)((()=>{const e={};return e.componentReady=!n&&!a&&y===si.LOADED,e.displayCross=e.componentReady&&null!=l,e.displayDropdown=!n&&!a&&d&&!m,e}),[n,d,m,y,a,l]),T=(0,Y.hb)((e=>{g(!1),h(!d);const t=v.current;d?t.blur():t.focus(),e.preventDefault()}),[d]),R=(0,Y.hb)((e=>{switch(e.key){case"ArrowUp":e.preventDefault();break;case"ArrowDown":d||(h(!0),f(!1)),e.preventDefault();break;case"Escape":g(!0);break;case"Enter":m&&g(!1)}}),[d,m]),S=(0,Y.hb)((()=>{g(!1),h(!0),f(!1)}),[]),j=(0,Y.hb)((()=>{g(!1),h(!0),o&&o()}),[o]),O=(0,Y.hb)((()=>{h(!1),u(x||""),i&&i()}),[i,x]);return(0,$.FD)($.FK,{children:[(0,$.FD)("div",{class:P()("fjs-input-group",{disabled:n,readonly:a},{hasErrors:r.length}),children:[(0,$.Y)("input",{disabled:n,readOnly:a,class:"fjs-input",ref:v,id:t,onChange:({target:e})=>{g(!1),h(!0),f(!0),u(e.value||""),b.fire("formField.search",{formField:s,value:e.value||""})},type:"text",value:c,placeholder:"Search",autoComplete:"off",onKeyDown:R,onMouseDown:S,onFocus:j,onBlur:O,"aria-describedby":e["aria-describedby"]}),A.displayCross&&(0,$.FD)("span",{class:"fjs-select-cross",onMouseDown:e=>{E(null),e.preventDefault()},children:[(0,$.Y)(ma,{})," "]}),(0,$.Y)("span",{class:"fjs-select-arrow",onMouseDown:e=>T(e),children:A.displayDropdown?(0,$.Y)(sa,{}):(0,$.Y)(ia,{})})]}),(0,$.Y)("div",{class:"fjs-select-anchor",children:A.displayDropdown&&(0,$.Y)(_o,{values:k,getLabel:e=>e.label,onValueSelected:e=>{E(e),h(!1)},listenerElement:v.current})})]})}function va(e){const{domId:t,disabled:n,errors:r,onBlur:i,onFocus:o,field:s,readonly:a,value:l}=e,[u,d]=(0,Y.J0)(!1),h=(0,Y.li)(),p=(0,Y.li)(),{loadState:f,options:g}=ai(s);Hi({field:s,loadState:f,options:g,value:l,onChange:e.onChange});const v=hi(g),b=(0,Y.Kr)((()=>l&&v(l)),[l,v]),y=(0,Y.hb)((t=>{e.onChange({value:t&&t.value||null})}),[e]),_=(0,Y.Kr)((()=>{const e={};return e.componentReady=!n&&!a&&f===si.LOADED,e.displayCross=e.componentReady&&null!=l,e.displayDropdown=!n&&!a&&u,e}),[n,u,f,a,l]),x=(0,Y.hb)((e=>{const t=p.current;!n&&t&&(d(!u),u?t.blur():t.focus(),e.preventDefault())}),[n,u]),k=(0,Y.Kr)((()=>l&&function(e){const t=w((e=>e.value===l));let n=c(e)?-1:void 0;return m(e,(function(e,r){if(t(e,r))return n=r,!1})),n}(g)||0),[g,l]),E=(0,Y.hb)((()=>{a||(d(!0),o&&o())}),[o,a]),A=(0,Y.hb)((()=>{a||(d(!1),i&&i())}),[i,a]);return(0,$.FD)($.FK,{children:[(0,$.FD)("div",{ref:h,class:P()("fjs-input-group",{disabled:n,readonly:a},{hasErrors:r.length}),onFocus:E,onBlur:A,onMouseDown:x,children:[(0,$.Y)("div",{class:P()("fjs-select-display",{"fjs-select-placeholder":!l}),id:`${t}-display`,children:b||"Select"}),!n&&(0,$.Y)("input",{ref:p,id:t,class:"fjs-select-hidden-input",value:b,onFocus:E,onBlur:A,"aria-describedby":e["aria-describedby"]}),_.displayCross&&(0,$.Y)("span",{class:"fjs-select-cross",onMouseDown:e=>{y(null),e.stopPropagation()},children:(0,$.Y)(ma,{})}),(0,$.Y)("span",{class:"fjs-select-arrow",children:_.displayDropdown?(0,$.Y)(sa,{}):(0,$.Y)(ia,{})})]}),(0,$.Y)("div",{class:"fjs-select-anchor",children:_.displayDropdown&&(0,$.Y)(_o,{values:g,getLabel:e=>e.label,initialFocusIndex:k,onValueSelected:e=>{y(e),d(!1)},listenerElement:h.current})})]})}const ba="select";function ya(e){const{disabled:t,errors:n=[],domId:r,onBlur:i,onFocus:o,field:s,onChange:a,readonly:l,value:c}=e,{description:u,label:d,searchable:h=!1,validate:p={}}=s,{required:f}=p,m=`${r}-description`,g=`${r}-error-message`,v={domId:r,disabled:t,errors:n,onBlur:i,onFocus:o,field:s,value:c,onChange:a,readonly:l,required:f,"aria-invalid":n.length>0,"aria-describedby":[m,g].join(" ")};return(0,$.FD)("div",{class:$r(ba,{errors:n,disabled:t,readonly:l}),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),e.stopPropagation())},children:[(0,$.Y)(Ji,{htmlFor:r,label:d,required:f}),h?(0,$.Y)(ga,{...v}):(0,$.Y)(va,{...v}),(0,$.Y)(qi,{id:m,description:u}),(0,$.Y)(Ki,{id:g,errors:n})]})}ya.config={type:ba,keyed:!0,name:"Select",group:"selection",emptyValue:null,sanitizeValue:Li,create:(e={})=>({label:"Select",...ei(e)})};const wa="separator";function _a(){return(0,$.Y)("div",{class:$r(wa),children:(0,$.Y)("hr",{})})}_a.config={type:wa,keyed:!1,name:"Separator",group:"presentation",create:(e={})=>({...e})};const xa="spacer";function ka(e){const{field:t}=e,{height:n=60}=t;return(0,$.Y)("div",{class:$r(xa),style:{height:n}})}function Ea(e){const{field:t,domId:n,readonly:r}=e,{label:i,type:o,showOutline:s}=t,{Empty:a}=(0,Y.NT)(Br),l={...e,Empty:a};return(0,$.FD)("div",{className:P()($r(o,{readonly:r}),"fjs-form-field-grouplike",{"fjs-outlined":s}),role:"group","aria-labelledby":n,children:[(0,$.Y)(Ji,{id:n,label:i}),(0,$.Y)(no,{...l})]})}function Aa(e){const{className:t,label:n,onSkip:r}=e,i=(0,Y.hb)((e=>{"Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),r())}),[r]);return(0,$.Y)("a",{href:"#",class:P()("fjs-skip-link",t),onKeyDown:i,children:n})}ka.config={type:xa,keyed:!1,name:"Spacer",group:"presentation",create:(e={})=>({height:60,...e})},Ea.config={type:"dynamiclist",pathed:!0,repeatable:!0,name:"Dynamic list",group:"container",create:(e={})=>({label:"Dynamic list",components:[],showOutline:!0,isRepeating:!0,allowAddRemove:!0,defaultRepetitions:1,...e})};const Ta="taglist";function Ra(e){const{disabled:t,errors:n=[],onFocus:r,domId:i,onBlur:o,field:s,readonly:a,value:l}=e,{description:c,label:u,validate:d={}}=s,{required:h}=d,[p,f]=(0,Y.J0)(""),[m,g]=(0,Y.J0)(!1),[v,b]=(0,Y.J0)(!1),y=(0,Y.li)(),w=(0,Y.li)(),_=qr("eventBus"),{loadState:x,options:k}=ai(s),E=oi(l||[]);Bi({field:s,loadState:x,options:k,values:E,onChange:e.onChange});const A=hi(k),T=(0,Y.Kr)((()=>k.length>E.length),[k.length,E.length]),R=(0,Y.Kr)((()=>x!==si.LOADED?[]:k.filter((e=>e.label.toLowerCase().includes(p.toLowerCase())&&!Ni(e.value,E)))),[p,k,E,x]),S=t=>{const n=E.filter((e=>!V()(e,t)));e.onChange({value:n})},j=e=>{y.current.contains(e.relatedTarget)||o&&o()},O=e=>{y.current.contains(e.relatedTarget)||r&&r()},F=(0,Y.Kr)((()=>!t&&x===si.LOADED&&m&&!v),[t,m,v,x]),C=`${i}-description`,D=`${i}-error-message`;return(0,$.FD)("div",{ref:y,class:$r(Ta,{errors:n,disabled:t,readonly:a}),onKeyDown:e=>{"Enter"===e.key&&(e.stopPropagation(),e.preventDefault())},children:[(0,$.Y)(Ji,{label:u,required:h,htmlFor:i}),!t&&!a&&!!E.length&&(0,$.Y)(Aa,{className:"fjs-taglist-skip-link",label:"Skip to search",onSkip:()=>{w.current.focus()}}),(0,$.FD)("div",{class:P()("fjs-taglist",{"fjs-disabled":t,"fjs-readonly":a}),children:[x===si.LOADED&&(0,$.Y)("div",{class:"fjs-taglist-tags",children:E.map((e=>(0,$.FD)("div",{class:P()("fjs-taglist-tag",{"fjs-disabled":t,"fjs-readonly":a}),onMouseDown:e=>e.preventDefault(),children:[(0,$.Y)("span",{class:"fjs-taglist-tag-label",children:A(e)}),!t&&!a&&(0,$.Y)("button",{type:"button",title:"Remove tag",class:"fjs-taglist-tag-remove",onFocus:O,onBlur:j,onClick:t=>((e,t)=>{const{target:n}=e;S(t),n.closest(".fjs-taglist-tag").nextSibling||w.current.focus()})(t,e),children:(0,$.Y)(ma,{})})]},e)))}),(0,$.Y)("input",{disabled:t,readOnly:a,class:"fjs-taglist-input",ref:w,id:i,onChange:({target:e})=>{b(!1),f(e.value||""),_.fire("formField.search",{formField:s,value:e.value||""})},type:"text",value:p,placeholder:t||a?void 0:"Search",autoComplete:"off",onKeyDown:e=>{switch(e.key){case"ArrowUp":case"ArrowDown":e.preventDefault();break;case"Backspace":!p&&E.length&&S(E[E.length-1]);break;case"Escape":b(!0);break;case"Enter":v&&b(!1)}},onMouseDown:()=>b(!1),onFocus:e=>{a||g(!0),O(e)},onBlur:e=>{a||(g(!1),f("")),j(e)},"aria-describedby":[C,D].join(" "),required:h,"aria-invalid":n.length>0})]}),(0,$.Y)("div",{class:"fjs-taglist-anchor",children:F&&(0,$.Y)(_o,{values:R,getLabel:e=>e.label,onValueSelected:t=>(t=>{f(""),E.at(-1)!==t&&e.onChange({value:[...E,t]})})(t.value),emptyListMessage:T?"No results":"All values selected",listenerElement:w.current})}),(0,$.Y)(qi,{id:C,description:c}),(0,$.Y)(Ki,{id:D,errors:n})]})}Ra.config={type:Ta,keyed:!0,name:"Tag list",group:"selection",emptyValue:[],sanitizeValue:Pi,create:(e={})=>({label:"Tag list",...ei(e)})};const Sa=3,ja=1,Oa=["h1","h2","h3","h4","h5","h6","span","em","a","p","div","ul","ol","li","hr","blockquote","img","pre","code","br","strong","table","thead","tbody","tr","th","td"],Fa=["align","alt","class","href","id","name","rel","target","src"],Ca=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,Da=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g,Ia=document.createElement("form");function za(e){const t=(new DOMParser).parseFromString(`<!DOCTYPE html>\n<html><body><div>${e}`,"text/html");t.normalize();const n=t.body.firstChild;return n?(Ma(n),n.innerHTML):""}function Ma(e){if(e.nodeType===Sa)return;if(e.nodeType!==ja)return e.remove();const t=e.tagName.toLowerCase();if(!Oa.includes(t))return e.remove();const n=e.attributes;for(let t=n.length;t--;){const r=n[t],i=r.name,o=i.toLowerCase(),s=r.value.trim();e.removeAttribute(i),Na(0,o,s)&&e.setAttribute(i,s)}"a"===t&&"_blank"===e.getAttribute("target")&&"noopener"!==e.getAttribute("rel")&&e.setAttribute("rel","noopener");for(let t=e.childNodes.length;t--;)Ma(e.childNodes[t])}function Na(e,t,n){return!(!Fa.includes(t)||("id"===t||"name"===t)&&(n in document||n in Ia)||"target"===t&&"_blank"!==n||"href"===t&&!Ca.test(n.replace(Da,"")))}const La="text";function Pa(e){const t=qr("form"),{textLinkTarget:n}=t._getState().properties,{field:r,disableLinks:i}=e,{text:o="",strict:s=!1}=r,a=qr("markdownRenderer"),l=_i(o,{debug:!0,strict:s}),c=(0,Y.Kr)((()=>a.render(l)),[a,l]),u=(0,Y.hb)((e=>{const t=za(e),r=document.createElement("div");return r.innerHTML=t,r.querySelectorAll("a").forEach((e=>{i&&(e.setAttribute("class","fjs-disabled-link"),e.setAttribute("tabIndex","-1")),n&&e.setAttribute("target",n)})),r.innerHTML}),[i,n]),d=ui({html:c,transform:u,sanitize:!1,sanitizeStyleTags:!1});return(0,$.Y)("div",{class:$r(La),dangerouslySetInnerHTML:d})}Pa.config={type:La,keyed:!1,name:"Text view",group:"presentation",create:(e={})=>({text:Nr,...e}),getSubheading:e=>{!function(e){if("string"!=typeof e)return null;for(const t of e.split("\n")){const e=t.trim();if(""!==e)return e}}(e.text)}};const $a="html";function Ya(e){const t=qr("form"),{textLinkTarget:n}=t._getState().properties,{field:r,disableLinks:i,domId:o}=e,{content:s="",strict:a=!1}=r,l=`${o}-style-scope`,c=_i(s,{debug:!0,strict:a,sanitizer:Yi}),u=(0,Y.hb)((e=>{const t=document.createElement("div");var r;return t.innerHTML=e,t.querySelectorAll("a").forEach((e=>{i&&(e.setAttribute("class","fjs-disabled-link"),e.setAttribute("tabIndex","-1")),n&&e.setAttribute("target",n)})),r=`.${l}`,t.querySelectorAll("style").forEach((e=>{const t=function(e){let t=0,n=0,r=0;const i=[];for(;t<e.length;)"{"===e[t]&&r++,"}"===e[t]&&(r--,0===r&&(i.push(e.substring(n,t+1)),n=t+1)),t++;return i.map((e=>e.trim()))}(e.textContent).map((e=>{const{selector:t,styles:n}=function(e){const t=e.indexOf("{");return{selector:e.substring(0,t),styles:e.substring(t)}}(e),i=function(e,t){return e.split(",").map((e=>`${t} ${e.trim()}`)).join(", ")}(t,r);return`${i} ${n}`})).join(" ");e.textContent=t})),t.innerHTML}),[i,l,n]),d=ui({html:c,transform:u,sanitize:!0,sanitizeStyleTags:!1});return(0,$.Y)("div",{class:P()($r($a),l),dangerouslySetInnerHTML:d})}function Ha(e){const{field:t,onChange:n,value:r}=e,{computeOn:i,expression:o}=t,s=oi(ii(o)),a=qr("eventBus"),l=qr("expressionLoopPreventer"),c=(0,Y.hb)((()=>{n&&n({field:t,value:s,shouldNotRecompute:!0})}),[t,s,n]);return(0,Y.vJ)((()=>{"change"===i&&!V()(s,r)&&l.registerExpressionExecution(this)&&c()})),(0,Y.vJ)((()=>{if("presubmit"===i)return a.on("presubmit",c),()=>a.off("presubmit",c)}),[i,c,a]),null}Ya.config={type:$a,keyed:!1,name:"HTML view",group:"presentation",create:(e={})=>({content:"",...e})},Ha.config={type:"expression",name:"Expression",group:"basic-input",keyed:!0,emptyValue:null,escapeGridRender:!0,create:(e={})=>({computeOn:"change",...e})};const Ba="textfield";function Va(e){const{disabled:t,errors:n=[],domId:r,onBlur:i,onFocus:o,field:s,readonly:a,value:l=""}=e,{description:c,label:u,appearance:d={},validate:h={}}=s,{prefixAdorner:p,suffixAdorner:f}=d,{required:m}=h,[g,v]=wi((({target:t})=>{e.onChange({value:t.value})})),b=`${r}-description`,y=`${r}-error-message`;return(0,$.FD)("div",{class:$r(Ba,{errors:n,disabled:t,readonly:a}),children:[(0,$.Y)(Ji,{htmlFor:r,label:u,required:m}),(0,$.Y)(ea,{disabled:t,readonly:a,pre:p,post:f,children:(0,$.Y)("input",{class:"fjs-input",disabled:t,readOnly:a,id:r,onInput:e=>{g({target:e.target})},onBlur:()=>{v&&v(),i&&i()},onFocus:()=>{o&&o()},onKeyDown:e=>{"Enter"===e.code&&v&&v()},type:"text",value:l,"aria-describedby":[b,y].join(" "),required:m,"aria-invalid":n.length>0})}),(0,$.Y)(qi,{id:b,description:c}),(0,$.Y)(Ki,{id:y,errors:n})]})}Va.config={type:Ba,keyed:!0,name:"Text field",group:"basic-input",emptyValue:"",sanitizeValue:({value:e})=>c(e)||u(e)||l(e)?"":"string"==typeof e?e.replace(/[\r\n\t]/g," "):String(e),create:(e={})=>({label:"Text field",...e})};const Ua="textarea";function qa(e){const{disabled:t,errors:n=[],domId:r,onBlur:i,onFocus:o,field:s,readonly:a,value:l=""}=e,{description:c,label:u,validate:d={}}=s,{required:h}=d,p=(0,Y.li)(),[f,m]=wi((({target:t})=>{e.onChange({value:t.value})}));(0,Y.Nf)((()=>{Ka(p.current)}),[l]),(0,Y.vJ)((()=>{Ka(p.current)}),[]);const g=`${r}-description`,v=`${r}-error-message`;return(0,$.FD)("div",{class:$r(Ua,{errors:n,disabled:t,readonly:a}),children:[(0,$.Y)(Ji,{htmlFor:r,label:u,required:h}),(0,$.Y)("textarea",{class:"fjs-textarea",disabled:t,readOnly:a,id:r,onInput:e=>{f({target:e.target}),Ka(p.current)},onBlur:()=>{m&&m(),i&&i()},onFocus:()=>{o&&o()},value:l,ref:p,"aria-describedby":[g,v].join(" "),required:h,"aria-invalid":n.length>0}),(0,$.Y)(qi,{id:g,description:c}),(0,$.Y)(Ki,{id:v,errors:n})]})}qa.config={type:Ua,keyed:!0,name:"Text area",group:"basic-input",emptyValue:"",sanitizeValue:({value:e})=>c(e)||u(e)||l(e)?"":String(e),create:(e={})=>({label:"Text area",...e})};const Ka=e=>{e.style.height="0px";const t=window.getComputedStyle(e),n=parseInt(t.getPropertyValue("border-top-width"))+parseInt(t.getPropertyValue("padding-top"))+(e.scrollHeight||(()=>{const n=parseInt(t.getPropertyValue("line-height").replace("px",""))||0;return(e.value?e.value.toString().split("\n").length:0)*n})())+parseInt(t.getPropertyValue("padding-bottom"))+parseInt(t.getPropertyValue("border-bottom-width")),r=Math.max(Math.min(n||0,350),75);e.style.height=`${r}px`,e.style.overflow=n>350?"visible":"hidden"};var Ja;function Za(){return Za=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Za.apply(null,arguments)}var Wa,Ga=function(e){return K.n("svg",Za({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},e),Ja||(Ja=K.n("path",{fill:"currentcolor",d:"M24.59 16.59 17 24.17V4h-2v20.17l-7.59-7.58L6 18l10 10 10-10z"})))};function Xa(){return Xa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xa.apply(null,arguments)}var Qa,el=function(e){return K.n("svg",Xa({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},e),Wa||(Wa=K.n("path",{fill:"currentcolor",d:"M16 4 6 14l1.41 1.41L15 7.83V28h2V7.83l7.59 7.58L26 14z"})))};function tl(){return tl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tl.apply(null,arguments)}var nl,rl=function(e){return K.n("svg",tl({xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",viewBox:"0 0 32 32"},e),Qa||(Qa=K.n("path",{fill:"currentcolor",d:"m20 24-10-8 10-8z"})))};function il(){return il=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},il.apply(null,arguments)}var ol=function(e){return K.n("svg",il({xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",viewBox:"0 0 32 32"},e),nl||(nl=K.n("path",{fill:"currentcolor",d:"m12 8 10 8-10 8z"})))};const sl="table";function al(e){const{field:t}=e,{columns:n=[],columnsExpression:r,dataSource:i="",rowCount:o,id:s,label:a}=t,[c,h]=(0,Y.J0)(null),p=function(e,t){const n=ii(e||"");return Array.isArray(n)&&n.every(ll)?n:t}(r||"",n),f=p.map((({key:e})=>e)),m=ii(i),g=Array.isArray(m)?m.filter((e=>!l(e)||"object"!=typeof e)):[],v=null===c?g:(b=g,y=c.key,w=c.direction,[...b].sort(((e,t)=>u(e)&&u(t)?"asc"===w?e[y]>t[y]?1:-1:e[y]<t[y]?1:-1:0)));var b,y,w;const _=d(o)?function(e,t){return e.reduce(((e,n,r)=>(r%t==0?e.push([n]):e[e.length-1].push(n),e)),[])}(v,o):[v],[x,k]=(0,Y.J0)(0),E=_[x]||[];function A(e){h((t=>null===t||t.key!==e?{key:e,direction:"asc"}:"desc"===t.direction?null:{key:e,direction:"desc"}))}return(0,Y.vJ)((()=>{k(0)}),[o,c]),(0,$.FD)("div",{class:$r(sl),children:[(0,$.Y)(Ji,{htmlFor:Hr(s),label:a}),(0,$.FD)("div",{class:P()("fjs-table-middle-container",{"fjs-table-empty":0===p.length}),children:[0===p.length?"Nothing to show.":(0,$.Y)("div",{class:"fjs-table-inner-container",children:(0,$.FD)("table",{class:"fjs-table",id:Hr(s),children:[(0,$.Y)("thead",{class:"fjs-table-head",children:(0,$.Y)("tr",{class:"fjs-table-tr",children:p.map((({key:e,label:t})=>{const n=t||e;return(0,$.Y)("th",{tabIndex:0,class:"fjs-table-th",onClick:()=>{A(e)},onKeyDown:t=>{["Enter","Space"].includes(t.code)&&A(e)},"aria-label":cl(c,e,n),children:(0,$.FD)("span",{class:"fjs-table-th-label",children:[n,null!==c&&c.key===e?(0,$.Y)($.FK,{children:"asc"===c.direction?(0,$.Y)(el,{class:"fjs-table-sort-icon-asc"}):(0,$.Y)(Ga,{class:"fjs-table-sort-icon-desc"})}):null]})},e)}))})}),0===E.length?(0,$.Y)("tbody",{class:"fjs-table-body",children:(0,$.Y)("tr",{class:"fjs-table-tr",children:(0,$.Y)("td",{class:"fjs-table-td",colSpan:p.length,children:"Nothing to show."})})}):(0,$.Y)("tbody",{class:"fjs-table-body",children:E.map(((e,t)=>(0,$.Y)("tr",{class:"fjs-table-tr",children:f.map((t=>{return(0,$.Y)("td",{class:"fjs-table-td",children:(n=e[t],null!==n&&"object"==typeof n?JSON.stringify(n):null==n?"":`${n}`)},t);var n}))},t)))})]})}),d(o)&&_.length>1&&p.length>0?(0,$.FD)("nav",{class:"fjs-table-nav",children:[(0,$.FD)("span",{class:"fjs-table-nav-label",children:[x+1," of ",_.length]}),(0,$.Y)("button",{type:"button",class:"fjs-table-nav-button",onClick:()=>{k((e=>Math.max(e-1,0)))},disabled:0===x,"aria-label":"Previous page",children:(0,$.Y)(rl,{})}),(0,$.Y)("button",{type:"button",class:"fjs-table-nav-button",onClick:()=>{k((e=>Math.min(e+1,_.length-1)))},disabled:x>=_.length-1,"aria-label":"Next page",children:(0,$.Y)(ol,{})})]}):null]})]})}function ll(e){return u(e)&&p(e.label)&&p(e.key)}function cl(e,t,n){return null===e||e.key!==t?`Click to sort by ${n} descending`:"asc"===e.direction?"Click to remove sorting":`Click to sort by ${n} ascending`}al.config={type:sl,keyed:!1,name:"Table",group:"presentation",create:(e={})=>{const{id:t,columnsExpression:n,columns:r,rowCount:i,...o}=e;return a(t)&&d(i)&&(o.rowCount=i),p(n)?{...o,id:t,columnsExpression:n}:Array.isArray(r)&&r.every(ll)?{...o,id:t,columns:r}:{...o,label:"Table",rowCount:10,columns:[{label:"ID",key:"id"},{label:"Name",key:"name"},{label:"Date",key:"date"}]}},generateInitialDemoData:e=>{const t=[{id:1,name:"John Doe",date:"31.01.2023"},{id:2,name:"Erika Muller",date:"20.02.2023"},{id:3,name:"Dominic Leaf",date:"11.03.2023"}],n=Object.keys(t[0]),{columns:r,id:i,dataSource:o}=e;if(Array.isArray(r)&&0!==r.length&&o===`=${i}`&&r.map((({key:e})=>e)).every((e=>n.includes(e))))return t}};const ul="files::",dl=new r.A,hl=[];function pl(e){const t=(0,Y.li)(null),n=qr("fileRegistry",!1),{field:r,onChange:i,domId:o,errors:s=[],disabled:a,readonly:l,value:c=""}=e,{label:u,multiple:d=!1,accept:h="",validate:p={}}=r,f=xi(h,{debug:!0}),m=function(e){const t=qr("expressionLanguage"),n=(0,Y.NT)(Vr);return(0,Y.Kr)((()=>{const r=Gr(t,e,n);return"boolean"==typeof r&&r}),[t,n,e])}(d),g=`${o}-error-message`,v=null===n?hl:n.getFiles(c);(0,Y.vJ)((()=>{c&&null!==n&&!n.hasKey(c)&&i({value:null})}),[n,c,i,v.length]),(0,Y.vJ)((()=>{const e=new DataTransfer;v.forEach((t=>e.items.add(t))),t.current.files=e.files}),[v]);const b=a||l||null===n;return(0,$.FD)("div",{className:$r("filepicker",{errors:s,disabled:a,readonly:l}),children:[(0,$.Y)(Ji,{htmlFor:o,label:u,required:p.required}),(0,$.Y)("input",{type:"file",className:"fjs-hidden",ref:t,id:o,name:o,disabled:b,multiple:m||void 0,accept:f||void 0,onChange:e=>{const t=e.target;if((null===t.files||0===t.files.length)&&""!==c)return n.deleteFiles(c),void i({value:null});const r=Array.from(t.files),o=c||dl.nextPrefixed(ul);n.setFiles(o,r),i({value:o})},required:p.required}),(0,$.FD)("div",{className:"fjs-filepicker-container",children:[(0,$.Y)("button",{type:"button",disabled:b,readOnly:l,className:"fjs-button fjs-filepicker-button",onClick:()=>{t.current.click()},children:"Browse"}),(0,$.Y)("span",{className:"fjs-form-field-label",children:(y=v,0===y.length?"No files selected":1===y.length?y[0].name:`${y.length} files selected`)})]}),(0,$.Y)(Ki,{id:g,errors:s})]});var y}var fl;function ml(){return ml=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ml.apply(null,arguments)}pl.config={type:"filepicker",keyed:!0,label:"File picker",group:"basic-input",emptyValue:null,create:(e={})=>({...e})};var gl=function(e){return K.n("svg",ml({xmlns:"http://www.w3.org/2000/svg",width:16,height:16},e),fl||(fl=K.n("path",{fill:"currentColor",d:"M13 12v2H3v-2H2v2a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1v-2zm0-5-.705-.705-3.795 3.79V1h-1v9.085l-3.795-3.79L3 7l5 5z"})),K.n("path",{d:"M0 0h16v16H0z",style:{fill:"none"}}))};const vl="documentPreview";function bl(e){const t=qr("documentEndpointBuilder",!1),{field:n,domId:r}=e,{dataSource:i,maxHeight:o,label:s}=n,a=`${r}-error-message`,l=function(e){const t=ii(e);return Array.isArray(t)?t.filter(wl):[]}(i||""),c=xi(s,{debug:!0});return(0,$.FD)("div",{class:$r(vl),children:[(0,$.Y)(Ji,{htmlFor:r,label:c}),(0,$.Y)("div",{class:`fjs-${vl}-document-container`,id:r,children:l.map(((e,n)=>{const i=El((()=>t?.buildUrl(e)))??e.endpoint;return"string"==typeof(s=i)&&URL.canParse(s)?(0,$.Y)(xl,{documentMetadata:e,endpoint:i,maxHeight:o,domId:`${r}-${n}`},e.documentId):null;var s}))}),(0,$.Y)(Ki,{id:a,errors:yl({dataSource:i})})]})}function yl(e){const{dataSource:t}=e;let n=[];return(!p(t)||t.length<1)&&n.push("Document reference is not defined."),n}function wl(e){return"object"==typeof e&&null!==e&&"documentId"in e&&"metadata"in e&&"object"==typeof e.metadata&&"fileName"in e.metadata}function _l(e){const{url:t,onError:n,errorMessageId:r}=e,[i,o]=(0,Y.J0)(null),[s,a]=(0,Y.J0)(!1);return(0,Y.vJ)((()=>{let e=null;return(async()=>{try{const r=await fetch(t);if(!r.ok)return a(!0),void n();const i=await r.blob();e=URL.createObjectURL(i),o(e)}catch{a(!0),n()}})(),()=>{e&&URL.revokeObjectURL(e)}}),[t,n]),(0,$.FD)($.FK,{children:[null!==i?(0,$.Y)("embed",{src:i,type:"application/pdf",class:`fjs-${vl}-pdf-viewer`}):null,s?(0,$.Y)(Ki,{id:r,errors:["Unable to download document"]}):null]})}function xl(e){const{documentMetadata:t,endpoint:n,maxHeight:r,domId:i}=e,{metadata:o}=t,[s,a]=(0,Y.J0)(!1),l=(0,Y.li)(null),c=function(e){const[t,n]=(0,Y.J0)(!1);return(0,Y.vJ)((()=>{const t=e.current;if(!t)return;const r=new IntersectionObserver((([e])=>{e.isIntersecting&&n(!0)}),{threshold:0});return r.observe(t),()=>{t&&r.unobserve(t)}}),[e]),t}(l),u=`fjs-${vl}-single-document-container`,d=`${i}-error-message`,h="Unable to download document",p="string"==typeof o.contentType;return p&&o.contentType.toLowerCase().startsWith("image/")&&c?(0,$.FD)("div",{class:u,style:{maxHeight:r},"aria-describedby":s?d:void 0,children:[(0,$.Y)("img",{src:n,alt:o.fileName,class:`fjs-${vl}-image`}),(0,$.Y)(kl,{endpoint:n,fileName:o.fileName,onDownloadError:()=>{a(!0)}}),s?(0,$.Y)(Ki,{id:d,errors:[h]}):null]}):p&&"application/pdf"===o.contentType.toLowerCase()&&c?(0,$.Y)("div",{class:u,style:{maxHeight:r},"aria-describedby":s?d:void 0,children:(0,$.Y)(_l,{url:n,fileName:o.fileName,onError:()=>a(!0),errorMessageId:d})}):(0,$.FD)("div",{class:P()(`fjs-${vl}-non-preview-item`,`fjs-${vl}-single-document-container`),ref:l,"aria-describedby":s?d:void 0,children:[(0,$.FD)("div",{children:[(0,$.Y)("div",{class:"fjs-document-preview-title",children:o.fileName}),s?(0,$.Y)(Ki,{id:d,errors:[h]}):null]}),(0,$.Y)(kl,{endpoint:n,fileName:o.fileName,onDownloadError:()=>{a(!0)}})]})}function kl(e){const{endpoint:t,fileName:n,onDownloadError:r}=e;return(0,$.Y)("button",{type:"button",onClick:async()=>{try{const e=await fetch(t);if(!e.ok)return void r();const i=await e.blob(),o=window.URL.createObjectURL(i),s=document.createElement("a");s.href=o,s.download=n,s.click(),window.URL.revokeObjectURL(o)}catch{r()}},class:P()(`fjs-${vl}-download-button`),"aria-label":`Download ${n}`,children:(0,$.Y)(gl,{})})}bl.config={type:vl,keyed:!1,group:"presentation",name:"Document preview",create:(e={})=>({label:"Document preview",...e})};const El=e=>{try{return e()}catch(e){return console.error(e),null}};function Al(){return(0,$.FD)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14.02 5.57",width:"53",height:"21",style:"vertical-align:middle",children:[(0,$.Y)("path",{fill:"currentColor",d:"M1.88.92v.14c0 .41-.13.68-.4.8.33.14.46.44.46.86v.33c0 .61-.33.95-.95.95H0V0h.95c.65 0 .93.3.93.92zM.63.57v1.06h.24c.24 0 .38-.1.38-.43V.98c0-.28-.1-.4-.32-.4zm0 1.63v1.22h.36c.2 0 .32-.1.32-.39v-.35c0-.37-.12-.48-.4-.48H.63zM4.18.99v.52c0 .64-.31.98-.94.98h-.3V4h-.62V0h.92c.63 0 .94.35.94.99zM2.94.57v1.35h.3c.2 0 .3-.09.3-.37v-.6c0-.29-.1-.38-.3-.38h-.3zm2.89 2.27L6.25 0h.88v4h-.6V1.12L6.1 3.99h-.6l-.46-2.82v2.82h-.55V0h.87zM8.14 1.1V4h-.56V0h.79L9 2.4V0h.56v4h-.64zm2.49 2.29v.6h-.6v-.6zM12.12 1c0-.63.33-1 .95-1 .61 0 .95.37.95 1v2.04c0 .64-.34 1-.95 1-.62 0-.95-.37-.95-1zm.62 2.08c0 .28.13.39.33.39s.32-.1.32-.4V.98c0-.29-.12-.4-.32-.4s-.33.11-.33.4z"}),(0,$.Y)("path",{fill:"currentColor",d:"M0 4.53h14.02v1.04H0zM11.08 0h.63v.62h-.63zm.63 4V1h-.63v2.98z"})]})}function Tl(e){const{open:t}=e;return t?(0,$.FD)("div",{class:"fjs-powered-by-lightbox",style:"z-index: 100; position: fixed; top: 0; left: 0;right: 0; bottom: 0",children:[(0,$.Y)("div",{class:"backdrop",style:"width: 100%; height: 100%; background: rgba(40 40 40 / 20%)",onClick:e.onBackdropClick}),(0,$.FD)("div",{class:"notice",style:"position: absolute; left: 50%; top: 40%; transform: translate(-50%); width: 260px; padding: 10px; background: white; box-shadow: 0  1px 4px rgba(0 0 0 / 30%); font-family: Helvetica, Arial, sans-serif; font-size: 14px; display: flex; line-height: 1.3",children:[(0,$.Y)("a",{href:"https://bpmn.io",target:"_blank",rel:"noopener noreferrer",style:"margin: 15px 20px 15px 10px; align-self: center; color: var(--cds-icon-primary, #404040)",children:(0,$.Y)(Al,{})}),(0,$.FD)("span",{children:["Web-based tooling for BPMN, DMN, and forms powered by"," ",(0,$.Y)("a",{href:"https://bpmn.io",target:"_blank",rel:"noopener noreferrer",children:"bpmn.io"}),"."]})]})]}):null}function Rl(e){return(0,$.Y)("div",{class:"fjs-powered-by fjs-form-field",style:"text-align: right",children:(0,$.Y)("a",{href:"https://bpmn.io",target:"_blank",rel:"noopener noreferrer",class:"fjs-powered-by-link",title:"Powered by bpmn.io",style:"color: var(--cds-text-primary, #404040)",onClick:e.onClick,children:(0,$.Y)(Al,{})})})}function Sl(e){const[t,n]=(0,Y.J0)(!1);function r(e){return t=>{t.preventDefault(),n(e)}}return(0,$.FD)(H.Fragment,{children:[(0,K.d5)((0,$.Y)(Tl,{open:t,onBackdropClick:r(!1)}),document.body),(0,$.Y)(Rl,{onClick:r(!0)})]})}const jl=()=>{};function Ol(e){const t=qr("form"),{schema:n,properties:r}=t._getState(),{ariaLabel:i}=r,{onSubmit:o=jl,onReset:s=jl,onChange:a=jl}=e,l=function(){const{initialData:e,data:t}=qr("form")._getState(),n=qr("conditionChecker",!1);return(0,Y.Kr)((()=>{const r=n?n.applyConditions(t,t):t;return{...e,...r}}),[n,t,e])}(),c=(0,Y.Kr)((()=>({data:l,parent:null,this:l,i:[]})),[l]);return(0,$.FD)("form",{class:"fjs-form",onSubmit:e=>{e.preventDefault(),o()},onReset:e=>{e.preventDefault(),s()},"aria-label":i,noValidate:!0,children:[(0,$.Y)(Vr.Provider,{value:c,children:(0,$.Y)(to,{field:n,onChange:a})}),(0,$.Y)(Sl,{})]})}const Fl=[Va,qa,ua,Eo,Ha,pl,Wi,Xi,ha,ya,Ra,Pa,Qs,al,Ya,bl,ka,_a,Ao,Ea,So,Ui,so];class Cl{constructor(){this._formFields={},Fl.forEach((e=>{this.register(e.config.type,e)}))}register(e,t){this._formFields[e]=t}get(e){return this._formFields[e]}}const Dl=["alt","appearance.prefixAdorner","appearance.suffixAdorner","conditional.hide","description","label","source","readonly","text","validate.min","validate.max","validate.minLength","validate.maxLength","valuesExpression","url","dataSource","columnsExpression","expression","multiple","accept","title"],Il=["alt","appearance.prefixAdorner","appearance.suffixAdorner","description","label","source","text","content","url","title"];function zl(e,t={}){const{formFields:n=new Cl,expressionLanguage:r=new fr(null),templating:i=new mr,inputs:o=!0,outputs:s=!0}=t;if(!e.components)return[];const a=e=>{const t=[];return e.components&&e.components.forEach((e=>{t.push(e),t.push(...a(e))})),t},l=a(e).reduce(((e,t)=>{const{valuesKey:n}=t;return o&&(n&&(e=[...e,n]),Dl.forEach((n=>{const i=E(t,n.split("."));if(i&&r.isExpression(i)){const t=r.getVariableNames(i,{type:"expression"});e=[...e,...t]}})),Il.forEach((n=>{const o=E(t,n.split("."));if(o&&!r.isExpression(o)&&i.isTemplate(o)){const t=i.getVariableNames(o);e=[...e,...t]}}))),e.filter((e=>"string"==typeof e))}),[]),c=e=>{const t=[],r=n.get(e.type);return r&&r.config.keyed&&e.key?[e.key.split(".")[0]]:r&&r.config.pathed&&e.path?[e.path.split(".")[0]]:(e.components&&e.components.forEach((e=>{t.push(...c(e))})),t)};return(o||s)&&l.push(...c(e)),Array.from(new Set(l))}const Ml=(e,t)=>{const n=[];let r=t.get(e);for(;r;)n.push(r.id),r=t.get(r._parent);return n};class Nl{constructor(e,t,n){this._formFieldRegistry=e,this._pathRegistry=t,this._eventBus=n}applyConditions(e,t={},n={}){const r=Kr(e),{getFilterPath:i=(e,t)=>this._pathRegistry.getValuePath(e,{indexes:t})}=n,o=(e,n,s=!1)=>{const{indexes:a={},expressionIndexes:l=[],scopeData:c=t,parentScopeData:u=null}=n;this._pathRegistry.executeRecursivelyOnFields(e,(({field:e,isClosed:n,isRepeatable:d,context:h})=>{const{conditional:p,components:f,id:m}=e,g=Wr({this:c,data:t,i:l,parent:u});if(h.isHidden=s||h.isHidden||p&&this._checkHideCondition(p,g),d&&!h.isHidden){h.preventRecursion=!0;const n=this._pathRegistry.getValuePath(e,{indexes:a}),r=E(t,n);if(!(Array.isArray(r)&&r.length&&Array.isArray(f)&&f.length))return;for(let e=0;e<r.length;e++){const t={indexes:{...a,[m]:e},expressionIndexes:[...l,e+1],scopeData:r[e],parentScopeData:c};f.forEach((e=>{o(e,t,h.isHidden)}))}}h.isHidden&&d&&(h.preventRecursion=!0,this._eventBus.fire("conditionChecker.remove",{item:{[e.key]:E(r,i(e,a))}}),this._cleanlyClearDataAtPath(i(e,a),r)),h.isHidden&&n&&(this._eventBus.fire("conditionChecker.remove",{item:{[e.key]:E(r,i(e,a))}}),this._cleanlyClearDataAtPath(i(e,a),r))}))},s=this._formFieldRegistry.getForm();if(!s)throw new Error("form field registry has no form");return o(s,{scopeData:t}),r}check(e,t={}){if(!e)return null;if(!p(e)||!e.startsWith("="))return null;try{return function(e,t={},n){const r=void 0!==t["?"]?t["?"]:null,{root:i}=Ft.unaryTest(e,t,n);return i(t)(r)}(e.slice(1),t)}catch(e){return this._eventBus.fire("error",{error:e}),null}}_checkHideCondition(e,t){return!!e.hide&&!0===this.check(e.hide,t)}_cleanlyClearDataAtPath(e,t){const n=[...e];let r=!1;do{k(t,n,void 0),n.pop();const e=E(t,n);r=!!n.length&&(this._isEmptyObject(e)||this._isEmptyArray(e))}while(r)}_isEmptyObject(e){return u(e)&&!(t=e,g(t,(e=>e))).length;var t}_isEmptyArray(e){return Array.isArray(e)&&(!e.length||e.every((e=>void 0===e)))}}Nl.$inject=["formFieldRegistry","pathRegistry","eventBus"];const Ll={__init__:["expressionLanguage","templating","conditionChecker"],expressionLanguage:["type",fr],templating:["type",mr],conditionChecker:["type",Nl]};class Pl{constructor(e){this._computedExpressions=[],e.on("field.updated",(({shouldNotRecompute:e})=>{e||this.reset()})),e.on("import.done",this.reset.bind(this)),e.on("reset",this.reset.bind(this))}registerExpressionExecution(e){return!this._computedExpressions.includes(e)&&(this._computedExpressions.push(e),!0)}reset(){this._computedExpressions=[]}}Pl.$inject=["eventBus"];const $l={__init__:["expressionLoopPreventer"],expressionLoopPreventer:["type",Pl]};class Yl{render(e){return ar.parse(e,{gfm:!0,breaks:!0})}}Yl.$inject=[];const Hl={__init__:["markdownRenderer"],markdownRenderer:["type",Yl]};function Bl(e,t){this._handlerMap={},this._stack=[],this._stackIdx=-1,this._currentExecution={actions:[],dirty:[],trigger:null},this._injector=t,this._eventBus=e,this._uid=1,e.on(["diagram.destroy","diagram.clear"],(function(){this.clear(!1)}),this)}Bl.$inject=["eventBus","injector"],Bl.prototype.execute=function(e,t){if(!e)throw new Error("command required");this._currentExecution.trigger="execute";const n={command:e,context:t};this._pushAction(n),this._internalExecute(n),this._popAction()},Bl.prototype.canExecute=function(e,t){const n={command:e,context:t},r=this._getHandler(e);let i=this._fire(e,"canExecute",n);if(void 0===i){if(!r)return!1;r.canExecute&&(i=r.canExecute(t))}return i},Bl.prototype.clear=function(e){this._stack.length=0,this._stackIdx=-1,!1!==e&&this._fire("changed",{trigger:"clear"})},Bl.prototype.undo=function(){let e,t=this._getUndoAction();if(t){for(this._currentExecution.trigger="undo",this._pushAction(t);t&&(this._internalUndo(t),e=this._getUndoAction(),e&&e.id===t.id);)t=e;this._popAction()}},Bl.prototype.redo=function(){let e,t=this._getRedoAction();if(t){for(this._currentExecution.trigger="redo",this._pushAction(t);t&&(this._internalExecute(t,!0),e=this._getRedoAction(),e&&e.id===t.id);)t=e;this._popAction()}},Bl.prototype.register=function(e,t){this._setHandler(e,t)},Bl.prototype.registerHandler=function(e,t){if(!e||!t)throw new Error("command and handlerCls must be defined");const n=this._injector.instantiate(t);this.register(e,n)},Bl.prototype.canUndo=function(){return!!this._getUndoAction()},Bl.prototype.canRedo=function(){return!!this._getRedoAction()},Bl.prototype._getRedoAction=function(){return this._stack[this._stackIdx+1]},Bl.prototype._getUndoAction=function(){return this._stack[this._stackIdx]},Bl.prototype._internalUndo=function(e){const t=e.command,n=e.context,r=this._getHandler(t);this._atomicDo((()=>{this._fire(t,"revert",e),r.revert&&this._markDirty(r.revert(n)),this._revertedAction(e),this._fire(t,"reverted",e)}))},Bl.prototype._fire=function(e,t,n){arguments.length<3&&(n=t,t=null);const r=t?[e+"."+t,t]:[e];let i;n=this._eventBus.createEvent(n);for(const e of r)if(i=this._eventBus.fire("commandStack."+e,n),n.cancelBubble)break;return i},Bl.prototype._createId=function(){return this._uid++},Bl.prototype._atomicDo=function(e){const t=this._currentExecution;t.atomic=!0;try{e()}finally{t.atomic=!1}},Bl.prototype._internalExecute=function(e,t){const n=e.command,r=e.context,i=this._getHandler(n);if(!i)throw new Error("no command handler registered for <"+n+">");this._pushAction(e),t||(this._fire(n,"preExecute",e),i.preExecute&&i.preExecute(r),this._fire(n,"preExecuted",e)),this._atomicDo((()=>{this._fire(n,"execute",e),i.execute&&this._markDirty(i.execute(r)),this._executedAction(e,t),this._fire(n,"executed",e)})),t||(this._fire(n,"postExecute",e),i.postExecute&&i.postExecute(r),this._fire(n,"postExecuted",e)),this._popAction()},Bl.prototype._pushAction=function(e){const t=this._currentExecution,n=t.actions,r=n[0];if(t.atomic)throw new Error("illegal invocation in <execute> or <revert> phase (action: "+e.command+")");e.id||(e.id=r&&r.id||this._createId()),n.push(e)},Bl.prototype._popAction=function(){const e=this._currentExecution,t=e.trigger,n=e.actions,r=e.dirty;n.pop(),n.length||(this._eventBus.fire("elements.changed",{elements:b("id",r.reverse())}),r.length=0,this._fire("changed",{trigger:t}),e.trigger=null)},Bl.prototype._markDirty=function(e){const t=this._currentExecution;e&&(e=c(e)?e:[e],t.dirty=t.dirty.concat(e))},Bl.prototype._executedAction=function(e,t){const n=++this._stackIdx;t||this._stack.splice(n,this._stack.length,e)},Bl.prototype._revertedAction=function(e){this._stackIdx--},Bl.prototype._getHandler=function(e){return this._handlerMap[e]},Bl.prototype._setHandler=function(e,t){if(!e||!t)throw new Error("command and handler required");if(this._handlerMap[e])throw new Error("overriding handler for command <"+e+">");this._handlerMap[e]=t};var Vl={commandStack:["type",Bl]};class Ul{constructor(e,t){this._form=e,this._validator=t}execute(e){const{field:t,value:n,indexes:r}=e,{errors:i}=this._form._getState();e.oldErrors=Kr(i);const o=this._validator.validateField(t,n),s=k(i,[t.id,...Object.values(r||{})],o.length?o:void 0);this._form._setState({errors:s})}revert(e){this._form._setState({errors:e.oldErrors})}}Ul.$inject=["form","validator"];class ql{constructor(e,t){this._form=e,this._validator=t}execute(e){const{fieldInstance:t,value:n}=e,{id:r,indexes:i}=t,{errors:o}=this._form._getState();e.oldErrors=Kr(o);const s=this._validator.validateFieldInstance(t,n),a=k(o,[r,...Object.values(i||{})],s.length?s:void 0);this._form._setState({errors:a})}revert(e){this._form._setState({errors:e.oldErrors})}}ql.$inject=["form","validator"];class Kl{constructor(e,t){this._commandStack=e,t.on("form.init",(()=>{this.registerHandlers()}))}registerHandlers(){Object.entries(this.getHandlers()).forEach((([e,t])=>{this._commandStack.registerHandler(e,t)}))}getHandlers(){return{"formField.validation.update":Ul,"formFieldInstance.validation.update":ql}}updateFieldValidation(e,t,n){const r={field:e,value:t,indexes:n};this._commandStack.execute("formField.validation.update",r)}updateFieldInstanceValidation(e,t){const n={fieldInstance:e,value:t};this._commandStack.execute("formFieldInstance.validation.update",n)}}Kl.$inject=["commandStack","eventBus"];const Jl={__depends__:[Vl],__init__:["viewerCommands"],viewerCommands:["type",Kl]};var Zl;function Wl(){return Wl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wl.apply(null,arguments)}var Gl,Xl=function(e){return K.n("svg",Wl({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),Zl||(Zl=K.n("path",{fill:"currentColor",d:"M2 9h5.5v3.086l-1.293-1.293-.707.707L8 14l2.5-2.5-.707-.707L8.5 12.086V9H14V8H2zm11-7H3a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1m0 3H3V3h10z"})))};function Ql(){return Ql=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ql.apply(null,arguments)}var ec,tc,nc=function(e){return K.n("svg",Ql({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),Gl||(Gl=K.n("path",{fill:"currentColor",d:"M13 10H3a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1m0 3H3v-2h10zM8.5 3.914l1.293 1.293.707-.707L8 2 5.5 4.5l.707.707L7.5 3.914V7H2v1h12V7H8.5z"})))};function rc(){return rc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rc.apply(null,arguments)}var ic,oc=function(e){return K.n("svg",rc({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),ec||(ec=K.n("path",{fill:"currentColor",d:"M8 2c3.3 0 6 2.7 6 6s-2.7 6-6 6-6-2.7-6-6 2.7-6 6-6m0-1C4.15 1 1 4.15 1 8s3.15 7 7 7 7-3.15 7-7-3.15-7-7-7"})),tc||(tc=K.n("path",{fill:"currentColor",d:"M12 7.5H8.5V4h-1v3.5H4v1h3.5V12h1V8.5H12z"})))};function sc(){return sc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sc.apply(null,arguments)}var ac=function(e){return K.n("svg",sc({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),ic||(ic=K.n("path",{fill:"currentColor",d:"m12 4.7-.7-.7L8 7.3 4.7 4l-.7.7L7.3 8 4 11.3l.7.7L8 8.7l3.3 3.3.7-.7L8.7 8z"})))};class lc{constructor(e,t,n,r,i){this._form=e,this._formFields=t,this._formFieldRegistry=n,this._pathRegistry=r,this._eventBus=i,this.Repeater=this.Repeater.bind(this),this.RepeatFooter=this.RepeatFooter.bind(this)}isFieldRepeating(e){if(!e)return!1;const t=this._formFieldRegistry.get(e);return this._formFields.get(t.type).config.repeatable&&t.isRepeating}Repeater(e){const{RowsRenderer:t,indexes:n,useSharedState:r,...i}=e,[o]=r,{data:s}=this._form._getState(),a=e.field,l=this._pathRegistry.getValuePath(a,{indexes:n}),c=E(s,l)||[],u=this._getNonCollapsedItems(a),d=!a.disableCollapse&&c.length>u&&o.isCollapsed,h=a.components&&a.components.length>0,p=a.allowAddRemove&&h,f=t=>{const r=c.slice(),i=r.splice(t,1)[0];this._eventBus.fire("repeatRenderManager.remove",{dataPath:l,index:t,item:i}),e.onChange({field:a,value:r,indexes:n})},m=(0,Y.NT)(Vr);return(0,$.Y)($.FK,{children:c.map(((e,r)=>(0,$.Y)("div",{class:P()({"fjs-repeat-row-collapsed":!!d&&r>=u}),children:(0,$.Y)(cc,{itemIndex:r,itemValue:e,parentExpressionContextInfo:m,repeaterField:a,RowsRenderer:t,indexes:n,onDeleteItem:f,showRemove:p,...i})},r)))})}RepeatFooter(e){const t=(0,Y.li)(null),{useSharedState:n,indexes:r,field:i,readonly:o,disabled:s}=e,[a,l]=n,{data:c}=this._form._getState(),u=this._pathRegistry.getValuePath(i,{indexes:r}),d=E(c,u)||[],h=this._getNonCollapsedItems(i),p=!i.disableCollapse&&d.length>h,f=p&&a.isCollapsed,g=i.components&&i.components.length>0,v=i.allowAddRemove&&g,b=(0,Y.li)(!1);return function(e,t,n,r){const i={align:"bottom",behavior:"auto",offset:20}||gi,o=r||vi;(0,Y.vJ)((()=>{if(function(e,t){const n=w(t);let r;return m(e,(function(e,t){if(n(e,t))return r=e,!1})),r}(o,(e=>!e.current))||!e.current)return;for(let e=0;e<o.length;e++)o[e].current=!1;const t=e.current,n=fi(t);if(!n)return;const r=t.getBoundingClientRect(),s=n.getBoundingClientRect(),{align:a="center",offset:l=0,behavior:c="auto",scrollIfVisible:u=!1}=i;if(!u&&r.top>=s.top&&r.bottom<=s.bottom)return;const d=function(e,t,n){const r=e.getBoundingClientRect(),i=t.getBoundingClientRect();return"top"===n.align?r.top-i.top+t.scrollTop-n.offset:"bottom"===n.align?r.bottom-i.top-t.clientHeight+t.scrollTop+n.offset:"center"===n.align?r.top-i.top-t.clientHeight/2+t.scrollTop+r.height/2+n.offset:0}(t,n,{align:a,offset:l});n.scroll({top:d,behavior:c})}),t)}(t,[d.length],0,[b]),(0,$.FD)("div",{className:P()("fjs-repeat-render-footer",{"fjs-remove-allowed":i.allowAddRemove}),children:[v?(0,$.Y)("button",{type:"button",readOnly:o,disabled:s||o,class:"fjs-repeat-render-add",ref:t,onClick:()=>{const t=d.slice(),n=this._form._getInitializedFieldData(this._form._getState().data,{container:i,indexes:{...r,[i.id]:t.length}});t.push(n),b.current=!0,this._eventBus.fire("repeatRenderManager.add",{dataPath:u,index:t.length-1,item:n}),e.onChange({value:t}),l((e=>({...e,isCollapsed:!1})))},children:(0,$.FD)($.FK,{children:[(0,$.Y)(oc,{})," ","Add new"]})}):null,p?(0,$.Y)("button",{type:"button",class:"fjs-repeat-render-collapse",onClick:()=>{l((e=>({...e,isCollapsed:!f})))},children:f?(0,$.FD)($.FK,{children:[(0,$.Y)(Xl,{})," ",`Expand all (${d.length-1})`]}):(0,$.FD)($.FK,{children:[(0,$.Y)(nc,{})," ","Collapse"]})}):null]})}_getNonCollapsedItems(e){const{nonCollapsedItems:t}=e;return t||5}}const cc=e=>{const{itemIndex:t,itemValue:n,parentExpressionContextInfo:r,repeaterField:i,RowsRenderer:o,indexes:s,onDeleteItem:a,showRemove:l,...c}=e,u=(0,Y.Kr)((()=>({...c,indexes:{...s||{},[i.id]:t}})),[t,s,i.id,c]),d=(0,Y.Kr)((()=>({data:r.data,this:n,parent:Wr({...r,data:r.this}),i:[...r.i,t+1]})),[t,r,n]);return l?(0,$.FD)("div",{class:"fjs-repeat-row-container",children:[(0,$.Y)("div",{class:"fjs-repeat-row-rows",children:(0,$.Y)(Vr.Provider,{value:d,children:(0,$.Y)(o,{...u})})}),(0,$.Y)("button",{type:"button",class:"fjs-repeat-row-remove","aria-label":`Remove list item ${t+1}`,onClick:()=>a(t),children:(0,$.Y)("div",{class:"fjs-repeat-row-remove-icon-container",children:(0,$.Y)(ac,{})})})]}):(0,$.Y)(Vr.Provider,{value:d,children:(0,$.Y)(o,{...u})})};lc.$inject=["form","formFields","formFieldRegistry","pathRegistry","eventBus"];const uc={__init__:["repeatRenderManager"],repeatRenderManager:["type",lc]};var dc="__fn",hc=Array.prototype.slice;function pc(){this._listeners={},this.on("diagram.destroy",1,this._destroy,this)}function fc(){}pc.prototype.on=function(e,t,n,r){if(e=c(e)?e:[e],h(t)&&(r=n,n=t,t=1e3),!d(t))throw new Error("priority must be a number");var i=n;r&&(i=function(e,t){return e.bind(t)}(n,r),i[dc]=n[dc]||n);var o=this;e.forEach((function(e){o._addListener(e,{priority:t,callback:i,next:null})}))},pc.prototype.once=function(e,t,n,r){var i=this;if(h(t)&&(r=n,n=t,t=1e3),!d(t))throw new Error("priority must be a number");function o(){o.__isTomb=!0;var t=n.apply(r,arguments);return i.off(e,o),t}o[dc]=n,this.on(e,t,o)},pc.prototype.off=function(e,t){e=c(e)?e:[e];var n=this;e.forEach((function(e){n._removeListener(e,t)}))},pc.prototype.createEvent=function(e){var t=new fc;return t.init(e),t},pc.prototype.fire=function(e,t){var n,r,i,o;if(o=hc.call(arguments),"object"==typeof e&&(e=(t=e).type),!e)throw new Error("no event type specified");if(r=this._listeners[e]){n=t instanceof fc?t:this.createEvent(t),o[0]=n;var s=n.type;e!==s&&(n.type=e);try{i=this._invokeListeners(n,o,r)}finally{e!==s&&(n.type=s)}return void 0===i&&n.defaultPrevented&&(i=!1),i}},pc.prototype.handleError=function(e){return!1===this.fire("error",{error:e})},pc.prototype._destroy=function(){this._listeners={}},pc.prototype._invokeListeners=function(e,t,n){for(var r;n&&!e.cancelBubble;)r=this._invokeListener(e,t,n),n=n.next;return r},pc.prototype._invokeListener=function(e,t,n){var r;if(n.callback.__isTomb)return r;try{r=function(e,t){return e.apply(null,t)}(n.callback,t),void 0!==r&&(e.returnValue=r,e.stopPropagation()),!1===r&&e.preventDefault()}catch(e){if(!this.handleError(e))throw console.error("unhandled error in event listener",e),e}return r},pc.prototype._addListener=function(e,t){var n,r=this._getListeners(e);if(r){for(;r;){if(r.priority<t.priority)return t.next=r,void(n?n.next=t:this._setListeners(e,t));n=r,r=r.next}n.next=t}else this._setListeners(e,t)},pc.prototype._getListeners=function(e){return this._listeners[e]},pc.prototype._setListeners=function(e,t){this._listeners[e]=t},pc.prototype._removeListener=function(e,t){var n,r,i,o=this._getListeners(e);if(t)for(;o;)n=o.next,(i=o.callback)!==t&&i[dc]!==t||(r?r.next=n:this._setListeners(e,n)),r=o,o=n;else this._setListeners(e,null)},fc.prototype.stopPropagation=function(){this.cancelBubble=!0},fc.prototype.preventDefault=function(){this.defaultPrevented=!0},fc.prototype.init=function(e){!function(e,...t){Object.assign(e,...t)}(this,e||{})};const mc=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,gc=/(\+|00)(297|93|244|1264|358|355|376|971|54|374|1684|1268|61|43|994|257|32|229|226|880|359|973|1242|387|590|375|501|1441|591|55|1246|673|975|267|236|1|61|41|56|86|225|237|243|242|682|57|269|238|506|53|5999|61|1345|357|420|49|253|1767|45|1809|1829|1849|213|593|20|291|212|34|372|251|358|679|500|33|298|691|241|44|995|44|233|350|224|590|220|245|240|30|1473|299|502|594|1671|592|852|504|385|509|36|62|44|91|246|353|98|964|354|972|39|1876|44|962|81|76|77|254|996|855|686|1869|82|383|965|856|961|231|218|1758|423|94|266|370|352|371|853|590|212|377|373|261|960|52|692|389|223|356|95|382|976|1670|258|222|1664|596|230|265|60|262|264|687|227|672|234|505|683|31|47|977|674|64|968|92|507|64|51|63|680|675|48|1787|1939|850|351|595|970|689|974|262|40|7|250|966|249|221|65|500|4779|677|232|503|378|252|508|381|211|239|597|421|386|46|268|1721|248|963|1649|235|228|66|992|690|993|670|676|1868|216|90|688|886|255|256|380|598|1|998|3906698|379|1784|58|1284|1340|84|678|681|685|967|27|260|263)(9[976]\d|8[987530]\d|6[987]\d|5[90]\d|42\d|3[875]\d|2[98654321]\d|9[8543210]|8[6421]|6[6543210]|5[87654321]|4[987654310]|3[9643210]|2[70]|7|1)\d{4,20}$/,vc=["min","max","minLength","maxLength"];class bc{constructor(e,t,n,r){this._expressionLanguage=e,this._conditionChecker=t,this._form=n,this._formFieldRegistry=r}validateField(e,t){const{type:n,validate:r}=e;let i=[];if("number"===n&&(i=[...i,...yc(e,t)]),!r)return i;const o=function(e,t,n,r){const i={...e};return vc.forEach((e=>{const o=e.split("."),s=E(i,o);if(!t||!t.isExpression(s))return s;const{initialData:a,data:l}=r._getState(),c={...a,...n?n.applyConditions(l,l):l},u=t.evaluate(s,c);u&&k(i,o,u)})),i}(r,this._expressionLanguage,this._conditionChecker,this._form);return i=[...i,...wc(e,o,t)],i}validateFieldInstance(e,t){const{id:n,expressionContextInfo:r}=e,i=this._formFieldRegistry.get(n);if(!i)return[];const{type:o,validate:s}=i;let a=[];if("number"===o&&(a=[...a,...yc(i,t)]),!s)return a;const l=function(e,t,n){const r={...e};return vc.forEach((e=>{const i=e.split("."),o=E(r,i),s=Gr(t,o,n);k(r,i,null===s?void 0:s)})),r}(s,this._expressionLanguage,r);return a=[...a,...wc(i,l,t)],a}}function yc(e,t){const{decimalDigits:n,increment:r}=e,i=[];if("NaN"===t)i.push("Value is not a number.");else if(t&&(n>=0&&function(e){const t=N(e);return t.toString()===t.toFixed(0)?0:t.toFixed().split(".")[1].length||0}(t)>n&&i.push("Value is expected to "+(0===n?"be an integer":`have at most ${n} decimal digit${n>1?"s":""}`)+"."),r)){const e=N(t),n=N(r),o=e.mod(n);if(0!==o.cmp(0)){const t=e.minus(o),r=t.plus(n);i.push(`Please select a valid value, the two nearest valid values are ${t} and ${r}.`)}}return i}function wc(e,t,n){const r=[];if(t.pattern&&n&&!new RegExp(t.pattern).test(n)&&r.push(t.patternErrorMessage||`Field must match pattern ${t.pattern}.`),t.required){const t="checkbox"===e.type&&!1===n,i=l(n)||""===n,o=Array.isArray(n)&&0===n.length;(t||i||o)&&r.push("Field is required.")}return"min"in t&&(n||0===n)&&n<t.min&&r.push(`Field must have minimum value of ${t.min}.`),"max"in t&&(n||0===n)&&n>t.max&&r.push(`Field must have maximum value of ${t.max}.`),"minLength"in t&&n&&n.trim().length<t.minLength&&r.push(`Field must have minimum length of ${t.minLength}.`),"maxLength"in t&&n&&n.trim().length>t.maxLength&&r.push(`Field must have maximum length of ${t.maxLength}.`),"validationType"in t&&n&&"phone"===t.validationType&&!gc.test(n)&&r.push("Field must be a valid  international phone number. (e.g. +4930664040900)"),"validationType"in t&&n&&"email"===t.validationType&&!mc.test(n)&&r.push("Field must be a valid email."),r}bc.$inject=["expressionLanguage","conditionChecker","form","formFieldRegistry"];class _c{constructor(e,t,n,r){this._formFieldRegistry=e,this._pathRegistry=t,this._fieldFactory=n,this._formLayouter=r}importSchema(e){const t=[];try{this._cleanup();const n=this.importFormField(Kr(e));return this._formLayouter.calculateLayout(Kr(n)),{schema:n,warnings:t}}catch(e){throw this._cleanup(),e.warnings=t,e}}_cleanup(){this._formLayouter.clear(),this._formFieldRegistry.clear(),this._pathRegistry.clear()}importFormField(e,t,n){const{components:r}=e;let i,o;t&&(i=this._formFieldRegistry.get(t)),o=i?[...i._path,"components",n]:[];const s=this._fieldFactory.create({...e,_path:o,_parent:t},!1);return this._formFieldRegistry.add(s),r&&(s.components=this.importFormFields(r,s.id)),s}importFormFields(e,t){return e.map(((e,n)=>this.importFormField(e,t,n)))}}_c.$inject=["formFieldRegistry","pathRegistry","fieldFactory","formLayouter"];class xc{constructor(e,t,n){this._formFieldRegistry=e,this._pathRegistry=t,this._formFields=n}create(e,t=!0){const{id:n,type:r,key:i,path:o,_parent:s}=e,a=this._formFields.get(r);if(!a)throw new Error(`form field of type <${r}> not supported`);const{config:l}=a;if(!l)throw new Error(`form field of type <${r}> has no config`);if(n&&this._formFieldRegistry._ids.assigned(n))throw new Error(`form field with id <${n}> already exists`);const c=s&&this._formFieldRegistry.get(s),u=c&&this._pathRegistry.getValuePath(c)||[],d=Ml(s,this._formFieldRegistry);if(l.keyed&&i&&!this._pathRegistry.canClaimPath([...u,...i.split(".")],{isClosed:!0,knownAncestorIds:d}))throw new Error(`binding path '${[...u,i].join(".")}' is already claimed`);if(l.pathed&&o&&!this._pathRegistry.canClaimPath([...u,...o.split(".")],{isRepeatable:l.repeatable,knownAncestorIds:d}))throw new Error(`binding path '${[...u,...o.split(".")].join(".")}' is already claimed`);const h=l.create({...l.label?{label:l.label}:{},...e},t);return this._ensureId(h),l.keyed&&(this._ensureKey(h),this._pathRegistry.claimPath(this._pathRegistry.getValuePath(h),{isClosed:!0,claimerId:h.id,knownAncestorIds:Ml(s,this._formFieldRegistry)})),l.pathed&&(l.repeatable&&this._enforceDefaultPath(h),this._pathRegistry.claimPath(this._pathRegistry.getValuePath(h),{isRepeatable:l.repeatable,claimerId:h.id,knownAncestorIds:Ml(s,this._formFieldRegistry)})),h}_ensureId(e){if(e.id)return void this._formFieldRegistry._ids.claim(e.id,e);let t="Field";"default"===e.type&&(t="Form"),e.id=this._formFieldRegistry._ids.nextPrefixed(`${t}_`,e)}_ensureKey(e){e.key||(e.key=this._getUniqueKeyPath(e))}_enforceDefaultPath(e){e.path||(e.path=this._getUniqueKeyPath(e))}_getUniqueKeyPath(e){let t;const n=this._formFieldRegistry.get(e._parent);do{t=Math.random().toString(36).substring(7)}while(n&&n.components.some((e=>e.key===t)));return`${e.type}_${t}`}}xc.$inject=["formFieldRegistry","pathRegistry","formFields"];class kc{constructor(e,t,n){this._formFieldRegistry=e,this._formFields=t,this._injector=n,this._dataPaths=[]}canClaimPath(e,t={}){const{isClosed:n=!1,isRepeatable:r=!1,skipAncestryCheck:i=!1,claimerId:o=null,knownAncestorIds:s=[]}=t;let a={children:this._dataPaths};for(const t of e){if(a=Ec(a,t),!a)return!0;if(a.isRepeatable&&!i){if(!o&&!s.length)throw new Error("cannot claim a path that contains a repeater without specifying a claimerId or knownAncestorIds");if(!(s.includes(a.repeaterId)||o&&Ml(o,this._formFieldRegistry).includes(a.repeaterId)))return!1}if(null===a.children)return!1}return!(n||r)}claimPath(e,t={}){const{isClosed:n=!1,isRepeatable:r=!1,claimerId:i=null,knownAncestorIds:o=[]}=t;if(!this.canClaimPath(e,{isClosed:n,isRepeatable:r,claimerId:i,knownAncestorIds:o}))throw new Error(`cannot claim path '${e.join(".")}'`);let s={children:this._dataPaths};for(const t of e){let e=Ec(s,t);e?e.claimCount++:(e={segment:t,claimCount:1,children:[]},s.children.push(e)),s=e}n&&(s.children=null),r&&(s.isRepeatable=!0,s.repeaterId=i)}unclaimPath(e){let t={children:this._dataPaths};for(const n of e){const r=Ec(t,n);if(!r)throw new Error(`no open path found for '${e.join(".")}'`);t=r}t={children:this._dataPaths};for(const n of e){const e=Ec(t,n);if(e.claimCount--,0===e.claimCount){t.children.splice(t.children.indexOf(e),1);break}t=e}}executeRecursivelyOnFields(e,t,n={}){let r=!0;const i=this._formFields.get(e.type).config;if(i.keyed){const i=t({field:e,isClosed:!0,isRepeatable:!1,context:n});return r&&i}if(i.pathed){const o=t({field:e,isClosed:!1,isRepeatable:i.repeatable,context:n});r=r&&o}if(!1===r||n.preventRecursion)return r;if(Array.isArray(e.components))for(const i of e.components){const e=this.executeRecursivelyOnFields(i,t,Kr(n));if(r=r&&e,!1===r)return r}return r}getValuePath(e,t={}){const{replacements:n={},indexes:r=null,cutoffNode:i=null}=t;let o=[];const s=Object.prototype.hasOwnProperty.call(n,e.id),a=this._formFields.get(e.type).config;if(s){const t=n[e.id];if(null==t||""===t)o=[];else if("string"==typeof t)o=t.split(".");else{if(!Array.isArray(t))throw new Error(`replacements for field ${e.id} must be a string, array or null/undefined`);o=t}}else a.keyed?o=e.key.split("."):a.pathed&&e.path&&(o=e.path.split("."));if(r&&(o=this._addIndexes(o,e,r)),e._parent&&e._parent!==i){const n=this._formFieldRegistry.get(e._parent);return[...this.getValuePath(n,t)||[],...o]}return o}clear(){this._dataPaths=[]}_addIndexes(e,t,n){const r=this._injector.get("repeatRenderManager",!1);return r&&r.isFieldRepeating(t._parent)?[n[t._parent],...e]:e}}const Ec=(e,t)=>c(e.children)&&e.children.find((e=>e.segment===t))||null;kc.$inject=["formFieldRegistry","formFields","injector"];class Ac{constructor(e){this._rows=[],this._ids=new r.A([32,36,1]),this._eventBus=e}addRow(e,t){let n=this._rows.find((t=>t.formFieldId===e));n||(n={formFieldId:e,rows:[]},this._rows.push(n)),n.rows.push(t)}getRow(e){return Tc(this._rows).find((t=>t.id===e))}getRowForField(e){return Tc(this._rows).find((t=>{const{components:n}=t;return n.includes(e.id)}))}getRows(e){const t=this._rows.find((t=>e===t.formFieldId));return t?t.rows:[]}nextRowId(){return this._ids.nextPrefixed("Row_")}calculateLayout(e){const{type:t,components:n}=e;if(!["default","group","dynamiclist"].includes(t)||!n)return;const r=function(e,t){return v(e,(e=>{const{layout:n}=e;return n&&n.row?n.row:t.nextPrefixed("Row_")}))}(n,this._ids);Object.entries(r).forEach((([t,n])=>{this.addRow(e.id,{id:t,components:n.map((e=>e.id))})})),n.forEach((e=>this.calculateLayout(e))),this._eventBus.fire("form.layoutCalculated",{rows:this._rows})}clear(){this._rows=[],this._ids.clear(),this._eventBus.fire("form.layoutCleared")}}function Tc(e){return e.map((e=>e.rows)).flat()}Ac.$inject=["eventBus"];class Rc{constructor(e){this._eventBus=e,this._formFields={},e.on("form.clear",(()=>this.clear())),this._ids=new r.A([32,36,1])}add(e){const{id:t}=e;if(this._formFields[t])throw new Error(`form field with ID ${t} already exists`);this._eventBus.fire("formField.add",{formField:e}),this._formFields[t]=e}remove(e){const{id:t}=e;this._formFields[t]&&(this._eventBus.fire("formField.remove",{formField:e}),delete this._formFields[t])}get(e){return this._formFields[e]}getAll(){return Object.values(this._formFields)}getForm(){return this.getAll().find((e=>"default"===e.type))}forEach(e){this.getAll().forEach((t=>e(t)))}clear(){this._formFields={},this._ids.clear()}}Rc.$inject=["eventBus"];class Sc{constructor(e,t,n){this._eventBus=e,this._formFieldRegistry=t,this._formFields=n,this._formFieldInstances={},e.on("form.clear",(()=>this.clear()))}syncInstance(e,t){const{hidden:n,...r}=t,i=!n,o=this._formFieldInstances[e];return i&&!o?(this._formFieldInstances[e]={instanceId:e,...r},this._eventBus.fire("formFieldInstance.added",{instanceId:e})):!i&&o?(delete this._formFieldInstances[e],this._eventBus.fire("formFieldInstance.removed",{instanceId:e})):i&&o&&Object.keys(r).some((t=>this._formFieldInstances[e][t]!==r[t]))&&(this._formFieldInstances[e]={instanceId:e,...r},this._eventBus.fire("formFieldInstance.changed",{instanceId:e})),e}cleanupInstance(e){this._formFieldInstances[e]&&(delete this._formFieldInstances[e],this._eventBus.fire("formFieldInstance.removed",{instanceId:e}))}get(e){return this._formFieldInstances[e]}getAll(){return Object.values(this._formFieldInstances)}getAllKeyed(){return this.getAll().filter((({id:e})=>{const t=this._formFieldRegistry.get(e);if(!t)return!1;const{type:n}=t,{config:r}=this._formFields.get(n);return r.keyed}))}clear(){this._formFieldInstances={}}}function jc(e,t,n,r){const i=()=>{const[e,i]=(0,Y.J0)(n._getState()),o={getService:(e,t=!0)=>r.get(e,t),formId:n._id};t.on("changed",(e=>{i(e)}));const s=(0,Y.hb)((e=>n._update(e)),[]),{properties:a}=e,{readOnly:l}=a,c=(0,Y.hb)((()=>{l||n.submit()}),[l]),u=(0,Y.hb)((()=>n.reset()),[]),{schema:d}=e;return d?(0,$.Y)(Ur.Provider,{value:o,children:(0,$.Y)(Ol,{onChange:s,onSubmit:c,onReset:u})}):null},{container:o}=e;t.on("form.init",(()=>{(0,H.render)((0,$.Y)(i,{}),o)})),t.on("form.destroy",(()=>{(0,H.render)(null,o)}))}Sc.$inject=["eventBus","formFieldRegistry","formFields"],jc.$inject=["config.renderer","eventBus","form","injector"];const Oc=e=>{const t=[];return null===e||Object.values(e).forEach((e=>{null!==e&&("object"==typeof e?t.push(...Oc(e)):Array.isArray(e)?t.push(...e.map(Oc).flat()):"string"==typeof e&&e.startsWith(ul)&&t.push(e))})),t},Fc=Symbol("fileRegistry"),Cc=Symbol("eventBus"),Dc=Symbol("formFieldRegistry"),Ic=Symbol("formFieldInstanceRegistry"),zc=[];class Mc{constructor(e,t,n){this[Fc]=new Map,this[Cc]=e,this[Dc]=t,this[Ic]=n;const r=({item:e})=>{Oc(e).forEach((e=>{this.deleteFiles(e)}))};e.on("form.clear",(()=>this.clear())),e.on("conditionChecker.remove",r),e.on("repeatRenderManager.remove",r)}setFiles(e,t){this[Fc].set(e,t)}getFiles(e){return this[Fc].get(e)||zc}getKeys(){return Array.from(this[Fc].keys())}hasKey(e){return this[Fc].has(e)}deleteFiles(e){this[Fc].delete(e)}getAllFiles(){return new Map(this[Fc])}clear(){this[Fc].clear()}}Mc.$inject=["eventBus","formFieldRegistry","formFieldInstanceRegistry"];const Nc={__depends__:[{__init__:["formFields","renderer"],formFields:["type",Cl],renderer:["type",jc],fileRegistry:["type",Mc]}],eventBus:["type",pc],importer:["type",_c],fieldFactory:["type",xc],formFieldRegistry:["type",Rc],formFieldInstanceRegistry:["type",Sc],pathRegistry:["type",kc],formLayouter:["type",Ac],validator:["type",bc]},Lc=new r.A([32,36,1]);class Pc{constructor(e={}){this.on=this._onEvent,this._id=Lc.next(),this._container=Pr();const{container:t,injector:n=this._createInjector(e,this._container),properties:r={}}=e;this._state={initialData:null,data:null,properties:r,errors:{},schema:null},this.get=n.get,this.invoke=n.invoke,this.get("eventBus").fire("form.init"),t&&this.attachTo(t)}clear(){this._emit("diagram.clear"),this._emit("form.clear")}destroy(){this.get("eventBus").fire("form.destroy"),this.get("eventBus").fire("diagram.destroy"),this._detach(!1)}importSchema(e,t={}){return new Promise(((n,r)=>{try{this.clear();const{schema:r,warnings:i}=this.get("importer").importSchema(e),o=this._getInitializedFieldData(Kr(t));return this._setState({data:o,errors:{},schema:r,initialData:Kr(o)}),this._emit("import.done",{warnings:i}),n({warnings:i})}catch(e){return this._emit("import.done",{error:e,warnings:e.warnings||[]}),r(e)}}))}submit(){const{properties:e}=this._getState();if(e.readOnly||e.disabled)throw new Error("form is read-only");this._emit("presubmit");const t={data:this._getSubmitData(),errors:this.validate(),files:this.get("fileRegistry").getAllFiles()};return this._emit("submit",t),t}reset(){this._emit("reset"),this._setState({data:Kr(this._state.initialData),errors:{}})}validate(){const e=this.get("formFieldRegistry"),t=this.get("formFieldInstanceRegistry"),n=this.get("validator"),{data:r}=this._getState(),i={};return t.getAllKeyed().forEach((t=>{const{id:o,valuePath:s,indexes:a}=t,l=e.get(o);if(l.disabled)return;const c=E(r,s),u=n.validateFieldInstance(t,c);u.length&&k(i,((e,t)=>[e,...Object.values(t||{})])(l.id,a),u)})),this._setState({errors:i}),i}attachTo(e){if(!e)throw new Error("parentNode required");this.detach(),p(e)&&(e=document.querySelector(e));const t=this._container;e.appendChild(t),this._emit("attach")}detach(){this._detach()}_detach(e=!0){const t=this._container,n=t.parentNode;n&&(e&&this._emit("detach"),n.removeChild(t))}setProperty(e,t){const n=k(this._getState().properties,[e],t);this._setState({properties:n})}off(e,t){this.get("eventBus").off(e,t)}_createInjector(e,t){const{modules:n=this._getModules(),additionalModules:r=[],...i}=e;return Lr([{config:["value",{...i,renderer:{container:t}}]},{form:["value",this]},Nc,...n,...r])}_emit(e,t){this.get("eventBus").fire(e,t)}_update(e){const{fieldInstance:t,value:n}=e,{id:r,valuePath:i,indexes:o}=t,{data:s,errors:a}=this._getState(),l=this.get("validator").validateFieldInstance(t,n);k(s,i,n),k(a,[r,...Object.values(o||{})],l.length?l:void 0),this._emit("field.updated",e),this._setState({data:Kr(s),errors:Kr(a)})}_getState(){return this._state}_setState(e){this._state={...this._state,...e},this._emit("changed",this._getState())}_getModules(){return[Ll,$l,Hl,Jl,uc]}_onEvent(e,t,n){this.get("eventBus").on(e,t,n)}_getSubmitData(){const e=this.get("formFieldRegistry"),t=this.get("formFieldInstanceRegistry"),n=this._getState().data,r={};return t.getAllKeyed().forEach((t=>{const{id:i,valuePath:o}=t,{disabled:s}=e.get(i);if(s)return;const a=E(n,o);k(r,o,a)})),r}_getInitializedFieldData(e,t={}){const n=this.get("formFieldRegistry"),r=this.get("formFields"),i=this.get("pathRegistry"),o=t.container||n.getForm(),a=t.indexes||{},l=i.getValuePath(o,{indexes:a})||[],c=s(a[o.id])?l:[...l,a[o.id]],d=Kr(e);return function t(n,o,a){const{defaultValue:l,type:c,isRepeating:d}=o,{config:h}=r.get(c),p=i.getValuePath(o,{indexes:a});let f=E(e,p);if(h.keyed){!s(f)&&h.sanitizeValue&&(f=h.sanitizeValue({formField:o,data:e,value:f}));const t=s(f)?s(l)?h.emptyValue:l:f;k(n,p,t)}if(Array.isArray(o.components))return h.repeatable&&d?(f&&Array.isArray(f)||(f=new Array(s(o.defaultRepetitions)?1:o.defaultRepetitions).fill().map((e=>({})))||[]),f=f.map((e=>u(e)?e:{})),k(n,p,f),s(a[o.id])?void f.forEach(((e,r)=>{o.components.forEach((e=>t(n,e,{...a,[o.id]:r})))})):void o.components.forEach((e=>t(n,e,{...a})))):void o.components.forEach((e=>t(n,e,a)))}(d,o,a),E(d,c,{})}}const $c=19},72707:(e,t,n)=>{var r=n(39714),i=n(33812),o=n(14727),s=n(8379),a=n(8291);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=s,l.prototype.set=a,e.exports=l},73389:(e,t,n)=>{var r=n(72707),i=n(91955),o=n(90369);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!i||s.length<199)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(s)}return n.set(e,t),this.size=n.size,this}},75380:e=>{var t="object"==typeof global&&global&&global.Object===Object&&global;e.exports=t},76458:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},78499:(e,t,n)=>{var r=n(99138)(n(41433),"WeakMap");e.exports=r},78740:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},79151:e=>{e.exports=function(e,t){return e.has(t)}},79250:(e,t,n)=>{var r=n(87148),i=n(22934);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},79912:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},79925:(e,t,n)=>{var r=n(15535);e.exports=function(e){return r(this,e).get(e)}},80659:e=>{e.exports=function(){return!1}},81413:(e,t,n)=>{"use strict";n.d(t,{FD:()=>o,FK:()=>r.Fragment,Y:()=>o});var r=n(60616),i=0;function o(e,t,n,o,s){var a,l,c={};for(l in t)"ref"==l?a=t[l]:c[l]=t[l];var u={type:e,props:c,key:n,ref:a,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--i,__source:s,__self:o};if("function"==typeof e&&(a=e.defaultProps))for(l in a)void 0===c[l]&&(c[l]=a[l]);return r.options.vnode&&r.options.vnode(u),u}},81452:(e,t,n)=>{var r=n(67499),i=n(9566),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},81485:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},82316:(e,t,n)=>{var r=n(4558);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},86469:(e,t,n)=>{var r=n(72707),i=n(71848),o=n(17406),s=n(58569),a=n(43109),l=n(73389);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=s,c.prototype.has=a,c.prototype.set=l,e.exports=c},87148:(e,t,n)=>{var r=n(32781),i=n(17903),o=n(71738),s=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?i(e):o(e)}},88876:(e,t,n)=>{var r=n(61414),i=n(53629),o=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,a=s?function(e){return null==e?[]:(e=Object(e),r(s(e),(function(t){return o.call(e,t)})))}:i;e.exports=a},90369:(e,t,n)=>{var r=n(72092),i=n(49626),o=n(79925),s=n(26809),a=n(94385);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=s,l.prototype.set=a,e.exports=l},90953:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},90966:(e,t,n)=>{var r=n(96784),i=n(88876),o=n(31178);e.exports=function(e){return r(e,o,i)}},91955:(e,t,n)=>{var r=n(99138)(n(41433),"Map");e.exports=r},94385:(e,t,n)=>{var r=n(15535);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},95662:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},96784:(e,t,n)=>{var r=n(78740),i=n(6397);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},97129:(e,t,n)=>{var r=n(87148),i=n(3330),o=n(22934),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!s[r(e)]}},98875:(e,t,n)=>{var r=n(79250),i=n(22934),o=Object.prototype,s=o.hasOwnProperty,a=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return i(e)&&s.call(e,"callee")&&!a.call(e,"callee")};e.exports=l},99094:(e,t,n)=>{"use strict";n.d(t,{NT:()=>i.NT,Rf:()=>u,d5:()=>_,li:()=>i.li,n:()=>r.createElement,vJ:()=>i.vJ});var r=n(60616),i=n(43078);function o(e,t){for(var n in t)e[n]=t[n];return e}function s(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var r in t)if("__source"!==r&&e[r]!==t[r])return!0;return!1}function a(e){this.props=e}(a.prototype=new r.Component).isPureReactComponent=!0,a.prototype.shouldComponentUpdate=function(e,t){return s(this.props,e)||s(this.state,t)};var l=r.options.__b;r.options.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),l&&l(e)};var c="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function u(e){function t(t){var n=o({},t);return delete n.ref,e(n,t.ref||null)}return t.$$typeof=c,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var d=(r.toChildArray,r.options.__e);r.options.__e=function(e,t,n,r){if(e.then)for(var i,o=t;o=o.__;)if((i=o.__c)&&i.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),i.__c(e,t);d(e,t,n,r)};var h=r.options.unmount;function p(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),e.__c.__H=null),null!=(e=o({},e)).__c&&(e.__c.__P===n&&(e.__c.__P=t),e.__c=null),e.__k=e.__k&&e.__k.map((function(e){return p(e,t,n)}))),e}function f(e,t,n){return e&&(e.__v=null,e.__k=e.__k&&e.__k.map((function(e){return f(e,t,n)})),e.__c&&e.__c.__P===t&&(e.__e&&n.insertBefore(e.__e,e.__d),e.__c.__e=!0,e.__c.__P=n)),e}function m(){this.__u=0,this.t=null,this.__b=null}function g(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function v(){this.u=null,this.o=null}r.options.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&!0===e.__h&&(e.type=null),h&&h(e)},(m.prototype=new r.Component).__c=function(e,t){var n=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(n);var i=g(r.__v),o=!1,s=function(){o||(o=!0,n.__R=null,i?i(a):a())};n.__R=s;var a=function(){if(! --r.__u){if(r.state.__a){var e=r.state.__a;r.__v.__k[0]=f(e,e.__c.__P,e.__c.__O)}var t;for(r.setState({__a:r.__b=null});t=r.t.pop();)t.forceUpdate()}},l=!0===t.__h;r.__u++||l||r.setState({__a:r.__b=r.__v.__k[0]}),e.then(s,s)},m.prototype.componentWillUnmount=function(){this.t=[]},m.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=p(this.__b,n,i.__O=i.__P)}this.__b=null}var o=t.__a&&(0,r.createElement)(r.Fragment,null,e.fallback);return o&&(o.__h=null),[(0,r.createElement)(r.Fragment,null,t.__a?null:e.children),o]};var b=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};function y(e){return this.getChildContext=function(){return e.context},e.children}function w(e){var t=this,n=e.i;t.componentWillUnmount=function(){(0,r.render)(null,t.l),t.l=null,t.i=null},t.i&&t.i!==n&&t.componentWillUnmount(),e.__v?(t.l||(t.i=n,t.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(e){this.childNodes.push(e),t.i.appendChild(e)},insertBefore:function(e,n){this.childNodes.push(e),t.i.appendChild(e)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t.i.removeChild(e)}}),(0,r.render)((0,r.createElement)(y,{context:t.context},e.__v),t.l)):t.l&&t.componentWillUnmount()}function _(e,t){var n=(0,r.createElement)(w,{__v:e,i:t});return n.containerInfo=t,n}(v.prototype=new r.Component).__a=function(e){var t=this,n=g(t.__v),r=t.o.get(e);return r[0]++,function(i){var o=function(){t.props.revealOrder?(r.push(i),b(t,e,r)):i()};n?n(o):o()}},v.prototype.render=function(e){this.u=null,this.o=new Map;var t=(0,r.toChildArray)(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},v.prototype.componentDidUpdate=v.prototype.componentDidMount=function(){var e=this;this.o.forEach((function(t,n){b(e,n,t)}))};var x="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,k=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,E="undefined"!=typeof document,A=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(e)};r.Component.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(r.Component.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var T=r.options.event;function R(){}function S(){return this.cancelBubble}function j(){return this.defaultPrevented}r.options.event=function(e){return T&&(e=T(e)),e.persist=R,e.isPropagationStopped=S,e.isDefaultPrevented=j,e.nativeEvent=e};var O={configurable:!0,get:function(){return this.class}},F=r.options.vnode;r.options.vnode=function(e){var t=e.type,n=e.props,i=n;if("string"==typeof t){var o=-1===t.indexOf("-");for(var s in i={},n){var a=n[s];E&&"children"===s&&"noscript"===t||"value"===s&&"defaultValue"in n&&null==a||("defaultValue"===s&&"value"in n&&null==n.value?s="value":"download"===s&&!0===a?a="":/ondoubleclick/i.test(s)?s="ondblclick":/^onchange(textarea|input)/i.test(s+t)&&!A(n.type)?s="oninput":/^onfocus$/i.test(s)?s="onfocusin":/^onblur$/i.test(s)?s="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(s)?s=s.toLowerCase():o&&k.test(s)?s=s.replace(/[A-Z0-9]/g,"-$&").toLowerCase():null===a&&(a=void 0),/^oninput$/i.test(s)&&(s=s.toLowerCase(),i[s]&&(s="oninputCapture")),i[s]=a)}"select"==t&&i.multiple&&Array.isArray(i.value)&&(i.value=(0,r.toChildArray)(n.children).forEach((function(e){e.props.selected=-1!=i.value.indexOf(e.props.value)}))),"select"==t&&null!=i.defaultValue&&(i.value=(0,r.toChildArray)(n.children).forEach((function(e){e.props.selected=i.multiple?-1!=i.defaultValue.indexOf(e.props.value):i.defaultValue==e.props.value}))),e.props=i,n.class!=n.className&&(O.enumerable="className"in n,null!=n.className&&(i.class=n.className),Object.defineProperty(i,"className",O))}e.$$typeof=x,F&&F(e)};var C=r.options.__r;r.options.__r=function(e){C&&C(e),e.__c},r.Fragment,i.Nf,i.J0,i.Bi,i.WO,i.vJ,i.Nf,i.li,i.Yn,i.Kr,i.hb,i.NT,i.MN,r.createElement,r.createContext,r.createRef,r.Fragment,r.Component},99138:(e,t,n)=>{var r=n(16567),i=n(6772);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}}}]);
//# sourceMappingURL=2355.js.map