"use strict";(self.webpackChunkcamunda_modeler_client=self.webpackChunkcamunda_modeler_client||[]).push([[5243],{55243:(e,t,n)=>{n.d(t,{A:()=>bt});var r=n(7475),s=n(51311),o=n(70868),i=n(98142),c=n(76522),a=n(93693);class p extends i.A{constructor(e,t){super(e),this.postExecute("element.updateModdleProperties",5e3,(function(e){const{element:n,moddleElement:r}=e,s=(0,o.Cf)(n);if(!(0,o.is)(s,"bpmn:AdHocSubProcess")||!(0,o.is)(r,"bpmn:ExtensionElements")||!l(n))return;t.updateModdleProperties(n,s,{cancelRemainingInstances:void 0,completionCondition:void 0});const i=function(e){const t=(0,o.Cf)(e);return(0,a.t)(t,"zeebe:AdHoc")[0]}(n);i&&t.updateModdleProperties(n,i,{activeElementsCollection:void 0})}),!0),this.postExecute("element.updateModdleProperties",5e3,(function(e){const{element:n,moddleElement:r}=e;if(!(0,o.is)(n,"bpmn:AdHocSubProcess")||!(0,o.is)(r,"bpmn:ExtensionElements")||l(n))return;const s=function(e){const t=(0,o.Cf)(e);return(0,a.t)(t,"zeebe:TaskHeaders")[0]}(n);s&&t.updateModdleProperties(n,r,{values:(0,c.FF)(r.get("values"),s)})}),!0)}}function l(e){const t=(0,o.Cf)(e);return(0,a.t)(t,"zeebe:TaskDefinition")[0]}p.$inject=["eventBus","modeling"];class u extends i.A{constructor(e,t){super(t),this.preExecute("element.updateModdleProperties",5e3,(function(e){const{element:t,moddleElement:n,properties:r}=e;if(!(0,o.is)(t,"bpmn:BusinessRuleTask")||!(0,o.is)(n,"bpmn:ExtensionElements")||!r.values)return;const s=m(t),i=d(t);s&&!i&&r.values.find((e=>(0,o.is)(e,"zeebe:CalledDecision")))&&r.values.find((e=>(0,o.is)(e,"zeebe:TaskDefinition")))&&(r.values=(0,c.FF)(r.values,s))}),!0),this.preExecute("element.updateModdleProperties",5e3,(function(e){const{element:t,moddleElement:n,properties:r}=e;if(!(0,o.is)(t,"bpmn:BusinessRuleTask")||!(0,o.is)(n,"bpmn:ExtensionElements")||!r.values)return;const s=m(t),i=d(t),p=function(e){const t=(0,o.Cf)(e);return(0,a.t)(t,"zeebe:TaskHeaders")[0]}(t);!s&&(i||p)&&r.values.find((e=>(0,o.is)(e,"zeebe:CalledDecision")))&&r.values.find((e=>(0,o.is)(e,"zeebe:TaskDefinition")||(0,o.is)(e,"zeebe:TaskHeaders")))&&(r.values=(0,c.FF)(r.values,(e=>e===i||e===p)))}),!0)}}function m(e){const t=(0,o.Cf)(e);return(0,a.t)(t,"zeebe:CalledDecision")[0]}function d(e){const t=(0,o.Cf)(e);return(0,a.t)(t,"zeebe:TaskDefinition")[0]}u.$inject=["commandStack","eventBus"];class f extends i.A{constructor(e,t){super(e),this.postExecuted("shape.replace",(function(e){const{context:n}=e,{newShape:r}=n;if(!(0,o.is)(r,"bpmn:EndEvent")||!function(e){const t=(0,o.Cf)(e).get("eventDefinitions")||[];return(0,c.I6)(t,(function(e){return(0,o.is)(e,"bpmn:ErrorEventDefinition")}))}(r))return;const s=function(e){const t=(0,o.Cf)(e).get("extensionElements");if(!t)return null;const n=t.get("values");return n?(0,c.I6)(n,(e=>(0,o.is)(e,"zeebe:IoMapping"))):null}(r);if(!s)return;const i=(0,o.Cf)(r).get("extensionElements"),a=(0,c.FF)(i.get("values"),s);t.updateModdleProperties(r,i,{values:a})}))}}f.$inject=["eventBus","modeling"];const h=["bpmn:StartEvent","bpmn:BoundaryEvent"];class g extends i.A{constructor(e,t){super(e),this.postExecuted("shape.replace",(function(e){const n=e.context.newShape,r=function(e){return(0,a.t)(e,"zeebe:ExecutionListeners")[0]}(n);if(!r)return;const s=r.get("listeners"),i=function(e,t){return t=function(e,t){return(0,o.f7)(e,h)?t.filter((e=>"start"!==e.eventType)):t}(e,t),t=function(e,t){return function(e){if((0,o.is)(e,"bpmn:BoundaryEvent")&&function(e){const t=v(e);return(0,c.I6)(t,(function(e){return(0,o.is)(e,"bpmn:CompensateEventDefinition")}))}(e)||(0,o.is)(e,"bpmn:EndEvent")&&function(e){const t=v(e);return(0,c.I6)(t,(function(e){return(0,o.is)(e,"bpmn:ErrorEventDefinition")}))}(e)||(0,o.is)(e,"bpmn:Gateway"))return!0}(e)?t.filter((e=>"end"!==e.eventType)):t}(e,t),t}(n,s);i.length!==s.length&&t.updateModdleProperties(n,r,{listeners:i})})),this.postExecuted("element.updateModdleProperties",(function(e){const{element:n,moddleElement:r}=e.context;if(!(0,o.is)(r,"zeebe:ExecutionListeners"))return;if(r.get("listeners").length)return;const s=r.$parent;t.updateModdleProperties(n,s,{values:(0,c.FF)(s.get("values"),r)})}))}}function v(e){return(0,o.Cf)(e).get("eventDefinitions")||[]}g.$inject=["eventBus","modeling"];class b extends i.A{constructor(e,t){super(e,t),this.postExecuted("shape.replace",(function(e){const n=e.context.newShape;if(!(0,o.is)(n,"bpmn:ThrowEvent"))return;const r=(s=n,((0,o.Cf)(s).get("eventDefinitions")||[]).find((e=>(0,o.is)(e,"bpmn:MessageEventDefinition"))));var s;r&&r.get("messageRef")&&t.updateModdleProperties(n,r,{messageRef:void 0})})),this.postExecuted("shape.replace",(function(e){const n=e.context.newShape,r=(0,o.Cf)(n);(0,o.is)(r,"bpmn:SendTask")&&r.get("messageRef")&&t.updateProperties(n,{messageRef:void 0})}))}}b.$inject=["eventBus","modeling"];class y extends i.A{constructor(e,t){super(e),this.postExecuted("shape.replace",(function(e){E(e.context.newShape,t)})),this.postExecuted("element.updateModdleProperties",(function(e){const n=e.context.element;(0,o.is)(n,"bpmn:UserTask")&&E(n,t)})),this.postExecuted("element.updateModdleProperties",(function(e){const{element:n,moddleElement:r}=e.context;if(!(0,o.is)(r,"zeebe:TaskListeners"))return;if(r.get("listeners").length)return;const s=r.$parent;t.updateModdleProperties(n,s,{values:(0,c.FF)(s.get("values"),r)})}))}}function E(e,t){const n=function(e){return(0,a.t)(e,"zeebe:TaskListeners")[0]}(e);if(!n)return;const r=n.get("listeners"),s=function(e,t){return t.filter((t=>!(!(0,o.is)(e,"bpmn:UserTask")||!function(e){return(0,a.t)(e,"zeebe:UserTask").length>0}(e))))}(e,r);s.length!==r.length&&t.updateModdleProperties(e,n,{listeners:s})}y.$inject=["eventBus","modeling"];class _ extends i.A{constructor(e,t){super(e),this.postExecuted(["element.updateProperties","element.updateModdleProperties"],(e=>{const n=e.shape||e.newShape||e.element;if(n.labelTarget)return;if(!(0,o.is)(n,"bpmn:Event"))return;const r=(s=n,(0,o.Cf)(s).get("eventDefinitions").find((e=>(0,o.is)(e,"bpmn:MessageEventDefinition"))));var s;if(!r)return;const i=r.get("messageRef");if(!i)return;const c=function(e){return(0,a.t)(e,"zeebe:Subscription")[0]}(i);c&&function(e){return e.$descriptor.properties.every((t=>void 0===e.get(t.name)))}(c)&&(0,a.V)(n,i,c,t)}),!0)}}_.$inject=["eventBus","commandStack"];const P=["timeCycle","timeDate","timeDuration"];function x(e){return(0,o.is)(e,"bpmn:BoundaryEvent")?!1!==e.get("cancelActivity"):!1!==e.get("isInterrupting")}function M(e){const t=e.$parent;return t&&(0,o.is)(t,"bpmn:SubProcess")&&t.get("triggeredByEvent")}class T extends i.A{constructor(e,t){super(e),this._modeling=t,this.postExecuted(["shape.move","shape.replace","shape.create","element.updateProperties","element.updateModdleProperties"],(e=>{const t=e.shape||e.newShape||e.element;this.cleanUpTimerProperties(t)}),!0)}cleanUpTimerProperties(e){if(!(0,o.is)(e,"bpmn:Event"))return;const t=function(e){return(0,o.Cf)(e).get("eventDefinitions").find((e=>(0,o.is)(e,"bpmn:TimerEventDefinition")))}(e);if(!t)return;const n=P.reduce(((n,r)=>(t.get(r)&&!function(e,t){const n=(0,o.Cf)(t);switch(e){case"timeDate":return(0,o.f7)(t,["bpmn:BoundaryEvent","bpmn:IntermediateCatchEvent","bpmn:StartEvent"]);case"timeCycle":return!((!(0,o.is)(t,"bpmn:StartEvent")||M(n))&&x(n)&&(!(0,o.is)(t,"bpmn:BoundaryEvent")||x(n)));case"timeDuration":return!!(0,o.f7)(t,["bpmn:BoundaryEvent","bpmn:IntermediateCatchEvent"])||!(!(0,o.is)(t,"bpmn:StartEvent")||!M(n));default:return!1}}(r,e)&&(n[r]=void 0),n)),{});Object.keys(n).length&&this._modeling.updateModdleProperties(e,t,n)}}T.$inject=["eventBus","modeling"];const k=["zeebe:Input","zeebe:LoopCharacteristics","zeebe:TaskDefinition","zeebe:TaskHeaders","zeebe:Subscription"];class C{constructor(e){e.on("moddleCopy.canCopyProperty",(e=>{const{parent:t,property:n,propertyName:r}=e;return this.canCopyProperty(n,t,r)}))}canCopyProperty(e,t,n){return!((0,c.Gv)(e)&&!function(e,t){const n=e.$type&&e.$model.getTypeDescriptor(e.$type),r=n&&n.meta&&n.meta.allowedIn;return!(r&&!function(e){return-1!==e.indexOf("*")}(r))||(0,c.zN)(r,(function(e){return A(t,e)}))}(e,t))&&!!this.canHostServiceTaskLikeProperties(e,t)&&!!this.canHostTimerExpression(t,n)&&void 0}canHostServiceTaskLikeProperties(e,t){if(function(e){return k.some((t=>(0,o.is)(e,t)))}(e)){const e=A(t,"bpmn:IntermediateThrowEvent")||A(t,"bpmn:EndEvent");if(e)return e.get("eventDefinitions").some((e=>(0,o.is)(e,"bpmn:MessageEventDefinition")))}return!0}canHostTimerExpression(e,t){return!P.includes(t)||(0,o.is)(e,"bpmn:TimerEventDefinition")}}function A(e,t){return t?(0,o.is)(e,t)?e:e.$parent?A(e.$parent,t):void 0:e.$parent}function j(e,t,n,r){var s=r.create(e,t);return s.$parent=n,s}C.$inject=["eventBus"];class I extends i.A{constructor(e,t,n){super(t),this.postExecuted("shape.create",5e3,(function(t){const{shape:r}=t;if(!(0,o.is)(r,"bpmn:CallActivity"))return;const s=(0,o.Cf)(r);let i=function(e){const t=function(e){const t=(0,o.Cf)(e);return(0,a.t)(t,"zeebe:CalledElement")}(e);return t[0]}(s);if(i)(0,c.zy)(i,"propagateAllChildVariables")||n.updateModdleProperties(r,i,{propagateAllChildVariables:!1});else{let t=s.get("extensionElements");t||(t=j("bpmn:ExtensionElements",{values:[]},s,e),n.updateProperties(r,{extensionElements:t})),i=j("zeebe:CalledElement",{propagateAllChildVariables:!1},t,e),n.updateModdleProperties(r,t,{values:[...t.values||[],i]})}}),!0)}}I.$inject=["bpmnFactory","eventBus","modeling"];class D extends i.A{constructor(e,t,n){super(t),this.postExecuted(["shape.create","shape.replace"],5e3,(function(t){const r=t.shape||t.newShape,s=t.hints&&!1===t.hints.createElementsBehavior;if(!(0,o.is)(r,"bpmn:UserTask")||s)return;let i=function(e){const t=(0,o.Cf)(e);return(0,a.t)(t,"zeebe:UserTask")[0]||null}(r);if(i)return;const c=(0,o.Cf)(r);let p=c.get("extensionElements");p||(p=j("bpmn:ExtensionElements",{values:[]},c,e),n.updateProperties(r,{extensionElements:p})),i=j("zeebe:UserTask",{},p,e),n.updateModdleProperties(r,p,{values:[...p.values||[],i]})}),!0)}}D.$inject=["bpmnFactory","eventBus","modeling"];var w=n(30261);const z=new(n(64847).A)([32,32,1]),B="camunda-forms:bpmn:";function S(e){const t=(0,o.Cf)(e);return(0,a.t)(t,"zeebe:FormDefinition")[0]}function $(e,t={}){let{formKey:n,rootElement:r}=t;if(r=r||L(e),!n){const t=S(e);if(!t)return;n=t.get("formKey")}return(0,a.t)(r,"zeebe:UserTaskForm").find((e=>F(e.get("id"))===n))}function F(e){return`${B}${e}`}function R(e){return e&&e.startsWith(B)}function L(e){let t=(0,o.Cf)(e);for(;t.$parent&&!(0,o.is)(t,"bpmn:Process");)t=t.$parent;return t}class H extends i.A{constructor(e,t,n,r){function s(e,t,n){const s=t.get("extensionElements"),o=(0,c.FF)(s.get("values"),n);r.updateModdleProperties(e,s,{values:o}),o.length||r.updateModdleProperties(e,t,{extensionElements:void 0})}super(n),this._modeling=r,this.postExecute("shape.delete",(function(e){const{oldParent:t,shape:n}=e,r=L(t),i=$(n,{rootElement:r});(0,o.is)(n,"bpmn:UserTask")&&i&&s(n,r,i)}),!0),this.postExecute("shape.create",(function(n){const{shape:s}=n;if(!(0,o.is)(s,"bpmn:UserTask"))return;const i=S(s);if(!i)return;const c=$(s);if(!c)return;if(!t.filter((e=>{if(e===s)return!1;const t=S(e);return t&&t.get("formKey")&&t.get("formKey").replace(B,"")===c.get("id")})).length)return;const a=L(s);let p=a.get("extensionElements");p||(p=j("bpmn:ExtensionElements",{values:[]},a,e),r.updateModdleProperties(s,a,{extensionElements:p}));const l=z.nextPrefixed("UserTaskForm_"),u=j("zeebe:UserTaskForm",{id:l,body:c.get("body")},p,e);r.updateModdleProperties(s,p,{values:[...p.get("values")||[],u]}),r.updateModdleProperties(s,i,{formKey:F(l)})}),!0),this.preExecute("element.updateModdleProperties",(function(e){const{moddleElement:t,properties:n}=e;(0,o.is)(t,"zeebe:FormDefinition")&&("formId"in n?(n.formKey=void 0,n.externalReference=void 0):"formKey"in n?(n.formId=void 0,n.externalReference=void 0,n.bindingType=void 0):"externalReference"in n&&(n.formId=void 0,n.formKey=void 0,n.bindingType=void 0),!("bindingType"in n)||"formId"in n||t.get("formId")||(n.externalReference=void 0,n.formId="",n.formKey=void 0))}),!0),this.postExecute("element.updateModdleProperties",(function(e){const{element:t,moddleElement:n,oldProperties:i}=e;if((0,o.is)(n,"zeebe:FormDefinition")){const e=n.get("formKey");if(!e||!R(e)){const e=$(t,{formKey:i.formKey});e&&s(t,L(t),e)}}else if(function(e,t){const{moddleElement:n,oldProperties:r,properties:s}=e;return(0,o.is)(n,"bpmn:ExtensionElements")&&"values"in r&&"values"in s&&r.values.find((e=>(0,o.is)(e,t)))&&!s.values.find((e=>(0,o.is)(e,t)))}(e,"zeebe:FormDefinition")){const e=$(t,{formKey:i.values.find((e=>(0,o.is)(e,"zeebe:FormDefinition"))).get("formKey")});e&&s(t,L(t),e),n.get("values").length||r.updateProperties(t,{extensionElements:void 0})}}),!0),this._registerZeebeUserTaskSupport()}_registerZeebeUserTaskSupport(){this.postExecute("element.updateModdleProperties",(({element:e})=>{if(!(0,o.is)(e,"bpmn:UserTask")||!N(e))return;const t=S(e);if(!t)return;const n=t.get("formKey");(0,c.b0)(n)||(R(n)?this._modeling.updateModdleProperties(e,t,{formKey:void 0}):this._modeling.updateModdleProperties(e,t,{externalReference:n}))}),!0),this.postExecute("element.updateModdleProperties",(({element:e})=>{if(!(0,o.is)(e,"bpmn:UserTask")||N(e))return;const t=S(e);if(!t)return;const n=t.get("externalReference");(0,c.b0)(n)||this._modeling.updateModdleProperties(e,t,{externalReference:void 0,formKey:n})}),!0)}}function N(e){return(0,a.t)(e,"zeebe:UserTask").length}H.$inject=["bpmnFactory","elementRegistry","eventBus","modeling"];class U extends i.A{constructor(e,t){super(t),this.postExecuted("element.updateModdleProperties",5e3,(function(t){const{element:n,moddleElement:r}=t;if(!(0,o.is)(r,"zeebe:AssignmentDefinition"))return;const s=r;if((0,o.is)(n,"bpmn:UserTask")&&(0,c.b0)(s.get("zeebe:assignee"))&&(0,c.b0)(s.get("zeebe:candidateGroups"))&&(0,c.b0)(s.get("zeebe:candidateUsers"))){const t=(0,o.Cf)(n);(0,a.V)(n,t,s,e)}}),!0)}}U.$inject=["commandStack","eventBus"];class Z extends i.A{constructor(e,t){super(t),this.postExecuted("element.updateModdleProperties",5e3,(function(t){const{element:n,moddleElement:r}=t;if(!(0,o.is)(r,"zeebe:TaskSchedule"))return;const s=r;if((0,o.is)(n,"bpmn:UserTask")&&(0,c.b0)(s.get("zeebe:dueDate"))&&(0,c.b0)(s.get("zeebe:followUpDate"))){const t=(0,o.Cf)(n);(0,a.V)(n,t,s,e)}}),!0)}}function O(e){const t=(0,o.Cf)(e).get("extensionElements");if(t)return t.get("values").find((e=>(0,o.is)(e,"zeebe:IoMapping")))}Z.$inject=["commandStack","eventBus"];class V extends i.A{constructor(e,t){super(e),this.postExecute("element.updateModdleProperties",5e3,(function(e){const{element:n,moddleElement:r,properties:s={}}=e,i=s.propagateAllChildVariables||s["zeebe:propagateAllChildVariables"];if(!(0,o.is)(n,"bpmn:CallActivity")||!(0,o.is)(r,"zeebe:CalledElement")||!i)return;const c=function(e){const t=O(e);return t?t.get("zeebe:outputParameters"):[]}(n);if(!c||!c.length)return;const a=O(n);t.updateModdleProperties(n,a,{"zeebe:outputParameters":[]})}),!0)}}V.$inject=["eventBus","modeling"];class J extends i.A{constructor(e,t){super(e),this.preExecute("element.updateModdleProperties",(function(e){const{moddleElement:t,properties:n}=e;(0,o.f7)(t,["zeebe:CalledDecision","zeebe:CalledElement","zeebe:FormDefinition"])&&("bindingType"in n&&"versionTag"!==n.bindingType&&(0,c.O9)(t.get("versionTag"))&&(n.versionTag=void 0),(0,c.O9)(n.versionTag)&&"versionTag"!==t.get("bindingType")&&(n.bindingType="versionTag"))}),!0),this.postExecuted("element.updateModdleProperties",(function(e){const{element:n,moddleElement:r}=e;if(!(0,o.is)(r,"zeebe:VersionTag"))return;let s=(0,o.Cf)(n);var i;(0,o.is)(n,"bpmn:Participant")&&(s=s.get("processRef")),(null==(i=r.get("value"))||""===i)&&(0,a.V)(n,s,r,t)}),!0)}}J.$inject=["eventBus","commandStack"];const K={__init__:["callActivityVariablesPropagationBehavior","cleanUpAdHocSubProcessBehavior","cleanUpBusinessRuleTaskBehavior","cleanUpEndEventBehavior","cleanUpExecutionListenersBehavior","cleanUpMessageRefBehavior","cleanUpTaskListenersBehavior","cleanUpSubscriptionBehavior","cleanUpTimerExpressionBehavior","copyPasteBehavior","createZeebeCallActivityBehavior","createZeebeUserTaskBehavior","deleteParticipantBehaviour","formsBehavior","removeAssignmentDefinitionBehavior","removeTaskScheduleBehavior","versionTagBehavior"],callActivityVariablesPropagationBehavior:["type",V],cleanUpAdHocSubProcessBehavior:["type",p],cleanUpBusinessRuleTaskBehavior:["type",u],cleanUpEndEventBehavior:["type",f],cleanUpExecutionListenersBehavior:["type",g],cleanUpMessageRefBehavior:["type",b],cleanUpTaskListenersBehavior:["type",y],cleanUpSubscriptionBehavior:["type",_],cleanUpTimerExpressionBehavior:["type",T],copyPasteBehavior:["type",C],createZeebeCallActivityBehavior:["type",I],createZeebeUserTaskBehavior:["type",D],deleteParticipantBehaviour:["type",w.A],formsBehavior:["type",H],removeAssignmentDefinitionBehavior:["type",U],removeTaskScheduleBehavior:["type",Z],versionTagBehavior:["type",J]};var G=n(92106),Y=n(75864),W=n(84639),X=n(72794);const Q="camundaModeler:exampleOutputJson";function q(e){const t=ee(e,Q);if(t)return t.get("value")}function ee(e,t){const n=function(e){let t=[];const n=(0,o.Cf)(e).get("extensionElements");if(void 0!==n){const e=n.get("values");void 0!==e&&(t=e.filter((e=>(0,o.is)(e,"zeebe:Properties"))))}return t}(e);if(0!==n.length)return n[0].get("properties").find((e=>e.get("name")===t))}class te extends X.A{getVariables(e){const t=q(e);if(!t)return;const n=function(e){try{return ne(JSON.parse(e))}catch(e){return[]}}(t);return n}}function ne(e={}){if("object"==typeof e&&null!==e)return Object.keys(e).map((t=>{let n=e[t];const r={name:t,info:JSON.stringify(n,null,2)};return Array.isArray(n)?(r.isList=!0,r.type="List",n.length>0&&(r.entries=ne(n[0])),r):(r.type=function(e){if(null===e)return"";const t=typeof e;return"object"===t?"Context":(n=t).charAt(0).toUpperCase()+n.slice(1);var n}(n),r.entries=ne(n),r)}))}const re={__init__:["exampleProvider"],exampleProvider:["type",te]};var se=n(16806),oe=n(29610);const ie=Object.prototype.toString;Object.prototype.hasOwnProperty;const ce=e=>{const{element:t}=e,n=(0,G.useService)("debounceInput"),r=(0,G.useService)("translate"),s=(0,G.useService)("commandStack"),o=(0,G.useService)("moddle"),i=(0,G.useService)("injector");return(0,se.TextAreaEntry)({element:t,label:r("Example output"),description:oe.qy`
    <a href="https://docs.camunda.io/docs/components/modeler/data-handling/" target="_blank" rel="noopener" title=${r("Example Data documentation")}>
      ${r("About example data")}
    </a>`,id:"exampleJson",getValue:()=>q(t),setValue:e=>{const n=[],{commands:r,zeebeProperties:c}=ae(t,i);n.push(...r);const a=ee(t,Q);a?e?n.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:a,properties:{value:e}}}):n.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:c,properties:{properties:le(c.get("properties"))}}}):n.push({cmd:"element.updateModdleProperties",context:{element:t,moddleElement:c,properties:{properties:[...c.get("properties"),pe(e,o)]}}}),s.execute("properties-panel.multi-command-executor",n)},debounce:n,validate:e=>{if(e)try{if(t=JSON.parse(e),"[object Object]"!==ie.call(t))return r("Example data must be a JSON object literal.")}catch(e){return e.message}var t},monospace:!0})},ae=(e,t)=>{const n=[],r=(0,o.Cf)(e),s=t.get("bpmnFactory");let i=r.get("extensionElements");i||(i=s.create("bpmn:ExtensionElements",{values:[]}),i.$parent=r,n.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:r,properties:{extensionElements:i}}}));let c=i.get("values").find((e=>"zeebe:Properties"===e.$type));return c||(c=s.create("zeebe:Properties",{properties:[]}),c.$parent=i,n.push({cmd:"element.updateModdleProperties",context:{element:e,moddleElement:i,properties:{values:[...i.get("values"),c]}}})),{zeebeProperties:c,commands:n}};function pe(e,t){return t.create("zeebe:Property",{name:Q,value:e})}function le(e){return e.filter((e=>e.get("name")!==Q))}class ue{constructor(e,t){this._injector=t,e.registerProvider(100,this)}getGroups(e){const t=this._injector.get("translate"),n=this._injector.get("elementTemplates",!1);let r=null;n&&(r=n.get(e));const s=!!r;return e=>{if(s)return e;const n={id:"additionalDataGroup",label:t("Example data"),entries:[{id:"exampleJson",component:ce,isEdited:se.isTextAreaEntryEdited}],component:se.Group};return e.push(n),e}}}ue.$inject=["propertiesPanel","injector"];const me={__depends__:[re,{__init__:["dataPropertiesProvider"],dataPropertiesProvider:["type",ue]}]};var de=n(72355);class fe extends W.mK{constructor(e,...t){super(...t),this._eventBus=e}async getVariables(e){const t=await this._eventBus.fire("formVariableProvider.getFormSchema",{element:e});if(!t)return;let n;try{n=(0,de.rt)(JSON.parse(t),{inputs:!1,outputs:!0})}catch(e){return}return n.map((t=>({name:t,info:`Returned from Form in ${e.name||e.id}`})))}static $inject=["eventBus",...super.$inject]}function he(e,t){let n=[];const r=(0,o.Cf)(e).get("extensionElements");if(void 0!==r){const e=r.get("values");void 0!==e&&(n=e.filter((e=>(0,o.is)(e,t))))}return n}function ge(e){e.on("formVariableProvider.getFormSchema",ve)}function ve({element:e}){const t=he(e,"zeebe:FormDefinition")[0];if(!t)return;const n=t.formKey;if(!n)return;const r=n.replace("camunda-forms:bpmn:",""),s=function(e){let t=e.$parent;for(;t&&!(0,o.is)(t,"bpmn:Process");)t=t.$parent;return t}(e),i=he(s,"zeebe:UserTaskForm").find((e=>e.id===r));return i?i.body:void 0}ge.$inject=["eventBus"];var be={__init__:["formVariableProvider","formVariableProvider.formExtractor"],formVariableProvider:["type",fe],"formVariableProvider.formExtractor":["type",ge]},ye=n(5418);function Ee(e,t,n,r,s){this._eventBus=t,this._elementTemplates=n,this._translate=r,this._popupMenu=s,(!e||!1!==e.elementTemplateChooser)&&t.on("elementTemplates.select",(e=>{const{element:t}=e;this.open(t).then((e=>{n.applyTemplate(t,e)})).catch((e=>{"user-canceled"!==e&&console.error("elementTemplate.select :: error",e)}))}))}function _e(e,t,n,r){this._popupMenu=e,this._eventBus=t,this._translate=n,this._elementTemplates=r,this.register()}Ee.$inject=["config.connectorsExtension","eventBus","elementTemplates","translate","popupMenu"],Ee.prototype.open=function(e){const t=this._popupMenu,n=this._translate,r=this._eventBus;return new Promise(((s,o)=>{const i=()=>o("user-canceled");r.once("popupMenu.close",i),r.once("elementTemplateChooser.chosen",(e=>{const{template:t}=e;r.off("popupMenu.close",i),s(t)})),t.open(e,"element-template-chooser",{x:0,y:0},{title:n("Choose element template"),search:!0,width:350})}))},_e.$inject=["popupMenu","eventBus","translate","elementTemplates"],_e.prototype.register=function(){this._popupMenu.registerProvider("element-template-chooser",this)},_e.prototype.getPopupMenuEntries=function(e){return this.getTemplateEntries(e).reduce(((e,[t,n])=>(e[t]=n,e)),{})},_e.prototype.getTemplateEntries=function(e){const t=this._eventBus,n=this._translate;return this._getMatchingTemplates(e).map((r=>{const{icon:s={},category:o,keywords:i=[]}=r;return[`apply-template-${r.id}`,{label:r.name&&n(r.name),description:r.description&&n(r.description),documentationRef:r.documentationRef,imageUrl:s.contents,search:i,group:o&&{...o,name:n(o.name)},action:()=>{t.fire("elementTemplateChooser.chosen",{element:e,template:r})}}]}))},_e.prototype._getMatchingTemplates=function(e){return this._elementTemplates.getLatest(e).filter((t=>!function(e,t){const n=(0,o.Cf)(e);return!!n&&n.get("modelerTemplate")===t.id}(e,t)))};var Pe={__init__:["elementTemplateChooser","elementTemplateChooserEntryProvider"],elementTemplateChooser:["type",Ee],elementTemplateChooserEntryProvider:["type",_e]},xe=n(1591),Me=n(64242);var Te={"alignment-baseline":1,"baseline-shift":1,clip:1,"clip-path":1,"clip-rule":1,color:1,"color-interpolation":1,"color-interpolation-filters":1,"color-profile":1,"color-rendering":1,cursor:1,direction:1,display:1,"dominant-baseline":1,"enable-background":1,fill:1,"fill-opacity":1,"fill-rule":1,filter:1,"flood-color":1,"flood-opacity":1,font:1,"font-family":1,"font-size":2,"font-size-adjust":1,"font-stretch":1,"font-style":1,"font-variant":1,"font-weight":1,"glyph-orientation-horizontal":1,"glyph-orientation-vertical":1,"image-rendering":1,kerning:1,"letter-spacing":1,"lighting-color":1,marker:1,"marker-end":1,"marker-mid":1,"marker-start":1,mask:1,opacity:1,overflow:1,"pointer-events":1,"shape-rendering":1,"stop-color":1,"stop-opacity":1,stroke:1,"stroke-dasharray":1,"stroke-dashoffset":1,"stroke-linecap":1,"stroke-linejoin":1,"stroke-miterlimit":1,"stroke-opacity":1,"stroke-width":2,"text-anchor":1,"text-decoration":1,"text-rendering":1,"unicode-bidi":1,visibility:1,"word-spacing":1,"writing-mode":1};function ke(e,t,n){var r=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),s=Te[r];s?(2===s&&"number"==typeof n&&(n=String(n)+"px"),e.style[r]=n):e.setAttributeNS(null,t,n)}function Ce(e,t,n){if("string"==typeof t){if(void 0===n)return function(e,t){return Te[t]?e.style[t]:e.getAttributeNS(null,t)}(e,t);ke(e,t,n)}else!function(e,t){var n,r,s=Object.keys(t);for(n=0;r=s[n];n++)ke(e,r,t[r])}(e,t);return e}const Ae=Object.prototype.toString;function je(e){if(!e||!e.nodeType)throw new Error("A DOM element reference is required");this.el=e,this.list=e.classList}je.prototype.add=function(e){return this.list.add(e),this},je.prototype.remove=function(e){return"[object RegExp]"==Ae.call(e)?this.removeMatching(e):(this.list.remove(e),this)},je.prototype.removeMatching=function(e){const t=this.array();for(let n=0;n<t.length;n++)e.test(t[n])&&this.remove(t[n]);return this},je.prototype.toggle=function(e,t){return void 0!==t?t!==this.list.toggle(e,t)&&this.list.toggle(e):this.list.toggle(e),this},je.prototype.array=function(){return Array.from(this.list)},je.prototype.has=je.prototype.contains=function(e){return this.list.contains(e)};var Ie="http://www.w3.org/2000/svg",De='<svg xmlns="'+Ie+'"';function we(e,t){var n;return"<"===(e=e.trim()).charAt(0)?(n=function(e){var t=!1;"<svg"===e.substring(0,4)?-1===e.indexOf(Ie)&&(e=De+e.substring(4)):(e=De+">"+e+"</svg>",t=!0);var n=function(e){var t;return(t=new DOMParser).async=!1,t.parseFromString(e,"text/xml")}(e);if(!t)return n;for(var r=document.createDocumentFragment(),s=n.firstChild;s.firstChild;)r.appendChild(s.firstChild);return r}(e).firstChild,n=document.importNode(n,!0)):n=document.createElementNS(Ie,e),t&&Ce(n,t),n}function ze(e,t,n){this._bpmnRenderer=t,this._iconProperty=e&&e.iconProperty,xe.A.call(this,n,1250)}(0,r.A)(ze,xe.A),ze.prototype.canRender=function(e){return!(0,Me.J2)(e)&&!(!(0,o.f7)(e,["bpmn:Activity","bpmn:Event"])||!this._getIcon(e))},ze.prototype._getIcon=function(e){return function(e,t){return t=t||"zeebe:modelerTemplateIcon",(0,o.Cf)(e).get(t)}(e,this._iconProperty)},ze.prototype.drawShape=function(e,t,n={}){var r=(0,this._bpmnRenderer.handlers[["bpmn:BoundaryEvent","bpmn:CallActivity","bpmn:EndEvent","bpmn:IntermediateCatchEvent","bpmn:IntermediateThrowEvent","bpmn:StartEvent","bpmn:Task","bpmn:AdHocSubProcess","bpmn:Transaction","bpmn:SubProcess"].find((e=>(0,o.is)(t,e)))])(e,t,{...n,renderIcon:!1}),s=this._getIcon(t),i=(0,o.is)(t,"bpmn:Activity")?{x:5,y:5}:{x:(t.width-18)/2,y:(t.height-18)/2},c=we("image");return Ce(c,{href:s,width:18,height:18,...i}),function(e,t){t.appendChild(function(e,t){if(e.ownerDocument!==t.ownerDocument)try{return t.ownerDocument.importNode(e,!0)}catch(e){}return e}(e,t))}(c,e),r},ze.$inject=["config.elementTemplateIconRenderer","bpmnRenderer","eventBus"];const Be=[{__init__:["elementTemplateIconRenderer"],elementTemplateIconRenderer:["type",ze]}],Se={zeebe:n(66764)};var $e=n(33428),Fe=n(57094);const Re=(0,Fe.TS)([{entries:["replace-with-call-activity","append-call-activity","create-call-activity"],search:"child process"},{entries:["replace-with-receive-task","append-receive-task","create-receive-task"],search:"message"},{entries:["replace-with-rule-task","append-rule-task","create-rule-task"],search:"dmn decision"},{entries:["replace-with-service-task","append-service-task","create-service-task"],search:["job worker","job worker"]},{entries:["replace-with-script-task","append-script-task","create-script-task","replace-with-send-task","append-send-task","create-send-task","replace-with-message-intermediate-throw","append-message-intermediate-throw","create-message-intermediate-throw","replace-with-message-end","append-message-end","create-message-end"],search:"job worker"},{entries:["replace-with-user-task","append-user-task","create-user-task"],search:"form human"}],((e,t)=>{const{entries:n,search:r}=t;for(const t of n)e[t]?e[t].search+=" "+r:e[t]={search:r};return e}),{});function Le(e){this._popupMenu=e,this.register()}Le.$inject=["popupMenu"],Le.prototype.register=function(){this._popupMenu.registerProvider("bpmn-create",250,this),this._popupMenu.registerProvider("bpmn-append",250,this),this._popupMenu.registerProvider("bpmn-replace",250,this)},Le.prototype.getPopupMenuEntries=function(e){return e=>Object.entries(e).reduce(((e,[t,n])=>(e[t]=this._annotateEntry(t,n),e)),{})},Le.prototype._annotateEntry=function(e,t){const n=Re[e];return n?{...t,search:t.search?`${t.search} ${n.search}`:n.search}:t};const He={__init__:["camundaDetailsPopupMenuProvider"],camundaDetailsPopupMenuProvider:["type",Le]};function Ne(e,t){return function(e,t){const n=t.get("bpmnFactory"),r=function(e,t){return t.create("zeebe:CalledElement",{processId:e.processId})}(e,n),s=n.create("bpmn:ExtensionElements",{values:[r]});return n.create("bpmn:CallActivity",{name:e.name,extensionElements:s})}(e,t)}const Ue=["resource","bpmn","call activity","child process"].join(" ");class Ze{constructor(e,t){this._injector=e,this._elementFactory=e.get("elementFactory"),this._bpmnFactory=e.get("bpmnFactory"),this._popupMenu=e.get("popupMenu"),this._create=e.get("create"),this._autoPlace=e.get("autoPlace"),this._mouse=e.get("mouse"),this._translate=e.get("translate"),this._resources=e.get("resources"),e.get("popupMenu").registerProvider("bpmn-create",this),this._config=t}getPopupMenuEntries(){const{resourceType:e,groupName:t,createElement:n,...r}=this._config,s=this._resources.filter((t=>t.type===e)),o={};return s.forEach(((s,i)=>{o[`resources-create-${e}-${i}`]={label:s.name,action:this._createEntryAction((()=>n(s,this._injector))),group:{id:t.toLowerCase(),name:this._translate(t)},...r}})),o}_createEntryAction(e){const t=this._create,n=this._mouse,r=this._popupMenu,s=this._elementFactory;return o=>{r.close();const i=e(),c=s.createShape({type:i.$type,businessObject:i});return o instanceof KeyboardEvent&&(o=n.getLastMoveEvent()),t.start(o,c)}}}class Oe{constructor(e,t){this._injector=e,this._elementFactory=e.get("elementFactory"),this._bpmnFactory=e.get("bpmnFactory"),this._popupMenu=e.get("popupMenu"),this._create=e.get("create"),this._autoPlace=e.get("autoPlace"),this._rules=e.get("rules"),this._translate=e.get("translate"),this._resources=e.get("resources"),this._config=t,this._register()}_register(){this._popupMenu.registerProvider("bpmn-append",this)}getPopupMenuEntries(e){if(!this._rules.allowed("shape.append",{element:e}))return[];const{resourceType:t,groupName:n,createElement:r,...s}=this._config,o=this._resources.filter((e=>e.type===t)),i={};return o.forEach(((o,c)=>{i[`resources-append-${t}-${c}`]={label:o.name,action:this._createEntryAction(e,(()=>r(o,this._injector))),group:{id:n.toLowerCase(),name:this._translate(n)},...s}})),i}_createEntryAction(e,t){const n=this._elementFactory,r=this._autoPlace,s=this._create,o=()=>{const e=t();return n.createShape({type:e.$type,businessObject:e})};return{click:()=>{const t=o();r.append(e,t)},dragstart:t=>{const n=o();return s.start(t,n,{source:e})}}}}function Ve(e,t,n){const r=n.get("bpmnFactory"),s=n.get("bpmnReplace"),i=n.get("modeling");n.get("commandStack").execute("external-resources.composed-command",{command:function(){const n=s.replaceElement(e,{type:"bpmn:CallActivity"});i.updateProperties(n,{name:t.name});const c=(0,o.Cf)(n).get("extensionElements");if(!c)return void i.updateProperties(n,{extensionElements:r.create("bpmn:ExtensionElements",{values:[Je(t,r)]})});const a=function(e){return e.businessObject?.extensionElements?.values.find((e=>(0,o.is)(e,"zeebe:CalledElement")))}(n);a?i.updateModdleProperties(n,a,{processId:t.processId}):i.updateModdleProperties(n,c,{values:[...c.values,Je(t,r)]})}})}function Je(e,t){return t.create("zeebe:CalledElement",{processId:e.processId})}class Ke{constructor(e,t){this._injector=e,this._popupMenu=e.get("popupMenu"),this._rules=e.get("rules"),this._translate=e.get("translate"),this._resources=e.get("resources"),this._popupMenu.registerProvider("bpmn-replace",this),this._config=t}getPopupMenuEntries(e){const t=this._rules;if((0,Fe.cy)(e)||!t.allowed("shape.replace",{element:e}))return{};if(!(0,o.is)(e,"bpmn:Activity"))return{};const{resourceType:n,groupName:r,replaceElement:s,...i}=this._config,c=this._resources.filter((e=>e.type===n)),a={};return c.forEach(((t,o)=>{a[`resources-replace-${n}-${o}`]={label:t.name,action:()=>s(e,t,this._injector),group:{id:r.toLowerCase(),name:this._translate(r)},...i}})),a}}const Ge={__init__:["resources.processHandler.create","resources.processHandler.append","resources.processHandler.replace"],"resources.processHandler.create":["type",class extends Ze{static $inject=["injector"];constructor(e){super(e,{resourceType:"bpmnProcess",groupName:"Processes",className:"bpmn-icon-call-activity",createElement:Ne,search:Ue})}}],"resources.processHandler.append":["type",class extends Oe{static $inject=["injector"];constructor(e){super(e,{resourceType:"bpmnProcess",groupName:"Processes",className:"bpmn-icon-call-activity",createElement:Ne,search:Ue})}}],"resources.processHandler.replace":["type",class extends Ke{static $inject=["injector"];constructor(e){super(e,{resourceType:"bpmnProcess",groupName:"Processes",className:"bpmn-icon-call-activity",replaceElement:Ve,search:Ue})}}]};function Ye(e,t){return function(e,t){const n=t.get("bpmnFactory"),r=function(e,t){return t.create("zeebe:CalledDecision",{decisionId:e.decisionId})}(e,n),s=n.create("bpmn:ExtensionElements",{values:[r]});return n.create("bpmn:BusinessRuleTask",{name:e.name,extensionElements:s})}(e,t)}const We=["resource","dmn","business rule task","decision"].join(" ");function Xe(e,t,n){const r=n.get("bpmnFactory"),s=n.get("bpmnReplace"),i=n.get("modeling");n.get("commandStack").execute("external-resources.composed-command",{command:function(){const n=s.replaceElement(e,{type:"bpmn:BusinessRuleTask"});i.updateProperties(n,{name:t.name});const c=(0,o.Cf)(n).get("extensionElements");if(!c)return void i.updateProperties(n,{extensionElements:r.create("bpmn:ExtensionElements",{values:[Qe(t,r)]})});const a=function(e){return e.businessObject?.extensionElements?.values.find((e=>(0,o.is)(e,"zeebe:CalledDecision")))}(n);a?i.updateModdleProperties(n,a,{decisionId:t.decisionId}):i.updateModdleProperties(n,c,{values:[...c.values,Qe(t,r)]})}})}function Qe(e,t){return t.create("zeebe:CalledDecision",{decisionId:e.decisionId})}const qe={__init__:["resources.decisionHandler.create","resources.decisionHandler.append","resources.decisionHandler.replace"],"resources.decisionHandler.create":["type",class extends Ze{static $inject=["injector"];constructor(e){super(e,{resourceType:"dmnDecision",groupName:"Decisions",className:"bpmn-icon-business-rule-task",createElement:Ye,search:We})}}],"resources.decisionHandler.append":["type",class extends Oe{static $inject=["injector"];constructor(e){super(e,{resourceType:"dmnDecision",groupName:"Decisions",className:"bpmn-icon-business-rule-task",createElement:Ye,search:We})}}],"resources.decisionHandler.replace":["type",class extends Ke{static $inject=["injector"];constructor(e){super(e,{resourceType:"dmnDecision",groupName:"Decisions",className:"bpmn-icon-business-rule-task",replaceElement:Xe,search:We})}}]};function et(e,t){return function(e,t){const n=t.get("bpmnFactory"),r=function(e,t){return t.create("zeebe:FormDefinition",{formId:e.formId})}(e,n),s=n.create("bpmn:ExtensionElements",{values:[tt(n),r]});return n.create("bpmn:UserTask",{name:e.name,extensionElements:s})}(e,t)}function tt(e){return e.create("zeebe:UserTask")}const nt=["resource","form","user task","human"].join(" ");function rt(e,t,n){const r=n.get("bpmnFactory"),s=n.get("bpmnReplace"),i=n.get("modeling");n.get("commandStack").execute("external-resources.composed-command",{command:function(){const n=s.replaceElement(e,{type:"bpmn:UserTask"});i.updateProperties(n,{name:t.name});const c=(0,o.Cf)(n).get("extensionElements");if(!c)return void i.updateProperties(n,{extensionElements:r.create("bpmn:ExtensionElements",{values:[ot(r),st(t,r)]})});const a=function(e){return e.businessObject?.extensionElements?.values.find((e=>(0,o.is)(e,"zeebe:FormDefinition")))}(n);a?i.updateModdleProperties(n,a,{formId:t.formId}):i.updateModdleProperties(n,c,{values:[...c.values,st(t,r)]})}})}function st(e,t){return t.create("zeebe:FormDefinition",{formId:e.formId})}function ot(e){return e.create("zeebe:UserTask")}const it={__init__:["resources.formHandler.create","resources.formHandler.append","resources.formHandler.replace"],"resources.formHandler.create":["type",class extends Ze{static $inject=["injector"];constructor(e){super(e,{resourceType:"form",groupName:"Forms",className:"bpmn-icon-user-task",createElement:et,search:nt})}}],"resources.formHandler.append":["type",class extends Oe{static $inject=["injector"];constructor(e){super(e,{resourceType:"form",groupName:"Forms",className:"bpmn-icon-user-task",createElement:et,search:nt})}}],"resources.formHandler.replace":["type",class extends Ke{static $inject=["injector"];constructor(e){super(e,{resourceType:"form",groupName:"Forms",className:"bpmn-icon-user-task",replaceElement:rt,search:nt})}}]},ct="camunda.connectors.rpa",at="RPAScript",pt="data:image/svg+xml;base64,PHN2ZyBpZD0iaWNvbiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgPGRlZnM+CiAgICA8c3R5bGU+CiAgICAgIC5jbHMtMSB7CiAgICAgICAgZmlsbDogbm9uZTsKICAgICAgfQogICAgPC9zdHlsZT4KICA8L2RlZnM+CiAgPHRpdGxlPmJvdDwvdGl0bGU+CiAgPHJlY3QgeD0iMTgiIHk9IjEwIiB3aWR0aD0iMiIgaGVpZ2h0PSIyIi8+CiAgPHJlY3QgeD0iMTIiIHk9IjEwIiB3aWR0aD0iMiIgaGVpZ2h0PSIyIi8+CiAgPHBhdGggZD0iTTI2LDIwSDIxVjE4aDFhMi4wMDIzLDIuMDAyMywwLDAsMCwyLTJWMTJoMlYxMEgyNFY4YTIuMDAyMywyLjAwMjMsMCwwLDAtMi0ySDIwVjJIMThWNkgxNFYySDEyVjZIMTBBMi4wMDIzLDIuMDAyMywwLDAsMCw4LDh2Mkg2djJIOHY0YTIuMDAyMywyLjAwMjMsMCwwLDAsMiwyaDF2Mkg2YTIuMDAyMywyLjAwMjMsMCwwLDAtMiwydjhINlYyMkgyNnY4aDJWMjJBMi4wMDIzLDIuMDAyMywwLDAsMCwyNiwyMFpNMTAsOEgyMnY4SDEwWm0zLDEwaDZ2MkgxM1oiLz4KICA8cmVjdCBpZD0iX1RyYW5zcGFyZW50X1JlY3RhbmdsZV8iIGRhdGEtbmFtZT0iJmx0O1RyYW5zcGFyZW50IFJlY3RhbmdsZSZndDsiIGNsYXNzPSJjbHMtMSIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIi8+Cjwvc3ZnPgo=";function lt(e,t){return function(e,t){const n=t.get("elementTemplates"),r=n.getLatest(ct),s=n.createElement(r[0]),i=(0,o.Cf)(s);return i.get("extensionElements").get("values").find((e=>(0,o.is)(e,"zeebe:LinkedResources"))).values.find((e=>e.linkName===at)).set("resourceId",e.scriptId),i.set("name",e.name),i}(e,t)}const ut=["resource","RPA","Script","Robotic","Automation"].join(" ");function mt(e,t,n){const r=n.get("modeling");n.get("commandStack").execute("external-resources.composed-command",{command:function(){const s=n.get("elementTemplates"),i=s.getLatest(ct),c=s.applyTemplate(e,i[0]);r.updateProperties(c,{name:t.name});const a=(0,o.Cf)(c).get("extensionElements").get("values").find((e=>(0,o.is)(e,"zeebe:LinkedResources"))).get("values").find((e=>e.get("linkName")===at));return r.updateModdleProperties(c,a,{resourceId:t.scriptId}),c}})}const dt={__init__:["resources.RPAHandler.create","resources.RPAHandler.append","resources.RPAHandler.replace"],"resources.RPAHandler.create":["type",class extends Ze{static $inject=["injector"];constructor(e){super(e,{resourceType:"rpa",groupName:"RPA Scripts",className:"bpmn-icon-rpa-script",createElement:lt,search:ut,imageUrl:pt}),this._elementTemplates=e.get("elementTemplates")}getPopupMenuEntries(e){const t=this._elementTemplates.getLatest(ct);return t&&0!==t.length?super.getPopupMenuEntries(e):{}}}],"resources.RPAHandler.append":["type",class extends Oe{static $inject=["injector"];constructor(e){super(e,{resourceType:"rpa",groupName:"RPA Scripts",className:"bpmn-icon-rpa-script",createElement:lt,search:ut,imageUrl:pt}),this._elementTemplates=e.get("elementTemplates")}getPopupMenuEntries(e){const t=this._elementTemplates.getLatest(ct);return t&&0!==t.length?super.getPopupMenuEntries(e):{}}}],"resources.RPAHandler.replace":["type",class extends Ke{static $inject=["injector"];constructor(e){super(e,{resourceType:"rpa",groupName:"RPA Scripts",className:"bpmn-icon-rpa-script",replaceElement:mt,search:ut,imageUrl:pt}),this._elementTemplates=e.get("elementTemplates")}getPopupMenuEntries(e){const t=this._elementTemplates.getLatest(ct);return t&&0!==t.length?super.getPopupMenuEntries(e):{}}}]};class ft{constructor(e){this._commandStack=e}preExecute(e){e.command()}}ft.$inject=["commandStack"];const ht={"external-resources.composed-command":ft};function gt(e,t){e.on("diagram.init",(function(){(0,Fe.jJ)(ht,(function(e,n){t.registerHandler(n,e)}))}))}gt.$inject=["eventBus","commandStack"];const vt={__init__:[gt],__depends__:[qe,it,Ge,dt]};function bt(e={}){e={...e,moddleExtensions:{...Se,...e.moddleExtensions},propertiesPanel:{tooltip:G.ZeebeTooltipProvider,getFeelPopupLinks:e=>"feel"===e?[{title:"Learn FEEL expressions",href:"https://docs.camunda.io/docs/components/modeler/feel/what-is-feel/"},{title:"Try FEEL Copilot",href:"https://feel-copilot.camunda.com/"}]:"feelers"===e?[{title:"Learn templating",href:"https://docs.camunda.io/docs/components/modeler/forms/configuration/forms-config-templating-syntax/"}]:void 0,...e.propertiesPanel}},this._addElementTemplateChooserModule(e),s.A.call(this,e)}(0,r.A)(bt,s.A),bt.prototype._addElementTemplateChooserModule=function(e){const{elementTemplateChooser:t}=e;!1!==t&&(this._modules=[...this._modules,Pe])},bt.prototype._camundaCloudModules=[...Be,K,G.ZeebePropertiesProviderModule,Y.Xz,$e.t7,$e.Sl,ye.A,W.wN,me,be,He,vt,{__init__:["resources.resourceLoader"],"resources.resourceLoader":["type",class{static $inject=["eventBus","resources"];constructor(e,t){this._resources=t,this._providers=[],e.on("diagram.init",(()=>{this.reload()}))}register(e){this._providers.push(e)}reload(){const e=this._providers.reduce(((e,t)=>e.concat(t.getResources())),[]);this._resources.set(e)}}],resources:["type",class{static $inject=["config.resources"];constructor(e){this._resources=e||[]}set(e){this._resources=e}getAll(){return this._resources}filter(e){return this._resources.filter(e)}}]}],bt.prototype._modules=[].concat(s.A.prototype._modules,bt.prototype._camundaCloudModules)}}]);
//# sourceMappingURL=5243.js.map