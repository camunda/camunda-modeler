(self.webpackChunkcamunda_modeler_client=self.webpackChunkcamunda_modeler_client||[]).push([[9061],{22175:e=>{const t={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:[0,"",""]};t.td=t.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],t.option=t.optgroup=[1,'<select multiple="multiple">',"</select>"],t.thead=t.tbody=t.colgroup=t.caption=t.tfoot=[1,"<table>","</table>"],t.polyline=t.ellipse=t.polygon=t.circle=t.text=t.line=t.path=t.rect=t.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"],e.exports=function(e,n=globalThis.document){if("string"!=typeof e)throw new TypeError("String expected");const i=/^<!--(.*?)-->$/s.exec(e);if(i)return n.createComment(i[1]);const r=/<([\w:]+)/.exec(e)?.[1];if(!r)return n.createTextNode(e);if(e=e.trim(),"body"===r){const t=n.createElement("html");t.innerHTML=e;const{lastChild:i}=t;return i.remove(),i}let[o,l,s]=Object.hasOwn(t,r)?t[r]:t._default,a=n.createElement("div");for(a.innerHTML=l+e+s;o--;)a=a.lastChild;if(a.firstChild===a.lastChild){const{firstChild:e}=a;return e.remove(),e}const c=n.createDocumentFragment();return c.append(...a.childNodes),c}},60056:function(e,t){var n,i;void 0===(i="function"==typeof(n=function(){return function e(t,n,i){var r,o,l=window,s="application/octet-stream",a=i||s,c=t,d=!n&&!i&&c,u=document.createElement("a"),p=function(e){return String(e)},f=l.Blob||l.MozBlob||l.WebKitBlob||p,h=n||"download";if(f=f.call?f.bind(l):Blob,"true"===String(this)&&(a=(c=[c,a])[0],c=c[1]),d&&d.length<2048&&(h=d.split("/").pop().split("?")[0],u.href=d,-1!==u.href.indexOf(d))){var m=new XMLHttpRequest;return m.open("GET",d,!0),m.responseType="blob",m.onload=function(t){e(t.target.response,h,s)},setTimeout((function(){m.send()}),0),m}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(c)){if(!(c.length>2096103.424&&f!==p))return navigator.msSaveBlob?navigator.msSaveBlob(y(c),h):F(c);a=(c=y(c)).type||s}else if(/([\x80-\xff])/.test(c)){for(var g=0,v=new Uint8Array(c.length),b=v.length;g<b;++g)v[g]=c.charCodeAt(g);c=new f([v],{type:a})}function y(e){for(var t=e.split(/[:;,]/),n=t[1],i=("base64"==t[2]?atob:decodeURIComponent)(t.pop()),r=i.length,o=0,l=new Uint8Array(r);o<r;++o)l[o]=i.charCodeAt(o);return new f([l],{type:n})}function F(e,t){if("download"in u)return u.href=e,u.setAttribute("download",h),u.className="download-js-link",u.innerHTML="downloading...",u.style.display="none",document.body.appendChild(u),setTimeout((function(){u.click(),document.body.removeChild(u),!0===t&&setTimeout((function(){l.URL.revokeObjectURL(u.href)}),250)}),66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,s)),window.open(e)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=e),!0;var n=document.createElement("iframe");document.body.appendChild(n),!t&&/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,s)),n.src=e,setTimeout((function(){document.body.removeChild(n)}),333)}if(r=c instanceof f?c:new f([c],{type:a}),navigator.msSaveBlob)return navigator.msSaveBlob(r,h);if(l.URL)F(l.URL.createObjectURL(r),!0);else{if("string"==typeof r||r.constructor===p)try{return F("data:"+a+";base64,"+l.btoa(r))}catch(e){return F("data:"+a+","+encodeURIComponent(r))}(o=new FileReader).onload=function(e){F(this.result)},o.readAsDataURL(r)}return!0}})?n.apply(t,[]):n)||(e.exports=i)},89061:(e,t,n)=>{"use strict";n.d(t,{n:()=>pd});var i=n(29610),r=n(60616),o=n(43078),l=n(22175),s=n.n(l);const a=Object.prototype.toString;function c(e){if(!e||!e.nodeType)throw new Error("A DOM element reference is required");this.el=e,this.list=e.classList}c.prototype.add=function(e){return this.list.add(e),this},c.prototype.remove=function(e){return"[object RegExp]"==a.call(e)?this.removeMatching(e):(this.list.remove(e),this)},c.prototype.removeMatching=function(e){const t=this.array();for(let n=0;n<t.length;n++)e.test(t[n])&&this.remove(t[n]);return this},c.prototype.toggle=function(e,t){return void 0!==t?t!==this.list.toggle(e,t)&&this.list.toggle(e):this.list.toggle(e),this},c.prototype.array=function(){return Array.from(this.list)},c.prototype.has=c.prototype.contains=function(e){return this.list.contains(e)};var d,u,p,f={};function h(){d=window.addEventListener?"addEventListener":"attachEvent",u=window.removeEventListener?"removeEventListener":"detachEvent",p="addEventListener"!==d?"on":""}f.bind=function(e,t,n,i){return d||h(),e[d](p+t,n,i||!1),n},f.unbind=function(e,t,n,i){return u||h(),e[u](p+t,n,i||!1),n};var m=n(19622);const g=Object.prototype.toString,v=Object.prototype.hasOwnProperty;function b(e){return void 0===e}function y(e){return null==e}function F(e){return"[object Array]"===g.call(e)}function _(e,t){return!y(e)&&v.call(e,t)}function w(e,t){let n,i;if(b(e))return;const r=F(e)?E:x;for(let o in e)if(_(e,o)&&(n=e[o],i=t(n,r(o)),!1===i))return n}function x(e){return e}function E(e){return Number(e)}function L(e,...t){return Object.assign(e,...t)}function C(e,t,n){let i=e;return w(t,(function(e,r){if("number"!=typeof e&&"string"!=typeof e)throw new Error("illegal key type: "+typeof e+". Key should be of type number or string.");if("constructor"===e)throw new Error("illegal key: constructor");if("__proto__"===e)throw new Error("illegal key: __proto__");let o=t[r+1],l=i[e];void 0!==o&&y(l)&&(l=i[e]=isNaN(+o)?{}:[]),b(o)?b(n)?delete i[e]:i[e]=n:i=l})),e}var Y=n(4452),V=n.n(Y);Object.prototype.toString,Object.prototype.hasOwnProperty;const k=Object.prototype.toString;function P(e){if(!e||!e.nodeType)throw new Error("A DOM element reference is required");this.el=e,this.list=e.classList}P.prototype.add=function(e){return this.list.add(e),this},P.prototype.remove=function(e){return"[object RegExp]"==k.call(e)?this.removeMatching(e):(this.list.remove(e),this)},P.prototype.removeMatching=function(e){const t=this.array();for(let n=0;n<t.length;n++)e.test(t[n])&&this.remove(t[n]);return this},P.prototype.toggle=function(e,t){return void 0!==t?t!==this.list.toggle(e,t)&&this.list.toggle(e):this.list.toggle(e),this},P.prototype.array=function(){return Array.from(this.list)},P.prototype.has=P.prototype.contains=function(e){return this.list.contains(e)};var S,D,j,R={};function I(){S=window.addEventListener?"addEventListener":"attachEvent",D=window.removeEventListener?"removeEventListener":"detachEvent",j="addEventListener"!==S?"on":""}R.bind=function(e,t,n,i){return S||I(),e[S](j+t,n,i||!1),n},R.unbind=function(e,t,n,i){return D||I(),e[D](j+t,n,i||!1),n};var T,B=!1;"undefined"!=typeof document&&((T=document.createElement("div")).innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',B=!T.getElementsByTagName("link").length,T=void 0);var O={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:B?[1,"X<div>","</div>"]:[0,"",""]};O.td=O.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],O.option=O.optgroup=[1,'<select multiple="multiple">',"</select>"],O.thead=O.tbody=O.colgroup=O.caption=O.tfoot=[1,"<table>","</table>"],O.polyline=O.ellipse=O.polygon=O.circle=O.text=O.line=O.path=O.rect=O.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"];var A=function(e,t){if("string"!=typeof e)throw new TypeError("String expected");t||(t=document);var n=/<([\w:]+)/.exec(e);if(!n)return t.createTextNode(e);e=e.replace(/^\s+|\s+$/g,"");var i=n[1];if("body"==i)return(r=t.createElement("html")).innerHTML=e,r.removeChild(r.lastChild);var r,o=Object.prototype.hasOwnProperty.call(O,i)?O[i]:O._default,l=o[0],s=o[1],a=o[2];for((r=t.createElement("div")).innerHTML=s+e+a;l--;)r=r.lastChild;if(r.firstChild==r.lastChild)return r.removeChild(r.firstChild);for(var c=t.createDocumentFragment();r.firstChild;)c.appendChild(r.removeChild(r.firstChild));return c},$='<div class="drop-overlay"><div class="box"><div class="label">{label}</div></div></div>';function M(e,t){if(!window.FileReader)return t();var n=new FileReader;n.onload=function(n){t(null,{name:e.name,path:e.path,contents:n.target.result})},n.onerror=function(e){t(e.target.error)},n.readAsText(e)}function J(e){e.preventDefault()}var N=n(57094),H=n(60056),z=n.n(H),K=n(72355),q=n(64847);const U=Object.prototype.toString,Z=Object.prototype.hasOwnProperty;function X(e){return void 0===e}function G(e){return void 0!==e}function W(e){return null==e}function Q(e){return"[object Array]"===U.call(e)}function ee(e){return"[object Object]"===U.call(e)}function te(e){return"[object Number]"===U.call(e)}function ne(e){const t=U.call(e);return"[object Function]"===t||"[object AsyncFunction]"===t||"[object GeneratorFunction]"===t||"[object AsyncGeneratorFunction]"===t||"[object Proxy]"===t}function ie(e){return"[object String]"===U.call(e)}function re(e,t){return!W(e)&&Z.call(e,t)}function oe(e,t){let n,i;if(X(e))return;const r=Q(e)?de:ce;for(let o in e)if(re(e,o)&&(n=e[o],i=t(n,r(o)),!1===i))return n}function le(e,t){if(X(e))return[];!function(e){if(!Q(e))throw new Error("must supply array")}(e);const n=function(e){return ne(e)?e:t=>t===e}(t);return e.filter((function(e,t){return!n(e,t)}))}function se(e,...t){e=ae(e);let n={};return oe(t,(t=>function(e,t,n={}){return t=ae(t),oe(e,(function(e){let i=t(e)||"_",r=n[i];r||(r=n[i]=[]),r.push(e)})),n}(t,e,n))),function(e,t){let n=[];return oe(e,(function(e,i){n.push(t(e,i))})),n}(n,(function(e,t){return e[0]}))}function ae(e){return ne(e)?e:t=>t[e]}function ce(e){return e}function de(e){return Number(e)}function ue(e,...t){return Object.assign(e,...t)}function pe(e,t,n){let i=e;return oe(t,(function(e,r){if("number"!=typeof e&&"string"!=typeof e)throw new Error("illegal key type: "+typeof e+". Key should be of type number or string.");if("constructor"===e)throw new Error("illegal key: constructor");if("__proto__"===e)throw new Error("illegal key: __proto__");let o=t[r+1],l=i[e];G(o)&&W(l)&&(l=i[e]=isNaN(+o)?{}:[]),X(o)?X(n)?delete i[e]:i[e]=n:i=l})),e}function fe(e,t,n){let i=e;return oe(t,(function(e){if(W(i))return i=void 0,!1;i=i[e]})),X(i)?n:i}var he=n(81413),me=n(99094);function ge(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ve="function"==typeof setImmediate?function(e){setImmediate(e)}:function(e){setTimeout(e,0)},be=function(e,t){return Array.prototype.slice.call(e,t)};const ye=ge((function(e,t){var n=t||{},i={};return void 0===e&&(e={}),e.on=function(t,n){return i[t]?i[t].push(n):i[t]=[n],e},e.once=function(t,n){return n._once=!0,e.on(t,n),e},e.off=function(t,n){var r=arguments.length;if(1===r)delete i[t];else if(0===r)i={};else{var o=i[t];if(!o)return e;o.splice(o.indexOf(n),1)}return e},e.emit=function(){var t=be(arguments);return e.emitterSnapshot(t.shift()).apply(this,t)},e.emitterSnapshot=function(t){var r=(i[t]||[]).slice(0);return function(){var i=be(arguments),o=this||e;if("error"===t&&!1!==n.throws&&!r.length)throw 1===i.length?i[0]:i;return r.forEach((function(r){n.async?function(e,t,n){e&&ve((function(){e.apply(n||null,t||[])}))}(r,i,o):r.apply(o,i),r._once&&e.off(t,r)})),e}},e})),Fe={};function _e(e){let t=Fe[e];return t?t.lastIndex=0:Fe[e]=t=new RegExp("(?:^|\\s)"+e+"(?:\\s|$)","g"),t}function we(e,t){const n=e.className;n.length?_e(t).test(n)||(e.className+=" "+t):e.className=t}function xe(e,t){e.className=e.className.replace(_e(t)," ").trim()}function Ee(e){if(void 0!==e.touches)return e.touches.length;if(void 0!==e.which&&0!==e.which)return e.which;if(void 0!==e.buttons)return e.buttons;const t=e.button;return void 0!==t?1&t?1:2&t?3:4&t?2:0:void 0}const Le=(e,t)=>typeof global[t]<"u"?global[t]:document.documentElement.clientHeight?document.documentElement[e]:document.body[e],Ce=(e={},t,n)=>{const i=e.className||"";e.className+=" gu-hide";const r=document.elementFromPoint(t,n);return e.className=i,r},Ye=e=>e.width||e.right-e.left,Ve=e=>e.height||e.bottom-e.top,ke=e=>e.parentNode===document?null:e.parentNode,Pe=e=>["INPUT","TEXTAREA","SELECT"].includes(null==e?void 0:e.tagName)||Se(e),Se=e=>!(!e||"false"===e.contentEditable)&&("true"===e.contentEditable||Se(ke(e))),De=e=>e.nextElementSibling||(()=>{let t=e;do{t=t.nextSibling}while(t&&1!==t.nodeType);return t})();window.global||(window.global=window);const je=document,Re=je.documentElement;function Ie(e,t){return t.forEach((function(t){t&&"string"!=typeof t&&!Array.isArray(t)&&Object.keys(t).forEach((function(n){if("default"!==n&&!(n in e)){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}}))})),Object.freeze(e)}Object.prototype.toString,Object.prototype.hasOwnProperty;const Te=Object.prototype.toString;function Be(e){return new Oe(e)}function Oe(e){if(!e||!e.nodeType)throw new Error("A DOM element reference is required");this.el=e,this.list=e.classList}Oe.prototype.add=function(e){return this.list.add(e),this},Oe.prototype.remove=function(e){return"[object RegExp]"==Te.call(e)?this.removeMatching(e):(this.list.remove(e),this)},Oe.prototype.removeMatching=function(e){const t=this.array();for(let n=0;n<t.length;n++)e.test(t[n])&&this.remove(t[n]);return this},Oe.prototype.toggle=function(e,t){return void 0!==t?t!==this.list.toggle(e,t)&&this.list.toggle(e):this.list.toggle(e),this},Oe.prototype.array=function(){return Array.from(this.list)},Oe.prototype.has=Oe.prototype.contains=function(e){return this.list.contains(e)};var Ae,$e,Me,Je={};function Ne(){Ae=window.addEventListener?"addEventListener":"attachEvent",$e=window.removeEventListener?"removeEventListener":"detachEvent",Me="addEventListener"!==Ae?"on":""}var He,ze=Ie({__proto__:null,bind:Je.bind=function(e,t,n,i){return Ae||Ne(),e[Ae](Me+t,n,i||!1),n},unbind:Je.unbind=function(e,t,n,i){return $e||Ne(),e[$e](Me+t,n,i||!1),n},default:Je},[Je]),Ke=!1;"undefined"!=typeof document&&((He=document.createElement("div")).innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',Ke=!He.getElementsByTagName("link").length,He=void 0);var qe={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:Ke?[1,"X<div>","</div>"]:[0,"",""]};qe.td=qe.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],qe.option=qe.optgroup=[1,'<select multiple="multiple">',"</select>"],qe.thead=qe.tbody=qe.colgroup=qe.caption=qe.tfoot=[1,"<table>","</table>"],qe.polyline=qe.ellipse=qe.polygon=qe.circle=qe.text=qe.line=qe.path=qe.rect=qe.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"];var Ue=function(e,t){if("string"!=typeof e)throw new TypeError("String expected");t||(t=document);var n=/<([\w:]+)/.exec(e);if(!n)return t.createTextNode(e);e=e.replace(/^\s+|\s+$/g,"");var i=n[1];if("body"==i)return(r=t.createElement("html")).innerHTML=e,r.removeChild(r.lastChild);var r,o=Object.prototype.hasOwnProperty.call(qe,i)?qe[i]:qe._default,l=o[0],s=o[1],a=o[2];for((r=t.createElement("div")).innerHTML=s+e+a;l--;)r=r.lastChild;if(r.firstChild==r.lastChild)return r.removeChild(r.firstChild);for(var c=t.createDocumentFragment();r.firstChild;)c.appendChild(r.removeChild(r.firstChild));return c};function Ze(e,t){return(t=t||document).querySelector(e)}var Xe=n(52551),Ge=n(32917),We=n(7860),Qe=n(15735),et=n(37437),tt=1e6,nt="[big.js] ",it=nt+"Invalid ",rt=it+"decimal places",ot=it+"rounding mode",lt=nt+"Division by zero",st={},at=void 0,ct=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function dt(e,t,n,i){var r=e.c;if(n===at&&(n=e.constructor.RM),0!==n&&1!==n&&2!==n&&3!==n)throw Error(ot);if(t<1)i=3===n&&(i||!!r[0])||0===t&&(1===n&&r[0]>=5||2===n&&(r[0]>5||5===r[0]&&(i||r[1]!==at))),r.length=1,i?(e.e=e.e-t+1,r[0]=1):r[0]=e.e=0;else if(t<r.length){if(i=1===n&&r[t]>=5||2===n&&(r[t]>5||5===r[t]&&(i||r[t+1]!==at||1&r[t-1]))||3===n&&(i||!!r[0]),r.length=t,i)for(;++r[--t]>9;)if(r[t]=0,0===t){++e.e,r.unshift(1);break}for(t=r.length;!r[--t];)r.pop()}return e}function ut(e,t,n){var i=e.e,r=e.c.join(""),o=r.length;if(t)r=r.charAt(0)+(o>1?"."+r.slice(1):"")+(i<0?"e":"e+")+i;else if(i<0){for(;++i;)r="0"+r;r="0."+r}else if(i>0)if(++i>o)for(i-=o;i--;)r+="0";else i<o&&(r=r.slice(0,i)+"."+r.slice(i));else o>1&&(r=r.charAt(0)+"."+r.slice(1));return e.s<0&&n?"-"+r:r}st.abs=function(){var e=new this.constructor(this);return e.s=1,e},st.cmp=function(e){var t,n=this,i=n.c,r=(e=new n.constructor(e)).c,o=n.s,l=e.s,s=n.e,a=e.e;if(!i[0]||!r[0])return i[0]?o:r[0]?-l:0;if(o!=l)return o;if(t=o<0,s!=a)return s>a^t?1:-1;for(l=(s=i.length)<(a=r.length)?s:a,o=-1;++o<l;)if(i[o]!=r[o])return i[o]>r[o]^t?1:-1;return s==a?0:s>a^t?1:-1},st.div=function(e){var t=this,n=t.constructor,i=t.c,r=(e=new n(e)).c,o=t.s==e.s?1:-1,l=n.DP;if(l!==~~l||l<0||l>tt)throw Error(rt);if(!r[0])throw Error(lt);if(!i[0])return e.s=o,e.c=[e.e=0],e;var s,a,c,d,u,p=r.slice(),f=s=r.length,h=i.length,m=i.slice(0,s),g=m.length,v=e,b=v.c=[],y=0,F=l+(v.e=t.e-e.e)+1;for(v.s=o,o=F<0?0:F,p.unshift(0);g++<s;)m.push(0);do{for(c=0;c<10;c++){if(s!=(g=m.length))d=s>g?1:-1;else for(u=-1,d=0;++u<s;)if(r[u]!=m[u]){d=r[u]>m[u]?1:-1;break}if(!(d<0))break;for(a=g==s?r:p;g;){if(m[--g]<a[g]){for(u=g;u&&!m[--u];)m[u]=9;--m[u],m[g]+=10}m[g]-=a[g]}for(;!m[0];)m.shift()}b[y++]=d?c:++c,m[0]&&d?m[g]=i[f]||0:m=[i[f]]}while((f++<h||m[0]!==at)&&o--);return b[0]||1==y||(b.shift(),v.e--,F--),y>F&&dt(v,F,n.RM,m[0]!==at),v},st.eq=function(e){return 0===this.cmp(e)},st.gt=function(e){return this.cmp(e)>0},st.gte=function(e){return this.cmp(e)>-1},st.lt=function(e){return this.cmp(e)<0},st.lte=function(e){return this.cmp(e)<1},st.minus=st.sub=function(e){var t,n,i,r,o=this,l=o.constructor,s=o.s,a=(e=new l(e)).s;if(s!=a)return e.s=-a,o.plus(e);var c=o.c.slice(),d=o.e,u=e.c,p=e.e;if(!c[0]||!u[0])return u[0]?e.s=-a:c[0]?e=new l(o):e.s=1,e;if(s=d-p){for((r=s<0)?(s=-s,i=c):(p=d,i=u),i.reverse(),a=s;a--;)i.push(0);i.reverse()}else for(n=((r=c.length<u.length)?c:u).length,s=a=0;a<n;a++)if(c[a]!=u[a]){r=c[a]<u[a];break}if(r&&(i=c,c=u,u=i,e.s=-e.s),(a=(n=u.length)-(t=c.length))>0)for(;a--;)c[t++]=0;for(a=t;n>s;){if(c[--n]<u[n]){for(t=n;t&&!c[--t];)c[t]=9;--c[t],c[n]+=10}c[n]-=u[n]}for(;0===c[--a];)c.pop();for(;0===c[0];)c.shift(),--p;return c[0]||(e.s=1,c=[p=0]),e.c=c,e.e=p,e},st.mod=function(e){var t,n=this,i=n.constructor,r=n.s,o=(e=new i(e)).s;if(!e.c[0])throw Error(lt);return n.s=e.s=1,t=1==e.cmp(n),n.s=r,e.s=o,t?new i(n):(r=i.DP,o=i.RM,i.DP=i.RM=0,n=n.div(e),i.DP=r,i.RM=o,this.minus(n.times(e)))},st.neg=function(){var e=new this.constructor(this);return e.s=-e.s,e},st.plus=st.add=function(e){var t,n,i,r=this,o=r.constructor;if(e=new o(e),r.s!=e.s)return e.s=-e.s,r.minus(e);var l=r.e,s=r.c,a=e.e,c=e.c;if(!s[0]||!c[0])return c[0]||(s[0]?e=new o(r):e.s=r.s),e;if(s=s.slice(),t=l-a){for(t>0?(a=l,i=c):(t=-t,i=s),i.reverse();t--;)i.push(0);i.reverse()}for(s.length-c.length<0&&(i=c,c=s,s=i),t=c.length,n=0;t;s[t]%=10)n=(s[--t]=s[t]+c[t]+n)/10|0;for(n&&(s.unshift(n),++a),t=s.length;0===s[--t];)s.pop();return e.c=s,e.e=a,e},st.pow=function(e){var t=this,n=new t.constructor("1"),i=n,r=e<0;if(e!==~~e||e<-1e6||e>1e6)throw Error(it+"exponent");for(r&&(e=-e);1&e&&(i=i.times(t)),e>>=1;)t=t.times(t);return r?n.div(i):i},st.prec=function(e,t){if(e!==~~e||e<1||e>tt)throw Error(it+"precision");return dt(new this.constructor(this),e,t)},st.round=function(e,t){if(e===at)e=0;else if(e!==~~e||e<-tt||e>tt)throw Error(rt);return dt(new this.constructor(this),e+this.e+1,t)},st.sqrt=function(){var e,t,n,i=this,r=i.constructor,o=i.s,l=i.e,s=new r("0.5");if(!i.c[0])return new r(i);if(o<0)throw Error(nt+"No square root");0===(o=Math.sqrt(+ut(i,!0,!0)))||o===1/0?((t=i.c.join("")).length+l&1||(t+="0"),l=((l+1)/2|0)-(l<0||1&l),e=new r(((o=Math.sqrt(t))==1/0?"5e":(o=o.toExponential()).slice(0,o.indexOf("e")+1))+l)):e=new r(o+""),l=e.e+(r.DP+=4);do{n=e,e=s.times(n.plus(i.div(n)))}while(n.c.slice(0,l).join("")!==e.c.slice(0,l).join(""));return dt(e,(r.DP-=4)+e.e+1,r.RM)},st.times=st.mul=function(e){var t,n=this,i=n.constructor,r=n.c,o=(e=new i(e)).c,l=r.length,s=o.length,a=n.e,c=e.e;if(e.s=n.s==e.s?1:-1,!r[0]||!o[0])return e.c=[e.e=0],e;for(e.e=a+c,l<s&&(t=r,r=o,o=t,c=l,l=s,s=c),t=new Array(c=l+s);c--;)t[c]=0;for(a=s;a--;){for(s=0,c=l+a;c>a;)s=t[c]+o[a]*r[c-a-1]+s,t[c--]=s%10,s=s/10|0;t[c]=s}for(s?++e.e:t.shift(),a=t.length;!t[--a];)t.pop();return e.c=t,e},st.toExponential=function(e,t){var n=this,i=n.c[0];if(e!==at){if(e!==~~e||e<0||e>tt)throw Error(rt);for(n=dt(new n.constructor(n),++e,t);n.c.length<e;)n.c.push(0)}return ut(n,!0,!!i)},st.toFixed=function(e,t){var n=this,i=n.c[0];if(e!==at){if(e!==~~e||e<0||e>tt)throw Error(rt);for(e=e+(n=dt(new n.constructor(n),e+n.e+1,t)).e+1;n.c.length<e;)n.c.push(0)}return ut(n,!1,!!i)},st.toJSON=st.toString=function(){var e=this,t=e.constructor;return ut(e,e.e<=t.NE||e.e>=t.PE,!!e.c[0])},"undefined"!=typeof Symbol&&(st[Symbol.for("nodejs.util.inspect.custom")]=st.toJSON),st.toNumber=function(){var e=+ut(this,!0,!0);if(!0===this.constructor.strict&&!this.eq(e.toString()))throw Error(nt+"Imprecise conversion");return e},st.toPrecision=function(e,t){var n=this,i=n.constructor,r=n.c[0];if(e!==at){if(e!==~~e||e<1||e>tt)throw Error(it+"precision");for(n=dt(new i(n),e,t);n.c.length<e;)n.c.push(0)}return ut(n,e<=n.e||n.e<=i.NE||n.e>=i.PE,!!r)},st.valueOf=function(){var e=this,t=e.constructor;if(!0===t.strict)throw Error(nt+"valueOf disallowed");return ut(e,e.e<=t.NE||e.e>=t.PE,!0)};const pt=function e(){function t(n){var i=this;if(!(i instanceof t))return n===at&&0===arguments.length?e():new t(n);if(n instanceof t)i.s=n.s,i.e=n.e,i.c=n.c.slice();else{if("string"!=typeof n){if(!0===t.strict&&"bigint"!=typeof n)throw TypeError(it+"value");n=0===n&&1/n<0?"-0":String(n)}!function(e,t){var n,i,r;if(!ct.test(t))throw Error(it+"number");for(e.s="-"==t.charAt(0)?(t=t.slice(1),-1):1,(n=t.indexOf("."))>-1&&(t=t.replace(".","")),(i=t.search(/e/i))>0?(n<0&&(n=i),n+=+t.slice(i+1),t=t.substring(0,i)):n<0&&(n=t.length),r=t.length,i=0;i<r&&"0"==t.charAt(i);)++i;if(i==r)e.c=[e.e=0];else{for(;r>0&&"0"==t.charAt(--r););for(e.e=n-i-1,e.c=[],n=0;i<=r;)e.c[n++]=+t.charAt(i++)}}(i,n)}i.constructor=t}return t.prototype=st,t.DP=20,t.RM=1,t.NE=-7,t.PE=21,t.strict=!1,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}();var ft="__fn",ht=Array.prototype.slice;function mt(){this._listeners={},this.on("diagram.destroy",1,this._destroy,this)}function gt(){}function vt(e=!0){const t="number"==typeof e?e:e?300:0;return t?e=>function(e,t){let n,i,r,o;function l(n){let l=Date.now(),c=n?0:o+t-l;if(c>0)return s(c);e.apply(r,i),a()}function s(e){n=setTimeout(l,e)}function a(){n&&clearTimeout(n),n=o=i=r=void 0}function c(...e){o=Date.now(),i=e,r=this,n||s(t)}return c.flush=function(){n&&l(!0),a()},c.cancel=a,c}(e,t):e=>e}mt.prototype.on=function(e,t,n,i){if(e=Q(e)?e:[e],ne(t)&&(i=n,n=t,t=1e3),!te(t))throw new Error("priority must be a number");var r,o=n;i&&(r=i,(o=n.bind(r))[ft]=n[ft]||n);var l=this;e.forEach((function(e){l._addListener(e,{priority:t,callback:o,next:null})}))},mt.prototype.once=function(e,t,n,i){var r=this;if(ne(t)&&(i=n,n=t,t=1e3),!te(t))throw new Error("priority must be a number");function o(){o.__isTomb=!0;var t=n.apply(i,arguments);return r.off(e,o),t}o[ft]=n,this.on(e,t,o)},mt.prototype.off=function(e,t){e=Q(e)?e:[e];var n=this;e.forEach((function(e){n._removeListener(e,t)}))},mt.prototype.createEvent=function(e){var t=new gt;return t.init(e),t},mt.prototype.fire=function(e,t){var n,i,r,o;if(o=ht.call(arguments),"object"==typeof e&&(e=(t=e).type),!e)throw new Error("no event type specified");if(i=this._listeners[e]){n=t instanceof gt?t:this.createEvent(t),o[0]=n;var l=n.type;e!==l&&(n.type=e);try{r=this._invokeListeners(n,o,i)}finally{e!==l&&(n.type=l)}return void 0===r&&n.defaultPrevented&&(r=!1),r}},mt.prototype.handleError=function(e){return!1===this.fire("error",{error:e})},mt.prototype._destroy=function(){this._listeners={}},mt.prototype._invokeListeners=function(e,t,n){for(var i;n&&!e.cancelBubble;)i=this._invokeListener(e,t,n),n=n.next;return i},mt.prototype._invokeListener=function(e,t,n){var i;if(n.callback.__isTomb)return i;try{i=function(e,t){return e.apply(null,t)}(n.callback,t),void 0!==i&&(e.returnValue=i,e.stopPropagation()),!1===i&&e.preventDefault()}catch(e){if(!this.handleError(e))throw console.error("unhandled error in event listener",e),e}return i},mt.prototype._addListener=function(e,t){var n,i=this._getListeners(e);if(i){for(;i;){if(i.priority<t.priority)return t.next=i,void(n?n.next=t:this._setListeners(e,t));n=i,i=i.next}n.next=t}else this._setListeners(e,t)},mt.prototype._getListeners=function(e){return this._listeners[e]},mt.prototype._setListeners=function(e,t){this._listeners[e]=t},mt.prototype._removeListener=function(e,t){var n,i,r,o=this._getListeners(e);if(t)for(;o;)n=o.next,(r=o.callback)!==t&&r[ft]!==t||(i?i.next=n:this._setListeners(e,n)),i=o,o=n;else this._setListeners(e,null)},gt.prototype.stopPropagation=function(){this.cancelBubble=!0},gt.prototype.preventDefault=function(){this.defaultPrevented=!0},gt.prototype.init=function(e){ue(this,e||{})},vt.$inject=["config.debounce"];class bt extends K.QM{updateId(e,t){if(this._validateId(t),this._eventBus.fire("formField.updateId",{formField:e,newId:t}),this.remove(e),e.id=t,this.add(e),"components"in e)for(const n of e.components)n._parent=t}_validateId(e){if(!e)throw new Error("formField must have an id");if(this.get(e))throw new Error("formField with id "+e+" already added")}}class yt{constructor(e,t){this._formLayouter=e,this._formFieldRegistry=t}validateField(e={},t,n){if(Number.isInteger(t)){if(t<2)return"Minimum 2 columns are allowed";if(t>16)return"Maximum 16 columns are allowed"}n||(n=this._formLayouter.getRowForField(e));let i=parseInt(t)||0,r=1,o=t?0:1;return n.components.forEach((t=>{if(e.id===t)return;const n=(this._formFieldRegistry.get(t).layout||{}).columns;n||o++,i+=parseInt(n)||0,r++})),i>16||o>0&&i>16-2*o||16===t&&r>1?"New value exceeds the maximum of 16 columns per row":r>4?"Maximum 4 fields per row are allowed":null}}yt.$inject=["formLayouter","formFieldRegistry"];const Ft=function(){const e=new Image;return e.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",e}();function _t(e,{disabled:t=!1}={}){if(!e)throw new Error("type required");return V()("fjs-form-field",`fjs-form-field-${e}`,{"fjs-disabled":t})}function wt(e){e.preventDefault(),e.stopPropagation()}function xt(e){const{field:t,domId:n}=e,{label:i}=t,r=(0,K.S2)(t.type);return(0,he.FD)("div",{class:_t(t.type),children:[(0,he.Y)(K.JU,{id:n,label:i}),(0,he.Y)("div",{class:"fjs-iframe-placeholder",id:n,children:(0,he.FD)("p",{class:"fjs-iframe-placeholder-text",children:[(0,he.Y)(r,{width:"32",height:"24",viewBox:"0 0 56 56"}),"iFrame"]})})]})}xt.config=K.Zy.config;const Et=(0,r.createContext)({drake:null}),Lt=(0,r.createContext)({getService:function(e,t){}});function Ct(e,t){const{getService:n}=(0,o.NT)(Lt);return n(e,t)}var Yt;function Vt(){return Vt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Vt.apply(null,arguments)}var kt,Pt,St=function(e){return me.n("svg",Vt({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor"},e),Yt||(Yt=me.n("path",{fillRule:"evenodd",d:"m12 4.7-.7-.7L8 7.3 4.7 4l-.7.7L7.3 8 4 11.3l.7.7L8 8.7l3.3 3.3.7-.7L8.7 8z",clipRule:"evenodd"})))};function Dt(){return Dt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Dt.apply(null,arguments)}var jt,Rt=function(e){return me.n("svg",Dt({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),me.n("rect",{width:16,height:16,x:.536,fill:"#fff",rx:3,style:{mixBlendMode:"multiply"}}),me.n("path",{fill:"#fff",d:"M0 0h16v16H0z",style:{mixBlendMode:"multiply"},transform:"translate(.536)"}),kt||(kt=me.n("path",{fill:"currentcolor",d:"M7.536 6h-1v6h1zm3 0h-1v6h1z"})),Pt||(Pt=me.n("path",{fill:"currentcolor",d:"M2.536 3v1h1v10a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4h1V3zm2 11V4h8v10zm6-13h-4v1h4z"})))};function It(){return It=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},It.apply(null,arguments)}var Tt,Bt=function(e){return me.n("svg",It({xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",width:16,height:16,fill:"currentcolor",viewBox:"0 0 32 32"},e),jt||(jt=me.n("path",{d:"M10 6h4v4h-4zm8 0h4v4h-4zm-8 8h4v4h-4zm8 0h4v4h-4zm-8 8h4v4h-4zm8 0h4v4h-4z"})),me.n("path",{d:"M0 0h32v32H0z",style:{fill:"none"}}))};function Ot(){return Ot=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ot.apply(null,arguments)}var At,$t,Mt,Jt,Nt,Ht,zt,Kt,qt=function(e){return me.n("svg",Ot({xmlns:"http://www.w3.org/2000/svg",width:15,height:15,fill:"none"},e),Tt||(Tt=me.n("path",{fill:"currentColor",d:"m14.5 13.793-3.776-3.776a5.508 5.508 0 1 0-.707.707l3.776 3.776zM2 6.5a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0"})))};function Ut(){return Ut=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ut.apply(null,arguments)}var Zt=function(e){return me.n("svg",Ut({xmlns:"http://www.w3.org/2000/svg",width:126,height:96,fill:"none"},e),At||(At=me.n("path",{fill:"#FF832B",fillRule:"evenodd",d:"M70 78v8a3 3 0 0 1-3 3h-8v-5h6v-6zm0-16h-5V46h5zm0-32h-5v-6h-6v-5h8a3 3 0 0 1 3 3zM43 19v5H27v-5zm-32 0v5H5v6H0v-8a3 3 0 0 1 3-3zM0 46h5v16H0zm0 32h5v6h6v5H3a3 3 0 0 1-3-3zm27 11v-5h16v5z",clipRule:"evenodd"})),$t||($t=me.n("rect",{width:70,height:70,fill:"#E5E5E5",rx:3,transform:"matrix(-1 0 0 1 94 0)"})),Mt||(Mt=me.n("mask",{id:"EmptyForm_svg__a",fill:"#fff"},me.n("path",{fillRule:"evenodd",d:"M87.085 88.684 75.43 45.185l43.499 11.656-11.044 8.072 8.557 8.556-12.728 12.728-8.557-8.556z",clipRule:"evenodd"}))),Jt||(Jt=me.n("path",{fill:"#393939",fillRule:"evenodd",d:"M87.085 88.684 75.43 45.185l43.499 11.656-11.044 8.072 8.557 8.556-12.728 12.728-8.557-8.556z",clipRule:"evenodd"})),Nt||(Nt=me.n("path",{fill:"#393939",d:"M75.43 45.185 70.6 46.48l-2.241-8.365 8.365 2.242zm11.655 43.499 4.037 2.95-6.163 8.432-2.704-10.088zm31.844-31.843 1.294-4.83 10.088 2.703-8.432 6.163zm-11.044 8.072-3.535 3.535-4.128-4.127 4.713-3.445zm8.557 8.556 3.535-3.535 3.536 3.535-3.536 3.536zm-12.728 12.728 3.536 3.536-3.536 3.535-3.536-3.535zm-8.557-8.556-4.036-2.951 3.444-4.713 4.128 4.128zM80.26 43.89 91.915 87.39l-9.66 2.588L70.6 46.48zm37.375 17.78L74.136 50.014l2.588-9.66 43.499 11.656zm-12.699-.795 11.043-8.072 5.901 8.073-11.043 8.072zm7.971 16.129-8.556-8.557 7.071-7.07 8.556 8.556zm-12.728 5.657 12.728-12.728 7.071 7.07-12.727 12.729zm-1.485-8.557 8.557 8.557-7.072 7.07-8.556-8.556zM83.049 85.733 91.12 74.69l8.073 5.901-8.072 11.044z",mask:"url(#EmptyForm_svg__a)"})),Ht||(Ht=me.n("path",{stroke:"#000",strokeLinecap:"round",strokeWidth:3,d:"m69.431 39.163-9.192-9.192"})),zt||(zt=me.n("path",{stroke:"#000",strokeLinecap:"round",strokeWidth:3,d:"M1.5-1.5h8",transform:"matrix(-1 0 0 1 68.213 50.123)"})),Kt||(Kt=me.n("path",{stroke:"#000",strokeLinecap:"round",strokeWidth:3,d:"M78.969 36.367v-8"})))};function Xt(e){const{type:t,text:n=""}=e.field,i=(0,K.S2)("text"),r=Ct("templating"),o=Ct("expressionLanguage");return n&&n.trim()?o.isExpression(n)?(0,he.Y)("div",{class:_t(t),children:(0,he.FD)("div",{class:"fjs-form-field-placeholder",children:[(0,he.Y)(i,{viewBox:"0 0 54 54"}),"Text view is populated by an expression"]})}):r.isTemplate(n)?(0,he.Y)("div",{class:_t(t),children:(0,he.FD)("div",{class:"fjs-form-field-placeholder",children:[(0,he.Y)(i,{viewBox:"0 0 54 54"}),"Text view is templated"]})}):(0,he.Y)(K.EY,{...e,disableLinks:!0}):(0,he.Y)("div",{class:_t(t),children:(0,he.FD)("div",{class:"fjs-form-field-placeholder",children:[(0,he.Y)(i,{viewBox:"0 0 54 54"}),"Text view is empty"]})})}function Gt(e){const{type:t,content:n=""}=e.field,i=(0,K.S2)(t),r=Ct("templating"),o=Ct("expressionLanguage");return n&&n.trim()?o.isExpression(n)?(0,he.Y)("div",{class:_t(t),children:(0,he.FD)("div",{class:"fjs-form-field-placeholder",children:[(0,he.Y)(i,{viewBox:"0 0 54 54"}),"Html view is populated by an expression"]})}):r.isTemplate(n)?(0,he.Y)("div",{class:_t(t),children:(0,he.FD)("div",{class:"fjs-form-field-placeholder",children:[(0,he.Y)(i,{viewBox:"0 0 54 54"}),"Html view is templated"]})}):(0,he.Y)(K.Ed,{...e,disableLinks:!0}):(0,he.Y)("div",{class:_t(t),children:(0,he.FD)("div",{class:"fjs-form-field-placeholder",children:[(0,he.Y)(i,{viewBox:"0 0 54 54"}),"Html view is empty"]})})}function Wt(e){const{columnsExpression:t,columns:n,id:i,label:r}=e.field,o="string"==typeof t&&t.length>0||Array.isArray(n)&&0===n.length?[{key:"1",label:"Column 1"},{key:"2",label:"Column 2"},{key:"3",label:"Column 3"}]:n,l=`fjs-form-${i}`;return(0,he.FD)("div",{class:_t("table",{disabled:!0}),children:[(0,he.Y)(K.JU,{id:l,label:r}),(0,he.Y)("div",{class:"fjs-table-middle-container",children:(0,he.Y)("div",{class:"fjs-table-inner-container",children:(0,he.FD)("table",{class:V()("fjs-table","fjs-disabled"),id:l,children:[(0,he.Y)("thead",{class:"fjs-table-head",children:(0,he.Y)("tr",{class:"fjs-table-tr",children:o.map((({key:e,label:t})=>(0,he.Y)("th",{class:"fjs-table-th",children:t},e)))})}),(0,he.Y)("tbody",{class:"fjs-table-body",children:(0,he.Y)("tr",{class:"fjs-table-tr",children:o.map((({key:e})=>(0,he.Y)("td",{class:"fjs-table-td",children:"Content"},e)))})})]})})})]})}function Qt(e){const{field:t}=e,{expression:n="",key:i}=t,r=(0,K.S2)("expression"),o=Ct("expressionLanguage");let l="Expression is empty";return n.trim()&&o.isExpression(n)&&(l=`Expression for '${i}'`),(0,he.Y)("div",{class:_t("expression"),children:(0,he.FD)("div",{class:"fjs-form-field-placeholder",children:[(0,he.Y)(r,{viewBox:"0 0 54 54"}),l]})})}function en(e){const{field:t,domId:n}=e,{label:i}=t,r=(0,K.S2)(t.type);return(0,he.FD)("div",{class:_t(t.type),children:[(0,he.Y)(K.JU,{id:n,label:i}),(0,he.Y)("div",{class:"fjs-documentPreview-placeholder",id:n,children:(0,he.FD)("p",{class:"fjs-documentPreview-placeholder-text",children:[(0,he.Y)(r,{width:"32",height:"24",viewBox:"0 0 56 56"}),"Document preview"]})})]})}Xt.config=K.EY.config,Gt.config=K.Ed.config,Wt.config=K.XI.config,Qt.config={...K.J6.config,escapeGridRender:!1},en.config=K.mE.config;const tn=[xt,Xt,Gt,Wt,Qt,en];class nn extends K.CL{constructor(){super(),tn.forEach((e=>{this.register(e.config.type,e)}))}}const rn=e=>{const{rootClass:t,RootElement:n,section:i,children:r}=e,l=Ct("eventBus"),s=Ct(`config.${i}`),[a,c]=(0,o.J0)(s&&s.parent||null),[d,u]=(0,o.J0)(!0),p=(0,o.Kr)((()=>{if(null===a)return null;if("string"==typeof a){if(!document.querySelector(a))throw new Error(`Target root element with selector '${a}' not found for section '${i}'`);return document.querySelector(a)}if(!(a instanceof Element))throw new Error(`Target root element for section '${i}' must be a valid selector or DOM element`);return a}),[i,a]);(0,o.vJ)((()=>{const e=({container:e})=>{c(e),u(!0)},t=()=>{c(null),u(!1)},n=()=>{c(null),u(!0)};return l.on(`${i}.attach`,e),l.on(`${i}.detach`,t),l.on(`${i}.reset`,n),l.fire(`${i}.section.rendered`),()=>{l.off(`${i}.attach`,e),l.off(`${i}.detach`,t),l.off(`${i}.reset`,n),l.fire(`${i}.section.destroyed`)}}),[l,i]),(0,o.vJ)((()=>{if(d)return l.fire(`${i}.rendered`,{element:p}),()=>{l.fire(`${i}.destroyed`,{element:p})}}),[l,i,d,p]);const f=(0,o.hb)((({children:e})=>n?(0,he.Y)(n,{children:e}):(0,he.Y)("div",{className:t,children:e})),[t,n]);return d?a?(0,me.d5)((0,he.Y)(f,{children:r}),p):(0,he.Y)(f,{children:r}):null},on=(0,r.createContext)({addFill(e,t){throw new Error("FillContext.addFill() uninitialized")},removeFill(e){throw new Error("FillContext.addFill() uninitialized")}}),ln=e=>{const t=(0,me.li)(Symbol("fill_uid")),n=(0,me.NT)(on);return(0,me.vJ)((()=>{if(n)return n.addFill({id:t,...e}),()=>{n.removeFill(t)}}),[n,e]),null},sn=(0,r.createContext)({fills:[]}),an=e=>{const{name:t,fillRoot:n=cn,groupFn:i=un,separatorFn:r=e=>null,limit:l}=e,{fills:s}=(0,o.NT)(sn),a=(0,o.Kr)((()=>s.filter((e=>e.slot===t))),[s,t]),c=(0,o.Kr)((()=>l?a.slice(0,l):a),[a,l]),d=(0,o.Kr)((()=>i(c)),[c,i]);return(0,o.Kr)((()=>dn(d,n,r)),[d,n,r])},cn=e=>(0,he.Y)(r.Fragment,{children:e.children},e.id),dn=(e,t,n)=>{const i=[];return e.forEach(((e,r)=>{if(0!==r){const e=n(`__separator_${r}`);e&&i.push(e)}e.forEach((e=>{i.push(t(e))}))})),i},un=e=>{const t=[],n={};return e.forEach((function(e){const{group:i="z_default"}=e;let r=n[i];r||(n[i]=r=[],t.push(r)),r.push(e)})),t.forEach((e=>e.sort(pn))),Object.keys(n).sort().map((e=>n[e]))},pn=(e,t)=>(t.priority||0)-(e.priority||0),fn=()=>{},hn=e=>{const[t,n]=(0,o.J0)([]),{onSetFill:i=fn,onRemoveFill:r=fn}=e,l=(0,o.Kr)((()=>({addFill:e=>{n((t=>[...t.filter((t=>t.id!==e.id)),e])),i(e)},removeFill:e=>{n((t=>t.filter((t=>t.id!==e)))),r(e)}})),[r,i]),s=(0,o.Kr)((()=>({fills:t})),[t]);return(0,he.Y)(sn.Provider,{value:s,children:(0,he.Y)(on.Provider,{value:l,children:e.children})})};function mn(e){const{type:t,label:n,icon:i,iconUrl:r,getPaletteIcon:o}=e,l=Ct("modeling"),s=Ct("formEditor"),a=o({icon:i,iconUrl:r,label:n,type:t});return(0,he.FD)("button",{type:"button",class:"fjs-palette-field fjs-drag-copy fjs-no-drop","data-field-type":t,title:`Create ${gn(t)} ${n} element`,onKeyDown:e=>{if("Enter"===e.code){const{fieldType:t}=e.target.dataset,{schema:n}=s._getState();l.addFormField({type:t},n,n.components.length)}},children:[a?(0,he.Y)(a,{class:"fjs-palette-field-icon",width:"36",height:"36",viewBox:"0 0 54 54"}):null,(0,he.Y)("span",{class:"fjs-palette-field-text",children:n})]})}function gn(e){return["image"].includes(e)?"an":"a"}const vn=[{label:"Input",id:"basic-input"},{label:"Selection",id:"selection"},{label:"Presentation",id:"presentation"},{label:"Containers",id:"container"},{label:"Action",id:"action"}];function bn(e){const t=Ct("formFields"),n=(0,o.li)(Fn(t)),[i,r]=(0,o.J0)(n.current),[l,s]=(0,o.J0)(""),a=(0,o.li)(),c=function(e){const t=vn.map((e=>({...e,entries:[]})));return e.forEach((e=>{const{group:n}=e;var i;(i=n,t.find((e=>i===e.id))).entries.push(e)})),t.filter((e=>e.entries.length))}(i),d=(0,o.hb)((e=>e.toLowerCase().replace(/\s+/g,"")),[]),u=(0,o.hb)((e=>{const t=d(l);if(!t)return!0;const n=d(e.label),i=d(e.type);return n.includes(t)||i.includes(t)}),[l,d]);(0,o.vJ)((()=>{const e=n.current.filter(u);r(e)}),[u,l]);const p=(0,o.hb)((e=>{s((()=>e.target.value))}),[s]),f=(0,o.hb)((e=>{s(""),a.current.focus()}),[a,s]);return(0,he.FD)("div",{class:"fjs-palette",children:[(0,he.Y)("div",{class:"fjs-palette-header",title:"Components",children:"Components"}),(0,he.FD)("div",{class:"fjs-palette-search-container",children:[(0,he.Y)("span",{class:"fjs-palette-search-icon",children:(0,he.Y)(qt,{})}),(0,he.Y)("input",{class:"fjs-palette-search",ref:a,type:"text",placeholder:"Search components",value:l,onInput:p}),l&&(0,he.Y)("button",{type:"button",title:"Clear content",class:"fjs-palette-search-clear",onClick:f,children:(0,he.Y)(St,{})})]}),(0,he.FD)("div",{class:"fjs-palette-entries",children:[c.map((({label:e,entries:t,id:n})=>(0,he.FD)("div",{class:"fjs-palette-group","data-group-id":n,children:[(0,he.Y)("span",{class:"fjs-palette-group-title",children:e}),(0,he.Y)("div",{class:"fjs-palette-fields fjs-drag-container fjs-no-drop",children:t.map((e=>(0,he.Y)(mn,{getPaletteIcon:_n,...e},e.type)))})]},n))),0==c.length&&(0,he.Y)("div",{class:"fjs-palette-no-entries",children:"No components found."})]}),(0,he.Y)("div",{class:"fjs-palette-footer",children:(0,he.Y)(an,{name:"editor-palette__footer",fillRoot:yn})})]})}const yn=e=>(0,he.Y)("div",{className:"fjs-palette-footer-fill",children:e.children});function Fn(e){return Object.entries(e._formFields).map((([e,t])=>{const{config:n}=t;return{label:n.name||n.label,type:e,group:n.group,icon:n.icon,iconUrl:n.iconUrl}})).filter((({type:e})=>"default"!==e))}function _n(e){const{icon:t,iconUrl:n,type:i,label:r}=e;let o;return o=n?function(){return(0,he.Y)("img",{class:"fjs-field-icon-image",width:36,style:{margin:"auto"},alt:r,src:(0,K.GX)(n)})}:t||(0,K.S2)(i),o}const wn=()=>{const e=Ct("renderInjector").fetchRenderers(),t=(0,o.Kr)((()=>({useService:Ct,components:{Fill:ln,Slot:an}})),[]);return(0,he.Y)(r.Fragment,{children:e.map((({Renderer:e},n)=>(0,he.Y)(e,{...t},n)))})},xn=/^fjs-cursor-.*$/;function En(e){const t=Be(document.body);t.removeMatching(xn),e&&t.add("fjs-cursor-"+e)}const Ln="fjs-drag-container",Cn="fjs-drop-container-vertical",Yn="fjs-drop-container-horizontal",Vn="fjs-drag-move",kn="fjs-drag-row-move",Pn="fjs-drag-copy",Sn="fjs-no-move",Dn="fjs-error-drop";class jn{constructor(e,t,n,i,r,o){this._formFieldRegistry=e,this._formLayouter=t,this._formLayoutValidator=n,this._eventBus=i,this._modeling=r,this._pathRegistry=o}getTargetIndex(e,t,n){const i=n&&n.querySelector(".fjs-element"),r=i&&this._formFieldRegistry.get(i.dataset.id);return r?Rn(t,r):e?Rn(t,this._formFieldRegistry.get(e.components[e.components.length-1]))+1:t.components.length}validateDrop(e,t){const n=e.querySelector(".fjs-element"),i=this._formLayouter.getRow(t.dataset.rowId);let r,o,l;if(n){if(o=this._formFieldRegistry.get(n.dataset.id),!o)return"No associated form field in the registry";if(r=(o.layout||{}).columns,In(t)){l=Tn(t).dataset.id;const e=this._formLayoutValidator.validateField(o,r,i);if(e)return e}else l=t.dataset.id;if(!l)return"Drop is not a valid target";const e=this._formFieldRegistry.get(l),s=this._formFieldRegistry.get(o._parent);if(e!==s){const t=this._pathRegistry.getValuePath(e),n=this._pathRegistry.getValuePath(s);if(t.join(".")!==n.join(".")&&!this._pathRegistry.executeRecursivelyOnFields(o,(({field:e,isClosed:n,isRepeatable:i})=>{const r={cutoffNode:s.id},o=this._pathRegistry.getValuePath(e,r);return this._pathRegistry.canClaimPath([...t,...o],{isClosed:n,isRepeatable:i,knownAncestorIds:(0,K.Kz)(l,this._formFieldRegistry)})})))return"Drop not allowed by path registry"}}}moveField(e,t,n,i,r){const o=e.querySelector(".fjs-element"),l=this._formFieldRegistry.get(o.dataset.id),s=Tn(t),a=this._formFieldRegistry.get(s.dataset.id),c=Rn(a,l),d=this._formLayouter.getRowForField(l);this._modeling.moveFormField(l,a,i,c,r,d,n)}createNewField(e,t,n,i){let r={type:e.dataset.fieldType};r={...r,_parent:n.id,layout:{row:t?t.id:this._formLayouter.nextRowId(),columns:null}},this._modeling.addFormField(r,n,i)}handleRowDrop(e,t,n,i){const r=this._formFieldRegistry.get(t.dataset.id),o=e.querySelector(".fjs-layout-row"),l=this._formLayouter.getRow(o.dataset.rowId);l.components.forEach(((e,t)=>{const o=this._formFieldRegistry.get(e),s=Tn(n),a=this._formFieldRegistry.get(s.dataset.id),c=i&&i.querySelector(".fjs-layout-row"),d=c&&this._formLayouter.getRow(c.dataset.rowId),u=i&&this._formFieldRegistry.get(d.components[0]),p=Rn(a,o),f=(c?Rn(r,u):r.components.length)+t;this._modeling.moveFormField(o,a,r,p,f,l,l)}))}handleElementDrop(e,t,n,i,r){const o=this._formFieldRegistry.get(Tn(t).dataset.id);let l;if(In(t)&&(l=this._formLayouter.getRow(t.dataset.rowId)),this.validateDrop(e,t))return r.cancel(!0);r.remove();const s=this.getTargetIndex(l,o,i);n.classList.contains("fjs-palette-fields")?this.createNewField(e,l,o,s):this.moveField(e,n,l,o,s)}createDragulaInstance(e){const{container:t,mirrorContainer:n}=e||{},i=function(e=[],t={}){let n,i,r,o,l,s,a,c,d,u,p,f,h;Array.isArray(e)||(t=e,e=[]);const m=((e,t)=>({containers:t,moves:()=>!0,accepts:()=>!0,invalid:()=>!1,isContainer:()=>!1,transformOffset:e=>e,copy:!1,copySortSource:!1,revertOnSpill:!1,removeOnSpill:!1,direction:"vertical",ignoreInputTextSelection:!0,mirrorContainer:document.body,...e}))(t,e),g=ye({containers:m.containers,start:function(e){const t=E(e);t&&L(t)},end:C,cancel:S,remove:P,destroy:function(){b(!0),V({})},canMove:function(e){return!!E(e)},dragging:!1});return m.removeOnSpill&&g.on("over",(function(e){xe(e,"gu-hide")})).on("out",(function(e){g.dragging&&we(e,"gu-hide")})),b(),g;function v(e){return-1!==g.containers.indexOf(e)||m.isContainer(e)}function b(e){const t=e?"removeEventListener":"addEventListener";Re[t]("pointerdown",w,!0),Re[t]("pointerup",V,!0)}function y(e){Re[e?"removeEventListener":"addEventListener"]("pointermove",x,!0)}function F(e){Re[e?"removeEventListener":"addEventListener"]("click",_,!0)}function _(e){h&&e.preventDefault()}function w(e){if(s=e.clientX,a=e.clientY,1!==Ee(e)||e.metaKey||e.ctrlKey)return;const t=e.target,n=E(t);n&&(h=n,y(),"pointerdown"===e.type&&(Pe(t)?t.focus():e.preventDefault()))}function x(e){if(!h)return;if(0===Ee(e))return void V({});if(void 0!==e.clientX&&Math.abs(e.clientX-s)<=(m.slideFactorX||0)&&void 0!==e.clientY&&Math.abs(e.clientY-a)<=(m.slideFactorY||0))return;if(m.ignoreInputTextSelection){const{clientX:t=0,clientY:n=0}=e,i=je.elementFromPoint(t,n);if(Pe(i))return}const t=h;y(!0),F(),C(),L(t);const i=(e=>{const t=e.getBoundingClientRect();return{left:t.left+Le("scrollLeft","pageXOffset"),top:t.top+Le("scrollTop","pageYOffset")}})(r),c=m.transformOffset(i,e,r),{pageX:d=0,pageY:p=0}=e;o=d-c.left,l=p-c.top,we(u||r,"gu-transit"),function(){if(n)return;const e=r.getBoundingClientRect();n=r.cloneNode(!0),n.style.width=Ye(e)+"px",n.style.height=Ve(e)+"px",xe(n,"gu-transit"),we(n,"gu-mirror"),m.mirrorContainer.appendChild(n),Re.addEventListener("pointermove",I),we(m.mirrorContainer,"gu-unselectable"),g.emit("cloned",n,r,"mirror")}(),I(e)}function E(e){if(g.dragging&&n||v(e))return;const t=e;for(;ke(e)&&!1===v(ke(e));)if(m.invalid(e,t)||!(e=ke(e)))return;const i=ke(e);return i&&!m.invalid(e,t)&&m.moves(e,i,t,De(e))?{item:e,source:i}:void 0}function L(e){(function(e,t){return"boolean"==typeof m.copy?m.copy:m.copy(e,t)})(e.item,e.source)&&(u=e.item.cloneNode(!0),g.emit("cloned",u,e.item,"copy")),i=e.source,r=e.item,c=d=De(e.item),g.dragging=!0,g.emit("drag",r,i)}function C(){if(!g.dragging)return;const e=u||r;k(e,ke(e))}function Y(){h=!1,y(!0),F(!0)}function V(e){if(Y(),!g.dragging)return;const t=u||r,{clientX:o=0,clientY:l=0}=e,s=R(Ce(n,o,l),o,l);s&&(u&&m.copySortSource||!u||s!==i)?k(t,s):m.removeOnSpill?P():S()}function k(e,t){const n=ke(e);u&&m.copySortSource&&t===i&&n.removeChild(r),j(t)?g.emit("cancel",e,i,i):g.emit("drop",e,t,i,d),D()}function P(){if(!g.dragging)return;const e=u||r,t=ke(e);t&&t.removeChild(e),g.emit(u?"cancel":"remove",e,t,i),D()}function S(e){if(!g.dragging)return;const t=arguments.length>0?e:m.revertOnSpill,n=u||r,o=ke(n),l=j(o);!1===l&&t&&(u?o&&o.removeChild(u):i.insertBefore(n,c)),l||t?g.emit("cancel",n,i,i):g.emit("drop",n,o,i,d),D()}function D(){const e=u||r;Y(),n&&(xe(m.mirrorContainer,"gu-unselectable"),Re.removeEventListener("pointermove",I),ke(n).removeChild(n),n=null),e&&xe(e,"gu-transit"),p&&clearTimeout(p),g.dragging=!1,f&&g.emit("out",e,f,i),g.emit("dragend",e),i=r=u=c=d=p=f=null}function j(e,t){let o;return o=void 0!==t?t:n?d:De(u||r),e===i&&o===c}function R(e,t,n){let o=e;for(;o&&!l();)o=ke(o);return o;function l(){if(!1===v(o))return!1;const l=T(o,e),s=B(o,l,t,n);return!!j(o,s)||m.accepts(r,o,i,s)}}function I(e){if(!n)return;e.preventDefault();const{clientX:t=0,clientY:s=0}=e,a=t-o,p=s-l;n.style.left=a+"px",n.style.top=p+"px";const h=u||r,v=Ce(n,t,s);let b=R(v,t,s);const y=null!==b&&b!==f;(y||null===b)&&(f&&x("out"),f=b,y&&x("over"));const F=ke(h);if(b===i&&u&&!m.copySortSource)return void(F&&F.removeChild(h));let _;const w=T(b,v);if(null!==w)_=B(b,w,t,s);else{if(!0!==m.revertOnSpill||u)return void(u&&F&&F.removeChild(h));_=c,b=i}function x(e){g.emit(e,h,f,i)}(null===_&&y||_!==h&&_!==De(h))&&(d=_,b.insertBefore(h,_),g.emit("shadow",h,b,i))}function T(e,t){let n=t;for(;n!==e&&ke(n)!==e;)n=ke(n);return n===Re?null:n}function B(e,t,n,o){const l="horizontal"===("function"==typeof m.direction?m.direction(r,e,i):m.direction);return t!==e?function(){const e=t.getBoundingClientRect();return function(e){return e?De(t):t}(l?n>e.left+Ye(e)/2:o>e.top+Ve(e)/2)}():function(){const t=e.children.length;let i,r,s;for(i=0;i<t;i++)if(r=e.children[i],s=r.getBoundingClientRect(),l&&s.left+s.width/2>n||!l&&s.top+s.height/2>o)return r;return null}()}}({direction:function(e,t){return In(t)?"horizontal":"vertical"},mirrorContainer:n,isContainer:e=>t.some((t=>e.classList.contains(t))),moves:(e,t,n)=>!n.classList.contains(Sn)&&(e.classList.contains(Vn)||e.classList.contains(Pn)||e.classList.contains(kn)),copy:e=>e.classList.contains(Pn),accepts:(e,t)=>(t.classList.remove(Dn),En("grabbing"),e.classList.contains(kn)?!t.classList.contains(Yn):(this.validateDrop(e,t)&&(t.classList.add(Dn),En("not-allowed")),!t.classList.contains("fjs-no-drop"))),transformOffset:(e,t,n)=>{if(n.classList.contains(kn)){const e={x:-5,y:-60};return{left:t.clientX+e.x,top:t.clientY+e.y}}if(n.classList.contains(Vn)){const e={x:-5,y:-15};return{left:t.clientX+e.x,top:t.clientY+e.y}}return e},slideFactorX:10,slideFactorY:5});return i.on("drag",((e,t)=>{this.emit("drag.start",{element:e,source:t})})),i.on("dragend",(e=>{this.emit("drag.end",{element:e})})),i.on("drop",((e,t,n,i)=>{this.emit("drag.drop",{element:e,target:t,source:n,sibling:i})})),i.on("over",((e,t,n)=>{this.emit("drag.hover",{element:e,container:t,source:n})})),i.on("out",((e,t,n)=>{this.emit("drag.out",{element:e,container:t,source:n})})),i.on("cancel",((e,t,n)=>{this.emit("drag.cancel",{element:e,container:t,source:n})})),i.on("drop",((e,t,n,r)=>{t?e.classList.contains(kn)?this.handleRowDrop(e,t,n,r):this.handleElementDrop(e,t,n,r,i):i.remove()})),this.emit("dragula.created",i),i}emit(e,t){this._eventBus.fire(e,t)}}function Rn(e,t){let n=e.components.length;return e.components.forEach((({id:e},i)=>{e===t.id&&(n=i)})),n}function In(e){return e.classList.contains("fjs-layout-row")}function Tn(e){return e.closest(".fjs-element")}function Bn(e){const{class:t,Icon:n,label:i}=e;return(0,he.FD)("div",{class:V()("fjs-field-preview",t),children:[(0,he.Y)(n,{class:"fjs-field-preview-icon",width:"36",height:"36",viewBox:"0 0 54 54"}),(0,he.Y)("span",{class:"fjs-field-preview-text",children:i})]})}jn.$inject=["formFieldRegistry","formLayouter","formLayoutValidator","eventBus","modeling","pathRegistry"];const On=/^cds--col(-lg)?/,An="fjs-element-resizing";function $n(e){const{field:t,position:n}=e,i=(0,o.li)(null),r=Ct("formLayoutValidator"),l=Ct("modeling"),s=(0,o.li)({startColumns:0,newColumns:0}),a=function(e){let t,n=!1,i=[];return function(...r){i=r,t=this,n||(n=!0,e.apply(t,i),window.requestAnimationFrame((function(){i=t=n=void 0})))}}(((e,o)=>{const{x:l}=o,{layout:a={}}=t,c=function(e,t,n,i){"left"===i&&(n*=-1);return t+Mn(n,Jn(e))}(i.current,a.columns||s.current.startColumns,l,n);if(!r.validateField(t,c)){s.current.newColumns=c;const e=i.current.closest(".fjs-layout-column");d=On,Be(e).removeMatching(d),e.classList.add(`cds--col-lg-${c}`)}var d}));return"default"===t.type?null:(0,he.Y)("div",{ref:i,class:V()("fjs-field-resize-handle","fjs-field-resize-handle-"+n,Sn),draggable:!0,onDragStart:e=>{const i=Nn(t),r=Jn(i),o=function(e){let t,n,i;function r(r){const o={x:r.clientX-n,y:r.clientY-i};return e.call(t,r,o)}function o(){document.removeEventListener("dragover",r),document.removeEventListener("dragend",o),document.removeEventListener("drop",wt)}return function(e){t=this,n=e.clientX,i=e.clientY,e.dataTransfer&&e.dataTransfer.setDragImage(Ft,0,0),document.addEventListener("dragover",r),document.addEventListener("dragend",o),document.addEventListener("drop",wt)}}(a);o(e);const l=i.closest(".fjs-layout-column").getBoundingClientRect().width+16;s.current.startColumns=Mn(l,r),function(e,t){Be(e).add(An+"-"+t)}(i,n)},onDragEnd:()=>{const{layout:e={}}=t;s.current.newColumns&&l.editFormField(t,"layout",{...e,columns:s.current.newColumns}),function(e,t){Be(e).remove(An+"-"+t)}(Nn(t),n),s.current.newColumns=null}})}function Mn(e,t){const n=1/16*t.getBoundingClientRect().width;return Math.round(e/n)}function Jn(e){return e.closest(".fjs-layout-row")}function Nn(e){return Ze('.fjs-element[data-id="'+e.id+'"]')}function Hn(e){return e.children?(0,he.Y)("div",{class:"fjs-context-pad",children:e.children}):null}function zn(){return(0,he.Y)("div",{class:"fjs-empty-component",children:(0,he.Y)("span",{class:"fjs-empty-component-text",children:"Drag and drop components here."})})}function Kn(){return(0,he.Y)("div",{class:"fjs-empty-editor",children:(0,he.FD)("div",{class:"fjs-empty-editor-card",children:[(0,he.Y)(Zt,{}),(0,he.Y)("h2",{children:"Build your form"}),(0,he.Y)("span",{children:"Drag and drop components here to start designing."}),(0,he.Y)("span",{children:"Use the preview window to test your form."})]})})}function qn(e){return["group","dynamiclist"].includes(e.field.type)?(0,he.Y)(zn,{}):"default"===e.field.type?(0,he.Y)(Kn,{}):null}function Un(e){const t=Ct("eventBus"),n=Ct("formFieldRegistry"),i=Ct("formFields"),r=Ct("modeling"),l=Ct("selection"),{hoverInfo:s}=(0,o.NT)(K.Gj),{field:a}=e,{id:c,type:d,showOutline:u}=a,p=(0,o.li)(),[f,h]=(0,o.J0)(!1);(0,o.vJ)((()=>{function e({selection:e}){const t=(0,K.Bo)(p.current);if(!e||"default"===e.type||e.id!==c||!t||!p.current)return;const n=p.current.getBoundingClientRect(),i=t.getBoundingClientRect(),r=n.height>i.height;(n.bottom>i.bottom||n.top<i.top)&&!r&&p.current.scrollIntoView({behavior:"auto",block:"nearest"})}return t.on("selection.changed",e),()=>t.off("selection.changed",e)}),[t,c]),(0,o.Nf)((()=>{l.isSelected(a)&&p.current.focus()}),[l,a]);const m=(0,o.hb)((e=>{const t=e.target.closest("[data-id]");t&&t.dataset.id===a.id&&l.toggle(a)}),[a,l]),g=l.isSelected(a),v=(0,o.Kr)((()=>{const t=[];return e.class&&t.push(...e.class.split(" ")),g&&t.push("fjs-editor-selected"),["group","dynamiclist"].includes(d)&&t.push(u?"fjs-outlined":"fjs-dashed-outlined"),f&&t.push("fjs-editor-hovered"),t.join(" ")}),[f,g,e.class,u,d]);return(0,he.FD)("div",{class:v,"data-id":c,"data-field-type":d,tabIndex:"default"===d?-1:0,onClick:m,onKeyPress:e=>{"Enter"===e.key&&(e.stopPropagation(),l.toggle(a))},onMouseOver:e=>{s.cleanup&&s.cleanup(),h(!0),s.cleanup=()=>h(!1),e.stopPropagation()},ref:p,children:[(0,he.Y)(Zn,{field:a}),(0,he.Y)(Hn,{children:l.isSelected(a)&&"default"!==a.type?(0,he.Y)("button",{type:"button",title:ni(a,i),class:"fjs-context-pad-item",onClick:e=>{e.stopPropagation();const t=n.get(a._parent),i=function(e,t){let n=e.components.length;return e.components.forEach((({id:e},i)=>{e===t.id&&(n=i)})),n}(t,a);r.removeFormField(a,t,i)},children:(0,he.Y)(Rt,{})}):null}),e.children,(0,he.Y)($n,{position:"left",field:a}),(0,he.Y)($n,{position:"right",field:a})]})}function Zn(e){const{field:t}=e;return Ct("config.debugColumns")&&"default"!=t.type?(0,he.Y)("div",{style:"width: fit-content; padding: 2px 6px; height: 16px; background: var(--color-blue-205-100-95); display: flex; justify-content: center; align-items: center; position: absolute; bottom: -2px; z-index: 2; font-size: 10px; right: 3px;",class:"fjs-debug-columns",children:(t.layout||{}).columns||"auto"}):null}function Xn(e){const{field:t}=e,{id:n}=t,i=["fjs-children",Cn];return e.class&&i.push(...e.class.split(" ")),(0,he.Y)("div",{class:i.join(" "),"data-id":n,children:e.children})}function Gn(e){const{row:t}=e,{id:n}=t,i=[Yn];return e.class&&i.push(...e.class.split(" ")),(0,he.FD)("div",{class:V()(kn),children:[(0,he.Y)("span",{class:"fjs-row-dragger",children:(0,he.Y)(Bt,{})}),(0,he.Y)("div",{class:i.join(" "),style:e.style,"data-row-id":n,children:e.children})]})}function Wn(e){const{field:t}=e,n=[Vn];return"default"===t.type?e.children:(e.class&&n.push(...e.class.split(" ")),(0,he.Y)("div",{"data-field-type":t.type,class:n.join(" "),children:e.children}))}function Qn(){const e=Ct("dragging"),t=Ct("eventBus"),n=Ct("formEditor"),i=Ct("injector"),r=Ct("selection"),l=Ct("propertiesPanel"),s=Ct("config.propertiesPanel"),{schema:a,properties:c}=n._getState(),{ariaLabel:d}=c,u=(0,o.li)(null),p=(0,o.li)(null),[,f]=(0,o.J0)(a),[h,m]=(0,o.J0)(!1);(0,o.vJ)((()=>{function e(e){f(e.selection||a)}return t.on("selection.changed",e),()=>{t.off("selection.changed",e)}}),[t,a]),(0,o.vJ)((()=>{f(r.get()||a)}),[r,a]);const[g,v]=(0,o.J0)(null),b={drake:g};(0,o.vJ)((()=>{let n=e.createDragulaInstance({container:[Ln,Cn,Yn],mirrorContainer:u.current});v(n);const i=()=>{n&&(n.destroy(),t.fire("dragula.destroyed"))},r=()=>{i(),n=e.createDragulaInstance({container:[Ln,Cn,Yn],mirrorContainer:u.current}),v(n)},o=e=>{v(e)},l=()=>{En("grabbing")},s=()=>{En(null)};return t.on("attach",r),t.on("detach",i),t.on("dragula.created",o),t.on("drag.start",l),t.on("drag.end",s),()=>{i(),t.off("attach",r),t.off("detach",i),t.off("dragula.created",o),t.off("drag.start",l),t.off("drag.end",s)}}),[e,t]),(0,o.vJ)((()=>{h||(m(!0),t.fire("rendered"),t.fire("formEditor.rendered"))}),[t,h]);const y=(0,o.Kr)((()=>({Children:Xn,Column:Wn,Element:Un,Empty:qn,Row:Gn,hoverInfo:{}})),[]),F=(0,o.Kr)((()=>({getService:(e,t=!0)=>"form"===e?{_getState:()=>({data:{},errors:{},properties:{ariaLabel:d,disabled:!0},schema:a})}:i.get(e,t),formId:n._id})),[d,n,i,a]),_=(0,o.hb)((()=>{}),[]),w=(0,o.hb)((()=>{}),[]),x=function(e){return!(e&&e.parent)}(s);return(0,o.vJ)((()=>{x&&l.attachTo(p.current)}),[p,l,x]),(0,he.Y)("div",{class:"fjs-form-editor",children:(0,he.FD)(hn,{children:[(0,he.FD)(Et.Provider,{value:b,children:[(0,he.Y)(rn,{rootClass:"fjs-palette-container",section:"palette",children:(0,he.Y)(bn,{})}),(0,he.Y)("div",{ref:u,class:"fjs-form-container",children:(0,he.Y)(K.cK.Provider,{value:F,children:(0,he.Y)(K.Gj.Provider,{value:y,children:(0,he.Y)(K.s2,{onSubmit:_,onReset:w})})})}),(0,he.Y)(ei,{})]}),x&&(0,he.Y)("div",{class:"fjs-editor-properties-container",ref:p}),(0,he.Y)(rn,{rootClass:"fjs-render-injector-container",section:"renderInjector",children:(0,he.Y)(wn,{})})]})})}function ei(e){const{drake:t}=(0,o.NT)(Et),n=Ct("formFields");return(0,o.vJ)((()=>{if(t)return t.on("cloned",e),()=>t.off("cloned",e);function e(e,t,i){const o=e.dataset.fieldType;if(o){const i=ti(o,n);if(!i)return;const{label:l}=i,s=_n(i);e.innerHTML="",e.class="gu-mirror",e.classList.add("fjs-field-preview-container"),t.classList.contains("fjs-palette-field")&&e.classList.add("cds--col"),(0,r.render)((0,he.Y)(Bn,{label:l,Icon:s}),e)}else["fjs-context-pad","fjs-row-dragger","fjs-debug-columns"].forEach((t=>{const n=e.querySelectorAll("."+t);n.length&&n.forEach((e=>e.remove()))})),e.classList.add("cds--grid"),e.classList.add("cds--grid--condensed")}}),[t,n]),null}function ti(e,t){return Fn(t).find((t=>t.type===e))}function ni(e,t){const n=ti(e.type,t);return n?`Remove ${n.label}`:"Remove form field"}class ii{constructor(e,t,n,i){const{container:l,compact:s=!1}=e;t.on("form.init",(function(){t.fire("canvas.init",{svg:l,viewport:null})})),l.addEventListener("mouseover",(function(){document.activeElement===document.body&&l.focus({preventScroll:!0})})),l.addEventListener("click",(function(e){l.contains(document.activeElement)||l.focus({preventScroll:!0})}));const a=()=>{const[e,t]=(0,o.J0)(n._getState()),r={getService:(e,t=!0)=>i.get(e,t)};n.on("changed",(e=>{t(e)}));const{schema:l}=e;return l?(0,he.Y)("div",{class:"fjs-container fjs-editor-container "+(s?"fjs-editor-compact":""),children:(0,he.Y)(Lt.Provider,{value:r,children:(0,he.Y)(Qn,{})})}):null};t.on("form.init",(()=>{(0,r.render)((0,he.Y)(a,{}),l)})),t.on("form.destroy",(()=>{(0,r.render)(null,l)}))}}ii.$inject=["config.renderer","eventBus","formEditor","injector"];const ri={__depends__:[{__init__:["formFields","renderer"],formFields:["type",nn],renderer:["type",ii]}],debounce:["factory",vt],eventBus:["type",mt],importer:["type",K.l9],formFieldRegistry:["type",bt],pathRegistry:["type",K.ZY],formLayouter:["type",K.SL],formLayoutValidator:["type",yt],fieldFactory:["type",K.L2]};var oi="is not a registered action";function li(e,t){this._actions={};var n=this;e.on("diagram.init",(function(){n._registerDefaultActions(t),e.fire("editorActions.init",{editorActions:n})}))}function si(e,t){return new Error(e+" "+t)}li.$inject=["eventBus","injector"],li.prototype._registerDefaultActions=function(e){var t=e.get("commandStack",!1),n=e.get("modeling",!1),i=e.get("selection",!1),r=e.get("zoomScroll",!1),o=e.get("copyPaste",!1),l=e.get("canvas",!1),s=e.get("rules",!1),a=e.get("keyboardMove",!1),c=e.get("keyboardMoveSelection",!1);t&&(this.register("undo",(function(){t.undo()})),this.register("redo",(function(){t.redo()}))),o&&i&&this.register("copy",(function(){var e=i.get();if(e.length)return o.copy(e)})),o&&this.register("paste",(function(){o.paste()})),r&&this.register("stepZoom",(function(e){r.stepZoom(e.value)})),l&&this.register("zoom",(function(e){l.zoom(e.value)})),n&&i&&s&&this.register("removeSelection",(function(){var e=i.get();if(e.length){var t,r=s.allowed("elements.delete",{elements:e});!1!==r&&(t=Q(r)?r:e).length&&n.removeElements(t.slice())}})),a&&this.register("moveCanvas",(function(e){a.moveCanvas(e)})),c&&this.register("moveSelection",(function(e){c.moveSelection(e.direction,e.accelerated)}))},li.prototype.trigger=function(e,t){if(!this._actions[e])throw si(e,oi);return this._actions[e](t)},li.prototype.register=function(e,t){var n=this;if("string"==typeof e)return this._registerAction(e,t);oe(e,(function(e,t){n._registerAction(t,e)}))},li.prototype._registerAction=function(e,t){if(this.isRegistered(e))throw si(e,"is already registered");this._actions[e]=t},li.prototype.unregister=function(e){if(!this.isRegistered(e))throw si(e,oi);this._actions[e]=void 0},li.prototype.getActions=function(){return Object.keys(this._actions)},li.prototype.isRegistered=function(e){return!!this._actions[e]};var ai={__init__:["editorActions"],editorActions:["type",li]};class ci extends li{constructor(e,t){super(e,t),e.on("form.init",(()=>{this._registerDefaultActions(t),e.fire("editorActions.init",{editorActions:this})}))}_registerDefaultActions(e){const t=e.get("commandStack",!1),n=e.get("formFieldRegistry",!1),i=e.get("selection",!1);t&&(this.register("undo",(()=>{t.undo()})),this.register("redo",(()=>{t.redo()}))),n&&i&&this.register("selectFormField",((e={})=>{const{id:t}=e;if(!t)return;const r=n.get(t);r&&i.set(r)}))}}ci.$inject=["eventBus","injector"];const di={__depends__:[ai],editorActions:["type",ci]};class ui{isTemplate(e){return ie(e)&&(e.startsWith("=")||/{{/.test(e))}evaluate(e){return e}}ui.$inject=[];const pi={__init__:["expressionLanguage","templating"],expressionLanguage:["type",K.he],templating:["type",ui]};var fi=["c","C"],hi=["v","V"],mi=["y","Y"],gi=["z","Z"];function vi(e){return!e.altKey&&(e.ctrlKey||e.metaKey)}function bi(e,t){return-1!==(e=Q(e)?e:[e]).indexOf(t.key)||-1!==e.indexOf(t.code)}function yi(e){return e.shiftKey}function Fi(e){return vi(e)&&!yi(e)&&bi(gi,e)}function _i(e){return vi(e)&&(bi(mi,e)||bi(gi,e)&&yi(e))}var wi="keyboard.keydown",xi="Keyboard binding is now implicit; explicit binding to an element got removed. For more information, see https://github.com/bpmn-io/diagram-js/issues/661";function Ei(e,t){var n=this;this._config=e=e||{},this._eventBus=t,this._keydownHandler=this._keydownHandler.bind(this),this._keyupHandler=this._keyupHandler.bind(this),t.on("diagram.destroy",(function(){n._fire("destroy"),n.unbind()})),e.bindTo&&console.error("unsupported configuration <keyboard.bindTo>",new Error(xi));var i=e&&!1!==e.bind;t.on("canvas.init",(function(e){n._target=e.svg,i&&n.bind(),n._fire("init")}))}function Li(e,t){var n=this;e.on("editorActions.init",500,(function(e){var i=e.editorActions;n.registerBindings(t,i)}))}Ei.$inject=["config.keyboard","eventBus"],Ei.prototype._keydownHandler=function(e){this._keyHandler(e,wi)},Ei.prototype._keyupHandler=function(e){this._keyHandler(e,"keyboard.keyup")},Ei.prototype._keyHandler=function(e,t){if(!this._isEventIgnored(e)){var n={keyEvent:e};this._eventBus.fire(t||wi,n)&&e.preventDefault()}},Ei.prototype._isEventIgnored=function(e){return!1},Ei.prototype.bind=function(e){e&&console.error("unsupported argument <node>",new Error(xi)),this.unbind(),e=this._node=this._target,ze.bind(e,"keydown",this._keydownHandler),ze.bind(e,"keyup",this._keyupHandler),this._fire("bind")},Ei.prototype.getBinding=function(){return this._node},Ei.prototype.unbind=function(){var e=this._node;e&&(this._fire("unbind"),ze.unbind(e,"keydown",this._keydownHandler),ze.unbind(e,"keyup",this._keyupHandler)),this._node=null},Ei.prototype._fire=function(e){this._eventBus.fire("keyboard."+e,{node:this._node})},Ei.prototype.addListener=function(e,t,n){ne(e)&&(n=t,t=e,e=1e3),this._eventBus.on(n||wi,e,t)},Ei.prototype.removeListener=function(e,t){this._eventBus.off(t||wi,e)},Ei.prototype.hasModifier=function(e){return e.ctrlKey||e.metaKey||e.shiftKey||e.altKey},Ei.prototype.isCmd=vi,Ei.prototype.isShift=yi,Ei.prototype.isKey=bi,Li.$inject=["eventBus","keyboard"],Li.prototype.registerBindings=function(e,t){function n(n,i){t.isRegistered(n)&&e.addListener(i)}n("undo",(function(e){if(Fi(e.keyEvent))return t.trigger("undo"),!0})),n("redo",(function(e){if(_i(e.keyEvent))return t.trigger("redo"),!0})),n("copy",(function(e){if(vi(n=e.keyEvent)&&bi(fi,n))return t.trigger("copy"),!0;var n})),n("paste",(function(e){if(vi(n=e.keyEvent)&&bi(hi,n))return t.trigger("paste"),!0;var n})),n("stepZoom",(function(e){var n=e.keyEvent;if(bi(["+","Add","="],n)&&vi(n))return t.trigger("stepZoom",{value:1}),!0})),n("stepZoom",(function(e){var n=e.keyEvent;if(bi(["-","Subtract"],n)&&vi(n))return t.trigger("stepZoom",{value:-1}),!0})),n("zoom",(function(e){var n=e.keyEvent;if(bi("0",n)&&vi(n))return t.trigger("zoom",{value:1}),!0})),n("removeSelection",(function(e){if(bi(["Backspace","Delete","Del"],e.keyEvent))return t.trigger("removeSelection"),!0}))};var Ci={__init__:["keyboard","keyboardBindings"],keyboard:["type",Ei],keyboardBindings:["type",Li]};class Yi{constructor(e,t){e.on("editorActions.init",500,(e=>{const{editorActions:n}=e;this.registerBindings(t,n)}))}registerBindings(e,t){function n(n,i){t.isRegistered(n)&&e.addListener(i)}n("undo",(e=>{const{keyEvent:n}=e;if(Fi(n))return t.trigger("undo"),!0})),n("redo",(e=>{const{keyEvent:n}=e;if(_i(n))return t.trigger("redo"),!0}))}}Yi.$inject=["eventBus","keyboard"];const Vi={__depends__:[Ci],__init__:["keyboardBindings"],keyboardBindings:["type",Yi]},ki={__init__:["dragging"],dragging:["type",jn]};function Pi(e,t){this._handlerMap={},this._stack=[],this._stackIdx=-1,this._currentExecution={actions:[],dirty:[],trigger:null},this._injector=t,this._eventBus=e,this._uid=1,e.on(["diagram.destroy","diagram.clear"],(function(){this.clear(!1)}),this)}Pi.$inject=["eventBus","injector"],Pi.prototype.execute=function(e,t){if(!e)throw new Error("command required");this._currentExecution.trigger="execute";const n={command:e,context:t};this._pushAction(n),this._internalExecute(n),this._popAction()},Pi.prototype.canExecute=function(e,t){const n={command:e,context:t},i=this._getHandler(e);let r=this._fire(e,"canExecute",n);if(void 0===r){if(!i)return!1;i.canExecute&&(r=i.canExecute(t))}return r},Pi.prototype.clear=function(e){this._stack.length=0,this._stackIdx=-1,!1!==e&&this._fire("changed",{trigger:"clear"})},Pi.prototype.undo=function(){let e,t=this._getUndoAction();if(t){for(this._currentExecution.trigger="undo",this._pushAction(t);t&&(this._internalUndo(t),e=this._getUndoAction(),e&&e.id===t.id);)t=e;this._popAction()}},Pi.prototype.redo=function(){let e,t=this._getRedoAction();if(t){for(this._currentExecution.trigger="redo",this._pushAction(t);t&&(this._internalExecute(t,!0),e=this._getRedoAction(),e&&e.id===t.id);)t=e;this._popAction()}},Pi.prototype.register=function(e,t){this._setHandler(e,t)},Pi.prototype.registerHandler=function(e,t){if(!e||!t)throw new Error("command and handlerCls must be defined");const n=this._injector.instantiate(t);this.register(e,n)},Pi.prototype.canUndo=function(){return!!this._getUndoAction()},Pi.prototype.canRedo=function(){return!!this._getRedoAction()},Pi.prototype._getRedoAction=function(){return this._stack[this._stackIdx+1]},Pi.prototype._getUndoAction=function(){return this._stack[this._stackIdx]},Pi.prototype._internalUndo=function(e){const t=e.command,n=e.context,i=this._getHandler(t);this._atomicDo((()=>{this._fire(t,"revert",e),i.revert&&this._markDirty(i.revert(n)),this._revertedAction(e),this._fire(t,"reverted",e)}))},Pi.prototype._fire=function(e,t,n){arguments.length<3&&(n=t,t=null);const i=t?[e+"."+t,t]:[e];let r;n=this._eventBus.createEvent(n);for(const e of i)if(r=this._eventBus.fire("commandStack."+e,n),n.cancelBubble)break;return r},Pi.prototype._createId=function(){return this._uid++},Pi.prototype._atomicDo=function(e){const t=this._currentExecution;t.atomic=!0;try{e()}finally{t.atomic=!1}},Pi.prototype._internalExecute=function(e,t){const n=e.command,i=e.context,r=this._getHandler(n);if(!r)throw new Error("no command handler registered for <"+n+">");this._pushAction(e),t||(this._fire(n,"preExecute",e),r.preExecute&&r.preExecute(i),this._fire(n,"preExecuted",e)),this._atomicDo((()=>{this._fire(n,"execute",e),r.execute&&this._markDirty(r.execute(i)),this._executedAction(e,t),this._fire(n,"executed",e)})),t||(this._fire(n,"postExecute",e),r.postExecute&&r.postExecute(i),this._fire(n,"postExecuted",e)),this._popAction()},Pi.prototype._pushAction=function(e){const t=this._currentExecution,n=t.actions,i=n[0];if(t.atomic)throw new Error("illegal invocation in <execute> or <revert> phase (action: "+e.command+")");e.id||(e.id=i&&i.id||this._createId()),n.push(e)},Pi.prototype._popAction=function(){const e=this._currentExecution,t=e.trigger,n=e.actions,i=e.dirty;n.pop(),n.length||(this._eventBus.fire("elements.changed",{elements:se("id",i.reverse())}),i.length=0,this._fire("changed",{trigger:t}),e.trigger=null)},Pi.prototype._markDirty=function(e){const t=this._currentExecution;e&&(e=Q(e)?e:[e],t.dirty=t.dirty.concat(e))},Pi.prototype._executedAction=function(e,t){const n=++this._stackIdx;t||this._stack.splice(n,this._stack.length,e)},Pi.prototype._revertedAction=function(e){this._stackIdx--},Pi.prototype._getHandler=function(e){return this._handlerMap[e]},Pi.prototype._setHandler=function(e,t){if(!e||!t)throw new Error("command and handler required");if(this._handlerMap[e])throw new Error("overriding handler for command <"+e+">");this._handlerMap[e]=t};var Si={commandStack:["type",Pi]};function Di(e){this._eventBus=e}function ji(e){return function(t,n,i,r,o){(ne(t)||te(t))&&(o=r,r=i,i=n,n=t,t=null),this.on(t,e,n,i,r,o)}}Di.$inject=["eventBus"],Di.prototype.on=function(e,t,n,i,r,o){if((ne(t)||te(t))&&(o=r,r=i,i=n,n=t,t=null),ne(n)&&(o=r,r=i,i=n,n=1e3),ee(r)&&(o=r,r=!1),!ne(i))throw new Error("handlerFn must be a function");Q(e)||(e=[e]);var l=this._eventBus;oe(e,(function(e){var s=["commandStack",e,t].filter((function(e){return e})).join(".");l.on(s,n,r?function(e,t){return function(n){return e.call(t||null,n.context,n.command,n)}}(i,o):i,o)}))},Di.prototype.canExecute=ji("canExecute"),Di.prototype.preExecute=ji("preExecute"),Di.prototype.preExecuted=ji("preExecuted"),Di.prototype.execute=ji("execute"),Di.prototype.executed=ji("executed"),Di.prototype.postExecute=ji("postExecute"),Di.prototype.postExecuted=ji("postExecuted"),Di.prototype.revert=ji("revert"),Di.prototype.reverted=ji("reverted");class Ri extends Di{constructor(e,t){super(e),this.preExecute("formField.remove",(function(e){const{formField:n}=e,{id:i}=n;t.unclaimId(n,i)}),!0),this.preExecute("formField.edit",(function(e){const{formField:n,properties:i}=e;"id"in i&&(t.unclaimId(n,n.id),t.claimId(n,i.id))}),!0)}}Ri.$inject=["eventBus","modeling"];class Ii extends Di{constructor(e,t,n){super(e),this.preExecute("formField.remove",(function(e){const{formField:i}=e,{key:r,type:o}=i,{config:l}=n.get(o);l.keyed&&t.unclaimKey(i,r)}),!0),this.preExecute("formField.edit",(function(e){const{formField:i,properties:r}=e,{key:o,type:l}=i,{config:s}=n.get(l);s.keyed&&"key"in r&&(t.unclaimKey(i,o),t.claimKey(i,r.key))}),!0)}}Ii.$inject=["eventBus","modeling","formFields"];class Ti extends Di{constructor(e,t,n){super(e),this.preExecute("formField.remove",(function(e){const{formField:i}=e,{path:r,type:o}=i,{config:l}=n.get(o);l.pathed&&t.unclaimPath(i,r)}),!0),this.preExecute("formField.edit",(function(e){const{formField:i,properties:r}=e,{path:o,type:l}=i,{config:s}=n.get(l);s.pathed&&"path"in r&&(t.unclaimPath(i,o),t.claimPath(i,r.path))}),!0)}}Ti.$inject=["eventBus","modeling","formFields"];class Bi extends Di{constructor(e){super(e),this.preExecute("formField.edit",(function(e){const{properties:t}=e,{validate:n={}}=t;if(n.validationType){const e={...n};delete e.minLength,delete e.maxLength,delete e.pattern,t.validate=e}}),!0)}}Bi.$inject=["eventBus"];class Oi extends Di{constructor(e){super(e),this.preExecute("formField.edit",(function(e){const{properties:t}=e,n={};(function(e){return Object.values(K.lh).some((t=>void 0!==fe(e,t)))})(t)&&(Object.values(K.Qb).forEach((e=>{const i=K.lh[e];null==fe(t,i)&&(n[K.lh[e]]=void 0)})),void 0===fe(t,K.lh[K.Qb.EXPRESSION])&&void 0===fe(t,K.lh[K.Qb.INPUT])||(n.defaultValue=void 0),e.properties={...t,...n})}),!0)}}Oi.$inject=["eventBus"];const Ai={columns:"columns",columnsExpression:"columnsExpression"};class $i extends Di{constructor(e){super(e),this.preExecute("formField.edit",(function(e){const{properties:t,oldProperties:n}=e,i=Object.values(Ai).some((e=>void 0!==fe(t,[e])));if(!i)return;const r=fe(t,[Ai.columns]),o=fe(n,[Ai.columns]),l=fe(t,[Ai.columnsExpression]),s=fe(n,[Ai.columnsExpression]);!Q(r)||G(o)?!ie(l)||ie(s)||(e.properties={...t,columns:void 0}):e.properties={...t,columnsExpression:void 0}}),!0)}}$i.$inject=["eventBus"];class Mi extends Di{constructor(e){super(e),this.preExecute("formField.add",(function(e){const{formField:t}=e;"table"===fe(t,["type"])&&(e.formField={...t,dataSource:`=${t.id}`})}),!0)}}Mi.$inject=["eventBus"];const Ji={__init__:["idBehavior","keyBehavior","pathBehavior","validateBehavior","optionsSourceBehavior","columnsSourceBehavior","tableDataSourceBehavior"],idBehavior:["type",Ri],keyBehavior:["type",Ii],pathBehavior:["type",Ti],validateBehavior:["type",Bi],optionsSourceBehavior:["type",Oi],columnsSourceBehavior:["type",$i],tableDataSourceBehavior:["type",Mi]};function Ni(e,t,n){return e.splice(t,0,n),e}function Hi(e,t){return e.splice(t,1),e}function zi(e,t,n){return Ki(t,[...e.get(t._parent)._path,"components",n]),t}function Ki(e,t){e._path=t,(e.components||[]).forEach(((e,n)=>{Ki(e,[...t,"components",n])}))}function qi(e,t){return e.layout={...e.layout||{},row:t},e}class Ui extends Di{constructor(e,t,n,i){super(e),this._eventBus=e,this._formLayouter=t,this._modeling=n,this._formEditor=i,this.preExecute(["formField.add","formField.remove","formField.move","id.updateClaim"],(e=>this.updateRowIds(e))),e.on("changed",(e=>{const{schema:t}=e;this.updateLayout(t)}))}updateLayout(e){this._formLayouter.clear(),this._formLayouter.calculateLayout((0,K.o8)(e))}updateRowIds(e){const{schema:t}=this._formEditor._getState(),n=e=>{e.components&&e.components.length&&e.components.forEach((e=>{qi(e,this._formLayouter.getRowForField(e).id),n(e)}))};n(t)}}Ui.$inject=["eventBus","formLayouter","modeling","formEditor"];class Zi{constructor(e,t){this._formEditor=e,this._formFieldRegistry=t}execute(e){const{formField:t,targetFormField:n,targetIndex:i}=e,{schema:r}=this._formEditor._getState(),o=[...n._path,"components"];t._parent=n.id,Ni(fe(r,o),i,t),fe(r,o).forEach(((e,t)=>zi(this._formFieldRegistry,e,t))),this._formFieldRegistry.add(t),this._formEditor._setState({schema:r})}revert(e){const{formField:t,targetFormField:n,targetIndex:i}=e,{schema:r}=this._formEditor._getState(),o=[...n._path,"components"];Hi(fe(r,o),i),fe(r,o).forEach(((e,t)=>zi(this._formFieldRegistry,e,t))),this._formFieldRegistry.remove(t),this._formEditor._setState({schema:r})}}Zi.$inject=["formEditor","formFieldRegistry"];class Xi{constructor(e,t){this._formEditor=e,this._formFieldRegistry=t}execute(e){const{formField:t,properties:n}=e;let{schema:i}=this._formEditor._getState();const r={};for(let e in n){r[e]=t[e];const i=n[e];"id"===e?i!==t.id&&this._formFieldRegistry.updateId(t,i):t[e]=i}return e.oldProperties=r,this._formEditor._setState({schema:i}),t}revert(e){const{formField:t,oldProperties:n}=e;let{schema:i}=this._formEditor._getState();for(let e in n){const i=n[e];"id"===e?i!==t.id&&this._formFieldRegistry.updateId(t,i):t[e]=i}return this._formEditor._setState({schema:i}),t}}Xi.$inject=["formEditor","formFieldRegistry"];class Gi{constructor(e,t,n,i){this._formEditor=e,this._formFieldRegistry=t,this._pathRegistry=n,this._formLayouter=i}execute(e){this.moveFormField(e)}revert(e){let{sourceFormField:t,targetFormField:n,sourceIndex:i,targetIndex:r,sourceRow:o,targetRow:l}=e;this.moveFormField({sourceFormField:n,targetFormField:t,sourceIndex:r,targetIndex:i,sourceRow:l,targetRow:o},!0)}moveFormField(e,t){let{sourceFormField:n,targetFormField:i,sourceIndex:r,targetIndex:o,targetRow:l}=e,{schema:s}=this._formEditor._getState();const a=[...n._path,"components"];if(n.id===i.id)t?r>o&&r--:r<o&&o--,qi(fe(s,[...a,r]),l?l.id:this._formLayouter.nextRowId()),(0,Xe.F)(fe(s,a),r,o),fe(s,a).forEach(((e,t)=>zi(this._formFieldRegistry,e,t)));else{const e=fe(s,[...a,r]);this._pathRegistry.executeRecursivelyOnFields(e,(({field:e})=>{this._pathRegistry.unclaimPath(this._pathRegistry.getValuePath(e))})),e._parent=i.id,Hi(fe(s,a),r),fe(s,a).forEach(((e,t)=>zi(this._formFieldRegistry,e,t)));const t=[...i._path,"components"];qi(e,l?l.id:this._formLayouter.nextRowId()),Ni(fe(s,t),o,e),fe(s,t).forEach(((e,t)=>zi(this._formFieldRegistry,e,t))),this._pathRegistry.executeRecursivelyOnFields(e,(({field:e,isClosed:t,isRepeatable:n})=>{this._pathRegistry.claimPath(this._pathRegistry.getValuePath(e),{isClosed:t,isRepeatable:n,claimerId:e.id})}))}this._formEditor._setState({schema:s})}}Gi.$inject=["formEditor","formFieldRegistry","pathRegistry","formLayouter"];class Wi{constructor(e,t){this._formEditor=e,this._formFieldRegistry=t}execute(e){const{sourceFormField:t,sourceIndex:n}=e;let{schema:i}=this._formEditor._getState();const r=[...t._path,"components"],o=e.formField=fe(i,[...r,n]);Hi(fe(i,r),n),fe(i,r).forEach(((e,t)=>zi(this._formFieldRegistry,e,t))),(0,K.br)(o,(e=>this._formFieldRegistry.remove(e))),this._formEditor._setState({schema:i})}revert(e){const{formField:t,sourceFormField:n,sourceIndex:i}=e;let{schema:r}=this._formEditor._getState();const o=[...n._path,"components"];Ni(fe(r,o),i,t),fe(r,o).forEach(((e,t)=>zi(this._formFieldRegistry,e,t))),(0,K.br)(t,(e=>this._formFieldRegistry.add(e))),this._formEditor._setState({schema:r})}}Wi.$inject=["formEditor","formFieldRegistry"];class Qi{constructor(e){this._formFieldRegistry=e}execute(e){const{claiming:t,formField:n,id:i}=e;t?this._formFieldRegistry._ids.claim(i,n):this._formFieldRegistry._ids.unclaim(i)}revert(e){const{claiming:t,formField:n,id:i}=e;t?this._formFieldRegistry._ids.unclaim(i):this._formFieldRegistry._ids.claim(i,n)}}Qi.$inject=["formFieldRegistry"];class er{constructor(e){this._pathRegistry=e}execute(e){const{claiming:t,formField:n,key:i}=e,r={replacements:{[n.id]:i}},o=this._pathRegistry.getValuePath(n,r);t?this._pathRegistry.claimPath(o,{isClosed:!0,claimerId:n.id}):this._pathRegistry.unclaimPath(o),e.valuePath=o}revert(e){const{claiming:t,formField:n,valuePath:i}=e;t?this._pathRegistry.unclaimPath(i):this._pathRegistry.claimPath(i,{isClosed:!0,claimerId:n.id})}}er.$inject=["pathRegistry"];class tr{constructor(e){this._pathRegistry=e}execute(e){const{claiming:t,formField:n,path:i}=e,r={replacements:{[n.id]:i}},o=[];t?this._pathRegistry.executeRecursivelyOnFields(n,(({field:e,isClosed:t,isRepeatable:n})=>{const i=this._pathRegistry.getValuePath(e,r);o.push({valuePath:i,isClosed:t,isRepeatable:n,claimerId:e.id}),this._pathRegistry.claimPath(i,{isClosed:t,isRepeatable:n,claimerId:e.id})})):this._pathRegistry.executeRecursivelyOnFields(n,(({field:e,isClosed:t,isRepeatable:n})=>{const i=this._pathRegistry.getValuePath(e,r);o.push({valuePath:i,isClosed:t,isRepeatable:n,claimerId:e.id}),this._pathRegistry.unclaimPath(i)})),e.valuePaths=o}revert(e){const{claiming:t,valuePaths:n}=e;t?n.forEach((({valuePath:e})=>{this._pathRegistry.unclaimPath(e)})):n.forEach((({valuePath:e,isClosed:t,isRepeatable:n,claimerId:i})=>{this._pathRegistry.claimPath(e,{isClosed:t,isRepeatable:n,claimerId:i})}))}}tr.$inject=["pathRegistry"];class nr{constructor(e,t,n,i,r){this._commandStack=e,this._formEditor=n,this._formFieldRegistry=i,this._fieldFactory=r,t.on("form.init",(()=>{this.registerHandlers()}))}registerHandlers(){Object.entries(this.getHandlers()).forEach((([e,t])=>{this._commandStack.registerHandler(e,t)}))}getHandlers(){return{"formField.add":Zi,"formField.edit":Xi,"formField.move":Gi,"formField.remove":Wi,"id.updateClaim":Qi,"key.updateClaim":er,"path.updateClaim":tr}}addFormField(e,t,n){const i=this._fieldFactory.create(e),r={formField:i,targetFormField:t,targetIndex:n};return this._commandStack.execute("formField.add",r),i}editFormField(e,t,n){ee(t)||(t={[t]:n});const i={formField:e,properties:t};this._commandStack.execute("formField.edit",i)}moveFormField(e,t,n,i,r,o,l){const s={formField:e,sourceFormField:t,targetFormField:n,sourceIndex:i,targetIndex:r,sourceRow:o,targetRow:l};this._commandStack.execute("formField.move",s)}removeFormField(e,t,n){const i={formField:e,sourceFormField:t,sourceIndex:n};this._commandStack.execute("formField.remove",i)}claimId(e,t){const n={formField:e,id:t,claiming:!0};this._commandStack.execute("id.updateClaim",n)}unclaimId(e,t){const n={formField:e,id:t,claiming:!1};this._commandStack.execute("id.updateClaim",n)}claimKey(e,t){const n={formField:e,key:t,claiming:!0};this._commandStack.execute("key.updateClaim",n)}unclaimKey(e,t){const n={formField:e,key:t,claiming:!1};this._commandStack.execute("key.updateClaim",n)}claimPath(e,t){const n={formField:e,path:t,claiming:!0};this._commandStack.execute("path.updateClaim",n)}unclaimPath(e,t){const n={formField:e,path:t,claiming:!1};this._commandStack.execute("path.updateClaim",n)}}nr.$inject=["commandStack","eventBus","formEditor","formFieldRegistry","fieldFactory"];const ir={__depends__:[Ji,Si],__init__:["formLayoutUpdater","modeling"],formLayoutUpdater:["type",Ui],modeling:["type",nr]};class rr{constructor(e){this._eventBus=e,this._selection=null}get(){return this._selection}set(e){this._selection!==e&&(this._selection=e,this._eventBus.fire("selection.changed",{selection:this._selection}))}toggle(e){const t=this._selection===e?null:e;this.set(t)}clear(){this.set(null)}isSelected(e){return this._selection===e}}rr.$inject=["eventBus"];class or{constructor(e,t){e.on(["commandStack.formField.add.postExecuted","commandStack.formField.move.postExecuted"],(({context:e})=>{const{formField:n}=e;t.set(n)})),e.on("commandStack.formField.remove.postExecuted",(({context:e})=>{const{sourceFormField:n,sourceIndex:i}=e,r=n.components[i]||n.components[i-1];r?t.set(r):t.clear()})),e.on("formField.remove",(({formField:e})=>{t.isSelected(e)&&t.clear()}))}}or.$inject=["eventBus","selection"];const lr={__init__:["selection","selectionBehavior"],selection:["type",rr],selectionBehavior:["type",or]};class sr{constructor(e,t){this._eventBus=e,this._sectionKey=t,this._eventBus.on(`${this._sectionKey}.section.rendered`,(()=>{this.isSectionRendered=!0})),this._eventBus.on(`${this._sectionKey}.section.destroyed`,(()=>{this.isSectionRendered=!1}))}attachTo(e){this._onceSectionRendered((()=>this._eventBus.fire(`${this._sectionKey}.attach`,{container:e})))}detach(){this._onceSectionRendered((()=>this._eventBus.fire(`${this._sectionKey}.detach`)))}reset(){this._onceSectionRendered((()=>this._eventBus.fire(`${this._sectionKey}.reset`)))}_onceSectionRendered(e){this.isSectionRendered?e():this._eventBus.once(`${this._sectionKey}.section.rendered`,e)}}class ar extends sr{constructor(e){super(e,"palette")}}ar.$inject=["eventBus"];const cr={__init__:["palette"],palette:["type",ar]};var dr=function(e){return(0,he.Y)("svg",{...e,children:(0,he.Y)("path",{fillRule:"evenodd",d:"m11.657 8-4.95 4.95a1 1 0 0 1-1.414-1.414L8.828 8 5.293 4.464A1 1 0 1 1 6.707 3.05L11.657 8Z"})})};dr.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"};var ur=function(e){return(0,he.Y)("svg",{...e,children:(0,he.Y)("path",{fillRule:"evenodd",d:"m12 4.7-.7-.7L8 7.3 4.7 4l-.7.7L7.3 8 4 11.3l.7.7L8 8.7l3.3 3.3.7-.7L8.7 8 12 4.7Z",fill:"currentColor"})})};ur.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"};var pr=function(e){return(0,he.Y)("svg",{...e,children:(0,he.Y)("path",{fillRule:"evenodd",d:"M9 13V9h4a1 1 0 0 0 0-2H9V3a1 1 0 1 0-2 0v4H3a1 1 0 1 0 0 2h4v4a1 1 0 0 0 2 0Z"})})};pr.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"};var fr=function(e){return(0,he.Y)("svg",{...e,children:(0,he.Y)("path",{fillRule:"evenodd",d:"M12 6v7c0 1.1-.4 1.55-1.5 1.55h-5C4.4 14.55 4 14.1 4 13V6h8Zm-1.5 1.5h-5v4.3c0 .66.5 1.2 1.111 1.2H9.39c.611 0 1.111-.54 1.111-1.2V7.5ZM13 3h-2l-1-1H6L5 3H3v1.5h10V3Z"})})};fr.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"};var hr=function(e){return(0,he.FD)("svg",{...e,children:[(0,he.Y)("path",{fill:"#fff",style:{mixBlendMode:"multiply"},d:"M0 0h16v16H0z"}),(0,he.Y)("path",{fill:"#fff",style:{mixBlendMode:"multiply"},d:"M0 0h16v16H0z"}),(0,he.Y)("path",{d:"M7 3H5v2h2V3zm4 0H9v2h2V3zM7 7H5v2h2V7zm4 0H9v2h2V7zm-4 4H5v2h2v-2zm4 0H9v2h2v-2z",fill:"#161616"})]})};hr.defaultProps={width:"16",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};var mr=function(e){return(0,he.Y)("svg",{...e,children:(0,he.Y)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.637 12.637v-4.72h1.362v4.721c0 .36-.137.676-.411.95-.275.275-.591.412-.95.412H3.362c-.38 0-.703-.132-.967-.396A1.315 1.315 0 0 1 2 12.638V3.362c0-.38.132-.703.396-.967S2.982 2 3.363 2h4.553v1.363H3.363v9.274h9.274ZM14 2H9.28l-.001 1.362h2.408L5.065 9.984l.95.95 6.622-6.622v2.409H14V2Z",fill:"currentcolor"})})};mr.defaultProps={width:"16",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};var gr=function(e){return(0,he.Y)("svg",{...e,children:(0,he.Y)("path",{d:"M3.617 11.99c-.137.684-.392 1.19-.765 1.518-.362.328-.882.492-1.558.492H0l.309-1.579h1.264l1.515-7.64h-.912l.309-1.579h.911l.236-1.191c.137-.685.387-1.192.75-1.52C4.753.164 5.277 0 5.953 0h1.294L6.94 1.579H5.675l-.323 1.623h1.264l-.309 1.579H5.043l-1.426 7.208ZM5.605 11.021l3.029-4.155L7.28 3.202h2.073l.706 2.547h.176l1.691-2.547H14l-3.014 4.051 1.338 3.768H10.25l-.706-2.606H9.37L7.678 11.02H5.605Z",fill:"currentcolor"})})};gr.defaultProps={width:"14",height:"14",fill:"none",xmlns:"http://www.w3.org/2000/svg"};var vr=function(e){return(0,he.FD)("svg",{...e,children:[(0,he.Y)("path",{d:"M26 28H6a2.003 2.003 0 0 1-2-2V6a2.003 2.003 0 0 1 2-2h10v2H6v20h20V16h2v10a2.003 2.003 0 0 1-2 2Z"}),(0,he.Y)("path",{d:"M20 2v2h6.586L18 12.586 19.414 14 28 5.414V12h2V2H20z"})]})};vr.defaultProps={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"};var br=function(e){return(0,he.Y)("svg",{...e,children:(0,he.Y)("path",{d:"M6 15v-1H2.7L7 9.7 6.3 9 2 13.3V10H1v5zm4-14v1h3.3L9 6.3l.7.7L14 2.7V6h1V1z"})})};function yr(e){const{element:t,headerProvider:n}=e,{getElementIcon:i,getDocumentationRef:r,getElementLabel:o,getTypeLabel:l}=n,s=o(t),a=l(t),c=r&&r(t),d=i(t);return(0,he.FD)("div",{class:"bio-properties-panel-header",children:[(0,he.Y)("div",{class:"bio-properties-panel-header-icon",children:d&&(0,he.Y)(d,{width:"32",height:"32",viewBox:"0 0 32 32"})}),(0,he.FD)("div",{class:"bio-properties-panel-header-labels",children:[(0,he.Y)("div",{title:a,class:"bio-properties-panel-header-type",children:a}),s?(0,he.Y)("div",{title:s,class:"bio-properties-panel-header-label",children:s}):null]}),(0,he.Y)("div",{class:"bio-properties-panel-header-actions",children:c?(0,he.Y)("a",{rel:"noreferrer",class:"bio-properties-panel-header-link",href:c,title:"Open documentation",target:"_blank",children:(0,he.Y)(mr,{})}):null})]})}br.defaultProps={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"};const Fr=(0,r.createContext)({description:{},getDescriptionForId:()=>{}}),_r=(0,r.createContext)({errors:{}}),wr=(0,r.createContext)({eventBus:null}),xr=(0,r.createContext)({}),Er=(0,r.createContext)({layout:{},setLayout:()=>{},getLayoutForKey:()=>{},setLayoutForKey:()=>{}}),Lr=(0,r.createContext)({tooltip:{},getTooltipForId:()=>{}});function Cr(e){const{forId:t,element:n}=e,i=function(e,t){const{getTooltipForId:n}=(0,o.NT)(Lr);return n(e,t)}(t,n),r=e.value||i;return r?(0,he.Y)(Yr,{...e,value:r,forId:`bio-properties-panel-${t}`}):e.children}function Yr(e){const{forId:t,value:n,parent:i,direction:r="right",position:l}=e,[s,a]=(0,o.J0)(!1);let c=null;const d=(0,o.li)(null),u=(0,o.li)(null),p=(e,t)=>{s||(t?c=setTimeout((()=>{a(!0)}),200):a(!0))},f=()=>{clearTimeout(c),a(!1)},h=({relatedTarget:e})=>{e!==d.current&&e!==u.current&&e?.parentElement!==u.current&&f()},m=()=>(0,he.FD)("div",{class:`bio-properties-panel-tooltip ${r}`,role:"tooltip",id:"bio-properties-panel-tooltip","aria-labelledby":t,style:l||Vr(d.current),ref:u,onClick:e=>e.stopPropagation(),onMouseLeave:h,children:[(0,he.Y)("div",{class:"bio-properties-panel-tooltip-content",children:n}),(0,he.Y)("div",{class:"bio-properties-panel-tooltip-arrow"})]});return(0,he.FD)("div",{class:"bio-properties-panel-tooltip-wrapper",tabIndex:"0",ref:d,onMouseEnter:e=>p(0,!0),onMouseLeave:h,onFocus:p,onBlur:e=>{const{target:t}=e,n=t.matches(":hover")||u.current?.matches(":hover");t===d.current&&n?e.stopPropagation():f()},onKeyDown:e=>{"Escape"===e.code&&f()},children:[e.children,s?i?(0,me.d5)(m(),i.current):m():null]})}function Vr(e){const t=e.getBoundingClientRect();return`right: calc(100% - ${t.x}px); top: ${t.top-10+"px"};`}function kr(e,t){const n=(0,o.hb)(t(e),[e,t]);return(0,o.vJ)((()=>()=>{n.cancel?.()}),[n]),n}function Pr(e){const{errors:t}=(0,o.NT)(_r);return t[e]}function Sr(){const{errors:e}=(0,o.NT)(_r);return e}function Dr(e,t,n){const i=(0,o.NT)(wr);n||({eventBus:n}=i);const r=(0,o.li)(!1);n&&!r.current&&n.on(e,t),(0,o.vJ)((()=>(n&&r.current&&n.on(e,t),r.current=!0,()=>{n&&n.off(e,t)})),[t,e,n])}function jr(e,t){const{getLayoutForKey:n,setLayoutForKey:i}=(0,o.NT)(Er);return[n(e,t),(0,o.hb)((t=>{i(e,t)}),[i])]}function Rr(e){const t=(0,o.li)();return(0,o.vJ)((()=>{t.current=e})),t.current}function Ir(e){const{onShow:t}=(0,o.NT)(Er),n=(0,o.li)(),i=(0,o.li)(!1),r=(0,o.hb)((n=>{n.id===e&&(t(),i.current||(i.current=!0))}),[e]);return(0,o.vJ)((()=>{i.current&&n.current&&(ne(n.current.focus)&&n.current.focus(),ne(n.current.select)&&n.current.select(),i.current=!1)})),Dr("propertiesPanel.showEntry",r),n}function Tr(e,t,n){const[i,r]=(0,o.J0)(Ze(t)),l=(0,o.hb)((()=>{const e=Ze(t);e!==i&&r(e)}),[t,i]);(0,o.vJ)((()=>{l()}),[l]),Dr("propertiesPanel.attach",l),Dr("propertiesPanel.detach",l),(0,o.vJ)((()=>{const t=IntersectionObserver;if(!t)return;if(!e.current||!i)return;const r=new t((e=>{0!==i.scrollHeight&&e.forEach((e=>{e.intersectionRatio<1?n(!0):1===e.intersectionRatio&&n(!1)}))}),{root:i,rootMargin:"0px 0px 999999% 0px",threshold:[1]});return r.observe(e.current),()=>{r.unobserve(e.current)}}),[e.current,i,n])}function Br(e){const t=(0,o.li)(e);return t.current=e,(0,o.hb)(((...e)=>t.current(...e)),[])}function Or(e){const{element:t,entries:n=[],id:i,label:l,shouldOpen:s=!1}=e,a=(0,o.li)(null),[c,d]=jr(["groups",i,"open"],s),u=(0,o.hb)((()=>d(!0)),[d]),[p,f]=(0,o.J0)(!1),[h,m]=(0,o.J0)(!1);(0,o.vJ)((()=>{const e=requestAnimationFrame((()=>{const e=n.find((e=>{const{id:t,isEdited:n}=e,i=Ze(`[data-entry-id="${t}"]`);return!(!ne(n)||!i)&&n(Ze(".bio-properties-panel-input",i))}));f(e)}));return()=>cancelAnimationFrame(e)}),[n,f]);const g=Sr(),v=n.some((e=>g[e.id]));Tr(a,"div.bio-properties-panel-scroll-container",m);const b={...(0,o.NT)(Er),onShow:u};return(0,he.FD)("div",{class:"bio-properties-panel-group","data-group-id":"group-"+i,ref:a,children:[(0,he.FD)("div",{class:V()("bio-properties-panel-group-header",p?"":"empty",c?"open":"",h&&c?"sticky":""),onClick:()=>d(!c),children:[(0,he.Y)("div",{title:e.tooltip?null:l,"data-title":l,class:"bio-properties-panel-group-header-title",children:(0,he.Y)(Cr,{value:e.tooltip,forId:"group-"+i,element:t,parent:a,children:l})}),(0,he.FD)("div",{class:"bio-properties-panel-group-header-buttons",children:[(0,he.Y)(Ar,{edited:p,hasErrors:v}),(0,he.Y)("button",{type:"button",title:"Toggle section",class:"bio-properties-panel-group-header-button bio-properties-panel-arrow",children:(0,he.Y)(dr,{class:c?"bio-properties-panel-arrow-down":"bio-properties-panel-arrow-right"})})]})]}),(0,he.Y)("div",{class:V()("bio-properties-panel-group-entries",c?"open":""),children:(0,he.Y)(Er.Provider,{value:b,children:n.map((e=>{const{component:n,id:i}=e;return(0,r.createElement)(n,{...e,element:t,key:i})}))})})]})}function Ar(e){const{edited:t,hasErrors:n}=e;return n?(0,he.Y)("div",{title:"Section contains an error",class:"bio-properties-panel-dot bio-properties-panel-dot--error"}):t?(0,he.Y)("div",{title:"Section contains edits",class:"bio-properties-panel-dot"}):null}function $r(e){const{text:t,icon:n}=e;return(0,he.Y)("div",{class:"bio-properties-panel open",children:(0,he.FD)("section",{class:"bio-properties-panel-placeholder",children:[n&&(0,he.Y)(n,{class:"bio-properties-panel-placeholder-icon"}),(0,he.Y)("p",{class:"bio-properties-panel-placeholder-text",children:t})]})})}const Mr={},Jr={},Nr={};function Hr(e){const{element:t,headerProvider:n,placeholderProvider:i,groups:l,layoutConfig:s,layoutChanged:a,descriptionConfig:c,descriptionLoaded:d,tooltipConfig:u,tooltipLoaded:p,eventBus:f}=e,[h,m]=(0,o.J0)(zr(s));!function(e,t){const n=(0,o.li)(!1);(0,o.Nf)((()=>{if(n.current)return(()=>{const e=zr(s);m(e)})();n.current=!0}),t)}(0,[s]),(0,o.vJ)((()=>{"function"==typeof a&&a(h)}),[h,a]);const g={layout:h,setLayout:m,getLayoutForKey:(e,t)=>fe(h,e,t),setLayoutForKey:(e,t)=>{const n=ue({},h);pe(n,e,t),m(n)}},v=(0,o.Kr)((()=>function(e={}){return{...Jr,...e}}(c)),[c]);(0,o.vJ)((()=>{"function"==typeof d&&d(v)}),[v,d]);const b={description:v,getDescriptionForId:(e,t)=>v[e]&&v[e](t)},y=(0,o.Kr)((()=>function(e={}){return{...Nr,...e}}(u)),[u]);(0,o.vJ)((()=>{"function"==typeof p&&p(y)}),[y,p]);const F={tooltip:y,getTooltipForId:(e,t)=>y[e]&&y[e](t)},[_,w]=(0,o.J0)({});Dr("propertiesPanel.setErrors",(({errors:e})=>w(e)),f);const x={errors:_},E={eventBus:f},L={element:t};return i&&!t?(0,he.Y)($r,{...i.getEmpty()}):i&&Q(t)?(0,he.Y)($r,{...i.getMultiple()}):(0,he.Y)(Er.Provider,{value:L,children:(0,he.Y)(_r.Provider,{value:x,children:(0,he.Y)(Fr.Provider,{value:b,children:(0,he.Y)(Lr.Provider,{value:F,children:(0,he.Y)(Er.Provider,{value:g,children:(0,he.Y)(wr.Provider,{value:E,children:(0,he.FD)("div",{class:"bio-properties-panel",children:[(0,he.Y)(yr,{element:t,headerProvider:n}),(0,he.Y)("div",{class:"bio-properties-panel-scroll-container",children:l.map((e=>{const{component:n=Or,id:i}=e;return(0,r.createElement)(n,{...e,key:i,element:t})}))})]})})})})})})})}function zr(e={},t=Mr){return{...t,...e}}function Kr(e,t){return t=t||{},e.replace(/{([^}]+)}/g,(function(e,n){return t[n]||"{"+n+"}"}))}function qr(e){const{element:t,entries:n=[],id:i,label:l,open:s,remove:a,translate:c=Kr}=e,[d,u]=(0,o.J0)(s),{onShow:p}=(0,o.NT)(Er),f={...(0,o.NT)(Er),onShow:(0,o.hb)((()=>{u(!0),ne(p)&&p()}),[p,u])},h=c("<empty>");return(0,he.FD)("div",{"data-entry-id":i,class:V()("bio-properties-panel-collapsible-entry",d?"open":""),children:[(0,he.FD)("div",{class:"bio-properties-panel-collapsible-entry-header",onClick:()=>u(!d),children:[(0,he.Y)("div",{title:l||h,class:V()("bio-properties-panel-collapsible-entry-header-title",!l&&"empty"),children:l||h}),(0,he.Y)("button",{type:"button",title:c("Toggle list item"),class:"bio-properties-panel-arrow  bio-properties-panel-collapsible-entry-arrow",children:(0,he.Y)(dr,{class:d?"bio-properties-panel-arrow-down":"bio-properties-panel-arrow-right"})}),a?(0,he.Y)("button",{type:"button",title:c("Delete item"),class:"bio-properties-panel-remove-entry",onClick:a,children:(0,he.Y)(fr,{})}):null]}),(0,he.Y)("div",{class:V()("bio-properties-panel-collapsible-entry-entries",d?"open":""),children:(0,he.Y)(Er.Provider,{value:f,children:n.map((e=>{const{component:n,id:i}=e;return(0,r.createElement)(n,{...e,element:t,key:i})}))})})]})}function Ur(e){const{autoFocusEntry:t,autoOpen:n,translate:i=Kr}=e;return(0,o.vJ)((()=>{if(n&&t){const e=Ze(`[data-entry-id="${t}"]`),n=Ze(".bio-properties-panel-input",e);n&&(ne(n.select)?n.select():ne(n.focus)&&n.focus(),n.scrollIntoView())}}),[n,t]),(0,he.Y)("div",{class:"bio-properties-panel-list-item",children:(0,he.Y)(qr,{...e,open:n,translate:i})})}const Zr=()=>{};function Xr(e){const{add:t,element:n,id:i,items:l,label:s,shouldOpen:a=!1,translate:c=Kr}=e;(0,o.vJ)((()=>{null!=e.shouldSort&&console.warn("the property 'shouldSort' is no longer supported")}),[e.shouldSort]);const d=(0,o.li)(null),[u,p]=jr(["groups",i,"open"],a),[f,h]=(0,o.J0)(!1),m=(0,o.hb)((()=>p(!0)),[p]),[g,v]=(0,o.J0)([]),[b,y]=(0,o.J0)(!1),F=Rr(n),_=(0,o.hb)((()=>p(!u)),[u]),w=n===F&&u&&b?function(e,t){const n=e.map((e=>e.id)),i=t.map((e=>e.id));return n.filter((e=>!i.includes(e)))}(l,g):[];(0,o.vJ)((()=>{v(l),y(!1)}),[l]),Tr(d,"div.bio-properties-panel-scroll-container",h);const x=!!l.length,E={...(0,o.NT)(Er),onShow:m},L=Sr(),C=l.some((e=>!!L[e.id]||(e.entries?e.entries.some((e=>L[e.id])):void 0)));return(0,he.FD)("div",{class:"bio-properties-panel-group","data-group-id":"group-"+i,ref:d,children:[(0,he.FD)("div",{class:V()("bio-properties-panel-group-header",x?"":"empty",x&&u?"open":"",f&&u?"sticky":""),onClick:x?_:Zr,children:[(0,he.Y)("div",{title:e.tooltip?null:s,"data-title":s,class:"bio-properties-panel-group-header-title",children:(0,he.Y)(Cr,{value:e.tooltip,forId:"group-"+i,element:n,parent:d,children:s})}),(0,he.FD)("div",{class:"bio-properties-panel-group-header-buttons",children:[t?(0,he.FD)("button",{type:"button",title:c("Create new list item"),class:"bio-properties-panel-group-header-button bio-properties-panel-add-entry",onClick:e=>{y(!0),p(!0),t(e)},children:[(0,he.Y)(pr,{}),x?null:(0,he.Y)("span",{class:"bio-properties-panel-add-entry-label",children:c("Create")})]}):null,x?(0,he.Y)("div",{title:c("List contains {numOfItems} item"+(1!=l.length?"s":""),{numOfItems:l.length}),class:V()("bio-properties-panel-list-badge",C?"bio-properties-panel-list-badge--error":""),children:l.length}):null,x?(0,he.Y)("button",{type:"button",title:c("Toggle section"),class:"bio-properties-panel-group-header-button bio-properties-panel-arrow",children:(0,he.Y)(dr,{class:u?"bio-properties-panel-arrow-down":"bio-properties-panel-arrow-right"})}):null]})]}),(0,he.Y)("div",{class:V()("bio-properties-panel-list",u&&x?"open":""),children:(0,he.Y)(Er.Provider,{value:E,children:l.map(((e,t)=>{if(!e)return;const{id:i}=e,o=w.includes(e.id);return(0,r.createElement)(Ur,{...e,autoOpen:o,element:n,index:t,key:i,translate:c})}))})})]})}function Gr(e){const{element:t,forId:n,value:i}=e,r=function(e,t){const{getDescriptionForId:n}=(0,o.NT)(Fr);return n(e,t)}(n,t),l=i||r;if(l)return(0,he.Y)("div",{class:"bio-properties-panel-description",children:l})}function Wr(e){const{id:t,label:n,onChange:i,disabled:r,value:l=!1,onFocus:s,onBlur:a,tooltip:c}=e,[d,u]=(0,o.J0)(l);(0,o.vJ)((()=>{l!==d&&u(l)}),[l]);const p=Ir(t);return(0,he.FD)("div",{class:"bio-properties-panel-checkbox",children:[(0,he.Y)("input",{ref:p,id:to(t),name:t,onFocus:s,onBlur:a,type:"checkbox",class:"bio-properties-panel-input",onChange:e=>{(({target:e})=>{i(e.checked)})(e),u(e.target.value)},checked:d,disabled:r}),(0,he.Y)("label",{for:to(t),class:"bio-properties-panel-label",children:(0,he.Y)(Cr,{value:c,forId:t,element:e.element,children:n})})]})}function Qr(e){const{element:t,id:n,description:i,label:r,getValue:o,setValue:l,disabled:s,onFocus:a,onBlur:c,tooltip:d}=e,u=o(t),p=Pr(n);return(0,he.FD)("div",{class:"bio-properties-panel-entry bio-properties-panel-checkbox-entry","data-entry-id":n,children:[(0,he.Y)(Wr,{disabled:s,id:n,label:r,onChange:l,onFocus:a,onBlur:c,value:u,tooltip:d,element:t},t),p&&(0,he.Y)("div",{class:"bio-properties-panel-error",children:p}),(0,he.Y)(Gr,{forId:n,element:t,value:i})]})}function eo(e){return e&&!!e.checked}function to(e){return`bio-properties-panel-${e}`}function no({onClick:e,title:t="Open pop-up editor"}){return(0,he.Y)("button",{type:"button",title:t,class:"bio-properties-panel-open-feel-popup",onClick:e,children:(0,he.Y)(br,{})})}const io=()=>{},ro=(0,me.Rf)(((e,t)=>{const{onInput:n,disabled:i,tooltipContainer:r,enableGutters:l,value:s,onLint:a=io,onOpenPopup:c=io,popupOpen:d,contentAttributes:u={},hostLanguage:p=null,singleLine:f=!1}=e,h=(0,o.li)(),[m,g]=(0,o.J0)(),[v,b]=(0,o.J0)(s||"");!function(e,t){const[n,i]=(0,o.J0)(void 0);t.current=(0,o.Kr)((()=>({focus:t=>{e?e.focus(t):(void 0===t&&(t=1/0),i(t))}})),[e]),(0,o.vJ)((()=>{void 0!==n&&e&&(e.focus(n),i(!1))}),[e,n])}(m,t);const y=Br((e=>{n(e),b(e)}));return(0,o.vJ)((()=>{let e;return e=new Ge.Mu({container:h.current,onChange:y,value:v,onLint:a,contentAttributes:u,tooltipContainer:r,enableGutters:l,hostLanguage:p,singleLine:f,lineWrap:!0}),g(e),()=>{a([]),h.current.innerHTML="",g(null)}}),[]),(0,o.vJ)((()=>{m&&s!==v&&(m.setValue(s),b(s))}),[s]),(0,he.FD)("div",{class:V()("bio-properties-panel-feelers-editor-container",d?"popupOpen":null),children:[d&&(0,he.Y)("div",{class:"bio-properties-panel-feelers-editor__popup-placeholder",children:"Opened in popup"}),(0,he.Y)("div",{name:e.name,class:V()("bio-properties-panel-feelers-editor bio-properties-panel-input",v?"edited":null,i?"disabled":null),ref:h,onClick:()=>{t.current.focus()}}),!i&&(0,he.Y)(no,{onClick:()=>c("feelers")})]})})),oo=()=>{},lo=(0,me.Rf)(((e,t)=>{const{contentAttributes:n,enableGutters:i,value:r,onInput:l,onFeelToggle:s=oo,onLint:a=oo,onOpenPopup:c=oo,placeholder:d,popupOpen:u,disabled:p,tooltipContainer:f,variables:h,feelLanguageContext:m}=e,g=(0,o.li)(),[v,b]=(0,o.J0)(),[y,F]=(0,o.J0)(r||""),{builtins:_,dialect:w,parserDialect:x}=m||{};!function(e,t){const[n,i]=(0,o.J0)(void 0);t.current=(0,o.Kr)((()=>({focus:t=>{e?e.focus(t):(void 0===t&&(t=1/0),i(t))}})),[e]),(0,o.vJ)((()=>{void 0!==n&&e&&(e.focus(n),i(!1))}),[e,n])}(v,t);const E=Br((e=>{l(e),F(e)}));return(0,o.vJ)((()=>{let e;return e=new We.A({container:g.current,onChange:E,onKeyDown:t=>{if("Backspace"!==t.key||!e)return;const n=e.getSelection(),i=n.ranges[n.mainIndex];0===i.from&&0===i.to&&s()},onLint:a,placeholder:d,tooltipContainer:f,value:y,variables:h,builtins:_,dialect:w,parserDialect:x,extensions:[...i?[(0,Qe.$K)()]:[],Qe.Lz.lineWrapping],contentAttributes:n}),b(e),()=>{a([]),g.current.innerHTML="",b(null)}}),[]),(0,o.vJ)((()=>{v&&r!==y&&(v.setValue(r),F(r))}),[r]),(0,o.vJ)((()=>{v&&v.setVariables(h)}),[h]),(0,o.vJ)((()=>{v&&v.setPlaceholder(d)}),[d]),(0,he.FD)("div",{class:V()("bio-properties-panel-feel-editor-container",p?"disabled":null,u?"popupOpen":null),children:[u&&(0,he.Y)("div",{class:"bio-properties-panel-feel-editor__open-popup-placeholder",children:"Opened in editor"}),(0,he.Y)("div",{name:e.name,class:V()("bio-properties-panel-input",y?"edited":null),ref:g,onClick:()=>{t.current.focus()}}),!p&&(0,he.Y)(no,{onClick:()=>c("feel")})]})}));function so(e){const{active:t}=e;return t?(0,he.Y)("span",{class:"bio-properties-panel-feel-indicator",children:"="}):null}const ao=()=>{};function co(e){const{feel:t=!1,active:n,disabled:i=!1,onClick:r=ao}=e,o=`Click to ${n?"remove":"set a"} dynamic value with FEEL expression`;return(0,he.Y)("button",{type:"button",class:V()("bio-properties-panel-feel-icon",n?"active":null,"required"===t?"required":"optional"),onClick:e=>{r(e),e.pointerType||e.stopPropagation()},disabled:"required"===t||i,title:"required"===t?"FEEL expression is mandatory":o,children:(0,he.Y)(gr,{})})}function uo(e){const{id:t,label:n,onInput:i,value:r,switcherLabel:l,inline:s,onFocus:a,onBlur:c,inputRef:d,tooltip:u}=e,[p,f]=(0,o.J0)(r);return(0,o.vJ)((()=>{r!==p&&f(r)}),[r]),(0,he.FD)("div",{class:V()("bio-properties-panel-toggle-switch",{inline:s}),children:[(0,he.Y)("label",{class:"bio-properties-panel-label",for:ho(t),children:(0,he.Y)(Cr,{value:u,forId:t,element:e.element,children:n})}),(0,he.FD)("div",{class:"bio-properties-panel-field-wrapper",children:[(0,he.FD)("label",{class:"bio-properties-panel-toggle-switch__switcher",children:[(0,he.Y)("input",{ref:d,id:ho(t),class:"bio-properties-panel-input",type:"checkbox",onFocus:a,onBlur:c,name:t,onInput:e=>{(async()=>{i(!r)})(),f(e.target.value)},checked:!!p}),(0,he.Y)("span",{class:"bio-properties-panel-toggle-switch__slider"})]}),l&&(0,he.Y)("p",{class:"bio-properties-panel-toggle-switch__label",children:l})]})]})}function po(e){const{element:t,id:n,description:i,label:r,switcherLabel:o,inline:l,getValue:s,setValue:a,onFocus:c,onBlur:d,tooltip:u}=e,p=s(t);return(0,he.FD)("div",{class:"bio-properties-panel-entry bio-properties-panel-toggle-switch-entry","data-entry-id":n,children:[(0,he.Y)(uo,{id:n,label:r,value:p,onInput:a,onFocus:c,onBlur:d,switcherLabel:o,inline:l,tooltip:u,element:t}),(0,he.Y)(Gr,{forId:n,element:t,value:i})]})}function fo(e){return e&&!!e.checked}function ho(e){return`bio-properties-panel-${e}`}function mo(e){const{debounce:t,disabled:n,displayLabel:i=!0,id:r,inputRef:l,label:s,max:a,min:c,onInput:d,step:u,value:p="",onFocus:f,onBlur:h,tooltip:m}=e,[g,v]=(0,o.J0)(p),b=(0,o.Kr)((()=>t((e=>{e.validity.valid&&d(e.value?parseFloat(e.value):void 0)}))),[d,t]);return(0,o.vJ)((()=>{p!==g&&v(p)}),[p]),(0,he.FD)("div",{class:"bio-properties-panel-numberfield",children:[i&&(0,he.Y)("label",{for:bo(r),class:"bio-properties-panel-label",children:(0,he.Y)(Cr,{value:m,forId:r,element:e.element,children:s})}),(0,he.Y)("input",{id:bo(r),ref:l,type:"number",name:r,spellCheck:"false",autoComplete:"off",disabled:n,class:"bio-properties-panel-input",max:a,min:c,onInput:e=>{b(e.target),v(e.target.value)},onFocus:f,onBlur:h,step:u,value:g})]})}function go(e){const{debounce:t,description:n,disabled:i,element:r,getValue:l,id:s,label:a,max:c,min:d,setValue:u,step:p,onFocus:f,onBlur:h,validate:m,tooltip:g}=e,v=Pr(s),[b,y]=(0,o.J0)(null);let F=l(r);(0,o.vJ)((()=>{if(ne(m)){const e=m(F)||null;y(e)}}),[F,m]);const _=v||b;return(0,he.FD)("div",{class:V()("bio-properties-panel-entry",_?"has-error":""),"data-entry-id":s,children:[(0,he.Y)(mo,{debounce:t,disabled:i,id:s,label:a,onFocus:f,onBlur:h,onInput:e=>{let t=null;ne(m)&&(t=m(e)||null),u(e,t),y(t)},max:c,min:d,step:p,value:F,tooltip:g},r),_&&(0,he.Y)("div",{class:"bio-properties-panel-error",children:_}),(0,he.Y)(Gr,{forId:s,element:r,value:n})]})}function vo(e){return e&&!!e.value}function bo(e){return`bio-properties-panel-${e}`}const yo=()=>{};function Fo(e){const{debounce:t,id:n,element:i,label:r,hostLanguage:l,onInput:s,onBlur:a,onError:c,placeholder:d,feel:u,value:p="",disabled:f=!1,variables:h,singleLine:m,tooltipContainer:g,OptionalComponent:v=_o,tooltip:b}=e,[y,F]=(0,o.J0)(p),_=Ir(n),w=(0,o.li)(),x=ie(y)&&y.startsWith("=")||"required"===u,E=ie(y)&&y.startsWith("=")?y.substring(1):y,L=(0,o.NT)(xr),[C,Y]=(0,o.J0)(void 0),{eventBus:k}=(0,o.NT)(wr),[P,S]=(0,o.J0)(!1),D=(e=0)=>{const t=w.current.contains(document.activeElement)?document.activeElement.selectionStart:1/0;Y(t+e)},j=kr(s,t),R=e=>{j(""===e||"="===e?void 0:e)},I=Br((()=>{"required"!==u&&(x?(F(E),R(E)):(F("="+y),R("="+y)))})),T=e=>{x&&(e="="+e),e!==y&&(F(e),R(e),!x&&ie(e)&&e.startsWith("=")&&D(-1))},B=Br(((e=[])=>{const t=e.some((e=>"Syntax Error"===e.type));c(t?"Unparsable FEEL expression.":void 0)})),O=(e="feel")=>{const t=k.fire("propertiesPanel.openPopup",{element:i,entryId:n,hostLanguage:l,label:r,onInput:T,singleLine:m,sourceElement:_.current,tooltipContainer:g,type:e,value:E,variables:h,feelLanguageContext:L});t&&k.once("propertiesPanelPopup.close",(()=>{S(!1)})),S(!0===t)};return(0,o.vJ)((()=>{void 0!==C&&(_.current.focus(C),Y(void 0))}),[C]),(0,o.vJ)((()=>{p!==y&&F(p||(x?"=":""))}),[p]),(0,o.vJ)((()=>()=>{k.fire("propertiesPanel.closePopup")}),[]),(0,o.vJ)((()=>{const e=e=>{x&&e.clipboardData.setData("application/FEEL",e.clipboardData.getData("text"))},t=e=>{x||P||e.clipboardData.getData("application/FEEL")&&setTimeout((()=>{I(),D()}))};return w.current.addEventListener("copy",e),w.current.addEventListener("cut",e),w.current.addEventListener("paste",t),()=>{w.current.removeEventListener("copy",e),w.current.removeEventListener("cut",e),w.current.removeEventListener("paste",t)}}),[w,x,I,D]),(0,he.FD)("div",{class:V()("bio-properties-panel-feel-entry",{"feel-active":x}),children:[(0,he.FD)("label",{for:ko(n),class:"bio-properties-panel-label",onClick:()=>D(),children:[(0,he.Y)(Cr,{value:b,forId:n,element:e.element,children:r}),(0,he.Y)(co,{label:r,feel:u,onClick:I,active:x})]}),(0,he.FD)("div",{class:"bio-properties-panel-feel-container",ref:w,children:[(0,he.Y)(so,{active:x,disabled:"optional"!==u||f,onClick:I}),x?(0,he.Y)(lo,{name:n,onInput:T,contentAttributes:{id:ko(n),"aria-label":r},disabled:f,popupOpen:P,onFeelToggle:()=>{I(),D(!0)},onLint:B,onOpenPopup:O,placeholder:d,value:E,variables:h,feelLanguageContext:L,ref:_,tooltipContainer:g}):(0,he.Y)(v,{...e,popupOpen:P,onInput:T,onBlur:e=>{if("checkbox"===e.target.type)s(e.target.checked);else{const t=e.target.value.trim();s(t)}a&&a(e)},contentAttributes:{id:ko(n),"aria-label":r},value:y,ref:_,onOpenPopup:O,containerRef:w})]})]})}const _o=(0,me.Rf)(((e,t)=>{const{id:n,disabled:i,onInput:r,value:l,onFocus:s,onBlur:a,placeholder:c}=e,d=(0,o.li)();return t.current={focus:e=>{const t=d.current;t&&(t.focus(),"number"==typeof e&&(e>l.length&&(e=l.length),t.setSelectionRange(e,e)))}},(0,he.Y)("input",{id:ko(n),type:"text",ref:d,name:n,spellCheck:"false",autoComplete:"off",disabled:i,class:"bio-properties-panel-input",onInput:e=>r(e.target.value),onFocus:s,onBlur:a,placeholder:c,value:l||""})})),wo=(0,me.Rf)(((e,t)=>{const{id:n,debounce:i,disabled:r,onInput:l,value:s,min:a,max:c,step:d,onFocus:u,onBlur:p}=e,f=(0,o.li)();return t.current={focus:e=>{const t=f.current;t&&(t.focus(),"number"==typeof e&&e!==1/0&&(e>s.length&&(e=s.length),t.setSelectionRange(e,e)))}},(0,he.Y)(mo,{id:n,debounce:i,disabled:r,displayLabel:!1,inputRef:f,max:c,min:a,onInput:l,step:d,value:s,onFocus:u,onBlur:p})}));(0,me.Rf)(((e,t)=>{const{id:n,disabled:i,onInput:r,value:l,onFocus:s,onBlur:a,placeholder:c}=e,d=(0,o.li)();return t.current={focus:()=>{const e=d.current;e&&(e.focus(),e.setSelectionRange(0,0))}},(0,he.Y)("textarea",{id:ko(n),type:"text",ref:d,name:n,spellCheck:"false",autoComplete:"off",disabled:i,class:"bio-properties-panel-input",onInput:e=>r(e.target.value),onFocus:s,onBlur:a,placeholder:c,value:l||"","data-gramm":"false"})}));const xo=(0,me.Rf)(((e,t)=>{const{id:n,onInput:i,value:r,onFocus:l,onBlur:s,switcherLabel:a}=e,c=(0,o.li)();return t.current={focus:()=>{const e=c.current;e&&e.focus()}},(0,he.Y)(uo,{id:n,value:r,inputRef:c,onInput:i,onFocus:l,onBlur:s,switcherLabel:a})}));function Eo(e){const{element:t,id:n,description:i,debounce:l,disabled:s,feel:a,label:c,getValue:d,setValue:u,tooltipContainer:p,hostLanguage:f,singleLine:h,validate:m,show:g=yo,example:v,variables:b,onFocus:y,onBlur:F,placeholder:_,tooltip:w}=e,[x,E]=(0,o.J0)(null),[L,C]=(0,o.J0)(null);let Y=d(t);(0,o.vJ)((()=>{if(ne(m)){const e=m(Y)||null;E(e)}}),[Y,m]);const k=Br((e=>{const n=d(t);let i=null;ne(m)&&(i=m(e)||null),e!==n&&u(e,i),E(i)})),P=(0,o.hb)((e=>{C(e)}),[]),S=Pr(n)||L||x;return(0,he.FD)("div",{class:V()(e.class,"bio-properties-panel-entry",S?"has-error":""),"data-entry-id":n,children:[(0,r.createElement)(Fo,{...e,debounce:l,disabled:s,feel:a,id:n,key:t,label:c,onInput:k,onError:P,onFocus:y,onBlur:F,placeholder:_,example:v,hostLanguage:f,singleLine:h,show:g,value:Y,variables:b,tooltipContainer:p,OptionalComponent:e.OptionalComponent,tooltip:w}),S&&(0,he.Y)("div",{class:"bio-properties-panel-error",children:S}),(0,he.Y)(Gr,{forId:n,element:t,value:i})]})}function Lo(e){return(0,he.Y)(Eo,{class:"bio-properties-panel-feel-number",OptionalComponent:wo,...e})}function Co(e){return(0,he.Y)(Eo,{class:"bio-properties-panel-feel-toggle-switch",OptionalComponent:xo,...e})}function Yo(e){return(0,he.Y)(Eo,{class:"bio-properties-panel-feel-templating",OptionalComponent:ro,...e})}function Vo(e){return!!e&&("checkbox"===e.type?!!e.checked||e.classList.contains("edited"):!!e.value||e.classList.contains("edited"))}function ko(e){return`bio-properties-panel-${e}`}function Po(e){const{id:t,label:n,onChange:i,options:r=[],value:l="",disabled:s,onFocus:a,onBlur:c,tooltip:d}=e,u=Ir(t),[p,f]=(0,o.J0)(l);return(0,o.vJ)((()=>{l!==p&&f(l)}),[l]),(0,he.FD)("div",{class:"bio-properties-panel-select",children:[(0,he.Y)("label",{for:jo(t),class:"bio-properties-panel-label",children:(0,he.Y)(Cr,{value:d,forId:t,element:e.element,children:n})}),(0,he.Y)("select",{ref:u,id:jo(t),name:t,class:"bio-properties-panel-input",onInput:e=>{(({target:e})=>{i(e.value)})(e),f(e.target.value)},onFocus:a,onBlur:c,value:p,disabled:s,children:r.map(((e,t)=>e.children?(0,he.Y)("optgroup",{label:e.label,children:e.children.map(((e,t)=>(0,he.Y)("option",{value:e.value,disabled:e.disabled,children:e.label},t)))},t):(0,he.Y)("option",{value:e.value,disabled:e.disabled,children:e.label},t)))})]})}function So(e){const{element:t,id:n,description:i,label:r,getValue:l,setValue:s,getOptions:a,disabled:c,onFocus:d,onBlur:u,validate:p,tooltip:f}=e,h=a(t),m=Pr(n),[g,v]=(0,o.J0)(null);let b=l(t);(0,o.vJ)((()=>{if(ne(p)){const e=p(b)||null;v(e)}}),[b,p]);const y=m||g;return(0,he.FD)("div",{class:V()("bio-properties-panel-entry",y?"has-error":""),"data-entry-id":n,children:[(0,he.Y)(Po,{id:n,label:r,value:b,onChange:e=>{let t=null;ne(p)&&(t=p(e)||null),s(e,t),v(t)},onFocus:d,onBlur:u,options:h,disabled:c,tooltip:f,element:t},t),y&&(0,he.Y)("div",{class:"bio-properties-panel-error",children:y}),(0,he.Y)(Gr,{forId:n,element:t,value:i})]})}function Do(e){return e&&!!e.value}function jo(e){return`bio-properties-panel-${e}`}function Ro(e){e.style.height="auto",e.style.height=`${e.scrollHeight+2}px`}function Io(e){const{id:t,label:n,debounce:i,onInput:r,value:l="",disabled:s,monospace:a,onFocus:c,onBlur:d,autoResize:u=!0,placeholder:p,rows:f=(u?1:2),tooltip:h}=e,[m,g]=(0,o.J0)(l),v=Ir(t),b=function(e){const[t,n]=(0,o.J0)(!!e&&!!e.clientHeight);return(0,o.Nf)((()=>{if(!e)return;const i=new ResizeObserver((([e])=>{requestAnimationFrame((()=>{const i=!!e.contentRect.height;i!==t&&n(i)}))}));return i.observe(e),()=>i.disconnect()}),[e,t]),t}(v.current),y=kr(r,i);return(0,o.Nf)((()=>{u&&Ro(v.current)}),[]),(0,o.Nf)((()=>{b&&u&&Ro(v.current)}),[b]),(0,o.vJ)((()=>{l!==m&&g(l)}),[l]),(0,he.FD)("div",{class:"bio-properties-panel-textarea",children:[(0,he.Y)("label",{for:Bo(t),class:"bio-properties-panel-label",children:(0,he.Y)(Cr,{value:h,forId:t,element:e.element,children:n})}),(0,he.Y)("textarea",{ref:v,id:Bo(t),name:t,spellCheck:"false",class:V()("bio-properties-panel-input",a?"bio-properties-panel-input-monospace":"",u?"auto-resize":""),onInput:e=>{var t;u&&Ro(e.target),e.target.value!==m&&(g(e.target.value),t=e.target.value,y(""===t?void 0:t))},onFocus:c,onBlur:e=>{const t=e.target.value.trim();r(t),d&&d(e)},placeholder:p,rows:f,value:m,disabled:s,"data-gramm":"false"})]})}function To(e){return e&&!!e.value}function Bo(e){return`bio-properties-panel-${e}`}function Oo(e){const{debounce:t,disabled:n=!1,id:i,label:r,onInput:l,onFocus:s,onBlur:a,placeholder:c,value:d="",tooltip:u}=e,[p,f]=(0,o.J0)(d||""),h=Ir(i),m=kr(l,t);return(0,o.vJ)((()=>{d!==p&&f(d)}),[d]),(0,he.FD)("div",{class:"bio-properties-panel-textfield",children:[(0,he.Y)("label",{for:Mo(i),class:"bio-properties-panel-label",children:(0,he.Y)(Cr,{value:u,forId:i,element:e.element,children:r})}),(0,he.Y)("input",{ref:h,id:Mo(i),type:"text",name:i,spellCheck:"false",autoComplete:"off",disabled:n,class:"bio-properties-panel-input",onInput:e=>{var t;e.target.value!==p&&(f(e.target.value),t=e.target.value,m(""===t?void 0:t))},onFocus:s,onBlur:e=>{const t=e.target.value.trim();l(t),a&&a(e)},placeholder:c,value:p})]})}function Ao(e){const{element:t,id:n,description:i,debounce:r,disabled:l,label:s,getValue:a,setValue:c,validate:d,onFocus:u,onBlur:p,placeholder:f,tooltip:h}=e,m=Pr(n),[g,v]=(0,o.J0)(null);let b=a(t);(0,o.vJ)((()=>{if(ne(d)){const e=d(b)||null;v(e)}}),[b,d]);const y=Br((e=>{const n=a(t);let i=null;ne(d)&&(i=d(e)||null),e!==n&&c(e,i),v(i)})),F=m||g;return(0,he.FD)("div",{class:V()("bio-properties-panel-entry",F?"has-error":""),"data-entry-id":n,children:[(0,he.Y)(Oo,{debounce:r,disabled:l,id:n,label:s,onInput:y,onFocus:u,onBlur:p,placeholder:f,value:b,tooltip:h,element:t},t),F&&(0,he.Y)("div",{class:"bio-properties-panel-error",children:F}),(0,he.Y)(Gr,{forId:n,element:t,value:i})]})}function $o(e){return e&&!!e.value}function Mo(e){return`bio-properties-panel-${e}`}function Jo(e){e.preventDefault(),e.stopPropagation()}(0,me.Rf)(((e,t)=>{const{id:n,disabled:i,onInput:r,value:l,onFocus:s,onBlur:a}=e,c=(0,o.li)();return t.current={focus:()=>{const e=c.current;e&&e.focus()}},(0,he.Y)("input",{ref:c,id:ko(n),name:n,onFocus:s,onBlur:a,type:"checkbox",class:"bio-properties-panel-input",onChange:({target:e})=>{r(e.checked)},checked:l,disabled:i})}));const No=()=>{},Ho=(0,me.Rf)((function(e,t){const{className:n,delayInitialFocus:i,position:r,width:l,height:s,onClose:a,onPostActivate:c=No,onPostDeactivate:d=No,returnFocus:u=!0,closeOnEscape:p=!0,title:f}=e,h=(0,o.li)(null),m=(0,o.li)(null),g=t||m,v=()=>{h.current&&h.current.activate()};let b={};return r&&(b={...b,top:r.top+"px",left:r.left+"px"}),l&&(b.width=l+"px"),s&&(b.height=s+"px"),(0,o.vJ)((()=>(g.current&&g.current.addEventListener("focusin",v),()=>{g.current&&g.current.removeEventListener("focusin",v)})),[g]),(0,o.vJ)((()=>(g.current&&(h.current=et.K(g.current,{clickOutsideDeactivates:!0,delayInitialFocus:i,fallbackFocus:g.current,onPostActivate:c,onPostDeactivate:d,returnFocusOnDeactivate:u}),h.current.activate()),()=>h.current&&h.current.deactivate())),[g]),(0,he.Y)("div",{"aria-label":f,tabIndex:-1,ref:g,onKeyDown:e=>{e.stopPropagation(),p&&"Escape"===e.key&&a()},role:"dialog",class:V()("bio-properties-panel-popup",n),style:b,children:e.children})}));function zo(e){return e.closest(".bio-properties-panel-popup")}function Ko(e){const{entryId:t,onInput:n,onClose:i,title:r,type:l,value:s,links:a,variables:c,position:d,hostLanguage:u,singleLine:p,sourceElement:f,tooltipContainer:h,eventBus:m,feelLanguageContext:g}=e,v=(0,o.li)(),b=(0,o.li)(),y=(0,o.li)(!1);return(0,o.vJ)((()=>{v.current&&v.current.focus()}),[v]),(0,he.FD)(Ho,{className:"bio-properties-panel-feel-popup",position:d,title:r,returnFocus:!1,closeOnEscape:!1,delayInitialFocus:!1,onPostDeactivate:()=>{f&&f.focus()},height:250,width:700,ref:b,children:[(0,he.Y)(Ho.Title,{title:r,eventBus:m,showCloseButton:!0,closeButtonTooltip:"Save and close",onClose:i,draggable:!0,children:(0,he.Y)(he.FK,{children:(a||[]).map(((e,t)=>(0,he.FD)("a",{rel:"noreferrer",href:e.href,target:"_blank",class:"bio-properties-panel-feel-popup__title-link",children:[e.title,(0,he.Y)(vr,{})]},t)))})}),(0,he.Y)(Ho.Body,{children:(0,he.FD)("div",{onKeyDownCapture:e=>{"Escape"===e.key&&(y.current=function(e){const t=e.closest(".cm-editor");return t?t.querySelector(".cm-tooltip-autocomplete"):null}(e.target))},onKeyDown:e=>{"Escape"===e.key&&(y.current||(i(),y.current=!1))},class:"bio-properties-panel-feel-popup__body",children:["feel"===l&&(0,he.Y)(lo,{enableGutters:!0,id:qo(t),name:t,onInput:n,value:s,variables:c,feelLanguageContext:g,ref:v,tooltipContainer:h}),"feelers"===l&&(0,he.Y)(ro,{id:qo(t),contentAttributes:{"aria-label":r},enableGutters:!0,hostLanguage:u,name:t,onInput:n,value:s,ref:v,singleLine:p,tooltipContainer:h})]})})]})}function qo(e){return`bio-properties-panel-${e}`}function Uo({element:e,label:t}){let n="";return e&&e.type&&(n=`${e.type} / `),`${n}${t}`}function Zo(){const e=window.innerWidth||document.documentElement.clientWidth,t=window.innerHeight||document.documentElement.clientHeight;return{left:Math.max(0,(e-700)/2),top:Math.max(0,(t-250)/2)}}Ho.Title=function(e){const{children:t,className:n,draggable:i,eventBus:r,title:l,showCloseButton:s=!1,closeButtonTooltip:a="Close popup",onClose:c,...d}=e,u=(0,o.li)({startPosition:null,newPosition:null}),p=(0,o.li)(),f=(0,o.li)(),h=(e,t)=>{!function(e){e.preventDefault(),e.stopPropagation()}(e);const{x:n,y:i}=t,o={x:u.current.startPosition.x+n,y:u.current.startPosition.y+i},l=zo(f.current);l.style.top=o.y+"px",l.style.left=o.x+"px",r?.fire("feelPopup.dragover",{newPosition:o,delta:t})};return(0,he.FD)("div",{class:V()("bio-properties-panel-popup__header",i&&"draggable",n),ref:f,draggable:i,onDragStart:e=>{(function(e,t){let n,i,r;function o(t){const o={x:t.clientX-i,y:t.clientY-r};return e.call(n,t,o)}function l(){document.removeEventListener("dragover",o,!0),document.removeEventListener("dragenter",Jo,!0),document.removeEventListener("dragend",l),document.removeEventListener("drop",Jo)}return function(e){n=this,i=e.clientX,r=e.clientY,e.dataTransfer&&e.dataTransfer.setDragImage(t||Ue('<canvas width="0" height="0" />'),0,0),document.addEventListener("dragover",o,!0),document.addEventListener("dragenter",Jo,!0),document.addEventListener("dragend",l),document.addEventListener("drop",Jo)}})(h,p.current)(e),e.stopPropagation();const t=zo(f.current).getBoundingClientRect();u.current.startPosition={x:t.left,y:t.top},r?.fire("feelPopup.dragstart")},onDragEnd:()=>{u.current.newPosition=null,r?.fire("feelPopup.dragend")},...d,children:[i&&(0,he.FD)(he.FK,{children:[(0,he.Y)("div",{ref:p,class:"bio-properties-panel-popup__drag-preview"}),(0,he.Y)("div",{class:"bio-properties-panel-popup__drag-handle",children:(0,he.Y)(hr,{})})]}),(0,he.Y)("div",{class:"bio-properties-panel-popup__title",children:l}),t,s&&(0,he.Y)("button",{title:a,class:"bio-properties-panel-popup__close",onClick:c,children:(0,he.Y)(ur,{})})]})},Ho.Body=function(e){const{children:t,className:n,...i}=e;return(0,he.Y)("div",{class:V()("bio-properties-panel-popup__body",n),...i,children:t})},Ho.Footer=function(e){const{children:t,className:n,...i}=e;return(0,he.Y)("div",{class:V()("bio-properties-panel-popup__footer",n),...i,children:e.children})};class Xo{constructor(e,t={}){this._eventBus=e,this._config=t,this._isOpen=!1,e.on("propertiesPanel.openPopup",((e,t)=>(this.open(t.entryId,t,t.sourceElement),!0))),e.on(["propertiesPanel.closePopup","propertiesPanel.detach"],(()=>{this.close()}))}isOpen(){return this._isOpen}open(e,t,n){this.close(),this._openPopup({...t,entryId:e,sourceElement:n})}close(){this._closePopup()}_openPopup(e){const{element:t,label:n,sourceElement:i,type:r}=e;this._isOpen=!0,this._eventBus.fire("propertiesPanelPopup.open",{container:this._config.feelPopupContainer,config:{...e,links:this._config.getFeelPopupLinks?.(r)||[],onClose:()=>{this._closePopup(),setTimeout((()=>{i&&i.focus()}),0)},position:Zo(),title:Uo({element:t,label:n})}})}_closePopup(){this._isOpen&&(this._isOpen=!1,this._eventBus.fire("propertiesPanelPopup.close"))}}Xo.$inject=["eventBus","config.propertiesPanel"];class Go{constructor(e){this._eventBus=e,this._container=null,this._element=null,e.on("propertiesPanelPopup.open",(e=>{this._renderPopup(e)})),e.on("propertiesPanelPopup.close",(()=>{this._removePopup()}))}_renderPopup(e){let{container:t,config:n}=e;t=this._container=function(e){return ie(e)?Ze(e):e}(t)||document.body;const i=this._element=function(){const e=document.createElement("div");return e.classList.add("bio-properties-panel-popup-container"),e}();t.appendChild(i),this._emit("feelPopup.open"),(0,r.render)((0,he.Y)(Ko,{...n,eventBus:this._eventBus}),i),this._emit("feelPopup.opened",{domNode:i})}_removePopup(){this._container&&(this._emit("feelPopup.close",{domNode:this._element}),(0,r.render)(null,this._element),this._container.removeChild(this._element),this._container=null,this._emit("feelPopup.closed"))}_emit(e,t){this._eventBus.fire(e,t)}}Go.$inject=["eventBus"];var Wo={__init__:["feelPopup","feelPopupRenderer"],feelPopup:["type",Xo],feelPopupRenderer:["type",Go]};const Qo=(0,r.createContext)({getService:function(e,t){}}),el={getEmpty:()=>({text:"Select a form field to edit its properties."}),getMultiple:()=>({text:"Multiple form fields are selected. Select a single form field to edit its properties."})},tl={};function nl(e){const{eventBus:t,getProviders:n,injector:i}=e,r=i.get("formEditor"),l=i.get("modeling"),s=i.get("selection"),a=i.get("config.propertiesPanel")||tl,{feelPopupContainer:c}=a,[d,u]=(0,o.J0)({selectedFormField:s.get()||r._getState().schema}),p=d.selectedFormField,f=(0,o.hb)((e=>{u({selectedFormField:s.get()||r._getState().schema}),t.fire("propertiesPanel.updated",{formField:e})}),[t,r,s]);(0,o.Nf)((()=>(t.on("changed",f),t.on("import.done",f),t.on("selection.changed",f),()=>{t.off("changed",f),t.off("import.done",f),t.off("selection.changed",f)})),[t,f]);const h=(e,t=!0)=>i.get(e,t),m={getService:h},g=(0,o.hb)(((e,t,n)=>l.editFormField(e,t,n)),[l]),v=n(p),b=(0,o.Kr)((()=>{return e=function(e,t){return Q(p)?[]:t.getGroups(p,g)(e)},t=[],oe(v,(function(n,i){t=e(t,n,i)})),t;var e,t}),[v,p,g]),y=h("formFields"),F=(0,o.Kr)((()=>function(e={}){const{getDocumentationRef:t,formFields:n}=e;return{getElementLabel:e=>{const{type:t}=e,i=n.get(t).config;return i.getSubheading?i.getSubheading(e):e.label},getElementIcon:e=>{const{type:t}=e,i=n.get(t).config,r=i.icon||(0,K.S2)(t);return r?function(){return(0,he.Y)(r,{width:"36",height:"36",viewBox:"0 0 54 54"})}:i.iconUrl?_n({iconUrl:i.iconUrl,label:i.label}):void 0},getTypeLabel:e=>{const{type:t}=e;if("default"===t)return"Form";const i=n.get(t).config;return i.name||i.label||t},getDocumentationRef:t}}({getDocumentationRef:a.getDocumentationRef,formFields:y})),[y,a]);return(0,he.Y)("div",{class:"fjs-properties-panel","data-field":p&&p.id,onFocusCapture:()=>t.fire("propertiesPanel.focusin"),onBlurCapture:()=>t.fire("propertiesPanel.focusout"),children:(0,he.Y)(Qo.Provider,{value:m,children:(0,he.Y)(Hr,{element:p,eventBus:t,groups:b,headerProvider:F,placeholderProvider:el,feelPopupContainer:c})})})}class il{constructor(e,t,n){const{parent:i}=e||{};this._eventBus=n,this._injector=t,this._container=Ue('<div class="fjs-properties-container" input-handle-modified-keys="y,z"></div>'),i&&this.attachTo(i),this._eventBus.once("formEditor.rendered",500,(()=>{this._render()}))}attachTo(e){if(!e)throw new Error("container required");"string"==typeof e&&(e=Ze(e)),this.detach(),e.appendChild(this._container),this._eventBus.fire("propertiesPanel.attach")}detach(){const e=this._container.parentNode;e&&(e.removeChild(this._container),this._eventBus.fire("propertiesPanel.detach"))}_render(){(0,r.render)((0,he.Y)(nl,{getProviders:this._getProviders.bind(this),eventBus:this._eventBus,injector:this._injector}),this._container),this._eventBus.fire("propertiesPanel.rendered")}_destroy(){this._container&&((0,r.render)(null,this._container),this._eventBus.fire("propertiesPanel.destroyed"))}registerProvider(e,t){t||(t=1e3),"function"==typeof e.getGroups?(this._eventBus.on("propertiesPanel.getProviders",t,(function(t){t.providers.push(e)})),this._eventBus.fire("propertiesPanel.providersChanged")):console.error("Properties provider does not implement #getGroups(element) API")}_getProviders(){const e=this._eventBus.createEvent({type:"propertiesPanel.getProviders",providers:[]});return this._eventBus.fire(e),e.providers}}function rl(e){const{editField:t,field:n}=e,i=[];return i.push({id:"action",component:ol,editField:t,field:n,isEdited:Do,isDefaultVisible:e=>"button"===e.type}),i}function ol(e){const{editField:t,field:n,id:i}=e,r=["action"];return So({element:n,getOptions:()=>[{label:"Submit",value:"submit"},{label:"Reset",value:"reset"}],getValue:()=>fe(n,r,""),id:i,label:"Action",setValue:e=>t(n,r,e)})}function ll(e,t){const{getService:n}=(0,o.NT)(Qo);return n(e,t)}function sl(){const e=ll("formEditor").getSchema();return(0,K.rt)(e)}function al(e){const{editField:t,field:n}=e,i=[];return i.push({id:"alt",component:cl,editField:t,field:n,isEdited:Vo,isDefaultVisible:e=>["image"].includes(e.type)}),i}function cl(e){const{editField:t,field:n,id:i}=e,r=ll("debounce"),o=sl().map((e=>({name:e}))),l=["alt"];return Yo({debounce:r,element:n,feel:"optional",getValue:()=>fe(n,l,""),id:i,label:"Alternative text",tooltip:"Descriptive text for screen reader accessibility.",setValue:e=>t(n,l,e),singleLine:!0,variables:o})}function dl(e){const{editField:t,field:n}=e;return[{id:"columns",component:ul,field:n,editField:t,isEdited:Do}]}function ul(e){const{field:t,editField:n,id:i}=e;ll("debounce");const r=ll("formLayoutValidator"),l=(0,o.hb)((e=>r.validateField(t,e?parseInt(e):null)),[t,r]);return So({element:t,id:i,label:"Columns",getOptions:()=>[{label:"Auto",value:""},...Array.from({length:16}).map(((e,t)=>t+1)).filter((e=>e>=2)).map(pl)],getValue:()=>fe(t,["layout","columns"]),setValue:(e,i)=>{if(i)return;const r=fe(t,["layout"],{}),o=e?parseInt(e):null;n(t,["layout"],pe(r,["columns"],o))},validate:l})}function pl(e){return{value:e,label:e.toString()}}function fl(e,t,n){const i=[...e];return i.splice(t,0,n),i}function hl(e){const t=pt(e);return t.toString()===t.toFixed(0)?0:t.toFixed().split(".")[1].length||0}function ml(e){return("number"==typeof e||"string"==typeof e)&&""!==e&&!isNaN(Number(e))}function gl(e){return/^\w+(\.\w+)*$/.test(e)}function vl(e){const t=["__proto__","prototype","constructor"];return e.split(".").some((e=>t.includes(e)))}il.$inject=["config.propertiesPanel","injector","eventBus"];const bl=["button","group","dynamiclist","iframe","table","documentPreview"],yl=["checkbox","checklist","datetime","number","radio","select","taglist","textfield","textarea","filepicker"],Fl=["checklist","radio","select","taglist"];function _l(e){return e.split(".").some((e=>/^\d+$/.test(e)))}function wl(e,t=!0){return n=>{if(!n)return!1;const i=n.querySelector(".cm-content"),r=i?i.innerText:n.value;return!(t&&!r)&&r!==e}}function xl(e){return e&&!e.checked}function El(e){const{editField:t,field:n}=e,i=[];return i.push({id:"description",component:Ll,editField:t,field:n,isEdited:Vo,isDefaultVisible:e=>"filepicker"!==e.type&&yl.includes(e.type)}),i}function Ll(e){const{editField:t,field:n,id:i}=e,r=ll("debounce"),o=sl().map((e=>({name:e}))),l=["description"];return Yo({debounce:r,element:n,getValue:()=>fe(n,l,""),id:i,label:"Field description",singleLine:!0,setValue:e=>t(n,l,e),variables:o})}const Cl="";function Yl(e){const{editField:t,field:n}=e,{type:i}=n,r=[];function o(e){return t=>!(!yl.includes(i)||Fl.includes(i)&&!t.values)&&e(t)}const l={editField:t,field:n,id:"defaultValue",label:"Default value"};return r.push({...l,component:Vl,isEdited:Do,isDefaultVisible:o((e=>"checkbox"===e.type))}),r.push({...l,component:kl,isEdited:$o,isDefaultVisible:o((e=>"number"===e.type))}),r.push({...l,component:Pl,isEdited:Do,isDefaultVisible:o((e=>"radio"===e.type||"select"===e.type))}),r.push({...l,component:Sl,isEdited:$o,isDefaultVisible:o((e=>"textfield"===e.type))}),r.push({...l,component:Dl,isEdited:To,isDefaultVisible:o((e=>"textarea"===e.type))}),r}function Vl(e){const{editField:t,field:n,id:i,label:r}=e,{defaultValue:o}=n,l=["defaultValue"];return So({element:n,getOptions:()=>[{label:"Checked",value:"true"},{label:"Not checked",value:"false"}],getValue:()=>!0===o?"true":"false",id:i,label:r,setValue:e=>t(n,l,function(e){return"true"===e}(e))})}function kl(e){const{editField:t,field:n,id:i,label:r}=e,{decimalDigits:l,serializeToString:s=!1}=n,a=ll("debounce"),c=["defaultValue"],d=l||0===l,u=(0,o.hb)((e=>{if(null!=e)return ml(e)?d&&hl(e)>l?`Should not contain more than ${l} decimal digits`:void 0:"Should be a valid number"}),[d,l]);return Ao({debounce:a,label:r,element:n,getValue:e=>{let t=fe(n,c);if(ml(t))return s?pt(t).toFixed():t},id:i,setValue:(e,i)=>{if(i)return;let r;return ml(e)&&(r=s?e:Number(e)),t(n,c,r)},validate:u})}function Pl(e){const{editField:t,field:n,id:i,label:r}=e,{defaultValue:o=Cl,values:l=[]}=n,s=["defaultValue"];return So({element:n,getOptions:()=>[{label:"<none>",value:Cl},...l],getValue:()=>o,id:i,label:r,setValue:e=>t(n,s,e.length?e:void 0)})}function Sl(e){const{editField:t,field:n,id:i,label:r}=e,o=ll("debounce"),l=["defaultValue"];return Ao({debounce:o,element:n,getValue:()=>fe(n,l,""),id:i,label:r,setValue:e=>t(n,l,e)})}function Dl(e){const{editField:t,field:n,id:i,label:r}=e,l=ll("debounce"),s=["defaultValue"];return function(e){const{element:t,id:n,description:i,debounce:r,label:l,getValue:s,setValue:a,rows:c,monospace:d,disabled:u,validate:p,onFocus:f,onBlur:h,placeholder:m,autoResize:g,tooltip:v}=e,b=Pr(n),[y,F]=(0,o.J0)(null);let _=s(t);(0,o.vJ)((()=>{if(ne(p)){const e=p(_)||null;F(e)}}),[_,p]);const w=Br((e=>{const n=s(t);let i=null;ne(p)&&(i=p(e)||null),e!==n&&a(e,i),F(i)})),x=b||y;return(0,he.FD)("div",{class:V()("bio-properties-panel-entry",x?"has-error":""),"data-entry-id":n,children:[(0,he.Y)(Io,{id:n,label:l,value:_,onInput:w,onFocus:f,onBlur:h,rows:c,debounce:r,monospace:d,disabled:u,placeholder:m,autoResize:g,tooltip:v,element:t},t),x&&(0,he.Y)("div",{class:"bio-properties-panel-error",children:x}),(0,he.Y)(Gr,{forId:n,element:t,value:i})]})}({debounce:l,element:n,getValue:()=>fe(n,s,""),id:i,label:r,setValue:e=>t(n,s,e)})}function jl(e){const{editField:t,field:n}=e,i=[];return i.push({id:"disabled",component:Rl,editField:t,field:n,isEdited:fo,isDefaultVisible:e=>yl.includes(e.type)}),i}function Rl(e){const{editField:t,field:n,id:i}=e,r=["disabled"];return po({element:n,getValue:()=>fe(n,r,""),id:i,label:"Disabled",tooltip:"Disable this field when it should not be interactive for end-users. Its data will not be submitted. This setting takes precedence over read-only.",inline:!0,setValue:e=>t(n,r,e)})}function Il(e){const{editField:t,field:n}=e,i=[];return i.push({id:"id",component:Tl,editField:t,field:n,isEdited:$o,isDefaultVisible:e=>"default"===e.type}),i}function Tl(e){const{editField:t,field:n,id:i}=e,r=ll("formFieldRegistry"),l=ll("debounce"),s=["id"],a=(0,o.hb)((e=>{if("string"!=typeof e||0===e.length)return"Must not be empty.";const t=r._ids.assigned(e);return t&&t!==n?"Must be unique.":(function(e){return Bl.test(e)}(i=e)?"Must not contain spaces.":Al.test(i)?void 0:Ol.test(i)?"Must not contain prefix.":"Must be a valid QName.")||null;var i}),[r,n]);return Ao({debounce:l,element:n,getValue:()=>fe(n,s,""),id:i,label:"ID",setValue:(e,i)=>{if(!i)return t(n,s,e)},validate:a})}const Bl=/\s/,Ol=/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i,Al=/^[a-z_][\w-.]*$/i;function $l(e){const{editField:t,field:n,getService:i}=e,r=[];return r.push({id:"key",component:Ml,editField:t,field:n,isEdited:$o,isDefaultVisible:e=>{const t=i("formFields"),{config:n}=t.get(e.type);return n.keyed}}),r}function Ml(e){const{editField:t,field:n,id:i}=e,r=ll("pathRegistry"),l=ll("debounce"),s=["key"],a=(0,o.hb)((e=>{if(e===n.key)return null;if(!ie(e)||0===e.length)return"Must not be empty.";if(!gl(e))return"Must be a variable or a dot separated path.";if(_l(e))return"Must not contain numerical path segments.";if(vl(e))return"Must not be a prohibited path.";const t={[n.id]:e.split(".")},i=r.getValuePath(n),o=r.getValuePath(n,{replacements:t});r.unclaimPath(i);const l=r.canClaimPath(o,{isClosed:!0,claimerId:n.id});return r.claimPath(i,{isClosed:!0,claimerId:n.id}),l?null:"Must not conflict with other key/path assignments."}),[n,r]);return Ao({debounce:l,description:"Binds to a form variable",element:n,getValue:()=>fe(n,s,""),id:i,label:"Key",tooltip:'Use a unique "key" to link the form element and the related input/output data. When dealing with nested data, break it down in the user task\'s input mapping before using it.',setValue:(e,i)=>{if(!i)return t(n,s,e)},validate:a})}function Jl(e){const{editField:t,field:n,getService:i}=e,{type:r}=n,o=[],l=i("formFields").get(r);return l&&l.config.pathed&&o.push({id:"path",component:Nl,editField:t,field:n,isEdited:$o}),o}function Nl(e){const{editField:t,field:n,id:i}=e,r=ll("debounce"),l=ll("pathRegistry"),s=ll("formFields").get(n.type).config.repeatable&&n.isRepeating,a=["path"],c=(0,o.hb)((e=>{if(!e&&s)return"Must not be empty";if(!e&&!s||e===n.path)return null;if(!gl(e))return s?"Must be a variable or a dot-separated path":"Must be empty, a variable or a dot-separated path";if(_l(e))return"Must not contain numerical path segments.";if(vl(e))return"Must not be a prohibited path.";const t={replacements:{[n.id]:e.split(".")}},i=l.executeRecursivelyOnFields(n,(({field:e,isClosed:n,isRepeatable:i})=>{const r=l.getValuePath(e,t);return l.canClaimPath(r,{isClosed:n,isRepeatable:i,claimerId:e.id})}));return i?null:"Must not cause two binding paths to collide"}),[n,s,l]);return Ao({debounce:r,description:"Where the child variables of this component are pathed to.",element:n,getValue:()=>fe(n,a,""),id:i,label:"Path",tooltip:s?"Routes the children of this component into a form variable, may be left empty to route at the root level.":"Routes the children of this component into a form variable.",setValue:(e,i)=>{if(!i)return t(n,a,e)},validate:c})}function Hl(e){const{id:t,label:n,description:i,path:r,props:o,getValue:l,setValue:s,isDefaultVisible:a,isTrueDefault:c=!1}=e,{editField:d,field:u}=o;return{id:t,label:n,path:r,field:u,editField:d,description:i,component:zl,isEdited:c?xl:fo,isDefaultVisible:a,getValue:l,setValue:s}}const zl=e=>{const{id:t,label:n,path:i,field:r,editField:o,getValue:l=()=>fe(r,i,""),setValue:s=e=>o(r,i,e||!1),description:a}=e;return po({element:r,getValue:l,id:t,label:n,setValue:s,inline:!0,description:a})};function Kl(e){const{id:t,label:n,path:i,props:r,optionsArray:o}=e,{editField:l,field:s}=r;return{id:t,label:n,path:i,field:s,editField:l,optionsArray:o,component:ql,isEdited:Do}}const ql=e=>{const{id:t,label:n,path:i,field:r,editField:o,optionsArray:l}=e;return So({label:n,element:r,getOptions:()=>l,getValue:()=>fe(r,i,""),id:t,setValue:e=>o(r,i,e)})};function Ul(e){const{id:t,label:n,path:i,props:r,min:o,max:l}=e,{editField:s,field:a}=r;return{id:t,label:n,path:i,field:a,editField:s,min:o,max:l,component:Zl,isEdited:$o}}const Zl=e=>{const{id:t,label:n,path:i,field:r,editField:l,min:s=Number.MIN_SAFE_INTEGER,max:a=Number.MAX_SAFE_INTEGER}=e,c=ll("debounce"),d=(0,o.hb)((e=>{if(null!=e&&""!==e)return Number.isInteger(Number(e))?pt(e).cmp(s)<0?`Should be at least ${s}.`:pt(e).cmp(a)>0?`Should be at most ${a}.`:void 0:"Should be an integer."}),[s,a]);return Ao({debounce:c,label:n,element:r,getValue:()=>{const e=fe(r,i);return ml(e)&&Number.isInteger(e)?e:null},id:t,setValue:(e,t)=>{t||l(r,i,Number(e))},validate:d})};function Xl(e){const{field:t}=e,{type:n}=t;return["group","dynamiclist"].includes(n)?[Hl({id:"showOutline",path:["showOutline"],label:"Show outline",isTrueDefault:!0,props:e})]:[]}function Gl(e){const{field:t,editField:n}=e,i=[];return i.push({id:"date-label",component:Ql,editField:n,field:t,isEdited:Vo,isDefaultVisible:function(e){return"datetime"===e.type&&(e.subtype===K.ou.DATE||e.subtype===K.ou.DATETIME)}}),i.push({id:"time-label",component:es,editField:n,field:t,isEdited:Vo,isDefaultVisible:function(e){return"datetime"===e.type&&(e.subtype===K.ou.TIME||e.subtype===K.ou.DATETIME)}}),i.push({id:"label",component:Wl,editField:n,field:t,isEdited:Vo,isDefaultVisible:e=>[...yl.filter((e=>"datetime"!==e)),...bl].includes(e.type)}),i}function Wl(e){const{editField:t,field:n,id:i}=e,r=ll("debounce"),o=sl().map((e=>({name:e}))),l=["label"],s=function(e){switch(e){case"group":case"dynamiclist":return"Group label";case"table":return"Table label";case"iframe":case"documentPreview":return"Title";default:return"Field label"}}(n.type);return Yo({debounce:r,element:n,getValue:()=>fe(n,l,""),id:i,label:s,singleLine:!0,setValue:e=>t(n,l,e||""),variables:o})}function Ql(e){const{editField:t,field:n,id:i}=e,r=ll("debounce"),o=sl().map((e=>({name:e}))),l=K.wI;return Yo({debounce:r,element:n,getValue:()=>fe(n,l,""),id:i,label:"Date label",singleLine:!0,setValue:e=>t(n,l,e||""),variables:o})}function es(e){const{editField:t,field:n,id:i}=e,r=ll("debounce"),o=sl().map((e=>({name:e}))),l=K.pE;return Yo({debounce:r,element:n,getValue:()=>fe(n,l,""),id:i,label:"Time label",singleLine:!0,setValue:e=>t(n,l,e||""),variables:o})}function ts(e){const{editField:t,field:n,id:i,description:r,isDefaultVisible:o,defaultValue:l}=e,s=[];return s.push({id:i+"-height",component:ns,description:r,isEdited:vo,editField:t,field:n,defaultValue:l,isDefaultVisible:e=>ne(o)?o(e):"spacer"===e.type}),s}function ns(e){const{description:t,editField:n,field:i,id:r}=e;return go({debounce:ll("debounce"),description:t,label:"Height",element:i,id:r,getValue:e=>fe(i,["height"],null),setValue:(e,t)=>{t||n(i,["height"],e)},validate:is})}const is=e=>"number"!=typeof e?"A number is required.":Number.isInteger(e)?e<1?"Should be greater than zero.":void 0:"Should be an integer.",rs=/^(https):\/\/*/i;function os(e){const{editField:t,field:n}=e,i=[];return i.push({id:"url",component:ls,editField:t,field:n,isEdited:Vo,isDefaultVisible:e=>"iframe"===e.type}),i}function ls(e){const{editField:t,field:n,id:i}=e,r=ll("debounce"),o=sl().map((e=>({name:e}))),l=["url"];return Yo({debounce:r,element:n,feel:"optional",getValue:()=>fe(n,l,""),id:i,label:"URL",setValue:e=>t(n,l,e),singleLine:!0,tooltip:(0,he.FD)(he.FK,{children:[(0,he.Y)("p",{children:"Enter a HTTPS URL to a source or populate it dynamically via a template or an expression (e.g., to pass a value from the variable)."}),(0,he.Y)("p",{children:"Please make sure that the URL is safe as it might impose security risks."}),(0,he.FD)("p",{children:["Not all external sources can be displayed in the iFrame. Read more about it in the"," ",(0,he.Y)("a",{target:"_blank",href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Frame-Options",rel:"noreferrer",children:"X-FRAME-OPTIONS documentation"}),"."]})]}),validate:ss,variables:o})}const ss=e=>{if(e&&!e.startsWith("="))return rs.test(e)?void 0:'For security reasons the URL must start with "https".'};function as(e){const{editField:t,field:n}=e,i=[];return i.push({id:"source",component:cs,editField:t,field:n,isEdited:Vo,isDefaultVisible:e=>"image"===e.type}),i}function cs(e){const{editField:t,field:n,id:i}=e,r=ll("debounce"),o=sl().map((e=>({name:e}))),l=["source"];return Yo({debounce:r,description:"Expression or static value (link/data URI)",element:n,feel:"optional",getValue:()=>fe(n,l,""),id:i,label:"Image source",tooltip:"Link referring to a hosted image, or use a data URI directly to embed image data into the form.",setValue:e=>t(n,l,e),singleLine:!0,variables:o})}const ds=wl(K.G9,!1);function us(e){const{editField:t,field:n}=e,i=[{id:"text",component:ps,editField:t,field:n,isEdited:ds,isDefaultVisible:e=>"text"===e.type}];return i}function ps(e){const{editField:t,field:n,id:i}=e,r=ll("debounce"),o=sl().map((e=>({name:e}))),l=["text"];return Yo({debounce:r,description:fs,element:n,getValue:()=>fe(n,l,""),id:i,label:"Text",hostLanguage:"markdown",setValue:e=>t(n,l,e||""),variables:o})}const fs=(0,he.FD)(he.FK,{children:["Supports markdown and templating."," ",(0,he.Y)("a",{href:"https://docs.camunda.io/docs/components/modeler/forms/form-element-library/forms-element-library-text/",target:"_blank",rel:"noreferrer",children:"Learn more"})]});function hs(e){const{editField:t,field:n}=e,i=[{id:"content",component:ms,editField:t,field:n,isEdited:Vo,isDefaultVisible:e=>"html"===e.type}];return i}function ms(e){const{editField:t,field:n,id:i}=e,r=ll("debounce"),o=sl().map((e=>({name:e}))),l=["content"];return Yo({debounce:r,description:gs,element:n,getValue:()=>fe(n,l,""),id:i,label:"Content",hostLanguage:"html",validate:vs,setValue:e=>t(n,l,e||""),variables:o})}const gs=(0,he.FD)(he.FK,{children:["Supports HTML, styling, and templating. Styles are automatically scoped to the HTML component."," ",(0,he.Y)("a",{href:"https://docs.camunda.io/docs/components/modeler/forms/form-element-library/forms-element-library-html/",target:"_blank",rel:"noreferrer",children:"Learn more"})]}),vs=e=>"string"!=typeof e||""===e||e.startsWith("=")?null:void 0;function bs(e){const{editField:t,field:n,id:i}=e,r=[];return r.push({id:i+"-decimalDigits",component:ys,isEdited:vo,editField:t,field:n,isDefaultVisible:e=>"number"===e.type}),r.push({id:i+"-step",component:Fs,isEdited:$o,editField:t,field:n,isDefaultVisible:e=>"number"===e.type}),r}function ys(e){const{editField:t,field:n,id:i}=e;return go({debounce:ll("debounce"),label:"Decimal digits",element:n,step:"any",getValue:e=>fe(n,["decimalDigits"]),id:i,setValue:(e,i)=>{i||t(n,["decimalDigits"],e)},validate:_s})}function Fs(e){const{editField:t,field:n,id:i}=e,{decimalDigits:r}=n,l=ll("debounce"),s=r||0===r,a=(0,o.hb)((e=>{if(null!=e){if(!ml(e))return"Should be a valid number.";if(pt(e).cmp(0)<=0)return"Should be greater than zero.";if(s){const t=pt(`1e-${r}`);if(pt(e).cmp(t)<0)return`Should be at least ${t.toString()}.`;if(hl(e)>r)return`Should not contain more than ${r} decimal digits.`}}}),[s,r]);return Ao({debounce:l,label:"Increment",element:n,getValue:e=>{let t=fe(n,["increment"]);return ml(t)?t:null},id:i,setValue:(e,i)=>{i||t(n,["increment"],(e=>{if(!e)return e;const t=e.replace(/^0+/g,"");return(t.startsWith(".")?"0":"")+t})(e))},validate:a})}const _s=e=>{if("number"==typeof e)return Number.isInteger(e)?e<0?"Should be greater than or equal to zero.":void 0:"Should be an integer."};function ws(e){const{editField:t,field:n,id:i}=e,r=[];return r.push({id:`${i}-expression`,component:xs,isEdited:Vo,editField:t,field:n,isDefaultVisible:e=>"expression"===e.type}),r.push({id:`${i}-computeOn`,component:Es,isEdited:Do,editField:t,field:n,isDefaultVisible:e=>"expression"===e.type}),r}function xs(e){const{editField:t,field:n,id:i}=e,r=ll("debounce"),o=sl().map((e=>({name:e})));return Eo({debounce:r,description:"Define an expression to calculate the value of this field",element:n,feel:"required",getValue:()=>n.expression||"",id:i,label:"Target value",setValue:e=>{t(n,["expression"],e)},variables:o})}function Es(e){const{editField:t,field:n,id:i}=e;return So({id:i,label:"Compute on",getValue:()=>n.computeOn||"",setValue:e=>{t(n,["computeOn"],e)},getOptions:()=>[{value:"change",label:"Value changes"},{value:"presubmit",label:"Form submission"}]})}function Ls(e){const{editField:t,field:n}=e,i=[];return i.push({id:"serialize-to-string",component:Cs,isEdited:eo,editField:t,field:n,isDefaultVisible:e=>"number"===e.type}),i}function Cs(e){const{editField:t,field:n,id:i}=e,{defaultValue:r}=n,o=["serializeToString"];return Qr({element:n,getValue:()=>fe(n,o,""),id:i,label:"Output as string",description:"Allows arbitrary precision values",setValue:e=>((r||0===r)&&t(n,["defaultValue"],e?pt(r).toFixed():Number(r)),t(n,o,e))})}function Ys(e){const{editField:t,field:n}=e,i=[{id:"subtype",component:Vs,isEdited:Do,editField:t,field:n,isDefaultVisible:e=>"datetime"===e.type}];return i.push({id:"use24h",component:ks,isEdited:eo,editField:t,field:n,isDefaultVisible:e=>"datetime"===e.type&&(e.subtype===K.ou.TIME||e.subtype===K.ou.DATETIME)}),i}function Vs(e){const{editField:t,field:n,id:i}=e,r=e=>fe(n,K.dQ),o=()=>{t(n,K.pE,"Time"),t(n,K.JR,K.Gk.UTC_OFFSET),t(n,K.Kt,15)},l=()=>{t(n,K.wI,"Date")};return So({label:"Subtype",element:n,getOptions:()=>Object.values(K.ou).map((e=>({label:K.KC[e],value:e}))),getValue:r,id:i,setValue:e=>{const i=r();if(i!==e)return e===K.ou.DATE?((()=>{const e=[K.pE,K.cL,K.Kt,K.JR];for(const i of e)t(n,i,void 0)})(),i===K.ou.TIME&&l()):e===K.ou.TIME?((()=>{const e=[K.wI,K.q3];for(const i of e)t(n,i,void 0)})(),i===K.ou.DATE&&o()):e===K.ou.DATETIME&&(i===K.ou.DATE&&o(),i===K.ou.TIME&&l()),t(n,K.dQ,e)}})}function ks(e){const{editField:t,field:n,id:i}=e,r=K.cL;return Qr({element:n,getValue:()=>fe(n,r,""),id:i,label:"Use 24h",setValue:e=>t(n,r,e)})}const Ps=wl("15");function Ss(e){const{editField:t,field:n,id:i}=e;function r(e){return t=>"datetime"===t.type&&e.includes(t.subtype)}const o=[];return o.push({id:i+"-timeInterval",component:js,isEdited:Ps,editField:t,field:n,isDefaultVisible:r([K.ou.TIME,K.ou.DATETIME])}),o.push({id:i+"-disallowPassedDates",component:Ds,isEdited:eo,editField:t,field:n,isDefaultVisible:r([K.ou.DATE,K.ou.DATETIME])}),o}function Ds(e){const{editField:t,field:n,id:i}=e,r=K.q3;return Qr({element:n,getValue:()=>fe(n,r,""),id:i,label:"Disallow past dates",setValue:e=>t(n,r,e)})}function js(e){const{editField:t,field:n,id:i}=e,r=[1,5,10,15,30,60];return So({label:"Time interval",element:n,getOptions:()=>r.map((e=>({label:60===e?"1h":e+"m",value:e}))),getValue:e=>fe(n,K.Kt),id:i,setValue:e=>t(n,K.Kt,parseInt(e))})}const Rs=wl(K.Gk.UTC_OFFSET);function Is(e){const{editField:t,field:n}=e,i=[];return i.push({id:"time-format",component:Ts,isEdited:Rs,editField:t,field:n,isDefaultVisible:e=>"datetime"===e.type&&(e.subtype===K.ou.TIME||e.subtype===K.ou.DATETIME)}),i}function Ts(e){const{editField:t,field:n,id:i}=e;return So({label:"Time format",element:n,getOptions:()=>Object.values(K.Gk).map((e=>({label:K.ki[e],value:e}))),getValue:e=>fe(n,K.JR),id:i,setValue:e=>t(n,K.JR,e)})}function Bs(e){return[Hl({id:"searchable",path:["searchable"],label:"Searchable",props:e,isDefaultVisible:e=>"select"===e.type})]}function Os(e){const{editField:t,field:n,idPrefix:i,index:r,validateFactory:o}=e;return[{component:As,editField:t,field:n,id:i+"-label",idPrefix:i,index:r,validateFactory:o},{component:$s,editField:t,field:n,id:i+"-value",idPrefix:i,index:r,validateFactory:o}]}function As(e){const{editField:t,field:n,id:i,index:r,validateFactory:l}=e,s=ll("debounce"),a=(0,o.Kr)((()=>l(fe(n,["values",r,"label"]),(e=>e.label))),[n,r,l]);return Ao({debounce:s,element:n,getValue:()=>fe(n,["values",r,"label"]),id:i,label:"Label",setValue:(e,i)=>{if(i)return;const o=fe(n,["values"]);return t(n,"values",pe(o,[r,"label"],e))},validate:a})}function $s(e){const{editField:t,field:n,id:i,index:r,validateFactory:l}=e,s=ll("debounce"),a=(0,o.Kr)((()=>l(fe(n,["values",r,"value"]),(e=>e.value))),[n,r,l]);return Ao({debounce:s,element:n,getValue:()=>fe(n,["values",r,"value"]),id:i,label:"Value",setValue:(e,i)=>{if(i)return;const{defaultValue:o}=n,l=fe(n,["values"]),s=fe(n,["values",r,"value"]);return W(o)||o!==s||pe(n,["defaultValue"],e),t(n,"values",pe(l,[r,"value"],e))},validate:a})}function Ms(e){const{editField:t,field:n,idPrefix:i,index:r,validateFactory:o}=e;return[{component:Js,editField:t,field:n,id:i+"-key",idPrefix:i,index:r,validateFactory:o},{component:Ns,editField:t,field:n,id:i+"-value",idPrefix:i,index:r,validateFactory:o}]}function Js(e){const{editField:t,field:n,id:i,index:r,validateFactory:l}=e,s=ll("debounce"),a=(0,o.Kr)((()=>l(Object.keys(fe(n,["properties"]))[r])),[l,n,r]);return Ao({debounce:s,element:n,getValue:()=>Object.keys(fe(n,["properties"]))[r],id:i,label:"Key",setValue:(e,i)=>{if(i)return;const o=fe(n,["properties"]),l=Object.keys(o)[r];return t(n,"properties",function(e,t,n){return Object.entries(e).reduce(((e,i)=>{const[r,o]=i;return{...e,[r===t?n:r]:o}}),{})}(o,l,e))},validate:a})}function Ns(e){const{editField:t,field:n,id:i,index:r,validateFactory:o}=e,l=()=>{const e=fe(n,["properties"]),t=Object.keys(e)[r];return fe(n,["properties",t])};return Ao({debounce:ll("debounce"),element:n,getValue:l,id:i,label:"Value",setValue:e=>{const i=fe(n,["properties"]),o=Object.keys(i)[r];t(n,"properties",function(e,t,n){return{...e,[t]:n}}(i,o,e))},validate:o(l())})}function Hs(e){const{autoFocusEntry:t,element:n,getValue:i}=e,r=i(n),l=Rr(r),s=ll("eventBus");return(0,o.vJ)((()=>{t&&l&&r!==l&&setTimeout((()=>{s.fire("propertiesPanel.showEntry",{id:t})}))}),[r,t,l,s]),(0,he.Y)(So,{...e})}const zs=wl(K.Qb.STATIC);function Ks(e){const{editField:t,field:n,id:i}=e;return[{id:i+"-select",component:qs,isEdited:zs,editField:t,field:n}]}function qs(e){const{editField:t,field:n,id:i}=e,r=K.ef;return Hs({autoFocusEntry:Us(n),label:"Type",element:n,getOptions:()=>Object.values(K.Qb).map((e=>({label:K.U8[e],value:e}))),getValue:r,id:i,setValue:e=>{let i=n;const r={};return r[K.lh[e]]=K.Lu[e],i=t(n,r),i}})}function Us(e){const t=(0,K.ef)(e);return t===K.Qb.EXPRESSION?"optionsExpression-expression":t===K.Qb.INPUT?"dynamicOptions-key":t===K.Qb.STATIC?"staticOptions-0-label":null}function Zs(e){const{editField:t,field:n,id:i}=e;return[{id:i+"-key",component:Xs,isEdited:$o,editField:t,field:n}]}function Xs(e){const{editField:t,field:n,id:i}=e,r=ll("debounce"),o=K.lh[K.Qb.INPUT];return Ao({debounce:r,description:"Define which input property to populate the values from",tooltip:(0,he.FD)("div",{children:["The input property may be an array of simple values or alternatively follow this schema:",(0,he.Y)("pre",{children:(0,he.Y)("code",{children:'[\n  {\n    "label": "dollar",\n    "value": "$"\n  }\n]'})})]}),element:n,getValue:()=>fe(n,o,""),id:i,label:"Input values key",setValue:(e,i)=>{i||t(n,o,e||"")},validate:Gs})}const Gs=e=>"string"!=typeof e||0===e.length?"Must not be empty.":/\s/.test(e)?"Must not contain spaces.":null;function Ws(e){const{editField:t,field:n,id:i}=e,{values:r}=n,o=(e,t)=>n=>{if(n!==e)return"string"!=typeof n||0===n.length?"Must not be empty.":r.find((e=>t(e)===n))?"Must be unique.":void 0},l=r.map(((e,l)=>{const s=i+"-"+l;return{id:s,label:e.label,entries:Os({editField:t,field:n,idPrefix:s,index:l,validateFactory:o}),autoFocusEntry:s+"-label",remove:()=>(e=>{n.defaultValue===e.value?t(n,{values:le(r,e),defaultValue:void 0}):t(n,K.lh[K.Qb.STATIC],le(r,e))})(e)}}));return{items:l,add:e=>{e.stopPropagation();const i=function(e,t){const n={label:"Value",value:"value"};for(;Qs(e,t);)e++;return e>1&&(n.label+=` ${e}`,n.value+=`${e}`),n}(r.length+1,r);t(n,K.lh[K.Qb.STATIC],fl(r,r.length,i))}}}function Qs(e,t){return t.some((t=>t.label===`Value ${e}`||t.value===`value${e}`))}function ea(e){const{editField:t,field:n}=e,i=[],r=e=>i=>{const r=fe(n,["appearance"],{});t(n,["appearance"],pe(r,[e],i))},o=e=>()=>fe(n,["appearance",e]);return i.push({id:"prefix-adorner",component:ta,isEdited:Vo,editField:t,field:n,onChange:r,getValue:o,isDefaultVisible:e=>["number","textfield"].includes(e.type)}),i.push({id:"suffix-adorner",component:na,isEdited:Vo,editField:t,field:n,onChange:r,getValue:o,isDefaultVisible:e=>["number","textfield"].includes(e.type)}),i}function ta(e){const{field:t,id:n,onChange:i,getValue:r}=e,o=ll("debounce"),l=sl().map((e=>({name:e})));return Yo({debounce:o,element:t,feel:"optional",getValue:r("prefixAdorner"),id:n,label:"Prefix",setValue:i("prefixAdorner"),singleLine:!0,variables:l})}function na(e){const{field:t,id:n,onChange:i,getValue:r}=e,o=ll("debounce"),l=sl().map((e=>({name:e})));return Yo({debounce:o,element:t,getValue:r("suffixAdorner"),id:n,label:"Suffix",setValue:i("suffixAdorner"),singleLine:!0,variables:l})}function ia(e){const{editField:t,field:n}=e,{disabled:i}=n,r=[];return i||r.push({id:"readonly",component:ra,editField:t,field:n,isEdited:Vo,isDefaultVisible:e=>yl.includes(e.type)}),r}function ra(e){const{editField:t,field:n,id:i}=e,r=ll("debounce"),o=sl().map((e=>({name:e}))),l=["readonly"];return Co({debounce:r,element:n,feel:"optional",getValue:()=>fe(n,l,""),id:i,label:"Read only",tooltip:"Make this field read-only when it cannot be edited by the end-user, but its content is important for them to see. Its data will still be submitted.",setValue:e=>t(n,l,e||!1),variables:o})}function oa(e){const{field:t}=e;return["group","dynamiclist"].includes(t.type)?[Kl({id:"verticalAlignment",path:["verticalAlignment"],label:"Vertical alignment",optionsArray:[{value:"start",label:"Top"},{value:"center",label:"Center"},{value:"end",label:"Bottom"}],props:e})]:[]}function la(e){const{field:t,getService:n}=e,{type:i}=t,r=n("formFields").get(i);if(!r||!r.config.repeatable)return[];const o=[Ul({id:"defaultRepetitions",path:["defaultRepetitions"],label:"Default number of items",min:1,max:100,props:e}),Hl({id:"allowAddRemove",path:["allowAddRemove"],label:"Allow add/delete items",props:e}),Hl({id:"disableCollapse",path:["disableCollapse"],label:"Disable collapse",props:e})];if(!t.disableCollapse){const t=Ul({id:"nonCollapsedItems",path:["nonCollapsedItems"],label:"Number of non-collapsing items",min:1,props:e});o.push(t)}return o}function sa(e){const{editField:t,field:n}=e;return[{id:"conditional-hide",component:aa,editField:t,field:n,isEdited:Vo}]}function aa(e){const{editField:t,field:n,id:i}=e,r=ll("debounce"),o=sl().map((e=>({name:e}))),l=["conditional","hide"];let s="Hide if",a="Condition under which the field is hidden";return"expression"===n.type&&(s="Deactivate if",a="Condition under which the field is deactivated"),Eo({debounce:r,description:a,element:n,feel:"required",getValue:()=>fe(n,l,""),id:i,label:s,setValue:e=>t(n,"conditional",e?{hide:e}:void 0),variables:o})}function ca(e){const{editField:t,field:n,id:i}=e;return[{id:i+"-expression",component:da,isEdited:Vo,editField:t,field:n}]}function da(e){const{editField:t,field:n,id:i}=e,r=ll("debounce"),o=sl().map((e=>({name:e}))),l=K.lh[K.Qb.EXPRESSION];return Eo({debounce:r,description:"Define an expression to populate the options from.",tooltip:(0,he.FD)("div",{children:["The expression may result in an array of simple values or alternatively follow this schema:",(0,he.Y)("pre",{children:(0,he.Y)("code",{children:'[\n  {\n    "label": "dollar",\n    "value": "$"\n  }\n]'})})]}),element:n,feel:"required",getValue:()=>fe(n,l,""),id:i,label:"Options expression",setValue:e=>t(n,l,e||""),variables:o})}function ua(e){const{editField:t,field:n}=e,i=[];return i.push({id:"dataSource",component:pa,editField:t,field:n,isEdited:Vo,isDefaultVisible:e=>"table"===e.type}),i}function pa(e){const{editField:t,field:n,id:i}=e,r=ll("debounce"),o=sl().map((e=>({name:e}))),l=["dataSource"];return Yo({debounce:r,description:"Specify the source from which to populate the table",element:n,feel:"required",getValue:()=>fe(n,l,n.id),id:i,label:"Data source",tooltip:"Enter a form input variable that contains the data for the table or define an expression to populate the data dynamically.",setValue:(e,i)=>{i||t(n,l,e)},singleLine:!0,variables:o,validate:fa})}const fa=e=>ie(e)&&0!==e.length?e.startsWith("=")?null:gl(e)?_l(e)?"Must not contain numerical path segments.":null:"Must be a variable or a dot separated path.":"Must not be empty.";function ha(e){const{editField:t,field:n}=e,i=[];return i.push({id:"pagination",component:ma,editField:t,field:n,isEdited:fo,isDefaultVisible:e=>"table"===e.type}),i}function ma(e){const{editField:t,field:n,id:i}=e,r=["rowCount"];return po({element:n,getValue:()=>te(fe(n,r)),id:i,label:"Pagination",inline:!0,setValue:e=>{t(n,r,e?10:void 0)}})}const ga=["rowCount"];function va(e){const{editField:t,field:n}=e,i=[];return i.push({id:"rowCount",component:ba,isEdited:vo,editField:t,field:n,isDefaultVisible:e=>"table"===e.type&&te(fe(e,ga))}),i}function ba(e){const{editField:t,field:n,id:i}=e;return go({debounce:ll("debounce"),label:"Number of rows per page",element:n,id:i,getValue:()=>fe(n,ga),setValue:(e,i)=>{i||t(n,ga,e)},validate:ya})}const ya=e=>W(e)?null:te(e)?Number.isInteger(e)?e<1?"Should be greater than zero.":null:"Should be an integer.":"Must be number",Fa={static:{label:"List of items",value:"static"},expression:{label:"Expression",value:"expression"}},_a=Object.values(Fa),wa=["columns"],xa=["columnsExpression"],Ea=wl(Fa.static.value);function La(e){const{editField:t,field:n,id:i}=e;return[{id:i+"-select",component:Ca,isEdited:Ea,editField:t,field:n}]}function Ca(e){const{editField:t,field:n,id:i}=e;return Hs({autoFocusEntry:Ya(n),label:"Type",element:n,getOptions:()=>_a,getValue:()=>{const e=fe(n,wa);return ie(fe(n,xa))?Fa.expression.value:Q(e)?Fa.static.value:void 0},id:i,setValue:e=>{switch(e){case Fa.static.value:t(n,{columns:[{label:"Column",key:"inputVariable"}]});break;case Fa.expression.value:t(n,{columnsExpression:"="})}}})}function Ya(e){const t=fe(e,wa);return ie(fe(e,xa))?`${e.id}-columnsExpression`:Q(t)?`${e.id}-columns-0-label`:null}const Va=["columnsExpression"];function ka(e){const{editField:t,field:n}=e,i=[];return i.push({id:`${n.id}-columnsExpression`,component:Pa,editField:t,field:n,isEdited:Vo,isDefaultVisible:e=>"table"===e.type&&ie(fe(e,Va))}),i}function Pa(e){const{editField:t,field:n,id:i}=e,r=ll("debounce"),o=sl().map((e=>({name:e}))),l=(0,he.FD)("div",{children:["The expression may result in an array of simple values or alternatively follow this schema:",(0,he.Y)("pre",{children:(0,he.Y)("code",{children:'[\n  {\n    "key": "column_1",\n    "label": "Column 1"\n  }\n]'})})]});return Yo({debounce:r,description:"Specify an expression to populate column items",element:n,feel:"required",getValue:()=>fe(n,Va),id:i,label:"Expression",tooltip:l,setValue:(e,i)=>{i||t(n,Va,e)},singleLine:!0,variables:o,validate:Sa})}const Sa=e=>ie(e)&&0!==e.length&&"="!==e?null:"Must not be empty.",Da="columns",ja="label";function Ra(e){const{editField:t,field:n,idPrefix:i,index:r}=e;return[{component:Ia,editField:t,field:n,id:i+"-label",idPrefix:i,index:r},{component:Ta,editField:t,field:n,id:i+"-key",idPrefix:i,index:r}]}function Ia(e){const{editField:t,field:n,id:i,index:r}=e;return Ao({debounce:ll("debounce"),element:n,getValue:()=>fe(n,[Da,r,ja]),id:i,label:"Label",setValue:(e,i)=>{if(i)return;const o=fe(n,[Da]);t(n,Da,pe(o,[r,ja],e))}})}function Ta(e){const{editField:t,field:n,id:i,index:r}=e;return Ao({debounce:ll("debounce"),element:n,getValue:()=>fe(n,[Da,r,"key"]),id:i,label:"Key",setValue:(e,i)=>{if(i)return;const o=fe(n,[Da]);t(n,Da,pe(o,[r,"key"],e))},validate:Ba})}function Ba(e){return ie(e)&&0!==e.length?null:"Must not be empty."}const Oa=["columns"];function Aa(e){const{editField:t,field:n,id:i}=e,{columns:r}=n,o=r.map(((e,o)=>{const l=`${i}-${o}`;return{id:l,label:e.label||e.key,entries:Ra({editField:t,field:n,idPrefix:l,index:o}),autoFocusEntry:`${l}-label`,remove:()=>(e=>{t(n,Oa,le(r,e))})(e)}}));return{items:o,add:e=>{e.stopPropagation(),t(n,Oa,fl(r,r.length,{label:"Column",key:"inputVariable"}))}}}function $a(e){const{editField:t,field:n}=e,i=[];return i.push({id:"versionTag",component:Ma,editField:t,field:n,isEdited:$o,isDefaultVisible:e=>"default"===e.type}),i}function Ma(e){const{editField:t,field:n,id:i}=e,r=ll("debounce"),o=["versionTag"],l=(0,he.Y)("div",{children:"Version tag by which this form can be referenced."});return Ao({debounce:r,element:n,getValue:()=>fe(n,o,""),id:i,label:"Version tag",setValue:(e,i)=>{if(!i)return t(n,o,e)},tooltip:l})}function Ja(e){const{editField:t,field:n}=e,i=[];return i.push({id:"accept",component:Na,editField:t,field:n,isEdited:Vo,isDefaultVisible:e=>"filepicker"===e.type}),i}function Na(e){const{editField:t,field:n,id:i}=e,r=ll("debounce"),o=sl().map((e=>({name:e}))),l=["accept"];return Yo({debounce:r,element:n,getValue:()=>fe(n,l,""),id:i,label:"Supported file formats",singleLine:!0,setValue:e=>t(n,l,e),variables:o,description:Ha})}const Ha=(0,he.FD)(he.FK,{children:["A comma-separated list of"," ",(0,he.Y)("a",{href:"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/file#unique_file_type_specifiers",target:"_blank",rel:"noreferrer",children:"file type specifiers"})]});function za(e){const{editField:t,field:n}=e,i=[];return i.push({id:"multiple",component:Ka,editField:t,field:n,isEdited:Vo,isDefaultVisible:e=>"filepicker"===e.type}),i}function Ka(e){const{editField:t,field:n,id:i}=e,r=ll("debounce"),o=sl().map((e=>({name:e}))),l=["multiple"];return Co({debounce:r,element:n,feel:"optional",getValue:()=>fe(n,l,""),id:i,label:"Upload multiple files",inline:!0,setValue:e=>t(n,l,e),variables:o})}function qa(e){const{editField:t,field:n}=e,i=[];return i.push({id:"dataSource",component:Ua,editField:t,field:n,isEdited:Vo,isDefaultVisible:e=>"documentPreview"===e.type}),i}function Ua(e){const{editField:t,field:n,id:i}=e,r=ll("debounce"),o=sl().map((e=>({name:e}))),l=["dataSource"],s=(0,he.FD)("div",{children:[(0,he.Y)("p",{children:"A source is a JSON object containing metadata for a document or an array of documents."}),(0,he.Y)("p",{children:"Each entry must include a document ID, name, and MIME type."}),(0,he.Y)("p",{children:"Additional details are optional. The expected format is as follows:"}),(0,he.Y)("pre",{children:(0,he.Y)("code",{children:'[\n  {\n    "documentId": "u123",\n    "endpoint": "https://api.example.com/documents/u123",\n    "metadata": {\n      "fileName": "Document.pdf",\n      "contentType": "application/pdf"\n    }\n  }\n]'})}),(0,he.Y)("p",{children:"When using Camunda Tasklist UI, additional document reference attributes are automatically handled. Modifying the document reference may affect the document preview functionality."}),(0,he.FD)("p",{children:["Learn more in our"," ",(0,he.Y)("a",{href:"https://docs.camunda.io/docs/components/modeler/forms/form-element-library/forms-element-library-document-preview/",target:"_blank",rel:"noopener noreferrer",children:"documentation"}),"."]})]});return Yo({debounce:r,element:n,getValue:()=>fe(n,l,""),id:i,label:"Document reference",feel:"required",singleLine:!0,setValue:e=>t(n,l,e),variables:o,tooltip:s,validate:Za})}const Za=e=>{if("string"!=typeof e||0===e.length)return"The document data source is required."};function Xa(e){const{editField:t,field:n}=e,i=[];return i.push({id:"maxHeight",component:Ga,editField:t,field:n,isEdited:vo,isDefaultVisible:e=>"documentPreview"===e.type}),i}function Ga(e){const{editField:t,field:n,id:i}=e,r=ll("debounce"),o=["maxHeight"];return go({debounce:r,label:"Max height of preview container",element:n,id:i,getValue:()=>fe(n,o,""),setValue:e=>t(n,o,e),validate:Wa,description:Qa})}const Wa=e=>void 0===e||""===e?null:"string"==typeof e?"Value must be a number.":Number.isInteger(e)?e<1?"Should be greater than zero.":void 0:"Should be an integer.",Qa=(0,he.Y)(he.FK,{children:"Documents with height that exceeds the defined value will be vertically scrollable"});function ec(e,t,n){const i=[...Il({field:e,editField:t}),...$a({field:e,editField:t}),...Gl({field:e,editField:t}),...El({field:e,editField:t}),...$l({field:e,editField:t,getService:n}),...Jl({field:e,editField:t,getService:n}),...la({field:e,editField:t,getService:n}),...Yl({field:e,editField:t}),...rl({field:e,editField:t}),...Ys({field:e,editField:t}),...us({field:e,editField:t}),...hs({field:e,editField:t}),...os({field:e,editField:t}),...(r={field:e,editField:t},[...ts({...r,description:"Height of the container in pixels.",isDefaultVisible:e=>"iframe"===e.type})]),...ts({field:e,editField:t}),...bs({field:e,editField:t}),...ws({field:e,editField:t}),...as({field:e,editField:t}),...al({field:e,editField:t}),...Bs({field:e,editField:t}),...Ja({field:e,editField:t}),...za({field:e,editField:t}),...jl({field:e,editField:t}),...ia({field:e,editField:t}),...ua({field:e,editField:t}),...ha({field:e,editField:t}),...va({field:e,editField:t}),...qa({field:e,editField:t})];var r;return 0===i.length?null:{id:"general",label:"General",entries:i}}function tc(e,t){const n=[...Ls({field:e,editField:t}),...Is({field:e,editField:t})];return n.length?{id:"serialization",label:"Serialization",entries:n}:null}function nc(e,t){const n=[...Ss({field:e,editField:t})];return n.length?{id:"constraints",label:"Constraints",entries:n}:null}const ic={custom:{value:"",label:"Custom"},email:{value:"email",label:"Email"},phone:{value:"phone",label:"Phone"}};function rc(e,t){const{type:n}=e,i=fe(e,["validate"],{}),r=[void 0,ic.custom.value].includes(i.validationType),o=!!fe(e,["validate","pattern"]),l=n=>i=>{const r=fe(e,["validate"],{});t(e,["validate"],pe(r,[n],i))},s=t=>()=>fe(e,["validate",t]);let a=[{id:"required",component:oc,getValue:s,field:e,isEdited:eo,onChange:l,isDefaultVisible:e=>yl.includes(e.type)}];return a.push({id:"validationType",component:pc,getValue:s,field:e,editField:t,isEdited:$o,onChange:l,isDefaultVisible:e=>"textfield"===e.type}),a.push({id:"minLength",component:lc,getValue:s,field:e,isEdited:Vo,onChange:l,isDefaultVisible:e=>yl.includes(e.type)&&("textarea"===n||"textfield"===n&&r)},{id:"maxLength",component:sc,getValue:s,field:e,isEdited:Vo,onChange:l,isDefaultVisible:e=>yl.includes(e.type)&&("textarea"===n||"textfield"===n&&r)}),a.push({id:"pattern",component:ac,getValue:s,field:e,isEdited:$o,onChange:l,isDefaultVisible:e=>yl.includes(e.type)&&"textfield"===n&&r}),a.push({id:"patternErrorMessage",component:cc,getValue:s,field:e,isEdited:$o,onChange:l,isDefaultVisible:e=>yl.includes(e.type)&&"textfield"===n&&r&&o}),a.push({id:"min",component:dc,getValue:s,field:e,isEdited:Vo,onChange:l,isDefaultVisible:e=>"number"===e.type},{id:"max",component:uc,getValue:s,field:e,isEdited:Vo,onChange:l,isDefaultVisible:e=>"number"===e.type}),{id:"validation",label:"Validation",entries:a}}function oc(e){const{field:t,getValue:n,id:i,onChange:r}=e;return Qr({element:t,getValue:n("required"),id:i,label:"Required",setValue:r("required")})}function lc(e){const{field:t,getValue:n,id:i,onChange:r}=e,o=ll("debounce"),l=sl().map((e=>({name:e})));return Lo({debounce:o,element:t,feel:"optional",getValue:n("minLength"),id:i,label:"Minimum length",min:0,setValue:r("minLength"),variables:l})}function sc(e){const{field:t,getValue:n,id:i,onChange:r}=e,o=ll("debounce"),l=sl().map((e=>({name:e})));return Lo({debounce:o,element:t,feel:"optional",getValue:n("maxLength"),id:i,label:"Maximum length",min:0,setValue:r("maxLength"),variables:l})}function ac(e){const{field:t,getValue:n,id:i,onChange:r}=e;return Ao({debounce:ll("debounce"),element:t,getValue:n("pattern"),id:i,label:"Custom regular expression",setValue:r("pattern")})}function cc(e){const{field:t,getValue:n,id:i,onChange:r}=e;return Ao({debounce:ll("debounce"),element:t,getValue:n("patternErrorMessage"),id:i,label:"Custom error message",tooltip:"The error message to display when the input does not match the regular expression.",setValue:r("patternErrorMessage")})}function dc(e){const{field:t,getValue:n,id:i,onChange:r}=e,o=ll("debounce"),l=sl().map((e=>({name:e})));return Lo({debounce:o,element:t,feel:"optional",id:i,label:"Minimum",step:"any",getValue:n("min"),setValue:r("min"),variables:l})}function uc(e){const{field:t,getValue:n,id:i,onChange:r}=e,o=ll("debounce"),l=sl().map((e=>({name:e})));return Lo({debounce:o,element:t,feel:"optional",id:i,label:"Maximum",step:"any",getValue:n("max"),setValue:r("max"),variables:l})}function pc(e){const{field:t,getValue:n,id:i,onChange:r}=e;return ll("debounce"),So({element:t,getValue:n("validationType"),id:i,label:"Validation pattern",setValue:e=>{r("validationType")(e||void 0)},getOptions:()=>Object.values(ic),tooltip:n("validationType")()===ic.phone.value?"The built-in phone validation pattern is based on the E.164 standard with no spaces. Ex: +491234567890":void 0})}function fc(e,t,n){const{type:i}=e,r=n("formFields").get(i).config;if(!Fl.includes(i)&&!function(e){const{propertiesPanelEntries:t=[]}=e;return!!t.length&&t.some((e=>"values"===e))}(r))return[];const o={editField:t,field:e},l="valuesSource",s=[{id:l,label:"Options source",tooltip:'"Static" defines a constant, predefined set of form options.\n\n"Input data" defines options that are populated dynamically, adjusting based on variable data for flexible responses to different conditions or inputs.\n\n"Expression" defines options that are populated from a FEEL expression.',component:Or,entries:Ks({...o,id:l})}],a=(0,K.ef)(e);if(a===K.Qb.INPUT){const e="dynamicOptions";s.push({id:e,label:"Dynamic options",component:Or,entries:Zs({...o,id:e})})}else if(a===K.Qb.STATIC){const e="staticOptions";s.push({id:e,label:"Static options",component:Xr,...Ws({...o,id:e})})}else if(a===K.Qb.EXPRESSION){const e="optionsExpression";s.push({id:e,label:"Options expression",component:Or,entries:ca({...o,id:e})})}return s}function hc(e,t){const{properties:n={},type:i}=e;if("default"===i)return null;const r=e=>t=>{if(t!==e)return"string"!=typeof t||0===t.length?"Must not be empty.":re(n,t)?"Must be unique.":void 0},o=Object.keys(n).map(((i,o)=>{const l=`property-${e.id}-${o}`;return{autoFocusEntry:l+"-key",entries:Ms({editField:t,field:e,idPrefix:l,index:o,validateFactory:r}),id:l,label:i||"",remove:r=>(r.stopPropagation(),t(e,["properties"],function(e,t){return Object.entries(e).reduce(((e,n)=>{const[i,r]=n;return i===t?e:{...e,[i]:r}}),{})}(n,i)))}}));return{add:i=>{i.stopPropagation();let r=Object.keys(n).length+1;for(;`key${r}`in n;)r++;t(e,["properties"],{...n,[`key${r}`]:"value"})},component:Xr,id:"custom-values",items:o,label:"Custom properties",tooltip:"Add properties directly to the form schema, useful to configure functionality in custom-built task applications and form renderers."}}function mc(e,t,n){const i=[...ea({field:e,editField:t}),...Xl({field:e,editField:t}),...oa({field:e,editField:t}),...Xa({field:e,editField:t})];return i.length?{id:"appearance",label:"Appearance",entries:i}:null}function gc(e,t){const{type:n}=e;if("default"===n)return null;const i=[...dl({field:e,editField:t})];return 0===i.length?null:{id:"layout",label:"Layout",entries:i}}function vc(e,t){const{type:n}=e;if("iframe"!==n)return null;const i=function(e){const{editField:t,field:n}=e,i=K.Ci.map((i=>{const{label:r,property:o}=i;return Hl({id:o,label:r,isDefaultVisible:e=>"iframe"===e.type,path:["security",o],props:e,getValue:()=>fe(n,["security",o]),setValue:e=>{const i=fe(n,["security"],{});t(n,["security"],pe(i,[o],e))}})}));return[{component:bc},...i]}({field:e,editField:t});return i.length?{id:"securityAttributes",label:"Security attributes",entries:i,tooltip:(0,he.Y)(he.FK,{children:(0,he.FD)("p",{children:["Allow the iframe to access more functionality of your browser, details regarding the various options can be found in the"," ",(0,he.Y)("a",{target:"_blank",href:"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe",rel:"noreferrer",children:"MDN iFrame documentation."})]})})}:null}const bc=e=>(0,he.Y)("div",{class:"bio-properties-panel-description fjs-properties-panel-detached-description",children:"These options can incur security risks, especially if used in combination with dynamic links. Ensure that you are aware of them, that you trust the source url and only enable what your use case requires."});function yc(e,t){const{type:n}=e;return"default"===n?null:{id:"condition",label:"Condition",entries:[...sa({field:e,editField:t})]}}function Fc(e,t){const{type:n,id:i}=e;if("table"!==n)return[];const r=Q(fe(e,["columns"])),o=[{id:`${i}-columnsSource`,label:"Headers source",tooltip:_c,component:Or,entries:[...La({field:e,editField:t}),...ka({field:e,editField:t})]}];if(r){const n=`${i}-columns`;o.push({id:n,label:"Header items",component:Xr,...Aa({field:e,editField:t,id:n})})}return o}const _c='"List of items" defines a constant, predefined set of form options.\n\n"Expression" defines options that are populated from a FEEL expression.\n';class wc{constructor(e,t){this._injector=t,e.registerProvider(this)}_filterVisibleEntries(e,t,n){return e.forEach((e=>{const{entries:i}=e,{type:r}=t,o=n("formFields").get(r).config;i&&(e.entries=i.filter((e=>{const{isDefaultVisible:n}=e;return!n||n(t)||function(e,t){const{propertiesPanelEntries:n=[]}=e;return!!n.length&&n.some((e=>e===t))}(o,e.id)})))}))}getGroups(e,t){return n=>{if(!e)return n;const i=(e,t=!0)=>this._injector.get(e,t);return n=[...n,ec(e,t,i),...fc(e,t,i),...Fc(e,t),vc(e,t),yc(e,t),gc(e,t),mc(e,t),tc(e,t),nc(e,t),rc(e,t),hc(e,t)].filter((e=>null!=e)),this._filterVisibleEntries(n,e,i),n.filter((e=>e.items||e.entries&&e.entries.length))}}}wc.$inject=["propertiesPanel","injector"];const xc={__depends__:[Wo],__init__:["propertiesPanel","propertiesProvider"],propertiesPanel:["type",il],propertiesProvider:["type",wc]};class Ec extends sr{constructor(e){super(e,"renderInjector"),this._eventBus=e,this.registeredRenderers=[]}attachRenderer(e,t){this.registeredRenderers=[...this.registeredRenderers,{identifier:e,Renderer:t}]}detachRenderer(e){this.registeredRenderers=this.registeredRenderers.filter((t=>t.identifier!==e))}fetchRenderers(){return this.registeredRenderers}}Ec.$inject=["eventBus"];const Lc={__init__:["renderInjector"],renderInjector:["type",Ec]};var Cc;function Yc(){return Yc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Yc.apply(null,arguments)}var Vc=function(e){return me.n("svg",Yc({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),Cc||(Cc=me.n("path",{fill:"currentColor",d:"M3 3h10.086l-1.793-1.793L12 .5l3 3-3 3-.707-.707L13.086 4H3v3.5H2V4a1 1 0 0 1 1-1M4.707 10.207 2.914 12H13V8.5h1V12a1 1 0 0 1-1 1H2.914l1.793 1.793L4 15.5l-3-3 3-3z"})))};class kc{constructor(e,t){this._formFields=e,this._formFieldRegistry=t,this.RepeatFooter=this.RepeatFooter.bind(this)}isFieldRepeating(e){if(!e)return!1;const t=this._formFieldRegistry.get(e);return this._formFields.get(t.type).config.repeatable&&t.isRepeating}RepeatFooter(){return(0,he.FD)("div",{className:"fjs-repeat-render-footer",children:[(0,he.Y)(Vc,{}),(0,he.Y)("span",{children:"Repeatable"})]})}}kc.$inject=["formFields","formFieldRegistry"];const Pc={__init__:["repeatRenderManager"],repeatRenderManager:["type",kc]},Sc=new q.A([32,36,1]);class Dc{constructor(e={}){this.on=this._onEvent,this._id=Sc.next(),this._container=(0,K.q1)(),this._container.setAttribute("tabindex","0");const{container:t,exporter:n,injector:i=this._createInjector(e,this._container),properties:r={}}=e;this.exporter=n,this._state={properties:r,schema:null},this.get=i.get,this.invoke=i.invoke,this.get("eventBus").fire("form.init"),t&&this.attachTo(t)}clear(){this._emit("diagram.clear"),this._emit("form.clear")}destroy(){this.get("eventBus").fire("form.destroy"),this.get("eventBus").fire("diagram.destroy"),this._detach(!1)}importSchema(e){return new Promise(((t,n)=>{try{this.clear();const{schema:n,warnings:i}=this.get("importer").importSchema(e);return this._setState({schema:n}),this._emit("import.done",{warnings:i}),t({warnings:i})}catch(e){return this._emit("import.done",{error:e,warnings:e.warnings||[]}),n(e)}}))}saveSchema(){return this.getSchema()}getSchema(){const{schema:e}=this._getState();return function(e,t,n){const i=t?{exporter:t}:{};return{...(0,K.o8)(e,((e,t)=>{if(!["_parent","_path"].includes(e))return t})),...i,schemaVersion:n}}(e,this.exporter,K.CZ)}attachTo(e){if(!e)throw new Error("parentNode required");this.detach(),ie(e)&&(e=document.querySelector(e));const t=this._container;e.appendChild(t),this._emit("attach")}detach(){this._detach()}_detach(e=!0){const t=this._container,n=t.parentNode;n&&(e&&this._emit("detach"),n.removeChild(t))}setProperty(e,t){const n=pe(this._getState().properties,[e],t);this._setState({properties:n})}off(e,t){this.get("eventBus").off(e,t)}_createInjector(e,t){const{modules:n=this._getModules(),additionalModules:i=[],renderer:r={},...o}=e,l={...o,renderer:{...r,container:t}};return(0,K.J)([{config:["value",l]},{formEditor:["value",this]},ri,...n,...i])}_emit(e,t){this.get("eventBus").fire(e,t)}_getState(){return this._state}_setState(e){this._state={...this._state,...e},this._emit("changed",this._getState())}_getModules(){return[ir,di,Vi,ki,lr,cr,pi,K.Rp,xc,Lc,Pc]}_onEvent(e,t,n){this.get("eventBus").on(e,t,n)}}var jc=n(6953),Rc=n(36744),Ic=n(13313),Tc=n(76820),Bc=n(98720),Oc=n(9714),Ac=n(63960),$c=n(97926);function Mc(e){return(0,o.vJ)((()=>{function t(t){"Escape"===t.key&&(t.stopPropagation(),e.onClose())}return document.addEventListener("keydown",t),()=>{document.removeEventListener("keydown",t)}})),(0,he.FD)("div",{class:"fjs-pgl-modal",children:[(0,he.Y)("div",{class:"fjs-pgl-modal-backdrop",onClick:e.onClose}),(0,he.FD)("div",{class:"fjs-pgl-modal-content",children:[(0,he.Y)("h1",{class:"fjs-pgl-modal-header",children:e.name}),(0,he.Y)("div",{class:"fjs-pgl-modal-body",children:e.children}),(0,he.Y)("div",{class:"fjs-pgl-modal-footer",children:(0,he.Y)("button",{type:"button",class:"fjs-pgl-button fjs-pgl-button-default",onClick:e.onClose,children:"Close"})})]})]})}function Jc(e){const t=Nc(e.schema),n=Nc(e.data||{}),i=(0,o.li)(),r=`\x3c!-- styles needed for rendering --\x3e\n<link rel="stylesheet" href="https://unpkg.com/@bpmn-io/form-js@0.2.4/dist/assets/form-js.css">\n\n\x3c!-- container to render the form into --\x3e\n<div class="fjs-pgl-form-container"></div>\n\n\x3c!-- scripts needed for embedding --\x3e\n<script src="https://unpkg.com/@bpmn-io/form-js@0.2.4/dist/form-viewer.umd.js"><\/script>\n\n\x3c!-- actual script to instantiate the form and load form schema + data --\x3e\n<script>\n  const data = JSON.parse(${n});\n  const schema = JSON.parse(${t});\n\n  const form = new FormViewer.Form({\n    container: document.querySelector(".fjs-pgl-form-container")\n  });\n\n  form.on("submit", (event) => {\n    console.log(event.data, event.errors);\n  });\n\n  form.importSchema(schema, data).catch(err => {\n    console.error("Failed to render form", err);\n  });\n<\/script>\n  `.trim();return(0,o.vJ)((()=>{i.current.select()})),(0,he.FD)(Mc,{name:"Embed form",onClose:e.onClose,children:[(0,he.FD)("p",{children:["Use the following HTML snippet to embed your form with ",(0,he.Y)("a",{href:"https://github.com/bpmn-io/form-js",children:"form-js"}),":"]}),(0,he.Y)("textarea",{spellCheck:"false",ref:i,children:r})]})}function Nc(e){return JSON.stringify(JSON.stringify(e)).replace(/</g,"&lt;").replace(/>/g,"&gt;")}const Hc=Rc.sj.define();function zc(e){const t=e.state.facet(Hc)[0],n=t.map((e=>({displayLabel:`"${e}"`,label:`"${e}": `,type:"variable",apply:(e,t,n,i)=>{const r=e.state.doc,o=r.sliceString(n-1,n),l=r.lineAt(n),s=/^\s*/.exec(l.text)[0],a=t.label;if("{"===o){const t=`\n  ${s}${a},\n`;e.dispatch({changes:{from:n,to:i,insert:t},selection:{anchor:n+t.length-2}})}else if(","===o){const t=`\n${s}${a},`;e.dispatch({changes:{from:n,to:i,insert:t},selection:{anchor:n+t.length-1}})}else{const t=`${a},`;e.dispatch({changes:{from:n,to:i,insert:t},selection:{anchor:n+t.length-1}})}}}))),i=t.map((e=>({label:e,type:"variable"})));let r=[],o=(0,Ac.mv)(e.state).resolve(e.pos,-1),l=e.matchBefore(/\w*/);return["Object","{"].includes(o.type.name)&&(r=n),"PropertyName"===o.type.name&&(e.explicit=!0,r=i),["Property","[","Array"].includes(o.type.name)&&(r=[{label:"true",type:"constant keyword",boost:3},{label:"false",type:"constant keyword",boost:2},{label:"null",type:"constant keyword",boost:1},{displayLabel:"[ .. ]",label:"[  ]",apply:(e,t,n,i)=>{e.dispatch({changes:{from:n,to:i,insert:t.label},selection:{anchor:n+2}})}},{displayLabel:"{ .. }",label:"{  }",apply:(e,t,n,i)=>{e.dispatch({changes:{from:n,to:i,insert:t.label},selection:{anchor:n+2}})}}]),l.from!=l.to||e.explicit?{from:l.from,options:r}:null}const Kc="fjs-cm-no-lint";function qc(e={}){const{contentAttributes:t={},placeholder:n,readonly:i=!1}=e,r=(0,m.A)(),o=(new Rc.xx).of((0,Tc.Pq)()),l=(new Rc.xx).of(Rc.$t.tabSize.of(2)),s=new Rc.xx,a=(0,Ic.bu)((e=>(e.dom.querySelectorAll(".cm-placeholder").length>0?(0,$c.Ly)(c,document.body).add(Kc):(0,$c.Ly)(c,document.body).remove(Kc),[])));let c=null;const d=new Qe.Lz({state:function(e,c=[]){const d=[jc.oQ,o,l,(0,Ic.pJ)(),(0,Ic.bu)((0,Tc.cp)()),a,s.of(Hc.of(c)),[(0,Oc.yU)({override:[zc]})],Qe.w4.of([Bc.Yc]),n?(0,Qe.qf)(n):[],Rc.$t.readOnly.of(i),Qe.Lz.updateListener.of((e=>{e.docChanged&&r.emit("changed",{value:e.state.doc.toString()})})),Qe.Lz.contentAttributes.of(t)];return Rc.$t.create({doc:e,extensions:d})}("")});this.setValue=function(e){const t=function(e,t){if(e===t)return null;e=e||"",t=t||"";let n=Math.min(e.length,t.length),i=0;for(;i<n&&e[i]===t[i];)i++;if(i===n)return{start:i,text:t.slice(i),end:e.length};let r=e.length,o=t.length;for(;r>i&&o>i&&e[r-1]===t[o-1];)r--,o--;return{start:i,text:t.slice(i,o),end:r}}(d.state.doc.toString(),e);t&&d.dispatch({changes:{from:t.start,to:t.end,insert:t.text},selection:{anchor:t.start+t.text.length}})},this.getValue=function(){return d.state.doc.toString()},this.setVariables=function(e){d.dispatch({effects:s.reconfigure(Hc.of(e))})},this.getView=function(){return d},this.on=r.on,this.off=r.off,this.emit=r.emit,this.attachTo=function(e){c=e,c.appendChild(d.dom),(0,$c.Ly)(c,document.body).add("fjs-json-editor")},this.destroy=function(){c&&d.dom&&(c.removeChild(d.dom),(0,$c.Ly)(c,document.body).remove("fjs-json-editor")),d.destroy()}}function Uc(e){const t=Array.isArray(e.children)?e.children:[e.children],{headerItems:n,children:i}=t.reduce(((e,t)=>((t.type===Uc.HeaderItem?e.headerItems:e.children).push(t),e)),{headerItems:[],children:[]});return(0,he.FD)("div",{class:"fjs-pgl-section",children:[(0,he.FD)("h1",{class:"header",children:[e.name," ",n.length?(0,he.Y)("span",{class:"header-items",children:n}):null]}),(0,he.Y)("div",{class:"body",children:i})]})}function Zc(e){const{additionalModules:t,actions:n,emit:i,exporter:r,viewerProperties:l,editorProperties:s,viewerAdditionalModules:a,editorAdditionalModules:c,propertiesPanel:d,apiLinkTarget:u,onInit:p}=e,{display:f=!0}=n||{},h=(0,o.li)(),m=(0,o.li)(),g=(0,o.li)(),v=(0,o.li)(),b=(0,o.li)(),y=(0,o.li)(),F=(0,o.li)(),_=(0,o.li)(),w=(0,o.li)(),x=(0,o.li)(),[E,L]=(0,o.J0)(!1),[C,Y]=(0,o.J0)(),[k,P]=(0,o.J0)(),S=(0,o.hb)(((e,t)=>{F.current.importSchema(e,t),w.current.setValue(Xc(t)),Y(e),P(t)}),[]);(0,o.vJ)((()=>{const e=w.current=new qc({contentAttributes:{"aria-label":"Form Input",tabIndex:0},placeholder:Gc()}),n=x.current=new qc({readonly:!0,contentAttributes:{"aria-label":"Form Output",tabIndex:0}}),o=_.current=new K.lV({container:v.current,additionalModules:[...t||[],...a||[]],properties:{...l||{},ariaLabel:"Form Preview"}}),u=F.current=new Dc({container:h.current,renderer:{compact:!0},palette:{parent:m.current},propertiesPanel:{parent:g.current,...d||{}},exporter:r,properties:{...s||{},ariaLabel:"Form Definition"},additionalModules:[...t||[],...c||[]]});u.on("formField.add",(({formField:e})=>{const t=u.get("formFields"),{config:n}=t.get(e.type),{generateInitialDemoData:i}=n,{id:r}=e;if(!(0,N.Tn)(i))return;const o=i(e);[o,r].includes(void 0)||P((e=>{const t={...e,[r]:o};return w.current.setValue(Xc(t)),t}))})),u.on("changed",(()=>{Y(u.getSchema())})),u.on("formEditor.rendered",(()=>{i("formPlayground.rendered")}));const p=()=>{const e=o._getSubmitData();n.setValue(Xc(e))};return o.on("changed",p),o.on("formFieldInstance.added",p),o.on("formFieldInstance.removed",p),e.on("changed",(e=>{try{P(JSON.parse(e.value))}catch(e){i("formPlayground.inputDataError",e)}})),e.attachTo(b.current),n.attachTo(y.current),()=>{e.destroy(),n.destroy(),o.destroy(),u.destroy()}}),[t,c,s,i,r,d,a,l]),(0,o.vJ)((()=>{e.initialSchema&&S(e.initialSchema,e.initialData||{})}),[e.initialSchema,e.initialData,S]),(0,o.vJ)((()=>{C&&_.current.importSchema(C,k)}),[C,k]),(0,o.vJ)((()=>{if(C&&b.current){const e=(0,K.rt)(C);w.current.setVariables(e)}}),[C]),(0,o.vJ)((()=>{u&&(u.api={attachDataContainer:e=>w.current.attachTo(e),attachResultContainer:e=>x.current.attachTo(e),attachFormContainer:e=>_.current.attachTo(e),attachEditorContainer:e=>F.current.attachTo(e),attachPaletteContainer:e=>F.current.get("palette").attachTo(e),attachPropertiesPanelContainer:e=>F.current.get("propertiesPanel").attachTo(e),get:(e,t)=>F.current.get(e,t),getDataEditor:()=>w.current,getEditor:()=>F.current,getForm:()=>_.current,getResultView:()=>x.current,getSchema:()=>F.current.getSchema(),saveSchema:()=>F.current.saveSchema(),setSchema:Y,setData:P},p())}),[u,p]),(0,o.vJ)((()=>{u&&(u.api.getState=()=>({schema:C,data:k}),u.api.load=S)}),[u,C,k,S]);const D=(0,o.hb)((()=>{z()(JSON.stringify(C,null,"  "),"form.json","text/json")}),[C]),j=(0,o.hb)((()=>{L(!1)}),[]),R=(0,o.hb)((()=>{L(!0)}),[]);return(0,he.FD)("div",{class:V()("fjs-container","fjs-pgl-root"),children:[(0,he.Y)("div",{class:"fjs-pgl-modals",children:E?(0,he.Y)(Jc,{schema:C,data:k,onClose:j}):null}),(0,he.Y)("div",{class:"fjs-pgl-palette-container",ref:m}),(0,he.FD)("div",{class:"fjs-pgl-main",children:[(0,he.FD)(Uc,{name:"Form Definition",children:[f&&(0,he.Y)(Uc.HeaderItem,{children:(0,he.Y)("button",{type:"button",class:"fjs-pgl-button",title:"Download form definition",onClick:D,children:"Download"})}),f&&(0,he.Y)(Uc.HeaderItem,{children:(0,he.Y)("button",{type:"button",class:"fjs-pgl-button",onClick:R,children:"Embed"})}),(0,he.Y)("div",{ref:h,class:"fjs-pgl-form-container"})]}),(0,he.Y)(Uc,{name:"Form Preview",children:(0,he.Y)("div",{ref:v,class:"fjs-pgl-form-container"})}),(0,he.Y)(Uc,{name:"Form Input",children:(0,he.Y)("div",{ref:b,class:"fjs-pgl-text-container"})}),(0,he.Y)(Uc,{name:"Form Output",children:(0,he.Y)("div",{ref:y,class:"fjs-pgl-text-container"})})]}),(0,he.Y)("div",{class:"fjs-pgl-properties-container",ref:g})]})}function Xc(e){return JSON.stringify(e,null,"  ")}function Gc(){const e=document.createElement("p");return e.innerHTML='Use this panel to simulate the form input, such as process variables.\nThis helps to test the form by populating the preview.\n\nFollow the JSON format like this:\n\n{\n  "variable": "value"\n}',e}function Wc(e){const{container:t,schema:n,data:i,...o}=e,l=(0,m.A)(),s=document.createElement("div");s.classList.add("fjs-pgl-parent"),t&&t.appendChild(s);const a=function(e,t){var n,i,r;function o(e){var r,o,l,s,a;e.preventDefault(),r=e.dataTransfer.files,o=M,l=function(r,o){if(r)console.warn("file drop failed",r);else{var l=i.concat([o,e]);t.apply(n,l)}},s=0,a=[],function e(){s===r.length?l(null,a):o(r[s],(function(t,n){if(t)return l(t);a[s]=n,s++,e()}))}()}function l(t){var l,s=(l=arguments,Array.prototype.slice.call(l)),a=s.pop(),c=a.dataTransfer,d=a.currentTarget||a.target;function u(e){var t=e.relatedTarget;d.contains(t)||p()}function p(e){document.removeEventListener("drop",o),document.removeEventListener("drop",p),document.removeEventListener("dragleave",u),document.removeEventListener("dragend",p),document.removeEventListener("dragover",J),r&&(d.removeChild(r),r=null)}(function(e){return e&&e.types&&e.types.includes("Files")})(c)&&(a.preventDefault(),c.dropEffect="copy",r||(r=function(e){var t=$.replace("{label}",e);const n=A(t);return n.style.pointerEvents="none",n}(e),d.appendChild(r),n=this,i=s,d&&(document.addEventListener("drop",o),document.addEventListener("drop",p),document.addEventListener("dragleave",u),document.addEventListener("dragend",p),document.addEventListener("dragover",J))))}return"function"==typeof e&&(t=e,e="Drop files here"),l.onDrop=o,l}("Drop a form file",(function(e){const t=e[0];if(t)try{this.api.setSchema(JSON.parse(t.contents))}catch(e){}})),c=function(e){return function(...t){if(!this.api)throw new Error("Playground is not initialized.");return e(...t)}};s.addEventListener("dragover",a),(0,r.render)((0,he.Y)(Zc,{initialSchema:n,initialData:i,emit:l.emit,apiLinkTarget:this,onInit:function(){l.emit("formPlayground.init")},...o}),s),this.on=l.on,this.off=l.off,this.emit=l.emit,this.on("destroy",(()=>{(0,r.render)(null,s),t.removeChild(s)})),this.destroy=()=>this.emit("destroy"),this.getState=c((()=>this.api.getState())),this.getSchema=c((()=>this.api.getSchema())),this.setSchema=c((e=>this.api.setSchema(e))),this.saveSchema=c((()=>this.api.saveSchema())),this.get=c(((e,t)=>this.api.get(e,t))),this.getDataEditor=c((()=>this.api.getDataEditor())),this.getEditor=c((()=>this.api.getEditor())),this.getForm=c(((e,t)=>this.api.getForm(e,t))),this.getResultView=c((()=>this.api.getResultView())),this.attachEditorContainer=c((e=>this.api.attachEditorContainer(e))),this.attachPreviewContainer=c((e=>this.api.attachFormContainer(e))),this.attachDataContainer=c((e=>this.api.attachDataContainer(e))),this.attachResultContainer=c((e=>this.api.attachResultContainer(e))),this.attachPaletteContainer=c((e=>this.api.attachPaletteContainer(e))),this.attachPropertiesPanelContainer=c((e=>this.api.attachPropertiesPanelContainer(e)))}Uc.HeaderItem=function(e){return e.children};const Qc=()=>{};function ed(e){const{children:t,collapseTo:n,idx:r,onToggle:o,open:l,title:s}=e,a=e=>{e.stopPropagation(),o(l)};return i.qy`
    <div 
      data-idx="${r}" 
      class="${V()("cfp-collapsible-panel",{open:!n||l})}"
    >
      <div onClick="${n?a:Qc}" class="cfp-collapsible-panel-title">
        <h1>${s}</h1>

        ${n&&i.qy`
          <div class="cfp-collapsible-panel-actions">
            <button 
              title="${l?"Close":"Open"} ${s}"
              class="cfp-collapsible-panel-action" 
              onClick="${a}"
            >
              ${function(e,t){return"right"===e?t?i.qy`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" viewBox="0 0 16 16">
        <path fill-rule="evenodd" d="M4.41421356,12.9494942 L3,11.5352806 L6.53553391,7.99974671 L3,4.4642128 L4.41421356,3.04999924 L9.36396103,7.99974671 L4.41421356,12.9494942 Z M9.91421356,3 L11.9142136,3 L11.9142136,13 L9.91421356,13 L9.91421356,3 Z"/>
      </svg>`:i.qy`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" viewBox="0 0 16 16">
        <path fill-rule="evenodd" d="M11.5,12.9494942 L6.55025253,7.99974671 L11.5,3.04999924 L12.9142136,4.4642128 L9.37867966,7.99974671 L12.9142136,11.5352806 L11.5,12.9494942 Z M6,3 L6,13 L4,13 L4,3 L6,3 Z"/>
      </svg>`:"bottom"===e?t?i.qy`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" viewBox="0 0 16 16">
        <path fill-rule="evenodd" d="M12.9494942,4.41421356 L7.99974671,9.36396103 L3.04999924,4.41421356 L4.4642128,3 L7.99974671,6.53553391 L11.5352806,3 L12.9494942,4.41421356 Z M3,9.91421356 L13,9.91421356 L13,11.9142136 L3,11.9142136 L3,9.91421356 Z"/>
      </svg>`:i.qy`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" viewBox="0 0 16 16">
        <path fill-rule="evenodd" d="M12.9494942,11.5 L11.5352806,12.9142136 L7.99974671,9.37867966 L4.4642128,12.9142136 L3.04999924,11.5 L7.99974671,6.55025253 L12.9494942,11.5 Z M3,6 L3,4 L13,4 L13,6 L3,6 Z"/>
      </svg>`:void 0}(n,l)}
            </button>
          </div>
        `}
      </div>

      <div class="cfp-collapsible-panel-content">
        ${t}
      </div>
    </div>
  `}function td(e){const{idx:t,onTogglePreview:n,previewContainerRef:r,open:o}=e,l=()=>{n()};return i.qy`
    <div class="${V()("cfp-collapsed-preview",{visible:!o})}">
      <div class="cfp-collapsed-preview-title" onClick=${l}>
        <h1>Form Preview</h1>
      </div>
      <div class="cfp-collapsed-preview-actions">
        <button title="Open Form Preview" class="cfp-collapsed-preview-action" onClick=${l}>
          <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" viewBox="0 0 16 16">
            <path fill-rule="evenodd" d="M11.5,12.9494942 L6.55025253,7.99974671 L11.5,3.04999924 L12.9142136,4.4642128 L9.37867966,7.99974671 L12.9142136,11.5352806 L11.5,12.9494942 Z M6,3 L6,13 L4,13 L4,3 L6,3 Z"/>
          </svg>    
        </button>
      </div>
    </div>

    <!-- This is not visible when preview not open -->
    <${ed} idx="${t}" open=${o} onToggle=${l} title="Form Preview" collapseTo="right">
      <div class="cfp-preview-container" ref=${r}></div>
    </${ed}>`}const nd=(0,r.createContext)({layout:{},setLayout:()=>{},getLayoutForKey:()=>{},setLayoutForKey:()=>{}}),id={},rd="form-definition",od="form-preview",ld="form-input",sd="form-output",ad=[od,ld,sd],cd=["formPlayground.init","formPlayground.rendered"];function dd(e){const{data:t,emitter:n,layoutConfig:r={},onInit:l,schema:s,...a}=e;let c=(0,o.li)(null);const d=(0,o.li)(null),u=(0,o.li)(null),p=(0,o.li)(null),f=(0,o.li)(null),h=(0,o.li)(null),m=(0,o.li)(null),g=(0,o.li)(null);(0,o.vJ)((()=>{c.current=new Wc({data:t,schema:s,editor:{inlinePropertiesPanel:!1},propertiesPanel:{feelPopupContainer:g.current,getDocumentationRef:ud},...a})}),[]),(0,o.vJ)((()=>{c.current.on("formPlayground.init",(()=>{l({...c.current,collapse:this.collapse,open:this.open,_ref:c.current})}))}),[]),(0,o.vJ)((()=>{const e=(e,t)=>n.emit(e,t);return cd.forEach((t=>{c.current.on(t,(n=>e(t,n)))})),()=>{cd.forEach((t=>{c.current.off(t,(n=>e(t,n)))}))}}),[c]);const[v,_]=(0,o.J0)((x=r,{...id,...x}));var x;const E=(e,t)=>function(e,t,n){let i=e;return w(t,(function(e){if(y(i))return i=void 0,!1;i=i[e]})),b(i)?n:i}(v,e,t),Y={layout:v,setLayout:_,getLayoutForKey:E,setLayoutForKey:(e,t)=>{const n=L({},v);C(n,e,t),_(n)}},k=E([ld,"open"],!1),P=E([sd,"open"],!1),S=E([od,"open"],!1),D=(e,t)=>{let n=L({},v);e||(e=ad),F(e)||(e=[e]),e.map((e=>{C(n,[e,"open"],t)})),_(n)};return(0,o.vJ)((()=>{n.emit("formPlayground.layoutChanged",{layout:v})}),[n,v]),(0,o.vJ)((()=>{const e=c.current;function t(){e.attachPaletteContainer(d.current),e.attachEditorContainer(u.current),e.attachDataContainer(p.current),e.attachPreviewContainer(f.current),e.attachResultContainer(h.current),e.attachPropertiesPanelContainer(m.current)}return e.on("formPlayground.rendered",t),()=>e.off("formPlayground.rendered",t)}),[]),this.open=function(e){D(e,!0)},this.collapse=function(e){return D(e,!1)},(0,o.vJ)((()=>{const e=()=>{const e=c.current.getEditor();e.on("drag.hover",(function(e){const{container:t}=e;(t.classList.contains("fjs-drop-container-horizontal")||t.classList.contains("fjs-drop-container-vertical"))&&g.current&&g.current.classList.add("cfp-dragging")})),e.on("drag.out",(function(e){g.current&&g.current.classList.remove("cfp-dragging")}))},t=c.current;return t&&t.on("formPlayground.rendered",e),()=>{t&&t.off("formPlayground.rendered",e)}})),i.qy`
    <${nd.Provider} value=${Y}>
    <div ref=${g} class="${V()("cfp-root",{"cfp-open-preview":S})}">
      <div class="cfp-palette" ref=${d}></div>
      <div class="cfp-left">
        <${ed} idx="${rd}" title="Form Definition">
          <div class="cfp-editor-container" ref=${u}></div>
        </${ed}>
        <${ed} open=${k} idx="${ld}" title="Form Input" collapseTo="bottom" onToggle=${()=>{k?this.collapse([ld]):this.open([ld])}}>
          <div class="cfp-data-container" ref=${p}></div>
        </${ed}>
      </div>
      <div class="cfp-right">
        <${td} 
          idx=${od}
          open=${S}
          previewContainerRef=${f}
          onTogglePreview="${()=>{S?this.collapse():this.open()}}" 
        />
        <${ed} open=${P} idx="${sd}" title="Form Output" collapseTo="bottom" onToggle=${()=>{P?this.collapse([sd]):this.open([sd])}}>
          <div class="cfp-result-container" ref=${h}></div>
        </${ed}>
      </div>
      <div class="cfp-properties" ref=${m}></div>
    </div>
    </${nd.Provider}>
  `}function ud(e){if(e)return"default"===e.type?"https://docs.camunda.io/docs/components/modeler/forms/camunda-forms-reference/":`https://docs.camunda.io/docs/components/modeler/forms/form-element-library/forms-element-library-${{[K.bY.config.type]:"checkbox-group",[K.mE.config.type]:"document-preview"}[e.type]||e.type}/`}function pd(e){const{container:t,data:n,schema:o,layout:l,...a}=e,c=(0,m.A)(),d=function(e){return function(...t){if(!p)throw new Error("Camunda Form Playground is not initialized.");return e(...t)}},u=this._container=s()('<div class="cfp-container"></div>');let p;t&&t.appendChild(u),this.on=c.on,this.off=c.off,this.fire=c.emit,this.once=function(e,t){c.on(e,t),c.on(e,c.off.bind(c,e,t))},this.destroy=function(){const e=u.parentNode;(0,r.render)(null,u),e&&e.removeChild(u)},this.attachTo=function(e){if(!e)throw new Error("parent required");var t,n;"string"==typeof e&&(t=e,e=(n=n||document).querySelector(t)),this.detach(),e.appendChild(this._container)},this.detach=function(){const e=u.parentNode;e&&e.removeChild(u)},this.get=d(((e,t)=>p.get(e,t))),this.open=d((e=>p.open(e))),this.collapse=d((e=>p.collapse(e))),this.setSchema=d((e=>p.setSchema(e))),this.getSchema=d((()=>p.getSchema())),this.saveSchema=d((()=>p.saveSchema())),this.getDataEditor=d((()=>p.getDataEditor())),this.getEditor=d((()=>p.getEditor())),this.getForm=d(((e,t)=>p.getForm(e,t))),this.getResultView=d((()=>p.getResultView())),this._onInit=function(e){p=e},(0,r.render)(i.qy`
    <${dd}
      data=${n}
      emitter=${c}
      layoutConfig=${l}
      onInit=${this._onInit}
      schema=${o}
      ...${a}
    />
  `,u)}}}]);
//# sourceMappingURL=9061.js.map