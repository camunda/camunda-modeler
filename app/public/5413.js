"use strict";(self.webpackChunkcamunda_modeler_client=self.webpackChunkcamunda_modeler_client||[]).push([[5413],{3164:(e,t,n)=>{function o(e,t,n){function o(e){n.activateMove(e),window.removeEventListener("mousemove",o)}t.register("activateHandtool",(function(){n.isActive()||window.addEventListener("mousemove",o)})),t.register("deactivateHandtool",(function(){window.removeEventListener("mousemove",o),e.cancel()}))}n.d(t,{A:()=>a}),o.$inject=["dragging","editorActions","handTool"];const a={__init__:["handToolOnSpace"],handToolOnSpace:["type",o]}},11876:(e,t,n)=>{function o(e,t,n,o){if(!o)throw new Error("<config.changeTemplateCommand> not provided");const a=e.getAll().reduce(((e,n)=>{const a=t.getDefault(n);if(!a)return e;const i=function(e,t,n){return{cmd:n,context:{element:e,newTemplate:t}}}(n,a,o);return[...e,i]}),[]);0!==a.length&&(n.execute("properties-panel.multi-command-executor",a),n.clear())}n.d(t,{A:()=>o}),o.$inject=["elementRegistry","elementTemplates","commandStack","config.changeTemplateCommand"]},22764:(e,t,n)=>{n.d(t,{r:()=>a});var o=n(13);function a(e){const{defaultCopyCutPaste:t,defaultUndoRedo:n}=e;return[n?(0,o.ce)(!0):(0,o.lP)(e),t?(0,o.Ox)(!0):(0,o.$C)(e),(0,o.Tm)(e),(0,o.Bk)(e),(0,o.en)(e),(0,o.f7)(e),[...(0,o.f9)(e),...(0,o.$v)(e)]]}},23719:(e,t,n)=>{function o(e){return function({copy:e,paste:t}){return[{label:"Copy",accelerator:"CommandOrControl+C",enabled:e,action:"copy"},{label:"Paste",accelerator:"CommandOrControl+V",enabled:t,action:"paste"}]}(e)}n.d(t,{A:()=>o})},23863:(e,t,n)=>{function o(e){e.register({appendElement:function(...t){return e.trigger("appendCreatePad",...t)}})}n.d(t,{S:()=>a}),o.$inject=["editorActions"];const a={__depends__:[n(27616).SE],__init__:["improvedCanvasEditorActionsAdapter"],improvedCanvasEditorActionsAdapter:["type",o]}},27777:(e,t,n)=>{n.d(t,{A:()=>l,y:()=>s});var o=n(34942),a=n.n(o),i=n(60278),r=n.n(i)()(a());r.push([e.id,".Z0fyPOJGjrbaH8vjHGh5 {\n  display: flex;\n  gap: 4px;\n}\n.Z0fyPOJGjrbaH8vjHGh5 button {\n  padding: 0 8px;\n}\n","",{version:3,sources:["webpack://./src/app/status-bar/PanelToggleButtons.less"],names:[],mappings:"AAAA;EACE,aAAA;EACA,QAAA;AACF;AAHA;EAKI,cAAA;AACJ",sourcesContent:[":local(.PanelToggleButtons) {\n  display: flex;\n  gap: 4px;\n\n  button {\n    padding: 0 8px;\n  }\n}\n"],sourceRoot:""}]);var s="Z0fyPOJGjrbaH8vjHGh5";const l=r},28228:(e,t,n)=>{function o(e){return[...a(e),...i(e),...r(e)]}function a({zoom:e}){return e?[{label:"Zoom In",accelerator:"CommandOrControl+=",action:"zoomIn"},{label:"Zoom Out",accelerator:"CommandOrControl+-",action:"zoomOut"},{label:"Zoom to Actual Size",accelerator:"CommandOrControl+0",action:"resetZoom"},{label:"Zoom to Fit Diagram",accelerator:"CommandOrControl+1",action:"zoomFit"},{type:"separator"}]:[]}function i({propertiesPanel:e}){return e?[{label:"Toggle Properties Panel",accelerator:"CommandOrControl+P",action:"toggleProperties"}]:[]}function r({grid:e}){return e?[{label:"Toggle Grid",accelerator:"CommandOrControl+G",action:"toggleGrid"}]:[]}n.d(t,{A:()=>o})},35413:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Re});var o=n(63696),a=n(89068),i=n(36567),r=n(47897),s=n(56991),l=n(29905),c=n(45782),A=n(46165),d=n(99492),p=n(21448),m=n(26272),g=n(45672),u=n(4452),h=n.n(u),b=n(95292),f=n.n(b),y=n(49893),v=n.n(y),E=n(9383),C=n.n(E),x=n(56884),P=n.n(x),k=n(99088),B=n.n(k),T=n(27997),I=n.n(T),w=n(27777),M={};function S(e){const{layout:t,maxSidePanels:n,hideAllPanels:i,onToggleMaxSidePanels:l,onToggleHideAllPanels:c,onTogglePanel:A}=e,d=!1!==t?.variables?.open,p=!1!==t?.propertiesPanel?.open,u=!1!==t?.test?.open;return o.createElement(m.SQ,{slot:"status-bar__app",group:"8_panels"},o.createElement("div",{className:w.y},o.createElement("button",{className:h()("btn",{"btn--active":n}),onClick:l,title:"Maximize all panels"},o.createElement(s.kz,{width:16,height:16})),o.createElement("button",{className:h()("btn",{"btn--active":d&&!i}),onClick:()=>A("variables"),title:"Toggle variables panel",disabled:i},o.createElement(r.O$,{width:16,height:16})),o.createElement("button",{className:h()("btn",{"btn--active":p&&!i}),onClick:()=>A("propertiesPanel"),title:"Toggle properties panel",disabled:i},o.createElement(s.b_,{width:16,height:16})),o.createElement("button",{className:h()("btn",{"btn--active":u&&!i}),onClick:()=>A("test"),title:"Toggle test panel",disabled:i},o.createElement(a.ZQ,{width:16,height:16})),o.createElement("button",{className:h()("btn",{"btn--active":i}),onClick:c,title:i?"Show all panels":"Hide all panels"},o.createElement(g.X0,{width:16,height:16}))))}M.styleTagTransform=I(),M.setAttributes=P(),M.insert=C().bind(null,"head"),M.domAPI=v(),M.insertStyleElement=B(),f()(w.A,M),w.A&&w.A.locals&&w.A.locals;var _=n(99589),L=n.n(_),O=n(21612),z=n(95757),j={};j.styleTagTransform=I(),j.setAttributes=P(),j.insert=C().bind(null,"head"),j.domAPI=v(),j.insertStyleElement=B(),f()(z.A,j),z.A&&z.A.locals&&z.A.locals;var D=n(87989),N=n.n(D),X=n(92346);const U=N()("TaskTestingApi");class R{constructor(e,t,n,o,a){this._deployment=e,this._startInstance=t,this._zeebeApi=n,this._onAction=a,this._tab=o}getApi(){return{deploy:this.deploy.bind(this),startInstance:this.startInstance.bind(this),getProcessInstance:this.getProcessInstance.bind(this),getProcessInstanceVariables:this.getProcessInstanceVariables.bind(this),getProcessInstanceElementInstances:this.getProcessInstanceElementInstances.bind(this),getProcessInstanceIncident:this.getProcessInstanceIncident.bind(this)}}async getDeploymentConfig(){return this._tab?{endpoint:await this._deployment.getConnectionForTab(this._tab),context:"taskTesting"}:{}}async getOperateUrl(){const{endpoint:e}=await this.getDeploymentConfig();if(e){if("camundaCloud"===e.targetType){const{href:t}=(0,X.uD)(e)||{};return t}if("selfHosted"===e.targetType){const{operateUrl:t}=e;return t}}}async deploy(){const e=await this.getDeploymentConfig(),t=await this._onAction("save");if(!t)return{success:!1,error:"Failed to save the file before deployment"};this._deployment.once("deployed",(e=>{this._handleDeployment(e)}));const n=await this._deployment.deploy([{path:t.file.path,type:"bpmn"}],e);return n.success?(U("Deployment successful: ",n),n):(U("Deployment failed: ",n),{success:!1,error:n?.response?.message||"Deployment failed"})}async startInstance(e,t,n){const o=await this.getDeploymentConfig(),a=await this._startInstance.startInstance({...o,processDefinitionKey:e,variables:n,startInstructions:[{elementId:t}],runtimeInstructions:[{type:"TERMINATE_PROCESS_INSTANCE",afterElementId:t}]});return U("Start instance successful: ",a),a}async getProcessInstance(e){const t=await this.getDeploymentConfig();return this._zeebeApi.searchProcessInstances(t,e)}async getProcessInstanceVariables(e){const t=await this.getDeploymentConfig();return this._zeebeApi.searchVariables(t,e)}async getProcessInstanceElementInstances(e){const t=await this.getDeploymentConfig();return this._zeebeApi.searchElementInstances(t,e)}async getProcessInstanceIncident(e){const t=await this.getDeploymentConfig();return this._zeebeApi.searchIncidents(t,e)}_handleDeployment({context:e,deploymentResult:t,endpoint:n}){t.success?this._onAction("emit-event",{type:"deployment.done",payload:{context:e,targetType:n?.targetType}}):this._onAction("emit-event",{type:"deployment.error",payload:{context:e,error:t?.response,targetType:n?.targetType}})}}var W=n(42136),q=n(79130),F={};F.styleTagTransform=I(),F.setAttributes=P(),F.insert=C().bind(null,"head"),F.domAPI=v(),F.insertStyleElement=B(),f()(q.A,F),q.A&&q.A.locals&&q.A.locals;var J=n(34060),V=n(42997);const Z={input:{},output:{}},H="8.8.0",G=`Task testing requires Camunda ${H} or higher`,$=(0,J.h)("https://docs.camunda.io/docs/components/modeler/desktop-modeler/task-testing/");function Q(e){const{config:t,deployment:n,injector:a,file:i,id:r,layout:s={},onAction:l,startInstance:c,zeebeApi:d}=e,{subscribe:p}=o.useContext(V.P),[g,u]=(0,o.useState)(Z),[h,b]=(0,o.useState)(null),f=(0,o.useMemo)((()=>({id:r?.includes("-")?r.split("-")[0]:r,file:i})),[r,i]),y=(0,o.useMemo)((()=>{const e=new R(n,c,d,f,l);return e.getOperateUrl().then(b),e.getApi()}),[d,t,f,l]),v=(0,W.q)(p);(0,o.useEffect)((()=>{(async()=>{const e=await t.getForFile(i,"taskTesting");e&&u(e)})()}),[a]),(0,o.useEffect)((()=>{const e=(0,A.sg)((async e=>{try{await t.setForFile(i,"taskTesting",e)}catch(e){console.error("Failed to save task testing config:",e)}}));return e(g),()=>e.cancel()}),[g]);const E=(0,o.useCallback)((e=>{l("emit-event",{type:"taskTesting.started",payload:{element:e}})}),[l]),C=(0,o.useCallback)(((e,t)=>{l("emit-event",{type:"taskTesting.finished",payload:{element:e,output:t}})}),[l]),x=(0,o.useCallback)((()=>{l("display-notification",{type:"warning",title:"Task testing canceled"})}),[l]),P=(0,o.useCallback)((()=>{l("open-connection-selector")}),[l]),k=function(e){const t=Y(e),n=K(e);return e?.success&&t&&n}(v),B=(0,o.useCallback)((()=>!!k||(P(),!1)),[k,P]),T=function(e){return e&&e.success?Y(e)?K(e)?null:"Execution platform version not supported":"REST connection required":"Couldn't connect to Camunda"}(v),I=function(e){return e&&e.success?Y(e)?K(e)?null:G:"Task testing requires a REST connection to a Camunda 8 cluster. The current connection uses gRPC.":"Configure a REST connection to a Camunda 8 cluster."}(v);return o.createElement(o.Fragment,null,o.createElement(m.SQ,{slot:"sidePanel.test",id:"task-testing",label:"Task testing",layout:s,priority:6},o.createElement("div",{className:q.$},o.createElement(O.A,{injector:a,config:g,isConnectionConfigured:k,onConfigChanged:u,operateBaseUrl:h,onTaskExecutionStarted:E,onTaskExecutionFinished:C,onTaskExecutionInterrupted:x,onTestTask:B,configureConnectionBannerTitle:T,configureConnectionBannerDescription:I,api:y,documentationUrl:$}))))}function Y(e){return"rest"===e?.response?.protocol}function K(e){const t=L().coerce(e?.response?.gatewayVersion||"0");return L().compare(t||"0",H)>=0}var ee=n(42967),te=(n(79373),n(87452)),ne={};function oe(e){const{layout:t={},injector:n,id:a,onAction:i}=e;return o.createElement(o.Fragment,null,o.createElement(m.SQ,{slot:"sidePanel.variables",id:"variable-outline",label:"Variables",layout:t,priority:5},o.createElement("div",{className:"cds--g10",style:{height:"100%"}},o.createElement(ee.A,{injector:n,key:a}))))}ne.styleTagTransform=I(),ne.setAttributes=P(),ne.insert=C().bind(null,"head"),ne.domAPI=v(),ne.insertStyleElement=B(),f()(te.A,ne),te.A&&te.A.locals&&te.A.locals;var ae=n(55243),ie=n(49281),re=n(76566);const se={clipboard:["value",new(n(62639).A)]};var le=n(3164),ce=n(23395),Ae=n(30939),de=n(66778),pe=n(57834),me=n(40802),ge=n(42371),ue=n(56927),he=n(65321),be=n(8493),fe=n(23863),ye=n(63417);class ve extends ae.A{constructor(e={}){let{additionalModules:t=[],moddleExtensions:n={},settings:o,...a}=e;o.get("app.newContextPad")&&(t=[...t,{__depends__:[fe.S],resourceLinkingContextPadProvider:["value",null],resourceLinkingRules:["value",null],showComments:["value",null]}]),super({...a,additionalModules:t,moddleExtensions:n,disableAdjustOrigin:ye.Ay.get(ye.Uo),canvas:{autoFocus:!0}})}}const Ee=ae.A.prototype._modules;ve.prototype._modules=[...Ee,ie.A,re.A,se,le.A,ce.A,Ae.A,de.A,pe.A,me.A,ge.A,ue.A,he.A,be.A];var Ce=n(2249),xe=n(23719),Pe=n(22764),ke=n(28228),Be=n(42888),Te={};Te.styleTagTransform=I(),Te.setAttributes=P(),Te.insert=C().bind(null,"head"),Te.domAPI=v(),Te.insertStyleElement=B(),f()(Be.Ay,Te),Be.Ay&&Be.Ay.locals&&Be.Ay.locals;var Ie=n(63062),we=n(11876),Me=n(81993),Se=n(32901),_e=n(32133),Le=n(45369),Oe=n(82665),ze=n(30006);const je=["png","jpeg","svg"],De={executionPlatform:Oe.ug.CLOUD};class Ne extends d.OB{constructor(e){super(e),this.state={},this.ref=o.createRef(),this.propertiesPanelRef=o.createRef(),this.handleEngineProfileChangeDebounced=(0,A.sg)(this.handleEngineProfileChange),this.engineProfile=new Le.A({get:()=>{const e=this.getModeler().getDefinitions();return(0,_e.FX)(e,De)},set:e=>{const t=this.getModeler(),n=t.get("canvas"),o=t.get("modeling"),a=t.getDefinitions(),{executionPlatform:i,executionPlatformVersion:r}=e;o.updateModdleProperties(n.getRootElement(),a,{"modeler:executionPlatform":i,"modeler:executionPlatformVersion":r}),this.props.onAction("emit-event",{type:"tab.engineProfileChanged",payload:{executionPlatform:i,executionPlatformVersion:r}})},getCached:()=>this.getCached(),setCached:({engineProfile:e})=>{this.handleEngineProfileChangeDebounced({engineProfile:e}),this.setCached({engineProfile:e})}}),this.handleResize=(0,A.sg)(this.handleResize),this.handleLintingDebounced=(0,A.sg)(this.handleLinting.bind(this)),this.handlePropertiesPanelLayoutChange=this.handlePropertiesPanelLayoutChange.bind(this),this.handleLayoutChange=this.handleLayoutChange.bind(this)}async componentDidMount(){this._isMounted=!0;const{layout:e}=this.props,t=this.getModeler();this.listen("on"),t.attachTo(this.ref.current),t.get("minimap").toggle(!0===e.minimap?.open),t.get("grid").toggle(!1!==e.grid?.visible);const n=t.get("propertiesPanel");e.propertiesPanel&&n.setLayout(e.propertiesPanel),n.attachTo(this.propertiesPanelRef.current);try{await this.loadTemplates()}catch(e){this.handleError({error:e})}this.checkImport()}componentWillUnmount(){this._isMounted=!1;const e=this.getModeler();this.listen("off"),e.detach(),e.get("propertiesPanel").detach()}componentDidUpdate(e){this.checkImport(e),function(e,t){return e.cachedState!==t.cachedState}(e,this.props)&&this.handleChanged(),e.linting!==this.props.linting&&this.getModeler().get("linting").setErrors(this.props.linting||[]),e.file!==this.props.file&&this.loadTemplates();const{layout:t={}}=this.props,{panel:n={}}=t;n.open&&"linting"===n.tab?this.getModeler().get("linting").activate():n.open&&"linting"===n.tab||this.getModeler().get("linting").deactivate(),function(e,t){return t.layout!==e.layout&&(!t.layout||!e.layout||JSON.stringify(e.layout.propertiesPanel)!==JSON.stringify(t.layout.propertiesPanel))}(e,this.props)&&this.getModeler().get("propertiesPanel").setLayout(this.props.layout.propertiesPanel),function(e,t){return t.layout?.grid?.visible!==e.layout?.grid?.visible}(e,this.props)&&this.getModeler().get("grid").toggle(!1!==this.props.layout?.grid?.visible)}listen(e){const t=this.getModeler();t[e]("attach",this.handleAttach),["import.done","saveXML.done","commandStack.changed","selection.changed","attach","elements.copied","propertiesPanel.focusin","propertiesPanel.focusout","canvas.focus.changed"].forEach((n=>{t[e](n,this.handleChanged)})),t[e]("elementTemplates.errors",this.handleElementTemplateErrors),t[e]("error",1500,this.handleError),t[e]("minimap.toggle",this.handleMinimapToggle),t[e]("propertiesPanel.layoutChanged",this.handlePropertiesPanelLayoutChange),"on"===e?t[e]("commandStack.changed",500,this.handleLintingDebounced):"off"===e&&t[e]("commandStack.changed",this.handleLintingDebounced)}handlePropertiesPanelLayoutChange(e){this.handleLayoutChange({propertiesPanel:e.layout})}handleEngineProfileChange=({engineProfile:e})=>{const{executionPlatformVersion:t}=e;if(!t)return;const n=this.getModeler().get("elementTemplates"),o={...n.getEngines(),camunda:t};n.setEngines(o)};async loadTemplates(){const{getConfig:e}=this.props,t=this.getModeler().get("elementTemplatesLoader");let n=await e("bpmn.elementTemplates");t.setTemplates((0,ze.h)(n))}undo=()=>{this.getModeler().get("commandStack").undo()};redo=()=>{this.getModeler().get("commandStack").redo()};handleAlignElements=e=>{this.triggerAction("alignElements",{type:e})};handleMinimapToggle=e=>{this.handleLayoutChange({minimap:{open:e.open}})};handleElementTemplateErrors=e=>{const{onWarning:t}=this.props,{errors:n}=e;n.forEach((e=>{t({message:e.message})}))};handleAttach=e=>{this.getModeler().get("canvas").focus()};handleError=e=>{const{error:t}=e,{onError:n}=this.props;n(t)};handleImport=(e,t)=>{const{isNew:n,onImport:o,xml:a}=this.props;let{defaultTemplatesApplied:i}=this.getCached();const r=this.getModeler(),s=r.get("commandStack")._stackIdx;let l=null;if(!e)try{l=this.engineProfile.get(!0)}catch(t){e=t}if(!e&&n&&!i)try{r.invoke(we.A),i=!0}catch(t){e=t}if(e)this.setCached({defaultTemplatesApplied:!1,engineProfile:null,lastXML:null});else if(this.setCached({defaultTemplatesApplied:i,engineProfile:l,lastXML:a,stackIdx:s}),l){const{executionPlatform:e,executionPlatformVersion:t}=l;this.props.onAction("emit-event",{type:"tab.engineProfileChanged",payload:{executionPlatform:e,executionPlatformVersion:t}})}if(!e)try{this.handleLinting()}catch(t){e=t}this.setState({importing:!1}),o(e,t)};handleChanged=()=>{const e=this.getModeler(),{onChanged:t}=this.props,n=this.isDirty(),o=e.get("commandStack"),a=e.get("selection").get().length,i=(0,Ce.v)(),r=e.get("canvas").isFocused(),s={align:a>1,appendElement:r,canvasFocused:r,close:!0,copy:!!a,cut:!1,duplicate:r&&!!a,createElement:r,defaultCopyCutPaste:!r,defaultUndoRedo:!r,dirty:n,distribute:a>2,editLabel:r&&1===a,exportAs:je,find:r,globalConnectTool:r,handTool:r,inputActive:i,lassoTool:r,moveCanvas:r,moveToOrigin:r,moveSelection:r&&!!a,paste:!0,platform:"cloud",propertiesPanel:!0,grid:!0,redo:r&&o.canRedo(),removeSelected:r&&!!a,replaceElement:r&&1==a,save:!0,selectAll:r||i,setColor:!!a,spaceTool:r,undo:r&&o.canUndo(),zoom:!0,bpmn:!0,editable:!0};s.elementsSelected=!!a,s.inactiveInput=!i;const c=(0,xe.A)(s),A=(0,Pe.r)(s),d=(0,ke.A)(s);(0,l.Tn)(t)&&t({...s,contextMenu:c,editMenu:A,windowMenu:d}),this.setState(s);try{const e=this.engineProfile.get();this.engineProfile.setCached(e)}catch(e){}};handleLinting=()=>{const{engineProfile:e,modeler:t}=this.getCached();if(!e)return;const n=t.getDefinitions(),{onAction:o}=this.props;o("lint-tab",{contents:n})};isLintingActive=()=>this.getModeler().get("linting").isActive();isDirty(){const{modeler:e,stackIdx:t}=this.getCached();return e.get("commandStack")._stackIdx!==t}checkImport(e){if(!this.isImportNeeded(e))return;const{xml:t}=this.props;this.importXML(t)}isImportNeeded(e){const{importing:t}=this.state;if(t)return!1;const{xml:n}=this.props;if(e&&e.xml===n)return!1;const{lastXML:o}=this.getCached();return n!==o}async importXML(e){this.setState({importing:!0});const t=this.getModeler();let n=null,o=null;try{o=(await t.importXML(e)).warnings}catch(e){n=e,o=e.warnings}this._isMounted&&this.handleImport(n,o)}getModeler(){const{modeler:e}=this.getCached();return e}async getXML(){const{lastXML:e,modeler:t}=this.getCached(),n=t.get("commandStack");if(!this.isDirty())return e||this.props.xml;try{const{xml:e}=await t.saveXML({format:!0}),o=n._stackIdx;return this.setCached({lastXML:e,stackIdx:o}),e}catch(e){return this.handleError({error:e}),Promise.reject(e)}}async exportAs(e){let t;try{t=await this.exportSVG()}catch(e){return this.handleError({error:e}),Promise.reject(e)}return"svg"===e?t:(0,Ie.A)(e,t)}async exportSVG(){const e=this.getModeler();try{const{svg:t}=await e.saveSVG();return t}catch(e){return Promise.reject(e)}}triggerAction=(e,t={})=>{const{layout:n={}}=this.props,{propertiesPanel:o={}}=n,a=this.getModeler();if("resize"===e)return this.handleResize();if("toggleGrid"===e){const e={grid:{visible:!1===n.grid?.visible}};return this.handleLayoutChange(e)}if("toggleProperties"===e){const e={propertiesPanel:{...p.zR,...o,open:!o.open}};return this.handleLayoutChange(e)}if("zoomIn"===e&&(e="stepZoom",t={value:1}),"zoomOut"===e&&(e="stepZoom",t={value:-1}),"resetZoom"===e&&(e="zoom",t={value:1}),"zoomFit"===e&&(e="zoom",t={value:"fit-viewport"}),"showLintError"!==e)return"elementTemplates.reload"===e?this.loadTemplates():"resources.reload"===e?a.get("resources.resourceLoader").reload():a.get("editorActions").trigger(e,t);this.getModeler().get("linting").showError(t)};handleSetColor=(e,t)=>{this.triggerAction("setColor",{fill:e,stroke:t})};handleDistributeElements=e=>{this.triggerAction("distributeElements",{type:e})};handleContextMenu=e=>{const{onContextMenu:t}=this.props;(0,l.Tn)(t)&&t(e)};handleLayoutChange(e){const{onLayoutChanged:t}=this.props;(0,l.Tn)(t)&&t(e)}handleResize=()=>{const e=this.getModeler(),t=e.get("canvas"),n=e.get("eventBus");t.resized(),n.fire("propertiesPanel.resized")};toggleMaxSidePanels=()=>{this.setState({maxSidePanels:!this.state.maxSidePanels,hideAllPanels:!1})};toggleHideAllPanels=()=>{this.setState({hideAllPanels:!this.state.hideAllPanels,maxSidePanels:!1})};togglePanel=e=>{const t=!1!==this.props.layout?.[e]?.open;this.handleLayoutChange({[e]:{...this.props.layout?.[e],open:!t}})};render(){const e=this.engineProfile.getCached(),{layout:t,onAction:n}=this.props,l=this.getModeler(),A=l.getDefinitions(),d=l.get("injector"),{importing:g,maxSidePanels:u,hideAllPanels:b}=this.state;return o.createElement("div",{className:Be.j$},o.createElement(c.aH,{hidden:A&&!g}),o.createElement("div",{className:"editor"},u&&o.createElement("div",{className:"canvas-restore-bar",onClick:this.toggleMaxSidePanels,role:"button",tabIndex:0},o.createElement(a.c_,{width:16,height:16}),o.createElement("span",{className:"title"},"Diagram"),o.createElement("span",{className:"icon"},o.createElement(i.nl,null))),o.createElement("div",{className:"diagram",style:{display:u?"none":"block"},ref:this.ref,onFocus:this.handleChanged,onContextMenu:this.handleContextMenu}),o.createElement(p.Ay,{className:h()({hidden:b}),title:"Variables",icon:o.createElement(r.O$,null),minWidth:200,maxWidth:600,layout:t,layoutKey:"variables",maxSidePanels:u,hideAllPanels:b,onLayoutChanged:this.handleLayoutChange},o.createElement(m.DX,{name:"sidePanel.variables"})),o.createElement(p.Ay,{className:h()({hidden:b}),title:"Properties",icon:o.createElement(s.b_,null),minWidth:200,maxWidth:600,ref:this.propertiesPanelRef,layout:t,layoutKey:"propertiesPanel",maxSidePanels:u,hideAllPanels:b,onLayoutChanged:this.handleLayoutChange}),o.createElement(p.Ay,{className:h()({hidden:b}),title:"Test",icon:o.createElement(a.ZQ,null),minWidth:200,maxWidth:600,layout:t,layoutKey:"test",maxSidePanels:u,hideAllPanels:b,onLayoutChanged:this.handleLayoutChange},o.createElement(m.DX,{name:"sidePanel.test"}))),e&&o.createElement(_e.Si,{type:"bpmn",engineProfile:e,onChange:e=>this.engineProfile.set(e)}),o.createElement(Q,{config:this.props.config,deployment:this.props.deployment,file:this.props.file,id:this.props.id,injector:d,layout:t,onAction:n,startInstance:this.props.startInstance,zeebeApi:this.props.zeebeApi}),o.createElement(oe,{id:this.props.id,injector:d,layout:t,onAction:n}),o.createElement(S,{layout:t,maxSidePanels:u,hideAllPanels:b,onToggleMaxSidePanels:this.toggleMaxSidePanels,onToggleHideAllPanels:this.toggleHideAllPanels,onTogglePanel:this.togglePanel}))}static createCachedState(e){const{name:t,version:n}=Se.A,{getPlugins:o,onAction:a,onError:i,layout:r={},settings:s}=e,{options:c,warnings:A}=(0,Me.A)(o,{exporter:{name:t,version:n},settings:s},(e=>{a("emit-event",{type:"bpmn.modeler.configure",payload:{middlewares:e}})}),"cloud");A.length&&(0,l.Tn)(i)&&i("Problem(s) configuring BPMN editor: \n\t"+A.map((e=>e.message)).join("\n\t")+"\n");const d=new ve({...c,position:"absolute",changeTemplateCommand:"propertiesPanel.zeebe.changeTemplate",linting:{active:r.panel&&r.panel.open&&"linting"===r.panel.tab},propertiesPanel:{feelTooltipContainer:".editor",feelPopupContainer:".bjs-container",layout:r.propertiesPanel},elementTemplateChooser:!1,keyboard:{bind:!1},elementTemplates:{engines:{camundaDesktopModeler:n}}});d.on("elementTemplates.errors",(e=>{console.warn("Element templates errors",e.errors)}));const p=d.get("commandStack")._stackIdx;return a("emit-event",{type:"bpmn.modeler.created",payload:{modeler:d}}),{__destroy:()=>{d.destroy()},engineProfile:null,lastXML:null,modeler:d,stackIdx:p,templatesLoaded:!1}}}const Xe=(0,d.rx)((0,d.cP)(Ne));var Ue=n(53620);const Re=(0,n(32528).a)("CloudBpmnTab",[{type:"cloud-bpmn",editor:Xe,defaultName:"Diagram (Camunda Cloud)"},{type:"xml",editor:Ue.A,isFallback:!0,defaultName:"XML"}])},42888:(e,t,n)=>{n.d(t,{Ay:()=>l,j$:()=>s});var o=n(34942),a=n.n(o),i=n(60278),r=n.n(i)()(a());r.push([e.id,".u9fybB05qfEWyUPOr1rX {\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  /* @camunda/improved-canvas restets */\n}\n.u9fybB05qfEWyUPOr1rX .editor {\n  flex: 1;\n  display: flex;\n  flex-direction: row;\n}\n.u9fybB05qfEWyUPOr1rX .editor .diagram {\n  flex: 1;\n  position: relative;\n}\n.u9fybB05qfEWyUPOr1rX .bjs-container {\n  --bjs-font-family: var(--font-family);\n}\n.u9fybB05qfEWyUPOr1rX .djs-container.bio-improved-canvas {\n  background-color: var(--color-white);\n}\n.u9fybB05qfEWyUPOr1rX .bio-improved-canvas defs pattern circle {\n  fill: #ccc !important;\n}\n.u9fybB05qfEWyUPOr1rX .djs-minimap .toggle {\n  color: var(--color-grey-225-10-35);\n}\n.u9fybB05qfEWyUPOr1rX .djs-minimap .toggle:hover {\n  color: var(--color-blue-205-100-45);\n}\n.u9fybB05qfEWyUPOr1rX .djs-minimap:not(.open) .toggle:before {\n  content: '\\f278';\n  font-family: 'app';\n  font-size: 20px;\n}\n.u9fybB05qfEWyUPOr1rX .djs-minimap.open .toggle {\n  padding: 3px 5px;\n  margin-right: 4px;\n  line-height: 24px;\n  text-align: right;\n  opacity: 0.5;\n}\n.u9fybB05qfEWyUPOr1rX .djs-minimap.open .toggle:before {\n  content: '\\e80a';\n  font-family: 'app';\n  font-size: 14px;\n}\n.u9fybB05qfEWyUPOr1rX .djs-minimap.open .toggle:hover {\n  opacity: 1;\n}\n.u9fybB05qfEWyUPOr1rX .djs-minimap.open .viewport-dom {\n  border-color: var(--color-blue-205-100-50);\n}\n.u9fybB05qfEWyUPOr1rX .side-panel-buttons {\n  width: 0;\n  position: relative;\n}\n.u9fybB05qfEWyUPOr1rX .side-panel-buttons .side-panel-buttons-inner {\n  position: absolute;\n  top: 12px;\n  right: 12px;\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n.u9fybB05qfEWyUPOr1rX .side-panel-buttons .side-panel-buttons-inner .side-panel-button {\n  width: 24px;\n  height: 24px;\n  padding: 0;\n  background-color: var(--color-grey-225-10-95);\n  border: solid 1px var(--color-grey-225-10-75);\n  border-radius: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n}\n.u9fybB05qfEWyUPOr1rX .side-panel-buttons .side-panel-buttons-inner .side-panel-button:hover {\n  background-color: var(--color-grey-225-10-75);\n}\n.u9fybB05qfEWyUPOr1rX .canvas-restore-bar {\n  width: 48px;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: flex-start;\n  gap: 16px;\n  background-color: var(--color-grey-225-10-95);\n  padding-top: 16px;\n  user-select: none;\n  cursor: pointer;\n}\n.u9fybB05qfEWyUPOr1rX .canvas-restore-bar:hover {\n  background-color: var(--color-grey-225-10-85);\n}\n.u9fybB05qfEWyUPOr1rX .canvas-restore-bar .title {\n  writing-mode: vertical-rl;\n  transform: rotate(180deg);\n}\n.Ex0suYZSIicyi5ZdpZBa {\n  border: solid 1px var(--color-grey-225-10-15);\n  margin: 4px;\n  width: 64px;\n  height: 16px;\n}\n","",{version:3,sources:["webpack://./src/app/tabs/cloud-bpmn/BpmnEditor.less"],names:[],mappings:"AAAA;EACE,aAAA;EACA,OAAA;EAEA,sBAAA;EAAA,qCAAqC;AACvC;AALA;EAOI,OAAA;EAEA,aAAA;EACA,mBAAA;AAAJ;AAVA;EAaM,OAAA;EACA,kBAAA;AAAN;AAdA;EAmBI,qCAAA;AAFJ;AAjBA;EAwBI,oCAAA;AAJJ;AApBA;EA4BI,qBAAA;AALJ;AAvBA;EAkCM,kCAAA;AARN;AA1BA;EAsCM,mCAAA;AATN;AAYI;EACE,gBAAA;EACA,kBAAA;EACA,eAAA;AAVN;AAaI;EAEI,gBAAA;EACA,iBAAA;EAEA,iBAAA;EACA,iBAAA;EAEA,YAAA;AAdR;AAMI;EAYI,gBAAA;EACA,kBAAA;EACA,eAAA;AAfR;AACI;EAkBI,UAAA;AAhBR;AAFI;EAsBI,0CAAA;AAjBR;AApDA;EA2EI,QAAA;EACA,kBAAA;AApBJ;AAxDA;EA+EM,kBAAA;EACA,SAAA;EACA,WAAA;EACA,aAAA;EACA,sBAAA;EACA,QAAA;AApBN;AAhEA;EAuFQ,WAAA;EACA,YAAA;EACA,UAAA;EACA,6CAAA;EACA,6CAAA;EACA,gBAAA;EACA,aAAA;EACA,mBAAA;EACA,uBAAA;EACA,eAAA;AApBR;AAsBQ;EACE,6CAAA;AApBV;AA/EA;EA0GI,WAAA;EAEA,kBAAA;EACA,aAAA;EACA,sBAAA;EACA,mBAAA;EACA,2BAAA;EACA,SAAA;EACA,6CAAA;EACA,iBAAA;EACA,iBAAA;EACA,eAAA;AAzBJ;AA2BI;EACE,6CAAA;AAzBN;AA/FA;EA4HM,yBAAA;EACA,yBAAA;AA1BN;AA+BA;EACE,6CAAA;EACA,WAAA;EACA,WAAA;EACA,YAAA;AA7BF",sourcesContent:[":local(.BpmnEditor) {\n  display: flex;\n  flex: 1;\n\n  flex-direction: column;\n\n  .editor {\n    flex: 1;\n\n    display: flex;\n    flex-direction: row;\n\n    .diagram {\n      flex: 1;\n      position: relative;\n    }\n  }\n\n  .bjs-container {\n    --bjs-font-family: var(--font-family);\n  }\n\n  /* @camunda/improved-canvas restets */\n  .djs-container.bio-improved-canvas {\n    background-color: var(--color-white);\n  }\n\n  .bio-improved-canvas defs pattern circle {\n    fill: #ccc !important;\n  }\n\n  .djs-minimap {\n\n    .toggle {\n      color: var(--color-grey-225-10-35);\n    }\n\n    .toggle:hover {\n      color: var(--color-blue-205-100-45);\n    }\n\n    &:not(.open) .toggle:before {\n      content: '\\f278';\n      font-family: 'app';\n      font-size: 20px;\n    }\n\n    &.open {\n      .toggle {\n        padding: 3px 5px;\n        margin-right: 4px;\n\n        line-height: 24px;\n        text-align: right;\n\n        opacity: 0.5;\n      }\n\n      .toggle:before {\n        content: '\\e80a';\n        font-family: 'app';\n        font-size: 14px;\n      }\n\n      .toggle:hover {\n        opacity: 1;\n      }\n\n      .viewport-dom {\n        border-color: var(--color-blue-205-100-50);\n      }\n    }\n  }\n\n  .side-panel-buttons {\n    width: 0;\n    position: relative;\n\n    .side-panel-buttons-inner {\n      position: absolute;\n      top: 12px;\n      right: 12px;\n      display: flex;\n      flex-direction: column;\n      gap: 8px;\n\n      .side-panel-button {\n        width: 24px;\n        height: 24px;\n        padding: 0;\n        background-color: var(--color-grey-225-10-95);\n        border: solid 1px var(--color-grey-225-10-75);\n        border-radius: 0;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        cursor: pointer;\n\n        &:hover {\n          background-color: var(--color-grey-225-10-75);\n        }\n      }\n    }\n  }\n\n  .canvas-restore-bar {\n    width: 48px;\n    background-color: var(--color-grey-225-10-95);\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: flex-start;\n    gap: 16px;\n    background-color: var(--color-grey-225-10-95);\n    padding-top: 16px;\n    user-select: none;\n    cursor: pointer;\n\n    &:hover {\n      background-color: var(--color-grey-225-10-85);\n    }\n\n    .title {\n      writing-mode: vertical-rl;\n      transform: rotate(180deg);\n    }\n  }\n}\n\n:local(.Color) {\n  border: solid 1px var(--color-grey-225-10-15);\n  margin: 4px;\n  width: 64px;\n  height: 16px;\n}\n"],sourceRoot:""}]);var s="u9fybB05qfEWyUPOr1rX";const l=r},79130:(e,t,n)=>{n.d(t,{$:()=>s,A:()=>l});var o=n(34942),a=n.n(o),i=n(60278),r=n.n(i)()(a());r.push([e.id,".LCC9qw34kmvjA46V8ZlU {\n  height: 100%;\n}\n.LCC9qw34kmvjA46V8ZlU .code__editor * {\n  user-select: text;\n}\n","",{version:3,sources:["webpack://./src/app/panel/tabs/task-testing/TaskTestingTab.less"],names:[],mappings:"AAAA;EACE,YAAA;AACF;AAFA;EAII,iBAAA;AACJ",sourcesContent:[":local(.TaskTestingTab) {\n  height: 100%;\n\n  .code__editor * {\n    user-select: text;\n  }\n}\n"],sourceRoot:""}]);var s="LCC9qw34kmvjA46V8ZlU";const l=r},81993:(e,t,n)=>{function o(e,t={},n,o){const a=[];function i(e){"string"==typeof e&&(e=new Error(e)),a.push(e)}const r=e("bpmn.modeler.configure").map((e=>function(t,n){try{const o=e(t,n);return o||n("bpmn.modeler.configure does not return options"),o||t}catch(e){n(e)}return t})),s=[function(t){const n=[...e("bpmn.modeler.additionalModules"),...o?e("bpmn."+o+".modeler.additionalModules"):[]];return n.length?{...t,additionalModules:[...t.additionalModules||[],...n]}:t},function(t,n){var a=e("bpmn.modeler.moddleExtension");o&&(a=a.concat(e("bpmn."+o+".modeler.moddleExtension")));const i=a.reduce(((e,t)=>{let{name:o}=t;return"string"!=typeof o?(n("A bpmn moddle extension plugin is missing a <name> property"),e):(o in(e=e||{})&&n("A bpmn moddle extension with name <"+o+"> was overriden due to a clash"),{...e,[o]:t})}),t.moddleExtensions);return i?{...t,moddleExtensions:i}:t},...r];"function"==typeof n&&n(s);let l={...t};return s.forEach((e=>{l=e(l,i)})),{options:l,warnings:a}}n.d(t,{A:()=>o})},87452:(e,t,n)=>{n.d(t,{A:()=>s});var o=n(34942),a=n.n(o),i=n(60278),r=n.n(i)()(a());r.push([e.id,".bio-vo-tab-content .bio-vo-label {\n  font-size: 14px !important;\n}\n.bio-vo-tab-content .bio-vo-search .cds--search-input,\n.bio-vo-tab-content .bio-vo-search .cds--search-close {\n  block-size: 2rem !important;\n}\n.bio-vo-tab-content .bio-vo-search .cds--search-close:before {\n  block-size: calc(100% - 2.5px) !important;\n  inset-block-start: 1.5px !important;\n}\n.bio-vo-tab-content .bio-vo-empty-search h3 {\n  font-size: 14px !important;\n  font-weight: bold !important;\n  margin-bottom: 7px !important;\n}\n.bio-vo-tab-content .bio-vo-empty-search p {\n  font-size: 14px !important;\n}\n.bio-vo-tab-content .bio-vo-search-container,\n.bio-vo-tab-content .bio-vo-search-container > * + * {\n  border-color: var(--color-grey-225-10-75) !important;\n}\n.bio-vo-tab-content .bio-vo-tab-coloumn {\n  display: flex !important;\n}\n.bio-vo-tab-content .bio-vo-tab-coloumn .bio-vo-element-list {\n  overflow: auto;\n}\n.bio-vo-tab-content .bio-vo-tab-coloumn .bio-vo-element-list,\n.bio-vo-tab-content .bio-vo-tab-coloumn .bio-vo-variable-table {\n  flex-grow: 1;\n}\n.bio-vo-tab-content .bio-vo-variable-table {\n  border-left: none !important;\n  border-right: none !important;\n}\n.bio-vo-tab-content .bio-vo-tab-coloumn:has(.bio-vo-variable-table),\n.bio-vo-tab-content .bio-vo-tab-coloumn:has(.bio-vo-empty-search) {\n  border-left: 1px solid var(--color-grey-225-10-75) !important;\n}\n.bio-vo-tab-content .bio-vo-empty-search {\n  align-self: center !important;\n  margin: auto !important;\n  padding: 0 !important;\n}\n.bio-vo-tab-content th,\n.bio-vo-tab-content tr {\n  block-size: 2rem !important;\n}\n.bio-vo-tab-content th .cds--table-sort__flex,\n.bio-vo-tab-content tr .cds--table-sort__flex {\n  min-block-size: 2rem !important;\n}\n.bio-vo-tab-content tr:last-child td {\n  border-block-end: none !important;\n}\n.bio-vo-tab-content .cds--popover {\n  z-index: 100000 !important;\n}\n","",{version:3,sources:["webpack://./src/app/panel/tabs/variable-outline/VariableOutlineTab.less"],names:[],mappings:"AAAA;EAEI,0BAAA;AAAJ;AAFA;;EAOI,2BAAA;AADJ;AANA;EAWI,yCAAA;EACA,mCAAA;AAFJ;AAVA;EAiBM,0BAAA;EACA,4BAAA;EACA,6BAAA;AAJN;AAfA;EAuBM,0BAAA;AALN;AAlBA;;EA6BI,oDAAA;AAPJ;AAtBA;EAiCI,wBAAA;AARJ;AAzBA;EAoCM,cAAA;AARN;AA5BA;;EAyCM,YAAA;AATN;AAhCA;EA8CI,4BAAA;EACA,6BAAA;AAXJ;AApCA;;EAoDI,6DAAA;AAZJ;AAxCA;EAwDI,6BAAA;EACA,uBAAA;EACA,qBAAA;AAbJ;AA7CA;;EA+DI,2BAAA;AAdJ;AAjDA;;EAkEM,+BAAA;AAbN;AArDA;EAuEI,iCAAA;AAfJ;AAxDA;EA2EI,0BAAA;AAhBJ",sourcesContent:[".bio-vo-tab-content {\n  .bio-vo-label {\n    font-size: 14px !important;\n  }\n\n  .bio-vo-search .cds--search-input,\n  .bio-vo-search .cds--search-close {\n    block-size: 2rem !important;\n  }\n\n  .bio-vo-search .cds--search-close:before {\n    block-size: calc(100% - 2.5px) !important;\n    inset-block-start: 1.5px !important;\n  }\n\n  .bio-vo-empty-search {\n    h3 {\n      font-size: 14px !important;\n      font-weight: bold !important;\n      margin-bottom: 7px !important;\n    }\n\n    p {\n      font-size: 14px !important;\n    }\n  }\n\n  .bio-vo-search-container,\n  .bio-vo-search-container>*+* {\n    border-color: var(--color-grey-225-10-75) !important;\n  }\n\n  .bio-vo-tab-coloumn {\n    display: flex !important;\n\n    .bio-vo-element-list {\n      overflow: auto;\n    }\n\n    .bio-vo-element-list,\n    .bio-vo-variable-table {\n      flex-grow: 1;\n    }\n  }\n\n  .bio-vo-variable-table {\n    border-left: none !important;\n    border-right: none !important;\n  }\n\n  .bio-vo-tab-coloumn:has(.bio-vo-variable-table),\n  .bio-vo-tab-coloumn:has(.bio-vo-empty-search) {\n    border-left: 1px solid var(--color-grey-225-10-75) !important;\n  }\n\n  .bio-vo-empty-search {\n    align-self: center !important;\n    margin: auto !important;\n    padding: 0 !important;\n  }\n\n  th,\n  tr {\n    block-size: 2rem !important;\n\n    .cds--table-sort__flex {\n      min-block-size: 2rem !important;\n    }\n  }\n\n  tr:last-child td {\n    border-block-end: none !important;\n  }\n\n  .cds--popover {\n    z-index: 100000 !important;\n  }\n}"],sourceRoot:""}]);const s=r},95757:(e,t,n)=>{n.d(t,{A:()=>s});var o=n(34942),a=n.n(o),i=n(60278),r=n.n(i)()(a());r.push([e.id,".ViOAsGwFVefv6cBj0_CR.btn {\n  display: flex;\n  align-items: center;\n}\n","",{version:3,sources:["webpack://./src/app/panel/tabs/task-testing/TaskTestingStatusBarItem.less"],names:[],mappings:"AACE;EACE,aAAA;EACA,mBAAA;AAAJ",sourcesContent:[":local(.TestStatusBarItem) {\n  &.btn {\n    display: flex;\n    align-items: center;\n  }\n}\n"],sourceRoot:""}]);const s=r}}]);
//# sourceMappingURL=5413.js.map