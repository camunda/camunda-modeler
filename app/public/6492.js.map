{"version":3,"file":"6492.js","mappings":"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","sources":["webpack://camunda-modeler-client/../node_modules/camunda-bpmn-js-behaviors/lib/camunda-platform/CopyPasteBehavior.js","webpack://camunda-modeler-client/../node_modules/camunda-bpmn-js-behaviors/lib/camunda-platform/CopyPasteRootElementBehavior.js","webpack://camunda-modeler-client/../node_modules/camunda-bpmn-js-behaviors/lib/camunda-platform/DeleteErrorEventDefinitionBehavior.js","webpack://camunda-modeler-client/../node_modules/camunda-bpmn-js-behaviors/lib/camunda-platform/DeleteRetryTimeCycleBehavior.js","webpack://camunda-modeler-client/../node_modules/camunda-bpmn-js-behaviors/lib/camunda-platform/OrderExtensionElementsBehavior.js","webpack://camunda-modeler-client/../node_modules/camunda-bpmn-js-behaviors/lib/camunda-platform/RemoveInitiatorBehaviour.js","webpack://camunda-modeler-client/../node_modules/camunda-bpmn-js-behaviors/lib/camunda-platform/RemoveVariableEventBehaviour.js","webpack://camunda-modeler-client/../node_modules/camunda-bpmn-js-behaviors/lib/camunda-platform/UpdateCamundaExclusiveBehavior.js","webpack://camunda-modeler-client/../node_modules/camunda-bpmn-js-behaviors/lib/camunda-platform/UpdateInputOutputBehavior.js","webpack://camunda-modeler-client/../node_modules/camunda-bpmn-js-behaviors/lib/camunda-platform/util/InputOutputUtil.js","webpack://camunda-modeler-client/../node_modules/camunda-bpmn-js-behaviors/lib/camunda-platform/UpdateResultVariableBehavior.js","webpack://camunda-modeler-client/../node_modules/camunda-bpmn-js-behaviors/lib/camunda-platform/UserTaskFormsBehavior.js","webpack://camunda-modeler-client/../node_modules/camunda-bpmn-js-behaviors/lib/camunda-platform/UserTaskGeneratedFormsBehavior.js","webpack://camunda-modeler-client/../node_modules/camunda-bpmn-js-behaviors/lib/camunda-platform/index.js","webpack://camunda-modeler-client/../node_modules/camunda-bpmn-js/lib/camunda-platform/util/commonModules.js","webpack://camunda-modeler-client/../node_modules/camunda-bpmn-js/lib/camunda-platform/Modeler.js"],"sourcesContent":["import {\n  is,\n  isAny\n} from 'bpmn-js/lib/util/ModelUtil';\n\nimport {\n  isObject,\n  some\n} from 'min-dash';\n\nconst WILDCARD = '*';\n\n\nexport default class CopyPasteBehavior {\n  constructor(eventBus) {\n    eventBus.on('moddleCopy.canCopyProperty', (context) => {\n      const {\n        parent,\n        property\n      } = context;\n\n      return this.canCopyProperty(property, parent);\n    });\n  }\n\n  /**\n   * Check wether to disallow copying property.\n   */\n  canCopyProperty(property, parent) {\n\n    // (1) check wether property is allowed in parent\n    if (isObject(property) && !isAllowedInParent(property, parent)) {\n\n      return false;\n    }\n\n    // (2) check more complex scenarios\n    if (is(property, 'camunda:InputOutput') && !this.canHostInputOutput(parent)) {\n      return false;\n    }\n\n    if (isAny(property, [ 'camunda:Connector', 'camunda:Field' ]) && !this.canHostConnector(parent)) {\n      return false;\n    }\n\n    if (is(property, 'camunda:In') && !this.canHostIn(parent)) {\n      return false;\n    }\n  }\n\n  canHostInputOutput(parent) {\n\n    // allowed in camunda:Connector\n    const connector = getParent(parent, 'camunda:Connector');\n\n    if (connector) {\n      return true;\n    }\n\n    // special rules inside bpmn:FlowNode\n    const flowNode = getParent(parent, 'bpmn:FlowNode');\n\n    if (!flowNode) {\n      return false;\n    }\n\n    if (isAny(flowNode, [ 'bpmn:StartEvent', 'bpmn:Gateway', 'bpmn:BoundaryEvent' ])) {\n      return false;\n    }\n\n    if (is(flowNode, 'bpmn:SubProcess') && flowNode.get('triggeredByEvent')) {\n      return false;\n    }\n\n    return true;\n  }\n\n  canHostConnector(parent) {\n    const serviceTaskLike = getParent(parent, 'camunda:ServiceTaskLike');\n\n    if (is(serviceTaskLike, 'bpmn:MessageEventDefinition')) {\n\n      // only allow on throw and end events\n      return (\n        getParent(parent, 'bpmn:IntermediateThrowEvent')\n        || getParent(parent, 'bpmn:EndEvent')\n      );\n    }\n\n    return true;\n  }\n\n  canHostIn(parent) {\n    const callActivity = getParent(parent, 'bpmn:CallActivity');\n\n    if (callActivity) {\n      return true;\n    }\n\n    const signalEventDefinition = getParent(parent, 'bpmn:SignalEventDefinition');\n\n    if (signalEventDefinition) {\n\n      // only allow on throw and end events\n      return (\n        getParent(parent, 'bpmn:IntermediateThrowEvent')\n        || getParent(parent, 'bpmn:EndEvent')\n      );\n    }\n\n    return true;\n  }\n}\n\nCopyPasteBehavior.$inject = [ 'eventBus' ];\n\n\n// helpers //////////\n\nfunction getParent(element, type) {\n  if (!type) {\n    return element.$parent;\n  }\n\n  if (is(element, type)) {\n    return element;\n  }\n\n  if (!element.$parent) {\n    return;\n  }\n\n  return getParent(element.$parent, type);\n}\n\nfunction isAllowedInParent(property, parent) {\n\n  // (1) find property descriptor\n  var descriptor = property.$type && property.$model.getTypeDescriptor(property.$type);\n\n  var allowedIn = descriptor && descriptor.meta && descriptor.meta.allowedIn;\n\n  if (!allowedIn || isWildcard(allowedIn)) {\n    return true;\n  }\n\n  // (2) check wether property has parent of allowed type\n  return some(allowedIn, function(type) {\n    return getParent(parent, type);\n  });\n}\n\nfunction isWildcard(allowedIn) {\n  return allowedIn.includes(WILDCARD);\n}","import {\n  find,\n  matchPattern\n} from 'min-dash';\n\nimport CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\n\nimport {\n  add as collectionAdd,\n  remove as collectionRemove\n} from 'diagram-js/lib/util/Collections';\n\nimport {\n  getBusinessObject,\n  is\n} from 'bpmn-js/lib/util/ModelUtil';\n\n\nconst LOW_PRIORITY = 500;\n\n\n/**\n * Add referenced root elements (bpmn:Error) if they don't exist.\n * Copy referenced root elements on copy & paste.\n */\nexport default class CopyPasteRootElementBehavior extends CommandInterceptor {\n  constructor(bpmnFactory, bpmnjs, eventBus, moddleCopy) {\n    super(eventBus);\n\n    function hasRootElement(rootElement) {\n      const definitions = bpmnjs.getDefinitions(),\n            rootElements = definitions.get('rootElements');\n\n      return !!find(rootElements, matchPattern({ id: rootElement.get('id') }));\n    }\n\n    // create shape\n    this.executed('shape.create', (context) => {\n      const { shape } = context;\n\n      const businessObject = getBusinessObject(shape);\n\n      if (!canHaveNestedRootElementReference(businessObject)) {\n        return;\n      }\n\n      const referencedRootElements = getRootElements(businessObject, getReferencingElement(shape)),\n            rootElements = bpmnjs.getDefinitions().get('rootElements');\n\n      context.addedRootElements = [];\n\n      referencedRootElements.forEach((reference) => {\n        const { referencedElement } = reference;\n\n        if (referencedElement && !hasRootElement(referencedElement)) {\n\n          // add root element\n          collectionAdd(rootElements, referencedElement);\n\n          context.addedRootElements.push(referencedElement);\n        }\n      });\n    }, true);\n\n    this.reverted('shape.create', (context) => {\n      const { addedRootElements } = context;\n\n      if (!addedRootElements) {\n        return;\n      }\n\n      const rootElements = bpmnjs.getDefinitions().get('rootElements');\n\n      // remove root elements\n      addedRootElements.forEach((addedRootElement) => {\n        collectionRemove(rootElements, addedRootElement);\n      });\n    }, true);\n\n    eventBus.on('copyPaste.copyElement', function(context) {\n      const {\n        descriptor,\n        element\n      } = context;\n\n      const businessObject = getBusinessObject(element);\n\n      if (element.labelTarget || !canHaveNestedRootElementReference(businessObject)) {\n        return;\n      }\n\n      const rootElements = getRootElements(businessObject, getReferencingElement(element));\n\n      if (rootElements) {\n        descriptor.referencedRootElements = rootElements;\n      }\n    });\n\n    eventBus.on('copyPaste.pasteElement', LOW_PRIORITY, (context) => {\n      const { descriptor } = context;\n\n      const {\n        businessObject,\n        referencedRootElements\n      } = descriptor;\n\n      if (!referencedRootElements) {\n        return;\n      }\n\n      referencedRootElements.forEach((reference) => {\n        let {\n          idx,\n          referencedElement\n        } = reference;\n\n        if (!referencedElement) {\n          return;\n        }\n\n        if (!hasRootElement(referencedElement)) {\n          referencedElement = moddleCopy.copyElement(\n            referencedElement,\n            bpmnFactory.create(referencedElement.$type)\n          );\n        }\n\n        setRootElement(businessObject, referencedElement, idx);\n      });\n\n      delete descriptor.referencedRootElements;\n    });\n  }\n}\n\nCopyPasteRootElementBehavior.$inject = [\n  'bpmnFactory',\n  'bpmnjs',\n  'eventBus',\n  'moddleCopy'\n];\n\n\n// helpers //////////\n\nfunction getReferencingElement(element) {\n  if (is(element, 'bpmn:ServiceTask')) {\n    return 'camunda:ErrorEventDefinition';\n  }\n}\n\nfunction getRootElementReferencePropertyName(bo) {\n  if (is(bo, 'camunda:ErrorEventDefinition')) {\n    return 'errorRef';\n  }\n}\n\nfunction canHaveNestedRootElementReference(businessObject) {\n  return is(businessObject, 'bpmn:ServiceTask') && businessObject.get('type') === 'external';\n}\n\n/**\n * Retrieves a list of to-be copied references for the extension elements\n * of a given element in the following form.\n *\n * [\n *  {\n *    idx: 0, // position of extension in the list of extension elements\n *    referencedElement: {ModdleElement} // reference to root element\n *  }\n * ]\n *\n *\n * @param {ModdleElement} businessObject\n * @param {String} extensionElementType\n *\n * @returns {Array}\n */\nfunction getRootElements(businessObject, extensionElementType) {\n  const extensionElements = businessObject.get('extensionElements');\n\n  if (!extensionElements) {\n    return [];\n  }\n\n  return extensionElements\n    .get('values')\n    .filter((element) => is(element, extensionElementType))\n    .reduce((result, element) => {\n      const referencedElement = element.get(getRootElementReferencePropertyName(element));\n\n      if (referencedElement) {\n        result.push({\n          idx: getExtensionElementId(businessObject, element),\n          referencedElement\n        });\n      }\n\n      return result;\n    }, []);\n}\n\nfunction setRootElement(businessObject, rootElement, index) {\n  const extensionElement = businessObject.get('extensionElements').get('values')[ index ];\n\n  extensionElement.set(getRootElementReferencePropertyName(extensionElement), rootElement);\n}\n\nfunction getExtensionElementId(businessObject, extensionElement) {\n  const extensionElements = businessObject.get('extensionElements');\n\n  if (!extensionElements) {\n    return -1;\n  }\n\n  return extensionElements.get('values').indexOf(extensionElement);\n}\n","import CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\n\nimport {\n  getBusinessObject,\n  is\n} from 'bpmn-js/lib/util/ModelUtil';\n\nimport {\n  getExtensionElementsList,\n  removeExtensionElements\n} from '../util/ExtensionElementsUtil';\n\nconst HIGH_PRIORITY = 5000;\n\n\n/**\n * Camunda BPMN specific behavior ensuring camunda:ErrorEventDefinition extension elements are removed\n * if type of e.g. bpmn:ServiceTask is set to something other than external.\n */\nexport default class DeleteErrorEventDefinitionBehavior extends CommandInterceptor {\n  constructor(commandStack, eventBus) {\n    super(eventBus);\n\n    this.postExecute([\n      'element.updateProperties',\n      'element.updateModdleProperties'\n    ], HIGH_PRIORITY, function(context) {\n      const {\n        element,\n        moddleElement,\n        properties\n      } = context;\n\n      const businessObject = moddleElement || getBusinessObject(element);\n\n      if (is(element, 'camunda:ExternalCapable')\n        && is(businessObject, 'camunda:ExternalCapable')\n        && properties[ 'camunda:type' ] !== 'external'\n      ) {\n        const errorEventDefinitions = getExtensionElementsList(businessObject, 'camunda:ErrorEventDefinition');\n\n        if (errorEventDefinitions.length) {\n          removeExtensionElements(element, businessObject, errorEventDefinitions, commandStack);\n        }\n      }\n    }, true);\n\n  }\n}\n\nDeleteErrorEventDefinitionBehavior.$inject = [\n  'commandStack',\n  'eventBus'\n];","import {\n  getBusinessObject,\n  is\n} from 'bpmn-js/lib/util/ModelUtil';\n\nimport CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\n\nimport {\n  getExtensionElementsList,\n  removeExtensionElements\n} from '../util/ExtensionElementsUtil';\n\nconst HIGH_PRIORITY = 5000;\n\n\n/**\n * Camunda BPMN specific behavior ensuring camunda:FailedJobRetryTimeCycle is\n * removed when both camunda:asyncAfter and camunda:asyncBefore set to false.\n * Doesn't apply if element has bpmn:TimerEventDefinition.\n */\nexport default class DeleteRetryTimeCycleBehavior extends CommandInterceptor {\n  constructor(commandStack, eventBus) {\n    super(eventBus);\n\n    this.postExecute([\n      'element.updateProperties',\n      'element.updateModdleProperties'\n    ], HIGH_PRIORITY, function(context) {\n      const {\n        element,\n        moddleElement,\n        properties = {}\n      } = context;\n\n      const asyncAfter = properties[ 'camunda:asyncAfter' ],\n            asyncBefore = properties[ 'camunda:asyncBefore' ];\n\n      const businessObject = moddleElement || getBusinessObject(element);\n\n      const failedJobRetryTimeCycle = getFailedJobRetryTimeCycle(element);\n\n      if (\n        !is(element, 'camunda:AsyncCapable')\n        || !is(businessObject, 'camunda:AsyncCapable')\n        || (asyncAfter !== false && asyncBefore !== false)\n        || !failedJobRetryTimeCycle\n        || getTimerEventDefinition(element)\n        || isAsyncBefore(businessObject)\n        || isAsyncAfter(businessObject)\n      ) {\n        return;\n      }\n\n      removeExtensionElements(element, businessObject, failedJobRetryTimeCycle, commandStack);\n    }, true);\n\n  }\n}\n\nDeleteRetryTimeCycleBehavior.$inject = [\n  'commandStack',\n  'eventBus'\n];\n\n\n// helpers //////////\n\nfunction isAsyncBefore(businessObject) {\n  return !!(businessObject.get('camunda:asyncBefore') || businessObject.get('camunda:async'));\n}\n\nfunction isAsyncAfter(businessObject) {\n  return !!businessObject.get('camunda:asyncAfter');\n}\n\nfunction getFailedJobRetryTimeCycle(element) {\n  return getExtensionElementsList(element, 'camunda:FailedJobRetryTimeCycle')[ 0 ];\n}\n\nfunction getTimerEventDefinition(element) {\n  return getEventDefinition(element, 'bpmn:TimerEventDefinition');\n}\n\nfunction getEventDefinition(element, type) {\n  const businessObject = getBusinessObject(element);\n\n  const eventDefinitions = businessObject.get('eventDefinitions');\n\n  if (!eventDefinitions || !eventDefinitions.length) {\n    return;\n  }\n\n  return eventDefinitions.find((eventDefinition) => {\n    return is(eventDefinition, type);\n  });\n}\n","import { is } from 'bpmn-js/lib/util/ModelUtil';\n\nimport {\n  getExtensionElementsList\n} from '../util/ExtensionElementsUtil';\n\nimport CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\n\nconst LOW_PRIORITY = 250;\n\n/**\n * For specified BPMN elements, ensure that the `<bpmn:extensionElements>`\n * are kept in the specific order.\n */\nexport default class OrderExtensionElementsBehavior extends CommandInterceptor {\n  constructor(eventBus, modeling) {\n    super(eventBus);\n    this._modeling = modeling;\n\n    this.postExecuted([\n      'element.updateProperties',\n      'element.updateModdleProperties'\n    ], LOW_PRIORITY, (context) => {\n\n      const element = context.shape || context.newShape || context.element;\n\n      if (is(element, 'bpmn:CallActivity')) {\n        this.orderCallActivityExtensionElements(element);\n      }\n    }, true);\n  }\n\n  orderCallActivityExtensionElements(element) {\n\n    const extensionElements = element.businessObject.get('extensionElements');\n\n    if (!extensionElements) {\n      return;\n    }\n\n    const { input, output, rest } = getExtensionElementsList(element)\n      .reduce((acc, element) => {\n        if (is(element, 'camunda:In')) {\n          acc.input.push(element);\n        } else if (is(element, 'camunda:Out')) {\n          acc.output.push(element);\n        } else {\n          acc.rest.push(element);\n        }\n        return acc;\n      }, { input: [], output: [], rest: [] });\n\n\n    shiftVariablesToFront(input);\n    shiftVariablesToFront(output);\n\n    const values = [\n      ...input,\n      ...output,\n      ...rest\n    ];\n\n    const oldValues = extensionElements.get('values');\n    if (JSON.stringify(oldValues) === JSON.stringify(values)) {\n      return;\n    }\n\n    this._modeling.updateModdleProperties(\n      element,\n      extensionElements,\n      { values }\n    );\n  }\n}\n\nOrderExtensionElementsBehavior.$inject = [\n  'eventBus',\n  'modeling'\n];\n\n/**\n * If the array contains an object with `variables` property,\n * move it to the front.\n *\n * @param {Array<Object>} array\n */\nfunction shiftVariablesToFront(array) {\n\n  const variablesIndex = array.findIndex(item => !!item.variables);\n\n  if (variablesIndex > 0) {\n    const variablesItem = array.splice(variablesIndex, 1)[0];\n    array.unshift(variablesItem);\n  }\n}","import { isDefined } from 'min-dash';\n\nimport CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\n\nimport {\n  getBusinessObject,\n  is\n} from 'bpmn-js/lib/util/ModelUtil';\n\n\n/**\n * Camunda BPMN specific behavior ensuring camunda:initiator property is removed\n * when start event is created in or moved to sub process.\n */\nexport default class RemoveInitiatorBehaviour extends CommandInterceptor {\n  constructor(eventBus, modeling) {\n    super(eventBus);\n\n    this.postExecuted([ 'shape.create','shape.move' ], (context) => {\n      const {\n        shape,\n        parent,\n        newParent = parent\n      } = context;\n\n      const businessObject = getBusinessObject(shape);\n\n      if (is(shape, 'bpmn:StartEvent') && isDefined(businessObject.get('camunda:initiator'))) {\n        if ((is(newParent || parent, 'bpmn:SubProcess'))) {\n          modeling.updateProperties(shape, { 'camunda:initiator': undefined });\n        }\n      }\n    }, true);\n  }\n}\n\nRemoveInitiatorBehaviour.$inject = [\n  'eventBus',\n  'modeling'\n];","import CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\n\nimport {\n  getBusinessObject,\n  is\n} from 'bpmn-js/lib/util/ModelUtil';\n\n\n/**\n * Camunda BPMN specific behavior ensuring camunda:variableEvents property is\n * removed when start event is moved out of event sub process.\n */\nexport default class RemoveVariableEventBehaviour extends CommandInterceptor {\n  constructor(bpmnFactory, eventBus, moddleCopy, modeling) {\n    super(eventBus);\n\n    this.postExecuted([ 'shape.create', 'shape.move' ], (context) => {\n      const {\n        parent,\n        newParent = parent,\n        shape\n      } = context;\n\n      const newParentBusinessObject = getBusinessObject(newParent),\n            shapeBusinessObject = getBusinessObject(shape);\n\n      if (is(shape, 'bpmn:StartEvent')) {\n\n        if (!(is(newParent, 'bpmn:SubProcess') && newParentBusinessObject.get('triggeredByEvent'))) {\n          const eventDefinitions = shapeBusinessObject.get('eventDefinitions').slice();\n\n          const update = eventDefinitions.reduce((update, eventDefinition, index) => {\n            if (!is(eventDefinition, 'bpmn:ConditionalEventDefinition')) {\n              return;\n            }\n\n            if (eventDefinition.get('camunda:variableEvents')) {\n              const conditionalEventDefinition = bpmnFactory.create('bpmn:ConditionalEventDefinition');\n\n              moddleCopy.copyElement(eventDefinition, conditionalEventDefinition);\n\n              conditionalEventDefinition.$parent = eventDefinition.$parent;\n\n              // remove camunda:variableEvents property\n              conditionalEventDefinition.variableEvents = undefined;\n\n              eventDefinitions[ index ] = conditionalEventDefinition;\n\n              return true;\n            }\n\n            return update;\n          }, false);\n\n          if (update) {\n            modeling.updateProperties(shape, {\n              eventDefinitions: eventDefinitions\n            });\n          }\n        }\n      }\n    }, true);\n  }\n}\n\nRemoveVariableEventBehaviour.$inject = [\n  'bpmnFactory',\n  'eventBus',\n  'moddleCopy',\n  'modeling'\n];","import {\n  getBusinessObject,\n  is\n} from 'bpmn-js/lib/util/ModelUtil';\n\nimport CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\n\nconst HIGH_PRIORITY = 5000;\n\n\n/**\n * Camunda BPMN specific behavior ensuring camunda:exclusive is set to true if\n * camunda:asyncBefore or camunda:asyncAfter is set to false.\n */\nexport default class UpdateCamundaExclusiveBehavior extends CommandInterceptor {\n  constructor(eventBus) {\n    super(eventBus);\n\n    this.preExecute([\n      'element.updateProperties',\n      'element.updateModdleProperties',\n    ], HIGH_PRIORITY, function(context) {\n      const {\n        element,\n        moddleElement,\n        properties = {}\n      } = context;\n\n      const businessObject = moddleElement || getBusinessObject(element);\n\n      const asyncAfter = properties[ 'camunda:asyncAfter' ],\n            asyncBefore = properties[ 'camunda:asyncBefore' ];\n\n      if (!is(element, 'camunda:AsyncCapable')\n        || !is(businessObject, 'camunda:AsyncCapable')\n        || (asyncAfter !== false && asyncBefore !== false)\n        || isExclusive(businessObject)\n        || (isAsyncAfter(businessObject) && asyncAfter !== false)\n        || (isAsyncBefore(businessObject) && asyncBefore !== false)\n        || (asyncAfter === true || asyncBefore === true)\n      ) {\n        return;\n      }\n\n      properties[ 'camunda:exclusive' ] = true;\n    }, true);\n\n  }\n}\n\nUpdateCamundaExclusiveBehavior.$inject = [\n  'eventBus'\n];\n\n\n// helpers //////////\n\nfunction isAsyncBefore(businessObject) {\n  return !!(businessObject.get('camunda:asyncBefore') || businessObject.get('camunda:async'));\n}\n\nfunction isAsyncAfter(businessObject) {\n  return !!businessObject.get('camunda:asyncAfter');\n}\n\nfunction isExclusive(businessObject) {\n  return !!businessObject.get('camunda:exclusive');\n}\n","import {\n  getBusinessObject,\n  is\n} from 'bpmn-js/lib/util/ModelUtil';\n\nimport { isInputOutputEmpty } from './util/InputOutputUtil';\n\nimport {\n  removeExtensionElements\n} from '../util/ExtensionElementsUtil';\n\nimport CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\n\nconst LOW_PRIORITY = 250;\n\n\n/**\n * Camunda BPMN specific behavior ensuring empty camunda:InputOutput is removed.\n */\nexport default class UpdateInputOutputBehavior extends CommandInterceptor {\n  constructor(commandStack, eventBus) {\n    super(eventBus);\n\n    this.postExecuted('element.updateModdleProperties', LOW_PRIORITY, function(context) {\n      const {\n        element,\n        moddleElement\n      } = context;\n\n      if (!is(moddleElement, 'camunda:InputOutput')) {\n        return;\n      }\n\n      if (isInputOutputEmpty(moddleElement)) {\n        removeExtensionElements(element, getBusinessObject(element), moddleElement, commandStack);\n      }\n    }, true);\n  }\n}\n\nUpdateInputOutputBehavior.$inject = [\n  'commandStack',\n  'eventBus'\n];","import { is } from 'bpmn-js/lib/util/ModelUtil';\n\n\nexport function getInputOutput(businessObject) {\n  const extensionElements = businessObject.get('extensionElements');\n\n  if (!extensionElements) {\n    return;\n  }\n\n  return extensionElements.get('values').find((value) => {\n    return is(value, 'camunda:InputOutput');\n  });\n}\n\nexport function getInputParameters(inputOutput) {\n  return inputOutput.get('inputParameters');\n}\n\nexport function getOutputParameters(inputOutput) {\n  return inputOutput.get('outputParameters');\n}\n\nexport function isInputOutputEmpty(inputOutput) {\n  const inputParameters = getInputParameters(inputOutput);\n  const outputParameters = getOutputParameters(inputOutput);\n\n  return !inputParameters.length && !outputParameters.length;\n}","import {\n  getBusinessObject,\n  is\n} from 'bpmn-js/lib/util/ModelUtil';\n\nimport CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\n\nimport { has } from 'min-dash';\n\nconst HIGH_PRIORITY = 5000;\n\n\n/**\n * Camunda BPMN specific camunda:resultVariable behavior ensuring\n * camunda:mapDecisionResult is removed when camunda:resultVariable is removed.\n */\nexport default class UpdateResultVariableBehavior extends CommandInterceptor {\n  constructor(eventBus) {\n    super(eventBus);\n\n    this.preExecute([\n      'element.updateProperties',\n      'element.updateModdleProperties'\n    ], HIGH_PRIORITY, function(context) {\n      const {\n        element,\n        moddleElement,\n        properties\n      } = context;\n\n      const businessObject = moddleElement || getBusinessObject(element);\n\n      if (\n        is(element, 'camunda:DmnCapable')\n        && is(businessObject, 'camunda:DmnCapable')\n        && has(properties, 'camunda:resultVariable')\n        && isEmpty(properties[ 'camunda:resultVariable' ])\n      ) {\n        properties[ 'camunda:mapDecisionResult' ] = undefined;\n      }\n    }, true);\n\n  }\n}\n\nUpdateResultVariableBehavior.$inject = [\n  'eventBus'\n];\n\n// helpers //////////\n\nfunction isEmpty(value) {\n  return value == undefined || value === '';\n}","import { getBusinessObject } from 'bpmn-js/lib/util/ModelUtil';\n\nimport CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\n\nimport {\n  has,\n  isUndefined\n} from 'min-dash';\n\n\n/**\n * Camunda BPMN specific user task forms behavior.\n */\nexport default class UserTaskFormsBehavior extends CommandInterceptor {\n  constructor(eventBus) {\n    super(eventBus);\n\n    /**\n     * Ensure that only one of the following options is configured:\n     *\n     * 1. embedded, external or Camunda forms using camunda:formKey\n     * 2. Camunda forms using camunda:formRef\n     */\n    this.preExecute([\n      'element.updateProperties',\n      'element.updateModdleProperties'\n    ], function(context) {\n      const {\n        element,\n        moddleElement,\n        properties\n      } = context;\n\n      const businessObject = moddleElement || getBusinessObject(element);\n\n      if (has(properties, 'camunda:formKey')) {\n        Object.assign(properties, {\n          'camunda:formRef': undefined,\n          'camunda:formRefBinding': undefined,\n          'camunda:formRefVersion': undefined\n        });\n      } else if (has(properties, 'camunda:formRef')) {\n        Object.assign(properties, {\n          'camunda:formKey': undefined\n        });\n\n        if (isUndefined(properties[ 'camunda:formRef' ])) {\n          Object.assign(properties, {\n            'camunda:formRefBinding': undefined,\n            'camunda:formRefVersion': undefined\n          });\n        }\n\n        if (!has(properties, 'camunda:formRefBinding') && isUndefined(businessObject.get('camunda:formRefBinding'))) {\n          Object.assign(properties, {\n            'camunda:formRefBinding': 'latest'\n          });\n        }\n      }\n\n      if (has(properties, 'camunda:formRefBinding') && properties[ 'camunda:formRefBinding' ] !== 'version') {\n        Object.assign(properties, {\n          'camunda:formRefVersion': undefined\n        });\n      }\n    }, true);\n\n  }\n}\n\nUserTaskFormsBehavior.$inject = [ 'eventBus' ];","import CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\n\nimport { getBusinessObject, is } from 'bpmn-js/lib/util/ModelUtil';\n\nimport { has } from 'min-dash';\n\n\n/**\n * Camunda BPMN specific user task generated forms behavior.\n *\n * 1. Removes camunda:FormField#values if camunda:FormField#type is changed to something other than enum.\n * 2. Updates camunda:FormData#businessKey if camunda:FormField#id is changed.\n * 3. Removes camunda:FormData#businessKey if camunda:FormField is removed.\n */\nexport default class UserTaskFormsBehavior extends CommandInterceptor {\n  constructor(eventBus, modeling) {\n    super(eventBus);\n\n    /**\n     * Remove camunda:FormField#values if camunda:FormField#type is changed to\n     * something other than enum.\n     */\n    this.preExecute('element.updateModdleProperties', function(context) {\n      const {\n        moddleElement,\n        properties\n      } = context;\n\n      if (!is(moddleElement, 'camunda:FormField')) {\n        return;\n      }\n\n      if (\n        ('type' in properties && properties[ 'type' ] !== 'enum')\n        || 'camunda:type' in properties && properties[ 'camunda:type' ] !== 'enum'\n      ) {\n        properties[ 'camunda:values' ] = undefined;\n      }\n    }, true);\n\n    /**\n     * Update camunda:FormData#businessKey if camunda:FormField#id is changed.\n     */\n    this.preExecute('element.updateModdleProperties', function(context) {\n      const {\n        element,\n        moddleElement,\n        properties\n      } = context;\n\n      if (!is(moddleElement, 'camunda:FormField')\n        || (!has(properties, 'id') && !has(properties, 'camunda:id'))\n      ) {\n        return;\n      }\n\n      const formData = getFormData(element);\n\n      const businessKey = formData.get('camunda:businessKey');\n\n      if (!businessKey) {\n        return;\n      }\n\n      if (isBusinessKey(moddleElement, formData)) {\n        modeling.updateModdleProperties(element, formData, {\n          'camunda:businessKey': has(properties, 'id') ? properties.id : properties[ 'camunda:id' ]\n        });\n      }\n    }, true);\n\n    /**\n     * Remove camunda:FormData#businessKey if camunda:FormField is removed.\n     */\n    this.postExecute('element.updateModdleProperties', function(context) {\n      const {\n        element,\n        moddleElement,\n        properties\n      } = context;\n\n      if (!is(moddleElement, 'camunda:FormData') || !has(properties, 'fields')) {\n        return;\n      }\n\n      const businessKey = moddleElement.get('camunda:businessKey');\n\n      if (!businessKey) {\n        return;\n      }\n\n      const fieldWithBusinessKey = moddleElement.get('fields').find(field => {\n        return field.get('camunda:id') === businessKey;\n      });\n\n      if (!fieldWithBusinessKey) {\n        modeling.updateModdleProperties(element, moddleElement, {\n          'camunda:businessKey': undefined\n        });\n      }\n    }, true);\n  }\n}\n\n\nUserTaskFormsBehavior.$inject = [ 'eventBus', 'modeling' ];\n\n// helpers //////////\n\nfunction isBusinessKey(formField, formData) {\n  return formField.get('camunda:id') === formData.get('camunda:businessKey');\n}\n\nfunction getFormData(element) {\n  const businessObject = getBusinessObject(element),\n        extensionElements = businessObject.get('extensionElements');\n\n  if (!extensionElements) {\n    return;\n  }\n\n  const values = extensionElements.get('values');\n\n  return values.find((value) => {\n    return is(value, 'camunda:FormData');\n  });\n}","import CopyPasteBehavior from './CopyPasteBehavior';\nimport CopyPasteRootElementBehavior from './CopyPasteRootElementBehavior';\nimport DeleteErrorEventDefinitionBehavior from './DeleteErrorEventDefinitionBehavior';\nimport DeleteParticipantBehaviour from '../shared/DeleteParticipantBehaviour';\nimport DeleteRetryTimeCycleBehavior from './DeleteRetryTimeCycleBehavior';\nimport OrderExtensionElementsBehavior from './OrderExtensionElementsBehavior';\nimport RemoveInitiatorBehaviour from './RemoveInitiatorBehaviour';\nimport RemoveVariableEventBehaviour from './RemoveVariableEventBehaviour';\nimport UpdateCamundaExclusiveBehavior from './UpdateCamundaExclusiveBehavior';\nimport UpdateInputOutputBehavior from './UpdateInputOutputBehavior';\nimport UpdateResultVariableBehavior from './UpdateResultVariableBehavior';\nimport UserTaskFormsBehavior from './UserTaskFormsBehavior';\nimport UserTaskGeneratedFormsBehavior from './UserTaskGeneratedFormsBehavior';\n\nexport default {\n  __init__: [\n    'copyPasteBehavior',\n    'copyPasteRootElementBehavior',\n    'deleteErrorEventDefinitionBehavior',\n    'deleteParticipantBehaviour',\n    'deleteRetryTimeCycleBehavior',\n    'orderExtensionElementsBehavior',\n    'removeInitiatorBehaviour',\n    'removeVariableEventBehaviour',\n    'updateCamundaExclusiveBehavior',\n    'updateResultVariableBehavior',\n    'updateInputOutputBehavior',\n    'userTaskFormsBehavior',\n    'userTaskGeneratedFormsBehavior'\n  ],\n  copyPasteBehavior: [ 'type', CopyPasteBehavior ],\n  copyPasteRootElementBehavior: [ 'type', CopyPasteRootElementBehavior ],\n  deleteErrorEventDefinitionBehavior: [ 'type', DeleteErrorEventDefinitionBehavior ],\n  deleteParticipantBehaviour: [ 'type', DeleteParticipantBehaviour ],\n  deleteRetryTimeCycleBehavior: [ 'type', DeleteRetryTimeCycleBehavior ],\n  orderExtensionElementsBehavior: [ 'type', OrderExtensionElementsBehavior ],\n  removeInitiatorBehaviour: [ 'type', RemoveInitiatorBehaviour ],\n  removeVariableEventBehaviour: [ 'type', RemoveVariableEventBehaviour ],\n  updateCamundaExclusiveBehavior: [ 'type', UpdateCamundaExclusiveBehavior ],\n  updateResultVariableBehavior: [ 'type', UpdateResultVariableBehavior ],\n  updateInputOutputBehavior: [ 'type', UpdateInputOutputBehavior ],\n  userTaskFormsBehavior: [ 'type', UserTaskFormsBehavior ],\n  userTaskGeneratedFormsBehavior: [ 'type', UserTaskGeneratedFormsBehavior ]\n};\n","/**\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership.\n *\n * Camunda licenses this file to you under the MIT; you may not use this file\n * except in compliance with the MIT License.\n */\n\nimport camundaModdle from 'camunda-bpmn-moddle/resources/camunda.json';\n\nexport const commonModules = [];\n\n/**\n * @type { {\n *   camunda: any\n * } }\n */\nexport const commonModdleExtensions = {\n  camunda: camundaModdle\n};","/**\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership.\n *\n * Camunda licenses this file to you under the MIT; you may not use this file\n * except in compliance with the MIT License.\n */\n\nimport inherits from 'inherits-browser';\n\nimport BaseModeler from '../base/Modeler';\n\nimport behaviorsModule from 'camunda-bpmn-js-behaviors/lib/camunda-platform';\n\nimport {\n  CamundaPlatformPropertiesProviderModule,\n  CamundaPlatformTooltipProvider\n} from 'bpmn-js-properties-panel';\n\nimport {\n  ElementTemplatesPropertiesProviderModule\n} from 'bpmn-js-element-templates';\n\nimport {\n  CamundaVariableResolverModule as variableResolverModule\n} from '@bpmn-io/variable-resolver';\n\nimport { commonModdleExtensions } from './util/commonModules';\n\nimport colorPickerModule from 'bpmn-js-color-picker';\n\nimport {\n  CreateAppendAnythingModule as createAppendAnythingModule,\n  RemoveTemplatesModule as removeTemplatesModule\n} from 'bpmn-js-create-append-anything';\n\n/**\n * @typedef {import('bpmn-js/lib/BaseViewer').BaseViewerOptions} BaseViewerOptions\n */\n\n/**\n * @param {BaseViewerOptions} options\n */\nexport default function Modeler(options = {}) {\n\n  options = {\n    ...options,\n    moddleExtensions: {\n      ...commonModdleExtensions,\n      ...options.moddleExtensions\n    },\n    propertiesPanel: {\n      tooltip: CamundaPlatformTooltipProvider,\n      ...options.propertiesPanel\n    }\n  };\n\n  BaseModeler.call(this, options);\n}\n\ninherits(Modeler, BaseModeler);\n\nModeler.prototype._camundaPlatformModules = [\n  behaviorsModule,\n  CamundaPlatformPropertiesProviderModule,\n  ElementTemplatesPropertiesProviderModule,\n  colorPickerModule,\n  createAppendAnythingModule,\n  variableResolverModule,\n  removeTemplatesModule\n];\n\nModeler.prototype._modules = [].concat(\n  BaseModeler.prototype._modules,\n  Modeler.prototype._camundaPlatformModules\n);\n"],"names":["CopyPasteBehavior","constructor","eventBus","on","context","parent","property","this","canCopyProperty","descriptor","$type","$model","getTypeDescriptor","allowedIn","meta","includes","isWildcard","type","getParent","isAllowedInParent","is","canHostInputOutput","canHostConnector","canHostIn","flowNode","get","serviceTaskLike","element","$parent","$inject","CopyPasteRootElementBehavior","CommandInterceptor","bpmnFactory","bpmnjs","moddleCopy","hasRootElement","rootElement","rootElements","getDefinitions","id","super","executed","shape","businessObject","canHaveNestedRootElementReference","referencedRootElements","getRootElements","getReferencingElement","addedRootElements","forEach","reference","referencedElement","push","reverted","addedRootElement","labelTarget","idx","copyElement","create","index","extensionElement","set","getRootElementReferencePropertyName","setRootElement","bo","extensionElementType","extensionElements","filter","reduce","result","getExtensionElementId","indexOf","DeleteErrorEventDefinitionBehavior","commandStack","postExecute","moddleElement","properties","errorEventDefinitions","length","DeleteRetryTimeCycleBehavior","asyncAfter","asyncBefore","failedJobRetryTimeCycle","getFailedJobRetryTimeCycle","eventDefinitions","find","eventDefinition","getEventDefinition","getTimerEventDefinition","isAsyncBefore","isAsyncAfter","OrderExtensionElementsBehavior","modeling","_modeling","postExecuted","newShape","orderCallActivityExtensionElements","input","output","rest","acc","shiftVariablesToFront","values","oldValues","JSON","stringify","updateModdleProperties","array","variablesIndex","findIndex","item","variables","variablesItem","splice","unshift","RemoveInitiatorBehaviour","newParent","updateProperties","undefined","RemoveVariableEventBehaviour","newParentBusinessObject","shapeBusinessObject","slice","update","conditionalEventDefinition","variableEvents","UpdateCamundaExclusiveBehavior","preExecute","isExclusive","UpdateInputOutputBehavior","inputOutput","inputParameters","getInputParameters","outputParameters","getOutputParameters","isInputOutputEmpty","UpdateResultVariableBehavior","value","UserTaskFormsBehavior","Object","assign","formData","getFormData","formField","isBusinessKey","businessKey","field","__init__","copyPasteBehavior","copyPasteRootElementBehavior","deleteErrorEventDefinitionBehavior","deleteParticipantBehaviour","DeleteParticipantBehaviour","deleteRetryTimeCycleBehavior","orderExtensionElementsBehavior","removeInitiatorBehaviour","removeVariableEventBehaviour","updateCamundaExclusiveBehavior","updateResultVariableBehavior","updateInputOutputBehavior","userTaskFormsBehavior","userTaskGeneratedFormsBehavior","commonModdleExtensions","camunda","options","moddleExtensions","propertiesPanel","tooltip","CamundaPlatformTooltipProvider","call","prototype","_camundaPlatformModules","CamundaPlatformPropertiesProviderModule","_modules","concat"],"sourceRoot":""}