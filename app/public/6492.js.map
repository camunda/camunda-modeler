{"version":3,"file":"6492.js","mappings":"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","sources":["webpack://camunda-modeler-client/../node_modules/camunda-bpmn-js-behaviors/lib/camunda-platform/CopyPasteBehavior.js","webpack://camunda-modeler-client/../node_modules/camunda-bpmn-js-behaviors/lib/camunda-platform/CopyPasteRootElementBehavior.js","webpack://camunda-modeler-client/../node_modules/camunda-bpmn-js-behaviors/lib/camunda-platform/DeleteErrorEventDefinitionBehavior.js","webpack://camunda-modeler-client/../node_modules/camunda-bpmn-js-behaviors/lib/camunda-platform/DeleteRetryTimeCycleBehavior.js","webpack://camunda-modeler-client/../node_modules/camunda-bpmn-js-behaviors/lib/camunda-platform/OrderExtensionElementsBehavior.js","webpack://camunda-modeler-client/../node_modules/camunda-bpmn-js-behaviors/lib/camunda-platform/RemoveInitiatorBehaviour.js","webpack://camunda-modeler-client/../node_modules/camunda-bpmn-js-behaviors/lib/camunda-platform/RemoveVariableEventBehaviour.js","webpack://camunda-modeler-client/../node_modules/camunda-bpmn-js-behaviors/lib/camunda-platform/UpdateCamundaExclusiveBehavior.js","webpack://camunda-modeler-client/../node_modules/camunda-bpmn-js-behaviors/lib/camunda-platform/UpdateInputOutputBehavior.js","webpack://camunda-modeler-client/../node_modules/camunda-bpmn-js-behaviors/lib/camunda-platform/util/InputOutputUtil.js","webpack://camunda-modeler-client/../node_modules/camunda-bpmn-js-behaviors/lib/camunda-platform/UpdateResultVariableBehavior.js","webpack://camunda-modeler-client/../node_modules/camunda-bpmn-js-behaviors/lib/camunda-platform/UserTaskFormsBehavior.js","webpack://camunda-modeler-client/../node_modules/camunda-bpmn-js-behaviors/lib/camunda-platform/UserTaskGeneratedFormsBehavior.js","webpack://camunda-modeler-client/../node_modules/camunda-bpmn-js-behaviors/lib/camunda-platform/index.js","webpack://camunda-modeler-client/../node_modules/camunda-bpmn-js/lib/camunda-platform/util/commonModules.js","webpack://camunda-modeler-client/../node_modules/camunda-bpmn-js/lib/camunda-platform/Modeler.js"],"sourcesContent":["import {\n  is,\n  isAny\n} from 'bpmn-js/lib/util/ModelUtil';\n\nimport {\n  isObject,\n  some\n} from 'min-dash';\n\nconst WILDCARD = '*';\n\n\nexport default class CopyPasteBehavior {\n  constructor(eventBus) {\n    eventBus.on('moddleCopy.canCopyProperty', (context) => {\n      const {\n        parent,\n        property\n      } = context;\n\n      return this.canCopyProperty(property, parent);\n    });\n  }\n\n  /**\n   * Check wether to disallow copying property.\n   */\n  canCopyProperty(property, parent) {\n\n    // (1) check wether property is allowed in parent\n    if (isObject(property) && !isAllowedInParent(property, parent)) {\n\n      return false;\n    }\n\n    // (2) check more complex scenarios\n    if (is(property, 'camunda:InputOutput') && !this.canHostInputOutput(parent)) {\n      return false;\n    }\n\n    if (isAny(property, [ 'camunda:Connector', 'camunda:Field' ]) && !this.canHostConnector(parent)) {\n      return false;\n    }\n\n    if (is(property, 'camunda:In') && !this.canHostIn(parent)) {\n      return false;\n    }\n  }\n\n  canHostInputOutput(parent) {\n\n    // allowed in camunda:Connector\n    const connector = getParent(parent, 'camunda:Connector');\n\n    if (connector) {\n      return true;\n    }\n\n    // special rules inside bpmn:FlowNode\n    const flowNode = getParent(parent, 'bpmn:FlowNode');\n\n    if (!flowNode) {\n      return false;\n    }\n\n    if (isAny(flowNode, [ 'bpmn:StartEvent', 'bpmn:Gateway', 'bpmn:BoundaryEvent' ])) {\n      return false;\n    }\n\n    if (is(flowNode, 'bpmn:SubProcess') && flowNode.get('triggeredByEvent')) {\n      return false;\n    }\n\n    return true;\n  }\n\n  canHostConnector(parent) {\n    const serviceTaskLike = getParent(parent, 'camunda:ServiceTaskLike');\n\n    if (is(serviceTaskLike, 'bpmn:MessageEventDefinition')) {\n\n      // only allow on throw and end events\n      return (\n        getParent(parent, 'bpmn:IntermediateThrowEvent')\n        || getParent(parent, 'bpmn:EndEvent')\n      );\n    }\n\n    return true;\n  }\n\n  canHostIn(parent) {\n    const callActivity = getParent(parent, 'bpmn:CallActivity');\n\n    if (callActivity) {\n      return true;\n    }\n\n    const signalEventDefinition = getParent(parent, 'bpmn:SignalEventDefinition');\n\n    if (signalEventDefinition) {\n\n      // only allow on throw and end events\n      return (\n        getParent(parent, 'bpmn:IntermediateThrowEvent')\n        || getParent(parent, 'bpmn:EndEvent')\n      );\n    }\n\n    return true;\n  }\n}\n\nCopyPasteBehavior.$inject = [ 'eventBus' ];\n\n\n// helpers //////////\n\nfunction getParent(element, type) {\n  if (!type) {\n    return element.$parent;\n  }\n\n  if (is(element, type)) {\n    return element;\n  }\n\n  if (!element.$parent) {\n    return;\n  }\n\n  return getParent(element.$parent, type);\n}\n\nfunction isAllowedInParent(property, parent) {\n\n  // (1) find property descriptor\n  var descriptor = property.$type && property.$model.getTypeDescriptor(property.$type);\n\n  var allowedIn = descriptor && descriptor.meta && descriptor.meta.allowedIn;\n\n  if (!allowedIn || isWildcard(allowedIn)) {\n    return true;\n  }\n\n  // (2) check wether property has parent of allowed type\n  return some(allowedIn, function(type) {\n    return getParent(parent, type);\n  });\n}\n\nfunction isWildcard(allowedIn) {\n  return allowedIn.includes(WILDCARD);\n}","import {\n  find,\n  matchPattern\n} from 'min-dash';\n\nimport CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\n\nimport {\n  add as collectionAdd,\n  remove as collectionRemove\n} from 'diagram-js/lib/util/Collections';\n\nimport {\n  getBusinessObject,\n  is\n} from 'bpmn-js/lib/util/ModelUtil';\n\n\nconst LOW_PRIORITY = 500;\n\n\n/**\n * Add referenced root elements (bpmn:Error) if they don't exist.\n * Copy referenced root elements on copy & paste.\n */\nexport default class CopyPasteRootElementBehavior extends CommandInterceptor {\n  constructor(bpmnFactory, bpmnjs, eventBus, moddleCopy) {\n    super(eventBus);\n\n    function hasRootElement(rootElement) {\n      const definitions = bpmnjs.getDefinitions(),\n            rootElements = definitions.get('rootElements');\n\n      return !!find(rootElements, matchPattern({ id: rootElement.get('id') }));\n    }\n\n    // create shape\n    this.executed('shape.create', (context) => {\n      const { shape } = context;\n\n      const businessObject = getBusinessObject(shape);\n\n      if (!canHaveNestedRootElementReference(businessObject)) {\n        return;\n      }\n\n      const referencedRootElements = getRootElements(businessObject, getReferencingElement(shape)),\n            rootElements = bpmnjs.getDefinitions().get('rootElements');\n\n      context.addedRootElements = [];\n\n      referencedRootElements.forEach((reference) => {\n        const { referencedElement } = reference;\n\n        if (referencedElement && !hasRootElement(referencedElement)) {\n\n          // add root element\n          collectionAdd(rootElements, referencedElement);\n\n          context.addedRootElements.push(referencedElement);\n        }\n      });\n    }, true);\n\n    this.reverted('shape.create', (context) => {\n      const { addedRootElements } = context;\n\n      if (!addedRootElements) {\n        return;\n      }\n\n      const rootElements = bpmnjs.getDefinitions().get('rootElements');\n\n      // remove root elements\n      addedRootElements.forEach((addedRootElement) => {\n        collectionRemove(rootElements, addedRootElement);\n      });\n    }, true);\n\n    eventBus.on('copyPaste.copyElement', function(context) {\n      const {\n        descriptor,\n        element\n      } = context;\n\n      const businessObject = getBusinessObject(element);\n\n      if (element.labelTarget || !canHaveNestedRootElementReference(businessObject)) {\n        return;\n      }\n\n      const rootElements = getRootElements(businessObject, getReferencingElement(element));\n\n      if (rootElements) {\n        descriptor.referencedRootElements = rootElements;\n      }\n    });\n\n    eventBus.on('copyPaste.pasteElement', LOW_PRIORITY, (context) => {\n      const { descriptor } = context;\n\n      const {\n        businessObject,\n        referencedRootElements\n      } = descriptor;\n\n      if (!referencedRootElements) {\n        return;\n      }\n\n      referencedRootElements.forEach((reference) => {\n        let {\n          idx,\n          referencedElement\n        } = reference;\n\n        if (!referencedElement) {\n          return;\n        }\n\n        if (!hasRootElement(referencedElement)) {\n          referencedElement = moddleCopy.copyElement(\n            referencedElement,\n            bpmnFactory.create(referencedElement.$type)\n          );\n        }\n\n        setRootElement(businessObject, referencedElement, idx);\n      });\n\n      delete descriptor.referencedRootElements;\n    });\n  }\n}\n\nCopyPasteRootElementBehavior.$inject = [\n  'bpmnFactory',\n  'bpmnjs',\n  'eventBus',\n  'moddleCopy'\n];\n\n\n// helpers //////////\n\nfunction getReferencingElement(element) {\n  if (is(element, 'bpmn:ServiceTask')) {\n    return 'camunda:ErrorEventDefinition';\n  }\n}\n\nfunction getRootElementReferencePropertyName(bo) {\n  if (is(bo, 'camunda:ErrorEventDefinition')) {\n    return 'errorRef';\n  }\n}\n\nfunction canHaveNestedRootElementReference(businessObject) {\n  return is(businessObject, 'bpmn:ServiceTask') && businessObject.get('type') === 'external';\n}\n\n/**\n * Retrieves a list of to-be copied references for the extension elements\n * of a given element in the following form.\n *\n * [\n *  {\n *    idx: 0, // position of extension in the list of extension elements\n *    referencedElement: {ModdleElement} // reference to root element\n *  }\n * ]\n *\n *\n * @param {ModdleElement} businessObject\n * @param {String} extensionElementType\n *\n * @returns {Array}\n */\nfunction getRootElements(businessObject, extensionElementType) {\n  const extensionElements = businessObject.get('extensionElements');\n\n  if (!extensionElements) {\n    return [];\n  }\n\n  return extensionElements\n    .get('values')\n    .filter((element) => is(element, extensionElementType))\n    .reduce((result, element) => {\n      const referencedElement = element.get(getRootElementReferencePropertyName(element));\n\n      if (referencedElement) {\n        result.push({\n          idx: getExtensionElementId(businessObject, element),\n          referencedElement\n        });\n      }\n\n      return result;\n    }, []);\n}\n\nfunction setRootElement(businessObject, rootElement, index) {\n  const extensionElement = businessObject.get('extensionElements').get('values')[ index ];\n\n  extensionElement.set(getRootElementReferencePropertyName(extensionElement), rootElement);\n}\n\nfunction getExtensionElementId(businessObject, extensionElement) {\n  const extensionElements = businessObject.get('extensionElements');\n\n  if (!extensionElements) {\n    return -1;\n  }\n\n  return extensionElements.get('values').indexOf(extensionElement);\n}\n","import CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\n\nimport {\n  getBusinessObject,\n  is\n} from 'bpmn-js/lib/util/ModelUtil';\n\nimport {\n  getExtensionElementsList,\n  removeExtensionElements\n} from '../util/ExtensionElementsUtil';\n\nconst HIGH_PRIORITY = 5000;\n\n\n/**\n * Camunda BPMN specific behavior ensuring camunda:ErrorEventDefinition extension elements are removed\n * if type of e.g. bpmn:ServiceTask is set to something other than external.\n */\nexport default class DeleteErrorEventDefinitionBehavior extends CommandInterceptor {\n  constructor(commandStack, eventBus) {\n    super(eventBus);\n\n    this.postExecute([\n      'element.updateProperties',\n      'element.updateModdleProperties'\n    ], HIGH_PRIORITY, function(context) {\n      const {\n        element,\n        moddleElement,\n        properties\n      } = context;\n\n      const businessObject = moddleElement || getBusinessObject(element);\n\n      if (is(element, 'camunda:ExternalCapable')\n        && is(businessObject, 'camunda:ExternalCapable')\n        && properties[ 'camunda:type' ] !== 'external'\n      ) {\n        const errorEventDefinitions = getExtensionElementsList(businessObject, 'camunda:ErrorEventDefinition');\n\n        if (errorEventDefinitions.length) {\n          removeExtensionElements(element, businessObject, errorEventDefinitions, commandStack);\n        }\n      }\n    }, true);\n\n  }\n}\n\nDeleteErrorEventDefinitionBehavior.$inject = [\n  'commandStack',\n  'eventBus'\n];","import {\n  getBusinessObject,\n  is\n} from 'bpmn-js/lib/util/ModelUtil';\n\nimport CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\n\nimport {\n  getExtensionElementsList,\n  removeExtensionElements\n} from '../util/ExtensionElementsUtil';\n\nconst HIGH_PRIORITY = 5000;\n\n\n/**\n * Camunda BPMN specific behavior ensuring camunda:FailedJobRetryTimeCycle is\n * removed when both camunda:asyncAfter and camunda:asyncBefore set to false.\n * Doesn't apply if element has bpmn:TimerEventDefinition.\n */\nexport default class DeleteRetryTimeCycleBehavior extends CommandInterceptor {\n  constructor(commandStack, eventBus) {\n    super(eventBus);\n\n    this.postExecute([\n      'element.updateProperties',\n      'element.updateModdleProperties'\n    ], HIGH_PRIORITY, function(context) {\n      const {\n        element,\n        moddleElement,\n        properties = {}\n      } = context;\n\n      const asyncAfter = properties[ 'camunda:asyncAfter' ],\n            asyncBefore = properties[ 'camunda:asyncBefore' ];\n\n      const businessObject = moddleElement || getBusinessObject(element);\n\n      const failedJobRetryTimeCycle = getFailedJobRetryTimeCycle(element);\n\n      if (\n        !is(element, 'camunda:AsyncCapable')\n        || !is(businessObject, 'camunda:AsyncCapable')\n        || (asyncAfter !== false && asyncBefore !== false)\n        || !failedJobRetryTimeCycle\n        || getTimerEventDefinition(element)\n        || isAsyncBefore(businessObject)\n        || isAsyncAfter(businessObject)\n      ) {\n        return;\n      }\n\n      removeExtensionElements(element, businessObject, failedJobRetryTimeCycle, commandStack);\n    }, true);\n\n  }\n}\n\nDeleteRetryTimeCycleBehavior.$inject = [\n  'commandStack',\n  'eventBus'\n];\n\n\n// helpers //////////\n\nfunction isAsyncBefore(businessObject) {\n  return !!(businessObject.get('camunda:asyncBefore') || businessObject.get('camunda:async'));\n}\n\nfunction isAsyncAfter(businessObject) {\n  return !!businessObject.get('camunda:asyncAfter');\n}\n\nfunction getFailedJobRetryTimeCycle(element) {\n  return getExtensionElementsList(element, 'camunda:FailedJobRetryTimeCycle')[ 0 ];\n}\n\nfunction getTimerEventDefinition(element) {\n  return getEventDefinition(element, 'bpmn:TimerEventDefinition');\n}\n\nfunction getEventDefinition(element, type) {\n  const businessObject = getBusinessObject(element);\n\n  const eventDefinitions = businessObject.get('eventDefinitions');\n\n  if (!eventDefinitions || !eventDefinitions.length) {\n    return;\n  }\n\n  return eventDefinitions.find((eventDefinition) => {\n    return is(eventDefinition, type);\n  });\n}\n","import { is } from 'bpmn-js/lib/util/ModelUtil';\n\nimport {\n  getExtensionElementsList\n} from '../util/ExtensionElementsUtil';\n\nimport CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\n\nconst LOW_PRIORITY = 250;\n\n/**\n * For specified BPMN elements, ensure that the `<bpmn:extensionElements>`\n * are kept in the specific order.\n */\nexport default class OrderExtensionElementsBehavior extends CommandInterceptor {\n  constructor(eventBus, modeling) {\n    super(eventBus);\n    this._modeling = modeling;\n\n    this.postExecuted([\n      'element.updateProperties',\n      'element.updateModdleProperties'\n    ], LOW_PRIORITY, (context) => {\n\n      const element = context.shape || context.newShape || context.element;\n\n      if (is(element, 'bpmn:CallActivity')) {\n        this.orderCallActivityExtensionElements(element);\n      }\n    }, true);\n  }\n\n  orderCallActivityExtensionElements(element) {\n\n    const extensionElements = element.businessObject.get('extensionElements');\n\n    if (!extensionElements) {\n      return;\n    }\n\n    const { input, output, rest } = getExtensionElementsList(element)\n      .reduce((acc, element) => {\n        if (is(element, 'camunda:In')) {\n          acc.input.push(element);\n        } else if (is(element, 'camunda:Out')) {\n          acc.output.push(element);\n        } else {\n          acc.rest.push(element);\n        }\n        return acc;\n      }, { input: [], output: [], rest: [] });\n\n\n    shiftVariablesToFront(input);\n    shiftVariablesToFront(output);\n\n    const values = [\n      ...input,\n      ...output,\n      ...rest\n    ];\n\n    const oldValues = extensionElements.get('values');\n    if (JSON.stringify(oldValues) === JSON.stringify(values)) {\n      return;\n    }\n\n    this._modeling.updateModdleProperties(\n      element,\n      extensionElements,\n      { values }\n    );\n  }\n}\n\nOrderExtensionElementsBehavior.$inject = [\n  'eventBus',\n  'modeling'\n];\n\n/**\n * If the array contains an object with `variables` property,\n * move it to the front.\n *\n * @param {Array<Object>} array\n */\nfunction shiftVariablesToFront(array) {\n\n  const variablesIndex = array.findIndex(item => !!item.variables);\n\n  if (variablesIndex > 0) {\n    const variablesItem = array.splice(variablesIndex, 1)[0];\n    array.unshift(variablesItem);\n  }\n}","import { isDefined } from 'min-dash';\n\nimport CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\n\nimport {\n  getBusinessObject,\n  is\n} from 'bpmn-js/lib/util/ModelUtil';\n\n\n/**\n * Camunda BPMN specific behavior ensuring camunda:initiator property is removed\n * when start event is created in or moved to sub process.\n */\nexport default class RemoveInitiatorBehaviour extends CommandInterceptor {\n  constructor(eventBus, modeling) {\n    super(eventBus);\n\n    this.postExecuted([ 'shape.create','shape.move' ], (context) => {\n      const {\n        shape,\n        parent,\n        newParent = parent\n      } = context;\n\n      const businessObject = getBusinessObject(shape);\n\n      if (is(shape, 'bpmn:StartEvent') && isDefined(businessObject.get('camunda:initiator'))) {\n        if ((is(newParent || parent, 'bpmn:SubProcess'))) {\n          modeling.updateProperties(shape, { 'camunda:initiator': undefined });\n        }\n      }\n    }, true);\n  }\n}\n\nRemoveInitiatorBehaviour.$inject = [\n  'eventBus',\n  'modeling'\n];","import CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\n\nimport {\n  getBusinessObject,\n  is\n} from 'bpmn-js/lib/util/ModelUtil';\n\n\n/**\n * Camunda BPMN specific behavior ensuring camunda:variableEvents property is\n * removed when start event is moved out of event sub process.\n */\nexport default class RemoveVariableEventBehaviour extends CommandInterceptor {\n  constructor(bpmnFactory, eventBus, moddleCopy, modeling) {\n    super(eventBus);\n\n    this.postExecuted([ 'shape.create', 'shape.move' ], (context) => {\n      const {\n        parent,\n        newParent = parent,\n        shape\n      } = context;\n\n      const newParentBusinessObject = getBusinessObject(newParent),\n            shapeBusinessObject = getBusinessObject(shape);\n\n      if (is(shape, 'bpmn:StartEvent')) {\n\n        if (!(is(newParent, 'bpmn:SubProcess') && newParentBusinessObject.get('triggeredByEvent'))) {\n          const eventDefinitions = shapeBusinessObject.get('eventDefinitions').slice();\n\n          const update = eventDefinitions.reduce((update, eventDefinition, index) => {\n            if (!is(eventDefinition, 'bpmn:ConditionalEventDefinition')) {\n              return;\n            }\n\n            if (eventDefinition.get('camunda:variableEvents')) {\n              const conditionalEventDefinition = bpmnFactory.create('bpmn:ConditionalEventDefinition');\n\n              moddleCopy.copyElement(eventDefinition, conditionalEventDefinition);\n\n              conditionalEventDefinition.$parent = eventDefinition.$parent;\n\n              // remove camunda:variableEvents property\n              conditionalEventDefinition.variableEvents = undefined;\n\n              eventDefinitions[ index ] = conditionalEventDefinition;\n\n              return true;\n            }\n\n            return update;\n          }, false);\n\n          if (update) {\n            modeling.updateProperties(shape, {\n              eventDefinitions: eventDefinitions\n            });\n          }\n        }\n      }\n    }, true);\n  }\n}\n\nRemoveVariableEventBehaviour.$inject = [\n  'bpmnFactory',\n  'eventBus',\n  'moddleCopy',\n  'modeling'\n];","import {\n  getBusinessObject,\n  is\n} from 'bpmn-js/lib/util/ModelUtil';\n\nimport CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\n\nconst HIGH_PRIORITY = 5000;\n\n\n/**\n * Camunda BPMN specific behavior ensuring camunda:exclusive is set to true if\n * camunda:asyncBefore or camunda:asyncAfter is set to false.\n */\nexport default class UpdateCamundaExclusiveBehavior extends CommandInterceptor {\n  constructor(eventBus) {\n    super(eventBus);\n\n    this.preExecute([\n      'element.updateProperties',\n      'element.updateModdleProperties',\n    ], HIGH_PRIORITY, function(context) {\n      const {\n        element,\n        moddleElement,\n        properties = {}\n      } = context;\n\n      const businessObject = moddleElement || getBusinessObject(element);\n\n      const asyncAfter = properties[ 'camunda:asyncAfter' ],\n            asyncBefore = properties[ 'camunda:asyncBefore' ];\n\n      if (!is(element, 'camunda:AsyncCapable')\n        || !is(businessObject, 'camunda:AsyncCapable')\n        || (asyncAfter !== false && asyncBefore !== false)\n        || isExclusive(businessObject)\n        || (isAsyncAfter(businessObject) && asyncAfter !== false)\n        || (isAsyncBefore(businessObject) && asyncBefore !== false)\n        || (asyncAfter === true || asyncBefore === true)\n      ) {\n        return;\n      }\n\n      properties[ 'camunda:exclusive' ] = true;\n    }, true);\n\n  }\n}\n\nUpdateCamundaExclusiveBehavior.$inject = [\n  'eventBus'\n];\n\n\n// helpers //////////\n\nfunction isAsyncBefore(businessObject) {\n  return !!(businessObject.get('camunda:asyncBefore') || businessObject.get('camunda:async'));\n}\n\nfunction isAsyncAfter(businessObject) {\n  return !!businessObject.get('camunda:asyncAfter');\n}\n\nfunction isExclusive(businessObject) {\n  return !!businessObject.get('camunda:exclusive');\n}\n","import {\n  getBusinessObject,\n  is\n} from 'bpmn-js/lib/util/ModelUtil';\n\nimport { isInputOutputEmpty } from './util/InputOutputUtil';\n\nimport {\n  removeExtensionElements\n} from '../util/ExtensionElementsUtil';\n\nimport CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\n\nconst LOW_PRIORITY = 250;\n\n\n/**\n * Camunda BPMN specific behavior ensuring empty camunda:InputOutput is removed.\n */\nexport default class UpdateInputOutputBehavior extends CommandInterceptor {\n  constructor(commandStack, eventBus) {\n    super(eventBus);\n\n    this.postExecuted('element.updateModdleProperties', LOW_PRIORITY, function(context) {\n      const {\n        element,\n        moddleElement\n      } = context;\n\n      if (!is(moddleElement, 'camunda:InputOutput')) {\n        return;\n      }\n\n      if (isInputOutputEmpty(moddleElement)) {\n        removeExtensionElements(element, getBusinessObject(element), moddleElement, commandStack);\n      }\n    }, true);\n  }\n}\n\nUpdateInputOutputBehavior.$inject = [\n  'commandStack',\n  'eventBus'\n];","import { is } from 'bpmn-js/lib/util/ModelUtil';\n\n\nexport function getInputOutput(businessObject) {\n  const extensionElements = businessObject.get('extensionElements');\n\n  if (!extensionElements) {\n    return;\n  }\n\n  return extensionElements.get('values').find((value) => {\n    return is(value, 'camunda:InputOutput');\n  });\n}\n\nexport function getInputParameters(inputOutput) {\n  return inputOutput.get('inputParameters');\n}\n\nexport function getOutputParameters(inputOutput) {\n  return inputOutput.get('outputParameters');\n}\n\nexport function isInputOutputEmpty(inputOutput) {\n  const inputParameters = getInputParameters(inputOutput);\n  const outputParameters = getOutputParameters(inputOutput);\n\n  return !inputParameters.length && !outputParameters.length;\n}","import {\n  getBusinessObject,\n  is\n} from 'bpmn-js/lib/util/ModelUtil';\n\nimport CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\n\nimport { has } from 'min-dash';\n\nconst HIGH_PRIORITY = 5000;\n\n\n/**\n * Camunda BPMN specific camunda:resultVariable behavior ensuring\n * camunda:mapDecisionResult is removed when camunda:resultVariable is removed.\n */\nexport default class UpdateResultVariableBehavior extends CommandInterceptor {\n  constructor(eventBus) {\n    super(eventBus);\n\n    this.preExecute([\n      'element.updateProperties',\n      'element.updateModdleProperties'\n    ], HIGH_PRIORITY, function(context) {\n      const {\n        element,\n        moddleElement,\n        properties\n      } = context;\n\n      const businessObject = moddleElement || getBusinessObject(element);\n\n      if (\n        is(element, 'camunda:DmnCapable')\n        && is(businessObject, 'camunda:DmnCapable')\n        && has(properties, 'camunda:resultVariable')\n        && isEmpty(properties[ 'camunda:resultVariable' ])\n      ) {\n        properties[ 'camunda:mapDecisionResult' ] = undefined;\n      }\n    }, true);\n\n  }\n}\n\nUpdateResultVariableBehavior.$inject = [\n  'eventBus'\n];\n\n// helpers //////////\n\nfunction isEmpty(value) {\n  return value == undefined || value === '';\n}","import { getBusinessObject } from 'bpmn-js/lib/util/ModelUtil';\n\nimport CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\n\nimport {\n  has,\n  isUndefined\n} from 'min-dash';\n\n\n/**\n * Camunda BPMN specific user task forms behavior.\n */\nexport default class UserTaskFormsBehavior extends CommandInterceptor {\n  constructor(eventBus) {\n    super(eventBus);\n\n    /**\n     * Ensure that only one of the following options is configured:\n     *\n     * 1. embedded, external or Camunda forms using camunda:formKey\n     * 2. Camunda forms using camunda:formRef\n     */\n    this.preExecute([\n      'element.updateProperties',\n      'element.updateModdleProperties'\n    ], function(context) {\n      const {\n        element,\n        moddleElement,\n        properties\n      } = context;\n\n      const businessObject = moddleElement || getBusinessObject(element);\n\n      if (has(properties, 'camunda:formKey')) {\n        Object.assign(properties, {\n          'camunda:formRef': undefined,\n          'camunda:formRefBinding': undefined,\n          'camunda:formRefVersion': undefined\n        });\n      } else if (has(properties, 'camunda:formRef')) {\n        Object.assign(properties, {\n          'camunda:formKey': undefined\n        });\n\n        if (isUndefined(properties[ 'camunda:formRef' ])) {\n          Object.assign(properties, {\n            'camunda:formRefBinding': undefined,\n            'camunda:formRefVersion': undefined\n          });\n        }\n\n        if (!has(properties, 'camunda:formRefBinding') && isUndefined(businessObject.get('camunda:formRefBinding'))) {\n          Object.assign(properties, {\n            'camunda:formRefBinding': 'latest'\n          });\n        }\n      }\n\n      if (has(properties, 'camunda:formRefBinding') && properties[ 'camunda:formRefBinding' ] !== 'version') {\n        Object.assign(properties, {\n          'camunda:formRefVersion': undefined\n        });\n      }\n    }, true);\n\n  }\n}\n\nUserTaskFormsBehavior.$inject = [ 'eventBus' ];","import CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\n\nimport { getBusinessObject, is } from 'bpmn-js/lib/util/ModelUtil';\n\nimport { has } from 'min-dash';\n\n\n/**\n * Camunda BPMN specific user task generated forms behavior.\n *\n * 1. Removes camunda:FormField#values if camunda:FormField#type is changed to something other than enum.\n * 2. Updates camunda:FormData#businessKey if camunda:FormField#id is changed.\n * 3. Removes camunda:FormData#businessKey if camunda:FormField is removed.\n */\nexport default class UserTaskFormsBehavior extends CommandInterceptor {\n  constructor(eventBus, modeling) {\n    super(eventBus);\n\n    /**\n     * Remove camunda:FormField#values if camunda:FormField#type is changed to\n     * something other than enum.\n     */\n    this.preExecute('element.updateModdleProperties', function(context) {\n      const {\n        moddleElement,\n        properties\n      } = context;\n\n      if (!is(moddleElement, 'camunda:FormField')) {\n        return;\n      }\n\n      if (\n        ('type' in properties && properties[ 'type' ] !== 'enum')\n        || 'camunda:type' in properties && properties[ 'camunda:type' ] !== 'enum'\n      ) {\n        properties[ 'camunda:values' ] = undefined;\n      }\n    }, true);\n\n    /**\n     * Update camunda:FormData#businessKey if camunda:FormField#id is changed.\n     */\n    this.preExecute('element.updateModdleProperties', function(context) {\n      const {\n        element,\n        moddleElement,\n        properties\n      } = context;\n\n      if (!is(moddleElement, 'camunda:FormField')\n        || (!has(properties, 'id') && !has(properties, 'camunda:id'))\n      ) {\n        return;\n      }\n\n      const formData = getFormData(element);\n\n      const businessKey = formData.get('camunda:businessKey');\n\n      if (!businessKey) {\n        return;\n      }\n\n      if (isBusinessKey(moddleElement, formData)) {\n        modeling.updateModdleProperties(element, formData, {\n          'camunda:businessKey': has(properties, 'id') ? properties.id : properties[ 'camunda:id' ]\n        });\n      }\n    }, true);\n\n    /**\n     * Remove camunda:FormData#businessKey if camunda:FormField is removed.\n     */\n    this.postExecute('element.updateModdleProperties', function(context) {\n      const {\n        element,\n        moddleElement,\n        properties\n      } = context;\n\n      if (!is(moddleElement, 'camunda:FormData') || !has(properties, 'fields')) {\n        return;\n      }\n\n      const businessKey = moddleElement.get('camunda:businessKey');\n\n      if (!businessKey) {\n        return;\n      }\n\n      const fieldWithBusinessKey = moddleElement.get('fields').find(field => {\n        return field.get('camunda:id') === businessKey;\n      });\n\n      if (!fieldWithBusinessKey) {\n        modeling.updateModdleProperties(element, moddleElement, {\n          'camunda:businessKey': undefined\n        });\n      }\n    }, true);\n  }\n}\n\n\nUserTaskFormsBehavior.$inject = [ 'eventBus', 'modeling' ];\n\n// helpers //////////\n\nfunction isBusinessKey(formField, formData) {\n  return formField.get('camunda:id') === formData.get('camunda:businessKey');\n}\n\nfunction getFormData(element) {\n  const businessObject = getBusinessObject(element),\n        extensionElements = businessObject.get('extensionElements');\n\n  if (!extensionElements) {\n    return;\n  }\n\n  const values = extensionElements.get('values');\n\n  return values.find((value) => {\n    return is(value, 'camunda:FormData');\n  });\n}","import CopyPasteBehavior from './CopyPasteBehavior';\nimport CopyPasteRootElementBehavior from './CopyPasteRootElementBehavior';\nimport DeleteErrorEventDefinitionBehavior from './DeleteErrorEventDefinitionBehavior';\nimport DeleteParticipantBehaviour from '../shared/DeleteParticipantBehaviour';\nimport DeleteRetryTimeCycleBehavior from './DeleteRetryTimeCycleBehavior';\nimport OrderExtensionElementsBehavior from './OrderExtensionElementsBehavior';\nimport RemoveInitiatorBehaviour from './RemoveInitiatorBehaviour';\nimport RemoveVariableEventBehaviour from './RemoveVariableEventBehaviour';\nimport UpdateCamundaExclusiveBehavior from './UpdateCamundaExclusiveBehavior';\nimport UpdateInputOutputBehavior from './UpdateInputOutputBehavior';\nimport UpdateResultVariableBehavior from './UpdateResultVariableBehavior';\nimport UserTaskFormsBehavior from './UserTaskFormsBehavior';\nimport UserTaskGeneratedFormsBehavior from './UserTaskGeneratedFormsBehavior';\n\nexport default {\n  __init__: [\n    'copyPasteBehavior',\n    'copyPasteRootElementBehavior',\n    'deleteErrorEventDefinitionBehavior',\n    'deleteParticipantBehaviour',\n    'deleteRetryTimeCycleBehavior',\n    'orderExtensionElementsBehavior',\n    'removeInitiatorBehaviour',\n    'removeVariableEventBehaviour',\n    'updateCamundaExclusiveBehavior',\n    'updateResultVariableBehavior',\n    'updateInputOutputBehavior',\n    'userTaskFormsBehavior',\n    'userTaskGeneratedFormsBehavior'\n  ],\n  copyPasteBehavior: [ 'type', CopyPasteBehavior ],\n  copyPasteRootElementBehavior: [ 'type', CopyPasteRootElementBehavior ],\n  deleteErrorEventDefinitionBehavior: [ 'type', DeleteErrorEventDefinitionBehavior ],\n  deleteParticipantBehaviour: [ 'type', DeleteParticipantBehaviour ],\n  deleteRetryTimeCycleBehavior: [ 'type', DeleteRetryTimeCycleBehavior ],\n  orderExtensionElementsBehavior: [ 'type', OrderExtensionElementsBehavior ],\n  removeInitiatorBehaviour: [ 'type', RemoveInitiatorBehaviour ],\n  removeVariableEventBehaviour: [ 'type', RemoveVariableEventBehaviour ],\n  updateCamundaExclusiveBehavior: [ 'type', UpdateCamundaExclusiveBehavior ],\n  updateResultVariableBehavior: [ 'type', UpdateResultVariableBehavior ],\n  updateInputOutputBehavior: [ 'type', UpdateInputOutputBehavior ],\n  userTaskFormsBehavior: [ 'type', UserTaskFormsBehavior ],\n  userTaskGeneratedFormsBehavior: [ 'type', UserTaskGeneratedFormsBehavior ]\n};\n","/**\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership.\n *\n * Camunda licenses this file to you under the MIT; you may not use this file\n * except in compliance with the MIT License.\n */\n\nimport camundaModdle from 'camunda-bpmn-moddle/resources/camunda.json';\n\nexport const commonModules = [];\n\n/**\n * @type { {\n *   camunda: any\n * } }\n */\nexport const commonModdleExtensions = {\n  camunda: camundaModdle\n};","/**\n * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH\n * under one or more contributor license agreements. See the NOTICE file\n * distributed with this work for additional information regarding copyright\n * ownership.\n *\n * Camunda licenses this file to you under the MIT; you may not use this file\n * except in compliance with the MIT License.\n */\n\nimport inherits from 'inherits-browser';\n\nimport BaseModeler from '../base/Modeler';\n\nimport behaviorsModule from 'camunda-bpmn-js-behaviors/lib/camunda-platform';\n\nimport {\n  CamundaPlatformPropertiesProviderModule,\n  CamundaPlatformTooltipProvider\n} from 'bpmn-js-properties-panel';\n\nimport {\n  ElementTemplatesPropertiesProviderModule\n} from 'bpmn-js-element-templates';\n\nimport {\n  CamundaVariableResolverModule as variableResolverModule\n} from '@bpmn-io/variable-resolver';\n\nimport { commonModdleExtensions } from './util/commonModules';\n\nimport colorPickerModule from 'bpmn-js-color-picker';\n\nimport {\n  CreateAppendAnythingModule as createAppendAnythingModule,\n  RemoveTemplatesModule as removeTemplatesModule\n} from 'bpmn-js-create-append-anything';\n\n/**\n * @typedef {import('bpmn-js/lib/BaseViewer').BaseViewerOptions} BaseViewerOptions\n */\n\n/**\n * @param {BaseViewerOptions} options\n */\nexport default function Modeler(options = {}) {\n\n  options = {\n    ...options,\n    moddleExtensions: {\n      ...commonModdleExtensions,\n      ...options.moddleExtensions\n    },\n    propertiesPanel: {\n      tooltip: CamundaPlatformTooltipProvider,\n      ...options.propertiesPanel\n    }\n  };\n\n  BaseModeler.call(this, options);\n}\n\ninherits(Modeler, BaseModeler);\n\nModeler.prototype._camundaPlatformModules = [\n  behaviorsModule,\n  CamundaPlatformPropertiesProviderModule,\n  ElementTemplatesPropertiesProviderModule,\n  colorPickerModule,\n  createAppendAnythingModule,\n  variableResolverModule,\n  removeTemplatesModule\n];\n\nModeler.prototype._modules = [].concat(\n  BaseModeler.prototype._modules,\n  Modeler.prototype._camundaPlatformModules\n);\n"],"names":["CopyPasteBehavior","constructor","eventBus","on","context","parent","property","this","canCopyProperty","isObject","descriptor","$type","$model","getTypeDescriptor","allowedIn","meta","includes","isWildcard","some","type","getParent","isAllowedInParent","is","canHostInputOutput","canHostConnector","canHostIn","flowNode","get","serviceTaskLike","element","$parent","$inject","CopyPasteRootElementBehavior","CommandInterceptor","bpmnFactory","bpmnjs","moddleCopy","hasRootElement","rootElement","rootElements","getDefinitions","find","matchPattern","id","super","executed","shape","businessObject","canHaveNestedRootElementReference","referencedRootElements","getRootElements","getReferencingElement","addedRootElements","forEach","reference","referencedElement","push","reverted","addedRootElement","labelTarget","idx","copyElement","create","index","extensionElement","set","getRootElementReferencePropertyName","setRootElement","bo","extensionElementType","extensionElements","filter","reduce","result","getExtensionElementId","indexOf","DeleteErrorEventDefinitionBehavior","commandStack","postExecute","moddleElement","properties","errorEventDefinitions","length","DeleteRetryTimeCycleBehavior","asyncAfter","asyncBefore","failedJobRetryTimeCycle","getFailedJobRetryTimeCycle","eventDefinitions","eventDefinition","getEventDefinition","getTimerEventDefinition","isAsyncBefore","isAsyncAfter","OrderExtensionElementsBehavior","modeling","_modeling","postExecuted","newShape","orderCallActivityExtensionElements","input","output","rest","acc","shiftVariablesToFront","values","oldValues","JSON","stringify","updateModdleProperties","array","variablesIndex","findIndex","item","variables","variablesItem","splice","unshift","RemoveInitiatorBehaviour","newParent","isDefined","updateProperties","undefined","RemoveVariableEventBehaviour","newParentBusinessObject","shapeBusinessObject","slice","update","conditionalEventDefinition","variableEvents","UpdateCamundaExclusiveBehavior","preExecute","isExclusive","UpdateInputOutputBehavior","inputOutput","inputParameters","getInputParameters","outputParameters","getOutputParameters","isInputOutputEmpty","UpdateResultVariableBehavior","value","has","UserTaskFormsBehavior","Object","assign","isUndefined","formData","getFormData","formField","isBusinessKey","businessKey","field","__init__","copyPasteBehavior","copyPasteRootElementBehavior","deleteErrorEventDefinitionBehavior","deleteParticipantBehaviour","DeleteParticipantBehaviour","deleteRetryTimeCycleBehavior","orderExtensionElementsBehavior","removeInitiatorBehaviour","removeVariableEventBehaviour","updateCamundaExclusiveBehavior","updateResultVariableBehavior","updateInputOutputBehavior","userTaskFormsBehavior","userTaskGeneratedFormsBehavior","commonModdleExtensions","camunda","options","moddleExtensions","propertiesPanel","tooltip","CamundaPlatformTooltipProvider","call","prototype","_camundaPlatformModules","CamundaPlatformPropertiesProviderModule","_modules","concat"],"sourceRoot":""}