/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkcamunda_modeler_client"] = self["webpackChunkcamunda_modeler_client"] || []).push([["vendors-node_modules_camunda_form-playground_dist_index_es_js"],{

/***/ "../node_modules/@bpmn-io/form-js-editor/dist/index.es.js"
/*!****************************************************************!*\
  !*** ../node_modules/@bpmn-io/form-js-editor/dist/index.es.js ***!
  \****************************************************************/
(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FormEditor: () => (/* binding */ FormEditor),\n/* harmony export */   createFormEditor: () => (/* binding */ createFormEditor),\n/* harmony export */   schemaVersion: () => (/* reexport safe */ _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.schemaVersion),\n/* harmony export */   useDebounce: () => (/* binding */ useDebounce$1),\n/* harmony export */   usePrevious: () => (/* binding */ usePrevious$1),\n/* harmony export */   usePropertiesPanelService: () => (/* binding */ useService),\n/* harmony export */   useService: () => (/* binding */ useService$1),\n/* harmony export */   useVariables: () => (/* binding */ useVariables)\n/* harmony export */ });\n/* harmony import */ var ids__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ids */ \"../node_modules/@bpmn-io/form-js-editor/node_modules/ids/dist/index.js\");\n/* harmony import */ var _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @bpmn-io/form-js-viewer */ \"../node_modules/@bpmn-io/form-js-viewer/dist/index.es.js\");\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! min-dash */ \"../node_modules/min-dash/dist/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! classnames */ \"../node_modules/classnames/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! preact/jsx-runtime */ \"../node_modules/preact/jsx-runtime/dist/jsxRuntime.module.js\");\n/* harmony import */ var preact_hooks__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! preact/hooks */ \"../node_modules/preact/hooks/dist/hooks.module.js\");\n/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! preact */ \"../node_modules/preact/dist/preact.module.js\");\n/* harmony import */ var preact_compat__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! preact/compat */ \"../node_modules/preact/compat/dist/compat.module.js\");\n/* harmony import */ var _bpmn_io_draggle__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @bpmn-io/draggle */ \"../node_modules/@bpmn-io/draggle/dist/draggle.js\");\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! min-dom */ \"../node_modules/min-dom/dist/index.js\");\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! min-dom */ \"../node_modules/domify/index.js\");\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(min_dom__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var array_move__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! array-move */ \"../node_modules/array-move/index.js\");\n/* harmony import */ var feelers__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! feelers */ \"../node_modules/feelers/dist/index.mjs\");\n/* harmony import */ var _bpmn_io_feel_editor__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @bpmn-io/feel-editor */ \"../node_modules/@bpmn-io/feel-editor/dist/index.js\");\n/* harmony import */ var _codemirror_view__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @codemirror/view */ \"../node_modules/@codemirror/view/dist/index.js\");\n/* harmony import */ var focus_trap__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! focus-trap */ \"../node_modules/focus-trap/dist/focus-trap.esm.js\");\n/* harmony import */ var big_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! big.js */ \"../node_modules/big.js/big.mjs\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar FN_REF = '__fn';\nvar DEFAULT_PRIORITY$3 = 1000;\nvar slice = Array.prototype.slice;\n\n/**\n * @typedef { {\n *   stopPropagation(): void;\n *   preventDefault(): void;\n *   cancelBubble: boolean;\n *   defaultPrevented: boolean;\n *   returnValue: any;\n * } } Event\n */\n\n/**\n * @template E\n *\n * @typedef { (event: E & Event, ...any) => any } EventBusEventCallback\n */\n\n/**\n * @typedef { {\n *  priority: number;\n *  next: EventBusListener | null;\n *  callback: EventBusEventCallback<any>;\n * } } EventBusListener\n */\n\n/**\n * A general purpose event bus.\n *\n * This component is used to communicate across a diagram instance.\n * Other parts of a diagram can use it to listen to and broadcast events.\n *\n *\n * ## Registering for Events\n *\n * The event bus provides the {@link EventBus#on} and {@link EventBus#once}\n * methods to register for events. {@link EventBus#off} can be used to\n * remove event registrations. Listeners receive an instance of {@link Event}\n * as the first argument. It allows them to hook into the event execution.\n *\n * ```javascript\n *\n * // listen for event\n * eventBus.on('foo', function(event) {\n *\n *   // access event type\n *   event.type; // 'foo'\n *\n *   // stop propagation to other listeners\n *   event.stopPropagation();\n *\n *   // prevent event default\n *   event.preventDefault();\n * });\n *\n * // listen for event with custom payload\n * eventBus.on('bar', function(event, payload) {\n *   console.log(payload);\n * });\n *\n * // listen for event returning value\n * eventBus.on('foobar', function(event) {\n *\n *   // stop event propagation + prevent default\n *   return false;\n *\n *   // stop event propagation + return custom result\n *   return {\n *     complex: 'listening result'\n *   };\n * });\n *\n *\n * // listen with custom priority (default=1000, higher is better)\n * eventBus.on('priorityfoo', 1500, function(event) {\n *   console.log('invoked first!');\n * });\n *\n *\n * // listen for event and pass the context (`this`)\n * eventBus.on('foobar', function(event) {\n *   this.foo();\n * }, this);\n * ```\n *\n *\n * ## Emitting Events\n *\n * Events can be emitted via the event bus using {@link EventBus#fire}.\n *\n * ```javascript\n *\n * // false indicates that the default action\n * // was prevented by listeners\n * if (eventBus.fire('foo') === false) {\n *   console.log('default has been prevented!');\n * };\n *\n *\n * // custom args + return value listener\n * eventBus.on('sum', function(event, a, b) {\n *   return a + b;\n * });\n *\n * // you can pass custom arguments + retrieve result values.\n * var sum = eventBus.fire('sum', 1, 2);\n * console.log(sum); // 3\n * ```\n *\n * @template [EventMap=null]\n */\nfunction EventBus() {\n  /**\n   * @type { Record<string, EventBusListener> }\n   */\n  this._listeners = {};\n\n  // cleanup on destroy on lowest priority to allow\n  // message passing until the bitter end\n  this.on('diagram.destroy', 1, this._destroy, this);\n}\n\n/**\n * @overlord\n *\n * Register an event listener for events with the given name.\n *\n * The callback will be invoked with `event, ...additionalArguments`\n * that have been passed to {@link EventBus#fire}.\n *\n * Returning false from a listener will prevent the events default action\n * (if any is specified). To stop an event from being processed further in\n * other listeners execute {@link Event#stopPropagation}.\n *\n * Returning anything but `undefined` from a listener will stop the listener propagation.\n *\n * @template T\n *\n * @param {string|string[]} events to subscribe to\n * @param {number} [priority=1000] listen priority\n * @param {EventBusEventCallback<T>} callback\n * @param {any} [that] callback context\n */\n/**\n * Register an event listener for events with the given name.\n *\n * The callback will be invoked with `event, ...additionalArguments`\n * that have been passed to {@link EventBus#fire}.\n *\n * Returning false from a listener will prevent the events default action\n * (if any is specified). To stop an event from being processed further in\n * other listeners execute {@link Event#stopPropagation}.\n *\n * Returning anything but `undefined` from a listener will stop the listener propagation.\n *\n * @template {keyof EventMap} EventName\n *\n * @param {EventName} events to subscribe to\n * @param {number} [priority=1000] listen priority\n * @param {EventBusEventCallback<EventMap[EventName]>} callback\n * @param {any} [that] callback context\n */\nEventBus.prototype.on = function (events, priority, callback, that) {\n  events = (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.isArray)(events) ? events : [events];\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_2__.isFunction)(priority)) {\n    that = callback;\n    callback = priority;\n    priority = DEFAULT_PRIORITY$3;\n  }\n  if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_2__.isNumber)(priority)) {\n    throw new Error('priority must be a number');\n  }\n  var actualCallback = callback;\n  if (that) {\n    actualCallback = (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.bind)(callback, that);\n\n    // make sure we remember and are able to remove\n    // bound callbacks via {@link #off} using the original\n    // callback\n    actualCallback[FN_REF] = callback[FN_REF] || callback;\n  }\n  var self = this;\n  events.forEach(function (e) {\n    self._addListener(e, {\n      priority: priority,\n      callback: actualCallback,\n      next: null\n    });\n  });\n};\n\n/**\n * @overlord\n *\n * Register an event listener that is called only once.\n *\n * @template T\n *\n * @param {string|string[]} events to subscribe to\n * @param {number} [priority=1000] the listen priority\n * @param {EventBusEventCallback<T>} callback\n * @param {any} [that] callback context\n */\n/**\n * Register an event listener that is called only once.\n *\n * @template {keyof EventMap} EventName\n *\n * @param {EventName} events to subscribe to\n * @param {number} [priority=1000] listen priority\n * @param {EventBusEventCallback<EventMap[EventName]>} callback\n * @param {any} [that] callback context\n */\nEventBus.prototype.once = function (events, priority, callback, that) {\n  var self = this;\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_2__.isFunction)(priority)) {\n    that = callback;\n    callback = priority;\n    priority = DEFAULT_PRIORITY$3;\n  }\n  if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_2__.isNumber)(priority)) {\n    throw new Error('priority must be a number');\n  }\n  function wrappedCallback() {\n    wrappedCallback.__isTomb = true;\n    var result = callback.apply(that, arguments);\n    self.off(events, wrappedCallback);\n    return result;\n  }\n\n  // make sure we remember and are able to remove\n  // bound callbacks via {@link #off} using the original\n  // callback\n  wrappedCallback[FN_REF] = callback;\n  this.on(events, priority, wrappedCallback);\n};\n\n/**\n * Removes event listeners by event and callback.\n *\n * If no callback is given, all listeners for a given event name are being removed.\n *\n * @param {string|string[]} events\n * @param {EventBusEventCallback<unknown>} [callback]\n */\nEventBus.prototype.off = function (events, callback) {\n  events = (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.isArray)(events) ? events : [events];\n  var self = this;\n  events.forEach(function (event) {\n    self._removeListener(event, callback);\n  });\n};\n\n/**\n * Create an event recognized be the event bus.\n *\n * @param {Object} data Event data.\n *\n * @return {Event} An event that will be recognized by the event bus.\n */\nEventBus.prototype.createEvent = function (data) {\n  var event = new InternalEvent();\n  event.init(data);\n  return event;\n};\n\n/**\n * Fires an event.\n *\n * @example\n *\n * ```javascript\n * // fire event by name\n * events.fire('foo');\n *\n * // fire event object with nested type\n * var event = { type: 'foo' };\n * events.fire(event);\n *\n * // fire event with explicit type\n * var event = { x: 10, y: 20 };\n * events.fire('element.moved', event);\n *\n * // pass additional arguments to the event\n * events.on('foo', function(event, bar) {\n *   alert(bar);\n * });\n *\n * events.fire({ type: 'foo' }, 'I am bar!');\n * ```\n *\n * @param {string} [type] event type\n * @param {Object} [data] event or event data\n * @param {...any} [args] additional arguments the callback will be called with.\n *\n * @return {any} The return value. Will be set to `false` if the default was prevented.\n */\nEventBus.prototype.fire = function (type, data) {\n  var event, firstListener, returnValue, args;\n  args = slice.call(arguments);\n  if (typeof type === 'object') {\n    data = type;\n    type = data.type;\n  }\n  if (!type) {\n    throw new Error('no event type specified');\n  }\n  firstListener = this._listeners[type];\n  if (!firstListener) {\n    return;\n  }\n\n  // we make sure we fire instances of our home made\n  // events here. We wrap them only once, though\n  if (data instanceof InternalEvent) {\n    // we are fine, we alread have an event\n    event = data;\n  } else {\n    event = this.createEvent(data);\n  }\n\n  // ensure we pass the event as the first parameter\n  args[0] = event;\n\n  // original event type (in case we delegate)\n  var originalType = event.type;\n\n  // update event type before delegation\n  if (type !== originalType) {\n    event.type = type;\n  }\n  try {\n    returnValue = this._invokeListeners(event, args, firstListener);\n  } finally {\n    // reset event type after delegation\n    if (type !== originalType) {\n      event.type = originalType;\n    }\n  }\n\n  // set the return value to false if the event default\n  // got prevented and no other return value exists\n  if (returnValue === undefined && event.defaultPrevented) {\n    returnValue = false;\n  }\n  return returnValue;\n};\n\n/**\n * Handle an error by firing an event.\n *\n * @param {Error} error The error to be handled.\n *\n * @return {boolean} Whether the error was handled.\n */\nEventBus.prototype.handleError = function (error) {\n  return this.fire('error', {\n    error: error\n  }) === false;\n};\nEventBus.prototype._destroy = function () {\n  this._listeners = {};\n};\n\n/**\n * @param {Event} event\n * @param {any[]} args\n * @param {EventBusListener} listener\n *\n * @return {any}\n */\nEventBus.prototype._invokeListeners = function (event, args, listener) {\n  var returnValue;\n  while (listener) {\n    // handle stopped propagation\n    if (event.cancelBubble) {\n      break;\n    }\n    returnValue = this._invokeListener(event, args, listener);\n    listener = listener.next;\n  }\n  return returnValue;\n};\n\n/**\n * @param {Event} event\n * @param {any[]} args\n * @param {EventBusListener} listener\n *\n * @return {any}\n */\nEventBus.prototype._invokeListener = function (event, args, listener) {\n  var returnValue;\n  if (listener.callback.__isTomb) {\n    return returnValue;\n  }\n  try {\n    // returning false prevents the default action\n    returnValue = invokeFunction(listener.callback, args);\n\n    // stop propagation on return value\n    if (returnValue !== undefined) {\n      event.returnValue = returnValue;\n      event.stopPropagation();\n    }\n\n    // prevent default on return false\n    if (returnValue === false) {\n      event.preventDefault();\n    }\n  } catch (error) {\n    if (!this.handleError(error)) {\n      console.error('unhandled error in event listener', error);\n      throw error;\n    }\n  }\n  return returnValue;\n};\n\n/**\n * Add new listener with a certain priority to the list\n * of listeners (for the given event).\n *\n * The semantics of listener registration / listener execution are\n * first register, first serve: New listeners will always be inserted\n * after existing listeners with the same priority.\n *\n * Example: Inserting two listeners with priority 1000 and 1300\n *\n *    * before: [ 1500, 1500, 1000, 1000 ]\n *    * after: [ 1500, 1500, (new=1300), 1000, 1000, (new=1000) ]\n *\n * @param {string} event\n * @param {EventBusListener} newListener\n */\nEventBus.prototype._addListener = function (event, newListener) {\n  var listener = this._getListeners(event),\n    previousListener;\n\n  // no prior listeners\n  if (!listener) {\n    this._setListeners(event, newListener);\n    return;\n  }\n\n  // ensure we order listeners by priority from\n  // 0 (high) to n > 0 (low)\n  while (listener) {\n    if (listener.priority < newListener.priority) {\n      newListener.next = listener;\n      if (previousListener) {\n        previousListener.next = newListener;\n      } else {\n        this._setListeners(event, newListener);\n      }\n      return;\n    }\n    previousListener = listener;\n    listener = listener.next;\n  }\n\n  // add new listener to back\n  previousListener.next = newListener;\n};\n\n/**\n * @param {string} name\n *\n * @return {EventBusListener}\n */\nEventBus.prototype._getListeners = function (name) {\n  return this._listeners[name];\n};\n\n/**\n * @param {string} name\n * @param {EventBusListener} listener\n */\nEventBus.prototype._setListeners = function (name, listener) {\n  this._listeners[name] = listener;\n};\nEventBus.prototype._removeListener = function (event, callback) {\n  var listener = this._getListeners(event),\n    nextListener,\n    previousListener,\n    listenerCallback;\n  if (!callback) {\n    // clear listeners\n    this._setListeners(event, null);\n    return;\n  }\n  while (listener) {\n    nextListener = listener.next;\n    listenerCallback = listener.callback;\n    if (listenerCallback === callback || listenerCallback[FN_REF] === callback) {\n      if (previousListener) {\n        previousListener.next = nextListener;\n      } else {\n        // new first listener\n        this._setListeners(event, nextListener);\n      }\n    }\n    previousListener = listener;\n    listener = nextListener;\n  }\n};\n\n/**\n * A event that is emitted via the event bus.\n */\nfunction InternalEvent() {}\nInternalEvent.prototype.stopPropagation = function () {\n  this.cancelBubble = true;\n};\nInternalEvent.prototype.preventDefault = function () {\n  this.defaultPrevented = true;\n};\nInternalEvent.prototype.init = function (data) {\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.assign)(this, data || {});\n};\n\n/**\n * Invoke function. Be fast...\n *\n * @param {Function} fn\n * @param {any[]} args\n *\n * @return {any}\n */\nfunction invokeFunction(fn, args) {\n  return fn.apply(null, args);\n}\n\n/**\n * A factory to create a configurable debouncer.\n *\n * @param {number|boolean} [config=true]\n */\nfunction DebounceFactory(config = true) {\n  const timeout = typeof config === 'number' ? config : config ? 300 : 0;\n  if (timeout) {\n    return fn => (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.debounce)(fn, timeout);\n  } else {\n    return fn => fn;\n  }\n}\nDebounceFactory.$inject = ['config.debounce'];\n\nclass FormFieldRegistry extends _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.FormFieldRegistry {\n  /**\n   * Updates a form fields id.\n   *\n   * @param {Object} formField\n   * @param {string} newId\n   */\n  updateId(formField, newId) {\n    this._validateId(newId);\n    this._eventBus.fire('formField.updateId', {\n      formField,\n      newId: newId\n    });\n    this.remove(formField);\n    formField.id = newId;\n    this.add(formField);\n\n    // TODO(nikku): make this a proper object graph so we\n    // do not have to deal with IDs this way...\n    if ('components' in formField) {\n      for (const component of formField.components) {\n        component._parent = newId;\n      }\n    }\n  }\n\n  /**\n   * Validate the suitability of the given id and signals a problem\n   * with an exception.\n   *\n   * @param {string} id\n   *\n   * @throws {Error} if id is empty or already assigned\n   */\n  _validateId(id) {\n    if (!id) {\n      throw new Error('formField must have an id');\n    }\n    if (this.get(id)) {\n      throw new Error('formField with id ' + id + ' already added');\n    }\n  }\n}\n\nconst MAX_COLUMNS_PER_ROW = 16;\nconst MAX_COLUMNS = 16;\nconst MIN_COLUMNS = 2;\nconst MAX_FIELDS_PER_ROW = 4;\nclass FormLayoutValidator {\n  /**\n   * @constructor\n   *\n   * @param { import('./FormLayouter').FormLayouter } formLayouter\n   * @param { import('./FormFieldRegistry').FormFieldRegistry } formFieldRegistry\n   */\n  constructor(formLayouter, formFieldRegistry) {\n    this._formLayouter = formLayouter;\n    this._formFieldRegistry = formFieldRegistry;\n  }\n  validateField(field = {}, columns, row) {\n    // allow empty (auto columns)\n    if (Number.isInteger(columns)) {\n      // allow minimum cols\n      if (columns < MIN_COLUMNS) {\n        return `Minimum ${MIN_COLUMNS} columns are allowed`;\n      }\n\n      // allow maximum cols\n      if (columns > MAX_COLUMNS) {\n        return `Maximum ${MAX_COLUMNS} columns are allowed`;\n      }\n    }\n    if (!row) {\n      row = this._formLayouter.getRowForField(field);\n    }\n\n    // calculate columns with and without updated field\n    let sumColumns = parseInt(columns) || 0;\n    let sumFields = 1;\n    let sumAutoCols = columns ? 0 : 1;\n    row.components.forEach(id => {\n      if (field.id === id) {\n        return;\n      }\n      const component = this._formFieldRegistry.get(id);\n      const cols = (component.layout || {}).columns;\n      if (!cols) {\n        sumAutoCols++;\n      }\n      sumColumns += parseInt(cols) || 0;\n      sumFields++;\n    });\n\n    // do not allow overflows\n    if (sumColumns > MAX_COLUMNS_PER_ROW || sumAutoCols > 0 && sumColumns > calculateMaxColumnsWithAuto(sumAutoCols) || columns === MAX_COLUMNS_PER_ROW && sumFields > 1) {\n      return `New value exceeds the maximum of ${MAX_COLUMNS_PER_ROW} columns per row`;\n    }\n    if (sumFields > MAX_FIELDS_PER_ROW) {\n      return `Maximum ${MAX_FIELDS_PER_ROW} fields per row are allowed`;\n    }\n    return null;\n  }\n}\nFormLayoutValidator.$inject = ['formLayouter', 'formFieldRegistry'];\n\n// helper //////////////////////\n\n// on normal screen sizes, auto columns take minimum 2 columns\nfunction calculateMaxColumnsWithAuto(autoCols) {\n  return MAX_COLUMNS_PER_ROW - autoCols * 2;\n}\n\nconst emptyImage = createEmptyImage();\nfunction editorFormFieldClasses(type, {\n  disabled = false\n} = {}) {\n  if (!type) {\n    throw new Error('type required');\n  }\n  return classnames__WEBPACK_IMPORTED_MODULE_3___default()('fjs-form-field', `fjs-form-field-${type}`, {\n    'fjs-disabled': disabled\n  });\n}\n\n/**\n * Add a dragger that calls back the passed function with\n * { event, delta } on drag.\n *\n * @example\n *\n * function dragMove(event, delta) {\n *   // we are dragging (!!)\n * }\n *\n * domElement.addEventListener('dragstart', dragger(dragMove));\n *\n * @param {Function} fn\n *\n * @return {Function} drag start callback function\n */\nfunction createDragger$1(fn) {\n  let self;\n  let startX, startY;\n\n  /** drag start */\n  function onDragStart(event) {\n    self = this;\n    startX = event.clientX;\n    startY = event.clientY;\n\n    // (1) hide drag preview image\n    if (event.dataTransfer) {\n      event.dataTransfer.setDragImage(emptyImage, 0, 0);\n    }\n\n    // (2) setup drag listeners\n\n    // attach drag + cleanup event\n    document.addEventListener('dragover', onDrag);\n    document.addEventListener('dragend', onEnd);\n    document.addEventListener('drop', preventDefault$1);\n  }\n  function onDrag(event) {\n    const delta = {\n      x: event.clientX - startX,\n      y: event.clientY - startY\n    };\n\n    // call provided fn with event, delta\n    return fn.call(self, event, delta);\n  }\n  function onEnd() {\n    document.removeEventListener('dragover', onDrag);\n    document.removeEventListener('dragend', onEnd);\n    document.removeEventListener('drop', preventDefault$1);\n  }\n  return onDragStart;\n}\n\n/**\n * Throttle function call according UI update cycle.\n *\n * @param  {Function} fn\n *\n * @return {Function} throttled fn\n */\nfunction throttle(fn) {\n  let active = false;\n  let lastArgs = [];\n  let lastThis = undefined;\n  return function (...args) {\n    lastArgs = args;\n    lastThis = this;\n    if (active) {\n      return;\n    }\n    active = true;\n    fn.apply(lastThis, lastArgs);\n    window.requestAnimationFrame(function () {\n      lastArgs = lastThis = active = undefined;\n    });\n  };\n}\nfunction preventDefault$1(event) {\n  event.preventDefault();\n  event.stopPropagation();\n}\nfunction createEmptyImage() {\n  const img = new Image();\n  img.src = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';\n  return img;\n}\n\nfunction EditorIFrame(props) {\n  const {\n    field,\n    domId\n  } = props;\n  const {\n    label\n  } = field;\n  const Icon = (0,_bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.iconsByType)(field.type);\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n    class: editorFormFieldClasses(field.type),\n    children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.Label, {\n      id: domId,\n      label: label\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n      class: \"fjs-iframe-placeholder\",\n      id: domId,\n      children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"p\", {\n        class: \"fjs-iframe-placeholder-text\",\n        children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Icon, {\n          width: \"32\",\n          height: \"24\",\n          viewBox: \"0 0 56 56\"\n        }), \"iFrame\"]\n      })\n    })]\n  });\n}\nEditorIFrame.config = _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.IFrame.config;\n\nconst DragAndDropContext = (0,preact__WEBPACK_IMPORTED_MODULE_6__.createContext)({\n  drake: null\n});\n\n/**\n * @param {string} type\n * @param {boolean} [strict]\n *\n * @returns {any}\n */\nfunction getService$1(type, strict) {}\nconst FormEditorContext = (0,preact__WEBPACK_IMPORTED_MODULE_6__.createContext)({\n  getService: getService$1\n});\n\nfunction useService$1(type, strict) {\n  const {\n    getService\n  } = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useContext)(FormEditorContext);\n  return getService(type, strict);\n}\n\nfunction usePrevious$1(value, defaultValue = null) {\n  const ref = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useRef)(defaultValue);\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => ref.current = value, [value]);\n  return ref.current;\n}\n\n/**\n * @param {Function} fn - function to debounce\n */\nfunction useDebounce$1(fn) {\n  const debounce = useService$1('debounce');\n  const callback = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => {\n    return debounce(fn);\n  }, [debounce, fn]);\n\n  // cleanup async side-effect if callback #flush is provided.\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    return () => {\n      typeof callback.flush === 'function' && callback.flush();\n    };\n  }, [callback]);\n  return callback;\n}\n\nvar _path$5;\nfunction _extends$5() { return _extends$5 = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$5.apply(null, arguments); }\nvar SvgClose = function SvgClose(props) {\n  return /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_7__.createElement(\"svg\", _extends$5({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 16,\n    height: 16,\n    fill: \"currentColor\"\n  }, props), _path$5 || (_path$5 = /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_7__.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"m12 4.7-.7-.7L8 7.3 4.7 4l-.7.7L7.3 8 4 11.3l.7.7L8 8.7l3.3 3.3.7-.7L8.7 8z\",\n    clipRule: \"evenodd\"\n  })));\n};\n\nvar _path$4, _path2$1;\nfunction _extends$4() { return _extends$4 = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$4.apply(null, arguments); }\nvar SvgDelete = function SvgDelete(props) {\n  return /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_7__.createElement(\"svg\", _extends$4({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 16,\n    height: 16,\n    fill: \"none\"\n  }, props), /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_7__.createElement(\"rect\", {\n    width: 16,\n    height: 16,\n    x: 0.536,\n    fill: \"#fff\",\n    rx: 3,\n    style: {\n      mixBlendMode: \"multiply\"\n    }\n  }), /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_7__.createElement(\"path\", {\n    fill: \"#fff\",\n    d: \"M0 0h16v16H0z\",\n    style: {\n      mixBlendMode: \"multiply\"\n    },\n    transform: \"translate(.536)\"\n  }), _path$4 || (_path$4 = /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_7__.createElement(\"path\", {\n    fill: \"currentcolor\",\n    d: \"M7.536 6h-1v6h1zm3 0h-1v6h1z\"\n  })), _path2$1 || (_path2$1 = /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_7__.createElement(\"path\", {\n    fill: \"currentcolor\",\n    d: \"M2.536 3v1h1v10a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4h1V3zm2 11V4h8v10zm6-13h-4v1h4z\"\n  })));\n};\n\nvar _path$3;\nfunction _extends$3() { return _extends$3 = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$3.apply(null, arguments); }\nvar SvgDraggable = function SvgDraggable(props) {\n  return /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_7__.createElement(\"svg\", _extends$3({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlSpace: \"preserve\",\n    width: 16,\n    height: 16,\n    fill: \"currentcolor\",\n    viewBox: \"0 0 32 32\"\n  }, props), _path$3 || (_path$3 = /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_7__.createElement(\"path\", {\n    d: \"M10 6h4v4h-4zm8 0h4v4h-4zm-8 8h4v4h-4zm8 0h4v4h-4zm-8 8h4v4h-4zm8 0h4v4h-4z\"\n  })), /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_7__.createElement(\"path\", {\n    d: \"M0 0h32v32H0z\",\n    style: {\n      fill: \"none\"\n    }\n  }));\n};\n\nvar _path$2;\nfunction _extends$2() { return _extends$2 = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$2.apply(null, arguments); }\nvar SvgSearch = function SvgSearch(props) {\n  return /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_7__.createElement(\"svg\", _extends$2({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 15,\n    height: 15,\n    fill: \"none\"\n  }, props), _path$2 || (_path$2 = /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_7__.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"m14.5 13.793-3.776-3.776a5.508 5.508 0 1 0-.707.707l3.776 3.776zM2 6.5a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0\"\n  })));\n};\n\nvar _path$1, _rect, _mask, _path2, _path3, _path4, _path5, _path6;\nfunction _extends$1() { return _extends$1 = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$1.apply(null, arguments); }\nvar SvgEmptyForm = function SvgEmptyForm(props) {\n  return /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_7__.createElement(\"svg\", _extends$1({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 126,\n    height: 96,\n    fill: \"none\"\n  }, props), _path$1 || (_path$1 = /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_7__.createElement(\"path\", {\n    fill: \"#FF832B\",\n    fillRule: \"evenodd\",\n    d: \"M70 78v8a3 3 0 0 1-3 3h-8v-5h6v-6zm0-16h-5V46h5zm0-32h-5v-6h-6v-5h8a3 3 0 0 1 3 3zM43 19v5H27v-5zm-32 0v5H5v6H0v-8a3 3 0 0 1 3-3zM0 46h5v16H0zm0 32h5v6h6v5H3a3 3 0 0 1-3-3zm27 11v-5h16v5z\",\n    clipRule: \"evenodd\"\n  })), _rect || (_rect = /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_7__.createElement(\"rect\", {\n    width: 70,\n    height: 70,\n    fill: \"#E5E5E5\",\n    rx: 3,\n    transform: \"matrix(-1 0 0 1 94 0)\"\n  })), _mask || (_mask = /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_7__.createElement(\"mask\", {\n    id: \"EmptyForm_svg__a\",\n    fill: \"#fff\"\n  }, /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_7__.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M87.085 88.684 75.43 45.185l43.499 11.656-11.044 8.072 8.557 8.556-12.728 12.728-8.557-8.556z\",\n    clipRule: \"evenodd\"\n  }))), _path2 || (_path2 = /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_7__.createElement(\"path\", {\n    fill: \"#393939\",\n    fillRule: \"evenodd\",\n    d: \"M87.085 88.684 75.43 45.185l43.499 11.656-11.044 8.072 8.557 8.556-12.728 12.728-8.557-8.556z\",\n    clipRule: \"evenodd\"\n  })), _path3 || (_path3 = /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_7__.createElement(\"path\", {\n    fill: \"#393939\",\n    d: \"M75.43 45.185 70.6 46.48l-2.241-8.365 8.365 2.242zm11.655 43.499 4.037 2.95-6.163 8.432-2.704-10.088zm31.844-31.843 1.294-4.83 10.088 2.703-8.432 6.163zm-11.044 8.072-3.535 3.535-4.128-4.127 4.713-3.445zm8.557 8.556 3.535-3.535 3.536 3.535-3.536 3.536zm-12.728 12.728 3.536 3.536-3.536 3.535-3.536-3.535zm-8.557-8.556-4.036-2.951 3.444-4.713 4.128 4.128zM80.26 43.89 91.915 87.39l-9.66 2.588L70.6 46.48zm37.375 17.78L74.136 50.014l2.588-9.66 43.499 11.656zm-12.699-.795 11.043-8.072 5.901 8.073-11.043 8.072zm7.971 16.129-8.556-8.557 7.071-7.07 8.556 8.556zm-12.728 5.657 12.728-12.728 7.071 7.07-12.727 12.729zm-1.485-8.557 8.557 8.557-7.072 7.07-8.556-8.556zM83.049 85.733 91.12 74.69l8.073 5.901-8.072 11.044z\",\n    mask: \"url(#EmptyForm_svg__a)\"\n  })), _path4 || (_path4 = /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_7__.createElement(\"path\", {\n    stroke: \"#000\",\n    strokeLinecap: \"round\",\n    strokeWidth: 3,\n    d: \"m69.431 39.163-9.192-9.192\"\n  })), _path5 || (_path5 = /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_7__.createElement(\"path\", {\n    stroke: \"#000\",\n    strokeLinecap: \"round\",\n    strokeWidth: 3,\n    d: \"M1.5-1.5h8\",\n    transform: \"matrix(-1 0 0 1 68.213 50.123)\"\n  })), _path6 || (_path6 = /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_7__.createElement(\"path\", {\n    stroke: \"#000\",\n    strokeLinecap: \"round\",\n    strokeWidth: 3,\n    d: \"M78.969 36.367v-8\"\n  })));\n};\n\nfunction EditorText(props) {\n  const {\n    type,\n    text = ''\n  } = props.field;\n  const Icon = (0,_bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.iconsByType)('text');\n  const templating = useService$1('templating');\n  const expressionLanguage = useService$1('expressionLanguage');\n  if (!text || !text.trim()) {\n    return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n      class: editorFormFieldClasses(type),\n      children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n        class: \"fjs-form-field-placeholder\",\n        children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Icon, {\n          viewBox: \"0 0 54 54\"\n        }), \"Text view is empty\"]\n      })\n    });\n  }\n  if (expressionLanguage.isExpression(text)) {\n    return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n      class: editorFormFieldClasses(type),\n      children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n        class: \"fjs-form-field-placeholder\",\n        children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Icon, {\n          viewBox: \"0 0 54 54\"\n        }), \"Text view is populated by an expression\"]\n      })\n    });\n  }\n  if (templating.isTemplate(text)) {\n    return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n      class: editorFormFieldClasses(type),\n      children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n        class: \"fjs-form-field-placeholder\",\n        children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Icon, {\n          viewBox: \"0 0 54 54\"\n        }), \"Text view is templated\"]\n      })\n    });\n  }\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.Text, {\n    ...props,\n    disableLinks: true\n  });\n}\nEditorText.config = _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.Text.config;\n\nfunction EditorHtml(props) {\n  const {\n    type,\n    content = ''\n  } = props.field;\n  const Icon = (0,_bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.iconsByType)(type);\n  const templating = useService$1('templating');\n  const expressionLanguage = useService$1('expressionLanguage');\n  if (!content || !content.trim()) {\n    return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n      class: editorFormFieldClasses(type),\n      children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n        class: \"fjs-form-field-placeholder\",\n        children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Icon, {\n          viewBox: \"0 0 54 54\"\n        }), \"Html view is empty\"]\n      })\n    });\n  }\n  if (expressionLanguage.isExpression(content)) {\n    return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n      class: editorFormFieldClasses(type),\n      children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n        class: \"fjs-form-field-placeholder\",\n        children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Icon, {\n          viewBox: \"0 0 54 54\"\n        }), \"Html view is populated by an expression\"]\n      })\n    });\n  }\n  if (templating.isTemplate(content)) {\n    return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n      class: editorFormFieldClasses(type),\n      children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n        class: \"fjs-form-field-placeholder\",\n        children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Icon, {\n          viewBox: \"0 0 54 54\"\n        }), \"Html view is templated\"]\n      })\n    });\n  }\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.Html, {\n    ...props,\n    disableLinks: true\n  });\n}\nEditorHtml.config = _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.Html.config;\n\nfunction EditorTable(props) {\n  const {\n    columnsExpression,\n    columns,\n    id,\n    label\n  } = props.field;\n  const shouldUseMockColumns = typeof columnsExpression === 'string' && columnsExpression.length > 0 || Array.isArray(columns) && columns.length === 0;\n  const editorColumns = shouldUseMockColumns ? [{\n    key: '1',\n    label: 'Column 1'\n  }, {\n    key: '2',\n    label: 'Column 2'\n  }, {\n    key: '3',\n    label: 'Column 3'\n  }] : columns;\n  const prefixId = `fjs-form-${id}`;\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n    class: editorFormFieldClasses('table', {\n      disabled: true\n    }),\n    children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.Label, {\n      id: prefixId,\n      label: label\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n      class: \"fjs-table-middle-container\",\n      children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n        class: \"fjs-table-inner-container\",\n        children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"table\", {\n          class: classnames__WEBPACK_IMPORTED_MODULE_3___default()('fjs-table', 'fjs-disabled'),\n          id: prefixId,\n          children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"thead\", {\n            class: \"fjs-table-head\",\n            children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"tr\", {\n              class: \"fjs-table-tr\",\n              children: editorColumns.map(({\n                key,\n                label\n              }) => (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"th\", {\n                class: \"fjs-table-th\",\n                children: label\n              }, key))\n            })\n          }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"tbody\", {\n            class: \"fjs-table-body\",\n            children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"tr\", {\n              class: \"fjs-table-tr\",\n              children: editorColumns.map(({\n                key\n              }) => (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"td\", {\n                class: \"fjs-table-td\",\n                children: \"Content\"\n              }, key))\n            })\n          })]\n        })\n      })\n    })]\n  });\n}\nEditorTable.config = _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.Table.config;\n\nconst type = 'expression';\nfunction EditorExpressionField(props) {\n  const {\n    field\n  } = props;\n  const {\n    expression = '',\n    key\n  } = field;\n  const Icon = (0,_bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.iconsByType)('expression');\n  const expressionLanguage = useService$1('expressionLanguage');\n  let placeholderContent = 'Expression is empty';\n  if (expression.trim() && expressionLanguage.isExpression(expression)) {\n    placeholderContent = `Expression for '${key}'`;\n  }\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n    class: editorFormFieldClasses(type),\n    children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n      class: \"fjs-form-field-placeholder\",\n      children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Icon, {\n        viewBox: \"0 0 54 54\"\n      }), placeholderContent]\n    })\n  });\n}\nEditorExpressionField.config = {\n  ..._bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.ExpressionField.config,\n  escapeGridRender: false\n};\n\nfunction EditorDocumentPreview(props) {\n  const {\n    field,\n    domId\n  } = props;\n  const {\n    label\n  } = field;\n  const Icon = (0,_bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.iconsByType)(field.type);\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n    class: editorFormFieldClasses(field.type),\n    children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.Label, {\n      id: domId,\n      label: label\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n      class: \"fjs-documentPreview-placeholder\",\n      id: domId,\n      children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"p\", {\n        class: \"fjs-documentPreview-placeholder-text\",\n        children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Icon, {\n          width: \"32\",\n          height: \"24\",\n          viewBox: \"0 0 56 56\"\n        }), \"Document preview\"]\n      })\n    })]\n  });\n}\nEditorDocumentPreview.config = _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.DocumentPreview.config;\n\nconst editorFormFields = [EditorIFrame, EditorText, EditorHtml, EditorTable, EditorExpressionField, EditorDocumentPreview];\n\nclass EditorFormFields extends _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.FormFields {\n  constructor() {\n    super();\n    editorFormFields.forEach(formField => {\n      this.register(formField.config.type, formField);\n    });\n  }\n}\n\nconst ModularSection = props => {\n  const {\n    rootClass,\n    RootElement,\n    section,\n    children\n  } = props;\n  const eventBus = useService$1('eventBus');\n  const sectionConfig = useService$1(`config.${section}`);\n  const [parent, setParent] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)(sectionConfig && sectionConfig.parent || null);\n  const [shouldRender, setShouldRender] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)(true);\n  const ParentElement = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => {\n    if (parent === null) {\n      return null;\n    }\n    if (typeof parent === 'string') {\n      const element = document.querySelector(parent);\n      if (!element) {\n        throw new Error(`Target root element with selector '${parent}' not found for section '${section}'`);\n      }\n      return document.querySelector(parent);\n    }\n\n    // @ts-ignore\n    if (!(parent instanceof Element)) {\n      throw new Error(`Target root element for section '${section}' must be a valid selector or DOM element`);\n    }\n    return parent;\n  }, [section, parent]);\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    const onAttach = ({\n      container\n    }) => {\n      setParent(container);\n      setShouldRender(true);\n    };\n    const onDetach = () => {\n      setParent(null);\n      setShouldRender(false);\n    };\n    const onReset = () => {\n      setParent(null);\n      setShouldRender(true);\n    };\n    eventBus.on(`${section}.attach`, onAttach);\n    eventBus.on(`${section}.detach`, onDetach);\n    eventBus.on(`${section}.reset`, onReset);\n    eventBus.fire(`${section}.section.rendered`);\n    return () => {\n      eventBus.off(`${section}.attach`, onAttach);\n      eventBus.off(`${section}.detach`, onDetach);\n      eventBus.off(`${section}.reset`, onReset);\n      eventBus.fire(`${section}.section.destroyed`);\n    };\n  }, [eventBus, section]);\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    if (shouldRender) {\n      eventBus.fire(`${section}.rendered`, {\n        element: ParentElement\n      });\n      return () => {\n        eventBus.fire(`${section}.destroyed`, {\n          element: ParentElement\n        });\n      };\n    }\n  }, [eventBus, section, shouldRender, ParentElement]);\n  const Root = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useCallback)(({\n    children\n  }) => RootElement ? (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(RootElement, {\n    children: children\n  }) : (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n    className: rootClass,\n    children: children\n  }), [rootClass, RootElement]);\n  return shouldRender ? parent ? (0,preact_compat__WEBPACK_IMPORTED_MODULE_7__.createPortal)((0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Root, {\n    children: children\n  }), ParentElement) : (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Root, {\n    children: children\n  }) : null;\n};\n\nconst FillContext = (0,preact__WEBPACK_IMPORTED_MODULE_6__.createContext)({\n  addFill(uid, props) {\n    throw new Error('FillContext.addFill() uninitialized');\n  },\n  removeFill(uid) {\n    throw new Error('FillContext.addFill() uninitialized');\n  }\n});\n\nconst Fill = props => {\n  const uid = (0,preact_compat__WEBPACK_IMPORTED_MODULE_7__.useRef)(Symbol('fill_uid'));\n  const fillContext = (0,preact_compat__WEBPACK_IMPORTED_MODULE_7__.useContext)(FillContext);\n  (0,preact_compat__WEBPACK_IMPORTED_MODULE_7__.useEffect)(() => {\n    if (!fillContext) {\n      return;\n    }\n    fillContext.addFill({\n      id: uid,\n      ...props\n    });\n    return () => {\n      fillContext.removeFill(uid);\n    };\n  }, [fillContext, props]);\n  return null;\n};\n\nconst SlotContext = (0,preact__WEBPACK_IMPORTED_MODULE_6__.createContext)({\n  fills: []\n});\n\nconst Slot = props => {\n  const {\n    name,\n    fillRoot = FillFragment,\n    groupFn = _groupByGroupName,\n    separatorFn = key => null,\n    limit\n  } = props;\n  const {\n    fills\n  } = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useContext)(SlotContext);\n  const filtered = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => fills.filter(fill => fill.slot === name), [fills, name]);\n  const cropped = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => limit ? filtered.slice(0, limit) : filtered, [filtered, limit]);\n  const groups = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => groupFn(cropped), [cropped, groupFn]);\n  const fillsAndSeparators = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => {\n    return buildFills(groups, fillRoot, separatorFn);\n  }, [groups, fillRoot, separatorFn]);\n  return fillsAndSeparators;\n};\n\n/**\n * Creates a Fragment for a fill.\n *\n * @param {Object} fill Fill to be rendered\n * @returns {Object} Preact Fragment containing fill's children\n */\nconst FillFragment = fill => (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(preact__WEBPACK_IMPORTED_MODULE_6__.Fragment, {\n  children: fill.children\n}, fill.id);\n\n/**\n * Creates an array of fills, with separators inserted between groups.\n *\n * @param {Array} groups Groups of fills\n * @param {Function} fillRenderer Function to create a fill\n * @param {Function} separatorRenderer Function to create a separator\n * @returns {Array} Array of fills and separators\n */\nconst buildFills = (groups, fillRenderer, separatorRenderer) => {\n  const result = [];\n  groups.forEach((array, idx) => {\n    if (idx !== 0) {\n      const separator = separatorRenderer(`__separator_${idx}`);\n      if (separator) {\n        result.push(separator);\n      }\n    }\n    array.forEach(fill => {\n      result.push(fillRenderer(fill));\n    });\n  });\n  return result;\n};\n\n/**\n * Groups fills by group name property.\n */\nconst _groupByGroupName = fills => {\n  const groups = [];\n  const groupsById = {};\n  fills.forEach(function (fill) {\n    const {\n      group: groupName = 'z_default'\n    } = fill;\n    let group = groupsById[groupName];\n    if (!group) {\n      groupsById[groupName] = group = [];\n      groups.push(group);\n    }\n    group.push(fill);\n  });\n  groups.forEach(group => group.sort(_comparePriority));\n  return Object.keys(groupsById).sort().map(id => groupsById[id]);\n};\n\n/**\n * Compares fills by priority.\n */\nconst _comparePriority = (a, b) => {\n  return (b.priority || 0) - (a.priority || 0);\n};\n\nconst noop$1 = () => {};\nconst SlotFillRoot = props => {\n  const [fills, setFills] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)([]);\n  const {\n    onSetFill = noop$1,\n    onRemoveFill = noop$1\n  } = props;\n  const fillContext = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => ({\n    addFill: fill => {\n      setFills(fills => [...fills.filter(f => f.id !== fill.id), fill]);\n      onSetFill(fill);\n    },\n    removeFill: id => {\n      setFills(fills => fills.filter(f => f.id !== id));\n      onRemoveFill(id);\n    }\n  }), [onRemoveFill, onSetFill]);\n  const slotContext = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => ({\n    fills\n  }), [fills]);\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(SlotContext.Provider, {\n    value: slotContext,\n    children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(FillContext.Provider, {\n      value: fillContext,\n      children: props.children\n    })\n  });\n};\n\nfunction PaletteEntry(props) {\n  const {\n    type,\n    label,\n    icon,\n    iconUrl,\n    getPaletteIcon\n  } = props;\n  const modeling = useService$1('modeling');\n  const formEditor = useService$1('formEditor');\n  const Icon = getPaletteIcon({\n    icon,\n    iconUrl,\n    label,\n    type\n  });\n  const onKeyDown = event => {\n    if (event.code === 'Enter') {\n      const {\n        fieldType: type\n      } = event.target.dataset;\n      const {\n        schema\n      } = formEditor._getState();\n\n      // add new form field to last position\n      modeling.addFormField({\n        type\n      }, schema, schema.components.length);\n    }\n  };\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"button\", {\n    type: \"button\",\n    class: \"fjs-palette-field fjs-drag-copy fjs-no-drop\",\n    \"data-field-type\": type,\n    title: `Create ${getIndefiniteArticle(type)} ${label} element`,\n    onKeyDown: onKeyDown,\n    children: [Icon ? (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Icon, {\n      class: \"fjs-palette-field-icon\",\n      width: \"36\",\n      height: \"36\",\n      viewBox: \"0 0 54 54\"\n    }) : null, (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"span\", {\n      class: \"fjs-palette-field-text\",\n      children: label\n    })]\n  });\n}\n\n// helpers ///////////\n\nfunction getIndefiniteArticle(type) {\n  if (['image'].includes(type)) {\n    return 'an';\n  }\n  return 'a';\n}\n\nconst PALETTE_GROUPS = [{\n  label: 'Input',\n  id: 'basic-input'\n}, {\n  label: 'Selection',\n  id: 'selection'\n}, {\n  label: 'Presentation',\n  id: 'presentation'\n}, {\n  label: 'Containers',\n  id: 'container'\n}, {\n  label: 'Action',\n  id: 'action'\n}];\nfunction Palette(props) {\n  const formFields = useService$1('formFields');\n  const initialPaletteEntries = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useRef)(collectPaletteEntries(formFields));\n  const [paletteEntries, setPaletteEntries] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)(initialPaletteEntries.current);\n  const [searchTerm, setSearchTerm] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)('');\n\n  /** @type {import(\"preact\").RefObject<HTMLInputElement>} */\n  const inputRef = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useRef)();\n  const groups = groupEntries(paletteEntries);\n  const simplifyString = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useCallback)(str => {\n    return str.toLowerCase().replace(/\\s+/g, '');\n  }, []);\n  const filter = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useCallback)(entry => {\n    const simplifiedSearchTerm = simplifyString(searchTerm);\n    if (!simplifiedSearchTerm) {\n      return true;\n    }\n    const simplifiedEntryLabel = simplifyString(entry.label);\n    const simplifiedEntryType = simplifyString(entry.type);\n    return simplifiedEntryLabel.includes(simplifiedSearchTerm) || simplifiedEntryType.includes(simplifiedSearchTerm);\n  }, [searchTerm, simplifyString]);\n\n  // filter entries on search change\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    const entries = initialPaletteEntries.current.filter(filter);\n    setPaletteEntries(entries);\n  }, [filter, searchTerm]);\n  const handleInput = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useCallback)(event => {\n    setSearchTerm(() => event.target.value);\n  }, [setSearchTerm]);\n  const handleClear = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useCallback)(event => {\n    setSearchTerm('');\n    inputRef.current.focus();\n  }, [inputRef, setSearchTerm]);\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n    class: \"fjs-palette\",\n    children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n      class: \"fjs-palette-header\",\n      title: \"Components\",\n      children: \"Components\"\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n      class: \"fjs-palette-search-container\",\n      children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"span\", {\n        class: \"fjs-palette-search-icon\",\n        children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(SvgSearch, {})\n      }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"input\", {\n        class: \"fjs-palette-search\",\n        ref: inputRef,\n        type: \"text\",\n        placeholder: \"Search components\",\n        value: searchTerm,\n        onInput: handleInput\n      }), searchTerm && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"button\", {\n        type: \"button\",\n        title: \"Clear content\",\n        class: \"fjs-palette-search-clear\",\n        onClick: handleClear,\n        children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(SvgClose, {})\n      })]\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n      class: \"fjs-palette-entries\",\n      children: [groups.map(({\n        label,\n        entries,\n        id\n      }) => (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n        class: \"fjs-palette-group\",\n        \"data-group-id\": id,\n        children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"span\", {\n          class: \"fjs-palette-group-title\",\n          children: label\n        }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n          class: \"fjs-palette-fields fjs-drag-container fjs-no-drop\",\n          children: entries.map(entry => {\n            return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(PaletteEntry, {\n              getPaletteIcon: getPaletteIcon,\n              ...entry\n            }, entry.type);\n          })\n        })]\n      }, id)), groups.length == 0 && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n        class: \"fjs-palette-no-entries\",\n        children: \"No components found.\"\n      })]\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n      class: \"fjs-palette-footer\",\n      children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Slot, {\n        name: \"editor-palette__footer\",\n        fillRoot: FillRoot\n      })\n    })]\n  });\n}\nconst FillRoot = fill => (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n  className: \"fjs-palette-footer-fill\",\n  children: fill.children\n});\n\n// helpers ///////\n\nfunction groupEntries(entries) {\n  const groups = PALETTE_GROUPS.map(group => {\n    return {\n      ...group,\n      entries: []\n    };\n  });\n  const getGroup = id => groups.find(group => id === group.id);\n  entries.forEach(entry => {\n    const {\n      group\n    } = entry;\n    getGroup(group).entries.push(entry);\n  });\n  return groups.filter(g => g.entries.length);\n}\n\n/**\n * Returns a list of palette entries.\n *\n * @param {FormFields} formFields\n * @returns {Array<PaletteEntry>}\n */\nfunction collectPaletteEntries(formFields) {\n  return Object.entries(formFields._formFields).map(([type, formField]) => {\n    const {\n      config: fieldConfig\n    } = formField;\n    return {\n      // fieldConfig.label is used to maintain backwards compatibility with custom form fields\n      label: fieldConfig.name || fieldConfig.label,\n      type: type,\n      group: fieldConfig.group,\n      icon: fieldConfig.icon,\n      iconUrl: fieldConfig.iconUrl\n    };\n  }).filter(({\n    type\n  }) => type !== 'default');\n}\n\n/**\n * There are various options to specify an icon for a palette entry.\n *\n * a) via `iconUrl` property in a form field config\n * b) via `icon` property in a form field config\n * c) via statically defined iconsByType (fallback)\n */\nfunction getPaletteIcon(entry) {\n  const {\n    icon,\n    iconUrl,\n    type,\n    label\n  } = entry;\n  let Icon;\n  if (iconUrl) {\n    Icon = function Icon() {\n      return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"img\", {\n        class: \"fjs-field-icon-image\",\n        width: 36,\n        style: {\n          margin: 'auto'\n        },\n        alt: label,\n        src: (0,_bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.sanitizeImageSource)(iconUrl)\n      });\n    };\n  } else {\n    Icon = icon || (0,_bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.iconsByType)(type);\n  }\n  return Icon;\n}\n\nconst InjectedRendersRoot = () => {\n  const renderInjector = useService$1('renderInjector');\n  const injectedRenderers = renderInjector.fetchRenderers();\n  const injectedProps = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => ({\n    useService: useService$1,\n    components: {\n      Fill,\n      Slot\n    }\n  }), []);\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(preact__WEBPACK_IMPORTED_MODULE_6__.Fragment, {\n    children: injectedRenderers.map(({\n      Renderer\n    }, index) => (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Renderer, {\n      ...injectedProps\n    }, index))\n  });\n};\n\nconst CURSOR_CLS_PATTERN = /^fjs-cursor-.*$/;\nfunction set(mode) {\n  const classes$1 = (0,min_dom__WEBPACK_IMPORTED_MODULE_9__.classes)(document.body);\n  classes$1.removeMatching(CURSOR_CLS_PATTERN);\n  if (mode) {\n    classes$1.add('fjs-cursor-' + mode);\n  }\n}\nfunction unset() {\n  set(null);\n}\n\nconst DRAG_CONTAINER_CLS = 'fjs-drag-container';\nconst DROP_CONTAINER_VERTICAL_CLS = 'fjs-drop-container-vertical';\nconst DROP_CONTAINER_HORIZONTAL_CLS = 'fjs-drop-container-horizontal';\nconst DRAG_MOVE_CLS = 'fjs-drag-move';\nconst DRAG_ROW_MOVE_CLS = 'fjs-drag-row-move';\nconst DRAG_COPY_CLS = 'fjs-drag-copy';\nconst DRAG_NO_DROP_CLS = 'fjs-no-drop';\nconst DRAG_NO_MOVE_CLS = 'fjs-no-move';\nconst ERROR_DROP_CLS = 'fjs-error-drop';\n\n/**\n * @typedef { { id: String, components: Array<any> } } FormRow\n */\n\nclass Dragging {\n  /**\n   * @constructor\n   *\n   * @param { import('../../core/FormFieldRegistry').FormFieldRegistry } formFieldRegistry\n   * @param { import('../../core/FormLayouter').FormLayouter } formLayouter\n   * @param { import('../../core/FormLayoutValidator').FormLayoutValidator } formLayoutValidator\n   * @param { import('../../core/EventBus').EventBus } eventBus\n   * @param { import('../modeling/Modeling').Modeling } modeling\n   * @param { import('@bpmn-io/form-js-viewer').PathRegistry } pathRegistry\n   */\n  constructor(formFieldRegistry, formLayouter, formLayoutValidator, eventBus, modeling, pathRegistry) {\n    this._formFieldRegistry = formFieldRegistry;\n    this._formLayouter = formLayouter;\n    this._formLayoutValidator = formLayoutValidator;\n    this._eventBus = eventBus;\n    this._modeling = modeling;\n    this._pathRegistry = pathRegistry;\n  }\n\n  /**\n   * Calculates position in form schema given the dropped place.\n   *\n   * @param { FormRow } targetRow\n   * @param { any } targetFormField\n   * @param { HTMLElement } sibling\n   * @returns { number }\n   */\n  getTargetIndex(targetRow, targetFormField, sibling) {\n    /** @type HTMLElement */\n    const siblingFormFieldNode = sibling && sibling.querySelector('.fjs-element');\n    const siblingFormField = siblingFormFieldNode && this._formFieldRegistry.get(siblingFormFieldNode.dataset.id);\n\n    // (1) dropped before existing field => place before\n    if (siblingFormField) {\n      return getFormFieldIndex$1(targetFormField, siblingFormField);\n    }\n\n    // (2) dropped in row => place at the end of row (after last field in row)\n    if (targetRow) {\n      return getFormFieldIndex$1(targetFormField, this._formFieldRegistry.get(targetRow.components[targetRow.components.length - 1])) + 1;\n    }\n\n    // (3) dropped as last item\n    return targetFormField.components.length;\n  }\n  validateDrop(element, target) {\n    const formFieldNode = element.querySelector('.fjs-element');\n    const targetRow = this._formLayouter.getRow(target.dataset.rowId);\n    let columns;\n    let formField;\n    let targetParentId;\n    if (formFieldNode) {\n      formField = this._formFieldRegistry.get(formFieldNode.dataset.id);\n      if (!formField) {\n        return 'No associated form field in the registry';\n      }\n      columns = (formField.layout || {}).columns;\n\n      // (1) check for row constraints\n      if (isRow(target)) {\n        targetParentId = getFormParent(target).dataset.id;\n        const rowError = this._formLayoutValidator.validateField(formField, columns, targetRow);\n        if (rowError) {\n          return rowError;\n        }\n      } else {\n        targetParentId = target.dataset.id;\n      }\n\n      // (2) check target is a valid parent\n      if (!targetParentId) {\n        return 'Drop is not a valid target';\n      }\n\n      // (3) check  for path collisions\n      const targetParentFormField = this._formFieldRegistry.get(targetParentId);\n      const currentParentFormField = this._formFieldRegistry.get(formField._parent);\n      if (targetParentFormField !== currentParentFormField) {\n        const targetParentPath = this._pathRegistry.getValuePath(targetParentFormField);\n        const currentParentPath = this._pathRegistry.getValuePath(currentParentFormField);\n        if (targetParentPath.join('.') !== currentParentPath.join('.')) {\n          const isDropAllowedByPathRegistry = this._pathRegistry.executeRecursivelyOnFields(formField, ({\n            field,\n            isClosed,\n            isRepeatable\n          }) => {\n            const options = {\n              cutoffNode: currentParentFormField.id\n            };\n            const fieldPath = this._pathRegistry.getValuePath(field, options);\n            return this._pathRegistry.canClaimPath([...targetParentPath, ...fieldPath], {\n              isClosed,\n              isRepeatable,\n              knownAncestorIds: (0,_bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.getAncestryList)(targetParentId, this._formFieldRegistry)\n            });\n          });\n          if (!isDropAllowedByPathRegistry) {\n            return 'Drop not allowed by path registry';\n          }\n        }\n      }\n    }\n  }\n  moveField(element, source, targetRow, targetFormField, targetIndex) {\n    const formFieldNode = element.querySelector('.fjs-element');\n    const formField = this._formFieldRegistry.get(formFieldNode.dataset.id);\n    const sourceParent = getFormParent(source);\n    const sourceFormField = this._formFieldRegistry.get(sourceParent.dataset.id);\n    const sourceIndex = getFormFieldIndex$1(sourceFormField, formField);\n    const sourceRow = this._formLayouter.getRowForField(formField);\n    this._modeling.moveFormField(formField, sourceFormField, targetFormField, sourceIndex, targetIndex, sourceRow, targetRow);\n  }\n  createNewField(element, targetRow, targetFormField, targetIndex) {\n    const type = element.dataset.fieldType;\n    let attrs = {\n      type\n    };\n    attrs = {\n      ...attrs,\n      _parent: targetFormField.id,\n      layout: {\n        row: targetRow ? targetRow.id : this._formLayouter.nextRowId(),\n        // enable auto columns\n        columns: null\n      }\n    };\n    this._modeling.addFormField(attrs, targetFormField, targetIndex);\n  }\n  handleRowDrop(el, target, source, sibling) {\n    const targetFormField = this._formFieldRegistry.get(target.dataset.id);\n    const rowNode = el.querySelector('.fjs-layout-row');\n    const row = this._formLayouter.getRow(rowNode.dataset.rowId);\n\n    // move each field in the row before first field of sibling row\n    row.components.forEach((id, index) => {\n      const formField = this._formFieldRegistry.get(id);\n      const sourceParent = getFormParent(source);\n      const sourceFormField = this._formFieldRegistry.get(sourceParent.dataset.id);\n      const siblingRowNode = sibling && sibling.querySelector('.fjs-layout-row');\n      const siblingRow = siblingRowNode && this._formLayouter.getRow(siblingRowNode.dataset.rowId);\n      const siblingFormField = sibling && this._formFieldRegistry.get(siblingRow.components[0]);\n      const sourceIndex = getFormFieldIndex$1(sourceFormField, formField);\n      const targetIndex = (siblingRowNode ? getFormFieldIndex$1(targetFormField, siblingFormField) : targetFormField.components.length) + index;\n      this._modeling.moveFormField(formField, sourceFormField, targetFormField, sourceIndex, targetIndex, row, row);\n    });\n  }\n  handleElementDrop(el, target, source, sibling, drake) {\n    // (1) detect drop target\n    const targetFormField = this._formFieldRegistry.get(getFormParent(target).dataset.id);\n    let targetRow;\n\n    // (2.1) dropped in existing row\n    if (isRow(target)) {\n      targetRow = this._formLayouter.getRow(target.dataset.rowId);\n    }\n\n    // (2.2) validate whether drop is allowed\n    const validationError = this.validateDrop(el, target);\n    if (validationError) {\n      return drake.cancel(true);\n    }\n    drake.remove();\n\n    // (3) detect position to drop field in schema order\n    const targetIndex = this.getTargetIndex(targetRow, targetFormField, sibling);\n\n    // (4) create new field or move existing\n    if (isPalette(source)) {\n      this.createNewField(el, targetRow, targetFormField, targetIndex);\n    } else {\n      this.moveField(el, source, targetRow, targetFormField, targetIndex);\n    }\n  }\n\n  /**\n   * @param { { container: Array<string>, direction: string, mirrorContainer: string } } options\n   */\n  createDragulaInstance(options) {\n    const {\n      container,\n      mirrorContainer\n    } = options || {};\n    let dragulaOptions = {\n      direction: function (el, target) {\n        if (isRow(target)) {\n          return 'horizontal';\n        }\n        return 'vertical';\n      },\n      mirrorContainer,\n      isContainer(el) {\n        return container.some(cls => el.classList.contains(cls));\n      },\n      moves(el, source, handle) {\n        return !handle.classList.contains(DRAG_NO_MOVE_CLS) && (el.classList.contains(DRAG_MOVE_CLS) || el.classList.contains(DRAG_COPY_CLS) || el.classList.contains(DRAG_ROW_MOVE_CLS));\n      },\n      copy(el) {\n        return el.classList.contains(DRAG_COPY_CLS);\n      },\n      accepts: (el, target) => {\n        unsetDropNotAllowed(target);\n\n        // allow dropping rows only between rows\n        if (el.classList.contains(DRAG_ROW_MOVE_CLS)) {\n          return !target.classList.contains(DROP_CONTAINER_HORIZONTAL_CLS);\n        }\n\n        // validate field drop\n        const validationError = this.validateDrop(el, target);\n        if (validationError) {\n          // set error feedback to row\n          setDropNotAllowed(target);\n        }\n        return !target.classList.contains(DRAG_NO_DROP_CLS);\n      },\n      transformOffset: (offset, event, element) => {\n        if (element.classList.contains(DRAG_ROW_MOVE_CLS)) {\n          const rowOffset = {\n            x: -5,\n            y: -60\n          };\n          return {\n            left: event.clientX + rowOffset.x,\n            top: event.clientY + rowOffset.y\n          };\n        }\n        if (element.classList.contains(DRAG_MOVE_CLS)) {\n          const iconOffset = {\n            x: -5,\n            y: -15\n          };\n          return {\n            left: event.clientX + iconOffset.x,\n            top: event.clientY + iconOffset.y\n          };\n        }\n        return offset;\n      },\n      slideFactorX: 10,\n      slideFactorY: 5\n    };\n    const dragulaInstance = (0,_bpmn_io_draggle__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(dragulaOptions);\n\n    // bind life cycle events\n    dragulaInstance.on('drag', (element, source) => {\n      this.emit('drag.start', {\n        element,\n        source\n      });\n    });\n    dragulaInstance.on('dragend', element => {\n      this.emit('drag.end', {\n        element\n      });\n    });\n    dragulaInstance.on('drop', (element, target, source, sibling) => {\n      this.emit('drag.drop', {\n        element,\n        target,\n        source,\n        sibling\n      });\n    });\n    dragulaInstance.on('over', (element, container, source) => {\n      this.emit('drag.hover', {\n        element,\n        container,\n        source\n      });\n    });\n    dragulaInstance.on('out', (element, container, source) => {\n      this.emit('drag.out', {\n        element,\n        container,\n        source\n      });\n    });\n    dragulaInstance.on('cancel', (element, container, source) => {\n      this.emit('drag.cancel', {\n        element,\n        container,\n        source\n      });\n    });\n    dragulaInstance.on('drop', (el, target, source, sibling) => {\n      if (!target) {\n        dragulaInstance.remove();\n        return;\n      }\n\n      // (1) handle row drop\n      if (isDragRow(el)) {\n        this.handleRowDrop(el, target, source, sibling);\n      } else {\n        // (2) handle form field drop\n        this.handleElementDrop(el, target, source, sibling, dragulaInstance);\n      }\n    });\n    this.emit('dragula.created', dragulaInstance);\n    return dragulaInstance;\n  }\n  emit(event, context) {\n    this._eventBus.fire(event, context);\n  }\n}\nDragging.$inject = ['formFieldRegistry', 'formLayouter', 'formLayoutValidator', 'eventBus', 'modeling', 'pathRegistry'];\n\n// helper //////////\n\nfunction getFormFieldIndex$1(parent, formField) {\n  let fieldFormIndex = parent.components.length;\n  parent.components.forEach(({\n    id\n  }, index) => {\n    if (id === formField.id) {\n      fieldFormIndex = index;\n    }\n  });\n  return fieldFormIndex;\n}\nfunction isRow(node) {\n  return node.classList.contains('fjs-layout-row');\n}\nfunction isDragRow(node) {\n  return node.classList.contains(DRAG_ROW_MOVE_CLS);\n}\nfunction isPalette(node) {\n  return node.classList.contains('fjs-palette-fields');\n}\nfunction getFormParent(node) {\n  return node.closest('.fjs-element');\n}\nfunction setDropNotAllowed(node) {\n  node.classList.add(ERROR_DROP_CLS);\n  set('not-allowed');\n}\nfunction unsetDropNotAllowed(node) {\n  node.classList.remove(ERROR_DROP_CLS);\n  set('grabbing');\n}\n\nfunction FieldDragPreview(props) {\n  const {\n    class: className,\n    Icon,\n    label\n  } = props;\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n    class: classnames__WEBPACK_IMPORTED_MODULE_3___default()('fjs-field-preview', className),\n    children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Icon, {\n      class: \"fjs-field-preview-icon\",\n      width: \"36\",\n      height: \"36\",\n      viewBox: \"0 0 54 54\"\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"span\", {\n      class: \"fjs-field-preview-text\",\n      children: label\n    })]\n  });\n}\n\nconst COLUMNS_REGEX = /^cds--col(-lg)?/;\nconst ELEMENT_RESIZING_CLS = 'fjs-element-resizing';\nconst GRID_OFFSET_PX = 16;\nfunction FieldResizer(props) {\n  const {\n    field,\n    position\n  } = props;\n  const ref = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useRef)(null);\n  const formLayoutValidator = useService$1('formLayoutValidator');\n  const modeling = useService$1('modeling');\n\n  // we can't use state as we need to\n  // manipulate this inside dragging events\n  const context = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useRef)({\n    startColumns: 0,\n    newColumns: 0\n  });\n  const onResize = throttle((_, delta) => {\n    const {\n      x: dx\n    } = delta;\n    const {\n      layout = {}\n    } = field;\n    const newColumns = calculateNewColumns(ref.current, layout.columns || context.current.startColumns, dx, position);\n    const errorMessage = formLayoutValidator.validateField(field, newColumns);\n    if (!errorMessage) {\n      context.current.newColumns = newColumns;\n\n      // make visual updates to preview change\n      const columnNode = ref.current.closest('.fjs-layout-column');\n      removeMatching(columnNode, COLUMNS_REGEX);\n      columnNode.classList.add(`cds--col-lg-${newColumns}`);\n    }\n  });\n  const onResizeStart = event => {\n    const target = getElementNode(field);\n    const parent = getParent(target);\n\n    // initialize drag handler\n    const onDragStart = createDragger$1(onResize);\n    onDragStart(event);\n\n    // mitigate auto columns on the grid that\n    // has a offset of 16px (1rem) to both side\n    const columnNode = getColumnNode(target);\n    const startWidth = columnNode.getBoundingClientRect().width + GRID_OFFSET_PX;\n    context.current.startColumns = asColumns(startWidth, parent);\n    setResizing(target, position);\n  };\n  const onResizeEnd = () => {\n    const {\n      layout = {}\n    } = field;\n    if (context.current.newColumns) {\n      modeling.editFormField(field, 'layout', {\n        ...layout,\n        columns: context.current.newColumns\n      });\n    }\n    const target = getElementNode(field);\n    unsetResizing(target, position);\n    context.current.newColumns = null;\n  };\n  if (field.type === 'default') {\n    return null;\n  }\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n    ref: ref,\n    class: classnames__WEBPACK_IMPORTED_MODULE_3___default()('fjs-field-resize-handle', 'fjs-field-resize-handle-' + position, DRAG_NO_MOVE_CLS),\n    draggable: true,\n    onDragStart: onResizeStart,\n    onDragEnd: onResizeEnd\n  });\n}\n\n// helper //////\n\nfunction asColumns(width, parent) {\n  const totalWidth = parent.getBoundingClientRect().width;\n  const oneColumn = 1 / 16 * totalWidth;\n  return Math.round(width / oneColumn);\n}\nfunction calculateNewColumns(node, currentColumns, deltaX, position) {\n  const parent = getParent(node);\n\n  // invert delta if we are resizing from the left\n  if (position === 'left') {\n    deltaX = deltaX * -1;\n  }\n  const deltaColumns = asColumns(deltaX, parent);\n  return currentColumns + deltaColumns;\n}\nfunction getParent(node) {\n  return node.closest('.fjs-layout-row');\n}\nfunction removeMatching(node, regex) {\n  return (0,min_dom__WEBPACK_IMPORTED_MODULE_9__.classes)(node).removeMatching(regex);\n}\nfunction getColumnNode(node) {\n  return node.closest('.fjs-layout-column');\n}\nfunction getElementNode(field) {\n  return (0,min_dom__WEBPACK_IMPORTED_MODULE_9__.query)('.fjs-element[data-id=\"' + field.id + '\"]');\n}\nfunction setResizing(node, position) {\n  (0,min_dom__WEBPACK_IMPORTED_MODULE_9__.classes)(node).add(ELEMENT_RESIZING_CLS + '-' + position);\n}\nfunction unsetResizing(node, position) {\n  (0,min_dom__WEBPACK_IMPORTED_MODULE_9__.classes)(node).remove(ELEMENT_RESIZING_CLS + '-' + position);\n}\n\nfunction ContextPad(props) {\n  if (!props.children) {\n    return null;\n  }\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n    class: \"fjs-context-pad\",\n    children: props.children\n  });\n}\nfunction EmptyGroup() {\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n    class: \"fjs-empty-component\",\n    children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"span\", {\n      class: \"fjs-empty-component-text\",\n      children: \"Drag and drop components here.\"\n    })\n  });\n}\nfunction EmptyForm() {\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n    class: \"fjs-empty-editor\",\n    children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n      class: \"fjs-empty-editor-card\",\n      children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(SvgEmptyForm, {}), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"h2\", {\n        children: \"Build your form\"\n      }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"span\", {\n        children: \"Drag and drop components here to start designing.\"\n      }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"span\", {\n        children: \"Use the preview window to test your form.\"\n      })]\n    })\n  });\n}\nfunction Empty(props) {\n  if (['group', 'dynamiclist'].includes(props.field.type)) {\n    return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(EmptyGroup, {});\n  }\n  if (props.field.type === 'default') {\n    return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(EmptyForm, {});\n  }\n  return null;\n}\nfunction Element$1(props) {\n  const eventBus = useService$1('eventBus'),\n    formFieldRegistry = useService$1('formFieldRegistry'),\n    formFields = useService$1('formFields'),\n    modeling = useService$1('modeling'),\n    selection = useService$1('selection');\n  const {\n    hoverInfo\n  } = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useContext)(_bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.FormRenderContext);\n  const {\n    field\n  } = props;\n  const {\n    id,\n    type,\n    showOutline\n  } = field;\n\n  /** @type {import(\"preact\").RefObject<HTMLDivElement>} */\n  const ref = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useRef)();\n  const [hovered, setHovered] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)(false);\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    function scrollIntoView({\n      selection\n    }) {\n      const scrollContainer = (0,_bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.getScrollContainer)(ref.current);\n      if (!selection || selection.type === 'default' || selection.id !== id || !scrollContainer || !ref.current) {\n        return;\n      }\n      const elementBounds = ref.current.getBoundingClientRect();\n      const scrollContainerBounds = scrollContainer.getBoundingClientRect();\n      const isElementLarger = elementBounds.height > scrollContainerBounds.height;\n      const isNotFullyVisible = elementBounds.bottom > scrollContainerBounds.bottom || elementBounds.top < scrollContainerBounds.top;\n      if (isNotFullyVisible && !isElementLarger) {\n        ref.current.scrollIntoView({\n          behavior: 'auto',\n          block: 'nearest'\n        });\n      }\n    }\n    eventBus.on('selection.changed', scrollIntoView);\n    return () => eventBus.off('selection.changed', scrollIntoView);\n  }, [eventBus, id]);\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useLayoutEffect)(() => {\n    if (selection.isSelected(field)) {\n      ref.current.focus();\n    }\n  }, [selection, field]);\n  const onClick = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useCallback)(event => {\n    // TODO(nikku): refactor this to use proper DOM delegation\n    const fieldEl = event.target.closest('[data-id]');\n    if (!fieldEl) {\n      return;\n    }\n    const id = fieldEl.dataset.id;\n    if (id === field.id) {\n      selection.toggle(field);\n    }\n  }, [field, selection]);\n  const isSelected = selection.isSelected(field);\n  const classString = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => {\n    const classes = [];\n    if (props.class) {\n      classes.push(...props.class.split(' '));\n    }\n    if (isSelected) {\n      classes.push('fjs-editor-selected');\n    }\n    const grouplike = ['group', 'dynamiclist'].includes(type);\n    if (grouplike) {\n      classes.push(showOutline ? 'fjs-outlined' : 'fjs-dashed-outlined');\n    }\n    if (hovered) {\n      classes.push('fjs-editor-hovered');\n    }\n    return classes.join(' ');\n  }, [hovered, isSelected, props.class, showOutline, type]);\n  const onRemove = event => {\n    event.stopPropagation();\n    const parentField = formFieldRegistry.get(field._parent);\n    const index = getFormFieldIndex(parentField, field);\n    modeling.removeFormField(field, parentField, index);\n  };\n  const onKeyPress = event => {\n    if (event.key === 'Enter') {\n      event.stopPropagation();\n      selection.toggle(field);\n    }\n  };\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n    class: classString,\n    \"data-id\": id,\n    \"data-field-type\": type,\n    tabIndex: type === 'default' ? -1 : 0,\n    onClick: onClick,\n    onKeyPress: onKeyPress,\n    onMouseOver: e => {\n      if (hoverInfo.cleanup) {\n        hoverInfo.cleanup();\n      }\n      setHovered(true);\n      hoverInfo.cleanup = () => setHovered(false);\n      e.stopPropagation();\n    },\n    ref: ref,\n    children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(DebugColumns, {\n      field: field\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(ContextPad, {\n      children: selection.isSelected(field) && field.type !== 'default' ? (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"button\", {\n        type: \"button\",\n        title: getRemoveButtonTitle(field, formFields),\n        class: \"fjs-context-pad-item\",\n        onClick: onRemove,\n        children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(SvgDelete, {})\n      }) : null\n    }), props.children, (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(FieldResizer, {\n      position: \"left\",\n      field: field\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(FieldResizer, {\n      position: \"right\",\n      field: field\n    })]\n  });\n}\nfunction DebugColumns(props) {\n  const {\n    field\n  } = props;\n  const debugColumnsConfig = useService$1('config.debugColumns');\n  if (!debugColumnsConfig || field.type == 'default') {\n    return null;\n  }\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n    style: \"width: fit-content; padding: 2px 6px; height: 16px; background: var(--color-blue-205-100-95); display: flex; justify-content: center; align-items: center; position: absolute; bottom: -2px; z-index: 2; font-size: 10px; right: 3px;\",\n    class: \"fjs-debug-columns\",\n    children: (field.layout || {}).columns || 'auto'\n  });\n}\nfunction Children(props) {\n  const {\n    field\n  } = props;\n  const {\n    id\n  } = field;\n  const classes = ['fjs-children', DROP_CONTAINER_VERTICAL_CLS];\n  if (props.class) {\n    classes.push(...props.class.split(' '));\n  }\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n    class: classes.join(' '),\n    \"data-id\": id,\n    children: props.children\n  });\n}\nfunction Row(props) {\n  const {\n    row\n  } = props;\n  const {\n    id\n  } = row;\n  const classes = [DROP_CONTAINER_HORIZONTAL_CLS];\n  if (props.class) {\n    classes.push(...props.class.split(' '));\n  }\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n    class: classnames__WEBPACK_IMPORTED_MODULE_3___default()(DRAG_ROW_MOVE_CLS),\n    children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"span\", {\n      class: \"fjs-row-dragger\",\n      children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(SvgDraggable, {})\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n      class: classes.join(' '),\n      style: props.style,\n      \"data-row-id\": id,\n      children: props.children\n    })]\n  });\n}\nfunction Column(props) {\n  const {\n    field\n  } = props;\n  const classes = [DRAG_MOVE_CLS];\n  if (field.type === 'default') {\n    return props.children;\n  }\n  if (props.class) {\n    classes.push(...props.class.split(' '));\n  }\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n    \"data-field-type\": field.type,\n    class: classes.join(' '),\n    children: props.children\n  });\n}\nfunction FormEditor$1() {\n  const dragging = useService$1('dragging'),\n    eventBus = useService$1('eventBus'),\n    formEditor = useService$1('formEditor'),\n    injector = useService$1('injector'),\n    selection = useService$1('selection'),\n    propertiesPanel = useService$1('propertiesPanel'),\n    propertiesPanelConfig = useService$1('config.propertiesPanel');\n  const {\n    schema,\n    properties\n  } = formEditor._getState();\n  const {\n    ariaLabel\n  } = properties;\n  const formContainerRef = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useRef)(null);\n  const propertiesPanelRef = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useRef)(null);\n  const [, setSelection] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)(schema);\n  const [hasInitialized, setHasInitialized] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)(false);\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    function handleSelectionChanged(event) {\n      setSelection(event.selection || schema);\n    }\n    eventBus.on('selection.changed', handleSelectionChanged);\n    return () => {\n      eventBus.off('selection.changed', handleSelectionChanged);\n    };\n  }, [eventBus, schema]);\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    setSelection(selection.get() || schema);\n  }, [selection, schema]);\n  const [drake, setDrake] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)(null);\n  const dragAndDropContext = {\n    drake\n  };\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    let dragulaInstance = dragging.createDragulaInstance({\n      container: [DRAG_CONTAINER_CLS, DROP_CONTAINER_VERTICAL_CLS, DROP_CONTAINER_HORIZONTAL_CLS],\n      mirrorContainer: formContainerRef.current\n    });\n    setDrake(dragulaInstance);\n    const onDetach = () => {\n      if (dragulaInstance) {\n        dragulaInstance.destroy();\n        eventBus.fire('dragula.destroyed');\n      }\n    };\n    const onAttach = () => {\n      onDetach();\n      dragulaInstance = dragging.createDragulaInstance({\n        container: [DRAG_CONTAINER_CLS, DROP_CONTAINER_VERTICAL_CLS, DROP_CONTAINER_HORIZONTAL_CLS],\n        mirrorContainer: formContainerRef.current\n      });\n      setDrake(dragulaInstance);\n    };\n    const onCreate = drake => {\n      setDrake(drake);\n    };\n    const onDragStart = () => {\n      set('grabbing');\n    };\n    const onDragEnd = () => {\n      unset();\n    };\n    eventBus.on('attach', onAttach);\n    eventBus.on('detach', onDetach);\n    eventBus.on('dragula.created', onCreate);\n    eventBus.on('drag.start', onDragStart);\n    eventBus.on('drag.end', onDragEnd);\n    return () => {\n      onDetach();\n      eventBus.off('attach', onAttach);\n      eventBus.off('detach', onDetach);\n      eventBus.off('dragula.created', onCreate);\n      eventBus.off('drag.start', onDragStart);\n      eventBus.off('drag.end', onDragEnd);\n    };\n  }, [dragging, eventBus]);\n\n  // fire event after render to notify interested parties\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    if (hasInitialized) {\n      return;\n    }\n    setHasInitialized(true);\n    eventBus.fire('rendered');\n\n    // keep deprecated event to ensure backward compatibility\n    eventBus.fire('formEditor.rendered');\n  }, [eventBus, hasInitialized]);\n  const formRenderContext = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => ({\n    Children,\n    Column,\n    Element: Element$1,\n    Empty,\n    Row,\n    hoverInfo: {}\n  }), []);\n  const formContext = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => ({\n    getService(type, strict = true) {\n      // TODO(philippfromme): clean up\n      if (type === 'form') {\n        return {\n          _getState() {\n            return {\n              data: {},\n              errors: {},\n              properties: {\n                ariaLabel,\n                disabled: true\n              },\n              schema\n            };\n          }\n        };\n      }\n      return injector.get(type, strict);\n    },\n    formId: formEditor._id\n  }), [ariaLabel, formEditor, injector, schema]);\n  const onSubmit = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useCallback)(() => {}, []);\n  const onReset = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useCallback)(() => {}, []);\n\n  // attach default properties panel\n  const hasDefaultPropertiesPanel = defaultPropertiesPanel(propertiesPanelConfig);\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    if (hasDefaultPropertiesPanel) {\n      propertiesPanel.attachTo(propertiesPanelRef.current);\n    }\n  }, [propertiesPanelRef, propertiesPanel, hasDefaultPropertiesPanel]);\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n    class: \"fjs-form-editor\",\n    children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(SlotFillRoot, {\n      children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(DragAndDropContext.Provider, {\n        value: dragAndDropContext,\n        children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(ModularSection, {\n          rootClass: \"fjs-palette-container\",\n          section: \"palette\",\n          children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Palette, {})\n        }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n          ref: formContainerRef,\n          class: \"fjs-form-container\",\n          children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.FormContext.Provider, {\n            value: formContext,\n            children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.FormRenderContext.Provider, {\n              // @ts-ignore\n              value: formRenderContext,\n              children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.FormComponent, {\n                onSubmit: onSubmit,\n                onReset: onReset\n              })\n            })\n          })\n        }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(CreatePreview, {})]\n      }), hasDefaultPropertiesPanel && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n        class: \"fjs-editor-properties-container\",\n        ref: propertiesPanelRef\n      }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(ModularSection, {\n        rootClass: \"fjs-render-injector-container\",\n        section: \"renderInjector\",\n        children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(InjectedRendersRoot, {})\n      })]\n    })\n  });\n}\nfunction getFormFieldIndex(parent, formField) {\n  let fieldFormIndex = parent.components.length;\n  parent.components.forEach(({\n    id\n  }, index) => {\n    if (id === formField.id) {\n      fieldFormIndex = index;\n    }\n  });\n  return fieldFormIndex;\n}\nfunction CreatePreview(props) {\n  const {\n    drake\n  } = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useContext)(DragAndDropContext);\n  const formFields = useService$1('formFields');\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    if (!drake) {\n      return;\n    }\n    function handleCloned(clone, original, type) {\n      const fieldType = clone.dataset.fieldType;\n\n      // (1) field preview\n      if (fieldType) {\n        const paletteEntry = findPaletteEntry(fieldType, formFields);\n        if (!paletteEntry) {\n          return;\n        }\n        const {\n          label\n        } = paletteEntry;\n        const Icon = getPaletteIcon(paletteEntry);\n        clone.innerHTML = '';\n        clone.class = 'gu-mirror';\n        clone.classList.add('fjs-field-preview-container');\n        if (original.classList.contains('fjs-palette-field')) {\n          // default to auto columns when creating from palette\n          clone.classList.add('cds--col');\n        }\n\n        // todo(pinussilvestrus): dragula, how to mitigate cursor position\n        // https://github.com/bevacqua/dragula/issues/285\n        (0,preact__WEBPACK_IMPORTED_MODULE_6__.render)((0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(FieldDragPreview, {\n          label: label,\n          Icon: Icon\n        }), clone);\n      } else {\n        // (2) row preview\n\n        // remove elements from copy (context pad, row dragger, ...)\n        ['fjs-context-pad', 'fjs-row-dragger', 'fjs-debug-columns'].forEach(cls => {\n          const cloneNode = clone.querySelectorAll('.' + cls);\n          cloneNode.length && cloneNode.forEach(e => e.remove());\n        });\n\n        // mirror grid\n        clone.classList.add('cds--grid');\n        clone.classList.add('cds--grid--condensed');\n      }\n    }\n    drake.on('cloned', handleCloned);\n    return () => drake.off('cloned', handleCloned);\n  }, [drake, formFields]);\n  return null;\n}\n\n// helper //////\n\nfunction findPaletteEntry(type, formFields) {\n  return collectPaletteEntries(formFields).find(entry => entry.type === type);\n}\nfunction defaultPropertiesPanel(propertiesPanelConfig) {\n  return !(propertiesPanelConfig && propertiesPanelConfig.parent);\n}\nfunction getRemoveButtonTitle(formField, formFields) {\n  const entry = findPaletteEntry(formField.type, formFields);\n  if (!entry) {\n    return 'Remove form field';\n  }\n  return `Remove ${entry.label}`;\n}\n\nclass Renderer {\n  constructor(renderConfig, eventBus, formEditor, injector) {\n    const {\n      container,\n      compact = false\n    } = renderConfig;\n    eventBus.on('form.init', function () {\n      // emit <canvas.init> so dependent components can hook in\n      // this is required to register keyboard bindings\n      eventBus.fire('canvas.init', {\n        svg: container,\n        viewport: null\n      });\n    });\n\n    // focus container on over if no selection\n    container.addEventListener('mouseover', function () {\n      if (document.activeElement === document.body) {\n        container.focus({\n          preventScroll: true\n        });\n      }\n    });\n\n    // ensure we focus the container if the users clicks\n    // inside; this follows input focus handling closely\n    container.addEventListener('click', function (event) {\n      // force focus when clicking container\n      if (!container.contains(document.activeElement)) {\n        container.focus({\n          preventScroll: true\n        });\n      }\n    });\n    const App = () => {\n      const [state, setState] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)(formEditor._getState());\n      const formEditorContext = {\n        getService(type, strict = true) {\n          return injector.get(type, strict);\n        }\n      };\n      formEditor.on('changed', newState => {\n        setState(newState);\n      });\n      const {\n        schema\n      } = state;\n      if (!schema) {\n        return null;\n      }\n      return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n        class: `fjs-container fjs-editor-container ${compact ? 'fjs-editor-compact' : ''}`,\n        children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(FormEditorContext.Provider, {\n          value: formEditorContext,\n          children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(FormEditor$1, {})\n        })\n      });\n    };\n    eventBus.on('form.init', () => {\n      (0,preact__WEBPACK_IMPORTED_MODULE_6__.render)((0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(App, {}), container);\n    });\n    eventBus.on('form.destroy', () => {\n      (0,preact__WEBPACK_IMPORTED_MODULE_6__.render)(null, container);\n    });\n  }\n}\nRenderer.$inject = ['config.renderer', 'eventBus', 'formEditor', 'injector'];\n\nconst RenderModule = {\n  __init__: ['formFields', 'renderer'],\n  formFields: ['type', EditorFormFields],\n  renderer: ['type', Renderer]\n};\n\nconst CoreModule = {\n  __depends__: [RenderModule],\n  debounce: ['factory', DebounceFactory],\n  eventBus: ['type', EventBus],\n  importer: ['type', _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.Importer],\n  formFieldRegistry: ['type', FormFieldRegistry],\n  pathRegistry: ['type', _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.PathRegistry],\n  formLayouter: ['type', _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.FormLayouter],\n  formLayoutValidator: ['type', FormLayoutValidator],\n  fieldFactory: ['type', _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.FieldFactory]\n};\n\n/**\n * @typedef {import('didi').Injector} Injector\n *\n * @typedef {import('../../core/EventBus').default} EventBus\n */\n\nvar NOT_REGISTERED_ERROR = 'is not a registered action',\n  IS_REGISTERED_ERROR = 'is already registered';\n\n/**\n * An interface that provides access to modeling actions by decoupling\n * the one who requests the action to be triggered and the trigger itself.\n *\n * It's possible to add new actions by registering them with registerAction\n * and likewise unregister existing ones with unregisterAction.\n *\n *\n * ## Life-Cycle and configuration\n *\n * The editor actions will wait for diagram initialization before\n * registering default actions _and_ firing an `editorActions.init` event.\n *\n * Interested parties may listen to the `editorActions.init` event with\n * low priority to check, which actions got registered. Other components\n * may use the event to register their own actions via `registerAction`.\n *\n * @param {EventBus} eventBus\n * @param {Injector} injector\n */\nfunction EditorActions(eventBus, injector) {\n  // initialize actions\n  this._actions = {};\n  var self = this;\n  eventBus.on('diagram.init', function () {\n    // all diagram modules got loaded; check which ones\n    // are available and register the respective default actions\n    self._registerDefaultActions(injector);\n\n    // ask interested parties to register available editor\n    // actions on diagram initialization\n    eventBus.fire('editorActions.init', {\n      editorActions: self\n    });\n  });\n}\nEditorActions.$inject = ['eventBus', 'injector'];\n\n/**\n * Register default actions.\n *\n * @param {Injector} injector\n */\nEditorActions.prototype._registerDefaultActions = function (injector) {\n  // (1) retrieve optional components to integrate with\n\n  var commandStack = injector.get('commandStack', false);\n  var modeling = injector.get('modeling', false);\n  var selection = injector.get('selection', false);\n  var zoomScroll = injector.get('zoomScroll', false);\n  var copyPaste = injector.get('copyPaste', false);\n  var canvas = injector.get('canvas', false);\n  var rules = injector.get('rules', false);\n  var keyboardMove = injector.get('keyboardMove', false);\n  var keyboardMoveSelection = injector.get('keyboardMoveSelection', false);\n\n  // (2) check components and register actions\n\n  if (commandStack) {\n    this.register('undo', function () {\n      commandStack.undo();\n    });\n    this.register('redo', function () {\n      commandStack.redo();\n    });\n  }\n  if (copyPaste && selection) {\n    this.register('copy', function () {\n      var selectedElements = selection.get();\n      if (selectedElements.length) {\n        return copyPaste.copy(selectedElements);\n      }\n    });\n  }\n  if (copyPaste && selection) {\n    this.register('duplicate', function () {\n      var selectedElements = selection.get();\n      if (selectedElements.length) {\n        return copyPaste.duplicate(selectedElements);\n      }\n    });\n  }\n  if (copyPaste) {\n    this.register('paste', function () {\n      copyPaste.paste();\n    });\n  }\n  if (copyPaste && selection && rules) {\n    this.register('cut', function () {\n      var selectedElements = selection.get();\n      if (!selectedElements.length) {\n        return;\n      }\n      var allowed = rules.allowed('elements.delete', {\n        elements: selectedElements\n      });\n      if (allowed === false) {\n        return;\n      }\n      var cuttableElements = (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.isArray)(allowed) ? allowed : selectedElements;\n      return copyPaste.cut(cuttableElements.slice());\n    });\n  }\n  if (zoomScroll) {\n    this.register('stepZoom', function (opts) {\n      zoomScroll.stepZoom(opts.value);\n    });\n  }\n  if (canvas) {\n    this.register('zoom', function (opts) {\n      canvas.zoom(opts.value);\n    });\n  }\n  if (modeling && selection && rules) {\n    this.register('removeSelection', function () {\n      var selectedElements = selection.get();\n      if (!selectedElements.length) {\n        return;\n      }\n      var allowed = rules.allowed('elements.delete', {\n          elements: selectedElements\n        }),\n        removableElements;\n      if (allowed === false) {\n        return;\n      } else if ((0,min_dash__WEBPACK_IMPORTED_MODULE_2__.isArray)(allowed)) {\n        removableElements = allowed;\n      } else {\n        removableElements = selectedElements;\n      }\n      if (removableElements.length) {\n        modeling.removeElements(removableElements.slice());\n      }\n    });\n  }\n  if (keyboardMove) {\n    this.register('moveCanvas', function (opts) {\n      keyboardMove.moveCanvas(opts);\n    });\n  }\n  if (keyboardMoveSelection) {\n    this.register('moveSelection', function (opts) {\n      keyboardMoveSelection.moveSelection(opts.direction, opts.accelerated);\n    });\n  }\n};\n\n/**\n * Triggers a registered action\n *\n * @param {string} action\n * @param {Object} opts\n *\n * @return {unknown} Returns what the registered listener returns\n */\nEditorActions.prototype.trigger = function (action, opts) {\n  if (!this._actions[action]) {\n    throw error(action, NOT_REGISTERED_ERROR);\n  }\n  return this._actions[action](opts);\n};\n\n/**\n * Registers a collections of actions.\n * The key of the object will be the name of the action.\n *\n * @example\n *\n * ```javascript\n * var actions = {\n *   spaceTool: function() {\n *     spaceTool.activateSelection();\n *   },\n *   lassoTool: function() {\n *     lassoTool.activateSelection();\n *   }\n * ];\n *\n * editorActions.register(actions);\n *\n * editorActions.isRegistered('spaceTool'); // true\n * ```\n *\n * @param {Object} actions\n */\nEditorActions.prototype.register = function (actions, listener) {\n  var self = this;\n  if (typeof actions === 'string') {\n    return this._registerAction(actions, listener);\n  }\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.forEach)(actions, function (listener, action) {\n    self._registerAction(action, listener);\n  });\n};\n\n/**\n * Registers a listener to an action key\n *\n * @param {string} action\n * @param {Function} listener\n */\nEditorActions.prototype._registerAction = function (action, listener) {\n  if (this.isRegistered(action)) {\n    throw error(action, IS_REGISTERED_ERROR);\n  }\n  this._actions[action] = listener;\n};\n\n/**\n * Unregister an existing action\n *\n * @param {string} action\n */\nEditorActions.prototype.unregister = function (action) {\n  if (!this.isRegistered(action)) {\n    throw error(action, NOT_REGISTERED_ERROR);\n  }\n  this._actions[action] = undefined;\n};\n\n/**\n * Returns the identifiers of all currently registered editor actions\n *\n * @return {string[]}\n */\nEditorActions.prototype.getActions = function () {\n  return Object.keys(this._actions);\n};\n\n/**\n * Checks wether the given action is registered\n *\n * @param {string} action\n *\n * @return {boolean}\n */\nEditorActions.prototype.isRegistered = function (action) {\n  return !!this._actions[action];\n};\nfunction error(action, message) {\n  return new Error(action + ' ' + message);\n}\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\nvar BaseEditorActionsModule = {\n  __init__: ['editorActions'],\n  editorActions: ['type', EditorActions]\n};\n\nclass FormEditorActions extends EditorActions {\n  constructor(eventBus, injector) {\n    super(eventBus, injector);\n    eventBus.on('form.init', () => {\n      this._registerDefaultActions(injector);\n      eventBus.fire('editorActions.init', {\n        editorActions: this\n      });\n    });\n  }\n  _registerDefaultActions(injector) {\n    const commandStack = injector.get('commandStack', false),\n      formFieldRegistry = injector.get('formFieldRegistry', false),\n      selection = injector.get('selection', false);\n    if (commandStack) {\n      // @ts-ignore\n      this.register('undo', () => {\n        commandStack.undo();\n      });\n\n      // @ts-ignore\n      this.register('redo', () => {\n        commandStack.redo();\n      });\n    }\n    if (formFieldRegistry && selection) {\n      // @ts-ignore\n      this.register('selectFormField', (options = {}) => {\n        const {\n          id\n        } = options;\n        if (!id) {\n          return;\n        }\n        const formField = formFieldRegistry.get(id);\n        if (formField) {\n          selection.set(formField);\n        }\n      });\n    }\n  }\n}\nFormEditorActions.$inject = ['eventBus', 'injector'];\n\nconst EditorActionsModule = {\n  __depends__: [BaseEditorActionsModule],\n  editorActions: ['type', FormEditorActions]\n};\n\nclass EditorTemplating {\n  // same rules as viewer templating\n  isTemplate(value) {\n    return (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.isString)(value) && (value.startsWith('=') || /{{/.test(value));\n  }\n\n  // return the template raw, as we usually just want to display that\n  evaluate(template) {\n    return template;\n  }\n}\nEditorTemplating.$inject = [];\n\nconst EditorExpressionLanguageModule = {\n  __init__: ['expressionLanguage', 'templating'],\n  expressionLanguage: ['type', _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.FeelExpressionLanguage],\n  templating: ['type', EditorTemplating]\n};\n\nvar KEYS_COPY = ['c', 'C'];\nvar KEYS_PASTE = ['v', 'V'];\nvar KEYS_DUPLICATE = ['d', 'D'];\nvar KEYS_CUT = ['x', 'X'];\nvar KEYS_REDO = ['y', 'Y'];\nvar KEYS_UNDO = ['z', 'Z'];\n\n/**\r\n * Returns true if event was triggered with any modifier\r\n * @param {KeyboardEvent} event\r\n */\nfunction hasModifier(event) {\n  return event.ctrlKey || event.metaKey || event.shiftKey || event.altKey;\n}\n\n/**\r\n * @param {KeyboardEvent} event\r\n * @return {boolean}\r\n */\nfunction isCmd$1(event) {\n  // ensure we don't react to AltGr\n  // (mapped to CTRL + ALT)\n  if (event.altKey) {\n    return false;\n  }\n  return event.ctrlKey || event.metaKey;\n}\n\n/**\r\n * Checks if key pressed is one of provided keys.\r\n *\r\n * @param {string|string[]} keys\r\n * @param {KeyboardEvent} event\r\n * @return {boolean}\r\n */\nfunction isKey(keys, event) {\n  keys = (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.isArray)(keys) ? keys : [keys];\n  return keys.indexOf(event.key) !== -1 || keys.indexOf(event.code) !== -1;\n}\n\n/**\r\n * @param {KeyboardEvent} event\r\n */\nfunction isShift(event) {\n  return event.shiftKey;\n}\n\n/**\r\n * @param {KeyboardEvent} event\r\n */\nfunction isCopy(event) {\n  return isCmd$1(event) && isKey(KEYS_COPY, event);\n}\n\n/**\r\n * @param {KeyboardEvent} event\r\n */\nfunction isPaste(event) {\n  return isCmd$1(event) && isKey(KEYS_PASTE, event);\n}\n\n/**\r\n * @param {KeyboardEvent} event\r\n */\nfunction isDuplicate(event) {\n  return isCmd$1(event) && isKey(KEYS_DUPLICATE, event);\n}\n\n/**\r\n * @param {KeyboardEvent} event\r\n */\nfunction isCut(event) {\n  return isCmd$1(event) && isKey(KEYS_CUT, event);\n}\n\n/**\r\n * @param {KeyboardEvent} event\r\n */\nfunction isUndo(event) {\n  return isCmd$1(event) && !isShift(event) && isKey(KEYS_UNDO, event);\n}\n\n/**\r\n * @param {KeyboardEvent} event\r\n */\nfunction isRedo(event) {\n  return isCmd$1(event) && (isKey(KEYS_REDO, event) || isKey(KEYS_UNDO, event) && isShift(event));\n}\n\n/**\n * @typedef {import('../../core/EventBus').default} EventBus\n *\n * @typedef {({ keyEvent: KeyboardEvent }) => any} Listener\n */\n\nvar KEYDOWN_EVENT = 'keyboard.keydown',\n  KEYUP_EVENT = 'keyboard.keyup';\nvar DEFAULT_PRIORITY$2 = 1000;\nvar compatMessage = 'Keyboard binding is now implicit; explicit binding to an element got removed. For more information, see https://github.com/bpmn-io/diagram-js/issues/661';\n\n/**\n * A keyboard abstraction that may be activated and\n * deactivated by users at will, consuming global key events\n * and triggering diagram actions.\n *\n * For keys pressed down, keyboard fires `keyboard.keydown` event.\n * The event context contains one field which is `KeyboardEvent` event.\n *\n * The implementation fires the following key events that allow\n * other components to hook into key handling:\n *\n *  - keyboard.bind\n *  - keyboard.unbind\n *  - keyboard.init\n *  - keyboard.destroy\n *\n * All events contain one field which is node.\n *\n * Specify the initial keyboard binding state via the\n * `keyboard.bind=true|false` configuration option.\n *\n * @param {Object} config\n * @param {boolean} [config.bind]\n * @param {EventBus} eventBus\n */\nfunction Keyboard(config, eventBus) {\n  var self = this;\n  this._config = config = config || {};\n  this._eventBus = eventBus;\n  this._keydownHandler = this._keydownHandler.bind(this);\n  this._keyupHandler = this._keyupHandler.bind(this);\n\n  // properly clean dom registrations\n  eventBus.on('diagram.destroy', function () {\n    self._fire('destroy');\n    self.unbind();\n  });\n  if (config.bindTo) {\n    console.error('unsupported configuration <keyboard.bindTo>', new Error(compatMessage));\n  }\n  var bind = config && config.bind !== false;\n  eventBus.on('canvas.init', function (event) {\n    self._target = event.svg;\n    if (bind) {\n      self.bind();\n    }\n    self._fire('init');\n  });\n}\nKeyboard.$inject = ['config.keyboard', 'eventBus'];\nKeyboard.prototype._keydownHandler = function (event) {\n  this._keyHandler(event, KEYDOWN_EVENT);\n};\nKeyboard.prototype._keyupHandler = function (event) {\n  this._keyHandler(event, KEYUP_EVENT);\n};\nKeyboard.prototype._keyHandler = function (event, type) {\n  var eventBusResult;\n  if (this._isEventIgnored(event)) {\n    return;\n  }\n  var context = {\n    keyEvent: event\n  };\n  eventBusResult = this._eventBus.fire(type || KEYDOWN_EVENT, context);\n  if (eventBusResult) {\n    event.preventDefault();\n  }\n};\nKeyboard.prototype._isEventIgnored = function (event) {\n  return false;\n};\n\n/**\n * Bind keyboard events to the given DOM node.\n *\n * @overlord\n * @deprecated No longer in use since version 15.0.0.\n *\n * @param {EventTarget} node\n */\n/**\n * Bind keyboard events to the canvas node.\n */\nKeyboard.prototype.bind = function (node) {\n  // legacy <node> argument provided\n  if (node) {\n    console.error('unsupported argument <node>', new Error(compatMessage));\n  }\n\n  // make sure that the keyboard is only bound once to the DOM\n  this.unbind();\n  node = this._node = this._target;\n\n  // bind key events\n  min_dom__WEBPACK_IMPORTED_MODULE_9__.event.bind(node, 'keydown', this._keydownHandler);\n  min_dom__WEBPACK_IMPORTED_MODULE_9__.event.bind(node, 'keyup', this._keyupHandler);\n  this._fire('bind');\n};\n\n/**\n * @return {EventTarget}\n */\nKeyboard.prototype.getBinding = function () {\n  return this._node;\n};\nKeyboard.prototype.unbind = function () {\n  var node = this._node;\n  if (node) {\n    this._fire('unbind');\n\n    // unbind key events\n    min_dom__WEBPACK_IMPORTED_MODULE_9__.event.unbind(node, 'keydown', this._keydownHandler);\n    min_dom__WEBPACK_IMPORTED_MODULE_9__.event.unbind(node, 'keyup', this._keyupHandler);\n  }\n  this._node = null;\n};\n\n/**\n * @param {string} event\n */\nKeyboard.prototype._fire = function (event) {\n  this._eventBus.fire('keyboard.' + event, {\n    node: this._node\n  });\n};\n\n/**\n * Add a listener function that is notified with `KeyboardEvent` whenever\n * the keyboard is bound and the user presses a key. If no priority is\n * provided, the default value of 1000 is used.\n *\n * @param {number} [priority]\n * @param {Listener} listener\n * @param {string} [type='keyboard.keydown']\n */\nKeyboard.prototype.addListener = function (priority, listener, type) {\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_2__.isFunction)(priority)) {\n    type = listener;\n    listener = priority;\n    priority = DEFAULT_PRIORITY$2;\n  }\n  this._eventBus.on(type || KEYDOWN_EVENT, priority, listener);\n};\n\n/**\n * Remove a listener function.\n *\n * @param {Listener} listener\n * @param {string} [type='keyboard.keydown']\n */\nKeyboard.prototype.removeListener = function (listener, type) {\n  this._eventBus.off(type || KEYDOWN_EVENT, listener);\n};\nKeyboard.prototype.hasModifier = hasModifier;\nKeyboard.prototype.isCmd = isCmd$1;\nKeyboard.prototype.isShift = isShift;\nKeyboard.prototype.isKey = isKey;\n\nvar LOW_PRIORITY$1 = 500;\n\n/**\n * Adds default keyboard bindings.\n *\n * This does not pull in any features will bind only actions that\n * have previously been registered against the editorActions component.\n *\n * @param {EventBus} eventBus\n * @param {Keyboard} keyboard\n */\nfunction KeyboardBindings(eventBus, keyboard) {\n  var self = this;\n  eventBus.on('editorActions.init', LOW_PRIORITY$1, function (event) {\n    var editorActions = event.editorActions;\n    self.registerBindings(keyboard, editorActions);\n  });\n}\nKeyboardBindings.$inject = ['eventBus', 'keyboard'];\n\n/**\n * Register available keyboard bindings.\n *\n * @param {Keyboard} keyboard\n * @param {EditorActions} editorActions\n */\nKeyboardBindings.prototype.registerBindings = function (keyboard, editorActions) {\n  /**\n   * Add keyboard binding if respective editor action\n   * is registered.\n   *\n   * @param {string} action name\n   * @param {Function} fn that implements the key binding\n   */\n  function addListener(action, fn) {\n    if (editorActions.isRegistered(action)) {\n      keyboard.addListener(fn);\n    }\n  }\n\n  // undo\n  // (CTRL|CMD) + Z\n  addListener('undo', function (context) {\n    var event = context.keyEvent;\n    if (isUndo(event)) {\n      editorActions.trigger('undo');\n      return true;\n    }\n  });\n\n  // redo\n  // CTRL + Y\n  // CMD + SHIFT + Z\n  addListener('redo', function (context) {\n    var event = context.keyEvent;\n    if (isRedo(event)) {\n      editorActions.trigger('redo');\n      return true;\n    }\n  });\n\n  // copy\n  // CTRL/CMD + C\n  addListener('copy', function (context) {\n    var event = context.keyEvent;\n    if (isCopy(event)) {\n      editorActions.trigger('copy');\n      return true;\n    }\n  });\n\n  // paste\n  // CTRL/CMD + V\n  addListener('paste', function (context) {\n    var event = context.keyEvent;\n    if (isPaste(event)) {\n      editorActions.trigger('paste');\n      return true;\n    }\n  });\n\n  // duplicate\n  // CTRL/CMD + D\n  addListener('duplicate', function (context) {\n    var event = context.keyEvent;\n    if (isDuplicate(event)) {\n      editorActions.trigger('duplicate');\n      return true;\n    }\n  });\n\n  // cut\n  // CTRL/CMD + X\n  addListener('cut', function (context) {\n    var event = context.keyEvent;\n    if (isCut(event)) {\n      editorActions.trigger('cut');\n      return true;\n    }\n  });\n\n  // zoom in one step\n  // CTRL/CMD + +\n  addListener('stepZoom', function (context) {\n    var event = context.keyEvent;\n\n    // quirk: it has to be triggered by `=` as well to work on international keyboard layout\n    // cf: https://github.com/bpmn-io/bpmn-js/issues/1362#issuecomment-722989754\n    if (isKey(['+', 'Add', '='], event) && isCmd$1(event)) {\n      editorActions.trigger('stepZoom', {\n        value: 1\n      });\n      return true;\n    }\n  });\n\n  // zoom out one step\n  // CTRL + -\n  addListener('stepZoom', function (context) {\n    var event = context.keyEvent;\n    if (isKey(['-', 'Subtract'], event) && isCmd$1(event)) {\n      editorActions.trigger('stepZoom', {\n        value: -1\n      });\n      return true;\n    }\n  });\n\n  // zoom to the default level\n  // CTRL + 0\n  addListener('zoom', function (context) {\n    var event = context.keyEvent;\n    if (isKey('0', event) && isCmd$1(event)) {\n      editorActions.trigger('zoom', {\n        value: 1\n      });\n      return true;\n    }\n  });\n\n  // delete selected element\n  // DEL\n  addListener('removeSelection', function (context) {\n    var event = context.keyEvent;\n    if (isKey(['Backspace', 'Delete', 'Del'], event)) {\n      editorActions.trigger('removeSelection');\n      return true;\n    }\n  });\n};\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\nvar KeyboardModule = {\n  __init__: ['keyboard', 'keyboardBindings'],\n  keyboard: ['type', Keyboard],\n  keyboardBindings: ['type', KeyboardBindings]\n};\n\nconst LOW_PRIORITY = 500;\nclass FormEditorKeyboardBindings {\n  constructor(eventBus, keyboard) {\n    eventBus.on('editorActions.init', LOW_PRIORITY, event => {\n      const {\n        editorActions\n      } = event;\n      this.registerBindings(keyboard, editorActions);\n    });\n  }\n  registerBindings(keyboard, editorActions) {\n    function addListener(action, fn) {\n      if (editorActions.isRegistered(action)) {\n        keyboard.addListener(fn);\n      }\n    }\n\n    // undo\n    // (CTRL|CMD) + Z\n    addListener('undo', context => {\n      const {\n        keyEvent\n      } = context;\n      if (isUndo(keyEvent)) {\n        editorActions.trigger('undo');\n        return true;\n      }\n    });\n\n    // redo\n    // CTRL + Y\n    // CMD + SHIFT + Z\n    addListener('redo', context => {\n      const {\n        keyEvent\n      } = context;\n      if (isRedo(keyEvent)) {\n        editorActions.trigger('redo');\n        return true;\n      }\n    });\n  }\n}\nFormEditorKeyboardBindings.$inject = ['eventBus', 'keyboard'];\n\nconst FormEditorKeyboardModule = {\n  __depends__: [KeyboardModule],\n  __init__: ['keyboardBindings'],\n  keyboardBindings: ['type', FormEditorKeyboardBindings]\n};\n\nconst DraggingModule = {\n  __init__: ['dragging'],\n  dragging: ['type', Dragging]\n};\n\n/**\n * @typedef {import('didi').Injector} Injector\n *\n * @typedef {import('../core/Types').ElementLike} ElementLike\n *\n * @typedef {import('../core/EventBus').default} EventBus\n * @typedef {import('./CommandHandler').default} CommandHandler\n *\n * @typedef { any } CommandContext\n * @typedef { {\n *   new (...args: any[]) : CommandHandler\n * } } CommandHandlerConstructor\n * @typedef { {\n *   [key: string]: CommandHandler;\n * } } CommandHandlerMap\n * @typedef { {\n *   command: string;\n *   context: any;\n *   id?: any;\n * } } CommandStackAction\n * @typedef { {\n *   actions: CommandStackAction[];\n *   dirty: ElementLike[];\n *   trigger: 'execute' | 'undo' | 'redo' | 'clear' | null;\n *   atomic?: boolean;\n * } } CurrentExecution\n */\n\n/**\n * A service that offers un- and redoable execution of commands.\n *\n * The command stack is responsible for executing modeling actions\n * in a un- and redoable manner. To do this it delegates the actual\n * command execution to {@link CommandHandler}s.\n *\n * Command handlers provide {@link CommandHandler#execute(ctx)} and\n * {@link CommandHandler#revert(ctx)} methods to un- and redo a command\n * identified by a command context.\n *\n *\n * ## Life-Cycle events\n *\n * In the process the command stack fires a number of life-cycle events\n * that other components to participate in the command execution.\n *\n *    * preExecute\n *    * preExecuted\n *    * execute\n *    * executed\n *    * postExecute\n *    * postExecuted\n *    * revert\n *    * reverted\n *\n * A special event is used for validating, whether a command can be\n * performed prior to its execution.\n *\n *    * canExecute\n *\n * Each of the events is fired as `commandStack.{eventName}` and\n * `commandStack.{commandName}.{eventName}`, respectively. This gives\n * components fine grained control on where to hook into.\n *\n * The event object fired transports `command`, the name of the\n * command and `context`, the command context.\n *\n *\n * ## Creating Command Handlers\n *\n * Command handlers should provide the {@link CommandHandler#execute(ctx)}\n * and {@link CommandHandler#revert(ctx)} methods to implement\n * redoing and undoing of a command.\n *\n * A command handler _must_ ensure undo is performed properly in order\n * not to break the undo chain. It must also return the shapes that\n * got changed during the `execute` and `revert` operations.\n *\n * Command handlers may execute other modeling operations (and thus\n * commands) in their `preExecute(d)` and `postExecute(d)` phases. The command\n * stack will properly group all commands together into a logical unit\n * that may be re- and undone atomically.\n *\n * Command handlers must not execute other commands from within their\n * core implementation (`execute`, `revert`).\n *\n *\n * ## Change Tracking\n *\n * During the execution of the CommandStack it will keep track of all\n * elements that have been touched during the command's execution.\n *\n * At the end of the CommandStack execution it will notify interested\n * components via an 'elements.changed' event with all the dirty\n * elements.\n *\n * The event can be picked up by components that are interested in the fact\n * that elements have been changed. One use case for this is updating\n * their graphical representation after moving / resizing or deletion.\n *\n * @see CommandHandler\n *\n * @param {EventBus} eventBus\n * @param {Injector} injector\n */\nfunction CommandStack(eventBus, injector) {\n  /**\n   * A map of all registered command handlers.\n   *\n   * @type {CommandHandlerMap}\n   */\n  this._handlerMap = {};\n\n  /**\n   * A stack containing all re/undoable actions on the diagram\n   *\n   * @type {CommandStackAction[]}\n   */\n  this._stack = [];\n\n  /**\n   * The current index on the stack\n   *\n   * @type {number}\n   */\n  this._stackIdx = -1;\n\n  /**\n   * Current active commandStack execution\n   *\n   * @type {CurrentExecution}\n   */\n  this._currentExecution = {\n    actions: [],\n    dirty: [],\n    trigger: null\n  };\n\n  /**\n   * @type {Injector}\n   */\n  this._injector = injector;\n\n  /**\n   * @type EventBus\n   */\n  this._eventBus = eventBus;\n\n  /**\n   * @type { number }\n   */\n  this._uid = 1;\n  eventBus.on(['diagram.destroy', 'diagram.clear'], function () {\n    this.clear(false);\n  }, this);\n}\nCommandStack.$inject = ['eventBus', 'injector'];\n\n/**\n * Execute a command.\n *\n * @param {string} command The command to execute.\n * @param {CommandContext} context The context with which to execute the command.\n */\nCommandStack.prototype.execute = function (command, context) {\n  if (!command) {\n    throw new Error('command required');\n  }\n  this._currentExecution.trigger = 'execute';\n  const action = {\n    command: command,\n    context: context\n  };\n  this._pushAction(action);\n  this._internalExecute(action);\n  this._popAction();\n};\n\n/**\n * Check whether a command can be executed.\n *\n * Implementors may hook into the mechanism on two ways:\n *\n *   * in event listeners:\n *\n *     Users may prevent the execution via an event listener.\n *     It must prevent the default action for `commandStack.(<command>.)canExecute` events.\n *\n *   * in command handlers:\n *\n *     If the method {@link CommandHandler#canExecute} is implemented in a handler\n *     it will be called to figure out whether the execution is allowed.\n *\n * @param {string} command The command to execute.\n * @param {CommandContext} context The context with which to execute the command.\n *\n * @return {boolean} Whether the command can be executed with the given context.\n */\nCommandStack.prototype.canExecute = function (command, context) {\n  const action = {\n    command: command,\n    context: context\n  };\n  const handler = this._getHandler(command);\n  let result = this._fire(command, 'canExecute', action);\n\n  // handler#canExecute will only be called if no listener\n  // decided on a result already\n  if (result === undefined) {\n    if (!handler) {\n      return false;\n    }\n    if (handler.canExecute) {\n      result = handler.canExecute(context);\n    }\n  }\n  return result;\n};\n\n/**\n * Clear the command stack, erasing all undo / redo history.\n *\n * @param {boolean} [emit=true] Whether to fire an event. Defaults to `true`.\n */\nCommandStack.prototype.clear = function (emit) {\n  this._stack.length = 0;\n  this._stackIdx = -1;\n  if (emit !== false) {\n    this._fire('changed', {\n      trigger: 'clear'\n    });\n  }\n};\n\n/**\n * Undo last command(s)\n */\nCommandStack.prototype.undo = function () {\n  let action = this._getUndoAction(),\n    next;\n  if (action) {\n    this._currentExecution.trigger = 'undo';\n    this._pushAction(action);\n    while (action) {\n      this._internalUndo(action);\n      next = this._getUndoAction();\n      if (!next || next.id !== action.id) {\n        break;\n      }\n      action = next;\n    }\n    this._popAction();\n  }\n};\n\n/**\n * Redo last command(s)\n */\nCommandStack.prototype.redo = function () {\n  let action = this._getRedoAction(),\n    next;\n  if (action) {\n    this._currentExecution.trigger = 'redo';\n    this._pushAction(action);\n    while (action) {\n      this._internalExecute(action, true);\n      next = this._getRedoAction();\n      if (!next || next.id !== action.id) {\n        break;\n      }\n      action = next;\n    }\n    this._popAction();\n  }\n};\n\n/**\n * Register a handler instance with the command stack.\n *\n * @param {string} command Command to be executed.\n * @param {CommandHandler} handler Handler to execute the command.\n */\nCommandStack.prototype.register = function (command, handler) {\n  this._setHandler(command, handler);\n};\n\n/**\n * Register a handler type with the command stack  by instantiating it and\n * injecting its dependencies.\n *\n * @param {string} command Command to be executed.\n * @param {CommandHandlerConstructor} handlerCls Constructor to instantiate a {@link CommandHandler}.\n */\nCommandStack.prototype.registerHandler = function (command, handlerCls) {\n  if (!command || !handlerCls) {\n    throw new Error('command and handlerCls must be defined');\n  }\n  const handler = this._injector.instantiate(handlerCls);\n  this.register(command, handler);\n};\n\n/**\n * @return {boolean}\n */\nCommandStack.prototype.canUndo = function () {\n  return !!this._getUndoAction();\n};\n\n/**\n * @return {boolean}\n */\nCommandStack.prototype.canRedo = function () {\n  return !!this._getRedoAction();\n};\n\n// stack access  //////////////////////\n\nCommandStack.prototype._getRedoAction = function () {\n  return this._stack[this._stackIdx + 1];\n};\nCommandStack.prototype._getUndoAction = function () {\n  return this._stack[this._stackIdx];\n};\n\n// internal functionality //////////////////////\n\nCommandStack.prototype._internalUndo = function (action) {\n  const command = action.command,\n    context = action.context;\n  const handler = this._getHandler(command);\n\n  // guard against illegal nested command stack invocations\n  this._atomicDo(() => {\n    this._fire(command, 'revert', action);\n    if (handler.revert) {\n      this._markDirty(handler.revert(context));\n    }\n    this._revertedAction(action);\n    this._fire(command, 'reverted', action);\n  });\n};\nCommandStack.prototype._fire = function (command, qualifier, event) {\n  if (arguments.length < 3) {\n    event = qualifier;\n    qualifier = null;\n  }\n  const names = qualifier ? [command + '.' + qualifier, qualifier] : [command];\n  let result;\n  event = this._eventBus.createEvent(event);\n  for (const name of names) {\n    result = this._eventBus.fire('commandStack.' + name, event);\n    if (event.cancelBubble) {\n      break;\n    }\n  }\n  return result;\n};\nCommandStack.prototype._createId = function () {\n  return this._uid++;\n};\nCommandStack.prototype._atomicDo = function (fn) {\n  const execution = this._currentExecution;\n  execution.atomic = true;\n  try {\n    fn();\n  } finally {\n    execution.atomic = false;\n  }\n};\nCommandStack.prototype._internalExecute = function (action, redo) {\n  const command = action.command,\n    context = action.context;\n  const handler = this._getHandler(command);\n  if (!handler) {\n    throw new Error('no command handler registered for <' + command + '>');\n  }\n  this._pushAction(action);\n  if (!redo) {\n    this._fire(command, 'preExecute', action);\n    if (handler.preExecute) {\n      handler.preExecute(context);\n    }\n    this._fire(command, 'preExecuted', action);\n  }\n\n  // guard against illegal nested command stack invocations\n  this._atomicDo(() => {\n    this._fire(command, 'execute', action);\n    if (handler.execute) {\n      // actual execute + mark return results as dirty\n      this._markDirty(handler.execute(context));\n    }\n\n    // log to stack\n    this._executedAction(action, redo);\n    this._fire(command, 'executed', action);\n  });\n  if (!redo) {\n    this._fire(command, 'postExecute', action);\n    if (handler.postExecute) {\n      handler.postExecute(context);\n    }\n    this._fire(command, 'postExecuted', action);\n  }\n  this._popAction();\n};\nCommandStack.prototype._pushAction = function (action) {\n  const execution = this._currentExecution,\n    actions = execution.actions;\n  const baseAction = actions[0];\n  if (execution.atomic) {\n    throw new Error('illegal invocation in <execute> or <revert> phase (action: ' + action.command + ')');\n  }\n  if (!action.id) {\n    action.id = baseAction && baseAction.id || this._createId();\n  }\n  actions.push(action);\n};\nCommandStack.prototype._popAction = function () {\n  const execution = this._currentExecution,\n    trigger = execution.trigger,\n    actions = execution.actions,\n    dirty = execution.dirty;\n  actions.pop();\n  if (!actions.length) {\n    this._eventBus.fire('elements.changed', {\n      elements: (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.uniqueBy)('id', dirty.reverse())\n    });\n    dirty.length = 0;\n    this._fire('changed', {\n      trigger: trigger\n    });\n    execution.trigger = null;\n  }\n};\nCommandStack.prototype._markDirty = function (elements) {\n  const execution = this._currentExecution;\n  if (!elements) {\n    return;\n  }\n  elements = (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.isArray)(elements) ? elements : [elements];\n  execution.dirty = execution.dirty.concat(elements);\n};\nCommandStack.prototype._executedAction = function (action, redo) {\n  const stackIdx = ++this._stackIdx;\n  if (!redo) {\n    this._stack.splice(stackIdx, this._stack.length, action);\n  }\n};\nCommandStack.prototype._revertedAction = function (action) {\n  this._stackIdx--;\n};\nCommandStack.prototype._getHandler = function (command) {\n  return this._handlerMap[command];\n};\nCommandStack.prototype._setHandler = function (command, handler) {\n  if (!command || !handler) {\n    throw new Error('command and handler required');\n  }\n  if (this._handlerMap[command]) {\n    throw new Error('overriding handler for command <' + command + '>');\n  }\n  this._handlerMap[command] = handler;\n};\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\nvar commandModule = {\n  commandStack: ['type', CommandStack]\n};\n\n/**\n * @typedef {import('../core/Types').ElementLike} ElementLike\n * @typedef {import('../core/EventBus').default} EventBus\n * @typedef {import('./CommandStack').CommandContext} CommandContext\n *\n * @typedef {string|string[]} Events\n * @typedef { (context: CommandContext) => ElementLike[] | void } HandlerFunction\n * @typedef { (context: CommandContext) => void } ComposeHandlerFunction\n */\n\nvar DEFAULT_PRIORITY$1 = 1000;\n\n/**\n * A utility that can be used to plug into the command execution for\n * extension and/or validation.\n *\n * @class\n * @constructor\n *\n * @example\n *\n * ```javascript\n * import CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\n *\n * class CommandLogger extends CommandInterceptor {\n *   constructor(eventBus) {\n *     super(eventBus);\n *\n *   this.preExecute('shape.create', (event) => {\n *     console.log('commandStack.shape-create.preExecute', event);\n *   });\n * }\n * ```\n *\n * @param {EventBus} eventBus\n */\nfunction CommandInterceptor(eventBus) {\n  /**\n   * @type {EventBus}\n   */\n  this._eventBus = eventBus;\n}\nCommandInterceptor.$inject = ['eventBus'];\nfunction unwrapEvent(fn, that) {\n  return function (event) {\n    return fn.call(that || null, event.context, event.command, event);\n  };\n}\n\n/**\n * Intercept a command during one of the phases.\n *\n * @param {Events} [events] command(s) to intercept\n * @param {string} [hook] phase to intercept\n * @param {number} [priority]\n * @param {ComposeHandlerFunction|HandlerFunction} handlerFn\n * @param {boolean} [unwrap] whether the event should be unwrapped\n * @param {any} [that]\n */\nCommandInterceptor.prototype.on = function (events, hook, priority, handlerFn, unwrap, that) {\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_2__.isFunction)(hook) || (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.isNumber)(hook)) {\n    that = unwrap;\n    unwrap = handlerFn;\n    handlerFn = priority;\n    priority = hook;\n    hook = null;\n  }\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_2__.isFunction)(priority)) {\n    that = unwrap;\n    unwrap = handlerFn;\n    handlerFn = priority;\n    priority = DEFAULT_PRIORITY$1;\n  }\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_2__.isObject)(unwrap)) {\n    that = unwrap;\n    unwrap = false;\n  }\n  if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_2__.isFunction)(handlerFn)) {\n    throw new Error('handlerFn must be a function');\n  }\n  if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_2__.isArray)(events)) {\n    events = [events];\n  }\n  var eventBus = this._eventBus;\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.forEach)(events, function (event) {\n    // concat commandStack(.event)?(.hook)?\n    var fullEvent = ['commandStack', event, hook].filter(function (e) {\n      return e;\n    }).join('.');\n    eventBus.on(fullEvent, priority, unwrap ? unwrapEvent(handlerFn, that) : handlerFn, that);\n  });\n};\n\n/**\n * Add a <canExecute> phase of command interceptor.\n *\n * @param {Events} [events] command(s) to intercept\n * @param {number} [priority]\n * @param {ComposeHandlerFunction|HandlerFunction} handlerFn\n * @param {boolean} [unwrap] whether the event should be unwrapped\n * @param {any} [that]\n */\nCommandInterceptor.prototype.canExecute = createHook('canExecute');\n\n/**\n * Add a <preExecute> phase of command interceptor.\n *\n * @param {Events} [events] command(s) to intercept\n * @param {number} [priority]\n * @param {ComposeHandlerFunction|HandlerFunction} handlerFn\n * @param {boolean} [unwrap] whether the event should be unwrapped\n * @param {any} [that]\n */\nCommandInterceptor.prototype.preExecute = createHook('preExecute');\n\n/**\n * Add a <preExecuted> phase of command interceptor.\n *\n * @param {Events} [events] command(s) to intercept\n * @param {number} [priority]\n * @param {ComposeHandlerFunction|HandlerFunction} handlerFn\n * @param {boolean} [unwrap] whether the event should be unwrapped\n * @param {any} [that]\n */\nCommandInterceptor.prototype.preExecuted = createHook('preExecuted');\n\n/**\n * Add a <execute> phase of command interceptor.\n *\n * @param {Events} [events] command(s) to intercept\n * @param {number} [priority]\n * @param {ComposeHandlerFunction|HandlerFunction} handlerFn\n * @param {boolean} [unwrap] whether the event should be unwrapped\n * @param {any} [that]\n */\nCommandInterceptor.prototype.execute = createHook('execute');\n\n/**\n * Add a <executed> phase of command interceptor.\n *\n * @param {Events} [events] command(s) to intercept\n * @param {number} [priority]\n * @param {ComposeHandlerFunction|HandlerFunction} handlerFn\n * @param {boolean} [unwrap] whether the event should be unwrapped\n * @param {any} [that]\n */\nCommandInterceptor.prototype.executed = createHook('executed');\n\n/**\n * Add a <postExecute> phase of command interceptor.\n *\n * @param {Events} [events] command(s) to intercept\n * @param {number} [priority]\n * @param {ComposeHandlerFunction|HandlerFunction} handlerFn\n * @param {boolean} [unwrap] whether the event should be unwrapped\n * @param {any} [that]\n */\nCommandInterceptor.prototype.postExecute = createHook('postExecute');\n\n/**\n * Add a <postExecuted> phase of command interceptor.\n *\n * @param {Events} [events] command(s) to intercept\n * @param {number} [priority]\n * @param {ComposeHandlerFunction|HandlerFunction} handlerFn\n * @param {boolean} [unwrap] whether the event should be unwrapped\n * @param {any} [that]\n */\nCommandInterceptor.prototype.postExecuted = createHook('postExecuted');\n\n/**\n * Add a <revert> phase of command interceptor.\n *\n * @param {Events} [events] command(s) to intercept\n * @param {number} [priority]\n * @param {ComposeHandlerFunction|HandlerFunction} handlerFn\n * @param {boolean} [unwrap] whether the event should be unwrapped\n * @param {any} [that]\n */\nCommandInterceptor.prototype.revert = createHook('revert');\n\n/**\n * Add a <reverted> phase of command interceptor.\n *\n * @param {Events} [events] command(s) to intercept\n * @param {number} [priority]\n * @param {ComposeHandlerFunction|HandlerFunction} handlerFn\n * @param {boolean} [unwrap] whether the event should be unwrapped\n * @param {any} [that]\n */\nCommandInterceptor.prototype.reverted = createHook('reverted');\n\n/*\n * Add prototype methods for each phase of command execution (e.g. execute,\n * revert).\n *\n * @param {string} hook\n *\n * @return { (\n *   events?: Events,\n *   priority?: number,\n *   handlerFn: ComposeHandlerFunction|HandlerFunction,\n *   unwrap?: boolean\n * ) => any }\n */\nfunction createHook(hook) {\n  /**\n   * @this {CommandInterceptor}\n   *\n   * @param {Events} [events]\n   * @param {number} [priority]\n   * @param {ComposeHandlerFunction|HandlerFunction} handlerFn\n   * @param {boolean} [unwrap]\n   * @param {any} [that]\n   */\n  const hookFn = function (events, priority, handlerFn, unwrap, that) {\n    if ((0,min_dash__WEBPACK_IMPORTED_MODULE_2__.isFunction)(events) || (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.isNumber)(events)) {\n      that = unwrap;\n      unwrap = handlerFn;\n      handlerFn = priority;\n      priority = events;\n      events = null;\n    }\n    this.on(events, hook, priority, handlerFn, unwrap, that);\n  };\n  return hookFn;\n}\n\nclass IdBehavior extends CommandInterceptor {\n  constructor(eventBus, modeling) {\n    super(eventBus);\n    this.preExecute('formField.remove', function (context) {\n      const {\n        formField\n      } = context;\n      const {\n        id\n      } = formField;\n      modeling.unclaimId(formField, id);\n    }, true);\n    this.preExecute('formField.edit', function (context) {\n      const {\n        formField,\n        properties\n      } = context;\n      if ('id' in properties) {\n        modeling.unclaimId(formField, formField.id);\n        modeling.claimId(formField, properties.id);\n      }\n    }, true);\n  }\n}\nIdBehavior.$inject = ['eventBus', 'modeling'];\n\nclass KeyBehavior extends CommandInterceptor {\n  constructor(eventBus, modeling, formFields) {\n    super(eventBus);\n    this.preExecute('formField.remove', function (context) {\n      const {\n        formField\n      } = context;\n      const {\n        key,\n        type\n      } = formField;\n      const {\n        config\n      } = formFields.get(type);\n      if (config.keyed) {\n        modeling.unclaimKey(formField, key);\n      }\n    }, true);\n    this.preExecute('formField.edit', function (context) {\n      const {\n        formField,\n        properties\n      } = context;\n      const {\n        key,\n        type\n      } = formField;\n      const {\n        config\n      } = formFields.get(type);\n      if (config.keyed && 'key' in properties) {\n        modeling.unclaimKey(formField, key);\n        modeling.claimKey(formField, properties.key);\n      }\n    }, true);\n  }\n}\nKeyBehavior.$inject = ['eventBus', 'modeling', 'formFields'];\n\nclass PathBehavior extends CommandInterceptor {\n  constructor(eventBus, modeling, formFields) {\n    super(eventBus);\n    this.preExecute('formField.remove', function (context) {\n      const {\n        formField\n      } = context;\n      const {\n        path,\n        type\n      } = formField;\n      const {\n        config\n      } = formFields.get(type);\n      if (config.pathed) {\n        modeling.unclaimPath(formField, path);\n      }\n    }, true);\n    this.preExecute('formField.edit', function (context) {\n      const {\n        formField,\n        properties\n      } = context;\n      const {\n        path,\n        type\n      } = formField;\n      const {\n        config\n      } = formFields.get(type);\n      if (config.pathed && 'path' in properties) {\n        modeling.unclaimPath(formField, path);\n        modeling.claimPath(formField, properties.path);\n      }\n    }, true);\n  }\n}\nPathBehavior.$inject = ['eventBus', 'modeling', 'formFields'];\n\nclass ValidateBehavior extends CommandInterceptor {\n  constructor(eventBus) {\n    super(eventBus);\n\n    /**\n     * Remove custom validation if <validationType> is about to be added.\n     */\n    this.preExecute('formField.edit', function (context) {\n      const {\n        properties\n      } = context;\n      const {\n        validate = {}\n      } = properties;\n      if (validate.validationType) {\n        const newValidate = {\n          ...validate\n        };\n        delete newValidate.minLength;\n        delete newValidate.maxLength;\n        delete newValidate.pattern;\n        properties['validate'] = newValidate;\n      }\n    }, true);\n  }\n}\nValidateBehavior.$inject = ['eventBus'];\n\nclass OptionsSourceBehavior extends CommandInterceptor {\n  constructor(eventBus) {\n    super(eventBus);\n\n    /**\n     * Cleanup properties on changing the values source.\n     *\n     * 1) Remove other sources, e.g. set `values` => remove `valuesKey` and `valuesExpression`\n     * 2) Remove default values for all other values sources\n     */\n    this.preExecute('formField.edit', function (context) {\n      const {\n        properties\n      } = context;\n      const newProperties = {};\n      if (!isValuesSourceUpdate(properties)) {\n        return;\n      }\n\n      // clean up value sources that are not to going to be set\n      Object.values(_bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.OPTIONS_SOURCES).forEach(source => {\n        const path = _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.OPTIONS_SOURCES_PATHS[source];\n        if ((0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(properties, path) == undefined) {\n          newProperties[_bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.OPTIONS_SOURCES_PATHS[source]] = undefined;\n        }\n      });\n\n      // clean up default value\n      if ((0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(properties, _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.OPTIONS_SOURCES_PATHS[_bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.OPTIONS_SOURCES.EXPRESSION]) !== undefined || (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(properties, _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.OPTIONS_SOURCES_PATHS[_bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.OPTIONS_SOURCES.INPUT]) !== undefined) {\n        newProperties['defaultValue'] = undefined;\n      }\n      context.properties = {\n        ...properties,\n        ...newProperties\n      };\n    }, true);\n  }\n}\nOptionsSourceBehavior.$inject = ['eventBus'];\n\n// helper ///////////////////\n\nfunction isValuesSourceUpdate(properties) {\n  return Object.values(_bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.OPTIONS_SOURCES_PATHS).some(path => {\n    return (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(properties, path) !== undefined;\n  });\n}\n\nconst COLUMNS_SOURCE_PROPERTIES = {\n  columns: 'columns',\n  columnsExpression: 'columnsExpression'\n};\nclass ColumnsSourceBehavior extends CommandInterceptor {\n  constructor(eventBus) {\n    super(eventBus);\n    this.preExecute('formField.edit', function (context) {\n      const {\n        properties,\n        oldProperties\n      } = context;\n      const isColumnSourceUpdate = Object.values(COLUMNS_SOURCE_PROPERTIES).some(path => {\n        return (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(properties, [path]) !== undefined;\n      });\n      if (!isColumnSourceUpdate) {\n        return;\n      }\n      const columns = (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(properties, [COLUMNS_SOURCE_PROPERTIES.columns]);\n      const oldColumns = (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(oldProperties, [COLUMNS_SOURCE_PROPERTIES.columns]);\n      const columnsExpression = (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(properties, [COLUMNS_SOURCE_PROPERTIES.columnsExpression]);\n      const oldColumnsExpression = (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(oldProperties, [COLUMNS_SOURCE_PROPERTIES.columnsExpression]);\n      if ((0,min_dash__WEBPACK_IMPORTED_MODULE_2__.isArray)(columns) && !(0,min_dash__WEBPACK_IMPORTED_MODULE_2__.isDefined)(oldColumns)) {\n        context.properties = {\n          ...properties,\n          columnsExpression: undefined\n        };\n        return;\n      }\n      if ((0,min_dash__WEBPACK_IMPORTED_MODULE_2__.isString)(columnsExpression) && !(0,min_dash__WEBPACK_IMPORTED_MODULE_2__.isString)(oldColumnsExpression)) {\n        context.properties = {\n          ...properties,\n          columns: undefined\n        };\n        return;\n      }\n    }, true);\n  }\n}\nColumnsSourceBehavior.$inject = ['eventBus'];\n\nclass TableDataSourceBehavior extends CommandInterceptor {\n  constructor(eventBus) {\n    super(eventBus);\n    this.preExecute('formField.add', function (context) {\n      const {\n        formField\n      } = context;\n      if ((0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(formField, ['type']) !== 'table') {\n        return;\n      }\n      context.formField = {\n        ...formField,\n        dataSource: `=${formField.id}`\n      };\n    }, true);\n  }\n}\nTableDataSourceBehavior.$inject = ['eventBus'];\n\nconst BehaviorModule = {\n  __init__: ['idBehavior', 'keyBehavior', 'pathBehavior', 'validateBehavior', 'optionsSourceBehavior', 'columnsSourceBehavior', 'tableDataSourceBehavior'],\n  idBehavior: ['type', IdBehavior],\n  keyBehavior: ['type', KeyBehavior],\n  pathBehavior: ['type', PathBehavior],\n  validateBehavior: ['type', ValidateBehavior],\n  optionsSourceBehavior: ['type', OptionsSourceBehavior],\n  columnsSourceBehavior: ['type', ColumnsSourceBehavior],\n  tableDataSourceBehavior: ['type', TableDataSourceBehavior]\n};\n\nfunction arrayAdd$1(array, index, item) {\n  array.splice(index, 0, item);\n  return array;\n}\nfunction arrayRemove(array, index) {\n  array.splice(index, 1);\n  return array;\n}\nfunction updatePath(formFieldRegistry, formField, index) {\n  const parent = formFieldRegistry.get(formField._parent);\n  refreshPathsRecursively(formField, [...parent._path, 'components', index]);\n  return formField;\n}\nfunction refreshPathsRecursively(formField, path) {\n  formField._path = path;\n  const components = formField.components || [];\n  components.forEach((component, index) => {\n    refreshPathsRecursively(component, [...path, 'components', index]);\n  });\n}\nfunction updateRow(formField, rowId) {\n  formField.layout = {\n    ...(formField.layout || {}),\n    row: rowId\n  };\n  return formField;\n}\n\nclass FormLayoutUpdater extends CommandInterceptor {\n  constructor(eventBus, formLayouter, modeling, formEditor) {\n    super(eventBus);\n    this._eventBus = eventBus;\n    this._formLayouter = formLayouter;\n    this._modeling = modeling;\n    this._formEditor = formEditor;\n\n    // @ts-ignore\n    this.preExecute(['formField.add', 'formField.remove', 'formField.move', 'id.updateClaim'], event => this.updateRowIds(event));\n\n    // we need that as the state got updates\n    // on the next tick (not in post execute)\n    eventBus.on('changed', context => {\n      const {\n        schema\n      } = context;\n      this.updateLayout(schema);\n    });\n  }\n  updateLayout(schema) {\n    this._formLayouter.clear();\n    this._formLayouter.calculateLayout((0,_bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.clone)(schema));\n  }\n  updateRowIds(event) {\n    const {\n      schema\n    } = this._formEditor._getState();\n    const setRowIds = parent => {\n      if (!parent.components || !parent.components.length) {\n        return;\n      }\n      parent.components.forEach(formField => {\n        const row = this._formLayouter.getRowForField(formField);\n        updateRow(formField, row.id);\n\n        // handle children recursively\n        setRowIds(formField);\n      });\n    };\n\n    // make sure rows are persisted in schema (e.g. for migration case)\n    setRowIds(schema);\n  }\n}\nFormLayoutUpdater.$inject = ['eventBus', 'formLayouter', 'modeling', 'formEditor'];\n\nclass AddFormFieldHandler {\n  /**\n   * @constructor\n   * @param { import('../../../FormEditor').FormEditor } formEditor\n   * @param { import('../../../core/FormFieldRegistry').FormFieldRegistry } formFieldRegistry\n   */\n  constructor(formEditor, formFieldRegistry) {\n    this._formEditor = formEditor;\n    this._formFieldRegistry = formFieldRegistry;\n  }\n  execute(context) {\n    const {\n      formField,\n      targetFormField,\n      targetIndex\n    } = context;\n    const {\n      schema\n    } = this._formEditor._getState();\n    const targetPath = [...targetFormField._path, 'components'];\n    formField._parent = targetFormField.id;\n\n    // (1) Add new form field\n    arrayAdd$1((0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(schema, targetPath), targetIndex, formField);\n\n    // (2) Update internal paths of new form field and its siblings (and their children)\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(schema, targetPath).forEach((formField, index) => updatePath(this._formFieldRegistry, formField, index));\n\n    // (3) Add new form field to form field registry\n    this._formFieldRegistry.add(formField);\n\n    // TODO: Create updater/change support that automatically updates paths and schema on command execution\n    this._formEditor._setState({\n      schema\n    });\n  }\n  revert(context) {\n    const {\n      formField,\n      targetFormField,\n      targetIndex\n    } = context;\n    const {\n      schema\n    } = this._formEditor._getState();\n    const targetPath = [...targetFormField._path, 'components'];\n\n    // (1) Remove new form field\n    arrayRemove((0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(schema, targetPath), targetIndex);\n\n    // (2) Update internal paths of new form field and its siblings (and their children)\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(schema, targetPath).forEach((formField, index) => updatePath(this._formFieldRegistry, formField, index));\n\n    // (3) Remove new form field from form field registry\n    this._formFieldRegistry.remove(formField);\n\n    // TODO: Create updater/change support that automatically updates paths and schema on command execution\n    this._formEditor._setState({\n      schema\n    });\n  }\n}\nAddFormFieldHandler.$inject = ['formEditor', 'formFieldRegistry'];\n\nclass EditFormFieldHandler {\n  /**\n   * @constructor\n   * @param { import('../../../FormEditor').FormEditor } formEditor\n   * @param { import('../../../core/FormFieldRegistry').FormFieldRegistry } formFieldRegistry\n   */\n  constructor(formEditor, formFieldRegistry) {\n    this._formEditor = formEditor;\n    this._formFieldRegistry = formFieldRegistry;\n  }\n  execute(context) {\n    const {\n      formField,\n      properties\n    } = context;\n    let {\n      schema\n    } = this._formEditor._getState();\n    const oldProperties = {};\n    for (let key in properties) {\n      oldProperties[key] = formField[key];\n      const property = properties[key];\n      if (key === 'id') {\n        if (property !== formField.id) {\n          this._formFieldRegistry.updateId(formField, property);\n        }\n      } else {\n        formField[key] = property;\n      }\n    }\n    context.oldProperties = oldProperties;\n\n    // TODO: Create updater/change support that automatically updates paths and schema on command execution\n    this._formEditor._setState({\n      schema\n    });\n    return formField;\n  }\n  revert(context) {\n    const {\n      formField,\n      oldProperties\n    } = context;\n    let {\n      schema\n    } = this._formEditor._getState();\n    for (let key in oldProperties) {\n      const property = oldProperties[key];\n      if (key === 'id') {\n        if (property !== formField.id) {\n          this._formFieldRegistry.updateId(formField, property);\n        }\n      } else {\n        formField[key] = property;\n      }\n    }\n\n    // TODO: Create updater/change support that automatically updates paths and schema on command execution\n    this._formEditor._setState({\n      schema\n    });\n    return formField;\n  }\n}\nEditFormFieldHandler.$inject = ['formEditor', 'formFieldRegistry'];\n\nclass MoveFormFieldHandler {\n  /**\n   * @constructor\n   * @param { import('../../../FormEditor').FormEditor } formEditor\n   * @param { import('../../../core/FormFieldRegistry').FormFieldRegistry } formFieldRegistry\n   * @param { import('@bpmn-io/form-js-viewer').PathRegistry } pathRegistry\n   * @param { import('@bpmn-io/form-js-viewer').FormLayouter } formLayouter\n   */\n  constructor(formEditor, formFieldRegistry, pathRegistry, formLayouter) {\n    this._formEditor = formEditor;\n    this._formFieldRegistry = formFieldRegistry;\n    this._pathRegistry = pathRegistry;\n    this._formLayouter = formLayouter;\n  }\n  execute(context) {\n    this.moveFormField(context);\n  }\n  revert(context) {\n    let {\n      sourceFormField,\n      targetFormField,\n      sourceIndex,\n      targetIndex,\n      sourceRow,\n      targetRow\n    } = context;\n    this.moveFormField({\n      sourceFormField: targetFormField,\n      targetFormField: sourceFormField,\n      sourceIndex: targetIndex,\n      targetIndex: sourceIndex,\n      sourceRow: targetRow,\n      targetRow: sourceRow\n    }, true);\n  }\n  moveFormField(context, revert) {\n    let {\n      sourceFormField,\n      targetFormField,\n      sourceIndex,\n      targetIndex,\n      targetRow\n    } = context;\n    let {\n      schema\n    } = this._formEditor._getState();\n    const sourcePath = [...sourceFormField._path, 'components'];\n    if (sourceFormField.id === targetFormField.id) {\n      if (revert) {\n        if (sourceIndex > targetIndex) {\n          sourceIndex--;\n        }\n      } else {\n        if (sourceIndex < targetIndex) {\n          targetIndex--;\n        }\n      }\n      const formField = (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(schema, [...sourcePath, sourceIndex]);\n\n      // (1) Add to row or create new one\n      updateRow(formField, targetRow ? targetRow.id : this._formLayouter.nextRowId());\n\n      // (2) Move form field\n      (0,array_move__WEBPACK_IMPORTED_MODULE_11__.arrayMoveMutable)((0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(schema, sourcePath), sourceIndex, targetIndex);\n\n      // (3) Update internal paths of new form field and its siblings (and their children)\n      (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(schema, sourcePath).forEach((formField, index) => updatePath(this._formFieldRegistry, formField, index));\n    } else {\n      const formField = (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(schema, [...sourcePath, sourceIndex]);\n\n      // (1) Deregister form field (and children) from path registry\n      this._pathRegistry.executeRecursivelyOnFields(formField, ({\n        field\n      }) => {\n        this._pathRegistry.unclaimPath(this._pathRegistry.getValuePath(field));\n      });\n      formField._parent = targetFormField.id;\n\n      // (2) Remove form field\n      arrayRemove((0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(schema, sourcePath), sourceIndex);\n\n      // (3) Update internal paths of siblings (and their children)\n      (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(schema, sourcePath).forEach((formField, index) => updatePath(this._formFieldRegistry, formField, index));\n      const targetPath = [...targetFormField._path, 'components'];\n\n      // (4) Add to row or create new one\n      updateRow(formField, targetRow ? targetRow.id : this._formLayouter.nextRowId());\n\n      // (5) Add form field\n      arrayAdd$1((0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(schema, targetPath), targetIndex, formField);\n\n      // (6) Update internal paths of siblings (and their children)\n      (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(schema, targetPath).forEach((formField, index) => updatePath(this._formFieldRegistry, formField, index));\n\n      // (7) Reregister form field (and children) from path registry\n      this._pathRegistry.executeRecursivelyOnFields(formField, ({\n        field,\n        isClosed,\n        isRepeatable\n      }) => {\n        this._pathRegistry.claimPath(this._pathRegistry.getValuePath(field), {\n          isClosed,\n          isRepeatable,\n          claimerId: field.id\n        });\n      });\n    }\n\n    // TODO: Create updater/change support that automatically updates paths and schema on command execution\n    this._formEditor._setState({\n      schema\n    });\n  }\n}\nMoveFormFieldHandler.$inject = ['formEditor', 'formFieldRegistry', 'pathRegistry', 'formLayouter'];\n\nclass RemoveFormFieldHandler {\n  /**\n   * @constructor\n   * @param { import('../../../FormEditor').FormEditor } formEditor\n   * @param { import('../../../core/FormFieldRegistry').FormFieldRegistry } formFieldRegistry\n   */\n  constructor(formEditor, formFieldRegistry) {\n    this._formEditor = formEditor;\n    this._formFieldRegistry = formFieldRegistry;\n  }\n  execute(context) {\n    const {\n      sourceFormField,\n      sourceIndex\n    } = context;\n    let {\n      schema\n    } = this._formEditor._getState();\n    const sourcePath = [...sourceFormField._path, 'components'];\n    const formField = context.formField = (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(schema, [...sourcePath, sourceIndex]);\n\n    // (1) Remove form field\n    arrayRemove((0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(schema, sourcePath), sourceIndex);\n\n    // (2) Update internal paths of its siblings (and their children)\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(schema, sourcePath).forEach((formField, index) => updatePath(this._formFieldRegistry, formField, index));\n\n    // (3) Remove form field and children from form field registry\n    (0,_bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.runRecursively)(formField, formField => this._formFieldRegistry.remove(formField));\n\n    // TODO: Create updater/change support that automatically updates paths and schema on command execution\n    this._formEditor._setState({\n      schema\n    });\n  }\n  revert(context) {\n    const {\n      formField,\n      sourceFormField,\n      sourceIndex\n    } = context;\n    let {\n      schema\n    } = this._formEditor._getState();\n    const sourcePath = [...sourceFormField._path, 'components'];\n\n    // (1) Add form field\n    arrayAdd$1((0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(schema, sourcePath), sourceIndex, formField);\n\n    // (2) Update internal paths of its siblings (and their children)\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(schema, sourcePath).forEach((formField, index) => updatePath(this._formFieldRegistry, formField, index));\n\n    // (3) Add form field and children to form field registry\n    (0,_bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.runRecursively)(formField, formField => this._formFieldRegistry.add(formField));\n\n    // TODO: Create updater/change support that automatically updates paths and schema on command execution\n    this._formEditor._setState({\n      schema\n    });\n  }\n}\nRemoveFormFieldHandler.$inject = ['formEditor', 'formFieldRegistry'];\n\nclass UpdateIdClaimHandler {\n  /**\n   * @constructor\n   * @param { import('../../../core/FormFieldRegistry').FormFieldRegistry } formFieldRegistry\n   */\n  constructor(formFieldRegistry) {\n    this._formFieldRegistry = formFieldRegistry;\n  }\n  execute(context) {\n    const {\n      claiming,\n      formField,\n      id\n    } = context;\n    if (claiming) {\n      this._formFieldRegistry._ids.claim(id, formField);\n    } else {\n      this._formFieldRegistry._ids.unclaim(id);\n    }\n  }\n  revert(context) {\n    const {\n      claiming,\n      formField,\n      id\n    } = context;\n    if (claiming) {\n      this._formFieldRegistry._ids.unclaim(id);\n    } else {\n      this._formFieldRegistry._ids.claim(id, formField);\n    }\n  }\n}\nUpdateIdClaimHandler.$inject = ['formFieldRegistry'];\n\nclass UpdateKeyClaimHandler {\n  /**\n   * @constructor\n   * @param { import('@bpmn-io/form-js-viewer').PathRegistry } pathRegistry\n   */\n  constructor(pathRegistry) {\n    this._pathRegistry = pathRegistry;\n  }\n  execute(context) {\n    const {\n      claiming,\n      formField,\n      key\n    } = context;\n    const options = {\n      replacements: {\n        [formField.id]: key\n      }\n    };\n    const valuePath = this._pathRegistry.getValuePath(formField, options);\n    if (claiming) {\n      this._pathRegistry.claimPath(valuePath, {\n        isClosed: true,\n        claimerId: formField.id\n      });\n    } else {\n      this._pathRegistry.unclaimPath(valuePath);\n    }\n\n    // cache path for revert\n    context.valuePath = valuePath;\n  }\n  revert(context) {\n    const {\n      claiming,\n      formField,\n      valuePath\n    } = context;\n    if (claiming) {\n      this._pathRegistry.unclaimPath(valuePath);\n    } else {\n      this._pathRegistry.claimPath(valuePath, {\n        isClosed: true,\n        claimerId: formField.id\n      });\n    }\n  }\n}\nUpdateKeyClaimHandler.$inject = ['pathRegistry'];\n\nclass UpdatePathClaimHandler {\n  /**\n   * @constructor\n   * @param { import('@bpmn-io/form-js-viewer').PathRegistry } pathRegistry\n   */\n  constructor(pathRegistry) {\n    this._pathRegistry = pathRegistry;\n  }\n  execute(context) {\n    const {\n      claiming,\n      formField,\n      path\n    } = context;\n    const options = {\n      replacements: {\n        [formField.id]: path\n      }\n    };\n    const valuePaths = [];\n    if (claiming) {\n      this._pathRegistry.executeRecursivelyOnFields(formField, ({\n        field,\n        isClosed,\n        isRepeatable\n      }) => {\n        const valuePath = this._pathRegistry.getValuePath(field, options);\n        valuePaths.push({\n          valuePath,\n          isClosed,\n          isRepeatable,\n          claimerId: field.id\n        });\n        this._pathRegistry.claimPath(valuePath, {\n          isClosed,\n          isRepeatable,\n          claimerId: field.id\n        });\n      });\n    } else {\n      this._pathRegistry.executeRecursivelyOnFields(formField, ({\n        field,\n        isClosed,\n        isRepeatable\n      }) => {\n        const valuePath = this._pathRegistry.getValuePath(field, options);\n        valuePaths.push({\n          valuePath,\n          isClosed,\n          isRepeatable,\n          claimerId: field.id\n        });\n        this._pathRegistry.unclaimPath(valuePath);\n      });\n    }\n\n    // cache path info for revert\n    context.valuePaths = valuePaths;\n  }\n  revert(context) {\n    const {\n      claiming,\n      valuePaths\n    } = context;\n    if (claiming) {\n      valuePaths.forEach(({\n        valuePath\n      }) => {\n        this._pathRegistry.unclaimPath(valuePath);\n      });\n    } else {\n      valuePaths.forEach(({\n        valuePath,\n        isClosed,\n        isRepeatable,\n        claimerId\n      }) => {\n        this._pathRegistry.claimPath(valuePath, {\n          isClosed,\n          isRepeatable,\n          claimerId\n        });\n      });\n    }\n  }\n}\nUpdatePathClaimHandler.$inject = ['pathRegistry'];\n\nclass Modeling {\n  constructor(commandStack, eventBus, formEditor, formFieldRegistry, fieldFactory) {\n    this._commandStack = commandStack;\n    this._formEditor = formEditor;\n    this._formFieldRegistry = formFieldRegistry;\n    this._fieldFactory = fieldFactory;\n    eventBus.on('form.init', () => {\n      this.registerHandlers();\n    });\n  }\n  registerHandlers() {\n    Object.entries(this.getHandlers()).forEach(([id, handler]) => {\n      this._commandStack.registerHandler(id, handler);\n    });\n  }\n  getHandlers() {\n    return {\n      'formField.add': AddFormFieldHandler,\n      'formField.edit': EditFormFieldHandler,\n      'formField.move': MoveFormFieldHandler,\n      'formField.remove': RemoveFormFieldHandler,\n      'id.updateClaim': UpdateIdClaimHandler,\n      'key.updateClaim': UpdateKeyClaimHandler,\n      'path.updateClaim': UpdatePathClaimHandler\n    };\n  }\n  addFormField(attrs, targetFormField, targetIndex) {\n    const formField = this._fieldFactory.create(attrs);\n    const context = {\n      formField,\n      targetFormField,\n      targetIndex\n    };\n    this._commandStack.execute('formField.add', context);\n    return formField;\n  }\n  editFormField(formField, properties, value) {\n    if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_2__.isObject)(properties)) {\n      properties = {\n        [properties]: value\n      };\n    }\n    const context = {\n      formField,\n      properties\n    };\n    this._commandStack.execute('formField.edit', context);\n  }\n  moveFormField(formField, sourceFormField, targetFormField, sourceIndex, targetIndex, sourceRow, targetRow) {\n    const context = {\n      formField,\n      sourceFormField,\n      targetFormField,\n      sourceIndex,\n      targetIndex,\n      sourceRow,\n      targetRow\n    };\n    this._commandStack.execute('formField.move', context);\n  }\n  removeFormField(formField, sourceFormField, sourceIndex) {\n    const context = {\n      formField,\n      sourceFormField,\n      sourceIndex\n    };\n    this._commandStack.execute('formField.remove', context);\n  }\n  claimId(formField, id) {\n    const context = {\n      formField,\n      id,\n      claiming: true\n    };\n    this._commandStack.execute('id.updateClaim', context);\n  }\n  unclaimId(formField, id) {\n    const context = {\n      formField,\n      id,\n      claiming: false\n    };\n    this._commandStack.execute('id.updateClaim', context);\n  }\n  claimKey(formField, key) {\n    const context = {\n      formField,\n      key,\n      claiming: true\n    };\n    this._commandStack.execute('key.updateClaim', context);\n  }\n  unclaimKey(formField, key) {\n    const context = {\n      formField,\n      key,\n      claiming: false\n    };\n    this._commandStack.execute('key.updateClaim', context);\n  }\n  claimPath(formField, path) {\n    const context = {\n      formField,\n      path,\n      claiming: true\n    };\n    this._commandStack.execute('path.updateClaim', context);\n  }\n  unclaimPath(formField, path) {\n    const context = {\n      formField,\n      path,\n      claiming: false\n    };\n    this._commandStack.execute('path.updateClaim', context);\n  }\n}\nModeling.$inject = ['commandStack', 'eventBus', 'formEditor', 'formFieldRegistry', 'fieldFactory'];\n\nconst ModelingModule = {\n  __depends__: [BehaviorModule, commandModule],\n  __init__: ['formLayoutUpdater', 'modeling'],\n  formLayoutUpdater: ['type', FormLayoutUpdater],\n  modeling: ['type', Modeling]\n};\n\nclass Selection {\n  constructor(eventBus) {\n    this._eventBus = eventBus;\n    this._selection = null;\n  }\n  get() {\n    return this._selection;\n  }\n  set(selection) {\n    if (this._selection === selection) {\n      return;\n    }\n    this._selection = selection;\n    this._eventBus.fire('selection.changed', {\n      selection: this._selection\n    });\n  }\n  toggle(selection) {\n    const newSelection = this._selection === selection ? null : selection;\n    this.set(newSelection);\n  }\n  clear() {\n    this.set(null);\n  }\n  isSelected(formField) {\n    return this._selection === formField;\n  }\n}\nSelection.$inject = ['eventBus'];\n\nclass SelectionBehavior {\n  constructor(eventBus, selection) {\n    eventBus.on(['commandStack.formField.add.postExecuted', 'commandStack.formField.move.postExecuted'], ({\n      context\n    }) => {\n      const {\n        formField\n      } = context;\n      selection.set(formField);\n    });\n    eventBus.on('commandStack.formField.remove.postExecuted', ({\n      context\n    }) => {\n      const {\n        sourceFormField,\n        sourceIndex\n      } = context;\n      const formField = sourceFormField.components[sourceIndex] || sourceFormField.components[sourceIndex - 1];\n      if (formField) {\n        selection.set(formField);\n      } else {\n        selection.clear();\n      }\n    });\n    eventBus.on('formField.remove', ({\n      formField\n    }) => {\n      if (selection.isSelected(formField)) {\n        selection.clear();\n      }\n    });\n  }\n}\nSelectionBehavior.$inject = ['eventBus', 'selection'];\n\nconst SelectionModule = {\n  __init__: ['selection', 'selectionBehavior'],\n  selection: ['type', Selection],\n  selectionBehavior: ['type', SelectionBehavior]\n};\n\n/**\n * Base class for sectionable UI modules.\n *\n * @property {EventBus} _eventBus - EventBus instance used for event handling.\n * @property {string} managerType - Type of the render manager. Used to form event names.\n *\n * @class SectionModuleBase\n */\nclass SectionModuleBase {\n  /**\n   * Create a SectionModuleBase instance.\n   *\n   * @param {any} eventBus - The EventBus instance used for event handling.\n   * @param {string} sectionKey - The type of render manager. Used to form event names.\n   *\n   * @constructor\n   */\n  constructor(eventBus, sectionKey) {\n    this._eventBus = eventBus;\n    this._sectionKey = sectionKey;\n    this._eventBus.on(`${this._sectionKey}.section.rendered`, () => {\n      this.isSectionRendered = true;\n    });\n    this._eventBus.on(`${this._sectionKey}.section.destroyed`, () => {\n      this.isSectionRendered = false;\n    });\n  }\n\n  /**\n   * Attach the managed section to a parent node.\n   *\n   * @param {HTMLElement} container - The parent node to attach to.\n   */\n  attachTo(container) {\n    this._onceSectionRendered(() => this._eventBus.fire(`${this._sectionKey}.attach`, {\n      container\n    }));\n  }\n\n  /**\n   * Detach the managed section from its parent node.\n   */\n  detach() {\n    this._onceSectionRendered(() => this._eventBus.fire(`${this._sectionKey}.detach`));\n  }\n\n  /**\n   * Reset the managed section to its initial state.\n   */\n  reset() {\n    this._onceSectionRendered(() => this._eventBus.fire(`${this._sectionKey}.reset`));\n  }\n\n  /**\n   * Circumvents timing issues.\n   */\n  _onceSectionRendered(callback) {\n    if (this.isSectionRendered) {\n      callback();\n    } else {\n      this._eventBus.once(`${this._sectionKey}.section.rendered`, callback);\n    }\n  }\n}\n\nclass PaletteRenderer extends SectionModuleBase {\n  constructor(eventBus) {\n    super(eventBus, 'palette');\n  }\n}\nPaletteRenderer.$inject = ['eventBus'];\n\nconst PaletteModule = {\n  __init__: ['palette'],\n  palette: ['type', PaletteRenderer]\n};\n\nvar ArrowIcon = function ArrowIcon(props) {\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"svg\", {\n    ...props,\n    children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"path\", {\n      fillRule: \"evenodd\",\n      d: \"m11.657 8-4.95 4.95a1 1 0 0 1-1.414-1.414L8.828 8 5.293 4.464A1 1 0 1 1 6.707 3.05L11.657 8Z\"\n    })\n  });\n};\nArrowIcon.defaultProps = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"16\",\n  height: \"16\"\n};\nvar CloseIcon = function CloseIcon(props) {\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"svg\", {\n    ...props,\n    children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"path\", {\n      fillRule: \"evenodd\",\n      d: \"m12 4.7-.7-.7L8 7.3 4.7 4l-.7.7L7.3 8 4 11.3l.7.7L8 8.7l3.3 3.3.7-.7L8.7 8 12 4.7Z\",\n      fill: \"currentColor\"\n    })\n  });\n};\nCloseIcon.defaultProps = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"16\",\n  height: \"16\"\n};\nvar CreateIcon = function CreateIcon(props) {\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"svg\", {\n    ...props,\n    children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"path\", {\n      fillRule: \"evenodd\",\n      d: \"M9 13V9h4a1 1 0 0 0 0-2H9V3a1 1 0 1 0-2 0v4H3a1 1 0 1 0 0 2h4v4a1 1 0 0 0 2 0Z\"\n    })\n  });\n};\nCreateIcon.defaultProps = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"16\",\n  height: \"16\"\n};\nvar DeleteIcon = function DeleteIcon(props) {\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"svg\", {\n    ...props,\n    children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"path\", {\n      fillRule: \"evenodd\",\n      d: \"M12 6v7c0 1.1-.4 1.55-1.5 1.55h-5C4.4 14.55 4 14.1 4 13V6h8Zm-1.5 1.5h-5v4.3c0 .66.5 1.2 1.111 1.2H9.39c.611 0 1.111-.54 1.111-1.2V7.5ZM13 3h-2l-1-1H6L5 3H3v1.5h10V3Z\"\n    })\n  });\n};\nDeleteIcon.defaultProps = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"16\",\n  height: \"16\"\n};\nvar DragIcon = function DragIcon(props) {\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"svg\", {\n    ...props,\n    children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"path\", {\n      fill: \"#fff\",\n      style: {\n        mixBlendMode: \"multiply\"\n      },\n      d: \"M0 0h16v16H0z\"\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"path\", {\n      fill: \"#fff\",\n      style: {\n        mixBlendMode: \"multiply\"\n      },\n      d: \"M0 0h16v16H0z\"\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"path\", {\n      d: \"M7 3H5v2h2V3zm4 0H9v2h2V3zM7 7H5v2h2V7zm4 0H9v2h2V7zm-4 4H5v2h2v-2zm4 0H9v2h2v-2z\",\n      fill: \"#161616\"\n    })]\n  });\n};\nDragIcon.defaultProps = {\n  width: \"16\",\n  height: \"16\",\n  fill: \"none\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n};\nvar ExternalLinkIcon = function ExternalLinkIcon(props) {\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"svg\", {\n    ...props,\n    children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"path\", {\n      fillRule: \"evenodd\",\n      clipRule: \"evenodd\",\n      d: \"M12.637 12.637v-4.72h1.362v4.721c0 .36-.137.676-.411.95-.275.275-.591.412-.95.412H3.362c-.38 0-.703-.132-.967-.396A1.315 1.315 0 0 1 2 12.638V3.362c0-.38.132-.703.396-.967S2.982 2 3.363 2h4.553v1.363H3.363v9.274h9.274ZM14 2H9.28l-.001 1.362h2.408L5.065 9.984l.95.95 6.622-6.622v2.409H14V2Z\",\n      fill: \"currentcolor\"\n    })\n  });\n};\nExternalLinkIcon.defaultProps = {\n  width: \"16\",\n  height: \"16\",\n  fill: \"none\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n};\nvar FeelIcon$1 = function FeelIcon(props) {\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"svg\", {\n    ...props,\n    children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"path\", {\n      d: \"M3.617 11.99c-.137.684-.392 1.19-.765 1.518-.362.328-.882.492-1.558.492H0l.309-1.579h1.264l1.515-7.64h-.912l.309-1.579h.911l.236-1.191c.137-.685.387-1.192.75-1.52C4.753.164 5.277 0 5.953 0h1.294L6.94 1.579H5.675l-.323 1.623h1.264l-.309 1.579H5.043l-1.426 7.208ZM5.605 11.021l3.029-4.155L7.28 3.202h2.073l.706 2.547h.176l1.691-2.547H14l-3.014 4.051 1.338 3.768H10.25l-.706-2.606H9.37L7.678 11.02H5.605Z\",\n      fill: \"currentcolor\"\n    })\n  });\n};\nFeelIcon$1.defaultProps = {\n  width: \"14\",\n  height: \"14\",\n  fill: \"none\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n};\nvar LaunchIcon = function LaunchIcon(props) {\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"svg\", {\n    ...props,\n    children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"path\", {\n      d: \"M26 28H6a2.003 2.003 0 0 1-2-2V6a2.003 2.003 0 0 1 2-2h10v2H6v20h20V16h2v10a2.003 2.003 0 0 1-2 2Z\"\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"path\", {\n      d: \"M20 2v2h6.586L18 12.586 19.414 14 28 5.414V12h2V2H20z\"\n    })]\n  });\n};\nLaunchIcon.defaultProps = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 32 32\"\n};\nvar OpenPopupIcon = function OpenPopupIcon(props) {\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"svg\", {\n    ...props,\n    children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"path\", {\n      d: \"M6 15v-1H2.7L7 9.7 6.3 9 2 13.3V10H1v5zm4-14v1h3.3L9 6.3l.7.7L14 2.7V6h1V1z\"\n    })\n  });\n};\nOpenPopupIcon.defaultProps = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 16 16\"\n};\n\n/**\n * @typedef { {\n *  getElementLabel: (element: object) => string,\n *  getTypeLabel: (element: object) => string,\n *  getElementIcon: (element: object) => import('preact').Component,\n *  getDocumentationRef: (element: object) => string\n * } } HeaderProvider\n */\n\n/**\n * @param {Object} props\n * @param {Object} props.element,\n * @param {HeaderProvider} props.headerProvider\n */\nfunction Header(props) {\n  const {\n    element,\n    headerProvider\n  } = props;\n  const {\n    getElementIcon,\n    getDocumentationRef,\n    getElementLabel,\n    getTypeLabel\n  } = headerProvider;\n  const label = getElementLabel(element);\n  const type = getTypeLabel(element);\n  const documentationRef = getDocumentationRef && getDocumentationRef(element);\n  const ElementIcon = getElementIcon(element);\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n    class: \"bio-properties-panel-header\",\n    children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n      class: \"bio-properties-panel-header-icon\",\n      children: ElementIcon && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(ElementIcon, {\n        width: \"32\",\n        height: \"32\",\n        viewBox: \"0 0 32 32\"\n      })\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n      class: \"bio-properties-panel-header-labels\",\n      children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n        class: \"bio-properties-panel-header-type\",\n        children: type\n      }), label ? (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n        class: \"bio-properties-panel-header-label\",\n        children: label\n      }) : null]\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n      class: \"bio-properties-panel-header-actions\",\n      children: documentationRef ? (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"a\", {\n        rel: \"noreferrer\",\n        class: \"bio-properties-panel-header-link\",\n        href: documentationRef,\n        title: \"Open documentation\",\n        target: \"_blank\",\n        children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(ExternalLinkIcon, {})\n      }) : null\n    })]\n  });\n}\nconst DescriptionContext = (0,preact__WEBPACK_IMPORTED_MODULE_6__.createContext)({\n  description: {},\n  getDescriptionForId: () => {}\n});\nconst ErrorsContext = (0,preact__WEBPACK_IMPORTED_MODULE_6__.createContext)({\n  errors: {}\n});\n\n/**\n * @typedef {Function} <propertiesPanel.showEntry> callback\n *\n * @example\n *\n * useEvent('propertiesPanel.showEntry', ({ focus = false, ...rest }) => {\n *   // ...\n * });\n *\n * @param {Object} context\n * @param {boolean} [context.focus]\n *\n * @returns void\n */\n\nconst EventContext = (0,preact__WEBPACK_IMPORTED_MODULE_6__.createContext)({\n  eventBus: null\n});\n\n/**\n * @typedef { {\n *   parserDialect?: import('@bpmn-io/feel-editor').ParserDialect,\n *   builtins?: import('@bpmn-io/feel-editor').Variable[],\n *   dialect?: import('@bpmn-io/feel-editor').Dialect\n * } } FeelLanguageContextType\n */\n\n/**\n * @type {import('preact').Context<FeelLanguageContextType>}\n */\nconst FeelLanguageContext = (0,preact__WEBPACK_IMPORTED_MODULE_6__.createContext)({});\nconst LayoutContext = (0,preact__WEBPACK_IMPORTED_MODULE_6__.createContext)({\n  layout: {},\n  setLayout: () => {},\n  getLayoutForKey: () => {},\n  setLayoutForKey: () => {}\n});\nconst TooltipContext = (0,preact__WEBPACK_IMPORTED_MODULE_6__.createContext)({\n  tooltip: {},\n  getTooltipForId: () => {}\n});\n\n/**\n * Accesses the global TooltipContext and returns a tooltip for a given id and element.\n *\n * @example\n * ```jsx\n * function TextField(props) {\n *   const tooltip = useTooltipContext('input1', element);\n * }\n * ```\n *\n * @param {string} id\n * @param {object} element\n *\n * @returns {string}\n */\nfunction useTooltipContext(id, element) {\n  const {\n    getTooltipForId\n  } = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useContext)(TooltipContext);\n  return getTooltipForId(id, element);\n}\n\n/**\n * @typedef {Object} TooltipProps\n * @property {Object} [parent] - Parent element ref for portal rendering\n * @property {String} [direction='right'] - Tooltip direction ( 'right', 'top')\n * @property {String} [position] - Custom CSS position override\n * @property {Number} [showDelay=250] - Delay in ms before showing tooltip on hover\n * @property {Number} [hideDelay=250] - Delay in ms before hiding tooltip when mouse leaves, to avoid multiple tooltips from being opened, this should be the same as showDelay\n * @property {*} [children] - Child elements to render inside the tooltip wrapper\n */\n\n/**\n * Tooltip wrapper that provides context-based tooltip content lookup.\n * All props are forwarded to the underlying Tooltip component.\n *\n * @param {TooltipProps & {\n *   forId: String,\n *   value?: String|Object,\n *   element?: Object\n * }} props - Shared tooltip props plus wrapper-specific ones\n */\nfunction TooltipWrapper(props) {\n  const {\n    forId,\n    element\n  } = props;\n  const contextDescription = useTooltipContext(forId, element);\n  const value = props.value || contextDescription;\n  if (!value) {\n    return props.children;\n  }\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Tooltip, {\n    ...props,\n    value: value,\n    forId: `bio-properties-panel-${forId}`\n  });\n}\n\n/**\n * @param {TooltipProps & {\n *   forId: String,\n *   value: String|Object\n * }} props\n */\nfunction Tooltip(props) {\n  const {\n    forId,\n    value,\n    parent,\n    direction = 'right',\n    position,\n    showDelay = 250,\n    hideDelay = 250\n  } = props;\n  const [visible, setVisible] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)(false);\n  const showTimeoutRef = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useRef)(null);\n  const hideTimeoutRef = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useRef)(null);\n  const wrapperRef = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useRef)(null);\n  const tooltipRef = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useRef)(null);\n  const show = (_, delay) => {\n    clearTimeout(showTimeoutRef.current);\n    clearTimeout(hideTimeoutRef.current);\n    if (visible) return;\n    if (delay) {\n      showTimeoutRef.current = setTimeout(() => {\n        setVisible(true);\n      }, showDelay);\n    } else {\n      setVisible(true);\n    }\n  };\n  const handleWrapperMouseEnter = e => {\n    show(e, true);\n  };\n  const hide = (delay = false) => {\n    clearTimeout(showTimeoutRef.current);\n    clearTimeout(hideTimeoutRef.current);\n    if (delay) {\n      hideTimeoutRef.current = setTimeout(() => {\n        setVisible(false);\n      }, hideDelay);\n    } else {\n      setVisible(false);\n    }\n  };\n\n  // Cleanup timeouts on unmount\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    return () => {\n      clearTimeout(showTimeoutRef.current);\n      clearTimeout(hideTimeoutRef.current);\n    };\n  }, []);\n\n  // Handle click outside to close tooltip for non-focusable elements\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    if (!visible) return;\n    const handleClickOutside = e => {\n      // If clicking outside both the wrapper and tooltip, hide it\n      if (wrapperRef.current && !wrapperRef.current.contains(e.target) && tooltipRef.current && !tooltipRef.current.contains(e.target)) {\n        hide(false);\n      }\n    };\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [visible, hide]);\n  const handleMouseLeave = ({\n    relatedTarget\n  }) => {\n    // Don't hide the tooltip when moving mouse between the wrapper and the tooltip.\n    if (relatedTarget === wrapperRef.current || relatedTarget === tooltipRef.current || relatedTarget?.parentElement === tooltipRef.current) {\n      return;\n    }\n    const selection = window.getSelection();\n    if (selection && selection.toString().length > 0) {\n      // Check if selection is within tooltip content\n      const selectionRange = selection.getRangeAt(0);\n      if (tooltipRef.current?.contains(selectionRange.commonAncestorContainer) || tooltipRef.current?.contains(selection.anchorNode) || tooltipRef.current?.contains(selection.focusNode)) {\n        return; // Keep tooltip open during text selection\n      }\n    }\n    hide(true);\n  };\n  const handleTooltipMouseEnter = () => {\n    clearTimeout(hideTimeoutRef.current);\n  };\n  const handleFocusOut = e => {\n    const {\n      relatedTarget\n    } = e;\n\n    // Don't hide if focus moved to the tooltip or another element within the wrapper\n    if (tooltipRef.current?.contains(relatedTarget) || wrapperRef.current?.contains(relatedTarget)) {\n      return;\n    }\n    hide(false);\n  };\n  const hideTooltipViaEscape = e => {\n    e.code === 'Escape' && hide(false);\n  };\n  const renderTooltip = () => {\n    return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n      class: `bio-properties-panel-tooltip ${direction}`,\n      role: \"tooltip\",\n      id: \"bio-properties-panel-tooltip\",\n      \"aria-labelledby\": forId,\n      style: position || getTooltipPosition(wrapperRef.current),\n      ref: tooltipRef,\n      onClick: e => e.stopPropagation(),\n      onMouseEnter: handleTooltipMouseEnter,\n      onMouseLeave: handleMouseLeave,\n      children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n        class: \"bio-properties-panel-tooltip-content\",\n        children: value\n      }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n        class: \"bio-properties-panel-tooltip-arrow\"\n      })]\n    });\n  };\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n    class: \"bio-properties-panel-tooltip-wrapper\",\n    tabIndex: \"0\",\n    ref: wrapperRef,\n    onMouseEnter: handleWrapperMouseEnter,\n    onMouseLeave: handleMouseLeave,\n    onFocus: show,\n    onBlur: handleFocusOut,\n    onKeyDown: hideTooltipViaEscape,\n    children: [props.children, visible ? parent ? (0,preact_compat__WEBPACK_IMPORTED_MODULE_7__.createPortal)(renderTooltip(), parent.current) : renderTooltip() : null]\n  });\n}\n\n// helper\n\nfunction getTooltipPosition(refElement) {\n  const refPosition = refElement.getBoundingClientRect();\n  const right = `calc(100% - ${refPosition.x}px)`;\n  const top = `${refPosition.top - 10}px`;\n  return `right: ${right}; top: ${top};`;\n}\n\n/**\n * Accesses the global DescriptionContext and returns a description for a given id and element.\n *\n * @example\n * ```jsx\n * function TextField(props) {\n *   const description = useDescriptionContext('input1', element);\n * }\n * ```\n *\n * @param {string} id\n * @param {object} element\n *\n * @returns {string}\n */\nfunction useDescriptionContext(id, element) {\n  const {\n    getDescriptionForId\n  } = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useContext)(DescriptionContext);\n  return getDescriptionForId(id, element);\n}\nfunction useDebounce(callback, debounceFn) {\n  const debouncedCallback = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useCallback)(debounceFn(callback), [callback, debounceFn]);\n\n  // make sure previous call is not stalled\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    return () => {\n      debouncedCallback.cancel?.();\n    };\n  }, [debouncedCallback]);\n  return debouncedCallback;\n}\nfunction useError(id) {\n  const {\n    errors\n  } = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useContext)(ErrorsContext);\n  return errors[id];\n}\nfunction useErrors() {\n  const {\n    errors\n  } = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useContext)(ErrorsContext);\n  return errors;\n}\n\n/**\n * Subscribe to an event immediately. Update subscription after inputs changed.\n *\n * @param {string} event\n * @param {Function} callback\n */\nfunction useEvent(event, callback, eventBus) {\n  const eventContext = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useContext)(EventContext);\n  if (!eventBus) {\n    ({\n      eventBus\n    } = eventContext);\n  }\n  const didMount = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useRef)(false);\n\n  // (1) subscribe immediately\n  if (eventBus && !didMount.current) {\n    eventBus.on(event, callback);\n  }\n\n  // (2) update subscription after inputs changed\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    if (eventBus && didMount.current) {\n      eventBus.on(event, callback);\n    }\n    didMount.current = true;\n    return () => {\n      if (eventBus) {\n        eventBus.off(event, callback);\n      }\n    };\n  }, [callback, event, eventBus]);\n}\n\n/**\n * Creates a state that persists in the global LayoutContext.\n *\n * @example\n * ```jsx\n * function Group(props) {\n *   const [ open, setOpen ] = useLayoutState([ 'groups', 'foo', 'open' ], false);\n * }\n * ```\n *\n * @param {(string|number)[]} path\n * @param {any} [defaultValue]\n *\n * @returns {[ any, Function ]}\n */\nfunction useLayoutState(path, defaultValue) {\n  const {\n    getLayoutForKey,\n    setLayoutForKey\n  } = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useContext)(LayoutContext);\n  const layoutForKey = getLayoutForKey(path, defaultValue);\n  const setState = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useCallback)(newValue => {\n    setLayoutForKey(path, newValue);\n  }, [setLayoutForKey]);\n  return [layoutForKey, setState];\n}\n\n/**\n * @pinussilvestrus: we need to introduce our own hook to persist the previous\n * state on updates.\n *\n * cf. https://reactjs.org/docs/hooks-faq.html#how-to-get-the-previous-props-or-state\n */\n\nfunction usePrevious(value) {\n  const ref = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useRef)();\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    ref.current = value;\n  });\n  return ref.current;\n}\n\n/**\n * Subscribe to `propertiesPanel.showEntry`.\n *\n * @param {string} id\n *\n * @returns {import('preact').Ref}\n */\nfunction useShowEntryEvent(id) {\n  const {\n    onShow\n  } = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useContext)(LayoutContext);\n  const ref = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useRef)();\n  const focus = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useRef)(false);\n  const onShowEntry = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useCallback)(event => {\n    if (event.id === id) {\n      onShow();\n      if (!focus.current) {\n        focus.current = true;\n      }\n    }\n  }, [id]);\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    if (focus.current && ref.current) {\n      if ((0,min_dash__WEBPACK_IMPORTED_MODULE_2__.isFunction)(ref.current.focus)) {\n        ref.current.focus();\n      }\n      if ((0,min_dash__WEBPACK_IMPORTED_MODULE_2__.isFunction)(ref.current.select)) {\n        ref.current.select();\n      }\n      focus.current = false;\n    }\n  });\n  useEvent('propertiesPanel.showEntry', onShowEntry);\n  return ref;\n}\n\n/**\n * @callback setSticky\n * @param {boolean} value\n */\n\n/**\n * Use IntersectionObserver to identify when DOM element is in sticky mode.\n * If sticky is observered setSticky(true) will be called.\n * If sticky mode is left, setSticky(false) will be called.\n *\n *\n * @param {Object} ref\n * @param {string} scrollContainerSelector\n * @param {setSticky} setSticky\n */\nfunction useStickyIntersectionObserver(ref, scrollContainerSelector, setSticky) {\n  const [scrollContainer, setScrollContainer] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)((0,min_dom__WEBPACK_IMPORTED_MODULE_9__.query)(scrollContainerSelector));\n  const updateScrollContainer = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useCallback)(() => {\n    const newScrollContainer = (0,min_dom__WEBPACK_IMPORTED_MODULE_9__.query)(scrollContainerSelector);\n    if (newScrollContainer !== scrollContainer) {\n      setScrollContainer(newScrollContainer);\n    }\n  }, [scrollContainerSelector, scrollContainer]);\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    updateScrollContainer();\n  }, [updateScrollContainer]);\n  useEvent('propertiesPanel.attach', updateScrollContainer);\n  useEvent('propertiesPanel.detach', updateScrollContainer);\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    const Observer = IntersectionObserver;\n\n    // return early if IntersectionObserver is not available\n    if (!Observer) {\n      return;\n    }\n\n    // TODO(@barmac): test this\n    if (!ref.current || !scrollContainer) {\n      return;\n    }\n    const observer = new Observer(entries => {\n      // scroll container is unmounted, do not update sticky state\n      if (scrollContainer.scrollHeight === 0) {\n        return;\n      }\n      entries.forEach(entry => {\n        if (entry.intersectionRatio < 1) {\n          setSticky(true);\n        } else if (entry.intersectionRatio === 1) {\n          setSticky(false);\n        }\n      });\n    }, {\n      root: scrollContainer,\n      rootMargin: '0px 0px 999999% 0px',\n      // Use bottom margin to avoid stickyness when scrolling out to bottom\n      threshold: [1]\n    });\n    observer.observe(ref.current);\n\n    // Unobserve if unmounted\n    return () => {\n      observer.unobserve(ref.current);\n    };\n  }, [ref.current, scrollContainer, setSticky]);\n}\n\n/**\n * Creates a static function reference with changing body.\n * This is necessary when external libraries require a callback function\n * that has references to state variables.\n *\n * Usage:\n * const callback = useStaticCallback((val) => {val === currentState});\n *\n * The `callback` reference is static and can be safely used in external\n * libraries or as a prop that does not cause rerendering of children.\n *\n * @param {Function} callback function with changing reference\n * @returns {Function} static function reference\n */\nfunction useStaticCallback(callback) {\n  const callbackRef = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useRef)(callback);\n  callbackRef.current = callback;\n  return (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useCallback)((...args) => callbackRef.current(...args), []);\n}\nfunction useElementVisible(element) {\n  const [visible, setVisible] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)(!!element && !!element.clientHeight);\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useLayoutEffect)(() => {\n    if (!element) return;\n    const resizeObserver = new ResizeObserver(([entry]) => {\n      requestAnimationFrame(() => {\n        const newVisible = !!entry.contentRect.height;\n        if (newVisible !== visible) {\n          setVisible(newVisible);\n        }\n      });\n    });\n    resizeObserver.observe(element);\n    return () => resizeObserver.disconnect();\n  }, [element, visible]);\n  return visible;\n}\n\n/**\n * @param {import('../PropertiesPanel').GroupDefinition} props\n */\nfunction Group(props) {\n  const {\n    element,\n    entries = [],\n    id,\n    label,\n    shouldOpen = false\n  } = props;\n  const groupRef = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useRef)(null);\n  const [open, setOpen] = useLayoutState(['groups', id, 'open'], shouldOpen);\n  const onShow = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useCallback)(() => setOpen(true), [setOpen]);\n  const toggleOpen = () => setOpen(!open);\n  const [edited, setEdited] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)(false);\n  const [sticky, setSticky] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)(false);\n\n  // set edited state depending on all entries\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    // TODO(@barmac): replace with CSS when `:has()` is supported in all major browsers, or rewrite as in https://github.com/camunda/camunda-modeler/issues/3815#issuecomment-1733038161\n    const scheduled = requestAnimationFrame(() => {\n      const hasOneEditedEntry = entries.find(entry => {\n        const {\n          id,\n          isEdited\n        } = entry;\n        const entryNode = (0,min_dom__WEBPACK_IMPORTED_MODULE_9__.query)(`[data-entry-id=\"${id}\"]`);\n        if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_2__.isFunction)(isEdited) || !entryNode) {\n          return false;\n        }\n        const inputNode = (0,min_dom__WEBPACK_IMPORTED_MODULE_9__.query)('.bio-properties-panel-input', entryNode);\n        return isEdited(inputNode);\n      });\n      setEdited(hasOneEditedEntry);\n    });\n    return () => cancelAnimationFrame(scheduled);\n  }, [entries, setEdited]);\n\n  // set error state depending on all entries\n  const allErrors = useErrors();\n  const hasErrors = entries.some(entry => allErrors[entry.id]);\n\n  // set css class when group is sticky to top\n  useStickyIntersectionObserver(groupRef, 'div.bio-properties-panel-scroll-container', setSticky);\n  const propertiesPanelContext = {\n    ...(0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useContext)(LayoutContext),\n    onShow\n  };\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n    class: \"bio-properties-panel-group\",\n    \"data-group-id\": 'group-' + id,\n    ref: groupRef,\n    children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n      class: classnames__WEBPACK_IMPORTED_MODULE_3___default()('bio-properties-panel-group-header', edited ? '' : 'empty', open ? 'open' : '', sticky && open ? 'sticky' : ''),\n      onClick: toggleOpen,\n      children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n        class: \"bio-properties-panel-group-header-title\",\n        children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(TooltipWrapper, {\n          value: props.tooltip,\n          forId: 'group-' + id,\n          element: element,\n          parent: groupRef,\n          children: label\n        })\n      }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n        class: \"bio-properties-panel-group-header-buttons\",\n        children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(DataMarker, {\n          edited: edited,\n          hasErrors: hasErrors\n        }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"button\", {\n          type: \"button\",\n          title: \"Toggle section\",\n          class: \"bio-properties-panel-group-header-button bio-properties-panel-arrow\",\n          children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(ArrowIcon, {\n            class: open ? 'bio-properties-panel-arrow-down' : 'bio-properties-panel-arrow-right'\n          })\n        })]\n      })]\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n      class: classnames__WEBPACK_IMPORTED_MODULE_3___default()('bio-properties-panel-group-entries', open ? 'open' : ''),\n      children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(LayoutContext.Provider, {\n        value: propertiesPanelContext,\n        children: entries.map(entry => {\n          const {\n            component: Component,\n            id\n          } = entry;\n          return (0,preact__WEBPACK_IMPORTED_MODULE_6__.createElement)(Component, {\n            ...entry,\n            element: element,\n            key: id\n          });\n        })\n      })\n    })]\n  });\n}\nfunction DataMarker(props) {\n  const {\n    edited,\n    hasErrors\n  } = props;\n  if (hasErrors) {\n    return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n      title: \"Section contains an error\",\n      class: \"bio-properties-panel-dot bio-properties-panel-dot--error\"\n    });\n  }\n  if (edited) {\n    return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n      title: \"Section contains edits\",\n      class: \"bio-properties-panel-dot\"\n    });\n  }\n  return null;\n}\n\n/**\n * @typedef { {\n *  text: (element: object) => string,\n *  icon?: (element: Object) => import('preact').Component\n * } } PlaceholderDefinition\n *\n * @param { PlaceholderDefinition } props\n */\nfunction Placeholder(props) {\n  const {\n    text,\n    icon: Icon\n  } = props;\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n    class: \"bio-properties-panel open\",\n    children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"section\", {\n      class: \"bio-properties-panel-placeholder\",\n      children: [Icon && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Icon, {\n        class: \"bio-properties-panel-placeholder-icon\"\n      }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"p\", {\n        class: \"bio-properties-panel-placeholder-text\",\n        children: text\n      })]\n    })\n  });\n}\nconst DEFAULT_LAYOUT = {};\nconst DEFAULT_DESCRIPTION = {};\nconst DEFAULT_TOOLTIP = {};\n\n/**\n * @typedef { {\n *    component: import('preact').Component,\n *    id: String,\n *    isEdited?: Function\n * } } EntryDefinition\n *\n * @typedef { {\n *    autoFocusEntry: String,\n *    autoOpen?: Boolean,\n *    entries: Array<EntryDefinition>,\n *    id: String,\n *    label: String,\n *    remove: (event: MouseEvent) => void\n * } } ListItemDefinition\n *\n * @typedef { {\n *    add: (event: MouseEvent) => void,\n *    component: import('preact').Component,\n *    element: Object,\n *    id: String,\n *    items: Array<ListItemDefinition>,\n *    label: String,\n *    shouldOpen?: Boolean\n * } } ListGroupDefinition\n *\n * @typedef { {\n *    component?: import('preact').Component,\n *    entries: Array<EntryDefinition>,\n *    id: String,\n *    label: String,\n *    shouldOpen?: Boolean\n * } } GroupDefinition\n *\n *  @typedef { {\n *    [id: String]: GetDescriptionFunction\n * } } DescriptionConfig\n *\n *  @typedef { {\n *    [id: String]: GetTooltipFunction\n * } } TooltipConfig\n *\n * @callback { {\n * @param {string} id\n * @param {Object} element\n * @returns {string}\n * } } GetDescriptionFunction\n *\n * @callback { {\n * @param {string} id\n * @param {Object} element\n * @returns {string}\n * } } GetTooltipFunction\n *\n * @typedef { {\n *  getEmpty: (element: object) => import('./components/Placeholder').PlaceholderDefinition,\n *  getMultiple: (element: Object) => import('./components/Placeholder').PlaceholderDefinition\n * } } PlaceholderProvider\n *\n */\n\n/**\n * A basic properties panel component. Describes *how* content will be rendered, accepts\n * data from implementor to describe *what* will be rendered.\n *\n * @param {Object} props\n * @param {Object|Array} props.element\n * @param {import('./components/Header').HeaderProvider} props.headerProvider\n * @param {PlaceholderProvider} [props.placeholderProvider]\n * @param {Array<GroupDefinition|ListGroupDefinition>} props.groups\n * @param {Object} [props.layoutConfig]\n * @param {Function} [props.layoutChanged]\n * @param {DescriptionConfig} [props.descriptionConfig]\n * @param {Function} [props.descriptionLoaded]\n * @param {TooltipConfig} [props.tooltipConfig]\n * @param {Function} [props.tooltipLoaded]\n * @param {HTMLElement} [props.feelPopupContainer]\n * @param {Function} [props.getFeelPopupLinks]\n * @param {Object} [props.eventBus]\n */\nfunction PropertiesPanel$1(props) {\n  const {\n    element,\n    headerProvider,\n    placeholderProvider,\n    groups,\n    layoutConfig,\n    layoutChanged,\n    descriptionConfig,\n    descriptionLoaded,\n    tooltipConfig,\n    tooltipLoaded,\n    eventBus\n  } = props;\n\n  // set-up layout context\n  const [layout, setLayout] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)(createLayout(layoutConfig));\n\n  // react to external changes in the layout config\n  useUpdateLayoutEffect(() => {\n    const newLayout = createLayout(layoutConfig);\n    setLayout(newLayout);\n  }, [layoutConfig]);\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    if (typeof layoutChanged === 'function') {\n      layoutChanged(layout);\n    }\n  }, [layout, layoutChanged]);\n  const getLayoutForKey = (key, defaultValue) => {\n    return (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(layout, key, defaultValue);\n  };\n  const setLayoutForKey = (key, config) => {\n    setLayout(prevLayout => {\n      const newLayout = (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.assign)({}, prevLayout);\n      (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.set)(newLayout, key, config);\n      return newLayout;\n    });\n  };\n  const layoutContext = {\n    layout,\n    setLayout,\n    getLayoutForKey,\n    setLayoutForKey\n  };\n\n  // set-up description context\n  const description = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => createDescriptionContext(descriptionConfig), [descriptionConfig]);\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    if (typeof descriptionLoaded === 'function') {\n      descriptionLoaded(description);\n    }\n  }, [description, descriptionLoaded]);\n  const getDescriptionForId = (id, element) => {\n    return description[id] && description[id](element);\n  };\n  const descriptionContext = {\n    description,\n    getDescriptionForId\n  };\n\n  // set-up tooltip context\n  const tooltip = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => createTooltipContext(tooltipConfig), [tooltipConfig]);\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    if (typeof tooltipLoaded === 'function') {\n      tooltipLoaded(tooltip);\n    }\n  }, [tooltip, tooltipLoaded]);\n  const getTooltipForId = (id, element) => {\n    return tooltip[id] && tooltip[id](element);\n  };\n  const tooltipContext = {\n    tooltip,\n    getTooltipForId\n  };\n  const [errors, setErrors] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)({});\n  const onSetErrors = ({\n    errors\n  }) => setErrors(errors);\n  useEvent('propertiesPanel.setErrors', onSetErrors, eventBus);\n  const errorsContext = {\n    errors\n  };\n  const eventContext = {\n    eventBus\n  };\n  const propertiesPanelContext = {\n    element\n  };\n\n  // empty state\n  if (placeholderProvider && !element) {\n    return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Placeholder, {\n      ...placeholderProvider.getEmpty()\n    });\n  }\n\n  // multiple state\n  if (placeholderProvider && (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.isArray)(element)) {\n    return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Placeholder, {\n      ...placeholderProvider.getMultiple()\n    });\n  }\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(LayoutContext.Provider, {\n    value: propertiesPanelContext,\n    children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(ErrorsContext.Provider, {\n      value: errorsContext,\n      children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(DescriptionContext.Provider, {\n        value: descriptionContext,\n        children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(TooltipContext.Provider, {\n          value: tooltipContext,\n          children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(LayoutContext.Provider, {\n            value: layoutContext,\n            children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(EventContext.Provider, {\n              value: eventContext,\n              children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n                class: \"bio-properties-panel\",\n                children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Header, {\n                  element: element,\n                  headerProvider: headerProvider\n                }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n                  class: \"bio-properties-panel-scroll-container\",\n                  children: groups.map(group => {\n                    const {\n                      component: Component = Group,\n                      id\n                    } = group;\n                    return (0,preact__WEBPACK_IMPORTED_MODULE_6__.createElement)(Component, {\n                      ...group,\n                      key: id,\n                      element: element\n                    });\n                  })\n                })]\n              })\n            })\n          })\n        })\n      })\n    })\n  });\n}\n\n// helpers //////////////////\n\nfunction createLayout(overrides = {}, defaults = DEFAULT_LAYOUT) {\n  return {\n    ...defaults,\n    ...overrides\n  };\n}\nfunction createDescriptionContext(overrides = {}) {\n  return {\n    ...DEFAULT_DESCRIPTION,\n    ...overrides\n  };\n}\nfunction createTooltipContext(overrides = {}) {\n  return {\n    ...DEFAULT_TOOLTIP,\n    ...overrides\n  };\n}\n\n// hooks //////////////////\n\n/**\n * This hook behaves like useLayoutEffect, but does not trigger on the first render.\n *\n * @param {Function} effect\n * @param {Array} deps\n */\nfunction useUpdateLayoutEffect(effect, deps) {\n  const isMounted = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useRef)(false);\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useLayoutEffect)(() => {\n    if (isMounted.current) {\n      return effect();\n    } else {\n      isMounted.current = true;\n    }\n  }, deps);\n}\n\n/**\n * @typedef { {\n *   [key: string]: string;\n * } } TranslateReplacements\n */\n\n/**\n * A simple translation stub to be used for multi-language support.\n * Can be easily replaced with a more sophisticated solution.\n *\n * @param {string} template to interpolate\n * @param {TranslateReplacements} [replacements] a map with substitutes\n *\n * @return {string} the translated string\n */\nfunction translateFallback(template, replacements) {\n  replacements = replacements || {};\n  return template.replace(/{([^}]+)}/g, function (_, key) {\n    return replacements[key] || '{' + key + '}';\n  });\n}\nfunction CollapsibleEntry(props) {\n  const {\n    element,\n    entries = [],\n    id,\n    label,\n    open: shouldOpen,\n    remove,\n    translate = translateFallback\n  } = props;\n  const [open, setOpen] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)(shouldOpen);\n  const toggleOpen = () => setOpen(!open);\n  const {\n    onShow\n  } = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useContext)(LayoutContext);\n  const propertiesPanelContext = {\n    ...(0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useContext)(LayoutContext),\n    onShow: (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useCallback)(() => {\n      setOpen(true);\n      if ((0,min_dash__WEBPACK_IMPORTED_MODULE_2__.isFunction)(onShow)) {\n        onShow();\n      }\n    }, [onShow, setOpen])\n  };\n  const placeholderLabel = translate('<empty>');\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n    \"data-entry-id\": id,\n    class: classnames__WEBPACK_IMPORTED_MODULE_3___default()('bio-properties-panel-collapsible-entry', open ? 'open' : ''),\n    children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n      class: \"bio-properties-panel-collapsible-entry-header\",\n      onClick: toggleOpen,\n      children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n        class: classnames__WEBPACK_IMPORTED_MODULE_3___default()('bio-properties-panel-collapsible-entry-header-title', !label && 'empty'),\n        children: label || placeholderLabel\n      }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"button\", {\n        type: \"button\",\n        title: translate('Toggle list item'),\n        class: \"bio-properties-panel-arrow  bio-properties-panel-collapsible-entry-arrow\",\n        children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(ArrowIcon, {\n          class: open ? 'bio-properties-panel-arrow-down' : 'bio-properties-panel-arrow-right'\n        })\n      }), remove ? (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"button\", {\n        type: \"button\",\n        title: translate('Delete item'),\n        class: \"bio-properties-panel-remove-entry\",\n        onClick: remove,\n        children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(DeleteIcon, {})\n      }) : null]\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n      class: classnames__WEBPACK_IMPORTED_MODULE_3___default()('bio-properties-panel-collapsible-entry-entries', open ? 'open' : ''),\n      children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(LayoutContext.Provider, {\n        value: propertiesPanelContext,\n        children: entries.map(entry => {\n          const {\n            component: Component,\n            id\n          } = entry;\n          return (0,preact__WEBPACK_IMPORTED_MODULE_6__.createElement)(Component, {\n            ...entry,\n            element: element,\n            key: id\n          });\n        })\n      })\n    })]\n  });\n}\n\n/**\n * @param {import('../PropertiesPanel').ListItemDefinition} props\n */\nfunction ListItem(props) {\n  const {\n    autoFocusEntry,\n    autoOpen,\n    translate = translateFallback\n  } = props;\n\n  // focus specified entry on auto open\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    if (autoOpen && autoFocusEntry) {\n      const entry = (0,min_dom__WEBPACK_IMPORTED_MODULE_9__.query)(`[data-entry-id=\"${autoFocusEntry}\"]`);\n      const focusableInput = (0,min_dom__WEBPACK_IMPORTED_MODULE_9__.query)('.bio-properties-panel-input', entry);\n      if (focusableInput) {\n        if ((0,min_dash__WEBPACK_IMPORTED_MODULE_2__.isFunction)(focusableInput.select)) {\n          focusableInput.select();\n        } else if ((0,min_dash__WEBPACK_IMPORTED_MODULE_2__.isFunction)(focusableInput.focus)) {\n          focusableInput.focus();\n        }\n        focusableInput.scrollIntoView();\n      }\n    }\n  }, [autoOpen, autoFocusEntry]);\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n    class: \"bio-properties-panel-list-item\",\n    children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(CollapsibleEntry, {\n      ...props,\n      open: autoOpen,\n      translate: translate\n    })\n  });\n}\nconst noop$6 = () => {};\n\n/**\n * @param {import('../PropertiesPanel').ListGroupDefinition} props\n */\nfunction ListGroup(props) {\n  const {\n    add,\n    element,\n    id,\n    items,\n    label,\n    shouldOpen = false,\n    translate = translateFallback\n  } = props;\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    if (props.shouldSort != undefined) {\n      console.warn('the property \\'shouldSort\\' is no longer supported');\n    }\n  }, [props.shouldSort]);\n  const groupRef = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useRef)(null);\n  const [open, setOpen] = useLayoutState(['groups', id, 'open'], shouldOpen);\n  const [sticky, setSticky] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)(false);\n  const onShow = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useCallback)(() => setOpen(true), [setOpen]);\n  const [localItems, setLocalItems] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)([]);\n\n  // Flag to mark that add button was clicked in the last render cycle\n  const [addTriggered, setAddTriggered] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)(false);\n  const prevElement = usePrevious(element);\n  const toggleOpen = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useCallback)(() => setOpen(!open), [open]);\n  const openItemIds = element === prevElement && open && addTriggered ? getNewItemIds(items, localItems) : [];\n\n  // reset local state after items changed\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    setLocalItems(items);\n    setAddTriggered(false);\n  }, [items]);\n\n  // set css class when group is sticky to top\n  useStickyIntersectionObserver(groupRef, 'div.bio-properties-panel-scroll-container', setSticky);\n  const hasItems = !!items.length;\n  const propertiesPanelContext = {\n    ...(0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useContext)(LayoutContext),\n    onShow\n  };\n  const handleAddClick = e => {\n    setAddTriggered(true);\n    setOpen(true);\n    add(e);\n  };\n  const allErrors = useErrors();\n  const hasError = items.some(item => {\n    if (allErrors[item.id]) {\n      return true;\n    }\n    if (!item.entries) {\n      return;\n    }\n\n    // also check if the error is nested, e.g. for name-value entries\n    return item.entries.some(entry => allErrors[entry.id]);\n  });\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n    class: \"bio-properties-panel-group\",\n    \"data-group-id\": 'group-' + id,\n    ref: groupRef,\n    children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n      class: classnames__WEBPACK_IMPORTED_MODULE_3___default()('bio-properties-panel-group-header', hasItems ? '' : 'empty', hasItems && open ? 'open' : '', sticky && open ? 'sticky' : ''),\n      onClick: hasItems ? toggleOpen : noop$6,\n      children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n        class: \"bio-properties-panel-group-header-title\",\n        children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(TooltipWrapper, {\n          value: props.tooltip,\n          forId: 'group-' + id,\n          element: element,\n          parent: groupRef,\n          children: label\n        })\n      }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n        class: \"bio-properties-panel-group-header-buttons\",\n        children: [add ? (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"button\", {\n          type: \"button\",\n          title: translate('Create new list item'),\n          class: \"bio-properties-panel-group-header-button bio-properties-panel-add-entry\",\n          onClick: handleAddClick,\n          children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(CreateIcon, {}), !hasItems ? (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"span\", {\n            class: \"bio-properties-panel-add-entry-label\",\n            children: translate('Create')\n          }) : null]\n        }) : null, hasItems ? (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n          title: translate(`List contains {numOfItems} item${items.length != 1 ? 's' : ''}`, {\n            numOfItems: items.length\n          }),\n          class: classnames__WEBPACK_IMPORTED_MODULE_3___default()('bio-properties-panel-list-badge', hasError ? 'bio-properties-panel-list-badge--error' : ''),\n          children: items.length\n        }) : null, hasItems ? (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"button\", {\n          type: \"button\",\n          title: translate('Toggle section'),\n          class: \"bio-properties-panel-group-header-button bio-properties-panel-arrow\",\n          children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(ArrowIcon, {\n            class: open ? 'bio-properties-panel-arrow-down' : 'bio-properties-panel-arrow-right'\n          })\n        }) : null]\n      })]\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n      class: classnames__WEBPACK_IMPORTED_MODULE_3___default()('bio-properties-panel-list', open && hasItems ? 'open' : ''),\n      children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(LayoutContext.Provider, {\n        value: propertiesPanelContext,\n        children: items.map((item, index) => {\n          if (!item) {\n            return;\n          }\n          const {\n            id\n          } = item;\n\n          // if item was added, open it\n          // existing items will not be affected as autoOpen\n          // is only applied on first render\n          const autoOpen = openItemIds.includes(item.id);\n          return (0,preact__WEBPACK_IMPORTED_MODULE_6__.createElement)(ListItem, {\n            ...item,\n            autoOpen: autoOpen,\n            element: element,\n            index: index,\n            key: id,\n            translate: translate\n          });\n        })\n      })\n    })]\n  });\n}\nfunction getNewItemIds(newItems, oldItems) {\n  const newIds = newItems.map(item => item.id);\n  const oldIds = oldItems.map(item => item.id);\n  return newIds.filter(itemId => !oldIds.includes(itemId));\n}\n\n/**\n * @param {Object} props\n * @param {Object} props.element\n * @param {String} props.forId - id of the entry the description is used for\n * @param {String} props.value\n */\nfunction Description$1(props) {\n  const {\n    element,\n    forId,\n    value\n  } = props;\n  const contextDescription = useDescriptionContext(forId, element);\n  const description = value || contextDescription;\n  if (description) {\n    return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n      class: \"bio-properties-panel-description\",\n      children: description\n    });\n  }\n}\nfunction Checkbox(props) {\n  const {\n    id,\n    label,\n    onChange,\n    disabled,\n    value = false,\n    onFocus,\n    onBlur,\n    tooltip\n  } = props;\n  const [localValue, setLocalValue] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)(value);\n  const handleChangeCallback = ({\n    target\n  }) => {\n    onChange(target.checked);\n  };\n  const handleChange = e => {\n    handleChangeCallback(e);\n    setLocalValue(e.target.value);\n  };\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    if (value === localValue) {\n      return;\n    }\n    setLocalValue(value);\n  }, [value]);\n  const ref = useShowEntryEvent(id);\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n    class: \"bio-properties-panel-checkbox\",\n    children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"input\", {\n      ref: ref,\n      id: prefixId$8(id),\n      name: id,\n      onFocus: onFocus,\n      onBlur: onBlur,\n      type: \"checkbox\",\n      class: \"bio-properties-panel-input\",\n      onChange: handleChange,\n      checked: localValue,\n      disabled: disabled\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"label\", {\n      for: prefixId$8(id),\n      class: \"bio-properties-panel-label\",\n      children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(TooltipWrapper, {\n        value: tooltip,\n        forId: id,\n        element: props.element,\n        children: label\n      })\n    })]\n  });\n}\n\n/**\n * @param {Object} props\n * @param {Object} props.element\n * @param {String} props.id\n * @param {String} props.description\n * @param {String} props.label\n * @param {Function} props.getValue\n * @param {Function} props.setValue\n * @param {Function} props.onFocus\n * @param {Function} props.onBlur\n * @param {string|import('preact').Component} props.tooltip\n * @param {boolean} [props.disabled]\n */\nfunction CheckboxEntry(props) {\n  const {\n    element,\n    id,\n    description,\n    label,\n    getValue,\n    setValue,\n    disabled,\n    onFocus,\n    onBlur,\n    tooltip\n  } = props;\n  const value = getValue(element);\n  const error = useError(id);\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n    class: \"bio-properties-panel-entry bio-properties-panel-checkbox-entry\",\n    \"data-entry-id\": id,\n    children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Checkbox, {\n      disabled: disabled,\n      id: id,\n      label: label,\n      onChange: setValue,\n      onFocus: onFocus,\n      onBlur: onBlur,\n      value: value,\n      tooltip: tooltip,\n      element: element\n    }, element), error && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n      class: \"bio-properties-panel-error\",\n      children: error\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Description$1, {\n      forId: id,\n      element: element,\n      value: description\n    })]\n  });\n}\nfunction isEdited$8(node) {\n  return node && !!node.checked;\n}\n\n// helpers /////////////////\n\nfunction prefixId$8(id) {\n  return `bio-properties-panel-${id}`;\n}\n\n/**\n * Button to open popups.\n *\n * @param {Object} props\n * @param {Function} props.onClick - Callback to trigger when the button is clicked.\n * @param {string} [props.title] - Tooltip text for the button.\n * @param {boolean} [props.disabled] - Whether the button is disabled.\n * @param {string} [props.className] - Additional class names for the button.\n */\nfunction OpenPopupButton({\n  onClick,\n  title = 'Open pop-up editor'\n}) {\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"button\", {\n    type: \"button\",\n    title: title,\n    class: 'bio-properties-panel-open-feel-popup',\n    onClick: onClick,\n    children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(OpenPopupIcon, {})\n  });\n}\nconst noop$5 = () => {};\n\n/**\n * Buffer `.focus()` calls while the editor is not initialized.\n * Set Focus inside when the editor is ready.\n */\nconst useBufferedFocus$1 = function (editor, ref) {\n  const [buffer, setBuffer] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)(undefined);\n  ref.current = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => ({\n    focus: offset => {\n      if (editor) {\n        editor.focus(offset);\n      } else {\n        if (typeof offset === 'undefined') {\n          offset = Infinity;\n        }\n        setBuffer(offset);\n      }\n    }\n  }), [editor]);\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    if (typeof buffer !== 'undefined' && editor) {\n      editor.focus(buffer);\n      setBuffer(false);\n    }\n  }, [editor, buffer]);\n};\nconst TemplatingEditor = (0,preact_compat__WEBPACK_IMPORTED_MODULE_7__.forwardRef)((props, ref) => {\n  const {\n    onInput,\n    disabled,\n    tooltipContainer,\n    enableGutters,\n    value,\n    onLint = noop$5,\n    onOpenPopup = noop$5,\n    popupOpen,\n    contentAttributes = {},\n    hostLanguage = null,\n    singleLine = false\n  } = props;\n  const inputRef = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useRef)();\n  const [editor, setEditor] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)();\n  const [localValue, setLocalValue] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)(value || '');\n  useBufferedFocus$1(editor, ref);\n  const handleInput = useStaticCallback(newValue => {\n    onInput(newValue);\n    setLocalValue(newValue);\n  });\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    let editor;\n    editor = new feelers__WEBPACK_IMPORTED_MODULE_12__.FeelersEditor({\n      container: inputRef.current,\n      onChange: handleInput,\n      value: localValue,\n      onLint,\n      contentAttributes,\n      tooltipContainer,\n      enableGutters,\n      hostLanguage,\n      singleLine,\n      lineWrap: true\n    });\n    setEditor(editor);\n    return () => {\n      onLint([]);\n      inputRef.current.innerHTML = '';\n      setEditor(null);\n    };\n  }, []);\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    if (!editor) {\n      return;\n    }\n    if (value === localValue) {\n      return;\n    }\n    editor.setValue(value);\n    setLocalValue(value);\n  }, [value]);\n  const handleClick = () => {\n    ref.current.focus();\n  };\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n    class: classnames__WEBPACK_IMPORTED_MODULE_3___default()('bio-properties-panel-feelers-editor-container', popupOpen ? 'popupOpen' : null),\n    children: [popupOpen && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n      class: \"bio-properties-panel-feelers-editor__popup-placeholder\",\n      children: \"Opened in popup\"\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n      name: props.name,\n      class: classnames__WEBPACK_IMPORTED_MODULE_3___default()('bio-properties-panel-feelers-editor bio-properties-panel-input', localValue ? 'edited' : null, disabled ? 'disabled' : null),\n      ref: inputRef,\n      onClick: handleClick\n    }), !disabled && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(OpenPopupButton, {\n      onClick: () => onOpenPopup('feelers')\n    })]\n  });\n});\nconst noop$4 = () => {};\n\n/**\n * Buffer `.focus()` calls while the editor is not initialized.\n * Set Focus inside when the editor is ready.\n */\nconst useBufferedFocus = function (editor, ref) {\n  const [buffer, setBuffer] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)(undefined);\n  ref.current = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => ({\n    focus: offset => {\n      if (editor) {\n        editor.focus(offset);\n      } else {\n        if (typeof offset === 'undefined') {\n          offset = Infinity;\n        }\n        setBuffer(offset);\n      }\n    }\n  }), [editor]);\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    if (typeof buffer !== 'undefined' && editor) {\n      editor.focus(buffer);\n      setBuffer(false);\n    }\n  }, [editor, buffer]);\n};\nconst FeelEditor = (0,preact_compat__WEBPACK_IMPORTED_MODULE_7__.forwardRef)((props, ref) => {\n  const {\n    contentAttributes,\n    enableGutters,\n    value,\n    onInput,\n    onKeyDown: onKeyDownProp = noop$4,\n    onFeelToggle = noop$4,\n    onLint = noop$4,\n    onOpenPopup = noop$4,\n    placeholder,\n    popupOpen,\n    disabled,\n    tooltipContainer,\n    variables,\n    feelLanguageContext\n  } = props;\n  const inputRef = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useRef)();\n  const [editor, setEditor] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)();\n  const [localValue, setLocalValue] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)(value || '');\n  const {\n    builtins,\n    dialect,\n    parserDialect\n  } = feelLanguageContext || {};\n  useBufferedFocus(editor, ref);\n  const handleInput = useStaticCallback(newValue => {\n    onInput(newValue);\n    setLocalValue(newValue);\n  });\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    let editor;\n\n    /* Trigger FEEL toggle when\n     *\n     * - `backspace` is pressed\n     * - AND the cursor is at the beginning of the input\n     */\n    const onKeyDown = e => {\n      // Call parent onKeyDown handler first\n      onKeyDownProp(e);\n      if (e.key !== 'Backspace' || !editor) {\n        return;\n      }\n      const selection = editor.getSelection();\n      const range = selection.ranges[selection.mainIndex];\n      if (range.from === 0 && range.to === 0) {\n        onFeelToggle();\n      }\n    };\n    editor = new _bpmn_io_feel_editor__WEBPACK_IMPORTED_MODULE_13__[\"default\"]({\n      container: inputRef.current,\n      onChange: handleInput,\n      onKeyDown: onKeyDown,\n      onLint: onLint,\n      placeholder: placeholder,\n      tooltipContainer: tooltipContainer,\n      value: localValue,\n      variables,\n      builtins,\n      dialect,\n      parserDialect,\n      extensions: [...(enableGutters ? [(0,_codemirror_view__WEBPACK_IMPORTED_MODULE_14__.lineNumbers)()] : []), _codemirror_view__WEBPACK_IMPORTED_MODULE_14__.EditorView.lineWrapping],\n      contentAttributes\n    });\n    setEditor(editor);\n    return () => {\n      onLint([]);\n      inputRef.current.innerHTML = '';\n      setEditor(null);\n    };\n  }, []);\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    if (!editor) {\n      return;\n    }\n    if (value === localValue) {\n      return;\n    }\n    editor.setValue(value);\n    setLocalValue(value);\n  }, [value]);\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    if (!editor) {\n      return;\n    }\n    editor.setVariables(variables);\n  }, [variables]);\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    if (!editor) {\n      return;\n    }\n    editor.setPlaceholder(placeholder);\n  }, [placeholder]);\n  const handleClick = () => {\n    ref.current.focus();\n  };\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n    class: classnames__WEBPACK_IMPORTED_MODULE_3___default()('bio-properties-panel-feel-editor-container', disabled ? 'disabled' : null, popupOpen ? 'popupOpen' : null),\n    children: [popupOpen && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n      class: \"bio-properties-panel-feel-editor__open-popup-placeholder\",\n      children: \"Opened in editor\"\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n      name: props.name,\n      class: classnames__WEBPACK_IMPORTED_MODULE_3___default()('bio-properties-panel-input', localValue ? 'edited' : null),\n      ref: inputRef,\n      onClick: handleClick\n    }), !disabled && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(OpenPopupButton, {\n      onClick: () => onOpenPopup('feel')\n    })]\n  });\n});\nfunction FeelIndicator(props) {\n  const {\n    active\n  } = props;\n  if (!active) {\n    return null;\n  }\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"span\", {\n    class: \"bio-properties-panel-feel-indicator\",\n    children: \"=\"\n  });\n}\nconst noop$3 = () => {};\n\n/**\n * @param {Object} props\n * @param {Object} props.label\n * @param {String} props.feel\n */\nfunction FeelIcon(props) {\n  const {\n    feel = false,\n    active,\n    disabled = false,\n    onClick = noop$3\n  } = props;\n  const feelRequiredLabel = 'FEEL expression is mandatory';\n  const feelOptionalLabel = `Click to ${active ? 'remove' : 'set a'} dynamic value with FEEL expression`;\n  const handleClick = e => {\n    onClick(e);\n\n    // when pointer event was created from keyboard, keep focus on button\n    if (!e.pointerType) {\n      e.stopPropagation();\n    }\n  };\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"button\", {\n    type: \"button\",\n    class: classnames__WEBPACK_IMPORTED_MODULE_3___default()('bio-properties-panel-feel-icon', active ? 'active' : null, feel === 'required' ? 'required' : 'optional'),\n    onClick: handleClick,\n    disabled: feel === 'required' || disabled,\n    title: feel === 'required' ? feelRequiredLabel : feelOptionalLabel,\n    children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(FeelIcon$1, {})\n  });\n}\n\n/**\n * @param {KeyboardEvent} event\n * @return {boolean}\n */\nfunction isCmd(event) {\n  // ensure we don't react to AltGr\n  // (mapped to CTRL + ALT)\n  if (event.altKey) {\n    return false;\n  }\n  return event.ctrlKey || event.metaKey;\n}\nfunction isCmdWithChar(event) {\n  return isCmd(event) && event.key.length === 1 && /^[a-zA-Z]$/.test(event.key);\n}\nfunction ToggleSwitch(props) {\n  const {\n    id,\n    label,\n    onInput,\n    value,\n    switcherLabel,\n    inline,\n    onFocus,\n    onBlur,\n    inputRef,\n    tooltip\n  } = props;\n  const [localValue, setLocalValue] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)(value);\n  const handleInputCallback = async () => {\n    onInput(!value);\n  };\n  const handleInput = e => {\n    handleInputCallback();\n    setLocalValue(e.target.value);\n  };\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    if (value === localValue) {\n      return;\n    }\n    setLocalValue(value);\n  }, [value]);\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n    class: classnames__WEBPACK_IMPORTED_MODULE_3___default()('bio-properties-panel-toggle-switch', {\n      inline\n    }),\n    children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"label\", {\n      class: \"bio-properties-panel-label\",\n      for: prefixId$7(id),\n      children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(TooltipWrapper, {\n        value: tooltip,\n        forId: id,\n        element: props.element,\n        children: label\n      })\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n      class: \"bio-properties-panel-field-wrapper\",\n      children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"label\", {\n        class: \"bio-properties-panel-toggle-switch__switcher\",\n        children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"input\", {\n          ref: inputRef,\n          id: prefixId$7(id),\n          class: \"bio-properties-panel-input\",\n          type: \"checkbox\",\n          onFocus: onFocus,\n          onBlur: onBlur,\n          name: id,\n          onInput: handleInput,\n          checked: !!localValue\n        }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"span\", {\n          class: \"bio-properties-panel-toggle-switch__slider\"\n        })]\n      }), switcherLabel && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"p\", {\n        class: \"bio-properties-panel-toggle-switch__label\",\n        children: switcherLabel\n      })]\n    })]\n  });\n}\n\n/**\n * @param {Object} props\n * @param {Object} props.element\n * @param {String} props.id\n * @param {String} props.description\n * @param {String} props.label\n * @param {String} props.switcherLabel\n * @param {Boolean} props.inline\n * @param {Function} props.getValue\n * @param {Function} props.setValue\n * @param {Function} props.onFocus\n * @param {Function} props.onBlur\n * @param {string|import('preact').Component} props.tooltip\n */\nfunction ToggleSwitchEntry(props) {\n  const {\n    element,\n    id,\n    description,\n    label,\n    switcherLabel,\n    inline,\n    getValue,\n    setValue,\n    onFocus,\n    onBlur,\n    tooltip\n  } = props;\n  const value = getValue(element);\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n    class: \"bio-properties-panel-entry bio-properties-panel-toggle-switch-entry\",\n    \"data-entry-id\": id,\n    children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(ToggleSwitch, {\n      id: id,\n      label: label,\n      value: value,\n      onInput: setValue,\n      onFocus: onFocus,\n      onBlur: onBlur,\n      switcherLabel: switcherLabel,\n      inline: inline,\n      tooltip: tooltip,\n      element: element\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Description$1, {\n      forId: id,\n      element: element,\n      value: description\n    })]\n  });\n}\nfunction isEdited$7(node) {\n  return node && !!node.checked;\n}\n\n// helpers /////////////////\n\nfunction prefixId$7(id) {\n  return `bio-properties-panel-${id}`;\n}\nfunction NumberField(props) {\n  const {\n    debounce,\n    disabled,\n    displayLabel = true,\n    id,\n    inputRef,\n    label,\n    max,\n    min,\n    onInput,\n    step,\n    value = '',\n    onFocus,\n    onBlur,\n    tooltip\n  } = props;\n  const [localValue, setLocalValue] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)(value);\n  const handleInputCallback = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => {\n    return debounce(target => {\n      if (target.validity.valid) {\n        onInput(target.value ? parseFloat(target.value) : undefined);\n      }\n    });\n  }, [onInput, debounce]);\n  const handleInput = e => {\n    handleInputCallback(e.target);\n    setLocalValue(e.target.value);\n  };\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    if (value === localValue) {\n      return;\n    }\n    setLocalValue(value);\n  }, [value]);\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n    class: \"bio-properties-panel-numberfield\",\n    children: [displayLabel && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"label\", {\n      for: prefixId$6(id),\n      class: \"bio-properties-panel-label\",\n      children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(TooltipWrapper, {\n        value: tooltip,\n        forId: id,\n        element: props.element,\n        children: label\n      })\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"input\", {\n      id: prefixId$6(id),\n      ref: inputRef,\n      type: \"number\",\n      name: id,\n      spellCheck: \"false\",\n      autoComplete: \"off\",\n      disabled: disabled,\n      class: \"bio-properties-panel-input\",\n      max: max,\n      min: min,\n      onInput: handleInput,\n      onFocus: onFocus,\n      onBlur: onBlur,\n      step: step,\n      value: localValue\n    })]\n  });\n}\n\n/**\n * @param {Object} props\n * @param {Boolean} props.debounce\n * @param {String} props.description\n * @param {Boolean} props.disabled\n * @param {Object} props.element\n * @param {Function} props.getValue\n * @param {String} props.id\n * @param {String} props.label\n * @param {String} props.max\n * @param {String} props.min\n * @param {Function} props.setValue\n * @param {Function} props.onFocus\n * @param {Function} props.onBlur\n * @param {String} props.step\n * @param {Function} props.validate\n */\nfunction NumberFieldEntry(props) {\n  const {\n    debounce,\n    description,\n    disabled,\n    element,\n    getValue,\n    id,\n    label,\n    max,\n    min,\n    setValue,\n    step,\n    onFocus,\n    onBlur,\n    validate,\n    tooltip\n  } = props;\n  const globalError = useError(id);\n  const [localError, setLocalError] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)(null);\n  let value = getValue(element);\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    if ((0,min_dash__WEBPACK_IMPORTED_MODULE_2__.isFunction)(validate)) {\n      const newValidationError = validate(value) || null;\n      setLocalError(newValidationError);\n    }\n  }, [value, validate]);\n  const onInput = newValue => {\n    let newValidationError = null;\n    if ((0,min_dash__WEBPACK_IMPORTED_MODULE_2__.isFunction)(validate)) {\n      newValidationError = validate(newValue) || null;\n    }\n    setValue(newValue, newValidationError);\n    setLocalError(newValidationError);\n  };\n  const error = globalError || localError;\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n    class: classnames__WEBPACK_IMPORTED_MODULE_3___default()('bio-properties-panel-entry', error ? 'has-error' : ''),\n    \"data-entry-id\": id,\n    children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(NumberField, {\n      debounce: debounce,\n      disabled: disabled,\n      id: id,\n      label: label,\n      onFocus: onFocus,\n      onBlur: onBlur,\n      onInput: onInput,\n      max: max,\n      min: min,\n      step: step,\n      value: value,\n      tooltip: tooltip\n    }, element), error && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n      class: \"bio-properties-panel-error\",\n      children: error\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Description$1, {\n      forId: id,\n      element: element,\n      value: description\n    })]\n  });\n}\nfunction isEdited$6(node) {\n  return node && !!node.value;\n}\n\n// helpers /////////////////\n\nfunction prefixId$6(id) {\n  return `bio-properties-panel-${id}`;\n}\nconst noop$2 = () => {};\n\n/**\n * @typedef {'required'|'optional'|'static'} FeelType\n */\n\n/**\n * @param {Object} props\n * @param {Boolean} props.debounce\n * @param {String} props.id\n * @param {Object} props.element\n * @param {String} props.label\n * @param {String} props.hostLanguage\n * @param {Function} props.onInput\n * @param {Function} props.onBlur\n * @param {Function} props.onError\n * @param {FeelType} [props.feel]\n * @param {String} props.value\n * @param {Boolean} [props.singleLine]\n * @param {Function} props.tooltipContainer\n * @param {Function | import('preact').Component} props.OptionalComponent\n * @param {Boolean} props.disabled\n * @param {Array} props.variables\n * @param {string} [props.placeholder]\n * @param {string | import('preact').Component} props.tooltip\n */\nfunction FeelTextfield(props) {\n  const {\n    debounce,\n    id,\n    element,\n    label,\n    hostLanguage,\n    onInput: commitValue,\n    onBlur,\n    onError,\n    placeholder,\n    feel,\n    value = '',\n    disabled = false,\n    variables,\n    singleLine,\n    tooltipContainer,\n    OptionalComponent = OptionalFeelInput,\n    tooltip\n  } = props;\n  const [localValue, setLocalValue] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)(value);\n  const editorRef = useShowEntryEvent(id);\n  const containerRef = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useRef)();\n  const onInput = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useCallback)(newValue => {\n    // we don't commit empty FEEL expressions,\n    // but instead serialize them as <undefined>\n    const newModelValue = newValue === '' || newValue === '=' ? undefined : newValue;\n    commitValue(newModelValue);\n  }, [commitValue]);\n  const feelActive = (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.isString)(localValue) && localValue.startsWith('=') || feel === 'required';\n  const feelOnlyValue = (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.isString)(localValue) && localValue.startsWith('=') ? localValue.substring(1) : localValue;\n  const feelLanguageContext = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useContext)(FeelLanguageContext);\n  const [focus, _setFocus] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)(undefined);\n  const {\n    eventBus\n  } = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useContext)(EventContext);\n  const [isPopupOpen, setIsPopupOpen] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)(false);\n  const setFocus = (offset = 0) => {\n    const hasFocus = containerRef.current.contains(document.activeElement);\n\n    // Keep caret position if it is already focused, otherwise focus at the end\n    const position = hasFocus ? document.activeElement.selectionStart : Infinity;\n    _setFocus(position + offset);\n  };\n\n  /**\n   * @type { import('min-dash').DebouncedFunction }\n   */\n  const handleInput = useDebounce(onInput, debounce);\n  const handleFeelToggle = useStaticCallback(() => {\n    if (feel === 'required') {\n      return;\n    }\n    if (!feelActive) {\n      setLocalValue('=' + localValue);\n      handleInput('=' + localValue);\n    } else {\n      setLocalValue(feelOnlyValue);\n      handleInput(feelOnlyValue);\n    }\n  });\n  const handleLocalInput = (newValue, useDebounce = true) => {\n    if (feelActive) {\n      newValue = '=' + newValue;\n    }\n    if (newValue === localValue) {\n      return;\n    }\n    setLocalValue(newValue);\n    if (useDebounce) {\n      handleInput(newValue);\n    } else {\n      onInput(newValue);\n    }\n    if (!feelActive && (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.isString)(newValue) && newValue.startsWith('=')) {\n      // focus is behind `=` sign that will be removed\n      setFocus(-1);\n    }\n  };\n  const handleOnBlur = e => {\n    handleInput.cancel?.();\n    if (e.target.type === 'checkbox') {\n      onInput(e.target.checked);\n    } else {\n      const trimmedValue = e.target.value.trim();\n      handleLocalInput(trimmedValue, false);\n    }\n    if (onBlur) {\n      onBlur(e);\n    }\n  };\n  const handleOnKeyDown = e => {\n    if (isCmdWithChar(e)) {\n      handleInput.flush();\n    }\n  };\n  const handleLint = useStaticCallback((lint = []) => {\n    const syntaxError = lint.some(report => report.type === 'Syntax Error');\n    if (syntaxError) {\n      onError('Unparsable FEEL expression.');\n    } else {\n      onError(undefined);\n    }\n  });\n  const handleOpenPopup = (type = 'feel') => {\n    const isOpen = eventBus.fire('propertiesPanel.openPopup', {\n      element,\n      entryId: id,\n      hostLanguage,\n      label,\n      onInput: handleLocalInput,\n      singleLine,\n      sourceElement: editorRef.current,\n      tooltipContainer,\n      type,\n      value: feelOnlyValue,\n      variables,\n      feelLanguageContext\n    });\n    if (isOpen) {\n      eventBus.once('propertiesPanelPopup.close', () => {\n        setIsPopupOpen(false);\n      });\n    }\n    setIsPopupOpen(isOpen === true);\n  };\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    if (typeof focus !== 'undefined') {\n      editorRef.current.focus(focus);\n      _setFocus(undefined);\n    }\n  }, [focus]);\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    if (value === localValue) {\n      return;\n    }\n\n    // External value change removed content => keep FEEL configuration\n    if (!value) {\n      setLocalValue(feelActive ? '=' : '');\n      return;\n    }\n    setLocalValue(value);\n  }, [value]);\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    return () => {\n      eventBus.fire('propertiesPanel.closePopup');\n    };\n  }, []);\n\n  // copy-paste integration\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    const copyHandler = event => {\n      if (!feelActive) {\n        return;\n      }\n      event.clipboardData.setData('application/FEEL', event.clipboardData.getData('text'));\n    };\n    const pasteHandler = event => {\n      if (feelActive || isPopupOpen) {\n        return;\n      }\n      const feelData = event.clipboardData.getData('application/FEEL');\n      if (feelData) {\n        setTimeout(() => {\n          handleFeelToggle();\n          setFocus();\n        });\n        return;\n      }\n      const input = event.target;\n      const isFieldEmpty = !input.value;\n      const isAllSelected = input.selectionStart === 0 && input.selectionEnd === input.value.length;\n      if (isFieldEmpty || isAllSelected) {\n        const textData = event.clipboardData.getData('text');\n        const trimmedValue = textData.trim();\n        setLocalValue(trimmedValue);\n        handleInput(trimmedValue);\n        if (!feelActive && (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.isString)(trimmedValue) && trimmedValue.startsWith('=')) {\n          setFocus(trimmedValue.length - 1);\n        }\n        event.preventDefault();\n      }\n    };\n    containerRef.current.addEventListener('copy', copyHandler);\n    containerRef.current.addEventListener('cut', copyHandler);\n    containerRef.current.addEventListener('paste', pasteHandler);\n    return () => {\n      containerRef.current.removeEventListener('copy', copyHandler);\n      containerRef.current.removeEventListener('cut', copyHandler);\n      containerRef.current.removeEventListener('paste', pasteHandler);\n    };\n  }, [containerRef, feelActive, handleFeelToggle, setFocus]);\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n    class: classnames__WEBPACK_IMPORTED_MODULE_3___default()('bio-properties-panel-feel-entry', {\n      'feel-active': feelActive\n    }),\n    children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"label\", {\n      for: prefixId$5(id),\n      class: \"bio-properties-panel-label\",\n      onClick: () => setFocus(),\n      children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(TooltipWrapper, {\n        value: tooltip,\n        forId: id,\n        element: props.element,\n        children: label\n      }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(FeelIcon, {\n        label: label,\n        feel: feel,\n        onClick: handleFeelToggle,\n        active: feelActive\n      })]\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n      class: \"bio-properties-panel-feel-container\",\n      ref: containerRef,\n      children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(FeelIndicator, {\n        active: feelActive,\n        disabled: feel !== 'optional' || disabled,\n        onClick: handleFeelToggle\n      }), feelActive ? (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(FeelEditor, {\n        name: id,\n        onInput: handleLocalInput,\n        onKeyDown: handleOnKeyDown,\n        contentAttributes: {\n          'id': prefixId$5(id),\n          'aria-label': label\n        },\n        disabled: disabled,\n        popupOpen: isPopupOpen,\n        onFeelToggle: () => {\n          handleFeelToggle();\n          setFocus(true);\n        },\n        onLint: handleLint,\n        onOpenPopup: handleOpenPopup,\n        placeholder: placeholder,\n        value: feelOnlyValue,\n        variables: variables,\n        feelLanguageContext: feelLanguageContext,\n        ref: editorRef,\n        tooltipContainer: tooltipContainer\n      }) : (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(OptionalComponent, {\n        ...props,\n        popupOpen: isPopupOpen,\n        onInput: handleLocalInput,\n        onKeyDown: handleOnKeyDown,\n        onBlur: handleOnBlur,\n        contentAttributes: {\n          'id': prefixId$5(id),\n          'aria-label': label\n        },\n        value: localValue,\n        ref: editorRef,\n        onOpenPopup: handleOpenPopup,\n        containerRef: containerRef\n      })]\n    })]\n  });\n}\nconst OptionalFeelInput = (0,preact_compat__WEBPACK_IMPORTED_MODULE_7__.forwardRef)((props, ref) => {\n  const {\n    id,\n    disabled,\n    onInput,\n    onKeyDown,\n    value,\n    onFocus,\n    onBlur,\n    placeholder\n  } = props;\n  const inputRef = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useRef)();\n\n  // To be consistent with the FEEL editor, set focus at start of input\n  // this ensures clean editing experience when switching with the keyboard\n  ref.current = {\n    focus: position => {\n      const input = inputRef.current;\n      if (!input) {\n        return;\n      }\n      input.focus();\n      if (typeof position === 'number') {\n        if (position > value.length) {\n          position = value.length;\n        }\n        input.setSelectionRange(position, position);\n      }\n    }\n  };\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"input\", {\n    id: prefixId$5(id),\n    type: \"text\",\n    ref: inputRef,\n    name: id,\n    spellCheck: \"false\",\n    autoComplete: \"off\",\n    disabled: disabled,\n    class: \"bio-properties-panel-input\",\n    onInput: e => onInput(e.target.value),\n    onFocus: onFocus,\n    onKeyDown: onKeyDown,\n    onBlur: onBlur,\n    placeholder: placeholder,\n    value: value || ''\n  });\n});\nconst OptionalFeelNumberField = (0,preact_compat__WEBPACK_IMPORTED_MODULE_7__.forwardRef)((props, ref) => {\n  const {\n    id,\n    debounce,\n    disabled,\n    onInput,\n    value,\n    min,\n    max,\n    step,\n    onFocus,\n    onBlur\n  } = props;\n  const inputRef = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useRef)();\n\n  // To be consistent with the FEEL editor, set focus at start of input\n  // this ensures clean editing experience when switching with the keyboard\n  ref.current = {\n    focus: position => {\n      const input = inputRef.current;\n      if (!input) {\n        return;\n      }\n      input.focus();\n      if (typeof position === 'number' && position !== Infinity) {\n        if (position > value.length) {\n          position = value.length;\n        }\n        input.setSelectionRange(position, position);\n      }\n    }\n  };\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(NumberField, {\n    id: id,\n    debounce: debounce,\n    disabled: disabled,\n    displayLabel: false,\n    inputRef: inputRef,\n    max: max,\n    min: min,\n    onInput: onInput,\n    step: step,\n    value: value,\n    onFocus: onFocus,\n    onBlur: onBlur\n  });\n});\n(0,preact_compat__WEBPACK_IMPORTED_MODULE_7__.forwardRef)((props, ref) => {\n  const {\n    id,\n    disabled,\n    onInput,\n    value,\n    onFocus,\n    onBlur,\n    placeholder\n  } = props;\n  const inputRef = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useRef)();\n\n  // To be consistent with the FEEL editor, set focus at start of input\n  // this ensures clean editing experience when switching with the keyboard\n  ref.current = {\n    focus: () => {\n      const input = inputRef.current;\n      if (!input) {\n        return;\n      }\n      input.focus();\n      input.setSelectionRange(0, 0);\n    }\n  };\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"textarea\", {\n    id: prefixId$5(id),\n    type: \"text\",\n    ref: inputRef,\n    name: id,\n    spellCheck: \"false\",\n    autoComplete: \"off\",\n    disabled: disabled,\n    class: \"bio-properties-panel-input\",\n    onInput: e => onInput(e.target.value),\n    onFocus: onFocus,\n    onBlur: onBlur,\n    placeholder: placeholder,\n    value: value || '',\n    \"data-gramm\": \"false\"\n  });\n});\nconst OptionalFeelToggleSwitch = (0,preact_compat__WEBPACK_IMPORTED_MODULE_7__.forwardRef)((props, ref) => {\n  const {\n    id,\n    onInput,\n    value,\n    onFocus,\n    onBlur,\n    switcherLabel\n  } = props;\n  const inputRef = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useRef)();\n\n  // To be consistent with the FEEL editor, set focus at start of input\n  // this ensures clean editing experience when switching with the keyboard\n  ref.current = {\n    focus: () => {\n      const input = inputRef.current;\n      if (!input) {\n        return;\n      }\n      input.focus();\n    }\n  };\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(ToggleSwitch, {\n    id: id,\n    value: value,\n    inputRef: inputRef,\n    onInput: onInput,\n    onFocus: onFocus,\n    onBlur: onBlur,\n    switcherLabel: switcherLabel\n  });\n});\n(0,preact_compat__WEBPACK_IMPORTED_MODULE_7__.forwardRef)((props, ref) => {\n  const {\n    id,\n    disabled,\n    onInput,\n    value,\n    onFocus,\n    onBlur\n  } = props;\n  const inputRef = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useRef)();\n  const handleChange = ({\n    target\n  }) => {\n    onInput(target.checked);\n  };\n\n  // To be consistent with the FEEL editor, set focus at start of input\n  // this ensures clean editing experience when switching with the keyboard\n  ref.current = {\n    focus: () => {\n      const input = inputRef.current;\n      if (!input) {\n        return;\n      }\n      input.focus();\n    }\n  };\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"input\", {\n    ref: inputRef,\n    id: prefixId$5(id),\n    name: id,\n    onFocus: onFocus,\n    onBlur: onBlur,\n    type: \"checkbox\",\n    class: \"bio-properties-panel-input\",\n    onChange: handleChange,\n    checked: value,\n    disabled: disabled\n  });\n});\n\n/**\n * @param {Object} props\n * @param {Object} props.element\n * @param {String} props.id\n * @param {String} props.description\n * @param {Boolean} props.debounce\n * @param {Boolean} props.disabled\n * @param {FeelType} [props.feel]\n * @param {String} props.label\n * @param {Function} props.getValue\n * @param {Function} props.setValue\n * @param {Function} props.tooltipContainer\n * @param {Function} props.validate\n * @param {Function} props.show\n * @param {Function} props.example\n * @param {Array} props.variables\n * @param {Function} props.onFocus\n * @param {Function} props.onBlur\n * @param {string} [props.placeholder]\n * @param {string|import('preact').Component} props.tooltip\n */\nfunction FeelEntry(props) {\n  const {\n    element,\n    id,\n    description,\n    debounce,\n    disabled,\n    feel,\n    label,\n    getValue,\n    setValue,\n    tooltipContainer,\n    hostLanguage,\n    singleLine,\n    validate,\n    show = noop$2,\n    example,\n    variables,\n    onFocus,\n    onBlur,\n    placeholder,\n    tooltip\n  } = props;\n  const [validationError, setValidationError] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)(null);\n  const [localError, setLocalError] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)(null);\n  let value = getValue(element);\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    if ((0,min_dash__WEBPACK_IMPORTED_MODULE_2__.isFunction)(validate)) {\n      const newValidationError = validate(value) || null;\n      setValidationError(newValidationError);\n    }\n  }, [value, validate]);\n  const onInput = useStaticCallback(newValue => {\n    const value = getValue(element);\n    let newValidationError = null;\n    if ((0,min_dash__WEBPACK_IMPORTED_MODULE_2__.isFunction)(validate)) {\n      newValidationError = validate(newValue) || null;\n    }\n\n    // don't create multiple commandStack entries for the same value\n    if (newValue !== value) {\n      setValue(newValue, newValidationError);\n    }\n    setValidationError(newValidationError);\n  });\n  const onError = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useCallback)(err => {\n    setLocalError(err);\n  }, []);\n  const temporaryError = useError(id);\n  const error = temporaryError || localError || validationError;\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n    class: classnames__WEBPACK_IMPORTED_MODULE_3___default()(props.class, 'bio-properties-panel-entry', error ? 'has-error' : ''),\n    \"data-entry-id\": id,\n    children: [(0,preact__WEBPACK_IMPORTED_MODULE_6__.createElement)(FeelTextfield, {\n      ...props,\n      debounce: debounce,\n      disabled: disabled,\n      feel: feel,\n      id: id,\n      key: element,\n      label: label,\n      onInput: onInput,\n      onError: onError,\n      onFocus: onFocus,\n      onBlur: onBlur,\n      placeholder: placeholder,\n      example: example,\n      hostLanguage: hostLanguage,\n      singleLine: singleLine,\n      show: show,\n      value: value,\n      variables: variables,\n      tooltipContainer: tooltipContainer,\n      OptionalComponent: props.OptionalComponent,\n      tooltip: tooltip\n    }), error && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n      class: \"bio-properties-panel-error\",\n      children: error\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Description$1, {\n      forId: id,\n      element: element,\n      value: description\n    })]\n  });\n}\n\n/**\n * @param {Object} props\n * @param {Object} props.element\n * @param {String} props.id\n * @param {String} props.description\n * @param {Boolean} props.debounce\n * @param {Boolean} props.disabled\n * @param {String} props.max\n * @param {String} props.min\n * @param {String} props.step\n * @param {FeelType} [props.feel]\n * @param {String} props.label\n * @param {Function} props.getValue\n * @param {Function} props.setValue\n * @param {Function} props.tooltipContainer\n * @param {Function} props.validate\n * @param {Function} props.show\n * @param {Function} props.example\n * @param {Array} props.variables\n * @param {Function} props.onFocus\n * @param {Function} props.onBlur\n */\nfunction FeelNumberEntry(props) {\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(FeelEntry, {\n    class: \"bio-properties-panel-feel-number\",\n    OptionalComponent: OptionalFeelNumberField,\n    ...props\n  });\n}\n\n/**\n * @param {Object} props\n * @param {Object} props.element\n * @param {String} props.id\n * @param {String} props.description\n * @param {Boolean} props.debounce\n * @param {Boolean} props.disabled\n * @param {FeelType} [props.feel]\n * @param {String} props.label\n * @param {Function} props.getValue\n * @param {Function} props.setValue\n * @param {Function} props.tooltipContainer\n * @param {Function} props.validate\n * @param {Function} props.show\n * @param {Function} props.example\n * @param {Array} props.variables\n * @param {Function} props.onFocus\n * @param {Function} props.onBlur\n */\nfunction FeelToggleSwitchEntry(props) {\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(FeelEntry, {\n    class: \"bio-properties-panel-feel-toggle-switch\",\n    OptionalComponent: OptionalFeelToggleSwitch,\n    ...props\n  });\n}\n\n/**\n * @param {Object} props\n * @param {Object} props.element\n * @param {String} props.id\n * @param {String} props.description\n * @param {String} props.hostLanguage\n * @param {Boolean} props.singleLine\n * @param {Boolean} props.debounce\n * @param {Boolean} props.disabled\n * @param {FeelType} [props.feel]\n * @param {String} props.label\n * @param {Function} props.getValue\n * @param {Function} props.setValue\n * @param {Function} props.tooltipContainer\n * @param {Function} props.validate\n * @param {Function} props.show\n * @param {Function} props.example\n * @param {Array} props.variables\n * @param {Function} props.onFocus\n * @param {Function} props.onBlur\n */\nfunction FeelTemplatingEntry(props) {\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(FeelEntry, {\n    class: \"bio-properties-panel-feel-templating\",\n    OptionalComponent: TemplatingEditor,\n    ...props\n  });\n}\nfunction isEdited$5(node) {\n  if (!node) {\n    return false;\n  }\n  if (node.type === 'checkbox') {\n    return !!node.checked || node.classList.contains('edited');\n  }\n  return !!node.value || node.classList.contains('edited');\n}\n\n// helpers /////////////////\n\nfunction prefixId$5(id) {\n  return `bio-properties-panel-${id}`;\n}\n\n/**\n * @typedef { { value: string, label: string, disabled: boolean, children: { value: string, label: string, disabled: boolean } } } Option\n */\n\n/**\n * Provides basic select input.\n *\n * @param {object} props\n * @param {string} props.id\n * @param {string[]} props.path\n * @param {string} props.label\n * @param {Function} props.onChange\n * @param {Function} props.onFocus\n * @param {Function} props.onBlur\n * @param {Array<Option>} [props.options]\n * @param {string} props.value\n * @param {boolean} [props.disabled]\n */\nfunction Select(props) {\n  const {\n    id,\n    label,\n    onChange,\n    options = [],\n    value = '',\n    disabled,\n    onFocus,\n    onBlur,\n    tooltip\n  } = props;\n  const ref = useShowEntryEvent(id);\n  const [localValue, setLocalValue] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)(value);\n  const handleChangeCallback = ({\n    target\n  }) => {\n    onChange(target.value);\n  };\n  const handleChange = e => {\n    handleChangeCallback(e);\n    setLocalValue(e.target.value);\n  };\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    if (value === localValue) {\n      return;\n    }\n    setLocalValue(value);\n  }, [value]);\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n    class: \"bio-properties-panel-select\",\n    children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"label\", {\n      for: prefixId$4(id),\n      class: \"bio-properties-panel-label\",\n      children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(TooltipWrapper, {\n        value: tooltip,\n        forId: id,\n        element: props.element,\n        children: label\n      })\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"select\", {\n      ref: ref,\n      id: prefixId$4(id),\n      name: id,\n      class: \"bio-properties-panel-input\",\n      onInput: handleChange,\n      onFocus: onFocus,\n      onBlur: onBlur,\n      value: localValue,\n      disabled: disabled,\n      children: options.map((option, idx) => {\n        if (option.children) {\n          return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"optgroup\", {\n            label: option.label,\n            children: option.children.map((child, idx) => (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"option\", {\n              value: child.value,\n              disabled: child.disabled,\n              children: child.label\n            }, idx))\n          }, idx);\n        }\n        return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"option\", {\n          value: option.value,\n          disabled: option.disabled,\n          children: option.label\n        }, idx);\n      })\n    })]\n  });\n}\n\n/**\n * @param {object} props\n * @param {object} props.element\n * @param {string} props.id\n * @param {string} [props.description]\n * @param {string} props.label\n * @param {Function} props.getValue\n * @param {Function} props.setValue\n * @param {Function} props.onFocus\n * @param {Function} props.onBlur\n * @param {Function} props.getOptions\n * @param {boolean} [props.disabled]\n * @param {Function} [props.validate]\n * @param {string|import('preact').Component} props.tooltip\n */\nfunction SelectEntry(props) {\n  const {\n    element,\n    id,\n    description,\n    label,\n    getValue,\n    setValue,\n    getOptions,\n    disabled,\n    onFocus,\n    onBlur,\n    validate,\n    tooltip\n  } = props;\n  const options = getOptions(element);\n  const globalError = useError(id);\n  const [localError, setLocalError] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)(null);\n  let value = getValue(element);\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    if ((0,min_dash__WEBPACK_IMPORTED_MODULE_2__.isFunction)(validate)) {\n      const newValidationError = validate(value) || null;\n      setLocalError(newValidationError);\n    }\n  }, [value, validate]);\n  const onChange = newValue => {\n    let newValidationError = null;\n    if ((0,min_dash__WEBPACK_IMPORTED_MODULE_2__.isFunction)(validate)) {\n      newValidationError = validate(newValue) || null;\n    }\n    setValue(newValue, newValidationError);\n    setLocalError(newValidationError);\n  };\n  const error = globalError || localError;\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n    class: classnames__WEBPACK_IMPORTED_MODULE_3___default()('bio-properties-panel-entry', error ? 'has-error' : ''),\n    \"data-entry-id\": id,\n    children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Select, {\n      id: id,\n      label: label,\n      value: value,\n      onChange: onChange,\n      onFocus: onFocus,\n      onBlur: onBlur,\n      options: options,\n      disabled: disabled,\n      tooltip: tooltip,\n      element: element\n    }, element), error && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n      class: \"bio-properties-panel-error\",\n      children: error\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Description$1, {\n      forId: id,\n      element: element,\n      value: description\n    })]\n  });\n}\nfunction isEdited$3(node) {\n  return node && !!node.value;\n}\n\n// helpers /////////////////\n\nfunction prefixId$4(id) {\n  return `bio-properties-panel-${id}`;\n}\nfunction resizeToContents(element) {\n  element.style.height = 'auto';\n\n  // a 2px pixel offset is required to prevent scrollbar from\n  // appearing on OS with a full length scroll bar (Windows/Linux)\n  element.style.height = `${element.scrollHeight + 2}px`;\n}\nfunction TextArea(props) {\n  const {\n    id,\n    label,\n    debounce,\n    onInput: commitValue,\n    value = '',\n    disabled,\n    monospace,\n    onFocus,\n    onBlur,\n    onPaste,\n    autoResize = true,\n    placeholder,\n    rows = autoResize ? 1 : 2,\n    tooltip\n  } = props;\n  const [localValue, setLocalValue] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)(value);\n  const ref = useShowEntryEvent(id);\n  const onInput = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useCallback)(newValue => {\n    const newModelValue = newValue === '' ? undefined : newValue;\n    commitValue(newModelValue);\n  }, [commitValue]);\n  const visible = useElementVisible(ref.current);\n\n  /**\n   * @type { import('min-dash').DebouncedFunction }\n   */\n  const handleInput = useDebounce(onInput, debounce);\n  const handleLocalInput = e => {\n    autoResize && resizeToContents(e.target);\n    if (e.target.value === localValue) {\n      return;\n    }\n    setLocalValue(e.target.value);\n    handleInput(e.target.value);\n  };\n  const handleOnBlur = e => {\n    const trimmedValue = e.target.value.trim();\n\n    // trim and commit on blur\n    handleInput.cancel?.();\n    onInput(trimmedValue);\n    setLocalValue(trimmedValue);\n    if (onBlur) {\n      onBlur(e);\n    }\n  };\n  const handleOnPaste = e => {\n    const input = e.target;\n    const isFieldEmpty = !input.value;\n    const isAllSelected = input.selectionStart === 0 && input.selectionEnd === input.value.length;\n\n    // Trim and handle paste if field is empty or all content is selected\n    if (isFieldEmpty || isAllSelected) {\n      const trimmedValue = e.clipboardData.getData('text').trim();\n      setLocalValue(trimmedValue);\n      handleInput(trimmedValue);\n      if (onPaste) {\n        onPaste(e);\n      }\n      e.preventDefault();\n      return;\n    }\n\n    // Allow default paste behavior for normal text editing\n    if (onPaste) {\n      onPaste(e);\n    }\n  };\n  const handleOnKeyDown = e => {\n    if (isCmdWithChar(e)) {\n      handleInput.flush();\n    }\n  };\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useLayoutEffect)(() => {\n    autoResize && resizeToContents(ref.current);\n  }, []);\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useLayoutEffect)(() => {\n    visible && autoResize && resizeToContents(ref.current);\n  }, [visible]);\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    if (value === localValue) {\n      return;\n    }\n    setLocalValue(value);\n  }, [value]);\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n    class: \"bio-properties-panel-textarea\",\n    children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"label\", {\n      for: prefixId$2(id),\n      class: \"bio-properties-panel-label\",\n      children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(TooltipWrapper, {\n        value: tooltip,\n        forId: id,\n        element: props.element,\n        children: label\n      })\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"textarea\", {\n      ref: ref,\n      id: prefixId$2(id),\n      name: id,\n      spellCheck: \"false\",\n      class: classnames__WEBPACK_IMPORTED_MODULE_3___default()('bio-properties-panel-input', monospace ? 'bio-properties-panel-input-monospace' : '', autoResize ? 'auto-resize' : ''),\n      onInput: handleLocalInput,\n      onFocus: onFocus,\n      onKeyDown: handleOnKeyDown,\n      onBlur: handleOnBlur,\n      onPaste: handleOnPaste,\n      placeholder: placeholder,\n      rows: rows,\n      value: localValue,\n      disabled: disabled,\n      \"data-gramm\": \"false\"\n    })]\n  });\n}\n\n/**\n * @param {object} props\n * @param {object} props.element\n * @param {string} props.id\n * @param {string} props.description\n * @param {boolean} props.debounce\n * @param {string} props.label\n * @param {Function} props.getValue\n * @param {Function} props.setValue\n * @param {Function} props.onFocus\n * @param {Function} props.onBlur\n * @param {Function} props.onPaste\n * @param {number} props.rows\n * @param {boolean} props.monospace\n * @param {Function} [props.validate]\n * @param {boolean} [props.disabled]\n */\nfunction TextAreaEntry(props) {\n  const {\n    element,\n    id,\n    description,\n    debounce,\n    label,\n    getValue,\n    setValue,\n    rows,\n    monospace,\n    disabled,\n    validate,\n    onFocus,\n    onBlur,\n    onPaste,\n    placeholder,\n    autoResize,\n    tooltip\n  } = props;\n  const globalError = useError(id);\n  const [localError, setLocalError] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)(null);\n  let value = getValue(element);\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    if ((0,min_dash__WEBPACK_IMPORTED_MODULE_2__.isFunction)(validate)) {\n      const newValidationError = validate(value) || null;\n      setLocalError(newValidationError);\n    }\n  }, [value, validate]);\n  const onInput = useStaticCallback(newValue => {\n    const value = getValue(element);\n    let newValidationError = null;\n    if ((0,min_dash__WEBPACK_IMPORTED_MODULE_2__.isFunction)(validate)) {\n      newValidationError = validate(newValue) || null;\n    }\n    if (newValue !== value) {\n      setValue(newValue, newValidationError);\n    }\n    setLocalError(newValidationError);\n  });\n  const error = globalError || localError;\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n    class: classnames__WEBPACK_IMPORTED_MODULE_3___default()('bio-properties-panel-entry', error ? 'has-error' : ''),\n    \"data-entry-id\": id,\n    children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(TextArea, {\n      id: id,\n      label: label,\n      value: value,\n      onInput: onInput,\n      onFocus: onFocus,\n      onBlur: onBlur,\n      onPaste: onPaste,\n      rows: rows,\n      debounce: debounce,\n      monospace: monospace,\n      disabled: disabled,\n      placeholder: placeholder,\n      autoResize: autoResize,\n      tooltip: tooltip,\n      element: element\n    }, element), error && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n      class: \"bio-properties-panel-error\",\n      children: error\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Description$1, {\n      forId: id,\n      element: element,\n      value: description\n    })]\n  });\n}\nfunction isEdited$1(node) {\n  return node && !!node.value;\n}\n\n// helpers /////////////////\n\nfunction prefixId$2(id) {\n  return `bio-properties-panel-${id}`;\n}\nfunction Textfield(props) {\n  const {\n    debounce,\n    disabled = false,\n    id,\n    label,\n    onInput: commitValue,\n    onFocus,\n    onBlur,\n    onPaste,\n    placeholder,\n    value = '',\n    tooltip\n  } = props;\n  const [localValue, setLocalValue] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)(value || '');\n  const ref = useShowEntryEvent(id);\n  const onInput = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useCallback)(newValue => {\n    const newModelValue = newValue === '' ? undefined : newValue;\n    commitValue(newModelValue);\n  }, [commitValue]);\n\n  /**\n   * @type { import('min-dash').DebouncedFunction }\n   */\n  const handleInput = useDebounce(onInput, debounce);\n  const handleOnBlur = e => {\n    const trimmedValue = e.target.value.trim();\n\n    // trim and commit on blur\n    handleInput.cancel?.();\n    onInput(trimmedValue);\n    setLocalValue(trimmedValue);\n    if (onBlur) {\n      onBlur(e);\n    }\n  };\n  const handleOnPaste = e => {\n    const input = e.target;\n    const isFieldEmpty = !input.value;\n    const isAllSelected = input.selectionStart === 0 && input.selectionEnd === input.value.length;\n\n    // Trim and handle paste if field is empty or all content is selected (overwrite)\n    if (isFieldEmpty || isAllSelected) {\n      const trimmedValue = e.clipboardData.getData('text').trim();\n      setLocalValue(trimmedValue);\n      handleInput(trimmedValue);\n      if (onPaste) {\n        onPaste(e);\n      }\n      e.preventDefault();\n      return;\n    }\n\n    // Allow default paste behavior for normal text editing\n    if (onPaste) {\n      onPaste(e);\n    }\n  };\n  const handleLocalInput = e => {\n    if (e.target.value === localValue) {\n      return;\n    }\n    setLocalValue(e.target.value);\n    handleInput(e.target.value);\n  };\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    if (value === localValue) {\n      return;\n    }\n    setLocalValue(value);\n  }, [value]);\n  const handleOnKeyDown = e => {\n    if (isCmdWithChar(e)) {\n      handleInput.flush();\n    }\n  };\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n    class: \"bio-properties-panel-textfield\",\n    children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"label\", {\n      for: prefixId$1(id),\n      class: \"bio-properties-panel-label\",\n      children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(TooltipWrapper, {\n        value: tooltip,\n        forId: id,\n        element: props.element,\n        children: label\n      })\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"input\", {\n      ref: ref,\n      id: prefixId$1(id),\n      type: \"text\",\n      name: id,\n      spellCheck: \"false\",\n      autoComplete: \"off\",\n      disabled: disabled,\n      class: \"bio-properties-panel-input\",\n      onInput: handleLocalInput,\n      onFocus: onFocus,\n      onKeyDown: handleOnKeyDown,\n      onBlur: handleOnBlur,\n      onPaste: handleOnPaste,\n      placeholder: placeholder,\n      value: localValue\n    })]\n  });\n}\n\n/**\n * @param {Object} props\n * @param {Object} props.element\n * @param {String} props.id\n * @param {String} props.description\n * @param {Boolean} props.debounce\n * @param {Boolean} props.disabled\n * @param {String} props.label\n * @param {Function} props.getValue\n * @param {Function} props.setValue\n * @param {Function} props.onFocus\n * @param {Function} props.onBlur\n * @param {string|import('preact').Component} props.tooltip\n * @param {Function} props.validate\n */\nfunction TextfieldEntry(props) {\n  const {\n    element,\n    id,\n    description,\n    debounce,\n    disabled,\n    label,\n    getValue,\n    setValue,\n    validate,\n    onFocus,\n    onBlur,\n    onPaste,\n    placeholder,\n    tooltip\n  } = props;\n  const globalError = useError(id);\n  const [localError, setLocalError] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)(null);\n  let value = getValue(element);\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    if ((0,min_dash__WEBPACK_IMPORTED_MODULE_2__.isFunction)(validate)) {\n      const newValidationError = validate(value) || null;\n      setLocalError(newValidationError);\n    }\n  }, [value, validate]);\n  const onInput = useStaticCallback(newValue => {\n    const value = getValue(element);\n    let newValidationError = null;\n    if ((0,min_dash__WEBPACK_IMPORTED_MODULE_2__.isFunction)(validate)) {\n      newValidationError = validate(newValue) || null;\n    }\n    if (newValue !== value) {\n      setValue(newValue, newValidationError);\n    }\n    setLocalError(newValidationError);\n  });\n  const error = globalError || localError;\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n    class: classnames__WEBPACK_IMPORTED_MODULE_3___default()('bio-properties-panel-entry', error ? 'has-error' : ''),\n    \"data-entry-id\": id,\n    children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Textfield, {\n      debounce: debounce,\n      disabled: disabled,\n      id: id,\n      label: label,\n      onInput: onInput,\n      onFocus: onFocus,\n      onBlur: onBlur,\n      onPaste: onPaste,\n      placeholder: placeholder,\n      value: value,\n      tooltip: tooltip,\n      element: element\n    }, element), error && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n      class: \"bio-properties-panel-error\",\n      children: error\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Description$1, {\n      forId: id,\n      element: element,\n      value: description\n    })]\n  });\n}\nfunction isEdited(node) {\n  return node && !!node.value;\n}\n\n// helpers /////////////////\n\nfunction prefixId$1(id) {\n  return `bio-properties-panel-${id}`;\n}\n\n/**\n * Add a dragger that calls back the passed function with\n * { event, delta } on drag.\n *\n * @example\n *\n * function dragMove(event, delta) {\n *   // we are dragging (!!)\n * }\n *\n * domElement.addEventListener('dragstart', dragger(dragMove));\n *\n * @param {Function} fn\n * @param {Element} [dragPreview]\n *\n * @return {Function} drag start callback function\n */\nfunction createDragger(fn, dragPreview) {\n  let self;\n  let startX, startY;\n\n  /** drag start */\n  function onDragStart(event) {\n    self = this;\n    startX = event.clientX;\n    startY = event.clientY;\n\n    // (1) prevent preview image\n    if (event.dataTransfer) {\n      event.dataTransfer.setDragImage(dragPreview || emptyCanvas(), 0, 0);\n    }\n\n    // (2) setup drag listeners\n\n    // attach drag + cleanup event\n    // we need to do this to make sure we track cursor\n    // movements before we reach other drag event handlers,\n    // e.g. in child containers.\n    document.addEventListener('dragover', onDrag, true);\n    document.addEventListener('dragenter', preventDefault, true);\n    document.addEventListener('dragend', onEnd);\n    document.addEventListener('drop', preventDefault);\n  }\n  function onDrag(event) {\n    const delta = {\n      x: event.clientX - startX,\n      y: event.clientY - startY\n    };\n\n    // call provided fn with event, delta\n    return fn.call(self, event, delta);\n  }\n  function onEnd() {\n    document.removeEventListener('dragover', onDrag, true);\n    document.removeEventListener('dragenter', preventDefault, true);\n    document.removeEventListener('dragend', onEnd);\n    document.removeEventListener('drop', preventDefault);\n  }\n  return onDragStart;\n}\nfunction preventDefault(event) {\n  event.preventDefault();\n  event.stopPropagation();\n}\nfunction emptyCanvas() {\n  return min_dom__WEBPACK_IMPORTED_MODULE_10___default()('<canvas width=\"0\" height=\"0\" />');\n}\nconst noop = () => {};\n\n/**\n * A generic popup component.\n *\n * @param {Object} props\n * @param {string} [props.className]\n * @param {boolean} [props.delayInitialFocus]\n * @param {{top: number, left: number}} [props.position]\n * @param {number} [props.width]\n * @param {number} [props.height]\n * @param {Function} props.onClose\n * @param {Function} [props.onPostActivate]\n * @param {Function} [props.onPostDeactivate]\n * @param {boolean} [props.returnFocus]\n * @param {boolean} [props.closeOnEscape]\n * @param {string} props.title\n * @param {Ref} [ref]\n */\nfunction PopupComponent(props, globalRef) {\n  const {\n    className,\n    delayInitialFocus,\n    position,\n    width,\n    height,\n    onClose,\n    onPostActivate = noop,\n    onPostDeactivate = noop,\n    returnFocus = true,\n    closeOnEscape = true,\n    title\n  } = props;\n  const focusTrapRef = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useRef)(null);\n  const localRef = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useRef)(null);\n  const popupRef = globalRef || localRef;\n  const handleKeydown = event => {\n    // do not allow keyboard events to bubble\n    event.stopPropagation();\n    if (closeOnEscape && event.key === 'Escape') {\n      onClose();\n    }\n  };\n\n  // re-activate focus trap on focus\n  const handleFocus = () => {\n    if (focusTrapRef.current) {\n      focusTrapRef.current.activate();\n    }\n  };\n  let style = {};\n  if (position) {\n    style = {\n      ...style,\n      top: position.top + 'px',\n      left: position.left + 'px'\n    };\n  }\n  if (width) {\n    style.width = width + 'px';\n  }\n  if (height) {\n    style.height = height + 'px';\n  }\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    if (popupRef.current) {\n      popupRef.current.addEventListener('focusin', handleFocus);\n    }\n    return () => {\n      if (popupRef.current) {\n        popupRef.current.removeEventListener('focusin', handleFocus);\n      }\n    };\n  }, [popupRef]);\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    if (popupRef.current) {\n      focusTrapRef.current = focus_trap__WEBPACK_IMPORTED_MODULE_15__.createFocusTrap(popupRef.current, {\n        clickOutsideDeactivates: true,\n        delayInitialFocus,\n        fallbackFocus: popupRef.current,\n        onPostActivate,\n        onPostDeactivate,\n        returnFocusOnDeactivate: returnFocus\n      });\n      focusTrapRef.current.activate();\n    }\n    return () => focusTrapRef.current && focusTrapRef.current.deactivate();\n  }, [popupRef]);\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n    \"aria-label\": title,\n    tabIndex: -1,\n    ref: popupRef,\n    onKeyDown: handleKeydown,\n    role: \"dialog\",\n    class: classnames__WEBPACK_IMPORTED_MODULE_3___default()('bio-properties-panel-popup', className),\n    style: style,\n    children: props.children\n  });\n}\nconst Popup = (0,preact_compat__WEBPACK_IMPORTED_MODULE_7__.forwardRef)(PopupComponent);\nPopup.Title = Title;\nPopup.Body = Body;\nPopup.Footer = Footer;\nfunction Title(props) {\n  const {\n    children,\n    className,\n    draggable,\n    eventBus,\n    title,\n    showCloseButton = false,\n    closeButtonTooltip = 'Close popup',\n    onClose,\n    ...rest\n  } = props;\n\n  // we can't use state as we need to\n  // manipulate this inside dragging events\n  const context = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useRef)({\n    startPosition: null,\n    newPosition: null\n  });\n  const dragPreviewRef = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useRef)();\n  const titleRef = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useRef)();\n  const onMove = (event, delta) => {\n    cancel(event);\n    const {\n      x: dx,\n      y: dy\n    } = delta;\n    const newPosition = {\n      x: context.current.startPosition.x + dx,\n      y: context.current.startPosition.y + dy\n    };\n    const popupParent = getPopupParent(titleRef.current);\n    popupParent.style.top = newPosition.y + 'px';\n    popupParent.style.left = newPosition.x + 'px';\n    eventBus?.fire('feelPopup.dragover', {\n      newPosition,\n      delta\n    });\n  };\n  const onMoveStart = event => {\n    // initialize drag handler\n    const onDragStart = createDragger(onMove, dragPreviewRef.current);\n    onDragStart(event);\n    event.stopPropagation();\n    const popupParent = getPopupParent(titleRef.current);\n    const bounds = popupParent.getBoundingClientRect();\n    context.current.startPosition = {\n      x: bounds.left,\n      y: bounds.top\n    };\n    eventBus?.fire('feelPopup.dragstart');\n  };\n  const onMoveEnd = () => {\n    context.current.newPosition = null;\n    eventBus?.fire('feelPopup.dragend');\n  };\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n    class: classnames__WEBPACK_IMPORTED_MODULE_3___default()('bio-properties-panel-popup__header', draggable && 'draggable', className),\n    ref: titleRef,\n    draggable: draggable,\n    onDragStart: onMoveStart,\n    onDragEnd: onMoveEnd,\n    ...rest,\n    children: [draggable && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment, {\n      children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n        ref: dragPreviewRef,\n        class: \"bio-properties-panel-popup__drag-preview\"\n      }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n        class: \"bio-properties-panel-popup__drag-handle\",\n        children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(DragIcon, {})\n      })]\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n      class: \"bio-properties-panel-popup__title\",\n      children: title\n    }), children, showCloseButton && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"button\", {\n      title: closeButtonTooltip,\n      class: \"bio-properties-panel-popup__close\",\n      onClick: onClose,\n      children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(CloseIcon, {})\n    })]\n  });\n}\nfunction Body(props) {\n  const {\n    children,\n    className,\n    ...rest\n  } = props;\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n    class: classnames__WEBPACK_IMPORTED_MODULE_3___default()('bio-properties-panel-popup__body', className),\n    ...rest,\n    children: children\n  });\n}\nfunction Footer(props) {\n  const {\n    children,\n    className,\n    ...rest\n  } = props;\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n    class: classnames__WEBPACK_IMPORTED_MODULE_3___default()('bio-properties-panel-popup__footer', className),\n    ...rest,\n    children: props.children\n  });\n}\n\n// helpers //////////////////////\n\nfunction getPopupParent(node) {\n  return node.closest('.bio-properties-panel-popup');\n}\nfunction cancel(event) {\n  event.preventDefault();\n  event.stopPropagation();\n}\n\n/**\n * @typedef {Object} FeelPopupProps\n * @property {string} entryId\n * @property {Function} onInput\n * @property {Function} onClose\n * @property {string} title\n * @property {'feel'|'feelers'} type\n * @property {string} value\n * @property {Array} [links]\n * @property {Array|Object} [variables]\n * @property {Object} [position]\n * @property {string} [hostLanguage]\n * @property {boolean} [singleLine]\n * @property {HTMLElement} [sourceElement]\n * @property {HTMLElement|string} [tooltipContainer]\n * @property {Object} [eventBus]\n */\n\nconst FEEL_POPUP_WIDTH = 700;\nconst FEEL_POPUP_HEIGHT = 250;\n\n/**\n * FEEL expression editor popup component\n * @param {FeelPopupProps} props\n */\nfunction FeelPopup$1(props) {\n  const {\n    entryId,\n    onInput,\n    onClose,\n    title,\n    type,\n    value,\n    links,\n    variables,\n    position,\n    hostLanguage,\n    singleLine,\n    sourceElement,\n    tooltipContainer,\n    eventBus,\n    feelLanguageContext\n  } = props;\n  const editorRef = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useRef)();\n  const popupRef = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useRef)();\n  const isAutoCompletionOpen = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useRef)(false);\n  const handleSetReturnFocus = () => {\n    sourceElement && sourceElement.focus();\n  };\n  const onKeyDownCapture = event => {\n    // we use capture here to make sure we handle the event before the editor does\n    if (event.key === 'Escape') {\n      isAutoCompletionOpen.current = autoCompletionOpen(event.target);\n    }\n  };\n  const onKeyDown = event => {\n    if (event.key === 'Escape') {\n      // close popup only if auto completion is not open\n      if (!isAutoCompletionOpen.current) {\n        onClose();\n        isAutoCompletionOpen.current = false;\n      }\n    }\n  };\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    // set focus on editor when popup is opened\n    if (editorRef.current) {\n      editorRef.current.focus();\n    }\n  }, [editorRef]);\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(Popup, {\n    className: \"bio-properties-panel-feel-popup\",\n    position: position,\n    title: title,\n    returnFocus: false,\n    closeOnEscape: false,\n    delayInitialFocus: false,\n    onPostDeactivate: handleSetReturnFocus,\n    height: FEEL_POPUP_HEIGHT,\n    width: FEEL_POPUP_WIDTH,\n    ref: popupRef,\n    children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Popup.Title, {\n      title: title,\n      eventBus: eventBus,\n      showCloseButton: true,\n      closeButtonTooltip: \"Save and close\",\n      onClose: onClose,\n      draggable: true,\n      children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment, {\n        children: (links || []).map((link, index) => {\n          return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"a\", {\n            rel: \"noreferrer\",\n            href: link.href,\n            target: \"_blank\",\n            class: \"bio-properties-panel-feel-popup__title-link\",\n            children: [link.title, (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(LaunchIcon, {})]\n          }, index);\n        })\n      })\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Popup.Body, {\n      children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n        onKeyDownCapture: onKeyDownCapture,\n        onKeyDown: onKeyDown,\n        class: \"bio-properties-panel-feel-popup__body\",\n        children: [type === 'feel' && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(FeelEditor, {\n          enableGutters: true,\n          id: prefixId(entryId),\n          name: entryId,\n          onInput: onInput,\n          value: value,\n          variables: variables,\n          feelLanguageContext: feelLanguageContext,\n          ref: editorRef,\n          tooltipContainer: tooltipContainer\n        }), type === 'feelers' && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(TemplatingEditor, {\n          id: prefixId(entryId),\n          contentAttributes: {\n            'aria-label': title\n          },\n          enableGutters: true,\n          hostLanguage: hostLanguage,\n          name: entryId,\n          onInput: onInput,\n          value: value,\n          ref: editorRef,\n          singleLine: singleLine,\n          tooltipContainer: tooltipContainer\n        })]\n      })\n    })]\n  });\n}\nfunction prefixId(id) {\n  return `bio-properties-panel-${id}`;\n}\nfunction autoCompletionOpen(element) {\n  const editor = element.closest('.cm-editor');\n  return editor ? editor.querySelector('.cm-tooltip-autocomplete') : null;\n}\nfunction getPopupTitle({\n  element,\n  label\n}) {\n  let popupTitle = '';\n  if (element && element.type) {\n    popupTitle = `${element.type} / `;\n  }\n  return `${popupTitle}${label}`;\n}\nfunction getPopupPosition() {\n  const viewportWidth = window.innerWidth || document.documentElement.clientWidth;\n  const viewportHeight = window.innerHeight || document.documentElement.clientHeight;\n  return {\n    left: Math.max(0, (viewportWidth - FEEL_POPUP_WIDTH) / 2),\n    top: Math.max(0, (viewportHeight - FEEL_POPUP_HEIGHT) / 2)\n  };\n}\n\n/**\n * FEEL popup component, built as a singleton.\n *\n * In order to implement a custom replacement, handle the following events:\n * - `propertiesPanel.openPopup`\n * - `propertiesPanel.closePopup`\n * - `propertiesPanel.detach`\n *\n * Within the custom renderer, make sure to emit the following events:\n *  - `feelPopup.open` - fired before the popup is mounted\n *  - `feelPopup.opened` - fired after the popup is mounted. Event context contains the DOM node of the popup as `domNode`\n *  - `feelPopup.close` - fired before the popup is unmounted. Event context contains the DOM node of the popup as `domNode`\n *  - `feelPopup.closed` - fired after the popup is unmounted\n */\nclass FeelPopup {\n  constructor(eventBus, config = {}) {\n    this._eventBus = eventBus;\n    this._config = config;\n    this._isOpen = false;\n    eventBus.on('propertiesPanel.openPopup', (_, context) => {\n      this.open(context.entryId, context, context.sourceElement);\n\n      // return true to indicate that popup was opened\n      return true;\n    });\n    eventBus.on(['propertiesPanel.closePopup', 'propertiesPanel.detach'], () => {\n      this.close();\n    });\n  }\n\n  /**\n   * Check if the FEEL popup is open.\n   * @return {Boolean}\n   */\n  isOpen() {\n    return this._isOpen;\n  }\n\n  /**\n   * Open the FEEL popup.\n   *\n   * @param {String} entryId\n   * @param {Object} popupConfig\n   * @param {HTMLElement} sourceElement\n   */\n  open(entryId, popupConfig, sourceElement) {\n    // close before opening a new one\n    this.close();\n    this._openPopup({\n      ...popupConfig,\n      entryId,\n      sourceElement\n    });\n  }\n\n  /**\n   * Close the FEEL popup.\n   */\n  close() {\n    this._closePopup();\n  }\n  _openPopup(context) {\n    const {\n      element,\n      label,\n      sourceElement,\n      type\n    } = context;\n    this._isOpen = true;\n    this._eventBus.fire('propertiesPanelPopup.open', {\n      container: this._config.feelPopupContainer,\n      config: {\n        ...context,\n        links: this._config.getFeelPopupLinks?.(type) || [],\n        onClose: () => {\n          this._closePopup();\n\n          // setTimeout to ensure the focus happens after the DOM updates make it focusable\n          setTimeout(() => {\n            sourceElement && sourceElement.focus();\n          }, 0);\n        },\n        position: getPopupPosition(),\n        title: getPopupTitle({\n          element,\n          label\n        })\n      }\n    });\n  }\n  _closePopup() {\n    if (this._isOpen) {\n      this._isOpen = false;\n      this._eventBus.fire('propertiesPanelPopup.close');\n    }\n  }\n}\nFeelPopup.$inject = ['eventBus', 'config.propertiesPanel'];\nclass FeelPopupRenderer {\n  constructor(eventBus) {\n    this._eventBus = eventBus;\n    this._container = null;\n    this._element = null;\n    eventBus.on('propertiesPanelPopup.open', context => {\n      this._renderPopup(context);\n    });\n    eventBus.on('propertiesPanelPopup.close', () => {\n      this._removePopup();\n    });\n  }\n  _renderPopup(context) {\n    let {\n      container,\n      config\n    } = context;\n    container = this._container = getContainer(container) || document.body;\n    const element = this._element = createElement();\n    container.appendChild(element);\n\n    // TODO(philippfromme): there is no useService in this context, so we need\n    // to pass the event bus as a prop or create a context provider, however,\n    // a custom renderer would have to use that context provider as well to have\n    // access to the event bus and other services\n    this._emit('feelPopup.open');\n    (0,preact__WEBPACK_IMPORTED_MODULE_6__.render)((0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(FeelPopup$1, {\n      ...config,\n      eventBus: this._eventBus\n    }), element);\n    this._emit('feelPopup.opened', {\n      domNode: element\n    });\n  }\n  _removePopup() {\n    if (!this._container) {\n      return;\n    }\n    this._emit('feelPopup.close', {\n      domNode: this._element\n    });\n    (0,preact__WEBPACK_IMPORTED_MODULE_6__.render)(null, this._element);\n    this._container.removeChild(this._element);\n    this._container = null;\n    this._emit('feelPopup.closed');\n  }\n  _emit(event, context) {\n    this._eventBus.fire(event, context);\n  }\n}\nFeelPopupRenderer.$inject = ['eventBus'];\n\n// helpers /////////////////\n\nfunction createElement() {\n  const element = document.createElement('div');\n  element.classList.add('bio-properties-panel-popup-container');\n  return element;\n}\nfunction getContainer(container) {\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_2__.isString)(container)) {\n    return (0,min_dom__WEBPACK_IMPORTED_MODULE_9__.query)(container);\n  }\n  return container;\n}\nvar index = {\n  __init__: ['feelPopup', 'feelPopupRenderer'],\n  feelPopup: ['type', FeelPopup],\n  feelPopupRenderer: ['type', FeelPopupRenderer]\n};\n\n/**\n * @param {string} type\n * @param {boolean} [strict]\n *\n * @returns {any}\n */\nfunction getService(type, strict) {}\nconst FormPropertiesPanelContext = (0,preact__WEBPACK_IMPORTED_MODULE_6__.createContext)({\n  getService\n});\n\nfunction getPropertiesPanelHeaderProvider(options = {}) {\n  const {\n    getDocumentationRef,\n    formFields\n  } = options;\n  return {\n    getElementLabel: field => {\n      const {\n        type\n      } = field;\n      const fieldDefinition = formFields.get(type).config;\n      return fieldDefinition.getSubheading ? fieldDefinition.getSubheading(field) : field.label;\n    },\n    getElementIcon: field => {\n      const {\n        type\n      } = field;\n      const fieldDefinition = formFields.get(type).config;\n      const Icon = fieldDefinition.icon || (0,_bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.iconsByType)(type);\n      if (Icon) {\n        return function IconComponent() {\n          return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Icon, {\n            width: \"36\",\n            height: \"36\",\n            viewBox: \"0 0 54 54\"\n          });\n        };\n      } else if (fieldDefinition.iconUrl) {\n        return getPaletteIcon({\n          iconUrl: fieldDefinition.iconUrl,\n          label: fieldDefinition.label\n        });\n      }\n    },\n    getTypeLabel: field => {\n      const {\n        type\n      } = field;\n      if (type === 'default') {\n        return 'Form';\n      }\n      const fieldDefinition = formFields.get(type).config;\n      return fieldDefinition.name || fieldDefinition.label || type;\n    },\n    getDocumentationRef\n  };\n}\n\n/**\n * Provide placeholders for empty and multiple state.\n */\nconst PropertiesPanelPlaceholderProvider = {\n  getEmpty: () => {\n    return {\n      text: 'Select a form field to edit its properties.'\n    };\n  },\n  getMultiple: () => {\n    return {\n      text: 'Multiple form fields are selected. Select a single form field to edit its properties.'\n    };\n  }\n};\n\nconst EMPTY = {};\nfunction PropertiesPanel(props) {\n  const {\n    eventBus,\n    getProviders,\n    injector\n  } = props;\n  const formEditor = injector.get('formEditor');\n  const modeling = injector.get('modeling');\n  const selectionModule = injector.get('selection');\n  const propertiesPanelConfig = injector.get('config.propertiesPanel') || EMPTY;\n  const {\n    feelPopupContainer\n  } = propertiesPanelConfig;\n  const [state, setState] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)({\n    selectedFormField: selectionModule.get() || formEditor._getState().schema\n  });\n  const selectedFormField = state.selectedFormField;\n  const refresh = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useCallback)(field => {\n    // TODO(skaiir): rework state management, re-rendering the whole properties panel is not the way to go\n    // https://github.com/bpmn-io/form-js/issues/686\n    setState({\n      selectedFormField: selectionModule.get() || formEditor._getState().schema\n    });\n\n    // notify interested parties on property panel updates\n    eventBus.fire('propertiesPanel.updated', {\n      formField: field\n    });\n  }, [eventBus, formEditor, selectionModule]);\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useLayoutEffect)(() => {\n    /**\n     * TODO(pinussilvestrus): update with actual updated element,\n     * once we have a proper updater/change support\n     */\n    eventBus.on('changed', refresh);\n    eventBus.on('import.done', refresh);\n    eventBus.on('selection.changed', refresh);\n    return () => {\n      eventBus.off('changed', refresh);\n      eventBus.off('import.done', refresh);\n      eventBus.off('selection.changed', refresh);\n    };\n  }, [eventBus, refresh]);\n  const getService = (type, strict = true) => injector.get(type, strict);\n  const propertiesPanelContext = {\n    getService\n  };\n  const onFocus = () => eventBus.fire('propertiesPanel.focusin');\n  const onBlur = () => eventBus.fire('propertiesPanel.focusout');\n  const editField = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useCallback)((formField, key, value) => modeling.editFormField(formField, key, value), [modeling]);\n\n  // retrieve groups for selected form field\n  const providers = getProviders(selectedFormField);\n  const groups = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => {\n    return (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.reduce)(providers, function (groups, provider) {\n      // do not collect groups for multi element state\n      if ((0,min_dash__WEBPACK_IMPORTED_MODULE_2__.isArray)(selectedFormField)) {\n        return [];\n      }\n      const updater = provider.getGroups(selectedFormField, editField);\n      return updater(groups);\n    }, []);\n  }, [providers, selectedFormField, editField]);\n  const formFields = getService('formFields');\n  const PropertiesPanelHeaderProvider = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => getPropertiesPanelHeaderProvider({\n    getDocumentationRef: propertiesPanelConfig.getDocumentationRef,\n    formFields\n  }), [formFields, propertiesPanelConfig]);\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n    class: \"fjs-properties-panel\",\n    \"data-field\": selectedFormField && selectedFormField.id,\n    onFocusCapture: onFocus,\n    onBlurCapture: onBlur,\n    children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(FormPropertiesPanelContext.Provider, {\n      value: propertiesPanelContext,\n      children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(PropertiesPanel$1, {\n        element: selectedFormField,\n        eventBus: eventBus,\n        groups: groups,\n        headerProvider: PropertiesPanelHeaderProvider,\n        placeholderProvider: PropertiesPanelPlaceholderProvider,\n        feelPopupContainer: feelPopupContainer\n      })\n    })\n  });\n}\n\nconst DEFAULT_PRIORITY = 1000;\n\n/**\n * @typedef { { parent: Element } } PropertiesPanelConfig\n * @typedef { import('../../core/EventBus').EventBus } EventBus\n * @typedef { import('../../types').Injector } Injector\n * @typedef { { getGroups: ({ formField, editFormField }) => ({ groups}) => Array } } PropertiesProvider\n */\n\n/**\n * @param {PropertiesPanelConfig} propertiesPanelConfig\n * @param {Injector} injector\n * @param {EventBus} eventBus\n */\nclass PropertiesPanelRenderer {\n  constructor(propertiesPanelConfig, injector, eventBus) {\n    const {\n      parent\n    } = propertiesPanelConfig || {};\n    this._eventBus = eventBus;\n    this._injector = injector;\n    this._container = min_dom__WEBPACK_IMPORTED_MODULE_10___default()('<div class=\"fjs-properties-container\" input-handle-modified-keys=\"y,z\"></div>');\n    if (parent) {\n      this.attachTo(parent);\n    }\n    this._eventBus.once('formEditor.rendered', 500, () => {\n      this._render();\n    });\n  }\n\n  /**\n   * Attach the properties panel to a parent node.\n   *\n   * @param {HTMLElement} container\n   */\n  attachTo(container) {\n    if (!container) {\n      throw new Error('container required');\n    }\n    if (typeof container === 'string') {\n      container = (0,min_dom__WEBPACK_IMPORTED_MODULE_9__.query)(container);\n    }\n\n    // (1) detach from old parent\n    this.detach();\n\n    // (2) append to parent container\n    container.appendChild(this._container);\n\n    // (3) notify interested parties\n    this._eventBus.fire('propertiesPanel.attach');\n  }\n\n  /**\n   * Detach the properties panel from its parent node.\n   */\n  detach() {\n    const parentNode = this._container.parentNode;\n    if (parentNode) {\n      parentNode.removeChild(this._container);\n      this._eventBus.fire('propertiesPanel.detach');\n    }\n  }\n  _render() {\n    (0,preact__WEBPACK_IMPORTED_MODULE_6__.render)((0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(PropertiesPanel, {\n      getProviders: this._getProviders.bind(this),\n      eventBus: this._eventBus,\n      injector: this._injector\n    }), this._container);\n    this._eventBus.fire('propertiesPanel.rendered');\n  }\n  _destroy() {\n    if (this._container) {\n      (0,preact__WEBPACK_IMPORTED_MODULE_6__.render)(null, this._container);\n      this._eventBus.fire('propertiesPanel.destroyed');\n    }\n  }\n\n  /**\n   * Register a new properties provider to the properties panel.\n   *\n   * @param {PropertiesProvider} provider\n   * @param {Number} [priority]\n   */\n  registerProvider(provider, priority) {\n    if (!priority) {\n      priority = DEFAULT_PRIORITY;\n    }\n    if (typeof provider.getGroups !== 'function') {\n      console.error('Properties provider does not implement #getGroups(element) API');\n      return;\n    }\n    this._eventBus.on('propertiesPanel.getProviders', priority, function (event) {\n      event.providers.push(provider);\n    });\n    this._eventBus.fire('propertiesPanel.providersChanged');\n  }\n  _getProviders() {\n    const event = this._eventBus.createEvent({\n      type: 'propertiesPanel.getProviders',\n      providers: []\n    });\n    this._eventBus.fire(event);\n    return event.providers;\n  }\n}\nPropertiesPanelRenderer.$inject = ['config.propertiesPanel', 'injector', 'eventBus'];\n\nfunction ActionEntry(props) {\n  const {\n    editField,\n    field\n  } = props;\n  const entries = [];\n  entries.push({\n    id: 'action',\n    component: Action,\n    editField: editField,\n    field: field,\n    isEdited: isEdited$3,\n    isDefaultVisible: field => field.type === 'button'\n  });\n  return entries;\n}\nfunction Action(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const path = ['action'];\n  const getValue = () => {\n    return (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, path, '');\n  };\n  const setValue = value => {\n    return editField(field, path, value);\n  };\n  const getOptions = () => [{\n    label: 'Submit',\n    value: 'submit'\n  }, {\n    label: 'Reset',\n    value: 'reset'\n  }];\n  return SelectEntry({\n    element: field,\n    getOptions,\n    getValue,\n    id,\n    label: 'Action',\n    setValue\n  });\n}\n\nfunction useService(type, strict) {\n  const {\n    getService\n  } = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useContext)(FormPropertiesPanelContext);\n  return getService(type, strict);\n}\n\n/**\n * Retrieve list of variables from the form schema.\n *\n * @returns { string[] } list of variables used in form schema\n */\nfunction useVariables() {\n  const form = useService('formEditor');\n  const schema = form.getSchema();\n  return (0,_bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.getSchemaVariables)(schema);\n}\n\nfunction AltTextEntry(props) {\n  const {\n    editField,\n    field\n  } = props;\n  const entries = [];\n  entries.push({\n    id: 'alt',\n    component: AltText,\n    editField: editField,\n    field: field,\n    isEdited: isEdited$5,\n    isDefaultVisible: field => ['image'].includes(field.type)\n  });\n  return entries;\n}\nfunction AltText(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const debounce = useService('debounce');\n  const variables = useVariables().map(name => ({\n    name\n  }));\n  const path = ['alt'];\n  const getValue = () => {\n    return (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, path, '');\n  };\n  const setValue = value => {\n    return editField(field, path, value);\n  };\n  return FeelTemplatingEntry({\n    debounce,\n    element: field,\n    feel: 'optional',\n    getValue,\n    id,\n    label: 'Alternative text',\n    tooltip: 'Descriptive text for screen reader accessibility.',\n    setValue,\n    singleLine: true,\n    variables\n  });\n}\n\nconst AUTO_OPTION_VALUE = '';\nfunction ColumnsEntry(props) {\n  const {\n    editField,\n    field\n  } = props;\n  const entries = [{\n    id: 'columns',\n    component: Columns,\n    field,\n    editField,\n    isEdited: isEdited$3\n  }];\n  return entries;\n}\nfunction Columns(props) {\n  const {\n    field,\n    editField,\n    id\n  } = props;\n  useService('debounce');\n  const formLayoutValidator = useService('formLayoutValidator');\n  const validate = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useCallback)(value => {\n    return formLayoutValidator.validateField(field, value ? parseInt(value) : null);\n  }, [field, formLayoutValidator]);\n  const setValue = (value, error) => {\n    if (error) {\n      return;\n    }\n    const layout = (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, ['layout'], {});\n    const newValue = value ? parseInt(value) : null;\n    editField(field, ['layout'], (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.set)(layout, ['columns'], newValue));\n  };\n  const getValue = () => {\n    return (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, ['layout', 'columns']);\n  };\n  const getOptions = () => {\n    return [{\n      label: 'Auto',\n      value: AUTO_OPTION_VALUE\n    },\n    // todo(pinussilvestrus): make options dependant on field type\n    // cf. https://github.com/bpmn-io/form-js/issues/575\n    ...asArray(16).filter(i => i >= MIN_COLUMNS).map(asOption)];\n  };\n  return SelectEntry({\n    element: field,\n    id,\n    label: 'Columns',\n    getOptions,\n    getValue,\n    setValue,\n    validate\n  });\n}\n\n// helper /////////\n\nfunction asOption(number) {\n  return {\n    value: number,\n    label: number.toString()\n  };\n}\nfunction asArray(length) {\n  return Array.from({\n    length\n  }).map((_, i) => i + 1);\n}\n\nfunction arrayAdd(array, index, item) {\n  const copy = [...array];\n  copy.splice(index, 0, item);\n  return copy;\n}\nfunction countDecimals(number) {\n  const num = (0,big_js__WEBPACK_IMPORTED_MODULE_16__[\"default\"])(number);\n  if (num.toString() === num.toFixed(0)) return 0;\n  return num.toFixed().split('.')[1].length || 0;\n}\n\n/**\n *\n * @param {unknown} value\n * @returns {boolean}\n */\nfunction isValidNumber(value) {\n  return (typeof value === 'number' || typeof value === 'string') && value !== '' && !isNaN(Number(value));\n}\n\n/**\n * @param {string} path\n */\nfunction isValidDotPath(path) {\n  return /^\\w+(\\.\\w+)*$/.test(path);\n}\n\n/**\n * @param {string} path\n */\nfunction isProhibitedPath(path) {\n  const prohibitedSegments = ['__proto__', 'prototype', 'constructor'];\n  return path.split('.').some(segment => prohibitedSegments.includes(segment));\n}\nconst LABELED_NON_INPUTS = ['button', 'group', 'dynamiclist', 'iframe', 'table', 'documentPreview'];\nconst INPUTS = ['checkbox', 'checklist', 'datetime', 'number', 'radio', 'select', 'taglist', 'textfield', 'textarea', 'filepicker'];\nconst OPTIONS_INPUTS = ['checklist', 'radio', 'select', 'taglist'];\nfunction hasEntryConfigured(formFieldDefinition, entryId) {\n  const {\n    propertiesPanelEntries = []\n  } = formFieldDefinition;\n  if (!propertiesPanelEntries.length) {\n    return false;\n  }\n  return propertiesPanelEntries.some(id => id === entryId);\n}\nfunction hasOptionsGroupsConfigured(formFieldDefinition) {\n  const {\n    propertiesPanelEntries = []\n  } = formFieldDefinition;\n  if (!propertiesPanelEntries.length) {\n    return false;\n  }\n  return propertiesPanelEntries.some(id => id === 'values');\n}\n\n/**\n * @param {string} path\n */\nfunction hasIntegerPathSegment(path) {\n  return path.split('.').some(segment => /^\\d+$/.test(segment));\n}\n\n/**\n * Factory for isEdited functions that check against a default.\n *\n * @param {string} defaultValue The default value to check against.\n * @param {boolean} [includeEmptyAsDefault=true] If true, an empty value (e.g., '') is also considered a default state.\n * @return {(node: HTMLElement) => boolean} A function that returns true if the node's value is edited.\n */\nfunction isEditedFromDefaultFactory(defaultValue, includeEmptyAsDefault = true) {\n  return node => {\n    if (!node) {\n      return false;\n    }\n\n    /**\n     * @type {HTMLElement|null}\n     */\n    const codeMirrorContent = node.querySelector('.cm-content');\n    const isCodeMirrorEditor = !!codeMirrorContent;\n    const value = isCodeMirrorEditor ? codeMirrorContent.innerText : /** @type {HTMLInputElement} */node.value;\n    if (includeEmptyAsDefault && !value) {\n      return false;\n    }\n    return value !== defaultValue;\n  };\n}\nfunction isTrueDefaultToggleSwitchEntryEdited(node) {\n  return node && !node.checked;\n}\n\nfunction DescriptionEntry(props) {\n  const {\n    editField,\n    field\n  } = props;\n  const entries = [];\n  entries.push({\n    id: 'description',\n    component: Description,\n    editField: editField,\n    field: field,\n    isEdited: isEdited$5,\n    isDefaultVisible: field => field.type !== 'filepicker' && INPUTS.includes(field.type)\n  });\n  return entries;\n}\nfunction Description(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const debounce = useService('debounce');\n  const variables = useVariables().map(name => ({\n    name\n  }));\n  const path = ['description'];\n  const getValue = () => {\n    return (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, path, '');\n  };\n  const setValue = value => {\n    return editField(field, path, value);\n  };\n  return FeelTemplatingEntry({\n    debounce,\n    element: field,\n    getValue,\n    id,\n    label: 'Field description',\n    singleLine: true,\n    setValue,\n    variables\n  });\n}\n\nconst EMPTY_OPTION = '';\nfunction DefaultValueEntry(props) {\n  const {\n    editField,\n    field\n  } = props;\n  const {\n    type\n  } = field;\n  const entries = [];\n  function isDefaultVisible(matchers) {\n    return field => {\n      // Only make default values available when they are statically defined\n      if (!INPUTS.includes(type) || OPTIONS_INPUTS.includes(type) && !field.values) {\n        return false;\n      }\n      return matchers(field);\n    };\n  }\n  const defaultValueBase = {\n    editField,\n    field,\n    id: 'defaultValue',\n    label: 'Default value'\n  };\n  entries.push({\n    ...defaultValueBase,\n    component: DefaultValueCheckbox,\n    isEdited: isEdited$3,\n    isDefaultVisible: isDefaultVisible(field => field.type === 'checkbox')\n  });\n  entries.push({\n    ...defaultValueBase,\n    component: DefaultValueNumber,\n    isEdited: isEdited,\n    isDefaultVisible: isDefaultVisible(field => field.type === 'number')\n  });\n  entries.push({\n    ...defaultValueBase,\n    component: DefaultValueSingleSelect,\n    isEdited: isEdited$3,\n    isDefaultVisible: isDefaultVisible(field => field.type === 'radio' || field.type === 'select')\n  });\n\n  // todo(Skaiir): implement a multiselect equivalent (cf. https://github.com/bpmn-io/form-js/issues/265)\n\n  entries.push({\n    ...defaultValueBase,\n    component: DefaultValueTextfield,\n    isEdited: isEdited,\n    isDefaultVisible: isDefaultVisible(field => field.type === 'textfield')\n  });\n  entries.push({\n    ...defaultValueBase,\n    component: DefaultValueTextarea,\n    isEdited: isEdited$1,\n    isDefaultVisible: isDefaultVisible(field => field.type === 'textarea')\n  });\n  return entries;\n}\nfunction DefaultValueCheckbox(props) {\n  const {\n    editField,\n    field,\n    id,\n    label\n  } = props;\n  const {\n    defaultValue\n  } = field;\n  const path = ['defaultValue'];\n  const getOptions = () => {\n    return [{\n      label: 'Checked',\n      value: 'true'\n    }, {\n      label: 'Not checked',\n      value: 'false'\n    }];\n  };\n  const setValue = value => {\n    return editField(field, path, parseStringToBoolean(value));\n  };\n  const getValue = () => {\n    return parseBooleanToString(defaultValue);\n  };\n  return SelectEntry({\n    element: field,\n    getOptions,\n    getValue,\n    id,\n    label,\n    setValue\n  });\n}\nfunction DefaultValueNumber(props) {\n  const {\n    editField,\n    field,\n    id,\n    label\n  } = props;\n  const {\n    decimalDigits,\n    serializeToString = false\n  } = field;\n  const debounce = useService('debounce');\n  const path = ['defaultValue'];\n  const getValue = e => {\n    let value = (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, path);\n    if (!isValidNumber(value)) return;\n\n    // Enforces decimal notation so that we do not submit defaults in exponent form\n    return serializeToString ? (0,big_js__WEBPACK_IMPORTED_MODULE_16__[\"default\"])(value).toFixed() : value;\n  };\n  const setValue = (value, error) => {\n    if (error) {\n      return;\n    }\n    let newValue;\n    if (isValidNumber(value)) {\n      newValue = serializeToString ? value : Number(value);\n    }\n    return editField(field, path, newValue);\n  };\n  const decimalDigitsSet = decimalDigits || decimalDigits === 0;\n  const validate = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useCallback)(value => {\n    if (value === undefined || value === null) {\n      return;\n    }\n    if (!isValidNumber(value)) {\n      return 'Should be a valid number';\n    }\n    if (decimalDigitsSet && countDecimals(value) > decimalDigits) {\n      return `Should not contain more than ${decimalDigits} decimal digits`;\n    }\n  }, [decimalDigitsSet, decimalDigits]);\n  return TextfieldEntry({\n    debounce,\n    label,\n    element: field,\n    getValue,\n    id,\n    setValue,\n    validate\n  });\n}\nfunction DefaultValueSingleSelect(props) {\n  const {\n    editField,\n    field,\n    id,\n    label\n  } = props;\n  const {\n    defaultValue = EMPTY_OPTION,\n    values = []\n  } = field;\n  const path = ['defaultValue'];\n  const getOptions = () => {\n    return [{\n      label: '<none>',\n      value: EMPTY_OPTION\n    }, ...values];\n  };\n  const setValue = value => {\n    return editField(field, path, value.length ? value : undefined);\n  };\n  const getValue = () => {\n    return defaultValue;\n  };\n  return SelectEntry({\n    element: field,\n    getOptions,\n    getValue,\n    id,\n    label,\n    setValue\n  });\n}\nfunction DefaultValueTextfield(props) {\n  const {\n    editField,\n    field,\n    id,\n    label\n  } = props;\n  const debounce = useService('debounce');\n  const path = ['defaultValue'];\n  const getValue = () => {\n    return (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, path, '');\n  };\n  const setValue = value => {\n    return editField(field, path, value);\n  };\n  return TextfieldEntry({\n    debounce,\n    element: field,\n    getValue,\n    id,\n    label,\n    setValue\n  });\n}\nfunction DefaultValueTextarea(props) {\n  const {\n    editField,\n    field,\n    id,\n    label\n  } = props;\n  const debounce = useService('debounce');\n  const path = ['defaultValue'];\n  const getValue = () => {\n    return (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, path, '');\n  };\n  const setValue = value => {\n    return editField(field, path, value);\n  };\n  return TextAreaEntry({\n    debounce,\n    element: field,\n    getValue,\n    id,\n    label,\n    setValue\n  });\n}\n\n// helpers /////////////////\n\nfunction parseStringToBoolean(value) {\n  if (value === 'true') {\n    return true;\n  }\n  return false;\n}\nfunction parseBooleanToString(value) {\n  if (value === true) {\n    return 'true';\n  }\n  return 'false';\n}\n\nfunction DisabledEntry(props) {\n  const {\n    editField,\n    field\n  } = props;\n  const entries = [];\n  entries.push({\n    id: 'disabled',\n    component: Disabled,\n    editField: editField,\n    field: field,\n    isEdited: isEdited$7,\n    isDefaultVisible: field => INPUTS.includes(field.type)\n  });\n  return entries;\n}\nfunction Disabled(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const path = ['disabled'];\n  const getValue = () => {\n    return (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, path, '');\n  };\n  const setValue = value => {\n    return editField(field, path, value);\n  };\n  return ToggleSwitchEntry({\n    element: field,\n    getValue,\n    id,\n    label: 'Disabled',\n    tooltip: 'Disable this field when it should not be interactive for end-users. Its data will not be submitted. This setting takes precedence over read-only.',\n    inline: true,\n    setValue\n  });\n}\n\nfunction IdEntry(props) {\n  const {\n    editField,\n    field\n  } = props;\n  const entries = [];\n  entries.push({\n    id: 'id',\n    component: Id,\n    editField: editField,\n    field: field,\n    isEdited: isEdited,\n    isDefaultVisible: field => field.type === 'default'\n  });\n  return entries;\n}\nfunction Id(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const formFieldRegistry = useService('formFieldRegistry');\n  const debounce = useService('debounce');\n  const path = ['id'];\n  const getValue = () => {\n    return (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, path, '');\n  };\n  const setValue = (value, error) => {\n    if (error) {\n      return;\n    }\n    return editField(field, path, value);\n  };\n  const validate = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useCallback)(value => {\n    if (typeof value !== 'string' || value.length === 0) {\n      return 'Must not be empty.';\n    }\n    const assigned = formFieldRegistry._ids.assigned(value);\n    if (assigned && assigned !== field) {\n      return 'Must be unique.';\n    }\n    return validateId(value) || null;\n  }, [formFieldRegistry, field]);\n  return TextfieldEntry({\n    debounce,\n    element: field,\n    getValue,\n    id,\n    label: 'ID',\n    setValue,\n    validate\n  });\n}\n\n// id structural validation /////////////\n\nconst SPACE_REGEX = /\\s/;\n\n// for QName validation as per http://www.w3.org/TR/REC-xml/#NT-NameChar\nconst QNAME_REGEX = /^([a-z][\\w-.]*:)?[a-z_][\\w-.]*$/i;\n\n// for ID validation as per BPMN Schema (QName - Namespace)\nconst ID_REGEX = /^[a-z_][\\w-.]*$/i;\nfunction validateId(idValue) {\n  if (containsSpace(idValue)) {\n    return 'Must not contain spaces.';\n  }\n  if (!ID_REGEX.test(idValue)) {\n    if (QNAME_REGEX.test(idValue)) {\n      return 'Must not contain prefix.';\n    }\n    return 'Must be a valid QName.';\n  }\n}\nfunction containsSpace(value) {\n  return SPACE_REGEX.test(value);\n}\n\nfunction KeyEntry(props) {\n  const {\n    editField,\n    field,\n    getService\n  } = props;\n  const entries = [];\n  entries.push({\n    id: 'key',\n    component: Key$2,\n    editField: editField,\n    field: field,\n    isEdited: isEdited,\n    isDefaultVisible: field => {\n      const formFields = getService('formFields');\n      const {\n        config\n      } = formFields.get(field.type);\n      return config.keyed;\n    }\n  });\n  return entries;\n}\nfunction Key$2(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const pathRegistry = useService('pathRegistry');\n  const debounce = useService('debounce');\n  const path = ['key'];\n  const getValue = () => {\n    return (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, path, '');\n  };\n  const setValue = (value, error) => {\n    if (error) {\n      return;\n    }\n    return editField(field, path, value);\n  };\n  const validate = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useCallback)(value => {\n    if (value === field.key) {\n      return null;\n    }\n    if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_2__.isString)(value) || value.length === 0) {\n      return 'Must not be empty.';\n    }\n    if (!isValidDotPath(value)) {\n      return 'Must be a variable or a dot separated path.';\n    }\n    if (hasIntegerPathSegment(value)) {\n      return 'Must not contain numerical path segments.';\n    }\n    if (isProhibitedPath(value)) {\n      return 'Must not be a prohibited path.';\n    }\n    const replacements = {\n      [field.id]: value.split('.')\n    };\n    const oldPath = pathRegistry.getValuePath(field);\n    const newPath = pathRegistry.getValuePath(field, {\n      replacements\n    });\n\n    // unclaim temporarily to avoid self-conflicts\n    pathRegistry.unclaimPath(oldPath);\n    const canClaim = pathRegistry.canClaimPath(newPath, {\n      isClosed: true,\n      claimerId: field.id\n    });\n    pathRegistry.claimPath(oldPath, {\n      isClosed: true,\n      claimerId: field.id\n    });\n    return canClaim ? null : 'Must not conflict with other key/path assignments.';\n  }, [field, pathRegistry]);\n  return TextfieldEntry({\n    debounce,\n    description: 'Binds to a form variable',\n    element: field,\n    getValue,\n    id,\n    label: 'Key',\n    tooltip: 'Use a unique \"key\" to link the form element and the related input/output data. When dealing with nested data, break it down in the user task\\'s input mapping before using it.',\n    setValue,\n    validate\n  });\n}\n\nfunction PathEntry(props) {\n  const {\n    editField,\n    field,\n    getService\n  } = props;\n  const {\n    type\n  } = field;\n  const entries = [];\n  const formFieldDefinition = getService('formFields').get(type);\n  if (formFieldDefinition && formFieldDefinition.config.pathed) {\n    entries.push({\n      id: 'path',\n      component: Path,\n      editField: editField,\n      field: field,\n      isEdited: isEdited\n    });\n  }\n  return entries;\n}\nfunction Path(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const debounce = useService('debounce');\n  const pathRegistry = useService('pathRegistry');\n  const fieldConfig = useService('formFields').get(field.type).config;\n  const isRepeating = fieldConfig.repeatable && field.isRepeating;\n  const path = ['path'];\n  const getValue = () => {\n    return (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, path, '');\n  };\n  const setValue = (value, error) => {\n    if (error) {\n      return;\n    }\n    return editField(field, path, value);\n  };\n  const validate = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useCallback)(value => {\n    if (!value && isRepeating) {\n      return 'Must not be empty';\n    }\n\n    // Early return for empty value in non-repeating cases or if the field path hasn't changed\n    if (!value && !isRepeating || value === field.path) {\n      return null;\n    }\n\n    // Validate dot-separated path format\n    if (!isValidDotPath(value)) {\n      const msg = isRepeating ? 'Must be a variable or a dot-separated path' : 'Must be empty, a variable or a dot-separated path';\n      return msg;\n    }\n\n    // Check for integer segments in the path\n    if (hasIntegerPathSegment(value)) {\n      return 'Must not contain numerical path segments.';\n    }\n\n    // Check for special prohibited paths\n    if (isProhibitedPath(value)) {\n      return 'Must not be a prohibited path.';\n    }\n\n    // Check for path collisions\n    const options = {\n      replacements: {\n        [field.id]: value.split('.')\n      }\n    };\n    const canClaim = pathRegistry.executeRecursivelyOnFields(field, ({\n      field,\n      isClosed,\n      isRepeatable\n    }) => {\n      const path = pathRegistry.getValuePath(field, options);\n      return pathRegistry.canClaimPath(path, {\n        isClosed,\n        isRepeatable,\n        claimerId: field.id\n      });\n    });\n    if (!canClaim) {\n      return 'Must not cause two binding paths to collide';\n    }\n\n    // If all checks pass\n    return null;\n  }, [field, isRepeating, pathRegistry]);\n  const tooltip = isRepeating ? 'Routes the children of this component into a form variable, may be left empty to route at the root level.' : 'Routes the children of this component into a form variable.';\n  return TextfieldEntry({\n    debounce,\n    description: 'Where the child variables of this component are pathed to.',\n    element: field,\n    getValue,\n    id,\n    label: 'Path',\n    tooltip,\n    setValue,\n    validate\n  });\n}\n\nfunction simpleBoolEntryFactory(options) {\n  const {\n    id,\n    label,\n    description,\n    path,\n    props,\n    getValue,\n    setValue,\n    isDefaultVisible,\n    isTrueDefault = false\n  } = options;\n  const {\n    editField,\n    field\n  } = props;\n  return {\n    id,\n    label,\n    path,\n    field,\n    editField,\n    description,\n    component: SimpleBoolComponent,\n    isEdited: isTrueDefault ? isTrueDefaultToggleSwitchEntryEdited : isEdited$7,\n    isDefaultVisible,\n    getValue,\n    setValue\n  };\n}\nconst SimpleBoolComponent = props => {\n  const {\n    id,\n    label,\n    path,\n    field,\n    editField,\n    getValue = () => (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, path, ''),\n    setValue = value => editField(field, path, value || false),\n    description\n  } = props;\n  return ToggleSwitchEntry({\n    element: field,\n    getValue,\n    id,\n    label,\n    setValue,\n    inline: true,\n    description\n  });\n};\n\nfunction simpleSelectEntryFactory(options) {\n  const {\n    id,\n    label,\n    path,\n    props,\n    optionsArray\n  } = options;\n  const {\n    editField,\n    field\n  } = props;\n  return {\n    id,\n    label,\n    path,\n    field,\n    editField,\n    optionsArray,\n    component: SimpleSelectComponent,\n    isEdited: isEdited$3\n  };\n}\nconst SimpleSelectComponent = props => {\n  const {\n    id,\n    label,\n    path,\n    field,\n    editField,\n    optionsArray\n  } = props;\n  const getValue = () => (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, path, '');\n  const setValue = value => editField(field, path, value);\n  const getOptions = () => optionsArray;\n  return SelectEntry({\n    label,\n    element: field,\n    getOptions,\n    getValue,\n    id,\n    setValue\n  });\n};\n\nfunction simpleRangeIntegerEntryFactory(options) {\n  const {\n    id,\n    label,\n    path,\n    props,\n    min,\n    max\n  } = options;\n  const {\n    editField,\n    field\n  } = props;\n  return {\n    id,\n    label,\n    path,\n    field,\n    editField,\n    min,\n    max,\n    component: SimpleRangeIntegerEntry,\n    isEdited: isEdited\n  };\n}\nconst SimpleRangeIntegerEntry = props => {\n  const {\n    id,\n    label,\n    path,\n    field,\n    editField,\n    min = Number.MIN_SAFE_INTEGER,\n    max = Number.MAX_SAFE_INTEGER\n  } = props;\n  const debounce = useService('debounce');\n  const getValue = () => {\n    const value = (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, path);\n    const isValid = isValidNumber(value) && Number.isInteger(value);\n    return isValid ? value : null;\n  };\n  const setValue = (value, error) => {\n    if (error) {\n      return;\n    }\n    editField(field, path, Number(value));\n  };\n  const validate = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useCallback)(value => {\n    if (value === undefined || value === null || value === '') {\n      return;\n    }\n    if (!Number.isInteger(Number(value))) {\n      return 'Should be an integer.';\n    }\n    if ((0,big_js__WEBPACK_IMPORTED_MODULE_16__[\"default\"])(value).cmp(min) < 0) {\n      return `Should be at least ${min}.`;\n    }\n    if ((0,big_js__WEBPACK_IMPORTED_MODULE_16__[\"default\"])(value).cmp(max) > 0) {\n      return `Should be at most ${max}.`;\n    }\n  }, [min, max]);\n  return TextfieldEntry({\n    debounce,\n    label,\n    element: field,\n    getValue,\n    id,\n    setValue,\n    validate\n  });\n};\n\nfunction GroupAppearanceEntry(props) {\n  const {\n    field\n  } = props;\n  const {\n    type\n  } = field;\n  if (!['group', 'dynamiclist'].includes(type)) {\n    return [];\n  }\n  const entries = [simpleBoolEntryFactory({\n    id: 'showOutline',\n    path: ['showOutline'],\n    label: 'Show outline',\n    isTrueDefault: true,\n    props\n  })];\n  return entries;\n}\n\nfunction LabelEntry(props) {\n  const {\n    field,\n    editField\n  } = props;\n  const entries = [];\n  entries.push({\n    id: 'date-label',\n    component: DateLabel,\n    editField,\n    field,\n    isEdited: isEdited$5,\n    isDefaultVisible: function (field) {\n      return field.type === 'datetime' && (field.subtype === _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.DATETIME_SUBTYPES.DATE || field.subtype === _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.DATETIME_SUBTYPES.DATETIME);\n    }\n  });\n  entries.push({\n    id: 'time-label',\n    component: TimeLabel,\n    editField,\n    field,\n    isEdited: isEdited$5,\n    isDefaultVisible: function (field) {\n      return field.type === 'datetime' && (field.subtype === _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.DATETIME_SUBTYPES.TIME || field.subtype === _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.DATETIME_SUBTYPES.DATETIME);\n    }\n  });\n  const isSimplyLabeled = field => {\n    return [...INPUTS.filter(input => input !== 'datetime'), ...LABELED_NON_INPUTS].includes(field.type);\n  };\n  entries.push({\n    id: 'label',\n    component: Label$2,\n    editField,\n    field,\n    isEdited: isEdited$5,\n    isDefaultVisible: isSimplyLabeled\n  });\n  return entries;\n}\nfunction Label$2(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const debounce = useService('debounce');\n  const variables = useVariables().map(name => ({\n    name\n  }));\n  const path = ['label'];\n  const getValue = () => {\n    return (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, path, '');\n  };\n  const setValue = value => {\n    return editField(field, path, value || '');\n  };\n  const label = getLabelText(field.type);\n  return FeelTemplatingEntry({\n    debounce,\n    element: field,\n    getValue,\n    id,\n    label,\n    singleLine: true,\n    setValue,\n    variables\n  });\n}\nfunction DateLabel(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const debounce = useService('debounce');\n  const variables = useVariables().map(name => ({\n    name\n  }));\n  const path = _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.DATE_LABEL_PATH;\n  const getValue = () => {\n    return (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, path, '');\n  };\n  const setValue = value => {\n    return editField(field, path, value || '');\n  };\n  return FeelTemplatingEntry({\n    debounce,\n    element: field,\n    getValue,\n    id,\n    label: 'Date label',\n    singleLine: true,\n    setValue,\n    variables\n  });\n}\nfunction TimeLabel(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const debounce = useService('debounce');\n  const variables = useVariables().map(name => ({\n    name\n  }));\n  const path = _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.TIME_LABEL_PATH;\n  const getValue = () => {\n    return (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, path, '');\n  };\n  const setValue = value => {\n    return editField(field, path, value || '');\n  };\n  return FeelTemplatingEntry({\n    debounce,\n    element: field,\n    getValue,\n    id,\n    label: 'Time label',\n    singleLine: true,\n    setValue,\n    variables\n  });\n}\n\n// helpers //////////\n\n/**\n * @param {string} type\n * @returns {string}\n */\nfunction getLabelText(type) {\n  switch (type) {\n    case 'group':\n    case 'dynamiclist':\n      return 'Group label';\n    case 'table':\n      return 'Table label';\n    case 'iframe':\n    case 'documentPreview':\n      return 'Title';\n    default:\n      return 'Field label';\n  }\n}\n\nfunction HeightEntry(props) {\n  const {\n    editField,\n    field,\n    id,\n    description,\n    isDefaultVisible,\n    defaultValue\n  } = props;\n  const entries = [];\n  entries.push({\n    id: id + '-height',\n    component: Height,\n    description,\n    isEdited: isEdited$6,\n    editField,\n    field,\n    defaultValue,\n    isDefaultVisible: field => {\n      if ((0,min_dash__WEBPACK_IMPORTED_MODULE_2__.isFunction)(isDefaultVisible)) {\n        return isDefaultVisible(field);\n      }\n      return field.type === 'spacer';\n    }\n  });\n  return entries;\n}\nfunction Height(props) {\n  const {\n    description,\n    editField,\n    field,\n    id\n  } = props;\n  const debounce = useService('debounce');\n  const getValue = e => (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, ['height'], null);\n  const setValue = (value, error) => {\n    if (error) {\n      return;\n    }\n    editField(field, ['height'], value);\n  };\n  return NumberFieldEntry({\n    debounce,\n    description,\n    label: 'Height',\n    element: field,\n    id,\n    getValue,\n    setValue,\n    validate: validate$9\n  });\n}\n\n// helpers //////////\n\n/**\n * @param {number|void} value\n * @returns {string|null}\n */\nconst validate$9 = value => {\n  if (typeof value !== 'number') {\n    return 'A number is required.';\n  }\n  if (!Number.isInteger(value)) {\n    return 'Should be an integer.';\n  }\n  if (value < 1) {\n    return 'Should be greater than zero.';\n  }\n};\n\nfunction IFrameHeightEntry(props) {\n  return [...HeightEntry({\n    ...props,\n    description: 'Height of the container in pixels.',\n    isDefaultVisible: field => field.type === 'iframe'\n  })];\n}\n\nconst HTTPS_PATTERN = /^(https):\\/\\/*/i;\nfunction IFrameUrlEntry(props) {\n  const {\n    editField,\n    field\n  } = props;\n  const entries = [];\n  entries.push({\n    id: 'url',\n    component: Url,\n    editField: editField,\n    field: field,\n    isEdited: isEdited$5,\n    isDefaultVisible: field => field.type === 'iframe'\n  });\n  return entries;\n}\nfunction Url(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const debounce = useService('debounce');\n  const variables = useVariables().map(name => ({\n    name\n  }));\n  const path = ['url'];\n  const getValue = () => {\n    return (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, path, '');\n  };\n  const setValue = value => {\n    return editField(field, path, value);\n  };\n  return FeelTemplatingEntry({\n    debounce,\n    element: field,\n    feel: 'optional',\n    getValue,\n    id,\n    label: 'URL',\n    setValue,\n    singleLine: true,\n    tooltip: getTooltip$1(),\n    validate: validate$8,\n    variables\n  });\n}\n\n// helper //////////////////////\n\nfunction getTooltip$1() {\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment, {\n    children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"p\", {\n      children: \"Enter a HTTPS URL to a source or populate it dynamically via a template or an expression (e.g., to pass a value from the variable).\"\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"p\", {\n      children: \"Please make sure that the URL is safe as it might impose security risks.\"\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"p\", {\n      children: [\"Not all external sources can be displayed in the iFrame. Read more about it in the\", ' ', (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"a\", {\n        target: \"_blank\",\n        href: \"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Frame-Options\",\n        rel: \"noreferrer\",\n        children: \"X-FRAME-OPTIONS documentation\"\n      }), \".\"]\n    })]\n  });\n}\n\n/**\n * @param {string|void} value\n * @returns {string|null}\n */\nconst validate$8 = value => {\n  if (!value || value.startsWith('=')) {\n    return;\n  }\n  if (!HTTPS_PATTERN.test(value)) {\n    return 'For security reasons the URL must start with \"https\".';\n  }\n};\n\nfunction ImageSourceEntry(props) {\n  const {\n    editField,\n    field\n  } = props;\n  const entries = [];\n  entries.push({\n    id: 'source',\n    component: Source$1,\n    editField: editField,\n    field: field,\n    isEdited: isEdited$5,\n    isDefaultVisible: field => field.type === 'image'\n  });\n  return entries;\n}\nfunction Source$1(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const debounce = useService('debounce');\n  const variables = useVariables().map(name => ({\n    name\n  }));\n  const path = ['source'];\n  const getValue = () => {\n    return (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, path, '');\n  };\n  const setValue = value => {\n    return editField(field, path, value);\n  };\n  return FeelTemplatingEntry({\n    debounce,\n    description: 'Expression or static value (link/data URI)',\n    element: field,\n    feel: 'optional',\n    getValue,\n    id,\n    label: 'Image source',\n    tooltip: 'Link referring to a hosted image, or use a data URI directly to embed image data into the form.',\n    setValue,\n    singleLine: true,\n    variables\n  });\n}\n\nconst isTextEdited = isEditedFromDefaultFactory(_bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.TEXT_VIEW_DEFAULT_TEXT, false);\nfunction TextEntry(props) {\n  const {\n    editField,\n    field\n  } = props;\n  const entries = [{\n    id: 'text',\n    component: Text,\n    editField: editField,\n    field: field,\n    isEdited: isTextEdited,\n    isDefaultVisible: field => field.type === 'text'\n  }];\n  return entries;\n}\nfunction Text(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const debounce = useService('debounce');\n  const variables = useVariables().map(name => ({\n    name\n  }));\n  const path = ['text'];\n  const getValue = () => {\n    return (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, path, '');\n  };\n  const setValue = value => {\n    return editField(field, path, value || '');\n  };\n  return FeelTemplatingEntry({\n    debounce,\n    description: description$3,\n    element: field,\n    getValue,\n    id,\n    label: 'Text',\n    hostLanguage: 'markdown',\n    setValue,\n    variables\n  });\n}\nconst description$3 = (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment, {\n  children: [\"Supports markdown and templating.\", ' ', (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"a\", {\n    href: \"https://docs.camunda.io/docs/components/modeler/forms/form-element-library/forms-element-library-text/\",\n    target: \"_blank\",\n    rel: \"noreferrer\",\n    children: \"Learn more\"\n  })]\n});\n\nfunction HtmlEntry(props) {\n  const {\n    editField,\n    field\n  } = props;\n  const entries = [{\n    id: 'content',\n    component: Content,\n    editField: editField,\n    field: field,\n    isEdited: isEdited$5,\n    isDefaultVisible: field => field.type === 'html'\n  }];\n  return entries;\n}\nfunction Content(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const debounce = useService('debounce');\n  const variables = useVariables().map(name => ({\n    name\n  }));\n  const path = ['content'];\n  const getValue = () => {\n    return (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, path, '');\n  };\n  const setValue = value => {\n    return editField(field, path, value || '');\n  };\n  return FeelTemplatingEntry({\n    debounce,\n    description: description$2,\n    element: field,\n    getValue,\n    id,\n    label: 'Content',\n    hostLanguage: 'html',\n    validate: validate$7,\n    setValue,\n    variables\n  });\n}\n\n// helpers //////////\n\nconst description$2 = (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment, {\n  children: [\"Supports HTML, styling, and templating. Styles are automatically scoped to the HTML component.\", ' ', (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"a\", {\n    href: \"https://docs.camunda.io/docs/components/modeler/forms/form-element-library/forms-element-library-html/\",\n    target: \"_blank\",\n    rel: \"noreferrer\",\n    children: \"Learn more\"\n  })]\n});\n\n/**\n * @param {string|void} value\n * @returns {string|null}\n */\nconst validate$7 = value => {\n  // allow empty state\n  if (typeof value !== 'string' || value === '') {\n    return null;\n  }\n\n  // allow expressions\n  if (value.startsWith('=')) {\n    return null;\n  }\n};\n\nfunction NumberEntries(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const entries = [];\n  entries.push({\n    id: id + '-decimalDigits',\n    component: NumberDecimalDigits,\n    isEdited: isEdited$6,\n    editField,\n    field,\n    isDefaultVisible: field => field.type === 'number'\n  });\n  entries.push({\n    id: id + '-step',\n    component: NumberArrowStep,\n    isEdited: isEdited,\n    editField,\n    field,\n    isDefaultVisible: field => field.type === 'number'\n  });\n  return entries;\n}\nfunction NumberDecimalDigits(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const debounce = useService('debounce');\n  const getValue = e => (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, ['decimalDigits']);\n  const setValue = (value, error) => {\n    if (error) {\n      return;\n    }\n    editField(field, ['decimalDigits'], value);\n  };\n  return NumberFieldEntry({\n    debounce,\n    label: 'Decimal digits',\n    element: field,\n    step: 'any',\n    getValue,\n    id,\n    setValue,\n    validate: validateNumberEntries\n  });\n}\nfunction NumberArrowStep(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const {\n    decimalDigits\n  } = field;\n  const debounce = useService('debounce');\n  const getValue = e => {\n    let value = (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, ['increment']);\n    if (!isValidNumber(value)) return null;\n    return value;\n  };\n  const clearLeadingZeroes = value => {\n    if (!value) return value;\n    const trimmed = value.replace(/^0+/g, '');\n    return (trimmed.startsWith('.') ? '0' : '') + trimmed;\n  };\n  const setValue = (value, error) => {\n    if (error) {\n      return;\n    }\n    editField(field, ['increment'], clearLeadingZeroes(value));\n  };\n  const decimalDigitsSet = decimalDigits || decimalDigits === 0;\n  const validate = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useCallback)(value => {\n    if (value === undefined || value === null) {\n      return;\n    }\n    if (!isValidNumber(value)) {\n      return 'Should be a valid number.';\n    }\n    if ((0,big_js__WEBPACK_IMPORTED_MODULE_16__[\"default\"])(value).cmp(0) <= 0) {\n      return 'Should be greater than zero.';\n    }\n    if (decimalDigitsSet) {\n      const minimumValue = (0,big_js__WEBPACK_IMPORTED_MODULE_16__[\"default\"])(`1e-${decimalDigits}`);\n      if ((0,big_js__WEBPACK_IMPORTED_MODULE_16__[\"default\"])(value).cmp(minimumValue) < 0) {\n        return `Should be at least ${minimumValue.toString()}.`;\n      }\n      if (countDecimals(value) > decimalDigits) {\n        return `Should not contain more than ${decimalDigits} decimal digits.`;\n      }\n    }\n  }, [decimalDigitsSet, decimalDigits]);\n  return TextfieldEntry({\n    debounce,\n    label: 'Increment',\n    element: field,\n    getValue,\n    id,\n    setValue,\n    validate\n  });\n}\n\n// helpers //////////\n\n/**\n * @param {number|void} value\n * @returns {string|void}\n */\nconst validateNumberEntries = value => {\n  if (typeof value !== 'number') {\n    return;\n  }\n  if (!Number.isInteger(value)) {\n    return 'Should be an integer.';\n  }\n  if (value < 0) {\n    return 'Should be greater than or equal to zero.';\n  }\n};\n\nfunction ExpressionFieldEntries(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const entries = [];\n  entries.push({\n    id: `${id}-expression`,\n    component: ExpressionFieldExpression,\n    isEdited: isEdited$5,\n    editField,\n    field,\n    isDefaultVisible: field => field.type === 'expression'\n  });\n  entries.push({\n    id: `${id}-computeOn`,\n    component: ExpressionFieldComputeOn,\n    isEdited: isEdited$3,\n    editField,\n    field,\n    isDefaultVisible: field => field.type === 'expression'\n  });\n  return entries;\n}\nfunction ExpressionFieldExpression(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const debounce = useService('debounce');\n  const variables = useVariables().map(name => ({\n    name\n  }));\n  const getValue = () => field.expression || '';\n  const setValue = value => {\n    editField(field, ['expression'], value);\n  };\n  return FeelEntry({\n    debounce,\n    description: 'Define an expression to calculate the value of this field',\n    element: field,\n    feel: 'required',\n    getValue,\n    id,\n    label: 'Target value',\n    setValue,\n    variables\n  });\n}\nfunction ExpressionFieldComputeOn(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const getValue = () => field.computeOn || '';\n  const setValue = value => {\n    editField(field, ['computeOn'], value);\n  };\n  const getOptions = () => [{\n    value: 'change',\n    label: 'Value changes'\n  }, {\n    value: 'presubmit',\n    label: 'Form submission'\n  }];\n  return SelectEntry({\n    id,\n    label: 'Compute on',\n    getValue,\n    setValue,\n    getOptions\n  });\n}\n\nfunction NumberSerializationEntry(props) {\n  const {\n    editField,\n    field\n  } = props;\n  const entries = [];\n  entries.push({\n    id: 'serialize-to-string',\n    component: SerializeToString,\n    isEdited: isEdited$8,\n    editField,\n    field,\n    isDefaultVisible: field => field.type === 'number'\n  });\n  return entries;\n}\nfunction SerializeToString(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const {\n    defaultValue\n  } = field;\n  const path = ['serializeToString'];\n  const getValue = () => {\n    return (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, path, '');\n  };\n  const setValue = value => {\n    // Whenever changing the formatting, make sure to change the default value type along with it\n    if (defaultValue || defaultValue === 0) {\n      editField(field, ['defaultValue'], value ? (0,big_js__WEBPACK_IMPORTED_MODULE_16__[\"default\"])(defaultValue).toFixed() : Number(defaultValue));\n    }\n    return editField(field, path, value);\n  };\n  return CheckboxEntry({\n    element: field,\n    getValue,\n    id,\n    label: 'Output as string',\n    description: 'Allows arbitrary precision values',\n    setValue\n  });\n}\n\nfunction DateTimeEntry(props) {\n  const {\n    editField,\n    field\n  } = props;\n  const entries = [{\n    id: 'subtype',\n    component: DateTimeSubtypeSelect,\n    isEdited: isEdited$3,\n    editField,\n    field,\n    isDefaultVisible: field => field.type === 'datetime'\n  }];\n  entries.push({\n    id: 'use24h',\n    component: Use24h,\n    isEdited: isEdited$8,\n    editField,\n    field,\n    isDefaultVisible: field => field.type === 'datetime' && (field.subtype === _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.DATETIME_SUBTYPES.TIME || field.subtype === _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.DATETIME_SUBTYPES.DATETIME)\n  });\n  return entries;\n}\nfunction DateTimeSubtypeSelect(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const getValue = e => (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.DATETIME_SUBTYPE_PATH);\n  const clearTimeConfig = () => {\n    const timeConfigPaths = [_bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.TIME_LABEL_PATH, _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.TIME_USE24H_PATH, _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.TIME_INTERVAL_PATH, _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.TIME_SERIALISING_FORMAT_PATH];\n    for (const path of timeConfigPaths) {\n      editField(field, path, undefined);\n    }\n  };\n  const initTimeConfig = () => {\n    editField(field, _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.TIME_LABEL_PATH, 'Time');\n    editField(field, _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.TIME_SERIALISING_FORMAT_PATH, _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.TIME_SERIALISING_FORMATS.UTC_OFFSET);\n    editField(field, _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.TIME_INTERVAL_PATH, 15);\n  };\n  const clearDateConfig = () => {\n    const dateConfigPaths = [_bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.DATE_LABEL_PATH, _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.DATE_DISALLOW_PAST_PATH];\n    for (const path of dateConfigPaths) {\n      editField(field, path, undefined);\n    }\n  };\n  const initDateConfig = () => {\n    editField(field, _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.DATE_LABEL_PATH, 'Date');\n  };\n  const setValue = value => {\n    const oldValue = getValue();\n    if (oldValue === value) return;\n    if (value === _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.DATETIME_SUBTYPES.DATE) {\n      clearTimeConfig();\n      oldValue === _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.DATETIME_SUBTYPES.TIME && initDateConfig();\n    } else if (value === _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.DATETIME_SUBTYPES.TIME) {\n      clearDateConfig();\n      oldValue === _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.DATETIME_SUBTYPES.DATE && initTimeConfig();\n    } else if (value === _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.DATETIME_SUBTYPES.DATETIME) {\n      oldValue === _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.DATETIME_SUBTYPES.DATE && initTimeConfig();\n      oldValue === _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.DATETIME_SUBTYPES.TIME && initDateConfig();\n    }\n    return editField(field, _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.DATETIME_SUBTYPE_PATH, value);\n  };\n  const getDatetimeSubtypes = () => {\n    return Object.values(_bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.DATETIME_SUBTYPES).map(subtype => ({\n      label: _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.DATETIME_SUBTYPES_LABELS[subtype],\n      value: subtype\n    }));\n  };\n  return SelectEntry({\n    label: 'Subtype',\n    element: field,\n    getOptions: getDatetimeSubtypes,\n    getValue,\n    id,\n    setValue\n  });\n}\nfunction Use24h(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const path = _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.TIME_USE24H_PATH;\n  const getValue = () => {\n    return (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, path, '');\n  };\n  const setValue = value => {\n    return editField(field, path, value);\n  };\n  return CheckboxEntry({\n    element: field,\n    getValue,\n    id,\n    label: 'Use 24h',\n    setValue\n  });\n}\n\nconst isTimeIntervalEdited = isEditedFromDefaultFactory('15');\nfunction DateTimeConstraintsEntry(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  function isDefaultVisible(subtypes) {\n    return field => {\n      if (field.type !== 'datetime') {\n        return false;\n      }\n      return subtypes.includes(field.subtype);\n    };\n  }\n  const entries = [];\n  entries.push({\n    id: id + '-timeInterval',\n    component: TimeIntervalSelect,\n    isEdited: isTimeIntervalEdited,\n    editField,\n    field,\n    isDefaultVisible: isDefaultVisible([_bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.DATETIME_SUBTYPES.TIME, _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.DATETIME_SUBTYPES.DATETIME])\n  });\n  entries.push({\n    id: id + '-disallowPassedDates',\n    component: DisallowPassedDates,\n    isEdited: isEdited$8,\n    editField,\n    field,\n    isDefaultVisible: isDefaultVisible([_bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.DATETIME_SUBTYPES.DATE, _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.DATETIME_SUBTYPES.DATETIME])\n  });\n  return entries;\n}\nfunction DisallowPassedDates(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const path = _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.DATE_DISALLOW_PAST_PATH;\n  const getValue = () => {\n    return (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, path, '');\n  };\n  const setValue = value => {\n    return editField(field, path, value);\n  };\n  return CheckboxEntry({\n    element: field,\n    getValue,\n    id,\n    label: 'Disallow past dates',\n    setValue\n  });\n}\nfunction TimeIntervalSelect(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const timeIntervals = [1, 5, 10, 15, 30, 60];\n  const getValue = e => (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.TIME_INTERVAL_PATH);\n  const setValue = value => editField(field, _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.TIME_INTERVAL_PATH, parseInt(value));\n  const getTimeIntervals = () => {\n    return timeIntervals.map(timeInterval => ({\n      label: timeInterval === 60 ? '1h' : timeInterval + 'm',\n      value: timeInterval\n    }));\n  };\n  return SelectEntry({\n    label: 'Time interval',\n    element: field,\n    getOptions: getTimeIntervals,\n    getValue,\n    id,\n    setValue\n  });\n}\n\nconst isTimeFormatEdited = isEditedFromDefaultFactory(_bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.TIME_SERIALISING_FORMATS.UTC_OFFSET);\nfunction DateTimeFormatEntry(props) {\n  const {\n    editField,\n    field\n  } = props;\n  const entries = [];\n  entries.push({\n    id: 'time-format',\n    component: TimeFormatSelect,\n    isEdited: isTimeFormatEdited,\n    editField,\n    field,\n    isDefaultVisible: field => field.type === 'datetime' && (field.subtype === _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.DATETIME_SUBTYPES.TIME || field.subtype === _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.DATETIME_SUBTYPES.DATETIME)\n  });\n  return entries;\n}\nfunction TimeFormatSelect(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const getValue = e => (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.TIME_SERIALISING_FORMAT_PATH);\n  const setValue = value => editField(field, _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.TIME_SERIALISING_FORMAT_PATH, value);\n  const getTimeSerialisingFormats = () => {\n    return Object.values(_bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.TIME_SERIALISING_FORMATS).map(format => ({\n      label: _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.TIME_SERIALISINGFORMAT_LABELS[format],\n      value: format\n    }));\n  };\n  return SelectEntry({\n    label: 'Time format',\n    element: field,\n    getOptions: getTimeSerialisingFormats,\n    getValue,\n    id,\n    setValue\n  });\n}\n\nfunction SelectEntries(props) {\n  const entries = [simpleBoolEntryFactory({\n    id: 'searchable',\n    path: ['searchable'],\n    label: 'Searchable',\n    props,\n    isDefaultVisible: field => field.type === 'select'\n  })];\n  return entries;\n}\n\nfunction ValueEntry(props) {\n  const {\n    editField,\n    field,\n    idPrefix,\n    index,\n    validateFactory\n  } = props;\n  const entries = [{\n    component: Label$1,\n    editField,\n    field,\n    id: idPrefix + '-label',\n    idPrefix,\n    index,\n    validateFactory\n  }, {\n    component: Value$1,\n    editField,\n    field,\n    id: idPrefix + '-value',\n    idPrefix,\n    index,\n    validateFactory\n  }];\n  return entries;\n}\nfunction Label$1(props) {\n  const {\n    editField,\n    field,\n    id,\n    index,\n    validateFactory\n  } = props;\n  const debounce = useService('debounce');\n  const setValue = (value, error) => {\n    if (error) {\n      return;\n    }\n    const values = (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, ['values']);\n    return editField(field, 'values', (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.set)(values, [index, 'label'], value));\n  };\n  const getValue = () => {\n    return (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, ['values', index, 'label']);\n  };\n  const validate = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => validateFactory((0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, ['values', index, 'label']), entry => entry.label), [field, index, validateFactory]);\n  return TextfieldEntry({\n    debounce,\n    element: field,\n    getValue,\n    id,\n    label: 'Label',\n    setValue,\n    validate\n  });\n}\nfunction Value$1(props) {\n  const {\n    editField,\n    field,\n    id,\n    index,\n    validateFactory\n  } = props;\n  const debounce = useService('debounce');\n  const setValue = (value, error) => {\n    if (error) {\n      return;\n    }\n    const {\n      defaultValue\n    } = field;\n    const values = (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, ['values']);\n    const previousValue = (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, ['values', index, 'value']);\n    if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_2__.isNil)(defaultValue) && defaultValue === previousValue) {\n      (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.set)(field, ['defaultValue'], value);\n    }\n    return editField(field, 'values', (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.set)(values, [index, 'value'], value));\n  };\n  const getValue = () => {\n    return (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, ['values', index, 'value']);\n  };\n  const validate = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => validateFactory((0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, ['values', index, 'value']), entry => entry.value), [field, index, validateFactory]);\n  return TextfieldEntry({\n    debounce,\n    element: field,\n    getValue,\n    id,\n    label: 'Value',\n    setValue,\n    validate\n  });\n}\n\nfunction CustomValueEntry(props) {\n  const {\n    editField,\n    field,\n    idPrefix,\n    index,\n    validateFactory\n  } = props;\n  const entries = [{\n    component: Key$1,\n    editField,\n    field,\n    id: idPrefix + '-key',\n    idPrefix,\n    index,\n    validateFactory\n  }, {\n    component: Value,\n    editField,\n    field,\n    id: idPrefix + '-value',\n    idPrefix,\n    index,\n    validateFactory\n  }];\n  return entries;\n}\nfunction Key$1(props) {\n  const {\n    editField,\n    field,\n    id,\n    index,\n    validateFactory\n  } = props;\n  const debounce = useService('debounce');\n  const setValue = (value, error) => {\n    if (error) {\n      return;\n    }\n    const properties = (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, ['properties']);\n    const key = Object.keys(properties)[index];\n    return editField(field, 'properties', updateKey(properties, key, value));\n  };\n  const getValue = () => {\n    return Object.keys((0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, ['properties']))[index];\n  };\n  const validate = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => validateFactory(Object.keys((0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, ['properties']))[index]), [validateFactory, field, index]);\n  return TextfieldEntry({\n    debounce,\n    element: field,\n    getValue,\n    id,\n    label: 'Key',\n    setValue,\n    validate\n  });\n}\nfunction Value(props) {\n  const {\n    editField,\n    field,\n    id,\n    index,\n    validateFactory\n  } = props;\n  const debounce = useService('debounce');\n  const setValue = value => {\n    const properties = (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, ['properties']);\n    const key = Object.keys(properties)[index];\n    editField(field, 'properties', updateValue(properties, key, value));\n  };\n  const getValue = () => {\n    const properties = (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, ['properties']);\n    const key = Object.keys(properties)[index];\n    return (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, ['properties', key]);\n  };\n  return TextfieldEntry({\n    debounce,\n    element: field,\n    getValue,\n    id,\n    label: 'Value',\n    setValue,\n    validate: validateFactory(getValue())\n  });\n}\n\n// helpers //////////\n\n/**\n * Returns copy of object with updated value.\n *\n * @param {Object} properties\n * @param {string} key\n * @param {string} value\n *\n * @returns {Object}\n */\nfunction updateValue(properties, key, value) {\n  return {\n    ...properties,\n    [key]: value\n  };\n}\n\n/**\n * Returns copy of object with updated key.\n *\n * @param {Object} properties\n * @param {string} oldKey\n * @param {string} newKey\n *\n * @returns {Object}\n */\nfunction updateKey(properties, oldKey, newKey) {\n  return Object.entries(properties).reduce((newProperties, entry) => {\n    const [key, value] = entry;\n    return {\n      ...newProperties,\n      [key === oldKey ? newKey : key]: value\n    };\n  }, {});\n}\n\nfunction AutoFocusSelectEntry(props) {\n  const {\n    autoFocusEntry,\n    element,\n    getValue\n  } = props;\n  const value = getValue(element);\n  const prevValue = usePrevious(value);\n  const eventBus = useService('eventBus');\n\n  // auto focus specifc other entry when selected value changed\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    if (autoFocusEntry && prevValue && value !== prevValue) {\n      // @Note(pinussilvestrus): There is an issue in the properties\n      // panel so we have to wait a bit before showing the entry.\n      // Cf. https://github.com/camunda/linting/blob/4f5328e2722f73ae60ae584c5f576eaec3999cb2/lib/modeler/Linting.js#L37\n      setTimeout(() => {\n        eventBus.fire('propertiesPanel.showEntry', {\n          id: autoFocusEntry\n        });\n      });\n    }\n  }, [value, autoFocusEntry, prevValue, eventBus]);\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(SelectEntry, {\n    ...props\n  });\n}\n\nconst isOptionsSourceEdited = isEditedFromDefaultFactory(_bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.OPTIONS_SOURCES.STATIC);\nfunction OptionsSourceSelectEntry(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  return [{\n    id: id + '-select',\n    component: ValuesSourceSelect,\n    isEdited: isOptionsSourceEdited,\n    editField,\n    field\n  }];\n}\nfunction ValuesSourceSelect(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const getValue = _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.getOptionsSource;\n  const setValue = value => {\n    let newField = field;\n    const newProperties = {};\n    newProperties[_bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.OPTIONS_SOURCES_PATHS[value]] = _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.OPTIONS_SOURCES_DEFAULTS[value];\n    newField = editField(field, newProperties);\n    return newField;\n  };\n  const getOptionsSourceOptions = () => {\n    return Object.values(_bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.OPTIONS_SOURCES).map(valueSource => ({\n      label: _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.OPTIONS_SOURCES_LABELS[valueSource],\n      value: valueSource\n    }));\n  };\n  return AutoFocusSelectEntry({\n    autoFocusEntry: getAutoFocusEntryId$1(field),\n    label: 'Type',\n    element: field,\n    getOptions: getOptionsSourceOptions,\n    getValue,\n    id,\n    setValue\n  });\n}\n\n// helpers //////////\n\nfunction getAutoFocusEntryId$1(field) {\n  const valuesSource = (0,_bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.getOptionsSource)(field);\n  if (valuesSource === _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.OPTIONS_SOURCES.EXPRESSION) {\n    return 'optionsExpression-expression';\n  } else if (valuesSource === _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.OPTIONS_SOURCES.INPUT) {\n    return 'dynamicOptions-key';\n  } else if (valuesSource === _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.OPTIONS_SOURCES.STATIC) {\n    return 'staticOptions-0-label';\n  }\n  return null;\n}\n\nfunction InputKeyOptionsSourceEntry(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  return [{\n    id: id + '-key',\n    component: InputValuesKey,\n    isEdited: isEdited,\n    editField,\n    field\n  }];\n}\nfunction InputValuesKey(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const debounce = useService('debounce');\n  const path = _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.OPTIONS_SOURCES_PATHS[_bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.OPTIONS_SOURCES.INPUT];\n  const schema = '[\\n  {\\n    \"label\": \"dollar\",\\n    \"value\": \"$\"\\n  }\\n]';\n  const tooltip = (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n    children: [\"The input property may be an array of simple values or alternatively follow this schema:\", (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"pre\", {\n      children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"code\", {\n        children: schema\n      })\n    })]\n  });\n  const getValue = () => (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, path, '');\n  const setValue = (value, error) => {\n    if (error) {\n      return;\n    }\n    editField(field, path, value || '');\n  };\n  return TextfieldEntry({\n    debounce,\n    description: 'Define which input property to populate the values from',\n    tooltip,\n    element: field,\n    getValue,\n    id,\n    label: 'Input values key',\n    setValue,\n    validate: validate$6\n  });\n}\n\n// helpers //////////\n\n/**\n * @param {string|void} value\n * @returns {string|null}\n */\nconst validate$6 = value => {\n  if (typeof value !== 'string' || value.length === 0) {\n    return 'Must not be empty.';\n  }\n  if (/\\s/.test(value)) {\n    return 'Must not contain spaces.';\n  }\n  return null;\n};\n\nfunction StaticOptionsSourceEntry(props) {\n  const {\n    editField,\n    field,\n    id: idPrefix\n  } = props;\n  const {\n    values\n  } = field;\n  const addEntry = e => {\n    e.stopPropagation();\n    const index = values.length + 1;\n    const entry = getIndexedEntry(index, values);\n    editField(field, _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.OPTIONS_SOURCES_PATHS[_bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.OPTIONS_SOURCES.STATIC], arrayAdd(values, values.length, entry));\n  };\n  const removeEntry = entry => {\n    if (field.defaultValue === entry.value) {\n      editField(field, {\n        values: (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.without)(values, entry),\n        defaultValue: undefined\n      });\n    } else {\n      editField(field, _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.OPTIONS_SOURCES_PATHS[_bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.OPTIONS_SOURCES.STATIC], (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.without)(values, entry));\n    }\n  };\n  const validateFactory = (key, getValue) => {\n    return value => {\n      if (value === key) {\n        return;\n      }\n      if (typeof value !== 'string' || value.length === 0) {\n        return 'Must not be empty.';\n      }\n      const isValueAssigned = values.find(entry => getValue(entry) === value);\n      if (isValueAssigned) {\n        return 'Must be unique.';\n      }\n    };\n  };\n  const items = values.map((entry, index) => {\n    const id = idPrefix + '-' + index;\n    return {\n      id,\n      label: entry.label,\n      entries: ValueEntry({\n        editField,\n        field,\n        idPrefix: id,\n        index,\n        validateFactory\n      }),\n      autoFocusEntry: id + '-label',\n      remove: () => removeEntry(entry)\n    };\n  });\n  return {\n    items,\n    add: addEntry\n  };\n}\n\n// helper\n\nfunction getIndexedEntry(index, values) {\n  const entry = {\n    label: 'Value',\n    value: 'value'\n  };\n  while (labelOrValueIsAlreadyAssignedForIndex(index, values)) {\n    index++;\n  }\n  if (index > 1) {\n    entry.label += ` ${index}`;\n    entry.value += `${index}`;\n  }\n  return entry;\n}\nfunction labelOrValueIsAlreadyAssignedForIndex(index, values) {\n  return values.some(existingEntry => existingEntry.label === `Value ${index}` || existingEntry.value === `value${index}`);\n}\n\nfunction AdornerEntry(props) {\n  const {\n    editField,\n    field\n  } = props;\n  const entries = [];\n  const onChange = key => {\n    return value => {\n      const appearance = (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, ['appearance'], {});\n      editField(field, ['appearance'], (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.set)(appearance, [key], value));\n    };\n  };\n  const getValue = key => {\n    return () => {\n      return (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, ['appearance', key]);\n    };\n  };\n  entries.push({\n    id: 'prefix-adorner',\n    component: PrefixAdorner,\n    isEdited: isEdited$5,\n    editField,\n    field,\n    onChange,\n    getValue,\n    isDefaultVisible: field => ['number', 'textfield'].includes(field.type)\n  });\n  entries.push({\n    id: 'suffix-adorner',\n    component: SuffixAdorner,\n    isEdited: isEdited$5,\n    editField,\n    field,\n    onChange,\n    getValue,\n    isDefaultVisible: field => ['number', 'textfield'].includes(field.type)\n  });\n  return entries;\n}\nfunction PrefixAdorner(props) {\n  const {\n    field,\n    id,\n    onChange,\n    getValue\n  } = props;\n  const debounce = useService('debounce');\n  const variables = useVariables().map(name => ({\n    name\n  }));\n  return FeelTemplatingEntry({\n    debounce,\n    element: field,\n    feel: 'optional',\n    getValue: getValue('prefixAdorner'),\n    id,\n    label: 'Prefix',\n    setValue: onChange('prefixAdorner'),\n    singleLine: true,\n    variables\n  });\n}\nfunction SuffixAdorner(props) {\n  const {\n    field,\n    id,\n    onChange,\n    getValue\n  } = props;\n  const debounce = useService('debounce');\n  const variables = useVariables().map(name => ({\n    name\n  }));\n  return FeelTemplatingEntry({\n    debounce,\n    element: field,\n    getValue: getValue('suffixAdorner'),\n    id,\n    label: 'Suffix',\n    setValue: onChange('suffixAdorner'),\n    singleLine: true,\n    variables\n  });\n}\n\nfunction ReadonlyEntry(props) {\n  const {\n    editField,\n    field\n  } = props;\n  const {\n    disabled\n  } = field;\n  const entries = [];\n  if (!disabled) {\n    entries.push({\n      id: 'readonly',\n      component: Readonly,\n      editField: editField,\n      field: field,\n      isEdited: isEdited$5,\n      isDefaultVisible: field => INPUTS.includes(field.type)\n    });\n  }\n  return entries;\n}\nfunction Readonly(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const debounce = useService('debounce');\n  const variables = useVariables().map(name => ({\n    name\n  }));\n  const path = ['readonly'];\n  const getValue = () => {\n    return (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, path, '');\n  };\n  const setValue = value => {\n    return editField(field, path, value || false);\n  };\n  return FeelToggleSwitchEntry({\n    debounce,\n    element: field,\n    feel: 'optional',\n    getValue,\n    id,\n    label: 'Read only',\n    tooltip: 'Make this field read-only when it cannot be edited by the end-user, but its content is important for them to see. Its data will still be submitted.',\n    setValue,\n    variables\n  });\n}\n\nfunction LayouterAppearanceEntry(props) {\n  const {\n    field\n  } = props;\n  if (!['group', 'dynamiclist'].includes(field.type)) {\n    return [];\n  }\n  const entries = [simpleSelectEntryFactory({\n    id: 'verticalAlignment',\n    path: ['verticalAlignment'],\n    label: 'Vertical alignment',\n    optionsArray: [{\n      value: 'start',\n      label: 'Top'\n    }, {\n      value: 'center',\n      label: 'Center'\n    }, {\n      value: 'end',\n      label: 'Bottom'\n    }],\n    props\n  })];\n  return entries;\n}\n\nfunction RepeatableEntry(props) {\n  const {\n    field,\n    getService\n  } = props;\n  const {\n    type\n  } = field;\n  const formFieldDefinition = getService('formFields').get(type);\n  if (!formFieldDefinition || !formFieldDefinition.config.repeatable) {\n    return [];\n  }\n  const entries = [simpleRangeIntegerEntryFactory({\n    id: 'defaultRepetitions',\n    path: ['defaultRepetitions'],\n    label: 'Default number of items',\n    min: 1,\n    max: 100,\n    props\n  }), simpleBoolEntryFactory({\n    id: 'allowAddRemove',\n    path: ['allowAddRemove'],\n    label: 'Allow add/delete items',\n    props\n  }), simpleBoolEntryFactory({\n    id: 'disableCollapse',\n    path: ['disableCollapse'],\n    label: 'Disable collapse',\n    props\n  })];\n  if (!field.disableCollapse) {\n    const nonCollapseItemsEntry = simpleRangeIntegerEntryFactory({\n      id: 'nonCollapsedItems',\n      path: ['nonCollapsedItems'],\n      label: 'Number of non-collapsing items',\n      min: 1,\n      props\n    });\n    entries.push(nonCollapseItemsEntry);\n  }\n  return entries;\n}\n\nfunction ConditionEntry(props) {\n  const {\n    editField,\n    field\n  } = props;\n  return [{\n    id: 'conditional-hide',\n    component: Condition,\n    editField: editField,\n    field: field,\n    isEdited: isEdited$5\n  }];\n}\nfunction Condition(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const debounce = useService('debounce');\n  const variables = useVariables().map(name => ({\n    name\n  }));\n  const path = ['conditional', 'hide'];\n  const getValue = () => {\n    return (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, path, '');\n  };\n  const setValue = value => {\n    if (!value) {\n      return editField(field, 'conditional', undefined);\n    }\n    return editField(field, 'conditional', {\n      hide: value\n    });\n  };\n  let label = 'Hide if';\n  let description = 'Condition under which the field is hidden';\n\n  // special case for expression fields which do not render\n  if (field.type === 'expression') {\n    label = 'Deactivate if';\n    description = 'Condition under which the field is deactivated';\n  }\n  return FeelEntry({\n    debounce,\n    description,\n    element: field,\n    feel: 'required',\n    getValue,\n    id,\n    label,\n    setValue,\n    variables\n  });\n}\n\nfunction OptionsExpressionEntry(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  return [{\n    id: id + '-expression',\n    component: OptionsExpression,\n    isEdited: isEdited$5,\n    editField,\n    field\n  }];\n}\nfunction OptionsExpression(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const debounce = useService('debounce');\n  const variables = useVariables().map(name => ({\n    name\n  }));\n  const path = _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.OPTIONS_SOURCES_PATHS[_bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.OPTIONS_SOURCES.EXPRESSION];\n  const schema = '[\\n  {\\n    \"label\": \"dollar\",\\n    \"value\": \"$\"\\n  }\\n]';\n  const tooltip = (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n    children: [\"The expression may result in an array of simple values or alternatively follow this schema:\", (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"pre\", {\n      children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"code\", {\n        children: schema\n      })\n    })]\n  });\n  const getValue = () => (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, path, '');\n  const setValue = value => editField(field, path, value || '');\n  return FeelEntry({\n    debounce,\n    description: 'Define an expression to populate the options from.',\n    tooltip,\n    element: field,\n    feel: 'required',\n    getValue,\n    id,\n    label: 'Options expression',\n    setValue,\n    variables\n  });\n}\n\nfunction TableDataSourceEntry(props) {\n  const {\n    editField,\n    field\n  } = props;\n  const entries = [];\n  entries.push({\n    id: 'dataSource',\n    component: Source,\n    editField: editField,\n    field: field,\n    isEdited: isEdited$5,\n    isDefaultVisible: field => field.type === 'table'\n  });\n  return entries;\n}\nfunction Source(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const debounce = useService('debounce');\n  const variables = useVariables().map(name => ({\n    name\n  }));\n  const path = ['dataSource'];\n  const getValue = () => {\n    return (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, path, field.id);\n  };\n  const setValue = (value, error) => {\n    if (error) {\n      return;\n    }\n    editField(field, path, value);\n  };\n  return FeelTemplatingEntry({\n    debounce,\n    description: 'Specify the source from which to populate the table',\n    element: field,\n    feel: 'required',\n    getValue,\n    id,\n    label: 'Data source',\n    tooltip: 'Enter a form input variable that contains the data for the table or define an expression to populate the data dynamically.',\n    setValue,\n    singleLine: true,\n    variables,\n    validate: validate$5\n  });\n}\n\n// helper ////////////////\n\n/**\n * @param {string|void} value\n * @returns {string|null}\n */\nconst validate$5 = value => {\n  if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_2__.isString)(value) || value.length === 0) {\n    return 'Must not be empty.';\n  }\n  if (value.startsWith('=')) {\n    return null;\n  }\n  if (!isValidDotPath(value)) {\n    return 'Must be a variable or a dot separated path.';\n  }\n  if (hasIntegerPathSegment(value)) {\n    return 'Must not contain numerical path segments.';\n  }\n  return null;\n};\n\nfunction PaginationEntry(props) {\n  const {\n    editField,\n    field\n  } = props;\n  const entries = [];\n  entries.push({\n    id: 'pagination',\n    component: Pagination,\n    editField: editField,\n    field: field,\n    isEdited: isEdited$7,\n    isDefaultVisible: field => field.type === 'table'\n  });\n  return entries;\n}\nfunction Pagination(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const defaultRowCount = 10;\n  const path = ['rowCount'];\n  const getValue = () => {\n    return (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.isNumber)((0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, path));\n  };\n\n  /**\n   * @param {boolean} value\n   */\n  const setValue = value => {\n    value ? editField(field, path, defaultRowCount) : editField(field, path, undefined);\n  };\n  return ToggleSwitchEntry({\n    element: field,\n    getValue,\n    id,\n    label: 'Pagination',\n    inline: true,\n    setValue\n  });\n}\n\nconst path$2 = ['rowCount'];\nfunction RowCountEntry(props) {\n  const {\n    editField,\n    field\n  } = props;\n  const entries = [];\n  entries.push({\n    id: 'rowCount',\n    component: RowCount,\n    isEdited: isEdited$6,\n    editField,\n    field,\n    isDefaultVisible: field => field.type === 'table' && (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.isNumber)((0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, path$2))\n  });\n  return entries;\n}\nfunction RowCount(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const debounce = useService('debounce');\n  const getValue = () => (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, path$2);\n\n  /**\n   * @param {number|void} value\n   * @param {string|null} error\n   * @returns {void}\n   */\n  const setValue = (value, error) => {\n    if (error) {\n      return;\n    }\n    editField(field, path$2, value);\n  };\n  return NumberFieldEntry({\n    debounce,\n    label: 'Number of rows per page',\n    element: field,\n    id,\n    getValue,\n    setValue,\n    validate: validate$4\n  });\n}\n\n// helpers //////////\n\n/**\n * @param {string|void} value\n * @returns {string|null}\n */\nconst validate$4 = value => {\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_2__.isNil)(value)) {\n    return null;\n  }\n  if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_2__.isNumber)(value)) {\n    return 'Must be number';\n  }\n  if (!Number.isInteger(value)) {\n    return 'Should be an integer.';\n  }\n  if (value < 1) {\n    return 'Should be greater than zero.';\n  }\n  return null;\n};\n\nconst OPTIONS = {\n  static: {\n    label: 'List of items',\n    value: 'static'\n  },\n  expression: {\n    label: 'Expression',\n    value: 'expression'\n  }\n};\nconst SELECT_OPTIONS = Object.values(OPTIONS);\nconst COLUMNS_PATH = ['columns'];\nconst COLUMNS_EXPRESSION_PATH = ['columnsExpression'];\nconst isHeadersSourceEdited = isEditedFromDefaultFactory(OPTIONS.static.value);\nfunction HeadersSourceSelectEntry(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  return [{\n    id: id + '-select',\n    component: HeadersSourceSelect,\n    isEdited: isHeadersSourceEdited,\n    editField,\n    field\n  }];\n}\nfunction HeadersSourceSelect(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n\n  /**\n   * @returns {string|void}\n   */\n  const getValue = () => {\n    const columns = (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, COLUMNS_PATH);\n    const columnsExpression = (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, COLUMNS_EXPRESSION_PATH);\n    if ((0,min_dash__WEBPACK_IMPORTED_MODULE_2__.isString)(columnsExpression)) {\n      return OPTIONS.expression.value;\n    }\n    if ((0,min_dash__WEBPACK_IMPORTED_MODULE_2__.isArray)(columns)) {\n      return OPTIONS.static.value;\n    }\n  };\n\n  /**\n   * @param {string|void} value\n   */\n  const setValue = value => {\n    switch (value) {\n      case OPTIONS.static.value:\n        editField(field, {\n          columns: [{\n            label: 'Column',\n            key: 'inputVariable'\n          }]\n        });\n        break;\n      case OPTIONS.expression.value:\n        editField(field, {\n          columnsExpression: '='\n        });\n        break;\n    }\n  };\n  const getValuesSourceOptions = () => {\n    return SELECT_OPTIONS;\n  };\n  return AutoFocusSelectEntry({\n    autoFocusEntry: getAutoFocusEntryId(field),\n    label: 'Type',\n    element: field,\n    getOptions: getValuesSourceOptions,\n    getValue,\n    id,\n    setValue\n  });\n}\n\n// helpers //////////\n\nfunction getAutoFocusEntryId(field) {\n  const columns = (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, COLUMNS_PATH);\n  const columnsExpression = (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, COLUMNS_EXPRESSION_PATH);\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_2__.isString)(columnsExpression)) {\n    return `${field.id}-columnsExpression`;\n  }\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_2__.isArray)(columns)) {\n    return `${field.id}-columns-0-label`;\n  }\n  return null;\n}\n\nconst PATH = ['columnsExpression'];\nfunction ColumnsExpressionEntry(props) {\n  const {\n    editField,\n    field\n  } = props;\n  const entries = [];\n  entries.push({\n    id: `${field.id}-columnsExpression`,\n    component: ColumnsExpression,\n    editField: editField,\n    field: field,\n    isEdited: isEdited$5,\n    isDefaultVisible: field => field.type === 'table' && (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.isString)((0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, PATH))\n  });\n  return entries;\n}\nfunction ColumnsExpression(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const debounce = useService('debounce');\n  const variables = useVariables().map(name => ({\n    name\n  }));\n  const getValue = () => {\n    return (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, PATH);\n  };\n\n  /**\n   * @param {string|void} value\n   * @param {string|void} error\n   * @returns {void}\n   */\n  const setValue = (value, error) => {\n    if (error) {\n      return;\n    }\n    editField(field, PATH, value);\n  };\n  const schema = '[\\n  {\\n    \"key\": \"column_1\",\\n    \"label\": \"Column 1\"\\n  }\\n]';\n  const tooltip = (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n    children: [\"The expression may result in an array of simple values or alternatively follow this schema:\", (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"pre\", {\n      children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"code\", {\n        children: schema\n      })\n    })]\n  });\n  return FeelTemplatingEntry({\n    debounce,\n    description: 'Specify an expression to populate column items',\n    element: field,\n    feel: 'required',\n    getValue,\n    id,\n    label: 'Expression',\n    tooltip,\n    setValue,\n    singleLine: true,\n    variables,\n    validate: validate$3\n  });\n}\n\n// helpers //////////\n\n/**\n * @param {string|void} value\n * @returns {string|null}\n */\nconst validate$3 = value => {\n  if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_2__.isString)(value) || value.length === 0 || value === '=') {\n    return 'Must not be empty.';\n  }\n  return null;\n};\n\nconst path$1 = 'columns';\nconst labelPath = 'label';\nconst keyPath = 'key';\nfunction ColumnEntry(props) {\n  const {\n    editField,\n    field,\n    idPrefix,\n    index\n  } = props;\n  const entries = [{\n    component: Label,\n    editField,\n    field,\n    id: idPrefix + '-label',\n    idPrefix,\n    index\n  }, {\n    component: Key,\n    editField,\n    field,\n    id: idPrefix + '-key',\n    idPrefix,\n    index\n  }];\n  return entries;\n}\nfunction Label(props) {\n  const {\n    editField,\n    field,\n    id,\n    index\n  } = props;\n  const debounce = useService('debounce');\n\n  /**\n   * @param {string|void} value\n   * @param {string|void} error\n   * @returns {void}\n   */\n  const setValue = (value, error) => {\n    if (error) {\n      return;\n    }\n    const columns = (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, [path$1]);\n    editField(field, path$1, (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.set)(columns, [index, labelPath], value));\n  };\n  const getValue = () => {\n    return (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, [path$1, index, labelPath]);\n  };\n  return TextfieldEntry({\n    debounce,\n    element: field,\n    getValue,\n    id,\n    label: 'Label',\n    setValue\n  });\n}\nfunction Key(props) {\n  const {\n    editField,\n    field,\n    id,\n    index\n  } = props;\n  const debounce = useService('debounce');\n\n  /**\n   * @param {string|void} value\n   * @param {string|void} error\n   * @returns {void}\n   */\n  const setValue = (value, error) => {\n    if (error) {\n      return;\n    }\n    const columns = (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, [path$1]);\n    editField(field, path$1, (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.set)(columns, [index, keyPath], value));\n  };\n  const getValue = () => {\n    return (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, [path$1, index, keyPath]);\n  };\n  return TextfieldEntry({\n    debounce,\n    element: field,\n    getValue,\n    id,\n    label: 'Key',\n    setValue,\n    validate: validate$2\n  });\n}\n\n// helpers //////////////////////\n\n/**\n * @param {string|void} value\n * @returns {string|null}\n */\nfunction validate$2(value) {\n  if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_2__.isString)(value) || value.length === 0) {\n    return 'Must not be empty.';\n  }\n  return null;\n}\n\nconst path = ['columns'];\nfunction StaticColumnsSourceEntry(props) {\n  const {\n    editField,\n    field,\n    id: idPrefix\n  } = props;\n  const {\n    columns\n  } = field;\n  const addEntry = event => {\n    event.stopPropagation();\n    const entry = {\n      label: 'Column',\n      key: 'inputVariable'\n    };\n    editField(field, path, arrayAdd(columns, columns.length, entry));\n  };\n  const removeEntry = entry => {\n    editField(field, path, (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.without)(columns, entry));\n  };\n  const items = columns.map((entry, index) => {\n    const id = `${idPrefix}-${index}`;\n    return {\n      id,\n      label: entry.label || entry.key,\n      entries: ColumnEntry({\n        editField,\n        field,\n        idPrefix: id,\n        index\n      }),\n      autoFocusEntry: `${id}-label`,\n      remove: () => removeEntry(entry)\n    };\n  });\n  return {\n    items,\n    add: addEntry\n  };\n}\n\nfunction VersionTagEntry(props) {\n  const {\n    editField,\n    field\n  } = props;\n  const entries = [];\n  entries.push({\n    id: 'versionTag',\n    component: VersionTag,\n    editField: editField,\n    field: field,\n    isEdited: isEdited,\n    isDefaultVisible: field => field.type === 'default'\n  });\n  return entries;\n}\nfunction VersionTag(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const debounce = useService('debounce');\n  const path = ['versionTag'];\n  const getValue = () => {\n    return (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, path, '');\n  };\n  const setValue = (value, error) => {\n    if (error) {\n      return;\n    }\n    return editField(field, path, value);\n  };\n  const tooltip = (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n    children: \"Version tag by which this form can be referenced.\"\n  });\n  return TextfieldEntry({\n    debounce,\n    element: field,\n    getValue,\n    id,\n    label: 'Version tag',\n    setValue,\n    tooltip\n  });\n}\n\nfunction AcceptEntry(props) {\n  const {\n    editField,\n    field\n  } = props;\n  const entries = [];\n  entries.push({\n    id: 'accept',\n    component: Accept,\n    editField: editField,\n    field: field,\n    isEdited: isEdited$5,\n    isDefaultVisible: field => field.type === 'filepicker'\n  });\n  return entries;\n}\nfunction Accept(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const debounce = useService('debounce');\n  const variables = useVariables().map(name => ({\n    name\n  }));\n  const path = ['accept'];\n  const getValue = () => {\n    return (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, path, '');\n  };\n  const setValue = value => {\n    return editField(field, path, value);\n  };\n  return FeelTemplatingEntry({\n    debounce,\n    element: field,\n    getValue,\n    id,\n    label: 'Supported file formats',\n    singleLine: true,\n    setValue,\n    variables,\n    description: description$1\n  });\n}\n\n// helpers //////////\n\nconst description$1 = (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment, {\n  children: [\"A comma-separated list of\", ' ', (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"a\", {\n    href: \"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/file#unique_file_type_specifiers\",\n    target: \"_blank\",\n    rel: \"noreferrer\",\n    children: \"file type specifiers\"\n  })]\n});\n\nfunction MultipleEntry(props) {\n  const {\n    editField,\n    field\n  } = props;\n  const entries = [];\n  entries.push({\n    id: 'multiple',\n    component: Multiple,\n    editField: editField,\n    field: field,\n    isEdited: isEdited$5,\n    isDefaultVisible: field => field.type === 'filepicker'\n  });\n  return entries;\n}\nfunction Multiple(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const debounce = useService('debounce');\n  const variables = useVariables().map(name => ({\n    name\n  }));\n  const path = ['multiple'];\n  const getValue = () => {\n    return (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, path, '');\n  };\n  const setValue = value => {\n    return editField(field, path, value);\n  };\n  return FeelToggleSwitchEntry({\n    debounce,\n    element: field,\n    feel: 'optional',\n    getValue,\n    id,\n    label: 'Upload multiple files',\n    inline: true,\n    setValue,\n    variables\n  });\n}\n\nfunction DocumentsDataSourceEntry(props) {\n  const {\n    editField,\n    field\n  } = props;\n  const entries = [];\n  entries.push({\n    id: 'dataSource',\n    component: DocumentsDataSource,\n    editField: editField,\n    field: field,\n    isEdited: isEdited$5,\n    isDefaultVisible: field => field.type === 'documentPreview'\n  });\n  return entries;\n}\nfunction DocumentsDataSource(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const debounce = useService('debounce');\n  const variables = useVariables().map(name => ({\n    name\n  }));\n  const path = ['dataSource'];\n  const getValue = () => {\n    return (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, path, '');\n  };\n  const setValue = value => {\n    return editField(field, path, value);\n  };\n  const schema = `[\n  {\n    \"documentId\": \"u123\",\n    \"endpoint\": \"https://api.example.com/documents/u123\",\n    \"metadata\": {\n      \"fileName\": \"Document.pdf\",\n      \"contentType\": \"application/pdf\"\n    }\n  }\n]`;\n  const tooltip = (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n    children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"p\", {\n      children: \"A source is a JSON object containing metadata for a document or an array of documents.\"\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"p\", {\n      children: \"Each entry must include a document ID, name, and MIME type.\"\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"p\", {\n      children: \"Additional details are optional. The expected format is as follows:\"\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"pre\", {\n      children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"code\", {\n        children: schema\n      })\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"p\", {\n      children: \"When using Camunda Tasklist UI, additional document reference attributes are automatically handled. Modifying the document reference may affect the document preview functionality.\"\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"p\", {\n      children: [\"Learn more in our\", ' ', (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"a\", {\n        href: \"https://docs.camunda.io/docs/components/modeler/forms/form-element-library/forms-element-library-document-preview/\",\n        target: \"_blank\",\n        rel: \"noopener noreferrer\",\n        children: \"documentation\"\n      }), \".\"]\n    })]\n  });\n  return FeelTemplatingEntry({\n    debounce,\n    element: field,\n    getValue,\n    id,\n    label: 'Document reference',\n    feel: 'required',\n    singleLine: true,\n    setValue,\n    variables,\n    tooltip,\n    validate: validate$1\n  });\n}\n\n// helpers //////////\n\n/**\n * @param {string|undefined} value\n * @returns {string|null}\n */\nconst validate$1 = value => {\n  if (typeof value !== 'string' || value.length === 0) {\n    return 'The document data source is required.';\n  }\n};\n\nfunction MaxHeightEntry(props) {\n  const {\n    editField,\n    field\n  } = props;\n  const entries = [];\n  entries.push({\n    id: 'maxHeight',\n    component: MaxHeight,\n    editField: editField,\n    field: field,\n    isEdited: isEdited$6,\n    isDefaultVisible: field => field.type === 'documentPreview'\n  });\n  return entries;\n}\nfunction MaxHeight(props) {\n  const {\n    editField,\n    field,\n    id\n  } = props;\n  const debounce = useService('debounce');\n  const path = ['maxHeight'];\n  const getValue = () => {\n    return (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, path, '');\n  };\n  const setValue = value => {\n    return editField(field, path, value);\n  };\n  return NumberFieldEntry({\n    debounce,\n    label: 'Max height of preview container',\n    element: field,\n    id,\n    getValue,\n    setValue,\n    validate,\n    description\n  });\n}\n\n// helpers //////////\n\n/**\n * @param {string|number|undefined} value\n * @returns {string|null}\n */\nconst validate = value => {\n  if (value === undefined || value === '') {\n    return null;\n  }\n  if (typeof value === 'string') {\n    return 'Value must be a number.';\n  }\n  if (!Number.isInteger(value)) {\n    return 'Should be an integer.';\n  }\n  if (value < 1) {\n    return 'Should be greater than zero.';\n  }\n};\nconst description = (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment, {\n  children: \"Documents with height that exceeds the defined value will be vertically scrollable\"\n});\n\nfunction GeneralGroup(field, editField, getService) {\n  const entries = [...IdEntry({\n    field,\n    editField\n  }), ...VersionTagEntry({\n    field,\n    editField\n  }), ...LabelEntry({\n    field,\n    editField\n  }), ...DescriptionEntry({\n    field,\n    editField\n  }), ...KeyEntry({\n    field,\n    editField,\n    getService\n  }), ...PathEntry({\n    field,\n    editField,\n    getService\n  }), ...RepeatableEntry({\n    field,\n    editField,\n    getService\n  }), ...DefaultValueEntry({\n    field,\n    editField\n  }), ...ActionEntry({\n    field,\n    editField\n  }), ...DateTimeEntry({\n    field,\n    editField\n  }), ...TextEntry({\n    field,\n    editField}), ...HtmlEntry({\n    field,\n    editField}), ...IFrameUrlEntry({\n    field,\n    editField\n  }), ...IFrameHeightEntry({\n    field,\n    editField\n  }), ...HeightEntry({\n    field,\n    editField\n  }), ...NumberEntries({\n    field,\n    editField\n  }), ...ExpressionFieldEntries({\n    field,\n    editField\n  }), ...ImageSourceEntry({\n    field,\n    editField\n  }), ...AltTextEntry({\n    field,\n    editField\n  }), ...SelectEntries({\n    field,\n    editField\n  }), ...AcceptEntry({\n    field,\n    editField\n  }), ...MultipleEntry({\n    field,\n    editField\n  }), ...DisabledEntry({\n    field,\n    editField\n  }), ...ReadonlyEntry({\n    field,\n    editField\n  }), ...TableDataSourceEntry({\n    field,\n    editField\n  }), ...PaginationEntry({\n    field,\n    editField\n  }), ...RowCountEntry({\n    field,\n    editField\n  }), ...DocumentsDataSourceEntry({\n    field,\n    editField\n  })];\n  if (entries.length === 0) {\n    return null;\n  }\n  return {\n    id: 'general',\n    label: 'General',\n    entries\n  };\n}\n\nfunction SerializationGroup(field, editField) {\n  const entries = [...NumberSerializationEntry({\n    field,\n    editField\n  }), ...DateTimeFormatEntry({\n    field,\n    editField\n  })];\n  if (!entries.length) {\n    return null;\n  }\n  return {\n    id: 'serialization',\n    label: 'Serialization',\n    entries\n  };\n}\n\nfunction ConstraintsGroup(field, editField) {\n  const entries = [...DateTimeConstraintsEntry({\n    field,\n    editField\n  })];\n  if (!entries.length) {\n    return null;\n  }\n  return {\n    id: 'constraints',\n    label: 'Constraints',\n    entries\n  };\n}\n\nconst VALIDATION_TYPE_OPTIONS = {\n  custom: {\n    value: '',\n    label: 'Custom'\n  },\n  email: {\n    value: 'email',\n    label: 'Email'\n  },\n  phone: {\n    value: 'phone',\n    label: 'Phone'\n  }\n};\nfunction ValidationGroup(field, editField) {\n  const {\n    type\n  } = field;\n  const validate = (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, ['validate'], {});\n  const isCustomValidation = [undefined, VALIDATION_TYPE_OPTIONS.custom.value].includes(validate.validationType);\n  const hasPattern = !!(0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, ['validate', 'pattern']);\n  const onChange = key => {\n    return value => {\n      const validate = (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, ['validate'], {});\n      editField(field, ['validate'], (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.set)(validate, [key], value));\n    };\n  };\n  const getValue = key => {\n    return () => {\n      return (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, ['validate', key]);\n    };\n  };\n  let entries = [{\n    id: 'required',\n    component: Required,\n    getValue,\n    field,\n    isEdited: isEdited$8,\n    onChange,\n    isDefaultVisible: field => INPUTS.includes(field.type)\n  }];\n  entries.push({\n    id: 'validationType',\n    component: ValidationType,\n    getValue,\n    field,\n    editField,\n    isEdited: isEdited,\n    onChange,\n    isDefaultVisible: field => field.type === 'textfield'\n  });\n  entries.push({\n    id: 'minLength',\n    component: MinLength,\n    getValue,\n    field,\n    isEdited: isEdited$5,\n    onChange,\n    isDefaultVisible: field => INPUTS.includes(field.type) && (type === 'textarea' || type === 'textfield' && isCustomValidation)\n  }, {\n    id: 'maxLength',\n    component: MaxLength,\n    getValue,\n    field,\n    isEdited: isEdited$5,\n    onChange,\n    isDefaultVisible: field => INPUTS.includes(field.type) && (type === 'textarea' || type === 'textfield' && isCustomValidation)\n  });\n  entries.push({\n    id: 'pattern',\n    component: Pattern,\n    getValue,\n    field,\n    isEdited: isEdited,\n    onChange,\n    isDefaultVisible: field => INPUTS.includes(field.type) && type === 'textfield' && isCustomValidation\n  });\n  entries.push({\n    id: 'patternErrorMessage',\n    component: PatternErrorMessage,\n    getValue,\n    field,\n    isEdited: isEdited,\n    onChange,\n    isDefaultVisible: field => INPUTS.includes(field.type) && type === 'textfield' && isCustomValidation && hasPattern\n  });\n  entries.push({\n    id: 'min',\n    component: Min,\n    getValue,\n    field,\n    isEdited: isEdited$5,\n    onChange,\n    isDefaultVisible: field => field.type === 'number'\n  }, {\n    id: 'max',\n    component: Max,\n    getValue,\n    field,\n    isEdited: isEdited$5,\n    onChange,\n    isDefaultVisible: field => field.type === 'number'\n  });\n  return {\n    id: 'validation',\n    label: 'Validation',\n    entries\n  };\n}\nfunction Required(props) {\n  const {\n    field,\n    getValue,\n    id,\n    onChange\n  } = props;\n  return CheckboxEntry({\n    element: field,\n    getValue: getValue('required'),\n    id,\n    label: 'Required',\n    setValue: onChange('required')\n  });\n}\nfunction MinLength(props) {\n  const {\n    field,\n    getValue,\n    id,\n    onChange\n  } = props;\n  const debounce = useService('debounce');\n  const variables = useVariables().map(name => ({\n    name\n  }));\n  return FeelNumberEntry({\n    debounce,\n    element: field,\n    feel: 'optional',\n    getValue: getValue('minLength'),\n    id,\n    label: 'Minimum length',\n    min: 0,\n    setValue: onChange('minLength'),\n    variables\n  });\n}\nfunction MaxLength(props) {\n  const {\n    field,\n    getValue,\n    id,\n    onChange\n  } = props;\n  const debounce = useService('debounce');\n  const variables = useVariables().map(name => ({\n    name\n  }));\n  return FeelNumberEntry({\n    debounce,\n    element: field,\n    feel: 'optional',\n    getValue: getValue('maxLength'),\n    id,\n    label: 'Maximum length',\n    min: 0,\n    setValue: onChange('maxLength'),\n    variables\n  });\n}\nfunction Pattern(props) {\n  const {\n    field,\n    getValue,\n    id,\n    onChange\n  } = props;\n  const debounce = useService('debounce');\n  return TextfieldEntry({\n    debounce,\n    element: field,\n    getValue: getValue('pattern'),\n    id,\n    label: 'Custom regular expression',\n    setValue: onChange('pattern')\n  });\n}\nfunction PatternErrorMessage(props) {\n  const {\n    field,\n    getValue,\n    id,\n    onChange\n  } = props;\n  const debounce = useService('debounce');\n  return TextfieldEntry({\n    debounce,\n    element: field,\n    getValue: getValue('patternErrorMessage'),\n    id,\n    label: 'Custom error message',\n    tooltip: 'The error message to display when the input does not match the regular expression.',\n    setValue: onChange('patternErrorMessage')\n  });\n}\nfunction Min(props) {\n  const {\n    field,\n    getValue,\n    id,\n    onChange\n  } = props;\n  const debounce = useService('debounce');\n  const variables = useVariables().map(name => ({\n    name\n  }));\n  return FeelNumberEntry({\n    debounce,\n    element: field,\n    feel: 'optional',\n    id,\n    label: 'Minimum',\n    step: 'any',\n    getValue: getValue('min'),\n    setValue: onChange('min'),\n    variables\n  });\n}\nfunction Max(props) {\n  const {\n    field,\n    getValue,\n    id,\n    onChange\n  } = props;\n  const debounce = useService('debounce');\n  const variables = useVariables().map(name => ({\n    name\n  }));\n  return FeelNumberEntry({\n    debounce,\n    element: field,\n    feel: 'optional',\n    id,\n    label: 'Maximum',\n    step: 'any',\n    getValue: getValue('max'),\n    setValue: onChange('max'),\n    variables\n  });\n}\nfunction ValidationType(props) {\n  const {\n    field,\n    getValue,\n    id,\n    onChange\n  } = props;\n  useService('debounce');\n  const setValue = validationType => {\n    onChange('validationType')(validationType || undefined);\n  };\n  return SelectEntry({\n    element: field,\n    getValue: getValue('validationType'),\n    id,\n    label: 'Validation pattern',\n    setValue,\n    getOptions: () => Object.values(VALIDATION_TYPE_OPTIONS),\n    tooltip: getValue('validationType')() === VALIDATION_TYPE_OPTIONS.phone.value ? 'The built-in phone validation pattern is based on the E.164 standard with no spaces. Ex: +491234567890' : undefined\n  });\n}\n\nfunction OptionsGroups(field, editField, getService) {\n  const {\n    type\n  } = field;\n  const formFields = getService('formFields');\n  const fieldDefinition = formFields.get(type).config;\n  if (!OPTIONS_INPUTS.includes(type) && !hasOptionsGroupsConfigured(fieldDefinition)) {\n    return [];\n  }\n  const context = {\n    editField,\n    field\n  };\n  const id = 'valuesSource';\n\n  /**\n   * @type {Array<Group|ListGroup>}\n   */\n  const groups = [{\n    id,\n    label: 'Options source',\n    tooltip: getValuesTooltip(),\n    component: Group,\n    entries: OptionsSourceSelectEntry({\n      ...context,\n      id\n    })\n  }];\n  const valuesSource = (0,_bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.getOptionsSource)(field);\n  if (valuesSource === _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.OPTIONS_SOURCES.INPUT) {\n    const id = 'dynamicOptions';\n    groups.push({\n      id,\n      label: 'Dynamic options',\n      component: Group,\n      entries: InputKeyOptionsSourceEntry({\n        ...context,\n        id\n      })\n    });\n  } else if (valuesSource === _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.OPTIONS_SOURCES.STATIC) {\n    const id = 'staticOptions';\n    groups.push({\n      id,\n      label: 'Static options',\n      component: ListGroup,\n      ...StaticOptionsSourceEntry({\n        ...context,\n        id\n      })\n    });\n  } else if (valuesSource === _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.OPTIONS_SOURCES.EXPRESSION) {\n    const id = 'optionsExpression';\n    groups.push({\n      id,\n      label: 'Options expression',\n      component: Group,\n      entries: OptionsExpressionEntry({\n        ...context,\n        id\n      })\n    });\n  }\n  return groups;\n}\n\n// helpers //////////\n\nfunction getValuesTooltip() {\n  return '\"Static\" defines a constant, predefined set of form options.\\n\\n' + '\"Input data\" defines options that are populated dynamically, adjusting based on variable data for flexible responses to different conditions or inputs.\\n\\n' + '\"Expression\" defines options that are populated from a FEEL expression.';\n}\n\nfunction CustomPropertiesGroup(field, editField) {\n  const {\n    properties = {},\n    type\n  } = field;\n  if (type === 'default') {\n    return null;\n  }\n  const addEntry = event => {\n    event.stopPropagation();\n    let index = Object.keys(properties).length + 1;\n    while (`key${index}` in properties) {\n      index++;\n    }\n    editField(field, ['properties'], {\n      ...properties,\n      [`key${index}`]: 'value'\n    });\n  };\n  const validateFactory = key => {\n    return value => {\n      if (value === key) {\n        return;\n      }\n      if (typeof value !== 'string' || value.length === 0) {\n        return 'Must not be empty.';\n      }\n      if ((0,min_dash__WEBPACK_IMPORTED_MODULE_2__.has)(properties, value)) {\n        return 'Must be unique.';\n      }\n    };\n  };\n  const items = Object.keys(properties).map((key, index) => {\n    const removeEntry = event => {\n      event.stopPropagation();\n      return editField(field, ['properties'], removeKey(properties, key));\n    };\n    const id = `property-${field.id}-${index}`;\n    return {\n      autoFocusEntry: id + '-key',\n      entries: CustomValueEntry({\n        editField,\n        field,\n        idPrefix: id,\n        index,\n        validateFactory\n      }),\n      id,\n      label: key || '',\n      remove: removeEntry\n    };\n  });\n  return {\n    add: addEntry,\n    component: ListGroup,\n    id: 'custom-values',\n    items,\n    label: 'Custom properties',\n    tooltip: 'Add properties directly to the form schema, useful to configure functionality in custom-built task applications and form renderers.'\n  };\n}\n\n// helpers //////////\n\n/**\n * Returns copy of object without key.\n *\n * @param {Object} properties\n * @param {string} oldKey\n *\n * @returns {Object}\n */\nfunction removeKey(properties, oldKey) {\n  return Object.entries(properties).reduce((newProperties, entry) => {\n    const [key, value] = entry;\n    if (key === oldKey) {\n      return newProperties;\n    }\n    return {\n      ...newProperties,\n      [key]: value\n    };\n  }, {});\n}\n\nfunction AppearanceGroup(field, editField, getService) {\n  const entries = [...AdornerEntry({\n    field,\n    editField\n  }), ...GroupAppearanceEntry({\n    field,\n    editField\n  }), ...LayouterAppearanceEntry({\n    field,\n    editField\n  }), ...MaxHeightEntry({\n    field,\n    editField\n  })];\n  if (!entries.length) {\n    return null;\n  }\n  return {\n    id: 'appearance',\n    label: 'Appearance',\n    entries\n  };\n}\n\nfunction LayoutGroup(field, editField) {\n  const {\n    type\n  } = field;\n  if (type === 'default') {\n    return null;\n  }\n  const entries = [...ColumnsEntry({\n    field,\n    editField\n  })];\n  if (entries.length === 0) {\n    return null;\n  }\n  return {\n    id: 'layout',\n    label: 'Layout',\n    entries\n  };\n}\n\nfunction SecurityAttributesGroup(field, editField) {\n  const {\n    type\n  } = field;\n  if (type !== 'iframe') {\n    return null;\n  }\n  const entries = createEntries({\n    field,\n    editField\n  });\n  if (!entries.length) {\n    return null;\n  }\n  return {\n    id: 'securityAttributes',\n    label: 'Security attributes',\n    entries,\n    tooltip: getTooltip()\n  };\n}\nfunction createEntries(props) {\n  const {\n    editField,\n    field\n  } = props;\n  const securityEntries = _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.SECURITY_ATTRIBUTES_DEFINITIONS.map(definition => {\n    const {\n      label,\n      property\n    } = definition;\n    return simpleBoolEntryFactory({\n      id: property,\n      label: label,\n      isDefaultVisible: field => field.type === 'iframe',\n      path: ['security', property],\n      props,\n      getValue: () => (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, ['security', property]),\n      setValue: value => {\n        const security = (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, ['security'], {});\n        editField(field, ['security'], (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.set)(security, [property], value));\n      }\n    });\n  });\n  return [{\n    component: Advisory\n  }, ...securityEntries];\n}\nconst Advisory = props => {\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n    class: \"bio-properties-panel-description fjs-properties-panel-detached-description\",\n    children: \"These options can incur security risks, especially if used in combination with dynamic links. Ensure that you are aware of them, that you trust the source url and only enable what your use case requires.\"\n  });\n};\n\n// helpers //////////\n\nfunction getTooltip() {\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment, {\n    children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"p\", {\n      children: [\"Allow the iframe to access more functionality of your browser, details regarding the various options can be found in the\", ' ', (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"a\", {\n        target: \"_blank\",\n        href: \"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe\",\n        rel: \"noreferrer\",\n        children: \"MDN iFrame documentation.\"\n      })]\n    })\n  });\n}\n\nfunction ConditionGroup(field, editField) {\n  const {\n    type\n  } = field;\n  if (type === 'default') {\n    return null;\n  }\n  const entries = [...ConditionEntry({\n    field,\n    editField\n  })];\n  return {\n    id: 'condition',\n    label: 'Condition',\n    entries\n  };\n}\n\nfunction TableHeaderGroups(field, editField) {\n  const {\n    type,\n    id: fieldId\n  } = field;\n  if (type !== 'table') {\n    return [];\n  }\n  const areStaticColumnsEnabled = (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.isArray)((0,min_dash__WEBPACK_IMPORTED_MODULE_2__.get)(field, ['columns']));\n\n  /**\n   * @type {Array<Group>}\n   */\n  const groups = [{\n    id: `${fieldId}-columnsSource`,\n    label: 'Headers source',\n    tooltip: TOOLTIP_TEXT,\n    component: Group,\n    entries: [...HeadersSourceSelectEntry({\n      field,\n      editField\n    }), ...ColumnsExpressionEntry({\n      field,\n      editField\n    })]\n  }];\n  if (areStaticColumnsEnabled) {\n    const id = `${fieldId}-columns`;\n    groups.push({\n      id,\n      label: 'Header items',\n      component: ListGroup,\n      ...StaticColumnsSourceEntry({\n        field,\n        editField,\n        id\n      })\n    });\n  }\n  return groups;\n}\n\n// helpers //////////\n\nconst TOOLTIP_TEXT = `\"List of items\" defines a constant, predefined set of form options.\n\n\"Expression\" defines options that are populated from a FEEL expression.\n`;\n\nclass PropertiesProvider {\n  constructor(propertiesPanel, injector) {\n    this._injector = injector;\n    propertiesPanel.registerProvider(this);\n  }\n  _filterVisibleEntries(groups, field, getService) {\n    return groups.forEach(group => {\n      const {\n        entries\n      } = group;\n      const {\n        type\n      } = field;\n      const formFields = getService('formFields');\n      const fieldDefinition = formFields.get(type).config;\n      if (!entries) {\n        return;\n      }\n      group.entries = entries.filter(entry => {\n        const {\n          isDefaultVisible\n        } = entry;\n        if (!isDefaultVisible) {\n          return true;\n        }\n        return isDefaultVisible(field) || hasEntryConfigured(fieldDefinition, entry.id);\n      });\n    });\n  }\n  getGroups(field, editField) {\n    return groups => {\n      if (!field) {\n        return groups;\n      }\n      const getService = (type, strict = true) => this._injector.get(type, strict);\n      groups = [...groups, GeneralGroup(field, editField, getService), ...OptionsGroups(field, editField, getService), ...TableHeaderGroups(field, editField), SecurityAttributesGroup(field, editField), ConditionGroup(field, editField), LayoutGroup(field, editField), AppearanceGroup(field, editField), SerializationGroup(field, editField), ConstraintsGroup(field, editField), ValidationGroup(field, editField), CustomPropertiesGroup(field, editField)].filter(group => group != null);\n      this._filterVisibleEntries(groups, field, getService);\n\n      // contract: if a group has no entries or items, it should not be displayed at all\n      return groups.filter(group => {\n        return group.items || group.entries && group.entries.length;\n      });\n    };\n  }\n}\nPropertiesProvider.$inject = ['propertiesPanel', 'injector'];\n\nconst PropertiesPanelModule = {\n  __depends__: [index],\n  __init__: ['propertiesPanel', 'propertiesProvider'],\n  propertiesPanel: ['type', PropertiesPanelRenderer],\n  propertiesProvider: ['type', PropertiesProvider]\n};\n\n/**\n * Manages the rendering of visual plugins.\n * @constructor\n * @param {Object} eventBus - Event bus for the application.\n */\nclass RenderInjector extends SectionModuleBase {\n  constructor(eventBus) {\n    super(eventBus, 'renderInjector');\n    this._eventBus = eventBus;\n    this.registeredRenderers = [];\n  }\n\n  /**\n   * Inject a new renderer into the injector.\n   * @param {string} identifier - Identifier for the renderer.\n   * @param {Function} Renderer - The renderer function.\n   */\n  attachRenderer(identifier, Renderer) {\n    this.registeredRenderers = [...this.registeredRenderers, {\n      identifier,\n      Renderer\n    }];\n  }\n\n  /**\n   * Detach a renderer from the by key injector.\n   * @param {string} identifier - Identifier for the renderer.\n   */\n  detachRenderer(identifier) {\n    this.registeredRenderers = this.registeredRenderers.filter(r => r.identifier !== identifier);\n  }\n\n  /**\n   * Returns the registered renderers.\n   * @returns {Array} Array of registered renderers.\n   */\n  fetchRenderers() {\n    return this.registeredRenderers;\n  }\n}\nRenderInjector.$inject = ['eventBus'];\n\nconst RenderInjectionModule = {\n  __init__: ['renderInjector'],\n  renderInjector: ['type', RenderInjector]\n};\n\nvar _path;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nvar SvgRepeat = function SvgRepeat(props) {\n  return /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_7__.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 16,\n    height: 16,\n    fill: \"none\"\n  }, props), _path || (_path = /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_7__.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M3 3h10.086l-1.793-1.793L12 .5l3 3-3 3-.707-.707L13.086 4H3v3.5H2V4a1 1 0 0 1 1-1M4.707 10.207 2.914 12H13V8.5h1V12a1 1 0 0 1-1 1H2.914l1.793 1.793L4 15.5l-3-3 3-3z\"\n  })));\n};\n\nclass EditorRepeatRenderManager {\n  constructor(formFields, formFieldRegistry) {\n    this._formFields = formFields;\n    this._formFieldRegistry = formFieldRegistry;\n    this.RepeatFooter = this.RepeatFooter.bind(this);\n  }\n\n  /**\n   * Checks whether a field should be repeatable.\n   *\n   * @param {string} id - The id of the field to check\n   * @returns {boolean} - True if repeatable, false otherwise\n   */\n  isFieldRepeating(id) {\n    if (!id) {\n      return false;\n    }\n    const formField = this._formFieldRegistry.get(id);\n    const formFieldDefinition = this._formFields.get(formField.type);\n    return formFieldDefinition.config.repeatable && formField.isRepeating;\n  }\n  RepeatFooter() {\n    return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n      className: \"fjs-repeat-render-footer\",\n      children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(SvgRepeat, {}), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"span\", {\n        children: \"Repeatable\"\n      })]\n    });\n  }\n}\nEditorRepeatRenderManager.$inject = ['formFields', 'formFieldRegistry'];\n\nconst RepeatRenderModule = {\n  __init__: ['repeatRenderManager'],\n  repeatRenderManager: ['type', EditorRepeatRenderManager]\n};\n\nconst ids = new ids__WEBPACK_IMPORTED_MODULE_0__.Ids([32, 36, 1]);\n\n/**\n * @typedef { import('./types').Injector } Injector\n * @typedef { import('./types').Module } Module\n * @typedef { import('./types').Schema } Schema\n *\n * @typedef { import('./types').FormEditorOptions } FormEditorOptions\n * @typedef { import('./types').FormEditorProperties } FormEditorProperties\n *\n * @typedef { {\n *   properties: FormEditorProperties,\n *   schema: Schema\n * } } State\n *\n * @typedef { (type:string, priority:number, handler:Function) => void } OnEventWithPriority\n * @typedef { (type:string, handler:Function) => void } OnEventWithOutPriority\n * @typedef { OnEventWithPriority & OnEventWithOutPriority } OnEventType\n */\n\n/**\n * The form editor.\n */\nclass FormEditor {\n  /**\n   * @constructor\n   * @param {FormEditorOptions} options\n   */\n  constructor(options = {}) {\n    /**\n     * @public\n     * @type {OnEventType}\n     */\n    this.on = this._onEvent;\n\n    /**\n     * @public\n     * @type {String}\n     */\n    this._id = ids.next();\n\n    /**\n     * @private\n     * @type {Element}\n     */\n    this._container = (0,_bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.createFormContainer)();\n    this._container.setAttribute('tabindex', '0');\n    const {\n      container,\n      exporter,\n      injector = this._createInjector(options, this._container),\n      properties = {}\n    } = options;\n\n    /**\n     * @private\n     * @type {any}\n     */\n    this.exporter = exporter;\n\n    /**\n     * @private\n     * @type {State}\n     */\n    this._state = {\n      properties,\n      schema: null\n    };\n    this.get = injector.get;\n    this.invoke = injector.invoke;\n    this.get('eventBus').fire('form.init');\n    if (container) {\n      this.attachTo(container);\n    }\n  }\n  clear() {\n    // clear form services\n    this._emit('diagram.clear');\n\n    // clear diagram services (e.g. EventBus)\n    this._emit('form.clear');\n  }\n  destroy() {\n    // destroy form services\n    this.get('eventBus').fire('form.destroy');\n\n    // destroy diagram services (e.g. EventBus)\n    this.get('eventBus').fire('diagram.destroy');\n    this._detach(false);\n  }\n\n  /**\n   * @param {Schema} schema\n   *\n   * @return {Promise<{ warnings: Array<any> }>}\n   */\n  importSchema(schema) {\n    return new Promise((resolve, reject) => {\n      try {\n        this.clear();\n        const {\n          schema: importedSchema,\n          warnings\n        } = this.get('importer').importSchema(schema);\n        this._setState({\n          schema: importedSchema\n        });\n        this._emit('import.done', {\n          warnings\n        });\n        return resolve({\n          warnings\n        });\n      } catch (error) {\n        this._emit('import.done', {\n          error: error,\n          warnings: error.warnings || []\n        });\n        return reject(error);\n      }\n    });\n  }\n\n  /**\n   * @returns {Schema}\n   */\n  saveSchema() {\n    return this.getSchema();\n  }\n\n  /**\n   * @returns {Schema}\n   */\n  getSchema() {\n    const {\n      schema\n    } = this._getState();\n    return exportSchema(schema, this.exporter, _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.schemaVersion);\n  }\n\n  /**\n   * @param {Element|string} parentNode\n   */\n  attachTo(parentNode) {\n    if (!parentNode) {\n      throw new Error('parentNode required');\n    }\n    this.detach();\n    if ((0,min_dash__WEBPACK_IMPORTED_MODULE_2__.isString)(parentNode)) {\n      parentNode = document.querySelector(parentNode);\n    }\n    const container = this._container;\n    parentNode.appendChild(container);\n    this._emit('attach');\n  }\n  detach() {\n    this._detach();\n  }\n\n  /**\n   * @internal\n   *\n   * @param {boolean} [emit]\n   */\n  _detach(emit = true) {\n    const container = this._container,\n      parentNode = container.parentNode;\n    if (!parentNode) {\n      return;\n    }\n    if (emit) {\n      this._emit('detach');\n    }\n    parentNode.removeChild(container);\n  }\n\n  /**\n   * @param {any} property\n   * @param {any} value\n   */\n  setProperty(property, value) {\n    const properties = (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.set)(this._getState().properties, [property], value);\n    this._setState({\n      properties\n    });\n  }\n\n  /**\n   * @param {string} type\n   * @param {Function} handler\n   */\n  off(type, handler) {\n    this.get('eventBus').off(type, handler);\n  }\n\n  /**\n   * @internal\n   *\n   * @param {FormEditorOptions} options\n   * @param {Element} container\n   *\n   * @returns {Injector}\n   */\n  _createInjector(options, container) {\n    const {\n      modules = this._getModules(),\n      additionalModules = [],\n      renderer = {},\n      ...config\n    } = options;\n    const enrichedConfig = {\n      ...config,\n      renderer: {\n        ...renderer,\n        container\n      }\n    };\n    return (0,_bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.createInjector)([{\n      config: ['value', enrichedConfig]\n    }, {\n      formEditor: ['value', this]\n    }, CoreModule, ...modules, ...additionalModules]);\n  }\n\n  /**\n   * @internal\n   */\n  _emit(type, data) {\n    this.get('eventBus').fire(type, data);\n  }\n\n  /**\n   * @internal\n   */\n  _getState() {\n    return this._state;\n  }\n\n  /**\n   * @internal\n   */\n  _setState(state) {\n    this._state = {\n      ...this._state,\n      ...state\n    };\n    this._emit('changed', this._getState());\n  }\n\n  /**\n   * @internal\n   */\n  _getModules() {\n    return [ModelingModule, EditorActionsModule, FormEditorKeyboardModule, DraggingModule, SelectionModule, PaletteModule, EditorExpressionLanguageModule, _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.MarkdownRendererModule, PropertiesPanelModule, RenderInjectionModule, RepeatRenderModule];\n  }\n\n  /**\n   * @internal\n   */\n  _onEvent(type, priority, handler) {\n    this.get('eventBus').on(type, priority, handler);\n  }\n}\n\n// helpers //////////\n\nfunction exportSchema(schema, exporter, schemaVersion) {\n  const exportDetails = exporter ? {\n    exporter\n  } : {};\n  const cleanedSchema = (0,_bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_1__.clone)(schema, (name, value) => {\n    if (['_parent', '_path'].includes(name)) {\n      return undefined;\n    }\n    return value;\n  });\n  return {\n    ...cleanedSchema,\n    ...exportDetails,\n    schemaVersion\n  };\n}\n\n/**\n * @typedef { import('./types').CreateFormEditorOptions } CreateFormEditorOptions\n */\n\n/**\n * Create a form editor.\n *\n * @param {CreateFormEditorOptions} options\n *\n * @return {Promise<FormEditor>}\n */\nfunction createFormEditor(options) {\n  const {\n    schema,\n    ...rest\n  } = options;\n  const formEditor = new FormEditor(rest);\n  return formEditor.importSchema(schema).then(() => {\n    return formEditor;\n  });\n}\n\n\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL0BicG1uLWlvL2Zvcm0tanMtZWRpdG9yL2Rpc3QvaW5kZXguZXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQTBCO0FBQ3czQjtBQUMxMUI7QUFDMkg7QUFDL0k7QUFDbUM7QUFDdUM7QUFDbkI7QUFDcEQ7QUFDNEY7QUFDNUY7QUFDaUI7QUFDVjtBQUNOO0FBQ0U7QUFDaUI7QUFDbkI7QUFDZjs7QUFFekI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsb0NBQW9DO0FBQ2xEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLG1CQUFtQixLQUFLO0FBQ3ZELG9DQUFvQyxvQkFBb0I7QUFDeEQsaUVBQWlFO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0Qsb0JBQW9CO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsb0JBQW9CO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBLDRCQUE0Qiw0QkFBNEI7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsaUJBQWlCO0FBQzVCLFdBQVcsUUFBUTtBQUNuQixXQUFXLDBCQUEwQjtBQUNyQyxXQUFXLEtBQUs7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixvQkFBb0I7QUFDakQ7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLDRCQUE0QjtBQUN4RDtBQUNBO0FBQ0E7QUFDQSxjQUFjLGdCQUFnQjtBQUM5QjtBQUNBLFdBQVcsV0FBVztBQUN0QixXQUFXLFFBQVE7QUFDbkIsV0FBVyw0Q0FBNEM7QUFDdkQsV0FBVyxLQUFLO0FBQ2hCO0FBQ0E7QUFDQSxXQUFXLGlEQUFPO0FBQ2xCLE1BQU0sb0RBQVU7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLGtEQUFRO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsOENBQUk7O0FBRXpCO0FBQ0EsNEJBQTRCLFlBQVk7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsaUJBQWlCO0FBQzVCLFdBQVcsUUFBUTtBQUNuQixXQUFXLDBCQUEwQjtBQUNyQyxXQUFXLEtBQUs7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLGdCQUFnQjtBQUM5QjtBQUNBLFdBQVcsV0FBVztBQUN0QixXQUFXLFFBQVE7QUFDbkIsV0FBVyw0Q0FBNEM7QUFDdkQsV0FBVyxLQUFLO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBLE1BQU0sb0RBQVU7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLGtEQUFRO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDBCQUEwQixZQUFZO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGlCQUFpQjtBQUM1QixXQUFXLGdDQUFnQztBQUMzQztBQUNBO0FBQ0EsV0FBVyxpREFBTztBQUNsQjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0EsWUFBWSxPQUFPO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLGlCQUFpQixhQUFhO0FBQzlCO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQjtBQUNBLFlBQVksS0FBSztBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEI7QUFDQSxZQUFZLFNBQVM7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsa0JBQWtCO0FBQzdCO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixXQUFXLGtCQUFrQjtBQUM3QjtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLGtCQUFrQjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLGtCQUFrQjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUUsZ0RBQU0saUJBQWlCO0FBQ3pCOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsVUFBVTtBQUNyQixXQUFXLE9BQU87QUFDbEI7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxnQkFBZ0I7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsa0RBQVE7QUFDekIsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGdDQUFnQyxzRUFBbUI7QUFDbkQ7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckI7QUFDQSxjQUFjLE9BQU87QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsd0NBQXdDO0FBQ3RELGNBQWMsa0RBQWtEO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsYUFBYTtBQUN2Qzs7QUFFQTtBQUNBO0FBQ0EsMEJBQTBCLGFBQWE7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLGlEQUFpRCxxQkFBcUI7QUFDdEU7QUFDQTtBQUNBLHdCQUF3QixvQkFBb0I7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFLElBQUk7QUFDTjtBQUNBO0FBQ0E7QUFDQSxTQUFTLGlEQUFVLHFDQUFxQyxLQUFLO0FBQzdEO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQSxLQUFLLGVBQWU7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxVQUFVO0FBQ3JCO0FBQ0EsWUFBWSxVQUFVO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsWUFBWSxVQUFVO0FBQ3RCO0FBQ0EsWUFBWSxVQUFVO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLElBQUk7QUFDSixlQUFlLG9FQUFXO0FBQzFCLFNBQVMsd0RBQUk7QUFDYjtBQUNBLGVBQWUsdURBQUcsQ0FBQywwREFBTztBQUMxQjtBQUNBO0FBQ0EsS0FBSyxHQUFHLHVEQUFHO0FBQ1g7QUFDQTtBQUNBLGdCQUFnQix3REFBSTtBQUNwQjtBQUNBLG1CQUFtQix1REFBRztBQUN0QjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQSxzQkFBc0IsMkRBQU07O0FBRTVCLDJCQUEyQixxREFBYTtBQUN4QztBQUNBLENBQUM7O0FBRUQ7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxTQUFTO0FBQ3BCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSwwQkFBMEIscURBQWE7QUFDdkM7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBLElBQUksRUFBRSx3REFBVTtBQUNoQjtBQUNBOztBQUVBO0FBQ0EsY0FBYyxvREFBTTtBQUNwQixFQUFFLHVEQUFTO0FBQ1g7QUFDQTs7QUFFQTtBQUNBLFdBQVcsVUFBVTtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIscURBQU87QUFDMUI7QUFDQSxHQUFHOztBQUVIO0FBQ0EsRUFBRSx1REFBUztBQUNYO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0Esd0JBQXdCLDBFQUEwRSxnQkFBZ0Isc0JBQXNCLE9BQU8sc0JBQXNCLG9CQUFvQixnREFBZ0QsV0FBVztBQUNwUDtBQUNBLHNCQUFzQix3REFBbUI7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLDZDQUE2Qyx3REFBbUI7QUFDbkU7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0Esd0JBQXdCLDBFQUEwRSxnQkFBZ0Isc0JBQXNCLE9BQU8sc0JBQXNCLG9CQUFvQixnREFBZ0QsV0FBVztBQUNwUDtBQUNBLHNCQUFzQix3REFBbUI7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLHVCQUF1Qix3REFBbUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsZ0JBQWdCLHdEQUFtQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEdBQUcsc0NBQXNDLHdEQUFtQjtBQUM1RDtBQUNBO0FBQ0EsR0FBRyx5Q0FBeUMsd0RBQW1CO0FBQy9EO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQSx3QkFBd0IsMEVBQTBFLGdCQUFnQixzQkFBc0IsT0FBTyxzQkFBc0Isb0JBQW9CLGdEQUFnRCxXQUFXO0FBQ3BQO0FBQ0Esc0JBQXNCLHdEQUFtQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLDZDQUE2Qyx3REFBbUI7QUFDbkU7QUFDQSxHQUFHLGlCQUFpQix3REFBbUI7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQSx3QkFBd0IsMEVBQTBFLGdCQUFnQixzQkFBc0IsT0FBTyxzQkFBc0Isb0JBQW9CLGdEQUFnRCxXQUFXO0FBQ3BQO0FBQ0Esc0JBQXNCLHdEQUFtQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsNkNBQTZDLHdEQUFtQjtBQUNuRTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0Esd0JBQXdCLDBFQUEwRSxnQkFBZ0Isc0JBQXNCLE9BQU8sc0JBQXNCLG9CQUFvQixnREFBZ0QsV0FBVztBQUNwUDtBQUNBLHNCQUFzQix3REFBbUI7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLDZDQUE2Qyx3REFBbUI7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLG1DQUFtQyx3REFBbUI7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsbUNBQW1DLHdEQUFtQjtBQUN6RDtBQUNBO0FBQ0EsR0FBRyxlQUFlLHdEQUFtQjtBQUNyQztBQUNBO0FBQ0E7QUFDQSxHQUFHLHNDQUFzQyx3REFBbUI7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLHFDQUFxQyx3REFBbUI7QUFDM0Q7QUFDQTtBQUNBO0FBQ0EsR0FBRyxxQ0FBcUMsd0RBQW1CO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyxxQ0FBcUMsd0RBQW1CO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLHFDQUFxQyx3REFBbUI7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osZUFBZSxvRUFBVztBQUMxQjtBQUNBO0FBQ0E7QUFDQSxXQUFXLHVEQUFHO0FBQ2Q7QUFDQSxnQkFBZ0Isd0RBQUk7QUFDcEI7QUFDQSxtQkFBbUIsdURBQUc7QUFDdEI7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0EsV0FBVyx1REFBRztBQUNkO0FBQ0EsZ0JBQWdCLHdEQUFJO0FBQ3BCO0FBQ0EsbUJBQW1CLHVEQUFHO0FBQ3RCO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBLFdBQVcsdURBQUc7QUFDZDtBQUNBLGdCQUFnQix3REFBSTtBQUNwQjtBQUNBLG1CQUFtQix1REFBRztBQUN0QjtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0EsU0FBUyx1REFBRyxDQUFDLHlEQUFNO0FBQ25CO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxvQkFBb0IseURBQU07O0FBRTFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLGVBQWUsb0VBQVc7QUFDMUI7QUFDQTtBQUNBO0FBQ0EsV0FBVyx1REFBRztBQUNkO0FBQ0EsZ0JBQWdCLHdEQUFJO0FBQ3BCO0FBQ0EsbUJBQW1CLHVEQUFHO0FBQ3RCO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBLFdBQVcsdURBQUc7QUFDZDtBQUNBLGdCQUFnQix3REFBSTtBQUNwQjtBQUNBLG1CQUFtQix1REFBRztBQUN0QjtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQSxXQUFXLHVEQUFHO0FBQ2Q7QUFDQSxnQkFBZ0Isd0RBQUk7QUFDcEI7QUFDQSxtQkFBbUIsdURBQUc7QUFDdEI7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBLFNBQVMsdURBQUcsQ0FBQyx5REFBSTtBQUNqQjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0Esb0JBQW9CLHlEQUFJOztBQUV4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNILCtCQUErQixHQUFHO0FBQ2xDLFNBQVMsd0RBQUk7QUFDYjtBQUNBO0FBQ0EsS0FBSztBQUNMLGVBQWUsdURBQUcsQ0FBQywwREFBTztBQUMxQjtBQUNBO0FBQ0EsS0FBSyxHQUFHLHVEQUFHO0FBQ1g7QUFDQSxnQkFBZ0IsdURBQUc7QUFDbkI7QUFDQSxrQkFBa0Isd0RBQUk7QUFDdEIsaUJBQWlCLGlEQUFVO0FBQzNCO0FBQ0EscUJBQXFCLHVEQUFHO0FBQ3hCO0FBQ0Esc0JBQXNCLHVEQUFHO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxLQUFLLHVEQUFHO0FBQ3ZCO0FBQ0E7QUFDQSxlQUFlO0FBQ2YsYUFBYTtBQUNiLFdBQVcsR0FBRyx1REFBRztBQUNqQjtBQUNBLHNCQUFzQix1REFBRztBQUN6QjtBQUNBO0FBQ0E7QUFDQSxlQUFlLEtBQUssdURBQUc7QUFDdkI7QUFDQTtBQUNBLGVBQWU7QUFDZixhQUFhO0FBQ2IsV0FBVztBQUNYLFNBQVM7QUFDVCxPQUFPO0FBQ1AsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBLHFCQUFxQiwwREFBSzs7QUFFMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLGVBQWUsb0VBQVc7QUFDMUI7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLElBQUk7QUFDaEQ7QUFDQSxTQUFTLHVEQUFHO0FBQ1o7QUFDQSxjQUFjLHdEQUFJO0FBQ2xCO0FBQ0EsaUJBQWlCLHVEQUFHO0FBQ3BCO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBLEtBQUssb0VBQWU7QUFDcEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsSUFBSTtBQUNKLGVBQWUsb0VBQVc7QUFDMUIsU0FBUyx3REFBSTtBQUNiO0FBQ0EsZUFBZSx1REFBRyxDQUFDLDBEQUFPO0FBQzFCO0FBQ0E7QUFDQSxLQUFLLEdBQUcsdURBQUc7QUFDWDtBQUNBO0FBQ0EsZ0JBQWdCLHdEQUFJO0FBQ3BCO0FBQ0EsbUJBQW1CLHVEQUFHO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1AsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBLCtCQUErQixvRUFBZTs7QUFFOUM7O0FBRUEsK0JBQStCLCtEQUFVO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsK0NBQStDLFFBQVE7QUFDdkQsOEJBQThCLHNEQUFRO0FBQ3RDLDBDQUEwQyxzREFBUTtBQUNsRCx3QkFBd0IscURBQU87QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOERBQThELE9BQU8sMkJBQTJCLFFBQVE7QUFDeEc7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSwwREFBMEQsUUFBUTtBQUNsRTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUUsdURBQVM7QUFDWDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsUUFBUTtBQUMzQixtQkFBbUIsUUFBUTtBQUMzQixtQkFBbUIsUUFBUTtBQUMzQixxQkFBcUIsUUFBUTtBQUM3QjtBQUNBLHNCQUFzQixRQUFRO0FBQzlCLHNCQUFzQixRQUFRO0FBQzlCLHNCQUFzQixRQUFRO0FBQzlCLHVCQUF1QixRQUFRO0FBQy9CO0FBQ0EsR0FBRztBQUNILEVBQUUsdURBQVM7QUFDWDtBQUNBLHVCQUF1QixRQUFRO0FBQy9CO0FBQ0EsT0FBTztBQUNQO0FBQ0EseUJBQXlCLFFBQVE7QUFDakM7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEdBQUc7QUFDSCxlQUFlLHlEQUFXO0FBQzFCO0FBQ0EsR0FBRyxtQkFBbUIsdURBQUc7QUFDekI7QUFDQSxHQUFHLElBQUksdURBQUc7QUFDVjtBQUNBO0FBQ0EsR0FBRztBQUNILGlDQUFpQywyREFBWSxDQUFDLHVEQUFHO0FBQ2pEO0FBQ0EsR0FBRyxvQkFBb0IsdURBQUc7QUFDMUI7QUFDQSxHQUFHO0FBQ0g7O0FBRUEsb0JBQW9CLHFEQUFhO0FBQ2pDO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBLGNBQWMscURBQVE7QUFDdEIsc0JBQXNCLHlEQUFZO0FBQ2xDLEVBQUUsd0RBQVc7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUEsb0JBQW9CLHFEQUFhO0FBQ2pDO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsSUFBSSxFQUFFLHdEQUFVO0FBQ2hCLG1CQUFtQixxREFBTztBQUMxQixrQkFBa0IscURBQU87QUFDekIsaUJBQWlCLHFEQUFPO0FBQ3hCLDZCQUE2QixxREFBTztBQUNwQztBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixhQUFhLFFBQVE7QUFDckI7QUFDQSw2QkFBNkIsdURBQUcsQ0FBQyw0Q0FBUTtBQUN6QztBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsVUFBVTtBQUNyQixXQUFXLFVBQVU7QUFDckIsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5REFBeUQsSUFBSTtBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSw0QkFBNEIsc0RBQVE7QUFDcEM7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLHNCQUFzQixxREFBTztBQUM3QjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsc0JBQXNCLHFEQUFPO0FBQzdCO0FBQ0EsR0FBRztBQUNILFNBQVMsdURBQUc7QUFDWjtBQUNBLGNBQWMsdURBQUc7QUFDakI7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLFFBQVE7O0FBRVI7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxTQUFTLHdEQUFJO0FBQ2I7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLDRCQUE0QixFQUFFLE9BQU87QUFDMUQ7QUFDQSxzQkFBc0IsdURBQUc7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLFVBQVUsdURBQUc7QUFDbEI7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSxnQ0FBZ0Msb0RBQU07QUFDdEMsOENBQThDLHNEQUFRO0FBQ3RELHNDQUFzQyxzREFBUTs7QUFFOUMsYUFBYSw4Q0FBOEM7QUFDM0QsbUJBQW1CLG9EQUFNO0FBQ3pCO0FBQ0EseUJBQXlCLHlEQUFXO0FBQ3BDO0FBQ0EsR0FBRztBQUNILGlCQUFpQix5REFBVztBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSxFQUFFLHVEQUFTO0FBQ1g7QUFDQTtBQUNBLEdBQUc7QUFDSCxzQkFBc0IseURBQVc7QUFDakM7QUFDQSxHQUFHO0FBQ0gsc0JBQXNCLHlEQUFXO0FBQ2pDO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsU0FBUyx3REFBSTtBQUNiO0FBQ0EsZUFBZSx1REFBRztBQUNsQjtBQUNBO0FBQ0E7QUFDQSxLQUFLLEdBQUcsd0RBQUk7QUFDWjtBQUNBLGlCQUFpQix1REFBRztBQUNwQjtBQUNBLGtCQUFrQix1REFBRyxjQUFjO0FBQ25DLE9BQU8sR0FBRyx1REFBRztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU8saUJBQWlCLHVEQUFHO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLHVEQUFHLGFBQWE7QUFDbEMsT0FBTztBQUNQLEtBQUssR0FBRyx3REFBSTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLEtBQUssd0RBQUk7QUFDaEI7QUFDQTtBQUNBLG1CQUFtQix1REFBRztBQUN0QjtBQUNBO0FBQ0EsU0FBUyxHQUFHLHVEQUFHO0FBQ2Y7QUFDQTtBQUNBLG1CQUFtQix1REFBRztBQUN0QjtBQUNBO0FBQ0EsYUFBYTtBQUNiLFdBQVc7QUFDWCxTQUFTO0FBQ1QsT0FBTyw4QkFBOEIsdURBQUc7QUFDeEM7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLLEdBQUcsdURBQUc7QUFDWDtBQUNBLGdCQUFnQix1REFBRztBQUNuQjtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQSx5QkFBeUIsdURBQUc7QUFDNUI7QUFDQTtBQUNBLENBQUM7O0FBRUQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxZQUFZO0FBQ3ZCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsYUFBYSx1REFBRztBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLGFBQWEsNEVBQW1CO0FBQ2hDLE9BQU87QUFDUDtBQUNBLElBQUk7QUFDSixtQkFBbUIsb0VBQVc7QUFDOUI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixxREFBTztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILFNBQVMsdURBQUcsQ0FBQyw0Q0FBUTtBQUNyQjtBQUNBO0FBQ0EsS0FBSyxZQUFZLHVEQUFHO0FBQ3BCO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0Esb0JBQW9CLGdEQUFPO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZ0JBQWdCLHVDQUF1QztBQUN2RDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsMkRBQTJEO0FBQ3pFLGNBQWMsaURBQWlEO0FBQy9ELGNBQWMsK0RBQStEO0FBQzdFLGNBQWMseUNBQXlDO0FBQ3ZELGNBQWMsMENBQTBDO0FBQ3hELGNBQWMsaURBQWlEO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLFVBQVU7QUFDeEIsY0FBYyxNQUFNO0FBQ3BCLGNBQWMsY0FBYztBQUM1QixnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDOztBQUV2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0Msd0VBQWU7QUFDL0MsYUFBYTtBQUNiLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxnQkFBZ0IseUVBQXlFO0FBQ3pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsNERBQU87O0FBRW5DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixTQUFTLHdEQUFJO0FBQ2IsV0FBVyxpREFBVTtBQUNyQixlQUFlLHVEQUFHO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxHQUFHLHVEQUFHO0FBQ1g7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osY0FBYyxvREFBTTtBQUNwQjtBQUNBOztBQUVBO0FBQ0E7QUFDQSxrQkFBa0Isb0RBQU07QUFDeEI7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsV0FBVztBQUN6RDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLHVEQUFHO0FBQ1o7QUFDQSxXQUFXLGlEQUFVO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxnREFBTztBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyw4Q0FBSztBQUNkO0FBQ0E7QUFDQSxFQUFFLGdEQUFPO0FBQ1Q7QUFDQTtBQUNBLEVBQUUsZ0RBQU87QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsdURBQUc7QUFDWjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxTQUFTLHVEQUFHO0FBQ1o7QUFDQSxjQUFjLHVEQUFHO0FBQ2pCO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQSxTQUFTLHVEQUFHO0FBQ1o7QUFDQSxjQUFjLHdEQUFJO0FBQ2xCO0FBQ0EsaUJBQWlCLHVEQUFHLGlCQUFpQixHQUFHLHVEQUFHO0FBQzNDO0FBQ0EsT0FBTyxHQUFHLHVEQUFHO0FBQ2I7QUFDQSxPQUFPLEdBQUcsdURBQUc7QUFDYjtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLFdBQVcsdURBQUcsZUFBZTtBQUM3QjtBQUNBO0FBQ0EsV0FBVyx1REFBRyxjQUFjO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLEVBQUUsd0RBQVUsQ0FBQyxzRUFBaUI7QUFDbEM7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUosYUFBYSw0Q0FBNEM7QUFDekQsY0FBYyxvREFBTTtBQUNwQixnQ0FBZ0Msc0RBQVE7QUFDeEMsRUFBRSx1REFBUztBQUNYO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsOEJBQThCLDJFQUFrQjtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUUsNkRBQWU7QUFDakI7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILGtCQUFrQix5REFBVztBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxzQkFBc0IscURBQU87QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsd0RBQUk7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLGVBQWUsdURBQUc7QUFDbEI7QUFDQSxLQUFLLEdBQUcsdURBQUc7QUFDWCwwRUFBMEUsdURBQUc7QUFDN0U7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsdURBQUcsY0FBYztBQUNuQyxPQUFPO0FBQ1AsS0FBSyxtQkFBbUIsdURBQUc7QUFDM0I7QUFDQTtBQUNBLEtBQUssR0FBRyx1REFBRztBQUNYO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyx1REFBRztBQUNaLGdDQUFnQyxrQkFBa0IsY0FBYywwQ0FBMEMsZUFBZSx5QkFBeUIscUJBQXFCLG9CQUFvQixjQUFjLFlBQVksaUJBQWlCLFdBQVc7QUFDalA7QUFDQSxpQ0FBaUM7QUFDakMsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLHVEQUFHO0FBQ1o7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLHdEQUFJO0FBQ2IsV0FBVyxpREFBVTtBQUNyQixlQUFlLHVEQUFHO0FBQ2xCO0FBQ0EsZ0JBQWdCLHVEQUFHLGlCQUFpQjtBQUNwQyxLQUFLLEdBQUcsdURBQUc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLHVEQUFHO0FBQ1o7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsSUFBSTtBQUNKLDJCQUEyQixvREFBTTtBQUNqQyw2QkFBNkIsb0RBQU07QUFDbkMsMkJBQTJCLHNEQUFRO0FBQ25DLDhDQUE4QyxzREFBUTtBQUN0RCxFQUFFLHVEQUFTO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRSx1REFBUztBQUNYO0FBQ0EsR0FBRztBQUNILDRCQUE0QixzREFBUTtBQUNwQztBQUNBO0FBQ0E7QUFDQSxFQUFFLHVEQUFTO0FBQ1g7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsRUFBRSx1REFBUztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSCw0QkFBNEIscURBQU87QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILHNCQUFzQixxREFBTztBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEIsd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxHQUFHO0FBQ0gsbUJBQW1CLHlEQUFXLFNBQVM7QUFDdkMsa0JBQWtCLHlEQUFXLFNBQVM7O0FBRXRDO0FBQ0E7QUFDQSxFQUFFLHVEQUFTO0FBQ1g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILFNBQVMsdURBQUc7QUFDWjtBQUNBLGNBQWMsd0RBQUk7QUFDbEIsaUJBQWlCLHdEQUFJO0FBQ3JCO0FBQ0EsbUJBQW1CLHVEQUFHO0FBQ3RCO0FBQ0E7QUFDQSxvQkFBb0IsdURBQUcsWUFBWTtBQUNuQyxTQUFTLEdBQUcsdURBQUc7QUFDZjtBQUNBO0FBQ0Esb0JBQW9CLHVEQUFHLENBQUMsZ0VBQVc7QUFDbkM7QUFDQSxzQkFBc0IsdURBQUcsQ0FBQyxzRUFBaUI7QUFDM0M7QUFDQTtBQUNBLHdCQUF3Qix1REFBRyxDQUFDLGtFQUFhO0FBQ3pDO0FBQ0E7QUFDQSxlQUFlO0FBQ2YsYUFBYTtBQUNiLFdBQVc7QUFDWCxTQUFTLEdBQUcsdURBQUcsa0JBQWtCO0FBQ2pDLE9BQU8sZ0NBQWdDLHVEQUFHO0FBQzFDO0FBQ0E7QUFDQSxPQUFPLEdBQUcsdURBQUc7QUFDYjtBQUNBO0FBQ0Esa0JBQWtCLHVEQUFHLHdCQUF3QjtBQUM3QyxPQUFPO0FBQ1AsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxFQUFFLHdEQUFVO0FBQ2hCO0FBQ0EsRUFBRSx1REFBUztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxRQUFRLDhDQUFNLENBQUMsdURBQUc7QUFDbEI7QUFDQTtBQUNBLFNBQVM7QUFDVCxRQUFRO0FBQ1I7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixZQUFZO0FBQy9COztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7O0FBRUw7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBLGdDQUFnQyxzREFBUTtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBLGFBQWEsdURBQUc7QUFDaEIscURBQXFELG9DQUFvQztBQUN6RixrQkFBa0IsdURBQUc7QUFDckI7QUFDQSxvQkFBb0IsdURBQUcsaUJBQWlCO0FBQ3hDLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBLE1BQU0sOENBQU0sQ0FBQyx1REFBRyxRQUFRO0FBQ3hCLEtBQUs7QUFDTDtBQUNBLE1BQU0sOENBQU07QUFDWixLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsNkRBQVE7QUFDN0I7QUFDQSx5QkFBeUIsaUVBQVk7QUFDckMseUJBQXlCLGlFQUFZO0FBQ3JDO0FBQ0EseUJBQXlCLGlFQUFZO0FBQ3JDOztBQUVBO0FBQ0EsYUFBYSx5QkFBeUI7QUFDdEM7QUFDQSxhQUFhLHVDQUF1QztBQUNwRDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFVBQVU7QUFDckIsV0FBVyxVQUFVO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QztBQUN2QztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsVUFBVTtBQUNyQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsaURBQU87QUFDcEM7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFFBQVEsU0FBUyxpREFBTztBQUN4QjtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQjtBQUNBLFlBQVksU0FBUztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QztBQUM1QztBQUNB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Q3RCLGFBQWEsS0FBSztBQUNsQjtBQUNBO0FBQ0EsUUFBUSxvREFBVSxZQUFZLGtEQUFRO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsY0FBYyxpREFBaUQ7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUCxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLE9BQU87QUFDUCxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxrREFBUTtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLFVBQVU7QUFDeEIsY0FBYyxRQUFRO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxLQUFLO0FBQ2xCLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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SUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLFdBQVcsNkNBQUc7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxXQUFXLDZDQUFHO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLDZDQUFHO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIseURBQVc7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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Q0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxjQUFjO0FBQ2Q7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLG1CQUFtQiw2Q0FBRyx3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O0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLHdCQUF3Qiw4REFBSztBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxjQUFjLDRDQUE0QztBQUMxRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLHlCQUF5QjtBQUNwQztBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFdUw7QUFDdkwiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jYW11bmRhLW1vZGVsZXItY2xpZW50Ly4uL25vZGVfbW9kdWxlcy9AYnBtbi1pby9mb3JtLWpzLWVkaXRvci9kaXN0L2luZGV4LmVzLmpzP2ZhYmYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSWRzIH0gZnJvbSAnaWRzJztcbmltcG9ydCB7IEZvcm1GaWVsZFJlZ2lzdHJ5IGFzIEZvcm1GaWVsZFJlZ2lzdHJ5JDEsIGljb25zQnlUeXBlLCBMYWJlbCBhcyBMYWJlbCQzLCBJRnJhbWUsIFRleHQgYXMgVGV4dCQxLCBIdG1sLCBUYWJsZSwgRXhwcmVzc2lvbkZpZWxkLCBEb2N1bWVudFByZXZpZXcsIEZvcm1GaWVsZHMsIHNhbml0aXplSW1hZ2VTb3VyY2UsIGdldEFuY2VzdHJ5TGlzdCwgRm9ybUNvbnRleHQsIEZvcm1SZW5kZXJDb250ZXh0LCBGb3JtQ29tcG9uZW50LCBnZXRTY3JvbGxDb250YWluZXIsIEZpZWxkRmFjdG9yeSwgRm9ybUxheW91dGVyLCBQYXRoUmVnaXN0cnksIEltcG9ydGVyLCBGZWVsRXhwcmVzc2lvbkxhbmd1YWdlLCBPUFRJT05TX1NPVVJDRVMsIE9QVElPTlNfU09VUkNFU19QQVRIUywgY2xvbmUsIHJ1blJlY3Vyc2l2ZWx5LCBnZXRTY2hlbWFWYXJpYWJsZXMsIERBVEVUSU1FX1NVQlRZUEVTLCBEQVRFX0xBQkVMX1BBVEgsIFRJTUVfTEFCRUxfUEFUSCwgVEVYVF9WSUVXX0RFRkFVTFRfVEVYVCwgVElNRV9VU0UyNEhfUEFUSCwgREFURVRJTUVfU1VCVFlQRV9QQVRILCBEQVRFVElNRV9TVUJUWVBFU19MQUJFTFMsIFRJTUVfSU5URVJWQUxfUEFUSCwgVElNRV9TRVJJQUxJU0lOR19GT1JNQVRfUEFUSCwgREFURV9ESVNBTExPV19QQVNUX1BBVEgsIFRJTUVfU0VSSUFMSVNJTkdfRk9STUFUUywgVElNRV9TRVJJQUxJU0lOR0ZPUk1BVF9MQUJFTFMsIGdldE9wdGlvbnNTb3VyY2UsIE9QVElPTlNfU09VUkNFU19ERUZBVUxUUywgT1BUSU9OU19TT1VSQ0VTX0xBQkVMUywgU0VDVVJJVFlfQVRUUklCVVRFU19ERUZJTklUSU9OUywgY3JlYXRlRm9ybUNvbnRhaW5lciwgY3JlYXRlSW5qZWN0b3IsIE1hcmtkb3duUmVuZGVyZXJNb2R1bGUsIHNjaGVtYVZlcnNpb24gfSBmcm9tICdAYnBtbi1pby9mb3JtLWpzLXZpZXdlcic7XG5leHBvcnQgeyBzY2hlbWFWZXJzaW9uIH0gZnJvbSAnQGJwbW4taW8vZm9ybS1qcy12aWV3ZXInO1xuaW1wb3J0IHsgaXNBcnJheSwgaXNGdW5jdGlvbiwgaXNOdW1iZXIsIGJpbmQsIGFzc2lnbiwgZGVib3VuY2UsIGZvckVhY2gsIGlzU3RyaW5nLCB1bmlxdWVCeSwgaXNPYmplY3QsIGdldCwgaXNEZWZpbmVkLCBzZXQgYXMgc2V0JDEsIHJlZHVjZSwgaXNOaWwsIHdpdGhvdXQsIGhhcyB9IGZyb20gJ21pbi1kYXNoJztcbmltcG9ydCBjbGFzc25hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IHsganN4cywganN4LCBGcmFnbWVudCBhcyBGcmFnbWVudCQxIH0gZnJvbSAncHJlYWN0L2pzeC1ydW50aW1lJztcbmltcG9ydCB7IHVzZUNvbnRleHQsIHVzZVJlZiwgdXNlRWZmZWN0LCB1c2VNZW1vLCB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2ssIHVzZUxheW91dEVmZmVjdCB9IGZyb20gJ3ByZWFjdC9ob29rcyc7XG5pbXBvcnQgeyBjcmVhdGVDb250ZXh0LCBGcmFnbWVudCwgcmVuZGVyLCBjcmVhdGVFbGVtZW50IGFzIGNyZWF0ZUVsZW1lbnQkMSB9IGZyb20gJ3ByZWFjdCc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdwcmVhY3QvY29tcGF0JztcbmltcG9ydCB7IGNyZWF0ZVBvcnRhbCwgdXNlUmVmIGFzIHVzZVJlZiQxLCB1c2VDb250ZXh0IGFzIHVzZUNvbnRleHQkMSwgdXNlRWZmZWN0IGFzIHVzZUVmZmVjdCQxLCBmb3J3YXJkUmVmIH0gZnJvbSAncHJlYWN0L2NvbXBhdCc7XG5pbXBvcnQgZHJhZ3VsYSBmcm9tICdAYnBtbi1pby9kcmFnZ2xlJztcbmltcG9ydCB7IGNsYXNzZXMsIHF1ZXJ5LCBldmVudCwgZG9taWZ5IH0gZnJvbSAnbWluLWRvbSc7XG5pbXBvcnQgeyBhcnJheU1vdmVNdXRhYmxlIH0gZnJvbSAnYXJyYXktbW92ZSc7XG5pbXBvcnQgeyBGZWVsZXJzRWRpdG9yIH0gZnJvbSAnZmVlbGVycyc7XG5pbXBvcnQgRWRpdG9yIGZyb20gJ0BicG1uLWlvL2ZlZWwtZWRpdG9yJztcbmltcG9ydCB7IEVkaXRvclZpZXcsIGxpbmVOdW1iZXJzIH0gZnJvbSAnQGNvZGVtaXJyb3Ivdmlldyc7XG5pbXBvcnQgKiBhcyBmb2N1c1RyYXAgZnJvbSAnZm9jdXMtdHJhcCc7XG5pbXBvcnQgQmlnIGZyb20gJ2JpZy5qcyc7XG5cbnZhciBGTl9SRUYgPSAnX19mbic7XG52YXIgREVGQVVMVF9QUklPUklUWSQzID0gMTAwMDtcbnZhciBzbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZTtcblxuLyoqXG4gKiBAdHlwZWRlZiB7IHtcbiAqICAgc3RvcFByb3BhZ2F0aW9uKCk6IHZvaWQ7XG4gKiAgIHByZXZlbnREZWZhdWx0KCk6IHZvaWQ7XG4gKiAgIGNhbmNlbEJ1YmJsZTogYm9vbGVhbjtcbiAqICAgZGVmYXVsdFByZXZlbnRlZDogYm9vbGVhbjtcbiAqICAgcmV0dXJuVmFsdWU6IGFueTtcbiAqIH0gfSBFdmVudFxuICovXG5cbi8qKlxuICogQHRlbXBsYXRlIEVcbiAqXG4gKiBAdHlwZWRlZiB7IChldmVudDogRSAmIEV2ZW50LCAuLi5hbnkpID0+IGFueSB9IEV2ZW50QnVzRXZlbnRDYWxsYmFja1xuICovXG5cbi8qKlxuICogQHR5cGVkZWYgeyB7XG4gKiAgcHJpb3JpdHk6IG51bWJlcjtcbiAqICBuZXh0OiBFdmVudEJ1c0xpc3RlbmVyIHwgbnVsbDtcbiAqICBjYWxsYmFjazogRXZlbnRCdXNFdmVudENhbGxiYWNrPGFueT47XG4gKiB9IH0gRXZlbnRCdXNMaXN0ZW5lclxuICovXG5cbi8qKlxuICogQSBnZW5lcmFsIHB1cnBvc2UgZXZlbnQgYnVzLlxuICpcbiAqIFRoaXMgY29tcG9uZW50IGlzIHVzZWQgdG8gY29tbXVuaWNhdGUgYWNyb3NzIGEgZGlhZ3JhbSBpbnN0YW5jZS5cbiAqIE90aGVyIHBhcnRzIG9mIGEgZGlhZ3JhbSBjYW4gdXNlIGl0IHRvIGxpc3RlbiB0byBhbmQgYnJvYWRjYXN0IGV2ZW50cy5cbiAqXG4gKlxuICogIyMgUmVnaXN0ZXJpbmcgZm9yIEV2ZW50c1xuICpcbiAqIFRoZSBldmVudCBidXMgcHJvdmlkZXMgdGhlIHtAbGluayBFdmVudEJ1cyNvbn0gYW5kIHtAbGluayBFdmVudEJ1cyNvbmNlfVxuICogbWV0aG9kcyB0byByZWdpc3RlciBmb3IgZXZlbnRzLiB7QGxpbmsgRXZlbnRCdXMjb2ZmfSBjYW4gYmUgdXNlZCB0b1xuICogcmVtb3ZlIGV2ZW50IHJlZ2lzdHJhdGlvbnMuIExpc3RlbmVycyByZWNlaXZlIGFuIGluc3RhbmNlIG9mIHtAbGluayBFdmVudH1cbiAqIGFzIHRoZSBmaXJzdCBhcmd1bWVudC4gSXQgYWxsb3dzIHRoZW0gdG8gaG9vayBpbnRvIHRoZSBldmVudCBleGVjdXRpb24uXG4gKlxuICogYGBgamF2YXNjcmlwdFxuICpcbiAqIC8vIGxpc3RlbiBmb3IgZXZlbnRcbiAqIGV2ZW50QnVzLm9uKCdmb28nLCBmdW5jdGlvbihldmVudCkge1xuICpcbiAqICAgLy8gYWNjZXNzIGV2ZW50IHR5cGVcbiAqICAgZXZlbnQudHlwZTsgLy8gJ2ZvbydcbiAqXG4gKiAgIC8vIHN0b3AgcHJvcGFnYXRpb24gdG8gb3RoZXIgbGlzdGVuZXJzXG4gKiAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICpcbiAqICAgLy8gcHJldmVudCBldmVudCBkZWZhdWx0XG4gKiAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gKiB9KTtcbiAqXG4gKiAvLyBsaXN0ZW4gZm9yIGV2ZW50IHdpdGggY3VzdG9tIHBheWxvYWRcbiAqIGV2ZW50QnVzLm9uKCdiYXInLCBmdW5jdGlvbihldmVudCwgcGF5bG9hZCkge1xuICogICBjb25zb2xlLmxvZyhwYXlsb2FkKTtcbiAqIH0pO1xuICpcbiAqIC8vIGxpc3RlbiBmb3IgZXZlbnQgcmV0dXJuaW5nIHZhbHVlXG4gKiBldmVudEJ1cy5vbignZm9vYmFyJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAqXG4gKiAgIC8vIHN0b3AgZXZlbnQgcHJvcGFnYXRpb24gKyBwcmV2ZW50IGRlZmF1bHRcbiAqICAgcmV0dXJuIGZhbHNlO1xuICpcbiAqICAgLy8gc3RvcCBldmVudCBwcm9wYWdhdGlvbiArIHJldHVybiBjdXN0b20gcmVzdWx0XG4gKiAgIHJldHVybiB7XG4gKiAgICAgY29tcGxleDogJ2xpc3RlbmluZyByZXN1bHQnXG4gKiAgIH07XG4gKiB9KTtcbiAqXG4gKlxuICogLy8gbGlzdGVuIHdpdGggY3VzdG9tIHByaW9yaXR5IChkZWZhdWx0PTEwMDAsIGhpZ2hlciBpcyBiZXR0ZXIpXG4gKiBldmVudEJ1cy5vbigncHJpb3JpdHlmb28nLCAxNTAwLCBmdW5jdGlvbihldmVudCkge1xuICogICBjb25zb2xlLmxvZygnaW52b2tlZCBmaXJzdCEnKTtcbiAqIH0pO1xuICpcbiAqXG4gKiAvLyBsaXN0ZW4gZm9yIGV2ZW50IGFuZCBwYXNzIHRoZSBjb250ZXh0IChgdGhpc2ApXG4gKiBldmVudEJ1cy5vbignZm9vYmFyJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAqICAgdGhpcy5mb28oKTtcbiAqIH0sIHRoaXMpO1xuICogYGBgXG4gKlxuICpcbiAqICMjIEVtaXR0aW5nIEV2ZW50c1xuICpcbiAqIEV2ZW50cyBjYW4gYmUgZW1pdHRlZCB2aWEgdGhlIGV2ZW50IGJ1cyB1c2luZyB7QGxpbmsgRXZlbnRCdXMjZmlyZX0uXG4gKlxuICogYGBgamF2YXNjcmlwdFxuICpcbiAqIC8vIGZhbHNlIGluZGljYXRlcyB0aGF0IHRoZSBkZWZhdWx0IGFjdGlvblxuICogLy8gd2FzIHByZXZlbnRlZCBieSBsaXN0ZW5lcnNcbiAqIGlmIChldmVudEJ1cy5maXJlKCdmb28nKSA9PT0gZmFsc2UpIHtcbiAqICAgY29uc29sZS5sb2coJ2RlZmF1bHQgaGFzIGJlZW4gcHJldmVudGVkIScpO1xuICogfTtcbiAqXG4gKlxuICogLy8gY3VzdG9tIGFyZ3MgKyByZXR1cm4gdmFsdWUgbGlzdGVuZXJcbiAqIGV2ZW50QnVzLm9uKCdzdW0nLCBmdW5jdGlvbihldmVudCwgYSwgYikge1xuICogICByZXR1cm4gYSArIGI7XG4gKiB9KTtcbiAqXG4gKiAvLyB5b3UgY2FuIHBhc3MgY3VzdG9tIGFyZ3VtZW50cyArIHJldHJpZXZlIHJlc3VsdCB2YWx1ZXMuXG4gKiB2YXIgc3VtID0gZXZlbnRCdXMuZmlyZSgnc3VtJywgMSwgMik7XG4gKiBjb25zb2xlLmxvZyhzdW0pOyAvLyAzXG4gKiBgYGBcbiAqXG4gKiBAdGVtcGxhdGUgW0V2ZW50TWFwPW51bGxdXG4gKi9cbmZ1bmN0aW9uIEV2ZW50QnVzKCkge1xuICAvKipcbiAgICogQHR5cGUgeyBSZWNvcmQ8c3RyaW5nLCBFdmVudEJ1c0xpc3RlbmVyPiB9XG4gICAqL1xuICB0aGlzLl9saXN0ZW5lcnMgPSB7fTtcblxuICAvLyBjbGVhbnVwIG9uIGRlc3Ryb3kgb24gbG93ZXN0IHByaW9yaXR5IHRvIGFsbG93XG4gIC8vIG1lc3NhZ2UgcGFzc2luZyB1bnRpbCB0aGUgYml0dGVyIGVuZFxuICB0aGlzLm9uKCdkaWFncmFtLmRlc3Ryb3knLCAxLCB0aGlzLl9kZXN0cm95LCB0aGlzKTtcbn1cblxuLyoqXG4gKiBAb3ZlcmxvcmRcbiAqXG4gKiBSZWdpc3RlciBhbiBldmVudCBsaXN0ZW5lciBmb3IgZXZlbnRzIHdpdGggdGhlIGdpdmVuIG5hbWUuXG4gKlxuICogVGhlIGNhbGxiYWNrIHdpbGwgYmUgaW52b2tlZCB3aXRoIGBldmVudCwgLi4uYWRkaXRpb25hbEFyZ3VtZW50c2BcbiAqIHRoYXQgaGF2ZSBiZWVuIHBhc3NlZCB0byB7QGxpbmsgRXZlbnRCdXMjZmlyZX0uXG4gKlxuICogUmV0dXJuaW5nIGZhbHNlIGZyb20gYSBsaXN0ZW5lciB3aWxsIHByZXZlbnQgdGhlIGV2ZW50cyBkZWZhdWx0IGFjdGlvblxuICogKGlmIGFueSBpcyBzcGVjaWZpZWQpLiBUbyBzdG9wIGFuIGV2ZW50IGZyb20gYmVpbmcgcHJvY2Vzc2VkIGZ1cnRoZXIgaW5cbiAqIG90aGVyIGxpc3RlbmVycyBleGVjdXRlIHtAbGluayBFdmVudCNzdG9wUHJvcGFnYXRpb259LlxuICpcbiAqIFJldHVybmluZyBhbnl0aGluZyBidXQgYHVuZGVmaW5lZGAgZnJvbSBhIGxpc3RlbmVyIHdpbGwgc3RvcCB0aGUgbGlzdGVuZXIgcHJvcGFnYXRpb24uXG4gKlxuICogQHRlbXBsYXRlIFRcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ3xzdHJpbmdbXX0gZXZlbnRzIHRvIHN1YnNjcmliZSB0b1xuICogQHBhcmFtIHtudW1iZXJ9IFtwcmlvcml0eT0xMDAwXSBsaXN0ZW4gcHJpb3JpdHlcbiAqIEBwYXJhbSB7RXZlbnRCdXNFdmVudENhbGxiYWNrPFQ+fSBjYWxsYmFja1xuICogQHBhcmFtIHthbnl9IFt0aGF0XSBjYWxsYmFjayBjb250ZXh0XG4gKi9cbi8qKlxuICogUmVnaXN0ZXIgYW4gZXZlbnQgbGlzdGVuZXIgZm9yIGV2ZW50cyB3aXRoIHRoZSBnaXZlbiBuYW1lLlxuICpcbiAqIFRoZSBjYWxsYmFjayB3aWxsIGJlIGludm9rZWQgd2l0aCBgZXZlbnQsIC4uLmFkZGl0aW9uYWxBcmd1bWVudHNgXG4gKiB0aGF0IGhhdmUgYmVlbiBwYXNzZWQgdG8ge0BsaW5rIEV2ZW50QnVzI2ZpcmV9LlxuICpcbiAqIFJldHVybmluZyBmYWxzZSBmcm9tIGEgbGlzdGVuZXIgd2lsbCBwcmV2ZW50IHRoZSBldmVudHMgZGVmYXVsdCBhY3Rpb25cbiAqIChpZiBhbnkgaXMgc3BlY2lmaWVkKS4gVG8gc3RvcCBhbiBldmVudCBmcm9tIGJlaW5nIHByb2Nlc3NlZCBmdXJ0aGVyIGluXG4gKiBvdGhlciBsaXN0ZW5lcnMgZXhlY3V0ZSB7QGxpbmsgRXZlbnQjc3RvcFByb3BhZ2F0aW9ufS5cbiAqXG4gKiBSZXR1cm5pbmcgYW55dGhpbmcgYnV0IGB1bmRlZmluZWRgIGZyb20gYSBsaXN0ZW5lciB3aWxsIHN0b3AgdGhlIGxpc3RlbmVyIHByb3BhZ2F0aW9uLlxuICpcbiAqIEB0ZW1wbGF0ZSB7a2V5b2YgRXZlbnRNYXB9IEV2ZW50TmFtZVxuICpcbiAqIEBwYXJhbSB7RXZlbnROYW1lfSBldmVudHMgdG8gc3Vic2NyaWJlIHRvXG4gKiBAcGFyYW0ge251bWJlcn0gW3ByaW9yaXR5PTEwMDBdIGxpc3RlbiBwcmlvcml0eVxuICogQHBhcmFtIHtFdmVudEJ1c0V2ZW50Q2FsbGJhY2s8RXZlbnRNYXBbRXZlbnROYW1lXT59IGNhbGxiYWNrXG4gKiBAcGFyYW0ge2FueX0gW3RoYXRdIGNhbGxiYWNrIGNvbnRleHRcbiAqL1xuRXZlbnRCdXMucHJvdG90eXBlLm9uID0gZnVuY3Rpb24gKGV2ZW50cywgcHJpb3JpdHksIGNhbGxiYWNrLCB0aGF0KSB7XG4gIGV2ZW50cyA9IGlzQXJyYXkoZXZlbnRzKSA/IGV2ZW50cyA6IFtldmVudHNdO1xuICBpZiAoaXNGdW5jdGlvbihwcmlvcml0eSkpIHtcbiAgICB0aGF0ID0gY2FsbGJhY2s7XG4gICAgY2FsbGJhY2sgPSBwcmlvcml0eTtcbiAgICBwcmlvcml0eSA9IERFRkFVTFRfUFJJT1JJVFkkMztcbiAgfVxuICBpZiAoIWlzTnVtYmVyKHByaW9yaXR5KSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJpb3JpdHkgbXVzdCBiZSBhIG51bWJlcicpO1xuICB9XG4gIHZhciBhY3R1YWxDYWxsYmFjayA9IGNhbGxiYWNrO1xuICBpZiAodGhhdCkge1xuICAgIGFjdHVhbENhbGxiYWNrID0gYmluZChjYWxsYmFjaywgdGhhdCk7XG5cbiAgICAvLyBtYWtlIHN1cmUgd2UgcmVtZW1iZXIgYW5kIGFyZSBhYmxlIHRvIHJlbW92ZVxuICAgIC8vIGJvdW5kIGNhbGxiYWNrcyB2aWEge0BsaW5rICNvZmZ9IHVzaW5nIHRoZSBvcmlnaW5hbFxuICAgIC8vIGNhbGxiYWNrXG4gICAgYWN0dWFsQ2FsbGJhY2tbRk5fUkVGXSA9IGNhbGxiYWNrW0ZOX1JFRl0gfHwgY2FsbGJhY2s7XG4gIH1cbiAgdmFyIHNlbGYgPSB0aGlzO1xuICBldmVudHMuZm9yRWFjaChmdW5jdGlvbiAoZSkge1xuICAgIHNlbGYuX2FkZExpc3RlbmVyKGUsIHtcbiAgICAgIHByaW9yaXR5OiBwcmlvcml0eSxcbiAgICAgIGNhbGxiYWNrOiBhY3R1YWxDYWxsYmFjayxcbiAgICAgIG5leHQ6IG51bGxcbiAgICB9KTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIEBvdmVybG9yZFxuICpcbiAqIFJlZ2lzdGVyIGFuIGV2ZW50IGxpc3RlbmVyIHRoYXQgaXMgY2FsbGVkIG9ubHkgb25jZS5cbiAqXG4gKiBAdGVtcGxhdGUgVFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfHN0cmluZ1tdfSBldmVudHMgdG8gc3Vic2NyaWJlIHRvXG4gKiBAcGFyYW0ge251bWJlcn0gW3ByaW9yaXR5PTEwMDBdIHRoZSBsaXN0ZW4gcHJpb3JpdHlcbiAqIEBwYXJhbSB7RXZlbnRCdXNFdmVudENhbGxiYWNrPFQ+fSBjYWxsYmFja1xuICogQHBhcmFtIHthbnl9IFt0aGF0XSBjYWxsYmFjayBjb250ZXh0XG4gKi9cbi8qKlxuICogUmVnaXN0ZXIgYW4gZXZlbnQgbGlzdGVuZXIgdGhhdCBpcyBjYWxsZWQgb25seSBvbmNlLlxuICpcbiAqIEB0ZW1wbGF0ZSB7a2V5b2YgRXZlbnRNYXB9IEV2ZW50TmFtZVxuICpcbiAqIEBwYXJhbSB7RXZlbnROYW1lfSBldmVudHMgdG8gc3Vic2NyaWJlIHRvXG4gKiBAcGFyYW0ge251bWJlcn0gW3ByaW9yaXR5PTEwMDBdIGxpc3RlbiBwcmlvcml0eVxuICogQHBhcmFtIHtFdmVudEJ1c0V2ZW50Q2FsbGJhY2s8RXZlbnRNYXBbRXZlbnROYW1lXT59IGNhbGxiYWNrXG4gKiBAcGFyYW0ge2FueX0gW3RoYXRdIGNhbGxiYWNrIGNvbnRleHRcbiAqL1xuRXZlbnRCdXMucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbiAoZXZlbnRzLCBwcmlvcml0eSwgY2FsbGJhY2ssIHRoYXQpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICBpZiAoaXNGdW5jdGlvbihwcmlvcml0eSkpIHtcbiAgICB0aGF0ID0gY2FsbGJhY2s7XG4gICAgY2FsbGJhY2sgPSBwcmlvcml0eTtcbiAgICBwcmlvcml0eSA9IERFRkFVTFRfUFJJT1JJVFkkMztcbiAgfVxuICBpZiAoIWlzTnVtYmVyKHByaW9yaXR5KSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJpb3JpdHkgbXVzdCBiZSBhIG51bWJlcicpO1xuICB9XG4gIGZ1bmN0aW9uIHdyYXBwZWRDYWxsYmFjaygpIHtcbiAgICB3cmFwcGVkQ2FsbGJhY2suX19pc1RvbWIgPSB0cnVlO1xuICAgIHZhciByZXN1bHQgPSBjYWxsYmFjay5hcHBseSh0aGF0LCBhcmd1bWVudHMpO1xuICAgIHNlbGYub2ZmKGV2ZW50cywgd3JhcHBlZENhbGxiYWNrKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLy8gbWFrZSBzdXJlIHdlIHJlbWVtYmVyIGFuZCBhcmUgYWJsZSB0byByZW1vdmVcbiAgLy8gYm91bmQgY2FsbGJhY2tzIHZpYSB7QGxpbmsgI29mZn0gdXNpbmcgdGhlIG9yaWdpbmFsXG4gIC8vIGNhbGxiYWNrXG4gIHdyYXBwZWRDYWxsYmFja1tGTl9SRUZdID0gY2FsbGJhY2s7XG4gIHRoaXMub24oZXZlbnRzLCBwcmlvcml0eSwgd3JhcHBlZENhbGxiYWNrKTtcbn07XG5cbi8qKlxuICogUmVtb3ZlcyBldmVudCBsaXN0ZW5lcnMgYnkgZXZlbnQgYW5kIGNhbGxiYWNrLlxuICpcbiAqIElmIG5vIGNhbGxiYWNrIGlzIGdpdmVuLCBhbGwgbGlzdGVuZXJzIGZvciBhIGdpdmVuIGV2ZW50IG5hbWUgYXJlIGJlaW5nIHJlbW92ZWQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW119IGV2ZW50c1xuICogQHBhcmFtIHtFdmVudEJ1c0V2ZW50Q2FsbGJhY2s8dW5rbm93bj59IFtjYWxsYmFja11cbiAqL1xuRXZlbnRCdXMucHJvdG90eXBlLm9mZiA9IGZ1bmN0aW9uIChldmVudHMsIGNhbGxiYWNrKSB7XG4gIGV2ZW50cyA9IGlzQXJyYXkoZXZlbnRzKSA/IGV2ZW50cyA6IFtldmVudHNdO1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIGV2ZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChldmVudCkge1xuICAgIHNlbGYuX3JlbW92ZUxpc3RlbmVyKGV2ZW50LCBjYWxsYmFjayk7XG4gIH0pO1xufTtcblxuLyoqXG4gKiBDcmVhdGUgYW4gZXZlbnQgcmVjb2duaXplZCBiZSB0aGUgZXZlbnQgYnVzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIEV2ZW50IGRhdGEuXG4gKlxuICogQHJldHVybiB7RXZlbnR9IEFuIGV2ZW50IHRoYXQgd2lsbCBiZSByZWNvZ25pemVkIGJ5IHRoZSBldmVudCBidXMuXG4gKi9cbkV2ZW50QnVzLnByb3RvdHlwZS5jcmVhdGVFdmVudCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gIHZhciBldmVudCA9IG5ldyBJbnRlcm5hbEV2ZW50KCk7XG4gIGV2ZW50LmluaXQoZGF0YSk7XG4gIHJldHVybiBldmVudDtcbn07XG5cbi8qKlxuICogRmlyZXMgYW4gZXZlbnQuXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiAvLyBmaXJlIGV2ZW50IGJ5IG5hbWVcbiAqIGV2ZW50cy5maXJlKCdmb28nKTtcbiAqXG4gKiAvLyBmaXJlIGV2ZW50IG9iamVjdCB3aXRoIG5lc3RlZCB0eXBlXG4gKiB2YXIgZXZlbnQgPSB7IHR5cGU6ICdmb28nIH07XG4gKiBldmVudHMuZmlyZShldmVudCk7XG4gKlxuICogLy8gZmlyZSBldmVudCB3aXRoIGV4cGxpY2l0IHR5cGVcbiAqIHZhciBldmVudCA9IHsgeDogMTAsIHk6IDIwIH07XG4gKiBldmVudHMuZmlyZSgnZWxlbWVudC5tb3ZlZCcsIGV2ZW50KTtcbiAqXG4gKiAvLyBwYXNzIGFkZGl0aW9uYWwgYXJndW1lbnRzIHRvIHRoZSBldmVudFxuICogZXZlbnRzLm9uKCdmb28nLCBmdW5jdGlvbihldmVudCwgYmFyKSB7XG4gKiAgIGFsZXJ0KGJhcik7XG4gKiB9KTtcbiAqXG4gKiBldmVudHMuZmlyZSh7IHR5cGU6ICdmb28nIH0sICdJIGFtIGJhciEnKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBbdHlwZV0gZXZlbnQgdHlwZVxuICogQHBhcmFtIHtPYmplY3R9IFtkYXRhXSBldmVudCBvciBldmVudCBkYXRhXG4gKiBAcGFyYW0gey4uLmFueX0gW2FyZ3NdIGFkZGl0aW9uYWwgYXJndW1lbnRzIHRoZSBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCB3aXRoLlxuICpcbiAqIEByZXR1cm4ge2FueX0gVGhlIHJldHVybiB2YWx1ZS4gV2lsbCBiZSBzZXQgdG8gYGZhbHNlYCBpZiB0aGUgZGVmYXVsdCB3YXMgcHJldmVudGVkLlxuICovXG5FdmVudEJ1cy5wcm90b3R5cGUuZmlyZSA9IGZ1bmN0aW9uICh0eXBlLCBkYXRhKSB7XG4gIHZhciBldmVudCwgZmlyc3RMaXN0ZW5lciwgcmV0dXJuVmFsdWUsIGFyZ3M7XG4gIGFyZ3MgPSBzbGljZS5jYWxsKGFyZ3VtZW50cyk7XG4gIGlmICh0eXBlb2YgdHlwZSA9PT0gJ29iamVjdCcpIHtcbiAgICBkYXRhID0gdHlwZTtcbiAgICB0eXBlID0gZGF0YS50eXBlO1xuICB9XG4gIGlmICghdHlwZSkge1xuICAgIHRocm93IG5ldyBFcnJvcignbm8gZXZlbnQgdHlwZSBzcGVjaWZpZWQnKTtcbiAgfVxuICBmaXJzdExpc3RlbmVyID0gdGhpcy5fbGlzdGVuZXJzW3R5cGVdO1xuICBpZiAoIWZpcnN0TGlzdGVuZXIpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyB3ZSBtYWtlIHN1cmUgd2UgZmlyZSBpbnN0YW5jZXMgb2Ygb3VyIGhvbWUgbWFkZVxuICAvLyBldmVudHMgaGVyZS4gV2Ugd3JhcCB0aGVtIG9ubHkgb25jZSwgdGhvdWdoXG4gIGlmIChkYXRhIGluc3RhbmNlb2YgSW50ZXJuYWxFdmVudCkge1xuICAgIC8vIHdlIGFyZSBmaW5lLCB3ZSBhbHJlYWQgaGF2ZSBhbiBldmVudFxuICAgIGV2ZW50ID0gZGF0YTtcbiAgfSBlbHNlIHtcbiAgICBldmVudCA9IHRoaXMuY3JlYXRlRXZlbnQoZGF0YSk7XG4gIH1cblxuICAvLyBlbnN1cmUgd2UgcGFzcyB0aGUgZXZlbnQgYXMgdGhlIGZpcnN0IHBhcmFtZXRlclxuICBhcmdzWzBdID0gZXZlbnQ7XG5cbiAgLy8gb3JpZ2luYWwgZXZlbnQgdHlwZSAoaW4gY2FzZSB3ZSBkZWxlZ2F0ZSlcbiAgdmFyIG9yaWdpbmFsVHlwZSA9IGV2ZW50LnR5cGU7XG5cbiAgLy8gdXBkYXRlIGV2ZW50IHR5cGUgYmVmb3JlIGRlbGVnYXRpb25cbiAgaWYgKHR5cGUgIT09IG9yaWdpbmFsVHlwZSkge1xuICAgIGV2ZW50LnR5cGUgPSB0eXBlO1xuICB9XG4gIHRyeSB7XG4gICAgcmV0dXJuVmFsdWUgPSB0aGlzLl9pbnZva2VMaXN0ZW5lcnMoZXZlbnQsIGFyZ3MsIGZpcnN0TGlzdGVuZXIpO1xuICB9IGZpbmFsbHkge1xuICAgIC8vIHJlc2V0IGV2ZW50IHR5cGUgYWZ0ZXIgZGVsZWdhdGlvblxuICAgIGlmICh0eXBlICE9PSBvcmlnaW5hbFR5cGUpIHtcbiAgICAgIGV2ZW50LnR5cGUgPSBvcmlnaW5hbFR5cGU7XG4gICAgfVxuICB9XG5cbiAgLy8gc2V0IHRoZSByZXR1cm4gdmFsdWUgdG8gZmFsc2UgaWYgdGhlIGV2ZW50IGRlZmF1bHRcbiAgLy8gZ290IHByZXZlbnRlZCBhbmQgbm8gb3RoZXIgcmV0dXJuIHZhbHVlIGV4aXN0c1xuICBpZiAocmV0dXJuVmFsdWUgPT09IHVuZGVmaW5lZCAmJiBldmVudC5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgcmV0dXJuVmFsdWUgPSBmYWxzZTtcbiAgfVxuICByZXR1cm4gcmV0dXJuVmFsdWU7XG59O1xuXG4vKipcbiAqIEhhbmRsZSBhbiBlcnJvciBieSBmaXJpbmcgYW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHtFcnJvcn0gZXJyb3IgVGhlIGVycm9yIHRvIGJlIGhhbmRsZWQuXG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgZXJyb3Igd2FzIGhhbmRsZWQuXG4gKi9cbkV2ZW50QnVzLnByb3RvdHlwZS5oYW5kbGVFcnJvciA9IGZ1bmN0aW9uIChlcnJvcikge1xuICByZXR1cm4gdGhpcy5maXJlKCdlcnJvcicsIHtcbiAgICBlcnJvcjogZXJyb3JcbiAgfSkgPT09IGZhbHNlO1xufTtcbkV2ZW50QnVzLnByb3RvdHlwZS5fZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5fbGlzdGVuZXJzID0ge307XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XG4gKiBAcGFyYW0ge2FueVtdfSBhcmdzXG4gKiBAcGFyYW0ge0V2ZW50QnVzTGlzdGVuZXJ9IGxpc3RlbmVyXG4gKlxuICogQHJldHVybiB7YW55fVxuICovXG5FdmVudEJ1cy5wcm90b3R5cGUuX2ludm9rZUxpc3RlbmVycyA9IGZ1bmN0aW9uIChldmVudCwgYXJncywgbGlzdGVuZXIpIHtcbiAgdmFyIHJldHVyblZhbHVlO1xuICB3aGlsZSAobGlzdGVuZXIpIHtcbiAgICAvLyBoYW5kbGUgc3RvcHBlZCBwcm9wYWdhdGlvblxuICAgIGlmIChldmVudC5jYW5jZWxCdWJibGUpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm5WYWx1ZSA9IHRoaXMuX2ludm9rZUxpc3RlbmVyKGV2ZW50LCBhcmdzLCBsaXN0ZW5lcik7XG4gICAgbGlzdGVuZXIgPSBsaXN0ZW5lci5uZXh0O1xuICB9XG4gIHJldHVybiByZXR1cm5WYWx1ZTtcbn07XG5cbi8qKlxuICogQHBhcmFtIHtFdmVudH0gZXZlbnRcbiAqIEBwYXJhbSB7YW55W119IGFyZ3NcbiAqIEBwYXJhbSB7RXZlbnRCdXNMaXN0ZW5lcn0gbGlzdGVuZXJcbiAqXG4gKiBAcmV0dXJuIHthbnl9XG4gKi9cbkV2ZW50QnVzLnByb3RvdHlwZS5faW52b2tlTGlzdGVuZXIgPSBmdW5jdGlvbiAoZXZlbnQsIGFyZ3MsIGxpc3RlbmVyKSB7XG4gIHZhciByZXR1cm5WYWx1ZTtcbiAgaWYgKGxpc3RlbmVyLmNhbGxiYWNrLl9faXNUb21iKSB7XG4gICAgcmV0dXJuIHJldHVyblZhbHVlO1xuICB9XG4gIHRyeSB7XG4gICAgLy8gcmV0dXJuaW5nIGZhbHNlIHByZXZlbnRzIHRoZSBkZWZhdWx0IGFjdGlvblxuICAgIHJldHVyblZhbHVlID0gaW52b2tlRnVuY3Rpb24obGlzdGVuZXIuY2FsbGJhY2ssIGFyZ3MpO1xuXG4gICAgLy8gc3RvcCBwcm9wYWdhdGlvbiBvbiByZXR1cm4gdmFsdWVcbiAgICBpZiAocmV0dXJuVmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgZXZlbnQucmV0dXJuVmFsdWUgPSByZXR1cm5WYWx1ZTtcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH1cblxuICAgIC8vIHByZXZlbnQgZGVmYXVsdCBvbiByZXR1cm4gZmFsc2VcbiAgICBpZiAocmV0dXJuVmFsdWUgPT09IGZhbHNlKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBpZiAoIXRoaXMuaGFuZGxlRXJyb3IoZXJyb3IpKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCd1bmhhbmRsZWQgZXJyb3IgaW4gZXZlbnQgbGlzdGVuZXInLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJldHVyblZhbHVlO1xufTtcblxuLyoqXG4gKiBBZGQgbmV3IGxpc3RlbmVyIHdpdGggYSBjZXJ0YWluIHByaW9yaXR5IHRvIHRoZSBsaXN0XG4gKiBvZiBsaXN0ZW5lcnMgKGZvciB0aGUgZ2l2ZW4gZXZlbnQpLlxuICpcbiAqIFRoZSBzZW1hbnRpY3Mgb2YgbGlzdGVuZXIgcmVnaXN0cmF0aW9uIC8gbGlzdGVuZXIgZXhlY3V0aW9uIGFyZVxuICogZmlyc3QgcmVnaXN0ZXIsIGZpcnN0IHNlcnZlOiBOZXcgbGlzdGVuZXJzIHdpbGwgYWx3YXlzIGJlIGluc2VydGVkXG4gKiBhZnRlciBleGlzdGluZyBsaXN0ZW5lcnMgd2l0aCB0aGUgc2FtZSBwcmlvcml0eS5cbiAqXG4gKiBFeGFtcGxlOiBJbnNlcnRpbmcgdHdvIGxpc3RlbmVycyB3aXRoIHByaW9yaXR5IDEwMDAgYW5kIDEzMDBcbiAqXG4gKiAgICAqIGJlZm9yZTogWyAxNTAwLCAxNTAwLCAxMDAwLCAxMDAwIF1cbiAqICAgICogYWZ0ZXI6IFsgMTUwMCwgMTUwMCwgKG5ldz0xMzAwKSwgMTAwMCwgMTAwMCwgKG5ldz0xMDAwKSBdXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50XG4gKiBAcGFyYW0ge0V2ZW50QnVzTGlzdGVuZXJ9IG5ld0xpc3RlbmVyXG4gKi9cbkV2ZW50QnVzLnByb3RvdHlwZS5fYWRkTGlzdGVuZXIgPSBmdW5jdGlvbiAoZXZlbnQsIG5ld0xpc3RlbmVyKSB7XG4gIHZhciBsaXN0ZW5lciA9IHRoaXMuX2dldExpc3RlbmVycyhldmVudCksXG4gICAgcHJldmlvdXNMaXN0ZW5lcjtcblxuICAvLyBubyBwcmlvciBsaXN0ZW5lcnNcbiAgaWYgKCFsaXN0ZW5lcikge1xuICAgIHRoaXMuX3NldExpc3RlbmVycyhldmVudCwgbmV3TGlzdGVuZXIpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIGVuc3VyZSB3ZSBvcmRlciBsaXN0ZW5lcnMgYnkgcHJpb3JpdHkgZnJvbVxuICAvLyAwIChoaWdoKSB0byBuID4gMCAobG93KVxuICB3aGlsZSAobGlzdGVuZXIpIHtcbiAgICBpZiAobGlzdGVuZXIucHJpb3JpdHkgPCBuZXdMaXN0ZW5lci5wcmlvcml0eSkge1xuICAgICAgbmV3TGlzdGVuZXIubmV4dCA9IGxpc3RlbmVyO1xuICAgICAgaWYgKHByZXZpb3VzTGlzdGVuZXIpIHtcbiAgICAgICAgcHJldmlvdXNMaXN0ZW5lci5uZXh0ID0gbmV3TGlzdGVuZXI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9zZXRMaXN0ZW5lcnMoZXZlbnQsIG5ld0xpc3RlbmVyKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcHJldmlvdXNMaXN0ZW5lciA9IGxpc3RlbmVyO1xuICAgIGxpc3RlbmVyID0gbGlzdGVuZXIubmV4dDtcbiAgfVxuXG4gIC8vIGFkZCBuZXcgbGlzdGVuZXIgdG8gYmFja1xuICBwcmV2aW91c0xpc3RlbmVyLm5leHQgPSBuZXdMaXN0ZW5lcjtcbn07XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqXG4gKiBAcmV0dXJuIHtFdmVudEJ1c0xpc3RlbmVyfVxuICovXG5FdmVudEJ1cy5wcm90b3R5cGUuX2dldExpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gIHJldHVybiB0aGlzLl9saXN0ZW5lcnNbbmFtZV07XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gKiBAcGFyYW0ge0V2ZW50QnVzTGlzdGVuZXJ9IGxpc3RlbmVyXG4gKi9cbkV2ZW50QnVzLnByb3RvdHlwZS5fc2V0TGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUsIGxpc3RlbmVyKSB7XG4gIHRoaXMuX2xpc3RlbmVyc1tuYW1lXSA9IGxpc3RlbmVyO1xufTtcbkV2ZW50QnVzLnByb3RvdHlwZS5fcmVtb3ZlTGlzdGVuZXIgPSBmdW5jdGlvbiAoZXZlbnQsIGNhbGxiYWNrKSB7XG4gIHZhciBsaXN0ZW5lciA9IHRoaXMuX2dldExpc3RlbmVycyhldmVudCksXG4gICAgbmV4dExpc3RlbmVyLFxuICAgIHByZXZpb3VzTGlzdGVuZXIsXG4gICAgbGlzdGVuZXJDYWxsYmFjaztcbiAgaWYgKCFjYWxsYmFjaykge1xuICAgIC8vIGNsZWFyIGxpc3RlbmVyc1xuICAgIHRoaXMuX3NldExpc3RlbmVycyhldmVudCwgbnVsbCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIHdoaWxlIChsaXN0ZW5lcikge1xuICAgIG5leHRMaXN0ZW5lciA9IGxpc3RlbmVyLm5leHQ7XG4gICAgbGlzdGVuZXJDYWxsYmFjayA9IGxpc3RlbmVyLmNhbGxiYWNrO1xuICAgIGlmIChsaXN0ZW5lckNhbGxiYWNrID09PSBjYWxsYmFjayB8fCBsaXN0ZW5lckNhbGxiYWNrW0ZOX1JFRl0gPT09IGNhbGxiYWNrKSB7XG4gICAgICBpZiAocHJldmlvdXNMaXN0ZW5lcikge1xuICAgICAgICBwcmV2aW91c0xpc3RlbmVyLm5leHQgPSBuZXh0TGlzdGVuZXI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBuZXcgZmlyc3QgbGlzdGVuZXJcbiAgICAgICAgdGhpcy5fc2V0TGlzdGVuZXJzKGV2ZW50LCBuZXh0TGlzdGVuZXIpO1xuICAgICAgfVxuICAgIH1cbiAgICBwcmV2aW91c0xpc3RlbmVyID0gbGlzdGVuZXI7XG4gICAgbGlzdGVuZXIgPSBuZXh0TGlzdGVuZXI7XG4gIH1cbn07XG5cbi8qKlxuICogQSBldmVudCB0aGF0IGlzIGVtaXR0ZWQgdmlhIHRoZSBldmVudCBidXMuXG4gKi9cbmZ1bmN0aW9uIEludGVybmFsRXZlbnQoKSB7fVxuSW50ZXJuYWxFdmVudC5wcm90b3R5cGUuc3RvcFByb3BhZ2F0aW9uID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLmNhbmNlbEJ1YmJsZSA9IHRydWU7XG59O1xuSW50ZXJuYWxFdmVudC5wcm90b3R5cGUucHJldmVudERlZmF1bHQgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuZGVmYXVsdFByZXZlbnRlZCA9IHRydWU7XG59O1xuSW50ZXJuYWxFdmVudC5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gIGFzc2lnbih0aGlzLCBkYXRhIHx8IHt9KTtcbn07XG5cbi8qKlxuICogSW52b2tlIGZ1bmN0aW9uLiBCZSBmYXN0Li4uXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAqIEBwYXJhbSB7YW55W119IGFyZ3NcbiAqXG4gKiBAcmV0dXJuIHthbnl9XG4gKi9cbmZ1bmN0aW9uIGludm9rZUZ1bmN0aW9uKGZuLCBhcmdzKSB7XG4gIHJldHVybiBmbi5hcHBseShudWxsLCBhcmdzKTtcbn1cblxuLyoqXG4gKiBBIGZhY3RvcnkgdG8gY3JlYXRlIGEgY29uZmlndXJhYmxlIGRlYm91bmNlci5cbiAqXG4gKiBAcGFyYW0ge251bWJlcnxib29sZWFufSBbY29uZmlnPXRydWVdXG4gKi9cbmZ1bmN0aW9uIERlYm91bmNlRmFjdG9yeShjb25maWcgPSB0cnVlKSB7XG4gIGNvbnN0IHRpbWVvdXQgPSB0eXBlb2YgY29uZmlnID09PSAnbnVtYmVyJyA/IGNvbmZpZyA6IGNvbmZpZyA/IDMwMCA6IDA7XG4gIGlmICh0aW1lb3V0KSB7XG4gICAgcmV0dXJuIGZuID0+IGRlYm91bmNlKGZuLCB0aW1lb3V0KTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZm4gPT4gZm47XG4gIH1cbn1cbkRlYm91bmNlRmFjdG9yeS4kaW5qZWN0ID0gWydjb25maWcuZGVib3VuY2UnXTtcblxuY2xhc3MgRm9ybUZpZWxkUmVnaXN0cnkgZXh0ZW5kcyBGb3JtRmllbGRSZWdpc3RyeSQxIHtcbiAgLyoqXG4gICAqIFVwZGF0ZXMgYSBmb3JtIGZpZWxkcyBpZC5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IGZvcm1GaWVsZFxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmV3SWRcbiAgICovXG4gIHVwZGF0ZUlkKGZvcm1GaWVsZCwgbmV3SWQpIHtcbiAgICB0aGlzLl92YWxpZGF0ZUlkKG5ld0lkKTtcbiAgICB0aGlzLl9ldmVudEJ1cy5maXJlKCdmb3JtRmllbGQudXBkYXRlSWQnLCB7XG4gICAgICBmb3JtRmllbGQsXG4gICAgICBuZXdJZDogbmV3SWRcbiAgICB9KTtcbiAgICB0aGlzLnJlbW92ZShmb3JtRmllbGQpO1xuICAgIGZvcm1GaWVsZC5pZCA9IG5ld0lkO1xuICAgIHRoaXMuYWRkKGZvcm1GaWVsZCk7XG5cbiAgICAvLyBUT0RPKG5pa2t1KTogbWFrZSB0aGlzIGEgcHJvcGVyIG9iamVjdCBncmFwaCBzbyB3ZVxuICAgIC8vIGRvIG5vdCBoYXZlIHRvIGRlYWwgd2l0aCBJRHMgdGhpcyB3YXkuLi5cbiAgICBpZiAoJ2NvbXBvbmVudHMnIGluIGZvcm1GaWVsZCkge1xuICAgICAgZm9yIChjb25zdCBjb21wb25lbnQgb2YgZm9ybUZpZWxkLmNvbXBvbmVudHMpIHtcbiAgICAgICAgY29tcG9uZW50Ll9wYXJlbnQgPSBuZXdJZDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVmFsaWRhdGUgdGhlIHN1aXRhYmlsaXR5IG9mIHRoZSBnaXZlbiBpZCBhbmQgc2lnbmFscyBhIHByb2JsZW1cbiAgICogd2l0aCBhbiBleGNlcHRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZFxuICAgKlxuICAgKiBAdGhyb3dzIHtFcnJvcn0gaWYgaWQgaXMgZW1wdHkgb3IgYWxyZWFkeSBhc3NpZ25lZFxuICAgKi9cbiAgX3ZhbGlkYXRlSWQoaWQpIHtcbiAgICBpZiAoIWlkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2Zvcm1GaWVsZCBtdXN0IGhhdmUgYW4gaWQnKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuZ2V0KGlkKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdmb3JtRmllbGQgd2l0aCBpZCAnICsgaWQgKyAnIGFscmVhZHkgYWRkZWQnKTtcbiAgICB9XG4gIH1cbn1cblxuY29uc3QgTUFYX0NPTFVNTlNfUEVSX1JPVyA9IDE2O1xuY29uc3QgTUFYX0NPTFVNTlMgPSAxNjtcbmNvbnN0IE1JTl9DT0xVTU5TID0gMjtcbmNvbnN0IE1BWF9GSUVMRFNfUEVSX1JPVyA9IDQ7XG5jbGFzcyBGb3JtTGF5b3V0VmFsaWRhdG9yIHtcbiAgLyoqXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKlxuICAgKiBAcGFyYW0geyBpbXBvcnQoJy4vRm9ybUxheW91dGVyJykuRm9ybUxheW91dGVyIH0gZm9ybUxheW91dGVyXG4gICAqIEBwYXJhbSB7IGltcG9ydCgnLi9Gb3JtRmllbGRSZWdpc3RyeScpLkZvcm1GaWVsZFJlZ2lzdHJ5IH0gZm9ybUZpZWxkUmVnaXN0cnlcbiAgICovXG4gIGNvbnN0cnVjdG9yKGZvcm1MYXlvdXRlciwgZm9ybUZpZWxkUmVnaXN0cnkpIHtcbiAgICB0aGlzLl9mb3JtTGF5b3V0ZXIgPSBmb3JtTGF5b3V0ZXI7XG4gICAgdGhpcy5fZm9ybUZpZWxkUmVnaXN0cnkgPSBmb3JtRmllbGRSZWdpc3RyeTtcbiAgfVxuICB2YWxpZGF0ZUZpZWxkKGZpZWxkID0ge30sIGNvbHVtbnMsIHJvdykge1xuICAgIC8vIGFsbG93IGVtcHR5IChhdXRvIGNvbHVtbnMpXG4gICAgaWYgKE51bWJlci5pc0ludGVnZXIoY29sdW1ucykpIHtcbiAgICAgIC8vIGFsbG93IG1pbmltdW0gY29sc1xuICAgICAgaWYgKGNvbHVtbnMgPCBNSU5fQ09MVU1OUykge1xuICAgICAgICByZXR1cm4gYE1pbmltdW0gJHtNSU5fQ09MVU1OU30gY29sdW1ucyBhcmUgYWxsb3dlZGA7XG4gICAgICB9XG5cbiAgICAgIC8vIGFsbG93IG1heGltdW0gY29sc1xuICAgICAgaWYgKGNvbHVtbnMgPiBNQVhfQ09MVU1OUykge1xuICAgICAgICByZXR1cm4gYE1heGltdW0gJHtNQVhfQ09MVU1OU30gY29sdW1ucyBhcmUgYWxsb3dlZGA7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghcm93KSB7XG4gICAgICByb3cgPSB0aGlzLl9mb3JtTGF5b3V0ZXIuZ2V0Um93Rm9yRmllbGQoZmllbGQpO1xuICAgIH1cblxuICAgIC8vIGNhbGN1bGF0ZSBjb2x1bW5zIHdpdGggYW5kIHdpdGhvdXQgdXBkYXRlZCBmaWVsZFxuICAgIGxldCBzdW1Db2x1bW5zID0gcGFyc2VJbnQoY29sdW1ucykgfHwgMDtcbiAgICBsZXQgc3VtRmllbGRzID0gMTtcbiAgICBsZXQgc3VtQXV0b0NvbHMgPSBjb2x1bW5zID8gMCA6IDE7XG4gICAgcm93LmNvbXBvbmVudHMuZm9yRWFjaChpZCA9PiB7XG4gICAgICBpZiAoZmllbGQuaWQgPT09IGlkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNvbXBvbmVudCA9IHRoaXMuX2Zvcm1GaWVsZFJlZ2lzdHJ5LmdldChpZCk7XG4gICAgICBjb25zdCBjb2xzID0gKGNvbXBvbmVudC5sYXlvdXQgfHwge30pLmNvbHVtbnM7XG4gICAgICBpZiAoIWNvbHMpIHtcbiAgICAgICAgc3VtQXV0b0NvbHMrKztcbiAgICAgIH1cbiAgICAgIHN1bUNvbHVtbnMgKz0gcGFyc2VJbnQoY29scykgfHwgMDtcbiAgICAgIHN1bUZpZWxkcysrO1xuICAgIH0pO1xuXG4gICAgLy8gZG8gbm90IGFsbG93IG92ZXJmbG93c1xuICAgIGlmIChzdW1Db2x1bW5zID4gTUFYX0NPTFVNTlNfUEVSX1JPVyB8fCBzdW1BdXRvQ29scyA+IDAgJiYgc3VtQ29sdW1ucyA+IGNhbGN1bGF0ZU1heENvbHVtbnNXaXRoQXV0byhzdW1BdXRvQ29scykgfHwgY29sdW1ucyA9PT0gTUFYX0NPTFVNTlNfUEVSX1JPVyAmJiBzdW1GaWVsZHMgPiAxKSB7XG4gICAgICByZXR1cm4gYE5ldyB2YWx1ZSBleGNlZWRzIHRoZSBtYXhpbXVtIG9mICR7TUFYX0NPTFVNTlNfUEVSX1JPV30gY29sdW1ucyBwZXIgcm93YDtcbiAgICB9XG4gICAgaWYgKHN1bUZpZWxkcyA+IE1BWF9GSUVMRFNfUEVSX1JPVykge1xuICAgICAgcmV0dXJuIGBNYXhpbXVtICR7TUFYX0ZJRUxEU19QRVJfUk9XfSBmaWVsZHMgcGVyIHJvdyBhcmUgYWxsb3dlZGA7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5Gb3JtTGF5b3V0VmFsaWRhdG9yLiRpbmplY3QgPSBbJ2Zvcm1MYXlvdXRlcicsICdmb3JtRmllbGRSZWdpc3RyeSddO1xuXG4vLyBoZWxwZXIgLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4vLyBvbiBub3JtYWwgc2NyZWVuIHNpemVzLCBhdXRvIGNvbHVtbnMgdGFrZSBtaW5pbXVtIDIgY29sdW1uc1xuZnVuY3Rpb24gY2FsY3VsYXRlTWF4Q29sdW1uc1dpdGhBdXRvKGF1dG9Db2xzKSB7XG4gIHJldHVybiBNQVhfQ09MVU1OU19QRVJfUk9XIC0gYXV0b0NvbHMgKiAyO1xufVxuXG5jb25zdCBlbXB0eUltYWdlID0gY3JlYXRlRW1wdHlJbWFnZSgpO1xuZnVuY3Rpb24gZWRpdG9yRm9ybUZpZWxkQ2xhc3Nlcyh0eXBlLCB7XG4gIGRpc2FibGVkID0gZmFsc2Vcbn0gPSB7fSkge1xuICBpZiAoIXR5cGUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3R5cGUgcmVxdWlyZWQnKTtcbiAgfVxuICByZXR1cm4gY2xhc3NuYW1lcygnZmpzLWZvcm0tZmllbGQnLCBgZmpzLWZvcm0tZmllbGQtJHt0eXBlfWAsIHtcbiAgICAnZmpzLWRpc2FibGVkJzogZGlzYWJsZWRcbiAgfSk7XG59XG5cbi8qKlxuICogQWRkIGEgZHJhZ2dlciB0aGF0IGNhbGxzIGJhY2sgdGhlIHBhc3NlZCBmdW5jdGlvbiB3aXRoXG4gKiB7IGV2ZW50LCBkZWx0YSB9IG9uIGRyYWcuXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBmdW5jdGlvbiBkcmFnTW92ZShldmVudCwgZGVsdGEpIHtcbiAqICAgLy8gd2UgYXJlIGRyYWdnaW5nICghISlcbiAqIH1cbiAqXG4gKiBkb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsIGRyYWdnZXIoZHJhZ01vdmUpKTtcbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICpcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufSBkcmFnIHN0YXJ0IGNhbGxiYWNrIGZ1bmN0aW9uXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZURyYWdnZXIkMShmbikge1xuICBsZXQgc2VsZjtcbiAgbGV0IHN0YXJ0WCwgc3RhcnRZO1xuXG4gIC8qKiBkcmFnIHN0YXJ0ICovXG4gIGZ1bmN0aW9uIG9uRHJhZ1N0YXJ0KGV2ZW50KSB7XG4gICAgc2VsZiA9IHRoaXM7XG4gICAgc3RhcnRYID0gZXZlbnQuY2xpZW50WDtcbiAgICBzdGFydFkgPSBldmVudC5jbGllbnRZO1xuXG4gICAgLy8gKDEpIGhpZGUgZHJhZyBwcmV2aWV3IGltYWdlXG4gICAgaWYgKGV2ZW50LmRhdGFUcmFuc2Zlcikge1xuICAgICAgZXZlbnQuZGF0YVRyYW5zZmVyLnNldERyYWdJbWFnZShlbXB0eUltYWdlLCAwLCAwKTtcbiAgICB9XG5cbiAgICAvLyAoMikgc2V0dXAgZHJhZyBsaXN0ZW5lcnNcblxuICAgIC8vIGF0dGFjaCBkcmFnICsgY2xlYW51cCBldmVudFxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgb25EcmFnKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdkcmFnZW5kJywgb25FbmQpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCBwcmV2ZW50RGVmYXVsdCQxKTtcbiAgfVxuICBmdW5jdGlvbiBvbkRyYWcoZXZlbnQpIHtcbiAgICBjb25zdCBkZWx0YSA9IHtcbiAgICAgIHg6IGV2ZW50LmNsaWVudFggLSBzdGFydFgsXG4gICAgICB5OiBldmVudC5jbGllbnRZIC0gc3RhcnRZXG4gICAgfTtcblxuICAgIC8vIGNhbGwgcHJvdmlkZWQgZm4gd2l0aCBldmVudCwgZGVsdGFcbiAgICByZXR1cm4gZm4uY2FsbChzZWxmLCBldmVudCwgZGVsdGEpO1xuICB9XG4gIGZ1bmN0aW9uIG9uRW5kKCkge1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgb25EcmFnKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdkcmFnZW5kJywgb25FbmQpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCBwcmV2ZW50RGVmYXVsdCQxKTtcbiAgfVxuICByZXR1cm4gb25EcmFnU3RhcnQ7XG59XG5cbi8qKlxuICogVGhyb3R0bGUgZnVuY3Rpb24gY2FsbCBhY2NvcmRpbmcgVUkgdXBkYXRlIGN5Y2xlLlxuICpcbiAqIEBwYXJhbSAge0Z1bmN0aW9ufSBmblxuICpcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufSB0aHJvdHRsZWQgZm5cbiAqL1xuZnVuY3Rpb24gdGhyb3R0bGUoZm4pIHtcbiAgbGV0IGFjdGl2ZSA9IGZhbHNlO1xuICBsZXQgbGFzdEFyZ3MgPSBbXTtcbiAgbGV0IGxhc3RUaGlzID0gdW5kZWZpbmVkO1xuICByZXR1cm4gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICBsYXN0QXJncyA9IGFyZ3M7XG4gICAgbGFzdFRoaXMgPSB0aGlzO1xuICAgIGlmIChhY3RpdmUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgYWN0aXZlID0gdHJ1ZTtcbiAgICBmbi5hcHBseShsYXN0VGhpcywgbGFzdEFyZ3MpO1xuICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gKCkge1xuICAgICAgbGFzdEFyZ3MgPSBsYXN0VGhpcyA9IGFjdGl2ZSA9IHVuZGVmaW5lZDtcbiAgICB9KTtcbiAgfTtcbn1cbmZ1bmN0aW9uIHByZXZlbnREZWZhdWx0JDEoZXZlbnQpIHtcbiAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG59XG5mdW5jdGlvbiBjcmVhdGVFbXB0eUltYWdlKCkge1xuICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgaW1nLnNyYyA9ICdkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBUUFCQUlBQUFBQUFBUC8vL3lINUJBRUFBQUFBTEFBQUFBQUJBQUVBQUFJQlJBQTcnO1xuICByZXR1cm4gaW1nO1xufVxuXG5mdW5jdGlvbiBFZGl0b3JJRnJhbWUocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGZpZWxkLFxuICAgIGRvbUlkXG4gIH0gPSBwcm9wcztcbiAgY29uc3Qge1xuICAgIGxhYmVsXG4gIH0gPSBmaWVsZDtcbiAgY29uc3QgSWNvbiA9IGljb25zQnlUeXBlKGZpZWxkLnR5cGUpO1xuICByZXR1cm4ganN4cyhcImRpdlwiLCB7XG4gICAgY2xhc3M6IGVkaXRvckZvcm1GaWVsZENsYXNzZXMoZmllbGQudHlwZSksXG4gICAgY2hpbGRyZW46IFtqc3goTGFiZWwkMywge1xuICAgICAgaWQ6IGRvbUlkLFxuICAgICAgbGFiZWw6IGxhYmVsXG4gICAgfSksIGpzeChcImRpdlwiLCB7XG4gICAgICBjbGFzczogXCJmanMtaWZyYW1lLXBsYWNlaG9sZGVyXCIsXG4gICAgICBpZDogZG9tSWQsXG4gICAgICBjaGlsZHJlbjoganN4cyhcInBcIiwge1xuICAgICAgICBjbGFzczogXCJmanMtaWZyYW1lLXBsYWNlaG9sZGVyLXRleHRcIixcbiAgICAgICAgY2hpbGRyZW46IFtqc3goSWNvbiwge1xuICAgICAgICAgIHdpZHRoOiBcIjMyXCIsXG4gICAgICAgICAgaGVpZ2h0OiBcIjI0XCIsXG4gICAgICAgICAgdmlld0JveDogXCIwIDAgNTYgNTZcIlxuICAgICAgICB9KSwgXCJpRnJhbWVcIl1cbiAgICAgIH0pXG4gICAgfSldXG4gIH0pO1xufVxuRWRpdG9ySUZyYW1lLmNvbmZpZyA9IElGcmFtZS5jb25maWc7XG5cbmNvbnN0IERyYWdBbmREcm9wQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQoe1xuICBkcmFrZTogbnVsbFxufSk7XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGVcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3N0cmljdF1cbiAqXG4gKiBAcmV0dXJucyB7YW55fVxuICovXG5mdW5jdGlvbiBnZXRTZXJ2aWNlJDEodHlwZSwgc3RyaWN0KSB7fVxuY29uc3QgRm9ybUVkaXRvckNvbnRleHQgPSBjcmVhdGVDb250ZXh0KHtcbiAgZ2V0U2VydmljZTogZ2V0U2VydmljZSQxXG59KTtcblxuZnVuY3Rpb24gdXNlU2VydmljZSQxKHR5cGUsIHN0cmljdCkge1xuICBjb25zdCB7XG4gICAgZ2V0U2VydmljZVxuICB9ID0gdXNlQ29udGV4dChGb3JtRWRpdG9yQ29udGV4dCk7XG4gIHJldHVybiBnZXRTZXJ2aWNlKHR5cGUsIHN0cmljdCk7XG59XG5cbmZ1bmN0aW9uIHVzZVByZXZpb3VzJDEodmFsdWUsIGRlZmF1bHRWYWx1ZSA9IG51bGwpIHtcbiAgY29uc3QgcmVmID0gdXNlUmVmKGRlZmF1bHRWYWx1ZSk7XG4gIHVzZUVmZmVjdCgoKSA9PiByZWYuY3VycmVudCA9IHZhbHVlLCBbdmFsdWVdKTtcbiAgcmV0dXJuIHJlZi5jdXJyZW50O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIC0gZnVuY3Rpb24gdG8gZGVib3VuY2VcbiAqL1xuZnVuY3Rpb24gdXNlRGVib3VuY2UkMShmbikge1xuICBjb25zdCBkZWJvdW5jZSA9IHVzZVNlcnZpY2UkMSgnZGVib3VuY2UnKTtcbiAgY29uc3QgY2FsbGJhY2sgPSB1c2VNZW1vKCgpID0+IHtcbiAgICByZXR1cm4gZGVib3VuY2UoZm4pO1xuICB9LCBbZGVib3VuY2UsIGZuXSk7XG5cbiAgLy8gY2xlYW51cCBhc3luYyBzaWRlLWVmZmVjdCBpZiBjYWxsYmFjayAjZmx1c2ggaXMgcHJvdmlkZWQuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHR5cGVvZiBjYWxsYmFjay5mbHVzaCA9PT0gJ2Z1bmN0aW9uJyAmJiBjYWxsYmFjay5mbHVzaCgpO1xuICAgIH07XG4gIH0sIFtjYWxsYmFja10pO1xuICByZXR1cm4gY2FsbGJhY2s7XG59XG5cbnZhciBfcGF0aCQ1O1xuZnVuY3Rpb24gX2V4dGVuZHMkNSgpIHsgcmV0dXJuIF9leHRlbmRzJDUgPSBPYmplY3QuYXNzaWduID8gT2JqZWN0LmFzc2lnbi5iaW5kKCkgOiBmdW5jdGlvbiAobikgeyBmb3IgKHZhciBlID0gMTsgZSA8IGFyZ3VtZW50cy5sZW5ndGg7IGUrKykgeyB2YXIgdCA9IGFyZ3VtZW50c1tlXTsgZm9yICh2YXIgciBpbiB0KSAoe30pLmhhc093blByb3BlcnR5LmNhbGwodCwgcikgJiYgKG5bcl0gPSB0W3JdKTsgfSByZXR1cm4gbjsgfSwgX2V4dGVuZHMkNS5hcHBseShudWxsLCBhcmd1bWVudHMpOyB9XG52YXIgU3ZnQ2xvc2UgPSBmdW5jdGlvbiBTdmdDbG9zZShwcm9wcykge1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgX2V4dGVuZHMkNSh7XG4gICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICB3aWR0aDogMTYsXG4gICAgaGVpZ2h0OiAxNixcbiAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiXG4gIH0sIHByb3BzKSwgX3BhdGgkNSB8fCAoX3BhdGgkNSA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgIGQ6IFwibTEyIDQuNy0uNy0uN0w4IDcuMyA0LjcgNGwtLjcuN0w3LjMgOCA0IDExLjNsLjcuN0w4IDguN2wzLjMgMy4zLjctLjdMOC43IDh6XCIsXG4gICAgY2xpcFJ1bGU6IFwiZXZlbm9kZFwiXG4gIH0pKSk7XG59O1xuXG52YXIgX3BhdGgkNCwgX3BhdGgyJDE7XG5mdW5jdGlvbiBfZXh0ZW5kcyQ0KCkgeyByZXR1cm4gX2V4dGVuZHMkNCA9IE9iamVjdC5hc3NpZ24gPyBPYmplY3QuYXNzaWduLmJpbmQoKSA6IGZ1bmN0aW9uIChuKSB7IGZvciAodmFyIGUgPSAxOyBlIDwgYXJndW1lbnRzLmxlbmd0aDsgZSsrKSB7IHZhciB0ID0gYXJndW1lbnRzW2VdOyBmb3IgKHZhciByIGluIHQpICh7fSkuaGFzT3duUHJvcGVydHkuY2FsbCh0LCByKSAmJiAobltyXSA9IHRbcl0pOyB9IHJldHVybiBuOyB9LCBfZXh0ZW5kcyQ0LmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7IH1cbnZhciBTdmdEZWxldGUgPSBmdW5jdGlvbiBTdmdEZWxldGUocHJvcHMpIHtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIF9leHRlbmRzJDQoe1xuICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgd2lkdGg6IDE2LFxuICAgIGhlaWdodDogMTYsXG4gICAgZmlsbDogXCJub25lXCJcbiAgfSwgcHJvcHMpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInJlY3RcIiwge1xuICAgIHdpZHRoOiAxNixcbiAgICBoZWlnaHQ6IDE2LFxuICAgIHg6IDAuNTM2LFxuICAgIGZpbGw6IFwiI2ZmZlwiLFxuICAgIHJ4OiAzLFxuICAgIHN0eWxlOiB7XG4gICAgICBtaXhCbGVuZE1vZGU6IFwibXVsdGlwbHlcIlxuICAgIH1cbiAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZmlsbDogXCIjZmZmXCIsXG4gICAgZDogXCJNMCAwaDE2djE2SDB6XCIsXG4gICAgc3R5bGU6IHtcbiAgICAgIG1peEJsZW5kTW9kZTogXCJtdWx0aXBseVwiXG4gICAgfSxcbiAgICB0cmFuc2Zvcm06IFwidHJhbnNsYXRlKC41MzYpXCJcbiAgfSksIF9wYXRoJDQgfHwgKF9wYXRoJDQgPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGZpbGw6IFwiY3VycmVudGNvbG9yXCIsXG4gICAgZDogXCJNNy41MzYgNmgtMXY2aDF6bTMgMGgtMXY2aDF6XCJcbiAgfSkpLCBfcGF0aDIkMSB8fCAoX3BhdGgyJDEgPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGZpbGw6IFwiY3VycmVudGNvbG9yXCIsXG4gICAgZDogXCJNMi41MzYgM3YxaDF2MTBhMSAxIDAgMCAwIDEgMWg4YTEgMSAwIDAgMCAxLTFWNGgxVjN6bTIgMTFWNGg4djEwem02LTEzaC00djFoNHpcIlxuICB9KSkpO1xufTtcblxudmFyIF9wYXRoJDM7XG5mdW5jdGlvbiBfZXh0ZW5kcyQzKCkgeyByZXR1cm4gX2V4dGVuZHMkMyA9IE9iamVjdC5hc3NpZ24gPyBPYmplY3QuYXNzaWduLmJpbmQoKSA6IGZ1bmN0aW9uIChuKSB7IGZvciAodmFyIGUgPSAxOyBlIDwgYXJndW1lbnRzLmxlbmd0aDsgZSsrKSB7IHZhciB0ID0gYXJndW1lbnRzW2VdOyBmb3IgKHZhciByIGluIHQpICh7fSkuaGFzT3duUHJvcGVydHkuY2FsbCh0LCByKSAmJiAobltyXSA9IHRbcl0pOyB9IHJldHVybiBuOyB9LCBfZXh0ZW5kcyQzLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7IH1cbnZhciBTdmdEcmFnZ2FibGUgPSBmdW5jdGlvbiBTdmdEcmFnZ2FibGUocHJvcHMpIHtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIF9leHRlbmRzJDMoe1xuICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgeG1sU3BhY2U6IFwicHJlc2VydmVcIixcbiAgICB3aWR0aDogMTYsXG4gICAgaGVpZ2h0OiAxNixcbiAgICBmaWxsOiBcImN1cnJlbnRjb2xvclwiLFxuICAgIHZpZXdCb3g6IFwiMCAwIDMyIDMyXCJcbiAgfSwgcHJvcHMpLCBfcGF0aCQzIHx8IChfcGF0aCQzID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBkOiBcIk0xMCA2aDR2NGgtNHptOCAwaDR2NGgtNHptLTggOGg0djRoLTR6bTggMGg0djRoLTR6bS04IDhoNHY0aC00em04IDBoNHY0aC00elwiXG4gIH0pKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBkOiBcIk0wIDBoMzJ2MzJIMHpcIixcbiAgICBzdHlsZToge1xuICAgICAgZmlsbDogXCJub25lXCJcbiAgICB9XG4gIH0pKTtcbn07XG5cbnZhciBfcGF0aCQyO1xuZnVuY3Rpb24gX2V4dGVuZHMkMigpIHsgcmV0dXJuIF9leHRlbmRzJDIgPSBPYmplY3QuYXNzaWduID8gT2JqZWN0LmFzc2lnbi5iaW5kKCkgOiBmdW5jdGlvbiAobikgeyBmb3IgKHZhciBlID0gMTsgZSA8IGFyZ3VtZW50cy5sZW5ndGg7IGUrKykgeyB2YXIgdCA9IGFyZ3VtZW50c1tlXTsgZm9yICh2YXIgciBpbiB0KSAoe30pLmhhc093blByb3BlcnR5LmNhbGwodCwgcikgJiYgKG5bcl0gPSB0W3JdKTsgfSByZXR1cm4gbjsgfSwgX2V4dGVuZHMkMi5hcHBseShudWxsLCBhcmd1bWVudHMpOyB9XG52YXIgU3ZnU2VhcmNoID0gZnVuY3Rpb24gU3ZnU2VhcmNoKHByb3BzKSB7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInN2Z1wiLCBfZXh0ZW5kcyQyKHtcbiAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgIHdpZHRoOiAxNSxcbiAgICBoZWlnaHQ6IDE1LFxuICAgIGZpbGw6IFwibm9uZVwiXG4gIH0sIHByb3BzKSwgX3BhdGgkMiB8fCAoX3BhdGgkMiA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICBkOiBcIm0xNC41IDEzLjc5My0zLjc3Ni0zLjc3NmE1LjUwOCA1LjUwOCAwIDEgMC0uNzA3LjcwN2wzLjc3NiAzLjc3NnpNMiA2LjVhNC41IDQuNSAwIDEgMSA5IDAgNC41IDQuNSAwIDAgMS05IDBcIlxuICB9KSkpO1xufTtcblxudmFyIF9wYXRoJDEsIF9yZWN0LCBfbWFzaywgX3BhdGgyLCBfcGF0aDMsIF9wYXRoNCwgX3BhdGg1LCBfcGF0aDY7XG5mdW5jdGlvbiBfZXh0ZW5kcyQxKCkgeyByZXR1cm4gX2V4dGVuZHMkMSA9IE9iamVjdC5hc3NpZ24gPyBPYmplY3QuYXNzaWduLmJpbmQoKSA6IGZ1bmN0aW9uIChuKSB7IGZvciAodmFyIGUgPSAxOyBlIDwgYXJndW1lbnRzLmxlbmd0aDsgZSsrKSB7IHZhciB0ID0gYXJndW1lbnRzW2VdOyBmb3IgKHZhciByIGluIHQpICh7fSkuaGFzT3duUHJvcGVydHkuY2FsbCh0LCByKSAmJiAobltyXSA9IHRbcl0pOyB9IHJldHVybiBuOyB9LCBfZXh0ZW5kcyQxLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7IH1cbnZhciBTdmdFbXB0eUZvcm0gPSBmdW5jdGlvbiBTdmdFbXB0eUZvcm0ocHJvcHMpIHtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIF9leHRlbmRzJDEoe1xuICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgd2lkdGg6IDEyNixcbiAgICBoZWlnaHQ6IDk2LFxuICAgIGZpbGw6IFwibm9uZVwiXG4gIH0sIHByb3BzKSwgX3BhdGgkMSB8fCAoX3BhdGgkMSA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZmlsbDogXCIjRkY4MzJCXCIsXG4gICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgIGQ6IFwiTTcwIDc4djhhMyAzIDAgMCAxLTMgM2gtOHYtNWg2di02em0wLTE2aC01VjQ2aDV6bTAtMzJoLTV2LTZoLTZ2LTVoOGEzIDMgMCAwIDEgMyAzek00MyAxOXY1SDI3di01em0tMzIgMHY1SDV2Nkgwdi04YTMgMyAwIDAgMSAzLTN6TTAgNDZoNXYxNkgwem0wIDMyaDV2Nmg2djVIM2EzIDMgMCAwIDEtMy0zem0yNyAxMXYtNWgxNnY1elwiLFxuICAgIGNsaXBSdWxlOiBcImV2ZW5vZGRcIlxuICB9KSksIF9yZWN0IHx8IChfcmVjdCA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicmVjdFwiLCB7XG4gICAgd2lkdGg6IDcwLFxuICAgIGhlaWdodDogNzAsXG4gICAgZmlsbDogXCIjRTVFNUU1XCIsXG4gICAgcng6IDMsXG4gICAgdHJhbnNmb3JtOiBcIm1hdHJpeCgtMSAwIDAgMSA5NCAwKVwiXG4gIH0pKSwgX21hc2sgfHwgKF9tYXNrID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJtYXNrXCIsIHtcbiAgICBpZDogXCJFbXB0eUZvcm1fc3ZnX19hXCIsXG4gICAgZmlsbDogXCIjZmZmXCJcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBmaWxsUnVsZTogXCJldmVub2RkXCIsXG4gICAgZDogXCJNODcuMDg1IDg4LjY4NCA3NS40MyA0NS4xODVsNDMuNDk5IDExLjY1Ni0xMS4wNDQgOC4wNzIgOC41NTcgOC41NTYtMTIuNzI4IDEyLjcyOC04LjU1Ny04LjU1NnpcIixcbiAgICBjbGlwUnVsZTogXCJldmVub2RkXCJcbiAgfSkpKSwgX3BhdGgyIHx8IChfcGF0aDIgPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGZpbGw6IFwiIzM5MzkzOVwiLFxuICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIixcbiAgICBkOiBcIk04Ny4wODUgODguNjg0IDc1LjQzIDQ1LjE4NWw0My40OTkgMTEuNjU2LTExLjA0NCA4LjA3MiA4LjU1NyA4LjU1Ni0xMi43MjggMTIuNzI4LTguNTU3LTguNTU2elwiLFxuICAgIGNsaXBSdWxlOiBcImV2ZW5vZGRcIlxuICB9KSksIF9wYXRoMyB8fCAoX3BhdGgzID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBmaWxsOiBcIiMzOTM5MzlcIixcbiAgICBkOiBcIk03NS40MyA0NS4xODUgNzAuNiA0Ni40OGwtMi4yNDEtOC4zNjUgOC4zNjUgMi4yNDJ6bTExLjY1NSA0My40OTkgNC4wMzcgMi45NS02LjE2MyA4LjQzMi0yLjcwNC0xMC4wODh6bTMxLjg0NC0zMS44NDMgMS4yOTQtNC44MyAxMC4wODggMi43MDMtOC40MzIgNi4xNjN6bS0xMS4wNDQgOC4wNzItMy41MzUgMy41MzUtNC4xMjgtNC4xMjcgNC43MTMtMy40NDV6bTguNTU3IDguNTU2IDMuNTM1LTMuNTM1IDMuNTM2IDMuNTM1LTMuNTM2IDMuNTM2em0tMTIuNzI4IDEyLjcyOCAzLjUzNiAzLjUzNi0zLjUzNiAzLjUzNS0zLjUzNi0zLjUzNXptLTguNTU3LTguNTU2LTQuMDM2LTIuOTUxIDMuNDQ0LTQuNzEzIDQuMTI4IDQuMTI4ek04MC4yNiA0My44OSA5MS45MTUgODcuMzlsLTkuNjYgMi41ODhMNzAuNiA0Ni40OHptMzcuMzc1IDE3Ljc4TDc0LjEzNiA1MC4wMTRsMi41ODgtOS42NiA0My40OTkgMTEuNjU2em0tMTIuNjk5LS43OTUgMTEuMDQzLTguMDcyIDUuOTAxIDguMDczLTExLjA0MyA4LjA3MnptNy45NzEgMTYuMTI5LTguNTU2LTguNTU3IDcuMDcxLTcuMDcgOC41NTYgOC41NTZ6bS0xMi43MjggNS42NTcgMTIuNzI4LTEyLjcyOCA3LjA3MSA3LjA3LTEyLjcyNyAxMi43Mjl6bS0xLjQ4NS04LjU1NyA4LjU1NyA4LjU1Ny03LjA3MiA3LjA3LTguNTU2LTguNTU2ek04My4wNDkgODUuNzMzIDkxLjEyIDc0LjY5bDguMDczIDUuOTAxLTguMDcyIDExLjA0NHpcIixcbiAgICBtYXNrOiBcInVybCgjRW1wdHlGb3JtX3N2Z19fYSlcIlxuICB9KSksIF9wYXRoNCB8fCAoX3BhdGg0ID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBzdHJva2U6IFwiIzAwMFwiLFxuICAgIHN0cm9rZUxpbmVjYXA6IFwicm91bmRcIixcbiAgICBzdHJva2VXaWR0aDogMyxcbiAgICBkOiBcIm02OS40MzEgMzkuMTYzLTkuMTkyLTkuMTkyXCJcbiAgfSkpLCBfcGF0aDUgfHwgKF9wYXRoNSA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgc3Ryb2tlOiBcIiMwMDBcIixcbiAgICBzdHJva2VMaW5lY2FwOiBcInJvdW5kXCIsXG4gICAgc3Ryb2tlV2lkdGg6IDMsXG4gICAgZDogXCJNMS41LTEuNWg4XCIsXG4gICAgdHJhbnNmb3JtOiBcIm1hdHJpeCgtMSAwIDAgMSA2OC4yMTMgNTAuMTIzKVwiXG4gIH0pKSwgX3BhdGg2IHx8IChfcGF0aDYgPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIHN0cm9rZTogXCIjMDAwXCIsXG4gICAgc3Ryb2tlTGluZWNhcDogXCJyb3VuZFwiLFxuICAgIHN0cm9rZVdpZHRoOiAzLFxuICAgIGQ6IFwiTTc4Ljk2OSAzNi4zNjd2LThcIlxuICB9KSkpO1xufTtcblxuZnVuY3Rpb24gRWRpdG9yVGV4dChwcm9wcykge1xuICBjb25zdCB7XG4gICAgdHlwZSxcbiAgICB0ZXh0ID0gJydcbiAgfSA9IHByb3BzLmZpZWxkO1xuICBjb25zdCBJY29uID0gaWNvbnNCeVR5cGUoJ3RleHQnKTtcbiAgY29uc3QgdGVtcGxhdGluZyA9IHVzZVNlcnZpY2UkMSgndGVtcGxhdGluZycpO1xuICBjb25zdCBleHByZXNzaW9uTGFuZ3VhZ2UgPSB1c2VTZXJ2aWNlJDEoJ2V4cHJlc3Npb25MYW5ndWFnZScpO1xuICBpZiAoIXRleHQgfHwgIXRleHQudHJpbSgpKSB7XG4gICAgcmV0dXJuIGpzeChcImRpdlwiLCB7XG4gICAgICBjbGFzczogZWRpdG9yRm9ybUZpZWxkQ2xhc3Nlcyh0eXBlKSxcbiAgICAgIGNoaWxkcmVuOiBqc3hzKFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3M6IFwiZmpzLWZvcm0tZmllbGQtcGxhY2Vob2xkZXJcIixcbiAgICAgICAgY2hpbGRyZW46IFtqc3goSWNvbiwge1xuICAgICAgICAgIHZpZXdCb3g6IFwiMCAwIDU0IDU0XCJcbiAgICAgICAgfSksIFwiVGV4dCB2aWV3IGlzIGVtcHR5XCJdXG4gICAgICB9KVxuICAgIH0pO1xuICB9XG4gIGlmIChleHByZXNzaW9uTGFuZ3VhZ2UuaXNFeHByZXNzaW9uKHRleHQpKSB7XG4gICAgcmV0dXJuIGpzeChcImRpdlwiLCB7XG4gICAgICBjbGFzczogZWRpdG9yRm9ybUZpZWxkQ2xhc3Nlcyh0eXBlKSxcbiAgICAgIGNoaWxkcmVuOiBqc3hzKFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3M6IFwiZmpzLWZvcm0tZmllbGQtcGxhY2Vob2xkZXJcIixcbiAgICAgICAgY2hpbGRyZW46IFtqc3goSWNvbiwge1xuICAgICAgICAgIHZpZXdCb3g6IFwiMCAwIDU0IDU0XCJcbiAgICAgICAgfSksIFwiVGV4dCB2aWV3IGlzIHBvcHVsYXRlZCBieSBhbiBleHByZXNzaW9uXCJdXG4gICAgICB9KVxuICAgIH0pO1xuICB9XG4gIGlmICh0ZW1wbGF0aW5nLmlzVGVtcGxhdGUodGV4dCkpIHtcbiAgICByZXR1cm4ganN4KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzOiBlZGl0b3JGb3JtRmllbGRDbGFzc2VzKHR5cGUpLFxuICAgICAgY2hpbGRyZW46IGpzeHMoXCJkaXZcIiwge1xuICAgICAgICBjbGFzczogXCJmanMtZm9ybS1maWVsZC1wbGFjZWhvbGRlclwiLFxuICAgICAgICBjaGlsZHJlbjogW2pzeChJY29uLCB7XG4gICAgICAgICAgdmlld0JveDogXCIwIDAgNTQgNTRcIlxuICAgICAgICB9KSwgXCJUZXh0IHZpZXcgaXMgdGVtcGxhdGVkXCJdXG4gICAgICB9KVxuICAgIH0pO1xuICB9XG4gIHJldHVybiBqc3goVGV4dCQxLCB7XG4gICAgLi4ucHJvcHMsXG4gICAgZGlzYWJsZUxpbmtzOiB0cnVlXG4gIH0pO1xufVxuRWRpdG9yVGV4dC5jb25maWcgPSBUZXh0JDEuY29uZmlnO1xuXG5mdW5jdGlvbiBFZGl0b3JIdG1sKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICB0eXBlLFxuICAgIGNvbnRlbnQgPSAnJ1xuICB9ID0gcHJvcHMuZmllbGQ7XG4gIGNvbnN0IEljb24gPSBpY29uc0J5VHlwZSh0eXBlKTtcbiAgY29uc3QgdGVtcGxhdGluZyA9IHVzZVNlcnZpY2UkMSgndGVtcGxhdGluZycpO1xuICBjb25zdCBleHByZXNzaW9uTGFuZ3VhZ2UgPSB1c2VTZXJ2aWNlJDEoJ2V4cHJlc3Npb25MYW5ndWFnZScpO1xuICBpZiAoIWNvbnRlbnQgfHwgIWNvbnRlbnQudHJpbSgpKSB7XG4gICAgcmV0dXJuIGpzeChcImRpdlwiLCB7XG4gICAgICBjbGFzczogZWRpdG9yRm9ybUZpZWxkQ2xhc3Nlcyh0eXBlKSxcbiAgICAgIGNoaWxkcmVuOiBqc3hzKFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3M6IFwiZmpzLWZvcm0tZmllbGQtcGxhY2Vob2xkZXJcIixcbiAgICAgICAgY2hpbGRyZW46IFtqc3goSWNvbiwge1xuICAgICAgICAgIHZpZXdCb3g6IFwiMCAwIDU0IDU0XCJcbiAgICAgICAgfSksIFwiSHRtbCB2aWV3IGlzIGVtcHR5XCJdXG4gICAgICB9KVxuICAgIH0pO1xuICB9XG4gIGlmIChleHByZXNzaW9uTGFuZ3VhZ2UuaXNFeHByZXNzaW9uKGNvbnRlbnQpKSB7XG4gICAgcmV0dXJuIGpzeChcImRpdlwiLCB7XG4gICAgICBjbGFzczogZWRpdG9yRm9ybUZpZWxkQ2xhc3Nlcyh0eXBlKSxcbiAgICAgIGNoaWxkcmVuOiBqc3hzKFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3M6IFwiZmpzLWZvcm0tZmllbGQtcGxhY2Vob2xkZXJcIixcbiAgICAgICAgY2hpbGRyZW46IFtqc3goSWNvbiwge1xuICAgICAgICAgIHZpZXdCb3g6IFwiMCAwIDU0IDU0XCJcbiAgICAgICAgfSksIFwiSHRtbCB2aWV3IGlzIHBvcHVsYXRlZCBieSBhbiBleHByZXNzaW9uXCJdXG4gICAgICB9KVxuICAgIH0pO1xuICB9XG4gIGlmICh0ZW1wbGF0aW5nLmlzVGVtcGxhdGUoY29udGVudCkpIHtcbiAgICByZXR1cm4ganN4KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzOiBlZGl0b3JGb3JtRmllbGRDbGFzc2VzKHR5cGUpLFxuICAgICAgY2hpbGRyZW46IGpzeHMoXCJkaXZcIiwge1xuICAgICAgICBjbGFzczogXCJmanMtZm9ybS1maWVsZC1wbGFjZWhvbGRlclwiLFxuICAgICAgICBjaGlsZHJlbjogW2pzeChJY29uLCB7XG4gICAgICAgICAgdmlld0JveDogXCIwIDAgNTQgNTRcIlxuICAgICAgICB9KSwgXCJIdG1sIHZpZXcgaXMgdGVtcGxhdGVkXCJdXG4gICAgICB9KVxuICAgIH0pO1xuICB9XG4gIHJldHVybiBqc3goSHRtbCwge1xuICAgIC4uLnByb3BzLFxuICAgIGRpc2FibGVMaW5rczogdHJ1ZVxuICB9KTtcbn1cbkVkaXRvckh0bWwuY29uZmlnID0gSHRtbC5jb25maWc7XG5cbmZ1bmN0aW9uIEVkaXRvclRhYmxlKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBjb2x1bW5zRXhwcmVzc2lvbixcbiAgICBjb2x1bW5zLFxuICAgIGlkLFxuICAgIGxhYmVsXG4gIH0gPSBwcm9wcy5maWVsZDtcbiAgY29uc3Qgc2hvdWxkVXNlTW9ja0NvbHVtbnMgPSB0eXBlb2YgY29sdW1uc0V4cHJlc3Npb24gPT09ICdzdHJpbmcnICYmIGNvbHVtbnNFeHByZXNzaW9uLmxlbmd0aCA+IDAgfHwgQXJyYXkuaXNBcnJheShjb2x1bW5zKSAmJiBjb2x1bW5zLmxlbmd0aCA9PT0gMDtcbiAgY29uc3QgZWRpdG9yQ29sdW1ucyA9IHNob3VsZFVzZU1vY2tDb2x1bW5zID8gW3tcbiAgICBrZXk6ICcxJyxcbiAgICBsYWJlbDogJ0NvbHVtbiAxJ1xuICB9LCB7XG4gICAga2V5OiAnMicsXG4gICAgbGFiZWw6ICdDb2x1bW4gMidcbiAgfSwge1xuICAgIGtleTogJzMnLFxuICAgIGxhYmVsOiAnQ29sdW1uIDMnXG4gIH1dIDogY29sdW1ucztcbiAgY29uc3QgcHJlZml4SWQgPSBgZmpzLWZvcm0tJHtpZH1gO1xuICByZXR1cm4ganN4cyhcImRpdlwiLCB7XG4gICAgY2xhc3M6IGVkaXRvckZvcm1GaWVsZENsYXNzZXMoJ3RhYmxlJywge1xuICAgICAgZGlzYWJsZWQ6IHRydWVcbiAgICB9KSxcbiAgICBjaGlsZHJlbjogW2pzeChMYWJlbCQzLCB7XG4gICAgICBpZDogcHJlZml4SWQsXG4gICAgICBsYWJlbDogbGFiZWxcbiAgICB9KSwganN4KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzOiBcImZqcy10YWJsZS1taWRkbGUtY29udGFpbmVyXCIsXG4gICAgICBjaGlsZHJlbjoganN4KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3M6IFwiZmpzLXRhYmxlLWlubmVyLWNvbnRhaW5lclwiLFxuICAgICAgICBjaGlsZHJlbjoganN4cyhcInRhYmxlXCIsIHtcbiAgICAgICAgICBjbGFzczogY2xhc3NuYW1lcygnZmpzLXRhYmxlJywgJ2Zqcy1kaXNhYmxlZCcpLFxuICAgICAgICAgIGlkOiBwcmVmaXhJZCxcbiAgICAgICAgICBjaGlsZHJlbjogW2pzeChcInRoZWFkXCIsIHtcbiAgICAgICAgICAgIGNsYXNzOiBcImZqcy10YWJsZS1oZWFkXCIsXG4gICAgICAgICAgICBjaGlsZHJlbjoganN4KFwidHJcIiwge1xuICAgICAgICAgICAgICBjbGFzczogXCJmanMtdGFibGUtdHJcIixcbiAgICAgICAgICAgICAgY2hpbGRyZW46IGVkaXRvckNvbHVtbnMubWFwKCh7XG4gICAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICAgIGxhYmVsXG4gICAgICAgICAgICAgIH0pID0+IGpzeChcInRoXCIsIHtcbiAgICAgICAgICAgICAgICBjbGFzczogXCJmanMtdGFibGUtdGhcIixcbiAgICAgICAgICAgICAgICBjaGlsZHJlbjogbGFiZWxcbiAgICAgICAgICAgICAgfSwga2V5KSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSksIGpzeChcInRib2R5XCIsIHtcbiAgICAgICAgICAgIGNsYXNzOiBcImZqcy10YWJsZS1ib2R5XCIsXG4gICAgICAgICAgICBjaGlsZHJlbjoganN4KFwidHJcIiwge1xuICAgICAgICAgICAgICBjbGFzczogXCJmanMtdGFibGUtdHJcIixcbiAgICAgICAgICAgICAgY2hpbGRyZW46IGVkaXRvckNvbHVtbnMubWFwKCh7XG4gICAgICAgICAgICAgICAga2V5XG4gICAgICAgICAgICAgIH0pID0+IGpzeChcInRkXCIsIHtcbiAgICAgICAgICAgICAgICBjbGFzczogXCJmanMtdGFibGUtdGRcIixcbiAgICAgICAgICAgICAgICBjaGlsZHJlbjogXCJDb250ZW50XCJcbiAgICAgICAgICAgICAgfSwga2V5KSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSldXG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgIH0pXVxuICB9KTtcbn1cbkVkaXRvclRhYmxlLmNvbmZpZyA9IFRhYmxlLmNvbmZpZztcblxuY29uc3QgdHlwZSA9ICdleHByZXNzaW9uJztcbmZ1bmN0aW9uIEVkaXRvckV4cHJlc3Npb25GaWVsZChwcm9wcykge1xuICBjb25zdCB7XG4gICAgZmllbGRcbiAgfSA9IHByb3BzO1xuICBjb25zdCB7XG4gICAgZXhwcmVzc2lvbiA9ICcnLFxuICAgIGtleVxuICB9ID0gZmllbGQ7XG4gIGNvbnN0IEljb24gPSBpY29uc0J5VHlwZSgnZXhwcmVzc2lvbicpO1xuICBjb25zdCBleHByZXNzaW9uTGFuZ3VhZ2UgPSB1c2VTZXJ2aWNlJDEoJ2V4cHJlc3Npb25MYW5ndWFnZScpO1xuICBsZXQgcGxhY2Vob2xkZXJDb250ZW50ID0gJ0V4cHJlc3Npb24gaXMgZW1wdHknO1xuICBpZiAoZXhwcmVzc2lvbi50cmltKCkgJiYgZXhwcmVzc2lvbkxhbmd1YWdlLmlzRXhwcmVzc2lvbihleHByZXNzaW9uKSkge1xuICAgIHBsYWNlaG9sZGVyQ29udGVudCA9IGBFeHByZXNzaW9uIGZvciAnJHtrZXl9J2A7XG4gIH1cbiAgcmV0dXJuIGpzeChcImRpdlwiLCB7XG4gICAgY2xhc3M6IGVkaXRvckZvcm1GaWVsZENsYXNzZXModHlwZSksXG4gICAgY2hpbGRyZW46IGpzeHMoXCJkaXZcIiwge1xuICAgICAgY2xhc3M6IFwiZmpzLWZvcm0tZmllbGQtcGxhY2Vob2xkZXJcIixcbiAgICAgIGNoaWxkcmVuOiBbanN4KEljb24sIHtcbiAgICAgICAgdmlld0JveDogXCIwIDAgNTQgNTRcIlxuICAgICAgfSksIHBsYWNlaG9sZGVyQ29udGVudF1cbiAgICB9KVxuICB9KTtcbn1cbkVkaXRvckV4cHJlc3Npb25GaWVsZC5jb25maWcgPSB7XG4gIC4uLkV4cHJlc3Npb25GaWVsZC5jb25maWcsXG4gIGVzY2FwZUdyaWRSZW5kZXI6IGZhbHNlXG59O1xuXG5mdW5jdGlvbiBFZGl0b3JEb2N1bWVudFByZXZpZXcocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGZpZWxkLFxuICAgIGRvbUlkXG4gIH0gPSBwcm9wcztcbiAgY29uc3Qge1xuICAgIGxhYmVsXG4gIH0gPSBmaWVsZDtcbiAgY29uc3QgSWNvbiA9IGljb25zQnlUeXBlKGZpZWxkLnR5cGUpO1xuICByZXR1cm4ganN4cyhcImRpdlwiLCB7XG4gICAgY2xhc3M6IGVkaXRvckZvcm1GaWVsZENsYXNzZXMoZmllbGQudHlwZSksXG4gICAgY2hpbGRyZW46IFtqc3goTGFiZWwkMywge1xuICAgICAgaWQ6IGRvbUlkLFxuICAgICAgbGFiZWw6IGxhYmVsXG4gICAgfSksIGpzeChcImRpdlwiLCB7XG4gICAgICBjbGFzczogXCJmanMtZG9jdW1lbnRQcmV2aWV3LXBsYWNlaG9sZGVyXCIsXG4gICAgICBpZDogZG9tSWQsXG4gICAgICBjaGlsZHJlbjoganN4cyhcInBcIiwge1xuICAgICAgICBjbGFzczogXCJmanMtZG9jdW1lbnRQcmV2aWV3LXBsYWNlaG9sZGVyLXRleHRcIixcbiAgICAgICAgY2hpbGRyZW46IFtqc3goSWNvbiwge1xuICAgICAgICAgIHdpZHRoOiBcIjMyXCIsXG4gICAgICAgICAgaGVpZ2h0OiBcIjI0XCIsXG4gICAgICAgICAgdmlld0JveDogXCIwIDAgNTYgNTZcIlxuICAgICAgICB9KSwgXCJEb2N1bWVudCBwcmV2aWV3XCJdXG4gICAgICB9KVxuICAgIH0pXVxuICB9KTtcbn1cbkVkaXRvckRvY3VtZW50UHJldmlldy5jb25maWcgPSBEb2N1bWVudFByZXZpZXcuY29uZmlnO1xuXG5jb25zdCBlZGl0b3JGb3JtRmllbGRzID0gW0VkaXRvcklGcmFtZSwgRWRpdG9yVGV4dCwgRWRpdG9ySHRtbCwgRWRpdG9yVGFibGUsIEVkaXRvckV4cHJlc3Npb25GaWVsZCwgRWRpdG9yRG9jdW1lbnRQcmV2aWV3XTtcblxuY2xhc3MgRWRpdG9yRm9ybUZpZWxkcyBleHRlbmRzIEZvcm1GaWVsZHMge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIGVkaXRvckZvcm1GaWVsZHMuZm9yRWFjaChmb3JtRmllbGQgPT4ge1xuICAgICAgdGhpcy5yZWdpc3Rlcihmb3JtRmllbGQuY29uZmlnLnR5cGUsIGZvcm1GaWVsZCk7XG4gICAgfSk7XG4gIH1cbn1cblxuY29uc3QgTW9kdWxhclNlY3Rpb24gPSBwcm9wcyA9PiB7XG4gIGNvbnN0IHtcbiAgICByb290Q2xhc3MsXG4gICAgUm9vdEVsZW1lbnQsXG4gICAgc2VjdGlvbixcbiAgICBjaGlsZHJlblxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IGV2ZW50QnVzID0gdXNlU2VydmljZSQxKCdldmVudEJ1cycpO1xuICBjb25zdCBzZWN0aW9uQ29uZmlnID0gdXNlU2VydmljZSQxKGBjb25maWcuJHtzZWN0aW9ufWApO1xuICBjb25zdCBbcGFyZW50LCBzZXRQYXJlbnRdID0gdXNlU3RhdGUoc2VjdGlvbkNvbmZpZyAmJiBzZWN0aW9uQ29uZmlnLnBhcmVudCB8fCBudWxsKTtcbiAgY29uc3QgW3Nob3VsZFJlbmRlciwgc2V0U2hvdWxkUmVuZGVyXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBQYXJlbnRFbGVtZW50ID0gdXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKHBhcmVudCA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgcGFyZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocGFyZW50KTtcbiAgICAgIGlmICghZWxlbWVudCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFRhcmdldCByb290IGVsZW1lbnQgd2l0aCBzZWxlY3RvciAnJHtwYXJlbnR9JyBub3QgZm91bmQgZm9yIHNlY3Rpb24gJyR7c2VjdGlvbn0nYCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihwYXJlbnQpO1xuICAgIH1cblxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBpZiAoIShwYXJlbnQgaW5zdGFuY2VvZiBFbGVtZW50KSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBUYXJnZXQgcm9vdCBlbGVtZW50IGZvciBzZWN0aW9uICcke3NlY3Rpb259JyBtdXN0IGJlIGEgdmFsaWQgc2VsZWN0b3Igb3IgRE9NIGVsZW1lbnRgKTtcbiAgICB9XG4gICAgcmV0dXJuIHBhcmVudDtcbiAgfSwgW3NlY3Rpb24sIHBhcmVudF0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IG9uQXR0YWNoID0gKHtcbiAgICAgIGNvbnRhaW5lclxuICAgIH0pID0+IHtcbiAgICAgIHNldFBhcmVudChjb250YWluZXIpO1xuICAgICAgc2V0U2hvdWxkUmVuZGVyKHRydWUpO1xuICAgIH07XG4gICAgY29uc3Qgb25EZXRhY2ggPSAoKSA9PiB7XG4gICAgICBzZXRQYXJlbnQobnVsbCk7XG4gICAgICBzZXRTaG91bGRSZW5kZXIoZmFsc2UpO1xuICAgIH07XG4gICAgY29uc3Qgb25SZXNldCA9ICgpID0+IHtcbiAgICAgIHNldFBhcmVudChudWxsKTtcbiAgICAgIHNldFNob3VsZFJlbmRlcih0cnVlKTtcbiAgICB9O1xuICAgIGV2ZW50QnVzLm9uKGAke3NlY3Rpb259LmF0dGFjaGAsIG9uQXR0YWNoKTtcbiAgICBldmVudEJ1cy5vbihgJHtzZWN0aW9ufS5kZXRhY2hgLCBvbkRldGFjaCk7XG4gICAgZXZlbnRCdXMub24oYCR7c2VjdGlvbn0ucmVzZXRgLCBvblJlc2V0KTtcbiAgICBldmVudEJ1cy5maXJlKGAke3NlY3Rpb259LnNlY3Rpb24ucmVuZGVyZWRgKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgZXZlbnRCdXMub2ZmKGAke3NlY3Rpb259LmF0dGFjaGAsIG9uQXR0YWNoKTtcbiAgICAgIGV2ZW50QnVzLm9mZihgJHtzZWN0aW9ufS5kZXRhY2hgLCBvbkRldGFjaCk7XG4gICAgICBldmVudEJ1cy5vZmYoYCR7c2VjdGlvbn0ucmVzZXRgLCBvblJlc2V0KTtcbiAgICAgIGV2ZW50QnVzLmZpcmUoYCR7c2VjdGlvbn0uc2VjdGlvbi5kZXN0cm95ZWRgKTtcbiAgICB9O1xuICB9LCBbZXZlbnRCdXMsIHNlY3Rpb25dKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoc2hvdWxkUmVuZGVyKSB7XG4gICAgICBldmVudEJ1cy5maXJlKGAke3NlY3Rpb259LnJlbmRlcmVkYCwge1xuICAgICAgICBlbGVtZW50OiBQYXJlbnRFbGVtZW50XG4gICAgICB9KTtcbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGV2ZW50QnVzLmZpcmUoYCR7c2VjdGlvbn0uZGVzdHJveWVkYCwge1xuICAgICAgICAgIGVsZW1lbnQ6IFBhcmVudEVsZW1lbnRcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIH1cbiAgfSwgW2V2ZW50QnVzLCBzZWN0aW9uLCBzaG91bGRSZW5kZXIsIFBhcmVudEVsZW1lbnRdKTtcbiAgY29uc3QgUm9vdCA9IHVzZUNhbGxiYWNrKCh7XG4gICAgY2hpbGRyZW5cbiAgfSkgPT4gUm9vdEVsZW1lbnQgPyBqc3goUm9vdEVsZW1lbnQsIHtcbiAgICBjaGlsZHJlbjogY2hpbGRyZW5cbiAgfSkgOiBqc3goXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogcm9vdENsYXNzLFxuICAgIGNoaWxkcmVuOiBjaGlsZHJlblxuICB9KSwgW3Jvb3RDbGFzcywgUm9vdEVsZW1lbnRdKTtcbiAgcmV0dXJuIHNob3VsZFJlbmRlciA/IHBhcmVudCA/IGNyZWF0ZVBvcnRhbChqc3goUm9vdCwge1xuICAgIGNoaWxkcmVuOiBjaGlsZHJlblxuICB9KSwgUGFyZW50RWxlbWVudCkgOiBqc3goUm9vdCwge1xuICAgIGNoaWxkcmVuOiBjaGlsZHJlblxuICB9KSA6IG51bGw7XG59O1xuXG5jb25zdCBGaWxsQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQoe1xuICBhZGRGaWxsKHVpZCwgcHJvcHMpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZpbGxDb250ZXh0LmFkZEZpbGwoKSB1bmluaXRpYWxpemVkJyk7XG4gIH0sXG4gIHJlbW92ZUZpbGwodWlkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdGaWxsQ29udGV4dC5hZGRGaWxsKCkgdW5pbml0aWFsaXplZCcpO1xuICB9XG59KTtcblxuY29uc3QgRmlsbCA9IHByb3BzID0+IHtcbiAgY29uc3QgdWlkID0gdXNlUmVmJDEoU3ltYm9sKCdmaWxsX3VpZCcpKTtcbiAgY29uc3QgZmlsbENvbnRleHQgPSB1c2VDb250ZXh0JDEoRmlsbENvbnRleHQpO1xuICB1c2VFZmZlY3QkMSgoKSA9PiB7XG4gICAgaWYgKCFmaWxsQ29udGV4dCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmaWxsQ29udGV4dC5hZGRGaWxsKHtcbiAgICAgIGlkOiB1aWQsXG4gICAgICAuLi5wcm9wc1xuICAgIH0pO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBmaWxsQ29udGV4dC5yZW1vdmVGaWxsKHVpZCk7XG4gICAgfTtcbiAgfSwgW2ZpbGxDb250ZXh0LCBwcm9wc10pO1xuICByZXR1cm4gbnVsbDtcbn07XG5cbmNvbnN0IFNsb3RDb250ZXh0ID0gY3JlYXRlQ29udGV4dCh7XG4gIGZpbGxzOiBbXVxufSk7XG5cbmNvbnN0IFNsb3QgPSBwcm9wcyA9PiB7XG4gIGNvbnN0IHtcbiAgICBuYW1lLFxuICAgIGZpbGxSb290ID0gRmlsbEZyYWdtZW50LFxuICAgIGdyb3VwRm4gPSBfZ3JvdXBCeUdyb3VwTmFtZSxcbiAgICBzZXBhcmF0b3JGbiA9IGtleSA9PiBudWxsLFxuICAgIGxpbWl0XG4gIH0gPSBwcm9wcztcbiAgY29uc3Qge1xuICAgIGZpbGxzXG4gIH0gPSB1c2VDb250ZXh0KFNsb3RDb250ZXh0KTtcbiAgY29uc3QgZmlsdGVyZWQgPSB1c2VNZW1vKCgpID0+IGZpbGxzLmZpbHRlcihmaWxsID0+IGZpbGwuc2xvdCA9PT0gbmFtZSksIFtmaWxscywgbmFtZV0pO1xuICBjb25zdCBjcm9wcGVkID0gdXNlTWVtbygoKSA9PiBsaW1pdCA/IGZpbHRlcmVkLnNsaWNlKDAsIGxpbWl0KSA6IGZpbHRlcmVkLCBbZmlsdGVyZWQsIGxpbWl0XSk7XG4gIGNvbnN0IGdyb3VwcyA9IHVzZU1lbW8oKCkgPT4gZ3JvdXBGbihjcm9wcGVkKSwgW2Nyb3BwZWQsIGdyb3VwRm5dKTtcbiAgY29uc3QgZmlsbHNBbmRTZXBhcmF0b3JzID0gdXNlTWVtbygoKSA9PiB7XG4gICAgcmV0dXJuIGJ1aWxkRmlsbHMoZ3JvdXBzLCBmaWxsUm9vdCwgc2VwYXJhdG9yRm4pO1xuICB9LCBbZ3JvdXBzLCBmaWxsUm9vdCwgc2VwYXJhdG9yRm5dKTtcbiAgcmV0dXJuIGZpbGxzQW5kU2VwYXJhdG9ycztcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIEZyYWdtZW50IGZvciBhIGZpbGwuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGZpbGwgRmlsbCB0byBiZSByZW5kZXJlZFxuICogQHJldHVybnMge09iamVjdH0gUHJlYWN0IEZyYWdtZW50IGNvbnRhaW5pbmcgZmlsbCdzIGNoaWxkcmVuXG4gKi9cbmNvbnN0IEZpbGxGcmFnbWVudCA9IGZpbGwgPT4ganN4KEZyYWdtZW50LCB7XG4gIGNoaWxkcmVuOiBmaWxsLmNoaWxkcmVuXG59LCBmaWxsLmlkKTtcblxuLyoqXG4gKiBDcmVhdGVzIGFuIGFycmF5IG9mIGZpbGxzLCB3aXRoIHNlcGFyYXRvcnMgaW5zZXJ0ZWQgYmV0d2VlbiBncm91cHMuXG4gKlxuICogQHBhcmFtIHtBcnJheX0gZ3JvdXBzIEdyb3VwcyBvZiBmaWxsc1xuICogQHBhcmFtIHtGdW5jdGlvbn0gZmlsbFJlbmRlcmVyIEZ1bmN0aW9uIHRvIGNyZWF0ZSBhIGZpbGxcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHNlcGFyYXRvclJlbmRlcmVyIEZ1bmN0aW9uIHRvIGNyZWF0ZSBhIHNlcGFyYXRvclxuICogQHJldHVybnMge0FycmF5fSBBcnJheSBvZiBmaWxscyBhbmQgc2VwYXJhdG9yc1xuICovXG5jb25zdCBidWlsZEZpbGxzID0gKGdyb3VwcywgZmlsbFJlbmRlcmVyLCBzZXBhcmF0b3JSZW5kZXJlcikgPT4ge1xuICBjb25zdCByZXN1bHQgPSBbXTtcbiAgZ3JvdXBzLmZvckVhY2goKGFycmF5LCBpZHgpID0+IHtcbiAgICBpZiAoaWR4ICE9PSAwKSB7XG4gICAgICBjb25zdCBzZXBhcmF0b3IgPSBzZXBhcmF0b3JSZW5kZXJlcihgX19zZXBhcmF0b3JfJHtpZHh9YCk7XG4gICAgICBpZiAoc2VwYXJhdG9yKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKHNlcGFyYXRvcik7XG4gICAgICB9XG4gICAgfVxuICAgIGFycmF5LmZvckVhY2goZmlsbCA9PiB7XG4gICAgICByZXN1bHQucHVzaChmaWxsUmVuZGVyZXIoZmlsbCkpO1xuICAgIH0pO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogR3JvdXBzIGZpbGxzIGJ5IGdyb3VwIG5hbWUgcHJvcGVydHkuXG4gKi9cbmNvbnN0IF9ncm91cEJ5R3JvdXBOYW1lID0gZmlsbHMgPT4ge1xuICBjb25zdCBncm91cHMgPSBbXTtcbiAgY29uc3QgZ3JvdXBzQnlJZCA9IHt9O1xuICBmaWxscy5mb3JFYWNoKGZ1bmN0aW9uIChmaWxsKSB7XG4gICAgY29uc3Qge1xuICAgICAgZ3JvdXA6IGdyb3VwTmFtZSA9ICd6X2RlZmF1bHQnXG4gICAgfSA9IGZpbGw7XG4gICAgbGV0IGdyb3VwID0gZ3JvdXBzQnlJZFtncm91cE5hbWVdO1xuICAgIGlmICghZ3JvdXApIHtcbiAgICAgIGdyb3Vwc0J5SWRbZ3JvdXBOYW1lXSA9IGdyb3VwID0gW107XG4gICAgICBncm91cHMucHVzaChncm91cCk7XG4gICAgfVxuICAgIGdyb3VwLnB1c2goZmlsbCk7XG4gIH0pO1xuICBncm91cHMuZm9yRWFjaChncm91cCA9PiBncm91cC5zb3J0KF9jb21wYXJlUHJpb3JpdHkpKTtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKGdyb3Vwc0J5SWQpLnNvcnQoKS5tYXAoaWQgPT4gZ3JvdXBzQnlJZFtpZF0pO1xufTtcblxuLyoqXG4gKiBDb21wYXJlcyBmaWxscyBieSBwcmlvcml0eS5cbiAqL1xuY29uc3QgX2NvbXBhcmVQcmlvcml0eSA9IChhLCBiKSA9PiB7XG4gIHJldHVybiAoYi5wcmlvcml0eSB8fCAwKSAtIChhLnByaW9yaXR5IHx8IDApO1xufTtcblxuY29uc3Qgbm9vcCQxID0gKCkgPT4ge307XG5jb25zdCBTbG90RmlsbFJvb3QgPSBwcm9wcyA9PiB7XG4gIGNvbnN0IFtmaWxscywgc2V0RmlsbHNdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCB7XG4gICAgb25TZXRGaWxsID0gbm9vcCQxLFxuICAgIG9uUmVtb3ZlRmlsbCA9IG5vb3AkMVxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IGZpbGxDb250ZXh0ID0gdXNlTWVtbygoKSA9PiAoe1xuICAgIGFkZEZpbGw6IGZpbGwgPT4ge1xuICAgICAgc2V0RmlsbHMoZmlsbHMgPT4gWy4uLmZpbGxzLmZpbHRlcihmID0+IGYuaWQgIT09IGZpbGwuaWQpLCBmaWxsXSk7XG4gICAgICBvblNldEZpbGwoZmlsbCk7XG4gICAgfSxcbiAgICByZW1vdmVGaWxsOiBpZCA9PiB7XG4gICAgICBzZXRGaWxscyhmaWxscyA9PiBmaWxscy5maWx0ZXIoZiA9PiBmLmlkICE9PSBpZCkpO1xuICAgICAgb25SZW1vdmVGaWxsKGlkKTtcbiAgICB9XG4gIH0pLCBbb25SZW1vdmVGaWxsLCBvblNldEZpbGxdKTtcbiAgY29uc3Qgc2xvdENvbnRleHQgPSB1c2VNZW1vKCgpID0+ICh7XG4gICAgZmlsbHNcbiAgfSksIFtmaWxsc10pO1xuICByZXR1cm4ganN4KFNsb3RDb250ZXh0LlByb3ZpZGVyLCB7XG4gICAgdmFsdWU6IHNsb3RDb250ZXh0LFxuICAgIGNoaWxkcmVuOiBqc3goRmlsbENvbnRleHQuUHJvdmlkZXIsIHtcbiAgICAgIHZhbHVlOiBmaWxsQ29udGV4dCxcbiAgICAgIGNoaWxkcmVuOiBwcm9wcy5jaGlsZHJlblxuICAgIH0pXG4gIH0pO1xufTtcblxuZnVuY3Rpb24gUGFsZXR0ZUVudHJ5KHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICB0eXBlLFxuICAgIGxhYmVsLFxuICAgIGljb24sXG4gICAgaWNvblVybCxcbiAgICBnZXRQYWxldHRlSWNvblxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IG1vZGVsaW5nID0gdXNlU2VydmljZSQxKCdtb2RlbGluZycpO1xuICBjb25zdCBmb3JtRWRpdG9yID0gdXNlU2VydmljZSQxKCdmb3JtRWRpdG9yJyk7XG4gIGNvbnN0IEljb24gPSBnZXRQYWxldHRlSWNvbih7XG4gICAgaWNvbixcbiAgICBpY29uVXJsLFxuICAgIGxhYmVsLFxuICAgIHR5cGVcbiAgfSk7XG4gIGNvbnN0IG9uS2V5RG93biA9IGV2ZW50ID0+IHtcbiAgICBpZiAoZXZlbnQuY29kZSA9PT0gJ0VudGVyJykge1xuICAgICAgY29uc3Qge1xuICAgICAgICBmaWVsZFR5cGU6IHR5cGVcbiAgICAgIH0gPSBldmVudC50YXJnZXQuZGF0YXNldDtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgc2NoZW1hXG4gICAgICB9ID0gZm9ybUVkaXRvci5fZ2V0U3RhdGUoKTtcblxuICAgICAgLy8gYWRkIG5ldyBmb3JtIGZpZWxkIHRvIGxhc3QgcG9zaXRpb25cbiAgICAgIG1vZGVsaW5nLmFkZEZvcm1GaWVsZCh7XG4gICAgICAgIHR5cGVcbiAgICAgIH0sIHNjaGVtYSwgc2NoZW1hLmNvbXBvbmVudHMubGVuZ3RoKTtcbiAgICB9XG4gIH07XG4gIHJldHVybiBqc3hzKFwiYnV0dG9uXCIsIHtcbiAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgIGNsYXNzOiBcImZqcy1wYWxldHRlLWZpZWxkIGZqcy1kcmFnLWNvcHkgZmpzLW5vLWRyb3BcIixcbiAgICBcImRhdGEtZmllbGQtdHlwZVwiOiB0eXBlLFxuICAgIHRpdGxlOiBgQ3JlYXRlICR7Z2V0SW5kZWZpbml0ZUFydGljbGUodHlwZSl9ICR7bGFiZWx9IGVsZW1lbnRgLFxuICAgIG9uS2V5RG93bjogb25LZXlEb3duLFxuICAgIGNoaWxkcmVuOiBbSWNvbiA/IGpzeChJY29uLCB7XG4gICAgICBjbGFzczogXCJmanMtcGFsZXR0ZS1maWVsZC1pY29uXCIsXG4gICAgICB3aWR0aDogXCIzNlwiLFxuICAgICAgaGVpZ2h0OiBcIjM2XCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCA1NCA1NFwiXG4gICAgfSkgOiBudWxsLCBqc3goXCJzcGFuXCIsIHtcbiAgICAgIGNsYXNzOiBcImZqcy1wYWxldHRlLWZpZWxkLXRleHRcIixcbiAgICAgIGNoaWxkcmVuOiBsYWJlbFxuICAgIH0pXVxuICB9KTtcbn1cblxuLy8gaGVscGVycyAvLy8vLy8vLy8vL1xuXG5mdW5jdGlvbiBnZXRJbmRlZmluaXRlQXJ0aWNsZSh0eXBlKSB7XG4gIGlmIChbJ2ltYWdlJ10uaW5jbHVkZXModHlwZSkpIHtcbiAgICByZXR1cm4gJ2FuJztcbiAgfVxuICByZXR1cm4gJ2EnO1xufVxuXG5jb25zdCBQQUxFVFRFX0dST1VQUyA9IFt7XG4gIGxhYmVsOiAnSW5wdXQnLFxuICBpZDogJ2Jhc2ljLWlucHV0J1xufSwge1xuICBsYWJlbDogJ1NlbGVjdGlvbicsXG4gIGlkOiAnc2VsZWN0aW9uJ1xufSwge1xuICBsYWJlbDogJ1ByZXNlbnRhdGlvbicsXG4gIGlkOiAncHJlc2VudGF0aW9uJ1xufSwge1xuICBsYWJlbDogJ0NvbnRhaW5lcnMnLFxuICBpZDogJ2NvbnRhaW5lcidcbn0sIHtcbiAgbGFiZWw6ICdBY3Rpb24nLFxuICBpZDogJ2FjdGlvbidcbn1dO1xuZnVuY3Rpb24gUGFsZXR0ZShwcm9wcykge1xuICBjb25zdCBmb3JtRmllbGRzID0gdXNlU2VydmljZSQxKCdmb3JtRmllbGRzJyk7XG4gIGNvbnN0IGluaXRpYWxQYWxldHRlRW50cmllcyA9IHVzZVJlZihjb2xsZWN0UGFsZXR0ZUVudHJpZXMoZm9ybUZpZWxkcykpO1xuICBjb25zdCBbcGFsZXR0ZUVudHJpZXMsIHNldFBhbGV0dGVFbnRyaWVzXSA9IHVzZVN0YXRlKGluaXRpYWxQYWxldHRlRW50cmllcy5jdXJyZW50KTtcbiAgY29uc3QgW3NlYXJjaFRlcm0sIHNldFNlYXJjaFRlcm1dID0gdXNlU3RhdGUoJycpO1xuXG4gIC8qKiBAdHlwZSB7aW1wb3J0KFwicHJlYWN0XCIpLlJlZk9iamVjdDxIVE1MSW5wdXRFbGVtZW50Pn0gKi9cbiAgY29uc3QgaW5wdXRSZWYgPSB1c2VSZWYoKTtcbiAgY29uc3QgZ3JvdXBzID0gZ3JvdXBFbnRyaWVzKHBhbGV0dGVFbnRyaWVzKTtcbiAgY29uc3Qgc2ltcGxpZnlTdHJpbmcgPSB1c2VDYWxsYmFjayhzdHIgPT4ge1xuICAgIHJldHVybiBzdHIudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9cXHMrL2csICcnKTtcbiAgfSwgW10pO1xuICBjb25zdCBmaWx0ZXIgPSB1c2VDYWxsYmFjayhlbnRyeSA9PiB7XG4gICAgY29uc3Qgc2ltcGxpZmllZFNlYXJjaFRlcm0gPSBzaW1wbGlmeVN0cmluZyhzZWFyY2hUZXJtKTtcbiAgICBpZiAoIXNpbXBsaWZpZWRTZWFyY2hUZXJtKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgY29uc3Qgc2ltcGxpZmllZEVudHJ5TGFiZWwgPSBzaW1wbGlmeVN0cmluZyhlbnRyeS5sYWJlbCk7XG4gICAgY29uc3Qgc2ltcGxpZmllZEVudHJ5VHlwZSA9IHNpbXBsaWZ5U3RyaW5nKGVudHJ5LnR5cGUpO1xuICAgIHJldHVybiBzaW1wbGlmaWVkRW50cnlMYWJlbC5pbmNsdWRlcyhzaW1wbGlmaWVkU2VhcmNoVGVybSkgfHwgc2ltcGxpZmllZEVudHJ5VHlwZS5pbmNsdWRlcyhzaW1wbGlmaWVkU2VhcmNoVGVybSk7XG4gIH0sIFtzZWFyY2hUZXJtLCBzaW1wbGlmeVN0cmluZ10pO1xuXG4gIC8vIGZpbHRlciBlbnRyaWVzIG9uIHNlYXJjaCBjaGFuZ2VcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0gaW5pdGlhbFBhbGV0dGVFbnRyaWVzLmN1cnJlbnQuZmlsdGVyKGZpbHRlcik7XG4gICAgc2V0UGFsZXR0ZUVudHJpZXMoZW50cmllcyk7XG4gIH0sIFtmaWx0ZXIsIHNlYXJjaFRlcm1dKTtcbiAgY29uc3QgaGFuZGxlSW5wdXQgPSB1c2VDYWxsYmFjayhldmVudCA9PiB7XG4gICAgc2V0U2VhcmNoVGVybSgoKSA9PiBldmVudC50YXJnZXQudmFsdWUpO1xuICB9LCBbc2V0U2VhcmNoVGVybV0pO1xuICBjb25zdCBoYW5kbGVDbGVhciA9IHVzZUNhbGxiYWNrKGV2ZW50ID0+IHtcbiAgICBzZXRTZWFyY2hUZXJtKCcnKTtcbiAgICBpbnB1dFJlZi5jdXJyZW50LmZvY3VzKCk7XG4gIH0sIFtpbnB1dFJlZiwgc2V0U2VhcmNoVGVybV0pO1xuICByZXR1cm4ganN4cyhcImRpdlwiLCB7XG4gICAgY2xhc3M6IFwiZmpzLXBhbGV0dGVcIixcbiAgICBjaGlsZHJlbjogW2pzeChcImRpdlwiLCB7XG4gICAgICBjbGFzczogXCJmanMtcGFsZXR0ZS1oZWFkZXJcIixcbiAgICAgIHRpdGxlOiBcIkNvbXBvbmVudHNcIixcbiAgICAgIGNoaWxkcmVuOiBcIkNvbXBvbmVudHNcIlxuICAgIH0pLCBqc3hzKFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzOiBcImZqcy1wYWxldHRlLXNlYXJjaC1jb250YWluZXJcIixcbiAgICAgIGNoaWxkcmVuOiBbanN4KFwic3BhblwiLCB7XG4gICAgICAgIGNsYXNzOiBcImZqcy1wYWxldHRlLXNlYXJjaC1pY29uXCIsXG4gICAgICAgIGNoaWxkcmVuOiBqc3goU3ZnU2VhcmNoLCB7fSlcbiAgICAgIH0pLCBqc3goXCJpbnB1dFwiLCB7XG4gICAgICAgIGNsYXNzOiBcImZqcy1wYWxldHRlLXNlYXJjaFwiLFxuICAgICAgICByZWY6IGlucHV0UmVmLFxuICAgICAgICB0eXBlOiBcInRleHRcIixcbiAgICAgICAgcGxhY2Vob2xkZXI6IFwiU2VhcmNoIGNvbXBvbmVudHNcIixcbiAgICAgICAgdmFsdWU6IHNlYXJjaFRlcm0sXG4gICAgICAgIG9uSW5wdXQ6IGhhbmRsZUlucHV0XG4gICAgICB9KSwgc2VhcmNoVGVybSAmJiBqc3goXCJidXR0b25cIiwge1xuICAgICAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgICAgICB0aXRsZTogXCJDbGVhciBjb250ZW50XCIsXG4gICAgICAgIGNsYXNzOiBcImZqcy1wYWxldHRlLXNlYXJjaC1jbGVhclwiLFxuICAgICAgICBvbkNsaWNrOiBoYW5kbGVDbGVhcixcbiAgICAgICAgY2hpbGRyZW46IGpzeChTdmdDbG9zZSwge30pXG4gICAgICB9KV1cbiAgICB9KSwganN4cyhcImRpdlwiLCB7XG4gICAgICBjbGFzczogXCJmanMtcGFsZXR0ZS1lbnRyaWVzXCIsXG4gICAgICBjaGlsZHJlbjogW2dyb3Vwcy5tYXAoKHtcbiAgICAgICAgbGFiZWwsXG4gICAgICAgIGVudHJpZXMsXG4gICAgICAgIGlkXG4gICAgICB9KSA9PiBqc3hzKFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3M6IFwiZmpzLXBhbGV0dGUtZ3JvdXBcIixcbiAgICAgICAgXCJkYXRhLWdyb3VwLWlkXCI6IGlkLFxuICAgICAgICBjaGlsZHJlbjogW2pzeChcInNwYW5cIiwge1xuICAgICAgICAgIGNsYXNzOiBcImZqcy1wYWxldHRlLWdyb3VwLXRpdGxlXCIsXG4gICAgICAgICAgY2hpbGRyZW46IGxhYmVsXG4gICAgICAgIH0pLCBqc3goXCJkaXZcIiwge1xuICAgICAgICAgIGNsYXNzOiBcImZqcy1wYWxldHRlLWZpZWxkcyBmanMtZHJhZy1jb250YWluZXIgZmpzLW5vLWRyb3BcIixcbiAgICAgICAgICBjaGlsZHJlbjogZW50cmllcy5tYXAoZW50cnkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGpzeChQYWxldHRlRW50cnksIHtcbiAgICAgICAgICAgICAgZ2V0UGFsZXR0ZUljb246IGdldFBhbGV0dGVJY29uLFxuICAgICAgICAgICAgICAuLi5lbnRyeVxuICAgICAgICAgICAgfSwgZW50cnkudHlwZSk7XG4gICAgICAgICAgfSlcbiAgICAgICAgfSldXG4gICAgICB9LCBpZCkpLCBncm91cHMubGVuZ3RoID09IDAgJiYganN4KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3M6IFwiZmpzLXBhbGV0dGUtbm8tZW50cmllc1wiLFxuICAgICAgICBjaGlsZHJlbjogXCJObyBjb21wb25lbnRzIGZvdW5kLlwiXG4gICAgICB9KV1cbiAgICB9KSwganN4KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzOiBcImZqcy1wYWxldHRlLWZvb3RlclwiLFxuICAgICAgY2hpbGRyZW46IGpzeChTbG90LCB7XG4gICAgICAgIG5hbWU6IFwiZWRpdG9yLXBhbGV0dGVfX2Zvb3RlclwiLFxuICAgICAgICBmaWxsUm9vdDogRmlsbFJvb3RcbiAgICAgIH0pXG4gICAgfSldXG4gIH0pO1xufVxuY29uc3QgRmlsbFJvb3QgPSBmaWxsID0+IGpzeChcImRpdlwiLCB7XG4gIGNsYXNzTmFtZTogXCJmanMtcGFsZXR0ZS1mb290ZXItZmlsbFwiLFxuICBjaGlsZHJlbjogZmlsbC5jaGlsZHJlblxufSk7XG5cbi8vIGhlbHBlcnMgLy8vLy8vL1xuXG5mdW5jdGlvbiBncm91cEVudHJpZXMoZW50cmllcykge1xuICBjb25zdCBncm91cHMgPSBQQUxFVFRFX0dST1VQUy5tYXAoZ3JvdXAgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5ncm91cCxcbiAgICAgIGVudHJpZXM6IFtdXG4gICAgfTtcbiAgfSk7XG4gIGNvbnN0IGdldEdyb3VwID0gaWQgPT4gZ3JvdXBzLmZpbmQoZ3JvdXAgPT4gaWQgPT09IGdyb3VwLmlkKTtcbiAgZW50cmllcy5mb3JFYWNoKGVudHJ5ID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBncm91cFxuICAgIH0gPSBlbnRyeTtcbiAgICBnZXRHcm91cChncm91cCkuZW50cmllcy5wdXNoKGVudHJ5KTtcbiAgfSk7XG4gIHJldHVybiBncm91cHMuZmlsdGVyKGcgPT4gZy5lbnRyaWVzLmxlbmd0aCk7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIGxpc3Qgb2YgcGFsZXR0ZSBlbnRyaWVzLlxuICpcbiAqIEBwYXJhbSB7Rm9ybUZpZWxkc30gZm9ybUZpZWxkc1xuICogQHJldHVybnMge0FycmF5PFBhbGV0dGVFbnRyeT59XG4gKi9cbmZ1bmN0aW9uIGNvbGxlY3RQYWxldHRlRW50cmllcyhmb3JtRmllbGRzKSB7XG4gIHJldHVybiBPYmplY3QuZW50cmllcyhmb3JtRmllbGRzLl9mb3JtRmllbGRzKS5tYXAoKFt0eXBlLCBmb3JtRmllbGRdKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgY29uZmlnOiBmaWVsZENvbmZpZ1xuICAgIH0gPSBmb3JtRmllbGQ7XG4gICAgcmV0dXJuIHtcbiAgICAgIC8vIGZpZWxkQ29uZmlnLmxhYmVsIGlzIHVzZWQgdG8gbWFpbnRhaW4gYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgd2l0aCBjdXN0b20gZm9ybSBmaWVsZHNcbiAgICAgIGxhYmVsOiBmaWVsZENvbmZpZy5uYW1lIHx8IGZpZWxkQ29uZmlnLmxhYmVsLFxuICAgICAgdHlwZTogdHlwZSxcbiAgICAgIGdyb3VwOiBmaWVsZENvbmZpZy5ncm91cCxcbiAgICAgIGljb246IGZpZWxkQ29uZmlnLmljb24sXG4gICAgICBpY29uVXJsOiBmaWVsZENvbmZpZy5pY29uVXJsXG4gICAgfTtcbiAgfSkuZmlsdGVyKCh7XG4gICAgdHlwZVxuICB9KSA9PiB0eXBlICE9PSAnZGVmYXVsdCcpO1xufVxuXG4vKipcbiAqIFRoZXJlIGFyZSB2YXJpb3VzIG9wdGlvbnMgdG8gc3BlY2lmeSBhbiBpY29uIGZvciBhIHBhbGV0dGUgZW50cnkuXG4gKlxuICogYSkgdmlhIGBpY29uVXJsYCBwcm9wZXJ0eSBpbiBhIGZvcm0gZmllbGQgY29uZmlnXG4gKiBiKSB2aWEgYGljb25gIHByb3BlcnR5IGluIGEgZm9ybSBmaWVsZCBjb25maWdcbiAqIGMpIHZpYSBzdGF0aWNhbGx5IGRlZmluZWQgaWNvbnNCeVR5cGUgKGZhbGxiYWNrKVxuICovXG5mdW5jdGlvbiBnZXRQYWxldHRlSWNvbihlbnRyeSkge1xuICBjb25zdCB7XG4gICAgaWNvbixcbiAgICBpY29uVXJsLFxuICAgIHR5cGUsXG4gICAgbGFiZWxcbiAgfSA9IGVudHJ5O1xuICBsZXQgSWNvbjtcbiAgaWYgKGljb25VcmwpIHtcbiAgICBJY29uID0gZnVuY3Rpb24gSWNvbigpIHtcbiAgICAgIHJldHVybiBqc3goXCJpbWdcIiwge1xuICAgICAgICBjbGFzczogXCJmanMtZmllbGQtaWNvbi1pbWFnZVwiLFxuICAgICAgICB3aWR0aDogMzYsXG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgbWFyZ2luOiAnYXV0bydcbiAgICAgICAgfSxcbiAgICAgICAgYWx0OiBsYWJlbCxcbiAgICAgICAgc3JjOiBzYW5pdGl6ZUltYWdlU291cmNlKGljb25VcmwpXG4gICAgICB9KTtcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIEljb24gPSBpY29uIHx8IGljb25zQnlUeXBlKHR5cGUpO1xuICB9XG4gIHJldHVybiBJY29uO1xufVxuXG5jb25zdCBJbmplY3RlZFJlbmRlcnNSb290ID0gKCkgPT4ge1xuICBjb25zdCByZW5kZXJJbmplY3RvciA9IHVzZVNlcnZpY2UkMSgncmVuZGVySW5qZWN0b3InKTtcbiAgY29uc3QgaW5qZWN0ZWRSZW5kZXJlcnMgPSByZW5kZXJJbmplY3Rvci5mZXRjaFJlbmRlcmVycygpO1xuICBjb25zdCBpbmplY3RlZFByb3BzID0gdXNlTWVtbygoKSA9PiAoe1xuICAgIHVzZVNlcnZpY2U6IHVzZVNlcnZpY2UkMSxcbiAgICBjb21wb25lbnRzOiB7XG4gICAgICBGaWxsLFxuICAgICAgU2xvdFxuICAgIH1cbiAgfSksIFtdKTtcbiAgcmV0dXJuIGpzeChGcmFnbWVudCwge1xuICAgIGNoaWxkcmVuOiBpbmplY3RlZFJlbmRlcmVycy5tYXAoKHtcbiAgICAgIFJlbmRlcmVyXG4gICAgfSwgaW5kZXgpID0+IGpzeChSZW5kZXJlciwge1xuICAgICAgLi4uaW5qZWN0ZWRQcm9wc1xuICAgIH0sIGluZGV4KSlcbiAgfSk7XG59O1xuXG5jb25zdCBDVVJTT1JfQ0xTX1BBVFRFUk4gPSAvXmZqcy1jdXJzb3ItLiokLztcbmZ1bmN0aW9uIHNldChtb2RlKSB7XG4gIGNvbnN0IGNsYXNzZXMkMSA9IGNsYXNzZXMoZG9jdW1lbnQuYm9keSk7XG4gIGNsYXNzZXMkMS5yZW1vdmVNYXRjaGluZyhDVVJTT1JfQ0xTX1BBVFRFUk4pO1xuICBpZiAobW9kZSkge1xuICAgIGNsYXNzZXMkMS5hZGQoJ2Zqcy1jdXJzb3ItJyArIG1vZGUpO1xuICB9XG59XG5mdW5jdGlvbiB1bnNldCgpIHtcbiAgc2V0KG51bGwpO1xufVxuXG5jb25zdCBEUkFHX0NPTlRBSU5FUl9DTFMgPSAnZmpzLWRyYWctY29udGFpbmVyJztcbmNvbnN0IERST1BfQ09OVEFJTkVSX1ZFUlRJQ0FMX0NMUyA9ICdmanMtZHJvcC1jb250YWluZXItdmVydGljYWwnO1xuY29uc3QgRFJPUF9DT05UQUlORVJfSE9SSVpPTlRBTF9DTFMgPSAnZmpzLWRyb3AtY29udGFpbmVyLWhvcml6b250YWwnO1xuY29uc3QgRFJBR19NT1ZFX0NMUyA9ICdmanMtZHJhZy1tb3ZlJztcbmNvbnN0IERSQUdfUk9XX01PVkVfQ0xTID0gJ2Zqcy1kcmFnLXJvdy1tb3ZlJztcbmNvbnN0IERSQUdfQ09QWV9DTFMgPSAnZmpzLWRyYWctY29weSc7XG5jb25zdCBEUkFHX05PX0RST1BfQ0xTID0gJ2Zqcy1uby1kcm9wJztcbmNvbnN0IERSQUdfTk9fTU9WRV9DTFMgPSAnZmpzLW5vLW1vdmUnO1xuY29uc3QgRVJST1JfRFJPUF9DTFMgPSAnZmpzLWVycm9yLWRyb3AnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHsgeyBpZDogU3RyaW5nLCBjb21wb25lbnRzOiBBcnJheTxhbnk+IH0gfSBGb3JtUm93XG4gKi9cblxuY2xhc3MgRHJhZ2dpbmcge1xuICAvKipcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqXG4gICAqIEBwYXJhbSB7IGltcG9ydCgnLi4vLi4vY29yZS9Gb3JtRmllbGRSZWdpc3RyeScpLkZvcm1GaWVsZFJlZ2lzdHJ5IH0gZm9ybUZpZWxkUmVnaXN0cnlcbiAgICogQHBhcmFtIHsgaW1wb3J0KCcuLi8uLi9jb3JlL0Zvcm1MYXlvdXRlcicpLkZvcm1MYXlvdXRlciB9IGZvcm1MYXlvdXRlclxuICAgKiBAcGFyYW0geyBpbXBvcnQoJy4uLy4uL2NvcmUvRm9ybUxheW91dFZhbGlkYXRvcicpLkZvcm1MYXlvdXRWYWxpZGF0b3IgfSBmb3JtTGF5b3V0VmFsaWRhdG9yXG4gICAqIEBwYXJhbSB7IGltcG9ydCgnLi4vLi4vY29yZS9FdmVudEJ1cycpLkV2ZW50QnVzIH0gZXZlbnRCdXNcbiAgICogQHBhcmFtIHsgaW1wb3J0KCcuLi9tb2RlbGluZy9Nb2RlbGluZycpLk1vZGVsaW5nIH0gbW9kZWxpbmdcbiAgICogQHBhcmFtIHsgaW1wb3J0KCdAYnBtbi1pby9mb3JtLWpzLXZpZXdlcicpLlBhdGhSZWdpc3RyeSB9IHBhdGhSZWdpc3RyeVxuICAgKi9cbiAgY29uc3RydWN0b3IoZm9ybUZpZWxkUmVnaXN0cnksIGZvcm1MYXlvdXRlciwgZm9ybUxheW91dFZhbGlkYXRvciwgZXZlbnRCdXMsIG1vZGVsaW5nLCBwYXRoUmVnaXN0cnkpIHtcbiAgICB0aGlzLl9mb3JtRmllbGRSZWdpc3RyeSA9IGZvcm1GaWVsZFJlZ2lzdHJ5O1xuICAgIHRoaXMuX2Zvcm1MYXlvdXRlciA9IGZvcm1MYXlvdXRlcjtcbiAgICB0aGlzLl9mb3JtTGF5b3V0VmFsaWRhdG9yID0gZm9ybUxheW91dFZhbGlkYXRvcjtcbiAgICB0aGlzLl9ldmVudEJ1cyA9IGV2ZW50QnVzO1xuICAgIHRoaXMuX21vZGVsaW5nID0gbW9kZWxpbmc7XG4gICAgdGhpcy5fcGF0aFJlZ2lzdHJ5ID0gcGF0aFJlZ2lzdHJ5O1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZXMgcG9zaXRpb24gaW4gZm9ybSBzY2hlbWEgZ2l2ZW4gdGhlIGRyb3BwZWQgcGxhY2UuXG4gICAqXG4gICAqIEBwYXJhbSB7IEZvcm1Sb3cgfSB0YXJnZXRSb3dcbiAgICogQHBhcmFtIHsgYW55IH0gdGFyZ2V0Rm9ybUZpZWxkXG4gICAqIEBwYXJhbSB7IEhUTUxFbGVtZW50IH0gc2libGluZ1xuICAgKiBAcmV0dXJucyB7IG51bWJlciB9XG4gICAqL1xuICBnZXRUYXJnZXRJbmRleCh0YXJnZXRSb3csIHRhcmdldEZvcm1GaWVsZCwgc2libGluZykge1xuICAgIC8qKiBAdHlwZSBIVE1MRWxlbWVudCAqL1xuICAgIGNvbnN0IHNpYmxpbmdGb3JtRmllbGROb2RlID0gc2libGluZyAmJiBzaWJsaW5nLnF1ZXJ5U2VsZWN0b3IoJy5manMtZWxlbWVudCcpO1xuICAgIGNvbnN0IHNpYmxpbmdGb3JtRmllbGQgPSBzaWJsaW5nRm9ybUZpZWxkTm9kZSAmJiB0aGlzLl9mb3JtRmllbGRSZWdpc3RyeS5nZXQoc2libGluZ0Zvcm1GaWVsZE5vZGUuZGF0YXNldC5pZCk7XG5cbiAgICAvLyAoMSkgZHJvcHBlZCBiZWZvcmUgZXhpc3RpbmcgZmllbGQgPT4gcGxhY2UgYmVmb3JlXG4gICAgaWYgKHNpYmxpbmdGb3JtRmllbGQpIHtcbiAgICAgIHJldHVybiBnZXRGb3JtRmllbGRJbmRleCQxKHRhcmdldEZvcm1GaWVsZCwgc2libGluZ0Zvcm1GaWVsZCk7XG4gICAgfVxuXG4gICAgLy8gKDIpIGRyb3BwZWQgaW4gcm93ID0+IHBsYWNlIGF0IHRoZSBlbmQgb2Ygcm93IChhZnRlciBsYXN0IGZpZWxkIGluIHJvdylcbiAgICBpZiAodGFyZ2V0Um93KSB7XG4gICAgICByZXR1cm4gZ2V0Rm9ybUZpZWxkSW5kZXgkMSh0YXJnZXRGb3JtRmllbGQsIHRoaXMuX2Zvcm1GaWVsZFJlZ2lzdHJ5LmdldCh0YXJnZXRSb3cuY29tcG9uZW50c1t0YXJnZXRSb3cuY29tcG9uZW50cy5sZW5ndGggLSAxXSkpICsgMTtcbiAgICB9XG5cbiAgICAvLyAoMykgZHJvcHBlZCBhcyBsYXN0IGl0ZW1cbiAgICByZXR1cm4gdGFyZ2V0Rm9ybUZpZWxkLmNvbXBvbmVudHMubGVuZ3RoO1xuICB9XG4gIHZhbGlkYXRlRHJvcChlbGVtZW50LCB0YXJnZXQpIHtcbiAgICBjb25zdCBmb3JtRmllbGROb2RlID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZmpzLWVsZW1lbnQnKTtcbiAgICBjb25zdCB0YXJnZXRSb3cgPSB0aGlzLl9mb3JtTGF5b3V0ZXIuZ2V0Um93KHRhcmdldC5kYXRhc2V0LnJvd0lkKTtcbiAgICBsZXQgY29sdW1ucztcbiAgICBsZXQgZm9ybUZpZWxkO1xuICAgIGxldCB0YXJnZXRQYXJlbnRJZDtcbiAgICBpZiAoZm9ybUZpZWxkTm9kZSkge1xuICAgICAgZm9ybUZpZWxkID0gdGhpcy5fZm9ybUZpZWxkUmVnaXN0cnkuZ2V0KGZvcm1GaWVsZE5vZGUuZGF0YXNldC5pZCk7XG4gICAgICBpZiAoIWZvcm1GaWVsZCkge1xuICAgICAgICByZXR1cm4gJ05vIGFzc29jaWF0ZWQgZm9ybSBmaWVsZCBpbiB0aGUgcmVnaXN0cnknO1xuICAgICAgfVxuICAgICAgY29sdW1ucyA9IChmb3JtRmllbGQubGF5b3V0IHx8IHt9KS5jb2x1bW5zO1xuXG4gICAgICAvLyAoMSkgY2hlY2sgZm9yIHJvdyBjb25zdHJhaW50c1xuICAgICAgaWYgKGlzUm93KHRhcmdldCkpIHtcbiAgICAgICAgdGFyZ2V0UGFyZW50SWQgPSBnZXRGb3JtUGFyZW50KHRhcmdldCkuZGF0YXNldC5pZDtcbiAgICAgICAgY29uc3Qgcm93RXJyb3IgPSB0aGlzLl9mb3JtTGF5b3V0VmFsaWRhdG9yLnZhbGlkYXRlRmllbGQoZm9ybUZpZWxkLCBjb2x1bW5zLCB0YXJnZXRSb3cpO1xuICAgICAgICBpZiAocm93RXJyb3IpIHtcbiAgICAgICAgICByZXR1cm4gcm93RXJyb3I7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRhcmdldFBhcmVudElkID0gdGFyZ2V0LmRhdGFzZXQuaWQ7XG4gICAgICB9XG5cbiAgICAgIC8vICgyKSBjaGVjayB0YXJnZXQgaXMgYSB2YWxpZCBwYXJlbnRcbiAgICAgIGlmICghdGFyZ2V0UGFyZW50SWQpIHtcbiAgICAgICAgcmV0dXJuICdEcm9wIGlzIG5vdCBhIHZhbGlkIHRhcmdldCc7XG4gICAgICB9XG5cbiAgICAgIC8vICgzKSBjaGVjayAgZm9yIHBhdGggY29sbGlzaW9uc1xuICAgICAgY29uc3QgdGFyZ2V0UGFyZW50Rm9ybUZpZWxkID0gdGhpcy5fZm9ybUZpZWxkUmVnaXN0cnkuZ2V0KHRhcmdldFBhcmVudElkKTtcbiAgICAgIGNvbnN0IGN1cnJlbnRQYXJlbnRGb3JtRmllbGQgPSB0aGlzLl9mb3JtRmllbGRSZWdpc3RyeS5nZXQoZm9ybUZpZWxkLl9wYXJlbnQpO1xuICAgICAgaWYgKHRhcmdldFBhcmVudEZvcm1GaWVsZCAhPT0gY3VycmVudFBhcmVudEZvcm1GaWVsZCkge1xuICAgICAgICBjb25zdCB0YXJnZXRQYXJlbnRQYXRoID0gdGhpcy5fcGF0aFJlZ2lzdHJ5LmdldFZhbHVlUGF0aCh0YXJnZXRQYXJlbnRGb3JtRmllbGQpO1xuICAgICAgICBjb25zdCBjdXJyZW50UGFyZW50UGF0aCA9IHRoaXMuX3BhdGhSZWdpc3RyeS5nZXRWYWx1ZVBhdGgoY3VycmVudFBhcmVudEZvcm1GaWVsZCk7XG4gICAgICAgIGlmICh0YXJnZXRQYXJlbnRQYXRoLmpvaW4oJy4nKSAhPT0gY3VycmVudFBhcmVudFBhdGguam9pbignLicpKSB7XG4gICAgICAgICAgY29uc3QgaXNEcm9wQWxsb3dlZEJ5UGF0aFJlZ2lzdHJ5ID0gdGhpcy5fcGF0aFJlZ2lzdHJ5LmV4ZWN1dGVSZWN1cnNpdmVseU9uRmllbGRzKGZvcm1GaWVsZCwgKHtcbiAgICAgICAgICAgIGZpZWxkLFxuICAgICAgICAgICAgaXNDbG9zZWQsXG4gICAgICAgICAgICBpc1JlcGVhdGFibGVcbiAgICAgICAgICB9KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICAgICAgICBjdXRvZmZOb2RlOiBjdXJyZW50UGFyZW50Rm9ybUZpZWxkLmlkXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgZmllbGRQYXRoID0gdGhpcy5fcGF0aFJlZ2lzdHJ5LmdldFZhbHVlUGF0aChmaWVsZCwgb3B0aW9ucyk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcGF0aFJlZ2lzdHJ5LmNhbkNsYWltUGF0aChbLi4udGFyZ2V0UGFyZW50UGF0aCwgLi4uZmllbGRQYXRoXSwge1xuICAgICAgICAgICAgICBpc0Nsb3NlZCxcbiAgICAgICAgICAgICAgaXNSZXBlYXRhYmxlLFxuICAgICAgICAgICAgICBrbm93bkFuY2VzdG9ySWRzOiBnZXRBbmNlc3RyeUxpc3QodGFyZ2V0UGFyZW50SWQsIHRoaXMuX2Zvcm1GaWVsZFJlZ2lzdHJ5KVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaWYgKCFpc0Ryb3BBbGxvd2VkQnlQYXRoUmVnaXN0cnkpIHtcbiAgICAgICAgICAgIHJldHVybiAnRHJvcCBub3QgYWxsb3dlZCBieSBwYXRoIHJlZ2lzdHJ5JztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgbW92ZUZpZWxkKGVsZW1lbnQsIHNvdXJjZSwgdGFyZ2V0Um93LCB0YXJnZXRGb3JtRmllbGQsIHRhcmdldEluZGV4KSB7XG4gICAgY29uc3QgZm9ybUZpZWxkTm9kZSA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcignLmZqcy1lbGVtZW50Jyk7XG4gICAgY29uc3QgZm9ybUZpZWxkID0gdGhpcy5fZm9ybUZpZWxkUmVnaXN0cnkuZ2V0KGZvcm1GaWVsZE5vZGUuZGF0YXNldC5pZCk7XG4gICAgY29uc3Qgc291cmNlUGFyZW50ID0gZ2V0Rm9ybVBhcmVudChzb3VyY2UpO1xuICAgIGNvbnN0IHNvdXJjZUZvcm1GaWVsZCA9IHRoaXMuX2Zvcm1GaWVsZFJlZ2lzdHJ5LmdldChzb3VyY2VQYXJlbnQuZGF0YXNldC5pZCk7XG4gICAgY29uc3Qgc291cmNlSW5kZXggPSBnZXRGb3JtRmllbGRJbmRleCQxKHNvdXJjZUZvcm1GaWVsZCwgZm9ybUZpZWxkKTtcbiAgICBjb25zdCBzb3VyY2VSb3cgPSB0aGlzLl9mb3JtTGF5b3V0ZXIuZ2V0Um93Rm9yRmllbGQoZm9ybUZpZWxkKTtcbiAgICB0aGlzLl9tb2RlbGluZy5tb3ZlRm9ybUZpZWxkKGZvcm1GaWVsZCwgc291cmNlRm9ybUZpZWxkLCB0YXJnZXRGb3JtRmllbGQsIHNvdXJjZUluZGV4LCB0YXJnZXRJbmRleCwgc291cmNlUm93LCB0YXJnZXRSb3cpO1xuICB9XG4gIGNyZWF0ZU5ld0ZpZWxkKGVsZW1lbnQsIHRhcmdldFJvdywgdGFyZ2V0Rm9ybUZpZWxkLCB0YXJnZXRJbmRleCkge1xuICAgIGNvbnN0IHR5cGUgPSBlbGVtZW50LmRhdGFzZXQuZmllbGRUeXBlO1xuICAgIGxldCBhdHRycyA9IHtcbiAgICAgIHR5cGVcbiAgICB9O1xuICAgIGF0dHJzID0ge1xuICAgICAgLi4uYXR0cnMsXG4gICAgICBfcGFyZW50OiB0YXJnZXRGb3JtRmllbGQuaWQsXG4gICAgICBsYXlvdXQ6IHtcbiAgICAgICAgcm93OiB0YXJnZXRSb3cgPyB0YXJnZXRSb3cuaWQgOiB0aGlzLl9mb3JtTGF5b3V0ZXIubmV4dFJvd0lkKCksXG4gICAgICAgIC8vIGVuYWJsZSBhdXRvIGNvbHVtbnNcbiAgICAgICAgY29sdW1uczogbnVsbFxuICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5fbW9kZWxpbmcuYWRkRm9ybUZpZWxkKGF0dHJzLCB0YXJnZXRGb3JtRmllbGQsIHRhcmdldEluZGV4KTtcbiAgfVxuICBoYW5kbGVSb3dEcm9wKGVsLCB0YXJnZXQsIHNvdXJjZSwgc2libGluZykge1xuICAgIGNvbnN0IHRhcmdldEZvcm1GaWVsZCA9IHRoaXMuX2Zvcm1GaWVsZFJlZ2lzdHJ5LmdldCh0YXJnZXQuZGF0YXNldC5pZCk7XG4gICAgY29uc3Qgcm93Tm9kZSA9IGVsLnF1ZXJ5U2VsZWN0b3IoJy5manMtbGF5b3V0LXJvdycpO1xuICAgIGNvbnN0IHJvdyA9IHRoaXMuX2Zvcm1MYXlvdXRlci5nZXRSb3cocm93Tm9kZS5kYXRhc2V0LnJvd0lkKTtcblxuICAgIC8vIG1vdmUgZWFjaCBmaWVsZCBpbiB0aGUgcm93IGJlZm9yZSBmaXJzdCBmaWVsZCBvZiBzaWJsaW5nIHJvd1xuICAgIHJvdy5jb21wb25lbnRzLmZvckVhY2goKGlkLCBpbmRleCkgPT4ge1xuICAgICAgY29uc3QgZm9ybUZpZWxkID0gdGhpcy5fZm9ybUZpZWxkUmVnaXN0cnkuZ2V0KGlkKTtcbiAgICAgIGNvbnN0IHNvdXJjZVBhcmVudCA9IGdldEZvcm1QYXJlbnQoc291cmNlKTtcbiAgICAgIGNvbnN0IHNvdXJjZUZvcm1GaWVsZCA9IHRoaXMuX2Zvcm1GaWVsZFJlZ2lzdHJ5LmdldChzb3VyY2VQYXJlbnQuZGF0YXNldC5pZCk7XG4gICAgICBjb25zdCBzaWJsaW5nUm93Tm9kZSA9IHNpYmxpbmcgJiYgc2libGluZy5xdWVyeVNlbGVjdG9yKCcuZmpzLWxheW91dC1yb3cnKTtcbiAgICAgIGNvbnN0IHNpYmxpbmdSb3cgPSBzaWJsaW5nUm93Tm9kZSAmJiB0aGlzLl9mb3JtTGF5b3V0ZXIuZ2V0Um93KHNpYmxpbmdSb3dOb2RlLmRhdGFzZXQucm93SWQpO1xuICAgICAgY29uc3Qgc2libGluZ0Zvcm1GaWVsZCA9IHNpYmxpbmcgJiYgdGhpcy5fZm9ybUZpZWxkUmVnaXN0cnkuZ2V0KHNpYmxpbmdSb3cuY29tcG9uZW50c1swXSk7XG4gICAgICBjb25zdCBzb3VyY2VJbmRleCA9IGdldEZvcm1GaWVsZEluZGV4JDEoc291cmNlRm9ybUZpZWxkLCBmb3JtRmllbGQpO1xuICAgICAgY29uc3QgdGFyZ2V0SW5kZXggPSAoc2libGluZ1Jvd05vZGUgPyBnZXRGb3JtRmllbGRJbmRleCQxKHRhcmdldEZvcm1GaWVsZCwgc2libGluZ0Zvcm1GaWVsZCkgOiB0YXJnZXRGb3JtRmllbGQuY29tcG9uZW50cy5sZW5ndGgpICsgaW5kZXg7XG4gICAgICB0aGlzLl9tb2RlbGluZy5tb3ZlRm9ybUZpZWxkKGZvcm1GaWVsZCwgc291cmNlRm9ybUZpZWxkLCB0YXJnZXRGb3JtRmllbGQsIHNvdXJjZUluZGV4LCB0YXJnZXRJbmRleCwgcm93LCByb3cpO1xuICAgIH0pO1xuICB9XG4gIGhhbmRsZUVsZW1lbnREcm9wKGVsLCB0YXJnZXQsIHNvdXJjZSwgc2libGluZywgZHJha2UpIHtcbiAgICAvLyAoMSkgZGV0ZWN0IGRyb3AgdGFyZ2V0XG4gICAgY29uc3QgdGFyZ2V0Rm9ybUZpZWxkID0gdGhpcy5fZm9ybUZpZWxkUmVnaXN0cnkuZ2V0KGdldEZvcm1QYXJlbnQodGFyZ2V0KS5kYXRhc2V0LmlkKTtcbiAgICBsZXQgdGFyZ2V0Um93O1xuXG4gICAgLy8gKDIuMSkgZHJvcHBlZCBpbiBleGlzdGluZyByb3dcbiAgICBpZiAoaXNSb3codGFyZ2V0KSkge1xuICAgICAgdGFyZ2V0Um93ID0gdGhpcy5fZm9ybUxheW91dGVyLmdldFJvdyh0YXJnZXQuZGF0YXNldC5yb3dJZCk7XG4gICAgfVxuXG4gICAgLy8gKDIuMikgdmFsaWRhdGUgd2hldGhlciBkcm9wIGlzIGFsbG93ZWRcbiAgICBjb25zdCB2YWxpZGF0aW9uRXJyb3IgPSB0aGlzLnZhbGlkYXRlRHJvcChlbCwgdGFyZ2V0KTtcbiAgICBpZiAodmFsaWRhdGlvbkVycm9yKSB7XG4gICAgICByZXR1cm4gZHJha2UuY2FuY2VsKHRydWUpO1xuICAgIH1cbiAgICBkcmFrZS5yZW1vdmUoKTtcblxuICAgIC8vICgzKSBkZXRlY3QgcG9zaXRpb24gdG8gZHJvcCBmaWVsZCBpbiBzY2hlbWEgb3JkZXJcbiAgICBjb25zdCB0YXJnZXRJbmRleCA9IHRoaXMuZ2V0VGFyZ2V0SW5kZXgodGFyZ2V0Um93LCB0YXJnZXRGb3JtRmllbGQsIHNpYmxpbmcpO1xuXG4gICAgLy8gKDQpIGNyZWF0ZSBuZXcgZmllbGQgb3IgbW92ZSBleGlzdGluZ1xuICAgIGlmIChpc1BhbGV0dGUoc291cmNlKSkge1xuICAgICAgdGhpcy5jcmVhdGVOZXdGaWVsZChlbCwgdGFyZ2V0Um93LCB0YXJnZXRGb3JtRmllbGQsIHRhcmdldEluZGV4KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5tb3ZlRmllbGQoZWwsIHNvdXJjZSwgdGFyZ2V0Um93LCB0YXJnZXRGb3JtRmllbGQsIHRhcmdldEluZGV4KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHsgeyBjb250YWluZXI6IEFycmF5PHN0cmluZz4sIGRpcmVjdGlvbjogc3RyaW5nLCBtaXJyb3JDb250YWluZXI6IHN0cmluZyB9IH0gb3B0aW9uc1xuICAgKi9cbiAgY3JlYXRlRHJhZ3VsYUluc3RhbmNlKG9wdGlvbnMpIHtcbiAgICBjb25zdCB7XG4gICAgICBjb250YWluZXIsXG4gICAgICBtaXJyb3JDb250YWluZXJcbiAgICB9ID0gb3B0aW9ucyB8fCB7fTtcbiAgICBsZXQgZHJhZ3VsYU9wdGlvbnMgPSB7XG4gICAgICBkaXJlY3Rpb246IGZ1bmN0aW9uIChlbCwgdGFyZ2V0KSB7XG4gICAgICAgIGlmIChpc1Jvdyh0YXJnZXQpKSB7XG4gICAgICAgICAgcmV0dXJuICdob3Jpem9udGFsJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJ3ZlcnRpY2FsJztcbiAgICAgIH0sXG4gICAgICBtaXJyb3JDb250YWluZXIsXG4gICAgICBpc0NvbnRhaW5lcihlbCkge1xuICAgICAgICByZXR1cm4gY29udGFpbmVyLnNvbWUoY2xzID0+IGVsLmNsYXNzTGlzdC5jb250YWlucyhjbHMpKTtcbiAgICAgIH0sXG4gICAgICBtb3ZlcyhlbCwgc291cmNlLCBoYW5kbGUpIHtcbiAgICAgICAgcmV0dXJuICFoYW5kbGUuY2xhc3NMaXN0LmNvbnRhaW5zKERSQUdfTk9fTU9WRV9DTFMpICYmIChlbC5jbGFzc0xpc3QuY29udGFpbnMoRFJBR19NT1ZFX0NMUykgfHwgZWwuY2xhc3NMaXN0LmNvbnRhaW5zKERSQUdfQ09QWV9DTFMpIHx8IGVsLmNsYXNzTGlzdC5jb250YWlucyhEUkFHX1JPV19NT1ZFX0NMUykpO1xuICAgICAgfSxcbiAgICAgIGNvcHkoZWwpIHtcbiAgICAgICAgcmV0dXJuIGVsLmNsYXNzTGlzdC5jb250YWlucyhEUkFHX0NPUFlfQ0xTKTtcbiAgICAgIH0sXG4gICAgICBhY2NlcHRzOiAoZWwsIHRhcmdldCkgPT4ge1xuICAgICAgICB1bnNldERyb3BOb3RBbGxvd2VkKHRhcmdldCk7XG5cbiAgICAgICAgLy8gYWxsb3cgZHJvcHBpbmcgcm93cyBvbmx5IGJldHdlZW4gcm93c1xuICAgICAgICBpZiAoZWwuY2xhc3NMaXN0LmNvbnRhaW5zKERSQUdfUk9XX01PVkVfQ0xTKSkge1xuICAgICAgICAgIHJldHVybiAhdGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhEUk9QX0NPTlRBSU5FUl9IT1JJWk9OVEFMX0NMUyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB2YWxpZGF0ZSBmaWVsZCBkcm9wXG4gICAgICAgIGNvbnN0IHZhbGlkYXRpb25FcnJvciA9IHRoaXMudmFsaWRhdGVEcm9wKGVsLCB0YXJnZXQpO1xuICAgICAgICBpZiAodmFsaWRhdGlvbkVycm9yKSB7XG4gICAgICAgICAgLy8gc2V0IGVycm9yIGZlZWRiYWNrIHRvIHJvd1xuICAgICAgICAgIHNldERyb3BOb3RBbGxvd2VkKHRhcmdldCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICF0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKERSQUdfTk9fRFJPUF9DTFMpO1xuICAgICAgfSxcbiAgICAgIHRyYW5zZm9ybU9mZnNldDogKG9mZnNldCwgZXZlbnQsIGVsZW1lbnQpID0+IHtcbiAgICAgICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKERSQUdfUk9XX01PVkVfQ0xTKSkge1xuICAgICAgICAgIGNvbnN0IHJvd09mZnNldCA9IHtcbiAgICAgICAgICAgIHg6IC01LFxuICAgICAgICAgICAgeTogLTYwXG4gICAgICAgICAgfTtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbGVmdDogZXZlbnQuY2xpZW50WCArIHJvd09mZnNldC54LFxuICAgICAgICAgICAgdG9wOiBldmVudC5jbGllbnRZICsgcm93T2Zmc2V0LnlcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhEUkFHX01PVkVfQ0xTKSkge1xuICAgICAgICAgIGNvbnN0IGljb25PZmZzZXQgPSB7XG4gICAgICAgICAgICB4OiAtNSxcbiAgICAgICAgICAgIHk6IC0xNVxuICAgICAgICAgIH07XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGxlZnQ6IGV2ZW50LmNsaWVudFggKyBpY29uT2Zmc2V0LngsXG4gICAgICAgICAgICB0b3A6IGV2ZW50LmNsaWVudFkgKyBpY29uT2Zmc2V0LnlcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvZmZzZXQ7XG4gICAgICB9LFxuICAgICAgc2xpZGVGYWN0b3JYOiAxMCxcbiAgICAgIHNsaWRlRmFjdG9yWTogNVxuICAgIH07XG4gICAgY29uc3QgZHJhZ3VsYUluc3RhbmNlID0gZHJhZ3VsYShkcmFndWxhT3B0aW9ucyk7XG5cbiAgICAvLyBiaW5kIGxpZmUgY3ljbGUgZXZlbnRzXG4gICAgZHJhZ3VsYUluc3RhbmNlLm9uKCdkcmFnJywgKGVsZW1lbnQsIHNvdXJjZSkgPT4ge1xuICAgICAgdGhpcy5lbWl0KCdkcmFnLnN0YXJ0Jywge1xuICAgICAgICBlbGVtZW50LFxuICAgICAgICBzb3VyY2VcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGRyYWd1bGFJbnN0YW5jZS5vbignZHJhZ2VuZCcsIGVsZW1lbnQgPT4ge1xuICAgICAgdGhpcy5lbWl0KCdkcmFnLmVuZCcsIHtcbiAgICAgICAgZWxlbWVudFxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgZHJhZ3VsYUluc3RhbmNlLm9uKCdkcm9wJywgKGVsZW1lbnQsIHRhcmdldCwgc291cmNlLCBzaWJsaW5nKSA9PiB7XG4gICAgICB0aGlzLmVtaXQoJ2RyYWcuZHJvcCcsIHtcbiAgICAgICAgZWxlbWVudCxcbiAgICAgICAgdGFyZ2V0LFxuICAgICAgICBzb3VyY2UsXG4gICAgICAgIHNpYmxpbmdcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGRyYWd1bGFJbnN0YW5jZS5vbignb3ZlcicsIChlbGVtZW50LCBjb250YWluZXIsIHNvdXJjZSkgPT4ge1xuICAgICAgdGhpcy5lbWl0KCdkcmFnLmhvdmVyJywge1xuICAgICAgICBlbGVtZW50LFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIHNvdXJjZVxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgZHJhZ3VsYUluc3RhbmNlLm9uKCdvdXQnLCAoZWxlbWVudCwgY29udGFpbmVyLCBzb3VyY2UpID0+IHtcbiAgICAgIHRoaXMuZW1pdCgnZHJhZy5vdXQnLCB7XG4gICAgICAgIGVsZW1lbnQsXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgc291cmNlXG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBkcmFndWxhSW5zdGFuY2Uub24oJ2NhbmNlbCcsIChlbGVtZW50LCBjb250YWluZXIsIHNvdXJjZSkgPT4ge1xuICAgICAgdGhpcy5lbWl0KCdkcmFnLmNhbmNlbCcsIHtcbiAgICAgICAgZWxlbWVudCxcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICBzb3VyY2VcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGRyYWd1bGFJbnN0YW5jZS5vbignZHJvcCcsIChlbCwgdGFyZ2V0LCBzb3VyY2UsIHNpYmxpbmcpID0+IHtcbiAgICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICAgIGRyYWd1bGFJbnN0YW5jZS5yZW1vdmUoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyAoMSkgaGFuZGxlIHJvdyBkcm9wXG4gICAgICBpZiAoaXNEcmFnUm93KGVsKSkge1xuICAgICAgICB0aGlzLmhhbmRsZVJvd0Ryb3AoZWwsIHRhcmdldCwgc291cmNlLCBzaWJsaW5nKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vICgyKSBoYW5kbGUgZm9ybSBmaWVsZCBkcm9wXG4gICAgICAgIHRoaXMuaGFuZGxlRWxlbWVudERyb3AoZWwsIHRhcmdldCwgc291cmNlLCBzaWJsaW5nLCBkcmFndWxhSW5zdGFuY2UpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuZW1pdCgnZHJhZ3VsYS5jcmVhdGVkJywgZHJhZ3VsYUluc3RhbmNlKTtcbiAgICByZXR1cm4gZHJhZ3VsYUluc3RhbmNlO1xuICB9XG4gIGVtaXQoZXZlbnQsIGNvbnRleHQpIHtcbiAgICB0aGlzLl9ldmVudEJ1cy5maXJlKGV2ZW50LCBjb250ZXh0KTtcbiAgfVxufVxuRHJhZ2dpbmcuJGluamVjdCA9IFsnZm9ybUZpZWxkUmVnaXN0cnknLCAnZm9ybUxheW91dGVyJywgJ2Zvcm1MYXlvdXRWYWxpZGF0b3InLCAnZXZlbnRCdXMnLCAnbW9kZWxpbmcnLCAncGF0aFJlZ2lzdHJ5J107XG5cbi8vIGhlbHBlciAvLy8vLy8vLy8vXG5cbmZ1bmN0aW9uIGdldEZvcm1GaWVsZEluZGV4JDEocGFyZW50LCBmb3JtRmllbGQpIHtcbiAgbGV0IGZpZWxkRm9ybUluZGV4ID0gcGFyZW50LmNvbXBvbmVudHMubGVuZ3RoO1xuICBwYXJlbnQuY29tcG9uZW50cy5mb3JFYWNoKCh7XG4gICAgaWRcbiAgfSwgaW5kZXgpID0+IHtcbiAgICBpZiAoaWQgPT09IGZvcm1GaWVsZC5pZCkge1xuICAgICAgZmllbGRGb3JtSW5kZXggPSBpbmRleDtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gZmllbGRGb3JtSW5kZXg7XG59XG5mdW5jdGlvbiBpc1Jvdyhub2RlKSB7XG4gIHJldHVybiBub2RlLmNsYXNzTGlzdC5jb250YWlucygnZmpzLWxheW91dC1yb3cnKTtcbn1cbmZ1bmN0aW9uIGlzRHJhZ1Jvdyhub2RlKSB7XG4gIHJldHVybiBub2RlLmNsYXNzTGlzdC5jb250YWlucyhEUkFHX1JPV19NT1ZFX0NMUyk7XG59XG5mdW5jdGlvbiBpc1BhbGV0dGUobm9kZSkge1xuICByZXR1cm4gbm9kZS5jbGFzc0xpc3QuY29udGFpbnMoJ2Zqcy1wYWxldHRlLWZpZWxkcycpO1xufVxuZnVuY3Rpb24gZ2V0Rm9ybVBhcmVudChub2RlKSB7XG4gIHJldHVybiBub2RlLmNsb3Nlc3QoJy5manMtZWxlbWVudCcpO1xufVxuZnVuY3Rpb24gc2V0RHJvcE5vdEFsbG93ZWQobm9kZSkge1xuICBub2RlLmNsYXNzTGlzdC5hZGQoRVJST1JfRFJPUF9DTFMpO1xuICBzZXQoJ25vdC1hbGxvd2VkJyk7XG59XG5mdW5jdGlvbiB1bnNldERyb3BOb3RBbGxvd2VkKG5vZGUpIHtcbiAgbm9kZS5jbGFzc0xpc3QucmVtb3ZlKEVSUk9SX0RST1BfQ0xTKTtcbiAgc2V0KCdncmFiYmluZycpO1xufVxuXG5mdW5jdGlvbiBGaWVsZERyYWdQcmV2aWV3KHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBjbGFzczogY2xhc3NOYW1lLFxuICAgIEljb24sXG4gICAgbGFiZWxcbiAgfSA9IHByb3BzO1xuICByZXR1cm4ganN4cyhcImRpdlwiLCB7XG4gICAgY2xhc3M6IGNsYXNzbmFtZXMoJ2Zqcy1maWVsZC1wcmV2aWV3JywgY2xhc3NOYW1lKSxcbiAgICBjaGlsZHJlbjogW2pzeChJY29uLCB7XG4gICAgICBjbGFzczogXCJmanMtZmllbGQtcHJldmlldy1pY29uXCIsXG4gICAgICB3aWR0aDogXCIzNlwiLFxuICAgICAgaGVpZ2h0OiBcIjM2XCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCA1NCA1NFwiXG4gICAgfSksIGpzeChcInNwYW5cIiwge1xuICAgICAgY2xhc3M6IFwiZmpzLWZpZWxkLXByZXZpZXctdGV4dFwiLFxuICAgICAgY2hpbGRyZW46IGxhYmVsXG4gICAgfSldXG4gIH0pO1xufVxuXG5jb25zdCBDT0xVTU5TX1JFR0VYID0gL15jZHMtLWNvbCgtbGcpPy87XG5jb25zdCBFTEVNRU5UX1JFU0laSU5HX0NMUyA9ICdmanMtZWxlbWVudC1yZXNpemluZyc7XG5jb25zdCBHUklEX09GRlNFVF9QWCA9IDE2O1xuZnVuY3Rpb24gRmllbGRSZXNpemVyKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBmaWVsZCxcbiAgICBwb3NpdGlvblxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IHJlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgZm9ybUxheW91dFZhbGlkYXRvciA9IHVzZVNlcnZpY2UkMSgnZm9ybUxheW91dFZhbGlkYXRvcicpO1xuICBjb25zdCBtb2RlbGluZyA9IHVzZVNlcnZpY2UkMSgnbW9kZWxpbmcnKTtcblxuICAvLyB3ZSBjYW4ndCB1c2Ugc3RhdGUgYXMgd2UgbmVlZCB0b1xuICAvLyBtYW5pcHVsYXRlIHRoaXMgaW5zaWRlIGRyYWdnaW5nIGV2ZW50c1xuICBjb25zdCBjb250ZXh0ID0gdXNlUmVmKHtcbiAgICBzdGFydENvbHVtbnM6IDAsXG4gICAgbmV3Q29sdW1uczogMFxuICB9KTtcbiAgY29uc3Qgb25SZXNpemUgPSB0aHJvdHRsZSgoXywgZGVsdGEpID0+IHtcbiAgICBjb25zdCB7XG4gICAgICB4OiBkeFxuICAgIH0gPSBkZWx0YTtcbiAgICBjb25zdCB7XG4gICAgICBsYXlvdXQgPSB7fVxuICAgIH0gPSBmaWVsZDtcbiAgICBjb25zdCBuZXdDb2x1bW5zID0gY2FsY3VsYXRlTmV3Q29sdW1ucyhyZWYuY3VycmVudCwgbGF5b3V0LmNvbHVtbnMgfHwgY29udGV4dC5jdXJyZW50LnN0YXJ0Q29sdW1ucywgZHgsIHBvc2l0aW9uKTtcbiAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBmb3JtTGF5b3V0VmFsaWRhdG9yLnZhbGlkYXRlRmllbGQoZmllbGQsIG5ld0NvbHVtbnMpO1xuICAgIGlmICghZXJyb3JNZXNzYWdlKSB7XG4gICAgICBjb250ZXh0LmN1cnJlbnQubmV3Q29sdW1ucyA9IG5ld0NvbHVtbnM7XG5cbiAgICAgIC8vIG1ha2UgdmlzdWFsIHVwZGF0ZXMgdG8gcHJldmlldyBjaGFuZ2VcbiAgICAgIGNvbnN0IGNvbHVtbk5vZGUgPSByZWYuY3VycmVudC5jbG9zZXN0KCcuZmpzLWxheW91dC1jb2x1bW4nKTtcbiAgICAgIHJlbW92ZU1hdGNoaW5nKGNvbHVtbk5vZGUsIENPTFVNTlNfUkVHRVgpO1xuICAgICAgY29sdW1uTm9kZS5jbGFzc0xpc3QuYWRkKGBjZHMtLWNvbC1sZy0ke25ld0NvbHVtbnN9YCk7XG4gICAgfVxuICB9KTtcbiAgY29uc3Qgb25SZXNpemVTdGFydCA9IGV2ZW50ID0+IHtcbiAgICBjb25zdCB0YXJnZXQgPSBnZXRFbGVtZW50Tm9kZShmaWVsZCk7XG4gICAgY29uc3QgcGFyZW50ID0gZ2V0UGFyZW50KHRhcmdldCk7XG5cbiAgICAvLyBpbml0aWFsaXplIGRyYWcgaGFuZGxlclxuICAgIGNvbnN0IG9uRHJhZ1N0YXJ0ID0gY3JlYXRlRHJhZ2dlciQxKG9uUmVzaXplKTtcbiAgICBvbkRyYWdTdGFydChldmVudCk7XG5cbiAgICAvLyBtaXRpZ2F0ZSBhdXRvIGNvbHVtbnMgb24gdGhlIGdyaWQgdGhhdFxuICAgIC8vIGhhcyBhIG9mZnNldCBvZiAxNnB4ICgxcmVtKSB0byBib3RoIHNpZGVcbiAgICBjb25zdCBjb2x1bW5Ob2RlID0gZ2V0Q29sdW1uTm9kZSh0YXJnZXQpO1xuICAgIGNvbnN0IHN0YXJ0V2lkdGggPSBjb2x1bW5Ob2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoICsgR1JJRF9PRkZTRVRfUFg7XG4gICAgY29udGV4dC5jdXJyZW50LnN0YXJ0Q29sdW1ucyA9IGFzQ29sdW1ucyhzdGFydFdpZHRoLCBwYXJlbnQpO1xuICAgIHNldFJlc2l6aW5nKHRhcmdldCwgcG9zaXRpb24pO1xuICB9O1xuICBjb25zdCBvblJlc2l6ZUVuZCA9ICgpID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBsYXlvdXQgPSB7fVxuICAgIH0gPSBmaWVsZDtcbiAgICBpZiAoY29udGV4dC5jdXJyZW50Lm5ld0NvbHVtbnMpIHtcbiAgICAgIG1vZGVsaW5nLmVkaXRGb3JtRmllbGQoZmllbGQsICdsYXlvdXQnLCB7XG4gICAgICAgIC4uLmxheW91dCxcbiAgICAgICAgY29sdW1uczogY29udGV4dC5jdXJyZW50Lm5ld0NvbHVtbnNcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCB0YXJnZXQgPSBnZXRFbGVtZW50Tm9kZShmaWVsZCk7XG4gICAgdW5zZXRSZXNpemluZyh0YXJnZXQsIHBvc2l0aW9uKTtcbiAgICBjb250ZXh0LmN1cnJlbnQubmV3Q29sdW1ucyA9IG51bGw7XG4gIH07XG4gIGlmIChmaWVsZC50eXBlID09PSAnZGVmYXVsdCcpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4ganN4KFwiZGl2XCIsIHtcbiAgICByZWY6IHJlZixcbiAgICBjbGFzczogY2xhc3NuYW1lcygnZmpzLWZpZWxkLXJlc2l6ZS1oYW5kbGUnLCAnZmpzLWZpZWxkLXJlc2l6ZS1oYW5kbGUtJyArIHBvc2l0aW9uLCBEUkFHX05PX01PVkVfQ0xTKSxcbiAgICBkcmFnZ2FibGU6IHRydWUsXG4gICAgb25EcmFnU3RhcnQ6IG9uUmVzaXplU3RhcnQsXG4gICAgb25EcmFnRW5kOiBvblJlc2l6ZUVuZFxuICB9KTtcbn1cblxuLy8gaGVscGVyIC8vLy8vL1xuXG5mdW5jdGlvbiBhc0NvbHVtbnMod2lkdGgsIHBhcmVudCkge1xuICBjb25zdCB0b3RhbFdpZHRoID0gcGFyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xuICBjb25zdCBvbmVDb2x1bW4gPSAxIC8gMTYgKiB0b3RhbFdpZHRoO1xuICByZXR1cm4gTWF0aC5yb3VuZCh3aWR0aCAvIG9uZUNvbHVtbik7XG59XG5mdW5jdGlvbiBjYWxjdWxhdGVOZXdDb2x1bW5zKG5vZGUsIGN1cnJlbnRDb2x1bW5zLCBkZWx0YVgsIHBvc2l0aW9uKSB7XG4gIGNvbnN0IHBhcmVudCA9IGdldFBhcmVudChub2RlKTtcblxuICAvLyBpbnZlcnQgZGVsdGEgaWYgd2UgYXJlIHJlc2l6aW5nIGZyb20gdGhlIGxlZnRcbiAgaWYgKHBvc2l0aW9uID09PSAnbGVmdCcpIHtcbiAgICBkZWx0YVggPSBkZWx0YVggKiAtMTtcbiAgfVxuICBjb25zdCBkZWx0YUNvbHVtbnMgPSBhc0NvbHVtbnMoZGVsdGFYLCBwYXJlbnQpO1xuICByZXR1cm4gY3VycmVudENvbHVtbnMgKyBkZWx0YUNvbHVtbnM7XG59XG5mdW5jdGlvbiBnZXRQYXJlbnQobm9kZSkge1xuICByZXR1cm4gbm9kZS5jbG9zZXN0KCcuZmpzLWxheW91dC1yb3cnKTtcbn1cbmZ1bmN0aW9uIHJlbW92ZU1hdGNoaW5nKG5vZGUsIHJlZ2V4KSB7XG4gIHJldHVybiBjbGFzc2VzKG5vZGUpLnJlbW92ZU1hdGNoaW5nKHJlZ2V4KTtcbn1cbmZ1bmN0aW9uIGdldENvbHVtbk5vZGUobm9kZSkge1xuICByZXR1cm4gbm9kZS5jbG9zZXN0KCcuZmpzLWxheW91dC1jb2x1bW4nKTtcbn1cbmZ1bmN0aW9uIGdldEVsZW1lbnROb2RlKGZpZWxkKSB7XG4gIHJldHVybiBxdWVyeSgnLmZqcy1lbGVtZW50W2RhdGEtaWQ9XCInICsgZmllbGQuaWQgKyAnXCJdJyk7XG59XG5mdW5jdGlvbiBzZXRSZXNpemluZyhub2RlLCBwb3NpdGlvbikge1xuICBjbGFzc2VzKG5vZGUpLmFkZChFTEVNRU5UX1JFU0laSU5HX0NMUyArICctJyArIHBvc2l0aW9uKTtcbn1cbmZ1bmN0aW9uIHVuc2V0UmVzaXppbmcobm9kZSwgcG9zaXRpb24pIHtcbiAgY2xhc3Nlcyhub2RlKS5yZW1vdmUoRUxFTUVOVF9SRVNJWklOR19DTFMgKyAnLScgKyBwb3NpdGlvbik7XG59XG5cbmZ1bmN0aW9uIENvbnRleHRQYWQocHJvcHMpIHtcbiAgaWYgKCFwcm9wcy5jaGlsZHJlbikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiBqc3goXCJkaXZcIiwge1xuICAgIGNsYXNzOiBcImZqcy1jb250ZXh0LXBhZFwiLFxuICAgIGNoaWxkcmVuOiBwcm9wcy5jaGlsZHJlblxuICB9KTtcbn1cbmZ1bmN0aW9uIEVtcHR5R3JvdXAoKSB7XG4gIHJldHVybiBqc3goXCJkaXZcIiwge1xuICAgIGNsYXNzOiBcImZqcy1lbXB0eS1jb21wb25lbnRcIixcbiAgICBjaGlsZHJlbjoganN4KFwic3BhblwiLCB7XG4gICAgICBjbGFzczogXCJmanMtZW1wdHktY29tcG9uZW50LXRleHRcIixcbiAgICAgIGNoaWxkcmVuOiBcIkRyYWcgYW5kIGRyb3AgY29tcG9uZW50cyBoZXJlLlwiXG4gICAgfSlcbiAgfSk7XG59XG5mdW5jdGlvbiBFbXB0eUZvcm0oKSB7XG4gIHJldHVybiBqc3goXCJkaXZcIiwge1xuICAgIGNsYXNzOiBcImZqcy1lbXB0eS1lZGl0b3JcIixcbiAgICBjaGlsZHJlbjoganN4cyhcImRpdlwiLCB7XG4gICAgICBjbGFzczogXCJmanMtZW1wdHktZWRpdG9yLWNhcmRcIixcbiAgICAgIGNoaWxkcmVuOiBbanN4KFN2Z0VtcHR5Rm9ybSwge30pLCBqc3goXCJoMlwiLCB7XG4gICAgICAgIGNoaWxkcmVuOiBcIkJ1aWxkIHlvdXIgZm9ybVwiXG4gICAgICB9KSwganN4KFwic3BhblwiLCB7XG4gICAgICAgIGNoaWxkcmVuOiBcIkRyYWcgYW5kIGRyb3AgY29tcG9uZW50cyBoZXJlIHRvIHN0YXJ0IGRlc2lnbmluZy5cIlxuICAgICAgfSksIGpzeChcInNwYW5cIiwge1xuICAgICAgICBjaGlsZHJlbjogXCJVc2UgdGhlIHByZXZpZXcgd2luZG93IHRvIHRlc3QgeW91ciBmb3JtLlwiXG4gICAgICB9KV1cbiAgICB9KVxuICB9KTtcbn1cbmZ1bmN0aW9uIEVtcHR5KHByb3BzKSB7XG4gIGlmIChbJ2dyb3VwJywgJ2R5bmFtaWNsaXN0J10uaW5jbHVkZXMocHJvcHMuZmllbGQudHlwZSkpIHtcbiAgICByZXR1cm4ganN4KEVtcHR5R3JvdXAsIHt9KTtcbiAgfVxuICBpZiAocHJvcHMuZmllbGQudHlwZSA9PT0gJ2RlZmF1bHQnKSB7XG4gICAgcmV0dXJuIGpzeChFbXB0eUZvcm0sIHt9KTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIEVsZW1lbnQkMShwcm9wcykge1xuICBjb25zdCBldmVudEJ1cyA9IHVzZVNlcnZpY2UkMSgnZXZlbnRCdXMnKSxcbiAgICBmb3JtRmllbGRSZWdpc3RyeSA9IHVzZVNlcnZpY2UkMSgnZm9ybUZpZWxkUmVnaXN0cnknKSxcbiAgICBmb3JtRmllbGRzID0gdXNlU2VydmljZSQxKCdmb3JtRmllbGRzJyksXG4gICAgbW9kZWxpbmcgPSB1c2VTZXJ2aWNlJDEoJ21vZGVsaW5nJyksXG4gICAgc2VsZWN0aW9uID0gdXNlU2VydmljZSQxKCdzZWxlY3Rpb24nKTtcbiAgY29uc3Qge1xuICAgIGhvdmVySW5mb1xuICB9ID0gdXNlQ29udGV4dChGb3JtUmVuZGVyQ29udGV4dCk7XG4gIGNvbnN0IHtcbiAgICBmaWVsZFxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IHtcbiAgICBpZCxcbiAgICB0eXBlLFxuICAgIHNob3dPdXRsaW5lXG4gIH0gPSBmaWVsZDtcblxuICAvKiogQHR5cGUge2ltcG9ydChcInByZWFjdFwiKS5SZWZPYmplY3Q8SFRNTERpdkVsZW1lbnQ+fSAqL1xuICBjb25zdCByZWYgPSB1c2VSZWYoKTtcbiAgY29uc3QgW2hvdmVyZWQsIHNldEhvdmVyZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGZ1bmN0aW9uIHNjcm9sbEludG9WaWV3KHtcbiAgICAgIHNlbGVjdGlvblxuICAgIH0pIHtcbiAgICAgIGNvbnN0IHNjcm9sbENvbnRhaW5lciA9IGdldFNjcm9sbENvbnRhaW5lcihyZWYuY3VycmVudCk7XG4gICAgICBpZiAoIXNlbGVjdGlvbiB8fCBzZWxlY3Rpb24udHlwZSA9PT0gJ2RlZmF1bHQnIHx8IHNlbGVjdGlvbi5pZCAhPT0gaWQgfHwgIXNjcm9sbENvbnRhaW5lciB8fCAhcmVmLmN1cnJlbnQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgZWxlbWVudEJvdW5kcyA9IHJlZi5jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgY29uc3Qgc2Nyb2xsQ29udGFpbmVyQm91bmRzID0gc2Nyb2xsQ29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgY29uc3QgaXNFbGVtZW50TGFyZ2VyID0gZWxlbWVudEJvdW5kcy5oZWlnaHQgPiBzY3JvbGxDb250YWluZXJCb3VuZHMuaGVpZ2h0O1xuICAgICAgY29uc3QgaXNOb3RGdWxseVZpc2libGUgPSBlbGVtZW50Qm91bmRzLmJvdHRvbSA+IHNjcm9sbENvbnRhaW5lckJvdW5kcy5ib3R0b20gfHwgZWxlbWVudEJvdW5kcy50b3AgPCBzY3JvbGxDb250YWluZXJCb3VuZHMudG9wO1xuICAgICAgaWYgKGlzTm90RnVsbHlWaXNpYmxlICYmICFpc0VsZW1lbnRMYXJnZXIpIHtcbiAgICAgICAgcmVmLmN1cnJlbnQuc2Nyb2xsSW50b1ZpZXcoe1xuICAgICAgICAgIGJlaGF2aW9yOiAnYXV0bycsXG4gICAgICAgICAgYmxvY2s6ICduZWFyZXN0J1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgZXZlbnRCdXMub24oJ3NlbGVjdGlvbi5jaGFuZ2VkJywgc2Nyb2xsSW50b1ZpZXcpO1xuICAgIHJldHVybiAoKSA9PiBldmVudEJ1cy5vZmYoJ3NlbGVjdGlvbi5jaGFuZ2VkJywgc2Nyb2xsSW50b1ZpZXcpO1xuICB9LCBbZXZlbnRCdXMsIGlkXSk7XG4gIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHNlbGVjdGlvbi5pc1NlbGVjdGVkKGZpZWxkKSkge1xuICAgICAgcmVmLmN1cnJlbnQuZm9jdXMoKTtcbiAgICB9XG4gIH0sIFtzZWxlY3Rpb24sIGZpZWxkXSk7XG4gIGNvbnN0IG9uQ2xpY2sgPSB1c2VDYWxsYmFjayhldmVudCA9PiB7XG4gICAgLy8gVE9ETyhuaWtrdSk6IHJlZmFjdG9yIHRoaXMgdG8gdXNlIHByb3BlciBET00gZGVsZWdhdGlvblxuICAgIGNvbnN0IGZpZWxkRWwgPSBldmVudC50YXJnZXQuY2xvc2VzdCgnW2RhdGEtaWRdJyk7XG4gICAgaWYgKCFmaWVsZEVsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGlkID0gZmllbGRFbC5kYXRhc2V0LmlkO1xuICAgIGlmIChpZCA9PT0gZmllbGQuaWQpIHtcbiAgICAgIHNlbGVjdGlvbi50b2dnbGUoZmllbGQpO1xuICAgIH1cbiAgfSwgW2ZpZWxkLCBzZWxlY3Rpb25dKTtcbiAgY29uc3QgaXNTZWxlY3RlZCA9IHNlbGVjdGlvbi5pc1NlbGVjdGVkKGZpZWxkKTtcbiAgY29uc3QgY2xhc3NTdHJpbmcgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCBjbGFzc2VzID0gW107XG4gICAgaWYgKHByb3BzLmNsYXNzKSB7XG4gICAgICBjbGFzc2VzLnB1c2goLi4ucHJvcHMuY2xhc3Muc3BsaXQoJyAnKSk7XG4gICAgfVxuICAgIGlmIChpc1NlbGVjdGVkKSB7XG4gICAgICBjbGFzc2VzLnB1c2goJ2Zqcy1lZGl0b3Itc2VsZWN0ZWQnKTtcbiAgICB9XG4gICAgY29uc3QgZ3JvdXBsaWtlID0gWydncm91cCcsICdkeW5hbWljbGlzdCddLmluY2x1ZGVzKHR5cGUpO1xuICAgIGlmIChncm91cGxpa2UpIHtcbiAgICAgIGNsYXNzZXMucHVzaChzaG93T3V0bGluZSA/ICdmanMtb3V0bGluZWQnIDogJ2Zqcy1kYXNoZWQtb3V0bGluZWQnKTtcbiAgICB9XG4gICAgaWYgKGhvdmVyZWQpIHtcbiAgICAgIGNsYXNzZXMucHVzaCgnZmpzLWVkaXRvci1ob3ZlcmVkJyk7XG4gICAgfVxuICAgIHJldHVybiBjbGFzc2VzLmpvaW4oJyAnKTtcbiAgfSwgW2hvdmVyZWQsIGlzU2VsZWN0ZWQsIHByb3BzLmNsYXNzLCBzaG93T3V0bGluZSwgdHlwZV0pO1xuICBjb25zdCBvblJlbW92ZSA9IGV2ZW50ID0+IHtcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBjb25zdCBwYXJlbnRGaWVsZCA9IGZvcm1GaWVsZFJlZ2lzdHJ5LmdldChmaWVsZC5fcGFyZW50KTtcbiAgICBjb25zdCBpbmRleCA9IGdldEZvcm1GaWVsZEluZGV4KHBhcmVudEZpZWxkLCBmaWVsZCk7XG4gICAgbW9kZWxpbmcucmVtb3ZlRm9ybUZpZWxkKGZpZWxkLCBwYXJlbnRGaWVsZCwgaW5kZXgpO1xuICB9O1xuICBjb25zdCBvbktleVByZXNzID0gZXZlbnQgPT4ge1xuICAgIGlmIChldmVudC5rZXkgPT09ICdFbnRlcicpIHtcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgc2VsZWN0aW9uLnRvZ2dsZShmaWVsZCk7XG4gICAgfVxuICB9O1xuICByZXR1cm4ganN4cyhcImRpdlwiLCB7XG4gICAgY2xhc3M6IGNsYXNzU3RyaW5nLFxuICAgIFwiZGF0YS1pZFwiOiBpZCxcbiAgICBcImRhdGEtZmllbGQtdHlwZVwiOiB0eXBlLFxuICAgIHRhYkluZGV4OiB0eXBlID09PSAnZGVmYXVsdCcgPyAtMSA6IDAsXG4gICAgb25DbGljazogb25DbGljayxcbiAgICBvbktleVByZXNzOiBvbktleVByZXNzLFxuICAgIG9uTW91c2VPdmVyOiBlID0+IHtcbiAgICAgIGlmIChob3ZlckluZm8uY2xlYW51cCkge1xuICAgICAgICBob3ZlckluZm8uY2xlYW51cCgpO1xuICAgICAgfVxuICAgICAgc2V0SG92ZXJlZCh0cnVlKTtcbiAgICAgIGhvdmVySW5mby5jbGVhbnVwID0gKCkgPT4gc2V0SG92ZXJlZChmYWxzZSk7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH0sXG4gICAgcmVmOiByZWYsXG4gICAgY2hpbGRyZW46IFtqc3goRGVidWdDb2x1bW5zLCB7XG4gICAgICBmaWVsZDogZmllbGRcbiAgICB9KSwganN4KENvbnRleHRQYWQsIHtcbiAgICAgIGNoaWxkcmVuOiBzZWxlY3Rpb24uaXNTZWxlY3RlZChmaWVsZCkgJiYgZmllbGQudHlwZSAhPT0gJ2RlZmF1bHQnID8ganN4KFwiYnV0dG9uXCIsIHtcbiAgICAgICAgdHlwZTogXCJidXR0b25cIixcbiAgICAgICAgdGl0bGU6IGdldFJlbW92ZUJ1dHRvblRpdGxlKGZpZWxkLCBmb3JtRmllbGRzKSxcbiAgICAgICAgY2xhc3M6IFwiZmpzLWNvbnRleHQtcGFkLWl0ZW1cIixcbiAgICAgICAgb25DbGljazogb25SZW1vdmUsXG4gICAgICAgIGNoaWxkcmVuOiBqc3goU3ZnRGVsZXRlLCB7fSlcbiAgICAgIH0pIDogbnVsbFxuICAgIH0pLCBwcm9wcy5jaGlsZHJlbiwganN4KEZpZWxkUmVzaXplciwge1xuICAgICAgcG9zaXRpb246IFwibGVmdFwiLFxuICAgICAgZmllbGQ6IGZpZWxkXG4gICAgfSksIGpzeChGaWVsZFJlc2l6ZXIsIHtcbiAgICAgIHBvc2l0aW9uOiBcInJpZ2h0XCIsXG4gICAgICBmaWVsZDogZmllbGRcbiAgICB9KV1cbiAgfSk7XG59XG5mdW5jdGlvbiBEZWJ1Z0NvbHVtbnMocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGZpZWxkXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgZGVidWdDb2x1bW5zQ29uZmlnID0gdXNlU2VydmljZSQxKCdjb25maWcuZGVidWdDb2x1bW5zJyk7XG4gIGlmICghZGVidWdDb2x1bW5zQ29uZmlnIHx8IGZpZWxkLnR5cGUgPT0gJ2RlZmF1bHQnKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIGpzeChcImRpdlwiLCB7XG4gICAgc3R5bGU6IFwid2lkdGg6IGZpdC1jb250ZW50OyBwYWRkaW5nOiAycHggNnB4OyBoZWlnaHQ6IDE2cHg7IGJhY2tncm91bmQ6IHZhcigtLWNvbG9yLWJsdWUtMjA1LTEwMC05NSk7IGRpc3BsYXk6IGZsZXg7IGp1c3RpZnktY29udGVudDogY2VudGVyOyBhbGlnbi1pdGVtczogY2VudGVyOyBwb3NpdGlvbjogYWJzb2x1dGU7IGJvdHRvbTogLTJweDsgei1pbmRleDogMjsgZm9udC1zaXplOiAxMHB4OyByaWdodDogM3B4O1wiLFxuICAgIGNsYXNzOiBcImZqcy1kZWJ1Zy1jb2x1bW5zXCIsXG4gICAgY2hpbGRyZW46IChmaWVsZC5sYXlvdXQgfHwge30pLmNvbHVtbnMgfHwgJ2F1dG8nXG4gIH0pO1xufVxuZnVuY3Rpb24gQ2hpbGRyZW4ocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGZpZWxkXG4gIH0gPSBwcm9wcztcbiAgY29uc3Qge1xuICAgIGlkXG4gIH0gPSBmaWVsZDtcbiAgY29uc3QgY2xhc3NlcyA9IFsnZmpzLWNoaWxkcmVuJywgRFJPUF9DT05UQUlORVJfVkVSVElDQUxfQ0xTXTtcbiAgaWYgKHByb3BzLmNsYXNzKSB7XG4gICAgY2xhc3Nlcy5wdXNoKC4uLnByb3BzLmNsYXNzLnNwbGl0KCcgJykpO1xuICB9XG4gIHJldHVybiBqc3goXCJkaXZcIiwge1xuICAgIGNsYXNzOiBjbGFzc2VzLmpvaW4oJyAnKSxcbiAgICBcImRhdGEtaWRcIjogaWQsXG4gICAgY2hpbGRyZW46IHByb3BzLmNoaWxkcmVuXG4gIH0pO1xufVxuZnVuY3Rpb24gUm93KHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICByb3dcbiAgfSA9IHByb3BzO1xuICBjb25zdCB7XG4gICAgaWRcbiAgfSA9IHJvdztcbiAgY29uc3QgY2xhc3NlcyA9IFtEUk9QX0NPTlRBSU5FUl9IT1JJWk9OVEFMX0NMU107XG4gIGlmIChwcm9wcy5jbGFzcykge1xuICAgIGNsYXNzZXMucHVzaCguLi5wcm9wcy5jbGFzcy5zcGxpdCgnICcpKTtcbiAgfVxuICByZXR1cm4ganN4cyhcImRpdlwiLCB7XG4gICAgY2xhc3M6IGNsYXNzbmFtZXMoRFJBR19ST1dfTU9WRV9DTFMpLFxuICAgIGNoaWxkcmVuOiBbanN4KFwic3BhblwiLCB7XG4gICAgICBjbGFzczogXCJmanMtcm93LWRyYWdnZXJcIixcbiAgICAgIGNoaWxkcmVuOiBqc3goU3ZnRHJhZ2dhYmxlLCB7fSlcbiAgICB9KSwganN4KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzOiBjbGFzc2VzLmpvaW4oJyAnKSxcbiAgICAgIHN0eWxlOiBwcm9wcy5zdHlsZSxcbiAgICAgIFwiZGF0YS1yb3ctaWRcIjogaWQsXG4gICAgICBjaGlsZHJlbjogcHJvcHMuY2hpbGRyZW5cbiAgICB9KV1cbiAgfSk7XG59XG5mdW5jdGlvbiBDb2x1bW4ocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGZpZWxkXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgY2xhc3NlcyA9IFtEUkFHX01PVkVfQ0xTXTtcbiAgaWYgKGZpZWxkLnR5cGUgPT09ICdkZWZhdWx0Jykge1xuICAgIHJldHVybiBwcm9wcy5jaGlsZHJlbjtcbiAgfVxuICBpZiAocHJvcHMuY2xhc3MpIHtcbiAgICBjbGFzc2VzLnB1c2goLi4ucHJvcHMuY2xhc3Muc3BsaXQoJyAnKSk7XG4gIH1cbiAgcmV0dXJuIGpzeChcImRpdlwiLCB7XG4gICAgXCJkYXRhLWZpZWxkLXR5cGVcIjogZmllbGQudHlwZSxcbiAgICBjbGFzczogY2xhc3Nlcy5qb2luKCcgJyksXG4gICAgY2hpbGRyZW46IHByb3BzLmNoaWxkcmVuXG4gIH0pO1xufVxuZnVuY3Rpb24gRm9ybUVkaXRvciQxKCkge1xuICBjb25zdCBkcmFnZ2luZyA9IHVzZVNlcnZpY2UkMSgnZHJhZ2dpbmcnKSxcbiAgICBldmVudEJ1cyA9IHVzZVNlcnZpY2UkMSgnZXZlbnRCdXMnKSxcbiAgICBmb3JtRWRpdG9yID0gdXNlU2VydmljZSQxKCdmb3JtRWRpdG9yJyksXG4gICAgaW5qZWN0b3IgPSB1c2VTZXJ2aWNlJDEoJ2luamVjdG9yJyksXG4gICAgc2VsZWN0aW9uID0gdXNlU2VydmljZSQxKCdzZWxlY3Rpb24nKSxcbiAgICBwcm9wZXJ0aWVzUGFuZWwgPSB1c2VTZXJ2aWNlJDEoJ3Byb3BlcnRpZXNQYW5lbCcpLFxuICAgIHByb3BlcnRpZXNQYW5lbENvbmZpZyA9IHVzZVNlcnZpY2UkMSgnY29uZmlnLnByb3BlcnRpZXNQYW5lbCcpO1xuICBjb25zdCB7XG4gICAgc2NoZW1hLFxuICAgIHByb3BlcnRpZXNcbiAgfSA9IGZvcm1FZGl0b3IuX2dldFN0YXRlKCk7XG4gIGNvbnN0IHtcbiAgICBhcmlhTGFiZWxcbiAgfSA9IHByb3BlcnRpZXM7XG4gIGNvbnN0IGZvcm1Db250YWluZXJSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IHByb3BlcnRpZXNQYW5lbFJlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgWywgc2V0U2VsZWN0aW9uXSA9IHVzZVN0YXRlKHNjaGVtYSk7XG4gIGNvbnN0IFtoYXNJbml0aWFsaXplZCwgc2V0SGFzSW5pdGlhbGl6ZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGZ1bmN0aW9uIGhhbmRsZVNlbGVjdGlvbkNoYW5nZWQoZXZlbnQpIHtcbiAgICAgIHNldFNlbGVjdGlvbihldmVudC5zZWxlY3Rpb24gfHwgc2NoZW1hKTtcbiAgICB9XG4gICAgZXZlbnRCdXMub24oJ3NlbGVjdGlvbi5jaGFuZ2VkJywgaGFuZGxlU2VsZWN0aW9uQ2hhbmdlZCk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGV2ZW50QnVzLm9mZignc2VsZWN0aW9uLmNoYW5nZWQnLCBoYW5kbGVTZWxlY3Rpb25DaGFuZ2VkKTtcbiAgICB9O1xuICB9LCBbZXZlbnRCdXMsIHNjaGVtYV0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldFNlbGVjdGlvbihzZWxlY3Rpb24uZ2V0KCkgfHwgc2NoZW1hKTtcbiAgfSwgW3NlbGVjdGlvbiwgc2NoZW1hXSk7XG4gIGNvbnN0IFtkcmFrZSwgc2V0RHJha2VdID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IGRyYWdBbmREcm9wQ29udGV4dCA9IHtcbiAgICBkcmFrZVxuICB9O1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxldCBkcmFndWxhSW5zdGFuY2UgPSBkcmFnZ2luZy5jcmVhdGVEcmFndWxhSW5zdGFuY2Uoe1xuICAgICAgY29udGFpbmVyOiBbRFJBR19DT05UQUlORVJfQ0xTLCBEUk9QX0NPTlRBSU5FUl9WRVJUSUNBTF9DTFMsIERST1BfQ09OVEFJTkVSX0hPUklaT05UQUxfQ0xTXSxcbiAgICAgIG1pcnJvckNvbnRhaW5lcjogZm9ybUNvbnRhaW5lclJlZi5jdXJyZW50XG4gICAgfSk7XG4gICAgc2V0RHJha2UoZHJhZ3VsYUluc3RhbmNlKTtcbiAgICBjb25zdCBvbkRldGFjaCA9ICgpID0+IHtcbiAgICAgIGlmIChkcmFndWxhSW5zdGFuY2UpIHtcbiAgICAgICAgZHJhZ3VsYUluc3RhbmNlLmRlc3Ryb3koKTtcbiAgICAgICAgZXZlbnRCdXMuZmlyZSgnZHJhZ3VsYS5kZXN0cm95ZWQnKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IG9uQXR0YWNoID0gKCkgPT4ge1xuICAgICAgb25EZXRhY2goKTtcbiAgICAgIGRyYWd1bGFJbnN0YW5jZSA9IGRyYWdnaW5nLmNyZWF0ZURyYWd1bGFJbnN0YW5jZSh7XG4gICAgICAgIGNvbnRhaW5lcjogW0RSQUdfQ09OVEFJTkVSX0NMUywgRFJPUF9DT05UQUlORVJfVkVSVElDQUxfQ0xTLCBEUk9QX0NPTlRBSU5FUl9IT1JJWk9OVEFMX0NMU10sXG4gICAgICAgIG1pcnJvckNvbnRhaW5lcjogZm9ybUNvbnRhaW5lclJlZi5jdXJyZW50XG4gICAgICB9KTtcbiAgICAgIHNldERyYWtlKGRyYWd1bGFJbnN0YW5jZSk7XG4gICAgfTtcbiAgICBjb25zdCBvbkNyZWF0ZSA9IGRyYWtlID0+IHtcbiAgICAgIHNldERyYWtlKGRyYWtlKTtcbiAgICB9O1xuICAgIGNvbnN0IG9uRHJhZ1N0YXJ0ID0gKCkgPT4ge1xuICAgICAgc2V0KCdncmFiYmluZycpO1xuICAgIH07XG4gICAgY29uc3Qgb25EcmFnRW5kID0gKCkgPT4ge1xuICAgICAgdW5zZXQoKTtcbiAgICB9O1xuICAgIGV2ZW50QnVzLm9uKCdhdHRhY2gnLCBvbkF0dGFjaCk7XG4gICAgZXZlbnRCdXMub24oJ2RldGFjaCcsIG9uRGV0YWNoKTtcbiAgICBldmVudEJ1cy5vbignZHJhZ3VsYS5jcmVhdGVkJywgb25DcmVhdGUpO1xuICAgIGV2ZW50QnVzLm9uKCdkcmFnLnN0YXJ0Jywgb25EcmFnU3RhcnQpO1xuICAgIGV2ZW50QnVzLm9uKCdkcmFnLmVuZCcsIG9uRHJhZ0VuZCk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIG9uRGV0YWNoKCk7XG4gICAgICBldmVudEJ1cy5vZmYoJ2F0dGFjaCcsIG9uQXR0YWNoKTtcbiAgICAgIGV2ZW50QnVzLm9mZignZGV0YWNoJywgb25EZXRhY2gpO1xuICAgICAgZXZlbnRCdXMub2ZmKCdkcmFndWxhLmNyZWF0ZWQnLCBvbkNyZWF0ZSk7XG4gICAgICBldmVudEJ1cy5vZmYoJ2RyYWcuc3RhcnQnLCBvbkRyYWdTdGFydCk7XG4gICAgICBldmVudEJ1cy5vZmYoJ2RyYWcuZW5kJywgb25EcmFnRW5kKTtcbiAgICB9O1xuICB9LCBbZHJhZ2dpbmcsIGV2ZW50QnVzXSk7XG5cbiAgLy8gZmlyZSBldmVudCBhZnRlciByZW5kZXIgdG8gbm90aWZ5IGludGVyZXN0ZWQgcGFydGllc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChoYXNJbml0aWFsaXplZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzZXRIYXNJbml0aWFsaXplZCh0cnVlKTtcbiAgICBldmVudEJ1cy5maXJlKCdyZW5kZXJlZCcpO1xuXG4gICAgLy8ga2VlcCBkZXByZWNhdGVkIGV2ZW50IHRvIGVuc3VyZSBiYWNrd2FyZCBjb21wYXRpYmlsaXR5XG4gICAgZXZlbnRCdXMuZmlyZSgnZm9ybUVkaXRvci5yZW5kZXJlZCcpO1xuICB9LCBbZXZlbnRCdXMsIGhhc0luaXRpYWxpemVkXSk7XG4gIGNvbnN0IGZvcm1SZW5kZXJDb250ZXh0ID0gdXNlTWVtbygoKSA9PiAoe1xuICAgIENoaWxkcmVuLFxuICAgIENvbHVtbixcbiAgICBFbGVtZW50OiBFbGVtZW50JDEsXG4gICAgRW1wdHksXG4gICAgUm93LFxuICAgIGhvdmVySW5mbzoge31cbiAgfSksIFtdKTtcbiAgY29uc3QgZm9ybUNvbnRleHQgPSB1c2VNZW1vKCgpID0+ICh7XG4gICAgZ2V0U2VydmljZSh0eXBlLCBzdHJpY3QgPSB0cnVlKSB7XG4gICAgICAvLyBUT0RPKHBoaWxpcHBmcm9tbWUpOiBjbGVhbiB1cFxuICAgICAgaWYgKHR5cGUgPT09ICdmb3JtJykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIF9nZXRTdGF0ZSgpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIGRhdGE6IHt9LFxuICAgICAgICAgICAgICBlcnJvcnM6IHt9LFxuICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICAgICAgYXJpYUxhYmVsLFxuICAgICAgICAgICAgICAgIGRpc2FibGVkOiB0cnVlXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHNjaGVtYVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICByZXR1cm4gaW5qZWN0b3IuZ2V0KHR5cGUsIHN0cmljdCk7XG4gICAgfSxcbiAgICBmb3JtSWQ6IGZvcm1FZGl0b3IuX2lkXG4gIH0pLCBbYXJpYUxhYmVsLCBmb3JtRWRpdG9yLCBpbmplY3Rvciwgc2NoZW1hXSk7XG4gIGNvbnN0IG9uU3VibWl0ID0gdXNlQ2FsbGJhY2soKCkgPT4ge30sIFtdKTtcbiAgY29uc3Qgb25SZXNldCA9IHVzZUNhbGxiYWNrKCgpID0+IHt9LCBbXSk7XG5cbiAgLy8gYXR0YWNoIGRlZmF1bHQgcHJvcGVydGllcyBwYW5lbFxuICBjb25zdCBoYXNEZWZhdWx0UHJvcGVydGllc1BhbmVsID0gZGVmYXVsdFByb3BlcnRpZXNQYW5lbChwcm9wZXJ0aWVzUGFuZWxDb25maWcpO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChoYXNEZWZhdWx0UHJvcGVydGllc1BhbmVsKSB7XG4gICAgICBwcm9wZXJ0aWVzUGFuZWwuYXR0YWNoVG8ocHJvcGVydGllc1BhbmVsUmVmLmN1cnJlbnQpO1xuICAgIH1cbiAgfSwgW3Byb3BlcnRpZXNQYW5lbFJlZiwgcHJvcGVydGllc1BhbmVsLCBoYXNEZWZhdWx0UHJvcGVydGllc1BhbmVsXSk7XG4gIHJldHVybiBqc3goXCJkaXZcIiwge1xuICAgIGNsYXNzOiBcImZqcy1mb3JtLWVkaXRvclwiLFxuICAgIGNoaWxkcmVuOiBqc3hzKFNsb3RGaWxsUm9vdCwge1xuICAgICAgY2hpbGRyZW46IFtqc3hzKERyYWdBbmREcm9wQ29udGV4dC5Qcm92aWRlciwge1xuICAgICAgICB2YWx1ZTogZHJhZ0FuZERyb3BDb250ZXh0LFxuICAgICAgICBjaGlsZHJlbjogW2pzeChNb2R1bGFyU2VjdGlvbiwge1xuICAgICAgICAgIHJvb3RDbGFzczogXCJmanMtcGFsZXR0ZS1jb250YWluZXJcIixcbiAgICAgICAgICBzZWN0aW9uOiBcInBhbGV0dGVcIixcbiAgICAgICAgICBjaGlsZHJlbjoganN4KFBhbGV0dGUsIHt9KVxuICAgICAgICB9KSwganN4KFwiZGl2XCIsIHtcbiAgICAgICAgICByZWY6IGZvcm1Db250YWluZXJSZWYsXG4gICAgICAgICAgY2xhc3M6IFwiZmpzLWZvcm0tY29udGFpbmVyXCIsXG4gICAgICAgICAgY2hpbGRyZW46IGpzeChGb3JtQ29udGV4dC5Qcm92aWRlciwge1xuICAgICAgICAgICAgdmFsdWU6IGZvcm1Db250ZXh0LFxuICAgICAgICAgICAgY2hpbGRyZW46IGpzeChGb3JtUmVuZGVyQ29udGV4dC5Qcm92aWRlciwge1xuICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgIHZhbHVlOiBmb3JtUmVuZGVyQ29udGV4dCxcbiAgICAgICAgICAgICAgY2hpbGRyZW46IGpzeChGb3JtQ29tcG9uZW50LCB7XG4gICAgICAgICAgICAgICAgb25TdWJtaXQ6IG9uU3VibWl0LFxuICAgICAgICAgICAgICAgIG9uUmVzZXQ6IG9uUmVzZXRcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSlcbiAgICAgICAgfSksIGpzeChDcmVhdGVQcmV2aWV3LCB7fSldXG4gICAgICB9KSwgaGFzRGVmYXVsdFByb3BlcnRpZXNQYW5lbCAmJiBqc3goXCJkaXZcIiwge1xuICAgICAgICBjbGFzczogXCJmanMtZWRpdG9yLXByb3BlcnRpZXMtY29udGFpbmVyXCIsXG4gICAgICAgIHJlZjogcHJvcGVydGllc1BhbmVsUmVmXG4gICAgICB9KSwganN4KE1vZHVsYXJTZWN0aW9uLCB7XG4gICAgICAgIHJvb3RDbGFzczogXCJmanMtcmVuZGVyLWluamVjdG9yLWNvbnRhaW5lclwiLFxuICAgICAgICBzZWN0aW9uOiBcInJlbmRlckluamVjdG9yXCIsXG4gICAgICAgIGNoaWxkcmVuOiBqc3goSW5qZWN0ZWRSZW5kZXJzUm9vdCwge30pXG4gICAgICB9KV1cbiAgICB9KVxuICB9KTtcbn1cbmZ1bmN0aW9uIGdldEZvcm1GaWVsZEluZGV4KHBhcmVudCwgZm9ybUZpZWxkKSB7XG4gIGxldCBmaWVsZEZvcm1JbmRleCA9IHBhcmVudC5jb21wb25lbnRzLmxlbmd0aDtcbiAgcGFyZW50LmNvbXBvbmVudHMuZm9yRWFjaCgoe1xuICAgIGlkXG4gIH0sIGluZGV4KSA9PiB7XG4gICAgaWYgKGlkID09PSBmb3JtRmllbGQuaWQpIHtcbiAgICAgIGZpZWxkRm9ybUluZGV4ID0gaW5kZXg7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGZpZWxkRm9ybUluZGV4O1xufVxuZnVuY3Rpb24gQ3JlYXRlUHJldmlldyhwcm9wcykge1xuICBjb25zdCB7XG4gICAgZHJha2VcbiAgfSA9IHVzZUNvbnRleHQoRHJhZ0FuZERyb3BDb250ZXh0KTtcbiAgY29uc3QgZm9ybUZpZWxkcyA9IHVzZVNlcnZpY2UkMSgnZm9ybUZpZWxkcycpO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghZHJha2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZnVuY3Rpb24gaGFuZGxlQ2xvbmVkKGNsb25lLCBvcmlnaW5hbCwgdHlwZSkge1xuICAgICAgY29uc3QgZmllbGRUeXBlID0gY2xvbmUuZGF0YXNldC5maWVsZFR5cGU7XG5cbiAgICAgIC8vICgxKSBmaWVsZCBwcmV2aWV3XG4gICAgICBpZiAoZmllbGRUeXBlKSB7XG4gICAgICAgIGNvbnN0IHBhbGV0dGVFbnRyeSA9IGZpbmRQYWxldHRlRW50cnkoZmllbGRUeXBlLCBmb3JtRmllbGRzKTtcbiAgICAgICAgaWYgKCFwYWxldHRlRW50cnkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgIGxhYmVsXG4gICAgICAgIH0gPSBwYWxldHRlRW50cnk7XG4gICAgICAgIGNvbnN0IEljb24gPSBnZXRQYWxldHRlSWNvbihwYWxldHRlRW50cnkpO1xuICAgICAgICBjbG9uZS5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgY2xvbmUuY2xhc3MgPSAnZ3UtbWlycm9yJztcbiAgICAgICAgY2xvbmUuY2xhc3NMaXN0LmFkZCgnZmpzLWZpZWxkLXByZXZpZXctY29udGFpbmVyJyk7XG4gICAgICAgIGlmIChvcmlnaW5hbC5jbGFzc0xpc3QuY29udGFpbnMoJ2Zqcy1wYWxldHRlLWZpZWxkJykpIHtcbiAgICAgICAgICAvLyBkZWZhdWx0IHRvIGF1dG8gY29sdW1ucyB3aGVuIGNyZWF0aW5nIGZyb20gcGFsZXR0ZVxuICAgICAgICAgIGNsb25lLmNsYXNzTGlzdC5hZGQoJ2Nkcy0tY29sJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0b2RvKHBpbnVzc2lsdmVzdHJ1cyk6IGRyYWd1bGEsIGhvdyB0byBtaXRpZ2F0ZSBjdXJzb3IgcG9zaXRpb25cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2JldmFjcXVhL2RyYWd1bGEvaXNzdWVzLzI4NVxuICAgICAgICByZW5kZXIoanN4KEZpZWxkRHJhZ1ByZXZpZXcsIHtcbiAgICAgICAgICBsYWJlbDogbGFiZWwsXG4gICAgICAgICAgSWNvbjogSWNvblxuICAgICAgICB9KSwgY2xvbmUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gKDIpIHJvdyBwcmV2aWV3XG5cbiAgICAgICAgLy8gcmVtb3ZlIGVsZW1lbnRzIGZyb20gY29weSAoY29udGV4dCBwYWQsIHJvdyBkcmFnZ2VyLCAuLi4pXG4gICAgICAgIFsnZmpzLWNvbnRleHQtcGFkJywgJ2Zqcy1yb3ctZHJhZ2dlcicsICdmanMtZGVidWctY29sdW1ucyddLmZvckVhY2goY2xzID0+IHtcbiAgICAgICAgICBjb25zdCBjbG9uZU5vZGUgPSBjbG9uZS5xdWVyeVNlbGVjdG9yQWxsKCcuJyArIGNscyk7XG4gICAgICAgICAgY2xvbmVOb2RlLmxlbmd0aCAmJiBjbG9uZU5vZGUuZm9yRWFjaChlID0+IGUucmVtb3ZlKCkpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBtaXJyb3IgZ3JpZFxuICAgICAgICBjbG9uZS5jbGFzc0xpc3QuYWRkKCdjZHMtLWdyaWQnKTtcbiAgICAgICAgY2xvbmUuY2xhc3NMaXN0LmFkZCgnY2RzLS1ncmlkLS1jb25kZW5zZWQnKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZHJha2Uub24oJ2Nsb25lZCcsIGhhbmRsZUNsb25lZCk7XG4gICAgcmV0dXJuICgpID0+IGRyYWtlLm9mZignY2xvbmVkJywgaGFuZGxlQ2xvbmVkKTtcbiAgfSwgW2RyYWtlLCBmb3JtRmllbGRzXSk7XG4gIHJldHVybiBudWxsO1xufVxuXG4vLyBoZWxwZXIgLy8vLy8vXG5cbmZ1bmN0aW9uIGZpbmRQYWxldHRlRW50cnkodHlwZSwgZm9ybUZpZWxkcykge1xuICByZXR1cm4gY29sbGVjdFBhbGV0dGVFbnRyaWVzKGZvcm1GaWVsZHMpLmZpbmQoZW50cnkgPT4gZW50cnkudHlwZSA9PT0gdHlwZSk7XG59XG5mdW5jdGlvbiBkZWZhdWx0UHJvcGVydGllc1BhbmVsKHByb3BlcnRpZXNQYW5lbENvbmZpZykge1xuICByZXR1cm4gIShwcm9wZXJ0aWVzUGFuZWxDb25maWcgJiYgcHJvcGVydGllc1BhbmVsQ29uZmlnLnBhcmVudCk7XG59XG5mdW5jdGlvbiBnZXRSZW1vdmVCdXR0b25UaXRsZShmb3JtRmllbGQsIGZvcm1GaWVsZHMpIHtcbiAgY29uc3QgZW50cnkgPSBmaW5kUGFsZXR0ZUVudHJ5KGZvcm1GaWVsZC50eXBlLCBmb3JtRmllbGRzKTtcbiAgaWYgKCFlbnRyeSkge1xuICAgIHJldHVybiAnUmVtb3ZlIGZvcm0gZmllbGQnO1xuICB9XG4gIHJldHVybiBgUmVtb3ZlICR7ZW50cnkubGFiZWx9YDtcbn1cblxuY2xhc3MgUmVuZGVyZXIge1xuICBjb25zdHJ1Y3RvcihyZW5kZXJDb25maWcsIGV2ZW50QnVzLCBmb3JtRWRpdG9yLCBpbmplY3Rvcikge1xuICAgIGNvbnN0IHtcbiAgICAgIGNvbnRhaW5lcixcbiAgICAgIGNvbXBhY3QgPSBmYWxzZVxuICAgIH0gPSByZW5kZXJDb25maWc7XG4gICAgZXZlbnRCdXMub24oJ2Zvcm0uaW5pdCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vIGVtaXQgPGNhbnZhcy5pbml0PiBzbyBkZXBlbmRlbnQgY29tcG9uZW50cyBjYW4gaG9vayBpblxuICAgICAgLy8gdGhpcyBpcyByZXF1aXJlZCB0byByZWdpc3RlciBrZXlib2FyZCBiaW5kaW5nc1xuICAgICAgZXZlbnRCdXMuZmlyZSgnY2FudmFzLmluaXQnLCB7XG4gICAgICAgIHN2ZzogY29udGFpbmVyLFxuICAgICAgICB2aWV3cG9ydDogbnVsbFxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAvLyBmb2N1cyBjb250YWluZXIgb24gb3ZlciBpZiBubyBzZWxlY3Rpb25cbiAgICBjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IGRvY3VtZW50LmJvZHkpIHtcbiAgICAgICAgY29udGFpbmVyLmZvY3VzKHtcbiAgICAgICAgICBwcmV2ZW50U2Nyb2xsOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gZW5zdXJlIHdlIGZvY3VzIHRoZSBjb250YWluZXIgaWYgdGhlIHVzZXJzIGNsaWNrc1xuICAgIC8vIGluc2lkZTsgdGhpcyBmb2xsb3dzIGlucHV0IGZvY3VzIGhhbmRsaW5nIGNsb3NlbHlcbiAgICBjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIC8vIGZvcmNlIGZvY3VzIHdoZW4gY2xpY2tpbmcgY29udGFpbmVyXG4gICAgICBpZiAoIWNvbnRhaW5lci5jb250YWlucyhkb2N1bWVudC5hY3RpdmVFbGVtZW50KSkge1xuICAgICAgICBjb250YWluZXIuZm9jdXMoe1xuICAgICAgICAgIHByZXZlbnRTY3JvbGw6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgY29uc3QgQXBwID0gKCkgPT4ge1xuICAgICAgY29uc3QgW3N0YXRlLCBzZXRTdGF0ZV0gPSB1c2VTdGF0ZShmb3JtRWRpdG9yLl9nZXRTdGF0ZSgpKTtcbiAgICAgIGNvbnN0IGZvcm1FZGl0b3JDb250ZXh0ID0ge1xuICAgICAgICBnZXRTZXJ2aWNlKHR5cGUsIHN0cmljdCA9IHRydWUpIHtcbiAgICAgICAgICByZXR1cm4gaW5qZWN0b3IuZ2V0KHR5cGUsIHN0cmljdCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBmb3JtRWRpdG9yLm9uKCdjaGFuZ2VkJywgbmV3U3RhdGUgPT4ge1xuICAgICAgICBzZXRTdGF0ZShuZXdTdGF0ZSk7XG4gICAgICB9KTtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgc2NoZW1hXG4gICAgICB9ID0gc3RhdGU7XG4gICAgICBpZiAoIXNjaGVtYSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBqc3goXCJkaXZcIiwge1xuICAgICAgICBjbGFzczogYGZqcy1jb250YWluZXIgZmpzLWVkaXRvci1jb250YWluZXIgJHtjb21wYWN0ID8gJ2Zqcy1lZGl0b3ItY29tcGFjdCcgOiAnJ31gLFxuICAgICAgICBjaGlsZHJlbjoganN4KEZvcm1FZGl0b3JDb250ZXh0LlByb3ZpZGVyLCB7XG4gICAgICAgICAgdmFsdWU6IGZvcm1FZGl0b3JDb250ZXh0LFxuICAgICAgICAgIGNoaWxkcmVuOiBqc3goRm9ybUVkaXRvciQxLCB7fSlcbiAgICAgICAgfSlcbiAgICAgIH0pO1xuICAgIH07XG4gICAgZXZlbnRCdXMub24oJ2Zvcm0uaW5pdCcsICgpID0+IHtcbiAgICAgIHJlbmRlcihqc3goQXBwLCB7fSksIGNvbnRhaW5lcik7XG4gICAgfSk7XG4gICAgZXZlbnRCdXMub24oJ2Zvcm0uZGVzdHJveScsICgpID0+IHtcbiAgICAgIHJlbmRlcihudWxsLCBjb250YWluZXIpO1xuICAgIH0pO1xuICB9XG59XG5SZW5kZXJlci4kaW5qZWN0ID0gWydjb25maWcucmVuZGVyZXInLCAnZXZlbnRCdXMnLCAnZm9ybUVkaXRvcicsICdpbmplY3RvciddO1xuXG5jb25zdCBSZW5kZXJNb2R1bGUgPSB7XG4gIF9faW5pdF9fOiBbJ2Zvcm1GaWVsZHMnLCAncmVuZGVyZXInXSxcbiAgZm9ybUZpZWxkczogWyd0eXBlJywgRWRpdG9yRm9ybUZpZWxkc10sXG4gIHJlbmRlcmVyOiBbJ3R5cGUnLCBSZW5kZXJlcl1cbn07XG5cbmNvbnN0IENvcmVNb2R1bGUgPSB7XG4gIF9fZGVwZW5kc19fOiBbUmVuZGVyTW9kdWxlXSxcbiAgZGVib3VuY2U6IFsnZmFjdG9yeScsIERlYm91bmNlRmFjdG9yeV0sXG4gIGV2ZW50QnVzOiBbJ3R5cGUnLCBFdmVudEJ1c10sXG4gIGltcG9ydGVyOiBbJ3R5cGUnLCBJbXBvcnRlcl0sXG4gIGZvcm1GaWVsZFJlZ2lzdHJ5OiBbJ3R5cGUnLCBGb3JtRmllbGRSZWdpc3RyeV0sXG4gIHBhdGhSZWdpc3RyeTogWyd0eXBlJywgUGF0aFJlZ2lzdHJ5XSxcbiAgZm9ybUxheW91dGVyOiBbJ3R5cGUnLCBGb3JtTGF5b3V0ZXJdLFxuICBmb3JtTGF5b3V0VmFsaWRhdG9yOiBbJ3R5cGUnLCBGb3JtTGF5b3V0VmFsaWRhdG9yXSxcbiAgZmllbGRGYWN0b3J5OiBbJ3R5cGUnLCBGaWVsZEZhY3RvcnldXG59O1xuXG4vKipcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJ2RpZGknKS5JbmplY3Rvcn0gSW5qZWN0b3JcbiAqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9jb3JlL0V2ZW50QnVzJykuZGVmYXVsdH0gRXZlbnRCdXNcbiAqL1xuXG52YXIgTk9UX1JFR0lTVEVSRURfRVJST1IgPSAnaXMgbm90IGEgcmVnaXN0ZXJlZCBhY3Rpb24nLFxuICBJU19SRUdJU1RFUkVEX0VSUk9SID0gJ2lzIGFscmVhZHkgcmVnaXN0ZXJlZCc7XG5cbi8qKlxuICogQW4gaW50ZXJmYWNlIHRoYXQgcHJvdmlkZXMgYWNjZXNzIHRvIG1vZGVsaW5nIGFjdGlvbnMgYnkgZGVjb3VwbGluZ1xuICogdGhlIG9uZSB3aG8gcmVxdWVzdHMgdGhlIGFjdGlvbiB0byBiZSB0cmlnZ2VyZWQgYW5kIHRoZSB0cmlnZ2VyIGl0c2VsZi5cbiAqXG4gKiBJdCdzIHBvc3NpYmxlIHRvIGFkZCBuZXcgYWN0aW9ucyBieSByZWdpc3RlcmluZyB0aGVtIHdpdGggwrRyZWdpc3RlckFjdGlvbsK0XG4gKiBhbmQgbGlrZXdpc2UgdW5yZWdpc3RlciBleGlzdGluZyBvbmVzIHdpdGggwrR1bnJlZ2lzdGVyQWN0aW9uwrQuXG4gKlxuICpcbiAqICMjIExpZmUtQ3ljbGUgYW5kIGNvbmZpZ3VyYXRpb25cbiAqXG4gKiBUaGUgZWRpdG9yIGFjdGlvbnMgd2lsbCB3YWl0IGZvciBkaWFncmFtIGluaXRpYWxpemF0aW9uIGJlZm9yZVxuICogcmVnaXN0ZXJpbmcgZGVmYXVsdCBhY3Rpb25zIF9hbmRfIGZpcmluZyBhbiBgZWRpdG9yQWN0aW9ucy5pbml0YCBldmVudC5cbiAqXG4gKiBJbnRlcmVzdGVkIHBhcnRpZXMgbWF5IGxpc3RlbiB0byB0aGUgYGVkaXRvckFjdGlvbnMuaW5pdGAgZXZlbnQgd2l0aFxuICogbG93IHByaW9yaXR5IHRvIGNoZWNrLCB3aGljaCBhY3Rpb25zIGdvdCByZWdpc3RlcmVkLiBPdGhlciBjb21wb25lbnRzXG4gKiBtYXkgdXNlIHRoZSBldmVudCB0byByZWdpc3RlciB0aGVpciBvd24gYWN0aW9ucyB2aWEgYHJlZ2lzdGVyQWN0aW9uYC5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50QnVzfSBldmVudEJ1c1xuICogQHBhcmFtIHtJbmplY3Rvcn0gaW5qZWN0b3JcbiAqL1xuZnVuY3Rpb24gRWRpdG9yQWN0aW9ucyhldmVudEJ1cywgaW5qZWN0b3IpIHtcbiAgLy8gaW5pdGlhbGl6ZSBhY3Rpb25zXG4gIHRoaXMuX2FjdGlvbnMgPSB7fTtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICBldmVudEJ1cy5vbignZGlhZ3JhbS5pbml0JywgZnVuY3Rpb24gKCkge1xuICAgIC8vIGFsbCBkaWFncmFtIG1vZHVsZXMgZ290IGxvYWRlZDsgY2hlY2sgd2hpY2ggb25lc1xuICAgIC8vIGFyZSBhdmFpbGFibGUgYW5kIHJlZ2lzdGVyIHRoZSByZXNwZWN0aXZlIGRlZmF1bHQgYWN0aW9uc1xuICAgIHNlbGYuX3JlZ2lzdGVyRGVmYXVsdEFjdGlvbnMoaW5qZWN0b3IpO1xuXG4gICAgLy8gYXNrIGludGVyZXN0ZWQgcGFydGllcyB0byByZWdpc3RlciBhdmFpbGFibGUgZWRpdG9yXG4gICAgLy8gYWN0aW9ucyBvbiBkaWFncmFtIGluaXRpYWxpemF0aW9uXG4gICAgZXZlbnRCdXMuZmlyZSgnZWRpdG9yQWN0aW9ucy5pbml0Jywge1xuICAgICAgZWRpdG9yQWN0aW9uczogc2VsZlxuICAgIH0pO1xuICB9KTtcbn1cbkVkaXRvckFjdGlvbnMuJGluamVjdCA9IFsnZXZlbnRCdXMnLCAnaW5qZWN0b3InXTtcblxuLyoqXG4gKiBSZWdpc3RlciBkZWZhdWx0IGFjdGlvbnMuXG4gKlxuICogQHBhcmFtIHtJbmplY3Rvcn0gaW5qZWN0b3JcbiAqL1xuRWRpdG9yQWN0aW9ucy5wcm90b3R5cGUuX3JlZ2lzdGVyRGVmYXVsdEFjdGlvbnMgPSBmdW5jdGlvbiAoaW5qZWN0b3IpIHtcbiAgLy8gKDEpIHJldHJpZXZlIG9wdGlvbmFsIGNvbXBvbmVudHMgdG8gaW50ZWdyYXRlIHdpdGhcblxuICB2YXIgY29tbWFuZFN0YWNrID0gaW5qZWN0b3IuZ2V0KCdjb21tYW5kU3RhY2snLCBmYWxzZSk7XG4gIHZhciBtb2RlbGluZyA9IGluamVjdG9yLmdldCgnbW9kZWxpbmcnLCBmYWxzZSk7XG4gIHZhciBzZWxlY3Rpb24gPSBpbmplY3Rvci5nZXQoJ3NlbGVjdGlvbicsIGZhbHNlKTtcbiAgdmFyIHpvb21TY3JvbGwgPSBpbmplY3Rvci5nZXQoJ3pvb21TY3JvbGwnLCBmYWxzZSk7XG4gIHZhciBjb3B5UGFzdGUgPSBpbmplY3Rvci5nZXQoJ2NvcHlQYXN0ZScsIGZhbHNlKTtcbiAgdmFyIGNhbnZhcyA9IGluamVjdG9yLmdldCgnY2FudmFzJywgZmFsc2UpO1xuICB2YXIgcnVsZXMgPSBpbmplY3Rvci5nZXQoJ3J1bGVzJywgZmFsc2UpO1xuICB2YXIga2V5Ym9hcmRNb3ZlID0gaW5qZWN0b3IuZ2V0KCdrZXlib2FyZE1vdmUnLCBmYWxzZSk7XG4gIHZhciBrZXlib2FyZE1vdmVTZWxlY3Rpb24gPSBpbmplY3Rvci5nZXQoJ2tleWJvYXJkTW92ZVNlbGVjdGlvbicsIGZhbHNlKTtcblxuICAvLyAoMikgY2hlY2sgY29tcG9uZW50cyBhbmQgcmVnaXN0ZXIgYWN0aW9uc1xuXG4gIGlmIChjb21tYW5kU3RhY2spIHtcbiAgICB0aGlzLnJlZ2lzdGVyKCd1bmRvJywgZnVuY3Rpb24gKCkge1xuICAgICAgY29tbWFuZFN0YWNrLnVuZG8oKTtcbiAgICB9KTtcbiAgICB0aGlzLnJlZ2lzdGVyKCdyZWRvJywgZnVuY3Rpb24gKCkge1xuICAgICAgY29tbWFuZFN0YWNrLnJlZG8oKTtcbiAgICB9KTtcbiAgfVxuICBpZiAoY29weVBhc3RlICYmIHNlbGVjdGlvbikge1xuICAgIHRoaXMucmVnaXN0ZXIoJ2NvcHknLCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgc2VsZWN0ZWRFbGVtZW50cyA9IHNlbGVjdGlvbi5nZXQoKTtcbiAgICAgIGlmIChzZWxlY3RlZEVsZW1lbnRzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gY29weVBhc3RlLmNvcHkoc2VsZWN0ZWRFbGVtZW50cyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgaWYgKGNvcHlQYXN0ZSAmJiBzZWxlY3Rpb24pIHtcbiAgICB0aGlzLnJlZ2lzdGVyKCdkdXBsaWNhdGUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgc2VsZWN0ZWRFbGVtZW50cyA9IHNlbGVjdGlvbi5nZXQoKTtcbiAgICAgIGlmIChzZWxlY3RlZEVsZW1lbnRzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gY29weVBhc3RlLmR1cGxpY2F0ZShzZWxlY3RlZEVsZW1lbnRzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBpZiAoY29weVBhc3RlKSB7XG4gICAgdGhpcy5yZWdpc3RlcigncGFzdGUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICBjb3B5UGFzdGUucGFzdGUoKTtcbiAgICB9KTtcbiAgfVxuICBpZiAoY29weVBhc3RlICYmIHNlbGVjdGlvbiAmJiBydWxlcykge1xuICAgIHRoaXMucmVnaXN0ZXIoJ2N1dCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBzZWxlY3RlZEVsZW1lbnRzID0gc2VsZWN0aW9uLmdldCgpO1xuICAgICAgaWYgKCFzZWxlY3RlZEVsZW1lbnRzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgYWxsb3dlZCA9IHJ1bGVzLmFsbG93ZWQoJ2VsZW1lbnRzLmRlbGV0ZScsIHtcbiAgICAgICAgZWxlbWVudHM6IHNlbGVjdGVkRWxlbWVudHNcbiAgICAgIH0pO1xuICAgICAgaWYgKGFsbG93ZWQgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBjdXR0YWJsZUVsZW1lbnRzID0gaXNBcnJheShhbGxvd2VkKSA/IGFsbG93ZWQgOiBzZWxlY3RlZEVsZW1lbnRzO1xuICAgICAgcmV0dXJuIGNvcHlQYXN0ZS5jdXQoY3V0dGFibGVFbGVtZW50cy5zbGljZSgpKTtcbiAgICB9KTtcbiAgfVxuICBpZiAoem9vbVNjcm9sbCkge1xuICAgIHRoaXMucmVnaXN0ZXIoJ3N0ZXBab29tJywgZnVuY3Rpb24gKG9wdHMpIHtcbiAgICAgIHpvb21TY3JvbGwuc3RlcFpvb20ob3B0cy52YWx1ZSk7XG4gICAgfSk7XG4gIH1cbiAgaWYgKGNhbnZhcykge1xuICAgIHRoaXMucmVnaXN0ZXIoJ3pvb20nLCBmdW5jdGlvbiAob3B0cykge1xuICAgICAgY2FudmFzLnpvb20ob3B0cy52YWx1ZSk7XG4gICAgfSk7XG4gIH1cbiAgaWYgKG1vZGVsaW5nICYmIHNlbGVjdGlvbiAmJiBydWxlcykge1xuICAgIHRoaXMucmVnaXN0ZXIoJ3JlbW92ZVNlbGVjdGlvbicsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBzZWxlY3RlZEVsZW1lbnRzID0gc2VsZWN0aW9uLmdldCgpO1xuICAgICAgaWYgKCFzZWxlY3RlZEVsZW1lbnRzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgYWxsb3dlZCA9IHJ1bGVzLmFsbG93ZWQoJ2VsZW1lbnRzLmRlbGV0ZScsIHtcbiAgICAgICAgICBlbGVtZW50czogc2VsZWN0ZWRFbGVtZW50c1xuICAgICAgICB9KSxcbiAgICAgICAgcmVtb3ZhYmxlRWxlbWVudHM7XG4gICAgICBpZiAoYWxsb3dlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIGlmIChpc0FycmF5KGFsbG93ZWQpKSB7XG4gICAgICAgIHJlbW92YWJsZUVsZW1lbnRzID0gYWxsb3dlZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlbW92YWJsZUVsZW1lbnRzID0gc2VsZWN0ZWRFbGVtZW50cztcbiAgICAgIH1cbiAgICAgIGlmIChyZW1vdmFibGVFbGVtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgbW9kZWxpbmcucmVtb3ZlRWxlbWVudHMocmVtb3ZhYmxlRWxlbWVudHMuc2xpY2UoKSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgaWYgKGtleWJvYXJkTW92ZSkge1xuICAgIHRoaXMucmVnaXN0ZXIoJ21vdmVDYW52YXMnLCBmdW5jdGlvbiAob3B0cykge1xuICAgICAga2V5Ym9hcmRNb3ZlLm1vdmVDYW52YXMob3B0cyk7XG4gICAgfSk7XG4gIH1cbiAgaWYgKGtleWJvYXJkTW92ZVNlbGVjdGlvbikge1xuICAgIHRoaXMucmVnaXN0ZXIoJ21vdmVTZWxlY3Rpb24nLCBmdW5jdGlvbiAob3B0cykge1xuICAgICAga2V5Ym9hcmRNb3ZlU2VsZWN0aW9uLm1vdmVTZWxlY3Rpb24ob3B0cy5kaXJlY3Rpb24sIG9wdHMuYWNjZWxlcmF0ZWQpO1xuICAgIH0pO1xuICB9XG59O1xuXG4vKipcbiAqIFRyaWdnZXJzIGEgcmVnaXN0ZXJlZCBhY3Rpb25cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gYWN0aW9uXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0c1xuICpcbiAqIEByZXR1cm4ge3Vua25vd259IFJldHVybnMgd2hhdCB0aGUgcmVnaXN0ZXJlZCBsaXN0ZW5lciByZXR1cm5zXG4gKi9cbkVkaXRvckFjdGlvbnMucHJvdG90eXBlLnRyaWdnZXIgPSBmdW5jdGlvbiAoYWN0aW9uLCBvcHRzKSB7XG4gIGlmICghdGhpcy5fYWN0aW9uc1thY3Rpb25dKSB7XG4gICAgdGhyb3cgZXJyb3IoYWN0aW9uLCBOT1RfUkVHSVNURVJFRF9FUlJPUik7XG4gIH1cbiAgcmV0dXJuIHRoaXMuX2FjdGlvbnNbYWN0aW9uXShvcHRzKTtcbn07XG5cbi8qKlxuICogUmVnaXN0ZXJzIGEgY29sbGVjdGlvbnMgb2YgYWN0aW9ucy5cbiAqIFRoZSBrZXkgb2YgdGhlIG9iamVjdCB3aWxsIGJlIHRoZSBuYW1lIG9mIHRoZSBhY3Rpb24uXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiB2YXIgYWN0aW9ucyA9IHtcbiAqICAgc3BhY2VUb29sOiBmdW5jdGlvbigpIHtcbiAqICAgICBzcGFjZVRvb2wuYWN0aXZhdGVTZWxlY3Rpb24oKTtcbiAqICAgfSxcbiAqICAgbGFzc29Ub29sOiBmdW5jdGlvbigpIHtcbiAqICAgICBsYXNzb1Rvb2wuYWN0aXZhdGVTZWxlY3Rpb24oKTtcbiAqICAgfVxuICogXTtcbiAqXG4gKiBlZGl0b3JBY3Rpb25zLnJlZ2lzdGVyKGFjdGlvbnMpO1xuICpcbiAqIGVkaXRvckFjdGlvbnMuaXNSZWdpc3RlcmVkKCdzcGFjZVRvb2wnKTsgLy8gdHJ1ZVxuICogYGBgXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGFjdGlvbnNcbiAqL1xuRWRpdG9yQWN0aW9ucy5wcm90b3R5cGUucmVnaXN0ZXIgPSBmdW5jdGlvbiAoYWN0aW9ucywgbGlzdGVuZXIpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICBpZiAodHlwZW9mIGFjdGlvbnMgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHRoaXMuX3JlZ2lzdGVyQWN0aW9uKGFjdGlvbnMsIGxpc3RlbmVyKTtcbiAgfVxuICBmb3JFYWNoKGFjdGlvbnMsIGZ1bmN0aW9uIChsaXN0ZW5lciwgYWN0aW9uKSB7XG4gICAgc2VsZi5fcmVnaXN0ZXJBY3Rpb24oYWN0aW9uLCBsaXN0ZW5lcik7XG4gIH0pO1xufTtcblxuLyoqXG4gKiBSZWdpc3RlcnMgYSBsaXN0ZW5lciB0byBhbiBhY3Rpb24ga2V5XG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGFjdGlvblxuICogQHBhcmFtIHtGdW5jdGlvbn0gbGlzdGVuZXJcbiAqL1xuRWRpdG9yQWN0aW9ucy5wcm90b3R5cGUuX3JlZ2lzdGVyQWN0aW9uID0gZnVuY3Rpb24gKGFjdGlvbiwgbGlzdGVuZXIpIHtcbiAgaWYgKHRoaXMuaXNSZWdpc3RlcmVkKGFjdGlvbikpIHtcbiAgICB0aHJvdyBlcnJvcihhY3Rpb24sIElTX1JFR0lTVEVSRURfRVJST1IpO1xuICB9XG4gIHRoaXMuX2FjdGlvbnNbYWN0aW9uXSA9IGxpc3RlbmVyO1xufTtcblxuLyoqXG4gKiBVbnJlZ2lzdGVyIGFuIGV4aXN0aW5nIGFjdGlvblxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBhY3Rpb25cbiAqL1xuRWRpdG9yQWN0aW9ucy5wcm90b3R5cGUudW5yZWdpc3RlciA9IGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgaWYgKCF0aGlzLmlzUmVnaXN0ZXJlZChhY3Rpb24pKSB7XG4gICAgdGhyb3cgZXJyb3IoYWN0aW9uLCBOT1RfUkVHSVNURVJFRF9FUlJPUik7XG4gIH1cbiAgdGhpcy5fYWN0aW9uc1thY3Rpb25dID0gdW5kZWZpbmVkO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBpZGVudGlmaWVycyBvZiBhbGwgY3VycmVudGx5IHJlZ2lzdGVyZWQgZWRpdG9yIGFjdGlvbnNcbiAqXG4gKiBAcmV0dXJuIHtzdHJpbmdbXX1cbiAqL1xuRWRpdG9yQWN0aW9ucy5wcm90b3R5cGUuZ2V0QWN0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuX2FjdGlvbnMpO1xufTtcblxuLyoqXG4gKiBDaGVja3Mgd2V0aGVyIHRoZSBnaXZlbiBhY3Rpb24gaXMgcmVnaXN0ZXJlZFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBhY3Rpb25cbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5FZGl0b3JBY3Rpb25zLnByb3RvdHlwZS5pc1JlZ2lzdGVyZWQgPSBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gIHJldHVybiAhIXRoaXMuX2FjdGlvbnNbYWN0aW9uXTtcbn07XG5mdW5jdGlvbiBlcnJvcihhY3Rpb24sIG1lc3NhZ2UpIHtcbiAgcmV0dXJuIG5ldyBFcnJvcihhY3Rpb24gKyAnICcgKyBtZXNzYWdlKTtcbn1cblxuLyoqXG4gKiBAdHlwZSB7IGltcG9ydCgnZGlkaScpLk1vZHVsZURlY2xhcmF0aW9uIH1cbiAqL1xudmFyIEJhc2VFZGl0b3JBY3Rpb25zTW9kdWxlID0ge1xuICBfX2luaXRfXzogWydlZGl0b3JBY3Rpb25zJ10sXG4gIGVkaXRvckFjdGlvbnM6IFsndHlwZScsIEVkaXRvckFjdGlvbnNdXG59O1xuXG5jbGFzcyBGb3JtRWRpdG9yQWN0aW9ucyBleHRlbmRzIEVkaXRvckFjdGlvbnMge1xuICBjb25zdHJ1Y3RvcihldmVudEJ1cywgaW5qZWN0b3IpIHtcbiAgICBzdXBlcihldmVudEJ1cywgaW5qZWN0b3IpO1xuICAgIGV2ZW50QnVzLm9uKCdmb3JtLmluaXQnLCAoKSA9PiB7XG4gICAgICB0aGlzLl9yZWdpc3RlckRlZmF1bHRBY3Rpb25zKGluamVjdG9yKTtcbiAgICAgIGV2ZW50QnVzLmZpcmUoJ2VkaXRvckFjdGlvbnMuaW5pdCcsIHtcbiAgICAgICAgZWRpdG9yQWN0aW9uczogdGhpc1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbiAgX3JlZ2lzdGVyRGVmYXVsdEFjdGlvbnMoaW5qZWN0b3IpIHtcbiAgICBjb25zdCBjb21tYW5kU3RhY2sgPSBpbmplY3Rvci5nZXQoJ2NvbW1hbmRTdGFjaycsIGZhbHNlKSxcbiAgICAgIGZvcm1GaWVsZFJlZ2lzdHJ5ID0gaW5qZWN0b3IuZ2V0KCdmb3JtRmllbGRSZWdpc3RyeScsIGZhbHNlKSxcbiAgICAgIHNlbGVjdGlvbiA9IGluamVjdG9yLmdldCgnc2VsZWN0aW9uJywgZmFsc2UpO1xuICAgIGlmIChjb21tYW5kU3RhY2spIHtcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIHRoaXMucmVnaXN0ZXIoJ3VuZG8nLCAoKSA9PiB7XG4gICAgICAgIGNvbW1hbmRTdGFjay51bmRvKCk7XG4gICAgICB9KTtcblxuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgdGhpcy5yZWdpc3RlcigncmVkbycsICgpID0+IHtcbiAgICAgICAgY29tbWFuZFN0YWNrLnJlZG8oKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoZm9ybUZpZWxkUmVnaXN0cnkgJiYgc2VsZWN0aW9uKSB7XG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICB0aGlzLnJlZ2lzdGVyKCdzZWxlY3RGb3JtRmllbGQnLCAob3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICBpZFxuICAgICAgICB9ID0gb3B0aW9ucztcbiAgICAgICAgaWYgKCFpZCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBmb3JtRmllbGQgPSBmb3JtRmllbGRSZWdpc3RyeS5nZXQoaWQpO1xuICAgICAgICBpZiAoZm9ybUZpZWxkKSB7XG4gICAgICAgICAgc2VsZWN0aW9uLnNldChmb3JtRmllbGQpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn1cbkZvcm1FZGl0b3JBY3Rpb25zLiRpbmplY3QgPSBbJ2V2ZW50QnVzJywgJ2luamVjdG9yJ107XG5cbmNvbnN0IEVkaXRvckFjdGlvbnNNb2R1bGUgPSB7XG4gIF9fZGVwZW5kc19fOiBbQmFzZUVkaXRvckFjdGlvbnNNb2R1bGVdLFxuICBlZGl0b3JBY3Rpb25zOiBbJ3R5cGUnLCBGb3JtRWRpdG9yQWN0aW9uc11cbn07XG5cbmNsYXNzIEVkaXRvclRlbXBsYXRpbmcge1xuICAvLyBzYW1lIHJ1bGVzIGFzIHZpZXdlciB0ZW1wbGF0aW5nXG4gIGlzVGVtcGxhdGUodmFsdWUpIHtcbiAgICByZXR1cm4gaXNTdHJpbmcodmFsdWUpICYmICh2YWx1ZS5zdGFydHNXaXRoKCc9JykgfHwgL3t7Ly50ZXN0KHZhbHVlKSk7XG4gIH1cblxuICAvLyByZXR1cm4gdGhlIHRlbXBsYXRlIHJhdywgYXMgd2UgdXN1YWxseSBqdXN0IHdhbnQgdG8gZGlzcGxheSB0aGF0XG4gIGV2YWx1YXRlKHRlbXBsYXRlKSB7XG4gICAgcmV0dXJuIHRlbXBsYXRlO1xuICB9XG59XG5FZGl0b3JUZW1wbGF0aW5nLiRpbmplY3QgPSBbXTtcblxuY29uc3QgRWRpdG9yRXhwcmVzc2lvbkxhbmd1YWdlTW9kdWxlID0ge1xuICBfX2luaXRfXzogWydleHByZXNzaW9uTGFuZ3VhZ2UnLCAndGVtcGxhdGluZyddLFxuICBleHByZXNzaW9uTGFuZ3VhZ2U6IFsndHlwZScsIEZlZWxFeHByZXNzaW9uTGFuZ3VhZ2VdLFxuICB0ZW1wbGF0aW5nOiBbJ3R5cGUnLCBFZGl0b3JUZW1wbGF0aW5nXVxufTtcblxudmFyIEtFWVNfQ09QWSA9IFsnYycsICdDJ107XG52YXIgS0VZU19QQVNURSA9IFsndicsICdWJ107XG52YXIgS0VZU19EVVBMSUNBVEUgPSBbJ2QnLCAnRCddO1xudmFyIEtFWVNfQ1VUID0gWyd4JywgJ1gnXTtcbnZhciBLRVlTX1JFRE8gPSBbJ3knLCAnWSddO1xudmFyIEtFWVNfVU5ETyA9IFsneicsICdaJ107XG5cbi8qKlxyXG4gKiBSZXR1cm5zIHRydWUgaWYgZXZlbnQgd2FzIHRyaWdnZXJlZCB3aXRoIGFueSBtb2RpZmllclxyXG4gKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGV2ZW50XHJcbiAqL1xuZnVuY3Rpb24gaGFzTW9kaWZpZXIoZXZlbnQpIHtcbiAgcmV0dXJuIGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQubWV0YUtleSB8fCBldmVudC5zaGlmdEtleSB8fCBldmVudC5hbHRLZXk7XG59XG5cbi8qKlxyXG4gKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGV2ZW50XHJcbiAqIEByZXR1cm4ge2Jvb2xlYW59XHJcbiAqL1xuZnVuY3Rpb24gaXNDbWQkMShldmVudCkge1xuICAvLyBlbnN1cmUgd2UgZG9uJ3QgcmVhY3QgdG8gQWx0R3JcbiAgLy8gKG1hcHBlZCB0byBDVFJMICsgQUxUKVxuICBpZiAoZXZlbnQuYWx0S2V5KSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiBldmVudC5jdHJsS2V5IHx8IGV2ZW50Lm1ldGFLZXk7XG59XG5cbi8qKlxyXG4gKiBDaGVja3MgaWYga2V5IHByZXNzZWQgaXMgb25lIG9mIHByb3ZpZGVkIGtleXMuXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfHN0cmluZ1tdfSBrZXlzXHJcbiAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZXZlbnRcclxuICogQHJldHVybiB7Ym9vbGVhbn1cclxuICovXG5mdW5jdGlvbiBpc0tleShrZXlzLCBldmVudCkge1xuICBrZXlzID0gaXNBcnJheShrZXlzKSA/IGtleXMgOiBba2V5c107XG4gIHJldHVybiBrZXlzLmluZGV4T2YoZXZlbnQua2V5KSAhPT0gLTEgfHwga2V5cy5pbmRleE9mKGV2ZW50LmNvZGUpICE9PSAtMTtcbn1cblxuLyoqXHJcbiAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZXZlbnRcclxuICovXG5mdW5jdGlvbiBpc1NoaWZ0KGV2ZW50KSB7XG4gIHJldHVybiBldmVudC5zaGlmdEtleTtcbn1cblxuLyoqXHJcbiAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZXZlbnRcclxuICovXG5mdW5jdGlvbiBpc0NvcHkoZXZlbnQpIHtcbiAgcmV0dXJuIGlzQ21kJDEoZXZlbnQpICYmIGlzS2V5KEtFWVNfQ09QWSwgZXZlbnQpO1xufVxuXG4vKipcclxuICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBldmVudFxyXG4gKi9cbmZ1bmN0aW9uIGlzUGFzdGUoZXZlbnQpIHtcbiAgcmV0dXJuIGlzQ21kJDEoZXZlbnQpICYmIGlzS2V5KEtFWVNfUEFTVEUsIGV2ZW50KTtcbn1cblxuLyoqXHJcbiAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZXZlbnRcclxuICovXG5mdW5jdGlvbiBpc0R1cGxpY2F0ZShldmVudCkge1xuICByZXR1cm4gaXNDbWQkMShldmVudCkgJiYgaXNLZXkoS0VZU19EVVBMSUNBVEUsIGV2ZW50KTtcbn1cblxuLyoqXHJcbiAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZXZlbnRcclxuICovXG5mdW5jdGlvbiBpc0N1dChldmVudCkge1xuICByZXR1cm4gaXNDbWQkMShldmVudCkgJiYgaXNLZXkoS0VZU19DVVQsIGV2ZW50KTtcbn1cblxuLyoqXHJcbiAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZXZlbnRcclxuICovXG5mdW5jdGlvbiBpc1VuZG8oZXZlbnQpIHtcbiAgcmV0dXJuIGlzQ21kJDEoZXZlbnQpICYmICFpc1NoaWZ0KGV2ZW50KSAmJiBpc0tleShLRVlTX1VORE8sIGV2ZW50KTtcbn1cblxuLyoqXHJcbiAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZXZlbnRcclxuICovXG5mdW5jdGlvbiBpc1JlZG8oZXZlbnQpIHtcbiAgcmV0dXJuIGlzQ21kJDEoZXZlbnQpICYmIChpc0tleShLRVlTX1JFRE8sIGV2ZW50KSB8fCBpc0tleShLRVlTX1VORE8sIGV2ZW50KSAmJiBpc1NoaWZ0KGV2ZW50KSk7XG59XG5cbi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vY29yZS9FdmVudEJ1cycpLmRlZmF1bHR9IEV2ZW50QnVzXG4gKlxuICogQHR5cGVkZWYgeyh7IGtleUV2ZW50OiBLZXlib2FyZEV2ZW50IH0pID0+IGFueX0gTGlzdGVuZXJcbiAqL1xuXG52YXIgS0VZRE9XTl9FVkVOVCA9ICdrZXlib2FyZC5rZXlkb3duJyxcbiAgS0VZVVBfRVZFTlQgPSAna2V5Ym9hcmQua2V5dXAnO1xudmFyIERFRkFVTFRfUFJJT1JJVFkkMiA9IDEwMDA7XG52YXIgY29tcGF0TWVzc2FnZSA9ICdLZXlib2FyZCBiaW5kaW5nIGlzIG5vdyBpbXBsaWNpdDsgZXhwbGljaXQgYmluZGluZyB0byBhbiBlbGVtZW50IGdvdCByZW1vdmVkLiBGb3IgbW9yZSBpbmZvcm1hdGlvbiwgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9icG1uLWlvL2RpYWdyYW0tanMvaXNzdWVzLzY2MSc7XG5cbi8qKlxuICogQSBrZXlib2FyZCBhYnN0cmFjdGlvbiB0aGF0IG1heSBiZSBhY3RpdmF0ZWQgYW5kXG4gKiBkZWFjdGl2YXRlZCBieSB1c2VycyBhdCB3aWxsLCBjb25zdW1pbmcgZ2xvYmFsIGtleSBldmVudHNcbiAqIGFuZCB0cmlnZ2VyaW5nIGRpYWdyYW0gYWN0aW9ucy5cbiAqXG4gKiBGb3Iga2V5cyBwcmVzc2VkIGRvd24sIGtleWJvYXJkIGZpcmVzIGBrZXlib2FyZC5rZXlkb3duYCBldmVudC5cbiAqIFRoZSBldmVudCBjb250ZXh0IGNvbnRhaW5zIG9uZSBmaWVsZCB3aGljaCBpcyBgS2V5Ym9hcmRFdmVudGAgZXZlbnQuXG4gKlxuICogVGhlIGltcGxlbWVudGF0aW9uIGZpcmVzIHRoZSBmb2xsb3dpbmcga2V5IGV2ZW50cyB0aGF0IGFsbG93XG4gKiBvdGhlciBjb21wb25lbnRzIHRvIGhvb2sgaW50byBrZXkgaGFuZGxpbmc6XG4gKlxuICogIC0ga2V5Ym9hcmQuYmluZFxuICogIC0ga2V5Ym9hcmQudW5iaW5kXG4gKiAgLSBrZXlib2FyZC5pbml0XG4gKiAgLSBrZXlib2FyZC5kZXN0cm95XG4gKlxuICogQWxsIGV2ZW50cyBjb250YWluIG9uZSBmaWVsZCB3aGljaCBpcyBub2RlLlxuICpcbiAqIFNwZWNpZnkgdGhlIGluaXRpYWwga2V5Ym9hcmQgYmluZGluZyBzdGF0ZSB2aWEgdGhlXG4gKiBga2V5Ym9hcmQuYmluZD10cnVlfGZhbHNlYCBjb25maWd1cmF0aW9uIG9wdGlvbi5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtjb25maWcuYmluZF1cbiAqIEBwYXJhbSB7RXZlbnRCdXN9IGV2ZW50QnVzXG4gKi9cbmZ1bmN0aW9uIEtleWJvYXJkKGNvbmZpZywgZXZlbnRCdXMpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB0aGlzLl9jb25maWcgPSBjb25maWcgPSBjb25maWcgfHwge307XG4gIHRoaXMuX2V2ZW50QnVzID0gZXZlbnRCdXM7XG4gIHRoaXMuX2tleWRvd25IYW5kbGVyID0gdGhpcy5fa2V5ZG93bkhhbmRsZXIuYmluZCh0aGlzKTtcbiAgdGhpcy5fa2V5dXBIYW5kbGVyID0gdGhpcy5fa2V5dXBIYW5kbGVyLmJpbmQodGhpcyk7XG5cbiAgLy8gcHJvcGVybHkgY2xlYW4gZG9tIHJlZ2lzdHJhdGlvbnNcbiAgZXZlbnRCdXMub24oJ2RpYWdyYW0uZGVzdHJveScsIGZ1bmN0aW9uICgpIHtcbiAgICBzZWxmLl9maXJlKCdkZXN0cm95Jyk7XG4gICAgc2VsZi51bmJpbmQoKTtcbiAgfSk7XG4gIGlmIChjb25maWcuYmluZFRvKSB7XG4gICAgY29uc29sZS5lcnJvcigndW5zdXBwb3J0ZWQgY29uZmlndXJhdGlvbiA8a2V5Ym9hcmQuYmluZFRvPicsIG5ldyBFcnJvcihjb21wYXRNZXNzYWdlKSk7XG4gIH1cbiAgdmFyIGJpbmQgPSBjb25maWcgJiYgY29uZmlnLmJpbmQgIT09IGZhbHNlO1xuICBldmVudEJ1cy5vbignY2FudmFzLmluaXQnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBzZWxmLl90YXJnZXQgPSBldmVudC5zdmc7XG4gICAgaWYgKGJpbmQpIHtcbiAgICAgIHNlbGYuYmluZCgpO1xuICAgIH1cbiAgICBzZWxmLl9maXJlKCdpbml0Jyk7XG4gIH0pO1xufVxuS2V5Ym9hcmQuJGluamVjdCA9IFsnY29uZmlnLmtleWJvYXJkJywgJ2V2ZW50QnVzJ107XG5LZXlib2FyZC5wcm90b3R5cGUuX2tleWRvd25IYW5kbGVyID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gIHRoaXMuX2tleUhhbmRsZXIoZXZlbnQsIEtFWURPV05fRVZFTlQpO1xufTtcbktleWJvYXJkLnByb3RvdHlwZS5fa2V5dXBIYW5kbGVyID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gIHRoaXMuX2tleUhhbmRsZXIoZXZlbnQsIEtFWVVQX0VWRU5UKTtcbn07XG5LZXlib2FyZC5wcm90b3R5cGUuX2tleUhhbmRsZXIgPSBmdW5jdGlvbiAoZXZlbnQsIHR5cGUpIHtcbiAgdmFyIGV2ZW50QnVzUmVzdWx0O1xuICBpZiAodGhpcy5faXNFdmVudElnbm9yZWQoZXZlbnQpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBjb250ZXh0ID0ge1xuICAgIGtleUV2ZW50OiBldmVudFxuICB9O1xuICBldmVudEJ1c1Jlc3VsdCA9IHRoaXMuX2V2ZW50QnVzLmZpcmUodHlwZSB8fCBLRVlET1dOX0VWRU5ULCBjb250ZXh0KTtcbiAgaWYgKGV2ZW50QnVzUmVzdWx0KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgfVxufTtcbktleWJvYXJkLnByb3RvdHlwZS5faXNFdmVudElnbm9yZWQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuLyoqXG4gKiBCaW5kIGtleWJvYXJkIGV2ZW50cyB0byB0aGUgZ2l2ZW4gRE9NIG5vZGUuXG4gKlxuICogQG92ZXJsb3JkXG4gKiBAZGVwcmVjYXRlZCBObyBsb25nZXIgaW4gdXNlIHNpbmNlIHZlcnNpb24gMTUuMC4wLlxuICpcbiAqIEBwYXJhbSB7RXZlbnRUYXJnZXR9IG5vZGVcbiAqL1xuLyoqXG4gKiBCaW5kIGtleWJvYXJkIGV2ZW50cyB0byB0aGUgY2FudmFzIG5vZGUuXG4gKi9cbktleWJvYXJkLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgLy8gbGVnYWN5IDxub2RlPiBhcmd1bWVudCBwcm92aWRlZFxuICBpZiAobm9kZSkge1xuICAgIGNvbnNvbGUuZXJyb3IoJ3Vuc3VwcG9ydGVkIGFyZ3VtZW50IDxub2RlPicsIG5ldyBFcnJvcihjb21wYXRNZXNzYWdlKSk7XG4gIH1cblxuICAvLyBtYWtlIHN1cmUgdGhhdCB0aGUga2V5Ym9hcmQgaXMgb25seSBib3VuZCBvbmNlIHRvIHRoZSBET01cbiAgdGhpcy51bmJpbmQoKTtcbiAgbm9kZSA9IHRoaXMuX25vZGUgPSB0aGlzLl90YXJnZXQ7XG5cbiAgLy8gYmluZCBrZXkgZXZlbnRzXG4gIGV2ZW50LmJpbmQobm9kZSwgJ2tleWRvd24nLCB0aGlzLl9rZXlkb3duSGFuZGxlcik7XG4gIGV2ZW50LmJpbmQobm9kZSwgJ2tleXVwJywgdGhpcy5fa2V5dXBIYW5kbGVyKTtcbiAgdGhpcy5fZmlyZSgnYmluZCcpO1xufTtcblxuLyoqXG4gKiBAcmV0dXJuIHtFdmVudFRhcmdldH1cbiAqL1xuS2V5Ym9hcmQucHJvdG90eXBlLmdldEJpbmRpbmcgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLl9ub2RlO1xufTtcbktleWJvYXJkLnByb3RvdHlwZS51bmJpbmQgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBub2RlID0gdGhpcy5fbm9kZTtcbiAgaWYgKG5vZGUpIHtcbiAgICB0aGlzLl9maXJlKCd1bmJpbmQnKTtcblxuICAgIC8vIHVuYmluZCBrZXkgZXZlbnRzXG4gICAgZXZlbnQudW5iaW5kKG5vZGUsICdrZXlkb3duJywgdGhpcy5fa2V5ZG93bkhhbmRsZXIpO1xuICAgIGV2ZW50LnVuYmluZChub2RlLCAna2V5dXAnLCB0aGlzLl9rZXl1cEhhbmRsZXIpO1xuICB9XG4gIHRoaXMuX25vZGUgPSBudWxsO1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRcbiAqL1xuS2V5Ym9hcmQucHJvdG90eXBlLl9maXJlID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gIHRoaXMuX2V2ZW50QnVzLmZpcmUoJ2tleWJvYXJkLicgKyBldmVudCwge1xuICAgIG5vZGU6IHRoaXMuX25vZGVcbiAgfSk7XG59O1xuXG4vKipcbiAqIEFkZCBhIGxpc3RlbmVyIGZ1bmN0aW9uIHRoYXQgaXMgbm90aWZpZWQgd2l0aCBgS2V5Ym9hcmRFdmVudGAgd2hlbmV2ZXJcbiAqIHRoZSBrZXlib2FyZCBpcyBib3VuZCBhbmQgdGhlIHVzZXIgcHJlc3NlcyBhIGtleS4gSWYgbm8gcHJpb3JpdHkgaXNcbiAqIHByb3ZpZGVkLCB0aGUgZGVmYXVsdCB2YWx1ZSBvZiAxMDAwIGlzIHVzZWQuXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IFtwcmlvcml0eV1cbiAqIEBwYXJhbSB7TGlzdGVuZXJ9IGxpc3RlbmVyXG4gKiBAcGFyYW0ge3N0cmluZ30gW3R5cGU9J2tleWJvYXJkLmtleWRvd24nXVxuICovXG5LZXlib2FyZC5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBmdW5jdGlvbiAocHJpb3JpdHksIGxpc3RlbmVyLCB0eXBlKSB7XG4gIGlmIChpc0Z1bmN0aW9uKHByaW9yaXR5KSkge1xuICAgIHR5cGUgPSBsaXN0ZW5lcjtcbiAgICBsaXN0ZW5lciA9IHByaW9yaXR5O1xuICAgIHByaW9yaXR5ID0gREVGQVVMVF9QUklPUklUWSQyO1xuICB9XG4gIHRoaXMuX2V2ZW50QnVzLm9uKHR5cGUgfHwgS0VZRE9XTl9FVkVOVCwgcHJpb3JpdHksIGxpc3RlbmVyKTtcbn07XG5cbi8qKlxuICogUmVtb3ZlIGEgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIHtMaXN0ZW5lcn0gbGlzdGVuZXJcbiAqIEBwYXJhbSB7c3RyaW5nfSBbdHlwZT0na2V5Ym9hcmQua2V5ZG93biddXG4gKi9cbktleWJvYXJkLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uIChsaXN0ZW5lciwgdHlwZSkge1xuICB0aGlzLl9ldmVudEJ1cy5vZmYodHlwZSB8fCBLRVlET1dOX0VWRU5ULCBsaXN0ZW5lcik7XG59O1xuS2V5Ym9hcmQucHJvdG90eXBlLmhhc01vZGlmaWVyID0gaGFzTW9kaWZpZXI7XG5LZXlib2FyZC5wcm90b3R5cGUuaXNDbWQgPSBpc0NtZCQxO1xuS2V5Ym9hcmQucHJvdG90eXBlLmlzU2hpZnQgPSBpc1NoaWZ0O1xuS2V5Ym9hcmQucHJvdG90eXBlLmlzS2V5ID0gaXNLZXk7XG5cbnZhciBMT1dfUFJJT1JJVFkkMSA9IDUwMDtcblxuLyoqXG4gKiBBZGRzIGRlZmF1bHQga2V5Ym9hcmQgYmluZGluZ3MuXG4gKlxuICogVGhpcyBkb2VzIG5vdCBwdWxsIGluIGFueSBmZWF0dXJlcyB3aWxsIGJpbmQgb25seSBhY3Rpb25zIHRoYXRcbiAqIGhhdmUgcHJldmlvdXNseSBiZWVuIHJlZ2lzdGVyZWQgYWdhaW5zdCB0aGUgZWRpdG9yQWN0aW9ucyBjb21wb25lbnQuXG4gKlxuICogQHBhcmFtIHtFdmVudEJ1c30gZXZlbnRCdXNcbiAqIEBwYXJhbSB7S2V5Ym9hcmR9IGtleWJvYXJkXG4gKi9cbmZ1bmN0aW9uIEtleWJvYXJkQmluZGluZ3MoZXZlbnRCdXMsIGtleWJvYXJkKSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgZXZlbnRCdXMub24oJ2VkaXRvckFjdGlvbnMuaW5pdCcsIExPV19QUklPUklUWSQxLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICB2YXIgZWRpdG9yQWN0aW9ucyA9IGV2ZW50LmVkaXRvckFjdGlvbnM7XG4gICAgc2VsZi5yZWdpc3RlckJpbmRpbmdzKGtleWJvYXJkLCBlZGl0b3JBY3Rpb25zKTtcbiAgfSk7XG59XG5LZXlib2FyZEJpbmRpbmdzLiRpbmplY3QgPSBbJ2V2ZW50QnVzJywgJ2tleWJvYXJkJ107XG5cbi8qKlxuICogUmVnaXN0ZXIgYXZhaWxhYmxlIGtleWJvYXJkIGJpbmRpbmdzLlxuICpcbiAqIEBwYXJhbSB7S2V5Ym9hcmR9IGtleWJvYXJkXG4gKiBAcGFyYW0ge0VkaXRvckFjdGlvbnN9IGVkaXRvckFjdGlvbnNcbiAqL1xuS2V5Ym9hcmRCaW5kaW5ncy5wcm90b3R5cGUucmVnaXN0ZXJCaW5kaW5ncyA9IGZ1bmN0aW9uIChrZXlib2FyZCwgZWRpdG9yQWN0aW9ucykge1xuICAvKipcbiAgICogQWRkIGtleWJvYXJkIGJpbmRpbmcgaWYgcmVzcGVjdGl2ZSBlZGl0b3IgYWN0aW9uXG4gICAqIGlzIHJlZ2lzdGVyZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBhY3Rpb24gbmFtZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiB0aGF0IGltcGxlbWVudHMgdGhlIGtleSBiaW5kaW5nXG4gICAqL1xuICBmdW5jdGlvbiBhZGRMaXN0ZW5lcihhY3Rpb24sIGZuKSB7XG4gICAgaWYgKGVkaXRvckFjdGlvbnMuaXNSZWdpc3RlcmVkKGFjdGlvbikpIHtcbiAgICAgIGtleWJvYXJkLmFkZExpc3RlbmVyKGZuKTtcbiAgICB9XG4gIH1cblxuICAvLyB1bmRvXG4gIC8vIChDVFJMfENNRCkgKyBaXG4gIGFkZExpc3RlbmVyKCd1bmRvJywgZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICB2YXIgZXZlbnQgPSBjb250ZXh0LmtleUV2ZW50O1xuICAgIGlmIChpc1VuZG8oZXZlbnQpKSB7XG4gICAgICBlZGl0b3JBY3Rpb25zLnRyaWdnZXIoJ3VuZG8nKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gcmVkb1xuICAvLyBDVFJMICsgWVxuICAvLyBDTUQgKyBTSElGVCArIFpcbiAgYWRkTGlzdGVuZXIoJ3JlZG8nLCBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgIHZhciBldmVudCA9IGNvbnRleHQua2V5RXZlbnQ7XG4gICAgaWYgKGlzUmVkbyhldmVudCkpIHtcbiAgICAgIGVkaXRvckFjdGlvbnMudHJpZ2dlcigncmVkbycpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9KTtcblxuICAvLyBjb3B5XG4gIC8vIENUUkwvQ01EICsgQ1xuICBhZGRMaXN0ZW5lcignY29weScsIGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgdmFyIGV2ZW50ID0gY29udGV4dC5rZXlFdmVudDtcbiAgICBpZiAoaXNDb3B5KGV2ZW50KSkge1xuICAgICAgZWRpdG9yQWN0aW9ucy50cmlnZ2VyKCdjb3B5Jyk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIHBhc3RlXG4gIC8vIENUUkwvQ01EICsgVlxuICBhZGRMaXN0ZW5lcigncGFzdGUnLCBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgIHZhciBldmVudCA9IGNvbnRleHQua2V5RXZlbnQ7XG4gICAgaWYgKGlzUGFzdGUoZXZlbnQpKSB7XG4gICAgICBlZGl0b3JBY3Rpb25zLnRyaWdnZXIoJ3Bhc3RlJyk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIGR1cGxpY2F0ZVxuICAvLyBDVFJML0NNRCArIERcbiAgYWRkTGlzdGVuZXIoJ2R1cGxpY2F0ZScsIGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgdmFyIGV2ZW50ID0gY29udGV4dC5rZXlFdmVudDtcbiAgICBpZiAoaXNEdXBsaWNhdGUoZXZlbnQpKSB7XG4gICAgICBlZGl0b3JBY3Rpb25zLnRyaWdnZXIoJ2R1cGxpY2F0ZScpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9KTtcblxuICAvLyBjdXRcbiAgLy8gQ1RSTC9DTUQgKyBYXG4gIGFkZExpc3RlbmVyKCdjdXQnLCBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgIHZhciBldmVudCA9IGNvbnRleHQua2V5RXZlbnQ7XG4gICAgaWYgKGlzQ3V0KGV2ZW50KSkge1xuICAgICAgZWRpdG9yQWN0aW9ucy50cmlnZ2VyKCdjdXQnKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gem9vbSBpbiBvbmUgc3RlcFxuICAvLyBDVFJML0NNRCArICtcbiAgYWRkTGlzdGVuZXIoJ3N0ZXBab29tJywgZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICB2YXIgZXZlbnQgPSBjb250ZXh0LmtleUV2ZW50O1xuXG4gICAgLy8gcXVpcms6IGl0IGhhcyB0byBiZSB0cmlnZ2VyZWQgYnkgYD1gIGFzIHdlbGwgdG8gd29yayBvbiBpbnRlcm5hdGlvbmFsIGtleWJvYXJkIGxheW91dFxuICAgIC8vIGNmOiBodHRwczovL2dpdGh1Yi5jb20vYnBtbi1pby9icG1uLWpzL2lzc3Vlcy8xMzYyI2lzc3VlY29tbWVudC03MjI5ODk3NTRcbiAgICBpZiAoaXNLZXkoWycrJywgJ0FkZCcsICc9J10sIGV2ZW50KSAmJiBpc0NtZCQxKGV2ZW50KSkge1xuICAgICAgZWRpdG9yQWN0aW9ucy50cmlnZ2VyKCdzdGVwWm9vbScsIHtcbiAgICAgICAgdmFsdWU6IDFcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9KTtcblxuICAvLyB6b29tIG91dCBvbmUgc3RlcFxuICAvLyBDVFJMICsgLVxuICBhZGRMaXN0ZW5lcignc3RlcFpvb20nLCBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgIHZhciBldmVudCA9IGNvbnRleHQua2V5RXZlbnQ7XG4gICAgaWYgKGlzS2V5KFsnLScsICdTdWJ0cmFjdCddLCBldmVudCkgJiYgaXNDbWQkMShldmVudCkpIHtcbiAgICAgIGVkaXRvckFjdGlvbnMudHJpZ2dlcignc3RlcFpvb20nLCB7XG4gICAgICAgIHZhbHVlOiAtMVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIHpvb20gdG8gdGhlIGRlZmF1bHQgbGV2ZWxcbiAgLy8gQ1RSTCArIDBcbiAgYWRkTGlzdGVuZXIoJ3pvb20nLCBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgIHZhciBldmVudCA9IGNvbnRleHQua2V5RXZlbnQ7XG4gICAgaWYgKGlzS2V5KCcwJywgZXZlbnQpICYmIGlzQ21kJDEoZXZlbnQpKSB7XG4gICAgICBlZGl0b3JBY3Rpb25zLnRyaWdnZXIoJ3pvb20nLCB7XG4gICAgICAgIHZhbHVlOiAxXG4gICAgICB9KTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gZGVsZXRlIHNlbGVjdGVkIGVsZW1lbnRcbiAgLy8gREVMXG4gIGFkZExpc3RlbmVyKCdyZW1vdmVTZWxlY3Rpb24nLCBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgIHZhciBldmVudCA9IGNvbnRleHQua2V5RXZlbnQ7XG4gICAgaWYgKGlzS2V5KFsnQmFja3NwYWNlJywgJ0RlbGV0ZScsICdEZWwnXSwgZXZlbnQpKSB7XG4gICAgICBlZGl0b3JBY3Rpb25zLnRyaWdnZXIoJ3JlbW92ZVNlbGVjdGlvbicpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9KTtcbn07XG5cbi8qKlxuICogQHR5cGUgeyBpbXBvcnQoJ2RpZGknKS5Nb2R1bGVEZWNsYXJhdGlvbiB9XG4gKi9cbnZhciBLZXlib2FyZE1vZHVsZSA9IHtcbiAgX19pbml0X186IFsna2V5Ym9hcmQnLCAna2V5Ym9hcmRCaW5kaW5ncyddLFxuICBrZXlib2FyZDogWyd0eXBlJywgS2V5Ym9hcmRdLFxuICBrZXlib2FyZEJpbmRpbmdzOiBbJ3R5cGUnLCBLZXlib2FyZEJpbmRpbmdzXVxufTtcblxuY29uc3QgTE9XX1BSSU9SSVRZID0gNTAwO1xuY2xhc3MgRm9ybUVkaXRvcktleWJvYXJkQmluZGluZ3Mge1xuICBjb25zdHJ1Y3RvcihldmVudEJ1cywga2V5Ym9hcmQpIHtcbiAgICBldmVudEJ1cy5vbignZWRpdG9yQWN0aW9ucy5pbml0JywgTE9XX1BSSU9SSVRZLCBldmVudCA9PiB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIGVkaXRvckFjdGlvbnNcbiAgICAgIH0gPSBldmVudDtcbiAgICAgIHRoaXMucmVnaXN0ZXJCaW5kaW5ncyhrZXlib2FyZCwgZWRpdG9yQWN0aW9ucyk7XG4gICAgfSk7XG4gIH1cbiAgcmVnaXN0ZXJCaW5kaW5ncyhrZXlib2FyZCwgZWRpdG9yQWN0aW9ucykge1xuICAgIGZ1bmN0aW9uIGFkZExpc3RlbmVyKGFjdGlvbiwgZm4pIHtcbiAgICAgIGlmIChlZGl0b3JBY3Rpb25zLmlzUmVnaXN0ZXJlZChhY3Rpb24pKSB7XG4gICAgICAgIGtleWJvYXJkLmFkZExpc3RlbmVyKGZuKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyB1bmRvXG4gICAgLy8gKENUUkx8Q01EKSArIFpcbiAgICBhZGRMaXN0ZW5lcigndW5kbycsIGNvbnRleHQgPT4ge1xuICAgICAgY29uc3Qge1xuICAgICAgICBrZXlFdmVudFxuICAgICAgfSA9IGNvbnRleHQ7XG4gICAgICBpZiAoaXNVbmRvKGtleUV2ZW50KSkge1xuICAgICAgICBlZGl0b3JBY3Rpb25zLnRyaWdnZXIoJ3VuZG8nKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyByZWRvXG4gICAgLy8gQ1RSTCArIFlcbiAgICAvLyBDTUQgKyBTSElGVCArIFpcbiAgICBhZGRMaXN0ZW5lcigncmVkbycsIGNvbnRleHQgPT4ge1xuICAgICAgY29uc3Qge1xuICAgICAgICBrZXlFdmVudFxuICAgICAgfSA9IGNvbnRleHQ7XG4gICAgICBpZiAoaXNSZWRvKGtleUV2ZW50KSkge1xuICAgICAgICBlZGl0b3JBY3Rpb25zLnRyaWdnZXIoJ3JlZG8nKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cbkZvcm1FZGl0b3JLZXlib2FyZEJpbmRpbmdzLiRpbmplY3QgPSBbJ2V2ZW50QnVzJywgJ2tleWJvYXJkJ107XG5cbmNvbnN0IEZvcm1FZGl0b3JLZXlib2FyZE1vZHVsZSA9IHtcbiAgX19kZXBlbmRzX186IFtLZXlib2FyZE1vZHVsZV0sXG4gIF9faW5pdF9fOiBbJ2tleWJvYXJkQmluZGluZ3MnXSxcbiAga2V5Ym9hcmRCaW5kaW5nczogWyd0eXBlJywgRm9ybUVkaXRvcktleWJvYXJkQmluZGluZ3NdXG59O1xuXG5jb25zdCBEcmFnZ2luZ01vZHVsZSA9IHtcbiAgX19pbml0X186IFsnZHJhZ2dpbmcnXSxcbiAgZHJhZ2dpbmc6IFsndHlwZScsIERyYWdnaW5nXVxufTtcblxuLyoqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCdkaWRpJykuSW5qZWN0b3J9IEluamVjdG9yXG4gKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vY29yZS9UeXBlcycpLkVsZW1lbnRMaWtlfSBFbGVtZW50TGlrZVxuICpcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL2NvcmUvRXZlbnRCdXMnKS5kZWZhdWx0fSBFdmVudEJ1c1xuICogQHR5cGVkZWYge2ltcG9ydCgnLi9Db21tYW5kSGFuZGxlcicpLmRlZmF1bHR9IENvbW1hbmRIYW5kbGVyXG4gKlxuICogQHR5cGVkZWYgeyBhbnkgfSBDb21tYW5kQ29udGV4dFxuICogQHR5cGVkZWYgeyB7XG4gKiAgIG5ldyAoLi4uYXJnczogYW55W10pIDogQ29tbWFuZEhhbmRsZXJcbiAqIH0gfSBDb21tYW5kSGFuZGxlckNvbnN0cnVjdG9yXG4gKiBAdHlwZWRlZiB7IHtcbiAqICAgW2tleTogc3RyaW5nXTogQ29tbWFuZEhhbmRsZXI7XG4gKiB9IH0gQ29tbWFuZEhhbmRsZXJNYXBcbiAqIEB0eXBlZGVmIHsge1xuICogICBjb21tYW5kOiBzdHJpbmc7XG4gKiAgIGNvbnRleHQ6IGFueTtcbiAqICAgaWQ/OiBhbnk7XG4gKiB9IH0gQ29tbWFuZFN0YWNrQWN0aW9uXG4gKiBAdHlwZWRlZiB7IHtcbiAqICAgYWN0aW9uczogQ29tbWFuZFN0YWNrQWN0aW9uW107XG4gKiAgIGRpcnR5OiBFbGVtZW50TGlrZVtdO1xuICogICB0cmlnZ2VyOiAnZXhlY3V0ZScgfCAndW5kbycgfCAncmVkbycgfCAnY2xlYXInIHwgbnVsbDtcbiAqICAgYXRvbWljPzogYm9vbGVhbjtcbiAqIH0gfSBDdXJyZW50RXhlY3V0aW9uXG4gKi9cblxuLyoqXG4gKiBBIHNlcnZpY2UgdGhhdCBvZmZlcnMgdW4tIGFuZCByZWRvYWJsZSBleGVjdXRpb24gb2YgY29tbWFuZHMuXG4gKlxuICogVGhlIGNvbW1hbmQgc3RhY2sgaXMgcmVzcG9uc2libGUgZm9yIGV4ZWN1dGluZyBtb2RlbGluZyBhY3Rpb25zXG4gKiBpbiBhIHVuLSBhbmQgcmVkb2FibGUgbWFubmVyLiBUbyBkbyB0aGlzIGl0IGRlbGVnYXRlcyB0aGUgYWN0dWFsXG4gKiBjb21tYW5kIGV4ZWN1dGlvbiB0byB7QGxpbmsgQ29tbWFuZEhhbmRsZXJ9cy5cbiAqXG4gKiBDb21tYW5kIGhhbmRsZXJzIHByb3ZpZGUge0BsaW5rIENvbW1hbmRIYW5kbGVyI2V4ZWN1dGUoY3R4KX0gYW5kXG4gKiB7QGxpbmsgQ29tbWFuZEhhbmRsZXIjcmV2ZXJ0KGN0eCl9IG1ldGhvZHMgdG8gdW4tIGFuZCByZWRvIGEgY29tbWFuZFxuICogaWRlbnRpZmllZCBieSBhIGNvbW1hbmQgY29udGV4dC5cbiAqXG4gKlxuICogIyMgTGlmZS1DeWNsZSBldmVudHNcbiAqXG4gKiBJbiB0aGUgcHJvY2VzcyB0aGUgY29tbWFuZCBzdGFjayBmaXJlcyBhIG51bWJlciBvZiBsaWZlLWN5Y2xlIGV2ZW50c1xuICogdGhhdCBvdGhlciBjb21wb25lbnRzIHRvIHBhcnRpY2lwYXRlIGluIHRoZSBjb21tYW5kIGV4ZWN1dGlvbi5cbiAqXG4gKiAgICAqIHByZUV4ZWN1dGVcbiAqICAgICogcHJlRXhlY3V0ZWRcbiAqICAgICogZXhlY3V0ZVxuICogICAgKiBleGVjdXRlZFxuICogICAgKiBwb3N0RXhlY3V0ZVxuICogICAgKiBwb3N0RXhlY3V0ZWRcbiAqICAgICogcmV2ZXJ0XG4gKiAgICAqIHJldmVydGVkXG4gKlxuICogQSBzcGVjaWFsIGV2ZW50IGlzIHVzZWQgZm9yIHZhbGlkYXRpbmcsIHdoZXRoZXIgYSBjb21tYW5kIGNhbiBiZVxuICogcGVyZm9ybWVkIHByaW9yIHRvIGl0cyBleGVjdXRpb24uXG4gKlxuICogICAgKiBjYW5FeGVjdXRlXG4gKlxuICogRWFjaCBvZiB0aGUgZXZlbnRzIGlzIGZpcmVkIGFzIGBjb21tYW5kU3RhY2sue2V2ZW50TmFtZX1gIGFuZFxuICogYGNvbW1hbmRTdGFjay57Y29tbWFuZE5hbWV9LntldmVudE5hbWV9YCwgcmVzcGVjdGl2ZWx5LiBUaGlzIGdpdmVzXG4gKiBjb21wb25lbnRzIGZpbmUgZ3JhaW5lZCBjb250cm9sIG9uIHdoZXJlIHRvIGhvb2sgaW50by5cbiAqXG4gKiBUaGUgZXZlbnQgb2JqZWN0IGZpcmVkIHRyYW5zcG9ydHMgYGNvbW1hbmRgLCB0aGUgbmFtZSBvZiB0aGVcbiAqIGNvbW1hbmQgYW5kIGBjb250ZXh0YCwgdGhlIGNvbW1hbmQgY29udGV4dC5cbiAqXG4gKlxuICogIyMgQ3JlYXRpbmcgQ29tbWFuZCBIYW5kbGVyc1xuICpcbiAqIENvbW1hbmQgaGFuZGxlcnMgc2hvdWxkIHByb3ZpZGUgdGhlIHtAbGluayBDb21tYW5kSGFuZGxlciNleGVjdXRlKGN0eCl9XG4gKiBhbmQge0BsaW5rIENvbW1hbmRIYW5kbGVyI3JldmVydChjdHgpfSBtZXRob2RzIHRvIGltcGxlbWVudFxuICogcmVkb2luZyBhbmQgdW5kb2luZyBvZiBhIGNvbW1hbmQuXG4gKlxuICogQSBjb21tYW5kIGhhbmRsZXIgX211c3RfIGVuc3VyZSB1bmRvIGlzIHBlcmZvcm1lZCBwcm9wZXJseSBpbiBvcmRlclxuICogbm90IHRvIGJyZWFrIHRoZSB1bmRvIGNoYWluLiBJdCBtdXN0IGFsc28gcmV0dXJuIHRoZSBzaGFwZXMgdGhhdFxuICogZ290IGNoYW5nZWQgZHVyaW5nIHRoZSBgZXhlY3V0ZWAgYW5kIGByZXZlcnRgIG9wZXJhdGlvbnMuXG4gKlxuICogQ29tbWFuZCBoYW5kbGVycyBtYXkgZXhlY3V0ZSBvdGhlciBtb2RlbGluZyBvcGVyYXRpb25zIChhbmQgdGh1c1xuICogY29tbWFuZHMpIGluIHRoZWlyIGBwcmVFeGVjdXRlKGQpYCBhbmQgYHBvc3RFeGVjdXRlKGQpYCBwaGFzZXMuIFRoZSBjb21tYW5kXG4gKiBzdGFjayB3aWxsIHByb3Blcmx5IGdyb3VwIGFsbCBjb21tYW5kcyB0b2dldGhlciBpbnRvIGEgbG9naWNhbCB1bml0XG4gKiB0aGF0IG1heSBiZSByZS0gYW5kIHVuZG9uZSBhdG9taWNhbGx5LlxuICpcbiAqIENvbW1hbmQgaGFuZGxlcnMgbXVzdCBub3QgZXhlY3V0ZSBvdGhlciBjb21tYW5kcyBmcm9tIHdpdGhpbiB0aGVpclxuICogY29yZSBpbXBsZW1lbnRhdGlvbiAoYGV4ZWN1dGVgLCBgcmV2ZXJ0YCkuXG4gKlxuICpcbiAqICMjIENoYW5nZSBUcmFja2luZ1xuICpcbiAqIER1cmluZyB0aGUgZXhlY3V0aW9uIG9mIHRoZSBDb21tYW5kU3RhY2sgaXQgd2lsbCBrZWVwIHRyYWNrIG9mIGFsbFxuICogZWxlbWVudHMgdGhhdCBoYXZlIGJlZW4gdG91Y2hlZCBkdXJpbmcgdGhlIGNvbW1hbmQncyBleGVjdXRpb24uXG4gKlxuICogQXQgdGhlIGVuZCBvZiB0aGUgQ29tbWFuZFN0YWNrIGV4ZWN1dGlvbiBpdCB3aWxsIG5vdGlmeSBpbnRlcmVzdGVkXG4gKiBjb21wb25lbnRzIHZpYSBhbiAnZWxlbWVudHMuY2hhbmdlZCcgZXZlbnQgd2l0aCBhbGwgdGhlIGRpcnR5XG4gKiBlbGVtZW50cy5cbiAqXG4gKiBUaGUgZXZlbnQgY2FuIGJlIHBpY2tlZCB1cCBieSBjb21wb25lbnRzIHRoYXQgYXJlIGludGVyZXN0ZWQgaW4gdGhlIGZhY3RcbiAqIHRoYXQgZWxlbWVudHMgaGF2ZSBiZWVuIGNoYW5nZWQuIE9uZSB1c2UgY2FzZSBmb3IgdGhpcyBpcyB1cGRhdGluZ1xuICogdGhlaXIgZ3JhcGhpY2FsIHJlcHJlc2VudGF0aW9uIGFmdGVyIG1vdmluZyAvIHJlc2l6aW5nIG9yIGRlbGV0aW9uLlxuICpcbiAqIEBzZWUgQ29tbWFuZEhhbmRsZXJcbiAqXG4gKiBAcGFyYW0ge0V2ZW50QnVzfSBldmVudEJ1c1xuICogQHBhcmFtIHtJbmplY3Rvcn0gaW5qZWN0b3JcbiAqL1xuZnVuY3Rpb24gQ29tbWFuZFN0YWNrKGV2ZW50QnVzLCBpbmplY3Rvcikge1xuICAvKipcbiAgICogQSBtYXAgb2YgYWxsIHJlZ2lzdGVyZWQgY29tbWFuZCBoYW5kbGVycy5cbiAgICpcbiAgICogQHR5cGUge0NvbW1hbmRIYW5kbGVyTWFwfVxuICAgKi9cbiAgdGhpcy5faGFuZGxlck1hcCA9IHt9O1xuXG4gIC8qKlxuICAgKiBBIHN0YWNrIGNvbnRhaW5pbmcgYWxsIHJlL3VuZG9hYmxlIGFjdGlvbnMgb24gdGhlIGRpYWdyYW1cbiAgICpcbiAgICogQHR5cGUge0NvbW1hbmRTdGFja0FjdGlvbltdfVxuICAgKi9cbiAgdGhpcy5fc3RhY2sgPSBbXTtcblxuICAvKipcbiAgICogVGhlIGN1cnJlbnQgaW5kZXggb24gdGhlIHN0YWNrXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqL1xuICB0aGlzLl9zdGFja0lkeCA9IC0xO1xuXG4gIC8qKlxuICAgKiBDdXJyZW50IGFjdGl2ZSBjb21tYW5kU3RhY2sgZXhlY3V0aW9uXG4gICAqXG4gICAqIEB0eXBlIHtDdXJyZW50RXhlY3V0aW9ufVxuICAgKi9cbiAgdGhpcy5fY3VycmVudEV4ZWN1dGlvbiA9IHtcbiAgICBhY3Rpb25zOiBbXSxcbiAgICBkaXJ0eTogW10sXG4gICAgdHJpZ2dlcjogbnVsbFxuICB9O1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7SW5qZWN0b3J9XG4gICAqL1xuICB0aGlzLl9pbmplY3RvciA9IGluamVjdG9yO1xuXG4gIC8qKlxuICAgKiBAdHlwZSBFdmVudEJ1c1xuICAgKi9cbiAgdGhpcy5fZXZlbnRCdXMgPSBldmVudEJ1cztcblxuICAvKipcbiAgICogQHR5cGUgeyBudW1iZXIgfVxuICAgKi9cbiAgdGhpcy5fdWlkID0gMTtcbiAgZXZlbnRCdXMub24oWydkaWFncmFtLmRlc3Ryb3knLCAnZGlhZ3JhbS5jbGVhciddLCBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5jbGVhcihmYWxzZSk7XG4gIH0sIHRoaXMpO1xufVxuQ29tbWFuZFN0YWNrLiRpbmplY3QgPSBbJ2V2ZW50QnVzJywgJ2luamVjdG9yJ107XG5cbi8qKlxuICogRXhlY3V0ZSBhIGNvbW1hbmQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGNvbW1hbmQgVGhlIGNvbW1hbmQgdG8gZXhlY3V0ZS5cbiAqIEBwYXJhbSB7Q29tbWFuZENvbnRleHR9IGNvbnRleHQgVGhlIGNvbnRleHQgd2l0aCB3aGljaCB0byBleGVjdXRlIHRoZSBjb21tYW5kLlxuICovXG5Db21tYW5kU3RhY2sucHJvdG90eXBlLmV4ZWN1dGUgPSBmdW5jdGlvbiAoY29tbWFuZCwgY29udGV4dCkge1xuICBpZiAoIWNvbW1hbmQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvbW1hbmQgcmVxdWlyZWQnKTtcbiAgfVxuICB0aGlzLl9jdXJyZW50RXhlY3V0aW9uLnRyaWdnZXIgPSAnZXhlY3V0ZSc7XG4gIGNvbnN0IGFjdGlvbiA9IHtcbiAgICBjb21tYW5kOiBjb21tYW5kLFxuICAgIGNvbnRleHQ6IGNvbnRleHRcbiAgfTtcbiAgdGhpcy5fcHVzaEFjdGlvbihhY3Rpb24pO1xuICB0aGlzLl9pbnRlcm5hbEV4ZWN1dGUoYWN0aW9uKTtcbiAgdGhpcy5fcG9wQWN0aW9uKCk7XG59O1xuXG4vKipcbiAqIENoZWNrIHdoZXRoZXIgYSBjb21tYW5kIGNhbiBiZSBleGVjdXRlZC5cbiAqXG4gKiBJbXBsZW1lbnRvcnMgbWF5IGhvb2sgaW50byB0aGUgbWVjaGFuaXNtIG9uIHR3byB3YXlzOlxuICpcbiAqICAgKiBpbiBldmVudCBsaXN0ZW5lcnM6XG4gKlxuICogICAgIFVzZXJzIG1heSBwcmV2ZW50IHRoZSBleGVjdXRpb24gdmlhIGFuIGV2ZW50IGxpc3RlbmVyLlxuICogICAgIEl0IG11c3QgcHJldmVudCB0aGUgZGVmYXVsdCBhY3Rpb24gZm9yIGBjb21tYW5kU3RhY2suKDxjb21tYW5kPi4pY2FuRXhlY3V0ZWAgZXZlbnRzLlxuICpcbiAqICAgKiBpbiBjb21tYW5kIGhhbmRsZXJzOlxuICpcbiAqICAgICBJZiB0aGUgbWV0aG9kIHtAbGluayBDb21tYW5kSGFuZGxlciNjYW5FeGVjdXRlfSBpcyBpbXBsZW1lbnRlZCBpbiBhIGhhbmRsZXJcbiAqICAgICBpdCB3aWxsIGJlIGNhbGxlZCB0byBmaWd1cmUgb3V0IHdoZXRoZXIgdGhlIGV4ZWN1dGlvbiBpcyBhbGxvd2VkLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb21tYW5kIFRoZSBjb21tYW5kIHRvIGV4ZWN1dGUuXG4gKiBAcGFyYW0ge0NvbW1hbmRDb250ZXh0fSBjb250ZXh0IFRoZSBjb250ZXh0IHdpdGggd2hpY2ggdG8gZXhlY3V0ZSB0aGUgY29tbWFuZC5cbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSBjb21tYW5kIGNhbiBiZSBleGVjdXRlZCB3aXRoIHRoZSBnaXZlbiBjb250ZXh0LlxuICovXG5Db21tYW5kU3RhY2sucHJvdG90eXBlLmNhbkV4ZWN1dGUgPSBmdW5jdGlvbiAoY29tbWFuZCwgY29udGV4dCkge1xuICBjb25zdCBhY3Rpb24gPSB7XG4gICAgY29tbWFuZDogY29tbWFuZCxcbiAgICBjb250ZXh0OiBjb250ZXh0XG4gIH07XG4gIGNvbnN0IGhhbmRsZXIgPSB0aGlzLl9nZXRIYW5kbGVyKGNvbW1hbmQpO1xuICBsZXQgcmVzdWx0ID0gdGhpcy5fZmlyZShjb21tYW5kLCAnY2FuRXhlY3V0ZScsIGFjdGlvbik7XG5cbiAgLy8gaGFuZGxlciNjYW5FeGVjdXRlIHdpbGwgb25seSBiZSBjYWxsZWQgaWYgbm8gbGlzdGVuZXJcbiAgLy8gZGVjaWRlZCBvbiBhIHJlc3VsdCBhbHJlYWR5XG4gIGlmIChyZXN1bHQgPT09IHVuZGVmaW5lZCkge1xuICAgIGlmICghaGFuZGxlcikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoaGFuZGxlci5jYW5FeGVjdXRlKSB7XG4gICAgICByZXN1bHQgPSBoYW5kbGVyLmNhbkV4ZWN1dGUoY29udGV4dCk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG4vKipcbiAqIENsZWFyIHRoZSBjb21tYW5kIHN0YWNrLCBlcmFzaW5nIGFsbCB1bmRvIC8gcmVkbyBoaXN0b3J5LlxuICpcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2VtaXQ9dHJ1ZV0gV2hldGhlciB0byBmaXJlIGFuIGV2ZW50LiBEZWZhdWx0cyB0byBgdHJ1ZWAuXG4gKi9cbkNvbW1hbmRTdGFjay5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoZW1pdCkge1xuICB0aGlzLl9zdGFjay5sZW5ndGggPSAwO1xuICB0aGlzLl9zdGFja0lkeCA9IC0xO1xuICBpZiAoZW1pdCAhPT0gZmFsc2UpIHtcbiAgICB0aGlzLl9maXJlKCdjaGFuZ2VkJywge1xuICAgICAgdHJpZ2dlcjogJ2NsZWFyJ1xuICAgIH0pO1xuICB9XG59O1xuXG4vKipcbiAqIFVuZG8gbGFzdCBjb21tYW5kKHMpXG4gKi9cbkNvbW1hbmRTdGFjay5wcm90b3R5cGUudW5kbyA9IGZ1bmN0aW9uICgpIHtcbiAgbGV0IGFjdGlvbiA9IHRoaXMuX2dldFVuZG9BY3Rpb24oKSxcbiAgICBuZXh0O1xuICBpZiAoYWN0aW9uKSB7XG4gICAgdGhpcy5fY3VycmVudEV4ZWN1dGlvbi50cmlnZ2VyID0gJ3VuZG8nO1xuICAgIHRoaXMuX3B1c2hBY3Rpb24oYWN0aW9uKTtcbiAgICB3aGlsZSAoYWN0aW9uKSB7XG4gICAgICB0aGlzLl9pbnRlcm5hbFVuZG8oYWN0aW9uKTtcbiAgICAgIG5leHQgPSB0aGlzLl9nZXRVbmRvQWN0aW9uKCk7XG4gICAgICBpZiAoIW5leHQgfHwgbmV4dC5pZCAhPT0gYWN0aW9uLmlkKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgYWN0aW9uID0gbmV4dDtcbiAgICB9XG4gICAgdGhpcy5fcG9wQWN0aW9uKCk7XG4gIH1cbn07XG5cbi8qKlxuICogUmVkbyBsYXN0IGNvbW1hbmQocylcbiAqL1xuQ29tbWFuZFN0YWNrLnByb3RvdHlwZS5yZWRvID0gZnVuY3Rpb24gKCkge1xuICBsZXQgYWN0aW9uID0gdGhpcy5fZ2V0UmVkb0FjdGlvbigpLFxuICAgIG5leHQ7XG4gIGlmIChhY3Rpb24pIHtcbiAgICB0aGlzLl9jdXJyZW50RXhlY3V0aW9uLnRyaWdnZXIgPSAncmVkbyc7XG4gICAgdGhpcy5fcHVzaEFjdGlvbihhY3Rpb24pO1xuICAgIHdoaWxlIChhY3Rpb24pIHtcbiAgICAgIHRoaXMuX2ludGVybmFsRXhlY3V0ZShhY3Rpb24sIHRydWUpO1xuICAgICAgbmV4dCA9IHRoaXMuX2dldFJlZG9BY3Rpb24oKTtcbiAgICAgIGlmICghbmV4dCB8fCBuZXh0LmlkICE9PSBhY3Rpb24uaWQpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBhY3Rpb24gPSBuZXh0O1xuICAgIH1cbiAgICB0aGlzLl9wb3BBY3Rpb24oKTtcbiAgfVxufTtcblxuLyoqXG4gKiBSZWdpc3RlciBhIGhhbmRsZXIgaW5zdGFuY2Ugd2l0aCB0aGUgY29tbWFuZCBzdGFjay5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gY29tbWFuZCBDb21tYW5kIHRvIGJlIGV4ZWN1dGVkLlxuICogQHBhcmFtIHtDb21tYW5kSGFuZGxlcn0gaGFuZGxlciBIYW5kbGVyIHRvIGV4ZWN1dGUgdGhlIGNvbW1hbmQuXG4gKi9cbkNvbW1hbmRTdGFjay5wcm90b3R5cGUucmVnaXN0ZXIgPSBmdW5jdGlvbiAoY29tbWFuZCwgaGFuZGxlcikge1xuICB0aGlzLl9zZXRIYW5kbGVyKGNvbW1hbmQsIGhhbmRsZXIpO1xufTtcblxuLyoqXG4gKiBSZWdpc3RlciBhIGhhbmRsZXIgdHlwZSB3aXRoIHRoZSBjb21tYW5kIHN0YWNrICBieSBpbnN0YW50aWF0aW5nIGl0IGFuZFxuICogaW5qZWN0aW5nIGl0cyBkZXBlbmRlbmNpZXMuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGNvbW1hbmQgQ29tbWFuZCB0byBiZSBleGVjdXRlZC5cbiAqIEBwYXJhbSB7Q29tbWFuZEhhbmRsZXJDb25zdHJ1Y3Rvcn0gaGFuZGxlckNscyBDb25zdHJ1Y3RvciB0byBpbnN0YW50aWF0ZSBhIHtAbGluayBDb21tYW5kSGFuZGxlcn0uXG4gKi9cbkNvbW1hbmRTdGFjay5wcm90b3R5cGUucmVnaXN0ZXJIYW5kbGVyID0gZnVuY3Rpb24gKGNvbW1hbmQsIGhhbmRsZXJDbHMpIHtcbiAgaWYgKCFjb21tYW5kIHx8ICFoYW5kbGVyQ2xzKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjb21tYW5kIGFuZCBoYW5kbGVyQ2xzIG11c3QgYmUgZGVmaW5lZCcpO1xuICB9XG4gIGNvbnN0IGhhbmRsZXIgPSB0aGlzLl9pbmplY3Rvci5pbnN0YW50aWF0ZShoYW5kbGVyQ2xzKTtcbiAgdGhpcy5yZWdpc3Rlcihjb21tYW5kLCBoYW5kbGVyKTtcbn07XG5cbi8qKlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuQ29tbWFuZFN0YWNrLnByb3RvdHlwZS5jYW5VbmRvID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gISF0aGlzLl9nZXRVbmRvQWN0aW9uKCk7XG59O1xuXG4vKipcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbkNvbW1hbmRTdGFjay5wcm90b3R5cGUuY2FuUmVkbyA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuICEhdGhpcy5fZ2V0UmVkb0FjdGlvbigpO1xufTtcblxuLy8gc3RhY2sgYWNjZXNzICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbkNvbW1hbmRTdGFjay5wcm90b3R5cGUuX2dldFJlZG9BY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLl9zdGFja1t0aGlzLl9zdGFja0lkeCArIDFdO1xufTtcbkNvbW1hbmRTdGFjay5wcm90b3R5cGUuX2dldFVuZG9BY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLl9zdGFja1t0aGlzLl9zdGFja0lkeF07XG59O1xuXG4vLyBpbnRlcm5hbCBmdW5jdGlvbmFsaXR5IC8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuQ29tbWFuZFN0YWNrLnByb3RvdHlwZS5faW50ZXJuYWxVbmRvID0gZnVuY3Rpb24gKGFjdGlvbikge1xuICBjb25zdCBjb21tYW5kID0gYWN0aW9uLmNvbW1hbmQsXG4gICAgY29udGV4dCA9IGFjdGlvbi5jb250ZXh0O1xuICBjb25zdCBoYW5kbGVyID0gdGhpcy5fZ2V0SGFuZGxlcihjb21tYW5kKTtcblxuICAvLyBndWFyZCBhZ2FpbnN0IGlsbGVnYWwgbmVzdGVkIGNvbW1hbmQgc3RhY2sgaW52b2NhdGlvbnNcbiAgdGhpcy5fYXRvbWljRG8oKCkgPT4ge1xuICAgIHRoaXMuX2ZpcmUoY29tbWFuZCwgJ3JldmVydCcsIGFjdGlvbik7XG4gICAgaWYgKGhhbmRsZXIucmV2ZXJ0KSB7XG4gICAgICB0aGlzLl9tYXJrRGlydHkoaGFuZGxlci5yZXZlcnQoY29udGV4dCkpO1xuICAgIH1cbiAgICB0aGlzLl9yZXZlcnRlZEFjdGlvbihhY3Rpb24pO1xuICAgIHRoaXMuX2ZpcmUoY29tbWFuZCwgJ3JldmVydGVkJywgYWN0aW9uKTtcbiAgfSk7XG59O1xuQ29tbWFuZFN0YWNrLnByb3RvdHlwZS5fZmlyZSA9IGZ1bmN0aW9uIChjb21tYW5kLCBxdWFsaWZpZXIsIGV2ZW50KSB7XG4gIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMykge1xuICAgIGV2ZW50ID0gcXVhbGlmaWVyO1xuICAgIHF1YWxpZmllciA9IG51bGw7XG4gIH1cbiAgY29uc3QgbmFtZXMgPSBxdWFsaWZpZXIgPyBbY29tbWFuZCArICcuJyArIHF1YWxpZmllciwgcXVhbGlmaWVyXSA6IFtjb21tYW5kXTtcbiAgbGV0IHJlc3VsdDtcbiAgZXZlbnQgPSB0aGlzLl9ldmVudEJ1cy5jcmVhdGVFdmVudChldmVudCk7XG4gIGZvciAoY29uc3QgbmFtZSBvZiBuYW1lcykge1xuICAgIHJlc3VsdCA9IHRoaXMuX2V2ZW50QnVzLmZpcmUoJ2NvbW1hbmRTdGFjay4nICsgbmFtZSwgZXZlbnQpO1xuICAgIGlmIChldmVudC5jYW5jZWxCdWJibGUpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcbkNvbW1hbmRTdGFjay5wcm90b3R5cGUuX2NyZWF0ZUlkID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5fdWlkKys7XG59O1xuQ29tbWFuZFN0YWNrLnByb3RvdHlwZS5fYXRvbWljRG8gPSBmdW5jdGlvbiAoZm4pIHtcbiAgY29uc3QgZXhlY3V0aW9uID0gdGhpcy5fY3VycmVudEV4ZWN1dGlvbjtcbiAgZXhlY3V0aW9uLmF0b21pYyA9IHRydWU7XG4gIHRyeSB7XG4gICAgZm4oKTtcbiAgfSBmaW5hbGx5IHtcbiAgICBleGVjdXRpb24uYXRvbWljID0gZmFsc2U7XG4gIH1cbn07XG5Db21tYW5kU3RhY2sucHJvdG90eXBlLl9pbnRlcm5hbEV4ZWN1dGUgPSBmdW5jdGlvbiAoYWN0aW9uLCByZWRvKSB7XG4gIGNvbnN0IGNvbW1hbmQgPSBhY3Rpb24uY29tbWFuZCxcbiAgICBjb250ZXh0ID0gYWN0aW9uLmNvbnRleHQ7XG4gIGNvbnN0IGhhbmRsZXIgPSB0aGlzLl9nZXRIYW5kbGVyKGNvbW1hbmQpO1xuICBpZiAoIWhhbmRsZXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ25vIGNvbW1hbmQgaGFuZGxlciByZWdpc3RlcmVkIGZvciA8JyArIGNvbW1hbmQgKyAnPicpO1xuICB9XG4gIHRoaXMuX3B1c2hBY3Rpb24oYWN0aW9uKTtcbiAgaWYgKCFyZWRvKSB7XG4gICAgdGhpcy5fZmlyZShjb21tYW5kLCAncHJlRXhlY3V0ZScsIGFjdGlvbik7XG4gICAgaWYgKGhhbmRsZXIucHJlRXhlY3V0ZSkge1xuICAgICAgaGFuZGxlci5wcmVFeGVjdXRlKGNvbnRleHQpO1xuICAgIH1cbiAgICB0aGlzLl9maXJlKGNvbW1hbmQsICdwcmVFeGVjdXRlZCcsIGFjdGlvbik7XG4gIH1cblxuICAvLyBndWFyZCBhZ2FpbnN0IGlsbGVnYWwgbmVzdGVkIGNvbW1hbmQgc3RhY2sgaW52b2NhdGlvbnNcbiAgdGhpcy5fYXRvbWljRG8oKCkgPT4ge1xuICAgIHRoaXMuX2ZpcmUoY29tbWFuZCwgJ2V4ZWN1dGUnLCBhY3Rpb24pO1xuICAgIGlmIChoYW5kbGVyLmV4ZWN1dGUpIHtcbiAgICAgIC8vIGFjdHVhbCBleGVjdXRlICsgbWFyayByZXR1cm4gcmVzdWx0cyBhcyBkaXJ0eVxuICAgICAgdGhpcy5fbWFya0RpcnR5KGhhbmRsZXIuZXhlY3V0ZShjb250ZXh0KSk7XG4gICAgfVxuXG4gICAgLy8gbG9nIHRvIHN0YWNrXG4gICAgdGhpcy5fZXhlY3V0ZWRBY3Rpb24oYWN0aW9uLCByZWRvKTtcbiAgICB0aGlzLl9maXJlKGNvbW1hbmQsICdleGVjdXRlZCcsIGFjdGlvbik7XG4gIH0pO1xuICBpZiAoIXJlZG8pIHtcbiAgICB0aGlzLl9maXJlKGNvbW1hbmQsICdwb3N0RXhlY3V0ZScsIGFjdGlvbik7XG4gICAgaWYgKGhhbmRsZXIucG9zdEV4ZWN1dGUpIHtcbiAgICAgIGhhbmRsZXIucG9zdEV4ZWN1dGUoY29udGV4dCk7XG4gICAgfVxuICAgIHRoaXMuX2ZpcmUoY29tbWFuZCwgJ3Bvc3RFeGVjdXRlZCcsIGFjdGlvbik7XG4gIH1cbiAgdGhpcy5fcG9wQWN0aW9uKCk7XG59O1xuQ29tbWFuZFN0YWNrLnByb3RvdHlwZS5fcHVzaEFjdGlvbiA9IGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgY29uc3QgZXhlY3V0aW9uID0gdGhpcy5fY3VycmVudEV4ZWN1dGlvbixcbiAgICBhY3Rpb25zID0gZXhlY3V0aW9uLmFjdGlvbnM7XG4gIGNvbnN0IGJhc2VBY3Rpb24gPSBhY3Rpb25zWzBdO1xuICBpZiAoZXhlY3V0aW9uLmF0b21pYykge1xuICAgIHRocm93IG5ldyBFcnJvcignaWxsZWdhbCBpbnZvY2F0aW9uIGluIDxleGVjdXRlPiBvciA8cmV2ZXJ0PiBwaGFzZSAoYWN0aW9uOiAnICsgYWN0aW9uLmNvbW1hbmQgKyAnKScpO1xuICB9XG4gIGlmICghYWN0aW9uLmlkKSB7XG4gICAgYWN0aW9uLmlkID0gYmFzZUFjdGlvbiAmJiBiYXNlQWN0aW9uLmlkIHx8IHRoaXMuX2NyZWF0ZUlkKCk7XG4gIH1cbiAgYWN0aW9ucy5wdXNoKGFjdGlvbik7XG59O1xuQ29tbWFuZFN0YWNrLnByb3RvdHlwZS5fcG9wQWN0aW9uID0gZnVuY3Rpb24gKCkge1xuICBjb25zdCBleGVjdXRpb24gPSB0aGlzLl9jdXJyZW50RXhlY3V0aW9uLFxuICAgIHRyaWdnZXIgPSBleGVjdXRpb24udHJpZ2dlcixcbiAgICBhY3Rpb25zID0gZXhlY3V0aW9uLmFjdGlvbnMsXG4gICAgZGlydHkgPSBleGVjdXRpb24uZGlydHk7XG4gIGFjdGlvbnMucG9wKCk7XG4gIGlmICghYWN0aW9ucy5sZW5ndGgpIHtcbiAgICB0aGlzLl9ldmVudEJ1cy5maXJlKCdlbGVtZW50cy5jaGFuZ2VkJywge1xuICAgICAgZWxlbWVudHM6IHVuaXF1ZUJ5KCdpZCcsIGRpcnR5LnJldmVyc2UoKSlcbiAgICB9KTtcbiAgICBkaXJ0eS5sZW5ndGggPSAwO1xuICAgIHRoaXMuX2ZpcmUoJ2NoYW5nZWQnLCB7XG4gICAgICB0cmlnZ2VyOiB0cmlnZ2VyXG4gICAgfSk7XG4gICAgZXhlY3V0aW9uLnRyaWdnZXIgPSBudWxsO1xuICB9XG59O1xuQ29tbWFuZFN0YWNrLnByb3RvdHlwZS5fbWFya0RpcnR5ID0gZnVuY3Rpb24gKGVsZW1lbnRzKSB7XG4gIGNvbnN0IGV4ZWN1dGlvbiA9IHRoaXMuX2N1cnJlbnRFeGVjdXRpb247XG4gIGlmICghZWxlbWVudHMpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgZWxlbWVudHMgPSBpc0FycmF5KGVsZW1lbnRzKSA/IGVsZW1lbnRzIDogW2VsZW1lbnRzXTtcbiAgZXhlY3V0aW9uLmRpcnR5ID0gZXhlY3V0aW9uLmRpcnR5LmNvbmNhdChlbGVtZW50cyk7XG59O1xuQ29tbWFuZFN0YWNrLnByb3RvdHlwZS5fZXhlY3V0ZWRBY3Rpb24gPSBmdW5jdGlvbiAoYWN0aW9uLCByZWRvKSB7XG4gIGNvbnN0IHN0YWNrSWR4ID0gKyt0aGlzLl9zdGFja0lkeDtcbiAgaWYgKCFyZWRvKSB7XG4gICAgdGhpcy5fc3RhY2suc3BsaWNlKHN0YWNrSWR4LCB0aGlzLl9zdGFjay5sZW5ndGgsIGFjdGlvbik7XG4gIH1cbn07XG5Db21tYW5kU3RhY2sucHJvdG90eXBlLl9yZXZlcnRlZEFjdGlvbiA9IGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgdGhpcy5fc3RhY2tJZHgtLTtcbn07XG5Db21tYW5kU3RhY2sucHJvdG90eXBlLl9nZXRIYW5kbGVyID0gZnVuY3Rpb24gKGNvbW1hbmQpIHtcbiAgcmV0dXJuIHRoaXMuX2hhbmRsZXJNYXBbY29tbWFuZF07XG59O1xuQ29tbWFuZFN0YWNrLnByb3RvdHlwZS5fc2V0SGFuZGxlciA9IGZ1bmN0aW9uIChjb21tYW5kLCBoYW5kbGVyKSB7XG4gIGlmICghY29tbWFuZCB8fCAhaGFuZGxlcikge1xuICAgIHRocm93IG5ldyBFcnJvcignY29tbWFuZCBhbmQgaGFuZGxlciByZXF1aXJlZCcpO1xuICB9XG4gIGlmICh0aGlzLl9oYW5kbGVyTWFwW2NvbW1hbmRdKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdvdmVycmlkaW5nIGhhbmRsZXIgZm9yIGNvbW1hbmQgPCcgKyBjb21tYW5kICsgJz4nKTtcbiAgfVxuICB0aGlzLl9oYW5kbGVyTWFwW2NvbW1hbmRdID0gaGFuZGxlcjtcbn07XG5cbi8qKlxuICogQHR5cGUgeyBpbXBvcnQoJ2RpZGknKS5Nb2R1bGVEZWNsYXJhdGlvbiB9XG4gKi9cbnZhciBjb21tYW5kTW9kdWxlID0ge1xuICBjb21tYW5kU3RhY2s6IFsndHlwZScsIENvbW1hbmRTdGFja11cbn07XG5cbi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vY29yZS9UeXBlcycpLkVsZW1lbnRMaWtlfSBFbGVtZW50TGlrZVxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vY29yZS9FdmVudEJ1cycpLmRlZmF1bHR9IEV2ZW50QnVzXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuL0NvbW1hbmRTdGFjaycpLkNvbW1hbmRDb250ZXh0fSBDb21tYW5kQ29udGV4dFxuICpcbiAqIEB0eXBlZGVmIHtzdHJpbmd8c3RyaW5nW119IEV2ZW50c1xuICogQHR5cGVkZWYgeyAoY29udGV4dDogQ29tbWFuZENvbnRleHQpID0+IEVsZW1lbnRMaWtlW10gfCB2b2lkIH0gSGFuZGxlckZ1bmN0aW9uXG4gKiBAdHlwZWRlZiB7IChjb250ZXh0OiBDb21tYW5kQ29udGV4dCkgPT4gdm9pZCB9IENvbXBvc2VIYW5kbGVyRnVuY3Rpb25cbiAqL1xuXG52YXIgREVGQVVMVF9QUklPUklUWSQxID0gMTAwMDtcblxuLyoqXG4gKiBBIHV0aWxpdHkgdGhhdCBjYW4gYmUgdXNlZCB0byBwbHVnIGludG8gdGhlIGNvbW1hbmQgZXhlY3V0aW9uIGZvclxuICogZXh0ZW5zaW9uIGFuZC9vciB2YWxpZGF0aW9uLlxuICpcbiAqIEBjbGFzc1xuICogQGNvbnN0cnVjdG9yXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiBpbXBvcnQgQ29tbWFuZEludGVyY2VwdG9yIGZyb20gJ2RpYWdyYW0tanMvbGliL2NvbW1hbmQvQ29tbWFuZEludGVyY2VwdG9yJztcbiAqXG4gKiBjbGFzcyBDb21tYW5kTG9nZ2VyIGV4dGVuZHMgQ29tbWFuZEludGVyY2VwdG9yIHtcbiAqICAgY29uc3RydWN0b3IoZXZlbnRCdXMpIHtcbiAqICAgICBzdXBlcihldmVudEJ1cyk7XG4gKlxuICogICB0aGlzLnByZUV4ZWN1dGUoJ3NoYXBlLmNyZWF0ZScsIChldmVudCkgPT4ge1xuICogICAgIGNvbnNvbGUubG9nKCdjb21tYW5kU3RhY2suc2hhcGUtY3JlYXRlLnByZUV4ZWN1dGUnLCBldmVudCk7XG4gKiAgIH0pO1xuICogfVxuICogYGBgXG4gKlxuICogQHBhcmFtIHtFdmVudEJ1c30gZXZlbnRCdXNcbiAqL1xuZnVuY3Rpb24gQ29tbWFuZEludGVyY2VwdG9yKGV2ZW50QnVzKSB7XG4gIC8qKlxuICAgKiBAdHlwZSB7RXZlbnRCdXN9XG4gICAqL1xuICB0aGlzLl9ldmVudEJ1cyA9IGV2ZW50QnVzO1xufVxuQ29tbWFuZEludGVyY2VwdG9yLiRpbmplY3QgPSBbJ2V2ZW50QnVzJ107XG5mdW5jdGlvbiB1bndyYXBFdmVudChmbiwgdGhhdCkge1xuICByZXR1cm4gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgcmV0dXJuIGZuLmNhbGwodGhhdCB8fCBudWxsLCBldmVudC5jb250ZXh0LCBldmVudC5jb21tYW5kLCBldmVudCk7XG4gIH07XG59XG5cbi8qKlxuICogSW50ZXJjZXB0IGEgY29tbWFuZCBkdXJpbmcgb25lIG9mIHRoZSBwaGFzZXMuXG4gKlxuICogQHBhcmFtIHtFdmVudHN9IFtldmVudHNdIGNvbW1hbmQocykgdG8gaW50ZXJjZXB0XG4gKiBAcGFyYW0ge3N0cmluZ30gW2hvb2tdIHBoYXNlIHRvIGludGVyY2VwdFxuICogQHBhcmFtIHtudW1iZXJ9IFtwcmlvcml0eV1cbiAqIEBwYXJhbSB7Q29tcG9zZUhhbmRsZXJGdW5jdGlvbnxIYW5kbGVyRnVuY3Rpb259IGhhbmRsZXJGblxuICogQHBhcmFtIHtib29sZWFufSBbdW53cmFwXSB3aGV0aGVyIHRoZSBldmVudCBzaG91bGQgYmUgdW53cmFwcGVkXG4gKiBAcGFyYW0ge2FueX0gW3RoYXRdXG4gKi9cbkNvbW1hbmRJbnRlcmNlcHRvci5wcm90b3R5cGUub24gPSBmdW5jdGlvbiAoZXZlbnRzLCBob29rLCBwcmlvcml0eSwgaGFuZGxlckZuLCB1bndyYXAsIHRoYXQpIHtcbiAgaWYgKGlzRnVuY3Rpb24oaG9vaykgfHwgaXNOdW1iZXIoaG9vaykpIHtcbiAgICB0aGF0ID0gdW53cmFwO1xuICAgIHVud3JhcCA9IGhhbmRsZXJGbjtcbiAgICBoYW5kbGVyRm4gPSBwcmlvcml0eTtcbiAgICBwcmlvcml0eSA9IGhvb2s7XG4gICAgaG9vayA9IG51bGw7XG4gIH1cbiAgaWYgKGlzRnVuY3Rpb24ocHJpb3JpdHkpKSB7XG4gICAgdGhhdCA9IHVud3JhcDtcbiAgICB1bndyYXAgPSBoYW5kbGVyRm47XG4gICAgaGFuZGxlckZuID0gcHJpb3JpdHk7XG4gICAgcHJpb3JpdHkgPSBERUZBVUxUX1BSSU9SSVRZJDE7XG4gIH1cbiAgaWYgKGlzT2JqZWN0KHVud3JhcCkpIHtcbiAgICB0aGF0ID0gdW53cmFwO1xuICAgIHVud3JhcCA9IGZhbHNlO1xuICB9XG4gIGlmICghaXNGdW5jdGlvbihoYW5kbGVyRm4pKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdoYW5kbGVyRm4gbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG4gIH1cbiAgaWYgKCFpc0FycmF5KGV2ZW50cykpIHtcbiAgICBldmVudHMgPSBbZXZlbnRzXTtcbiAgfVxuICB2YXIgZXZlbnRCdXMgPSB0aGlzLl9ldmVudEJ1cztcbiAgZm9yRWFjaChldmVudHMsIGZ1bmN0aW9uIChldmVudCkge1xuICAgIC8vIGNvbmNhdCBjb21tYW5kU3RhY2soLmV2ZW50KT8oLmhvb2spP1xuICAgIHZhciBmdWxsRXZlbnQgPSBbJ2NvbW1hbmRTdGFjaycsIGV2ZW50LCBob29rXS5maWx0ZXIoZnVuY3Rpb24gKGUpIHtcbiAgICAgIHJldHVybiBlO1xuICAgIH0pLmpvaW4oJy4nKTtcbiAgICBldmVudEJ1cy5vbihmdWxsRXZlbnQsIHByaW9yaXR5LCB1bndyYXAgPyB1bndyYXBFdmVudChoYW5kbGVyRm4sIHRoYXQpIDogaGFuZGxlckZuLCB0aGF0KTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIEFkZCBhIDxjYW5FeGVjdXRlPiBwaGFzZSBvZiBjb21tYW5kIGludGVyY2VwdG9yLlxuICpcbiAqIEBwYXJhbSB7RXZlbnRzfSBbZXZlbnRzXSBjb21tYW5kKHMpIHRvIGludGVyY2VwdFxuICogQHBhcmFtIHtudW1iZXJ9IFtwcmlvcml0eV1cbiAqIEBwYXJhbSB7Q29tcG9zZUhhbmRsZXJGdW5jdGlvbnxIYW5kbGVyRnVuY3Rpb259IGhhbmRsZXJGblxuICogQHBhcmFtIHtib29sZWFufSBbdW53cmFwXSB3aGV0aGVyIHRoZSBldmVudCBzaG91bGQgYmUgdW53cmFwcGVkXG4gKiBAcGFyYW0ge2FueX0gW3RoYXRdXG4gKi9cbkNvbW1hbmRJbnRlcmNlcHRvci5wcm90b3R5cGUuY2FuRXhlY3V0ZSA9IGNyZWF0ZUhvb2soJ2NhbkV4ZWN1dGUnKTtcblxuLyoqXG4gKiBBZGQgYSA8cHJlRXhlY3V0ZT4gcGhhc2Ugb2YgY29tbWFuZCBpbnRlcmNlcHRvci5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50c30gW2V2ZW50c10gY29tbWFuZChzKSB0byBpbnRlcmNlcHRcbiAqIEBwYXJhbSB7bnVtYmVyfSBbcHJpb3JpdHldXG4gKiBAcGFyYW0ge0NvbXBvc2VIYW5kbGVyRnVuY3Rpb258SGFuZGxlckZ1bmN0aW9ufSBoYW5kbGVyRm5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Vud3JhcF0gd2hldGhlciB0aGUgZXZlbnQgc2hvdWxkIGJlIHVud3JhcHBlZFxuICogQHBhcmFtIHthbnl9IFt0aGF0XVxuICovXG5Db21tYW5kSW50ZXJjZXB0b3IucHJvdG90eXBlLnByZUV4ZWN1dGUgPSBjcmVhdGVIb29rKCdwcmVFeGVjdXRlJyk7XG5cbi8qKlxuICogQWRkIGEgPHByZUV4ZWN1dGVkPiBwaGFzZSBvZiBjb21tYW5kIGludGVyY2VwdG9yLlxuICpcbiAqIEBwYXJhbSB7RXZlbnRzfSBbZXZlbnRzXSBjb21tYW5kKHMpIHRvIGludGVyY2VwdFxuICogQHBhcmFtIHtudW1iZXJ9IFtwcmlvcml0eV1cbiAqIEBwYXJhbSB7Q29tcG9zZUhhbmRsZXJGdW5jdGlvbnxIYW5kbGVyRnVuY3Rpb259IGhhbmRsZXJGblxuICogQHBhcmFtIHtib29sZWFufSBbdW53cmFwXSB3aGV0aGVyIHRoZSBldmVudCBzaG91bGQgYmUgdW53cmFwcGVkXG4gKiBAcGFyYW0ge2FueX0gW3RoYXRdXG4gKi9cbkNvbW1hbmRJbnRlcmNlcHRvci5wcm90b3R5cGUucHJlRXhlY3V0ZWQgPSBjcmVhdGVIb29rKCdwcmVFeGVjdXRlZCcpO1xuXG4vKipcbiAqIEFkZCBhIDxleGVjdXRlPiBwaGFzZSBvZiBjb21tYW5kIGludGVyY2VwdG9yLlxuICpcbiAqIEBwYXJhbSB7RXZlbnRzfSBbZXZlbnRzXSBjb21tYW5kKHMpIHRvIGludGVyY2VwdFxuICogQHBhcmFtIHtudW1iZXJ9IFtwcmlvcml0eV1cbiAqIEBwYXJhbSB7Q29tcG9zZUhhbmRsZXJGdW5jdGlvbnxIYW5kbGVyRnVuY3Rpb259IGhhbmRsZXJGblxuICogQHBhcmFtIHtib29sZWFufSBbdW53cmFwXSB3aGV0aGVyIHRoZSBldmVudCBzaG91bGQgYmUgdW53cmFwcGVkXG4gKiBAcGFyYW0ge2FueX0gW3RoYXRdXG4gKi9cbkNvbW1hbmRJbnRlcmNlcHRvci5wcm90b3R5cGUuZXhlY3V0ZSA9IGNyZWF0ZUhvb2soJ2V4ZWN1dGUnKTtcblxuLyoqXG4gKiBBZGQgYSA8ZXhlY3V0ZWQ+IHBoYXNlIG9mIGNvbW1hbmQgaW50ZXJjZXB0b3IuXG4gKlxuICogQHBhcmFtIHtFdmVudHN9IFtldmVudHNdIGNvbW1hbmQocykgdG8gaW50ZXJjZXB0XG4gKiBAcGFyYW0ge251bWJlcn0gW3ByaW9yaXR5XVxuICogQHBhcmFtIHtDb21wb3NlSGFuZGxlckZ1bmN0aW9ufEhhbmRsZXJGdW5jdGlvbn0gaGFuZGxlckZuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFt1bndyYXBdIHdoZXRoZXIgdGhlIGV2ZW50IHNob3VsZCBiZSB1bndyYXBwZWRcbiAqIEBwYXJhbSB7YW55fSBbdGhhdF1cbiAqL1xuQ29tbWFuZEludGVyY2VwdG9yLnByb3RvdHlwZS5leGVjdXRlZCA9IGNyZWF0ZUhvb2soJ2V4ZWN1dGVkJyk7XG5cbi8qKlxuICogQWRkIGEgPHBvc3RFeGVjdXRlPiBwaGFzZSBvZiBjb21tYW5kIGludGVyY2VwdG9yLlxuICpcbiAqIEBwYXJhbSB7RXZlbnRzfSBbZXZlbnRzXSBjb21tYW5kKHMpIHRvIGludGVyY2VwdFxuICogQHBhcmFtIHtudW1iZXJ9IFtwcmlvcml0eV1cbiAqIEBwYXJhbSB7Q29tcG9zZUhhbmRsZXJGdW5jdGlvbnxIYW5kbGVyRnVuY3Rpb259IGhhbmRsZXJGblxuICogQHBhcmFtIHtib29sZWFufSBbdW53cmFwXSB3aGV0aGVyIHRoZSBldmVudCBzaG91bGQgYmUgdW53cmFwcGVkXG4gKiBAcGFyYW0ge2FueX0gW3RoYXRdXG4gKi9cbkNvbW1hbmRJbnRlcmNlcHRvci5wcm90b3R5cGUucG9zdEV4ZWN1dGUgPSBjcmVhdGVIb29rKCdwb3N0RXhlY3V0ZScpO1xuXG4vKipcbiAqIEFkZCBhIDxwb3N0RXhlY3V0ZWQ+IHBoYXNlIG9mIGNvbW1hbmQgaW50ZXJjZXB0b3IuXG4gKlxuICogQHBhcmFtIHtFdmVudHN9IFtldmVudHNdIGNvbW1hbmQocykgdG8gaW50ZXJjZXB0XG4gKiBAcGFyYW0ge251bWJlcn0gW3ByaW9yaXR5XVxuICogQHBhcmFtIHtDb21wb3NlSGFuZGxlckZ1bmN0aW9ufEhhbmRsZXJGdW5jdGlvbn0gaGFuZGxlckZuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFt1bndyYXBdIHdoZXRoZXIgdGhlIGV2ZW50IHNob3VsZCBiZSB1bndyYXBwZWRcbiAqIEBwYXJhbSB7YW55fSBbdGhhdF1cbiAqL1xuQ29tbWFuZEludGVyY2VwdG9yLnByb3RvdHlwZS5wb3N0RXhlY3V0ZWQgPSBjcmVhdGVIb29rKCdwb3N0RXhlY3V0ZWQnKTtcblxuLyoqXG4gKiBBZGQgYSA8cmV2ZXJ0PiBwaGFzZSBvZiBjb21tYW5kIGludGVyY2VwdG9yLlxuICpcbiAqIEBwYXJhbSB7RXZlbnRzfSBbZXZlbnRzXSBjb21tYW5kKHMpIHRvIGludGVyY2VwdFxuICogQHBhcmFtIHtudW1iZXJ9IFtwcmlvcml0eV1cbiAqIEBwYXJhbSB7Q29tcG9zZUhhbmRsZXJGdW5jdGlvbnxIYW5kbGVyRnVuY3Rpb259IGhhbmRsZXJGblxuICogQHBhcmFtIHtib29sZWFufSBbdW53cmFwXSB3aGV0aGVyIHRoZSBldmVudCBzaG91bGQgYmUgdW53cmFwcGVkXG4gKiBAcGFyYW0ge2FueX0gW3RoYXRdXG4gKi9cbkNvbW1hbmRJbnRlcmNlcHRvci5wcm90b3R5cGUucmV2ZXJ0ID0gY3JlYXRlSG9vaygncmV2ZXJ0Jyk7XG5cbi8qKlxuICogQWRkIGEgPHJldmVydGVkPiBwaGFzZSBvZiBjb21tYW5kIGludGVyY2VwdG9yLlxuICpcbiAqIEBwYXJhbSB7RXZlbnRzfSBbZXZlbnRzXSBjb21tYW5kKHMpIHRvIGludGVyY2VwdFxuICogQHBhcmFtIHtudW1iZXJ9IFtwcmlvcml0eV1cbiAqIEBwYXJhbSB7Q29tcG9zZUhhbmRsZXJGdW5jdGlvbnxIYW5kbGVyRnVuY3Rpb259IGhhbmRsZXJGblxuICogQHBhcmFtIHtib29sZWFufSBbdW53cmFwXSB3aGV0aGVyIHRoZSBldmVudCBzaG91bGQgYmUgdW53cmFwcGVkXG4gKiBAcGFyYW0ge2FueX0gW3RoYXRdXG4gKi9cbkNvbW1hbmRJbnRlcmNlcHRvci5wcm90b3R5cGUucmV2ZXJ0ZWQgPSBjcmVhdGVIb29rKCdyZXZlcnRlZCcpO1xuXG4vKlxuICogQWRkIHByb3RvdHlwZSBtZXRob2RzIGZvciBlYWNoIHBoYXNlIG9mIGNvbW1hbmQgZXhlY3V0aW9uIChlLmcuIGV4ZWN1dGUsXG4gKiByZXZlcnQpLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBob29rXG4gKlxuICogQHJldHVybiB7IChcbiAqICAgZXZlbnRzPzogRXZlbnRzLFxuICogICBwcmlvcml0eT86IG51bWJlcixcbiAqICAgaGFuZGxlckZuOiBDb21wb3NlSGFuZGxlckZ1bmN0aW9ufEhhbmRsZXJGdW5jdGlvbixcbiAqICAgdW53cmFwPzogYm9vbGVhblxuICogKSA9PiBhbnkgfVxuICovXG5mdW5jdGlvbiBjcmVhdGVIb29rKGhvb2spIHtcbiAgLyoqXG4gICAqIEB0aGlzIHtDb21tYW5kSW50ZXJjZXB0b3J9XG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnRzfSBbZXZlbnRzXVxuICAgKiBAcGFyYW0ge251bWJlcn0gW3ByaW9yaXR5XVxuICAgKiBAcGFyYW0ge0NvbXBvc2VIYW5kbGVyRnVuY3Rpb258SGFuZGxlckZ1bmN0aW9ufSBoYW5kbGVyRm5cbiAgICogQHBhcmFtIHtib29sZWFufSBbdW53cmFwXVxuICAgKiBAcGFyYW0ge2FueX0gW3RoYXRdXG4gICAqL1xuICBjb25zdCBob29rRm4gPSBmdW5jdGlvbiAoZXZlbnRzLCBwcmlvcml0eSwgaGFuZGxlckZuLCB1bndyYXAsIHRoYXQpIHtcbiAgICBpZiAoaXNGdW5jdGlvbihldmVudHMpIHx8IGlzTnVtYmVyKGV2ZW50cykpIHtcbiAgICAgIHRoYXQgPSB1bndyYXA7XG4gICAgICB1bndyYXAgPSBoYW5kbGVyRm47XG4gICAgICBoYW5kbGVyRm4gPSBwcmlvcml0eTtcbiAgICAgIHByaW9yaXR5ID0gZXZlbnRzO1xuICAgICAgZXZlbnRzID0gbnVsbDtcbiAgICB9XG4gICAgdGhpcy5vbihldmVudHMsIGhvb2ssIHByaW9yaXR5LCBoYW5kbGVyRm4sIHVud3JhcCwgdGhhdCk7XG4gIH07XG4gIHJldHVybiBob29rRm47XG59XG5cbmNsYXNzIElkQmVoYXZpb3IgZXh0ZW5kcyBDb21tYW5kSW50ZXJjZXB0b3Ige1xuICBjb25zdHJ1Y3RvcihldmVudEJ1cywgbW9kZWxpbmcpIHtcbiAgICBzdXBlcihldmVudEJ1cyk7XG4gICAgdGhpcy5wcmVFeGVjdXRlKCdmb3JtRmllbGQucmVtb3ZlJywgZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgZm9ybUZpZWxkXG4gICAgICB9ID0gY29udGV4dDtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgaWRcbiAgICAgIH0gPSBmb3JtRmllbGQ7XG4gICAgICBtb2RlbGluZy51bmNsYWltSWQoZm9ybUZpZWxkLCBpZCk7XG4gICAgfSwgdHJ1ZSk7XG4gICAgdGhpcy5wcmVFeGVjdXRlKCdmb3JtRmllbGQuZWRpdCcsIGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIGZvcm1GaWVsZCxcbiAgICAgICAgcHJvcGVydGllc1xuICAgICAgfSA9IGNvbnRleHQ7XG4gICAgICBpZiAoJ2lkJyBpbiBwcm9wZXJ0aWVzKSB7XG4gICAgICAgIG1vZGVsaW5nLnVuY2xhaW1JZChmb3JtRmllbGQsIGZvcm1GaWVsZC5pZCk7XG4gICAgICAgIG1vZGVsaW5nLmNsYWltSWQoZm9ybUZpZWxkLCBwcm9wZXJ0aWVzLmlkKTtcbiAgICAgIH1cbiAgICB9LCB0cnVlKTtcbiAgfVxufVxuSWRCZWhhdmlvci4kaW5qZWN0ID0gWydldmVudEJ1cycsICdtb2RlbGluZyddO1xuXG5jbGFzcyBLZXlCZWhhdmlvciBleHRlbmRzIENvbW1hbmRJbnRlcmNlcHRvciB7XG4gIGNvbnN0cnVjdG9yKGV2ZW50QnVzLCBtb2RlbGluZywgZm9ybUZpZWxkcykge1xuICAgIHN1cGVyKGV2ZW50QnVzKTtcbiAgICB0aGlzLnByZUV4ZWN1dGUoJ2Zvcm1GaWVsZC5yZW1vdmUnLCBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgY29uc3Qge1xuICAgICAgICBmb3JtRmllbGRcbiAgICAgIH0gPSBjb250ZXh0O1xuICAgICAgY29uc3Qge1xuICAgICAgICBrZXksXG4gICAgICAgIHR5cGVcbiAgICAgIH0gPSBmb3JtRmllbGQ7XG4gICAgICBjb25zdCB7XG4gICAgICAgIGNvbmZpZ1xuICAgICAgfSA9IGZvcm1GaWVsZHMuZ2V0KHR5cGUpO1xuICAgICAgaWYgKGNvbmZpZy5rZXllZCkge1xuICAgICAgICBtb2RlbGluZy51bmNsYWltS2V5KGZvcm1GaWVsZCwga2V5KTtcbiAgICAgIH1cbiAgICB9LCB0cnVlKTtcbiAgICB0aGlzLnByZUV4ZWN1dGUoJ2Zvcm1GaWVsZC5lZGl0JywgZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgZm9ybUZpZWxkLFxuICAgICAgICBwcm9wZXJ0aWVzXG4gICAgICB9ID0gY29udGV4dDtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAga2V5LFxuICAgICAgICB0eXBlXG4gICAgICB9ID0gZm9ybUZpZWxkO1xuICAgICAgY29uc3Qge1xuICAgICAgICBjb25maWdcbiAgICAgIH0gPSBmb3JtRmllbGRzLmdldCh0eXBlKTtcbiAgICAgIGlmIChjb25maWcua2V5ZWQgJiYgJ2tleScgaW4gcHJvcGVydGllcykge1xuICAgICAgICBtb2RlbGluZy51bmNsYWltS2V5KGZvcm1GaWVsZCwga2V5KTtcbiAgICAgICAgbW9kZWxpbmcuY2xhaW1LZXkoZm9ybUZpZWxkLCBwcm9wZXJ0aWVzLmtleSk7XG4gICAgICB9XG4gICAgfSwgdHJ1ZSk7XG4gIH1cbn1cbktleUJlaGF2aW9yLiRpbmplY3QgPSBbJ2V2ZW50QnVzJywgJ21vZGVsaW5nJywgJ2Zvcm1GaWVsZHMnXTtcblxuY2xhc3MgUGF0aEJlaGF2aW9yIGV4dGVuZHMgQ29tbWFuZEludGVyY2VwdG9yIHtcbiAgY29uc3RydWN0b3IoZXZlbnRCdXMsIG1vZGVsaW5nLCBmb3JtRmllbGRzKSB7XG4gICAgc3VwZXIoZXZlbnRCdXMpO1xuICAgIHRoaXMucHJlRXhlY3V0ZSgnZm9ybUZpZWxkLnJlbW92ZScsIGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIGZvcm1GaWVsZFxuICAgICAgfSA9IGNvbnRleHQ7XG4gICAgICBjb25zdCB7XG4gICAgICAgIHBhdGgsXG4gICAgICAgIHR5cGVcbiAgICAgIH0gPSBmb3JtRmllbGQ7XG4gICAgICBjb25zdCB7XG4gICAgICAgIGNvbmZpZ1xuICAgICAgfSA9IGZvcm1GaWVsZHMuZ2V0KHR5cGUpO1xuICAgICAgaWYgKGNvbmZpZy5wYXRoZWQpIHtcbiAgICAgICAgbW9kZWxpbmcudW5jbGFpbVBhdGgoZm9ybUZpZWxkLCBwYXRoKTtcbiAgICAgIH1cbiAgICB9LCB0cnVlKTtcbiAgICB0aGlzLnByZUV4ZWN1dGUoJ2Zvcm1GaWVsZC5lZGl0JywgZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgZm9ybUZpZWxkLFxuICAgICAgICBwcm9wZXJ0aWVzXG4gICAgICB9ID0gY29udGV4dDtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgcGF0aCxcbiAgICAgICAgdHlwZVxuICAgICAgfSA9IGZvcm1GaWVsZDtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgY29uZmlnXG4gICAgICB9ID0gZm9ybUZpZWxkcy5nZXQodHlwZSk7XG4gICAgICBpZiAoY29uZmlnLnBhdGhlZCAmJiAncGF0aCcgaW4gcHJvcGVydGllcykge1xuICAgICAgICBtb2RlbGluZy51bmNsYWltUGF0aChmb3JtRmllbGQsIHBhdGgpO1xuICAgICAgICBtb2RlbGluZy5jbGFpbVBhdGgoZm9ybUZpZWxkLCBwcm9wZXJ0aWVzLnBhdGgpO1xuICAgICAgfVxuICAgIH0sIHRydWUpO1xuICB9XG59XG5QYXRoQmVoYXZpb3IuJGluamVjdCA9IFsnZXZlbnRCdXMnLCAnbW9kZWxpbmcnLCAnZm9ybUZpZWxkcyddO1xuXG5jbGFzcyBWYWxpZGF0ZUJlaGF2aW9yIGV4dGVuZHMgQ29tbWFuZEludGVyY2VwdG9yIHtcbiAgY29uc3RydWN0b3IoZXZlbnRCdXMpIHtcbiAgICBzdXBlcihldmVudEJ1cyk7XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgY3VzdG9tIHZhbGlkYXRpb24gaWYgPHZhbGlkYXRpb25UeXBlPiBpcyBhYm91dCB0byBiZSBhZGRlZC5cbiAgICAgKi9cbiAgICB0aGlzLnByZUV4ZWN1dGUoJ2Zvcm1GaWVsZC5lZGl0JywgZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgcHJvcGVydGllc1xuICAgICAgfSA9IGNvbnRleHQ7XG4gICAgICBjb25zdCB7XG4gICAgICAgIHZhbGlkYXRlID0ge31cbiAgICAgIH0gPSBwcm9wZXJ0aWVzO1xuICAgICAgaWYgKHZhbGlkYXRlLnZhbGlkYXRpb25UeXBlKSB7XG4gICAgICAgIGNvbnN0IG5ld1ZhbGlkYXRlID0ge1xuICAgICAgICAgIC4uLnZhbGlkYXRlXG4gICAgICAgIH07XG4gICAgICAgIGRlbGV0ZSBuZXdWYWxpZGF0ZS5taW5MZW5ndGg7XG4gICAgICAgIGRlbGV0ZSBuZXdWYWxpZGF0ZS5tYXhMZW5ndGg7XG4gICAgICAgIGRlbGV0ZSBuZXdWYWxpZGF0ZS5wYXR0ZXJuO1xuICAgICAgICBwcm9wZXJ0aWVzWyd2YWxpZGF0ZSddID0gbmV3VmFsaWRhdGU7XG4gICAgICB9XG4gICAgfSwgdHJ1ZSk7XG4gIH1cbn1cblZhbGlkYXRlQmVoYXZpb3IuJGluamVjdCA9IFsnZXZlbnRCdXMnXTtcblxuY2xhc3MgT3B0aW9uc1NvdXJjZUJlaGF2aW9yIGV4dGVuZHMgQ29tbWFuZEludGVyY2VwdG9yIHtcbiAgY29uc3RydWN0b3IoZXZlbnRCdXMpIHtcbiAgICBzdXBlcihldmVudEJ1cyk7XG5cbiAgICAvKipcbiAgICAgKiBDbGVhbnVwIHByb3BlcnRpZXMgb24gY2hhbmdpbmcgdGhlIHZhbHVlcyBzb3VyY2UuXG4gICAgICpcbiAgICAgKiAxKSBSZW1vdmUgb3RoZXIgc291cmNlcywgZS5nLiBzZXQgYHZhbHVlc2AgPT4gcmVtb3ZlIGB2YWx1ZXNLZXlgIGFuZCBgdmFsdWVzRXhwcmVzc2lvbmBcbiAgICAgKiAyKSBSZW1vdmUgZGVmYXVsdCB2YWx1ZXMgZm9yIGFsbCBvdGhlciB2YWx1ZXMgc291cmNlc1xuICAgICAqL1xuICAgIHRoaXMucHJlRXhlY3V0ZSgnZm9ybUZpZWxkLmVkaXQnLCBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgY29uc3Qge1xuICAgICAgICBwcm9wZXJ0aWVzXG4gICAgICB9ID0gY29udGV4dDtcbiAgICAgIGNvbnN0IG5ld1Byb3BlcnRpZXMgPSB7fTtcbiAgICAgIGlmICghaXNWYWx1ZXNTb3VyY2VVcGRhdGUocHJvcGVydGllcykpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBjbGVhbiB1cCB2YWx1ZSBzb3VyY2VzIHRoYXQgYXJlIG5vdCB0byBnb2luZyB0byBiZSBzZXRcbiAgICAgIE9iamVjdC52YWx1ZXMoT1BUSU9OU19TT1VSQ0VTKS5mb3JFYWNoKHNvdXJjZSA9PiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSBPUFRJT05TX1NPVVJDRVNfUEFUSFNbc291cmNlXTtcbiAgICAgICAgaWYgKGdldChwcm9wZXJ0aWVzLCBwYXRoKSA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBuZXdQcm9wZXJ0aWVzW09QVElPTlNfU09VUkNFU19QQVRIU1tzb3VyY2VdXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIC8vIGNsZWFuIHVwIGRlZmF1bHQgdmFsdWVcbiAgICAgIGlmIChnZXQocHJvcGVydGllcywgT1BUSU9OU19TT1VSQ0VTX1BBVEhTW09QVElPTlNfU09VUkNFUy5FWFBSRVNTSU9OXSkgIT09IHVuZGVmaW5lZCB8fCBnZXQocHJvcGVydGllcywgT1BUSU9OU19TT1VSQ0VTX1BBVEhTW09QVElPTlNfU09VUkNFUy5JTlBVVF0pICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbmV3UHJvcGVydGllc1snZGVmYXVsdFZhbHVlJ10gPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBjb250ZXh0LnByb3BlcnRpZXMgPSB7XG4gICAgICAgIC4uLnByb3BlcnRpZXMsXG4gICAgICAgIC4uLm5ld1Byb3BlcnRpZXNcbiAgICAgIH07XG4gICAgfSwgdHJ1ZSk7XG4gIH1cbn1cbk9wdGlvbnNTb3VyY2VCZWhhdmlvci4kaW5qZWN0ID0gWydldmVudEJ1cyddO1xuXG4vLyBoZWxwZXIgLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5mdW5jdGlvbiBpc1ZhbHVlc1NvdXJjZVVwZGF0ZShwcm9wZXJ0aWVzKSB7XG4gIHJldHVybiBPYmplY3QudmFsdWVzKE9QVElPTlNfU09VUkNFU19QQVRIUykuc29tZShwYXRoID0+IHtcbiAgICByZXR1cm4gZ2V0KHByb3BlcnRpZXMsIHBhdGgpICE9PSB1bmRlZmluZWQ7XG4gIH0pO1xufVxuXG5jb25zdCBDT0xVTU5TX1NPVVJDRV9QUk9QRVJUSUVTID0ge1xuICBjb2x1bW5zOiAnY29sdW1ucycsXG4gIGNvbHVtbnNFeHByZXNzaW9uOiAnY29sdW1uc0V4cHJlc3Npb24nXG59O1xuY2xhc3MgQ29sdW1uc1NvdXJjZUJlaGF2aW9yIGV4dGVuZHMgQ29tbWFuZEludGVyY2VwdG9yIHtcbiAgY29uc3RydWN0b3IoZXZlbnRCdXMpIHtcbiAgICBzdXBlcihldmVudEJ1cyk7XG4gICAgdGhpcy5wcmVFeGVjdXRlKCdmb3JtRmllbGQuZWRpdCcsIGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIHByb3BlcnRpZXMsXG4gICAgICAgIG9sZFByb3BlcnRpZXNcbiAgICAgIH0gPSBjb250ZXh0O1xuICAgICAgY29uc3QgaXNDb2x1bW5Tb3VyY2VVcGRhdGUgPSBPYmplY3QudmFsdWVzKENPTFVNTlNfU09VUkNFX1BST1BFUlRJRVMpLnNvbWUocGF0aCA9PiB7XG4gICAgICAgIHJldHVybiBnZXQocHJvcGVydGllcywgW3BhdGhdKSAhPT0gdW5kZWZpbmVkO1xuICAgICAgfSk7XG4gICAgICBpZiAoIWlzQ29sdW1uU291cmNlVXBkYXRlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNvbHVtbnMgPSBnZXQocHJvcGVydGllcywgW0NPTFVNTlNfU09VUkNFX1BST1BFUlRJRVMuY29sdW1uc10pO1xuICAgICAgY29uc3Qgb2xkQ29sdW1ucyA9IGdldChvbGRQcm9wZXJ0aWVzLCBbQ09MVU1OU19TT1VSQ0VfUFJPUEVSVElFUy5jb2x1bW5zXSk7XG4gICAgICBjb25zdCBjb2x1bW5zRXhwcmVzc2lvbiA9IGdldChwcm9wZXJ0aWVzLCBbQ09MVU1OU19TT1VSQ0VfUFJPUEVSVElFUy5jb2x1bW5zRXhwcmVzc2lvbl0pO1xuICAgICAgY29uc3Qgb2xkQ29sdW1uc0V4cHJlc3Npb24gPSBnZXQob2xkUHJvcGVydGllcywgW0NPTFVNTlNfU09VUkNFX1BST1BFUlRJRVMuY29sdW1uc0V4cHJlc3Npb25dKTtcbiAgICAgIGlmIChpc0FycmF5KGNvbHVtbnMpICYmICFpc0RlZmluZWQob2xkQ29sdW1ucykpIHtcbiAgICAgICAgY29udGV4dC5wcm9wZXJ0aWVzID0ge1xuICAgICAgICAgIC4uLnByb3BlcnRpZXMsXG4gICAgICAgICAgY29sdW1uc0V4cHJlc3Npb246IHVuZGVmaW5lZFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoaXNTdHJpbmcoY29sdW1uc0V4cHJlc3Npb24pICYmICFpc1N0cmluZyhvbGRDb2x1bW5zRXhwcmVzc2lvbikpIHtcbiAgICAgICAgY29udGV4dC5wcm9wZXJ0aWVzID0ge1xuICAgICAgICAgIC4uLnByb3BlcnRpZXMsXG4gICAgICAgICAgY29sdW1uczogdW5kZWZpbmVkXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9LCB0cnVlKTtcbiAgfVxufVxuQ29sdW1uc1NvdXJjZUJlaGF2aW9yLiRpbmplY3QgPSBbJ2V2ZW50QnVzJ107XG5cbmNsYXNzIFRhYmxlRGF0YVNvdXJjZUJlaGF2aW9yIGV4dGVuZHMgQ29tbWFuZEludGVyY2VwdG9yIHtcbiAgY29uc3RydWN0b3IoZXZlbnRCdXMpIHtcbiAgICBzdXBlcihldmVudEJ1cyk7XG4gICAgdGhpcy5wcmVFeGVjdXRlKCdmb3JtRmllbGQuYWRkJywgZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgZm9ybUZpZWxkXG4gICAgICB9ID0gY29udGV4dDtcbiAgICAgIGlmIChnZXQoZm9ybUZpZWxkLCBbJ3R5cGUnXSkgIT09ICd0YWJsZScpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29udGV4dC5mb3JtRmllbGQgPSB7XG4gICAgICAgIC4uLmZvcm1GaWVsZCxcbiAgICAgICAgZGF0YVNvdXJjZTogYD0ke2Zvcm1GaWVsZC5pZH1gXG4gICAgICB9O1xuICAgIH0sIHRydWUpO1xuICB9XG59XG5UYWJsZURhdGFTb3VyY2VCZWhhdmlvci4kaW5qZWN0ID0gWydldmVudEJ1cyddO1xuXG5jb25zdCBCZWhhdmlvck1vZHVsZSA9IHtcbiAgX19pbml0X186IFsnaWRCZWhhdmlvcicsICdrZXlCZWhhdmlvcicsICdwYXRoQmVoYXZpb3InLCAndmFsaWRhdGVCZWhhdmlvcicsICdvcHRpb25zU291cmNlQmVoYXZpb3InLCAnY29sdW1uc1NvdXJjZUJlaGF2aW9yJywgJ3RhYmxlRGF0YVNvdXJjZUJlaGF2aW9yJ10sXG4gIGlkQmVoYXZpb3I6IFsndHlwZScsIElkQmVoYXZpb3JdLFxuICBrZXlCZWhhdmlvcjogWyd0eXBlJywgS2V5QmVoYXZpb3JdLFxuICBwYXRoQmVoYXZpb3I6IFsndHlwZScsIFBhdGhCZWhhdmlvcl0sXG4gIHZhbGlkYXRlQmVoYXZpb3I6IFsndHlwZScsIFZhbGlkYXRlQmVoYXZpb3JdLFxuICBvcHRpb25zU291cmNlQmVoYXZpb3I6IFsndHlwZScsIE9wdGlvbnNTb3VyY2VCZWhhdmlvcl0sXG4gIGNvbHVtbnNTb3VyY2VCZWhhdmlvcjogWyd0eXBlJywgQ29sdW1uc1NvdXJjZUJlaGF2aW9yXSxcbiAgdGFibGVEYXRhU291cmNlQmVoYXZpb3I6IFsndHlwZScsIFRhYmxlRGF0YVNvdXJjZUJlaGF2aW9yXVxufTtcblxuZnVuY3Rpb24gYXJyYXlBZGQkMShhcnJheSwgaW5kZXgsIGl0ZW0pIHtcbiAgYXJyYXkuc3BsaWNlKGluZGV4LCAwLCBpdGVtKTtcbiAgcmV0dXJuIGFycmF5O1xufVxuZnVuY3Rpb24gYXJyYXlSZW1vdmUoYXJyYXksIGluZGV4KSB7XG4gIGFycmF5LnNwbGljZShpbmRleCwgMSk7XG4gIHJldHVybiBhcnJheTtcbn1cbmZ1bmN0aW9uIHVwZGF0ZVBhdGgoZm9ybUZpZWxkUmVnaXN0cnksIGZvcm1GaWVsZCwgaW5kZXgpIHtcbiAgY29uc3QgcGFyZW50ID0gZm9ybUZpZWxkUmVnaXN0cnkuZ2V0KGZvcm1GaWVsZC5fcGFyZW50KTtcbiAgcmVmcmVzaFBhdGhzUmVjdXJzaXZlbHkoZm9ybUZpZWxkLCBbLi4ucGFyZW50Ll9wYXRoLCAnY29tcG9uZW50cycsIGluZGV4XSk7XG4gIHJldHVybiBmb3JtRmllbGQ7XG59XG5mdW5jdGlvbiByZWZyZXNoUGF0aHNSZWN1cnNpdmVseShmb3JtRmllbGQsIHBhdGgpIHtcbiAgZm9ybUZpZWxkLl9wYXRoID0gcGF0aDtcbiAgY29uc3QgY29tcG9uZW50cyA9IGZvcm1GaWVsZC5jb21wb25lbnRzIHx8IFtdO1xuICBjb21wb25lbnRzLmZvckVhY2goKGNvbXBvbmVudCwgaW5kZXgpID0+IHtcbiAgICByZWZyZXNoUGF0aHNSZWN1cnNpdmVseShjb21wb25lbnQsIFsuLi5wYXRoLCAnY29tcG9uZW50cycsIGluZGV4XSk7XG4gIH0pO1xufVxuZnVuY3Rpb24gdXBkYXRlUm93KGZvcm1GaWVsZCwgcm93SWQpIHtcbiAgZm9ybUZpZWxkLmxheW91dCA9IHtcbiAgICAuLi4oZm9ybUZpZWxkLmxheW91dCB8fCB7fSksXG4gICAgcm93OiByb3dJZFxuICB9O1xuICByZXR1cm4gZm9ybUZpZWxkO1xufVxuXG5jbGFzcyBGb3JtTGF5b3V0VXBkYXRlciBleHRlbmRzIENvbW1hbmRJbnRlcmNlcHRvciB7XG4gIGNvbnN0cnVjdG9yKGV2ZW50QnVzLCBmb3JtTGF5b3V0ZXIsIG1vZGVsaW5nLCBmb3JtRWRpdG9yKSB7XG4gICAgc3VwZXIoZXZlbnRCdXMpO1xuICAgIHRoaXMuX2V2ZW50QnVzID0gZXZlbnRCdXM7XG4gICAgdGhpcy5fZm9ybUxheW91dGVyID0gZm9ybUxheW91dGVyO1xuICAgIHRoaXMuX21vZGVsaW5nID0gbW9kZWxpbmc7XG4gICAgdGhpcy5fZm9ybUVkaXRvciA9IGZvcm1FZGl0b3I7XG5cbiAgICAvLyBAdHMtaWdub3JlXG4gICAgdGhpcy5wcmVFeGVjdXRlKFsnZm9ybUZpZWxkLmFkZCcsICdmb3JtRmllbGQucmVtb3ZlJywgJ2Zvcm1GaWVsZC5tb3ZlJywgJ2lkLnVwZGF0ZUNsYWltJ10sIGV2ZW50ID0+IHRoaXMudXBkYXRlUm93SWRzKGV2ZW50KSk7XG5cbiAgICAvLyB3ZSBuZWVkIHRoYXQgYXMgdGhlIHN0YXRlIGdvdCB1cGRhdGVzXG4gICAgLy8gb24gdGhlIG5leHQgdGljayAobm90IGluIHBvc3QgZXhlY3V0ZSlcbiAgICBldmVudEJ1cy5vbignY2hhbmdlZCcsIGNvbnRleHQgPT4ge1xuICAgICAgY29uc3Qge1xuICAgICAgICBzY2hlbWFcbiAgICAgIH0gPSBjb250ZXh0O1xuICAgICAgdGhpcy51cGRhdGVMYXlvdXQoc2NoZW1hKTtcbiAgICB9KTtcbiAgfVxuICB1cGRhdGVMYXlvdXQoc2NoZW1hKSB7XG4gICAgdGhpcy5fZm9ybUxheW91dGVyLmNsZWFyKCk7XG4gICAgdGhpcy5fZm9ybUxheW91dGVyLmNhbGN1bGF0ZUxheW91dChjbG9uZShzY2hlbWEpKTtcbiAgfVxuICB1cGRhdGVSb3dJZHMoZXZlbnQpIHtcbiAgICBjb25zdCB7XG4gICAgICBzY2hlbWFcbiAgICB9ID0gdGhpcy5fZm9ybUVkaXRvci5fZ2V0U3RhdGUoKTtcbiAgICBjb25zdCBzZXRSb3dJZHMgPSBwYXJlbnQgPT4ge1xuICAgICAgaWYgKCFwYXJlbnQuY29tcG9uZW50cyB8fCAhcGFyZW50LmNvbXBvbmVudHMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHBhcmVudC5jb21wb25lbnRzLmZvckVhY2goZm9ybUZpZWxkID0+IHtcbiAgICAgICAgY29uc3Qgcm93ID0gdGhpcy5fZm9ybUxheW91dGVyLmdldFJvd0ZvckZpZWxkKGZvcm1GaWVsZCk7XG4gICAgICAgIHVwZGF0ZVJvdyhmb3JtRmllbGQsIHJvdy5pZCk7XG5cbiAgICAgICAgLy8gaGFuZGxlIGNoaWxkcmVuIHJlY3Vyc2l2ZWx5XG4gICAgICAgIHNldFJvd0lkcyhmb3JtRmllbGQpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8vIG1ha2Ugc3VyZSByb3dzIGFyZSBwZXJzaXN0ZWQgaW4gc2NoZW1hIChlLmcuIGZvciBtaWdyYXRpb24gY2FzZSlcbiAgICBzZXRSb3dJZHMoc2NoZW1hKTtcbiAgfVxufVxuRm9ybUxheW91dFVwZGF0ZXIuJGluamVjdCA9IFsnZXZlbnRCdXMnLCAnZm9ybUxheW91dGVyJywgJ21vZGVsaW5nJywgJ2Zvcm1FZGl0b3InXTtcblxuY2xhc3MgQWRkRm9ybUZpZWxkSGFuZGxlciB7XG4gIC8qKlxuICAgKiBAY29uc3RydWN0b3JcbiAgICogQHBhcmFtIHsgaW1wb3J0KCcuLi8uLi8uLi9Gb3JtRWRpdG9yJykuRm9ybUVkaXRvciB9IGZvcm1FZGl0b3JcbiAgICogQHBhcmFtIHsgaW1wb3J0KCcuLi8uLi8uLi9jb3JlL0Zvcm1GaWVsZFJlZ2lzdHJ5JykuRm9ybUZpZWxkUmVnaXN0cnkgfSBmb3JtRmllbGRSZWdpc3RyeVxuICAgKi9cbiAgY29uc3RydWN0b3IoZm9ybUVkaXRvciwgZm9ybUZpZWxkUmVnaXN0cnkpIHtcbiAgICB0aGlzLl9mb3JtRWRpdG9yID0gZm9ybUVkaXRvcjtcbiAgICB0aGlzLl9mb3JtRmllbGRSZWdpc3RyeSA9IGZvcm1GaWVsZFJlZ2lzdHJ5O1xuICB9XG4gIGV4ZWN1dGUoY29udGV4dCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGZvcm1GaWVsZCxcbiAgICAgIHRhcmdldEZvcm1GaWVsZCxcbiAgICAgIHRhcmdldEluZGV4XG4gICAgfSA9IGNvbnRleHQ7XG4gICAgY29uc3Qge1xuICAgICAgc2NoZW1hXG4gICAgfSA9IHRoaXMuX2Zvcm1FZGl0b3IuX2dldFN0YXRlKCk7XG4gICAgY29uc3QgdGFyZ2V0UGF0aCA9IFsuLi50YXJnZXRGb3JtRmllbGQuX3BhdGgsICdjb21wb25lbnRzJ107XG4gICAgZm9ybUZpZWxkLl9wYXJlbnQgPSB0YXJnZXRGb3JtRmllbGQuaWQ7XG5cbiAgICAvLyAoMSkgQWRkIG5ldyBmb3JtIGZpZWxkXG4gICAgYXJyYXlBZGQkMShnZXQoc2NoZW1hLCB0YXJnZXRQYXRoKSwgdGFyZ2V0SW5kZXgsIGZvcm1GaWVsZCk7XG5cbiAgICAvLyAoMikgVXBkYXRlIGludGVybmFsIHBhdGhzIG9mIG5ldyBmb3JtIGZpZWxkIGFuZCBpdHMgc2libGluZ3MgKGFuZCB0aGVpciBjaGlsZHJlbilcbiAgICBnZXQoc2NoZW1hLCB0YXJnZXRQYXRoKS5mb3JFYWNoKChmb3JtRmllbGQsIGluZGV4KSA9PiB1cGRhdGVQYXRoKHRoaXMuX2Zvcm1GaWVsZFJlZ2lzdHJ5LCBmb3JtRmllbGQsIGluZGV4KSk7XG5cbiAgICAvLyAoMykgQWRkIG5ldyBmb3JtIGZpZWxkIHRvIGZvcm0gZmllbGQgcmVnaXN0cnlcbiAgICB0aGlzLl9mb3JtRmllbGRSZWdpc3RyeS5hZGQoZm9ybUZpZWxkKTtcblxuICAgIC8vIFRPRE86IENyZWF0ZSB1cGRhdGVyL2NoYW5nZSBzdXBwb3J0IHRoYXQgYXV0b21hdGljYWxseSB1cGRhdGVzIHBhdGhzIGFuZCBzY2hlbWEgb24gY29tbWFuZCBleGVjdXRpb25cbiAgICB0aGlzLl9mb3JtRWRpdG9yLl9zZXRTdGF0ZSh7XG4gICAgICBzY2hlbWFcbiAgICB9KTtcbiAgfVxuICByZXZlcnQoY29udGV4dCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGZvcm1GaWVsZCxcbiAgICAgIHRhcmdldEZvcm1GaWVsZCxcbiAgICAgIHRhcmdldEluZGV4XG4gICAgfSA9IGNvbnRleHQ7XG4gICAgY29uc3Qge1xuICAgICAgc2NoZW1hXG4gICAgfSA9IHRoaXMuX2Zvcm1FZGl0b3IuX2dldFN0YXRlKCk7XG4gICAgY29uc3QgdGFyZ2V0UGF0aCA9IFsuLi50YXJnZXRGb3JtRmllbGQuX3BhdGgsICdjb21wb25lbnRzJ107XG5cbiAgICAvLyAoMSkgUmVtb3ZlIG5ldyBmb3JtIGZpZWxkXG4gICAgYXJyYXlSZW1vdmUoZ2V0KHNjaGVtYSwgdGFyZ2V0UGF0aCksIHRhcmdldEluZGV4KTtcblxuICAgIC8vICgyKSBVcGRhdGUgaW50ZXJuYWwgcGF0aHMgb2YgbmV3IGZvcm0gZmllbGQgYW5kIGl0cyBzaWJsaW5ncyAoYW5kIHRoZWlyIGNoaWxkcmVuKVxuICAgIGdldChzY2hlbWEsIHRhcmdldFBhdGgpLmZvckVhY2goKGZvcm1GaWVsZCwgaW5kZXgpID0+IHVwZGF0ZVBhdGgodGhpcy5fZm9ybUZpZWxkUmVnaXN0cnksIGZvcm1GaWVsZCwgaW5kZXgpKTtcblxuICAgIC8vICgzKSBSZW1vdmUgbmV3IGZvcm0gZmllbGQgZnJvbSBmb3JtIGZpZWxkIHJlZ2lzdHJ5XG4gICAgdGhpcy5fZm9ybUZpZWxkUmVnaXN0cnkucmVtb3ZlKGZvcm1GaWVsZCk7XG5cbiAgICAvLyBUT0RPOiBDcmVhdGUgdXBkYXRlci9jaGFuZ2Ugc3VwcG9ydCB0aGF0IGF1dG9tYXRpY2FsbHkgdXBkYXRlcyBwYXRocyBhbmQgc2NoZW1hIG9uIGNvbW1hbmQgZXhlY3V0aW9uXG4gICAgdGhpcy5fZm9ybUVkaXRvci5fc2V0U3RhdGUoe1xuICAgICAgc2NoZW1hXG4gICAgfSk7XG4gIH1cbn1cbkFkZEZvcm1GaWVsZEhhbmRsZXIuJGluamVjdCA9IFsnZm9ybUVkaXRvcicsICdmb3JtRmllbGRSZWdpc3RyeSddO1xuXG5jbGFzcyBFZGl0Rm9ybUZpZWxkSGFuZGxlciB7XG4gIC8qKlxuICAgKiBAY29uc3RydWN0b3JcbiAgICogQHBhcmFtIHsgaW1wb3J0KCcuLi8uLi8uLi9Gb3JtRWRpdG9yJykuRm9ybUVkaXRvciB9IGZvcm1FZGl0b3JcbiAgICogQHBhcmFtIHsgaW1wb3J0KCcuLi8uLi8uLi9jb3JlL0Zvcm1GaWVsZFJlZ2lzdHJ5JykuRm9ybUZpZWxkUmVnaXN0cnkgfSBmb3JtRmllbGRSZWdpc3RyeVxuICAgKi9cbiAgY29uc3RydWN0b3IoZm9ybUVkaXRvciwgZm9ybUZpZWxkUmVnaXN0cnkpIHtcbiAgICB0aGlzLl9mb3JtRWRpdG9yID0gZm9ybUVkaXRvcjtcbiAgICB0aGlzLl9mb3JtRmllbGRSZWdpc3RyeSA9IGZvcm1GaWVsZFJlZ2lzdHJ5O1xuICB9XG4gIGV4ZWN1dGUoY29udGV4dCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGZvcm1GaWVsZCxcbiAgICAgIHByb3BlcnRpZXNcbiAgICB9ID0gY29udGV4dDtcbiAgICBsZXQge1xuICAgICAgc2NoZW1hXG4gICAgfSA9IHRoaXMuX2Zvcm1FZGl0b3IuX2dldFN0YXRlKCk7XG4gICAgY29uc3Qgb2xkUHJvcGVydGllcyA9IHt9O1xuICAgIGZvciAobGV0IGtleSBpbiBwcm9wZXJ0aWVzKSB7XG4gICAgICBvbGRQcm9wZXJ0aWVzW2tleV0gPSBmb3JtRmllbGRba2V5XTtcbiAgICAgIGNvbnN0IHByb3BlcnR5ID0gcHJvcGVydGllc1trZXldO1xuICAgICAgaWYgKGtleSA9PT0gJ2lkJykge1xuICAgICAgICBpZiAocHJvcGVydHkgIT09IGZvcm1GaWVsZC5pZCkge1xuICAgICAgICAgIHRoaXMuX2Zvcm1GaWVsZFJlZ2lzdHJ5LnVwZGF0ZUlkKGZvcm1GaWVsZCwgcHJvcGVydHkpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3JtRmllbGRba2V5XSA9IHByb3BlcnR5O1xuICAgICAgfVxuICAgIH1cbiAgICBjb250ZXh0Lm9sZFByb3BlcnRpZXMgPSBvbGRQcm9wZXJ0aWVzO1xuXG4gICAgLy8gVE9ETzogQ3JlYXRlIHVwZGF0ZXIvY2hhbmdlIHN1cHBvcnQgdGhhdCBhdXRvbWF0aWNhbGx5IHVwZGF0ZXMgcGF0aHMgYW5kIHNjaGVtYSBvbiBjb21tYW5kIGV4ZWN1dGlvblxuICAgIHRoaXMuX2Zvcm1FZGl0b3IuX3NldFN0YXRlKHtcbiAgICAgIHNjaGVtYVxuICAgIH0pO1xuICAgIHJldHVybiBmb3JtRmllbGQ7XG4gIH1cbiAgcmV2ZXJ0KGNvbnRleHQpIHtcbiAgICBjb25zdCB7XG4gICAgICBmb3JtRmllbGQsXG4gICAgICBvbGRQcm9wZXJ0aWVzXG4gICAgfSA9IGNvbnRleHQ7XG4gICAgbGV0IHtcbiAgICAgIHNjaGVtYVxuICAgIH0gPSB0aGlzLl9mb3JtRWRpdG9yLl9nZXRTdGF0ZSgpO1xuICAgIGZvciAobGV0IGtleSBpbiBvbGRQcm9wZXJ0aWVzKSB7XG4gICAgICBjb25zdCBwcm9wZXJ0eSA9IG9sZFByb3BlcnRpZXNba2V5XTtcbiAgICAgIGlmIChrZXkgPT09ICdpZCcpIHtcbiAgICAgICAgaWYgKHByb3BlcnR5ICE9PSBmb3JtRmllbGQuaWQpIHtcbiAgICAgICAgICB0aGlzLl9mb3JtRmllbGRSZWdpc3RyeS51cGRhdGVJZChmb3JtRmllbGQsIHByb3BlcnR5KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9ybUZpZWxkW2tleV0gPSBwcm9wZXJ0eTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBUT0RPOiBDcmVhdGUgdXBkYXRlci9jaGFuZ2Ugc3VwcG9ydCB0aGF0IGF1dG9tYXRpY2FsbHkgdXBkYXRlcyBwYXRocyBhbmQgc2NoZW1hIG9uIGNvbW1hbmQgZXhlY3V0aW9uXG4gICAgdGhpcy5fZm9ybUVkaXRvci5fc2V0U3RhdGUoe1xuICAgICAgc2NoZW1hXG4gICAgfSk7XG4gICAgcmV0dXJuIGZvcm1GaWVsZDtcbiAgfVxufVxuRWRpdEZvcm1GaWVsZEhhbmRsZXIuJGluamVjdCA9IFsnZm9ybUVkaXRvcicsICdmb3JtRmllbGRSZWdpc3RyeSddO1xuXG5jbGFzcyBNb3ZlRm9ybUZpZWxkSGFuZGxlciB7XG4gIC8qKlxuICAgKiBAY29uc3RydWN0b3JcbiAgICogQHBhcmFtIHsgaW1wb3J0KCcuLi8uLi8uLi9Gb3JtRWRpdG9yJykuRm9ybUVkaXRvciB9IGZvcm1FZGl0b3JcbiAgICogQHBhcmFtIHsgaW1wb3J0KCcuLi8uLi8uLi9jb3JlL0Zvcm1GaWVsZFJlZ2lzdHJ5JykuRm9ybUZpZWxkUmVnaXN0cnkgfSBmb3JtRmllbGRSZWdpc3RyeVxuICAgKiBAcGFyYW0geyBpbXBvcnQoJ0BicG1uLWlvL2Zvcm0tanMtdmlld2VyJykuUGF0aFJlZ2lzdHJ5IH0gcGF0aFJlZ2lzdHJ5XG4gICAqIEBwYXJhbSB7IGltcG9ydCgnQGJwbW4taW8vZm9ybS1qcy12aWV3ZXInKS5Gb3JtTGF5b3V0ZXIgfSBmb3JtTGF5b3V0ZXJcbiAgICovXG4gIGNvbnN0cnVjdG9yKGZvcm1FZGl0b3IsIGZvcm1GaWVsZFJlZ2lzdHJ5LCBwYXRoUmVnaXN0cnksIGZvcm1MYXlvdXRlcikge1xuICAgIHRoaXMuX2Zvcm1FZGl0b3IgPSBmb3JtRWRpdG9yO1xuICAgIHRoaXMuX2Zvcm1GaWVsZFJlZ2lzdHJ5ID0gZm9ybUZpZWxkUmVnaXN0cnk7XG4gICAgdGhpcy5fcGF0aFJlZ2lzdHJ5ID0gcGF0aFJlZ2lzdHJ5O1xuICAgIHRoaXMuX2Zvcm1MYXlvdXRlciA9IGZvcm1MYXlvdXRlcjtcbiAgfVxuICBleGVjdXRlKGNvbnRleHQpIHtcbiAgICB0aGlzLm1vdmVGb3JtRmllbGQoY29udGV4dCk7XG4gIH1cbiAgcmV2ZXJ0KGNvbnRleHQpIHtcbiAgICBsZXQge1xuICAgICAgc291cmNlRm9ybUZpZWxkLFxuICAgICAgdGFyZ2V0Rm9ybUZpZWxkLFxuICAgICAgc291cmNlSW5kZXgsXG4gICAgICB0YXJnZXRJbmRleCxcbiAgICAgIHNvdXJjZVJvdyxcbiAgICAgIHRhcmdldFJvd1xuICAgIH0gPSBjb250ZXh0O1xuICAgIHRoaXMubW92ZUZvcm1GaWVsZCh7XG4gICAgICBzb3VyY2VGb3JtRmllbGQ6IHRhcmdldEZvcm1GaWVsZCxcbiAgICAgIHRhcmdldEZvcm1GaWVsZDogc291cmNlRm9ybUZpZWxkLFxuICAgICAgc291cmNlSW5kZXg6IHRhcmdldEluZGV4LFxuICAgICAgdGFyZ2V0SW5kZXg6IHNvdXJjZUluZGV4LFxuICAgICAgc291cmNlUm93OiB0YXJnZXRSb3csXG4gICAgICB0YXJnZXRSb3c6IHNvdXJjZVJvd1xuICAgIH0sIHRydWUpO1xuICB9XG4gIG1vdmVGb3JtRmllbGQoY29udGV4dCwgcmV2ZXJ0KSB7XG4gICAgbGV0IHtcbiAgICAgIHNvdXJjZUZvcm1GaWVsZCxcbiAgICAgIHRhcmdldEZvcm1GaWVsZCxcbiAgICAgIHNvdXJjZUluZGV4LFxuICAgICAgdGFyZ2V0SW5kZXgsXG4gICAgICB0YXJnZXRSb3dcbiAgICB9ID0gY29udGV4dDtcbiAgICBsZXQge1xuICAgICAgc2NoZW1hXG4gICAgfSA9IHRoaXMuX2Zvcm1FZGl0b3IuX2dldFN0YXRlKCk7XG4gICAgY29uc3Qgc291cmNlUGF0aCA9IFsuLi5zb3VyY2VGb3JtRmllbGQuX3BhdGgsICdjb21wb25lbnRzJ107XG4gICAgaWYgKHNvdXJjZUZvcm1GaWVsZC5pZCA9PT0gdGFyZ2V0Rm9ybUZpZWxkLmlkKSB7XG4gICAgICBpZiAocmV2ZXJ0KSB7XG4gICAgICAgIGlmIChzb3VyY2VJbmRleCA+IHRhcmdldEluZGV4KSB7XG4gICAgICAgICAgc291cmNlSW5kZXgtLTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHNvdXJjZUluZGV4IDwgdGFyZ2V0SW5kZXgpIHtcbiAgICAgICAgICB0YXJnZXRJbmRleC0tO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb25zdCBmb3JtRmllbGQgPSBnZXQoc2NoZW1hLCBbLi4uc291cmNlUGF0aCwgc291cmNlSW5kZXhdKTtcblxuICAgICAgLy8gKDEpIEFkZCB0byByb3cgb3IgY3JlYXRlIG5ldyBvbmVcbiAgICAgIHVwZGF0ZVJvdyhmb3JtRmllbGQsIHRhcmdldFJvdyA/IHRhcmdldFJvdy5pZCA6IHRoaXMuX2Zvcm1MYXlvdXRlci5uZXh0Um93SWQoKSk7XG5cbiAgICAgIC8vICgyKSBNb3ZlIGZvcm0gZmllbGRcbiAgICAgIGFycmF5TW92ZU11dGFibGUoZ2V0KHNjaGVtYSwgc291cmNlUGF0aCksIHNvdXJjZUluZGV4LCB0YXJnZXRJbmRleCk7XG5cbiAgICAgIC8vICgzKSBVcGRhdGUgaW50ZXJuYWwgcGF0aHMgb2YgbmV3IGZvcm0gZmllbGQgYW5kIGl0cyBzaWJsaW5ncyAoYW5kIHRoZWlyIGNoaWxkcmVuKVxuICAgICAgZ2V0KHNjaGVtYSwgc291cmNlUGF0aCkuZm9yRWFjaCgoZm9ybUZpZWxkLCBpbmRleCkgPT4gdXBkYXRlUGF0aCh0aGlzLl9mb3JtRmllbGRSZWdpc3RyeSwgZm9ybUZpZWxkLCBpbmRleCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBmb3JtRmllbGQgPSBnZXQoc2NoZW1hLCBbLi4uc291cmNlUGF0aCwgc291cmNlSW5kZXhdKTtcblxuICAgICAgLy8gKDEpIERlcmVnaXN0ZXIgZm9ybSBmaWVsZCAoYW5kIGNoaWxkcmVuKSBmcm9tIHBhdGggcmVnaXN0cnlcbiAgICAgIHRoaXMuX3BhdGhSZWdpc3RyeS5leGVjdXRlUmVjdXJzaXZlbHlPbkZpZWxkcyhmb3JtRmllbGQsICh7XG4gICAgICAgIGZpZWxkXG4gICAgICB9KSA9PiB7XG4gICAgICAgIHRoaXMuX3BhdGhSZWdpc3RyeS51bmNsYWltUGF0aCh0aGlzLl9wYXRoUmVnaXN0cnkuZ2V0VmFsdWVQYXRoKGZpZWxkKSk7XG4gICAgICB9KTtcbiAgICAgIGZvcm1GaWVsZC5fcGFyZW50ID0gdGFyZ2V0Rm9ybUZpZWxkLmlkO1xuXG4gICAgICAvLyAoMikgUmVtb3ZlIGZvcm0gZmllbGRcbiAgICAgIGFycmF5UmVtb3ZlKGdldChzY2hlbWEsIHNvdXJjZVBhdGgpLCBzb3VyY2VJbmRleCk7XG5cbiAgICAgIC8vICgzKSBVcGRhdGUgaW50ZXJuYWwgcGF0aHMgb2Ygc2libGluZ3MgKGFuZCB0aGVpciBjaGlsZHJlbilcbiAgICAgIGdldChzY2hlbWEsIHNvdXJjZVBhdGgpLmZvckVhY2goKGZvcm1GaWVsZCwgaW5kZXgpID0+IHVwZGF0ZVBhdGgodGhpcy5fZm9ybUZpZWxkUmVnaXN0cnksIGZvcm1GaWVsZCwgaW5kZXgpKTtcbiAgICAgIGNvbnN0IHRhcmdldFBhdGggPSBbLi4udGFyZ2V0Rm9ybUZpZWxkLl9wYXRoLCAnY29tcG9uZW50cyddO1xuXG4gICAgICAvLyAoNCkgQWRkIHRvIHJvdyBvciBjcmVhdGUgbmV3IG9uZVxuICAgICAgdXBkYXRlUm93KGZvcm1GaWVsZCwgdGFyZ2V0Um93ID8gdGFyZ2V0Um93LmlkIDogdGhpcy5fZm9ybUxheW91dGVyLm5leHRSb3dJZCgpKTtcblxuICAgICAgLy8gKDUpIEFkZCBmb3JtIGZpZWxkXG4gICAgICBhcnJheUFkZCQxKGdldChzY2hlbWEsIHRhcmdldFBhdGgpLCB0YXJnZXRJbmRleCwgZm9ybUZpZWxkKTtcblxuICAgICAgLy8gKDYpIFVwZGF0ZSBpbnRlcm5hbCBwYXRocyBvZiBzaWJsaW5ncyAoYW5kIHRoZWlyIGNoaWxkcmVuKVxuICAgICAgZ2V0KHNjaGVtYSwgdGFyZ2V0UGF0aCkuZm9yRWFjaCgoZm9ybUZpZWxkLCBpbmRleCkgPT4gdXBkYXRlUGF0aCh0aGlzLl9mb3JtRmllbGRSZWdpc3RyeSwgZm9ybUZpZWxkLCBpbmRleCkpO1xuXG4gICAgICAvLyAoNykgUmVyZWdpc3RlciBmb3JtIGZpZWxkIChhbmQgY2hpbGRyZW4pIGZyb20gcGF0aCByZWdpc3RyeVxuICAgICAgdGhpcy5fcGF0aFJlZ2lzdHJ5LmV4ZWN1dGVSZWN1cnNpdmVseU9uRmllbGRzKGZvcm1GaWVsZCwgKHtcbiAgICAgICAgZmllbGQsXG4gICAgICAgIGlzQ2xvc2VkLFxuICAgICAgICBpc1JlcGVhdGFibGVcbiAgICAgIH0pID0+IHtcbiAgICAgICAgdGhpcy5fcGF0aFJlZ2lzdHJ5LmNsYWltUGF0aCh0aGlzLl9wYXRoUmVnaXN0cnkuZ2V0VmFsdWVQYXRoKGZpZWxkKSwge1xuICAgICAgICAgIGlzQ2xvc2VkLFxuICAgICAgICAgIGlzUmVwZWF0YWJsZSxcbiAgICAgICAgICBjbGFpbWVySWQ6IGZpZWxkLmlkXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gVE9ETzogQ3JlYXRlIHVwZGF0ZXIvY2hhbmdlIHN1cHBvcnQgdGhhdCBhdXRvbWF0aWNhbGx5IHVwZGF0ZXMgcGF0aHMgYW5kIHNjaGVtYSBvbiBjb21tYW5kIGV4ZWN1dGlvblxuICAgIHRoaXMuX2Zvcm1FZGl0b3IuX3NldFN0YXRlKHtcbiAgICAgIHNjaGVtYVxuICAgIH0pO1xuICB9XG59XG5Nb3ZlRm9ybUZpZWxkSGFuZGxlci4kaW5qZWN0ID0gWydmb3JtRWRpdG9yJywgJ2Zvcm1GaWVsZFJlZ2lzdHJ5JywgJ3BhdGhSZWdpc3RyeScsICdmb3JtTGF5b3V0ZXInXTtcblxuY2xhc3MgUmVtb3ZlRm9ybUZpZWxkSGFuZGxlciB7XG4gIC8qKlxuICAgKiBAY29uc3RydWN0b3JcbiAgICogQHBhcmFtIHsgaW1wb3J0KCcuLi8uLi8uLi9Gb3JtRWRpdG9yJykuRm9ybUVkaXRvciB9IGZvcm1FZGl0b3JcbiAgICogQHBhcmFtIHsgaW1wb3J0KCcuLi8uLi8uLi9jb3JlL0Zvcm1GaWVsZFJlZ2lzdHJ5JykuRm9ybUZpZWxkUmVnaXN0cnkgfSBmb3JtRmllbGRSZWdpc3RyeVxuICAgKi9cbiAgY29uc3RydWN0b3IoZm9ybUVkaXRvciwgZm9ybUZpZWxkUmVnaXN0cnkpIHtcbiAgICB0aGlzLl9mb3JtRWRpdG9yID0gZm9ybUVkaXRvcjtcbiAgICB0aGlzLl9mb3JtRmllbGRSZWdpc3RyeSA9IGZvcm1GaWVsZFJlZ2lzdHJ5O1xuICB9XG4gIGV4ZWN1dGUoY29udGV4dCkge1xuICAgIGNvbnN0IHtcbiAgICAgIHNvdXJjZUZvcm1GaWVsZCxcbiAgICAgIHNvdXJjZUluZGV4XG4gICAgfSA9IGNvbnRleHQ7XG4gICAgbGV0IHtcbiAgICAgIHNjaGVtYVxuICAgIH0gPSB0aGlzLl9mb3JtRWRpdG9yLl9nZXRTdGF0ZSgpO1xuICAgIGNvbnN0IHNvdXJjZVBhdGggPSBbLi4uc291cmNlRm9ybUZpZWxkLl9wYXRoLCAnY29tcG9uZW50cyddO1xuICAgIGNvbnN0IGZvcm1GaWVsZCA9IGNvbnRleHQuZm9ybUZpZWxkID0gZ2V0KHNjaGVtYSwgWy4uLnNvdXJjZVBhdGgsIHNvdXJjZUluZGV4XSk7XG5cbiAgICAvLyAoMSkgUmVtb3ZlIGZvcm0gZmllbGRcbiAgICBhcnJheVJlbW92ZShnZXQoc2NoZW1hLCBzb3VyY2VQYXRoKSwgc291cmNlSW5kZXgpO1xuXG4gICAgLy8gKDIpIFVwZGF0ZSBpbnRlcm5hbCBwYXRocyBvZiBpdHMgc2libGluZ3MgKGFuZCB0aGVpciBjaGlsZHJlbilcbiAgICBnZXQoc2NoZW1hLCBzb3VyY2VQYXRoKS5mb3JFYWNoKChmb3JtRmllbGQsIGluZGV4KSA9PiB1cGRhdGVQYXRoKHRoaXMuX2Zvcm1GaWVsZFJlZ2lzdHJ5LCBmb3JtRmllbGQsIGluZGV4KSk7XG5cbiAgICAvLyAoMykgUmVtb3ZlIGZvcm0gZmllbGQgYW5kIGNoaWxkcmVuIGZyb20gZm9ybSBmaWVsZCByZWdpc3RyeVxuICAgIHJ1blJlY3Vyc2l2ZWx5KGZvcm1GaWVsZCwgZm9ybUZpZWxkID0+IHRoaXMuX2Zvcm1GaWVsZFJlZ2lzdHJ5LnJlbW92ZShmb3JtRmllbGQpKTtcblxuICAgIC8vIFRPRE86IENyZWF0ZSB1cGRhdGVyL2NoYW5nZSBzdXBwb3J0IHRoYXQgYXV0b21hdGljYWxseSB1cGRhdGVzIHBhdGhzIGFuZCBzY2hlbWEgb24gY29tbWFuZCBleGVjdXRpb25cbiAgICB0aGlzLl9mb3JtRWRpdG9yLl9zZXRTdGF0ZSh7XG4gICAgICBzY2hlbWFcbiAgICB9KTtcbiAgfVxuICByZXZlcnQoY29udGV4dCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGZvcm1GaWVsZCxcbiAgICAgIHNvdXJjZUZvcm1GaWVsZCxcbiAgICAgIHNvdXJjZUluZGV4XG4gICAgfSA9IGNvbnRleHQ7XG4gICAgbGV0IHtcbiAgICAgIHNjaGVtYVxuICAgIH0gPSB0aGlzLl9mb3JtRWRpdG9yLl9nZXRTdGF0ZSgpO1xuICAgIGNvbnN0IHNvdXJjZVBhdGggPSBbLi4uc291cmNlRm9ybUZpZWxkLl9wYXRoLCAnY29tcG9uZW50cyddO1xuXG4gICAgLy8gKDEpIEFkZCBmb3JtIGZpZWxkXG4gICAgYXJyYXlBZGQkMShnZXQoc2NoZW1hLCBzb3VyY2VQYXRoKSwgc291cmNlSW5kZXgsIGZvcm1GaWVsZCk7XG5cbiAgICAvLyAoMikgVXBkYXRlIGludGVybmFsIHBhdGhzIG9mIGl0cyBzaWJsaW5ncyAoYW5kIHRoZWlyIGNoaWxkcmVuKVxuICAgIGdldChzY2hlbWEsIHNvdXJjZVBhdGgpLmZvckVhY2goKGZvcm1GaWVsZCwgaW5kZXgpID0+IHVwZGF0ZVBhdGgodGhpcy5fZm9ybUZpZWxkUmVnaXN0cnksIGZvcm1GaWVsZCwgaW5kZXgpKTtcblxuICAgIC8vICgzKSBBZGQgZm9ybSBmaWVsZCBhbmQgY2hpbGRyZW4gdG8gZm9ybSBmaWVsZCByZWdpc3RyeVxuICAgIHJ1blJlY3Vyc2l2ZWx5KGZvcm1GaWVsZCwgZm9ybUZpZWxkID0+IHRoaXMuX2Zvcm1GaWVsZFJlZ2lzdHJ5LmFkZChmb3JtRmllbGQpKTtcblxuICAgIC8vIFRPRE86IENyZWF0ZSB1cGRhdGVyL2NoYW5nZSBzdXBwb3J0IHRoYXQgYXV0b21hdGljYWxseSB1cGRhdGVzIHBhdGhzIGFuZCBzY2hlbWEgb24gY29tbWFuZCBleGVjdXRpb25cbiAgICB0aGlzLl9mb3JtRWRpdG9yLl9zZXRTdGF0ZSh7XG4gICAgICBzY2hlbWFcbiAgICB9KTtcbiAgfVxufVxuUmVtb3ZlRm9ybUZpZWxkSGFuZGxlci4kaW5qZWN0ID0gWydmb3JtRWRpdG9yJywgJ2Zvcm1GaWVsZFJlZ2lzdHJ5J107XG5cbmNsYXNzIFVwZGF0ZUlkQ2xhaW1IYW5kbGVyIHtcbiAgLyoqXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0geyBpbXBvcnQoJy4uLy4uLy4uL2NvcmUvRm9ybUZpZWxkUmVnaXN0cnknKS5Gb3JtRmllbGRSZWdpc3RyeSB9IGZvcm1GaWVsZFJlZ2lzdHJ5XG4gICAqL1xuICBjb25zdHJ1Y3Rvcihmb3JtRmllbGRSZWdpc3RyeSkge1xuICAgIHRoaXMuX2Zvcm1GaWVsZFJlZ2lzdHJ5ID0gZm9ybUZpZWxkUmVnaXN0cnk7XG4gIH1cbiAgZXhlY3V0ZShjb250ZXh0KSB7XG4gICAgY29uc3Qge1xuICAgICAgY2xhaW1pbmcsXG4gICAgICBmb3JtRmllbGQsXG4gICAgICBpZFxuICAgIH0gPSBjb250ZXh0O1xuICAgIGlmIChjbGFpbWluZykge1xuICAgICAgdGhpcy5fZm9ybUZpZWxkUmVnaXN0cnkuX2lkcy5jbGFpbShpZCwgZm9ybUZpZWxkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fZm9ybUZpZWxkUmVnaXN0cnkuX2lkcy51bmNsYWltKGlkKTtcbiAgICB9XG4gIH1cbiAgcmV2ZXJ0KGNvbnRleHQpIHtcbiAgICBjb25zdCB7XG4gICAgICBjbGFpbWluZyxcbiAgICAgIGZvcm1GaWVsZCxcbiAgICAgIGlkXG4gICAgfSA9IGNvbnRleHQ7XG4gICAgaWYgKGNsYWltaW5nKSB7XG4gICAgICB0aGlzLl9mb3JtRmllbGRSZWdpc3RyeS5faWRzLnVuY2xhaW0oaWQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9mb3JtRmllbGRSZWdpc3RyeS5faWRzLmNsYWltKGlkLCBmb3JtRmllbGQpO1xuICAgIH1cbiAgfVxufVxuVXBkYXRlSWRDbGFpbUhhbmRsZXIuJGluamVjdCA9IFsnZm9ybUZpZWxkUmVnaXN0cnknXTtcblxuY2xhc3MgVXBkYXRlS2V5Q2xhaW1IYW5kbGVyIHtcbiAgLyoqXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0geyBpbXBvcnQoJ0BicG1uLWlvL2Zvcm0tanMtdmlld2VyJykuUGF0aFJlZ2lzdHJ5IH0gcGF0aFJlZ2lzdHJ5XG4gICAqL1xuICBjb25zdHJ1Y3RvcihwYXRoUmVnaXN0cnkpIHtcbiAgICB0aGlzLl9wYXRoUmVnaXN0cnkgPSBwYXRoUmVnaXN0cnk7XG4gIH1cbiAgZXhlY3V0ZShjb250ZXh0KSB7XG4gICAgY29uc3Qge1xuICAgICAgY2xhaW1pbmcsXG4gICAgICBmb3JtRmllbGQsXG4gICAgICBrZXlcbiAgICB9ID0gY29udGV4dDtcbiAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgcmVwbGFjZW1lbnRzOiB7XG4gICAgICAgIFtmb3JtRmllbGQuaWRdOiBrZXlcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHZhbHVlUGF0aCA9IHRoaXMuX3BhdGhSZWdpc3RyeS5nZXRWYWx1ZVBhdGgoZm9ybUZpZWxkLCBvcHRpb25zKTtcbiAgICBpZiAoY2xhaW1pbmcpIHtcbiAgICAgIHRoaXMuX3BhdGhSZWdpc3RyeS5jbGFpbVBhdGgodmFsdWVQYXRoLCB7XG4gICAgICAgIGlzQ2xvc2VkOiB0cnVlLFxuICAgICAgICBjbGFpbWVySWQ6IGZvcm1GaWVsZC5pZFxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3BhdGhSZWdpc3RyeS51bmNsYWltUGF0aCh2YWx1ZVBhdGgpO1xuICAgIH1cblxuICAgIC8vIGNhY2hlIHBhdGggZm9yIHJldmVydFxuICAgIGNvbnRleHQudmFsdWVQYXRoID0gdmFsdWVQYXRoO1xuICB9XG4gIHJldmVydChjb250ZXh0KSB7XG4gICAgY29uc3Qge1xuICAgICAgY2xhaW1pbmcsXG4gICAgICBmb3JtRmllbGQsXG4gICAgICB2YWx1ZVBhdGhcbiAgICB9ID0gY29udGV4dDtcbiAgICBpZiAoY2xhaW1pbmcpIHtcbiAgICAgIHRoaXMuX3BhdGhSZWdpc3RyeS51bmNsYWltUGF0aCh2YWx1ZVBhdGgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9wYXRoUmVnaXN0cnkuY2xhaW1QYXRoKHZhbHVlUGF0aCwge1xuICAgICAgICBpc0Nsb3NlZDogdHJ1ZSxcbiAgICAgICAgY2xhaW1lcklkOiBmb3JtRmllbGQuaWRcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufVxuVXBkYXRlS2V5Q2xhaW1IYW5kbGVyLiRpbmplY3QgPSBbJ3BhdGhSZWdpc3RyeSddO1xuXG5jbGFzcyBVcGRhdGVQYXRoQ2xhaW1IYW5kbGVyIHtcbiAgLyoqXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0geyBpbXBvcnQoJ0BicG1uLWlvL2Zvcm0tanMtdmlld2VyJykuUGF0aFJlZ2lzdHJ5IH0gcGF0aFJlZ2lzdHJ5XG4gICAqL1xuICBjb25zdHJ1Y3RvcihwYXRoUmVnaXN0cnkpIHtcbiAgICB0aGlzLl9wYXRoUmVnaXN0cnkgPSBwYXRoUmVnaXN0cnk7XG4gIH1cbiAgZXhlY3V0ZShjb250ZXh0KSB7XG4gICAgY29uc3Qge1xuICAgICAgY2xhaW1pbmcsXG4gICAgICBmb3JtRmllbGQsXG4gICAgICBwYXRoXG4gICAgfSA9IGNvbnRleHQ7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgIHJlcGxhY2VtZW50czoge1xuICAgICAgICBbZm9ybUZpZWxkLmlkXTogcGF0aFxuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgdmFsdWVQYXRocyA9IFtdO1xuICAgIGlmIChjbGFpbWluZykge1xuICAgICAgdGhpcy5fcGF0aFJlZ2lzdHJ5LmV4ZWN1dGVSZWN1cnNpdmVseU9uRmllbGRzKGZvcm1GaWVsZCwgKHtcbiAgICAgICAgZmllbGQsXG4gICAgICAgIGlzQ2xvc2VkLFxuICAgICAgICBpc1JlcGVhdGFibGVcbiAgICAgIH0pID0+IHtcbiAgICAgICAgY29uc3QgdmFsdWVQYXRoID0gdGhpcy5fcGF0aFJlZ2lzdHJ5LmdldFZhbHVlUGF0aChmaWVsZCwgb3B0aW9ucyk7XG4gICAgICAgIHZhbHVlUGF0aHMucHVzaCh7XG4gICAgICAgICAgdmFsdWVQYXRoLFxuICAgICAgICAgIGlzQ2xvc2VkLFxuICAgICAgICAgIGlzUmVwZWF0YWJsZSxcbiAgICAgICAgICBjbGFpbWVySWQ6IGZpZWxkLmlkXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9wYXRoUmVnaXN0cnkuY2xhaW1QYXRoKHZhbHVlUGF0aCwge1xuICAgICAgICAgIGlzQ2xvc2VkLFxuICAgICAgICAgIGlzUmVwZWF0YWJsZSxcbiAgICAgICAgICBjbGFpbWVySWQ6IGZpZWxkLmlkXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3BhdGhSZWdpc3RyeS5leGVjdXRlUmVjdXJzaXZlbHlPbkZpZWxkcyhmb3JtRmllbGQsICh7XG4gICAgICAgIGZpZWxkLFxuICAgICAgICBpc0Nsb3NlZCxcbiAgICAgICAgaXNSZXBlYXRhYmxlXG4gICAgICB9KSA9PiB7XG4gICAgICAgIGNvbnN0IHZhbHVlUGF0aCA9IHRoaXMuX3BhdGhSZWdpc3RyeS5nZXRWYWx1ZVBhdGgoZmllbGQsIG9wdGlvbnMpO1xuICAgICAgICB2YWx1ZVBhdGhzLnB1c2goe1xuICAgICAgICAgIHZhbHVlUGF0aCxcbiAgICAgICAgICBpc0Nsb3NlZCxcbiAgICAgICAgICBpc1JlcGVhdGFibGUsXG4gICAgICAgICAgY2xhaW1lcklkOiBmaWVsZC5pZFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fcGF0aFJlZ2lzdHJ5LnVuY2xhaW1QYXRoKHZhbHVlUGF0aCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBjYWNoZSBwYXRoIGluZm8gZm9yIHJldmVydFxuICAgIGNvbnRleHQudmFsdWVQYXRocyA9IHZhbHVlUGF0aHM7XG4gIH1cbiAgcmV2ZXJ0KGNvbnRleHQpIHtcbiAgICBjb25zdCB7XG4gICAgICBjbGFpbWluZyxcbiAgICAgIHZhbHVlUGF0aHNcbiAgICB9ID0gY29udGV4dDtcbiAgICBpZiAoY2xhaW1pbmcpIHtcbiAgICAgIHZhbHVlUGF0aHMuZm9yRWFjaCgoe1xuICAgICAgICB2YWx1ZVBhdGhcbiAgICAgIH0pID0+IHtcbiAgICAgICAgdGhpcy5fcGF0aFJlZ2lzdHJ5LnVuY2xhaW1QYXRoKHZhbHVlUGF0aCk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFsdWVQYXRocy5mb3JFYWNoKCh7XG4gICAgICAgIHZhbHVlUGF0aCxcbiAgICAgICAgaXNDbG9zZWQsXG4gICAgICAgIGlzUmVwZWF0YWJsZSxcbiAgICAgICAgY2xhaW1lcklkXG4gICAgICB9KSA9PiB7XG4gICAgICAgIHRoaXMuX3BhdGhSZWdpc3RyeS5jbGFpbVBhdGgodmFsdWVQYXRoLCB7XG4gICAgICAgICAgaXNDbG9zZWQsXG4gICAgICAgICAgaXNSZXBlYXRhYmxlLFxuICAgICAgICAgIGNsYWltZXJJZFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufVxuVXBkYXRlUGF0aENsYWltSGFuZGxlci4kaW5qZWN0ID0gWydwYXRoUmVnaXN0cnknXTtcblxuY2xhc3MgTW9kZWxpbmcge1xuICBjb25zdHJ1Y3Rvcihjb21tYW5kU3RhY2ssIGV2ZW50QnVzLCBmb3JtRWRpdG9yLCBmb3JtRmllbGRSZWdpc3RyeSwgZmllbGRGYWN0b3J5KSB7XG4gICAgdGhpcy5fY29tbWFuZFN0YWNrID0gY29tbWFuZFN0YWNrO1xuICAgIHRoaXMuX2Zvcm1FZGl0b3IgPSBmb3JtRWRpdG9yO1xuICAgIHRoaXMuX2Zvcm1GaWVsZFJlZ2lzdHJ5ID0gZm9ybUZpZWxkUmVnaXN0cnk7XG4gICAgdGhpcy5fZmllbGRGYWN0b3J5ID0gZmllbGRGYWN0b3J5O1xuICAgIGV2ZW50QnVzLm9uKCdmb3JtLmluaXQnLCAoKSA9PiB7XG4gICAgICB0aGlzLnJlZ2lzdGVySGFuZGxlcnMoKTtcbiAgICB9KTtcbiAgfVxuICByZWdpc3RlckhhbmRsZXJzKCkge1xuICAgIE9iamVjdC5lbnRyaWVzKHRoaXMuZ2V0SGFuZGxlcnMoKSkuZm9yRWFjaCgoW2lkLCBoYW5kbGVyXSkgPT4ge1xuICAgICAgdGhpcy5fY29tbWFuZFN0YWNrLnJlZ2lzdGVySGFuZGxlcihpZCwgaGFuZGxlcik7XG4gICAgfSk7XG4gIH1cbiAgZ2V0SGFuZGxlcnMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdmb3JtRmllbGQuYWRkJzogQWRkRm9ybUZpZWxkSGFuZGxlcixcbiAgICAgICdmb3JtRmllbGQuZWRpdCc6IEVkaXRGb3JtRmllbGRIYW5kbGVyLFxuICAgICAgJ2Zvcm1GaWVsZC5tb3ZlJzogTW92ZUZvcm1GaWVsZEhhbmRsZXIsXG4gICAgICAnZm9ybUZpZWxkLnJlbW92ZSc6IFJlbW92ZUZvcm1GaWVsZEhhbmRsZXIsXG4gICAgICAnaWQudXBkYXRlQ2xhaW0nOiBVcGRhdGVJZENsYWltSGFuZGxlcixcbiAgICAgICdrZXkudXBkYXRlQ2xhaW0nOiBVcGRhdGVLZXlDbGFpbUhhbmRsZXIsXG4gICAgICAncGF0aC51cGRhdGVDbGFpbSc6IFVwZGF0ZVBhdGhDbGFpbUhhbmRsZXJcbiAgICB9O1xuICB9XG4gIGFkZEZvcm1GaWVsZChhdHRycywgdGFyZ2V0Rm9ybUZpZWxkLCB0YXJnZXRJbmRleCkge1xuICAgIGNvbnN0IGZvcm1GaWVsZCA9IHRoaXMuX2ZpZWxkRmFjdG9yeS5jcmVhdGUoYXR0cnMpO1xuICAgIGNvbnN0IGNvbnRleHQgPSB7XG4gICAgICBmb3JtRmllbGQsXG4gICAgICB0YXJnZXRGb3JtRmllbGQsXG4gICAgICB0YXJnZXRJbmRleFxuICAgIH07XG4gICAgdGhpcy5fY29tbWFuZFN0YWNrLmV4ZWN1dGUoJ2Zvcm1GaWVsZC5hZGQnLCBjb250ZXh0KTtcbiAgICByZXR1cm4gZm9ybUZpZWxkO1xuICB9XG4gIGVkaXRGb3JtRmllbGQoZm9ybUZpZWxkLCBwcm9wZXJ0aWVzLCB2YWx1ZSkge1xuICAgIGlmICghaXNPYmplY3QocHJvcGVydGllcykpIHtcbiAgICAgIHByb3BlcnRpZXMgPSB7XG4gICAgICAgIFtwcm9wZXJ0aWVzXTogdmFsdWVcbiAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IGNvbnRleHQgPSB7XG4gICAgICBmb3JtRmllbGQsXG4gICAgICBwcm9wZXJ0aWVzXG4gICAgfTtcbiAgICB0aGlzLl9jb21tYW5kU3RhY2suZXhlY3V0ZSgnZm9ybUZpZWxkLmVkaXQnLCBjb250ZXh0KTtcbiAgfVxuICBtb3ZlRm9ybUZpZWxkKGZvcm1GaWVsZCwgc291cmNlRm9ybUZpZWxkLCB0YXJnZXRGb3JtRmllbGQsIHNvdXJjZUluZGV4LCB0YXJnZXRJbmRleCwgc291cmNlUm93LCB0YXJnZXRSb3cpIHtcbiAgICBjb25zdCBjb250ZXh0ID0ge1xuICAgICAgZm9ybUZpZWxkLFxuICAgICAgc291cmNlRm9ybUZpZWxkLFxuICAgICAgdGFyZ2V0Rm9ybUZpZWxkLFxuICAgICAgc291cmNlSW5kZXgsXG4gICAgICB0YXJnZXRJbmRleCxcbiAgICAgIHNvdXJjZVJvdyxcbiAgICAgIHRhcmdldFJvd1xuICAgIH07XG4gICAgdGhpcy5fY29tbWFuZFN0YWNrLmV4ZWN1dGUoJ2Zvcm1GaWVsZC5tb3ZlJywgY29udGV4dCk7XG4gIH1cbiAgcmVtb3ZlRm9ybUZpZWxkKGZvcm1GaWVsZCwgc291cmNlRm9ybUZpZWxkLCBzb3VyY2VJbmRleCkge1xuICAgIGNvbnN0IGNvbnRleHQgPSB7XG4gICAgICBmb3JtRmllbGQsXG4gICAgICBzb3VyY2VGb3JtRmllbGQsXG4gICAgICBzb3VyY2VJbmRleFxuICAgIH07XG4gICAgdGhpcy5fY29tbWFuZFN0YWNrLmV4ZWN1dGUoJ2Zvcm1GaWVsZC5yZW1vdmUnLCBjb250ZXh0KTtcbiAgfVxuICBjbGFpbUlkKGZvcm1GaWVsZCwgaWQpIHtcbiAgICBjb25zdCBjb250ZXh0ID0ge1xuICAgICAgZm9ybUZpZWxkLFxuICAgICAgaWQsXG4gICAgICBjbGFpbWluZzogdHJ1ZVxuICAgIH07XG4gICAgdGhpcy5fY29tbWFuZFN0YWNrLmV4ZWN1dGUoJ2lkLnVwZGF0ZUNsYWltJywgY29udGV4dCk7XG4gIH1cbiAgdW5jbGFpbUlkKGZvcm1GaWVsZCwgaWQpIHtcbiAgICBjb25zdCBjb250ZXh0ID0ge1xuICAgICAgZm9ybUZpZWxkLFxuICAgICAgaWQsXG4gICAgICBjbGFpbWluZzogZmFsc2VcbiAgICB9O1xuICAgIHRoaXMuX2NvbW1hbmRTdGFjay5leGVjdXRlKCdpZC51cGRhdGVDbGFpbScsIGNvbnRleHQpO1xuICB9XG4gIGNsYWltS2V5KGZvcm1GaWVsZCwga2V5KSB7XG4gICAgY29uc3QgY29udGV4dCA9IHtcbiAgICAgIGZvcm1GaWVsZCxcbiAgICAgIGtleSxcbiAgICAgIGNsYWltaW5nOiB0cnVlXG4gICAgfTtcbiAgICB0aGlzLl9jb21tYW5kU3RhY2suZXhlY3V0ZSgna2V5LnVwZGF0ZUNsYWltJywgY29udGV4dCk7XG4gIH1cbiAgdW5jbGFpbUtleShmb3JtRmllbGQsIGtleSkge1xuICAgIGNvbnN0IGNvbnRleHQgPSB7XG4gICAgICBmb3JtRmllbGQsXG4gICAgICBrZXksXG4gICAgICBjbGFpbWluZzogZmFsc2VcbiAgICB9O1xuICAgIHRoaXMuX2NvbW1hbmRTdGFjay5leGVjdXRlKCdrZXkudXBkYXRlQ2xhaW0nLCBjb250ZXh0KTtcbiAgfVxuICBjbGFpbVBhdGgoZm9ybUZpZWxkLCBwYXRoKSB7XG4gICAgY29uc3QgY29udGV4dCA9IHtcbiAgICAgIGZvcm1GaWVsZCxcbiAgICAgIHBhdGgsXG4gICAgICBjbGFpbWluZzogdHJ1ZVxuICAgIH07XG4gICAgdGhpcy5fY29tbWFuZFN0YWNrLmV4ZWN1dGUoJ3BhdGgudXBkYXRlQ2xhaW0nLCBjb250ZXh0KTtcbiAgfVxuICB1bmNsYWltUGF0aChmb3JtRmllbGQsIHBhdGgpIHtcbiAgICBjb25zdCBjb250ZXh0ID0ge1xuICAgICAgZm9ybUZpZWxkLFxuICAgICAgcGF0aCxcbiAgICAgIGNsYWltaW5nOiBmYWxzZVxuICAgIH07XG4gICAgdGhpcy5fY29tbWFuZFN0YWNrLmV4ZWN1dGUoJ3BhdGgudXBkYXRlQ2xhaW0nLCBjb250ZXh0KTtcbiAgfVxufVxuTW9kZWxpbmcuJGluamVjdCA9IFsnY29tbWFuZFN0YWNrJywgJ2V2ZW50QnVzJywgJ2Zvcm1FZGl0b3InLCAnZm9ybUZpZWxkUmVnaXN0cnknLCAnZmllbGRGYWN0b3J5J107XG5cbmNvbnN0IE1vZGVsaW5nTW9kdWxlID0ge1xuICBfX2RlcGVuZHNfXzogW0JlaGF2aW9yTW9kdWxlLCBjb21tYW5kTW9kdWxlXSxcbiAgX19pbml0X186IFsnZm9ybUxheW91dFVwZGF0ZXInLCAnbW9kZWxpbmcnXSxcbiAgZm9ybUxheW91dFVwZGF0ZXI6IFsndHlwZScsIEZvcm1MYXlvdXRVcGRhdGVyXSxcbiAgbW9kZWxpbmc6IFsndHlwZScsIE1vZGVsaW5nXVxufTtcblxuY2xhc3MgU2VsZWN0aW9uIHtcbiAgY29uc3RydWN0b3IoZXZlbnRCdXMpIHtcbiAgICB0aGlzLl9ldmVudEJ1cyA9IGV2ZW50QnVzO1xuICAgIHRoaXMuX3NlbGVjdGlvbiA9IG51bGw7XG4gIH1cbiAgZ2V0KCkge1xuICAgIHJldHVybiB0aGlzLl9zZWxlY3Rpb247XG4gIH1cbiAgc2V0KHNlbGVjdGlvbikge1xuICAgIGlmICh0aGlzLl9zZWxlY3Rpb24gPT09IHNlbGVjdGlvbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9zZWxlY3Rpb24gPSBzZWxlY3Rpb247XG4gICAgdGhpcy5fZXZlbnRCdXMuZmlyZSgnc2VsZWN0aW9uLmNoYW5nZWQnLCB7XG4gICAgICBzZWxlY3Rpb246IHRoaXMuX3NlbGVjdGlvblxuICAgIH0pO1xuICB9XG4gIHRvZ2dsZShzZWxlY3Rpb24pIHtcbiAgICBjb25zdCBuZXdTZWxlY3Rpb24gPSB0aGlzLl9zZWxlY3Rpb24gPT09IHNlbGVjdGlvbiA/IG51bGwgOiBzZWxlY3Rpb247XG4gICAgdGhpcy5zZXQobmV3U2VsZWN0aW9uKTtcbiAgfVxuICBjbGVhcigpIHtcbiAgICB0aGlzLnNldChudWxsKTtcbiAgfVxuICBpc1NlbGVjdGVkKGZvcm1GaWVsZCkge1xuICAgIHJldHVybiB0aGlzLl9zZWxlY3Rpb24gPT09IGZvcm1GaWVsZDtcbiAgfVxufVxuU2VsZWN0aW9uLiRpbmplY3QgPSBbJ2V2ZW50QnVzJ107XG5cbmNsYXNzIFNlbGVjdGlvbkJlaGF2aW9yIHtcbiAgY29uc3RydWN0b3IoZXZlbnRCdXMsIHNlbGVjdGlvbikge1xuICAgIGV2ZW50QnVzLm9uKFsnY29tbWFuZFN0YWNrLmZvcm1GaWVsZC5hZGQucG9zdEV4ZWN1dGVkJywgJ2NvbW1hbmRTdGFjay5mb3JtRmllbGQubW92ZS5wb3N0RXhlY3V0ZWQnXSwgKHtcbiAgICAgIGNvbnRleHRcbiAgICB9KSA9PiB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIGZvcm1GaWVsZFxuICAgICAgfSA9IGNvbnRleHQ7XG4gICAgICBzZWxlY3Rpb24uc2V0KGZvcm1GaWVsZCk7XG4gICAgfSk7XG4gICAgZXZlbnRCdXMub24oJ2NvbW1hbmRTdGFjay5mb3JtRmllbGQucmVtb3ZlLnBvc3RFeGVjdXRlZCcsICh7XG4gICAgICBjb250ZXh0XG4gICAgfSkgPT4ge1xuICAgICAgY29uc3Qge1xuICAgICAgICBzb3VyY2VGb3JtRmllbGQsXG4gICAgICAgIHNvdXJjZUluZGV4XG4gICAgICB9ID0gY29udGV4dDtcbiAgICAgIGNvbnN0IGZvcm1GaWVsZCA9IHNvdXJjZUZvcm1GaWVsZC5jb21wb25lbnRzW3NvdXJjZUluZGV4XSB8fCBzb3VyY2VGb3JtRmllbGQuY29tcG9uZW50c1tzb3VyY2VJbmRleCAtIDFdO1xuICAgICAgaWYgKGZvcm1GaWVsZCkge1xuICAgICAgICBzZWxlY3Rpb24uc2V0KGZvcm1GaWVsZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZWxlY3Rpb24uY2xlYXIoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBldmVudEJ1cy5vbignZm9ybUZpZWxkLnJlbW92ZScsICh7XG4gICAgICBmb3JtRmllbGRcbiAgICB9KSA9PiB7XG4gICAgICBpZiAoc2VsZWN0aW9uLmlzU2VsZWN0ZWQoZm9ybUZpZWxkKSkge1xuICAgICAgICBzZWxlY3Rpb24uY2xlYXIoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuU2VsZWN0aW9uQmVoYXZpb3IuJGluamVjdCA9IFsnZXZlbnRCdXMnLCAnc2VsZWN0aW9uJ107XG5cbmNvbnN0IFNlbGVjdGlvbk1vZHVsZSA9IHtcbiAgX19pbml0X186IFsnc2VsZWN0aW9uJywgJ3NlbGVjdGlvbkJlaGF2aW9yJ10sXG4gIHNlbGVjdGlvbjogWyd0eXBlJywgU2VsZWN0aW9uXSxcbiAgc2VsZWN0aW9uQmVoYXZpb3I6IFsndHlwZScsIFNlbGVjdGlvbkJlaGF2aW9yXVxufTtcblxuLyoqXG4gKiBCYXNlIGNsYXNzIGZvciBzZWN0aW9uYWJsZSBVSSBtb2R1bGVzLlxuICpcbiAqIEBwcm9wZXJ0eSB7RXZlbnRCdXN9IF9ldmVudEJ1cyAtIEV2ZW50QnVzIGluc3RhbmNlIHVzZWQgZm9yIGV2ZW50IGhhbmRsaW5nLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IG1hbmFnZXJUeXBlIC0gVHlwZSBvZiB0aGUgcmVuZGVyIG1hbmFnZXIuIFVzZWQgdG8gZm9ybSBldmVudCBuYW1lcy5cbiAqXG4gKiBAY2xhc3MgU2VjdGlvbk1vZHVsZUJhc2VcbiAqL1xuY2xhc3MgU2VjdGlvbk1vZHVsZUJhc2Uge1xuICAvKipcbiAgICogQ3JlYXRlIGEgU2VjdGlvbk1vZHVsZUJhc2UgaW5zdGFuY2UuXG4gICAqXG4gICAqIEBwYXJhbSB7YW55fSBldmVudEJ1cyAtIFRoZSBFdmVudEJ1cyBpbnN0YW5jZSB1c2VkIGZvciBldmVudCBoYW5kbGluZy5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHNlY3Rpb25LZXkgLSBUaGUgdHlwZSBvZiByZW5kZXIgbWFuYWdlci4gVXNlZCB0byBmb3JtIGV2ZW50IG5hbWVzLlxuICAgKlxuICAgKiBAY29uc3RydWN0b3JcbiAgICovXG4gIGNvbnN0cnVjdG9yKGV2ZW50QnVzLCBzZWN0aW9uS2V5KSB7XG4gICAgdGhpcy5fZXZlbnRCdXMgPSBldmVudEJ1cztcbiAgICB0aGlzLl9zZWN0aW9uS2V5ID0gc2VjdGlvbktleTtcbiAgICB0aGlzLl9ldmVudEJ1cy5vbihgJHt0aGlzLl9zZWN0aW9uS2V5fS5zZWN0aW9uLnJlbmRlcmVkYCwgKCkgPT4ge1xuICAgICAgdGhpcy5pc1NlY3Rpb25SZW5kZXJlZCA9IHRydWU7XG4gICAgfSk7XG4gICAgdGhpcy5fZXZlbnRCdXMub24oYCR7dGhpcy5fc2VjdGlvbktleX0uc2VjdGlvbi5kZXN0cm95ZWRgLCAoKSA9PiB7XG4gICAgICB0aGlzLmlzU2VjdGlvblJlbmRlcmVkID0gZmFsc2U7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQXR0YWNoIHRoZSBtYW5hZ2VkIHNlY3Rpb24gdG8gYSBwYXJlbnQgbm9kZS5cbiAgICpcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gY29udGFpbmVyIC0gVGhlIHBhcmVudCBub2RlIHRvIGF0dGFjaCB0by5cbiAgICovXG4gIGF0dGFjaFRvKGNvbnRhaW5lcikge1xuICAgIHRoaXMuX29uY2VTZWN0aW9uUmVuZGVyZWQoKCkgPT4gdGhpcy5fZXZlbnRCdXMuZmlyZShgJHt0aGlzLl9zZWN0aW9uS2V5fS5hdHRhY2hgLCB7XG4gICAgICBjb250YWluZXJcbiAgICB9KSk7XG4gIH1cblxuICAvKipcbiAgICogRGV0YWNoIHRoZSBtYW5hZ2VkIHNlY3Rpb24gZnJvbSBpdHMgcGFyZW50IG5vZGUuXG4gICAqL1xuICBkZXRhY2goKSB7XG4gICAgdGhpcy5fb25jZVNlY3Rpb25SZW5kZXJlZCgoKSA9PiB0aGlzLl9ldmVudEJ1cy5maXJlKGAke3RoaXMuX3NlY3Rpb25LZXl9LmRldGFjaGApKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXNldCB0aGUgbWFuYWdlZCBzZWN0aW9uIHRvIGl0cyBpbml0aWFsIHN0YXRlLlxuICAgKi9cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5fb25jZVNlY3Rpb25SZW5kZXJlZCgoKSA9PiB0aGlzLl9ldmVudEJ1cy5maXJlKGAke3RoaXMuX3NlY3Rpb25LZXl9LnJlc2V0YCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIENpcmN1bXZlbnRzIHRpbWluZyBpc3N1ZXMuXG4gICAqL1xuICBfb25jZVNlY3Rpb25SZW5kZXJlZChjYWxsYmFjaykge1xuICAgIGlmICh0aGlzLmlzU2VjdGlvblJlbmRlcmVkKSB7XG4gICAgICBjYWxsYmFjaygpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9ldmVudEJ1cy5vbmNlKGAke3RoaXMuX3NlY3Rpb25LZXl9LnNlY3Rpb24ucmVuZGVyZWRgLCBjYWxsYmFjayk7XG4gICAgfVxuICB9XG59XG5cbmNsYXNzIFBhbGV0dGVSZW5kZXJlciBleHRlbmRzIFNlY3Rpb25Nb2R1bGVCYXNlIHtcbiAgY29uc3RydWN0b3IoZXZlbnRCdXMpIHtcbiAgICBzdXBlcihldmVudEJ1cywgJ3BhbGV0dGUnKTtcbiAgfVxufVxuUGFsZXR0ZVJlbmRlcmVyLiRpbmplY3QgPSBbJ2V2ZW50QnVzJ107XG5cbmNvbnN0IFBhbGV0dGVNb2R1bGUgPSB7XG4gIF9faW5pdF9fOiBbJ3BhbGV0dGUnXSxcbiAgcGFsZXR0ZTogWyd0eXBlJywgUGFsZXR0ZVJlbmRlcmVyXVxufTtcblxudmFyIEFycm93SWNvbiA9IGZ1bmN0aW9uIEFycm93SWNvbihwcm9wcykge1xuICByZXR1cm4ganN4KFwic3ZnXCIsIHtcbiAgICAuLi5wcm9wcyxcbiAgICBjaGlsZHJlbjoganN4KFwicGF0aFwiLCB7XG4gICAgICBmaWxsUnVsZTogXCJldmVub2RkXCIsXG4gICAgICBkOiBcIm0xMS42NTcgOC00Ljk1IDQuOTVhMSAxIDAgMCAxLTEuNDE0LTEuNDE0TDguODI4IDggNS4yOTMgNC40NjRBMSAxIDAgMSAxIDYuNzA3IDMuMDVMMTEuNjU3IDhaXCJcbiAgICB9KVxuICB9KTtcbn07XG5BcnJvd0ljb24uZGVmYXVsdFByb3BzID0ge1xuICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICB3aWR0aDogXCIxNlwiLFxuICBoZWlnaHQ6IFwiMTZcIlxufTtcbnZhciBDbG9zZUljb24gPSBmdW5jdGlvbiBDbG9zZUljb24ocHJvcHMpIHtcbiAgcmV0dXJuIGpzeChcInN2Z1wiLCB7XG4gICAgLi4ucHJvcHMsXG4gICAgY2hpbGRyZW46IGpzeChcInBhdGhcIiwge1xuICAgICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgICAgZDogXCJtMTIgNC43LS43LS43TDggNy4zIDQuNyA0bC0uNy43TDcuMyA4IDQgMTEuM2wuNy43TDggOC43bDMuMyAzLjMuNy0uN0w4LjcgOCAxMiA0LjdaXCIsXG4gICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiXG4gICAgfSlcbiAgfSk7XG59O1xuQ2xvc2VJY29uLmRlZmF1bHRQcm9wcyA9IHtcbiAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgd2lkdGg6IFwiMTZcIixcbiAgaGVpZ2h0OiBcIjE2XCJcbn07XG52YXIgQ3JlYXRlSWNvbiA9IGZ1bmN0aW9uIENyZWF0ZUljb24ocHJvcHMpIHtcbiAgcmV0dXJuIGpzeChcInN2Z1wiLCB7XG4gICAgLi4ucHJvcHMsXG4gICAgY2hpbGRyZW46IGpzeChcInBhdGhcIiwge1xuICAgICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgICAgZDogXCJNOSAxM1Y5aDRhMSAxIDAgMCAwIDAtMkg5VjNhMSAxIDAgMSAwLTIgMHY0SDNhMSAxIDAgMSAwIDAgMmg0djRhMSAxIDAgMCAwIDIgMFpcIlxuICAgIH0pXG4gIH0pO1xufTtcbkNyZWF0ZUljb24uZGVmYXVsdFByb3BzID0ge1xuICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICB3aWR0aDogXCIxNlwiLFxuICBoZWlnaHQ6IFwiMTZcIlxufTtcbnZhciBEZWxldGVJY29uID0gZnVuY3Rpb24gRGVsZXRlSWNvbihwcm9wcykge1xuICByZXR1cm4ganN4KFwic3ZnXCIsIHtcbiAgICAuLi5wcm9wcyxcbiAgICBjaGlsZHJlbjoganN4KFwicGF0aFwiLCB7XG4gICAgICBmaWxsUnVsZTogXCJldmVub2RkXCIsXG4gICAgICBkOiBcIk0xMiA2djdjMCAxLjEtLjQgMS41NS0xLjUgMS41NWgtNUM0LjQgMTQuNTUgNCAxNC4xIDQgMTNWNmg4Wm0tMS41IDEuNWgtNXY0LjNjMCAuNjYuNSAxLjIgMS4xMTEgMS4ySDkuMzljLjYxMSAwIDEuMTExLS41NCAxLjExMS0xLjJWNy41Wk0xMyAzaC0ybC0xLTFINkw1IDNIM3YxLjVoMTBWM1pcIlxuICAgIH0pXG4gIH0pO1xufTtcbkRlbGV0ZUljb24uZGVmYXVsdFByb3BzID0ge1xuICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICB3aWR0aDogXCIxNlwiLFxuICBoZWlnaHQ6IFwiMTZcIlxufTtcbnZhciBEcmFnSWNvbiA9IGZ1bmN0aW9uIERyYWdJY29uKHByb3BzKSB7XG4gIHJldHVybiBqc3hzKFwic3ZnXCIsIHtcbiAgICAuLi5wcm9wcyxcbiAgICBjaGlsZHJlbjogW2pzeChcInBhdGhcIiwge1xuICAgICAgZmlsbDogXCIjZmZmXCIsXG4gICAgICBzdHlsZToge1xuICAgICAgICBtaXhCbGVuZE1vZGU6IFwibXVsdGlwbHlcIlxuICAgICAgfSxcbiAgICAgIGQ6IFwiTTAgMGgxNnYxNkgwelwiXG4gICAgfSksIGpzeChcInBhdGhcIiwge1xuICAgICAgZmlsbDogXCIjZmZmXCIsXG4gICAgICBzdHlsZToge1xuICAgICAgICBtaXhCbGVuZE1vZGU6IFwibXVsdGlwbHlcIlxuICAgICAgfSxcbiAgICAgIGQ6IFwiTTAgMGgxNnYxNkgwelwiXG4gICAgfSksIGpzeChcInBhdGhcIiwge1xuICAgICAgZDogXCJNNyAzSDV2MmgyVjN6bTQgMEg5djJoMlYzek03IDdINXYyaDJWN3ptNCAwSDl2MmgyVjd6bS00IDRINXYyaDJ2LTJ6bTQgMEg5djJoMnYtMnpcIixcbiAgICAgIGZpbGw6IFwiIzE2MTYxNlwiXG4gICAgfSldXG4gIH0pO1xufTtcbkRyYWdJY29uLmRlZmF1bHRQcm9wcyA9IHtcbiAgd2lkdGg6IFwiMTZcIixcbiAgaGVpZ2h0OiBcIjE2XCIsXG4gIGZpbGw6IFwibm9uZVwiLFxuICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiXG59O1xudmFyIEV4dGVybmFsTGlua0ljb24gPSBmdW5jdGlvbiBFeHRlcm5hbExpbmtJY29uKHByb3BzKSB7XG4gIHJldHVybiBqc3goXCJzdmdcIiwge1xuICAgIC4uLnByb3BzLFxuICAgIGNoaWxkcmVuOiBqc3goXCJwYXRoXCIsIHtcbiAgICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIixcbiAgICAgIGNsaXBSdWxlOiBcImV2ZW5vZGRcIixcbiAgICAgIGQ6IFwiTTEyLjYzNyAxMi42Mzd2LTQuNzJoMS4zNjJ2NC43MjFjMCAuMzYtLjEzNy42NzYtLjQxMS45NS0uMjc1LjI3NS0uNTkxLjQxMi0uOTUuNDEySDMuMzYyYy0uMzggMC0uNzAzLS4xMzItLjk2Ny0uMzk2QTEuMzE1IDEuMzE1IDAgMCAxIDIgMTIuNjM4VjMuMzYyYzAtLjM4LjEzMi0uNzAzLjM5Ni0uOTY3UzIuOTgyIDIgMy4zNjMgMmg0LjU1M3YxLjM2M0gzLjM2M3Y5LjI3NGg5LjI3NFpNMTQgMkg5LjI4bC0uMDAxIDEuMzYyaDIuNDA4TDUuMDY1IDkuOTg0bC45NS45NSA2LjYyMi02LjYyMnYyLjQwOUgxNFYyWlwiLFxuICAgICAgZmlsbDogXCJjdXJyZW50Y29sb3JcIlxuICAgIH0pXG4gIH0pO1xufTtcbkV4dGVybmFsTGlua0ljb24uZGVmYXVsdFByb3BzID0ge1xuICB3aWR0aDogXCIxNlwiLFxuICBoZWlnaHQ6IFwiMTZcIixcbiAgZmlsbDogXCJub25lXCIsXG4gIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJcbn07XG52YXIgRmVlbEljb24kMSA9IGZ1bmN0aW9uIEZlZWxJY29uKHByb3BzKSB7XG4gIHJldHVybiBqc3goXCJzdmdcIiwge1xuICAgIC4uLnByb3BzLFxuICAgIGNoaWxkcmVuOiBqc3goXCJwYXRoXCIsIHtcbiAgICAgIGQ6IFwiTTMuNjE3IDExLjk5Yy0uMTM3LjY4NC0uMzkyIDEuMTktLjc2NSAxLjUxOC0uMzYyLjMyOC0uODgyLjQ5Mi0xLjU1OC40OTJIMGwuMzA5LTEuNTc5aDEuMjY0bDEuNTE1LTcuNjRoLS45MTJsLjMwOS0xLjU3OWguOTExbC4yMzYtMS4xOTFjLjEzNy0uNjg1LjM4Ny0xLjE5Mi43NS0xLjUyQzQuNzUzLjE2NCA1LjI3NyAwIDUuOTUzIDBoMS4yOTRMNi45NCAxLjU3OUg1LjY3NWwtLjMyMyAxLjYyM2gxLjI2NGwtLjMwOSAxLjU3OUg1LjA0M2wtMS40MjYgNy4yMDhaTTUuNjA1IDExLjAyMWwzLjAyOS00LjE1NUw3LjI4IDMuMjAyaDIuMDczbC43MDYgMi41NDdoLjE3NmwxLjY5MS0yLjU0N0gxNGwtMy4wMTQgNC4wNTEgMS4zMzggMy43NjhIMTAuMjVsLS43MDYtMi42MDZIOS4zN0w3LjY3OCAxMS4wMkg1LjYwNVpcIixcbiAgICAgIGZpbGw6IFwiY3VycmVudGNvbG9yXCJcbiAgICB9KVxuICB9KTtcbn07XG5GZWVsSWNvbiQxLmRlZmF1bHRQcm9wcyA9IHtcbiAgd2lkdGg6IFwiMTRcIixcbiAgaGVpZ2h0OiBcIjE0XCIsXG4gIGZpbGw6IFwibm9uZVwiLFxuICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiXG59O1xudmFyIExhdW5jaEljb24gPSBmdW5jdGlvbiBMYXVuY2hJY29uKHByb3BzKSB7XG4gIHJldHVybiBqc3hzKFwic3ZnXCIsIHtcbiAgICAuLi5wcm9wcyxcbiAgICBjaGlsZHJlbjogW2pzeChcInBhdGhcIiwge1xuICAgICAgZDogXCJNMjYgMjhINmEyLjAwMyAyLjAwMyAwIDAgMS0yLTJWNmEyLjAwMyAyLjAwMyAwIDAgMSAyLTJoMTB2Mkg2djIwaDIwVjE2aDJ2MTBhMi4wMDMgMi4wMDMgMCAwIDEtMiAyWlwiXG4gICAgfSksIGpzeChcInBhdGhcIiwge1xuICAgICAgZDogXCJNMjAgMnYyaDYuNTg2TDE4IDEyLjU4NiAxOS40MTQgMTQgMjggNS40MTRWMTJoMlYySDIwelwiXG4gICAgfSldXG4gIH0pO1xufTtcbkxhdW5jaEljb24uZGVmYXVsdFByb3BzID0ge1xuICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICB2aWV3Qm94OiBcIjAgMCAzMiAzMlwiXG59O1xudmFyIE9wZW5Qb3B1cEljb24gPSBmdW5jdGlvbiBPcGVuUG9wdXBJY29uKHByb3BzKSB7XG4gIHJldHVybiBqc3goXCJzdmdcIiwge1xuICAgIC4uLnByb3BzLFxuICAgIGNoaWxkcmVuOiBqc3goXCJwYXRoXCIsIHtcbiAgICAgIGQ6IFwiTTYgMTV2LTFIMi43TDcgOS43IDYuMyA5IDIgMTMuM1YxMEgxdjV6bTQtMTR2MWgzLjNMOSA2LjNsLjcuN0wxNCAyLjdWNmgxVjF6XCJcbiAgICB9KVxuICB9KTtcbn07XG5PcGVuUG9wdXBJY29uLmRlZmF1bHRQcm9wcyA9IHtcbiAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgdmlld0JveDogXCIwIDAgMTYgMTZcIlxufTtcblxuLyoqXG4gKiBAdHlwZWRlZiB7IHtcbiAqICBnZXRFbGVtZW50TGFiZWw6IChlbGVtZW50OiBvYmplY3QpID0+IHN0cmluZyxcbiAqICBnZXRUeXBlTGFiZWw6IChlbGVtZW50OiBvYmplY3QpID0+IHN0cmluZyxcbiAqICBnZXRFbGVtZW50SWNvbjogKGVsZW1lbnQ6IG9iamVjdCkgPT4gaW1wb3J0KCdwcmVhY3QnKS5Db21wb25lbnQsXG4gKiAgZ2V0RG9jdW1lbnRhdGlvblJlZjogKGVsZW1lbnQ6IG9iamVjdCkgPT4gc3RyaW5nXG4gKiB9IH0gSGVhZGVyUHJvdmlkZXJcbiAqL1xuXG4vKipcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wc1xuICogQHBhcmFtIHtPYmplY3R9IHByb3BzLmVsZW1lbnQsXG4gKiBAcGFyYW0ge0hlYWRlclByb3ZpZGVyfSBwcm9wcy5oZWFkZXJQcm92aWRlclxuICovXG5mdW5jdGlvbiBIZWFkZXIocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGVsZW1lbnQsXG4gICAgaGVhZGVyUHJvdmlkZXJcbiAgfSA9IHByb3BzO1xuICBjb25zdCB7XG4gICAgZ2V0RWxlbWVudEljb24sXG4gICAgZ2V0RG9jdW1lbnRhdGlvblJlZixcbiAgICBnZXRFbGVtZW50TGFiZWwsXG4gICAgZ2V0VHlwZUxhYmVsXG4gIH0gPSBoZWFkZXJQcm92aWRlcjtcbiAgY29uc3QgbGFiZWwgPSBnZXRFbGVtZW50TGFiZWwoZWxlbWVudCk7XG4gIGNvbnN0IHR5cGUgPSBnZXRUeXBlTGFiZWwoZWxlbWVudCk7XG4gIGNvbnN0IGRvY3VtZW50YXRpb25SZWYgPSBnZXREb2N1bWVudGF0aW9uUmVmICYmIGdldERvY3VtZW50YXRpb25SZWYoZWxlbWVudCk7XG4gIGNvbnN0IEVsZW1lbnRJY29uID0gZ2V0RWxlbWVudEljb24oZWxlbWVudCk7XG4gIHJldHVybiBqc3hzKFwiZGl2XCIsIHtcbiAgICBjbGFzczogXCJiaW8tcHJvcGVydGllcy1wYW5lbC1oZWFkZXJcIixcbiAgICBjaGlsZHJlbjogW2pzeChcImRpdlwiLCB7XG4gICAgICBjbGFzczogXCJiaW8tcHJvcGVydGllcy1wYW5lbC1oZWFkZXItaWNvblwiLFxuICAgICAgY2hpbGRyZW46IEVsZW1lbnRJY29uICYmIGpzeChFbGVtZW50SWNvbiwge1xuICAgICAgICB3aWR0aDogXCIzMlwiLFxuICAgICAgICBoZWlnaHQ6IFwiMzJcIixcbiAgICAgICAgdmlld0JveDogXCIwIDAgMzIgMzJcIlxuICAgICAgfSlcbiAgICB9KSwganN4cyhcImRpdlwiLCB7XG4gICAgICBjbGFzczogXCJiaW8tcHJvcGVydGllcy1wYW5lbC1oZWFkZXItbGFiZWxzXCIsXG4gICAgICBjaGlsZHJlbjogW2pzeChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzOiBcImJpby1wcm9wZXJ0aWVzLXBhbmVsLWhlYWRlci10eXBlXCIsXG4gICAgICAgIGNoaWxkcmVuOiB0eXBlXG4gICAgICB9KSwgbGFiZWwgPyBqc3goXCJkaXZcIiwge1xuICAgICAgICBjbGFzczogXCJiaW8tcHJvcGVydGllcy1wYW5lbC1oZWFkZXItbGFiZWxcIixcbiAgICAgICAgY2hpbGRyZW46IGxhYmVsXG4gICAgICB9KSA6IG51bGxdXG4gICAgfSksIGpzeChcImRpdlwiLCB7XG4gICAgICBjbGFzczogXCJiaW8tcHJvcGVydGllcy1wYW5lbC1oZWFkZXItYWN0aW9uc1wiLFxuICAgICAgY2hpbGRyZW46IGRvY3VtZW50YXRpb25SZWYgPyBqc3goXCJhXCIsIHtcbiAgICAgICAgcmVsOiBcIm5vcmVmZXJyZXJcIixcbiAgICAgICAgY2xhc3M6IFwiYmlvLXByb3BlcnRpZXMtcGFuZWwtaGVhZGVyLWxpbmtcIixcbiAgICAgICAgaHJlZjogZG9jdW1lbnRhdGlvblJlZixcbiAgICAgICAgdGl0bGU6IFwiT3BlbiBkb2N1bWVudGF0aW9uXCIsXG4gICAgICAgIHRhcmdldDogXCJfYmxhbmtcIixcbiAgICAgICAgY2hpbGRyZW46IGpzeChFeHRlcm5hbExpbmtJY29uLCB7fSlcbiAgICAgIH0pIDogbnVsbFxuICAgIH0pXVxuICB9KTtcbn1cbmNvbnN0IERlc2NyaXB0aW9uQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQoe1xuICBkZXNjcmlwdGlvbjoge30sXG4gIGdldERlc2NyaXB0aW9uRm9ySWQ6ICgpID0+IHt9XG59KTtcbmNvbnN0IEVycm9yc0NvbnRleHQgPSBjcmVhdGVDb250ZXh0KHtcbiAgZXJyb3JzOiB7fVxufSk7XG5cbi8qKlxuICogQHR5cGVkZWYge0Z1bmN0aW9ufSA8cHJvcGVydGllc1BhbmVsLnNob3dFbnRyeT4gY2FsbGJhY2tcbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIHVzZUV2ZW50KCdwcm9wZXJ0aWVzUGFuZWwuc2hvd0VudHJ5JywgKHsgZm9jdXMgPSBmYWxzZSwgLi4ucmVzdCB9KSA9PiB7XG4gKiAgIC8vIC4uLlxuICogfSk7XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NvbnRleHQuZm9jdXNdXG4gKlxuICogQHJldHVybnMgdm9pZFxuICovXG5cbmNvbnN0IEV2ZW50Q29udGV4dCA9IGNyZWF0ZUNvbnRleHQoe1xuICBldmVudEJ1czogbnVsbFxufSk7XG5cbi8qKlxuICogQHR5cGVkZWYgeyB7XG4gKiAgIHBhcnNlckRpYWxlY3Q/OiBpbXBvcnQoJ0BicG1uLWlvL2ZlZWwtZWRpdG9yJykuUGFyc2VyRGlhbGVjdCxcbiAqICAgYnVpbHRpbnM/OiBpbXBvcnQoJ0BicG1uLWlvL2ZlZWwtZWRpdG9yJykuVmFyaWFibGVbXSxcbiAqICAgZGlhbGVjdD86IGltcG9ydCgnQGJwbW4taW8vZmVlbC1lZGl0b3InKS5EaWFsZWN0XG4gKiB9IH0gRmVlbExhbmd1YWdlQ29udGV4dFR5cGVcbiAqL1xuXG4vKipcbiAqIEB0eXBlIHtpbXBvcnQoJ3ByZWFjdCcpLkNvbnRleHQ8RmVlbExhbmd1YWdlQ29udGV4dFR5cGU+fVxuICovXG5jb25zdCBGZWVsTGFuZ3VhZ2VDb250ZXh0ID0gY3JlYXRlQ29udGV4dCh7fSk7XG5jb25zdCBMYXlvdXRDb250ZXh0ID0gY3JlYXRlQ29udGV4dCh7XG4gIGxheW91dDoge30sXG4gIHNldExheW91dDogKCkgPT4ge30sXG4gIGdldExheW91dEZvcktleTogKCkgPT4ge30sXG4gIHNldExheW91dEZvcktleTogKCkgPT4ge31cbn0pO1xuY29uc3QgVG9vbHRpcENvbnRleHQgPSBjcmVhdGVDb250ZXh0KHtcbiAgdG9vbHRpcDoge30sXG4gIGdldFRvb2x0aXBGb3JJZDogKCkgPT4ge31cbn0pO1xuXG4vKipcbiAqIEFjY2Vzc2VzIHRoZSBnbG9iYWwgVG9vbHRpcENvbnRleHQgYW5kIHJldHVybnMgYSB0b29sdGlwIGZvciBhIGdpdmVuIGlkIGFuZCBlbGVtZW50LlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqc3hcbiAqIGZ1bmN0aW9uIFRleHRGaWVsZChwcm9wcykge1xuICogICBjb25zdCB0b29sdGlwID0gdXNlVG9vbHRpcENvbnRleHQoJ2lucHV0MScsIGVsZW1lbnQpO1xuICogfVxuICogYGBgXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGlkXG4gKiBAcGFyYW0ge29iamVjdH0gZWxlbWVudFxuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIHVzZVRvb2x0aXBDb250ZXh0KGlkLCBlbGVtZW50KSB7XG4gIGNvbnN0IHtcbiAgICBnZXRUb29sdGlwRm9ySWRcbiAgfSA9IHVzZUNvbnRleHQoVG9vbHRpcENvbnRleHQpO1xuICByZXR1cm4gZ2V0VG9vbHRpcEZvcklkKGlkLCBlbGVtZW50KTtcbn1cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBUb29sdGlwUHJvcHNcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBbcGFyZW50XSAtIFBhcmVudCBlbGVtZW50IHJlZiBmb3IgcG9ydGFsIHJlbmRlcmluZ1xuICogQHByb3BlcnR5IHtTdHJpbmd9IFtkaXJlY3Rpb249J3JpZ2h0J10gLSBUb29sdGlwIGRpcmVjdGlvbiAoICdyaWdodCcsICd0b3AnKVxuICogQHByb3BlcnR5IHtTdHJpbmd9IFtwb3NpdGlvbl0gLSBDdXN0b20gQ1NTIHBvc2l0aW9uIG92ZXJyaWRlXG4gKiBAcHJvcGVydHkge051bWJlcn0gW3Nob3dEZWxheT0yNTBdIC0gRGVsYXkgaW4gbXMgYmVmb3JlIHNob3dpbmcgdG9vbHRpcCBvbiBob3ZlclxuICogQHByb3BlcnR5IHtOdW1iZXJ9IFtoaWRlRGVsYXk9MjUwXSAtIERlbGF5IGluIG1zIGJlZm9yZSBoaWRpbmcgdG9vbHRpcCB3aGVuIG1vdXNlIGxlYXZlcywgdG8gYXZvaWQgbXVsdGlwbGUgdG9vbHRpcHMgZnJvbSBiZWluZyBvcGVuZWQsIHRoaXMgc2hvdWxkIGJlIHRoZSBzYW1lIGFzIHNob3dEZWxheVxuICogQHByb3BlcnR5IHsqfSBbY2hpbGRyZW5dIC0gQ2hpbGQgZWxlbWVudHMgdG8gcmVuZGVyIGluc2lkZSB0aGUgdG9vbHRpcCB3cmFwcGVyXG4gKi9cblxuLyoqXG4gKiBUb29sdGlwIHdyYXBwZXIgdGhhdCBwcm92aWRlcyBjb250ZXh0LWJhc2VkIHRvb2x0aXAgY29udGVudCBsb29rdXAuXG4gKiBBbGwgcHJvcHMgYXJlIGZvcndhcmRlZCB0byB0aGUgdW5kZXJseWluZyBUb29sdGlwIGNvbXBvbmVudC5cbiAqXG4gKiBAcGFyYW0ge1Rvb2x0aXBQcm9wcyAmIHtcbiAqICAgZm9ySWQ6IFN0cmluZyxcbiAqICAgdmFsdWU/OiBTdHJpbmd8T2JqZWN0LFxuICogICBlbGVtZW50PzogT2JqZWN0XG4gKiB9fSBwcm9wcyAtIFNoYXJlZCB0b29sdGlwIHByb3BzIHBsdXMgd3JhcHBlci1zcGVjaWZpYyBvbmVzXG4gKi9cbmZ1bmN0aW9uIFRvb2x0aXBXcmFwcGVyKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBmb3JJZCxcbiAgICBlbGVtZW50XG4gIH0gPSBwcm9wcztcbiAgY29uc3QgY29udGV4dERlc2NyaXB0aW9uID0gdXNlVG9vbHRpcENvbnRleHQoZm9ySWQsIGVsZW1lbnQpO1xuICBjb25zdCB2YWx1ZSA9IHByb3BzLnZhbHVlIHx8IGNvbnRleHREZXNjcmlwdGlvbjtcbiAgaWYgKCF2YWx1ZSkge1xuICAgIHJldHVybiBwcm9wcy5jaGlsZHJlbjtcbiAgfVxuICByZXR1cm4ganN4KFRvb2x0aXAsIHtcbiAgICAuLi5wcm9wcyxcbiAgICB2YWx1ZTogdmFsdWUsXG4gICAgZm9ySWQ6IGBiaW8tcHJvcGVydGllcy1wYW5lbC0ke2ZvcklkfWBcbiAgfSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtUb29sdGlwUHJvcHMgJiB7XG4gKiAgIGZvcklkOiBTdHJpbmcsXG4gKiAgIHZhbHVlOiBTdHJpbmd8T2JqZWN0XG4gKiB9fSBwcm9wc1xuICovXG5mdW5jdGlvbiBUb29sdGlwKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBmb3JJZCxcbiAgICB2YWx1ZSxcbiAgICBwYXJlbnQsXG4gICAgZGlyZWN0aW9uID0gJ3JpZ2h0JyxcbiAgICBwb3NpdGlvbixcbiAgICBzaG93RGVsYXkgPSAyNTAsXG4gICAgaGlkZURlbGF5ID0gMjUwXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgW3Zpc2libGUsIHNldFZpc2libGVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBzaG93VGltZW91dFJlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgaGlkZVRpbWVvdXRSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IHdyYXBwZXJSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IHRvb2x0aXBSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IHNob3cgPSAoXywgZGVsYXkpID0+IHtcbiAgICBjbGVhclRpbWVvdXQoc2hvd1RpbWVvdXRSZWYuY3VycmVudCk7XG4gICAgY2xlYXJUaW1lb3V0KGhpZGVUaW1lb3V0UmVmLmN1cnJlbnQpO1xuICAgIGlmICh2aXNpYmxlKSByZXR1cm47XG4gICAgaWYgKGRlbGF5KSB7XG4gICAgICBzaG93VGltZW91dFJlZi5jdXJyZW50ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHNldFZpc2libGUodHJ1ZSk7XG4gICAgICB9LCBzaG93RGVsYXkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXRWaXNpYmxlKHRydWUpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgaGFuZGxlV3JhcHBlck1vdXNlRW50ZXIgPSBlID0+IHtcbiAgICBzaG93KGUsIHRydWUpO1xuICB9O1xuICBjb25zdCBoaWRlID0gKGRlbGF5ID0gZmFsc2UpID0+IHtcbiAgICBjbGVhclRpbWVvdXQoc2hvd1RpbWVvdXRSZWYuY3VycmVudCk7XG4gICAgY2xlYXJUaW1lb3V0KGhpZGVUaW1lb3V0UmVmLmN1cnJlbnQpO1xuICAgIGlmIChkZWxheSkge1xuICAgICAgaGlkZVRpbWVvdXRSZWYuY3VycmVudCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBzZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAgIH0sIGhpZGVEZWxheSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldFZpc2libGUoZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICAvLyBDbGVhbnVwIHRpbWVvdXRzIG9uIHVubW91bnRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgY2xlYXJUaW1lb3V0KHNob3dUaW1lb3V0UmVmLmN1cnJlbnQpO1xuICAgICAgY2xlYXJUaW1lb3V0KGhpZGVUaW1lb3V0UmVmLmN1cnJlbnQpO1xuICAgIH07XG4gIH0sIFtdKTtcblxuICAvLyBIYW5kbGUgY2xpY2sgb3V0c2lkZSB0byBjbG9zZSB0b29sdGlwIGZvciBub24tZm9jdXNhYmxlIGVsZW1lbnRzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCF2aXNpYmxlKSByZXR1cm47XG4gICAgY29uc3QgaGFuZGxlQ2xpY2tPdXRzaWRlID0gZSA9PiB7XG4gICAgICAvLyBJZiBjbGlja2luZyBvdXRzaWRlIGJvdGggdGhlIHdyYXBwZXIgYW5kIHRvb2x0aXAsIGhpZGUgaXRcbiAgICAgIGlmICh3cmFwcGVyUmVmLmN1cnJlbnQgJiYgIXdyYXBwZXJSZWYuY3VycmVudC5jb250YWlucyhlLnRhcmdldCkgJiYgdG9vbHRpcFJlZi5jdXJyZW50ICYmICF0b29sdGlwUmVmLmN1cnJlbnQuY29udGFpbnMoZS50YXJnZXQpKSB7XG4gICAgICAgIGhpZGUoZmFsc2UpO1xuICAgICAgfVxuICAgIH07XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgaGFuZGxlQ2xpY2tPdXRzaWRlKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgaGFuZGxlQ2xpY2tPdXRzaWRlKTtcbiAgICB9O1xuICB9LCBbdmlzaWJsZSwgaGlkZV0pO1xuICBjb25zdCBoYW5kbGVNb3VzZUxlYXZlID0gKHtcbiAgICByZWxhdGVkVGFyZ2V0XG4gIH0pID0+IHtcbiAgICAvLyBEb24ndCBoaWRlIHRoZSB0b29sdGlwIHdoZW4gbW92aW5nIG1vdXNlIGJldHdlZW4gdGhlIHdyYXBwZXIgYW5kIHRoZSB0b29sdGlwLlxuICAgIGlmIChyZWxhdGVkVGFyZ2V0ID09PSB3cmFwcGVyUmVmLmN1cnJlbnQgfHwgcmVsYXRlZFRhcmdldCA9PT0gdG9vbHRpcFJlZi5jdXJyZW50IHx8IHJlbGF0ZWRUYXJnZXQ/LnBhcmVudEVsZW1lbnQgPT09IHRvb2x0aXBSZWYuY3VycmVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBzZWxlY3Rpb24gPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG4gICAgaWYgKHNlbGVjdGlvbiAmJiBzZWxlY3Rpb24udG9TdHJpbmcoKS5sZW5ndGggPiAwKSB7XG4gICAgICAvLyBDaGVjayBpZiBzZWxlY3Rpb24gaXMgd2l0aGluIHRvb2x0aXAgY29udGVudFxuICAgICAgY29uc3Qgc2VsZWN0aW9uUmFuZ2UgPSBzZWxlY3Rpb24uZ2V0UmFuZ2VBdCgwKTtcbiAgICAgIGlmICh0b29sdGlwUmVmLmN1cnJlbnQ/LmNvbnRhaW5zKHNlbGVjdGlvblJhbmdlLmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyKSB8fCB0b29sdGlwUmVmLmN1cnJlbnQ/LmNvbnRhaW5zKHNlbGVjdGlvbi5hbmNob3JOb2RlKSB8fCB0b29sdGlwUmVmLmN1cnJlbnQ/LmNvbnRhaW5zKHNlbGVjdGlvbi5mb2N1c05vZGUpKSB7XG4gICAgICAgIHJldHVybjsgLy8gS2VlcCB0b29sdGlwIG9wZW4gZHVyaW5nIHRleHQgc2VsZWN0aW9uXG4gICAgICB9XG4gICAgfVxuICAgIGhpZGUodHJ1ZSk7XG4gIH07XG4gIGNvbnN0IGhhbmRsZVRvb2x0aXBNb3VzZUVudGVyID0gKCkgPT4ge1xuICAgIGNsZWFyVGltZW91dChoaWRlVGltZW91dFJlZi5jdXJyZW50KTtcbiAgfTtcbiAgY29uc3QgaGFuZGxlRm9jdXNPdXQgPSBlID0+IHtcbiAgICBjb25zdCB7XG4gICAgICByZWxhdGVkVGFyZ2V0XG4gICAgfSA9IGU7XG5cbiAgICAvLyBEb24ndCBoaWRlIGlmIGZvY3VzIG1vdmVkIHRvIHRoZSB0b29sdGlwIG9yIGFub3RoZXIgZWxlbWVudCB3aXRoaW4gdGhlIHdyYXBwZXJcbiAgICBpZiAodG9vbHRpcFJlZi5jdXJyZW50Py5jb250YWlucyhyZWxhdGVkVGFyZ2V0KSB8fCB3cmFwcGVyUmVmLmN1cnJlbnQ/LmNvbnRhaW5zKHJlbGF0ZWRUYXJnZXQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGhpZGUoZmFsc2UpO1xuICB9O1xuICBjb25zdCBoaWRlVG9vbHRpcFZpYUVzY2FwZSA9IGUgPT4ge1xuICAgIGUuY29kZSA9PT0gJ0VzY2FwZScgJiYgaGlkZShmYWxzZSk7XG4gIH07XG4gIGNvbnN0IHJlbmRlclRvb2x0aXAgPSAoKSA9PiB7XG4gICAgcmV0dXJuIGpzeHMoXCJkaXZcIiwge1xuICAgICAgY2xhc3M6IGBiaW8tcHJvcGVydGllcy1wYW5lbC10b29sdGlwICR7ZGlyZWN0aW9ufWAsXG4gICAgICByb2xlOiBcInRvb2x0aXBcIixcbiAgICAgIGlkOiBcImJpby1wcm9wZXJ0aWVzLXBhbmVsLXRvb2x0aXBcIixcbiAgICAgIFwiYXJpYS1sYWJlbGxlZGJ5XCI6IGZvcklkLFxuICAgICAgc3R5bGU6IHBvc2l0aW9uIHx8IGdldFRvb2x0aXBQb3NpdGlvbih3cmFwcGVyUmVmLmN1cnJlbnQpLFxuICAgICAgcmVmOiB0b29sdGlwUmVmLFxuICAgICAgb25DbGljazogZSA9PiBlLnN0b3BQcm9wYWdhdGlvbigpLFxuICAgICAgb25Nb3VzZUVudGVyOiBoYW5kbGVUb29sdGlwTW91c2VFbnRlcixcbiAgICAgIG9uTW91c2VMZWF2ZTogaGFuZGxlTW91c2VMZWF2ZSxcbiAgICAgIGNoaWxkcmVuOiBbanN4KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3M6IFwiYmlvLXByb3BlcnRpZXMtcGFuZWwtdG9vbHRpcC1jb250ZW50XCIsXG4gICAgICAgIGNoaWxkcmVuOiB2YWx1ZVxuICAgICAgfSksIGpzeChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzOiBcImJpby1wcm9wZXJ0aWVzLXBhbmVsLXRvb2x0aXAtYXJyb3dcIlxuICAgICAgfSldXG4gICAgfSk7XG4gIH07XG4gIHJldHVybiBqc3hzKFwiZGl2XCIsIHtcbiAgICBjbGFzczogXCJiaW8tcHJvcGVydGllcy1wYW5lbC10b29sdGlwLXdyYXBwZXJcIixcbiAgICB0YWJJbmRleDogXCIwXCIsXG4gICAgcmVmOiB3cmFwcGVyUmVmLFxuICAgIG9uTW91c2VFbnRlcjogaGFuZGxlV3JhcHBlck1vdXNlRW50ZXIsXG4gICAgb25Nb3VzZUxlYXZlOiBoYW5kbGVNb3VzZUxlYXZlLFxuICAgIG9uRm9jdXM6IHNob3csXG4gICAgb25CbHVyOiBoYW5kbGVGb2N1c091dCxcbiAgICBvbktleURvd246IGhpZGVUb29sdGlwVmlhRXNjYXBlLFxuICAgIGNoaWxkcmVuOiBbcHJvcHMuY2hpbGRyZW4sIHZpc2libGUgPyBwYXJlbnQgPyBjcmVhdGVQb3J0YWwocmVuZGVyVG9vbHRpcCgpLCBwYXJlbnQuY3VycmVudCkgOiByZW5kZXJUb29sdGlwKCkgOiBudWxsXVxuICB9KTtcbn1cblxuLy8gaGVscGVyXG5cbmZ1bmN0aW9uIGdldFRvb2x0aXBQb3NpdGlvbihyZWZFbGVtZW50KSB7XG4gIGNvbnN0IHJlZlBvc2l0aW9uID0gcmVmRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgY29uc3QgcmlnaHQgPSBgY2FsYygxMDAlIC0gJHtyZWZQb3NpdGlvbi54fXB4KWA7XG4gIGNvbnN0IHRvcCA9IGAke3JlZlBvc2l0aW9uLnRvcCAtIDEwfXB4YDtcbiAgcmV0dXJuIGByaWdodDogJHtyaWdodH07IHRvcDogJHt0b3B9O2A7XG59XG5cbi8qKlxuICogQWNjZXNzZXMgdGhlIGdsb2JhbCBEZXNjcmlwdGlvbkNvbnRleHQgYW5kIHJldHVybnMgYSBkZXNjcmlwdGlvbiBmb3IgYSBnaXZlbiBpZCBhbmQgZWxlbWVudC5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBganN4XG4gKiBmdW5jdGlvbiBUZXh0RmllbGQocHJvcHMpIHtcbiAqICAgY29uc3QgZGVzY3JpcHRpb24gPSB1c2VEZXNjcmlwdGlvbkNvbnRleHQoJ2lucHV0MScsIGVsZW1lbnQpO1xuICogfVxuICogYGBgXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGlkXG4gKiBAcGFyYW0ge29iamVjdH0gZWxlbWVudFxuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIHVzZURlc2NyaXB0aW9uQ29udGV4dChpZCwgZWxlbWVudCkge1xuICBjb25zdCB7XG4gICAgZ2V0RGVzY3JpcHRpb25Gb3JJZFxuICB9ID0gdXNlQ29udGV4dChEZXNjcmlwdGlvbkNvbnRleHQpO1xuICByZXR1cm4gZ2V0RGVzY3JpcHRpb25Gb3JJZChpZCwgZWxlbWVudCk7XG59XG5mdW5jdGlvbiB1c2VEZWJvdW5jZShjYWxsYmFjaywgZGVib3VuY2VGbikge1xuICBjb25zdCBkZWJvdW5jZWRDYWxsYmFjayA9IHVzZUNhbGxiYWNrKGRlYm91bmNlRm4oY2FsbGJhY2spLCBbY2FsbGJhY2ssIGRlYm91bmNlRm5dKTtcblxuICAvLyBtYWtlIHN1cmUgcHJldmlvdXMgY2FsbCBpcyBub3Qgc3RhbGxlZFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBkZWJvdW5jZWRDYWxsYmFjay5jYW5jZWw/LigpO1xuICAgIH07XG4gIH0sIFtkZWJvdW5jZWRDYWxsYmFja10pO1xuICByZXR1cm4gZGVib3VuY2VkQ2FsbGJhY2s7XG59XG5mdW5jdGlvbiB1c2VFcnJvcihpZCkge1xuICBjb25zdCB7XG4gICAgZXJyb3JzXG4gIH0gPSB1c2VDb250ZXh0KEVycm9yc0NvbnRleHQpO1xuICByZXR1cm4gZXJyb3JzW2lkXTtcbn1cbmZ1bmN0aW9uIHVzZUVycm9ycygpIHtcbiAgY29uc3Qge1xuICAgIGVycm9yc1xuICB9ID0gdXNlQ29udGV4dChFcnJvcnNDb250ZXh0KTtcbiAgcmV0dXJuIGVycm9ycztcbn1cblxuLyoqXG4gKiBTdWJzY3JpYmUgdG8gYW4gZXZlbnQgaW1tZWRpYXRlbHkuIFVwZGF0ZSBzdWJzY3JpcHRpb24gYWZ0ZXIgaW5wdXRzIGNoYW5nZWQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICovXG5mdW5jdGlvbiB1c2VFdmVudChldmVudCwgY2FsbGJhY2ssIGV2ZW50QnVzKSB7XG4gIGNvbnN0IGV2ZW50Q29udGV4dCA9IHVzZUNvbnRleHQoRXZlbnRDb250ZXh0KTtcbiAgaWYgKCFldmVudEJ1cykge1xuICAgICh7XG4gICAgICBldmVudEJ1c1xuICAgIH0gPSBldmVudENvbnRleHQpO1xuICB9XG4gIGNvbnN0IGRpZE1vdW50ID0gdXNlUmVmKGZhbHNlKTtcblxuICAvLyAoMSkgc3Vic2NyaWJlIGltbWVkaWF0ZWx5XG4gIGlmIChldmVudEJ1cyAmJiAhZGlkTW91bnQuY3VycmVudCkge1xuICAgIGV2ZW50QnVzLm9uKGV2ZW50LCBjYWxsYmFjayk7XG4gIH1cblxuICAvLyAoMikgdXBkYXRlIHN1YnNjcmlwdGlvbiBhZnRlciBpbnB1dHMgY2hhbmdlZFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChldmVudEJ1cyAmJiBkaWRNb3VudC5jdXJyZW50KSB7XG4gICAgICBldmVudEJ1cy5vbihldmVudCwgY2FsbGJhY2spO1xuICAgIH1cbiAgICBkaWRNb3VudC5jdXJyZW50ID0gdHJ1ZTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaWYgKGV2ZW50QnVzKSB7XG4gICAgICAgIGV2ZW50QnVzLm9mZihldmVudCwgY2FsbGJhY2spO1xuICAgICAgfVxuICAgIH07XG4gIH0sIFtjYWxsYmFjaywgZXZlbnQsIGV2ZW50QnVzXSk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIHN0YXRlIHRoYXQgcGVyc2lzdHMgaW4gdGhlIGdsb2JhbCBMYXlvdXRDb250ZXh0LlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqc3hcbiAqIGZ1bmN0aW9uIEdyb3VwKHByb3BzKSB7XG4gKiAgIGNvbnN0IFsgb3Blbiwgc2V0T3BlbiBdID0gdXNlTGF5b3V0U3RhdGUoWyAnZ3JvdXBzJywgJ2ZvbycsICdvcGVuJyBdLCBmYWxzZSk7XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0geyhzdHJpbmd8bnVtYmVyKVtdfSBwYXRoXG4gKiBAcGFyYW0ge2FueX0gW2RlZmF1bHRWYWx1ZV1cbiAqXG4gKiBAcmV0dXJucyB7WyBhbnksIEZ1bmN0aW9uIF19XG4gKi9cbmZ1bmN0aW9uIHVzZUxheW91dFN0YXRlKHBhdGgsIGRlZmF1bHRWYWx1ZSkge1xuICBjb25zdCB7XG4gICAgZ2V0TGF5b3V0Rm9yS2V5LFxuICAgIHNldExheW91dEZvcktleVxuICB9ID0gdXNlQ29udGV4dChMYXlvdXRDb250ZXh0KTtcbiAgY29uc3QgbGF5b3V0Rm9yS2V5ID0gZ2V0TGF5b3V0Rm9yS2V5KHBhdGgsIGRlZmF1bHRWYWx1ZSk7XG4gIGNvbnN0IHNldFN0YXRlID0gdXNlQ2FsbGJhY2sobmV3VmFsdWUgPT4ge1xuICAgIHNldExheW91dEZvcktleShwYXRoLCBuZXdWYWx1ZSk7XG4gIH0sIFtzZXRMYXlvdXRGb3JLZXldKTtcbiAgcmV0dXJuIFtsYXlvdXRGb3JLZXksIHNldFN0YXRlXTtcbn1cblxuLyoqXG4gKiBAcGludXNzaWx2ZXN0cnVzOiB3ZSBuZWVkIHRvIGludHJvZHVjZSBvdXIgb3duIGhvb2sgdG8gcGVyc2lzdCB0aGUgcHJldmlvdXNcbiAqIHN0YXRlIG9uIHVwZGF0ZXMuXG4gKlxuICogY2YuIGh0dHBzOi8vcmVhY3Rqcy5vcmcvZG9jcy9ob29rcy1mYXEuaHRtbCNob3ctdG8tZ2V0LXRoZS1wcmV2aW91cy1wcm9wcy1vci1zdGF0ZVxuICovXG5cbmZ1bmN0aW9uIHVzZVByZXZpb3VzKHZhbHVlKSB7XG4gIGNvbnN0IHJlZiA9IHVzZVJlZigpO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHJlZi5jdXJyZW50ID0gdmFsdWU7XG4gIH0pO1xuICByZXR1cm4gcmVmLmN1cnJlbnQ7XG59XG5cbi8qKlxuICogU3Vic2NyaWJlIHRvIGBwcm9wZXJ0aWVzUGFuZWwuc2hvd0VudHJ5YC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gaWRcbiAqXG4gKiBAcmV0dXJucyB7aW1wb3J0KCdwcmVhY3QnKS5SZWZ9XG4gKi9cbmZ1bmN0aW9uIHVzZVNob3dFbnRyeUV2ZW50KGlkKSB7XG4gIGNvbnN0IHtcbiAgICBvblNob3dcbiAgfSA9IHVzZUNvbnRleHQoTGF5b3V0Q29udGV4dCk7XG4gIGNvbnN0IHJlZiA9IHVzZVJlZigpO1xuICBjb25zdCBmb2N1cyA9IHVzZVJlZihmYWxzZSk7XG4gIGNvbnN0IG9uU2hvd0VudHJ5ID0gdXNlQ2FsbGJhY2soZXZlbnQgPT4ge1xuICAgIGlmIChldmVudC5pZCA9PT0gaWQpIHtcbiAgICAgIG9uU2hvdygpO1xuICAgICAgaWYgKCFmb2N1cy5jdXJyZW50KSB7XG4gICAgICAgIGZvY3VzLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfSwgW2lkXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGZvY3VzLmN1cnJlbnQgJiYgcmVmLmN1cnJlbnQpIHtcbiAgICAgIGlmIChpc0Z1bmN0aW9uKHJlZi5jdXJyZW50LmZvY3VzKSkge1xuICAgICAgICByZWYuY3VycmVudC5mb2N1cygpO1xuICAgICAgfVxuICAgICAgaWYgKGlzRnVuY3Rpb24ocmVmLmN1cnJlbnQuc2VsZWN0KSkge1xuICAgICAgICByZWYuY3VycmVudC5zZWxlY3QoKTtcbiAgICAgIH1cbiAgICAgIGZvY3VzLmN1cnJlbnQgPSBmYWxzZTtcbiAgICB9XG4gIH0pO1xuICB1c2VFdmVudCgncHJvcGVydGllc1BhbmVsLnNob3dFbnRyeScsIG9uU2hvd0VudHJ5KTtcbiAgcmV0dXJuIHJlZjtcbn1cblxuLyoqXG4gKiBAY2FsbGJhY2sgc2V0U3RpY2t5XG4gKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlXG4gKi9cblxuLyoqXG4gKiBVc2UgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgdG8gaWRlbnRpZnkgd2hlbiBET00gZWxlbWVudCBpcyBpbiBzdGlja3kgbW9kZS5cbiAqIElmIHN0aWNreSBpcyBvYnNlcnZlcmVkIHNldFN0aWNreSh0cnVlKSB3aWxsIGJlIGNhbGxlZC5cbiAqIElmIHN0aWNreSBtb2RlIGlzIGxlZnQsIHNldFN0aWNreShmYWxzZSkgd2lsbCBiZSBjYWxsZWQuXG4gKlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSByZWZcbiAqIEBwYXJhbSB7c3RyaW5nfSBzY3JvbGxDb250YWluZXJTZWxlY3RvclxuICogQHBhcmFtIHtzZXRTdGlja3l9IHNldFN0aWNreVxuICovXG5mdW5jdGlvbiB1c2VTdGlja3lJbnRlcnNlY3Rpb25PYnNlcnZlcihyZWYsIHNjcm9sbENvbnRhaW5lclNlbGVjdG9yLCBzZXRTdGlja3kpIHtcbiAgY29uc3QgW3Njcm9sbENvbnRhaW5lciwgc2V0U2Nyb2xsQ29udGFpbmVyXSA9IHVzZVN0YXRlKHF1ZXJ5KHNjcm9sbENvbnRhaW5lclNlbGVjdG9yKSk7XG4gIGNvbnN0IHVwZGF0ZVNjcm9sbENvbnRhaW5lciA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBjb25zdCBuZXdTY3JvbGxDb250YWluZXIgPSBxdWVyeShzY3JvbGxDb250YWluZXJTZWxlY3Rvcik7XG4gICAgaWYgKG5ld1Njcm9sbENvbnRhaW5lciAhPT0gc2Nyb2xsQ29udGFpbmVyKSB7XG4gICAgICBzZXRTY3JvbGxDb250YWluZXIobmV3U2Nyb2xsQ29udGFpbmVyKTtcbiAgICB9XG4gIH0sIFtzY3JvbGxDb250YWluZXJTZWxlY3Rvciwgc2Nyb2xsQ29udGFpbmVyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgdXBkYXRlU2Nyb2xsQ29udGFpbmVyKCk7XG4gIH0sIFt1cGRhdGVTY3JvbGxDb250YWluZXJdKTtcbiAgdXNlRXZlbnQoJ3Byb3BlcnRpZXNQYW5lbC5hdHRhY2gnLCB1cGRhdGVTY3JvbGxDb250YWluZXIpO1xuICB1c2VFdmVudCgncHJvcGVydGllc1BhbmVsLmRldGFjaCcsIHVwZGF0ZVNjcm9sbENvbnRhaW5lcik7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgT2JzZXJ2ZXIgPSBJbnRlcnNlY3Rpb25PYnNlcnZlcjtcblxuICAgIC8vIHJldHVybiBlYXJseSBpZiBJbnRlcnNlY3Rpb25PYnNlcnZlciBpcyBub3QgYXZhaWxhYmxlXG4gICAgaWYgKCFPYnNlcnZlcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFRPRE8oQGJhcm1hYyk6IHRlc3QgdGhpc1xuICAgIGlmICghcmVmLmN1cnJlbnQgfHwgIXNjcm9sbENvbnRhaW5lcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBPYnNlcnZlcihlbnRyaWVzID0+IHtcbiAgICAgIC8vIHNjcm9sbCBjb250YWluZXIgaXMgdW5tb3VudGVkLCBkbyBub3QgdXBkYXRlIHN0aWNreSBzdGF0ZVxuICAgICAgaWYgKHNjcm9sbENvbnRhaW5lci5zY3JvbGxIZWlnaHQgPT09IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZW50cmllcy5mb3JFYWNoKGVudHJ5ID0+IHtcbiAgICAgICAgaWYgKGVudHJ5LmludGVyc2VjdGlvblJhdGlvIDwgMSkge1xuICAgICAgICAgIHNldFN0aWNreSh0cnVlKTtcbiAgICAgICAgfSBlbHNlIGlmIChlbnRyeS5pbnRlcnNlY3Rpb25SYXRpbyA9PT0gMSkge1xuICAgICAgICAgIHNldFN0aWNreShmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sIHtcbiAgICAgIHJvb3Q6IHNjcm9sbENvbnRhaW5lcixcbiAgICAgIHJvb3RNYXJnaW46ICcwcHggMHB4IDk5OTk5OSUgMHB4JyxcbiAgICAgIC8vIFVzZSBib3R0b20gbWFyZ2luIHRvIGF2b2lkIHN0aWNreW5lc3Mgd2hlbiBzY3JvbGxpbmcgb3V0IHRvIGJvdHRvbVxuICAgICAgdGhyZXNob2xkOiBbMV1cbiAgICB9KTtcbiAgICBvYnNlcnZlci5vYnNlcnZlKHJlZi5jdXJyZW50KTtcblxuICAgIC8vIFVub2JzZXJ2ZSBpZiB1bm1vdW50ZWRcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgb2JzZXJ2ZXIudW5vYnNlcnZlKHJlZi5jdXJyZW50KTtcbiAgICB9O1xuICB9LCBbcmVmLmN1cnJlbnQsIHNjcm9sbENvbnRhaW5lciwgc2V0U3RpY2t5XSk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIHN0YXRpYyBmdW5jdGlvbiByZWZlcmVuY2Ugd2l0aCBjaGFuZ2luZyBib2R5LlxuICogVGhpcyBpcyBuZWNlc3Nhcnkgd2hlbiBleHRlcm5hbCBsaWJyYXJpZXMgcmVxdWlyZSBhIGNhbGxiYWNrIGZ1bmN0aW9uXG4gKiB0aGF0IGhhcyByZWZlcmVuY2VzIHRvIHN0YXRlIHZhcmlhYmxlcy5cbiAqXG4gKiBVc2FnZTpcbiAqIGNvbnN0IGNhbGxiYWNrID0gdXNlU3RhdGljQ2FsbGJhY2soKHZhbCkgPT4ge3ZhbCA9PT0gY3VycmVudFN0YXRlfSk7XG4gKlxuICogVGhlIGBjYWxsYmFja2AgcmVmZXJlbmNlIGlzIHN0YXRpYyBhbmQgY2FuIGJlIHNhZmVseSB1c2VkIGluIGV4dGVybmFsXG4gKiBsaWJyYXJpZXMgb3IgYXMgYSBwcm9wIHRoYXQgZG9lcyBub3QgY2F1c2UgcmVyZW5kZXJpbmcgb2YgY2hpbGRyZW4uXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgZnVuY3Rpb24gd2l0aCBjaGFuZ2luZyByZWZlcmVuY2VcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gc3RhdGljIGZ1bmN0aW9uIHJlZmVyZW5jZVxuICovXG5mdW5jdGlvbiB1c2VTdGF0aWNDYWxsYmFjayhjYWxsYmFjaykge1xuICBjb25zdCBjYWxsYmFja1JlZiA9IHVzZVJlZihjYWxsYmFjayk7XG4gIGNhbGxiYWNrUmVmLmN1cnJlbnQgPSBjYWxsYmFjaztcbiAgcmV0dXJuIHVzZUNhbGxiYWNrKCguLi5hcmdzKSA9PiBjYWxsYmFja1JlZi5jdXJyZW50KC4uLmFyZ3MpLCBbXSk7XG59XG5mdW5jdGlvbiB1c2VFbGVtZW50VmlzaWJsZShlbGVtZW50KSB7XG4gIGNvbnN0IFt2aXNpYmxlLCBzZXRWaXNpYmxlXSA9IHVzZVN0YXRlKCEhZWxlbWVudCAmJiAhIWVsZW1lbnQuY2xpZW50SGVpZ2h0KTtcbiAgdXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWVsZW1lbnQpIHJldHVybjtcbiAgICBjb25zdCByZXNpemVPYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcigoW2VudHJ5XSkgPT4ge1xuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgY29uc3QgbmV3VmlzaWJsZSA9ICEhZW50cnkuY29udGVudFJlY3QuaGVpZ2h0O1xuICAgICAgICBpZiAobmV3VmlzaWJsZSAhPT0gdmlzaWJsZSkge1xuICAgICAgICAgIHNldFZpc2libGUobmV3VmlzaWJsZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJlc2l6ZU9ic2VydmVyLm9ic2VydmUoZWxlbWVudCk7XG4gICAgcmV0dXJuICgpID0+IHJlc2l6ZU9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgfSwgW2VsZW1lbnQsIHZpc2libGVdKTtcbiAgcmV0dXJuIHZpc2libGU7XG59XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoJy4uL1Byb3BlcnRpZXNQYW5lbCcpLkdyb3VwRGVmaW5pdGlvbn0gcHJvcHNcbiAqL1xuZnVuY3Rpb24gR3JvdXAocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGVsZW1lbnQsXG4gICAgZW50cmllcyA9IFtdLFxuICAgIGlkLFxuICAgIGxhYmVsLFxuICAgIHNob3VsZE9wZW4gPSBmYWxzZVxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IGdyb3VwUmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBbb3Blbiwgc2V0T3Blbl0gPSB1c2VMYXlvdXRTdGF0ZShbJ2dyb3VwcycsIGlkLCAnb3BlbiddLCBzaG91bGRPcGVuKTtcbiAgY29uc3Qgb25TaG93ID0gdXNlQ2FsbGJhY2soKCkgPT4gc2V0T3Blbih0cnVlKSwgW3NldE9wZW5dKTtcbiAgY29uc3QgdG9nZ2xlT3BlbiA9ICgpID0+IHNldE9wZW4oIW9wZW4pO1xuICBjb25zdCBbZWRpdGVkLCBzZXRFZGl0ZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc3RpY2t5LCBzZXRTdGlja3ldID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIC8vIHNldCBlZGl0ZWQgc3RhdGUgZGVwZW5kaW5nIG9uIGFsbCBlbnRyaWVzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gVE9ETyhAYmFybWFjKTogcmVwbGFjZSB3aXRoIENTUyB3aGVuIGA6aGFzKClgIGlzIHN1cHBvcnRlZCBpbiBhbGwgbWFqb3IgYnJvd3NlcnMsIG9yIHJld3JpdGUgYXMgaW4gaHR0cHM6Ly9naXRodWIuY29tL2NhbXVuZGEvY2FtdW5kYS1tb2RlbGVyL2lzc3Vlcy8zODE1I2lzc3VlY29tbWVudC0xNzMzMDM4MTYxXG4gICAgY29uc3Qgc2NoZWR1bGVkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgIGNvbnN0IGhhc09uZUVkaXRlZEVudHJ5ID0gZW50cmllcy5maW5kKGVudHJ5ID0+IHtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgIGlkLFxuICAgICAgICAgIGlzRWRpdGVkXG4gICAgICAgIH0gPSBlbnRyeTtcbiAgICAgICAgY29uc3QgZW50cnlOb2RlID0gcXVlcnkoYFtkYXRhLWVudHJ5LWlkPVwiJHtpZH1cIl1gKTtcbiAgICAgICAgaWYgKCFpc0Z1bmN0aW9uKGlzRWRpdGVkKSB8fCAhZW50cnlOb2RlKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGlucHV0Tm9kZSA9IHF1ZXJ5KCcuYmlvLXByb3BlcnRpZXMtcGFuZWwtaW5wdXQnLCBlbnRyeU5vZGUpO1xuICAgICAgICByZXR1cm4gaXNFZGl0ZWQoaW5wdXROb2RlKTtcbiAgICAgIH0pO1xuICAgICAgc2V0RWRpdGVkKGhhc09uZUVkaXRlZEVudHJ5KTtcbiAgICB9KTtcbiAgICByZXR1cm4gKCkgPT4gY2FuY2VsQW5pbWF0aW9uRnJhbWUoc2NoZWR1bGVkKTtcbiAgfSwgW2VudHJpZXMsIHNldEVkaXRlZF0pO1xuXG4gIC8vIHNldCBlcnJvciBzdGF0ZSBkZXBlbmRpbmcgb24gYWxsIGVudHJpZXNcbiAgY29uc3QgYWxsRXJyb3JzID0gdXNlRXJyb3JzKCk7XG4gIGNvbnN0IGhhc0Vycm9ycyA9IGVudHJpZXMuc29tZShlbnRyeSA9PiBhbGxFcnJvcnNbZW50cnkuaWRdKTtcblxuICAvLyBzZXQgY3NzIGNsYXNzIHdoZW4gZ3JvdXAgaXMgc3RpY2t5IHRvIHRvcFxuICB1c2VTdGlja3lJbnRlcnNlY3Rpb25PYnNlcnZlcihncm91cFJlZiwgJ2Rpdi5iaW8tcHJvcGVydGllcy1wYW5lbC1zY3JvbGwtY29udGFpbmVyJywgc2V0U3RpY2t5KTtcbiAgY29uc3QgcHJvcGVydGllc1BhbmVsQ29udGV4dCA9IHtcbiAgICAuLi51c2VDb250ZXh0KExheW91dENvbnRleHQpLFxuICAgIG9uU2hvd1xuICB9O1xuICByZXR1cm4ganN4cyhcImRpdlwiLCB7XG4gICAgY2xhc3M6IFwiYmlvLXByb3BlcnRpZXMtcGFuZWwtZ3JvdXBcIixcbiAgICBcImRhdGEtZ3JvdXAtaWRcIjogJ2dyb3VwLScgKyBpZCxcbiAgICByZWY6IGdyb3VwUmVmLFxuICAgIGNoaWxkcmVuOiBbanN4cyhcImRpdlwiLCB7XG4gICAgICBjbGFzczogY2xhc3NuYW1lcygnYmlvLXByb3BlcnRpZXMtcGFuZWwtZ3JvdXAtaGVhZGVyJywgZWRpdGVkID8gJycgOiAnZW1wdHknLCBvcGVuID8gJ29wZW4nIDogJycsIHN0aWNreSAmJiBvcGVuID8gJ3N0aWNreScgOiAnJyksXG4gICAgICBvbkNsaWNrOiB0b2dnbGVPcGVuLFxuICAgICAgY2hpbGRyZW46IFtqc3goXCJkaXZcIiwge1xuICAgICAgICBjbGFzczogXCJiaW8tcHJvcGVydGllcy1wYW5lbC1ncm91cC1oZWFkZXItdGl0bGVcIixcbiAgICAgICAgY2hpbGRyZW46IGpzeChUb29sdGlwV3JhcHBlciwge1xuICAgICAgICAgIHZhbHVlOiBwcm9wcy50b29sdGlwLFxuICAgICAgICAgIGZvcklkOiAnZ3JvdXAtJyArIGlkLFxuICAgICAgICAgIGVsZW1lbnQ6IGVsZW1lbnQsXG4gICAgICAgICAgcGFyZW50OiBncm91cFJlZixcbiAgICAgICAgICBjaGlsZHJlbjogbGFiZWxcbiAgICAgICAgfSlcbiAgICAgIH0pLCBqc3hzKFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3M6IFwiYmlvLXByb3BlcnRpZXMtcGFuZWwtZ3JvdXAtaGVhZGVyLWJ1dHRvbnNcIixcbiAgICAgICAgY2hpbGRyZW46IFtqc3goRGF0YU1hcmtlciwge1xuICAgICAgICAgIGVkaXRlZDogZWRpdGVkLFxuICAgICAgICAgIGhhc0Vycm9yczogaGFzRXJyb3JzXG4gICAgICAgIH0pLCBqc3goXCJidXR0b25cIiwge1xuICAgICAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgICAgICAgdGl0bGU6IFwiVG9nZ2xlIHNlY3Rpb25cIixcbiAgICAgICAgICBjbGFzczogXCJiaW8tcHJvcGVydGllcy1wYW5lbC1ncm91cC1oZWFkZXItYnV0dG9uIGJpby1wcm9wZXJ0aWVzLXBhbmVsLWFycm93XCIsXG4gICAgICAgICAgY2hpbGRyZW46IGpzeChBcnJvd0ljb24sIHtcbiAgICAgICAgICAgIGNsYXNzOiBvcGVuID8gJ2Jpby1wcm9wZXJ0aWVzLXBhbmVsLWFycm93LWRvd24nIDogJ2Jpby1wcm9wZXJ0aWVzLXBhbmVsLWFycm93LXJpZ2h0J1xuICAgICAgICAgIH0pXG4gICAgICAgIH0pXVxuICAgICAgfSldXG4gICAgfSksIGpzeChcImRpdlwiLCB7XG4gICAgICBjbGFzczogY2xhc3NuYW1lcygnYmlvLXByb3BlcnRpZXMtcGFuZWwtZ3JvdXAtZW50cmllcycsIG9wZW4gPyAnb3BlbicgOiAnJyksXG4gICAgICBjaGlsZHJlbjoganN4KExheW91dENvbnRleHQuUHJvdmlkZXIsIHtcbiAgICAgICAgdmFsdWU6IHByb3BlcnRpZXNQYW5lbENvbnRleHQsXG4gICAgICAgIGNoaWxkcmVuOiBlbnRyaWVzLm1hcChlbnRyeSA9PiB7XG4gICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgY29tcG9uZW50OiBDb21wb25lbnQsXG4gICAgICAgICAgICBpZFxuICAgICAgICAgIH0gPSBlbnRyeTtcbiAgICAgICAgICByZXR1cm4gY3JlYXRlRWxlbWVudCQxKENvbXBvbmVudCwge1xuICAgICAgICAgICAgLi4uZW50cnksXG4gICAgICAgICAgICBlbGVtZW50OiBlbGVtZW50LFxuICAgICAgICAgICAga2V5OiBpZFxuICAgICAgICAgIH0pO1xuICAgICAgICB9KVxuICAgICAgfSlcbiAgICB9KV1cbiAgfSk7XG59XG5mdW5jdGlvbiBEYXRhTWFya2VyKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBlZGl0ZWQsXG4gICAgaGFzRXJyb3JzXG4gIH0gPSBwcm9wcztcbiAgaWYgKGhhc0Vycm9ycykge1xuICAgIHJldHVybiBqc3goXCJkaXZcIiwge1xuICAgICAgdGl0bGU6IFwiU2VjdGlvbiBjb250YWlucyBhbiBlcnJvclwiLFxuICAgICAgY2xhc3M6IFwiYmlvLXByb3BlcnRpZXMtcGFuZWwtZG90IGJpby1wcm9wZXJ0aWVzLXBhbmVsLWRvdC0tZXJyb3JcIlxuICAgIH0pO1xuICB9XG4gIGlmIChlZGl0ZWQpIHtcbiAgICByZXR1cm4ganN4KFwiZGl2XCIsIHtcbiAgICAgIHRpdGxlOiBcIlNlY3Rpb24gY29udGFpbnMgZWRpdHNcIixcbiAgICAgIGNsYXNzOiBcImJpby1wcm9wZXJ0aWVzLXBhbmVsLWRvdFwiXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbi8qKlxuICogQHR5cGVkZWYgeyB7XG4gKiAgdGV4dDogKGVsZW1lbnQ6IG9iamVjdCkgPT4gc3RyaW5nLFxuICogIGljb24/OiAoZWxlbWVudDogT2JqZWN0KSA9PiBpbXBvcnQoJ3ByZWFjdCcpLkNvbXBvbmVudFxuICogfSB9IFBsYWNlaG9sZGVyRGVmaW5pdGlvblxuICpcbiAqIEBwYXJhbSB7IFBsYWNlaG9sZGVyRGVmaW5pdGlvbiB9IHByb3BzXG4gKi9cbmZ1bmN0aW9uIFBsYWNlaG9sZGVyKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICB0ZXh0LFxuICAgIGljb246IEljb25cbiAgfSA9IHByb3BzO1xuICByZXR1cm4ganN4KFwiZGl2XCIsIHtcbiAgICBjbGFzczogXCJiaW8tcHJvcGVydGllcy1wYW5lbCBvcGVuXCIsXG4gICAgY2hpbGRyZW46IGpzeHMoXCJzZWN0aW9uXCIsIHtcbiAgICAgIGNsYXNzOiBcImJpby1wcm9wZXJ0aWVzLXBhbmVsLXBsYWNlaG9sZGVyXCIsXG4gICAgICBjaGlsZHJlbjogW0ljb24gJiYganN4KEljb24sIHtcbiAgICAgICAgY2xhc3M6IFwiYmlvLXByb3BlcnRpZXMtcGFuZWwtcGxhY2Vob2xkZXItaWNvblwiXG4gICAgICB9KSwganN4KFwicFwiLCB7XG4gICAgICAgIGNsYXNzOiBcImJpby1wcm9wZXJ0aWVzLXBhbmVsLXBsYWNlaG9sZGVyLXRleHRcIixcbiAgICAgICAgY2hpbGRyZW46IHRleHRcbiAgICAgIH0pXVxuICAgIH0pXG4gIH0pO1xufVxuY29uc3QgREVGQVVMVF9MQVlPVVQgPSB7fTtcbmNvbnN0IERFRkFVTFRfREVTQ1JJUFRJT04gPSB7fTtcbmNvbnN0IERFRkFVTFRfVE9PTFRJUCA9IHt9O1xuXG4vKipcbiAqIEB0eXBlZGVmIHsge1xuICogICAgY29tcG9uZW50OiBpbXBvcnQoJ3ByZWFjdCcpLkNvbXBvbmVudCxcbiAqICAgIGlkOiBTdHJpbmcsXG4gKiAgICBpc0VkaXRlZD86IEZ1bmN0aW9uXG4gKiB9IH0gRW50cnlEZWZpbml0aW9uXG4gKlxuICogQHR5cGVkZWYgeyB7XG4gKiAgICBhdXRvRm9jdXNFbnRyeTogU3RyaW5nLFxuICogICAgYXV0b09wZW4/OiBCb29sZWFuLFxuICogICAgZW50cmllczogQXJyYXk8RW50cnlEZWZpbml0aW9uPixcbiAqICAgIGlkOiBTdHJpbmcsXG4gKiAgICBsYWJlbDogU3RyaW5nLFxuICogICAgcmVtb3ZlOiAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHZvaWRcbiAqIH0gfSBMaXN0SXRlbURlZmluaXRpb25cbiAqXG4gKiBAdHlwZWRlZiB7IHtcbiAqICAgIGFkZDogKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB2b2lkLFxuICogICAgY29tcG9uZW50OiBpbXBvcnQoJ3ByZWFjdCcpLkNvbXBvbmVudCxcbiAqICAgIGVsZW1lbnQ6IE9iamVjdCxcbiAqICAgIGlkOiBTdHJpbmcsXG4gKiAgICBpdGVtczogQXJyYXk8TGlzdEl0ZW1EZWZpbml0aW9uPixcbiAqICAgIGxhYmVsOiBTdHJpbmcsXG4gKiAgICBzaG91bGRPcGVuPzogQm9vbGVhblxuICogfSB9IExpc3RHcm91cERlZmluaXRpb25cbiAqXG4gKiBAdHlwZWRlZiB7IHtcbiAqICAgIGNvbXBvbmVudD86IGltcG9ydCgncHJlYWN0JykuQ29tcG9uZW50LFxuICogICAgZW50cmllczogQXJyYXk8RW50cnlEZWZpbml0aW9uPixcbiAqICAgIGlkOiBTdHJpbmcsXG4gKiAgICBsYWJlbDogU3RyaW5nLFxuICogICAgc2hvdWxkT3Blbj86IEJvb2xlYW5cbiAqIH0gfSBHcm91cERlZmluaXRpb25cbiAqXG4gKiAgQHR5cGVkZWYgeyB7XG4gKiAgICBbaWQ6IFN0cmluZ106IEdldERlc2NyaXB0aW9uRnVuY3Rpb25cbiAqIH0gfSBEZXNjcmlwdGlvbkNvbmZpZ1xuICpcbiAqICBAdHlwZWRlZiB7IHtcbiAqICAgIFtpZDogU3RyaW5nXTogR2V0VG9vbHRpcEZ1bmN0aW9uXG4gKiB9IH0gVG9vbHRpcENvbmZpZ1xuICpcbiAqIEBjYWxsYmFjayB7IHtcbiAqIEBwYXJhbSB7c3RyaW5nfSBpZFxuICogQHBhcmFtIHtPYmplY3R9IGVsZW1lbnRcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKiB9IH0gR2V0RGVzY3JpcHRpb25GdW5jdGlvblxuICpcbiAqIEBjYWxsYmFjayB7IHtcbiAqIEBwYXJhbSB7c3RyaW5nfSBpZFxuICogQHBhcmFtIHtPYmplY3R9IGVsZW1lbnRcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKiB9IH0gR2V0VG9vbHRpcEZ1bmN0aW9uXG4gKlxuICogQHR5cGVkZWYgeyB7XG4gKiAgZ2V0RW1wdHk6IChlbGVtZW50OiBvYmplY3QpID0+IGltcG9ydCgnLi9jb21wb25lbnRzL1BsYWNlaG9sZGVyJykuUGxhY2Vob2xkZXJEZWZpbml0aW9uLFxuICogIGdldE11bHRpcGxlOiAoZWxlbWVudDogT2JqZWN0KSA9PiBpbXBvcnQoJy4vY29tcG9uZW50cy9QbGFjZWhvbGRlcicpLlBsYWNlaG9sZGVyRGVmaW5pdGlvblxuICogfSB9IFBsYWNlaG9sZGVyUHJvdmlkZXJcbiAqXG4gKi9cblxuLyoqXG4gKiBBIGJhc2ljIHByb3BlcnRpZXMgcGFuZWwgY29tcG9uZW50LiBEZXNjcmliZXMgKmhvdyogY29udGVudCB3aWxsIGJlIHJlbmRlcmVkLCBhY2NlcHRzXG4gKiBkYXRhIGZyb20gaW1wbGVtZW50b3IgdG8gZGVzY3JpYmUgKndoYXQqIHdpbGwgYmUgcmVuZGVyZWQuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHByb3BzXG4gKiBAcGFyYW0ge09iamVjdHxBcnJheX0gcHJvcHMuZWxlbWVudFxuICogQHBhcmFtIHtpbXBvcnQoJy4vY29tcG9uZW50cy9IZWFkZXInKS5IZWFkZXJQcm92aWRlcn0gcHJvcHMuaGVhZGVyUHJvdmlkZXJcbiAqIEBwYXJhbSB7UGxhY2Vob2xkZXJQcm92aWRlcn0gW3Byb3BzLnBsYWNlaG9sZGVyUHJvdmlkZXJdXG4gKiBAcGFyYW0ge0FycmF5PEdyb3VwRGVmaW5pdGlvbnxMaXN0R3JvdXBEZWZpbml0aW9uPn0gcHJvcHMuZ3JvdXBzXG4gKiBAcGFyYW0ge09iamVjdH0gW3Byb3BzLmxheW91dENvbmZpZ11cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcm9wcy5sYXlvdXRDaGFuZ2VkXVxuICogQHBhcmFtIHtEZXNjcmlwdGlvbkNvbmZpZ30gW3Byb3BzLmRlc2NyaXB0aW9uQ29uZmlnXVxuICogQHBhcmFtIHtGdW5jdGlvbn0gW3Byb3BzLmRlc2NyaXB0aW9uTG9hZGVkXVxuICogQHBhcmFtIHtUb29sdGlwQ29uZmlnfSBbcHJvcHMudG9vbHRpcENvbmZpZ11cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcm9wcy50b29sdGlwTG9hZGVkXVxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gW3Byb3BzLmZlZWxQb3B1cENvbnRhaW5lcl1cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcm9wcy5nZXRGZWVsUG9wdXBMaW5rc11cbiAqIEBwYXJhbSB7T2JqZWN0fSBbcHJvcHMuZXZlbnRCdXNdXG4gKi9cbmZ1bmN0aW9uIFByb3BlcnRpZXNQYW5lbCQxKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBlbGVtZW50LFxuICAgIGhlYWRlclByb3ZpZGVyLFxuICAgIHBsYWNlaG9sZGVyUHJvdmlkZXIsXG4gICAgZ3JvdXBzLFxuICAgIGxheW91dENvbmZpZyxcbiAgICBsYXlvdXRDaGFuZ2VkLFxuICAgIGRlc2NyaXB0aW9uQ29uZmlnLFxuICAgIGRlc2NyaXB0aW9uTG9hZGVkLFxuICAgIHRvb2x0aXBDb25maWcsXG4gICAgdG9vbHRpcExvYWRlZCxcbiAgICBldmVudEJ1c1xuICB9ID0gcHJvcHM7XG5cbiAgLy8gc2V0LXVwIGxheW91dCBjb250ZXh0XG4gIGNvbnN0IFtsYXlvdXQsIHNldExheW91dF0gPSB1c2VTdGF0ZShjcmVhdGVMYXlvdXQobGF5b3V0Q29uZmlnKSk7XG5cbiAgLy8gcmVhY3QgdG8gZXh0ZXJuYWwgY2hhbmdlcyBpbiB0aGUgbGF5b3V0IGNvbmZpZ1xuICB1c2VVcGRhdGVMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IG5ld0xheW91dCA9IGNyZWF0ZUxheW91dChsYXlvdXRDb25maWcpO1xuICAgIHNldExheW91dChuZXdMYXlvdXQpO1xuICB9LCBbbGF5b3V0Q29uZmlnXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBsYXlvdXRDaGFuZ2VkID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBsYXlvdXRDaGFuZ2VkKGxheW91dCk7XG4gICAgfVxuICB9LCBbbGF5b3V0LCBsYXlvdXRDaGFuZ2VkXSk7XG4gIGNvbnN0IGdldExheW91dEZvcktleSA9IChrZXksIGRlZmF1bHRWYWx1ZSkgPT4ge1xuICAgIHJldHVybiBnZXQobGF5b3V0LCBrZXksIGRlZmF1bHRWYWx1ZSk7XG4gIH07XG4gIGNvbnN0IHNldExheW91dEZvcktleSA9IChrZXksIGNvbmZpZykgPT4ge1xuICAgIHNldExheW91dChwcmV2TGF5b3V0ID0+IHtcbiAgICAgIGNvbnN0IG5ld0xheW91dCA9IGFzc2lnbih7fSwgcHJldkxheW91dCk7XG4gICAgICBzZXQkMShuZXdMYXlvdXQsIGtleSwgY29uZmlnKTtcbiAgICAgIHJldHVybiBuZXdMYXlvdXQ7XG4gICAgfSk7XG4gIH07XG4gIGNvbnN0IGxheW91dENvbnRleHQgPSB7XG4gICAgbGF5b3V0LFxuICAgIHNldExheW91dCxcbiAgICBnZXRMYXlvdXRGb3JLZXksXG4gICAgc2V0TGF5b3V0Rm9yS2V5XG4gIH07XG5cbiAgLy8gc2V0LXVwIGRlc2NyaXB0aW9uIGNvbnRleHRcbiAgY29uc3QgZGVzY3JpcHRpb24gPSB1c2VNZW1vKCgpID0+IGNyZWF0ZURlc2NyaXB0aW9uQ29udGV4dChkZXNjcmlwdGlvbkNvbmZpZyksIFtkZXNjcmlwdGlvbkNvbmZpZ10pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICh0eXBlb2YgZGVzY3JpcHRpb25Mb2FkZWQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGRlc2NyaXB0aW9uTG9hZGVkKGRlc2NyaXB0aW9uKTtcbiAgICB9XG4gIH0sIFtkZXNjcmlwdGlvbiwgZGVzY3JpcHRpb25Mb2FkZWRdKTtcbiAgY29uc3QgZ2V0RGVzY3JpcHRpb25Gb3JJZCA9IChpZCwgZWxlbWVudCkgPT4ge1xuICAgIHJldHVybiBkZXNjcmlwdGlvbltpZF0gJiYgZGVzY3JpcHRpb25baWRdKGVsZW1lbnQpO1xuICB9O1xuICBjb25zdCBkZXNjcmlwdGlvbkNvbnRleHQgPSB7XG4gICAgZGVzY3JpcHRpb24sXG4gICAgZ2V0RGVzY3JpcHRpb25Gb3JJZFxuICB9O1xuXG4gIC8vIHNldC11cCB0b29sdGlwIGNvbnRleHRcbiAgY29uc3QgdG9vbHRpcCA9IHVzZU1lbW8oKCkgPT4gY3JlYXRlVG9vbHRpcENvbnRleHQodG9vbHRpcENvbmZpZyksIFt0b29sdGlwQ29uZmlnXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB0b29sdGlwTG9hZGVkID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0b29sdGlwTG9hZGVkKHRvb2x0aXApO1xuICAgIH1cbiAgfSwgW3Rvb2x0aXAsIHRvb2x0aXBMb2FkZWRdKTtcbiAgY29uc3QgZ2V0VG9vbHRpcEZvcklkID0gKGlkLCBlbGVtZW50KSA9PiB7XG4gICAgcmV0dXJuIHRvb2x0aXBbaWRdICYmIHRvb2x0aXBbaWRdKGVsZW1lbnQpO1xuICB9O1xuICBjb25zdCB0b29sdGlwQ29udGV4dCA9IHtcbiAgICB0b29sdGlwLFxuICAgIGdldFRvb2x0aXBGb3JJZFxuICB9O1xuICBjb25zdCBbZXJyb3JzLCBzZXRFcnJvcnNdID0gdXNlU3RhdGUoe30pO1xuICBjb25zdCBvblNldEVycm9ycyA9ICh7XG4gICAgZXJyb3JzXG4gIH0pID0+IHNldEVycm9ycyhlcnJvcnMpO1xuICB1c2VFdmVudCgncHJvcGVydGllc1BhbmVsLnNldEVycm9ycycsIG9uU2V0RXJyb3JzLCBldmVudEJ1cyk7XG4gIGNvbnN0IGVycm9yc0NvbnRleHQgPSB7XG4gICAgZXJyb3JzXG4gIH07XG4gIGNvbnN0IGV2ZW50Q29udGV4dCA9IHtcbiAgICBldmVudEJ1c1xuICB9O1xuICBjb25zdCBwcm9wZXJ0aWVzUGFuZWxDb250ZXh0ID0ge1xuICAgIGVsZW1lbnRcbiAgfTtcblxuICAvLyBlbXB0eSBzdGF0ZVxuICBpZiAocGxhY2Vob2xkZXJQcm92aWRlciAmJiAhZWxlbWVudCkge1xuICAgIHJldHVybiBqc3goUGxhY2Vob2xkZXIsIHtcbiAgICAgIC4uLnBsYWNlaG9sZGVyUHJvdmlkZXIuZ2V0RW1wdHkoKVxuICAgIH0pO1xuICB9XG5cbiAgLy8gbXVsdGlwbGUgc3RhdGVcbiAgaWYgKHBsYWNlaG9sZGVyUHJvdmlkZXIgJiYgaXNBcnJheShlbGVtZW50KSkge1xuICAgIHJldHVybiBqc3goUGxhY2Vob2xkZXIsIHtcbiAgICAgIC4uLnBsYWNlaG9sZGVyUHJvdmlkZXIuZ2V0TXVsdGlwbGUoKVxuICAgIH0pO1xuICB9XG4gIHJldHVybiBqc3goTGF5b3V0Q29udGV4dC5Qcm92aWRlciwge1xuICAgIHZhbHVlOiBwcm9wZXJ0aWVzUGFuZWxDb250ZXh0LFxuICAgIGNoaWxkcmVuOiBqc3goRXJyb3JzQ29udGV4dC5Qcm92aWRlciwge1xuICAgICAgdmFsdWU6IGVycm9yc0NvbnRleHQsXG4gICAgICBjaGlsZHJlbjoganN4KERlc2NyaXB0aW9uQ29udGV4dC5Qcm92aWRlciwge1xuICAgICAgICB2YWx1ZTogZGVzY3JpcHRpb25Db250ZXh0LFxuICAgICAgICBjaGlsZHJlbjoganN4KFRvb2x0aXBDb250ZXh0LlByb3ZpZGVyLCB7XG4gICAgICAgICAgdmFsdWU6IHRvb2x0aXBDb250ZXh0LFxuICAgICAgICAgIGNoaWxkcmVuOiBqc3goTGF5b3V0Q29udGV4dC5Qcm92aWRlciwge1xuICAgICAgICAgICAgdmFsdWU6IGxheW91dENvbnRleHQsXG4gICAgICAgICAgICBjaGlsZHJlbjoganN4KEV2ZW50Q29udGV4dC5Qcm92aWRlciwge1xuICAgICAgICAgICAgICB2YWx1ZTogZXZlbnRDb250ZXh0LFxuICAgICAgICAgICAgICBjaGlsZHJlbjoganN4cyhcImRpdlwiLCB7XG4gICAgICAgICAgICAgICAgY2xhc3M6IFwiYmlvLXByb3BlcnRpZXMtcGFuZWxcIixcbiAgICAgICAgICAgICAgICBjaGlsZHJlbjogW2pzeChIZWFkZXIsIHtcbiAgICAgICAgICAgICAgICAgIGVsZW1lbnQ6IGVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICBoZWFkZXJQcm92aWRlcjogaGVhZGVyUHJvdmlkZXJcbiAgICAgICAgICAgICAgICB9KSwganN4KFwiZGl2XCIsIHtcbiAgICAgICAgICAgICAgICAgIGNsYXNzOiBcImJpby1wcm9wZXJ0aWVzLXBhbmVsLXNjcm9sbC1jb250YWluZXJcIixcbiAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBncm91cHMubWFwKGdyb3VwID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudDogQ29tcG9uZW50ID0gR3JvdXAsXG4gICAgICAgICAgICAgICAgICAgICAgaWRcbiAgICAgICAgICAgICAgICAgICAgfSA9IGdyb3VwO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlRWxlbWVudCQxKENvbXBvbmVudCwge1xuICAgICAgICAgICAgICAgICAgICAgIC4uLmdyb3VwLFxuICAgICAgICAgICAgICAgICAgICAgIGtleTogaWQsXG4gICAgICAgICAgICAgICAgICAgICAgZWxlbWVudDogZWxlbWVudFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfSldXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgIH0pXG4gIH0pO1xufVxuXG4vLyBoZWxwZXJzIC8vLy8vLy8vLy8vLy8vLy8vL1xuXG5mdW5jdGlvbiBjcmVhdGVMYXlvdXQob3ZlcnJpZGVzID0ge30sIGRlZmF1bHRzID0gREVGQVVMVF9MQVlPVVQpIHtcbiAgcmV0dXJuIHtcbiAgICAuLi5kZWZhdWx0cyxcbiAgICAuLi5vdmVycmlkZXNcbiAgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZURlc2NyaXB0aW9uQ29udGV4dChvdmVycmlkZXMgPSB7fSkge1xuICByZXR1cm4ge1xuICAgIC4uLkRFRkFVTFRfREVTQ1JJUFRJT04sXG4gICAgLi4ub3ZlcnJpZGVzXG4gIH07XG59XG5mdW5jdGlvbiBjcmVhdGVUb29sdGlwQ29udGV4dChvdmVycmlkZXMgPSB7fSkge1xuICByZXR1cm4ge1xuICAgIC4uLkRFRkFVTFRfVE9PTFRJUCxcbiAgICAuLi5vdmVycmlkZXNcbiAgfTtcbn1cblxuLy8gaG9va3MgLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8qKlxuICogVGhpcyBob29rIGJlaGF2ZXMgbGlrZSB1c2VMYXlvdXRFZmZlY3QsIGJ1dCBkb2VzIG5vdCB0cmlnZ2VyIG9uIHRoZSBmaXJzdCByZW5kZXIuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZWZmZWN0XG4gKiBAcGFyYW0ge0FycmF5fSBkZXBzXG4gKi9cbmZ1bmN0aW9uIHVzZVVwZGF0ZUxheW91dEVmZmVjdChlZmZlY3QsIGRlcHMpIHtcbiAgY29uc3QgaXNNb3VudGVkID0gdXNlUmVmKGZhbHNlKTtcbiAgdXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaXNNb3VudGVkLmN1cnJlbnQpIHtcbiAgICAgIHJldHVybiBlZmZlY3QoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaXNNb3VudGVkLmN1cnJlbnQgPSB0cnVlO1xuICAgIH1cbiAgfSwgZGVwcyk7XG59XG5cbi8qKlxuICogQHR5cGVkZWYgeyB7XG4gKiAgIFtrZXk6IHN0cmluZ106IHN0cmluZztcbiAqIH0gfSBUcmFuc2xhdGVSZXBsYWNlbWVudHNcbiAqL1xuXG4vKipcbiAqIEEgc2ltcGxlIHRyYW5zbGF0aW9uIHN0dWIgdG8gYmUgdXNlZCBmb3IgbXVsdGktbGFuZ3VhZ2Ugc3VwcG9ydC5cbiAqIENhbiBiZSBlYXNpbHkgcmVwbGFjZWQgd2l0aCBhIG1vcmUgc29waGlzdGljYXRlZCBzb2x1dGlvbi5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdGVtcGxhdGUgdG8gaW50ZXJwb2xhdGVcbiAqIEBwYXJhbSB7VHJhbnNsYXRlUmVwbGFjZW1lbnRzfSBbcmVwbGFjZW1lbnRzXSBhIG1hcCB3aXRoIHN1YnN0aXR1dGVzXG4gKlxuICogQHJldHVybiB7c3RyaW5nfSB0aGUgdHJhbnNsYXRlZCBzdHJpbmdcbiAqL1xuZnVuY3Rpb24gdHJhbnNsYXRlRmFsbGJhY2sodGVtcGxhdGUsIHJlcGxhY2VtZW50cykge1xuICByZXBsYWNlbWVudHMgPSByZXBsYWNlbWVudHMgfHwge307XG4gIHJldHVybiB0ZW1wbGF0ZS5yZXBsYWNlKC97KFtefV0rKX0vZywgZnVuY3Rpb24gKF8sIGtleSkge1xuICAgIHJldHVybiByZXBsYWNlbWVudHNba2V5XSB8fCAneycgKyBrZXkgKyAnfSc7XG4gIH0pO1xufVxuZnVuY3Rpb24gQ29sbGFwc2libGVFbnRyeShwcm9wcykge1xuICBjb25zdCB7XG4gICAgZWxlbWVudCxcbiAgICBlbnRyaWVzID0gW10sXG4gICAgaWQsXG4gICAgbGFiZWwsXG4gICAgb3Blbjogc2hvdWxkT3BlbixcbiAgICByZW1vdmUsXG4gICAgdHJhbnNsYXRlID0gdHJhbnNsYXRlRmFsbGJhY2tcbiAgfSA9IHByb3BzO1xuICBjb25zdCBbb3Blbiwgc2V0T3Blbl0gPSB1c2VTdGF0ZShzaG91bGRPcGVuKTtcbiAgY29uc3QgdG9nZ2xlT3BlbiA9ICgpID0+IHNldE9wZW4oIW9wZW4pO1xuICBjb25zdCB7XG4gICAgb25TaG93XG4gIH0gPSB1c2VDb250ZXh0KExheW91dENvbnRleHQpO1xuICBjb25zdCBwcm9wZXJ0aWVzUGFuZWxDb250ZXh0ID0ge1xuICAgIC4uLnVzZUNvbnRleHQoTGF5b3V0Q29udGV4dCksXG4gICAgb25TaG93OiB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICBzZXRPcGVuKHRydWUpO1xuICAgICAgaWYgKGlzRnVuY3Rpb24ob25TaG93KSkge1xuICAgICAgICBvblNob3coKTtcbiAgICAgIH1cbiAgICB9LCBbb25TaG93LCBzZXRPcGVuXSlcbiAgfTtcbiAgY29uc3QgcGxhY2Vob2xkZXJMYWJlbCA9IHRyYW5zbGF0ZSgnPGVtcHR5PicpO1xuICByZXR1cm4ganN4cyhcImRpdlwiLCB7XG4gICAgXCJkYXRhLWVudHJ5LWlkXCI6IGlkLFxuICAgIGNsYXNzOiBjbGFzc25hbWVzKCdiaW8tcHJvcGVydGllcy1wYW5lbC1jb2xsYXBzaWJsZS1lbnRyeScsIG9wZW4gPyAnb3BlbicgOiAnJyksXG4gICAgY2hpbGRyZW46IFtqc3hzKFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzOiBcImJpby1wcm9wZXJ0aWVzLXBhbmVsLWNvbGxhcHNpYmxlLWVudHJ5LWhlYWRlclwiLFxuICAgICAgb25DbGljazogdG9nZ2xlT3BlbixcbiAgICAgIGNoaWxkcmVuOiBbanN4KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3M6IGNsYXNzbmFtZXMoJ2Jpby1wcm9wZXJ0aWVzLXBhbmVsLWNvbGxhcHNpYmxlLWVudHJ5LWhlYWRlci10aXRsZScsICFsYWJlbCAmJiAnZW1wdHknKSxcbiAgICAgICAgY2hpbGRyZW46IGxhYmVsIHx8IHBsYWNlaG9sZGVyTGFiZWxcbiAgICAgIH0pLCBqc3goXCJidXR0b25cIiwge1xuICAgICAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgICAgICB0aXRsZTogdHJhbnNsYXRlKCdUb2dnbGUgbGlzdCBpdGVtJyksXG4gICAgICAgIGNsYXNzOiBcImJpby1wcm9wZXJ0aWVzLXBhbmVsLWFycm93ICBiaW8tcHJvcGVydGllcy1wYW5lbC1jb2xsYXBzaWJsZS1lbnRyeS1hcnJvd1wiLFxuICAgICAgICBjaGlsZHJlbjoganN4KEFycm93SWNvbiwge1xuICAgICAgICAgIGNsYXNzOiBvcGVuID8gJ2Jpby1wcm9wZXJ0aWVzLXBhbmVsLWFycm93LWRvd24nIDogJ2Jpby1wcm9wZXJ0aWVzLXBhbmVsLWFycm93LXJpZ2h0J1xuICAgICAgICB9KVxuICAgICAgfSksIHJlbW92ZSA/IGpzeChcImJ1dHRvblwiLCB7XG4gICAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgICAgIHRpdGxlOiB0cmFuc2xhdGUoJ0RlbGV0ZSBpdGVtJyksXG4gICAgICAgIGNsYXNzOiBcImJpby1wcm9wZXJ0aWVzLXBhbmVsLXJlbW92ZS1lbnRyeVwiLFxuICAgICAgICBvbkNsaWNrOiByZW1vdmUsXG4gICAgICAgIGNoaWxkcmVuOiBqc3goRGVsZXRlSWNvbiwge30pXG4gICAgICB9KSA6IG51bGxdXG4gICAgfSksIGpzeChcImRpdlwiLCB7XG4gICAgICBjbGFzczogY2xhc3NuYW1lcygnYmlvLXByb3BlcnRpZXMtcGFuZWwtY29sbGFwc2libGUtZW50cnktZW50cmllcycsIG9wZW4gPyAnb3BlbicgOiAnJyksXG4gICAgICBjaGlsZHJlbjoganN4KExheW91dENvbnRleHQuUHJvdmlkZXIsIHtcbiAgICAgICAgdmFsdWU6IHByb3BlcnRpZXNQYW5lbENvbnRleHQsXG4gICAgICAgIGNoaWxkcmVuOiBlbnRyaWVzLm1hcChlbnRyeSA9PiB7XG4gICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgY29tcG9uZW50OiBDb21wb25lbnQsXG4gICAgICAgICAgICBpZFxuICAgICAgICAgIH0gPSBlbnRyeTtcbiAgICAgICAgICByZXR1cm4gY3JlYXRlRWxlbWVudCQxKENvbXBvbmVudCwge1xuICAgICAgICAgICAgLi4uZW50cnksXG4gICAgICAgICAgICBlbGVtZW50OiBlbGVtZW50LFxuICAgICAgICAgICAga2V5OiBpZFxuICAgICAgICAgIH0pO1xuICAgICAgICB9KVxuICAgICAgfSlcbiAgICB9KV1cbiAgfSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoJy4uL1Byb3BlcnRpZXNQYW5lbCcpLkxpc3RJdGVtRGVmaW5pdGlvbn0gcHJvcHNcbiAqL1xuZnVuY3Rpb24gTGlzdEl0ZW0ocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGF1dG9Gb2N1c0VudHJ5LFxuICAgIGF1dG9PcGVuLFxuICAgIHRyYW5zbGF0ZSA9IHRyYW5zbGF0ZUZhbGxiYWNrXG4gIH0gPSBwcm9wcztcblxuICAvLyBmb2N1cyBzcGVjaWZpZWQgZW50cnkgb24gYXV0byBvcGVuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGF1dG9PcGVuICYmIGF1dG9Gb2N1c0VudHJ5KSB7XG4gICAgICBjb25zdCBlbnRyeSA9IHF1ZXJ5KGBbZGF0YS1lbnRyeS1pZD1cIiR7YXV0b0ZvY3VzRW50cnl9XCJdYCk7XG4gICAgICBjb25zdCBmb2N1c2FibGVJbnB1dCA9IHF1ZXJ5KCcuYmlvLXByb3BlcnRpZXMtcGFuZWwtaW5wdXQnLCBlbnRyeSk7XG4gICAgICBpZiAoZm9jdXNhYmxlSW5wdXQpIHtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24oZm9jdXNhYmxlSW5wdXQuc2VsZWN0KSkge1xuICAgICAgICAgIGZvY3VzYWJsZUlucHV0LnNlbGVjdCgpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzRnVuY3Rpb24oZm9jdXNhYmxlSW5wdXQuZm9jdXMpKSB7XG4gICAgICAgICAgZm9jdXNhYmxlSW5wdXQuZm9jdXMoKTtcbiAgICAgICAgfVxuICAgICAgICBmb2N1c2FibGVJbnB1dC5zY3JvbGxJbnRvVmlldygpO1xuICAgICAgfVxuICAgIH1cbiAgfSwgW2F1dG9PcGVuLCBhdXRvRm9jdXNFbnRyeV0pO1xuICByZXR1cm4ganN4KFwiZGl2XCIsIHtcbiAgICBjbGFzczogXCJiaW8tcHJvcGVydGllcy1wYW5lbC1saXN0LWl0ZW1cIixcbiAgICBjaGlsZHJlbjoganN4KENvbGxhcHNpYmxlRW50cnksIHtcbiAgICAgIC4uLnByb3BzLFxuICAgICAgb3BlbjogYXV0b09wZW4sXG4gICAgICB0cmFuc2xhdGU6IHRyYW5zbGF0ZVxuICAgIH0pXG4gIH0pO1xufVxuY29uc3Qgbm9vcCQ2ID0gKCkgPT4ge307XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoJy4uL1Byb3BlcnRpZXNQYW5lbCcpLkxpc3RHcm91cERlZmluaXRpb259IHByb3BzXG4gKi9cbmZ1bmN0aW9uIExpc3RHcm91cChwcm9wcykge1xuICBjb25zdCB7XG4gICAgYWRkLFxuICAgIGVsZW1lbnQsXG4gICAgaWQsXG4gICAgaXRlbXMsXG4gICAgbGFiZWwsXG4gICAgc2hvdWxkT3BlbiA9IGZhbHNlLFxuICAgIHRyYW5zbGF0ZSA9IHRyYW5zbGF0ZUZhbGxiYWNrXG4gIH0gPSBwcm9wcztcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAocHJvcHMuc2hvdWxkU29ydCAhPSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbnNvbGUud2FybigndGhlIHByb3BlcnR5IFxcJ3Nob3VsZFNvcnRcXCcgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZCcpO1xuICAgIH1cbiAgfSwgW3Byb3BzLnNob3VsZFNvcnRdKTtcbiAgY29uc3QgZ3JvdXBSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IFtvcGVuLCBzZXRPcGVuXSA9IHVzZUxheW91dFN0YXRlKFsnZ3JvdXBzJywgaWQsICdvcGVuJ10sIHNob3VsZE9wZW4pO1xuICBjb25zdCBbc3RpY2t5LCBzZXRTdGlja3ldID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBvblNob3cgPSB1c2VDYWxsYmFjaygoKSA9PiBzZXRPcGVuKHRydWUpLCBbc2V0T3Blbl0pO1xuICBjb25zdCBbbG9jYWxJdGVtcywgc2V0TG9jYWxJdGVtc10gPSB1c2VTdGF0ZShbXSk7XG5cbiAgLy8gRmxhZyB0byBtYXJrIHRoYXQgYWRkIGJ1dHRvbiB3YXMgY2xpY2tlZCBpbiB0aGUgbGFzdCByZW5kZXIgY3ljbGVcbiAgY29uc3QgW2FkZFRyaWdnZXJlZCwgc2V0QWRkVHJpZ2dlcmVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgcHJldkVsZW1lbnQgPSB1c2VQcmV2aW91cyhlbGVtZW50KTtcbiAgY29uc3QgdG9nZ2xlT3BlbiA9IHVzZUNhbGxiYWNrKCgpID0+IHNldE9wZW4oIW9wZW4pLCBbb3Blbl0pO1xuICBjb25zdCBvcGVuSXRlbUlkcyA9IGVsZW1lbnQgPT09IHByZXZFbGVtZW50ICYmIG9wZW4gJiYgYWRkVHJpZ2dlcmVkID8gZ2V0TmV3SXRlbUlkcyhpdGVtcywgbG9jYWxJdGVtcykgOiBbXTtcblxuICAvLyByZXNldCBsb2NhbCBzdGF0ZSBhZnRlciBpdGVtcyBjaGFuZ2VkXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0TG9jYWxJdGVtcyhpdGVtcyk7XG4gICAgc2V0QWRkVHJpZ2dlcmVkKGZhbHNlKTtcbiAgfSwgW2l0ZW1zXSk7XG5cbiAgLy8gc2V0IGNzcyBjbGFzcyB3aGVuIGdyb3VwIGlzIHN0aWNreSB0byB0b3BcbiAgdXNlU3RpY2t5SW50ZXJzZWN0aW9uT2JzZXJ2ZXIoZ3JvdXBSZWYsICdkaXYuYmlvLXByb3BlcnRpZXMtcGFuZWwtc2Nyb2xsLWNvbnRhaW5lcicsIHNldFN0aWNreSk7XG4gIGNvbnN0IGhhc0l0ZW1zID0gISFpdGVtcy5sZW5ndGg7XG4gIGNvbnN0IHByb3BlcnRpZXNQYW5lbENvbnRleHQgPSB7XG4gICAgLi4udXNlQ29udGV4dChMYXlvdXRDb250ZXh0KSxcbiAgICBvblNob3dcbiAgfTtcbiAgY29uc3QgaGFuZGxlQWRkQ2xpY2sgPSBlID0+IHtcbiAgICBzZXRBZGRUcmlnZ2VyZWQodHJ1ZSk7XG4gICAgc2V0T3Blbih0cnVlKTtcbiAgICBhZGQoZSk7XG4gIH07XG4gIGNvbnN0IGFsbEVycm9ycyA9IHVzZUVycm9ycygpO1xuICBjb25zdCBoYXNFcnJvciA9IGl0ZW1zLnNvbWUoaXRlbSA9PiB7XG4gICAgaWYgKGFsbEVycm9yc1tpdGVtLmlkXSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmICghaXRlbS5lbnRyaWVzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gYWxzbyBjaGVjayBpZiB0aGUgZXJyb3IgaXMgbmVzdGVkLCBlLmcuIGZvciBuYW1lLXZhbHVlIGVudHJpZXNcbiAgICByZXR1cm4gaXRlbS5lbnRyaWVzLnNvbWUoZW50cnkgPT4gYWxsRXJyb3JzW2VudHJ5LmlkXSk7XG4gIH0pO1xuICByZXR1cm4ganN4cyhcImRpdlwiLCB7XG4gICAgY2xhc3M6IFwiYmlvLXByb3BlcnRpZXMtcGFuZWwtZ3JvdXBcIixcbiAgICBcImRhdGEtZ3JvdXAtaWRcIjogJ2dyb3VwLScgKyBpZCxcbiAgICByZWY6IGdyb3VwUmVmLFxuICAgIGNoaWxkcmVuOiBbanN4cyhcImRpdlwiLCB7XG4gICAgICBjbGFzczogY2xhc3NuYW1lcygnYmlvLXByb3BlcnRpZXMtcGFuZWwtZ3JvdXAtaGVhZGVyJywgaGFzSXRlbXMgPyAnJyA6ICdlbXB0eScsIGhhc0l0ZW1zICYmIG9wZW4gPyAnb3BlbicgOiAnJywgc3RpY2t5ICYmIG9wZW4gPyAnc3RpY2t5JyA6ICcnKSxcbiAgICAgIG9uQ2xpY2s6IGhhc0l0ZW1zID8gdG9nZ2xlT3BlbiA6IG5vb3AkNixcbiAgICAgIGNoaWxkcmVuOiBbanN4KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3M6IFwiYmlvLXByb3BlcnRpZXMtcGFuZWwtZ3JvdXAtaGVhZGVyLXRpdGxlXCIsXG4gICAgICAgIGNoaWxkcmVuOiBqc3goVG9vbHRpcFdyYXBwZXIsIHtcbiAgICAgICAgICB2YWx1ZTogcHJvcHMudG9vbHRpcCxcbiAgICAgICAgICBmb3JJZDogJ2dyb3VwLScgKyBpZCxcbiAgICAgICAgICBlbGVtZW50OiBlbGVtZW50LFxuICAgICAgICAgIHBhcmVudDogZ3JvdXBSZWYsXG4gICAgICAgICAgY2hpbGRyZW46IGxhYmVsXG4gICAgICAgIH0pXG4gICAgICB9KSwganN4cyhcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzOiBcImJpby1wcm9wZXJ0aWVzLXBhbmVsLWdyb3VwLWhlYWRlci1idXR0b25zXCIsXG4gICAgICAgIGNoaWxkcmVuOiBbYWRkID8ganN4cyhcImJ1dHRvblwiLCB7XG4gICAgICAgICAgdHlwZTogXCJidXR0b25cIixcbiAgICAgICAgICB0aXRsZTogdHJhbnNsYXRlKCdDcmVhdGUgbmV3IGxpc3QgaXRlbScpLFxuICAgICAgICAgIGNsYXNzOiBcImJpby1wcm9wZXJ0aWVzLXBhbmVsLWdyb3VwLWhlYWRlci1idXR0b24gYmlvLXByb3BlcnRpZXMtcGFuZWwtYWRkLWVudHJ5XCIsXG4gICAgICAgICAgb25DbGljazogaGFuZGxlQWRkQ2xpY2ssXG4gICAgICAgICAgY2hpbGRyZW46IFtqc3goQ3JlYXRlSWNvbiwge30pLCAhaGFzSXRlbXMgPyBqc3goXCJzcGFuXCIsIHtcbiAgICAgICAgICAgIGNsYXNzOiBcImJpby1wcm9wZXJ0aWVzLXBhbmVsLWFkZC1lbnRyeS1sYWJlbFwiLFxuICAgICAgICAgICAgY2hpbGRyZW46IHRyYW5zbGF0ZSgnQ3JlYXRlJylcbiAgICAgICAgICB9KSA6IG51bGxdXG4gICAgICAgIH0pIDogbnVsbCwgaGFzSXRlbXMgPyBqc3goXCJkaXZcIiwge1xuICAgICAgICAgIHRpdGxlOiB0cmFuc2xhdGUoYExpc3QgY29udGFpbnMge251bU9mSXRlbXN9IGl0ZW0ke2l0ZW1zLmxlbmd0aCAhPSAxID8gJ3MnIDogJyd9YCwge1xuICAgICAgICAgICAgbnVtT2ZJdGVtczogaXRlbXMubGVuZ3RoXG4gICAgICAgICAgfSksXG4gICAgICAgICAgY2xhc3M6IGNsYXNzbmFtZXMoJ2Jpby1wcm9wZXJ0aWVzLXBhbmVsLWxpc3QtYmFkZ2UnLCBoYXNFcnJvciA/ICdiaW8tcHJvcGVydGllcy1wYW5lbC1saXN0LWJhZGdlLS1lcnJvcicgOiAnJyksXG4gICAgICAgICAgY2hpbGRyZW46IGl0ZW1zLmxlbmd0aFxuICAgICAgICB9KSA6IG51bGwsIGhhc0l0ZW1zID8ganN4KFwiYnV0dG9uXCIsIHtcbiAgICAgICAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgICAgICAgIHRpdGxlOiB0cmFuc2xhdGUoJ1RvZ2dsZSBzZWN0aW9uJyksXG4gICAgICAgICAgY2xhc3M6IFwiYmlvLXByb3BlcnRpZXMtcGFuZWwtZ3JvdXAtaGVhZGVyLWJ1dHRvbiBiaW8tcHJvcGVydGllcy1wYW5lbC1hcnJvd1wiLFxuICAgICAgICAgIGNoaWxkcmVuOiBqc3goQXJyb3dJY29uLCB7XG4gICAgICAgICAgICBjbGFzczogb3BlbiA/ICdiaW8tcHJvcGVydGllcy1wYW5lbC1hcnJvdy1kb3duJyA6ICdiaW8tcHJvcGVydGllcy1wYW5lbC1hcnJvdy1yaWdodCdcbiAgICAgICAgICB9KVxuICAgICAgICB9KSA6IG51bGxdXG4gICAgICB9KV1cbiAgICB9KSwganN4KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzOiBjbGFzc25hbWVzKCdiaW8tcHJvcGVydGllcy1wYW5lbC1saXN0Jywgb3BlbiAmJiBoYXNJdGVtcyA/ICdvcGVuJyA6ICcnKSxcbiAgICAgIGNoaWxkcmVuOiBqc3goTGF5b3V0Q29udGV4dC5Qcm92aWRlciwge1xuICAgICAgICB2YWx1ZTogcHJvcGVydGllc1BhbmVsQ29udGV4dCxcbiAgICAgICAgY2hpbGRyZW46IGl0ZW1zLm1hcCgoaXRlbSwgaW5kZXgpID0+IHtcbiAgICAgICAgICBpZiAoIWl0ZW0pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgaWRcbiAgICAgICAgICB9ID0gaXRlbTtcblxuICAgICAgICAgIC8vIGlmIGl0ZW0gd2FzIGFkZGVkLCBvcGVuIGl0XG4gICAgICAgICAgLy8gZXhpc3RpbmcgaXRlbXMgd2lsbCBub3QgYmUgYWZmZWN0ZWQgYXMgYXV0b09wZW5cbiAgICAgICAgICAvLyBpcyBvbmx5IGFwcGxpZWQgb24gZmlyc3QgcmVuZGVyXG4gICAgICAgICAgY29uc3QgYXV0b09wZW4gPSBvcGVuSXRlbUlkcy5pbmNsdWRlcyhpdGVtLmlkKTtcbiAgICAgICAgICByZXR1cm4gY3JlYXRlRWxlbWVudCQxKExpc3RJdGVtLCB7XG4gICAgICAgICAgICAuLi5pdGVtLFxuICAgICAgICAgICAgYXV0b09wZW46IGF1dG9PcGVuLFxuICAgICAgICAgICAgZWxlbWVudDogZWxlbWVudCxcbiAgICAgICAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgICAgICAgIGtleTogaWQsXG4gICAgICAgICAgICB0cmFuc2xhdGU6IHRyYW5zbGF0ZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KVxuICAgICAgfSlcbiAgICB9KV1cbiAgfSk7XG59XG5mdW5jdGlvbiBnZXROZXdJdGVtSWRzKG5ld0l0ZW1zLCBvbGRJdGVtcykge1xuICBjb25zdCBuZXdJZHMgPSBuZXdJdGVtcy5tYXAoaXRlbSA9PiBpdGVtLmlkKTtcbiAgY29uc3Qgb2xkSWRzID0gb2xkSXRlbXMubWFwKGl0ZW0gPT4gaXRlbS5pZCk7XG4gIHJldHVybiBuZXdJZHMuZmlsdGVyKGl0ZW1JZCA9PiAhb2xkSWRzLmluY2x1ZGVzKGl0ZW1JZCkpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wc1xuICogQHBhcmFtIHtPYmplY3R9IHByb3BzLmVsZW1lbnRcbiAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wcy5mb3JJZCAtIGlkIG9mIHRoZSBlbnRyeSB0aGUgZGVzY3JpcHRpb24gaXMgdXNlZCBmb3JcbiAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wcy52YWx1ZVxuICovXG5mdW5jdGlvbiBEZXNjcmlwdGlvbiQxKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBlbGVtZW50LFxuICAgIGZvcklkLFxuICAgIHZhbHVlXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgY29udGV4dERlc2NyaXB0aW9uID0gdXNlRGVzY3JpcHRpb25Db250ZXh0KGZvcklkLCBlbGVtZW50KTtcbiAgY29uc3QgZGVzY3JpcHRpb24gPSB2YWx1ZSB8fCBjb250ZXh0RGVzY3JpcHRpb247XG4gIGlmIChkZXNjcmlwdGlvbikge1xuICAgIHJldHVybiBqc3goXCJkaXZcIiwge1xuICAgICAgY2xhc3M6IFwiYmlvLXByb3BlcnRpZXMtcGFuZWwtZGVzY3JpcHRpb25cIixcbiAgICAgIGNoaWxkcmVuOiBkZXNjcmlwdGlvblxuICAgIH0pO1xuICB9XG59XG5mdW5jdGlvbiBDaGVja2JveChwcm9wcykge1xuICBjb25zdCB7XG4gICAgaWQsXG4gICAgbGFiZWwsXG4gICAgb25DaGFuZ2UsXG4gICAgZGlzYWJsZWQsXG4gICAgdmFsdWUgPSBmYWxzZSxcbiAgICBvbkZvY3VzLFxuICAgIG9uQmx1cixcbiAgICB0b29sdGlwXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgW2xvY2FsVmFsdWUsIHNldExvY2FsVmFsdWVdID0gdXNlU3RhdGUodmFsdWUpO1xuICBjb25zdCBoYW5kbGVDaGFuZ2VDYWxsYmFjayA9ICh7XG4gICAgdGFyZ2V0XG4gIH0pID0+IHtcbiAgICBvbkNoYW5nZSh0YXJnZXQuY2hlY2tlZCk7XG4gIH07XG4gIGNvbnN0IGhhbmRsZUNoYW5nZSA9IGUgPT4ge1xuICAgIGhhbmRsZUNoYW5nZUNhbGxiYWNrKGUpO1xuICAgIHNldExvY2FsVmFsdWUoZS50YXJnZXQudmFsdWUpO1xuICB9O1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICh2YWx1ZSA9PT0gbG9jYWxWYWx1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzZXRMb2NhbFZhbHVlKHZhbHVlKTtcbiAgfSwgW3ZhbHVlXSk7XG4gIGNvbnN0IHJlZiA9IHVzZVNob3dFbnRyeUV2ZW50KGlkKTtcbiAgcmV0dXJuIGpzeHMoXCJkaXZcIiwge1xuICAgIGNsYXNzOiBcImJpby1wcm9wZXJ0aWVzLXBhbmVsLWNoZWNrYm94XCIsXG4gICAgY2hpbGRyZW46IFtqc3goXCJpbnB1dFwiLCB7XG4gICAgICByZWY6IHJlZixcbiAgICAgIGlkOiBwcmVmaXhJZCQ4KGlkKSxcbiAgICAgIG5hbWU6IGlkLFxuICAgICAgb25Gb2N1czogb25Gb2N1cyxcbiAgICAgIG9uQmx1cjogb25CbHVyLFxuICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgY2xhc3M6IFwiYmlvLXByb3BlcnRpZXMtcGFuZWwtaW5wdXRcIixcbiAgICAgIG9uQ2hhbmdlOiBoYW5kbGVDaGFuZ2UsXG4gICAgICBjaGVja2VkOiBsb2NhbFZhbHVlLFxuICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkXG4gICAgfSksIGpzeChcImxhYmVsXCIsIHtcbiAgICAgIGZvcjogcHJlZml4SWQkOChpZCksXG4gICAgICBjbGFzczogXCJiaW8tcHJvcGVydGllcy1wYW5lbC1sYWJlbFwiLFxuICAgICAgY2hpbGRyZW46IGpzeChUb29sdGlwV3JhcHBlciwge1xuICAgICAgICB2YWx1ZTogdG9vbHRpcCxcbiAgICAgICAgZm9ySWQ6IGlkLFxuICAgICAgICBlbGVtZW50OiBwcm9wcy5lbGVtZW50LFxuICAgICAgICBjaGlsZHJlbjogbGFiZWxcbiAgICAgIH0pXG4gICAgfSldXG4gIH0pO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wc1xuICogQHBhcmFtIHtPYmplY3R9IHByb3BzLmVsZW1lbnRcbiAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wcy5pZFxuICogQHBhcmFtIHtTdHJpbmd9IHByb3BzLmRlc2NyaXB0aW9uXG4gKiBAcGFyYW0ge1N0cmluZ30gcHJvcHMubGFiZWxcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHByb3BzLmdldFZhbHVlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcm9wcy5zZXRWYWx1ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gcHJvcHMub25Gb2N1c1xuICogQHBhcmFtIHtGdW5jdGlvbn0gcHJvcHMub25CbHVyXG4gKiBAcGFyYW0ge3N0cmluZ3xpbXBvcnQoJ3ByZWFjdCcpLkNvbXBvbmVudH0gcHJvcHMudG9vbHRpcFxuICogQHBhcmFtIHtib29sZWFufSBbcHJvcHMuZGlzYWJsZWRdXG4gKi9cbmZ1bmN0aW9uIENoZWNrYm94RW50cnkocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGVsZW1lbnQsXG4gICAgaWQsXG4gICAgZGVzY3JpcHRpb24sXG4gICAgbGFiZWwsXG4gICAgZ2V0VmFsdWUsXG4gICAgc2V0VmFsdWUsXG4gICAgZGlzYWJsZWQsXG4gICAgb25Gb2N1cyxcbiAgICBvbkJsdXIsXG4gICAgdG9vbHRpcFxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IHZhbHVlID0gZ2V0VmFsdWUoZWxlbWVudCk7XG4gIGNvbnN0IGVycm9yID0gdXNlRXJyb3IoaWQpO1xuICByZXR1cm4ganN4cyhcImRpdlwiLCB7XG4gICAgY2xhc3M6IFwiYmlvLXByb3BlcnRpZXMtcGFuZWwtZW50cnkgYmlvLXByb3BlcnRpZXMtcGFuZWwtY2hlY2tib3gtZW50cnlcIixcbiAgICBcImRhdGEtZW50cnktaWRcIjogaWQsXG4gICAgY2hpbGRyZW46IFtqc3goQ2hlY2tib3gsIHtcbiAgICAgIGRpc2FibGVkOiBkaXNhYmxlZCxcbiAgICAgIGlkOiBpZCxcbiAgICAgIGxhYmVsOiBsYWJlbCxcbiAgICAgIG9uQ2hhbmdlOiBzZXRWYWx1ZSxcbiAgICAgIG9uRm9jdXM6IG9uRm9jdXMsXG4gICAgICBvbkJsdXI6IG9uQmx1cixcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIHRvb2x0aXA6IHRvb2x0aXAsXG4gICAgICBlbGVtZW50OiBlbGVtZW50XG4gICAgfSwgZWxlbWVudCksIGVycm9yICYmIGpzeChcImRpdlwiLCB7XG4gICAgICBjbGFzczogXCJiaW8tcHJvcGVydGllcy1wYW5lbC1lcnJvclwiLFxuICAgICAgY2hpbGRyZW46IGVycm9yXG4gICAgfSksIGpzeChEZXNjcmlwdGlvbiQxLCB7XG4gICAgICBmb3JJZDogaWQsXG4gICAgICBlbGVtZW50OiBlbGVtZW50LFxuICAgICAgdmFsdWU6IGRlc2NyaXB0aW9uXG4gICAgfSldXG4gIH0pO1xufVxuZnVuY3Rpb24gaXNFZGl0ZWQkOChub2RlKSB7XG4gIHJldHVybiBub2RlICYmICEhbm9kZS5jaGVja2VkO1xufVxuXG4vLyBoZWxwZXJzIC8vLy8vLy8vLy8vLy8vLy8vXG5cbmZ1bmN0aW9uIHByZWZpeElkJDgoaWQpIHtcbiAgcmV0dXJuIGBiaW8tcHJvcGVydGllcy1wYW5lbC0ke2lkfWA7XG59XG5cbi8qKlxuICogQnV0dG9uIHRvIG9wZW4gcG9wdXBzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wc1xuICogQHBhcmFtIHtGdW5jdGlvbn0gcHJvcHMub25DbGljayAtIENhbGxiYWNrIHRvIHRyaWdnZXIgd2hlbiB0aGUgYnV0dG9uIGlzIGNsaWNrZWQuXG4gKiBAcGFyYW0ge3N0cmluZ30gW3Byb3BzLnRpdGxlXSAtIFRvb2x0aXAgdGV4dCBmb3IgdGhlIGJ1dHRvbi5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Byb3BzLmRpc2FibGVkXSAtIFdoZXRoZXIgdGhlIGJ1dHRvbiBpcyBkaXNhYmxlZC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbcHJvcHMuY2xhc3NOYW1lXSAtIEFkZGl0aW9uYWwgY2xhc3MgbmFtZXMgZm9yIHRoZSBidXR0b24uXG4gKi9cbmZ1bmN0aW9uIE9wZW5Qb3B1cEJ1dHRvbih7XG4gIG9uQ2xpY2ssXG4gIHRpdGxlID0gJ09wZW4gcG9wLXVwIGVkaXRvcidcbn0pIHtcbiAgcmV0dXJuIGpzeChcImJ1dHRvblwiLCB7XG4gICAgdHlwZTogXCJidXR0b25cIixcbiAgICB0aXRsZTogdGl0bGUsXG4gICAgY2xhc3M6ICdiaW8tcHJvcGVydGllcy1wYW5lbC1vcGVuLWZlZWwtcG9wdXAnLFxuICAgIG9uQ2xpY2s6IG9uQ2xpY2ssXG4gICAgY2hpbGRyZW46IGpzeChPcGVuUG9wdXBJY29uLCB7fSlcbiAgfSk7XG59XG5jb25zdCBub29wJDUgPSAoKSA9PiB7fTtcblxuLyoqXG4gKiBCdWZmZXIgYC5mb2N1cygpYCBjYWxscyB3aGlsZSB0aGUgZWRpdG9yIGlzIG5vdCBpbml0aWFsaXplZC5cbiAqIFNldCBGb2N1cyBpbnNpZGUgd2hlbiB0aGUgZWRpdG9yIGlzIHJlYWR5LlxuICovXG5jb25zdCB1c2VCdWZmZXJlZEZvY3VzJDEgPSBmdW5jdGlvbiAoZWRpdG9yLCByZWYpIHtcbiAgY29uc3QgW2J1ZmZlciwgc2V0QnVmZmVyXSA9IHVzZVN0YXRlKHVuZGVmaW5lZCk7XG4gIHJlZi5jdXJyZW50ID0gdXNlTWVtbygoKSA9PiAoe1xuICAgIGZvY3VzOiBvZmZzZXQgPT4ge1xuICAgICAgaWYgKGVkaXRvcikge1xuICAgICAgICBlZGl0b3IuZm9jdXMob2Zmc2V0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb2Zmc2V0ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIG9mZnNldCA9IEluZmluaXR5O1xuICAgICAgICB9XG4gICAgICAgIHNldEJ1ZmZlcihvZmZzZXQpO1xuICAgICAgfVxuICAgIH1cbiAgfSksIFtlZGl0b3JdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAodHlwZW9mIGJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcgJiYgZWRpdG9yKSB7XG4gICAgICBlZGl0b3IuZm9jdXMoYnVmZmVyKTtcbiAgICAgIHNldEJ1ZmZlcihmYWxzZSk7XG4gICAgfVxuICB9LCBbZWRpdG9yLCBidWZmZXJdKTtcbn07XG5jb25zdCBUZW1wbGF0aW5nRWRpdG9yID0gZm9yd2FyZFJlZigocHJvcHMsIHJlZikgPT4ge1xuICBjb25zdCB7XG4gICAgb25JbnB1dCxcbiAgICBkaXNhYmxlZCxcbiAgICB0b29sdGlwQ29udGFpbmVyLFxuICAgIGVuYWJsZUd1dHRlcnMsXG4gICAgdmFsdWUsXG4gICAgb25MaW50ID0gbm9vcCQ1LFxuICAgIG9uT3BlblBvcHVwID0gbm9vcCQ1LFxuICAgIHBvcHVwT3BlbixcbiAgICBjb250ZW50QXR0cmlidXRlcyA9IHt9LFxuICAgIGhvc3RMYW5ndWFnZSA9IG51bGwsXG4gICAgc2luZ2xlTGluZSA9IGZhbHNlXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgaW5wdXRSZWYgPSB1c2VSZWYoKTtcbiAgY29uc3QgW2VkaXRvciwgc2V0RWRpdG9yXSA9IHVzZVN0YXRlKCk7XG4gIGNvbnN0IFtsb2NhbFZhbHVlLCBzZXRMb2NhbFZhbHVlXSA9IHVzZVN0YXRlKHZhbHVlIHx8ICcnKTtcbiAgdXNlQnVmZmVyZWRGb2N1cyQxKGVkaXRvciwgcmVmKTtcbiAgY29uc3QgaGFuZGxlSW5wdXQgPSB1c2VTdGF0aWNDYWxsYmFjayhuZXdWYWx1ZSA9PiB7XG4gICAgb25JbnB1dChuZXdWYWx1ZSk7XG4gICAgc2V0TG9jYWxWYWx1ZShuZXdWYWx1ZSk7XG4gIH0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxldCBlZGl0b3I7XG4gICAgZWRpdG9yID0gbmV3IEZlZWxlcnNFZGl0b3Ioe1xuICAgICAgY29udGFpbmVyOiBpbnB1dFJlZi5jdXJyZW50LFxuICAgICAgb25DaGFuZ2U6IGhhbmRsZUlucHV0LFxuICAgICAgdmFsdWU6IGxvY2FsVmFsdWUsXG4gICAgICBvbkxpbnQsXG4gICAgICBjb250ZW50QXR0cmlidXRlcyxcbiAgICAgIHRvb2x0aXBDb250YWluZXIsXG4gICAgICBlbmFibGVHdXR0ZXJzLFxuICAgICAgaG9zdExhbmd1YWdlLFxuICAgICAgc2luZ2xlTGluZSxcbiAgICAgIGxpbmVXcmFwOiB0cnVlXG4gICAgfSk7XG4gICAgc2V0RWRpdG9yKGVkaXRvcik7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIG9uTGludChbXSk7XG4gICAgICBpbnB1dFJlZi5jdXJyZW50LmlubmVySFRNTCA9ICcnO1xuICAgICAgc2V0RWRpdG9yKG51bGwpO1xuICAgIH07XG4gIH0sIFtdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWVkaXRvcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodmFsdWUgPT09IGxvY2FsVmFsdWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZWRpdG9yLnNldFZhbHVlKHZhbHVlKTtcbiAgICBzZXRMb2NhbFZhbHVlKHZhbHVlKTtcbiAgfSwgW3ZhbHVlXSk7XG4gIGNvbnN0IGhhbmRsZUNsaWNrID0gKCkgPT4ge1xuICAgIHJlZi5jdXJyZW50LmZvY3VzKCk7XG4gIH07XG4gIHJldHVybiBqc3hzKFwiZGl2XCIsIHtcbiAgICBjbGFzczogY2xhc3NuYW1lcygnYmlvLXByb3BlcnRpZXMtcGFuZWwtZmVlbGVycy1lZGl0b3ItY29udGFpbmVyJywgcG9wdXBPcGVuID8gJ3BvcHVwT3BlbicgOiBudWxsKSxcbiAgICBjaGlsZHJlbjogW3BvcHVwT3BlbiAmJiBqc3goXCJkaXZcIiwge1xuICAgICAgY2xhc3M6IFwiYmlvLXByb3BlcnRpZXMtcGFuZWwtZmVlbGVycy1lZGl0b3JfX3BvcHVwLXBsYWNlaG9sZGVyXCIsXG4gICAgICBjaGlsZHJlbjogXCJPcGVuZWQgaW4gcG9wdXBcIlxuICAgIH0pLCBqc3goXCJkaXZcIiwge1xuICAgICAgbmFtZTogcHJvcHMubmFtZSxcbiAgICAgIGNsYXNzOiBjbGFzc25hbWVzKCdiaW8tcHJvcGVydGllcy1wYW5lbC1mZWVsZXJzLWVkaXRvciBiaW8tcHJvcGVydGllcy1wYW5lbC1pbnB1dCcsIGxvY2FsVmFsdWUgPyAnZWRpdGVkJyA6IG51bGwsIGRpc2FibGVkID8gJ2Rpc2FibGVkJyA6IG51bGwpLFxuICAgICAgcmVmOiBpbnB1dFJlZixcbiAgICAgIG9uQ2xpY2s6IGhhbmRsZUNsaWNrXG4gICAgfSksICFkaXNhYmxlZCAmJiBqc3goT3BlblBvcHVwQnV0dG9uLCB7XG4gICAgICBvbkNsaWNrOiAoKSA9PiBvbk9wZW5Qb3B1cCgnZmVlbGVycycpXG4gICAgfSldXG4gIH0pO1xufSk7XG5jb25zdCBub29wJDQgPSAoKSA9PiB7fTtcblxuLyoqXG4gKiBCdWZmZXIgYC5mb2N1cygpYCBjYWxscyB3aGlsZSB0aGUgZWRpdG9yIGlzIG5vdCBpbml0aWFsaXplZC5cbiAqIFNldCBGb2N1cyBpbnNpZGUgd2hlbiB0aGUgZWRpdG9yIGlzIHJlYWR5LlxuICovXG5jb25zdCB1c2VCdWZmZXJlZEZvY3VzID0gZnVuY3Rpb24gKGVkaXRvciwgcmVmKSB7XG4gIGNvbnN0IFtidWZmZXIsIHNldEJ1ZmZlcl0gPSB1c2VTdGF0ZSh1bmRlZmluZWQpO1xuICByZWYuY3VycmVudCA9IHVzZU1lbW8oKCkgPT4gKHtcbiAgICBmb2N1czogb2Zmc2V0ID0+IHtcbiAgICAgIGlmIChlZGl0b3IpIHtcbiAgICAgICAgZWRpdG9yLmZvY3VzKG9mZnNldCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodHlwZW9mIG9mZnNldCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBvZmZzZXQgPSBJbmZpbml0eTtcbiAgICAgICAgfVxuICAgICAgICBzZXRCdWZmZXIob2Zmc2V0KTtcbiAgICAgIH1cbiAgICB9XG4gIH0pLCBbZWRpdG9yXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBidWZmZXIgIT09ICd1bmRlZmluZWQnICYmIGVkaXRvcikge1xuICAgICAgZWRpdG9yLmZvY3VzKGJ1ZmZlcik7XG4gICAgICBzZXRCdWZmZXIoZmFsc2UpO1xuICAgIH1cbiAgfSwgW2VkaXRvciwgYnVmZmVyXSk7XG59O1xuY29uc3QgRmVlbEVkaXRvciA9IGZvcndhcmRSZWYoKHByb3BzLCByZWYpID0+IHtcbiAgY29uc3Qge1xuICAgIGNvbnRlbnRBdHRyaWJ1dGVzLFxuICAgIGVuYWJsZUd1dHRlcnMsXG4gICAgdmFsdWUsXG4gICAgb25JbnB1dCxcbiAgICBvbktleURvd246IG9uS2V5RG93blByb3AgPSBub29wJDQsXG4gICAgb25GZWVsVG9nZ2xlID0gbm9vcCQ0LFxuICAgIG9uTGludCA9IG5vb3AkNCxcbiAgICBvbk9wZW5Qb3B1cCA9IG5vb3AkNCxcbiAgICBwbGFjZWhvbGRlcixcbiAgICBwb3B1cE9wZW4sXG4gICAgZGlzYWJsZWQsXG4gICAgdG9vbHRpcENvbnRhaW5lcixcbiAgICB2YXJpYWJsZXMsXG4gICAgZmVlbExhbmd1YWdlQ29udGV4dFxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IGlucHV0UmVmID0gdXNlUmVmKCk7XG4gIGNvbnN0IFtlZGl0b3IsIHNldEVkaXRvcl0gPSB1c2VTdGF0ZSgpO1xuICBjb25zdCBbbG9jYWxWYWx1ZSwgc2V0TG9jYWxWYWx1ZV0gPSB1c2VTdGF0ZSh2YWx1ZSB8fCAnJyk7XG4gIGNvbnN0IHtcbiAgICBidWlsdGlucyxcbiAgICBkaWFsZWN0LFxuICAgIHBhcnNlckRpYWxlY3RcbiAgfSA9IGZlZWxMYW5ndWFnZUNvbnRleHQgfHwge307XG4gIHVzZUJ1ZmZlcmVkRm9jdXMoZWRpdG9yLCByZWYpO1xuICBjb25zdCBoYW5kbGVJbnB1dCA9IHVzZVN0YXRpY0NhbGxiYWNrKG5ld1ZhbHVlID0+IHtcbiAgICBvbklucHV0KG5ld1ZhbHVlKTtcbiAgICBzZXRMb2NhbFZhbHVlKG5ld1ZhbHVlKTtcbiAgfSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbGV0IGVkaXRvcjtcblxuICAgIC8qIFRyaWdnZXIgRkVFTCB0b2dnbGUgd2hlblxuICAgICAqXG4gICAgICogLSBgYmFja3NwYWNlYCBpcyBwcmVzc2VkXG4gICAgICogLSBBTkQgdGhlIGN1cnNvciBpcyBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBpbnB1dFxuICAgICAqL1xuICAgIGNvbnN0IG9uS2V5RG93biA9IGUgPT4ge1xuICAgICAgLy8gQ2FsbCBwYXJlbnQgb25LZXlEb3duIGhhbmRsZXIgZmlyc3RcbiAgICAgIG9uS2V5RG93blByb3AoZSk7XG4gICAgICBpZiAoZS5rZXkgIT09ICdCYWNrc3BhY2UnIHx8ICFlZGl0b3IpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgc2VsZWN0aW9uID0gZWRpdG9yLmdldFNlbGVjdGlvbigpO1xuICAgICAgY29uc3QgcmFuZ2UgPSBzZWxlY3Rpb24ucmFuZ2VzW3NlbGVjdGlvbi5tYWluSW5kZXhdO1xuICAgICAgaWYgKHJhbmdlLmZyb20gPT09IDAgJiYgcmFuZ2UudG8gPT09IDApIHtcbiAgICAgICAgb25GZWVsVG9nZ2xlKCk7XG4gICAgICB9XG4gICAgfTtcbiAgICBlZGl0b3IgPSBuZXcgRWRpdG9yKHtcbiAgICAgIGNvbnRhaW5lcjogaW5wdXRSZWYuY3VycmVudCxcbiAgICAgIG9uQ2hhbmdlOiBoYW5kbGVJbnB1dCxcbiAgICAgIG9uS2V5RG93bjogb25LZXlEb3duLFxuICAgICAgb25MaW50OiBvbkxpbnQsXG4gICAgICBwbGFjZWhvbGRlcjogcGxhY2Vob2xkZXIsXG4gICAgICB0b29sdGlwQ29udGFpbmVyOiB0b29sdGlwQ29udGFpbmVyLFxuICAgICAgdmFsdWU6IGxvY2FsVmFsdWUsXG4gICAgICB2YXJpYWJsZXMsXG4gICAgICBidWlsdGlucyxcbiAgICAgIGRpYWxlY3QsXG4gICAgICBwYXJzZXJEaWFsZWN0LFxuICAgICAgZXh0ZW5zaW9uczogWy4uLihlbmFibGVHdXR0ZXJzID8gW2xpbmVOdW1iZXJzKCldIDogW10pLCBFZGl0b3JWaWV3LmxpbmVXcmFwcGluZ10sXG4gICAgICBjb250ZW50QXR0cmlidXRlc1xuICAgIH0pO1xuICAgIHNldEVkaXRvcihlZGl0b3IpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBvbkxpbnQoW10pO1xuICAgICAgaW5wdXRSZWYuY3VycmVudC5pbm5lckhUTUwgPSAnJztcbiAgICAgIHNldEVkaXRvcihudWxsKTtcbiAgICB9O1xuICB9LCBbXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFlZGl0b3IpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHZhbHVlID09PSBsb2NhbFZhbHVlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGVkaXRvci5zZXRWYWx1ZSh2YWx1ZSk7XG4gICAgc2V0TG9jYWxWYWx1ZSh2YWx1ZSk7XG4gIH0sIFt2YWx1ZV0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghZWRpdG9yKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGVkaXRvci5zZXRWYXJpYWJsZXModmFyaWFibGVzKTtcbiAgfSwgW3ZhcmlhYmxlc10pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghZWRpdG9yKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGVkaXRvci5zZXRQbGFjZWhvbGRlcihwbGFjZWhvbGRlcik7XG4gIH0sIFtwbGFjZWhvbGRlcl0pO1xuICBjb25zdCBoYW5kbGVDbGljayA9ICgpID0+IHtcbiAgICByZWYuY3VycmVudC5mb2N1cygpO1xuICB9O1xuICByZXR1cm4ganN4cyhcImRpdlwiLCB7XG4gICAgY2xhc3M6IGNsYXNzbmFtZXMoJ2Jpby1wcm9wZXJ0aWVzLXBhbmVsLWZlZWwtZWRpdG9yLWNvbnRhaW5lcicsIGRpc2FibGVkID8gJ2Rpc2FibGVkJyA6IG51bGwsIHBvcHVwT3BlbiA/ICdwb3B1cE9wZW4nIDogbnVsbCksXG4gICAgY2hpbGRyZW46IFtwb3B1cE9wZW4gJiYganN4KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzOiBcImJpby1wcm9wZXJ0aWVzLXBhbmVsLWZlZWwtZWRpdG9yX19vcGVuLXBvcHVwLXBsYWNlaG9sZGVyXCIsXG4gICAgICBjaGlsZHJlbjogXCJPcGVuZWQgaW4gZWRpdG9yXCJcbiAgICB9KSwganN4KFwiZGl2XCIsIHtcbiAgICAgIG5hbWU6IHByb3BzLm5hbWUsXG4gICAgICBjbGFzczogY2xhc3NuYW1lcygnYmlvLXByb3BlcnRpZXMtcGFuZWwtaW5wdXQnLCBsb2NhbFZhbHVlID8gJ2VkaXRlZCcgOiBudWxsKSxcbiAgICAgIHJlZjogaW5wdXRSZWYsXG4gICAgICBvbkNsaWNrOiBoYW5kbGVDbGlja1xuICAgIH0pLCAhZGlzYWJsZWQgJiYganN4KE9wZW5Qb3B1cEJ1dHRvbiwge1xuICAgICAgb25DbGljazogKCkgPT4gb25PcGVuUG9wdXAoJ2ZlZWwnKVxuICAgIH0pXVxuICB9KTtcbn0pO1xuZnVuY3Rpb24gRmVlbEluZGljYXRvcihwcm9wcykge1xuICBjb25zdCB7XG4gICAgYWN0aXZlXG4gIH0gPSBwcm9wcztcbiAgaWYgKCFhY3RpdmUpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4ganN4KFwic3BhblwiLCB7XG4gICAgY2xhc3M6IFwiYmlvLXByb3BlcnRpZXMtcGFuZWwtZmVlbC1pbmRpY2F0b3JcIixcbiAgICBjaGlsZHJlbjogXCI9XCJcbiAgfSk7XG59XG5jb25zdCBub29wJDMgPSAoKSA9PiB7fTtcblxuLyoqXG4gKiBAcGFyYW0ge09iamVjdH0gcHJvcHNcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wcy5sYWJlbFxuICogQHBhcmFtIHtTdHJpbmd9IHByb3BzLmZlZWxcbiAqL1xuZnVuY3Rpb24gRmVlbEljb24ocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGZlZWwgPSBmYWxzZSxcbiAgICBhY3RpdmUsXG4gICAgZGlzYWJsZWQgPSBmYWxzZSxcbiAgICBvbkNsaWNrID0gbm9vcCQzXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgZmVlbFJlcXVpcmVkTGFiZWwgPSAnRkVFTCBleHByZXNzaW9uIGlzIG1hbmRhdG9yeSc7XG4gIGNvbnN0IGZlZWxPcHRpb25hbExhYmVsID0gYENsaWNrIHRvICR7YWN0aXZlID8gJ3JlbW92ZScgOiAnc2V0IGEnfSBkeW5hbWljIHZhbHVlIHdpdGggRkVFTCBleHByZXNzaW9uYDtcbiAgY29uc3QgaGFuZGxlQ2xpY2sgPSBlID0+IHtcbiAgICBvbkNsaWNrKGUpO1xuXG4gICAgLy8gd2hlbiBwb2ludGVyIGV2ZW50IHdhcyBjcmVhdGVkIGZyb20ga2V5Ym9hcmQsIGtlZXAgZm9jdXMgb24gYnV0dG9uXG4gICAgaWYgKCFlLnBvaW50ZXJUeXBlKSB7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIGpzeChcImJ1dHRvblwiLCB7XG4gICAgdHlwZTogXCJidXR0b25cIixcbiAgICBjbGFzczogY2xhc3NuYW1lcygnYmlvLXByb3BlcnRpZXMtcGFuZWwtZmVlbC1pY29uJywgYWN0aXZlID8gJ2FjdGl2ZScgOiBudWxsLCBmZWVsID09PSAncmVxdWlyZWQnID8gJ3JlcXVpcmVkJyA6ICdvcHRpb25hbCcpLFxuICAgIG9uQ2xpY2s6IGhhbmRsZUNsaWNrLFxuICAgIGRpc2FibGVkOiBmZWVsID09PSAncmVxdWlyZWQnIHx8IGRpc2FibGVkLFxuICAgIHRpdGxlOiBmZWVsID09PSAncmVxdWlyZWQnID8gZmVlbFJlcXVpcmVkTGFiZWwgOiBmZWVsT3B0aW9uYWxMYWJlbCxcbiAgICBjaGlsZHJlbjoganN4KEZlZWxJY29uJDEsIHt9KVxuICB9KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGV2ZW50XG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpc0NtZChldmVudCkge1xuICAvLyBlbnN1cmUgd2UgZG9uJ3QgcmVhY3QgdG8gQWx0R3JcbiAgLy8gKG1hcHBlZCB0byBDVFJMICsgQUxUKVxuICBpZiAoZXZlbnQuYWx0S2V5KSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiBldmVudC5jdHJsS2V5IHx8IGV2ZW50Lm1ldGFLZXk7XG59XG5mdW5jdGlvbiBpc0NtZFdpdGhDaGFyKGV2ZW50KSB7XG4gIHJldHVybiBpc0NtZChldmVudCkgJiYgZXZlbnQua2V5Lmxlbmd0aCA9PT0gMSAmJiAvXlthLXpBLVpdJC8udGVzdChldmVudC5rZXkpO1xufVxuZnVuY3Rpb24gVG9nZ2xlU3dpdGNoKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBpZCxcbiAgICBsYWJlbCxcbiAgICBvbklucHV0LFxuICAgIHZhbHVlLFxuICAgIHN3aXRjaGVyTGFiZWwsXG4gICAgaW5saW5lLFxuICAgIG9uRm9jdXMsXG4gICAgb25CbHVyLFxuICAgIGlucHV0UmVmLFxuICAgIHRvb2x0aXBcbiAgfSA9IHByb3BzO1xuICBjb25zdCBbbG9jYWxWYWx1ZSwgc2V0TG9jYWxWYWx1ZV0gPSB1c2VTdGF0ZSh2YWx1ZSk7XG4gIGNvbnN0IGhhbmRsZUlucHV0Q2FsbGJhY2sgPSBhc3luYyAoKSA9PiB7XG4gICAgb25JbnB1dCghdmFsdWUpO1xuICB9O1xuICBjb25zdCBoYW5kbGVJbnB1dCA9IGUgPT4ge1xuICAgIGhhbmRsZUlucHV0Q2FsbGJhY2soKTtcbiAgICBzZXRMb2NhbFZhbHVlKGUudGFyZ2V0LnZhbHVlKTtcbiAgfTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAodmFsdWUgPT09IGxvY2FsVmFsdWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2V0TG9jYWxWYWx1ZSh2YWx1ZSk7XG4gIH0sIFt2YWx1ZV0pO1xuICByZXR1cm4ganN4cyhcImRpdlwiLCB7XG4gICAgY2xhc3M6IGNsYXNzbmFtZXMoJ2Jpby1wcm9wZXJ0aWVzLXBhbmVsLXRvZ2dsZS1zd2l0Y2gnLCB7XG4gICAgICBpbmxpbmVcbiAgICB9KSxcbiAgICBjaGlsZHJlbjogW2pzeChcImxhYmVsXCIsIHtcbiAgICAgIGNsYXNzOiBcImJpby1wcm9wZXJ0aWVzLXBhbmVsLWxhYmVsXCIsXG4gICAgICBmb3I6IHByZWZpeElkJDcoaWQpLFxuICAgICAgY2hpbGRyZW46IGpzeChUb29sdGlwV3JhcHBlciwge1xuICAgICAgICB2YWx1ZTogdG9vbHRpcCxcbiAgICAgICAgZm9ySWQ6IGlkLFxuICAgICAgICBlbGVtZW50OiBwcm9wcy5lbGVtZW50LFxuICAgICAgICBjaGlsZHJlbjogbGFiZWxcbiAgICAgIH0pXG4gICAgfSksIGpzeHMoXCJkaXZcIiwge1xuICAgICAgY2xhc3M6IFwiYmlvLXByb3BlcnRpZXMtcGFuZWwtZmllbGQtd3JhcHBlclwiLFxuICAgICAgY2hpbGRyZW46IFtqc3hzKFwibGFiZWxcIiwge1xuICAgICAgICBjbGFzczogXCJiaW8tcHJvcGVydGllcy1wYW5lbC10b2dnbGUtc3dpdGNoX19zd2l0Y2hlclwiLFxuICAgICAgICBjaGlsZHJlbjogW2pzeChcImlucHV0XCIsIHtcbiAgICAgICAgICByZWY6IGlucHV0UmVmLFxuICAgICAgICAgIGlkOiBwcmVmaXhJZCQ3KGlkKSxcbiAgICAgICAgICBjbGFzczogXCJiaW8tcHJvcGVydGllcy1wYW5lbC1pbnB1dFwiLFxuICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICBvbkZvY3VzOiBvbkZvY3VzLFxuICAgICAgICAgIG9uQmx1cjogb25CbHVyLFxuICAgICAgICAgIG5hbWU6IGlkLFxuICAgICAgICAgIG9uSW5wdXQ6IGhhbmRsZUlucHV0LFxuICAgICAgICAgIGNoZWNrZWQ6ICEhbG9jYWxWYWx1ZVxuICAgICAgICB9KSwganN4KFwic3BhblwiLCB7XG4gICAgICAgICAgY2xhc3M6IFwiYmlvLXByb3BlcnRpZXMtcGFuZWwtdG9nZ2xlLXN3aXRjaF9fc2xpZGVyXCJcbiAgICAgICAgfSldXG4gICAgICB9KSwgc3dpdGNoZXJMYWJlbCAmJiBqc3goXCJwXCIsIHtcbiAgICAgICAgY2xhc3M6IFwiYmlvLXByb3BlcnRpZXMtcGFuZWwtdG9nZ2xlLXN3aXRjaF9fbGFiZWxcIixcbiAgICAgICAgY2hpbGRyZW46IHN3aXRjaGVyTGFiZWxcbiAgICAgIH0pXVxuICAgIH0pXVxuICB9KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge09iamVjdH0gcHJvcHNcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wcy5lbGVtZW50XG4gKiBAcGFyYW0ge1N0cmluZ30gcHJvcHMuaWRcbiAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wcy5kZXNjcmlwdGlvblxuICogQHBhcmFtIHtTdHJpbmd9IHByb3BzLmxhYmVsXG4gKiBAcGFyYW0ge1N0cmluZ30gcHJvcHMuc3dpdGNoZXJMYWJlbFxuICogQHBhcmFtIHtCb29sZWFufSBwcm9wcy5pbmxpbmVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHByb3BzLmdldFZhbHVlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcm9wcy5zZXRWYWx1ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gcHJvcHMub25Gb2N1c1xuICogQHBhcmFtIHtGdW5jdGlvbn0gcHJvcHMub25CbHVyXG4gKiBAcGFyYW0ge3N0cmluZ3xpbXBvcnQoJ3ByZWFjdCcpLkNvbXBvbmVudH0gcHJvcHMudG9vbHRpcFxuICovXG5mdW5jdGlvbiBUb2dnbGVTd2l0Y2hFbnRyeShwcm9wcykge1xuICBjb25zdCB7XG4gICAgZWxlbWVudCxcbiAgICBpZCxcbiAgICBkZXNjcmlwdGlvbixcbiAgICBsYWJlbCxcbiAgICBzd2l0Y2hlckxhYmVsLFxuICAgIGlubGluZSxcbiAgICBnZXRWYWx1ZSxcbiAgICBzZXRWYWx1ZSxcbiAgICBvbkZvY3VzLFxuICAgIG9uQmx1cixcbiAgICB0b29sdGlwXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgdmFsdWUgPSBnZXRWYWx1ZShlbGVtZW50KTtcbiAgcmV0dXJuIGpzeHMoXCJkaXZcIiwge1xuICAgIGNsYXNzOiBcImJpby1wcm9wZXJ0aWVzLXBhbmVsLWVudHJ5IGJpby1wcm9wZXJ0aWVzLXBhbmVsLXRvZ2dsZS1zd2l0Y2gtZW50cnlcIixcbiAgICBcImRhdGEtZW50cnktaWRcIjogaWQsXG4gICAgY2hpbGRyZW46IFtqc3goVG9nZ2xlU3dpdGNoLCB7XG4gICAgICBpZDogaWQsXG4gICAgICBsYWJlbDogbGFiZWwsXG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBvbklucHV0OiBzZXRWYWx1ZSxcbiAgICAgIG9uRm9jdXM6IG9uRm9jdXMsXG4gICAgICBvbkJsdXI6IG9uQmx1cixcbiAgICAgIHN3aXRjaGVyTGFiZWw6IHN3aXRjaGVyTGFiZWwsXG4gICAgICBpbmxpbmU6IGlubGluZSxcbiAgICAgIHRvb2x0aXA6IHRvb2x0aXAsXG4gICAgICBlbGVtZW50OiBlbGVtZW50XG4gICAgfSksIGpzeChEZXNjcmlwdGlvbiQxLCB7XG4gICAgICBmb3JJZDogaWQsXG4gICAgICBlbGVtZW50OiBlbGVtZW50LFxuICAgICAgdmFsdWU6IGRlc2NyaXB0aW9uXG4gICAgfSldXG4gIH0pO1xufVxuZnVuY3Rpb24gaXNFZGl0ZWQkNyhub2RlKSB7XG4gIHJldHVybiBub2RlICYmICEhbm9kZS5jaGVja2VkO1xufVxuXG4vLyBoZWxwZXJzIC8vLy8vLy8vLy8vLy8vLy8vXG5cbmZ1bmN0aW9uIHByZWZpeElkJDcoaWQpIHtcbiAgcmV0dXJuIGBiaW8tcHJvcGVydGllcy1wYW5lbC0ke2lkfWA7XG59XG5mdW5jdGlvbiBOdW1iZXJGaWVsZChwcm9wcykge1xuICBjb25zdCB7XG4gICAgZGVib3VuY2UsXG4gICAgZGlzYWJsZWQsXG4gICAgZGlzcGxheUxhYmVsID0gdHJ1ZSxcbiAgICBpZCxcbiAgICBpbnB1dFJlZixcbiAgICBsYWJlbCxcbiAgICBtYXgsXG4gICAgbWluLFxuICAgIG9uSW5wdXQsXG4gICAgc3RlcCxcbiAgICB2YWx1ZSA9ICcnLFxuICAgIG9uRm9jdXMsXG4gICAgb25CbHVyLFxuICAgIHRvb2x0aXBcbiAgfSA9IHByb3BzO1xuICBjb25zdCBbbG9jYWxWYWx1ZSwgc2V0TG9jYWxWYWx1ZV0gPSB1c2VTdGF0ZSh2YWx1ZSk7XG4gIGNvbnN0IGhhbmRsZUlucHV0Q2FsbGJhY2sgPSB1c2VNZW1vKCgpID0+IHtcbiAgICByZXR1cm4gZGVib3VuY2UodGFyZ2V0ID0+IHtcbiAgICAgIGlmICh0YXJnZXQudmFsaWRpdHkudmFsaWQpIHtcbiAgICAgICAgb25JbnB1dCh0YXJnZXQudmFsdWUgPyBwYXJzZUZsb2F0KHRhcmdldC52YWx1ZSkgOiB1bmRlZmluZWQpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LCBbb25JbnB1dCwgZGVib3VuY2VdKTtcbiAgY29uc3QgaGFuZGxlSW5wdXQgPSBlID0+IHtcbiAgICBoYW5kbGVJbnB1dENhbGxiYWNrKGUudGFyZ2V0KTtcbiAgICBzZXRMb2NhbFZhbHVlKGUudGFyZ2V0LnZhbHVlKTtcbiAgfTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAodmFsdWUgPT09IGxvY2FsVmFsdWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2V0TG9jYWxWYWx1ZSh2YWx1ZSk7XG4gIH0sIFt2YWx1ZV0pO1xuICByZXR1cm4ganN4cyhcImRpdlwiLCB7XG4gICAgY2xhc3M6IFwiYmlvLXByb3BlcnRpZXMtcGFuZWwtbnVtYmVyZmllbGRcIixcbiAgICBjaGlsZHJlbjogW2Rpc3BsYXlMYWJlbCAmJiBqc3goXCJsYWJlbFwiLCB7XG4gICAgICBmb3I6IHByZWZpeElkJDYoaWQpLFxuICAgICAgY2xhc3M6IFwiYmlvLXByb3BlcnRpZXMtcGFuZWwtbGFiZWxcIixcbiAgICAgIGNoaWxkcmVuOiBqc3goVG9vbHRpcFdyYXBwZXIsIHtcbiAgICAgICAgdmFsdWU6IHRvb2x0aXAsXG4gICAgICAgIGZvcklkOiBpZCxcbiAgICAgICAgZWxlbWVudDogcHJvcHMuZWxlbWVudCxcbiAgICAgICAgY2hpbGRyZW46IGxhYmVsXG4gICAgICB9KVxuICAgIH0pLCBqc3goXCJpbnB1dFwiLCB7XG4gICAgICBpZDogcHJlZml4SWQkNihpZCksXG4gICAgICByZWY6IGlucHV0UmVmLFxuICAgICAgdHlwZTogXCJudW1iZXJcIixcbiAgICAgIG5hbWU6IGlkLFxuICAgICAgc3BlbGxDaGVjazogXCJmYWxzZVwiLFxuICAgICAgYXV0b0NvbXBsZXRlOiBcIm9mZlwiLFxuICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkLFxuICAgICAgY2xhc3M6IFwiYmlvLXByb3BlcnRpZXMtcGFuZWwtaW5wdXRcIixcbiAgICAgIG1heDogbWF4LFxuICAgICAgbWluOiBtaW4sXG4gICAgICBvbklucHV0OiBoYW5kbGVJbnB1dCxcbiAgICAgIG9uRm9jdXM6IG9uRm9jdXMsXG4gICAgICBvbkJsdXI6IG9uQmx1cixcbiAgICAgIHN0ZXA6IHN0ZXAsXG4gICAgICB2YWx1ZTogbG9jYWxWYWx1ZVxuICAgIH0pXVxuICB9KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge09iamVjdH0gcHJvcHNcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gcHJvcHMuZGVib3VuY2VcbiAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wcy5kZXNjcmlwdGlvblxuICogQHBhcmFtIHtCb29sZWFufSBwcm9wcy5kaXNhYmxlZFxuICogQHBhcmFtIHtPYmplY3R9IHByb3BzLmVsZW1lbnRcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHByb3BzLmdldFZhbHVlXG4gKiBAcGFyYW0ge1N0cmluZ30gcHJvcHMuaWRcbiAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wcy5sYWJlbFxuICogQHBhcmFtIHtTdHJpbmd9IHByb3BzLm1heFxuICogQHBhcmFtIHtTdHJpbmd9IHByb3BzLm1pblxuICogQHBhcmFtIHtGdW5jdGlvbn0gcHJvcHMuc2V0VmFsdWVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHByb3BzLm9uRm9jdXNcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHByb3BzLm9uQmx1clxuICogQHBhcmFtIHtTdHJpbmd9IHByb3BzLnN0ZXBcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHByb3BzLnZhbGlkYXRlXG4gKi9cbmZ1bmN0aW9uIE51bWJlckZpZWxkRW50cnkocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGRlYm91bmNlLFxuICAgIGRlc2NyaXB0aW9uLFxuICAgIGRpc2FibGVkLFxuICAgIGVsZW1lbnQsXG4gICAgZ2V0VmFsdWUsXG4gICAgaWQsXG4gICAgbGFiZWwsXG4gICAgbWF4LFxuICAgIG1pbixcbiAgICBzZXRWYWx1ZSxcbiAgICBzdGVwLFxuICAgIG9uRm9jdXMsXG4gICAgb25CbHVyLFxuICAgIHZhbGlkYXRlLFxuICAgIHRvb2x0aXBcbiAgfSA9IHByb3BzO1xuICBjb25zdCBnbG9iYWxFcnJvciA9IHVzZUVycm9yKGlkKTtcbiAgY29uc3QgW2xvY2FsRXJyb3IsIHNldExvY2FsRXJyb3JdID0gdXNlU3RhdGUobnVsbCk7XG4gIGxldCB2YWx1ZSA9IGdldFZhbHVlKGVsZW1lbnQpO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpc0Z1bmN0aW9uKHZhbGlkYXRlKSkge1xuICAgICAgY29uc3QgbmV3VmFsaWRhdGlvbkVycm9yID0gdmFsaWRhdGUodmFsdWUpIHx8IG51bGw7XG4gICAgICBzZXRMb2NhbEVycm9yKG5ld1ZhbGlkYXRpb25FcnJvcik7XG4gICAgfVxuICB9LCBbdmFsdWUsIHZhbGlkYXRlXSk7XG4gIGNvbnN0IG9uSW5wdXQgPSBuZXdWYWx1ZSA9PiB7XG4gICAgbGV0IG5ld1ZhbGlkYXRpb25FcnJvciA9IG51bGw7XG4gICAgaWYgKGlzRnVuY3Rpb24odmFsaWRhdGUpKSB7XG4gICAgICBuZXdWYWxpZGF0aW9uRXJyb3IgPSB2YWxpZGF0ZShuZXdWYWx1ZSkgfHwgbnVsbDtcbiAgICB9XG4gICAgc2V0VmFsdWUobmV3VmFsdWUsIG5ld1ZhbGlkYXRpb25FcnJvcik7XG4gICAgc2V0TG9jYWxFcnJvcihuZXdWYWxpZGF0aW9uRXJyb3IpO1xuICB9O1xuICBjb25zdCBlcnJvciA9IGdsb2JhbEVycm9yIHx8IGxvY2FsRXJyb3I7XG4gIHJldHVybiBqc3hzKFwiZGl2XCIsIHtcbiAgICBjbGFzczogY2xhc3NuYW1lcygnYmlvLXByb3BlcnRpZXMtcGFuZWwtZW50cnknLCBlcnJvciA/ICdoYXMtZXJyb3InIDogJycpLFxuICAgIFwiZGF0YS1lbnRyeS1pZFwiOiBpZCxcbiAgICBjaGlsZHJlbjogW2pzeChOdW1iZXJGaWVsZCwge1xuICAgICAgZGVib3VuY2U6IGRlYm91bmNlLFxuICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkLFxuICAgICAgaWQ6IGlkLFxuICAgICAgbGFiZWw6IGxhYmVsLFxuICAgICAgb25Gb2N1czogb25Gb2N1cyxcbiAgICAgIG9uQmx1cjogb25CbHVyLFxuICAgICAgb25JbnB1dDogb25JbnB1dCxcbiAgICAgIG1heDogbWF4LFxuICAgICAgbWluOiBtaW4sXG4gICAgICBzdGVwOiBzdGVwLFxuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgdG9vbHRpcDogdG9vbHRpcFxuICAgIH0sIGVsZW1lbnQpLCBlcnJvciAmJiBqc3goXCJkaXZcIiwge1xuICAgICAgY2xhc3M6IFwiYmlvLXByb3BlcnRpZXMtcGFuZWwtZXJyb3JcIixcbiAgICAgIGNoaWxkcmVuOiBlcnJvclxuICAgIH0pLCBqc3goRGVzY3JpcHRpb24kMSwge1xuICAgICAgZm9ySWQ6IGlkLFxuICAgICAgZWxlbWVudDogZWxlbWVudCxcbiAgICAgIHZhbHVlOiBkZXNjcmlwdGlvblxuICAgIH0pXVxuICB9KTtcbn1cbmZ1bmN0aW9uIGlzRWRpdGVkJDYobm9kZSkge1xuICByZXR1cm4gbm9kZSAmJiAhIW5vZGUudmFsdWU7XG59XG5cbi8vIGhlbHBlcnMgLy8vLy8vLy8vLy8vLy8vLy9cblxuZnVuY3Rpb24gcHJlZml4SWQkNihpZCkge1xuICByZXR1cm4gYGJpby1wcm9wZXJ0aWVzLXBhbmVsLSR7aWR9YDtcbn1cbmNvbnN0IG5vb3AkMiA9ICgpID0+IHt9O1xuXG4vKipcbiAqIEB0eXBlZGVmIHsncmVxdWlyZWQnfCdvcHRpb25hbCd8J3N0YXRpYyd9IEZlZWxUeXBlXG4gKi9cblxuLyoqXG4gKiBAcGFyYW0ge09iamVjdH0gcHJvcHNcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gcHJvcHMuZGVib3VuY2VcbiAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wcy5pZFxuICogQHBhcmFtIHtPYmplY3R9IHByb3BzLmVsZW1lbnRcbiAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wcy5sYWJlbFxuICogQHBhcmFtIHtTdHJpbmd9IHByb3BzLmhvc3RMYW5ndWFnZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gcHJvcHMub25JbnB1dFxuICogQHBhcmFtIHtGdW5jdGlvbn0gcHJvcHMub25CbHVyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcm9wcy5vbkVycm9yXG4gKiBAcGFyYW0ge0ZlZWxUeXBlfSBbcHJvcHMuZmVlbF1cbiAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wcy52YWx1ZVxuICogQHBhcmFtIHtCb29sZWFufSBbcHJvcHMuc2luZ2xlTGluZV1cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHByb3BzLnRvb2x0aXBDb250YWluZXJcbiAqIEBwYXJhbSB7RnVuY3Rpb24gfCBpbXBvcnQoJ3ByZWFjdCcpLkNvbXBvbmVudH0gcHJvcHMuT3B0aW9uYWxDb21wb25lbnRcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gcHJvcHMuZGlzYWJsZWRcbiAqIEBwYXJhbSB7QXJyYXl9IHByb3BzLnZhcmlhYmxlc1xuICogQHBhcmFtIHtzdHJpbmd9IFtwcm9wcy5wbGFjZWhvbGRlcl1cbiAqIEBwYXJhbSB7c3RyaW5nIHwgaW1wb3J0KCdwcmVhY3QnKS5Db21wb25lbnR9IHByb3BzLnRvb2x0aXBcbiAqL1xuZnVuY3Rpb24gRmVlbFRleHRmaWVsZChwcm9wcykge1xuICBjb25zdCB7XG4gICAgZGVib3VuY2UsXG4gICAgaWQsXG4gICAgZWxlbWVudCxcbiAgICBsYWJlbCxcbiAgICBob3N0TGFuZ3VhZ2UsXG4gICAgb25JbnB1dDogY29tbWl0VmFsdWUsXG4gICAgb25CbHVyLFxuICAgIG9uRXJyb3IsXG4gICAgcGxhY2Vob2xkZXIsXG4gICAgZmVlbCxcbiAgICB2YWx1ZSA9ICcnLFxuICAgIGRpc2FibGVkID0gZmFsc2UsXG4gICAgdmFyaWFibGVzLFxuICAgIHNpbmdsZUxpbmUsXG4gICAgdG9vbHRpcENvbnRhaW5lcixcbiAgICBPcHRpb25hbENvbXBvbmVudCA9IE9wdGlvbmFsRmVlbElucHV0LFxuICAgIHRvb2x0aXBcbiAgfSA9IHByb3BzO1xuICBjb25zdCBbbG9jYWxWYWx1ZSwgc2V0TG9jYWxWYWx1ZV0gPSB1c2VTdGF0ZSh2YWx1ZSk7XG4gIGNvbnN0IGVkaXRvclJlZiA9IHVzZVNob3dFbnRyeUV2ZW50KGlkKTtcbiAgY29uc3QgY29udGFpbmVyUmVmID0gdXNlUmVmKCk7XG4gIGNvbnN0IG9uSW5wdXQgPSB1c2VDYWxsYmFjayhuZXdWYWx1ZSA9PiB7XG4gICAgLy8gd2UgZG9uJ3QgY29tbWl0IGVtcHR5IEZFRUwgZXhwcmVzc2lvbnMsXG4gICAgLy8gYnV0IGluc3RlYWQgc2VyaWFsaXplIHRoZW0gYXMgPHVuZGVmaW5lZD5cbiAgICBjb25zdCBuZXdNb2RlbFZhbHVlID0gbmV3VmFsdWUgPT09ICcnIHx8IG5ld1ZhbHVlID09PSAnPScgPyB1bmRlZmluZWQgOiBuZXdWYWx1ZTtcbiAgICBjb21taXRWYWx1ZShuZXdNb2RlbFZhbHVlKTtcbiAgfSwgW2NvbW1pdFZhbHVlXSk7XG4gIGNvbnN0IGZlZWxBY3RpdmUgPSBpc1N0cmluZyhsb2NhbFZhbHVlKSAmJiBsb2NhbFZhbHVlLnN0YXJ0c1dpdGgoJz0nKSB8fCBmZWVsID09PSAncmVxdWlyZWQnO1xuICBjb25zdCBmZWVsT25seVZhbHVlID0gaXNTdHJpbmcobG9jYWxWYWx1ZSkgJiYgbG9jYWxWYWx1ZS5zdGFydHNXaXRoKCc9JykgPyBsb2NhbFZhbHVlLnN1YnN0cmluZygxKSA6IGxvY2FsVmFsdWU7XG4gIGNvbnN0IGZlZWxMYW5ndWFnZUNvbnRleHQgPSB1c2VDb250ZXh0KEZlZWxMYW5ndWFnZUNvbnRleHQpO1xuICBjb25zdCBbZm9jdXMsIF9zZXRGb2N1c10gPSB1c2VTdGF0ZSh1bmRlZmluZWQpO1xuICBjb25zdCB7XG4gICAgZXZlbnRCdXNcbiAgfSA9IHVzZUNvbnRleHQoRXZlbnRDb250ZXh0KTtcbiAgY29uc3QgW2lzUG9wdXBPcGVuLCBzZXRJc1BvcHVwT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IHNldEZvY3VzID0gKG9mZnNldCA9IDApID0+IHtcbiAgICBjb25zdCBoYXNGb2N1cyA9IGNvbnRhaW5lclJlZi5jdXJyZW50LmNvbnRhaW5zKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpO1xuXG4gICAgLy8gS2VlcCBjYXJldCBwb3NpdGlvbiBpZiBpdCBpcyBhbHJlYWR5IGZvY3VzZWQsIG90aGVyd2lzZSBmb2N1cyBhdCB0aGUgZW5kXG4gICAgY29uc3QgcG9zaXRpb24gPSBoYXNGb2N1cyA/IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuc2VsZWN0aW9uU3RhcnQgOiBJbmZpbml0eTtcbiAgICBfc2V0Rm9jdXMocG9zaXRpb24gKyBvZmZzZXQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7IGltcG9ydCgnbWluLWRhc2gnKS5EZWJvdW5jZWRGdW5jdGlvbiB9XG4gICAqL1xuICBjb25zdCBoYW5kbGVJbnB1dCA9IHVzZURlYm91bmNlKG9uSW5wdXQsIGRlYm91bmNlKTtcbiAgY29uc3QgaGFuZGxlRmVlbFRvZ2dsZSA9IHVzZVN0YXRpY0NhbGxiYWNrKCgpID0+IHtcbiAgICBpZiAoZmVlbCA9PT0gJ3JlcXVpcmVkJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIWZlZWxBY3RpdmUpIHtcbiAgICAgIHNldExvY2FsVmFsdWUoJz0nICsgbG9jYWxWYWx1ZSk7XG4gICAgICBoYW5kbGVJbnB1dCgnPScgKyBsb2NhbFZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0TG9jYWxWYWx1ZShmZWVsT25seVZhbHVlKTtcbiAgICAgIGhhbmRsZUlucHV0KGZlZWxPbmx5VmFsdWUpO1xuICAgIH1cbiAgfSk7XG4gIGNvbnN0IGhhbmRsZUxvY2FsSW5wdXQgPSAobmV3VmFsdWUsIHVzZURlYm91bmNlID0gdHJ1ZSkgPT4ge1xuICAgIGlmIChmZWVsQWN0aXZlKSB7XG4gICAgICBuZXdWYWx1ZSA9ICc9JyArIG5ld1ZhbHVlO1xuICAgIH1cbiAgICBpZiAobmV3VmFsdWUgPT09IGxvY2FsVmFsdWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2V0TG9jYWxWYWx1ZShuZXdWYWx1ZSk7XG4gICAgaWYgKHVzZURlYm91bmNlKSB7XG4gICAgICBoYW5kbGVJbnB1dChuZXdWYWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9uSW5wdXQobmV3VmFsdWUpO1xuICAgIH1cbiAgICBpZiAoIWZlZWxBY3RpdmUgJiYgaXNTdHJpbmcobmV3VmFsdWUpICYmIG5ld1ZhbHVlLnN0YXJ0c1dpdGgoJz0nKSkge1xuICAgICAgLy8gZm9jdXMgaXMgYmVoaW5kIGA9YCBzaWduIHRoYXQgd2lsbCBiZSByZW1vdmVkXG4gICAgICBzZXRGb2N1cygtMSk7XG4gICAgfVxuICB9O1xuICBjb25zdCBoYW5kbGVPbkJsdXIgPSBlID0+IHtcbiAgICBoYW5kbGVJbnB1dC5jYW5jZWw/LigpO1xuICAgIGlmIChlLnRhcmdldC50eXBlID09PSAnY2hlY2tib3gnKSB7XG4gICAgICBvbklucHV0KGUudGFyZ2V0LmNoZWNrZWQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB0cmltbWVkVmFsdWUgPSBlLnRhcmdldC52YWx1ZS50cmltKCk7XG4gICAgICBoYW5kbGVMb2NhbElucHV0KHRyaW1tZWRWYWx1ZSwgZmFsc2UpO1xuICAgIH1cbiAgICBpZiAob25CbHVyKSB7XG4gICAgICBvbkJsdXIoZSk7XG4gICAgfVxuICB9O1xuICBjb25zdCBoYW5kbGVPbktleURvd24gPSBlID0+IHtcbiAgICBpZiAoaXNDbWRXaXRoQ2hhcihlKSkge1xuICAgICAgaGFuZGxlSW5wdXQuZmx1c2goKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGhhbmRsZUxpbnQgPSB1c2VTdGF0aWNDYWxsYmFjaygobGludCA9IFtdKSA9PiB7XG4gICAgY29uc3Qgc3ludGF4RXJyb3IgPSBsaW50LnNvbWUocmVwb3J0ID0+IHJlcG9ydC50eXBlID09PSAnU3ludGF4IEVycm9yJyk7XG4gICAgaWYgKHN5bnRheEVycm9yKSB7XG4gICAgICBvbkVycm9yKCdVbnBhcnNhYmxlIEZFRUwgZXhwcmVzc2lvbi4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb25FcnJvcih1bmRlZmluZWQpO1xuICAgIH1cbiAgfSk7XG4gIGNvbnN0IGhhbmRsZU9wZW5Qb3B1cCA9ICh0eXBlID0gJ2ZlZWwnKSA9PiB7XG4gICAgY29uc3QgaXNPcGVuID0gZXZlbnRCdXMuZmlyZSgncHJvcGVydGllc1BhbmVsLm9wZW5Qb3B1cCcsIHtcbiAgICAgIGVsZW1lbnQsXG4gICAgICBlbnRyeUlkOiBpZCxcbiAgICAgIGhvc3RMYW5ndWFnZSxcbiAgICAgIGxhYmVsLFxuICAgICAgb25JbnB1dDogaGFuZGxlTG9jYWxJbnB1dCxcbiAgICAgIHNpbmdsZUxpbmUsXG4gICAgICBzb3VyY2VFbGVtZW50OiBlZGl0b3JSZWYuY3VycmVudCxcbiAgICAgIHRvb2x0aXBDb250YWluZXIsXG4gICAgICB0eXBlLFxuICAgICAgdmFsdWU6IGZlZWxPbmx5VmFsdWUsXG4gICAgICB2YXJpYWJsZXMsXG4gICAgICBmZWVsTGFuZ3VhZ2VDb250ZXh0XG4gICAgfSk7XG4gICAgaWYgKGlzT3Blbikge1xuICAgICAgZXZlbnRCdXMub25jZSgncHJvcGVydGllc1BhbmVsUG9wdXAuY2xvc2UnLCAoKSA9PiB7XG4gICAgICAgIHNldElzUG9wdXBPcGVuKGZhbHNlKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBzZXRJc1BvcHVwT3Blbihpc09wZW4gPT09IHRydWUpO1xuICB9O1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICh0eXBlb2YgZm9jdXMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBlZGl0b3JSZWYuY3VycmVudC5mb2N1cyhmb2N1cyk7XG4gICAgICBfc2V0Rm9jdXModW5kZWZpbmVkKTtcbiAgICB9XG4gIH0sIFtmb2N1c10pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICh2YWx1ZSA9PT0gbG9jYWxWYWx1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEV4dGVybmFsIHZhbHVlIGNoYW5nZSByZW1vdmVkIGNvbnRlbnQgPT4ga2VlcCBGRUVMIGNvbmZpZ3VyYXRpb25cbiAgICBpZiAoIXZhbHVlKSB7XG4gICAgICBzZXRMb2NhbFZhbHVlKGZlZWxBY3RpdmUgPyAnPScgOiAnJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHNldExvY2FsVmFsdWUodmFsdWUpO1xuICB9LCBbdmFsdWVdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgZXZlbnRCdXMuZmlyZSgncHJvcGVydGllc1BhbmVsLmNsb3NlUG9wdXAnKTtcbiAgICB9O1xuICB9LCBbXSk7XG5cbiAgLy8gY29weS1wYXN0ZSBpbnRlZ3JhdGlvblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGNvcHlIYW5kbGVyID0gZXZlbnQgPT4ge1xuICAgICAgaWYgKCFmZWVsQWN0aXZlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGV2ZW50LmNsaXBib2FyZERhdGEuc2V0RGF0YSgnYXBwbGljYXRpb24vRkVFTCcsIGV2ZW50LmNsaXBib2FyZERhdGEuZ2V0RGF0YSgndGV4dCcpKTtcbiAgICB9O1xuICAgIGNvbnN0IHBhc3RlSGFuZGxlciA9IGV2ZW50ID0+IHtcbiAgICAgIGlmIChmZWVsQWN0aXZlIHx8IGlzUG9wdXBPcGVuKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGZlZWxEYXRhID0gZXZlbnQuY2xpcGJvYXJkRGF0YS5nZXREYXRhKCdhcHBsaWNhdGlvbi9GRUVMJyk7XG4gICAgICBpZiAoZmVlbERhdGEpIHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgaGFuZGxlRmVlbFRvZ2dsZSgpO1xuICAgICAgICAgIHNldEZvY3VzKCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBpbnB1dCA9IGV2ZW50LnRhcmdldDtcbiAgICAgIGNvbnN0IGlzRmllbGRFbXB0eSA9ICFpbnB1dC52YWx1ZTtcbiAgICAgIGNvbnN0IGlzQWxsU2VsZWN0ZWQgPSBpbnB1dC5zZWxlY3Rpb25TdGFydCA9PT0gMCAmJiBpbnB1dC5zZWxlY3Rpb25FbmQgPT09IGlucHV0LnZhbHVlLmxlbmd0aDtcbiAgICAgIGlmIChpc0ZpZWxkRW1wdHkgfHwgaXNBbGxTZWxlY3RlZCkge1xuICAgICAgICBjb25zdCB0ZXh0RGF0YSA9IGV2ZW50LmNsaXBib2FyZERhdGEuZ2V0RGF0YSgndGV4dCcpO1xuICAgICAgICBjb25zdCB0cmltbWVkVmFsdWUgPSB0ZXh0RGF0YS50cmltKCk7XG4gICAgICAgIHNldExvY2FsVmFsdWUodHJpbW1lZFZhbHVlKTtcbiAgICAgICAgaGFuZGxlSW5wdXQodHJpbW1lZFZhbHVlKTtcbiAgICAgICAgaWYgKCFmZWVsQWN0aXZlICYmIGlzU3RyaW5nKHRyaW1tZWRWYWx1ZSkgJiYgdHJpbW1lZFZhbHVlLnN0YXJ0c1dpdGgoJz0nKSkge1xuICAgICAgICAgIHNldEZvY3VzKHRyaW1tZWRWYWx1ZS5sZW5ndGggLSAxKTtcbiAgICAgICAgfVxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfVxuICAgIH07XG4gICAgY29udGFpbmVyUmVmLmN1cnJlbnQuYWRkRXZlbnRMaXN0ZW5lcignY29weScsIGNvcHlIYW5kbGVyKTtcbiAgICBjb250YWluZXJSZWYuY3VycmVudC5hZGRFdmVudExpc3RlbmVyKCdjdXQnLCBjb3B5SGFuZGxlcik7XG4gICAgY29udGFpbmVyUmVmLmN1cnJlbnQuYWRkRXZlbnRMaXN0ZW5lcigncGFzdGUnLCBwYXN0ZUhhbmRsZXIpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBjb250YWluZXJSZWYuY3VycmVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjb3B5JywgY29weUhhbmRsZXIpO1xuICAgICAgY29udGFpbmVyUmVmLmN1cnJlbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY3V0JywgY29weUhhbmRsZXIpO1xuICAgICAgY29udGFpbmVyUmVmLmN1cnJlbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncGFzdGUnLCBwYXN0ZUhhbmRsZXIpO1xuICAgIH07XG4gIH0sIFtjb250YWluZXJSZWYsIGZlZWxBY3RpdmUsIGhhbmRsZUZlZWxUb2dnbGUsIHNldEZvY3VzXSk7XG4gIHJldHVybiBqc3hzKFwiZGl2XCIsIHtcbiAgICBjbGFzczogY2xhc3NuYW1lcygnYmlvLXByb3BlcnRpZXMtcGFuZWwtZmVlbC1lbnRyeScsIHtcbiAgICAgICdmZWVsLWFjdGl2ZSc6IGZlZWxBY3RpdmVcbiAgICB9KSxcbiAgICBjaGlsZHJlbjogW2pzeHMoXCJsYWJlbFwiLCB7XG4gICAgICBmb3I6IHByZWZpeElkJDUoaWQpLFxuICAgICAgY2xhc3M6IFwiYmlvLXByb3BlcnRpZXMtcGFuZWwtbGFiZWxcIixcbiAgICAgIG9uQ2xpY2s6ICgpID0+IHNldEZvY3VzKCksXG4gICAgICBjaGlsZHJlbjogW2pzeChUb29sdGlwV3JhcHBlciwge1xuICAgICAgICB2YWx1ZTogdG9vbHRpcCxcbiAgICAgICAgZm9ySWQ6IGlkLFxuICAgICAgICBlbGVtZW50OiBwcm9wcy5lbGVtZW50LFxuICAgICAgICBjaGlsZHJlbjogbGFiZWxcbiAgICAgIH0pLCBqc3goRmVlbEljb24sIHtcbiAgICAgICAgbGFiZWw6IGxhYmVsLFxuICAgICAgICBmZWVsOiBmZWVsLFxuICAgICAgICBvbkNsaWNrOiBoYW5kbGVGZWVsVG9nZ2xlLFxuICAgICAgICBhY3RpdmU6IGZlZWxBY3RpdmVcbiAgICAgIH0pXVxuICAgIH0pLCBqc3hzKFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzOiBcImJpby1wcm9wZXJ0aWVzLXBhbmVsLWZlZWwtY29udGFpbmVyXCIsXG4gICAgICByZWY6IGNvbnRhaW5lclJlZixcbiAgICAgIGNoaWxkcmVuOiBbanN4KEZlZWxJbmRpY2F0b3IsIHtcbiAgICAgICAgYWN0aXZlOiBmZWVsQWN0aXZlLFxuICAgICAgICBkaXNhYmxlZDogZmVlbCAhPT0gJ29wdGlvbmFsJyB8fCBkaXNhYmxlZCxcbiAgICAgICAgb25DbGljazogaGFuZGxlRmVlbFRvZ2dsZVxuICAgICAgfSksIGZlZWxBY3RpdmUgPyBqc3goRmVlbEVkaXRvciwge1xuICAgICAgICBuYW1lOiBpZCxcbiAgICAgICAgb25JbnB1dDogaGFuZGxlTG9jYWxJbnB1dCxcbiAgICAgICAgb25LZXlEb3duOiBoYW5kbGVPbktleURvd24sXG4gICAgICAgIGNvbnRlbnRBdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgJ2lkJzogcHJlZml4SWQkNShpZCksXG4gICAgICAgICAgJ2FyaWEtbGFiZWwnOiBsYWJlbFxuICAgICAgICB9LFxuICAgICAgICBkaXNhYmxlZDogZGlzYWJsZWQsXG4gICAgICAgIHBvcHVwT3BlbjogaXNQb3B1cE9wZW4sXG4gICAgICAgIG9uRmVlbFRvZ2dsZTogKCkgPT4ge1xuICAgICAgICAgIGhhbmRsZUZlZWxUb2dnbGUoKTtcbiAgICAgICAgICBzZXRGb2N1cyh0cnVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25MaW50OiBoYW5kbGVMaW50LFxuICAgICAgICBvbk9wZW5Qb3B1cDogaGFuZGxlT3BlblBvcHVwLFxuICAgICAgICBwbGFjZWhvbGRlcjogcGxhY2Vob2xkZXIsXG4gICAgICAgIHZhbHVlOiBmZWVsT25seVZhbHVlLFxuICAgICAgICB2YXJpYWJsZXM6IHZhcmlhYmxlcyxcbiAgICAgICAgZmVlbExhbmd1YWdlQ29udGV4dDogZmVlbExhbmd1YWdlQ29udGV4dCxcbiAgICAgICAgcmVmOiBlZGl0b3JSZWYsXG4gICAgICAgIHRvb2x0aXBDb250YWluZXI6IHRvb2x0aXBDb250YWluZXJcbiAgICAgIH0pIDoganN4KE9wdGlvbmFsQ29tcG9uZW50LCB7XG4gICAgICAgIC4uLnByb3BzLFxuICAgICAgICBwb3B1cE9wZW46IGlzUG9wdXBPcGVuLFxuICAgICAgICBvbklucHV0OiBoYW5kbGVMb2NhbElucHV0LFxuICAgICAgICBvbktleURvd246IGhhbmRsZU9uS2V5RG93bixcbiAgICAgICAgb25CbHVyOiBoYW5kbGVPbkJsdXIsXG4gICAgICAgIGNvbnRlbnRBdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgJ2lkJzogcHJlZml4SWQkNShpZCksXG4gICAgICAgICAgJ2FyaWEtbGFiZWwnOiBsYWJlbFxuICAgICAgICB9LFxuICAgICAgICB2YWx1ZTogbG9jYWxWYWx1ZSxcbiAgICAgICAgcmVmOiBlZGl0b3JSZWYsXG4gICAgICAgIG9uT3BlblBvcHVwOiBoYW5kbGVPcGVuUG9wdXAsXG4gICAgICAgIGNvbnRhaW5lclJlZjogY29udGFpbmVyUmVmXG4gICAgICB9KV1cbiAgICB9KV1cbiAgfSk7XG59XG5jb25zdCBPcHRpb25hbEZlZWxJbnB1dCA9IGZvcndhcmRSZWYoKHByb3BzLCByZWYpID0+IHtcbiAgY29uc3Qge1xuICAgIGlkLFxuICAgIGRpc2FibGVkLFxuICAgIG9uSW5wdXQsXG4gICAgb25LZXlEb3duLFxuICAgIHZhbHVlLFxuICAgIG9uRm9jdXMsXG4gICAgb25CbHVyLFxuICAgIHBsYWNlaG9sZGVyXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgaW5wdXRSZWYgPSB1c2VSZWYoKTtcblxuICAvLyBUbyBiZSBjb25zaXN0ZW50IHdpdGggdGhlIEZFRUwgZWRpdG9yLCBzZXQgZm9jdXMgYXQgc3RhcnQgb2YgaW5wdXRcbiAgLy8gdGhpcyBlbnN1cmVzIGNsZWFuIGVkaXRpbmcgZXhwZXJpZW5jZSB3aGVuIHN3aXRjaGluZyB3aXRoIHRoZSBrZXlib2FyZFxuICByZWYuY3VycmVudCA9IHtcbiAgICBmb2N1czogcG9zaXRpb24gPT4ge1xuICAgICAgY29uc3QgaW5wdXQgPSBpbnB1dFJlZi5jdXJyZW50O1xuICAgICAgaWYgKCFpbnB1dCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpbnB1dC5mb2N1cygpO1xuICAgICAgaWYgKHR5cGVvZiBwb3NpdGlvbiA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgaWYgKHBvc2l0aW9uID4gdmFsdWUubGVuZ3RoKSB7XG4gICAgICAgICAgcG9zaXRpb24gPSB2YWx1ZS5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgaW5wdXQuc2V0U2VsZWN0aW9uUmFuZ2UocG9zaXRpb24sIHBvc2l0aW9uKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIHJldHVybiBqc3goXCJpbnB1dFwiLCB7XG4gICAgaWQ6IHByZWZpeElkJDUoaWQpLFxuICAgIHR5cGU6IFwidGV4dFwiLFxuICAgIHJlZjogaW5wdXRSZWYsXG4gICAgbmFtZTogaWQsXG4gICAgc3BlbGxDaGVjazogXCJmYWxzZVwiLFxuICAgIGF1dG9Db21wbGV0ZTogXCJvZmZcIixcbiAgICBkaXNhYmxlZDogZGlzYWJsZWQsXG4gICAgY2xhc3M6IFwiYmlvLXByb3BlcnRpZXMtcGFuZWwtaW5wdXRcIixcbiAgICBvbklucHV0OiBlID0+IG9uSW5wdXQoZS50YXJnZXQudmFsdWUpLFxuICAgIG9uRm9jdXM6IG9uRm9jdXMsXG4gICAgb25LZXlEb3duOiBvbktleURvd24sXG4gICAgb25CbHVyOiBvbkJsdXIsXG4gICAgcGxhY2Vob2xkZXI6IHBsYWNlaG9sZGVyLFxuICAgIHZhbHVlOiB2YWx1ZSB8fCAnJ1xuICB9KTtcbn0pO1xuY29uc3QgT3B0aW9uYWxGZWVsTnVtYmVyRmllbGQgPSBmb3J3YXJkUmVmKChwcm9wcywgcmVmKSA9PiB7XG4gIGNvbnN0IHtcbiAgICBpZCxcbiAgICBkZWJvdW5jZSxcbiAgICBkaXNhYmxlZCxcbiAgICBvbklucHV0LFxuICAgIHZhbHVlLFxuICAgIG1pbixcbiAgICBtYXgsXG4gICAgc3RlcCxcbiAgICBvbkZvY3VzLFxuICAgIG9uQmx1clxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IGlucHV0UmVmID0gdXNlUmVmKCk7XG5cbiAgLy8gVG8gYmUgY29uc2lzdGVudCB3aXRoIHRoZSBGRUVMIGVkaXRvciwgc2V0IGZvY3VzIGF0IHN0YXJ0IG9mIGlucHV0XG4gIC8vIHRoaXMgZW5zdXJlcyBjbGVhbiBlZGl0aW5nIGV4cGVyaWVuY2Ugd2hlbiBzd2l0Y2hpbmcgd2l0aCB0aGUga2V5Ym9hcmRcbiAgcmVmLmN1cnJlbnQgPSB7XG4gICAgZm9jdXM6IHBvc2l0aW9uID0+IHtcbiAgICAgIGNvbnN0IGlucHV0ID0gaW5wdXRSZWYuY3VycmVudDtcbiAgICAgIGlmICghaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaW5wdXQuZm9jdXMoKTtcbiAgICAgIGlmICh0eXBlb2YgcG9zaXRpb24gPT09ICdudW1iZXInICYmIHBvc2l0aW9uICE9PSBJbmZpbml0eSkge1xuICAgICAgICBpZiAocG9zaXRpb24gPiB2YWx1ZS5sZW5ndGgpIHtcbiAgICAgICAgICBwb3NpdGlvbiA9IHZhbHVlLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICBpbnB1dC5zZXRTZWxlY3Rpb25SYW5nZShwb3NpdGlvbiwgcG9zaXRpb24pO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgcmV0dXJuIGpzeChOdW1iZXJGaWVsZCwge1xuICAgIGlkOiBpZCxcbiAgICBkZWJvdW5jZTogZGVib3VuY2UsXG4gICAgZGlzYWJsZWQ6IGRpc2FibGVkLFxuICAgIGRpc3BsYXlMYWJlbDogZmFsc2UsXG4gICAgaW5wdXRSZWY6IGlucHV0UmVmLFxuICAgIG1heDogbWF4LFxuICAgIG1pbjogbWluLFxuICAgIG9uSW5wdXQ6IG9uSW5wdXQsXG4gICAgc3RlcDogc3RlcCxcbiAgICB2YWx1ZTogdmFsdWUsXG4gICAgb25Gb2N1czogb25Gb2N1cyxcbiAgICBvbkJsdXI6IG9uQmx1clxuICB9KTtcbn0pO1xuZm9yd2FyZFJlZigocHJvcHMsIHJlZikgPT4ge1xuICBjb25zdCB7XG4gICAgaWQsXG4gICAgZGlzYWJsZWQsXG4gICAgb25JbnB1dCxcbiAgICB2YWx1ZSxcbiAgICBvbkZvY3VzLFxuICAgIG9uQmx1cixcbiAgICBwbGFjZWhvbGRlclxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IGlucHV0UmVmID0gdXNlUmVmKCk7XG5cbiAgLy8gVG8gYmUgY29uc2lzdGVudCB3aXRoIHRoZSBGRUVMIGVkaXRvciwgc2V0IGZvY3VzIGF0IHN0YXJ0IG9mIGlucHV0XG4gIC8vIHRoaXMgZW5zdXJlcyBjbGVhbiBlZGl0aW5nIGV4cGVyaWVuY2Ugd2hlbiBzd2l0Y2hpbmcgd2l0aCB0aGUga2V5Ym9hcmRcbiAgcmVmLmN1cnJlbnQgPSB7XG4gICAgZm9jdXM6ICgpID0+IHtcbiAgICAgIGNvbnN0IGlucHV0ID0gaW5wdXRSZWYuY3VycmVudDtcbiAgICAgIGlmICghaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaW5wdXQuZm9jdXMoKTtcbiAgICAgIGlucHV0LnNldFNlbGVjdGlvblJhbmdlKDAsIDApO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIGpzeChcInRleHRhcmVhXCIsIHtcbiAgICBpZDogcHJlZml4SWQkNShpZCksXG4gICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgcmVmOiBpbnB1dFJlZixcbiAgICBuYW1lOiBpZCxcbiAgICBzcGVsbENoZWNrOiBcImZhbHNlXCIsXG4gICAgYXV0b0NvbXBsZXRlOiBcIm9mZlwiLFxuICAgIGRpc2FibGVkOiBkaXNhYmxlZCxcbiAgICBjbGFzczogXCJiaW8tcHJvcGVydGllcy1wYW5lbC1pbnB1dFwiLFxuICAgIG9uSW5wdXQ6IGUgPT4gb25JbnB1dChlLnRhcmdldC52YWx1ZSksXG4gICAgb25Gb2N1czogb25Gb2N1cyxcbiAgICBvbkJsdXI6IG9uQmx1cixcbiAgICBwbGFjZWhvbGRlcjogcGxhY2Vob2xkZXIsXG4gICAgdmFsdWU6IHZhbHVlIHx8ICcnLFxuICAgIFwiZGF0YS1ncmFtbVwiOiBcImZhbHNlXCJcbiAgfSk7XG59KTtcbmNvbnN0IE9wdGlvbmFsRmVlbFRvZ2dsZVN3aXRjaCA9IGZvcndhcmRSZWYoKHByb3BzLCByZWYpID0+IHtcbiAgY29uc3Qge1xuICAgIGlkLFxuICAgIG9uSW5wdXQsXG4gICAgdmFsdWUsXG4gICAgb25Gb2N1cyxcbiAgICBvbkJsdXIsXG4gICAgc3dpdGNoZXJMYWJlbFxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IGlucHV0UmVmID0gdXNlUmVmKCk7XG5cbiAgLy8gVG8gYmUgY29uc2lzdGVudCB3aXRoIHRoZSBGRUVMIGVkaXRvciwgc2V0IGZvY3VzIGF0IHN0YXJ0IG9mIGlucHV0XG4gIC8vIHRoaXMgZW5zdXJlcyBjbGVhbiBlZGl0aW5nIGV4cGVyaWVuY2Ugd2hlbiBzd2l0Y2hpbmcgd2l0aCB0aGUga2V5Ym9hcmRcbiAgcmVmLmN1cnJlbnQgPSB7XG4gICAgZm9jdXM6ICgpID0+IHtcbiAgICAgIGNvbnN0IGlucHV0ID0gaW5wdXRSZWYuY3VycmVudDtcbiAgICAgIGlmICghaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaW5wdXQuZm9jdXMoKTtcbiAgICB9XG4gIH07XG4gIHJldHVybiBqc3goVG9nZ2xlU3dpdGNoLCB7XG4gICAgaWQ6IGlkLFxuICAgIHZhbHVlOiB2YWx1ZSxcbiAgICBpbnB1dFJlZjogaW5wdXRSZWYsXG4gICAgb25JbnB1dDogb25JbnB1dCxcbiAgICBvbkZvY3VzOiBvbkZvY3VzLFxuICAgIG9uQmx1cjogb25CbHVyLFxuICAgIHN3aXRjaGVyTGFiZWw6IHN3aXRjaGVyTGFiZWxcbiAgfSk7XG59KTtcbmZvcndhcmRSZWYoKHByb3BzLCByZWYpID0+IHtcbiAgY29uc3Qge1xuICAgIGlkLFxuICAgIGRpc2FibGVkLFxuICAgIG9uSW5wdXQsXG4gICAgdmFsdWUsXG4gICAgb25Gb2N1cyxcbiAgICBvbkJsdXJcbiAgfSA9IHByb3BzO1xuICBjb25zdCBpbnB1dFJlZiA9IHVzZVJlZigpO1xuICBjb25zdCBoYW5kbGVDaGFuZ2UgPSAoe1xuICAgIHRhcmdldFxuICB9KSA9PiB7XG4gICAgb25JbnB1dCh0YXJnZXQuY2hlY2tlZCk7XG4gIH07XG5cbiAgLy8gVG8gYmUgY29uc2lzdGVudCB3aXRoIHRoZSBGRUVMIGVkaXRvciwgc2V0IGZvY3VzIGF0IHN0YXJ0IG9mIGlucHV0XG4gIC8vIHRoaXMgZW5zdXJlcyBjbGVhbiBlZGl0aW5nIGV4cGVyaWVuY2Ugd2hlbiBzd2l0Y2hpbmcgd2l0aCB0aGUga2V5Ym9hcmRcbiAgcmVmLmN1cnJlbnQgPSB7XG4gICAgZm9jdXM6ICgpID0+IHtcbiAgICAgIGNvbnN0IGlucHV0ID0gaW5wdXRSZWYuY3VycmVudDtcbiAgICAgIGlmICghaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaW5wdXQuZm9jdXMoKTtcbiAgICB9XG4gIH07XG4gIHJldHVybiBqc3goXCJpbnB1dFwiLCB7XG4gICAgcmVmOiBpbnB1dFJlZixcbiAgICBpZDogcHJlZml4SWQkNShpZCksXG4gICAgbmFtZTogaWQsXG4gICAgb25Gb2N1czogb25Gb2N1cyxcbiAgICBvbkJsdXI6IG9uQmx1cixcbiAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgY2xhc3M6IFwiYmlvLXByb3BlcnRpZXMtcGFuZWwtaW5wdXRcIixcbiAgICBvbkNoYW5nZTogaGFuZGxlQ2hhbmdlLFxuICAgIGNoZWNrZWQ6IHZhbHVlLFxuICAgIGRpc2FibGVkOiBkaXNhYmxlZFxuICB9KTtcbn0pO1xuXG4vKipcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wc1xuICogQHBhcmFtIHtPYmplY3R9IHByb3BzLmVsZW1lbnRcbiAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wcy5pZFxuICogQHBhcmFtIHtTdHJpbmd9IHByb3BzLmRlc2NyaXB0aW9uXG4gKiBAcGFyYW0ge0Jvb2xlYW59IHByb3BzLmRlYm91bmNlXG4gKiBAcGFyYW0ge0Jvb2xlYW59IHByb3BzLmRpc2FibGVkXG4gKiBAcGFyYW0ge0ZlZWxUeXBlfSBbcHJvcHMuZmVlbF1cbiAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wcy5sYWJlbFxuICogQHBhcmFtIHtGdW5jdGlvbn0gcHJvcHMuZ2V0VmFsdWVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHByb3BzLnNldFZhbHVlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcm9wcy50b29sdGlwQ29udGFpbmVyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcm9wcy52YWxpZGF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gcHJvcHMuc2hvd1xuICogQHBhcmFtIHtGdW5jdGlvbn0gcHJvcHMuZXhhbXBsZVxuICogQHBhcmFtIHtBcnJheX0gcHJvcHMudmFyaWFibGVzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcm9wcy5vbkZvY3VzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcm9wcy5vbkJsdXJcbiAqIEBwYXJhbSB7c3RyaW5nfSBbcHJvcHMucGxhY2Vob2xkZXJdXG4gKiBAcGFyYW0ge3N0cmluZ3xpbXBvcnQoJ3ByZWFjdCcpLkNvbXBvbmVudH0gcHJvcHMudG9vbHRpcFxuICovXG5mdW5jdGlvbiBGZWVsRW50cnkocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGVsZW1lbnQsXG4gICAgaWQsXG4gICAgZGVzY3JpcHRpb24sXG4gICAgZGVib3VuY2UsXG4gICAgZGlzYWJsZWQsXG4gICAgZmVlbCxcbiAgICBsYWJlbCxcbiAgICBnZXRWYWx1ZSxcbiAgICBzZXRWYWx1ZSxcbiAgICB0b29sdGlwQ29udGFpbmVyLFxuICAgIGhvc3RMYW5ndWFnZSxcbiAgICBzaW5nbGVMaW5lLFxuICAgIHZhbGlkYXRlLFxuICAgIHNob3cgPSBub29wJDIsXG4gICAgZXhhbXBsZSxcbiAgICB2YXJpYWJsZXMsXG4gICAgb25Gb2N1cyxcbiAgICBvbkJsdXIsXG4gICAgcGxhY2Vob2xkZXIsXG4gICAgdG9vbHRpcFxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IFt2YWxpZGF0aW9uRXJyb3IsIHNldFZhbGlkYXRpb25FcnJvcl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgY29uc3QgW2xvY2FsRXJyb3IsIHNldExvY2FsRXJyb3JdID0gdXNlU3RhdGUobnVsbCk7XG4gIGxldCB2YWx1ZSA9IGdldFZhbHVlKGVsZW1lbnQpO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpc0Z1bmN0aW9uKHZhbGlkYXRlKSkge1xuICAgICAgY29uc3QgbmV3VmFsaWRhdGlvbkVycm9yID0gdmFsaWRhdGUodmFsdWUpIHx8IG51bGw7XG4gICAgICBzZXRWYWxpZGF0aW9uRXJyb3IobmV3VmFsaWRhdGlvbkVycm9yKTtcbiAgICB9XG4gIH0sIFt2YWx1ZSwgdmFsaWRhdGVdKTtcbiAgY29uc3Qgb25JbnB1dCA9IHVzZVN0YXRpY0NhbGxiYWNrKG5ld1ZhbHVlID0+IHtcbiAgICBjb25zdCB2YWx1ZSA9IGdldFZhbHVlKGVsZW1lbnQpO1xuICAgIGxldCBuZXdWYWxpZGF0aW9uRXJyb3IgPSBudWxsO1xuICAgIGlmIChpc0Z1bmN0aW9uKHZhbGlkYXRlKSkge1xuICAgICAgbmV3VmFsaWRhdGlvbkVycm9yID0gdmFsaWRhdGUobmV3VmFsdWUpIHx8IG51bGw7XG4gICAgfVxuXG4gICAgLy8gZG9uJ3QgY3JlYXRlIG11bHRpcGxlIGNvbW1hbmRTdGFjayBlbnRyaWVzIGZvciB0aGUgc2FtZSB2YWx1ZVxuICAgIGlmIChuZXdWYWx1ZSAhPT0gdmFsdWUpIHtcbiAgICAgIHNldFZhbHVlKG5ld1ZhbHVlLCBuZXdWYWxpZGF0aW9uRXJyb3IpO1xuICAgIH1cbiAgICBzZXRWYWxpZGF0aW9uRXJyb3IobmV3VmFsaWRhdGlvbkVycm9yKTtcbiAgfSk7XG4gIGNvbnN0IG9uRXJyb3IgPSB1c2VDYWxsYmFjayhlcnIgPT4ge1xuICAgIHNldExvY2FsRXJyb3IoZXJyKTtcbiAgfSwgW10pO1xuICBjb25zdCB0ZW1wb3JhcnlFcnJvciA9IHVzZUVycm9yKGlkKTtcbiAgY29uc3QgZXJyb3IgPSB0ZW1wb3JhcnlFcnJvciB8fCBsb2NhbEVycm9yIHx8IHZhbGlkYXRpb25FcnJvcjtcbiAgcmV0dXJuIGpzeHMoXCJkaXZcIiwge1xuICAgIGNsYXNzOiBjbGFzc25hbWVzKHByb3BzLmNsYXNzLCAnYmlvLXByb3BlcnRpZXMtcGFuZWwtZW50cnknLCBlcnJvciA/ICdoYXMtZXJyb3InIDogJycpLFxuICAgIFwiZGF0YS1lbnRyeS1pZFwiOiBpZCxcbiAgICBjaGlsZHJlbjogW2NyZWF0ZUVsZW1lbnQkMShGZWVsVGV4dGZpZWxkLCB7XG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGRlYm91bmNlOiBkZWJvdW5jZSxcbiAgICAgIGRpc2FibGVkOiBkaXNhYmxlZCxcbiAgICAgIGZlZWw6IGZlZWwsXG4gICAgICBpZDogaWQsXG4gICAgICBrZXk6IGVsZW1lbnQsXG4gICAgICBsYWJlbDogbGFiZWwsXG4gICAgICBvbklucHV0OiBvbklucHV0LFxuICAgICAgb25FcnJvcjogb25FcnJvcixcbiAgICAgIG9uRm9jdXM6IG9uRm9jdXMsXG4gICAgICBvbkJsdXI6IG9uQmx1cixcbiAgICAgIHBsYWNlaG9sZGVyOiBwbGFjZWhvbGRlcixcbiAgICAgIGV4YW1wbGU6IGV4YW1wbGUsXG4gICAgICBob3N0TGFuZ3VhZ2U6IGhvc3RMYW5ndWFnZSxcbiAgICAgIHNpbmdsZUxpbmU6IHNpbmdsZUxpbmUsXG4gICAgICBzaG93OiBzaG93LFxuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgdmFyaWFibGVzOiB2YXJpYWJsZXMsXG4gICAgICB0b29sdGlwQ29udGFpbmVyOiB0b29sdGlwQ29udGFpbmVyLFxuICAgICAgT3B0aW9uYWxDb21wb25lbnQ6IHByb3BzLk9wdGlvbmFsQ29tcG9uZW50LFxuICAgICAgdG9vbHRpcDogdG9vbHRpcFxuICAgIH0pLCBlcnJvciAmJiBqc3goXCJkaXZcIiwge1xuICAgICAgY2xhc3M6IFwiYmlvLXByb3BlcnRpZXMtcGFuZWwtZXJyb3JcIixcbiAgICAgIGNoaWxkcmVuOiBlcnJvclxuICAgIH0pLCBqc3goRGVzY3JpcHRpb24kMSwge1xuICAgICAgZm9ySWQ6IGlkLFxuICAgICAgZWxlbWVudDogZWxlbWVudCxcbiAgICAgIHZhbHVlOiBkZXNjcmlwdGlvblxuICAgIH0pXVxuICB9KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge09iamVjdH0gcHJvcHNcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wcy5lbGVtZW50XG4gKiBAcGFyYW0ge1N0cmluZ30gcHJvcHMuaWRcbiAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wcy5kZXNjcmlwdGlvblxuICogQHBhcmFtIHtCb29sZWFufSBwcm9wcy5kZWJvdW5jZVxuICogQHBhcmFtIHtCb29sZWFufSBwcm9wcy5kaXNhYmxlZFxuICogQHBhcmFtIHtTdHJpbmd9IHByb3BzLm1heFxuICogQHBhcmFtIHtTdHJpbmd9IHByb3BzLm1pblxuICogQHBhcmFtIHtTdHJpbmd9IHByb3BzLnN0ZXBcbiAqIEBwYXJhbSB7RmVlbFR5cGV9IFtwcm9wcy5mZWVsXVxuICogQHBhcmFtIHtTdHJpbmd9IHByb3BzLmxhYmVsXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcm9wcy5nZXRWYWx1ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gcHJvcHMuc2V0VmFsdWVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHByb3BzLnRvb2x0aXBDb250YWluZXJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHByb3BzLnZhbGlkYXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcm9wcy5zaG93XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcm9wcy5leGFtcGxlXG4gKiBAcGFyYW0ge0FycmF5fSBwcm9wcy52YXJpYWJsZXNcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHByb3BzLm9uRm9jdXNcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHByb3BzLm9uQmx1clxuICovXG5mdW5jdGlvbiBGZWVsTnVtYmVyRW50cnkocHJvcHMpIHtcbiAgcmV0dXJuIGpzeChGZWVsRW50cnksIHtcbiAgICBjbGFzczogXCJiaW8tcHJvcGVydGllcy1wYW5lbC1mZWVsLW51bWJlclwiLFxuICAgIE9wdGlvbmFsQ29tcG9uZW50OiBPcHRpb25hbEZlZWxOdW1iZXJGaWVsZCxcbiAgICAuLi5wcm9wc1xuICB9KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge09iamVjdH0gcHJvcHNcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wcy5lbGVtZW50XG4gKiBAcGFyYW0ge1N0cmluZ30gcHJvcHMuaWRcbiAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wcy5kZXNjcmlwdGlvblxuICogQHBhcmFtIHtCb29sZWFufSBwcm9wcy5kZWJvdW5jZVxuICogQHBhcmFtIHtCb29sZWFufSBwcm9wcy5kaXNhYmxlZFxuICogQHBhcmFtIHtGZWVsVHlwZX0gW3Byb3BzLmZlZWxdXG4gKiBAcGFyYW0ge1N0cmluZ30gcHJvcHMubGFiZWxcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHByb3BzLmdldFZhbHVlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcm9wcy5zZXRWYWx1ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gcHJvcHMudG9vbHRpcENvbnRhaW5lclxuICogQHBhcmFtIHtGdW5jdGlvbn0gcHJvcHMudmFsaWRhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHByb3BzLnNob3dcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHByb3BzLmV4YW1wbGVcbiAqIEBwYXJhbSB7QXJyYXl9IHByb3BzLnZhcmlhYmxlc1xuICogQHBhcmFtIHtGdW5jdGlvbn0gcHJvcHMub25Gb2N1c1xuICogQHBhcmFtIHtGdW5jdGlvbn0gcHJvcHMub25CbHVyXG4gKi9cbmZ1bmN0aW9uIEZlZWxUb2dnbGVTd2l0Y2hFbnRyeShwcm9wcykge1xuICByZXR1cm4ganN4KEZlZWxFbnRyeSwge1xuICAgIGNsYXNzOiBcImJpby1wcm9wZXJ0aWVzLXBhbmVsLWZlZWwtdG9nZ2xlLXN3aXRjaFwiLFxuICAgIE9wdGlvbmFsQ29tcG9uZW50OiBPcHRpb25hbEZlZWxUb2dnbGVTd2l0Y2gsXG4gICAgLi4ucHJvcHNcbiAgfSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtPYmplY3R9IHByb3BzXG4gKiBAcGFyYW0ge09iamVjdH0gcHJvcHMuZWxlbWVudFxuICogQHBhcmFtIHtTdHJpbmd9IHByb3BzLmlkXG4gKiBAcGFyYW0ge1N0cmluZ30gcHJvcHMuZGVzY3JpcHRpb25cbiAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wcy5ob3N0TGFuZ3VhZ2VcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gcHJvcHMuc2luZ2xlTGluZVxuICogQHBhcmFtIHtCb29sZWFufSBwcm9wcy5kZWJvdW5jZVxuICogQHBhcmFtIHtCb29sZWFufSBwcm9wcy5kaXNhYmxlZFxuICogQHBhcmFtIHtGZWVsVHlwZX0gW3Byb3BzLmZlZWxdXG4gKiBAcGFyYW0ge1N0cmluZ30gcHJvcHMubGFiZWxcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHByb3BzLmdldFZhbHVlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcm9wcy5zZXRWYWx1ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gcHJvcHMudG9vbHRpcENvbnRhaW5lclxuICogQHBhcmFtIHtGdW5jdGlvbn0gcHJvcHMudmFsaWRhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHByb3BzLnNob3dcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHByb3BzLmV4YW1wbGVcbiAqIEBwYXJhbSB7QXJyYXl9IHByb3BzLnZhcmlhYmxlc1xuICogQHBhcmFtIHtGdW5jdGlvbn0gcHJvcHMub25Gb2N1c1xuICogQHBhcmFtIHtGdW5jdGlvbn0gcHJvcHMub25CbHVyXG4gKi9cbmZ1bmN0aW9uIEZlZWxUZW1wbGF0aW5nRW50cnkocHJvcHMpIHtcbiAgcmV0dXJuIGpzeChGZWVsRW50cnksIHtcbiAgICBjbGFzczogXCJiaW8tcHJvcGVydGllcy1wYW5lbC1mZWVsLXRlbXBsYXRpbmdcIixcbiAgICBPcHRpb25hbENvbXBvbmVudDogVGVtcGxhdGluZ0VkaXRvcixcbiAgICAuLi5wcm9wc1xuICB9KTtcbn1cbmZ1bmN0aW9uIGlzRWRpdGVkJDUobm9kZSkge1xuICBpZiAoIW5vZGUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKG5vZGUudHlwZSA9PT0gJ2NoZWNrYm94Jykge1xuICAgIHJldHVybiAhIW5vZGUuY2hlY2tlZCB8fCBub2RlLmNsYXNzTGlzdC5jb250YWlucygnZWRpdGVkJyk7XG4gIH1cbiAgcmV0dXJuICEhbm9kZS52YWx1ZSB8fCBub2RlLmNsYXNzTGlzdC5jb250YWlucygnZWRpdGVkJyk7XG59XG5cbi8vIGhlbHBlcnMgLy8vLy8vLy8vLy8vLy8vLy9cblxuZnVuY3Rpb24gcHJlZml4SWQkNShpZCkge1xuICByZXR1cm4gYGJpby1wcm9wZXJ0aWVzLXBhbmVsLSR7aWR9YDtcbn1cblxuLyoqXG4gKiBAdHlwZWRlZiB7IHsgdmFsdWU6IHN0cmluZywgbGFiZWw6IHN0cmluZywgZGlzYWJsZWQ6IGJvb2xlYW4sIGNoaWxkcmVuOiB7IHZhbHVlOiBzdHJpbmcsIGxhYmVsOiBzdHJpbmcsIGRpc2FibGVkOiBib29sZWFuIH0gfSB9IE9wdGlvblxuICovXG5cbi8qKlxuICogUHJvdmlkZXMgYmFzaWMgc2VsZWN0IGlucHV0LlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBwcm9wc1xuICogQHBhcmFtIHtzdHJpbmd9IHByb3BzLmlkXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBwcm9wcy5wYXRoXG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcHMubGFiZWxcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHByb3BzLm9uQ2hhbmdlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcm9wcy5vbkZvY3VzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcm9wcy5vbkJsdXJcbiAqIEBwYXJhbSB7QXJyYXk8T3B0aW9uPn0gW3Byb3BzLm9wdGlvbnNdXG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcHMudmFsdWVcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Byb3BzLmRpc2FibGVkXVxuICovXG5mdW5jdGlvbiBTZWxlY3QocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGlkLFxuICAgIGxhYmVsLFxuICAgIG9uQ2hhbmdlLFxuICAgIG9wdGlvbnMgPSBbXSxcbiAgICB2YWx1ZSA9ICcnLFxuICAgIGRpc2FibGVkLFxuICAgIG9uRm9jdXMsXG4gICAgb25CbHVyLFxuICAgIHRvb2x0aXBcbiAgfSA9IHByb3BzO1xuICBjb25zdCByZWYgPSB1c2VTaG93RW50cnlFdmVudChpZCk7XG4gIGNvbnN0IFtsb2NhbFZhbHVlLCBzZXRMb2NhbFZhbHVlXSA9IHVzZVN0YXRlKHZhbHVlKTtcbiAgY29uc3QgaGFuZGxlQ2hhbmdlQ2FsbGJhY2sgPSAoe1xuICAgIHRhcmdldFxuICB9KSA9PiB7XG4gICAgb25DaGFuZ2UodGFyZ2V0LnZhbHVlKTtcbiAgfTtcbiAgY29uc3QgaGFuZGxlQ2hhbmdlID0gZSA9PiB7XG4gICAgaGFuZGxlQ2hhbmdlQ2FsbGJhY2soZSk7XG4gICAgc2V0TG9jYWxWYWx1ZShlLnRhcmdldC52YWx1ZSk7XG4gIH07XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHZhbHVlID09PSBsb2NhbFZhbHVlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHNldExvY2FsVmFsdWUodmFsdWUpO1xuICB9LCBbdmFsdWVdKTtcbiAgcmV0dXJuIGpzeHMoXCJkaXZcIiwge1xuICAgIGNsYXNzOiBcImJpby1wcm9wZXJ0aWVzLXBhbmVsLXNlbGVjdFwiLFxuICAgIGNoaWxkcmVuOiBbanN4KFwibGFiZWxcIiwge1xuICAgICAgZm9yOiBwcmVmaXhJZCQ0KGlkKSxcbiAgICAgIGNsYXNzOiBcImJpby1wcm9wZXJ0aWVzLXBhbmVsLWxhYmVsXCIsXG4gICAgICBjaGlsZHJlbjoganN4KFRvb2x0aXBXcmFwcGVyLCB7XG4gICAgICAgIHZhbHVlOiB0b29sdGlwLFxuICAgICAgICBmb3JJZDogaWQsXG4gICAgICAgIGVsZW1lbnQ6IHByb3BzLmVsZW1lbnQsXG4gICAgICAgIGNoaWxkcmVuOiBsYWJlbFxuICAgICAgfSlcbiAgICB9KSwganN4KFwic2VsZWN0XCIsIHtcbiAgICAgIHJlZjogcmVmLFxuICAgICAgaWQ6IHByZWZpeElkJDQoaWQpLFxuICAgICAgbmFtZTogaWQsXG4gICAgICBjbGFzczogXCJiaW8tcHJvcGVydGllcy1wYW5lbC1pbnB1dFwiLFxuICAgICAgb25JbnB1dDogaGFuZGxlQ2hhbmdlLFxuICAgICAgb25Gb2N1czogb25Gb2N1cyxcbiAgICAgIG9uQmx1cjogb25CbHVyLFxuICAgICAgdmFsdWU6IGxvY2FsVmFsdWUsXG4gICAgICBkaXNhYmxlZDogZGlzYWJsZWQsXG4gICAgICBjaGlsZHJlbjogb3B0aW9ucy5tYXAoKG9wdGlvbiwgaWR4KSA9PiB7XG4gICAgICAgIGlmIChvcHRpb24uY2hpbGRyZW4pIHtcbiAgICAgICAgICByZXR1cm4ganN4KFwib3B0Z3JvdXBcIiwge1xuICAgICAgICAgICAgbGFiZWw6IG9wdGlvbi5sYWJlbCxcbiAgICAgICAgICAgIGNoaWxkcmVuOiBvcHRpb24uY2hpbGRyZW4ubWFwKChjaGlsZCwgaWR4KSA9PiBqc3goXCJvcHRpb25cIiwge1xuICAgICAgICAgICAgICB2YWx1ZTogY2hpbGQudmFsdWUsXG4gICAgICAgICAgICAgIGRpc2FibGVkOiBjaGlsZC5kaXNhYmxlZCxcbiAgICAgICAgICAgICAgY2hpbGRyZW46IGNoaWxkLmxhYmVsXG4gICAgICAgICAgICB9LCBpZHgpKVxuICAgICAgICAgIH0sIGlkeCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGpzeChcIm9wdGlvblwiLCB7XG4gICAgICAgICAgdmFsdWU6IG9wdGlvbi52YWx1ZSxcbiAgICAgICAgICBkaXNhYmxlZDogb3B0aW9uLmRpc2FibGVkLFxuICAgICAgICAgIGNoaWxkcmVuOiBvcHRpb24ubGFiZWxcbiAgICAgICAgfSwgaWR4KTtcbiAgICAgIH0pXG4gICAgfSldXG4gIH0pO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7b2JqZWN0fSBwcm9wc1xuICogQHBhcmFtIHtvYmplY3R9IHByb3BzLmVsZW1lbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wcy5pZFxuICogQHBhcmFtIHtzdHJpbmd9IFtwcm9wcy5kZXNjcmlwdGlvbl1cbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wcy5sYWJlbFxuICogQHBhcmFtIHtGdW5jdGlvbn0gcHJvcHMuZ2V0VmFsdWVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHByb3BzLnNldFZhbHVlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcm9wcy5vbkZvY3VzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcm9wcy5vbkJsdXJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHByb3BzLmdldE9wdGlvbnNcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Byb3BzLmRpc2FibGVkXVxuICogQHBhcmFtIHtGdW5jdGlvbn0gW3Byb3BzLnZhbGlkYXRlXVxuICogQHBhcmFtIHtzdHJpbmd8aW1wb3J0KCdwcmVhY3QnKS5Db21wb25lbnR9IHByb3BzLnRvb2x0aXBcbiAqL1xuZnVuY3Rpb24gU2VsZWN0RW50cnkocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGVsZW1lbnQsXG4gICAgaWQsXG4gICAgZGVzY3JpcHRpb24sXG4gICAgbGFiZWwsXG4gICAgZ2V0VmFsdWUsXG4gICAgc2V0VmFsdWUsXG4gICAgZ2V0T3B0aW9ucyxcbiAgICBkaXNhYmxlZCxcbiAgICBvbkZvY3VzLFxuICAgIG9uQmx1cixcbiAgICB2YWxpZGF0ZSxcbiAgICB0b29sdGlwXG4gIH0gPSBwcm9wcztcbiAgY29uc3Qgb3B0aW9ucyA9IGdldE9wdGlvbnMoZWxlbWVudCk7XG4gIGNvbnN0IGdsb2JhbEVycm9yID0gdXNlRXJyb3IoaWQpO1xuICBjb25zdCBbbG9jYWxFcnJvciwgc2V0TG9jYWxFcnJvcl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgbGV0IHZhbHVlID0gZ2V0VmFsdWUoZWxlbWVudCk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGlzRnVuY3Rpb24odmFsaWRhdGUpKSB7XG4gICAgICBjb25zdCBuZXdWYWxpZGF0aW9uRXJyb3IgPSB2YWxpZGF0ZSh2YWx1ZSkgfHwgbnVsbDtcbiAgICAgIHNldExvY2FsRXJyb3IobmV3VmFsaWRhdGlvbkVycm9yKTtcbiAgICB9XG4gIH0sIFt2YWx1ZSwgdmFsaWRhdGVdKTtcbiAgY29uc3Qgb25DaGFuZ2UgPSBuZXdWYWx1ZSA9PiB7XG4gICAgbGV0IG5ld1ZhbGlkYXRpb25FcnJvciA9IG51bGw7XG4gICAgaWYgKGlzRnVuY3Rpb24odmFsaWRhdGUpKSB7XG4gICAgICBuZXdWYWxpZGF0aW9uRXJyb3IgPSB2YWxpZGF0ZShuZXdWYWx1ZSkgfHwgbnVsbDtcbiAgICB9XG4gICAgc2V0VmFsdWUobmV3VmFsdWUsIG5ld1ZhbGlkYXRpb25FcnJvcik7XG4gICAgc2V0TG9jYWxFcnJvcihuZXdWYWxpZGF0aW9uRXJyb3IpO1xuICB9O1xuICBjb25zdCBlcnJvciA9IGdsb2JhbEVycm9yIHx8IGxvY2FsRXJyb3I7XG4gIHJldHVybiBqc3hzKFwiZGl2XCIsIHtcbiAgICBjbGFzczogY2xhc3NuYW1lcygnYmlvLXByb3BlcnRpZXMtcGFuZWwtZW50cnknLCBlcnJvciA/ICdoYXMtZXJyb3InIDogJycpLFxuICAgIFwiZGF0YS1lbnRyeS1pZFwiOiBpZCxcbiAgICBjaGlsZHJlbjogW2pzeChTZWxlY3QsIHtcbiAgICAgIGlkOiBpZCxcbiAgICAgIGxhYmVsOiBsYWJlbCxcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIG9uQ2hhbmdlOiBvbkNoYW5nZSxcbiAgICAgIG9uRm9jdXM6IG9uRm9jdXMsXG4gICAgICBvbkJsdXI6IG9uQmx1cixcbiAgICAgIG9wdGlvbnM6IG9wdGlvbnMsXG4gICAgICBkaXNhYmxlZDogZGlzYWJsZWQsXG4gICAgICB0b29sdGlwOiB0b29sdGlwLFxuICAgICAgZWxlbWVudDogZWxlbWVudFxuICAgIH0sIGVsZW1lbnQpLCBlcnJvciAmJiBqc3goXCJkaXZcIiwge1xuICAgICAgY2xhc3M6IFwiYmlvLXByb3BlcnRpZXMtcGFuZWwtZXJyb3JcIixcbiAgICAgIGNoaWxkcmVuOiBlcnJvclxuICAgIH0pLCBqc3goRGVzY3JpcHRpb24kMSwge1xuICAgICAgZm9ySWQ6IGlkLFxuICAgICAgZWxlbWVudDogZWxlbWVudCxcbiAgICAgIHZhbHVlOiBkZXNjcmlwdGlvblxuICAgIH0pXVxuICB9KTtcbn1cbmZ1bmN0aW9uIGlzRWRpdGVkJDMobm9kZSkge1xuICByZXR1cm4gbm9kZSAmJiAhIW5vZGUudmFsdWU7XG59XG5cbi8vIGhlbHBlcnMgLy8vLy8vLy8vLy8vLy8vLy9cblxuZnVuY3Rpb24gcHJlZml4SWQkNChpZCkge1xuICByZXR1cm4gYGJpby1wcm9wZXJ0aWVzLXBhbmVsLSR7aWR9YDtcbn1cbmZ1bmN0aW9uIHJlc2l6ZVRvQ29udGVudHMoZWxlbWVudCkge1xuICBlbGVtZW50LnN0eWxlLmhlaWdodCA9ICdhdXRvJztcblxuICAvLyBhIDJweCBwaXhlbCBvZmZzZXQgaXMgcmVxdWlyZWQgdG8gcHJldmVudCBzY3JvbGxiYXIgZnJvbVxuICAvLyBhcHBlYXJpbmcgb24gT1Mgd2l0aCBhIGZ1bGwgbGVuZ3RoIHNjcm9sbCBiYXIgKFdpbmRvd3MvTGludXgpXG4gIGVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gYCR7ZWxlbWVudC5zY3JvbGxIZWlnaHQgKyAyfXB4YDtcbn1cbmZ1bmN0aW9uIFRleHRBcmVhKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBpZCxcbiAgICBsYWJlbCxcbiAgICBkZWJvdW5jZSxcbiAgICBvbklucHV0OiBjb21taXRWYWx1ZSxcbiAgICB2YWx1ZSA9ICcnLFxuICAgIGRpc2FibGVkLFxuICAgIG1vbm9zcGFjZSxcbiAgICBvbkZvY3VzLFxuICAgIG9uQmx1cixcbiAgICBvblBhc3RlLFxuICAgIGF1dG9SZXNpemUgPSB0cnVlLFxuICAgIHBsYWNlaG9sZGVyLFxuICAgIHJvd3MgPSBhdXRvUmVzaXplID8gMSA6IDIsXG4gICAgdG9vbHRpcFxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IFtsb2NhbFZhbHVlLCBzZXRMb2NhbFZhbHVlXSA9IHVzZVN0YXRlKHZhbHVlKTtcbiAgY29uc3QgcmVmID0gdXNlU2hvd0VudHJ5RXZlbnQoaWQpO1xuICBjb25zdCBvbklucHV0ID0gdXNlQ2FsbGJhY2sobmV3VmFsdWUgPT4ge1xuICAgIGNvbnN0IG5ld01vZGVsVmFsdWUgPSBuZXdWYWx1ZSA9PT0gJycgPyB1bmRlZmluZWQgOiBuZXdWYWx1ZTtcbiAgICBjb21taXRWYWx1ZShuZXdNb2RlbFZhbHVlKTtcbiAgfSwgW2NvbW1pdFZhbHVlXSk7XG4gIGNvbnN0IHZpc2libGUgPSB1c2VFbGVtZW50VmlzaWJsZShyZWYuY3VycmVudCk7XG5cbiAgLyoqXG4gICAqIEB0eXBlIHsgaW1wb3J0KCdtaW4tZGFzaCcpLkRlYm91bmNlZEZ1bmN0aW9uIH1cbiAgICovXG4gIGNvbnN0IGhhbmRsZUlucHV0ID0gdXNlRGVib3VuY2Uob25JbnB1dCwgZGVib3VuY2UpO1xuICBjb25zdCBoYW5kbGVMb2NhbElucHV0ID0gZSA9PiB7XG4gICAgYXV0b1Jlc2l6ZSAmJiByZXNpemVUb0NvbnRlbnRzKGUudGFyZ2V0KTtcbiAgICBpZiAoZS50YXJnZXQudmFsdWUgPT09IGxvY2FsVmFsdWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2V0TG9jYWxWYWx1ZShlLnRhcmdldC52YWx1ZSk7XG4gICAgaGFuZGxlSW5wdXQoZS50YXJnZXQudmFsdWUpO1xuICB9O1xuICBjb25zdCBoYW5kbGVPbkJsdXIgPSBlID0+IHtcbiAgICBjb25zdCB0cmltbWVkVmFsdWUgPSBlLnRhcmdldC52YWx1ZS50cmltKCk7XG5cbiAgICAvLyB0cmltIGFuZCBjb21taXQgb24gYmx1clxuICAgIGhhbmRsZUlucHV0LmNhbmNlbD8uKCk7XG4gICAgb25JbnB1dCh0cmltbWVkVmFsdWUpO1xuICAgIHNldExvY2FsVmFsdWUodHJpbW1lZFZhbHVlKTtcbiAgICBpZiAob25CbHVyKSB7XG4gICAgICBvbkJsdXIoZSk7XG4gICAgfVxuICB9O1xuICBjb25zdCBoYW5kbGVPblBhc3RlID0gZSA9PiB7XG4gICAgY29uc3QgaW5wdXQgPSBlLnRhcmdldDtcbiAgICBjb25zdCBpc0ZpZWxkRW1wdHkgPSAhaW5wdXQudmFsdWU7XG4gICAgY29uc3QgaXNBbGxTZWxlY3RlZCA9IGlucHV0LnNlbGVjdGlvblN0YXJ0ID09PSAwICYmIGlucHV0LnNlbGVjdGlvbkVuZCA9PT0gaW5wdXQudmFsdWUubGVuZ3RoO1xuXG4gICAgLy8gVHJpbSBhbmQgaGFuZGxlIHBhc3RlIGlmIGZpZWxkIGlzIGVtcHR5IG9yIGFsbCBjb250ZW50IGlzIHNlbGVjdGVkXG4gICAgaWYgKGlzRmllbGRFbXB0eSB8fCBpc0FsbFNlbGVjdGVkKSB7XG4gICAgICBjb25zdCB0cmltbWVkVmFsdWUgPSBlLmNsaXBib2FyZERhdGEuZ2V0RGF0YSgndGV4dCcpLnRyaW0oKTtcbiAgICAgIHNldExvY2FsVmFsdWUodHJpbW1lZFZhbHVlKTtcbiAgICAgIGhhbmRsZUlucHV0KHRyaW1tZWRWYWx1ZSk7XG4gICAgICBpZiAob25QYXN0ZSkge1xuICAgICAgICBvblBhc3RlKGUpO1xuICAgICAgfVxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEFsbG93IGRlZmF1bHQgcGFzdGUgYmVoYXZpb3IgZm9yIG5vcm1hbCB0ZXh0IGVkaXRpbmdcbiAgICBpZiAob25QYXN0ZSkge1xuICAgICAgb25QYXN0ZShlKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGhhbmRsZU9uS2V5RG93biA9IGUgPT4ge1xuICAgIGlmIChpc0NtZFdpdGhDaGFyKGUpKSB7XG4gICAgICBoYW5kbGVJbnB1dC5mbHVzaCgpO1xuICAgIH1cbiAgfTtcbiAgdXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBhdXRvUmVzaXplICYmIHJlc2l6ZVRvQ29udGVudHMocmVmLmN1cnJlbnQpO1xuICB9LCBbXSk7XG4gIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgdmlzaWJsZSAmJiBhdXRvUmVzaXplICYmIHJlc2l6ZVRvQ29udGVudHMocmVmLmN1cnJlbnQpO1xuICB9LCBbdmlzaWJsZV0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICh2YWx1ZSA9PT0gbG9jYWxWYWx1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzZXRMb2NhbFZhbHVlKHZhbHVlKTtcbiAgfSwgW3ZhbHVlXSk7XG4gIHJldHVybiBqc3hzKFwiZGl2XCIsIHtcbiAgICBjbGFzczogXCJiaW8tcHJvcGVydGllcy1wYW5lbC10ZXh0YXJlYVwiLFxuICAgIGNoaWxkcmVuOiBbanN4KFwibGFiZWxcIiwge1xuICAgICAgZm9yOiBwcmVmaXhJZCQyKGlkKSxcbiAgICAgIGNsYXNzOiBcImJpby1wcm9wZXJ0aWVzLXBhbmVsLWxhYmVsXCIsXG4gICAgICBjaGlsZHJlbjoganN4KFRvb2x0aXBXcmFwcGVyLCB7XG4gICAgICAgIHZhbHVlOiB0b29sdGlwLFxuICAgICAgICBmb3JJZDogaWQsXG4gICAgICAgIGVsZW1lbnQ6IHByb3BzLmVsZW1lbnQsXG4gICAgICAgIGNoaWxkcmVuOiBsYWJlbFxuICAgICAgfSlcbiAgICB9KSwganN4KFwidGV4dGFyZWFcIiwge1xuICAgICAgcmVmOiByZWYsXG4gICAgICBpZDogcHJlZml4SWQkMihpZCksXG4gICAgICBuYW1lOiBpZCxcbiAgICAgIHNwZWxsQ2hlY2s6IFwiZmFsc2VcIixcbiAgICAgIGNsYXNzOiBjbGFzc25hbWVzKCdiaW8tcHJvcGVydGllcy1wYW5lbC1pbnB1dCcsIG1vbm9zcGFjZSA/ICdiaW8tcHJvcGVydGllcy1wYW5lbC1pbnB1dC1tb25vc3BhY2UnIDogJycsIGF1dG9SZXNpemUgPyAnYXV0by1yZXNpemUnIDogJycpLFxuICAgICAgb25JbnB1dDogaGFuZGxlTG9jYWxJbnB1dCxcbiAgICAgIG9uRm9jdXM6IG9uRm9jdXMsXG4gICAgICBvbktleURvd246IGhhbmRsZU9uS2V5RG93bixcbiAgICAgIG9uQmx1cjogaGFuZGxlT25CbHVyLFxuICAgICAgb25QYXN0ZTogaGFuZGxlT25QYXN0ZSxcbiAgICAgIHBsYWNlaG9sZGVyOiBwbGFjZWhvbGRlcixcbiAgICAgIHJvd3M6IHJvd3MsXG4gICAgICB2YWx1ZTogbG9jYWxWYWx1ZSxcbiAgICAgIGRpc2FibGVkOiBkaXNhYmxlZCxcbiAgICAgIFwiZGF0YS1ncmFtbVwiOiBcImZhbHNlXCJcbiAgICB9KV1cbiAgfSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtvYmplY3R9IHByb3BzXG4gKiBAcGFyYW0ge29iamVjdH0gcHJvcHMuZWxlbWVudFxuICogQHBhcmFtIHtzdHJpbmd9IHByb3BzLmlkXG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcHMuZGVzY3JpcHRpb25cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gcHJvcHMuZGVib3VuY2VcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wcy5sYWJlbFxuICogQHBhcmFtIHtGdW5jdGlvbn0gcHJvcHMuZ2V0VmFsdWVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHByb3BzLnNldFZhbHVlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcm9wcy5vbkZvY3VzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcm9wcy5vbkJsdXJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHByb3BzLm9uUGFzdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBwcm9wcy5yb3dzXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHByb3BzLm1vbm9zcGFjZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gW3Byb3BzLnZhbGlkYXRlXVxuICogQHBhcmFtIHtib29sZWFufSBbcHJvcHMuZGlzYWJsZWRdXG4gKi9cbmZ1bmN0aW9uIFRleHRBcmVhRW50cnkocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGVsZW1lbnQsXG4gICAgaWQsXG4gICAgZGVzY3JpcHRpb24sXG4gICAgZGVib3VuY2UsXG4gICAgbGFiZWwsXG4gICAgZ2V0VmFsdWUsXG4gICAgc2V0VmFsdWUsXG4gICAgcm93cyxcbiAgICBtb25vc3BhY2UsXG4gICAgZGlzYWJsZWQsXG4gICAgdmFsaWRhdGUsXG4gICAgb25Gb2N1cyxcbiAgICBvbkJsdXIsXG4gICAgb25QYXN0ZSxcbiAgICBwbGFjZWhvbGRlcixcbiAgICBhdXRvUmVzaXplLFxuICAgIHRvb2x0aXBcbiAgfSA9IHByb3BzO1xuICBjb25zdCBnbG9iYWxFcnJvciA9IHVzZUVycm9yKGlkKTtcbiAgY29uc3QgW2xvY2FsRXJyb3IsIHNldExvY2FsRXJyb3JdID0gdXNlU3RhdGUobnVsbCk7XG4gIGxldCB2YWx1ZSA9IGdldFZhbHVlKGVsZW1lbnQpO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpc0Z1bmN0aW9uKHZhbGlkYXRlKSkge1xuICAgICAgY29uc3QgbmV3VmFsaWRhdGlvbkVycm9yID0gdmFsaWRhdGUodmFsdWUpIHx8IG51bGw7XG4gICAgICBzZXRMb2NhbEVycm9yKG5ld1ZhbGlkYXRpb25FcnJvcik7XG4gICAgfVxuICB9LCBbdmFsdWUsIHZhbGlkYXRlXSk7XG4gIGNvbnN0IG9uSW5wdXQgPSB1c2VTdGF0aWNDYWxsYmFjayhuZXdWYWx1ZSA9PiB7XG4gICAgY29uc3QgdmFsdWUgPSBnZXRWYWx1ZShlbGVtZW50KTtcbiAgICBsZXQgbmV3VmFsaWRhdGlvbkVycm9yID0gbnVsbDtcbiAgICBpZiAoaXNGdW5jdGlvbih2YWxpZGF0ZSkpIHtcbiAgICAgIG5ld1ZhbGlkYXRpb25FcnJvciA9IHZhbGlkYXRlKG5ld1ZhbHVlKSB8fCBudWxsO1xuICAgIH1cbiAgICBpZiAobmV3VmFsdWUgIT09IHZhbHVlKSB7XG4gICAgICBzZXRWYWx1ZShuZXdWYWx1ZSwgbmV3VmFsaWRhdGlvbkVycm9yKTtcbiAgICB9XG4gICAgc2V0TG9jYWxFcnJvcihuZXdWYWxpZGF0aW9uRXJyb3IpO1xuICB9KTtcbiAgY29uc3QgZXJyb3IgPSBnbG9iYWxFcnJvciB8fCBsb2NhbEVycm9yO1xuICByZXR1cm4ganN4cyhcImRpdlwiLCB7XG4gICAgY2xhc3M6IGNsYXNzbmFtZXMoJ2Jpby1wcm9wZXJ0aWVzLXBhbmVsLWVudHJ5JywgZXJyb3IgPyAnaGFzLWVycm9yJyA6ICcnKSxcbiAgICBcImRhdGEtZW50cnktaWRcIjogaWQsXG4gICAgY2hpbGRyZW46IFtqc3goVGV4dEFyZWEsIHtcbiAgICAgIGlkOiBpZCxcbiAgICAgIGxhYmVsOiBsYWJlbCxcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIG9uSW5wdXQ6IG9uSW5wdXQsXG4gICAgICBvbkZvY3VzOiBvbkZvY3VzLFxuICAgICAgb25CbHVyOiBvbkJsdXIsXG4gICAgICBvblBhc3RlOiBvblBhc3RlLFxuICAgICAgcm93czogcm93cyxcbiAgICAgIGRlYm91bmNlOiBkZWJvdW5jZSxcbiAgICAgIG1vbm9zcGFjZTogbW9ub3NwYWNlLFxuICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkLFxuICAgICAgcGxhY2Vob2xkZXI6IHBsYWNlaG9sZGVyLFxuICAgICAgYXV0b1Jlc2l6ZTogYXV0b1Jlc2l6ZSxcbiAgICAgIHRvb2x0aXA6IHRvb2x0aXAsXG4gICAgICBlbGVtZW50OiBlbGVtZW50XG4gICAgfSwgZWxlbWVudCksIGVycm9yICYmIGpzeChcImRpdlwiLCB7XG4gICAgICBjbGFzczogXCJiaW8tcHJvcGVydGllcy1wYW5lbC1lcnJvclwiLFxuICAgICAgY2hpbGRyZW46IGVycm9yXG4gICAgfSksIGpzeChEZXNjcmlwdGlvbiQxLCB7XG4gICAgICBmb3JJZDogaWQsXG4gICAgICBlbGVtZW50OiBlbGVtZW50LFxuICAgICAgdmFsdWU6IGRlc2NyaXB0aW9uXG4gICAgfSldXG4gIH0pO1xufVxuZnVuY3Rpb24gaXNFZGl0ZWQkMShub2RlKSB7XG4gIHJldHVybiBub2RlICYmICEhbm9kZS52YWx1ZTtcbn1cblxuLy8gaGVscGVycyAvLy8vLy8vLy8vLy8vLy8vL1xuXG5mdW5jdGlvbiBwcmVmaXhJZCQyKGlkKSB7XG4gIHJldHVybiBgYmlvLXByb3BlcnRpZXMtcGFuZWwtJHtpZH1gO1xufVxuZnVuY3Rpb24gVGV4dGZpZWxkKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBkZWJvdW5jZSxcbiAgICBkaXNhYmxlZCA9IGZhbHNlLFxuICAgIGlkLFxuICAgIGxhYmVsLFxuICAgIG9uSW5wdXQ6IGNvbW1pdFZhbHVlLFxuICAgIG9uRm9jdXMsXG4gICAgb25CbHVyLFxuICAgIG9uUGFzdGUsXG4gICAgcGxhY2Vob2xkZXIsXG4gICAgdmFsdWUgPSAnJyxcbiAgICB0b29sdGlwXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgW2xvY2FsVmFsdWUsIHNldExvY2FsVmFsdWVdID0gdXNlU3RhdGUodmFsdWUgfHwgJycpO1xuICBjb25zdCByZWYgPSB1c2VTaG93RW50cnlFdmVudChpZCk7XG4gIGNvbnN0IG9uSW5wdXQgPSB1c2VDYWxsYmFjayhuZXdWYWx1ZSA9PiB7XG4gICAgY29uc3QgbmV3TW9kZWxWYWx1ZSA9IG5ld1ZhbHVlID09PSAnJyA/IHVuZGVmaW5lZCA6IG5ld1ZhbHVlO1xuICAgIGNvbW1pdFZhbHVlKG5ld01vZGVsVmFsdWUpO1xuICB9LCBbY29tbWl0VmFsdWVdKTtcblxuICAvKipcbiAgICogQHR5cGUgeyBpbXBvcnQoJ21pbi1kYXNoJykuRGVib3VuY2VkRnVuY3Rpb24gfVxuICAgKi9cbiAgY29uc3QgaGFuZGxlSW5wdXQgPSB1c2VEZWJvdW5jZShvbklucHV0LCBkZWJvdW5jZSk7XG4gIGNvbnN0IGhhbmRsZU9uQmx1ciA9IGUgPT4ge1xuICAgIGNvbnN0IHRyaW1tZWRWYWx1ZSA9IGUudGFyZ2V0LnZhbHVlLnRyaW0oKTtcblxuICAgIC8vIHRyaW0gYW5kIGNvbW1pdCBvbiBibHVyXG4gICAgaGFuZGxlSW5wdXQuY2FuY2VsPy4oKTtcbiAgICBvbklucHV0KHRyaW1tZWRWYWx1ZSk7XG4gICAgc2V0TG9jYWxWYWx1ZSh0cmltbWVkVmFsdWUpO1xuICAgIGlmIChvbkJsdXIpIHtcbiAgICAgIG9uQmx1cihlKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGhhbmRsZU9uUGFzdGUgPSBlID0+IHtcbiAgICBjb25zdCBpbnB1dCA9IGUudGFyZ2V0O1xuICAgIGNvbnN0IGlzRmllbGRFbXB0eSA9ICFpbnB1dC52YWx1ZTtcbiAgICBjb25zdCBpc0FsbFNlbGVjdGVkID0gaW5wdXQuc2VsZWN0aW9uU3RhcnQgPT09IDAgJiYgaW5wdXQuc2VsZWN0aW9uRW5kID09PSBpbnB1dC52YWx1ZS5sZW5ndGg7XG5cbiAgICAvLyBUcmltIGFuZCBoYW5kbGUgcGFzdGUgaWYgZmllbGQgaXMgZW1wdHkgb3IgYWxsIGNvbnRlbnQgaXMgc2VsZWN0ZWQgKG92ZXJ3cml0ZSlcbiAgICBpZiAoaXNGaWVsZEVtcHR5IHx8IGlzQWxsU2VsZWN0ZWQpIHtcbiAgICAgIGNvbnN0IHRyaW1tZWRWYWx1ZSA9IGUuY2xpcGJvYXJkRGF0YS5nZXREYXRhKCd0ZXh0JykudHJpbSgpO1xuICAgICAgc2V0TG9jYWxWYWx1ZSh0cmltbWVkVmFsdWUpO1xuICAgICAgaGFuZGxlSW5wdXQodHJpbW1lZFZhbHVlKTtcbiAgICAgIGlmIChvblBhc3RlKSB7XG4gICAgICAgIG9uUGFzdGUoZSk7XG4gICAgICB9XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQWxsb3cgZGVmYXVsdCBwYXN0ZSBiZWhhdmlvciBmb3Igbm9ybWFsIHRleHQgZWRpdGluZ1xuICAgIGlmIChvblBhc3RlKSB7XG4gICAgICBvblBhc3RlKGUpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgaGFuZGxlTG9jYWxJbnB1dCA9IGUgPT4ge1xuICAgIGlmIChlLnRhcmdldC52YWx1ZSA9PT0gbG9jYWxWYWx1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzZXRMb2NhbFZhbHVlKGUudGFyZ2V0LnZhbHVlKTtcbiAgICBoYW5kbGVJbnB1dChlLnRhcmdldC52YWx1ZSk7XG4gIH07XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHZhbHVlID09PSBsb2NhbFZhbHVlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHNldExvY2FsVmFsdWUodmFsdWUpO1xuICB9LCBbdmFsdWVdKTtcbiAgY29uc3QgaGFuZGxlT25LZXlEb3duID0gZSA9PiB7XG4gICAgaWYgKGlzQ21kV2l0aENoYXIoZSkpIHtcbiAgICAgIGhhbmRsZUlucHV0LmZsdXNoKCk7XG4gICAgfVxuICB9O1xuICByZXR1cm4ganN4cyhcImRpdlwiLCB7XG4gICAgY2xhc3M6IFwiYmlvLXByb3BlcnRpZXMtcGFuZWwtdGV4dGZpZWxkXCIsXG4gICAgY2hpbGRyZW46IFtqc3goXCJsYWJlbFwiLCB7XG4gICAgICBmb3I6IHByZWZpeElkJDEoaWQpLFxuICAgICAgY2xhc3M6IFwiYmlvLXByb3BlcnRpZXMtcGFuZWwtbGFiZWxcIixcbiAgICAgIGNoaWxkcmVuOiBqc3goVG9vbHRpcFdyYXBwZXIsIHtcbiAgICAgICAgdmFsdWU6IHRvb2x0aXAsXG4gICAgICAgIGZvcklkOiBpZCxcbiAgICAgICAgZWxlbWVudDogcHJvcHMuZWxlbWVudCxcbiAgICAgICAgY2hpbGRyZW46IGxhYmVsXG4gICAgICB9KVxuICAgIH0pLCBqc3goXCJpbnB1dFwiLCB7XG4gICAgICByZWY6IHJlZixcbiAgICAgIGlkOiBwcmVmaXhJZCQxKGlkKSxcbiAgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICAgbmFtZTogaWQsXG4gICAgICBzcGVsbENoZWNrOiBcImZhbHNlXCIsXG4gICAgICBhdXRvQ29tcGxldGU6IFwib2ZmXCIsXG4gICAgICBkaXNhYmxlZDogZGlzYWJsZWQsXG4gICAgICBjbGFzczogXCJiaW8tcHJvcGVydGllcy1wYW5lbC1pbnB1dFwiLFxuICAgICAgb25JbnB1dDogaGFuZGxlTG9jYWxJbnB1dCxcbiAgICAgIG9uRm9jdXM6IG9uRm9jdXMsXG4gICAgICBvbktleURvd246IGhhbmRsZU9uS2V5RG93bixcbiAgICAgIG9uQmx1cjogaGFuZGxlT25CbHVyLFxuICAgICAgb25QYXN0ZTogaGFuZGxlT25QYXN0ZSxcbiAgICAgIHBsYWNlaG9sZGVyOiBwbGFjZWhvbGRlcixcbiAgICAgIHZhbHVlOiBsb2NhbFZhbHVlXG4gICAgfSldXG4gIH0pO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wc1xuICogQHBhcmFtIHtPYmplY3R9IHByb3BzLmVsZW1lbnRcbiAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wcy5pZFxuICogQHBhcmFtIHtTdHJpbmd9IHByb3BzLmRlc2NyaXB0aW9uXG4gKiBAcGFyYW0ge0Jvb2xlYW59IHByb3BzLmRlYm91bmNlXG4gKiBAcGFyYW0ge0Jvb2xlYW59IHByb3BzLmRpc2FibGVkXG4gKiBAcGFyYW0ge1N0cmluZ30gcHJvcHMubGFiZWxcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHByb3BzLmdldFZhbHVlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcm9wcy5zZXRWYWx1ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gcHJvcHMub25Gb2N1c1xuICogQHBhcmFtIHtGdW5jdGlvbn0gcHJvcHMub25CbHVyXG4gKiBAcGFyYW0ge3N0cmluZ3xpbXBvcnQoJ3ByZWFjdCcpLkNvbXBvbmVudH0gcHJvcHMudG9vbHRpcFxuICogQHBhcmFtIHtGdW5jdGlvbn0gcHJvcHMudmFsaWRhdGVcbiAqL1xuZnVuY3Rpb24gVGV4dGZpZWxkRW50cnkocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGVsZW1lbnQsXG4gICAgaWQsXG4gICAgZGVzY3JpcHRpb24sXG4gICAgZGVib3VuY2UsXG4gICAgZGlzYWJsZWQsXG4gICAgbGFiZWwsXG4gICAgZ2V0VmFsdWUsXG4gICAgc2V0VmFsdWUsXG4gICAgdmFsaWRhdGUsXG4gICAgb25Gb2N1cyxcbiAgICBvbkJsdXIsXG4gICAgb25QYXN0ZSxcbiAgICBwbGFjZWhvbGRlcixcbiAgICB0b29sdGlwXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgZ2xvYmFsRXJyb3IgPSB1c2VFcnJvcihpZCk7XG4gIGNvbnN0IFtsb2NhbEVycm9yLCBzZXRMb2NhbEVycm9yXSA9IHVzZVN0YXRlKG51bGwpO1xuICBsZXQgdmFsdWUgPSBnZXRWYWx1ZShlbGVtZW50KTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaXNGdW5jdGlvbih2YWxpZGF0ZSkpIHtcbiAgICAgIGNvbnN0IG5ld1ZhbGlkYXRpb25FcnJvciA9IHZhbGlkYXRlKHZhbHVlKSB8fCBudWxsO1xuICAgICAgc2V0TG9jYWxFcnJvcihuZXdWYWxpZGF0aW9uRXJyb3IpO1xuICAgIH1cbiAgfSwgW3ZhbHVlLCB2YWxpZGF0ZV0pO1xuICBjb25zdCBvbklucHV0ID0gdXNlU3RhdGljQ2FsbGJhY2sobmV3VmFsdWUgPT4ge1xuICAgIGNvbnN0IHZhbHVlID0gZ2V0VmFsdWUoZWxlbWVudCk7XG4gICAgbGV0IG5ld1ZhbGlkYXRpb25FcnJvciA9IG51bGw7XG4gICAgaWYgKGlzRnVuY3Rpb24odmFsaWRhdGUpKSB7XG4gICAgICBuZXdWYWxpZGF0aW9uRXJyb3IgPSB2YWxpZGF0ZShuZXdWYWx1ZSkgfHwgbnVsbDtcbiAgICB9XG4gICAgaWYgKG5ld1ZhbHVlICE9PSB2YWx1ZSkge1xuICAgICAgc2V0VmFsdWUobmV3VmFsdWUsIG5ld1ZhbGlkYXRpb25FcnJvcik7XG4gICAgfVxuICAgIHNldExvY2FsRXJyb3IobmV3VmFsaWRhdGlvbkVycm9yKTtcbiAgfSk7XG4gIGNvbnN0IGVycm9yID0gZ2xvYmFsRXJyb3IgfHwgbG9jYWxFcnJvcjtcbiAgcmV0dXJuIGpzeHMoXCJkaXZcIiwge1xuICAgIGNsYXNzOiBjbGFzc25hbWVzKCdiaW8tcHJvcGVydGllcy1wYW5lbC1lbnRyeScsIGVycm9yID8gJ2hhcy1lcnJvcicgOiAnJyksXG4gICAgXCJkYXRhLWVudHJ5LWlkXCI6IGlkLFxuICAgIGNoaWxkcmVuOiBbanN4KFRleHRmaWVsZCwge1xuICAgICAgZGVib3VuY2U6IGRlYm91bmNlLFxuICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkLFxuICAgICAgaWQ6IGlkLFxuICAgICAgbGFiZWw6IGxhYmVsLFxuICAgICAgb25JbnB1dDogb25JbnB1dCxcbiAgICAgIG9uRm9jdXM6IG9uRm9jdXMsXG4gICAgICBvbkJsdXI6IG9uQmx1cixcbiAgICAgIG9uUGFzdGU6IG9uUGFzdGUsXG4gICAgICBwbGFjZWhvbGRlcjogcGxhY2Vob2xkZXIsXG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICB0b29sdGlwOiB0b29sdGlwLFxuICAgICAgZWxlbWVudDogZWxlbWVudFxuICAgIH0sIGVsZW1lbnQpLCBlcnJvciAmJiBqc3goXCJkaXZcIiwge1xuICAgICAgY2xhc3M6IFwiYmlvLXByb3BlcnRpZXMtcGFuZWwtZXJyb3JcIixcbiAgICAgIGNoaWxkcmVuOiBlcnJvclxuICAgIH0pLCBqc3goRGVzY3JpcHRpb24kMSwge1xuICAgICAgZm9ySWQ6IGlkLFxuICAgICAgZWxlbWVudDogZWxlbWVudCxcbiAgICAgIHZhbHVlOiBkZXNjcmlwdGlvblxuICAgIH0pXVxuICB9KTtcbn1cbmZ1bmN0aW9uIGlzRWRpdGVkKG5vZGUpIHtcbiAgcmV0dXJuIG5vZGUgJiYgISFub2RlLnZhbHVlO1xufVxuXG4vLyBoZWxwZXJzIC8vLy8vLy8vLy8vLy8vLy8vXG5cbmZ1bmN0aW9uIHByZWZpeElkJDEoaWQpIHtcbiAgcmV0dXJuIGBiaW8tcHJvcGVydGllcy1wYW5lbC0ke2lkfWA7XG59XG5cbi8qKlxuICogQWRkIGEgZHJhZ2dlciB0aGF0IGNhbGxzIGJhY2sgdGhlIHBhc3NlZCBmdW5jdGlvbiB3aXRoXG4gKiB7IGV2ZW50LCBkZWx0YSB9IG9uIGRyYWcuXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBmdW5jdGlvbiBkcmFnTW92ZShldmVudCwgZGVsdGEpIHtcbiAqICAgLy8gd2UgYXJlIGRyYWdnaW5nICghISlcbiAqIH1cbiAqXG4gKiBkb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsIGRyYWdnZXIoZHJhZ01vdmUpKTtcbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICogQHBhcmFtIHtFbGVtZW50fSBbZHJhZ1ByZXZpZXddXG4gKlxuICogQHJldHVybiB7RnVuY3Rpb259IGRyYWcgc3RhcnQgY2FsbGJhY2sgZnVuY3Rpb25cbiAqL1xuZnVuY3Rpb24gY3JlYXRlRHJhZ2dlcihmbiwgZHJhZ1ByZXZpZXcpIHtcbiAgbGV0IHNlbGY7XG4gIGxldCBzdGFydFgsIHN0YXJ0WTtcblxuICAvKiogZHJhZyBzdGFydCAqL1xuICBmdW5jdGlvbiBvbkRyYWdTdGFydChldmVudCkge1xuICAgIHNlbGYgPSB0aGlzO1xuICAgIHN0YXJ0WCA9IGV2ZW50LmNsaWVudFg7XG4gICAgc3RhcnRZID0gZXZlbnQuY2xpZW50WTtcblxuICAgIC8vICgxKSBwcmV2ZW50IHByZXZpZXcgaW1hZ2VcbiAgICBpZiAoZXZlbnQuZGF0YVRyYW5zZmVyKSB7XG4gICAgICBldmVudC5kYXRhVHJhbnNmZXIuc2V0RHJhZ0ltYWdlKGRyYWdQcmV2aWV3IHx8IGVtcHR5Q2FudmFzKCksIDAsIDApO1xuICAgIH1cblxuICAgIC8vICgyKSBzZXR1cCBkcmFnIGxpc3RlbmVyc1xuXG4gICAgLy8gYXR0YWNoIGRyYWcgKyBjbGVhbnVwIGV2ZW50XG4gICAgLy8gd2UgbmVlZCB0byBkbyB0aGlzIHRvIG1ha2Ugc3VyZSB3ZSB0cmFjayBjdXJzb3JcbiAgICAvLyBtb3ZlbWVudHMgYmVmb3JlIHdlIHJlYWNoIG90aGVyIGRyYWcgZXZlbnQgaGFuZGxlcnMsXG4gICAgLy8gZS5nLiBpbiBjaGlsZCBjb250YWluZXJzLlxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgb25EcmFnLCB0cnVlKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdkcmFnZW50ZXInLCBwcmV2ZW50RGVmYXVsdCwgdHJ1ZSk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2VuZCcsIG9uRW5kKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdkcm9wJywgcHJldmVudERlZmF1bHQpO1xuICB9XG4gIGZ1bmN0aW9uIG9uRHJhZyhldmVudCkge1xuICAgIGNvbnN0IGRlbHRhID0ge1xuICAgICAgeDogZXZlbnQuY2xpZW50WCAtIHN0YXJ0WCxcbiAgICAgIHk6IGV2ZW50LmNsaWVudFkgLSBzdGFydFlcbiAgICB9O1xuXG4gICAgLy8gY2FsbCBwcm92aWRlZCBmbiB3aXRoIGV2ZW50LCBkZWx0YVxuICAgIHJldHVybiBmbi5jYWxsKHNlbGYsIGV2ZW50LCBkZWx0YSk7XG4gIH1cbiAgZnVuY3Rpb24gb25FbmQoKSB7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignZHJhZ292ZXInLCBvbkRyYWcsIHRydWUpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2RyYWdlbnRlcicsIHByZXZlbnREZWZhdWx0LCB0cnVlKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdkcmFnZW5kJywgb25FbmQpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCBwcmV2ZW50RGVmYXVsdCk7XG4gIH1cbiAgcmV0dXJuIG9uRHJhZ1N0YXJ0O1xufVxuZnVuY3Rpb24gcHJldmVudERlZmF1bHQoZXZlbnQpIHtcbiAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG59XG5mdW5jdGlvbiBlbXB0eUNhbnZhcygpIHtcbiAgcmV0dXJuIGRvbWlmeSgnPGNhbnZhcyB3aWR0aD1cIjBcIiBoZWlnaHQ9XCIwXCIgLz4nKTtcbn1cbmNvbnN0IG5vb3AgPSAoKSA9PiB7fTtcblxuLyoqXG4gKiBBIGdlbmVyaWMgcG9wdXAgY29tcG9uZW50LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wc1xuICogQHBhcmFtIHtzdHJpbmd9IFtwcm9wcy5jbGFzc05hbWVdXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtwcm9wcy5kZWxheUluaXRpYWxGb2N1c11cbiAqIEBwYXJhbSB7e3RvcDogbnVtYmVyLCBsZWZ0OiBudW1iZXJ9fSBbcHJvcHMucG9zaXRpb25dXG4gKiBAcGFyYW0ge251bWJlcn0gW3Byb3BzLndpZHRoXVxuICogQHBhcmFtIHtudW1iZXJ9IFtwcm9wcy5oZWlnaHRdXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcm9wcy5vbkNsb3NlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJvcHMub25Qb3N0QWN0aXZhdGVdXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJvcHMub25Qb3N0RGVhY3RpdmF0ZV1cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Byb3BzLnJldHVybkZvY3VzXVxuICogQHBhcmFtIHtib29sZWFufSBbcHJvcHMuY2xvc2VPbkVzY2FwZV1cbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wcy50aXRsZVxuICogQHBhcmFtIHtSZWZ9IFtyZWZdXG4gKi9cbmZ1bmN0aW9uIFBvcHVwQ29tcG9uZW50KHByb3BzLCBnbG9iYWxSZWYpIHtcbiAgY29uc3Qge1xuICAgIGNsYXNzTmFtZSxcbiAgICBkZWxheUluaXRpYWxGb2N1cyxcbiAgICBwb3NpdGlvbixcbiAgICB3aWR0aCxcbiAgICBoZWlnaHQsXG4gICAgb25DbG9zZSxcbiAgICBvblBvc3RBY3RpdmF0ZSA9IG5vb3AsXG4gICAgb25Qb3N0RGVhY3RpdmF0ZSA9IG5vb3AsXG4gICAgcmV0dXJuRm9jdXMgPSB0cnVlLFxuICAgIGNsb3NlT25Fc2NhcGUgPSB0cnVlLFxuICAgIHRpdGxlXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgZm9jdXNUcmFwUmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBsb2NhbFJlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgcG9wdXBSZWYgPSBnbG9iYWxSZWYgfHwgbG9jYWxSZWY7XG4gIGNvbnN0IGhhbmRsZUtleWRvd24gPSBldmVudCA9PiB7XG4gICAgLy8gZG8gbm90IGFsbG93IGtleWJvYXJkIGV2ZW50cyB0byBidWJibGVcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBpZiAoY2xvc2VPbkVzY2FwZSAmJiBldmVudC5rZXkgPT09ICdFc2NhcGUnKSB7XG4gICAgICBvbkNsb3NlKCk7XG4gICAgfVxuICB9O1xuXG4gIC8vIHJlLWFjdGl2YXRlIGZvY3VzIHRyYXAgb24gZm9jdXNcbiAgY29uc3QgaGFuZGxlRm9jdXMgPSAoKSA9PiB7XG4gICAgaWYgKGZvY3VzVHJhcFJlZi5jdXJyZW50KSB7XG4gICAgICBmb2N1c1RyYXBSZWYuY3VycmVudC5hY3RpdmF0ZSgpO1xuICAgIH1cbiAgfTtcbiAgbGV0IHN0eWxlID0ge307XG4gIGlmIChwb3NpdGlvbikge1xuICAgIHN0eWxlID0ge1xuICAgICAgLi4uc3R5bGUsXG4gICAgICB0b3A6IHBvc2l0aW9uLnRvcCArICdweCcsXG4gICAgICBsZWZ0OiBwb3NpdGlvbi5sZWZ0ICsgJ3B4J1xuICAgIH07XG4gIH1cbiAgaWYgKHdpZHRoKSB7XG4gICAgc3R5bGUud2lkdGggPSB3aWR0aCArICdweCc7XG4gIH1cbiAgaWYgKGhlaWdodCkge1xuICAgIHN0eWxlLmhlaWdodCA9IGhlaWdodCArICdweCc7XG4gIH1cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAocG9wdXBSZWYuY3VycmVudCkge1xuICAgICAgcG9wdXBSZWYuY3VycmVudC5hZGRFdmVudExpc3RlbmVyKCdmb2N1c2luJywgaGFuZGxlRm9jdXMpO1xuICAgIH1cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaWYgKHBvcHVwUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgcG9wdXBSZWYuY3VycmVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdmb2N1c2luJywgaGFuZGxlRm9jdXMpO1xuICAgICAgfVxuICAgIH07XG4gIH0sIFtwb3B1cFJlZl0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChwb3B1cFJlZi5jdXJyZW50KSB7XG4gICAgICBmb2N1c1RyYXBSZWYuY3VycmVudCA9IGZvY3VzVHJhcC5jcmVhdGVGb2N1c1RyYXAocG9wdXBSZWYuY3VycmVudCwge1xuICAgICAgICBjbGlja091dHNpZGVEZWFjdGl2YXRlczogdHJ1ZSxcbiAgICAgICAgZGVsYXlJbml0aWFsRm9jdXMsXG4gICAgICAgIGZhbGxiYWNrRm9jdXM6IHBvcHVwUmVmLmN1cnJlbnQsXG4gICAgICAgIG9uUG9zdEFjdGl2YXRlLFxuICAgICAgICBvblBvc3REZWFjdGl2YXRlLFxuICAgICAgICByZXR1cm5Gb2N1c09uRGVhY3RpdmF0ZTogcmV0dXJuRm9jdXNcbiAgICAgIH0pO1xuICAgICAgZm9jdXNUcmFwUmVmLmN1cnJlbnQuYWN0aXZhdGUoKTtcbiAgICB9XG4gICAgcmV0dXJuICgpID0+IGZvY3VzVHJhcFJlZi5jdXJyZW50ICYmIGZvY3VzVHJhcFJlZi5jdXJyZW50LmRlYWN0aXZhdGUoKTtcbiAgfSwgW3BvcHVwUmVmXSk7XG4gIHJldHVybiBqc3goXCJkaXZcIiwge1xuICAgIFwiYXJpYS1sYWJlbFwiOiB0aXRsZSxcbiAgICB0YWJJbmRleDogLTEsXG4gICAgcmVmOiBwb3B1cFJlZixcbiAgICBvbktleURvd246IGhhbmRsZUtleWRvd24sXG4gICAgcm9sZTogXCJkaWFsb2dcIixcbiAgICBjbGFzczogY2xhc3NuYW1lcygnYmlvLXByb3BlcnRpZXMtcGFuZWwtcG9wdXAnLCBjbGFzc05hbWUpLFxuICAgIHN0eWxlOiBzdHlsZSxcbiAgICBjaGlsZHJlbjogcHJvcHMuY2hpbGRyZW5cbiAgfSk7XG59XG5jb25zdCBQb3B1cCA9IGZvcndhcmRSZWYoUG9wdXBDb21wb25lbnQpO1xuUG9wdXAuVGl0bGUgPSBUaXRsZTtcblBvcHVwLkJvZHkgPSBCb2R5O1xuUG9wdXAuRm9vdGVyID0gRm9vdGVyO1xuZnVuY3Rpb24gVGl0bGUocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGNoaWxkcmVuLFxuICAgIGNsYXNzTmFtZSxcbiAgICBkcmFnZ2FibGUsXG4gICAgZXZlbnRCdXMsXG4gICAgdGl0bGUsXG4gICAgc2hvd0Nsb3NlQnV0dG9uID0gZmFsc2UsXG4gICAgY2xvc2VCdXR0b25Ub29sdGlwID0gJ0Nsb3NlIHBvcHVwJyxcbiAgICBvbkNsb3NlLFxuICAgIC4uLnJlc3RcbiAgfSA9IHByb3BzO1xuXG4gIC8vIHdlIGNhbid0IHVzZSBzdGF0ZSBhcyB3ZSBuZWVkIHRvXG4gIC8vIG1hbmlwdWxhdGUgdGhpcyBpbnNpZGUgZHJhZ2dpbmcgZXZlbnRzXG4gIGNvbnN0IGNvbnRleHQgPSB1c2VSZWYoe1xuICAgIHN0YXJ0UG9zaXRpb246IG51bGwsXG4gICAgbmV3UG9zaXRpb246IG51bGxcbiAgfSk7XG4gIGNvbnN0IGRyYWdQcmV2aWV3UmVmID0gdXNlUmVmKCk7XG4gIGNvbnN0IHRpdGxlUmVmID0gdXNlUmVmKCk7XG4gIGNvbnN0IG9uTW92ZSA9IChldmVudCwgZGVsdGEpID0+IHtcbiAgICBjYW5jZWwoZXZlbnQpO1xuICAgIGNvbnN0IHtcbiAgICAgIHg6IGR4LFxuICAgICAgeTogZHlcbiAgICB9ID0gZGVsdGE7XG4gICAgY29uc3QgbmV3UG9zaXRpb24gPSB7XG4gICAgICB4OiBjb250ZXh0LmN1cnJlbnQuc3RhcnRQb3NpdGlvbi54ICsgZHgsXG4gICAgICB5OiBjb250ZXh0LmN1cnJlbnQuc3RhcnRQb3NpdGlvbi55ICsgZHlcbiAgICB9O1xuICAgIGNvbnN0IHBvcHVwUGFyZW50ID0gZ2V0UG9wdXBQYXJlbnQodGl0bGVSZWYuY3VycmVudCk7XG4gICAgcG9wdXBQYXJlbnQuc3R5bGUudG9wID0gbmV3UG9zaXRpb24ueSArICdweCc7XG4gICAgcG9wdXBQYXJlbnQuc3R5bGUubGVmdCA9IG5ld1Bvc2l0aW9uLnggKyAncHgnO1xuICAgIGV2ZW50QnVzPy5maXJlKCdmZWVsUG9wdXAuZHJhZ292ZXInLCB7XG4gICAgICBuZXdQb3NpdGlvbixcbiAgICAgIGRlbHRhXG4gICAgfSk7XG4gIH07XG4gIGNvbnN0IG9uTW92ZVN0YXJ0ID0gZXZlbnQgPT4ge1xuICAgIC8vIGluaXRpYWxpemUgZHJhZyBoYW5kbGVyXG4gICAgY29uc3Qgb25EcmFnU3RhcnQgPSBjcmVhdGVEcmFnZ2VyKG9uTW92ZSwgZHJhZ1ByZXZpZXdSZWYuY3VycmVudCk7XG4gICAgb25EcmFnU3RhcnQoZXZlbnQpO1xuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGNvbnN0IHBvcHVwUGFyZW50ID0gZ2V0UG9wdXBQYXJlbnQodGl0bGVSZWYuY3VycmVudCk7XG4gICAgY29uc3QgYm91bmRzID0gcG9wdXBQYXJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29udGV4dC5jdXJyZW50LnN0YXJ0UG9zaXRpb24gPSB7XG4gICAgICB4OiBib3VuZHMubGVmdCxcbiAgICAgIHk6IGJvdW5kcy50b3BcbiAgICB9O1xuICAgIGV2ZW50QnVzPy5maXJlKCdmZWVsUG9wdXAuZHJhZ3N0YXJ0Jyk7XG4gIH07XG4gIGNvbnN0IG9uTW92ZUVuZCA9ICgpID0+IHtcbiAgICBjb250ZXh0LmN1cnJlbnQubmV3UG9zaXRpb24gPSBudWxsO1xuICAgIGV2ZW50QnVzPy5maXJlKCdmZWVsUG9wdXAuZHJhZ2VuZCcpO1xuICB9O1xuICByZXR1cm4ganN4cyhcImRpdlwiLCB7XG4gICAgY2xhc3M6IGNsYXNzbmFtZXMoJ2Jpby1wcm9wZXJ0aWVzLXBhbmVsLXBvcHVwX19oZWFkZXInLCBkcmFnZ2FibGUgJiYgJ2RyYWdnYWJsZScsIGNsYXNzTmFtZSksXG4gICAgcmVmOiB0aXRsZVJlZixcbiAgICBkcmFnZ2FibGU6IGRyYWdnYWJsZSxcbiAgICBvbkRyYWdTdGFydDogb25Nb3ZlU3RhcnQsXG4gICAgb25EcmFnRW5kOiBvbk1vdmVFbmQsXG4gICAgLi4ucmVzdCxcbiAgICBjaGlsZHJlbjogW2RyYWdnYWJsZSAmJiBqc3hzKEZyYWdtZW50JDEsIHtcbiAgICAgIGNoaWxkcmVuOiBbanN4KFwiZGl2XCIsIHtcbiAgICAgICAgcmVmOiBkcmFnUHJldmlld1JlZixcbiAgICAgICAgY2xhc3M6IFwiYmlvLXByb3BlcnRpZXMtcGFuZWwtcG9wdXBfX2RyYWctcHJldmlld1wiXG4gICAgICB9KSwganN4KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3M6IFwiYmlvLXByb3BlcnRpZXMtcGFuZWwtcG9wdXBfX2RyYWctaGFuZGxlXCIsXG4gICAgICAgIGNoaWxkcmVuOiBqc3goRHJhZ0ljb24sIHt9KVxuICAgICAgfSldXG4gICAgfSksIGpzeChcImRpdlwiLCB7XG4gICAgICBjbGFzczogXCJiaW8tcHJvcGVydGllcy1wYW5lbC1wb3B1cF9fdGl0bGVcIixcbiAgICAgIGNoaWxkcmVuOiB0aXRsZVxuICAgIH0pLCBjaGlsZHJlbiwgc2hvd0Nsb3NlQnV0dG9uICYmIGpzeChcImJ1dHRvblwiLCB7XG4gICAgICB0aXRsZTogY2xvc2VCdXR0b25Ub29sdGlwLFxuICAgICAgY2xhc3M6IFwiYmlvLXByb3BlcnRpZXMtcGFuZWwtcG9wdXBfX2Nsb3NlXCIsXG4gICAgICBvbkNsaWNrOiBvbkNsb3NlLFxuICAgICAgY2hpbGRyZW46IGpzeChDbG9zZUljb24sIHt9KVxuICAgIH0pXVxuICB9KTtcbn1cbmZ1bmN0aW9uIEJvZHkocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGNoaWxkcmVuLFxuICAgIGNsYXNzTmFtZSxcbiAgICAuLi5yZXN0XG4gIH0gPSBwcm9wcztcbiAgcmV0dXJuIGpzeChcImRpdlwiLCB7XG4gICAgY2xhc3M6IGNsYXNzbmFtZXMoJ2Jpby1wcm9wZXJ0aWVzLXBhbmVsLXBvcHVwX19ib2R5JywgY2xhc3NOYW1lKSxcbiAgICAuLi5yZXN0LFxuICAgIGNoaWxkcmVuOiBjaGlsZHJlblxuICB9KTtcbn1cbmZ1bmN0aW9uIEZvb3Rlcihwcm9wcykge1xuICBjb25zdCB7XG4gICAgY2hpbGRyZW4sXG4gICAgY2xhc3NOYW1lLFxuICAgIC4uLnJlc3RcbiAgfSA9IHByb3BzO1xuICByZXR1cm4ganN4KFwiZGl2XCIsIHtcbiAgICBjbGFzczogY2xhc3NuYW1lcygnYmlvLXByb3BlcnRpZXMtcGFuZWwtcG9wdXBfX2Zvb3RlcicsIGNsYXNzTmFtZSksXG4gICAgLi4ucmVzdCxcbiAgICBjaGlsZHJlbjogcHJvcHMuY2hpbGRyZW5cbiAgfSk7XG59XG5cbi8vIGhlbHBlcnMgLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5mdW5jdGlvbiBnZXRQb3B1cFBhcmVudChub2RlKSB7XG4gIHJldHVybiBub2RlLmNsb3Nlc3QoJy5iaW8tcHJvcGVydGllcy1wYW5lbC1wb3B1cCcpO1xufVxuZnVuY3Rpb24gY2FuY2VsKGV2ZW50KSB7XG4gIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xufVxuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEZlZWxQb3B1cFByb3BzXG4gKiBAcHJvcGVydHkge3N0cmluZ30gZW50cnlJZFxuICogQHByb3BlcnR5IHtGdW5jdGlvbn0gb25JbnB1dFxuICogQHByb3BlcnR5IHtGdW5jdGlvbn0gb25DbG9zZVxuICogQHByb3BlcnR5IHtzdHJpbmd9IHRpdGxlXG4gKiBAcHJvcGVydHkgeydmZWVsJ3wnZmVlbGVycyd9IHR5cGVcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSB2YWx1ZVxuICogQHByb3BlcnR5IHtBcnJheX0gW2xpbmtzXVxuICogQHByb3BlcnR5IHtBcnJheXxPYmplY3R9IFt2YXJpYWJsZXNdXG4gKiBAcHJvcGVydHkge09iamVjdH0gW3Bvc2l0aW9uXVxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtob3N0TGFuZ3VhZ2VdXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtzaW5nbGVMaW5lXVxuICogQHByb3BlcnR5IHtIVE1MRWxlbWVudH0gW3NvdXJjZUVsZW1lbnRdXG4gKiBAcHJvcGVydHkge0hUTUxFbGVtZW50fHN0cmluZ30gW3Rvb2x0aXBDb250YWluZXJdXG4gKiBAcHJvcGVydHkge09iamVjdH0gW2V2ZW50QnVzXVxuICovXG5cbmNvbnN0IEZFRUxfUE9QVVBfV0lEVEggPSA3MDA7XG5jb25zdCBGRUVMX1BPUFVQX0hFSUdIVCA9IDI1MDtcblxuLyoqXG4gKiBGRUVMIGV4cHJlc3Npb24gZWRpdG9yIHBvcHVwIGNvbXBvbmVudFxuICogQHBhcmFtIHtGZWVsUG9wdXBQcm9wc30gcHJvcHNcbiAqL1xuZnVuY3Rpb24gRmVlbFBvcHVwJDEocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGVudHJ5SWQsXG4gICAgb25JbnB1dCxcbiAgICBvbkNsb3NlLFxuICAgIHRpdGxlLFxuICAgIHR5cGUsXG4gICAgdmFsdWUsXG4gICAgbGlua3MsXG4gICAgdmFyaWFibGVzLFxuICAgIHBvc2l0aW9uLFxuICAgIGhvc3RMYW5ndWFnZSxcbiAgICBzaW5nbGVMaW5lLFxuICAgIHNvdXJjZUVsZW1lbnQsXG4gICAgdG9vbHRpcENvbnRhaW5lcixcbiAgICBldmVudEJ1cyxcbiAgICBmZWVsTGFuZ3VhZ2VDb250ZXh0XG4gIH0gPSBwcm9wcztcbiAgY29uc3QgZWRpdG9yUmVmID0gdXNlUmVmKCk7XG4gIGNvbnN0IHBvcHVwUmVmID0gdXNlUmVmKCk7XG4gIGNvbnN0IGlzQXV0b0NvbXBsZXRpb25PcGVuID0gdXNlUmVmKGZhbHNlKTtcbiAgY29uc3QgaGFuZGxlU2V0UmV0dXJuRm9jdXMgPSAoKSA9PiB7XG4gICAgc291cmNlRWxlbWVudCAmJiBzb3VyY2VFbGVtZW50LmZvY3VzKCk7XG4gIH07XG4gIGNvbnN0IG9uS2V5RG93bkNhcHR1cmUgPSBldmVudCA9PiB7XG4gICAgLy8gd2UgdXNlIGNhcHR1cmUgaGVyZSB0byBtYWtlIHN1cmUgd2UgaGFuZGxlIHRoZSBldmVudCBiZWZvcmUgdGhlIGVkaXRvciBkb2VzXG4gICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgIGlzQXV0b0NvbXBsZXRpb25PcGVuLmN1cnJlbnQgPSBhdXRvQ29tcGxldGlvbk9wZW4oZXZlbnQudGFyZ2V0KTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IG9uS2V5RG93biA9IGV2ZW50ID0+IHtcbiAgICBpZiAoZXZlbnQua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgLy8gY2xvc2UgcG9wdXAgb25seSBpZiBhdXRvIGNvbXBsZXRpb24gaXMgbm90IG9wZW5cbiAgICAgIGlmICghaXNBdXRvQ29tcGxldGlvbk9wZW4uY3VycmVudCkge1xuICAgICAgICBvbkNsb3NlKCk7XG4gICAgICAgIGlzQXV0b0NvbXBsZXRpb25PcGVuLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gc2V0IGZvY3VzIG9uIGVkaXRvciB3aGVuIHBvcHVwIGlzIG9wZW5lZFxuICAgIGlmIChlZGl0b3JSZWYuY3VycmVudCkge1xuICAgICAgZWRpdG9yUmVmLmN1cnJlbnQuZm9jdXMoKTtcbiAgICB9XG4gIH0sIFtlZGl0b3JSZWZdKTtcbiAgcmV0dXJuIGpzeHMoUG9wdXAsIHtcbiAgICBjbGFzc05hbWU6IFwiYmlvLXByb3BlcnRpZXMtcGFuZWwtZmVlbC1wb3B1cFwiLFxuICAgIHBvc2l0aW9uOiBwb3NpdGlvbixcbiAgICB0aXRsZTogdGl0bGUsXG4gICAgcmV0dXJuRm9jdXM6IGZhbHNlLFxuICAgIGNsb3NlT25Fc2NhcGU6IGZhbHNlLFxuICAgIGRlbGF5SW5pdGlhbEZvY3VzOiBmYWxzZSxcbiAgICBvblBvc3REZWFjdGl2YXRlOiBoYW5kbGVTZXRSZXR1cm5Gb2N1cyxcbiAgICBoZWlnaHQ6IEZFRUxfUE9QVVBfSEVJR0hULFxuICAgIHdpZHRoOiBGRUVMX1BPUFVQX1dJRFRILFxuICAgIHJlZjogcG9wdXBSZWYsXG4gICAgY2hpbGRyZW46IFtqc3goUG9wdXAuVGl0bGUsIHtcbiAgICAgIHRpdGxlOiB0aXRsZSxcbiAgICAgIGV2ZW50QnVzOiBldmVudEJ1cyxcbiAgICAgIHNob3dDbG9zZUJ1dHRvbjogdHJ1ZSxcbiAgICAgIGNsb3NlQnV0dG9uVG9vbHRpcDogXCJTYXZlIGFuZCBjbG9zZVwiLFxuICAgICAgb25DbG9zZTogb25DbG9zZSxcbiAgICAgIGRyYWdnYWJsZTogdHJ1ZSxcbiAgICAgIGNoaWxkcmVuOiBqc3goRnJhZ21lbnQkMSwge1xuICAgICAgICBjaGlsZHJlbjogKGxpbmtzIHx8IFtdKS5tYXAoKGxpbmssIGluZGV4KSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGpzeHMoXCJhXCIsIHtcbiAgICAgICAgICAgIHJlbDogXCJub3JlZmVycmVyXCIsXG4gICAgICAgICAgICBocmVmOiBsaW5rLmhyZWYsXG4gICAgICAgICAgICB0YXJnZXQ6IFwiX2JsYW5rXCIsXG4gICAgICAgICAgICBjbGFzczogXCJiaW8tcHJvcGVydGllcy1wYW5lbC1mZWVsLXBvcHVwX190aXRsZS1saW5rXCIsXG4gICAgICAgICAgICBjaGlsZHJlbjogW2xpbmsudGl0bGUsIGpzeChMYXVuY2hJY29uLCB7fSldXG4gICAgICAgICAgfSwgaW5kZXgpO1xuICAgICAgICB9KVxuICAgICAgfSlcbiAgICB9KSwganN4KFBvcHVwLkJvZHksIHtcbiAgICAgIGNoaWxkcmVuOiBqc3hzKFwiZGl2XCIsIHtcbiAgICAgICAgb25LZXlEb3duQ2FwdHVyZTogb25LZXlEb3duQ2FwdHVyZSxcbiAgICAgICAgb25LZXlEb3duOiBvbktleURvd24sXG4gICAgICAgIGNsYXNzOiBcImJpby1wcm9wZXJ0aWVzLXBhbmVsLWZlZWwtcG9wdXBfX2JvZHlcIixcbiAgICAgICAgY2hpbGRyZW46IFt0eXBlID09PSAnZmVlbCcgJiYganN4KEZlZWxFZGl0b3IsIHtcbiAgICAgICAgICBlbmFibGVHdXR0ZXJzOiB0cnVlLFxuICAgICAgICAgIGlkOiBwcmVmaXhJZChlbnRyeUlkKSxcbiAgICAgICAgICBuYW1lOiBlbnRyeUlkLFxuICAgICAgICAgIG9uSW5wdXQ6IG9uSW5wdXQsXG4gICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgIHZhcmlhYmxlczogdmFyaWFibGVzLFxuICAgICAgICAgIGZlZWxMYW5ndWFnZUNvbnRleHQ6IGZlZWxMYW5ndWFnZUNvbnRleHQsXG4gICAgICAgICAgcmVmOiBlZGl0b3JSZWYsXG4gICAgICAgICAgdG9vbHRpcENvbnRhaW5lcjogdG9vbHRpcENvbnRhaW5lclxuICAgICAgICB9KSwgdHlwZSA9PT0gJ2ZlZWxlcnMnICYmIGpzeChUZW1wbGF0aW5nRWRpdG9yLCB7XG4gICAgICAgICAgaWQ6IHByZWZpeElkKGVudHJ5SWQpLFxuICAgICAgICAgIGNvbnRlbnRBdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAnYXJpYS1sYWJlbCc6IHRpdGxlXG4gICAgICAgICAgfSxcbiAgICAgICAgICBlbmFibGVHdXR0ZXJzOiB0cnVlLFxuICAgICAgICAgIGhvc3RMYW5ndWFnZTogaG9zdExhbmd1YWdlLFxuICAgICAgICAgIG5hbWU6IGVudHJ5SWQsXG4gICAgICAgICAgb25JbnB1dDogb25JbnB1dCxcbiAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgcmVmOiBlZGl0b3JSZWYsXG4gICAgICAgICAgc2luZ2xlTGluZTogc2luZ2xlTGluZSxcbiAgICAgICAgICB0b29sdGlwQ29udGFpbmVyOiB0b29sdGlwQ29udGFpbmVyXG4gICAgICAgIH0pXVxuICAgICAgfSlcbiAgICB9KV1cbiAgfSk7XG59XG5mdW5jdGlvbiBwcmVmaXhJZChpZCkge1xuICByZXR1cm4gYGJpby1wcm9wZXJ0aWVzLXBhbmVsLSR7aWR9YDtcbn1cbmZ1bmN0aW9uIGF1dG9Db21wbGV0aW9uT3BlbihlbGVtZW50KSB7XG4gIGNvbnN0IGVkaXRvciA9IGVsZW1lbnQuY2xvc2VzdCgnLmNtLWVkaXRvcicpO1xuICByZXR1cm4gZWRpdG9yID8gZWRpdG9yLnF1ZXJ5U2VsZWN0b3IoJy5jbS10b29sdGlwLWF1dG9jb21wbGV0ZScpIDogbnVsbDtcbn1cbmZ1bmN0aW9uIGdldFBvcHVwVGl0bGUoe1xuICBlbGVtZW50LFxuICBsYWJlbFxufSkge1xuICBsZXQgcG9wdXBUaXRsZSA9ICcnO1xuICBpZiAoZWxlbWVudCAmJiBlbGVtZW50LnR5cGUpIHtcbiAgICBwb3B1cFRpdGxlID0gYCR7ZWxlbWVudC50eXBlfSAvIGA7XG4gIH1cbiAgcmV0dXJuIGAke3BvcHVwVGl0bGV9JHtsYWJlbH1gO1xufVxuZnVuY3Rpb24gZ2V0UG9wdXBQb3NpdGlvbigpIHtcbiAgY29uc3Qgdmlld3BvcnRXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aDtcbiAgY29uc3Qgdmlld3BvcnRIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodDtcbiAgcmV0dXJuIHtcbiAgICBsZWZ0OiBNYXRoLm1heCgwLCAodmlld3BvcnRXaWR0aCAtIEZFRUxfUE9QVVBfV0lEVEgpIC8gMiksXG4gICAgdG9wOiBNYXRoLm1heCgwLCAodmlld3BvcnRIZWlnaHQgLSBGRUVMX1BPUFVQX0hFSUdIVCkgLyAyKVxuICB9O1xufVxuXG4vKipcbiAqIEZFRUwgcG9wdXAgY29tcG9uZW50LCBidWlsdCBhcyBhIHNpbmdsZXRvbi5cbiAqXG4gKiBJbiBvcmRlciB0byBpbXBsZW1lbnQgYSBjdXN0b20gcmVwbGFjZW1lbnQsIGhhbmRsZSB0aGUgZm9sbG93aW5nIGV2ZW50czpcbiAqIC0gYHByb3BlcnRpZXNQYW5lbC5vcGVuUG9wdXBgXG4gKiAtIGBwcm9wZXJ0aWVzUGFuZWwuY2xvc2VQb3B1cGBcbiAqIC0gYHByb3BlcnRpZXNQYW5lbC5kZXRhY2hgXG4gKlxuICogV2l0aGluIHRoZSBjdXN0b20gcmVuZGVyZXIsIG1ha2Ugc3VyZSB0byBlbWl0IHRoZSBmb2xsb3dpbmcgZXZlbnRzOlxuICogIC0gYGZlZWxQb3B1cC5vcGVuYCAtIGZpcmVkIGJlZm9yZSB0aGUgcG9wdXAgaXMgbW91bnRlZFxuICogIC0gYGZlZWxQb3B1cC5vcGVuZWRgIC0gZmlyZWQgYWZ0ZXIgdGhlIHBvcHVwIGlzIG1vdW50ZWQuIEV2ZW50IGNvbnRleHQgY29udGFpbnMgdGhlIERPTSBub2RlIG9mIHRoZSBwb3B1cCBhcyBgZG9tTm9kZWBcbiAqICAtIGBmZWVsUG9wdXAuY2xvc2VgIC0gZmlyZWQgYmVmb3JlIHRoZSBwb3B1cCBpcyB1bm1vdW50ZWQuIEV2ZW50IGNvbnRleHQgY29udGFpbnMgdGhlIERPTSBub2RlIG9mIHRoZSBwb3B1cCBhcyBgZG9tTm9kZWBcbiAqICAtIGBmZWVsUG9wdXAuY2xvc2VkYCAtIGZpcmVkIGFmdGVyIHRoZSBwb3B1cCBpcyB1bm1vdW50ZWRcbiAqL1xuY2xhc3MgRmVlbFBvcHVwIHtcbiAgY29uc3RydWN0b3IoZXZlbnRCdXMsIGNvbmZpZyA9IHt9KSB7XG4gICAgdGhpcy5fZXZlbnRCdXMgPSBldmVudEJ1cztcbiAgICB0aGlzLl9jb25maWcgPSBjb25maWc7XG4gICAgdGhpcy5faXNPcGVuID0gZmFsc2U7XG4gICAgZXZlbnRCdXMub24oJ3Byb3BlcnRpZXNQYW5lbC5vcGVuUG9wdXAnLCAoXywgY29udGV4dCkgPT4ge1xuICAgICAgdGhpcy5vcGVuKGNvbnRleHQuZW50cnlJZCwgY29udGV4dCwgY29udGV4dC5zb3VyY2VFbGVtZW50KTtcblxuICAgICAgLy8gcmV0dXJuIHRydWUgdG8gaW5kaWNhdGUgdGhhdCBwb3B1cCB3YXMgb3BlbmVkXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9KTtcbiAgICBldmVudEJ1cy5vbihbJ3Byb3BlcnRpZXNQYW5lbC5jbG9zZVBvcHVwJywgJ3Byb3BlcnRpZXNQYW5lbC5kZXRhY2gnXSwgKCkgPT4ge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIHRoZSBGRUVMIHBvcHVwIGlzIG9wZW4uXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAqL1xuICBpc09wZW4oKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lzT3BlbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBPcGVuIHRoZSBGRUVMIHBvcHVwLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gZW50cnlJZFxuICAgKiBAcGFyYW0ge09iamVjdH0gcG9wdXBDb25maWdcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gc291cmNlRWxlbWVudFxuICAgKi9cbiAgb3BlbihlbnRyeUlkLCBwb3B1cENvbmZpZywgc291cmNlRWxlbWVudCkge1xuICAgIC8vIGNsb3NlIGJlZm9yZSBvcGVuaW5nIGEgbmV3IG9uZVxuICAgIHRoaXMuY2xvc2UoKTtcbiAgICB0aGlzLl9vcGVuUG9wdXAoe1xuICAgICAgLi4ucG9wdXBDb25maWcsXG4gICAgICBlbnRyeUlkLFxuICAgICAgc291cmNlRWxlbWVudFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENsb3NlIHRoZSBGRUVMIHBvcHVwLlxuICAgKi9cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5fY2xvc2VQb3B1cCgpO1xuICB9XG4gIF9vcGVuUG9wdXAoY29udGV4dCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGVsZW1lbnQsXG4gICAgICBsYWJlbCxcbiAgICAgIHNvdXJjZUVsZW1lbnQsXG4gICAgICB0eXBlXG4gICAgfSA9IGNvbnRleHQ7XG4gICAgdGhpcy5faXNPcGVuID0gdHJ1ZTtcbiAgICB0aGlzLl9ldmVudEJ1cy5maXJlKCdwcm9wZXJ0aWVzUGFuZWxQb3B1cC5vcGVuJywge1xuICAgICAgY29udGFpbmVyOiB0aGlzLl9jb25maWcuZmVlbFBvcHVwQ29udGFpbmVyLFxuICAgICAgY29uZmlnOiB7XG4gICAgICAgIC4uLmNvbnRleHQsXG4gICAgICAgIGxpbmtzOiB0aGlzLl9jb25maWcuZ2V0RmVlbFBvcHVwTGlua3M/Lih0eXBlKSB8fCBbXSxcbiAgICAgICAgb25DbG9zZTogKCkgPT4ge1xuICAgICAgICAgIHRoaXMuX2Nsb3NlUG9wdXAoKTtcblxuICAgICAgICAgIC8vIHNldFRpbWVvdXQgdG8gZW5zdXJlIHRoZSBmb2N1cyBoYXBwZW5zIGFmdGVyIHRoZSBET00gdXBkYXRlcyBtYWtlIGl0IGZvY3VzYWJsZVxuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgc291cmNlRWxlbWVudCAmJiBzb3VyY2VFbGVtZW50LmZvY3VzKCk7XG4gICAgICAgICAgfSwgMCk7XG4gICAgICAgIH0sXG4gICAgICAgIHBvc2l0aW9uOiBnZXRQb3B1cFBvc2l0aW9uKCksXG4gICAgICAgIHRpdGxlOiBnZXRQb3B1cFRpdGxlKHtcbiAgICAgICAgICBlbGVtZW50LFxuICAgICAgICAgIGxhYmVsXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgX2Nsb3NlUG9wdXAoKSB7XG4gICAgaWYgKHRoaXMuX2lzT3Blbikge1xuICAgICAgdGhpcy5faXNPcGVuID0gZmFsc2U7XG4gICAgICB0aGlzLl9ldmVudEJ1cy5maXJlKCdwcm9wZXJ0aWVzUGFuZWxQb3B1cC5jbG9zZScpO1xuICAgIH1cbiAgfVxufVxuRmVlbFBvcHVwLiRpbmplY3QgPSBbJ2V2ZW50QnVzJywgJ2NvbmZpZy5wcm9wZXJ0aWVzUGFuZWwnXTtcbmNsYXNzIEZlZWxQb3B1cFJlbmRlcmVyIHtcbiAgY29uc3RydWN0b3IoZXZlbnRCdXMpIHtcbiAgICB0aGlzLl9ldmVudEJ1cyA9IGV2ZW50QnVzO1xuICAgIHRoaXMuX2NvbnRhaW5lciA9IG51bGw7XG4gICAgdGhpcy5fZWxlbWVudCA9IG51bGw7XG4gICAgZXZlbnRCdXMub24oJ3Byb3BlcnRpZXNQYW5lbFBvcHVwLm9wZW4nLCBjb250ZXh0ID0+IHtcbiAgICAgIHRoaXMuX3JlbmRlclBvcHVwKGNvbnRleHQpO1xuICAgIH0pO1xuICAgIGV2ZW50QnVzLm9uKCdwcm9wZXJ0aWVzUGFuZWxQb3B1cC5jbG9zZScsICgpID0+IHtcbiAgICAgIHRoaXMuX3JlbW92ZVBvcHVwKCk7XG4gICAgfSk7XG4gIH1cbiAgX3JlbmRlclBvcHVwKGNvbnRleHQpIHtcbiAgICBsZXQge1xuICAgICAgY29udGFpbmVyLFxuICAgICAgY29uZmlnXG4gICAgfSA9IGNvbnRleHQ7XG4gICAgY29udGFpbmVyID0gdGhpcy5fY29udGFpbmVyID0gZ2V0Q29udGFpbmVyKGNvbnRhaW5lcikgfHwgZG9jdW1lbnQuYm9keTtcbiAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5fZWxlbWVudCA9IGNyZWF0ZUVsZW1lbnQoKTtcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG5cbiAgICAvLyBUT0RPKHBoaWxpcHBmcm9tbWUpOiB0aGVyZSBpcyBubyB1c2VTZXJ2aWNlIGluIHRoaXMgY29udGV4dCwgc28gd2UgbmVlZFxuICAgIC8vIHRvIHBhc3MgdGhlIGV2ZW50IGJ1cyBhcyBhIHByb3Agb3IgY3JlYXRlIGEgY29udGV4dCBwcm92aWRlciwgaG93ZXZlcixcbiAgICAvLyBhIGN1c3RvbSByZW5kZXJlciB3b3VsZCBoYXZlIHRvIHVzZSB0aGF0IGNvbnRleHQgcHJvdmlkZXIgYXMgd2VsbCB0byBoYXZlXG4gICAgLy8gYWNjZXNzIHRvIHRoZSBldmVudCBidXMgYW5kIG90aGVyIHNlcnZpY2VzXG4gICAgdGhpcy5fZW1pdCgnZmVlbFBvcHVwLm9wZW4nKTtcbiAgICByZW5kZXIoanN4KEZlZWxQb3B1cCQxLCB7XG4gICAgICAuLi5jb25maWcsXG4gICAgICBldmVudEJ1czogdGhpcy5fZXZlbnRCdXNcbiAgICB9KSwgZWxlbWVudCk7XG4gICAgdGhpcy5fZW1pdCgnZmVlbFBvcHVwLm9wZW5lZCcsIHtcbiAgICAgIGRvbU5vZGU6IGVsZW1lbnRcbiAgICB9KTtcbiAgfVxuICBfcmVtb3ZlUG9wdXAoKSB7XG4gICAgaWYgKCF0aGlzLl9jb250YWluZXIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fZW1pdCgnZmVlbFBvcHVwLmNsb3NlJywge1xuICAgICAgZG9tTm9kZTogdGhpcy5fZWxlbWVudFxuICAgIH0pO1xuICAgIHJlbmRlcihudWxsLCB0aGlzLl9lbGVtZW50KTtcbiAgICB0aGlzLl9jb250YWluZXIucmVtb3ZlQ2hpbGQodGhpcy5fZWxlbWVudCk7XG4gICAgdGhpcy5fY29udGFpbmVyID0gbnVsbDtcbiAgICB0aGlzLl9lbWl0KCdmZWVsUG9wdXAuY2xvc2VkJyk7XG4gIH1cbiAgX2VtaXQoZXZlbnQsIGNvbnRleHQpIHtcbiAgICB0aGlzLl9ldmVudEJ1cy5maXJlKGV2ZW50LCBjb250ZXh0KTtcbiAgfVxufVxuRmVlbFBvcHVwUmVuZGVyZXIuJGluamVjdCA9IFsnZXZlbnRCdXMnXTtcblxuLy8gaGVscGVycyAvLy8vLy8vLy8vLy8vLy8vL1xuXG5mdW5jdGlvbiBjcmVhdGVFbGVtZW50KCkge1xuICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnYmlvLXByb3BlcnRpZXMtcGFuZWwtcG9wdXAtY29udGFpbmVyJyk7XG4gIHJldHVybiBlbGVtZW50O1xufVxuZnVuY3Rpb24gZ2V0Q29udGFpbmVyKGNvbnRhaW5lcikge1xuICBpZiAoaXNTdHJpbmcoY29udGFpbmVyKSkge1xuICAgIHJldHVybiBxdWVyeShjb250YWluZXIpO1xuICB9XG4gIHJldHVybiBjb250YWluZXI7XG59XG52YXIgaW5kZXggPSB7XG4gIF9faW5pdF9fOiBbJ2ZlZWxQb3B1cCcsICdmZWVsUG9wdXBSZW5kZXJlciddLFxuICBmZWVsUG9wdXA6IFsndHlwZScsIEZlZWxQb3B1cF0sXG4gIGZlZWxQb3B1cFJlbmRlcmVyOiBbJ3R5cGUnLCBGZWVsUG9wdXBSZW5kZXJlcl1cbn07XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGVcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3N0cmljdF1cbiAqXG4gKiBAcmV0dXJucyB7YW55fVxuICovXG5mdW5jdGlvbiBnZXRTZXJ2aWNlKHR5cGUsIHN0cmljdCkge31cbmNvbnN0IEZvcm1Qcm9wZXJ0aWVzUGFuZWxDb250ZXh0ID0gY3JlYXRlQ29udGV4dCh7XG4gIGdldFNlcnZpY2Vcbn0pO1xuXG5mdW5jdGlvbiBnZXRQcm9wZXJ0aWVzUGFuZWxIZWFkZXJQcm92aWRlcihvcHRpb25zID0ge30pIHtcbiAgY29uc3Qge1xuICAgIGdldERvY3VtZW50YXRpb25SZWYsXG4gICAgZm9ybUZpZWxkc1xuICB9ID0gb3B0aW9ucztcbiAgcmV0dXJuIHtcbiAgICBnZXRFbGVtZW50TGFiZWw6IGZpZWxkID0+IHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgdHlwZVxuICAgICAgfSA9IGZpZWxkO1xuICAgICAgY29uc3QgZmllbGREZWZpbml0aW9uID0gZm9ybUZpZWxkcy5nZXQodHlwZSkuY29uZmlnO1xuICAgICAgcmV0dXJuIGZpZWxkRGVmaW5pdGlvbi5nZXRTdWJoZWFkaW5nID8gZmllbGREZWZpbml0aW9uLmdldFN1YmhlYWRpbmcoZmllbGQpIDogZmllbGQubGFiZWw7XG4gICAgfSxcbiAgICBnZXRFbGVtZW50SWNvbjogZmllbGQgPT4ge1xuICAgICAgY29uc3Qge1xuICAgICAgICB0eXBlXG4gICAgICB9ID0gZmllbGQ7XG4gICAgICBjb25zdCBmaWVsZERlZmluaXRpb24gPSBmb3JtRmllbGRzLmdldCh0eXBlKS5jb25maWc7XG4gICAgICBjb25zdCBJY29uID0gZmllbGREZWZpbml0aW9uLmljb24gfHwgaWNvbnNCeVR5cGUodHlwZSk7XG4gICAgICBpZiAoSWNvbikge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gSWNvbkNvbXBvbmVudCgpIHtcbiAgICAgICAgICByZXR1cm4ganN4KEljb24sIHtcbiAgICAgICAgICAgIHdpZHRoOiBcIjM2XCIsXG4gICAgICAgICAgICBoZWlnaHQ6IFwiMzZcIixcbiAgICAgICAgICAgIHZpZXdCb3g6IFwiMCAwIDU0IDU0XCJcbiAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSBpZiAoZmllbGREZWZpbml0aW9uLmljb25VcmwpIHtcbiAgICAgICAgcmV0dXJuIGdldFBhbGV0dGVJY29uKHtcbiAgICAgICAgICBpY29uVXJsOiBmaWVsZERlZmluaXRpb24uaWNvblVybCxcbiAgICAgICAgICBsYWJlbDogZmllbGREZWZpbml0aW9uLmxhYmVsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sXG4gICAgZ2V0VHlwZUxhYmVsOiBmaWVsZCA9PiB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIHR5cGVcbiAgICAgIH0gPSBmaWVsZDtcbiAgICAgIGlmICh0eXBlID09PSAnZGVmYXVsdCcpIHtcbiAgICAgICAgcmV0dXJuICdGb3JtJztcbiAgICAgIH1cbiAgICAgIGNvbnN0IGZpZWxkRGVmaW5pdGlvbiA9IGZvcm1GaWVsZHMuZ2V0KHR5cGUpLmNvbmZpZztcbiAgICAgIHJldHVybiBmaWVsZERlZmluaXRpb24ubmFtZSB8fCBmaWVsZERlZmluaXRpb24ubGFiZWwgfHwgdHlwZTtcbiAgICB9LFxuICAgIGdldERvY3VtZW50YXRpb25SZWZcbiAgfTtcbn1cblxuLyoqXG4gKiBQcm92aWRlIHBsYWNlaG9sZGVycyBmb3IgZW1wdHkgYW5kIG11bHRpcGxlIHN0YXRlLlxuICovXG5jb25zdCBQcm9wZXJ0aWVzUGFuZWxQbGFjZWhvbGRlclByb3ZpZGVyID0ge1xuICBnZXRFbXB0eTogKCkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICB0ZXh0OiAnU2VsZWN0IGEgZm9ybSBmaWVsZCB0byBlZGl0IGl0cyBwcm9wZXJ0aWVzLidcbiAgICB9O1xuICB9LFxuICBnZXRNdWx0aXBsZTogKCkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICB0ZXh0OiAnTXVsdGlwbGUgZm9ybSBmaWVsZHMgYXJlIHNlbGVjdGVkLiBTZWxlY3QgYSBzaW5nbGUgZm9ybSBmaWVsZCB0byBlZGl0IGl0cyBwcm9wZXJ0aWVzLidcbiAgICB9O1xuICB9XG59O1xuXG5jb25zdCBFTVBUWSA9IHt9O1xuZnVuY3Rpb24gUHJvcGVydGllc1BhbmVsKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBldmVudEJ1cyxcbiAgICBnZXRQcm92aWRlcnMsXG4gICAgaW5qZWN0b3JcbiAgfSA9IHByb3BzO1xuICBjb25zdCBmb3JtRWRpdG9yID0gaW5qZWN0b3IuZ2V0KCdmb3JtRWRpdG9yJyk7XG4gIGNvbnN0IG1vZGVsaW5nID0gaW5qZWN0b3IuZ2V0KCdtb2RlbGluZycpO1xuICBjb25zdCBzZWxlY3Rpb25Nb2R1bGUgPSBpbmplY3Rvci5nZXQoJ3NlbGVjdGlvbicpO1xuICBjb25zdCBwcm9wZXJ0aWVzUGFuZWxDb25maWcgPSBpbmplY3Rvci5nZXQoJ2NvbmZpZy5wcm9wZXJ0aWVzUGFuZWwnKSB8fCBFTVBUWTtcbiAgY29uc3Qge1xuICAgIGZlZWxQb3B1cENvbnRhaW5lclxuICB9ID0gcHJvcGVydGllc1BhbmVsQ29uZmlnO1xuICBjb25zdCBbc3RhdGUsIHNldFN0YXRlXSA9IHVzZVN0YXRlKHtcbiAgICBzZWxlY3RlZEZvcm1GaWVsZDogc2VsZWN0aW9uTW9kdWxlLmdldCgpIHx8IGZvcm1FZGl0b3IuX2dldFN0YXRlKCkuc2NoZW1hXG4gIH0pO1xuICBjb25zdCBzZWxlY3RlZEZvcm1GaWVsZCA9IHN0YXRlLnNlbGVjdGVkRm9ybUZpZWxkO1xuICBjb25zdCByZWZyZXNoID0gdXNlQ2FsbGJhY2soZmllbGQgPT4ge1xuICAgIC8vIFRPRE8oc2thaWlyKTogcmV3b3JrIHN0YXRlIG1hbmFnZW1lbnQsIHJlLXJlbmRlcmluZyB0aGUgd2hvbGUgcHJvcGVydGllcyBwYW5lbCBpcyBub3QgdGhlIHdheSB0byBnb1xuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9icG1uLWlvL2Zvcm0tanMvaXNzdWVzLzY4NlxuICAgIHNldFN0YXRlKHtcbiAgICAgIHNlbGVjdGVkRm9ybUZpZWxkOiBzZWxlY3Rpb25Nb2R1bGUuZ2V0KCkgfHwgZm9ybUVkaXRvci5fZ2V0U3RhdGUoKS5zY2hlbWFcbiAgICB9KTtcblxuICAgIC8vIG5vdGlmeSBpbnRlcmVzdGVkIHBhcnRpZXMgb24gcHJvcGVydHkgcGFuZWwgdXBkYXRlc1xuICAgIGV2ZW50QnVzLmZpcmUoJ3Byb3BlcnRpZXNQYW5lbC51cGRhdGVkJywge1xuICAgICAgZm9ybUZpZWxkOiBmaWVsZFxuICAgIH0pO1xuICB9LCBbZXZlbnRCdXMsIGZvcm1FZGl0b3IsIHNlbGVjdGlvbk1vZHVsZV0pO1xuICB1c2VMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIC8qKlxuICAgICAqIFRPRE8ocGludXNzaWx2ZXN0cnVzKTogdXBkYXRlIHdpdGggYWN0dWFsIHVwZGF0ZWQgZWxlbWVudCxcbiAgICAgKiBvbmNlIHdlIGhhdmUgYSBwcm9wZXIgdXBkYXRlci9jaGFuZ2Ugc3VwcG9ydFxuICAgICAqL1xuICAgIGV2ZW50QnVzLm9uKCdjaGFuZ2VkJywgcmVmcmVzaCk7XG4gICAgZXZlbnRCdXMub24oJ2ltcG9ydC5kb25lJywgcmVmcmVzaCk7XG4gICAgZXZlbnRCdXMub24oJ3NlbGVjdGlvbi5jaGFuZ2VkJywgcmVmcmVzaCk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGV2ZW50QnVzLm9mZignY2hhbmdlZCcsIHJlZnJlc2gpO1xuICAgICAgZXZlbnRCdXMub2ZmKCdpbXBvcnQuZG9uZScsIHJlZnJlc2gpO1xuICAgICAgZXZlbnRCdXMub2ZmKCdzZWxlY3Rpb24uY2hhbmdlZCcsIHJlZnJlc2gpO1xuICAgIH07XG4gIH0sIFtldmVudEJ1cywgcmVmcmVzaF0pO1xuICBjb25zdCBnZXRTZXJ2aWNlID0gKHR5cGUsIHN0cmljdCA9IHRydWUpID0+IGluamVjdG9yLmdldCh0eXBlLCBzdHJpY3QpO1xuICBjb25zdCBwcm9wZXJ0aWVzUGFuZWxDb250ZXh0ID0ge1xuICAgIGdldFNlcnZpY2VcbiAgfTtcbiAgY29uc3Qgb25Gb2N1cyA9ICgpID0+IGV2ZW50QnVzLmZpcmUoJ3Byb3BlcnRpZXNQYW5lbC5mb2N1c2luJyk7XG4gIGNvbnN0IG9uQmx1ciA9ICgpID0+IGV2ZW50QnVzLmZpcmUoJ3Byb3BlcnRpZXNQYW5lbC5mb2N1c291dCcpO1xuICBjb25zdCBlZGl0RmllbGQgPSB1c2VDYWxsYmFjaygoZm9ybUZpZWxkLCBrZXksIHZhbHVlKSA9PiBtb2RlbGluZy5lZGl0Rm9ybUZpZWxkKGZvcm1GaWVsZCwga2V5LCB2YWx1ZSksIFttb2RlbGluZ10pO1xuXG4gIC8vIHJldHJpZXZlIGdyb3VwcyBmb3Igc2VsZWN0ZWQgZm9ybSBmaWVsZFxuICBjb25zdCBwcm92aWRlcnMgPSBnZXRQcm92aWRlcnMoc2VsZWN0ZWRGb3JtRmllbGQpO1xuICBjb25zdCBncm91cHMgPSB1c2VNZW1vKCgpID0+IHtcbiAgICByZXR1cm4gcmVkdWNlKHByb3ZpZGVycywgZnVuY3Rpb24gKGdyb3VwcywgcHJvdmlkZXIpIHtcbiAgICAgIC8vIGRvIG5vdCBjb2xsZWN0IGdyb3VwcyBmb3IgbXVsdGkgZWxlbWVudCBzdGF0ZVxuICAgICAgaWYgKGlzQXJyYXkoc2VsZWN0ZWRGb3JtRmllbGQpKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHVwZGF0ZXIgPSBwcm92aWRlci5nZXRHcm91cHMoc2VsZWN0ZWRGb3JtRmllbGQsIGVkaXRGaWVsZCk7XG4gICAgICByZXR1cm4gdXBkYXRlcihncm91cHMpO1xuICAgIH0sIFtdKTtcbiAgfSwgW3Byb3ZpZGVycywgc2VsZWN0ZWRGb3JtRmllbGQsIGVkaXRGaWVsZF0pO1xuICBjb25zdCBmb3JtRmllbGRzID0gZ2V0U2VydmljZSgnZm9ybUZpZWxkcycpO1xuICBjb25zdCBQcm9wZXJ0aWVzUGFuZWxIZWFkZXJQcm92aWRlciA9IHVzZU1lbW8oKCkgPT4gZ2V0UHJvcGVydGllc1BhbmVsSGVhZGVyUHJvdmlkZXIoe1xuICAgIGdldERvY3VtZW50YXRpb25SZWY6IHByb3BlcnRpZXNQYW5lbENvbmZpZy5nZXREb2N1bWVudGF0aW9uUmVmLFxuICAgIGZvcm1GaWVsZHNcbiAgfSksIFtmb3JtRmllbGRzLCBwcm9wZXJ0aWVzUGFuZWxDb25maWddKTtcbiAgcmV0dXJuIGpzeChcImRpdlwiLCB7XG4gICAgY2xhc3M6IFwiZmpzLXByb3BlcnRpZXMtcGFuZWxcIixcbiAgICBcImRhdGEtZmllbGRcIjogc2VsZWN0ZWRGb3JtRmllbGQgJiYgc2VsZWN0ZWRGb3JtRmllbGQuaWQsXG4gICAgb25Gb2N1c0NhcHR1cmU6IG9uRm9jdXMsXG4gICAgb25CbHVyQ2FwdHVyZTogb25CbHVyLFxuICAgIGNoaWxkcmVuOiBqc3goRm9ybVByb3BlcnRpZXNQYW5lbENvbnRleHQuUHJvdmlkZXIsIHtcbiAgICAgIHZhbHVlOiBwcm9wZXJ0aWVzUGFuZWxDb250ZXh0LFxuICAgICAgY2hpbGRyZW46IGpzeChQcm9wZXJ0aWVzUGFuZWwkMSwge1xuICAgICAgICBlbGVtZW50OiBzZWxlY3RlZEZvcm1GaWVsZCxcbiAgICAgICAgZXZlbnRCdXM6IGV2ZW50QnVzLFxuICAgICAgICBncm91cHM6IGdyb3VwcyxcbiAgICAgICAgaGVhZGVyUHJvdmlkZXI6IFByb3BlcnRpZXNQYW5lbEhlYWRlclByb3ZpZGVyLFxuICAgICAgICBwbGFjZWhvbGRlclByb3ZpZGVyOiBQcm9wZXJ0aWVzUGFuZWxQbGFjZWhvbGRlclByb3ZpZGVyLFxuICAgICAgICBmZWVsUG9wdXBDb250YWluZXI6IGZlZWxQb3B1cENvbnRhaW5lclxuICAgICAgfSlcbiAgICB9KVxuICB9KTtcbn1cblxuY29uc3QgREVGQVVMVF9QUklPUklUWSA9IDEwMDA7XG5cbi8qKlxuICogQHR5cGVkZWYgeyB7IHBhcmVudDogRWxlbWVudCB9IH0gUHJvcGVydGllc1BhbmVsQ29uZmlnXG4gKiBAdHlwZWRlZiB7IGltcG9ydCgnLi4vLi4vY29yZS9FdmVudEJ1cycpLkV2ZW50QnVzIH0gRXZlbnRCdXNcbiAqIEB0eXBlZGVmIHsgaW1wb3J0KCcuLi8uLi90eXBlcycpLkluamVjdG9yIH0gSW5qZWN0b3JcbiAqIEB0eXBlZGVmIHsgeyBnZXRHcm91cHM6ICh7IGZvcm1GaWVsZCwgZWRpdEZvcm1GaWVsZCB9KSA9PiAoeyBncm91cHN9KSA9PiBBcnJheSB9IH0gUHJvcGVydGllc1Byb3ZpZGVyXG4gKi9cblxuLyoqXG4gKiBAcGFyYW0ge1Byb3BlcnRpZXNQYW5lbENvbmZpZ30gcHJvcGVydGllc1BhbmVsQ29uZmlnXG4gKiBAcGFyYW0ge0luamVjdG9yfSBpbmplY3RvclxuICogQHBhcmFtIHtFdmVudEJ1c30gZXZlbnRCdXNcbiAqL1xuY2xhc3MgUHJvcGVydGllc1BhbmVsUmVuZGVyZXIge1xuICBjb25zdHJ1Y3Rvcihwcm9wZXJ0aWVzUGFuZWxDb25maWcsIGluamVjdG9yLCBldmVudEJ1cykge1xuICAgIGNvbnN0IHtcbiAgICAgIHBhcmVudFxuICAgIH0gPSBwcm9wZXJ0aWVzUGFuZWxDb25maWcgfHwge307XG4gICAgdGhpcy5fZXZlbnRCdXMgPSBldmVudEJ1cztcbiAgICB0aGlzLl9pbmplY3RvciA9IGluamVjdG9yO1xuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvbWlmeSgnPGRpdiBjbGFzcz1cImZqcy1wcm9wZXJ0aWVzLWNvbnRhaW5lclwiIGlucHV0LWhhbmRsZS1tb2RpZmllZC1rZXlzPVwieSx6XCI+PC9kaXY+Jyk7XG4gICAgaWYgKHBhcmVudCkge1xuICAgICAgdGhpcy5hdHRhY2hUbyhwYXJlbnQpO1xuICAgIH1cbiAgICB0aGlzLl9ldmVudEJ1cy5vbmNlKCdmb3JtRWRpdG9yLnJlbmRlcmVkJywgNTAwLCAoKSA9PiB7XG4gICAgICB0aGlzLl9yZW5kZXIoKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBdHRhY2ggdGhlIHByb3BlcnRpZXMgcGFuZWwgdG8gYSBwYXJlbnQgbm9kZS5cbiAgICpcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gY29udGFpbmVyXG4gICAqL1xuICBhdHRhY2hUbyhjb250YWluZXIpIHtcbiAgICBpZiAoIWNvbnRhaW5lcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdjb250YWluZXIgcmVxdWlyZWQnKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBjb250YWluZXIgPT09ICdzdHJpbmcnKSB7XG4gICAgICBjb250YWluZXIgPSBxdWVyeShjb250YWluZXIpO1xuICAgIH1cblxuICAgIC8vICgxKSBkZXRhY2ggZnJvbSBvbGQgcGFyZW50XG4gICAgdGhpcy5kZXRhY2goKTtcblxuICAgIC8vICgyKSBhcHBlbmQgdG8gcGFyZW50IGNvbnRhaW5lclxuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLl9jb250YWluZXIpO1xuXG4gICAgLy8gKDMpIG5vdGlmeSBpbnRlcmVzdGVkIHBhcnRpZXNcbiAgICB0aGlzLl9ldmVudEJ1cy5maXJlKCdwcm9wZXJ0aWVzUGFuZWwuYXR0YWNoJyk7XG4gIH1cblxuICAvKipcbiAgICogRGV0YWNoIHRoZSBwcm9wZXJ0aWVzIHBhbmVsIGZyb20gaXRzIHBhcmVudCBub2RlLlxuICAgKi9cbiAgZGV0YWNoKCkge1xuICAgIGNvbnN0IHBhcmVudE5vZGUgPSB0aGlzLl9jb250YWluZXIucGFyZW50Tm9kZTtcbiAgICBpZiAocGFyZW50Tm9kZSkge1xuICAgICAgcGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLl9jb250YWluZXIpO1xuICAgICAgdGhpcy5fZXZlbnRCdXMuZmlyZSgncHJvcGVydGllc1BhbmVsLmRldGFjaCcpO1xuICAgIH1cbiAgfVxuICBfcmVuZGVyKCkge1xuICAgIHJlbmRlcihqc3goUHJvcGVydGllc1BhbmVsLCB7XG4gICAgICBnZXRQcm92aWRlcnM6IHRoaXMuX2dldFByb3ZpZGVycy5iaW5kKHRoaXMpLFxuICAgICAgZXZlbnRCdXM6IHRoaXMuX2V2ZW50QnVzLFxuICAgICAgaW5qZWN0b3I6IHRoaXMuX2luamVjdG9yXG4gICAgfSksIHRoaXMuX2NvbnRhaW5lcik7XG4gICAgdGhpcy5fZXZlbnRCdXMuZmlyZSgncHJvcGVydGllc1BhbmVsLnJlbmRlcmVkJyk7XG4gIH1cbiAgX2Rlc3Ryb3koKSB7XG4gICAgaWYgKHRoaXMuX2NvbnRhaW5lcikge1xuICAgICAgcmVuZGVyKG51bGwsIHRoaXMuX2NvbnRhaW5lcik7XG4gICAgICB0aGlzLl9ldmVudEJ1cy5maXJlKCdwcm9wZXJ0aWVzUGFuZWwuZGVzdHJveWVkJyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVyIGEgbmV3IHByb3BlcnRpZXMgcHJvdmlkZXIgdG8gdGhlIHByb3BlcnRpZXMgcGFuZWwuXG4gICAqXG4gICAqIEBwYXJhbSB7UHJvcGVydGllc1Byb3ZpZGVyfSBwcm92aWRlclxuICAgKiBAcGFyYW0ge051bWJlcn0gW3ByaW9yaXR5XVxuICAgKi9cbiAgcmVnaXN0ZXJQcm92aWRlcihwcm92aWRlciwgcHJpb3JpdHkpIHtcbiAgICBpZiAoIXByaW9yaXR5KSB7XG4gICAgICBwcmlvcml0eSA9IERFRkFVTFRfUFJJT1JJVFk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgcHJvdmlkZXIuZ2V0R3JvdXBzICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdQcm9wZXJ0aWVzIHByb3ZpZGVyIGRvZXMgbm90IGltcGxlbWVudCAjZ2V0R3JvdXBzKGVsZW1lbnQpIEFQSScpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9ldmVudEJ1cy5vbigncHJvcGVydGllc1BhbmVsLmdldFByb3ZpZGVycycsIHByaW9yaXR5LCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGV2ZW50LnByb3ZpZGVycy5wdXNoKHByb3ZpZGVyKTtcbiAgICB9KTtcbiAgICB0aGlzLl9ldmVudEJ1cy5maXJlKCdwcm9wZXJ0aWVzUGFuZWwucHJvdmlkZXJzQ2hhbmdlZCcpO1xuICB9XG4gIF9nZXRQcm92aWRlcnMoKSB7XG4gICAgY29uc3QgZXZlbnQgPSB0aGlzLl9ldmVudEJ1cy5jcmVhdGVFdmVudCh7XG4gICAgICB0eXBlOiAncHJvcGVydGllc1BhbmVsLmdldFByb3ZpZGVycycsXG4gICAgICBwcm92aWRlcnM6IFtdXG4gICAgfSk7XG4gICAgdGhpcy5fZXZlbnRCdXMuZmlyZShldmVudCk7XG4gICAgcmV0dXJuIGV2ZW50LnByb3ZpZGVycztcbiAgfVxufVxuUHJvcGVydGllc1BhbmVsUmVuZGVyZXIuJGluamVjdCA9IFsnY29uZmlnLnByb3BlcnRpZXNQYW5lbCcsICdpbmplY3RvcicsICdldmVudEJ1cyddO1xuXG5mdW5jdGlvbiBBY3Rpb25FbnRyeShwcm9wcykge1xuICBjb25zdCB7XG4gICAgZWRpdEZpZWxkLFxuICAgIGZpZWxkXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgZW50cmllcyA9IFtdO1xuICBlbnRyaWVzLnB1c2goe1xuICAgIGlkOiAnYWN0aW9uJyxcbiAgICBjb21wb25lbnQ6IEFjdGlvbixcbiAgICBlZGl0RmllbGQ6IGVkaXRGaWVsZCxcbiAgICBmaWVsZDogZmllbGQsXG4gICAgaXNFZGl0ZWQ6IGlzRWRpdGVkJDMsXG4gICAgaXNEZWZhdWx0VmlzaWJsZTogZmllbGQgPT4gZmllbGQudHlwZSA9PT0gJ2J1dHRvbidcbiAgfSk7XG4gIHJldHVybiBlbnRyaWVzO1xufVxuZnVuY3Rpb24gQWN0aW9uKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBlZGl0RmllbGQsXG4gICAgZmllbGQsXG4gICAgaWRcbiAgfSA9IHByb3BzO1xuICBjb25zdCBwYXRoID0gWydhY3Rpb24nXTtcbiAgY29uc3QgZ2V0VmFsdWUgPSAoKSA9PiB7XG4gICAgcmV0dXJuIGdldChmaWVsZCwgcGF0aCwgJycpO1xuICB9O1xuICBjb25zdCBzZXRWYWx1ZSA9IHZhbHVlID0+IHtcbiAgICByZXR1cm4gZWRpdEZpZWxkKGZpZWxkLCBwYXRoLCB2YWx1ZSk7XG4gIH07XG4gIGNvbnN0IGdldE9wdGlvbnMgPSAoKSA9PiBbe1xuICAgIGxhYmVsOiAnU3VibWl0JyxcbiAgICB2YWx1ZTogJ3N1Ym1pdCdcbiAgfSwge1xuICAgIGxhYmVsOiAnUmVzZXQnLFxuICAgIHZhbHVlOiAncmVzZXQnXG4gIH1dO1xuICByZXR1cm4gU2VsZWN0RW50cnkoe1xuICAgIGVsZW1lbnQ6IGZpZWxkLFxuICAgIGdldE9wdGlvbnMsXG4gICAgZ2V0VmFsdWUsXG4gICAgaWQsXG4gICAgbGFiZWw6ICdBY3Rpb24nLFxuICAgIHNldFZhbHVlXG4gIH0pO1xufVxuXG5mdW5jdGlvbiB1c2VTZXJ2aWNlKHR5cGUsIHN0cmljdCkge1xuICBjb25zdCB7XG4gICAgZ2V0U2VydmljZVxuICB9ID0gdXNlQ29udGV4dChGb3JtUHJvcGVydGllc1BhbmVsQ29udGV4dCk7XG4gIHJldHVybiBnZXRTZXJ2aWNlKHR5cGUsIHN0cmljdCk7XG59XG5cbi8qKlxuICogUmV0cmlldmUgbGlzdCBvZiB2YXJpYWJsZXMgZnJvbSB0aGUgZm9ybSBzY2hlbWEuXG4gKlxuICogQHJldHVybnMgeyBzdHJpbmdbXSB9IGxpc3Qgb2YgdmFyaWFibGVzIHVzZWQgaW4gZm9ybSBzY2hlbWFcbiAqL1xuZnVuY3Rpb24gdXNlVmFyaWFibGVzKCkge1xuICBjb25zdCBmb3JtID0gdXNlU2VydmljZSgnZm9ybUVkaXRvcicpO1xuICBjb25zdCBzY2hlbWEgPSBmb3JtLmdldFNjaGVtYSgpO1xuICByZXR1cm4gZ2V0U2NoZW1hVmFyaWFibGVzKHNjaGVtYSk7XG59XG5cbmZ1bmN0aW9uIEFsdFRleHRFbnRyeShwcm9wcykge1xuICBjb25zdCB7XG4gICAgZWRpdEZpZWxkLFxuICAgIGZpZWxkXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgZW50cmllcyA9IFtdO1xuICBlbnRyaWVzLnB1c2goe1xuICAgIGlkOiAnYWx0JyxcbiAgICBjb21wb25lbnQ6IEFsdFRleHQsXG4gICAgZWRpdEZpZWxkOiBlZGl0RmllbGQsXG4gICAgZmllbGQ6IGZpZWxkLFxuICAgIGlzRWRpdGVkOiBpc0VkaXRlZCQ1LFxuICAgIGlzRGVmYXVsdFZpc2libGU6IGZpZWxkID0+IFsnaW1hZ2UnXS5pbmNsdWRlcyhmaWVsZC50eXBlKVxuICB9KTtcbiAgcmV0dXJuIGVudHJpZXM7XG59XG5mdW5jdGlvbiBBbHRUZXh0KHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBlZGl0RmllbGQsXG4gICAgZmllbGQsXG4gICAgaWRcbiAgfSA9IHByb3BzO1xuICBjb25zdCBkZWJvdW5jZSA9IHVzZVNlcnZpY2UoJ2RlYm91bmNlJyk7XG4gIGNvbnN0IHZhcmlhYmxlcyA9IHVzZVZhcmlhYmxlcygpLm1hcChuYW1lID0+ICh7XG4gICAgbmFtZVxuICB9KSk7XG4gIGNvbnN0IHBhdGggPSBbJ2FsdCddO1xuICBjb25zdCBnZXRWYWx1ZSA9ICgpID0+IHtcbiAgICByZXR1cm4gZ2V0KGZpZWxkLCBwYXRoLCAnJyk7XG4gIH07XG4gIGNvbnN0IHNldFZhbHVlID0gdmFsdWUgPT4ge1xuICAgIHJldHVybiBlZGl0RmllbGQoZmllbGQsIHBhdGgsIHZhbHVlKTtcbiAgfTtcbiAgcmV0dXJuIEZlZWxUZW1wbGF0aW5nRW50cnkoe1xuICAgIGRlYm91bmNlLFxuICAgIGVsZW1lbnQ6IGZpZWxkLFxuICAgIGZlZWw6ICdvcHRpb25hbCcsXG4gICAgZ2V0VmFsdWUsXG4gICAgaWQsXG4gICAgbGFiZWw6ICdBbHRlcm5hdGl2ZSB0ZXh0JyxcbiAgICB0b29sdGlwOiAnRGVzY3JpcHRpdmUgdGV4dCBmb3Igc2NyZWVuIHJlYWRlciBhY2Nlc3NpYmlsaXR5LicsXG4gICAgc2V0VmFsdWUsXG4gICAgc2luZ2xlTGluZTogdHJ1ZSxcbiAgICB2YXJpYWJsZXNcbiAgfSk7XG59XG5cbmNvbnN0IEFVVE9fT1BUSU9OX1ZBTFVFID0gJyc7XG5mdW5jdGlvbiBDb2x1bW5zRW50cnkocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGVkaXRGaWVsZCxcbiAgICBmaWVsZFxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IGVudHJpZXMgPSBbe1xuICAgIGlkOiAnY29sdW1ucycsXG4gICAgY29tcG9uZW50OiBDb2x1bW5zLFxuICAgIGZpZWxkLFxuICAgIGVkaXRGaWVsZCxcbiAgICBpc0VkaXRlZDogaXNFZGl0ZWQkM1xuICB9XTtcbiAgcmV0dXJuIGVudHJpZXM7XG59XG5mdW5jdGlvbiBDb2x1bW5zKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBmaWVsZCxcbiAgICBlZGl0RmllbGQsXG4gICAgaWRcbiAgfSA9IHByb3BzO1xuICB1c2VTZXJ2aWNlKCdkZWJvdW5jZScpO1xuICBjb25zdCBmb3JtTGF5b3V0VmFsaWRhdG9yID0gdXNlU2VydmljZSgnZm9ybUxheW91dFZhbGlkYXRvcicpO1xuICBjb25zdCB2YWxpZGF0ZSA9IHVzZUNhbGxiYWNrKHZhbHVlID0+IHtcbiAgICByZXR1cm4gZm9ybUxheW91dFZhbGlkYXRvci52YWxpZGF0ZUZpZWxkKGZpZWxkLCB2YWx1ZSA/IHBhcnNlSW50KHZhbHVlKSA6IG51bGwpO1xuICB9LCBbZmllbGQsIGZvcm1MYXlvdXRWYWxpZGF0b3JdKTtcbiAgY29uc3Qgc2V0VmFsdWUgPSAodmFsdWUsIGVycm9yKSA9PiB7XG4gICAgaWYgKGVycm9yKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGxheW91dCA9IGdldChmaWVsZCwgWydsYXlvdXQnXSwge30pO1xuICAgIGNvbnN0IG5ld1ZhbHVlID0gdmFsdWUgPyBwYXJzZUludCh2YWx1ZSkgOiBudWxsO1xuICAgIGVkaXRGaWVsZChmaWVsZCwgWydsYXlvdXQnXSwgc2V0JDEobGF5b3V0LCBbJ2NvbHVtbnMnXSwgbmV3VmFsdWUpKTtcbiAgfTtcbiAgY29uc3QgZ2V0VmFsdWUgPSAoKSA9PiB7XG4gICAgcmV0dXJuIGdldChmaWVsZCwgWydsYXlvdXQnLCAnY29sdW1ucyddKTtcbiAgfTtcbiAgY29uc3QgZ2V0T3B0aW9ucyA9ICgpID0+IHtcbiAgICByZXR1cm4gW3tcbiAgICAgIGxhYmVsOiAnQXV0bycsXG4gICAgICB2YWx1ZTogQVVUT19PUFRJT05fVkFMVUVcbiAgICB9LFxuICAgIC8vIHRvZG8ocGludXNzaWx2ZXN0cnVzKTogbWFrZSBvcHRpb25zIGRlcGVuZGFudCBvbiBmaWVsZCB0eXBlXG4gICAgLy8gY2YuIGh0dHBzOi8vZ2l0aHViLmNvbS9icG1uLWlvL2Zvcm0tanMvaXNzdWVzLzU3NVxuICAgIC4uLmFzQXJyYXkoMTYpLmZpbHRlcihpID0+IGkgPj0gTUlOX0NPTFVNTlMpLm1hcChhc09wdGlvbildO1xuICB9O1xuICByZXR1cm4gU2VsZWN0RW50cnkoe1xuICAgIGVsZW1lbnQ6IGZpZWxkLFxuICAgIGlkLFxuICAgIGxhYmVsOiAnQ29sdW1ucycsXG4gICAgZ2V0T3B0aW9ucyxcbiAgICBnZXRWYWx1ZSxcbiAgICBzZXRWYWx1ZSxcbiAgICB2YWxpZGF0ZVxuICB9KTtcbn1cblxuLy8gaGVscGVyIC8vLy8vLy8vL1xuXG5mdW5jdGlvbiBhc09wdGlvbihudW1iZXIpIHtcbiAgcmV0dXJuIHtcbiAgICB2YWx1ZTogbnVtYmVyLFxuICAgIGxhYmVsOiBudW1iZXIudG9TdHJpbmcoKVxuICB9O1xufVxuZnVuY3Rpb24gYXNBcnJheShsZW5ndGgpIHtcbiAgcmV0dXJuIEFycmF5LmZyb20oe1xuICAgIGxlbmd0aFxuICB9KS5tYXAoKF8sIGkpID0+IGkgKyAxKTtcbn1cblxuZnVuY3Rpb24gYXJyYXlBZGQoYXJyYXksIGluZGV4LCBpdGVtKSB7XG4gIGNvbnN0IGNvcHkgPSBbLi4uYXJyYXldO1xuICBjb3B5LnNwbGljZShpbmRleCwgMCwgaXRlbSk7XG4gIHJldHVybiBjb3B5O1xufVxuZnVuY3Rpb24gY291bnREZWNpbWFscyhudW1iZXIpIHtcbiAgY29uc3QgbnVtID0gQmlnKG51bWJlcik7XG4gIGlmIChudW0udG9TdHJpbmcoKSA9PT0gbnVtLnRvRml4ZWQoMCkpIHJldHVybiAwO1xuICByZXR1cm4gbnVtLnRvRml4ZWQoKS5zcGxpdCgnLicpWzFdLmxlbmd0aCB8fCAwO1xufVxuXG4vKipcbiAqXG4gKiBAcGFyYW0ge3Vua25vd259IHZhbHVlXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXNWYWxpZE51bWJlcih2YWx1ZSkge1xuICByZXR1cm4gKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgfHwgdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykgJiYgdmFsdWUgIT09ICcnICYmICFpc05hTihOdW1iZXIodmFsdWUpKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gcGF0aFxuICovXG5mdW5jdGlvbiBpc1ZhbGlkRG90UGF0aChwYXRoKSB7XG4gIHJldHVybiAvXlxcdysoXFwuXFx3KykqJC8udGVzdChwYXRoKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gcGF0aFxuICovXG5mdW5jdGlvbiBpc1Byb2hpYml0ZWRQYXRoKHBhdGgpIHtcbiAgY29uc3QgcHJvaGliaXRlZFNlZ21lbnRzID0gWydfX3Byb3RvX18nLCAncHJvdG90eXBlJywgJ2NvbnN0cnVjdG9yJ107XG4gIHJldHVybiBwYXRoLnNwbGl0KCcuJykuc29tZShzZWdtZW50ID0+IHByb2hpYml0ZWRTZWdtZW50cy5pbmNsdWRlcyhzZWdtZW50KSk7XG59XG5jb25zdCBMQUJFTEVEX05PTl9JTlBVVFMgPSBbJ2J1dHRvbicsICdncm91cCcsICdkeW5hbWljbGlzdCcsICdpZnJhbWUnLCAndGFibGUnLCAnZG9jdW1lbnRQcmV2aWV3J107XG5jb25zdCBJTlBVVFMgPSBbJ2NoZWNrYm94JywgJ2NoZWNrbGlzdCcsICdkYXRldGltZScsICdudW1iZXInLCAncmFkaW8nLCAnc2VsZWN0JywgJ3RhZ2xpc3QnLCAndGV4dGZpZWxkJywgJ3RleHRhcmVhJywgJ2ZpbGVwaWNrZXInXTtcbmNvbnN0IE9QVElPTlNfSU5QVVRTID0gWydjaGVja2xpc3QnLCAncmFkaW8nLCAnc2VsZWN0JywgJ3RhZ2xpc3QnXTtcbmZ1bmN0aW9uIGhhc0VudHJ5Q29uZmlndXJlZChmb3JtRmllbGREZWZpbml0aW9uLCBlbnRyeUlkKSB7XG4gIGNvbnN0IHtcbiAgICBwcm9wZXJ0aWVzUGFuZWxFbnRyaWVzID0gW11cbiAgfSA9IGZvcm1GaWVsZERlZmluaXRpb247XG4gIGlmICghcHJvcGVydGllc1BhbmVsRW50cmllcy5sZW5ndGgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHByb3BlcnRpZXNQYW5lbEVudHJpZXMuc29tZShpZCA9PiBpZCA9PT0gZW50cnlJZCk7XG59XG5mdW5jdGlvbiBoYXNPcHRpb25zR3JvdXBzQ29uZmlndXJlZChmb3JtRmllbGREZWZpbml0aW9uKSB7XG4gIGNvbnN0IHtcbiAgICBwcm9wZXJ0aWVzUGFuZWxFbnRyaWVzID0gW11cbiAgfSA9IGZvcm1GaWVsZERlZmluaXRpb247XG4gIGlmICghcHJvcGVydGllc1BhbmVsRW50cmllcy5sZW5ndGgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHByb3BlcnRpZXNQYW5lbEVudHJpZXMuc29tZShpZCA9PiBpZCA9PT0gJ3ZhbHVlcycpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoXG4gKi9cbmZ1bmN0aW9uIGhhc0ludGVnZXJQYXRoU2VnbWVudChwYXRoKSB7XG4gIHJldHVybiBwYXRoLnNwbGl0KCcuJykuc29tZShzZWdtZW50ID0+IC9eXFxkKyQvLnRlc3Qoc2VnbWVudCkpO1xufVxuXG4vKipcbiAqIEZhY3RvcnkgZm9yIGlzRWRpdGVkIGZ1bmN0aW9ucyB0aGF0IGNoZWNrIGFnYWluc3QgYSBkZWZhdWx0LlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBkZWZhdWx0VmFsdWUgVGhlIGRlZmF1bHQgdmFsdWUgdG8gY2hlY2sgYWdhaW5zdC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2luY2x1ZGVFbXB0eUFzRGVmYXVsdD10cnVlXSBJZiB0cnVlLCBhbiBlbXB0eSB2YWx1ZSAoZS5nLiwgJycpIGlzIGFsc28gY29uc2lkZXJlZCBhIGRlZmF1bHQgc3RhdGUuXG4gKiBAcmV0dXJuIHsobm9kZTogSFRNTEVsZW1lbnQpID0+IGJvb2xlYW59IEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRydWUgaWYgdGhlIG5vZGUncyB2YWx1ZSBpcyBlZGl0ZWQuXG4gKi9cbmZ1bmN0aW9uIGlzRWRpdGVkRnJvbURlZmF1bHRGYWN0b3J5KGRlZmF1bHRWYWx1ZSwgaW5jbHVkZUVtcHR5QXNEZWZhdWx0ID0gdHJ1ZSkge1xuICByZXR1cm4gbm9kZSA9PiB7XG4gICAgaWYgKCFub2RlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHR5cGUge0hUTUxFbGVtZW50fG51bGx9XG4gICAgICovXG4gICAgY29uc3QgY29kZU1pcnJvckNvbnRlbnQgPSBub2RlLnF1ZXJ5U2VsZWN0b3IoJy5jbS1jb250ZW50Jyk7XG4gICAgY29uc3QgaXNDb2RlTWlycm9yRWRpdG9yID0gISFjb2RlTWlycm9yQ29udGVudDtcbiAgICBjb25zdCB2YWx1ZSA9IGlzQ29kZU1pcnJvckVkaXRvciA/IGNvZGVNaXJyb3JDb250ZW50LmlubmVyVGV4dCA6IC8qKiBAdHlwZSB7SFRNTElucHV0RWxlbWVudH0gKi9ub2RlLnZhbHVlO1xuICAgIGlmIChpbmNsdWRlRW1wdHlBc0RlZmF1bHQgJiYgIXZhbHVlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZSAhPT0gZGVmYXVsdFZhbHVlO1xuICB9O1xufVxuZnVuY3Rpb24gaXNUcnVlRGVmYXVsdFRvZ2dsZVN3aXRjaEVudHJ5RWRpdGVkKG5vZGUpIHtcbiAgcmV0dXJuIG5vZGUgJiYgIW5vZGUuY2hlY2tlZDtcbn1cblxuZnVuY3Rpb24gRGVzY3JpcHRpb25FbnRyeShwcm9wcykge1xuICBjb25zdCB7XG4gICAgZWRpdEZpZWxkLFxuICAgIGZpZWxkXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgZW50cmllcyA9IFtdO1xuICBlbnRyaWVzLnB1c2goe1xuICAgIGlkOiAnZGVzY3JpcHRpb24nLFxuICAgIGNvbXBvbmVudDogRGVzY3JpcHRpb24sXG4gICAgZWRpdEZpZWxkOiBlZGl0RmllbGQsXG4gICAgZmllbGQ6IGZpZWxkLFxuICAgIGlzRWRpdGVkOiBpc0VkaXRlZCQ1LFxuICAgIGlzRGVmYXVsdFZpc2libGU6IGZpZWxkID0+IGZpZWxkLnR5cGUgIT09ICdmaWxlcGlja2VyJyAmJiBJTlBVVFMuaW5jbHVkZXMoZmllbGQudHlwZSlcbiAgfSk7XG4gIHJldHVybiBlbnRyaWVzO1xufVxuZnVuY3Rpb24gRGVzY3JpcHRpb24ocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGVkaXRGaWVsZCxcbiAgICBmaWVsZCxcbiAgICBpZFxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IGRlYm91bmNlID0gdXNlU2VydmljZSgnZGVib3VuY2UnKTtcbiAgY29uc3QgdmFyaWFibGVzID0gdXNlVmFyaWFibGVzKCkubWFwKG5hbWUgPT4gKHtcbiAgICBuYW1lXG4gIH0pKTtcbiAgY29uc3QgcGF0aCA9IFsnZGVzY3JpcHRpb24nXTtcbiAgY29uc3QgZ2V0VmFsdWUgPSAoKSA9PiB7XG4gICAgcmV0dXJuIGdldChmaWVsZCwgcGF0aCwgJycpO1xuICB9O1xuICBjb25zdCBzZXRWYWx1ZSA9IHZhbHVlID0+IHtcbiAgICByZXR1cm4gZWRpdEZpZWxkKGZpZWxkLCBwYXRoLCB2YWx1ZSk7XG4gIH07XG4gIHJldHVybiBGZWVsVGVtcGxhdGluZ0VudHJ5KHtcbiAgICBkZWJvdW5jZSxcbiAgICBlbGVtZW50OiBmaWVsZCxcbiAgICBnZXRWYWx1ZSxcbiAgICBpZCxcbiAgICBsYWJlbDogJ0ZpZWxkIGRlc2NyaXB0aW9uJyxcbiAgICBzaW5nbGVMaW5lOiB0cnVlLFxuICAgIHNldFZhbHVlLFxuICAgIHZhcmlhYmxlc1xuICB9KTtcbn1cblxuY29uc3QgRU1QVFlfT1BUSU9OID0gJyc7XG5mdW5jdGlvbiBEZWZhdWx0VmFsdWVFbnRyeShwcm9wcykge1xuICBjb25zdCB7XG4gICAgZWRpdEZpZWxkLFxuICAgIGZpZWxkXG4gIH0gPSBwcm9wcztcbiAgY29uc3Qge1xuICAgIHR5cGVcbiAgfSA9IGZpZWxkO1xuICBjb25zdCBlbnRyaWVzID0gW107XG4gIGZ1bmN0aW9uIGlzRGVmYXVsdFZpc2libGUobWF0Y2hlcnMpIHtcbiAgICByZXR1cm4gZmllbGQgPT4ge1xuICAgICAgLy8gT25seSBtYWtlIGRlZmF1bHQgdmFsdWVzIGF2YWlsYWJsZSB3aGVuIHRoZXkgYXJlIHN0YXRpY2FsbHkgZGVmaW5lZFxuICAgICAgaWYgKCFJTlBVVFMuaW5jbHVkZXModHlwZSkgfHwgT1BUSU9OU19JTlBVVFMuaW5jbHVkZXModHlwZSkgJiYgIWZpZWxkLnZhbHVlcykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gbWF0Y2hlcnMoZmllbGQpO1xuICAgIH07XG4gIH1cbiAgY29uc3QgZGVmYXVsdFZhbHVlQmFzZSA9IHtcbiAgICBlZGl0RmllbGQsXG4gICAgZmllbGQsXG4gICAgaWQ6ICdkZWZhdWx0VmFsdWUnLFxuICAgIGxhYmVsOiAnRGVmYXVsdCB2YWx1ZSdcbiAgfTtcbiAgZW50cmllcy5wdXNoKHtcbiAgICAuLi5kZWZhdWx0VmFsdWVCYXNlLFxuICAgIGNvbXBvbmVudDogRGVmYXVsdFZhbHVlQ2hlY2tib3gsXG4gICAgaXNFZGl0ZWQ6IGlzRWRpdGVkJDMsXG4gICAgaXNEZWZhdWx0VmlzaWJsZTogaXNEZWZhdWx0VmlzaWJsZShmaWVsZCA9PiBmaWVsZC50eXBlID09PSAnY2hlY2tib3gnKVxuICB9KTtcbiAgZW50cmllcy5wdXNoKHtcbiAgICAuLi5kZWZhdWx0VmFsdWVCYXNlLFxuICAgIGNvbXBvbmVudDogRGVmYXVsdFZhbHVlTnVtYmVyLFxuICAgIGlzRWRpdGVkOiBpc0VkaXRlZCxcbiAgICBpc0RlZmF1bHRWaXNpYmxlOiBpc0RlZmF1bHRWaXNpYmxlKGZpZWxkID0+IGZpZWxkLnR5cGUgPT09ICdudW1iZXInKVxuICB9KTtcbiAgZW50cmllcy5wdXNoKHtcbiAgICAuLi5kZWZhdWx0VmFsdWVCYXNlLFxuICAgIGNvbXBvbmVudDogRGVmYXVsdFZhbHVlU2luZ2xlU2VsZWN0LFxuICAgIGlzRWRpdGVkOiBpc0VkaXRlZCQzLFxuICAgIGlzRGVmYXVsdFZpc2libGU6IGlzRGVmYXVsdFZpc2libGUoZmllbGQgPT4gZmllbGQudHlwZSA9PT0gJ3JhZGlvJyB8fCBmaWVsZC50eXBlID09PSAnc2VsZWN0JylcbiAgfSk7XG5cbiAgLy8gdG9kbyhTa2FpaXIpOiBpbXBsZW1lbnQgYSBtdWx0aXNlbGVjdCBlcXVpdmFsZW50IChjZi4gaHR0cHM6Ly9naXRodWIuY29tL2JwbW4taW8vZm9ybS1qcy9pc3N1ZXMvMjY1KVxuXG4gIGVudHJpZXMucHVzaCh7XG4gICAgLi4uZGVmYXVsdFZhbHVlQmFzZSxcbiAgICBjb21wb25lbnQ6IERlZmF1bHRWYWx1ZVRleHRmaWVsZCxcbiAgICBpc0VkaXRlZDogaXNFZGl0ZWQsXG4gICAgaXNEZWZhdWx0VmlzaWJsZTogaXNEZWZhdWx0VmlzaWJsZShmaWVsZCA9PiBmaWVsZC50eXBlID09PSAndGV4dGZpZWxkJylcbiAgfSk7XG4gIGVudHJpZXMucHVzaCh7XG4gICAgLi4uZGVmYXVsdFZhbHVlQmFzZSxcbiAgICBjb21wb25lbnQ6IERlZmF1bHRWYWx1ZVRleHRhcmVhLFxuICAgIGlzRWRpdGVkOiBpc0VkaXRlZCQxLFxuICAgIGlzRGVmYXVsdFZpc2libGU6IGlzRGVmYXVsdFZpc2libGUoZmllbGQgPT4gZmllbGQudHlwZSA9PT0gJ3RleHRhcmVhJylcbiAgfSk7XG4gIHJldHVybiBlbnRyaWVzO1xufVxuZnVuY3Rpb24gRGVmYXVsdFZhbHVlQ2hlY2tib3gocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGVkaXRGaWVsZCxcbiAgICBmaWVsZCxcbiAgICBpZCxcbiAgICBsYWJlbFxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IHtcbiAgICBkZWZhdWx0VmFsdWVcbiAgfSA9IGZpZWxkO1xuICBjb25zdCBwYXRoID0gWydkZWZhdWx0VmFsdWUnXTtcbiAgY29uc3QgZ2V0T3B0aW9ucyA9ICgpID0+IHtcbiAgICByZXR1cm4gW3tcbiAgICAgIGxhYmVsOiAnQ2hlY2tlZCcsXG4gICAgICB2YWx1ZTogJ3RydWUnXG4gICAgfSwge1xuICAgICAgbGFiZWw6ICdOb3QgY2hlY2tlZCcsXG4gICAgICB2YWx1ZTogJ2ZhbHNlJ1xuICAgIH1dO1xuICB9O1xuICBjb25zdCBzZXRWYWx1ZSA9IHZhbHVlID0+IHtcbiAgICByZXR1cm4gZWRpdEZpZWxkKGZpZWxkLCBwYXRoLCBwYXJzZVN0cmluZ1RvQm9vbGVhbih2YWx1ZSkpO1xuICB9O1xuICBjb25zdCBnZXRWYWx1ZSA9ICgpID0+IHtcbiAgICByZXR1cm4gcGFyc2VCb29sZWFuVG9TdHJpbmcoZGVmYXVsdFZhbHVlKTtcbiAgfTtcbiAgcmV0dXJuIFNlbGVjdEVudHJ5KHtcbiAgICBlbGVtZW50OiBmaWVsZCxcbiAgICBnZXRPcHRpb25zLFxuICAgIGdldFZhbHVlLFxuICAgIGlkLFxuICAgIGxhYmVsLFxuICAgIHNldFZhbHVlXG4gIH0pO1xufVxuZnVuY3Rpb24gRGVmYXVsdFZhbHVlTnVtYmVyKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBlZGl0RmllbGQsXG4gICAgZmllbGQsXG4gICAgaWQsXG4gICAgbGFiZWxcbiAgfSA9IHByb3BzO1xuICBjb25zdCB7XG4gICAgZGVjaW1hbERpZ2l0cyxcbiAgICBzZXJpYWxpemVUb1N0cmluZyA9IGZhbHNlXG4gIH0gPSBmaWVsZDtcbiAgY29uc3QgZGVib3VuY2UgPSB1c2VTZXJ2aWNlKCdkZWJvdW5jZScpO1xuICBjb25zdCBwYXRoID0gWydkZWZhdWx0VmFsdWUnXTtcbiAgY29uc3QgZ2V0VmFsdWUgPSBlID0+IHtcbiAgICBsZXQgdmFsdWUgPSBnZXQoZmllbGQsIHBhdGgpO1xuICAgIGlmICghaXNWYWxpZE51bWJlcih2YWx1ZSkpIHJldHVybjtcblxuICAgIC8vIEVuZm9yY2VzIGRlY2ltYWwgbm90YXRpb24gc28gdGhhdCB3ZSBkbyBub3Qgc3VibWl0IGRlZmF1bHRzIGluIGV4cG9uZW50IGZvcm1cbiAgICByZXR1cm4gc2VyaWFsaXplVG9TdHJpbmcgPyBCaWcodmFsdWUpLnRvRml4ZWQoKSA6IHZhbHVlO1xuICB9O1xuICBjb25zdCBzZXRWYWx1ZSA9ICh2YWx1ZSwgZXJyb3IpID0+IHtcbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IG5ld1ZhbHVlO1xuICAgIGlmIChpc1ZhbGlkTnVtYmVyKHZhbHVlKSkge1xuICAgICAgbmV3VmFsdWUgPSBzZXJpYWxpemVUb1N0cmluZyA/IHZhbHVlIDogTnVtYmVyKHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIGVkaXRGaWVsZChmaWVsZCwgcGF0aCwgbmV3VmFsdWUpO1xuICB9O1xuICBjb25zdCBkZWNpbWFsRGlnaXRzU2V0ID0gZGVjaW1hbERpZ2l0cyB8fCBkZWNpbWFsRGlnaXRzID09PSAwO1xuICBjb25zdCB2YWxpZGF0ZSA9IHVzZUNhbGxiYWNrKHZhbHVlID0+IHtcbiAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCB8fCB2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIWlzVmFsaWROdW1iZXIodmFsdWUpKSB7XG4gICAgICByZXR1cm4gJ1Nob3VsZCBiZSBhIHZhbGlkIG51bWJlcic7XG4gICAgfVxuICAgIGlmIChkZWNpbWFsRGlnaXRzU2V0ICYmIGNvdW50RGVjaW1hbHModmFsdWUpID4gZGVjaW1hbERpZ2l0cykge1xuICAgICAgcmV0dXJuIGBTaG91bGQgbm90IGNvbnRhaW4gbW9yZSB0aGFuICR7ZGVjaW1hbERpZ2l0c30gZGVjaW1hbCBkaWdpdHNgO1xuICAgIH1cbiAgfSwgW2RlY2ltYWxEaWdpdHNTZXQsIGRlY2ltYWxEaWdpdHNdKTtcbiAgcmV0dXJuIFRleHRmaWVsZEVudHJ5KHtcbiAgICBkZWJvdW5jZSxcbiAgICBsYWJlbCxcbiAgICBlbGVtZW50OiBmaWVsZCxcbiAgICBnZXRWYWx1ZSxcbiAgICBpZCxcbiAgICBzZXRWYWx1ZSxcbiAgICB2YWxpZGF0ZVxuICB9KTtcbn1cbmZ1bmN0aW9uIERlZmF1bHRWYWx1ZVNpbmdsZVNlbGVjdChwcm9wcykge1xuICBjb25zdCB7XG4gICAgZWRpdEZpZWxkLFxuICAgIGZpZWxkLFxuICAgIGlkLFxuICAgIGxhYmVsXG4gIH0gPSBwcm9wcztcbiAgY29uc3Qge1xuICAgIGRlZmF1bHRWYWx1ZSA9IEVNUFRZX09QVElPTixcbiAgICB2YWx1ZXMgPSBbXVxuICB9ID0gZmllbGQ7XG4gIGNvbnN0IHBhdGggPSBbJ2RlZmF1bHRWYWx1ZSddO1xuICBjb25zdCBnZXRPcHRpb25zID0gKCkgPT4ge1xuICAgIHJldHVybiBbe1xuICAgICAgbGFiZWw6ICc8bm9uZT4nLFxuICAgICAgdmFsdWU6IEVNUFRZX09QVElPTlxuICAgIH0sIC4uLnZhbHVlc107XG4gIH07XG4gIGNvbnN0IHNldFZhbHVlID0gdmFsdWUgPT4ge1xuICAgIHJldHVybiBlZGl0RmllbGQoZmllbGQsIHBhdGgsIHZhbHVlLmxlbmd0aCA/IHZhbHVlIDogdW5kZWZpbmVkKTtcbiAgfTtcbiAgY29uc3QgZ2V0VmFsdWUgPSAoKSA9PiB7XG4gICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbiAgfTtcbiAgcmV0dXJuIFNlbGVjdEVudHJ5KHtcbiAgICBlbGVtZW50OiBmaWVsZCxcbiAgICBnZXRPcHRpb25zLFxuICAgIGdldFZhbHVlLFxuICAgIGlkLFxuICAgIGxhYmVsLFxuICAgIHNldFZhbHVlXG4gIH0pO1xufVxuZnVuY3Rpb24gRGVmYXVsdFZhbHVlVGV4dGZpZWxkKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBlZGl0RmllbGQsXG4gICAgZmllbGQsXG4gICAgaWQsXG4gICAgbGFiZWxcbiAgfSA9IHByb3BzO1xuICBjb25zdCBkZWJvdW5jZSA9IHVzZVNlcnZpY2UoJ2RlYm91bmNlJyk7XG4gIGNvbnN0IHBhdGggPSBbJ2RlZmF1bHRWYWx1ZSddO1xuICBjb25zdCBnZXRWYWx1ZSA9ICgpID0+IHtcbiAgICByZXR1cm4gZ2V0KGZpZWxkLCBwYXRoLCAnJyk7XG4gIH07XG4gIGNvbnN0IHNldFZhbHVlID0gdmFsdWUgPT4ge1xuICAgIHJldHVybiBlZGl0RmllbGQoZmllbGQsIHBhdGgsIHZhbHVlKTtcbiAgfTtcbiAgcmV0dXJuIFRleHRmaWVsZEVudHJ5KHtcbiAgICBkZWJvdW5jZSxcbiAgICBlbGVtZW50OiBmaWVsZCxcbiAgICBnZXRWYWx1ZSxcbiAgICBpZCxcbiAgICBsYWJlbCxcbiAgICBzZXRWYWx1ZVxuICB9KTtcbn1cbmZ1bmN0aW9uIERlZmF1bHRWYWx1ZVRleHRhcmVhKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBlZGl0RmllbGQsXG4gICAgZmllbGQsXG4gICAgaWQsXG4gICAgbGFiZWxcbiAgfSA9IHByb3BzO1xuICBjb25zdCBkZWJvdW5jZSA9IHVzZVNlcnZpY2UoJ2RlYm91bmNlJyk7XG4gIGNvbnN0IHBhdGggPSBbJ2RlZmF1bHRWYWx1ZSddO1xuICBjb25zdCBnZXRWYWx1ZSA9ICgpID0+IHtcbiAgICByZXR1cm4gZ2V0KGZpZWxkLCBwYXRoLCAnJyk7XG4gIH07XG4gIGNvbnN0IHNldFZhbHVlID0gdmFsdWUgPT4ge1xuICAgIHJldHVybiBlZGl0RmllbGQoZmllbGQsIHBhdGgsIHZhbHVlKTtcbiAgfTtcbiAgcmV0dXJuIFRleHRBcmVhRW50cnkoe1xuICAgIGRlYm91bmNlLFxuICAgIGVsZW1lbnQ6IGZpZWxkLFxuICAgIGdldFZhbHVlLFxuICAgIGlkLFxuICAgIGxhYmVsLFxuICAgIHNldFZhbHVlXG4gIH0pO1xufVxuXG4vLyBoZWxwZXJzIC8vLy8vLy8vLy8vLy8vLy8vXG5cbmZ1bmN0aW9uIHBhcnNlU3RyaW5nVG9Cb29sZWFuKHZhbHVlKSB7XG4gIGlmICh2YWx1ZSA9PT0gJ3RydWUnKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gcGFyc2VCb29sZWFuVG9TdHJpbmcodmFsdWUpIHtcbiAgaWYgKHZhbHVlID09PSB0cnVlKSB7XG4gICAgcmV0dXJuICd0cnVlJztcbiAgfVxuICByZXR1cm4gJ2ZhbHNlJztcbn1cblxuZnVuY3Rpb24gRGlzYWJsZWRFbnRyeShwcm9wcykge1xuICBjb25zdCB7XG4gICAgZWRpdEZpZWxkLFxuICAgIGZpZWxkXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgZW50cmllcyA9IFtdO1xuICBlbnRyaWVzLnB1c2goe1xuICAgIGlkOiAnZGlzYWJsZWQnLFxuICAgIGNvbXBvbmVudDogRGlzYWJsZWQsXG4gICAgZWRpdEZpZWxkOiBlZGl0RmllbGQsXG4gICAgZmllbGQ6IGZpZWxkLFxuICAgIGlzRWRpdGVkOiBpc0VkaXRlZCQ3LFxuICAgIGlzRGVmYXVsdFZpc2libGU6IGZpZWxkID0+IElOUFVUUy5pbmNsdWRlcyhmaWVsZC50eXBlKVxuICB9KTtcbiAgcmV0dXJuIGVudHJpZXM7XG59XG5mdW5jdGlvbiBEaXNhYmxlZChwcm9wcykge1xuICBjb25zdCB7XG4gICAgZWRpdEZpZWxkLFxuICAgIGZpZWxkLFxuICAgIGlkXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgcGF0aCA9IFsnZGlzYWJsZWQnXTtcbiAgY29uc3QgZ2V0VmFsdWUgPSAoKSA9PiB7XG4gICAgcmV0dXJuIGdldChmaWVsZCwgcGF0aCwgJycpO1xuICB9O1xuICBjb25zdCBzZXRWYWx1ZSA9IHZhbHVlID0+IHtcbiAgICByZXR1cm4gZWRpdEZpZWxkKGZpZWxkLCBwYXRoLCB2YWx1ZSk7XG4gIH07XG4gIHJldHVybiBUb2dnbGVTd2l0Y2hFbnRyeSh7XG4gICAgZWxlbWVudDogZmllbGQsXG4gICAgZ2V0VmFsdWUsXG4gICAgaWQsXG4gICAgbGFiZWw6ICdEaXNhYmxlZCcsXG4gICAgdG9vbHRpcDogJ0Rpc2FibGUgdGhpcyBmaWVsZCB3aGVuIGl0IHNob3VsZCBub3QgYmUgaW50ZXJhY3RpdmUgZm9yIGVuZC11c2Vycy4gSXRzIGRhdGEgd2lsbCBub3QgYmUgc3VibWl0dGVkLiBUaGlzIHNldHRpbmcgdGFrZXMgcHJlY2VkZW5jZSBvdmVyIHJlYWQtb25seS4nLFxuICAgIGlubGluZTogdHJ1ZSxcbiAgICBzZXRWYWx1ZVxuICB9KTtcbn1cblxuZnVuY3Rpb24gSWRFbnRyeShwcm9wcykge1xuICBjb25zdCB7XG4gICAgZWRpdEZpZWxkLFxuICAgIGZpZWxkXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgZW50cmllcyA9IFtdO1xuICBlbnRyaWVzLnB1c2goe1xuICAgIGlkOiAnaWQnLFxuICAgIGNvbXBvbmVudDogSWQsXG4gICAgZWRpdEZpZWxkOiBlZGl0RmllbGQsXG4gICAgZmllbGQ6IGZpZWxkLFxuICAgIGlzRWRpdGVkOiBpc0VkaXRlZCxcbiAgICBpc0RlZmF1bHRWaXNpYmxlOiBmaWVsZCA9PiBmaWVsZC50eXBlID09PSAnZGVmYXVsdCdcbiAgfSk7XG4gIHJldHVybiBlbnRyaWVzO1xufVxuZnVuY3Rpb24gSWQocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGVkaXRGaWVsZCxcbiAgICBmaWVsZCxcbiAgICBpZFxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IGZvcm1GaWVsZFJlZ2lzdHJ5ID0gdXNlU2VydmljZSgnZm9ybUZpZWxkUmVnaXN0cnknKTtcbiAgY29uc3QgZGVib3VuY2UgPSB1c2VTZXJ2aWNlKCdkZWJvdW5jZScpO1xuICBjb25zdCBwYXRoID0gWydpZCddO1xuICBjb25zdCBnZXRWYWx1ZSA9ICgpID0+IHtcbiAgICByZXR1cm4gZ2V0KGZpZWxkLCBwYXRoLCAnJyk7XG4gIH07XG4gIGNvbnN0IHNldFZhbHVlID0gKHZhbHVlLCBlcnJvcikgPT4ge1xuICAgIGlmIChlcnJvcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXR1cm4gZWRpdEZpZWxkKGZpZWxkLCBwYXRoLCB2YWx1ZSk7XG4gIH07XG4gIGNvbnN0IHZhbGlkYXRlID0gdXNlQ2FsbGJhY2sodmFsdWUgPT4ge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnIHx8IHZhbHVlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuICdNdXN0IG5vdCBiZSBlbXB0eS4nO1xuICAgIH1cbiAgICBjb25zdCBhc3NpZ25lZCA9IGZvcm1GaWVsZFJlZ2lzdHJ5Ll9pZHMuYXNzaWduZWQodmFsdWUpO1xuICAgIGlmIChhc3NpZ25lZCAmJiBhc3NpZ25lZCAhPT0gZmllbGQpIHtcbiAgICAgIHJldHVybiAnTXVzdCBiZSB1bmlxdWUuJztcbiAgICB9XG4gICAgcmV0dXJuIHZhbGlkYXRlSWQodmFsdWUpIHx8IG51bGw7XG4gIH0sIFtmb3JtRmllbGRSZWdpc3RyeSwgZmllbGRdKTtcbiAgcmV0dXJuIFRleHRmaWVsZEVudHJ5KHtcbiAgICBkZWJvdW5jZSxcbiAgICBlbGVtZW50OiBmaWVsZCxcbiAgICBnZXRWYWx1ZSxcbiAgICBpZCxcbiAgICBsYWJlbDogJ0lEJyxcbiAgICBzZXRWYWx1ZSxcbiAgICB2YWxpZGF0ZVxuICB9KTtcbn1cblxuLy8gaWQgc3RydWN0dXJhbCB2YWxpZGF0aW9uIC8vLy8vLy8vLy8vLy9cblxuY29uc3QgU1BBQ0VfUkVHRVggPSAvXFxzLztcblxuLy8gZm9yIFFOYW1lIHZhbGlkYXRpb24gYXMgcGVyIGh0dHA6Ly93d3cudzMub3JnL1RSL1JFQy14bWwvI05ULU5hbWVDaGFyXG5jb25zdCBRTkFNRV9SRUdFWCA9IC9eKFthLXpdW1xcdy0uXSo6KT9bYS16X11bXFx3LS5dKiQvaTtcblxuLy8gZm9yIElEIHZhbGlkYXRpb24gYXMgcGVyIEJQTU4gU2NoZW1hIChRTmFtZSAtIE5hbWVzcGFjZSlcbmNvbnN0IElEX1JFR0VYID0gL15bYS16X11bXFx3LS5dKiQvaTtcbmZ1bmN0aW9uIHZhbGlkYXRlSWQoaWRWYWx1ZSkge1xuICBpZiAoY29udGFpbnNTcGFjZShpZFZhbHVlKSkge1xuICAgIHJldHVybiAnTXVzdCBub3QgY29udGFpbiBzcGFjZXMuJztcbiAgfVxuICBpZiAoIUlEX1JFR0VYLnRlc3QoaWRWYWx1ZSkpIHtcbiAgICBpZiAoUU5BTUVfUkVHRVgudGVzdChpZFZhbHVlKSkge1xuICAgICAgcmV0dXJuICdNdXN0IG5vdCBjb250YWluIHByZWZpeC4nO1xuICAgIH1cbiAgICByZXR1cm4gJ011c3QgYmUgYSB2YWxpZCBRTmFtZS4nO1xuICB9XG59XG5mdW5jdGlvbiBjb250YWluc1NwYWNlKHZhbHVlKSB7XG4gIHJldHVybiBTUEFDRV9SRUdFWC50ZXN0KHZhbHVlKTtcbn1cblxuZnVuY3Rpb24gS2V5RW50cnkocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGVkaXRGaWVsZCxcbiAgICBmaWVsZCxcbiAgICBnZXRTZXJ2aWNlXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgZW50cmllcyA9IFtdO1xuICBlbnRyaWVzLnB1c2goe1xuICAgIGlkOiAna2V5JyxcbiAgICBjb21wb25lbnQ6IEtleSQyLFxuICAgIGVkaXRGaWVsZDogZWRpdEZpZWxkLFxuICAgIGZpZWxkOiBmaWVsZCxcbiAgICBpc0VkaXRlZDogaXNFZGl0ZWQsXG4gICAgaXNEZWZhdWx0VmlzaWJsZTogZmllbGQgPT4ge1xuICAgICAgY29uc3QgZm9ybUZpZWxkcyA9IGdldFNlcnZpY2UoJ2Zvcm1GaWVsZHMnKTtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgY29uZmlnXG4gICAgICB9ID0gZm9ybUZpZWxkcy5nZXQoZmllbGQudHlwZSk7XG4gICAgICByZXR1cm4gY29uZmlnLmtleWVkO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBlbnRyaWVzO1xufVxuZnVuY3Rpb24gS2V5JDIocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGVkaXRGaWVsZCxcbiAgICBmaWVsZCxcbiAgICBpZFxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IHBhdGhSZWdpc3RyeSA9IHVzZVNlcnZpY2UoJ3BhdGhSZWdpc3RyeScpO1xuICBjb25zdCBkZWJvdW5jZSA9IHVzZVNlcnZpY2UoJ2RlYm91bmNlJyk7XG4gIGNvbnN0IHBhdGggPSBbJ2tleSddO1xuICBjb25zdCBnZXRWYWx1ZSA9ICgpID0+IHtcbiAgICByZXR1cm4gZ2V0KGZpZWxkLCBwYXRoLCAnJyk7XG4gIH07XG4gIGNvbnN0IHNldFZhbHVlID0gKHZhbHVlLCBlcnJvcikgPT4ge1xuICAgIGlmIChlcnJvcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXR1cm4gZWRpdEZpZWxkKGZpZWxkLCBwYXRoLCB2YWx1ZSk7XG4gIH07XG4gIGNvbnN0IHZhbGlkYXRlID0gdXNlQ2FsbGJhY2sodmFsdWUgPT4ge1xuICAgIGlmICh2YWx1ZSA9PT0gZmllbGQua2V5KSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKCFpc1N0cmluZyh2YWx1ZSkgfHwgdmFsdWUubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gJ011c3Qgbm90IGJlIGVtcHR5Lic7XG4gICAgfVxuICAgIGlmICghaXNWYWxpZERvdFBhdGgodmFsdWUpKSB7XG4gICAgICByZXR1cm4gJ011c3QgYmUgYSB2YXJpYWJsZSBvciBhIGRvdCBzZXBhcmF0ZWQgcGF0aC4nO1xuICAgIH1cbiAgICBpZiAoaGFzSW50ZWdlclBhdGhTZWdtZW50KHZhbHVlKSkge1xuICAgICAgcmV0dXJuICdNdXN0IG5vdCBjb250YWluIG51bWVyaWNhbCBwYXRoIHNlZ21lbnRzLic7XG4gICAgfVxuICAgIGlmIChpc1Byb2hpYml0ZWRQYXRoKHZhbHVlKSkge1xuICAgICAgcmV0dXJuICdNdXN0IG5vdCBiZSBhIHByb2hpYml0ZWQgcGF0aC4nO1xuICAgIH1cbiAgICBjb25zdCByZXBsYWNlbWVudHMgPSB7XG4gICAgICBbZmllbGQuaWRdOiB2YWx1ZS5zcGxpdCgnLicpXG4gICAgfTtcbiAgICBjb25zdCBvbGRQYXRoID0gcGF0aFJlZ2lzdHJ5LmdldFZhbHVlUGF0aChmaWVsZCk7XG4gICAgY29uc3QgbmV3UGF0aCA9IHBhdGhSZWdpc3RyeS5nZXRWYWx1ZVBhdGgoZmllbGQsIHtcbiAgICAgIHJlcGxhY2VtZW50c1xuICAgIH0pO1xuXG4gICAgLy8gdW5jbGFpbSB0ZW1wb3JhcmlseSB0byBhdm9pZCBzZWxmLWNvbmZsaWN0c1xuICAgIHBhdGhSZWdpc3RyeS51bmNsYWltUGF0aChvbGRQYXRoKTtcbiAgICBjb25zdCBjYW5DbGFpbSA9IHBhdGhSZWdpc3RyeS5jYW5DbGFpbVBhdGgobmV3UGF0aCwge1xuICAgICAgaXNDbG9zZWQ6IHRydWUsXG4gICAgICBjbGFpbWVySWQ6IGZpZWxkLmlkXG4gICAgfSk7XG4gICAgcGF0aFJlZ2lzdHJ5LmNsYWltUGF0aChvbGRQYXRoLCB7XG4gICAgICBpc0Nsb3NlZDogdHJ1ZSxcbiAgICAgIGNsYWltZXJJZDogZmllbGQuaWRcbiAgICB9KTtcbiAgICByZXR1cm4gY2FuQ2xhaW0gPyBudWxsIDogJ011c3Qgbm90IGNvbmZsaWN0IHdpdGggb3RoZXIga2V5L3BhdGggYXNzaWdubWVudHMuJztcbiAgfSwgW2ZpZWxkLCBwYXRoUmVnaXN0cnldKTtcbiAgcmV0dXJuIFRleHRmaWVsZEVudHJ5KHtcbiAgICBkZWJvdW5jZSxcbiAgICBkZXNjcmlwdGlvbjogJ0JpbmRzIHRvIGEgZm9ybSB2YXJpYWJsZScsXG4gICAgZWxlbWVudDogZmllbGQsXG4gICAgZ2V0VmFsdWUsXG4gICAgaWQsXG4gICAgbGFiZWw6ICdLZXknLFxuICAgIHRvb2x0aXA6ICdVc2UgYSB1bmlxdWUgXCJrZXlcIiB0byBsaW5rIHRoZSBmb3JtIGVsZW1lbnQgYW5kIHRoZSByZWxhdGVkIGlucHV0L291dHB1dCBkYXRhLiBXaGVuIGRlYWxpbmcgd2l0aCBuZXN0ZWQgZGF0YSwgYnJlYWsgaXQgZG93biBpbiB0aGUgdXNlciB0YXNrXFwncyBpbnB1dCBtYXBwaW5nIGJlZm9yZSB1c2luZyBpdC4nLFxuICAgIHNldFZhbHVlLFxuICAgIHZhbGlkYXRlXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBQYXRoRW50cnkocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGVkaXRGaWVsZCxcbiAgICBmaWVsZCxcbiAgICBnZXRTZXJ2aWNlXG4gIH0gPSBwcm9wcztcbiAgY29uc3Qge1xuICAgIHR5cGVcbiAgfSA9IGZpZWxkO1xuICBjb25zdCBlbnRyaWVzID0gW107XG4gIGNvbnN0IGZvcm1GaWVsZERlZmluaXRpb24gPSBnZXRTZXJ2aWNlKCdmb3JtRmllbGRzJykuZ2V0KHR5cGUpO1xuICBpZiAoZm9ybUZpZWxkRGVmaW5pdGlvbiAmJiBmb3JtRmllbGREZWZpbml0aW9uLmNvbmZpZy5wYXRoZWQpIHtcbiAgICBlbnRyaWVzLnB1c2goe1xuICAgICAgaWQ6ICdwYXRoJyxcbiAgICAgIGNvbXBvbmVudDogUGF0aCxcbiAgICAgIGVkaXRGaWVsZDogZWRpdEZpZWxkLFxuICAgICAgZmllbGQ6IGZpZWxkLFxuICAgICAgaXNFZGl0ZWQ6IGlzRWRpdGVkXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIGVudHJpZXM7XG59XG5mdW5jdGlvbiBQYXRoKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBlZGl0RmllbGQsXG4gICAgZmllbGQsXG4gICAgaWRcbiAgfSA9IHByb3BzO1xuICBjb25zdCBkZWJvdW5jZSA9IHVzZVNlcnZpY2UoJ2RlYm91bmNlJyk7XG4gIGNvbnN0IHBhdGhSZWdpc3RyeSA9IHVzZVNlcnZpY2UoJ3BhdGhSZWdpc3RyeScpO1xuICBjb25zdCBmaWVsZENvbmZpZyA9IHVzZVNlcnZpY2UoJ2Zvcm1GaWVsZHMnKS5nZXQoZmllbGQudHlwZSkuY29uZmlnO1xuICBjb25zdCBpc1JlcGVhdGluZyA9IGZpZWxkQ29uZmlnLnJlcGVhdGFibGUgJiYgZmllbGQuaXNSZXBlYXRpbmc7XG4gIGNvbnN0IHBhdGggPSBbJ3BhdGgnXTtcbiAgY29uc3QgZ2V0VmFsdWUgPSAoKSA9PiB7XG4gICAgcmV0dXJuIGdldChmaWVsZCwgcGF0aCwgJycpO1xuICB9O1xuICBjb25zdCBzZXRWYWx1ZSA9ICh2YWx1ZSwgZXJyb3IpID0+IHtcbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmV0dXJuIGVkaXRGaWVsZChmaWVsZCwgcGF0aCwgdmFsdWUpO1xuICB9O1xuICBjb25zdCB2YWxpZGF0ZSA9IHVzZUNhbGxiYWNrKHZhbHVlID0+IHtcbiAgICBpZiAoIXZhbHVlICYmIGlzUmVwZWF0aW5nKSB7XG4gICAgICByZXR1cm4gJ011c3Qgbm90IGJlIGVtcHR5JztcbiAgICB9XG5cbiAgICAvLyBFYXJseSByZXR1cm4gZm9yIGVtcHR5IHZhbHVlIGluIG5vbi1yZXBlYXRpbmcgY2FzZXMgb3IgaWYgdGhlIGZpZWxkIHBhdGggaGFzbid0IGNoYW5nZWRcbiAgICBpZiAoIXZhbHVlICYmICFpc1JlcGVhdGluZyB8fCB2YWx1ZSA9PT0gZmllbGQucGF0aCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgZG90LXNlcGFyYXRlZCBwYXRoIGZvcm1hdFxuICAgIGlmICghaXNWYWxpZERvdFBhdGgodmFsdWUpKSB7XG4gICAgICBjb25zdCBtc2cgPSBpc1JlcGVhdGluZyA/ICdNdXN0IGJlIGEgdmFyaWFibGUgb3IgYSBkb3Qtc2VwYXJhdGVkIHBhdGgnIDogJ011c3QgYmUgZW1wdHksIGEgdmFyaWFibGUgb3IgYSBkb3Qtc2VwYXJhdGVkIHBhdGgnO1xuICAgICAgcmV0dXJuIG1zZztcbiAgICB9XG5cbiAgICAvLyBDaGVjayBmb3IgaW50ZWdlciBzZWdtZW50cyBpbiB0aGUgcGF0aFxuICAgIGlmIChoYXNJbnRlZ2VyUGF0aFNlZ21lbnQodmFsdWUpKSB7XG4gICAgICByZXR1cm4gJ011c3Qgbm90IGNvbnRhaW4gbnVtZXJpY2FsIHBhdGggc2VnbWVudHMuJztcbiAgICB9XG5cbiAgICAvLyBDaGVjayBmb3Igc3BlY2lhbCBwcm9oaWJpdGVkIHBhdGhzXG4gICAgaWYgKGlzUHJvaGliaXRlZFBhdGgodmFsdWUpKSB7XG4gICAgICByZXR1cm4gJ011c3Qgbm90IGJlIGEgcHJvaGliaXRlZCBwYXRoLic7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgZm9yIHBhdGggY29sbGlzaW9uc1xuICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICByZXBsYWNlbWVudHM6IHtcbiAgICAgICAgW2ZpZWxkLmlkXTogdmFsdWUuc3BsaXQoJy4nKVxuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgY2FuQ2xhaW0gPSBwYXRoUmVnaXN0cnkuZXhlY3V0ZVJlY3Vyc2l2ZWx5T25GaWVsZHMoZmllbGQsICh7XG4gICAgICBmaWVsZCxcbiAgICAgIGlzQ2xvc2VkLFxuICAgICAgaXNSZXBlYXRhYmxlXG4gICAgfSkgPT4ge1xuICAgICAgY29uc3QgcGF0aCA9IHBhdGhSZWdpc3RyeS5nZXRWYWx1ZVBhdGgoZmllbGQsIG9wdGlvbnMpO1xuICAgICAgcmV0dXJuIHBhdGhSZWdpc3RyeS5jYW5DbGFpbVBhdGgocGF0aCwge1xuICAgICAgICBpc0Nsb3NlZCxcbiAgICAgICAgaXNSZXBlYXRhYmxlLFxuICAgICAgICBjbGFpbWVySWQ6IGZpZWxkLmlkXG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBpZiAoIWNhbkNsYWltKSB7XG4gICAgICByZXR1cm4gJ011c3Qgbm90IGNhdXNlIHR3byBiaW5kaW5nIHBhdGhzIHRvIGNvbGxpZGUnO1xuICAgIH1cblxuICAgIC8vIElmIGFsbCBjaGVja3MgcGFzc1xuICAgIHJldHVybiBudWxsO1xuICB9LCBbZmllbGQsIGlzUmVwZWF0aW5nLCBwYXRoUmVnaXN0cnldKTtcbiAgY29uc3QgdG9vbHRpcCA9IGlzUmVwZWF0aW5nID8gJ1JvdXRlcyB0aGUgY2hpbGRyZW4gb2YgdGhpcyBjb21wb25lbnQgaW50byBhIGZvcm0gdmFyaWFibGUsIG1heSBiZSBsZWZ0IGVtcHR5IHRvIHJvdXRlIGF0IHRoZSByb290IGxldmVsLicgOiAnUm91dGVzIHRoZSBjaGlsZHJlbiBvZiB0aGlzIGNvbXBvbmVudCBpbnRvIGEgZm9ybSB2YXJpYWJsZS4nO1xuICByZXR1cm4gVGV4dGZpZWxkRW50cnkoe1xuICAgIGRlYm91bmNlLFxuICAgIGRlc2NyaXB0aW9uOiAnV2hlcmUgdGhlIGNoaWxkIHZhcmlhYmxlcyBvZiB0aGlzIGNvbXBvbmVudCBhcmUgcGF0aGVkIHRvLicsXG4gICAgZWxlbWVudDogZmllbGQsXG4gICAgZ2V0VmFsdWUsXG4gICAgaWQsXG4gICAgbGFiZWw6ICdQYXRoJyxcbiAgICB0b29sdGlwLFxuICAgIHNldFZhbHVlLFxuICAgIHZhbGlkYXRlXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBzaW1wbGVCb29sRW50cnlGYWN0b3J5KG9wdGlvbnMpIHtcbiAgY29uc3Qge1xuICAgIGlkLFxuICAgIGxhYmVsLFxuICAgIGRlc2NyaXB0aW9uLFxuICAgIHBhdGgsXG4gICAgcHJvcHMsXG4gICAgZ2V0VmFsdWUsXG4gICAgc2V0VmFsdWUsXG4gICAgaXNEZWZhdWx0VmlzaWJsZSxcbiAgICBpc1RydWVEZWZhdWx0ID0gZmFsc2VcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IHtcbiAgICBlZGl0RmllbGQsXG4gICAgZmllbGRcbiAgfSA9IHByb3BzO1xuICByZXR1cm4ge1xuICAgIGlkLFxuICAgIGxhYmVsLFxuICAgIHBhdGgsXG4gICAgZmllbGQsXG4gICAgZWRpdEZpZWxkLFxuICAgIGRlc2NyaXB0aW9uLFxuICAgIGNvbXBvbmVudDogU2ltcGxlQm9vbENvbXBvbmVudCxcbiAgICBpc0VkaXRlZDogaXNUcnVlRGVmYXVsdCA/IGlzVHJ1ZURlZmF1bHRUb2dnbGVTd2l0Y2hFbnRyeUVkaXRlZCA6IGlzRWRpdGVkJDcsXG4gICAgaXNEZWZhdWx0VmlzaWJsZSxcbiAgICBnZXRWYWx1ZSxcbiAgICBzZXRWYWx1ZVxuICB9O1xufVxuY29uc3QgU2ltcGxlQm9vbENvbXBvbmVudCA9IHByb3BzID0+IHtcbiAgY29uc3Qge1xuICAgIGlkLFxuICAgIGxhYmVsLFxuICAgIHBhdGgsXG4gICAgZmllbGQsXG4gICAgZWRpdEZpZWxkLFxuICAgIGdldFZhbHVlID0gKCkgPT4gZ2V0KGZpZWxkLCBwYXRoLCAnJyksXG4gICAgc2V0VmFsdWUgPSB2YWx1ZSA9PiBlZGl0RmllbGQoZmllbGQsIHBhdGgsIHZhbHVlIHx8IGZhbHNlKSxcbiAgICBkZXNjcmlwdGlvblxuICB9ID0gcHJvcHM7XG4gIHJldHVybiBUb2dnbGVTd2l0Y2hFbnRyeSh7XG4gICAgZWxlbWVudDogZmllbGQsXG4gICAgZ2V0VmFsdWUsXG4gICAgaWQsXG4gICAgbGFiZWwsXG4gICAgc2V0VmFsdWUsXG4gICAgaW5saW5lOiB0cnVlLFxuICAgIGRlc2NyaXB0aW9uXG4gIH0pO1xufTtcblxuZnVuY3Rpb24gc2ltcGxlU2VsZWN0RW50cnlGYWN0b3J5KG9wdGlvbnMpIHtcbiAgY29uc3Qge1xuICAgIGlkLFxuICAgIGxhYmVsLFxuICAgIHBhdGgsXG4gICAgcHJvcHMsXG4gICAgb3B0aW9uc0FycmF5XG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCB7XG4gICAgZWRpdEZpZWxkLFxuICAgIGZpZWxkXG4gIH0gPSBwcm9wcztcbiAgcmV0dXJuIHtcbiAgICBpZCxcbiAgICBsYWJlbCxcbiAgICBwYXRoLFxuICAgIGZpZWxkLFxuICAgIGVkaXRGaWVsZCxcbiAgICBvcHRpb25zQXJyYXksXG4gICAgY29tcG9uZW50OiBTaW1wbGVTZWxlY3RDb21wb25lbnQsXG4gICAgaXNFZGl0ZWQ6IGlzRWRpdGVkJDNcbiAgfTtcbn1cbmNvbnN0IFNpbXBsZVNlbGVjdENvbXBvbmVudCA9IHByb3BzID0+IHtcbiAgY29uc3Qge1xuICAgIGlkLFxuICAgIGxhYmVsLFxuICAgIHBhdGgsXG4gICAgZmllbGQsXG4gICAgZWRpdEZpZWxkLFxuICAgIG9wdGlvbnNBcnJheVxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IGdldFZhbHVlID0gKCkgPT4gZ2V0KGZpZWxkLCBwYXRoLCAnJyk7XG4gIGNvbnN0IHNldFZhbHVlID0gdmFsdWUgPT4gZWRpdEZpZWxkKGZpZWxkLCBwYXRoLCB2YWx1ZSk7XG4gIGNvbnN0IGdldE9wdGlvbnMgPSAoKSA9PiBvcHRpb25zQXJyYXk7XG4gIHJldHVybiBTZWxlY3RFbnRyeSh7XG4gICAgbGFiZWwsXG4gICAgZWxlbWVudDogZmllbGQsXG4gICAgZ2V0T3B0aW9ucyxcbiAgICBnZXRWYWx1ZSxcbiAgICBpZCxcbiAgICBzZXRWYWx1ZVxuICB9KTtcbn07XG5cbmZ1bmN0aW9uIHNpbXBsZVJhbmdlSW50ZWdlckVudHJ5RmFjdG9yeShvcHRpb25zKSB7XG4gIGNvbnN0IHtcbiAgICBpZCxcbiAgICBsYWJlbCxcbiAgICBwYXRoLFxuICAgIHByb3BzLFxuICAgIG1pbixcbiAgICBtYXhcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IHtcbiAgICBlZGl0RmllbGQsXG4gICAgZmllbGRcbiAgfSA9IHByb3BzO1xuICByZXR1cm4ge1xuICAgIGlkLFxuICAgIGxhYmVsLFxuICAgIHBhdGgsXG4gICAgZmllbGQsXG4gICAgZWRpdEZpZWxkLFxuICAgIG1pbixcbiAgICBtYXgsXG4gICAgY29tcG9uZW50OiBTaW1wbGVSYW5nZUludGVnZXJFbnRyeSxcbiAgICBpc0VkaXRlZDogaXNFZGl0ZWRcbiAgfTtcbn1cbmNvbnN0IFNpbXBsZVJhbmdlSW50ZWdlckVudHJ5ID0gcHJvcHMgPT4ge1xuICBjb25zdCB7XG4gICAgaWQsXG4gICAgbGFiZWwsXG4gICAgcGF0aCxcbiAgICBmaWVsZCxcbiAgICBlZGl0RmllbGQsXG4gICAgbWluID0gTnVtYmVyLk1JTl9TQUZFX0lOVEVHRVIsXG4gICAgbWF4ID0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVJcbiAgfSA9IHByb3BzO1xuICBjb25zdCBkZWJvdW5jZSA9IHVzZVNlcnZpY2UoJ2RlYm91bmNlJyk7XG4gIGNvbnN0IGdldFZhbHVlID0gKCkgPT4ge1xuICAgIGNvbnN0IHZhbHVlID0gZ2V0KGZpZWxkLCBwYXRoKTtcbiAgICBjb25zdCBpc1ZhbGlkID0gaXNWYWxpZE51bWJlcih2YWx1ZSkgJiYgTnVtYmVyLmlzSW50ZWdlcih2YWx1ZSk7XG4gICAgcmV0dXJuIGlzVmFsaWQgPyB2YWx1ZSA6IG51bGw7XG4gIH07XG4gIGNvbnN0IHNldFZhbHVlID0gKHZhbHVlLCBlcnJvcikgPT4ge1xuICAgIGlmIChlcnJvcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBlZGl0RmllbGQoZmllbGQsIHBhdGgsIE51bWJlcih2YWx1ZSkpO1xuICB9O1xuICBjb25zdCB2YWxpZGF0ZSA9IHVzZUNhbGxiYWNrKHZhbHVlID0+IHtcbiAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCB8fCB2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gJycpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFOdW1iZXIuaXNJbnRlZ2VyKE51bWJlcih2YWx1ZSkpKSB7XG4gICAgICByZXR1cm4gJ1Nob3VsZCBiZSBhbiBpbnRlZ2VyLic7XG4gICAgfVxuICAgIGlmIChCaWcodmFsdWUpLmNtcChtaW4pIDwgMCkge1xuICAgICAgcmV0dXJuIGBTaG91bGQgYmUgYXQgbGVhc3QgJHttaW59LmA7XG4gICAgfVxuICAgIGlmIChCaWcodmFsdWUpLmNtcChtYXgpID4gMCkge1xuICAgICAgcmV0dXJuIGBTaG91bGQgYmUgYXQgbW9zdCAke21heH0uYDtcbiAgICB9XG4gIH0sIFttaW4sIG1heF0pO1xuICByZXR1cm4gVGV4dGZpZWxkRW50cnkoe1xuICAgIGRlYm91bmNlLFxuICAgIGxhYmVsLFxuICAgIGVsZW1lbnQ6IGZpZWxkLFxuICAgIGdldFZhbHVlLFxuICAgIGlkLFxuICAgIHNldFZhbHVlLFxuICAgIHZhbGlkYXRlXG4gIH0pO1xufTtcblxuZnVuY3Rpb24gR3JvdXBBcHBlYXJhbmNlRW50cnkocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGZpZWxkXG4gIH0gPSBwcm9wcztcbiAgY29uc3Qge1xuICAgIHR5cGVcbiAgfSA9IGZpZWxkO1xuICBpZiAoIVsnZ3JvdXAnLCAnZHluYW1pY2xpc3QnXS5pbmNsdWRlcyh0eXBlKSkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICBjb25zdCBlbnRyaWVzID0gW3NpbXBsZUJvb2xFbnRyeUZhY3Rvcnkoe1xuICAgIGlkOiAnc2hvd091dGxpbmUnLFxuICAgIHBhdGg6IFsnc2hvd091dGxpbmUnXSxcbiAgICBsYWJlbDogJ1Nob3cgb3V0bGluZScsXG4gICAgaXNUcnVlRGVmYXVsdDogdHJ1ZSxcbiAgICBwcm9wc1xuICB9KV07XG4gIHJldHVybiBlbnRyaWVzO1xufVxuXG5mdW5jdGlvbiBMYWJlbEVudHJ5KHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBmaWVsZCxcbiAgICBlZGl0RmllbGRcbiAgfSA9IHByb3BzO1xuICBjb25zdCBlbnRyaWVzID0gW107XG4gIGVudHJpZXMucHVzaCh7XG4gICAgaWQ6ICdkYXRlLWxhYmVsJyxcbiAgICBjb21wb25lbnQ6IERhdGVMYWJlbCxcbiAgICBlZGl0RmllbGQsXG4gICAgZmllbGQsXG4gICAgaXNFZGl0ZWQ6IGlzRWRpdGVkJDUsXG4gICAgaXNEZWZhdWx0VmlzaWJsZTogZnVuY3Rpb24gKGZpZWxkKSB7XG4gICAgICByZXR1cm4gZmllbGQudHlwZSA9PT0gJ2RhdGV0aW1lJyAmJiAoZmllbGQuc3VidHlwZSA9PT0gREFURVRJTUVfU1VCVFlQRVMuREFURSB8fCBmaWVsZC5zdWJ0eXBlID09PSBEQVRFVElNRV9TVUJUWVBFUy5EQVRFVElNRSk7XG4gICAgfVxuICB9KTtcbiAgZW50cmllcy5wdXNoKHtcbiAgICBpZDogJ3RpbWUtbGFiZWwnLFxuICAgIGNvbXBvbmVudDogVGltZUxhYmVsLFxuICAgIGVkaXRGaWVsZCxcbiAgICBmaWVsZCxcbiAgICBpc0VkaXRlZDogaXNFZGl0ZWQkNSxcbiAgICBpc0RlZmF1bHRWaXNpYmxlOiBmdW5jdGlvbiAoZmllbGQpIHtcbiAgICAgIHJldHVybiBmaWVsZC50eXBlID09PSAnZGF0ZXRpbWUnICYmIChmaWVsZC5zdWJ0eXBlID09PSBEQVRFVElNRV9TVUJUWVBFUy5USU1FIHx8IGZpZWxkLnN1YnR5cGUgPT09IERBVEVUSU1FX1NVQlRZUEVTLkRBVEVUSU1FKTtcbiAgICB9XG4gIH0pO1xuICBjb25zdCBpc1NpbXBseUxhYmVsZWQgPSBmaWVsZCA9PiB7XG4gICAgcmV0dXJuIFsuLi5JTlBVVFMuZmlsdGVyKGlucHV0ID0+IGlucHV0ICE9PSAnZGF0ZXRpbWUnKSwgLi4uTEFCRUxFRF9OT05fSU5QVVRTXS5pbmNsdWRlcyhmaWVsZC50eXBlKTtcbiAgfTtcbiAgZW50cmllcy5wdXNoKHtcbiAgICBpZDogJ2xhYmVsJyxcbiAgICBjb21wb25lbnQ6IExhYmVsJDIsXG4gICAgZWRpdEZpZWxkLFxuICAgIGZpZWxkLFxuICAgIGlzRWRpdGVkOiBpc0VkaXRlZCQ1LFxuICAgIGlzRGVmYXVsdFZpc2libGU6IGlzU2ltcGx5TGFiZWxlZFxuICB9KTtcbiAgcmV0dXJuIGVudHJpZXM7XG59XG5mdW5jdGlvbiBMYWJlbCQyKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBlZGl0RmllbGQsXG4gICAgZmllbGQsXG4gICAgaWRcbiAgfSA9IHByb3BzO1xuICBjb25zdCBkZWJvdW5jZSA9IHVzZVNlcnZpY2UoJ2RlYm91bmNlJyk7XG4gIGNvbnN0IHZhcmlhYmxlcyA9IHVzZVZhcmlhYmxlcygpLm1hcChuYW1lID0+ICh7XG4gICAgbmFtZVxuICB9KSk7XG4gIGNvbnN0IHBhdGggPSBbJ2xhYmVsJ107XG4gIGNvbnN0IGdldFZhbHVlID0gKCkgPT4ge1xuICAgIHJldHVybiBnZXQoZmllbGQsIHBhdGgsICcnKTtcbiAgfTtcbiAgY29uc3Qgc2V0VmFsdWUgPSB2YWx1ZSA9PiB7XG4gICAgcmV0dXJuIGVkaXRGaWVsZChmaWVsZCwgcGF0aCwgdmFsdWUgfHwgJycpO1xuICB9O1xuICBjb25zdCBsYWJlbCA9IGdldExhYmVsVGV4dChmaWVsZC50eXBlKTtcbiAgcmV0dXJuIEZlZWxUZW1wbGF0aW5nRW50cnkoe1xuICAgIGRlYm91bmNlLFxuICAgIGVsZW1lbnQ6IGZpZWxkLFxuICAgIGdldFZhbHVlLFxuICAgIGlkLFxuICAgIGxhYmVsLFxuICAgIHNpbmdsZUxpbmU6IHRydWUsXG4gICAgc2V0VmFsdWUsXG4gICAgdmFyaWFibGVzXG4gIH0pO1xufVxuZnVuY3Rpb24gRGF0ZUxhYmVsKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBlZGl0RmllbGQsXG4gICAgZmllbGQsXG4gICAgaWRcbiAgfSA9IHByb3BzO1xuICBjb25zdCBkZWJvdW5jZSA9IHVzZVNlcnZpY2UoJ2RlYm91bmNlJyk7XG4gIGNvbnN0IHZhcmlhYmxlcyA9IHVzZVZhcmlhYmxlcygpLm1hcChuYW1lID0+ICh7XG4gICAgbmFtZVxuICB9KSk7XG4gIGNvbnN0IHBhdGggPSBEQVRFX0xBQkVMX1BBVEg7XG4gIGNvbnN0IGdldFZhbHVlID0gKCkgPT4ge1xuICAgIHJldHVybiBnZXQoZmllbGQsIHBhdGgsICcnKTtcbiAgfTtcbiAgY29uc3Qgc2V0VmFsdWUgPSB2YWx1ZSA9PiB7XG4gICAgcmV0dXJuIGVkaXRGaWVsZChmaWVsZCwgcGF0aCwgdmFsdWUgfHwgJycpO1xuICB9O1xuICByZXR1cm4gRmVlbFRlbXBsYXRpbmdFbnRyeSh7XG4gICAgZGVib3VuY2UsXG4gICAgZWxlbWVudDogZmllbGQsXG4gICAgZ2V0VmFsdWUsXG4gICAgaWQsXG4gICAgbGFiZWw6ICdEYXRlIGxhYmVsJyxcbiAgICBzaW5nbGVMaW5lOiB0cnVlLFxuICAgIHNldFZhbHVlLFxuICAgIHZhcmlhYmxlc1xuICB9KTtcbn1cbmZ1bmN0aW9uIFRpbWVMYWJlbChwcm9wcykge1xuICBjb25zdCB7XG4gICAgZWRpdEZpZWxkLFxuICAgIGZpZWxkLFxuICAgIGlkXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgZGVib3VuY2UgPSB1c2VTZXJ2aWNlKCdkZWJvdW5jZScpO1xuICBjb25zdCB2YXJpYWJsZXMgPSB1c2VWYXJpYWJsZXMoKS5tYXAobmFtZSA9PiAoe1xuICAgIG5hbWVcbiAgfSkpO1xuICBjb25zdCBwYXRoID0gVElNRV9MQUJFTF9QQVRIO1xuICBjb25zdCBnZXRWYWx1ZSA9ICgpID0+IHtcbiAgICByZXR1cm4gZ2V0KGZpZWxkLCBwYXRoLCAnJyk7XG4gIH07XG4gIGNvbnN0IHNldFZhbHVlID0gdmFsdWUgPT4ge1xuICAgIHJldHVybiBlZGl0RmllbGQoZmllbGQsIHBhdGgsIHZhbHVlIHx8ICcnKTtcbiAgfTtcbiAgcmV0dXJuIEZlZWxUZW1wbGF0aW5nRW50cnkoe1xuICAgIGRlYm91bmNlLFxuICAgIGVsZW1lbnQ6IGZpZWxkLFxuICAgIGdldFZhbHVlLFxuICAgIGlkLFxuICAgIGxhYmVsOiAnVGltZSBsYWJlbCcsXG4gICAgc2luZ2xlTGluZTogdHJ1ZSxcbiAgICBzZXRWYWx1ZSxcbiAgICB2YXJpYWJsZXNcbiAgfSk7XG59XG5cbi8vIGhlbHBlcnMgLy8vLy8vLy8vL1xuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiBnZXRMYWJlbFRleHQodHlwZSkge1xuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlICdncm91cCc6XG4gICAgY2FzZSAnZHluYW1pY2xpc3QnOlxuICAgICAgcmV0dXJuICdHcm91cCBsYWJlbCc7XG4gICAgY2FzZSAndGFibGUnOlxuICAgICAgcmV0dXJuICdUYWJsZSBsYWJlbCc7XG4gICAgY2FzZSAnaWZyYW1lJzpcbiAgICBjYXNlICdkb2N1bWVudFByZXZpZXcnOlxuICAgICAgcmV0dXJuICdUaXRsZSc7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiAnRmllbGQgbGFiZWwnO1xuICB9XG59XG5cbmZ1bmN0aW9uIEhlaWdodEVudHJ5KHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBlZGl0RmllbGQsXG4gICAgZmllbGQsXG4gICAgaWQsXG4gICAgZGVzY3JpcHRpb24sXG4gICAgaXNEZWZhdWx0VmlzaWJsZSxcbiAgICBkZWZhdWx0VmFsdWVcbiAgfSA9IHByb3BzO1xuICBjb25zdCBlbnRyaWVzID0gW107XG4gIGVudHJpZXMucHVzaCh7XG4gICAgaWQ6IGlkICsgJy1oZWlnaHQnLFxuICAgIGNvbXBvbmVudDogSGVpZ2h0LFxuICAgIGRlc2NyaXB0aW9uLFxuICAgIGlzRWRpdGVkOiBpc0VkaXRlZCQ2LFxuICAgIGVkaXRGaWVsZCxcbiAgICBmaWVsZCxcbiAgICBkZWZhdWx0VmFsdWUsXG4gICAgaXNEZWZhdWx0VmlzaWJsZTogZmllbGQgPT4ge1xuICAgICAgaWYgKGlzRnVuY3Rpb24oaXNEZWZhdWx0VmlzaWJsZSkpIHtcbiAgICAgICAgcmV0dXJuIGlzRGVmYXVsdFZpc2libGUoZmllbGQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZpZWxkLnR5cGUgPT09ICdzcGFjZXInO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBlbnRyaWVzO1xufVxuZnVuY3Rpb24gSGVpZ2h0KHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBkZXNjcmlwdGlvbixcbiAgICBlZGl0RmllbGQsXG4gICAgZmllbGQsXG4gICAgaWRcbiAgfSA9IHByb3BzO1xuICBjb25zdCBkZWJvdW5jZSA9IHVzZVNlcnZpY2UoJ2RlYm91bmNlJyk7XG4gIGNvbnN0IGdldFZhbHVlID0gZSA9PiBnZXQoZmllbGQsIFsnaGVpZ2h0J10sIG51bGwpO1xuICBjb25zdCBzZXRWYWx1ZSA9ICh2YWx1ZSwgZXJyb3IpID0+IHtcbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZWRpdEZpZWxkKGZpZWxkLCBbJ2hlaWdodCddLCB2YWx1ZSk7XG4gIH07XG4gIHJldHVybiBOdW1iZXJGaWVsZEVudHJ5KHtcbiAgICBkZWJvdW5jZSxcbiAgICBkZXNjcmlwdGlvbixcbiAgICBsYWJlbDogJ0hlaWdodCcsXG4gICAgZWxlbWVudDogZmllbGQsXG4gICAgaWQsXG4gICAgZ2V0VmFsdWUsXG4gICAgc2V0VmFsdWUsXG4gICAgdmFsaWRhdGU6IHZhbGlkYXRlJDlcbiAgfSk7XG59XG5cbi8vIGhlbHBlcnMgLy8vLy8vLy8vL1xuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfHZvaWR9IHZhbHVlXG4gKiBAcmV0dXJucyB7c3RyaW5nfG51bGx9XG4gKi9cbmNvbnN0IHZhbGlkYXRlJDkgPSB2YWx1ZSA9PiB7XG4gIGlmICh0eXBlb2YgdmFsdWUgIT09ICdudW1iZXInKSB7XG4gICAgcmV0dXJuICdBIG51bWJlciBpcyByZXF1aXJlZC4nO1xuICB9XG4gIGlmICghTnVtYmVyLmlzSW50ZWdlcih2YWx1ZSkpIHtcbiAgICByZXR1cm4gJ1Nob3VsZCBiZSBhbiBpbnRlZ2VyLic7XG4gIH1cbiAgaWYgKHZhbHVlIDwgMSkge1xuICAgIHJldHVybiAnU2hvdWxkIGJlIGdyZWF0ZXIgdGhhbiB6ZXJvLic7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIElGcmFtZUhlaWdodEVudHJ5KHByb3BzKSB7XG4gIHJldHVybiBbLi4uSGVpZ2h0RW50cnkoe1xuICAgIC4uLnByb3BzLFxuICAgIGRlc2NyaXB0aW9uOiAnSGVpZ2h0IG9mIHRoZSBjb250YWluZXIgaW4gcGl4ZWxzLicsXG4gICAgaXNEZWZhdWx0VmlzaWJsZTogZmllbGQgPT4gZmllbGQudHlwZSA9PT0gJ2lmcmFtZSdcbiAgfSldO1xufVxuXG5jb25zdCBIVFRQU19QQVRURVJOID0gL14oaHR0cHMpOlxcL1xcLyovaTtcbmZ1bmN0aW9uIElGcmFtZVVybEVudHJ5KHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBlZGl0RmllbGQsXG4gICAgZmllbGRcbiAgfSA9IHByb3BzO1xuICBjb25zdCBlbnRyaWVzID0gW107XG4gIGVudHJpZXMucHVzaCh7XG4gICAgaWQ6ICd1cmwnLFxuICAgIGNvbXBvbmVudDogVXJsLFxuICAgIGVkaXRGaWVsZDogZWRpdEZpZWxkLFxuICAgIGZpZWxkOiBmaWVsZCxcbiAgICBpc0VkaXRlZDogaXNFZGl0ZWQkNSxcbiAgICBpc0RlZmF1bHRWaXNpYmxlOiBmaWVsZCA9PiBmaWVsZC50eXBlID09PSAnaWZyYW1lJ1xuICB9KTtcbiAgcmV0dXJuIGVudHJpZXM7XG59XG5mdW5jdGlvbiBVcmwocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGVkaXRGaWVsZCxcbiAgICBmaWVsZCxcbiAgICBpZFxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IGRlYm91bmNlID0gdXNlU2VydmljZSgnZGVib3VuY2UnKTtcbiAgY29uc3QgdmFyaWFibGVzID0gdXNlVmFyaWFibGVzKCkubWFwKG5hbWUgPT4gKHtcbiAgICBuYW1lXG4gIH0pKTtcbiAgY29uc3QgcGF0aCA9IFsndXJsJ107XG4gIGNvbnN0IGdldFZhbHVlID0gKCkgPT4ge1xuICAgIHJldHVybiBnZXQoZmllbGQsIHBhdGgsICcnKTtcbiAgfTtcbiAgY29uc3Qgc2V0VmFsdWUgPSB2YWx1ZSA9PiB7XG4gICAgcmV0dXJuIGVkaXRGaWVsZChmaWVsZCwgcGF0aCwgdmFsdWUpO1xuICB9O1xuICByZXR1cm4gRmVlbFRlbXBsYXRpbmdFbnRyeSh7XG4gICAgZGVib3VuY2UsXG4gICAgZWxlbWVudDogZmllbGQsXG4gICAgZmVlbDogJ29wdGlvbmFsJyxcbiAgICBnZXRWYWx1ZSxcbiAgICBpZCxcbiAgICBsYWJlbDogJ1VSTCcsXG4gICAgc2V0VmFsdWUsXG4gICAgc2luZ2xlTGluZTogdHJ1ZSxcbiAgICB0b29sdGlwOiBnZXRUb29sdGlwJDEoKSxcbiAgICB2YWxpZGF0ZTogdmFsaWRhdGUkOCxcbiAgICB2YXJpYWJsZXNcbiAgfSk7XG59XG5cbi8vIGhlbHBlciAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbmZ1bmN0aW9uIGdldFRvb2x0aXAkMSgpIHtcbiAgcmV0dXJuIGpzeHMoRnJhZ21lbnQkMSwge1xuICAgIGNoaWxkcmVuOiBbanN4KFwicFwiLCB7XG4gICAgICBjaGlsZHJlbjogXCJFbnRlciBhIEhUVFBTIFVSTCB0byBhIHNvdXJjZSBvciBwb3B1bGF0ZSBpdCBkeW5hbWljYWxseSB2aWEgYSB0ZW1wbGF0ZSBvciBhbiBleHByZXNzaW9uIChlLmcuLCB0byBwYXNzIGEgdmFsdWUgZnJvbSB0aGUgdmFyaWFibGUpLlwiXG4gICAgfSksIGpzeChcInBcIiwge1xuICAgICAgY2hpbGRyZW46IFwiUGxlYXNlIG1ha2Ugc3VyZSB0aGF0IHRoZSBVUkwgaXMgc2FmZSBhcyBpdCBtaWdodCBpbXBvc2Ugc2VjdXJpdHkgcmlza3MuXCJcbiAgICB9KSwganN4cyhcInBcIiwge1xuICAgICAgY2hpbGRyZW46IFtcIk5vdCBhbGwgZXh0ZXJuYWwgc291cmNlcyBjYW4gYmUgZGlzcGxheWVkIGluIHRoZSBpRnJhbWUuIFJlYWQgbW9yZSBhYm91dCBpdCBpbiB0aGVcIiwgJyAnLCBqc3goXCJhXCIsIHtcbiAgICAgICAgdGFyZ2V0OiBcIl9ibGFua1wiLFxuICAgICAgICBocmVmOiBcImh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUVFAvSGVhZGVycy9YLUZyYW1lLU9wdGlvbnNcIixcbiAgICAgICAgcmVsOiBcIm5vcmVmZXJyZXJcIixcbiAgICAgICAgY2hpbGRyZW46IFwiWC1GUkFNRS1PUFRJT05TIGRvY3VtZW50YXRpb25cIlxuICAgICAgfSksIFwiLlwiXVxuICAgIH0pXVxuICB9KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ3x2b2lkfSB2YWx1ZVxuICogQHJldHVybnMge3N0cmluZ3xudWxsfVxuICovXG5jb25zdCB2YWxpZGF0ZSQ4ID0gdmFsdWUgPT4ge1xuICBpZiAoIXZhbHVlIHx8IHZhbHVlLnN0YXJ0c1dpdGgoJz0nKSkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoIUhUVFBTX1BBVFRFUk4udGVzdCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gJ0ZvciBzZWN1cml0eSByZWFzb25zIHRoZSBVUkwgbXVzdCBzdGFydCB3aXRoIFwiaHR0cHNcIi4nO1xuICB9XG59O1xuXG5mdW5jdGlvbiBJbWFnZVNvdXJjZUVudHJ5KHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBlZGl0RmllbGQsXG4gICAgZmllbGRcbiAgfSA9IHByb3BzO1xuICBjb25zdCBlbnRyaWVzID0gW107XG4gIGVudHJpZXMucHVzaCh7XG4gICAgaWQ6ICdzb3VyY2UnLFxuICAgIGNvbXBvbmVudDogU291cmNlJDEsXG4gICAgZWRpdEZpZWxkOiBlZGl0RmllbGQsXG4gICAgZmllbGQ6IGZpZWxkLFxuICAgIGlzRWRpdGVkOiBpc0VkaXRlZCQ1LFxuICAgIGlzRGVmYXVsdFZpc2libGU6IGZpZWxkID0+IGZpZWxkLnR5cGUgPT09ICdpbWFnZSdcbiAgfSk7XG4gIHJldHVybiBlbnRyaWVzO1xufVxuZnVuY3Rpb24gU291cmNlJDEocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGVkaXRGaWVsZCxcbiAgICBmaWVsZCxcbiAgICBpZFxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IGRlYm91bmNlID0gdXNlU2VydmljZSgnZGVib3VuY2UnKTtcbiAgY29uc3QgdmFyaWFibGVzID0gdXNlVmFyaWFibGVzKCkubWFwKG5hbWUgPT4gKHtcbiAgICBuYW1lXG4gIH0pKTtcbiAgY29uc3QgcGF0aCA9IFsnc291cmNlJ107XG4gIGNvbnN0IGdldFZhbHVlID0gKCkgPT4ge1xuICAgIHJldHVybiBnZXQoZmllbGQsIHBhdGgsICcnKTtcbiAgfTtcbiAgY29uc3Qgc2V0VmFsdWUgPSB2YWx1ZSA9PiB7XG4gICAgcmV0dXJuIGVkaXRGaWVsZChmaWVsZCwgcGF0aCwgdmFsdWUpO1xuICB9O1xuICByZXR1cm4gRmVlbFRlbXBsYXRpbmdFbnRyeSh7XG4gICAgZGVib3VuY2UsXG4gICAgZGVzY3JpcHRpb246ICdFeHByZXNzaW9uIG9yIHN0YXRpYyB2YWx1ZSAobGluay9kYXRhIFVSSSknLFxuICAgIGVsZW1lbnQ6IGZpZWxkLFxuICAgIGZlZWw6ICdvcHRpb25hbCcsXG4gICAgZ2V0VmFsdWUsXG4gICAgaWQsXG4gICAgbGFiZWw6ICdJbWFnZSBzb3VyY2UnLFxuICAgIHRvb2x0aXA6ICdMaW5rIHJlZmVycmluZyB0byBhIGhvc3RlZCBpbWFnZSwgb3IgdXNlIGEgZGF0YSBVUkkgZGlyZWN0bHkgdG8gZW1iZWQgaW1hZ2UgZGF0YSBpbnRvIHRoZSBmb3JtLicsXG4gICAgc2V0VmFsdWUsXG4gICAgc2luZ2xlTGluZTogdHJ1ZSxcbiAgICB2YXJpYWJsZXNcbiAgfSk7XG59XG5cbmNvbnN0IGlzVGV4dEVkaXRlZCA9IGlzRWRpdGVkRnJvbURlZmF1bHRGYWN0b3J5KFRFWFRfVklFV19ERUZBVUxUX1RFWFQsIGZhbHNlKTtcbmZ1bmN0aW9uIFRleHRFbnRyeShwcm9wcykge1xuICBjb25zdCB7XG4gICAgZWRpdEZpZWxkLFxuICAgIGZpZWxkXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgZW50cmllcyA9IFt7XG4gICAgaWQ6ICd0ZXh0JyxcbiAgICBjb21wb25lbnQ6IFRleHQsXG4gICAgZWRpdEZpZWxkOiBlZGl0RmllbGQsXG4gICAgZmllbGQ6IGZpZWxkLFxuICAgIGlzRWRpdGVkOiBpc1RleHRFZGl0ZWQsXG4gICAgaXNEZWZhdWx0VmlzaWJsZTogZmllbGQgPT4gZmllbGQudHlwZSA9PT0gJ3RleHQnXG4gIH1dO1xuICByZXR1cm4gZW50cmllcztcbn1cbmZ1bmN0aW9uIFRleHQocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGVkaXRGaWVsZCxcbiAgICBmaWVsZCxcbiAgICBpZFxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IGRlYm91bmNlID0gdXNlU2VydmljZSgnZGVib3VuY2UnKTtcbiAgY29uc3QgdmFyaWFibGVzID0gdXNlVmFyaWFibGVzKCkubWFwKG5hbWUgPT4gKHtcbiAgICBuYW1lXG4gIH0pKTtcbiAgY29uc3QgcGF0aCA9IFsndGV4dCddO1xuICBjb25zdCBnZXRWYWx1ZSA9ICgpID0+IHtcbiAgICByZXR1cm4gZ2V0KGZpZWxkLCBwYXRoLCAnJyk7XG4gIH07XG4gIGNvbnN0IHNldFZhbHVlID0gdmFsdWUgPT4ge1xuICAgIHJldHVybiBlZGl0RmllbGQoZmllbGQsIHBhdGgsIHZhbHVlIHx8ICcnKTtcbiAgfTtcbiAgcmV0dXJuIEZlZWxUZW1wbGF0aW5nRW50cnkoe1xuICAgIGRlYm91bmNlLFxuICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbiQzLFxuICAgIGVsZW1lbnQ6IGZpZWxkLFxuICAgIGdldFZhbHVlLFxuICAgIGlkLFxuICAgIGxhYmVsOiAnVGV4dCcsXG4gICAgaG9zdExhbmd1YWdlOiAnbWFya2Rvd24nLFxuICAgIHNldFZhbHVlLFxuICAgIHZhcmlhYmxlc1xuICB9KTtcbn1cbmNvbnN0IGRlc2NyaXB0aW9uJDMgPSBqc3hzKEZyYWdtZW50JDEsIHtcbiAgY2hpbGRyZW46IFtcIlN1cHBvcnRzIG1hcmtkb3duIGFuZCB0ZW1wbGF0aW5nLlwiLCAnICcsIGpzeChcImFcIiwge1xuICAgIGhyZWY6IFwiaHR0cHM6Ly9kb2NzLmNhbXVuZGEuaW8vZG9jcy9jb21wb25lbnRzL21vZGVsZXIvZm9ybXMvZm9ybS1lbGVtZW50LWxpYnJhcnkvZm9ybXMtZWxlbWVudC1saWJyYXJ5LXRleHQvXCIsXG4gICAgdGFyZ2V0OiBcIl9ibGFua1wiLFxuICAgIHJlbDogXCJub3JlZmVycmVyXCIsXG4gICAgY2hpbGRyZW46IFwiTGVhcm4gbW9yZVwiXG4gIH0pXVxufSk7XG5cbmZ1bmN0aW9uIEh0bWxFbnRyeShwcm9wcykge1xuICBjb25zdCB7XG4gICAgZWRpdEZpZWxkLFxuICAgIGZpZWxkXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgZW50cmllcyA9IFt7XG4gICAgaWQ6ICdjb250ZW50JyxcbiAgICBjb21wb25lbnQ6IENvbnRlbnQsXG4gICAgZWRpdEZpZWxkOiBlZGl0RmllbGQsXG4gICAgZmllbGQ6IGZpZWxkLFxuICAgIGlzRWRpdGVkOiBpc0VkaXRlZCQ1LFxuICAgIGlzRGVmYXVsdFZpc2libGU6IGZpZWxkID0+IGZpZWxkLnR5cGUgPT09ICdodG1sJ1xuICB9XTtcbiAgcmV0dXJuIGVudHJpZXM7XG59XG5mdW5jdGlvbiBDb250ZW50KHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBlZGl0RmllbGQsXG4gICAgZmllbGQsXG4gICAgaWRcbiAgfSA9IHByb3BzO1xuICBjb25zdCBkZWJvdW5jZSA9IHVzZVNlcnZpY2UoJ2RlYm91bmNlJyk7XG4gIGNvbnN0IHZhcmlhYmxlcyA9IHVzZVZhcmlhYmxlcygpLm1hcChuYW1lID0+ICh7XG4gICAgbmFtZVxuICB9KSk7XG4gIGNvbnN0IHBhdGggPSBbJ2NvbnRlbnQnXTtcbiAgY29uc3QgZ2V0VmFsdWUgPSAoKSA9PiB7XG4gICAgcmV0dXJuIGdldChmaWVsZCwgcGF0aCwgJycpO1xuICB9O1xuICBjb25zdCBzZXRWYWx1ZSA9IHZhbHVlID0+IHtcbiAgICByZXR1cm4gZWRpdEZpZWxkKGZpZWxkLCBwYXRoLCB2YWx1ZSB8fCAnJyk7XG4gIH07XG4gIHJldHVybiBGZWVsVGVtcGxhdGluZ0VudHJ5KHtcbiAgICBkZWJvdW5jZSxcbiAgICBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb24kMixcbiAgICBlbGVtZW50OiBmaWVsZCxcbiAgICBnZXRWYWx1ZSxcbiAgICBpZCxcbiAgICBsYWJlbDogJ0NvbnRlbnQnLFxuICAgIGhvc3RMYW5ndWFnZTogJ2h0bWwnLFxuICAgIHZhbGlkYXRlOiB2YWxpZGF0ZSQ3LFxuICAgIHNldFZhbHVlLFxuICAgIHZhcmlhYmxlc1xuICB9KTtcbn1cblxuLy8gaGVscGVycyAvLy8vLy8vLy8vXG5cbmNvbnN0IGRlc2NyaXB0aW9uJDIgPSBqc3hzKEZyYWdtZW50JDEsIHtcbiAgY2hpbGRyZW46IFtcIlN1cHBvcnRzIEhUTUwsIHN0eWxpbmcsIGFuZCB0ZW1wbGF0aW5nLiBTdHlsZXMgYXJlIGF1dG9tYXRpY2FsbHkgc2NvcGVkIHRvIHRoZSBIVE1MIGNvbXBvbmVudC5cIiwgJyAnLCBqc3goXCJhXCIsIHtcbiAgICBocmVmOiBcImh0dHBzOi8vZG9jcy5jYW11bmRhLmlvL2RvY3MvY29tcG9uZW50cy9tb2RlbGVyL2Zvcm1zL2Zvcm0tZWxlbWVudC1saWJyYXJ5L2Zvcm1zLWVsZW1lbnQtbGlicmFyeS1odG1sL1wiLFxuICAgIHRhcmdldDogXCJfYmxhbmtcIixcbiAgICByZWw6IFwibm9yZWZlcnJlclwiLFxuICAgIGNoaWxkcmVuOiBcIkxlYXJuIG1vcmVcIlxuICB9KV1cbn0pO1xuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfHZvaWR9IHZhbHVlXG4gKiBAcmV0dXJucyB7c3RyaW5nfG51bGx9XG4gKi9cbmNvbnN0IHZhbGlkYXRlJDcgPSB2YWx1ZSA9PiB7XG4gIC8vIGFsbG93IGVtcHR5IHN0YXRlXG4gIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnIHx8IHZhbHVlID09PSAnJykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLy8gYWxsb3cgZXhwcmVzc2lvbnNcbiAgaWYgKHZhbHVlLnN0YXJ0c1dpdGgoJz0nKSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59O1xuXG5mdW5jdGlvbiBOdW1iZXJFbnRyaWVzKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBlZGl0RmllbGQsXG4gICAgZmllbGQsXG4gICAgaWRcbiAgfSA9IHByb3BzO1xuICBjb25zdCBlbnRyaWVzID0gW107XG4gIGVudHJpZXMucHVzaCh7XG4gICAgaWQ6IGlkICsgJy1kZWNpbWFsRGlnaXRzJyxcbiAgICBjb21wb25lbnQ6IE51bWJlckRlY2ltYWxEaWdpdHMsXG4gICAgaXNFZGl0ZWQ6IGlzRWRpdGVkJDYsXG4gICAgZWRpdEZpZWxkLFxuICAgIGZpZWxkLFxuICAgIGlzRGVmYXVsdFZpc2libGU6IGZpZWxkID0+IGZpZWxkLnR5cGUgPT09ICdudW1iZXInXG4gIH0pO1xuICBlbnRyaWVzLnB1c2goe1xuICAgIGlkOiBpZCArICctc3RlcCcsXG4gICAgY29tcG9uZW50OiBOdW1iZXJBcnJvd1N0ZXAsXG4gICAgaXNFZGl0ZWQ6IGlzRWRpdGVkLFxuICAgIGVkaXRGaWVsZCxcbiAgICBmaWVsZCxcbiAgICBpc0RlZmF1bHRWaXNpYmxlOiBmaWVsZCA9PiBmaWVsZC50eXBlID09PSAnbnVtYmVyJ1xuICB9KTtcbiAgcmV0dXJuIGVudHJpZXM7XG59XG5mdW5jdGlvbiBOdW1iZXJEZWNpbWFsRGlnaXRzKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBlZGl0RmllbGQsXG4gICAgZmllbGQsXG4gICAgaWRcbiAgfSA9IHByb3BzO1xuICBjb25zdCBkZWJvdW5jZSA9IHVzZVNlcnZpY2UoJ2RlYm91bmNlJyk7XG4gIGNvbnN0IGdldFZhbHVlID0gZSA9PiBnZXQoZmllbGQsIFsnZGVjaW1hbERpZ2l0cyddKTtcbiAgY29uc3Qgc2V0VmFsdWUgPSAodmFsdWUsIGVycm9yKSA9PiB7XG4gICAgaWYgKGVycm9yKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGVkaXRGaWVsZChmaWVsZCwgWydkZWNpbWFsRGlnaXRzJ10sIHZhbHVlKTtcbiAgfTtcbiAgcmV0dXJuIE51bWJlckZpZWxkRW50cnkoe1xuICAgIGRlYm91bmNlLFxuICAgIGxhYmVsOiAnRGVjaW1hbCBkaWdpdHMnLFxuICAgIGVsZW1lbnQ6IGZpZWxkLFxuICAgIHN0ZXA6ICdhbnknLFxuICAgIGdldFZhbHVlLFxuICAgIGlkLFxuICAgIHNldFZhbHVlLFxuICAgIHZhbGlkYXRlOiB2YWxpZGF0ZU51bWJlckVudHJpZXNcbiAgfSk7XG59XG5mdW5jdGlvbiBOdW1iZXJBcnJvd1N0ZXAocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGVkaXRGaWVsZCxcbiAgICBmaWVsZCxcbiAgICBpZFxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IHtcbiAgICBkZWNpbWFsRGlnaXRzXG4gIH0gPSBmaWVsZDtcbiAgY29uc3QgZGVib3VuY2UgPSB1c2VTZXJ2aWNlKCdkZWJvdW5jZScpO1xuICBjb25zdCBnZXRWYWx1ZSA9IGUgPT4ge1xuICAgIGxldCB2YWx1ZSA9IGdldChmaWVsZCwgWydpbmNyZW1lbnQnXSk7XG4gICAgaWYgKCFpc1ZhbGlkTnVtYmVyKHZhbHVlKSkgcmV0dXJuIG51bGw7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9O1xuICBjb25zdCBjbGVhckxlYWRpbmdaZXJvZXMgPSB2YWx1ZSA9PiB7XG4gICAgaWYgKCF2YWx1ZSkgcmV0dXJuIHZhbHVlO1xuICAgIGNvbnN0IHRyaW1tZWQgPSB2YWx1ZS5yZXBsYWNlKC9eMCsvZywgJycpO1xuICAgIHJldHVybiAodHJpbW1lZC5zdGFydHNXaXRoKCcuJykgPyAnMCcgOiAnJykgKyB0cmltbWVkO1xuICB9O1xuICBjb25zdCBzZXRWYWx1ZSA9ICh2YWx1ZSwgZXJyb3IpID0+IHtcbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZWRpdEZpZWxkKGZpZWxkLCBbJ2luY3JlbWVudCddLCBjbGVhckxlYWRpbmdaZXJvZXModmFsdWUpKTtcbiAgfTtcbiAgY29uc3QgZGVjaW1hbERpZ2l0c1NldCA9IGRlY2ltYWxEaWdpdHMgfHwgZGVjaW1hbERpZ2l0cyA9PT0gMDtcbiAgY29uc3QgdmFsaWRhdGUgPSB1c2VDYWxsYmFjayh2YWx1ZSA9PiB7XG4gICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQgfHwgdmFsdWUgPT09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFpc1ZhbGlkTnVtYmVyKHZhbHVlKSkge1xuICAgICAgcmV0dXJuICdTaG91bGQgYmUgYSB2YWxpZCBudW1iZXIuJztcbiAgICB9XG4gICAgaWYgKEJpZyh2YWx1ZSkuY21wKDApIDw9IDApIHtcbiAgICAgIHJldHVybiAnU2hvdWxkIGJlIGdyZWF0ZXIgdGhhbiB6ZXJvLic7XG4gICAgfVxuICAgIGlmIChkZWNpbWFsRGlnaXRzU2V0KSB7XG4gICAgICBjb25zdCBtaW5pbXVtVmFsdWUgPSBCaWcoYDFlLSR7ZGVjaW1hbERpZ2l0c31gKTtcbiAgICAgIGlmIChCaWcodmFsdWUpLmNtcChtaW5pbXVtVmFsdWUpIDwgMCkge1xuICAgICAgICByZXR1cm4gYFNob3VsZCBiZSBhdCBsZWFzdCAke21pbmltdW1WYWx1ZS50b1N0cmluZygpfS5gO1xuICAgICAgfVxuICAgICAgaWYgKGNvdW50RGVjaW1hbHModmFsdWUpID4gZGVjaW1hbERpZ2l0cykge1xuICAgICAgICByZXR1cm4gYFNob3VsZCBub3QgY29udGFpbiBtb3JlIHRoYW4gJHtkZWNpbWFsRGlnaXRzfSBkZWNpbWFsIGRpZ2l0cy5gO1xuICAgICAgfVxuICAgIH1cbiAgfSwgW2RlY2ltYWxEaWdpdHNTZXQsIGRlY2ltYWxEaWdpdHNdKTtcbiAgcmV0dXJuIFRleHRmaWVsZEVudHJ5KHtcbiAgICBkZWJvdW5jZSxcbiAgICBsYWJlbDogJ0luY3JlbWVudCcsXG4gICAgZWxlbWVudDogZmllbGQsXG4gICAgZ2V0VmFsdWUsXG4gICAgaWQsXG4gICAgc2V0VmFsdWUsXG4gICAgdmFsaWRhdGVcbiAgfSk7XG59XG5cbi8vIGhlbHBlcnMgLy8vLy8vLy8vL1xuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfHZvaWR9IHZhbHVlXG4gKiBAcmV0dXJucyB7c3RyaW5nfHZvaWR9XG4gKi9cbmNvbnN0IHZhbGlkYXRlTnVtYmVyRW50cmllcyA9IHZhbHVlID0+IHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ251bWJlcicpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKCFOdW1iZXIuaXNJbnRlZ2VyKHZhbHVlKSkge1xuICAgIHJldHVybiAnU2hvdWxkIGJlIGFuIGludGVnZXIuJztcbiAgfVxuICBpZiAodmFsdWUgPCAwKSB7XG4gICAgcmV0dXJuICdTaG91bGQgYmUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIHplcm8uJztcbiAgfVxufTtcblxuZnVuY3Rpb24gRXhwcmVzc2lvbkZpZWxkRW50cmllcyhwcm9wcykge1xuICBjb25zdCB7XG4gICAgZWRpdEZpZWxkLFxuICAgIGZpZWxkLFxuICAgIGlkXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgZW50cmllcyA9IFtdO1xuICBlbnRyaWVzLnB1c2goe1xuICAgIGlkOiBgJHtpZH0tZXhwcmVzc2lvbmAsXG4gICAgY29tcG9uZW50OiBFeHByZXNzaW9uRmllbGRFeHByZXNzaW9uLFxuICAgIGlzRWRpdGVkOiBpc0VkaXRlZCQ1LFxuICAgIGVkaXRGaWVsZCxcbiAgICBmaWVsZCxcbiAgICBpc0RlZmF1bHRWaXNpYmxlOiBmaWVsZCA9PiBmaWVsZC50eXBlID09PSAnZXhwcmVzc2lvbidcbiAgfSk7XG4gIGVudHJpZXMucHVzaCh7XG4gICAgaWQ6IGAke2lkfS1jb21wdXRlT25gLFxuICAgIGNvbXBvbmVudDogRXhwcmVzc2lvbkZpZWxkQ29tcHV0ZU9uLFxuICAgIGlzRWRpdGVkOiBpc0VkaXRlZCQzLFxuICAgIGVkaXRGaWVsZCxcbiAgICBmaWVsZCxcbiAgICBpc0RlZmF1bHRWaXNpYmxlOiBmaWVsZCA9PiBmaWVsZC50eXBlID09PSAnZXhwcmVzc2lvbidcbiAgfSk7XG4gIHJldHVybiBlbnRyaWVzO1xufVxuZnVuY3Rpb24gRXhwcmVzc2lvbkZpZWxkRXhwcmVzc2lvbihwcm9wcykge1xuICBjb25zdCB7XG4gICAgZWRpdEZpZWxkLFxuICAgIGZpZWxkLFxuICAgIGlkXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgZGVib3VuY2UgPSB1c2VTZXJ2aWNlKCdkZWJvdW5jZScpO1xuICBjb25zdCB2YXJpYWJsZXMgPSB1c2VWYXJpYWJsZXMoKS5tYXAobmFtZSA9PiAoe1xuICAgIG5hbWVcbiAgfSkpO1xuICBjb25zdCBnZXRWYWx1ZSA9ICgpID0+IGZpZWxkLmV4cHJlc3Npb24gfHwgJyc7XG4gIGNvbnN0IHNldFZhbHVlID0gdmFsdWUgPT4ge1xuICAgIGVkaXRGaWVsZChmaWVsZCwgWydleHByZXNzaW9uJ10sIHZhbHVlKTtcbiAgfTtcbiAgcmV0dXJuIEZlZWxFbnRyeSh7XG4gICAgZGVib3VuY2UsXG4gICAgZGVzY3JpcHRpb246ICdEZWZpbmUgYW4gZXhwcmVzc2lvbiB0byBjYWxjdWxhdGUgdGhlIHZhbHVlIG9mIHRoaXMgZmllbGQnLFxuICAgIGVsZW1lbnQ6IGZpZWxkLFxuICAgIGZlZWw6ICdyZXF1aXJlZCcsXG4gICAgZ2V0VmFsdWUsXG4gICAgaWQsXG4gICAgbGFiZWw6ICdUYXJnZXQgdmFsdWUnLFxuICAgIHNldFZhbHVlLFxuICAgIHZhcmlhYmxlc1xuICB9KTtcbn1cbmZ1bmN0aW9uIEV4cHJlc3Npb25GaWVsZENvbXB1dGVPbihwcm9wcykge1xuICBjb25zdCB7XG4gICAgZWRpdEZpZWxkLFxuICAgIGZpZWxkLFxuICAgIGlkXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgZ2V0VmFsdWUgPSAoKSA9PiBmaWVsZC5jb21wdXRlT24gfHwgJyc7XG4gIGNvbnN0IHNldFZhbHVlID0gdmFsdWUgPT4ge1xuICAgIGVkaXRGaWVsZChmaWVsZCwgWydjb21wdXRlT24nXSwgdmFsdWUpO1xuICB9O1xuICBjb25zdCBnZXRPcHRpb25zID0gKCkgPT4gW3tcbiAgICB2YWx1ZTogJ2NoYW5nZScsXG4gICAgbGFiZWw6ICdWYWx1ZSBjaGFuZ2VzJ1xuICB9LCB7XG4gICAgdmFsdWU6ICdwcmVzdWJtaXQnLFxuICAgIGxhYmVsOiAnRm9ybSBzdWJtaXNzaW9uJ1xuICB9XTtcbiAgcmV0dXJuIFNlbGVjdEVudHJ5KHtcbiAgICBpZCxcbiAgICBsYWJlbDogJ0NvbXB1dGUgb24nLFxuICAgIGdldFZhbHVlLFxuICAgIHNldFZhbHVlLFxuICAgIGdldE9wdGlvbnNcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIE51bWJlclNlcmlhbGl6YXRpb25FbnRyeShwcm9wcykge1xuICBjb25zdCB7XG4gICAgZWRpdEZpZWxkLFxuICAgIGZpZWxkXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgZW50cmllcyA9IFtdO1xuICBlbnRyaWVzLnB1c2goe1xuICAgIGlkOiAnc2VyaWFsaXplLXRvLXN0cmluZycsXG4gICAgY29tcG9uZW50OiBTZXJpYWxpemVUb1N0cmluZyxcbiAgICBpc0VkaXRlZDogaXNFZGl0ZWQkOCxcbiAgICBlZGl0RmllbGQsXG4gICAgZmllbGQsXG4gICAgaXNEZWZhdWx0VmlzaWJsZTogZmllbGQgPT4gZmllbGQudHlwZSA9PT0gJ251bWJlcidcbiAgfSk7XG4gIHJldHVybiBlbnRyaWVzO1xufVxuZnVuY3Rpb24gU2VyaWFsaXplVG9TdHJpbmcocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGVkaXRGaWVsZCxcbiAgICBmaWVsZCxcbiAgICBpZFxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IHtcbiAgICBkZWZhdWx0VmFsdWVcbiAgfSA9IGZpZWxkO1xuICBjb25zdCBwYXRoID0gWydzZXJpYWxpemVUb1N0cmluZyddO1xuICBjb25zdCBnZXRWYWx1ZSA9ICgpID0+IHtcbiAgICByZXR1cm4gZ2V0KGZpZWxkLCBwYXRoLCAnJyk7XG4gIH07XG4gIGNvbnN0IHNldFZhbHVlID0gdmFsdWUgPT4ge1xuICAgIC8vIFdoZW5ldmVyIGNoYW5naW5nIHRoZSBmb3JtYXR0aW5nLCBtYWtlIHN1cmUgdG8gY2hhbmdlIHRoZSBkZWZhdWx0IHZhbHVlIHR5cGUgYWxvbmcgd2l0aCBpdFxuICAgIGlmIChkZWZhdWx0VmFsdWUgfHwgZGVmYXVsdFZhbHVlID09PSAwKSB7XG4gICAgICBlZGl0RmllbGQoZmllbGQsIFsnZGVmYXVsdFZhbHVlJ10sIHZhbHVlID8gQmlnKGRlZmF1bHRWYWx1ZSkudG9GaXhlZCgpIDogTnVtYmVyKGRlZmF1bHRWYWx1ZSkpO1xuICAgIH1cbiAgICByZXR1cm4gZWRpdEZpZWxkKGZpZWxkLCBwYXRoLCB2YWx1ZSk7XG4gIH07XG4gIHJldHVybiBDaGVja2JveEVudHJ5KHtcbiAgICBlbGVtZW50OiBmaWVsZCxcbiAgICBnZXRWYWx1ZSxcbiAgICBpZCxcbiAgICBsYWJlbDogJ091dHB1dCBhcyBzdHJpbmcnLFxuICAgIGRlc2NyaXB0aW9uOiAnQWxsb3dzIGFyYml0cmFyeSBwcmVjaXNpb24gdmFsdWVzJyxcbiAgICBzZXRWYWx1ZVxuICB9KTtcbn1cblxuZnVuY3Rpb24gRGF0ZVRpbWVFbnRyeShwcm9wcykge1xuICBjb25zdCB7XG4gICAgZWRpdEZpZWxkLFxuICAgIGZpZWxkXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgZW50cmllcyA9IFt7XG4gICAgaWQ6ICdzdWJ0eXBlJyxcbiAgICBjb21wb25lbnQ6IERhdGVUaW1lU3VidHlwZVNlbGVjdCxcbiAgICBpc0VkaXRlZDogaXNFZGl0ZWQkMyxcbiAgICBlZGl0RmllbGQsXG4gICAgZmllbGQsXG4gICAgaXNEZWZhdWx0VmlzaWJsZTogZmllbGQgPT4gZmllbGQudHlwZSA9PT0gJ2RhdGV0aW1lJ1xuICB9XTtcbiAgZW50cmllcy5wdXNoKHtcbiAgICBpZDogJ3VzZTI0aCcsXG4gICAgY29tcG9uZW50OiBVc2UyNGgsXG4gICAgaXNFZGl0ZWQ6IGlzRWRpdGVkJDgsXG4gICAgZWRpdEZpZWxkLFxuICAgIGZpZWxkLFxuICAgIGlzRGVmYXVsdFZpc2libGU6IGZpZWxkID0+IGZpZWxkLnR5cGUgPT09ICdkYXRldGltZScgJiYgKGZpZWxkLnN1YnR5cGUgPT09IERBVEVUSU1FX1NVQlRZUEVTLlRJTUUgfHwgZmllbGQuc3VidHlwZSA9PT0gREFURVRJTUVfU1VCVFlQRVMuREFURVRJTUUpXG4gIH0pO1xuICByZXR1cm4gZW50cmllcztcbn1cbmZ1bmN0aW9uIERhdGVUaW1lU3VidHlwZVNlbGVjdChwcm9wcykge1xuICBjb25zdCB7XG4gICAgZWRpdEZpZWxkLFxuICAgIGZpZWxkLFxuICAgIGlkXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgZ2V0VmFsdWUgPSBlID0+IGdldChmaWVsZCwgREFURVRJTUVfU1VCVFlQRV9QQVRIKTtcbiAgY29uc3QgY2xlYXJUaW1lQ29uZmlnID0gKCkgPT4ge1xuICAgIGNvbnN0IHRpbWVDb25maWdQYXRocyA9IFtUSU1FX0xBQkVMX1BBVEgsIFRJTUVfVVNFMjRIX1BBVEgsIFRJTUVfSU5URVJWQUxfUEFUSCwgVElNRV9TRVJJQUxJU0lOR19GT1JNQVRfUEFUSF07XG4gICAgZm9yIChjb25zdCBwYXRoIG9mIHRpbWVDb25maWdQYXRocykge1xuICAgICAgZWRpdEZpZWxkKGZpZWxkLCBwYXRoLCB1bmRlZmluZWQpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgaW5pdFRpbWVDb25maWcgPSAoKSA9PiB7XG4gICAgZWRpdEZpZWxkKGZpZWxkLCBUSU1FX0xBQkVMX1BBVEgsICdUaW1lJyk7XG4gICAgZWRpdEZpZWxkKGZpZWxkLCBUSU1FX1NFUklBTElTSU5HX0ZPUk1BVF9QQVRILCBUSU1FX1NFUklBTElTSU5HX0ZPUk1BVFMuVVRDX09GRlNFVCk7XG4gICAgZWRpdEZpZWxkKGZpZWxkLCBUSU1FX0lOVEVSVkFMX1BBVEgsIDE1KTtcbiAgfTtcbiAgY29uc3QgY2xlYXJEYXRlQ29uZmlnID0gKCkgPT4ge1xuICAgIGNvbnN0IGRhdGVDb25maWdQYXRocyA9IFtEQVRFX0xBQkVMX1BBVEgsIERBVEVfRElTQUxMT1dfUEFTVF9QQVRIXTtcbiAgICBmb3IgKGNvbnN0IHBhdGggb2YgZGF0ZUNvbmZpZ1BhdGhzKSB7XG4gICAgICBlZGl0RmllbGQoZmllbGQsIHBhdGgsIHVuZGVmaW5lZCk7XG4gICAgfVxuICB9O1xuICBjb25zdCBpbml0RGF0ZUNvbmZpZyA9ICgpID0+IHtcbiAgICBlZGl0RmllbGQoZmllbGQsIERBVEVfTEFCRUxfUEFUSCwgJ0RhdGUnKTtcbiAgfTtcbiAgY29uc3Qgc2V0VmFsdWUgPSB2YWx1ZSA9PiB7XG4gICAgY29uc3Qgb2xkVmFsdWUgPSBnZXRWYWx1ZSgpO1xuICAgIGlmIChvbGRWYWx1ZSA9PT0gdmFsdWUpIHJldHVybjtcbiAgICBpZiAodmFsdWUgPT09IERBVEVUSU1FX1NVQlRZUEVTLkRBVEUpIHtcbiAgICAgIGNsZWFyVGltZUNvbmZpZygpO1xuICAgICAgb2xkVmFsdWUgPT09IERBVEVUSU1FX1NVQlRZUEVTLlRJTUUgJiYgaW5pdERhdGVDb25maWcoKTtcbiAgICB9IGVsc2UgaWYgKHZhbHVlID09PSBEQVRFVElNRV9TVUJUWVBFUy5USU1FKSB7XG4gICAgICBjbGVhckRhdGVDb25maWcoKTtcbiAgICAgIG9sZFZhbHVlID09PSBEQVRFVElNRV9TVUJUWVBFUy5EQVRFICYmIGluaXRUaW1lQ29uZmlnKCk7XG4gICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gREFURVRJTUVfU1VCVFlQRVMuREFURVRJTUUpIHtcbiAgICAgIG9sZFZhbHVlID09PSBEQVRFVElNRV9TVUJUWVBFUy5EQVRFICYmIGluaXRUaW1lQ29uZmlnKCk7XG4gICAgICBvbGRWYWx1ZSA9PT0gREFURVRJTUVfU1VCVFlQRVMuVElNRSAmJiBpbml0RGF0ZUNvbmZpZygpO1xuICAgIH1cbiAgICByZXR1cm4gZWRpdEZpZWxkKGZpZWxkLCBEQVRFVElNRV9TVUJUWVBFX1BBVEgsIHZhbHVlKTtcbiAgfTtcbiAgY29uc3QgZ2V0RGF0ZXRpbWVTdWJ0eXBlcyA9ICgpID0+IHtcbiAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyhEQVRFVElNRV9TVUJUWVBFUykubWFwKHN1YnR5cGUgPT4gKHtcbiAgICAgIGxhYmVsOiBEQVRFVElNRV9TVUJUWVBFU19MQUJFTFNbc3VidHlwZV0sXG4gICAgICB2YWx1ZTogc3VidHlwZVxuICAgIH0pKTtcbiAgfTtcbiAgcmV0dXJuIFNlbGVjdEVudHJ5KHtcbiAgICBsYWJlbDogJ1N1YnR5cGUnLFxuICAgIGVsZW1lbnQ6IGZpZWxkLFxuICAgIGdldE9wdGlvbnM6IGdldERhdGV0aW1lU3VidHlwZXMsXG4gICAgZ2V0VmFsdWUsXG4gICAgaWQsXG4gICAgc2V0VmFsdWVcbiAgfSk7XG59XG5mdW5jdGlvbiBVc2UyNGgocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGVkaXRGaWVsZCxcbiAgICBmaWVsZCxcbiAgICBpZFxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IHBhdGggPSBUSU1FX1VTRTI0SF9QQVRIO1xuICBjb25zdCBnZXRWYWx1ZSA9ICgpID0+IHtcbiAgICByZXR1cm4gZ2V0KGZpZWxkLCBwYXRoLCAnJyk7XG4gIH07XG4gIGNvbnN0IHNldFZhbHVlID0gdmFsdWUgPT4ge1xuICAgIHJldHVybiBlZGl0RmllbGQoZmllbGQsIHBhdGgsIHZhbHVlKTtcbiAgfTtcbiAgcmV0dXJuIENoZWNrYm94RW50cnkoe1xuICAgIGVsZW1lbnQ6IGZpZWxkLFxuICAgIGdldFZhbHVlLFxuICAgIGlkLFxuICAgIGxhYmVsOiAnVXNlIDI0aCcsXG4gICAgc2V0VmFsdWVcbiAgfSk7XG59XG5cbmNvbnN0IGlzVGltZUludGVydmFsRWRpdGVkID0gaXNFZGl0ZWRGcm9tRGVmYXVsdEZhY3RvcnkoJzE1Jyk7XG5mdW5jdGlvbiBEYXRlVGltZUNvbnN0cmFpbnRzRW50cnkocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGVkaXRGaWVsZCxcbiAgICBmaWVsZCxcbiAgICBpZFxuICB9ID0gcHJvcHM7XG4gIGZ1bmN0aW9uIGlzRGVmYXVsdFZpc2libGUoc3VidHlwZXMpIHtcbiAgICByZXR1cm4gZmllbGQgPT4ge1xuICAgICAgaWYgKGZpZWxkLnR5cGUgIT09ICdkYXRldGltZScpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHN1YnR5cGVzLmluY2x1ZGVzKGZpZWxkLnN1YnR5cGUpO1xuICAgIH07XG4gIH1cbiAgY29uc3QgZW50cmllcyA9IFtdO1xuICBlbnRyaWVzLnB1c2goe1xuICAgIGlkOiBpZCArICctdGltZUludGVydmFsJyxcbiAgICBjb21wb25lbnQ6IFRpbWVJbnRlcnZhbFNlbGVjdCxcbiAgICBpc0VkaXRlZDogaXNUaW1lSW50ZXJ2YWxFZGl0ZWQsXG4gICAgZWRpdEZpZWxkLFxuICAgIGZpZWxkLFxuICAgIGlzRGVmYXVsdFZpc2libGU6IGlzRGVmYXVsdFZpc2libGUoW0RBVEVUSU1FX1NVQlRZUEVTLlRJTUUsIERBVEVUSU1FX1NVQlRZUEVTLkRBVEVUSU1FXSlcbiAgfSk7XG4gIGVudHJpZXMucHVzaCh7XG4gICAgaWQ6IGlkICsgJy1kaXNhbGxvd1Bhc3NlZERhdGVzJyxcbiAgICBjb21wb25lbnQ6IERpc2FsbG93UGFzc2VkRGF0ZXMsXG4gICAgaXNFZGl0ZWQ6IGlzRWRpdGVkJDgsXG4gICAgZWRpdEZpZWxkLFxuICAgIGZpZWxkLFxuICAgIGlzRGVmYXVsdFZpc2libGU6IGlzRGVmYXVsdFZpc2libGUoW0RBVEVUSU1FX1NVQlRZUEVTLkRBVEUsIERBVEVUSU1FX1NVQlRZUEVTLkRBVEVUSU1FXSlcbiAgfSk7XG4gIHJldHVybiBlbnRyaWVzO1xufVxuZnVuY3Rpb24gRGlzYWxsb3dQYXNzZWREYXRlcyhwcm9wcykge1xuICBjb25zdCB7XG4gICAgZWRpdEZpZWxkLFxuICAgIGZpZWxkLFxuICAgIGlkXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgcGF0aCA9IERBVEVfRElTQUxMT1dfUEFTVF9QQVRIO1xuICBjb25zdCBnZXRWYWx1ZSA9ICgpID0+IHtcbiAgICByZXR1cm4gZ2V0KGZpZWxkLCBwYXRoLCAnJyk7XG4gIH07XG4gIGNvbnN0IHNldFZhbHVlID0gdmFsdWUgPT4ge1xuICAgIHJldHVybiBlZGl0RmllbGQoZmllbGQsIHBhdGgsIHZhbHVlKTtcbiAgfTtcbiAgcmV0dXJuIENoZWNrYm94RW50cnkoe1xuICAgIGVsZW1lbnQ6IGZpZWxkLFxuICAgIGdldFZhbHVlLFxuICAgIGlkLFxuICAgIGxhYmVsOiAnRGlzYWxsb3cgcGFzdCBkYXRlcycsXG4gICAgc2V0VmFsdWVcbiAgfSk7XG59XG5mdW5jdGlvbiBUaW1lSW50ZXJ2YWxTZWxlY3QocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGVkaXRGaWVsZCxcbiAgICBmaWVsZCxcbiAgICBpZFxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IHRpbWVJbnRlcnZhbHMgPSBbMSwgNSwgMTAsIDE1LCAzMCwgNjBdO1xuICBjb25zdCBnZXRWYWx1ZSA9IGUgPT4gZ2V0KGZpZWxkLCBUSU1FX0lOVEVSVkFMX1BBVEgpO1xuICBjb25zdCBzZXRWYWx1ZSA9IHZhbHVlID0+IGVkaXRGaWVsZChmaWVsZCwgVElNRV9JTlRFUlZBTF9QQVRILCBwYXJzZUludCh2YWx1ZSkpO1xuICBjb25zdCBnZXRUaW1lSW50ZXJ2YWxzID0gKCkgPT4ge1xuICAgIHJldHVybiB0aW1lSW50ZXJ2YWxzLm1hcCh0aW1lSW50ZXJ2YWwgPT4gKHtcbiAgICAgIGxhYmVsOiB0aW1lSW50ZXJ2YWwgPT09IDYwID8gJzFoJyA6IHRpbWVJbnRlcnZhbCArICdtJyxcbiAgICAgIHZhbHVlOiB0aW1lSW50ZXJ2YWxcbiAgICB9KSk7XG4gIH07XG4gIHJldHVybiBTZWxlY3RFbnRyeSh7XG4gICAgbGFiZWw6ICdUaW1lIGludGVydmFsJyxcbiAgICBlbGVtZW50OiBmaWVsZCxcbiAgICBnZXRPcHRpb25zOiBnZXRUaW1lSW50ZXJ2YWxzLFxuICAgIGdldFZhbHVlLFxuICAgIGlkLFxuICAgIHNldFZhbHVlXG4gIH0pO1xufVxuXG5jb25zdCBpc1RpbWVGb3JtYXRFZGl0ZWQgPSBpc0VkaXRlZEZyb21EZWZhdWx0RmFjdG9yeShUSU1FX1NFUklBTElTSU5HX0ZPUk1BVFMuVVRDX09GRlNFVCk7XG5mdW5jdGlvbiBEYXRlVGltZUZvcm1hdEVudHJ5KHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBlZGl0RmllbGQsXG4gICAgZmllbGRcbiAgfSA9IHByb3BzO1xuICBjb25zdCBlbnRyaWVzID0gW107XG4gIGVudHJpZXMucHVzaCh7XG4gICAgaWQ6ICd0aW1lLWZvcm1hdCcsXG4gICAgY29tcG9uZW50OiBUaW1lRm9ybWF0U2VsZWN0LFxuICAgIGlzRWRpdGVkOiBpc1RpbWVGb3JtYXRFZGl0ZWQsXG4gICAgZWRpdEZpZWxkLFxuICAgIGZpZWxkLFxuICAgIGlzRGVmYXVsdFZpc2libGU6IGZpZWxkID0+IGZpZWxkLnR5cGUgPT09ICdkYXRldGltZScgJiYgKGZpZWxkLnN1YnR5cGUgPT09IERBVEVUSU1FX1NVQlRZUEVTLlRJTUUgfHwgZmllbGQuc3VidHlwZSA9PT0gREFURVRJTUVfU1VCVFlQRVMuREFURVRJTUUpXG4gIH0pO1xuICByZXR1cm4gZW50cmllcztcbn1cbmZ1bmN0aW9uIFRpbWVGb3JtYXRTZWxlY3QocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGVkaXRGaWVsZCxcbiAgICBmaWVsZCxcbiAgICBpZFxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IGdldFZhbHVlID0gZSA9PiBnZXQoZmllbGQsIFRJTUVfU0VSSUFMSVNJTkdfRk9STUFUX1BBVEgpO1xuICBjb25zdCBzZXRWYWx1ZSA9IHZhbHVlID0+IGVkaXRGaWVsZChmaWVsZCwgVElNRV9TRVJJQUxJU0lOR19GT1JNQVRfUEFUSCwgdmFsdWUpO1xuICBjb25zdCBnZXRUaW1lU2VyaWFsaXNpbmdGb3JtYXRzID0gKCkgPT4ge1xuICAgIHJldHVybiBPYmplY3QudmFsdWVzKFRJTUVfU0VSSUFMSVNJTkdfRk9STUFUUykubWFwKGZvcm1hdCA9PiAoe1xuICAgICAgbGFiZWw6IFRJTUVfU0VSSUFMSVNJTkdGT1JNQVRfTEFCRUxTW2Zvcm1hdF0sXG4gICAgICB2YWx1ZTogZm9ybWF0XG4gICAgfSkpO1xuICB9O1xuICByZXR1cm4gU2VsZWN0RW50cnkoe1xuICAgIGxhYmVsOiAnVGltZSBmb3JtYXQnLFxuICAgIGVsZW1lbnQ6IGZpZWxkLFxuICAgIGdldE9wdGlvbnM6IGdldFRpbWVTZXJpYWxpc2luZ0Zvcm1hdHMsXG4gICAgZ2V0VmFsdWUsXG4gICAgaWQsXG4gICAgc2V0VmFsdWVcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIFNlbGVjdEVudHJpZXMocHJvcHMpIHtcbiAgY29uc3QgZW50cmllcyA9IFtzaW1wbGVCb29sRW50cnlGYWN0b3J5KHtcbiAgICBpZDogJ3NlYXJjaGFibGUnLFxuICAgIHBhdGg6IFsnc2VhcmNoYWJsZSddLFxuICAgIGxhYmVsOiAnU2VhcmNoYWJsZScsXG4gICAgcHJvcHMsXG4gICAgaXNEZWZhdWx0VmlzaWJsZTogZmllbGQgPT4gZmllbGQudHlwZSA9PT0gJ3NlbGVjdCdcbiAgfSldO1xuICByZXR1cm4gZW50cmllcztcbn1cblxuZnVuY3Rpb24gVmFsdWVFbnRyeShwcm9wcykge1xuICBjb25zdCB7XG4gICAgZWRpdEZpZWxkLFxuICAgIGZpZWxkLFxuICAgIGlkUHJlZml4LFxuICAgIGluZGV4LFxuICAgIHZhbGlkYXRlRmFjdG9yeVxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IGVudHJpZXMgPSBbe1xuICAgIGNvbXBvbmVudDogTGFiZWwkMSxcbiAgICBlZGl0RmllbGQsXG4gICAgZmllbGQsXG4gICAgaWQ6IGlkUHJlZml4ICsgJy1sYWJlbCcsXG4gICAgaWRQcmVmaXgsXG4gICAgaW5kZXgsXG4gICAgdmFsaWRhdGVGYWN0b3J5XG4gIH0sIHtcbiAgICBjb21wb25lbnQ6IFZhbHVlJDEsXG4gICAgZWRpdEZpZWxkLFxuICAgIGZpZWxkLFxuICAgIGlkOiBpZFByZWZpeCArICctdmFsdWUnLFxuICAgIGlkUHJlZml4LFxuICAgIGluZGV4LFxuICAgIHZhbGlkYXRlRmFjdG9yeVxuICB9XTtcbiAgcmV0dXJuIGVudHJpZXM7XG59XG5mdW5jdGlvbiBMYWJlbCQxKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBlZGl0RmllbGQsXG4gICAgZmllbGQsXG4gICAgaWQsXG4gICAgaW5kZXgsXG4gICAgdmFsaWRhdGVGYWN0b3J5XG4gIH0gPSBwcm9wcztcbiAgY29uc3QgZGVib3VuY2UgPSB1c2VTZXJ2aWNlKCdkZWJvdW5jZScpO1xuICBjb25zdCBzZXRWYWx1ZSA9ICh2YWx1ZSwgZXJyb3IpID0+IHtcbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgdmFsdWVzID0gZ2V0KGZpZWxkLCBbJ3ZhbHVlcyddKTtcbiAgICByZXR1cm4gZWRpdEZpZWxkKGZpZWxkLCAndmFsdWVzJywgc2V0JDEodmFsdWVzLCBbaW5kZXgsICdsYWJlbCddLCB2YWx1ZSkpO1xuICB9O1xuICBjb25zdCBnZXRWYWx1ZSA9ICgpID0+IHtcbiAgICByZXR1cm4gZ2V0KGZpZWxkLCBbJ3ZhbHVlcycsIGluZGV4LCAnbGFiZWwnXSk7XG4gIH07XG4gIGNvbnN0IHZhbGlkYXRlID0gdXNlTWVtbygoKSA9PiB2YWxpZGF0ZUZhY3RvcnkoZ2V0KGZpZWxkLCBbJ3ZhbHVlcycsIGluZGV4LCAnbGFiZWwnXSksIGVudHJ5ID0+IGVudHJ5LmxhYmVsKSwgW2ZpZWxkLCBpbmRleCwgdmFsaWRhdGVGYWN0b3J5XSk7XG4gIHJldHVybiBUZXh0ZmllbGRFbnRyeSh7XG4gICAgZGVib3VuY2UsXG4gICAgZWxlbWVudDogZmllbGQsXG4gICAgZ2V0VmFsdWUsXG4gICAgaWQsXG4gICAgbGFiZWw6ICdMYWJlbCcsXG4gICAgc2V0VmFsdWUsXG4gICAgdmFsaWRhdGVcbiAgfSk7XG59XG5mdW5jdGlvbiBWYWx1ZSQxKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBlZGl0RmllbGQsXG4gICAgZmllbGQsXG4gICAgaWQsXG4gICAgaW5kZXgsXG4gICAgdmFsaWRhdGVGYWN0b3J5XG4gIH0gPSBwcm9wcztcbiAgY29uc3QgZGVib3VuY2UgPSB1c2VTZXJ2aWNlKCdkZWJvdW5jZScpO1xuICBjb25zdCBzZXRWYWx1ZSA9ICh2YWx1ZSwgZXJyb3IpID0+IHtcbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qge1xuICAgICAgZGVmYXVsdFZhbHVlXG4gICAgfSA9IGZpZWxkO1xuICAgIGNvbnN0IHZhbHVlcyA9IGdldChmaWVsZCwgWyd2YWx1ZXMnXSk7XG4gICAgY29uc3QgcHJldmlvdXNWYWx1ZSA9IGdldChmaWVsZCwgWyd2YWx1ZXMnLCBpbmRleCwgJ3ZhbHVlJ10pO1xuICAgIGlmICghaXNOaWwoZGVmYXVsdFZhbHVlKSAmJiBkZWZhdWx0VmFsdWUgPT09IHByZXZpb3VzVmFsdWUpIHtcbiAgICAgIHNldCQxKGZpZWxkLCBbJ2RlZmF1bHRWYWx1ZSddLCB2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiBlZGl0RmllbGQoZmllbGQsICd2YWx1ZXMnLCBzZXQkMSh2YWx1ZXMsIFtpbmRleCwgJ3ZhbHVlJ10sIHZhbHVlKSk7XG4gIH07XG4gIGNvbnN0IGdldFZhbHVlID0gKCkgPT4ge1xuICAgIHJldHVybiBnZXQoZmllbGQsIFsndmFsdWVzJywgaW5kZXgsICd2YWx1ZSddKTtcbiAgfTtcbiAgY29uc3QgdmFsaWRhdGUgPSB1c2VNZW1vKCgpID0+IHZhbGlkYXRlRmFjdG9yeShnZXQoZmllbGQsIFsndmFsdWVzJywgaW5kZXgsICd2YWx1ZSddKSwgZW50cnkgPT4gZW50cnkudmFsdWUpLCBbZmllbGQsIGluZGV4LCB2YWxpZGF0ZUZhY3RvcnldKTtcbiAgcmV0dXJuIFRleHRmaWVsZEVudHJ5KHtcbiAgICBkZWJvdW5jZSxcbiAgICBlbGVtZW50OiBmaWVsZCxcbiAgICBnZXRWYWx1ZSxcbiAgICBpZCxcbiAgICBsYWJlbDogJ1ZhbHVlJyxcbiAgICBzZXRWYWx1ZSxcbiAgICB2YWxpZGF0ZVxuICB9KTtcbn1cblxuZnVuY3Rpb24gQ3VzdG9tVmFsdWVFbnRyeShwcm9wcykge1xuICBjb25zdCB7XG4gICAgZWRpdEZpZWxkLFxuICAgIGZpZWxkLFxuICAgIGlkUHJlZml4LFxuICAgIGluZGV4LFxuICAgIHZhbGlkYXRlRmFjdG9yeVxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IGVudHJpZXMgPSBbe1xuICAgIGNvbXBvbmVudDogS2V5JDEsXG4gICAgZWRpdEZpZWxkLFxuICAgIGZpZWxkLFxuICAgIGlkOiBpZFByZWZpeCArICcta2V5JyxcbiAgICBpZFByZWZpeCxcbiAgICBpbmRleCxcbiAgICB2YWxpZGF0ZUZhY3RvcnlcbiAgfSwge1xuICAgIGNvbXBvbmVudDogVmFsdWUsXG4gICAgZWRpdEZpZWxkLFxuICAgIGZpZWxkLFxuICAgIGlkOiBpZFByZWZpeCArICctdmFsdWUnLFxuICAgIGlkUHJlZml4LFxuICAgIGluZGV4LFxuICAgIHZhbGlkYXRlRmFjdG9yeVxuICB9XTtcbiAgcmV0dXJuIGVudHJpZXM7XG59XG5mdW5jdGlvbiBLZXkkMShwcm9wcykge1xuICBjb25zdCB7XG4gICAgZWRpdEZpZWxkLFxuICAgIGZpZWxkLFxuICAgIGlkLFxuICAgIGluZGV4LFxuICAgIHZhbGlkYXRlRmFjdG9yeVxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IGRlYm91bmNlID0gdXNlU2VydmljZSgnZGVib3VuY2UnKTtcbiAgY29uc3Qgc2V0VmFsdWUgPSAodmFsdWUsIGVycm9yKSA9PiB7XG4gICAgaWYgKGVycm9yKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHByb3BlcnRpZXMgPSBnZXQoZmllbGQsIFsncHJvcGVydGllcyddKTtcbiAgICBjb25zdCBrZXkgPSBPYmplY3Qua2V5cyhwcm9wZXJ0aWVzKVtpbmRleF07XG4gICAgcmV0dXJuIGVkaXRGaWVsZChmaWVsZCwgJ3Byb3BlcnRpZXMnLCB1cGRhdGVLZXkocHJvcGVydGllcywga2V5LCB2YWx1ZSkpO1xuICB9O1xuICBjb25zdCBnZXRWYWx1ZSA9ICgpID0+IHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMoZ2V0KGZpZWxkLCBbJ3Byb3BlcnRpZXMnXSkpW2luZGV4XTtcbiAgfTtcbiAgY29uc3QgdmFsaWRhdGUgPSB1c2VNZW1vKCgpID0+IHZhbGlkYXRlRmFjdG9yeShPYmplY3Qua2V5cyhnZXQoZmllbGQsIFsncHJvcGVydGllcyddKSlbaW5kZXhdKSwgW3ZhbGlkYXRlRmFjdG9yeSwgZmllbGQsIGluZGV4XSk7XG4gIHJldHVybiBUZXh0ZmllbGRFbnRyeSh7XG4gICAgZGVib3VuY2UsXG4gICAgZWxlbWVudDogZmllbGQsXG4gICAgZ2V0VmFsdWUsXG4gICAgaWQsXG4gICAgbGFiZWw6ICdLZXknLFxuICAgIHNldFZhbHVlLFxuICAgIHZhbGlkYXRlXG4gIH0pO1xufVxuZnVuY3Rpb24gVmFsdWUocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGVkaXRGaWVsZCxcbiAgICBmaWVsZCxcbiAgICBpZCxcbiAgICBpbmRleCxcbiAgICB2YWxpZGF0ZUZhY3RvcnlcbiAgfSA9IHByb3BzO1xuICBjb25zdCBkZWJvdW5jZSA9IHVzZVNlcnZpY2UoJ2RlYm91bmNlJyk7XG4gIGNvbnN0IHNldFZhbHVlID0gdmFsdWUgPT4ge1xuICAgIGNvbnN0IHByb3BlcnRpZXMgPSBnZXQoZmllbGQsIFsncHJvcGVydGllcyddKTtcbiAgICBjb25zdCBrZXkgPSBPYmplY3Qua2V5cyhwcm9wZXJ0aWVzKVtpbmRleF07XG4gICAgZWRpdEZpZWxkKGZpZWxkLCAncHJvcGVydGllcycsIHVwZGF0ZVZhbHVlKHByb3BlcnRpZXMsIGtleSwgdmFsdWUpKTtcbiAgfTtcbiAgY29uc3QgZ2V0VmFsdWUgPSAoKSA9PiB7XG4gICAgY29uc3QgcHJvcGVydGllcyA9IGdldChmaWVsZCwgWydwcm9wZXJ0aWVzJ10pO1xuICAgIGNvbnN0IGtleSA9IE9iamVjdC5rZXlzKHByb3BlcnRpZXMpW2luZGV4XTtcbiAgICByZXR1cm4gZ2V0KGZpZWxkLCBbJ3Byb3BlcnRpZXMnLCBrZXldKTtcbiAgfTtcbiAgcmV0dXJuIFRleHRmaWVsZEVudHJ5KHtcbiAgICBkZWJvdW5jZSxcbiAgICBlbGVtZW50OiBmaWVsZCxcbiAgICBnZXRWYWx1ZSxcbiAgICBpZCxcbiAgICBsYWJlbDogJ1ZhbHVlJyxcbiAgICBzZXRWYWx1ZSxcbiAgICB2YWxpZGF0ZTogdmFsaWRhdGVGYWN0b3J5KGdldFZhbHVlKCkpXG4gIH0pO1xufVxuXG4vLyBoZWxwZXJzIC8vLy8vLy8vLy9cblxuLyoqXG4gKiBSZXR1cm5zIGNvcHkgb2Ygb2JqZWN0IHdpdGggdXBkYXRlZCB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcHJvcGVydGllc1xuICogQHBhcmFtIHtzdHJpbmd9IGtleVxuICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gKlxuICogQHJldHVybnMge09iamVjdH1cbiAqL1xuZnVuY3Rpb24gdXBkYXRlVmFsdWUocHJvcGVydGllcywga2V5LCB2YWx1ZSkge1xuICByZXR1cm4ge1xuICAgIC4uLnByb3BlcnRpZXMsXG4gICAgW2tleV06IHZhbHVlXG4gIH07XG59XG5cbi8qKlxuICogUmV0dXJucyBjb3B5IG9mIG9iamVjdCB3aXRoIHVwZGF0ZWQga2V5LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge3N0cmluZ30gb2xkS2V5XG4gKiBAcGFyYW0ge3N0cmluZ30gbmV3S2V5XG4gKlxuICogQHJldHVybnMge09iamVjdH1cbiAqL1xuZnVuY3Rpb24gdXBkYXRlS2V5KHByb3BlcnRpZXMsIG9sZEtleSwgbmV3S2V5KSB7XG4gIHJldHVybiBPYmplY3QuZW50cmllcyhwcm9wZXJ0aWVzKS5yZWR1Y2UoKG5ld1Byb3BlcnRpZXMsIGVudHJ5KSA9PiB7XG4gICAgY29uc3QgW2tleSwgdmFsdWVdID0gZW50cnk7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLm5ld1Byb3BlcnRpZXMsXG4gICAgICBba2V5ID09PSBvbGRLZXkgPyBuZXdLZXkgOiBrZXldOiB2YWx1ZVxuICAgIH07XG4gIH0sIHt9KTtcbn1cblxuZnVuY3Rpb24gQXV0b0ZvY3VzU2VsZWN0RW50cnkocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGF1dG9Gb2N1c0VudHJ5LFxuICAgIGVsZW1lbnQsXG4gICAgZ2V0VmFsdWVcbiAgfSA9IHByb3BzO1xuICBjb25zdCB2YWx1ZSA9IGdldFZhbHVlKGVsZW1lbnQpO1xuICBjb25zdCBwcmV2VmFsdWUgPSB1c2VQcmV2aW91cyh2YWx1ZSk7XG4gIGNvbnN0IGV2ZW50QnVzID0gdXNlU2VydmljZSgnZXZlbnRCdXMnKTtcblxuICAvLyBhdXRvIGZvY3VzIHNwZWNpZmMgb3RoZXIgZW50cnkgd2hlbiBzZWxlY3RlZCB2YWx1ZSBjaGFuZ2VkXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGF1dG9Gb2N1c0VudHJ5ICYmIHByZXZWYWx1ZSAmJiB2YWx1ZSAhPT0gcHJldlZhbHVlKSB7XG4gICAgICAvLyBATm90ZShwaW51c3NpbHZlc3RydXMpOiBUaGVyZSBpcyBhbiBpc3N1ZSBpbiB0aGUgcHJvcGVydGllc1xuICAgICAgLy8gcGFuZWwgc28gd2UgaGF2ZSB0byB3YWl0IGEgYml0IGJlZm9yZSBzaG93aW5nIHRoZSBlbnRyeS5cbiAgICAgIC8vIENmLiBodHRwczovL2dpdGh1Yi5jb20vY2FtdW5kYS9saW50aW5nL2Jsb2IvNGY1MzI4ZTI3MjJmNzNhZTYwYWU1ODRjNWY1NzZlYWVjMzk5OWNiMi9saWIvbW9kZWxlci9MaW50aW5nLmpzI0wzN1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGV2ZW50QnVzLmZpcmUoJ3Byb3BlcnRpZXNQYW5lbC5zaG93RW50cnknLCB7XG4gICAgICAgICAgaWQ6IGF1dG9Gb2N1c0VudHJ5XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCBbdmFsdWUsIGF1dG9Gb2N1c0VudHJ5LCBwcmV2VmFsdWUsIGV2ZW50QnVzXSk7XG4gIHJldHVybiBqc3goU2VsZWN0RW50cnksIHtcbiAgICAuLi5wcm9wc1xuICB9KTtcbn1cblxuY29uc3QgaXNPcHRpb25zU291cmNlRWRpdGVkID0gaXNFZGl0ZWRGcm9tRGVmYXVsdEZhY3RvcnkoT1BUSU9OU19TT1VSQ0VTLlNUQVRJQyk7XG5mdW5jdGlvbiBPcHRpb25zU291cmNlU2VsZWN0RW50cnkocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGVkaXRGaWVsZCxcbiAgICBmaWVsZCxcbiAgICBpZFxuICB9ID0gcHJvcHM7XG4gIHJldHVybiBbe1xuICAgIGlkOiBpZCArICctc2VsZWN0JyxcbiAgICBjb21wb25lbnQ6IFZhbHVlc1NvdXJjZVNlbGVjdCxcbiAgICBpc0VkaXRlZDogaXNPcHRpb25zU291cmNlRWRpdGVkLFxuICAgIGVkaXRGaWVsZCxcbiAgICBmaWVsZFxuICB9XTtcbn1cbmZ1bmN0aW9uIFZhbHVlc1NvdXJjZVNlbGVjdChwcm9wcykge1xuICBjb25zdCB7XG4gICAgZWRpdEZpZWxkLFxuICAgIGZpZWxkLFxuICAgIGlkXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgZ2V0VmFsdWUgPSBnZXRPcHRpb25zU291cmNlO1xuICBjb25zdCBzZXRWYWx1ZSA9IHZhbHVlID0+IHtcbiAgICBsZXQgbmV3RmllbGQgPSBmaWVsZDtcbiAgICBjb25zdCBuZXdQcm9wZXJ0aWVzID0ge307XG4gICAgbmV3UHJvcGVydGllc1tPUFRJT05TX1NPVVJDRVNfUEFUSFNbdmFsdWVdXSA9IE9QVElPTlNfU09VUkNFU19ERUZBVUxUU1t2YWx1ZV07XG4gICAgbmV3RmllbGQgPSBlZGl0RmllbGQoZmllbGQsIG5ld1Byb3BlcnRpZXMpO1xuICAgIHJldHVybiBuZXdGaWVsZDtcbiAgfTtcbiAgY29uc3QgZ2V0T3B0aW9uc1NvdXJjZU9wdGlvbnMgPSAoKSA9PiB7XG4gICAgcmV0dXJuIE9iamVjdC52YWx1ZXMoT1BUSU9OU19TT1VSQ0VTKS5tYXAodmFsdWVTb3VyY2UgPT4gKHtcbiAgICAgIGxhYmVsOiBPUFRJT05TX1NPVVJDRVNfTEFCRUxTW3ZhbHVlU291cmNlXSxcbiAgICAgIHZhbHVlOiB2YWx1ZVNvdXJjZVxuICAgIH0pKTtcbiAgfTtcbiAgcmV0dXJuIEF1dG9Gb2N1c1NlbGVjdEVudHJ5KHtcbiAgICBhdXRvRm9jdXNFbnRyeTogZ2V0QXV0b0ZvY3VzRW50cnlJZCQxKGZpZWxkKSxcbiAgICBsYWJlbDogJ1R5cGUnLFxuICAgIGVsZW1lbnQ6IGZpZWxkLFxuICAgIGdldE9wdGlvbnM6IGdldE9wdGlvbnNTb3VyY2VPcHRpb25zLFxuICAgIGdldFZhbHVlLFxuICAgIGlkLFxuICAgIHNldFZhbHVlXG4gIH0pO1xufVxuXG4vLyBoZWxwZXJzIC8vLy8vLy8vLy9cblxuZnVuY3Rpb24gZ2V0QXV0b0ZvY3VzRW50cnlJZCQxKGZpZWxkKSB7XG4gIGNvbnN0IHZhbHVlc1NvdXJjZSA9IGdldE9wdGlvbnNTb3VyY2UoZmllbGQpO1xuICBpZiAodmFsdWVzU291cmNlID09PSBPUFRJT05TX1NPVVJDRVMuRVhQUkVTU0lPTikge1xuICAgIHJldHVybiAnb3B0aW9uc0V4cHJlc3Npb24tZXhwcmVzc2lvbic7XG4gIH0gZWxzZSBpZiAodmFsdWVzU291cmNlID09PSBPUFRJT05TX1NPVVJDRVMuSU5QVVQpIHtcbiAgICByZXR1cm4gJ2R5bmFtaWNPcHRpb25zLWtleSc7XG4gIH0gZWxzZSBpZiAodmFsdWVzU291cmNlID09PSBPUFRJT05TX1NPVVJDRVMuU1RBVElDKSB7XG4gICAgcmV0dXJuICdzdGF0aWNPcHRpb25zLTAtbGFiZWwnO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBJbnB1dEtleU9wdGlvbnNTb3VyY2VFbnRyeShwcm9wcykge1xuICBjb25zdCB7XG4gICAgZWRpdEZpZWxkLFxuICAgIGZpZWxkLFxuICAgIGlkXG4gIH0gPSBwcm9wcztcbiAgcmV0dXJuIFt7XG4gICAgaWQ6IGlkICsgJy1rZXknLFxuICAgIGNvbXBvbmVudDogSW5wdXRWYWx1ZXNLZXksXG4gICAgaXNFZGl0ZWQ6IGlzRWRpdGVkLFxuICAgIGVkaXRGaWVsZCxcbiAgICBmaWVsZFxuICB9XTtcbn1cbmZ1bmN0aW9uIElucHV0VmFsdWVzS2V5KHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBlZGl0RmllbGQsXG4gICAgZmllbGQsXG4gICAgaWRcbiAgfSA9IHByb3BzO1xuICBjb25zdCBkZWJvdW5jZSA9IHVzZVNlcnZpY2UoJ2RlYm91bmNlJyk7XG4gIGNvbnN0IHBhdGggPSBPUFRJT05TX1NPVVJDRVNfUEFUSFNbT1BUSU9OU19TT1VSQ0VTLklOUFVUXTtcbiAgY29uc3Qgc2NoZW1hID0gJ1tcXG4gIHtcXG4gICAgXCJsYWJlbFwiOiBcImRvbGxhclwiLFxcbiAgICBcInZhbHVlXCI6IFwiJFwiXFxuICB9XFxuXSc7XG4gIGNvbnN0IHRvb2x0aXAgPSBqc3hzKFwiZGl2XCIsIHtcbiAgICBjaGlsZHJlbjogW1wiVGhlIGlucHV0IHByb3BlcnR5IG1heSBiZSBhbiBhcnJheSBvZiBzaW1wbGUgdmFsdWVzIG9yIGFsdGVybmF0aXZlbHkgZm9sbG93IHRoaXMgc2NoZW1hOlwiLCBqc3goXCJwcmVcIiwge1xuICAgICAgY2hpbGRyZW46IGpzeChcImNvZGVcIiwge1xuICAgICAgICBjaGlsZHJlbjogc2NoZW1hXG4gICAgICB9KVxuICAgIH0pXVxuICB9KTtcbiAgY29uc3QgZ2V0VmFsdWUgPSAoKSA9PiBnZXQoZmllbGQsIHBhdGgsICcnKTtcbiAgY29uc3Qgc2V0VmFsdWUgPSAodmFsdWUsIGVycm9yKSA9PiB7XG4gICAgaWYgKGVycm9yKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGVkaXRGaWVsZChmaWVsZCwgcGF0aCwgdmFsdWUgfHwgJycpO1xuICB9O1xuICByZXR1cm4gVGV4dGZpZWxkRW50cnkoe1xuICAgIGRlYm91bmNlLFxuICAgIGRlc2NyaXB0aW9uOiAnRGVmaW5lIHdoaWNoIGlucHV0IHByb3BlcnR5IHRvIHBvcHVsYXRlIHRoZSB2YWx1ZXMgZnJvbScsXG4gICAgdG9vbHRpcCxcbiAgICBlbGVtZW50OiBmaWVsZCxcbiAgICBnZXRWYWx1ZSxcbiAgICBpZCxcbiAgICBsYWJlbDogJ0lucHV0IHZhbHVlcyBrZXknLFxuICAgIHNldFZhbHVlLFxuICAgIHZhbGlkYXRlOiB2YWxpZGF0ZSQ2XG4gIH0pO1xufVxuXG4vLyBoZWxwZXJzIC8vLy8vLy8vLy9cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ3x2b2lkfSB2YWx1ZVxuICogQHJldHVybnMge3N0cmluZ3xudWxsfVxuICovXG5jb25zdCB2YWxpZGF0ZSQ2ID0gdmFsdWUgPT4ge1xuICBpZiAodHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJyB8fCB2YWx1ZS5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gJ011c3Qgbm90IGJlIGVtcHR5Lic7XG4gIH1cbiAgaWYgKC9cXHMvLnRlc3QodmFsdWUpKSB7XG4gICAgcmV0dXJuICdNdXN0IG5vdCBjb250YWluIHNwYWNlcy4nO1xuICB9XG4gIHJldHVybiBudWxsO1xufTtcblxuZnVuY3Rpb24gU3RhdGljT3B0aW9uc1NvdXJjZUVudHJ5KHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBlZGl0RmllbGQsXG4gICAgZmllbGQsXG4gICAgaWQ6IGlkUHJlZml4XG4gIH0gPSBwcm9wcztcbiAgY29uc3Qge1xuICAgIHZhbHVlc1xuICB9ID0gZmllbGQ7XG4gIGNvbnN0IGFkZEVudHJ5ID0gZSA9PiB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBjb25zdCBpbmRleCA9IHZhbHVlcy5sZW5ndGggKyAxO1xuICAgIGNvbnN0IGVudHJ5ID0gZ2V0SW5kZXhlZEVudHJ5KGluZGV4LCB2YWx1ZXMpO1xuICAgIGVkaXRGaWVsZChmaWVsZCwgT1BUSU9OU19TT1VSQ0VTX1BBVEhTW09QVElPTlNfU09VUkNFUy5TVEFUSUNdLCBhcnJheUFkZCh2YWx1ZXMsIHZhbHVlcy5sZW5ndGgsIGVudHJ5KSk7XG4gIH07XG4gIGNvbnN0IHJlbW92ZUVudHJ5ID0gZW50cnkgPT4ge1xuICAgIGlmIChmaWVsZC5kZWZhdWx0VmFsdWUgPT09IGVudHJ5LnZhbHVlKSB7XG4gICAgICBlZGl0RmllbGQoZmllbGQsIHtcbiAgICAgICAgdmFsdWVzOiB3aXRob3V0KHZhbHVlcywgZW50cnkpLFxuICAgICAgICBkZWZhdWx0VmFsdWU6IHVuZGVmaW5lZFxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVkaXRGaWVsZChmaWVsZCwgT1BUSU9OU19TT1VSQ0VTX1BBVEhTW09QVElPTlNfU09VUkNFUy5TVEFUSUNdLCB3aXRob3V0KHZhbHVlcywgZW50cnkpKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHZhbGlkYXRlRmFjdG9yeSA9IChrZXksIGdldFZhbHVlKSA9PiB7XG4gICAgcmV0dXJuIHZhbHVlID0+IHtcbiAgICAgIGlmICh2YWx1ZSA9PT0ga2V5KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnIHx8IHZhbHVlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gJ011c3Qgbm90IGJlIGVtcHR5Lic7XG4gICAgICB9XG4gICAgICBjb25zdCBpc1ZhbHVlQXNzaWduZWQgPSB2YWx1ZXMuZmluZChlbnRyeSA9PiBnZXRWYWx1ZShlbnRyeSkgPT09IHZhbHVlKTtcbiAgICAgIGlmIChpc1ZhbHVlQXNzaWduZWQpIHtcbiAgICAgICAgcmV0dXJuICdNdXN0IGJlIHVuaXF1ZS4nO1xuICAgICAgfVxuICAgIH07XG4gIH07XG4gIGNvbnN0IGl0ZW1zID0gdmFsdWVzLm1hcCgoZW50cnksIGluZGV4KSA9PiB7XG4gICAgY29uc3QgaWQgPSBpZFByZWZpeCArICctJyArIGluZGV4O1xuICAgIHJldHVybiB7XG4gICAgICBpZCxcbiAgICAgIGxhYmVsOiBlbnRyeS5sYWJlbCxcbiAgICAgIGVudHJpZXM6IFZhbHVlRW50cnkoe1xuICAgICAgICBlZGl0RmllbGQsXG4gICAgICAgIGZpZWxkLFxuICAgICAgICBpZFByZWZpeDogaWQsXG4gICAgICAgIGluZGV4LFxuICAgICAgICB2YWxpZGF0ZUZhY3RvcnlcbiAgICAgIH0pLFxuICAgICAgYXV0b0ZvY3VzRW50cnk6IGlkICsgJy1sYWJlbCcsXG4gICAgICByZW1vdmU6ICgpID0+IHJlbW92ZUVudHJ5KGVudHJ5KVxuICAgIH07XG4gIH0pO1xuICByZXR1cm4ge1xuICAgIGl0ZW1zLFxuICAgIGFkZDogYWRkRW50cnlcbiAgfTtcbn1cblxuLy8gaGVscGVyXG5cbmZ1bmN0aW9uIGdldEluZGV4ZWRFbnRyeShpbmRleCwgdmFsdWVzKSB7XG4gIGNvbnN0IGVudHJ5ID0ge1xuICAgIGxhYmVsOiAnVmFsdWUnLFxuICAgIHZhbHVlOiAndmFsdWUnXG4gIH07XG4gIHdoaWxlIChsYWJlbE9yVmFsdWVJc0FscmVhZHlBc3NpZ25lZEZvckluZGV4KGluZGV4LCB2YWx1ZXMpKSB7XG4gICAgaW5kZXgrKztcbiAgfVxuICBpZiAoaW5kZXggPiAxKSB7XG4gICAgZW50cnkubGFiZWwgKz0gYCAke2luZGV4fWA7XG4gICAgZW50cnkudmFsdWUgKz0gYCR7aW5kZXh9YDtcbiAgfVxuICByZXR1cm4gZW50cnk7XG59XG5mdW5jdGlvbiBsYWJlbE9yVmFsdWVJc0FscmVhZHlBc3NpZ25lZEZvckluZGV4KGluZGV4LCB2YWx1ZXMpIHtcbiAgcmV0dXJuIHZhbHVlcy5zb21lKGV4aXN0aW5nRW50cnkgPT4gZXhpc3RpbmdFbnRyeS5sYWJlbCA9PT0gYFZhbHVlICR7aW5kZXh9YCB8fCBleGlzdGluZ0VudHJ5LnZhbHVlID09PSBgdmFsdWUke2luZGV4fWApO1xufVxuXG5mdW5jdGlvbiBBZG9ybmVyRW50cnkocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGVkaXRGaWVsZCxcbiAgICBmaWVsZFxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IGVudHJpZXMgPSBbXTtcbiAgY29uc3Qgb25DaGFuZ2UgPSBrZXkgPT4ge1xuICAgIHJldHVybiB2YWx1ZSA9PiB7XG4gICAgICBjb25zdCBhcHBlYXJhbmNlID0gZ2V0KGZpZWxkLCBbJ2FwcGVhcmFuY2UnXSwge30pO1xuICAgICAgZWRpdEZpZWxkKGZpZWxkLCBbJ2FwcGVhcmFuY2UnXSwgc2V0JDEoYXBwZWFyYW5jZSwgW2tleV0sIHZhbHVlKSk7XG4gICAgfTtcbiAgfTtcbiAgY29uc3QgZ2V0VmFsdWUgPSBrZXkgPT4ge1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICByZXR1cm4gZ2V0KGZpZWxkLCBbJ2FwcGVhcmFuY2UnLCBrZXldKTtcbiAgICB9O1xuICB9O1xuICBlbnRyaWVzLnB1c2goe1xuICAgIGlkOiAncHJlZml4LWFkb3JuZXInLFxuICAgIGNvbXBvbmVudDogUHJlZml4QWRvcm5lcixcbiAgICBpc0VkaXRlZDogaXNFZGl0ZWQkNSxcbiAgICBlZGl0RmllbGQsXG4gICAgZmllbGQsXG4gICAgb25DaGFuZ2UsXG4gICAgZ2V0VmFsdWUsXG4gICAgaXNEZWZhdWx0VmlzaWJsZTogZmllbGQgPT4gWydudW1iZXInLCAndGV4dGZpZWxkJ10uaW5jbHVkZXMoZmllbGQudHlwZSlcbiAgfSk7XG4gIGVudHJpZXMucHVzaCh7XG4gICAgaWQ6ICdzdWZmaXgtYWRvcm5lcicsXG4gICAgY29tcG9uZW50OiBTdWZmaXhBZG9ybmVyLFxuICAgIGlzRWRpdGVkOiBpc0VkaXRlZCQ1LFxuICAgIGVkaXRGaWVsZCxcbiAgICBmaWVsZCxcbiAgICBvbkNoYW5nZSxcbiAgICBnZXRWYWx1ZSxcbiAgICBpc0RlZmF1bHRWaXNpYmxlOiBmaWVsZCA9PiBbJ251bWJlcicsICd0ZXh0ZmllbGQnXS5pbmNsdWRlcyhmaWVsZC50eXBlKVxuICB9KTtcbiAgcmV0dXJuIGVudHJpZXM7XG59XG5mdW5jdGlvbiBQcmVmaXhBZG9ybmVyKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBmaWVsZCxcbiAgICBpZCxcbiAgICBvbkNoYW5nZSxcbiAgICBnZXRWYWx1ZVxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IGRlYm91bmNlID0gdXNlU2VydmljZSgnZGVib3VuY2UnKTtcbiAgY29uc3QgdmFyaWFibGVzID0gdXNlVmFyaWFibGVzKCkubWFwKG5hbWUgPT4gKHtcbiAgICBuYW1lXG4gIH0pKTtcbiAgcmV0dXJuIEZlZWxUZW1wbGF0aW5nRW50cnkoe1xuICAgIGRlYm91bmNlLFxuICAgIGVsZW1lbnQ6IGZpZWxkLFxuICAgIGZlZWw6ICdvcHRpb25hbCcsXG4gICAgZ2V0VmFsdWU6IGdldFZhbHVlKCdwcmVmaXhBZG9ybmVyJyksXG4gICAgaWQsXG4gICAgbGFiZWw6ICdQcmVmaXgnLFxuICAgIHNldFZhbHVlOiBvbkNoYW5nZSgncHJlZml4QWRvcm5lcicpLFxuICAgIHNpbmdsZUxpbmU6IHRydWUsXG4gICAgdmFyaWFibGVzXG4gIH0pO1xufVxuZnVuY3Rpb24gU3VmZml4QWRvcm5lcihwcm9wcykge1xuICBjb25zdCB7XG4gICAgZmllbGQsXG4gICAgaWQsXG4gICAgb25DaGFuZ2UsXG4gICAgZ2V0VmFsdWVcbiAgfSA9IHByb3BzO1xuICBjb25zdCBkZWJvdW5jZSA9IHVzZVNlcnZpY2UoJ2RlYm91bmNlJyk7XG4gIGNvbnN0IHZhcmlhYmxlcyA9IHVzZVZhcmlhYmxlcygpLm1hcChuYW1lID0+ICh7XG4gICAgbmFtZVxuICB9KSk7XG4gIHJldHVybiBGZWVsVGVtcGxhdGluZ0VudHJ5KHtcbiAgICBkZWJvdW5jZSxcbiAgICBlbGVtZW50OiBmaWVsZCxcbiAgICBnZXRWYWx1ZTogZ2V0VmFsdWUoJ3N1ZmZpeEFkb3JuZXInKSxcbiAgICBpZCxcbiAgICBsYWJlbDogJ1N1ZmZpeCcsXG4gICAgc2V0VmFsdWU6IG9uQ2hhbmdlKCdzdWZmaXhBZG9ybmVyJyksXG4gICAgc2luZ2xlTGluZTogdHJ1ZSxcbiAgICB2YXJpYWJsZXNcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIFJlYWRvbmx5RW50cnkocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGVkaXRGaWVsZCxcbiAgICBmaWVsZFxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IHtcbiAgICBkaXNhYmxlZFxuICB9ID0gZmllbGQ7XG4gIGNvbnN0IGVudHJpZXMgPSBbXTtcbiAgaWYgKCFkaXNhYmxlZCkge1xuICAgIGVudHJpZXMucHVzaCh7XG4gICAgICBpZDogJ3JlYWRvbmx5JyxcbiAgICAgIGNvbXBvbmVudDogUmVhZG9ubHksXG4gICAgICBlZGl0RmllbGQ6IGVkaXRGaWVsZCxcbiAgICAgIGZpZWxkOiBmaWVsZCxcbiAgICAgIGlzRWRpdGVkOiBpc0VkaXRlZCQ1LFxuICAgICAgaXNEZWZhdWx0VmlzaWJsZTogZmllbGQgPT4gSU5QVVRTLmluY2x1ZGVzKGZpZWxkLnR5cGUpXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIGVudHJpZXM7XG59XG5mdW5jdGlvbiBSZWFkb25seShwcm9wcykge1xuICBjb25zdCB7XG4gICAgZWRpdEZpZWxkLFxuICAgIGZpZWxkLFxuICAgIGlkXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgZGVib3VuY2UgPSB1c2VTZXJ2aWNlKCdkZWJvdW5jZScpO1xuICBjb25zdCB2YXJpYWJsZXMgPSB1c2VWYXJpYWJsZXMoKS5tYXAobmFtZSA9PiAoe1xuICAgIG5hbWVcbiAgfSkpO1xuICBjb25zdCBwYXRoID0gWydyZWFkb25seSddO1xuICBjb25zdCBnZXRWYWx1ZSA9ICgpID0+IHtcbiAgICByZXR1cm4gZ2V0KGZpZWxkLCBwYXRoLCAnJyk7XG4gIH07XG4gIGNvbnN0IHNldFZhbHVlID0gdmFsdWUgPT4ge1xuICAgIHJldHVybiBlZGl0RmllbGQoZmllbGQsIHBhdGgsIHZhbHVlIHx8IGZhbHNlKTtcbiAgfTtcbiAgcmV0dXJuIEZlZWxUb2dnbGVTd2l0Y2hFbnRyeSh7XG4gICAgZGVib3VuY2UsXG4gICAgZWxlbWVudDogZmllbGQsXG4gICAgZmVlbDogJ29wdGlvbmFsJyxcbiAgICBnZXRWYWx1ZSxcbiAgICBpZCxcbiAgICBsYWJlbDogJ1JlYWQgb25seScsXG4gICAgdG9vbHRpcDogJ01ha2UgdGhpcyBmaWVsZCByZWFkLW9ubHkgd2hlbiBpdCBjYW5ub3QgYmUgZWRpdGVkIGJ5IHRoZSBlbmQtdXNlciwgYnV0IGl0cyBjb250ZW50IGlzIGltcG9ydGFudCBmb3IgdGhlbSB0byBzZWUuIEl0cyBkYXRhIHdpbGwgc3RpbGwgYmUgc3VibWl0dGVkLicsXG4gICAgc2V0VmFsdWUsXG4gICAgdmFyaWFibGVzXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBMYXlvdXRlckFwcGVhcmFuY2VFbnRyeShwcm9wcykge1xuICBjb25zdCB7XG4gICAgZmllbGRcbiAgfSA9IHByb3BzO1xuICBpZiAoIVsnZ3JvdXAnLCAnZHluYW1pY2xpc3QnXS5pbmNsdWRlcyhmaWVsZC50eXBlKSkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICBjb25zdCBlbnRyaWVzID0gW3NpbXBsZVNlbGVjdEVudHJ5RmFjdG9yeSh7XG4gICAgaWQ6ICd2ZXJ0aWNhbEFsaWdubWVudCcsXG4gICAgcGF0aDogWyd2ZXJ0aWNhbEFsaWdubWVudCddLFxuICAgIGxhYmVsOiAnVmVydGljYWwgYWxpZ25tZW50JyxcbiAgICBvcHRpb25zQXJyYXk6IFt7XG4gICAgICB2YWx1ZTogJ3N0YXJ0JyxcbiAgICAgIGxhYmVsOiAnVG9wJ1xuICAgIH0sIHtcbiAgICAgIHZhbHVlOiAnY2VudGVyJyxcbiAgICAgIGxhYmVsOiAnQ2VudGVyJ1xuICAgIH0sIHtcbiAgICAgIHZhbHVlOiAnZW5kJyxcbiAgICAgIGxhYmVsOiAnQm90dG9tJ1xuICAgIH1dLFxuICAgIHByb3BzXG4gIH0pXTtcbiAgcmV0dXJuIGVudHJpZXM7XG59XG5cbmZ1bmN0aW9uIFJlcGVhdGFibGVFbnRyeShwcm9wcykge1xuICBjb25zdCB7XG4gICAgZmllbGQsXG4gICAgZ2V0U2VydmljZVxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IHtcbiAgICB0eXBlXG4gIH0gPSBmaWVsZDtcbiAgY29uc3QgZm9ybUZpZWxkRGVmaW5pdGlvbiA9IGdldFNlcnZpY2UoJ2Zvcm1GaWVsZHMnKS5nZXQodHlwZSk7XG4gIGlmICghZm9ybUZpZWxkRGVmaW5pdGlvbiB8fCAhZm9ybUZpZWxkRGVmaW5pdGlvbi5jb25maWcucmVwZWF0YWJsZSkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICBjb25zdCBlbnRyaWVzID0gW3NpbXBsZVJhbmdlSW50ZWdlckVudHJ5RmFjdG9yeSh7XG4gICAgaWQ6ICdkZWZhdWx0UmVwZXRpdGlvbnMnLFxuICAgIHBhdGg6IFsnZGVmYXVsdFJlcGV0aXRpb25zJ10sXG4gICAgbGFiZWw6ICdEZWZhdWx0IG51bWJlciBvZiBpdGVtcycsXG4gICAgbWluOiAxLFxuICAgIG1heDogMTAwLFxuICAgIHByb3BzXG4gIH0pLCBzaW1wbGVCb29sRW50cnlGYWN0b3J5KHtcbiAgICBpZDogJ2FsbG93QWRkUmVtb3ZlJyxcbiAgICBwYXRoOiBbJ2FsbG93QWRkUmVtb3ZlJ10sXG4gICAgbGFiZWw6ICdBbGxvdyBhZGQvZGVsZXRlIGl0ZW1zJyxcbiAgICBwcm9wc1xuICB9KSwgc2ltcGxlQm9vbEVudHJ5RmFjdG9yeSh7XG4gICAgaWQ6ICdkaXNhYmxlQ29sbGFwc2UnLFxuICAgIHBhdGg6IFsnZGlzYWJsZUNvbGxhcHNlJ10sXG4gICAgbGFiZWw6ICdEaXNhYmxlIGNvbGxhcHNlJyxcbiAgICBwcm9wc1xuICB9KV07XG4gIGlmICghZmllbGQuZGlzYWJsZUNvbGxhcHNlKSB7XG4gICAgY29uc3Qgbm9uQ29sbGFwc2VJdGVtc0VudHJ5ID0gc2ltcGxlUmFuZ2VJbnRlZ2VyRW50cnlGYWN0b3J5KHtcbiAgICAgIGlkOiAnbm9uQ29sbGFwc2VkSXRlbXMnLFxuICAgICAgcGF0aDogWydub25Db2xsYXBzZWRJdGVtcyddLFxuICAgICAgbGFiZWw6ICdOdW1iZXIgb2Ygbm9uLWNvbGxhcHNpbmcgaXRlbXMnLFxuICAgICAgbWluOiAxLFxuICAgICAgcHJvcHNcbiAgICB9KTtcbiAgICBlbnRyaWVzLnB1c2gobm9uQ29sbGFwc2VJdGVtc0VudHJ5KTtcbiAgfVxuICByZXR1cm4gZW50cmllcztcbn1cblxuZnVuY3Rpb24gQ29uZGl0aW9uRW50cnkocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGVkaXRGaWVsZCxcbiAgICBmaWVsZFxuICB9ID0gcHJvcHM7XG4gIHJldHVybiBbe1xuICAgIGlkOiAnY29uZGl0aW9uYWwtaGlkZScsXG4gICAgY29tcG9uZW50OiBDb25kaXRpb24sXG4gICAgZWRpdEZpZWxkOiBlZGl0RmllbGQsXG4gICAgZmllbGQ6IGZpZWxkLFxuICAgIGlzRWRpdGVkOiBpc0VkaXRlZCQ1XG4gIH1dO1xufVxuZnVuY3Rpb24gQ29uZGl0aW9uKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBlZGl0RmllbGQsXG4gICAgZmllbGQsXG4gICAgaWRcbiAgfSA9IHByb3BzO1xuICBjb25zdCBkZWJvdW5jZSA9IHVzZVNlcnZpY2UoJ2RlYm91bmNlJyk7XG4gIGNvbnN0IHZhcmlhYmxlcyA9IHVzZVZhcmlhYmxlcygpLm1hcChuYW1lID0+ICh7XG4gICAgbmFtZVxuICB9KSk7XG4gIGNvbnN0IHBhdGggPSBbJ2NvbmRpdGlvbmFsJywgJ2hpZGUnXTtcbiAgY29uc3QgZ2V0VmFsdWUgPSAoKSA9PiB7XG4gICAgcmV0dXJuIGdldChmaWVsZCwgcGF0aCwgJycpO1xuICB9O1xuICBjb25zdCBzZXRWYWx1ZSA9IHZhbHVlID0+IHtcbiAgICBpZiAoIXZhbHVlKSB7XG4gICAgICByZXR1cm4gZWRpdEZpZWxkKGZpZWxkLCAnY29uZGl0aW9uYWwnLCB1bmRlZmluZWQpO1xuICAgIH1cbiAgICByZXR1cm4gZWRpdEZpZWxkKGZpZWxkLCAnY29uZGl0aW9uYWwnLCB7XG4gICAgICBoaWRlOiB2YWx1ZVxuICAgIH0pO1xuICB9O1xuICBsZXQgbGFiZWwgPSAnSGlkZSBpZic7XG4gIGxldCBkZXNjcmlwdGlvbiA9ICdDb25kaXRpb24gdW5kZXIgd2hpY2ggdGhlIGZpZWxkIGlzIGhpZGRlbic7XG5cbiAgLy8gc3BlY2lhbCBjYXNlIGZvciBleHByZXNzaW9uIGZpZWxkcyB3aGljaCBkbyBub3QgcmVuZGVyXG4gIGlmIChmaWVsZC50eXBlID09PSAnZXhwcmVzc2lvbicpIHtcbiAgICBsYWJlbCA9ICdEZWFjdGl2YXRlIGlmJztcbiAgICBkZXNjcmlwdGlvbiA9ICdDb25kaXRpb24gdW5kZXIgd2hpY2ggdGhlIGZpZWxkIGlzIGRlYWN0aXZhdGVkJztcbiAgfVxuICByZXR1cm4gRmVlbEVudHJ5KHtcbiAgICBkZWJvdW5jZSxcbiAgICBkZXNjcmlwdGlvbixcbiAgICBlbGVtZW50OiBmaWVsZCxcbiAgICBmZWVsOiAncmVxdWlyZWQnLFxuICAgIGdldFZhbHVlLFxuICAgIGlkLFxuICAgIGxhYmVsLFxuICAgIHNldFZhbHVlLFxuICAgIHZhcmlhYmxlc1xuICB9KTtcbn1cblxuZnVuY3Rpb24gT3B0aW9uc0V4cHJlc3Npb25FbnRyeShwcm9wcykge1xuICBjb25zdCB7XG4gICAgZWRpdEZpZWxkLFxuICAgIGZpZWxkLFxuICAgIGlkXG4gIH0gPSBwcm9wcztcbiAgcmV0dXJuIFt7XG4gICAgaWQ6IGlkICsgJy1leHByZXNzaW9uJyxcbiAgICBjb21wb25lbnQ6IE9wdGlvbnNFeHByZXNzaW9uLFxuICAgIGlzRWRpdGVkOiBpc0VkaXRlZCQ1LFxuICAgIGVkaXRGaWVsZCxcbiAgICBmaWVsZFxuICB9XTtcbn1cbmZ1bmN0aW9uIE9wdGlvbnNFeHByZXNzaW9uKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBlZGl0RmllbGQsXG4gICAgZmllbGQsXG4gICAgaWRcbiAgfSA9IHByb3BzO1xuICBjb25zdCBkZWJvdW5jZSA9IHVzZVNlcnZpY2UoJ2RlYm91bmNlJyk7XG4gIGNvbnN0IHZhcmlhYmxlcyA9IHVzZVZhcmlhYmxlcygpLm1hcChuYW1lID0+ICh7XG4gICAgbmFtZVxuICB9KSk7XG4gIGNvbnN0IHBhdGggPSBPUFRJT05TX1NPVVJDRVNfUEFUSFNbT1BUSU9OU19TT1VSQ0VTLkVYUFJFU1NJT05dO1xuICBjb25zdCBzY2hlbWEgPSAnW1xcbiAge1xcbiAgICBcImxhYmVsXCI6IFwiZG9sbGFyXCIsXFxuICAgIFwidmFsdWVcIjogXCIkXCJcXG4gIH1cXG5dJztcbiAgY29uc3QgdG9vbHRpcCA9IGpzeHMoXCJkaXZcIiwge1xuICAgIGNoaWxkcmVuOiBbXCJUaGUgZXhwcmVzc2lvbiBtYXkgcmVzdWx0IGluIGFuIGFycmF5IG9mIHNpbXBsZSB2YWx1ZXMgb3IgYWx0ZXJuYXRpdmVseSBmb2xsb3cgdGhpcyBzY2hlbWE6XCIsIGpzeChcInByZVwiLCB7XG4gICAgICBjaGlsZHJlbjoganN4KFwiY29kZVwiLCB7XG4gICAgICAgIGNoaWxkcmVuOiBzY2hlbWFcbiAgICAgIH0pXG4gICAgfSldXG4gIH0pO1xuICBjb25zdCBnZXRWYWx1ZSA9ICgpID0+IGdldChmaWVsZCwgcGF0aCwgJycpO1xuICBjb25zdCBzZXRWYWx1ZSA9IHZhbHVlID0+IGVkaXRGaWVsZChmaWVsZCwgcGF0aCwgdmFsdWUgfHwgJycpO1xuICByZXR1cm4gRmVlbEVudHJ5KHtcbiAgICBkZWJvdW5jZSxcbiAgICBkZXNjcmlwdGlvbjogJ0RlZmluZSBhbiBleHByZXNzaW9uIHRvIHBvcHVsYXRlIHRoZSBvcHRpb25zIGZyb20uJyxcbiAgICB0b29sdGlwLFxuICAgIGVsZW1lbnQ6IGZpZWxkLFxuICAgIGZlZWw6ICdyZXF1aXJlZCcsXG4gICAgZ2V0VmFsdWUsXG4gICAgaWQsXG4gICAgbGFiZWw6ICdPcHRpb25zIGV4cHJlc3Npb24nLFxuICAgIHNldFZhbHVlLFxuICAgIHZhcmlhYmxlc1xuICB9KTtcbn1cblxuZnVuY3Rpb24gVGFibGVEYXRhU291cmNlRW50cnkocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGVkaXRGaWVsZCxcbiAgICBmaWVsZFxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IGVudHJpZXMgPSBbXTtcbiAgZW50cmllcy5wdXNoKHtcbiAgICBpZDogJ2RhdGFTb3VyY2UnLFxuICAgIGNvbXBvbmVudDogU291cmNlLFxuICAgIGVkaXRGaWVsZDogZWRpdEZpZWxkLFxuICAgIGZpZWxkOiBmaWVsZCxcbiAgICBpc0VkaXRlZDogaXNFZGl0ZWQkNSxcbiAgICBpc0RlZmF1bHRWaXNpYmxlOiBmaWVsZCA9PiBmaWVsZC50eXBlID09PSAndGFibGUnXG4gIH0pO1xuICByZXR1cm4gZW50cmllcztcbn1cbmZ1bmN0aW9uIFNvdXJjZShwcm9wcykge1xuICBjb25zdCB7XG4gICAgZWRpdEZpZWxkLFxuICAgIGZpZWxkLFxuICAgIGlkXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgZGVib3VuY2UgPSB1c2VTZXJ2aWNlKCdkZWJvdW5jZScpO1xuICBjb25zdCB2YXJpYWJsZXMgPSB1c2VWYXJpYWJsZXMoKS5tYXAobmFtZSA9PiAoe1xuICAgIG5hbWVcbiAgfSkpO1xuICBjb25zdCBwYXRoID0gWydkYXRhU291cmNlJ107XG4gIGNvbnN0IGdldFZhbHVlID0gKCkgPT4ge1xuICAgIHJldHVybiBnZXQoZmllbGQsIHBhdGgsIGZpZWxkLmlkKTtcbiAgfTtcbiAgY29uc3Qgc2V0VmFsdWUgPSAodmFsdWUsIGVycm9yKSA9PiB7XG4gICAgaWYgKGVycm9yKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGVkaXRGaWVsZChmaWVsZCwgcGF0aCwgdmFsdWUpO1xuICB9O1xuICByZXR1cm4gRmVlbFRlbXBsYXRpbmdFbnRyeSh7XG4gICAgZGVib3VuY2UsXG4gICAgZGVzY3JpcHRpb246ICdTcGVjaWZ5IHRoZSBzb3VyY2UgZnJvbSB3aGljaCB0byBwb3B1bGF0ZSB0aGUgdGFibGUnLFxuICAgIGVsZW1lbnQ6IGZpZWxkLFxuICAgIGZlZWw6ICdyZXF1aXJlZCcsXG4gICAgZ2V0VmFsdWUsXG4gICAgaWQsXG4gICAgbGFiZWw6ICdEYXRhIHNvdXJjZScsXG4gICAgdG9vbHRpcDogJ0VudGVyIGEgZm9ybSBpbnB1dCB2YXJpYWJsZSB0aGF0IGNvbnRhaW5zIHRoZSBkYXRhIGZvciB0aGUgdGFibGUgb3IgZGVmaW5lIGFuIGV4cHJlc3Npb24gdG8gcG9wdWxhdGUgdGhlIGRhdGEgZHluYW1pY2FsbHkuJyxcbiAgICBzZXRWYWx1ZSxcbiAgICBzaW5nbGVMaW5lOiB0cnVlLFxuICAgIHZhcmlhYmxlcyxcbiAgICB2YWxpZGF0ZTogdmFsaWRhdGUkNVxuICB9KTtcbn1cblxuLy8gaGVscGVyIC8vLy8vLy8vLy8vLy8vLy9cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ3x2b2lkfSB2YWx1ZVxuICogQHJldHVybnMge3N0cmluZ3xudWxsfVxuICovXG5jb25zdCB2YWxpZGF0ZSQ1ID0gdmFsdWUgPT4ge1xuICBpZiAoIWlzU3RyaW5nKHZhbHVlKSB8fCB2YWx1ZS5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gJ011c3Qgbm90IGJlIGVtcHR5Lic7XG4gIH1cbiAgaWYgKHZhbHVlLnN0YXJ0c1dpdGgoJz0nKSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGlmICghaXNWYWxpZERvdFBhdGgodmFsdWUpKSB7XG4gICAgcmV0dXJuICdNdXN0IGJlIGEgdmFyaWFibGUgb3IgYSBkb3Qgc2VwYXJhdGVkIHBhdGguJztcbiAgfVxuICBpZiAoaGFzSW50ZWdlclBhdGhTZWdtZW50KHZhbHVlKSkge1xuICAgIHJldHVybiAnTXVzdCBub3QgY29udGFpbiBudW1lcmljYWwgcGF0aCBzZWdtZW50cy4nO1xuICB9XG4gIHJldHVybiBudWxsO1xufTtcblxuZnVuY3Rpb24gUGFnaW5hdGlvbkVudHJ5KHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBlZGl0RmllbGQsXG4gICAgZmllbGRcbiAgfSA9IHByb3BzO1xuICBjb25zdCBlbnRyaWVzID0gW107XG4gIGVudHJpZXMucHVzaCh7XG4gICAgaWQ6ICdwYWdpbmF0aW9uJyxcbiAgICBjb21wb25lbnQ6IFBhZ2luYXRpb24sXG4gICAgZWRpdEZpZWxkOiBlZGl0RmllbGQsXG4gICAgZmllbGQ6IGZpZWxkLFxuICAgIGlzRWRpdGVkOiBpc0VkaXRlZCQ3LFxuICAgIGlzRGVmYXVsdFZpc2libGU6IGZpZWxkID0+IGZpZWxkLnR5cGUgPT09ICd0YWJsZSdcbiAgfSk7XG4gIHJldHVybiBlbnRyaWVzO1xufVxuZnVuY3Rpb24gUGFnaW5hdGlvbihwcm9wcykge1xuICBjb25zdCB7XG4gICAgZWRpdEZpZWxkLFxuICAgIGZpZWxkLFxuICAgIGlkXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgZGVmYXVsdFJvd0NvdW50ID0gMTA7XG4gIGNvbnN0IHBhdGggPSBbJ3Jvd0NvdW50J107XG4gIGNvbnN0IGdldFZhbHVlID0gKCkgPT4ge1xuICAgIHJldHVybiBpc051bWJlcihnZXQoZmllbGQsIHBhdGgpKTtcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtib29sZWFufSB2YWx1ZVxuICAgKi9cbiAgY29uc3Qgc2V0VmFsdWUgPSB2YWx1ZSA9PiB7XG4gICAgdmFsdWUgPyBlZGl0RmllbGQoZmllbGQsIHBhdGgsIGRlZmF1bHRSb3dDb3VudCkgOiBlZGl0RmllbGQoZmllbGQsIHBhdGgsIHVuZGVmaW5lZCk7XG4gIH07XG4gIHJldHVybiBUb2dnbGVTd2l0Y2hFbnRyeSh7XG4gICAgZWxlbWVudDogZmllbGQsXG4gICAgZ2V0VmFsdWUsXG4gICAgaWQsXG4gICAgbGFiZWw6ICdQYWdpbmF0aW9uJyxcbiAgICBpbmxpbmU6IHRydWUsXG4gICAgc2V0VmFsdWVcbiAgfSk7XG59XG5cbmNvbnN0IHBhdGgkMiA9IFsncm93Q291bnQnXTtcbmZ1bmN0aW9uIFJvd0NvdW50RW50cnkocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGVkaXRGaWVsZCxcbiAgICBmaWVsZFxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IGVudHJpZXMgPSBbXTtcbiAgZW50cmllcy5wdXNoKHtcbiAgICBpZDogJ3Jvd0NvdW50JyxcbiAgICBjb21wb25lbnQ6IFJvd0NvdW50LFxuICAgIGlzRWRpdGVkOiBpc0VkaXRlZCQ2LFxuICAgIGVkaXRGaWVsZCxcbiAgICBmaWVsZCxcbiAgICBpc0RlZmF1bHRWaXNpYmxlOiBmaWVsZCA9PiBmaWVsZC50eXBlID09PSAndGFibGUnICYmIGlzTnVtYmVyKGdldChmaWVsZCwgcGF0aCQyKSlcbiAgfSk7XG4gIHJldHVybiBlbnRyaWVzO1xufVxuZnVuY3Rpb24gUm93Q291bnQocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGVkaXRGaWVsZCxcbiAgICBmaWVsZCxcbiAgICBpZFxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IGRlYm91bmNlID0gdXNlU2VydmljZSgnZGVib3VuY2UnKTtcbiAgY29uc3QgZ2V0VmFsdWUgPSAoKSA9PiBnZXQoZmllbGQsIHBhdGgkMik7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfHZvaWR9IHZhbHVlXG4gICAqIEBwYXJhbSB7c3RyaW5nfG51bGx9IGVycm9yXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi9cbiAgY29uc3Qgc2V0VmFsdWUgPSAodmFsdWUsIGVycm9yKSA9PiB7XG4gICAgaWYgKGVycm9yKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGVkaXRGaWVsZChmaWVsZCwgcGF0aCQyLCB2YWx1ZSk7XG4gIH07XG4gIHJldHVybiBOdW1iZXJGaWVsZEVudHJ5KHtcbiAgICBkZWJvdW5jZSxcbiAgICBsYWJlbDogJ051bWJlciBvZiByb3dzIHBlciBwYWdlJyxcbiAgICBlbGVtZW50OiBmaWVsZCxcbiAgICBpZCxcbiAgICBnZXRWYWx1ZSxcbiAgICBzZXRWYWx1ZSxcbiAgICB2YWxpZGF0ZTogdmFsaWRhdGUkNFxuICB9KTtcbn1cblxuLy8gaGVscGVycyAvLy8vLy8vLy8vXG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd8dm9pZH0gdmFsdWVcbiAqIEByZXR1cm5zIHtzdHJpbmd8bnVsbH1cbiAqL1xuY29uc3QgdmFsaWRhdGUkNCA9IHZhbHVlID0+IHtcbiAgaWYgKGlzTmlsKHZhbHVlKSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGlmICghaXNOdW1iZXIodmFsdWUpKSB7XG4gICAgcmV0dXJuICdNdXN0IGJlIG51bWJlcic7XG4gIH1cbiAgaWYgKCFOdW1iZXIuaXNJbnRlZ2VyKHZhbHVlKSkge1xuICAgIHJldHVybiAnU2hvdWxkIGJlIGFuIGludGVnZXIuJztcbiAgfVxuICBpZiAodmFsdWUgPCAxKSB7XG4gICAgcmV0dXJuICdTaG91bGQgYmUgZ3JlYXRlciB0aGFuIHplcm8uJztcbiAgfVxuICByZXR1cm4gbnVsbDtcbn07XG5cbmNvbnN0IE9QVElPTlMgPSB7XG4gIHN0YXRpYzoge1xuICAgIGxhYmVsOiAnTGlzdCBvZiBpdGVtcycsXG4gICAgdmFsdWU6ICdzdGF0aWMnXG4gIH0sXG4gIGV4cHJlc3Npb246IHtcbiAgICBsYWJlbDogJ0V4cHJlc3Npb24nLFxuICAgIHZhbHVlOiAnZXhwcmVzc2lvbidcbiAgfVxufTtcbmNvbnN0IFNFTEVDVF9PUFRJT05TID0gT2JqZWN0LnZhbHVlcyhPUFRJT05TKTtcbmNvbnN0IENPTFVNTlNfUEFUSCA9IFsnY29sdW1ucyddO1xuY29uc3QgQ09MVU1OU19FWFBSRVNTSU9OX1BBVEggPSBbJ2NvbHVtbnNFeHByZXNzaW9uJ107XG5jb25zdCBpc0hlYWRlcnNTb3VyY2VFZGl0ZWQgPSBpc0VkaXRlZEZyb21EZWZhdWx0RmFjdG9yeShPUFRJT05TLnN0YXRpYy52YWx1ZSk7XG5mdW5jdGlvbiBIZWFkZXJzU291cmNlU2VsZWN0RW50cnkocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGVkaXRGaWVsZCxcbiAgICBmaWVsZCxcbiAgICBpZFxuICB9ID0gcHJvcHM7XG4gIHJldHVybiBbe1xuICAgIGlkOiBpZCArICctc2VsZWN0JyxcbiAgICBjb21wb25lbnQ6IEhlYWRlcnNTb3VyY2VTZWxlY3QsXG4gICAgaXNFZGl0ZWQ6IGlzSGVhZGVyc1NvdXJjZUVkaXRlZCxcbiAgICBlZGl0RmllbGQsXG4gICAgZmllbGRcbiAgfV07XG59XG5mdW5jdGlvbiBIZWFkZXJzU291cmNlU2VsZWN0KHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBlZGl0RmllbGQsXG4gICAgZmllbGQsXG4gICAgaWRcbiAgfSA9IHByb3BzO1xuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfHZvaWR9XG4gICAqL1xuICBjb25zdCBnZXRWYWx1ZSA9ICgpID0+IHtcbiAgICBjb25zdCBjb2x1bW5zID0gZ2V0KGZpZWxkLCBDT0xVTU5TX1BBVEgpO1xuICAgIGNvbnN0IGNvbHVtbnNFeHByZXNzaW9uID0gZ2V0KGZpZWxkLCBDT0xVTU5TX0VYUFJFU1NJT05fUEFUSCk7XG4gICAgaWYgKGlzU3RyaW5nKGNvbHVtbnNFeHByZXNzaW9uKSkge1xuICAgICAgcmV0dXJuIE9QVElPTlMuZXhwcmVzc2lvbi52YWx1ZTtcbiAgICB9XG4gICAgaWYgKGlzQXJyYXkoY29sdW1ucykpIHtcbiAgICAgIHJldHVybiBPUFRJT05TLnN0YXRpYy52YWx1ZTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfHZvaWR9IHZhbHVlXG4gICAqL1xuICBjb25zdCBzZXRWYWx1ZSA9IHZhbHVlID0+IHtcbiAgICBzd2l0Y2ggKHZhbHVlKSB7XG4gICAgICBjYXNlIE9QVElPTlMuc3RhdGljLnZhbHVlOlxuICAgICAgICBlZGl0RmllbGQoZmllbGQsIHtcbiAgICAgICAgICBjb2x1bW5zOiBbe1xuICAgICAgICAgICAgbGFiZWw6ICdDb2x1bW4nLFxuICAgICAgICAgICAga2V5OiAnaW5wdXRWYXJpYWJsZSdcbiAgICAgICAgICB9XVxuICAgICAgICB9KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIE9QVElPTlMuZXhwcmVzc2lvbi52YWx1ZTpcbiAgICAgICAgZWRpdEZpZWxkKGZpZWxkLCB7XG4gICAgICAgICAgY29sdW1uc0V4cHJlc3Npb246ICc9J1xuICAgICAgICB9KTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9O1xuICBjb25zdCBnZXRWYWx1ZXNTb3VyY2VPcHRpb25zID0gKCkgPT4ge1xuICAgIHJldHVybiBTRUxFQ1RfT1BUSU9OUztcbiAgfTtcbiAgcmV0dXJuIEF1dG9Gb2N1c1NlbGVjdEVudHJ5KHtcbiAgICBhdXRvRm9jdXNFbnRyeTogZ2V0QXV0b0ZvY3VzRW50cnlJZChmaWVsZCksXG4gICAgbGFiZWw6ICdUeXBlJyxcbiAgICBlbGVtZW50OiBmaWVsZCxcbiAgICBnZXRPcHRpb25zOiBnZXRWYWx1ZXNTb3VyY2VPcHRpb25zLFxuICAgIGdldFZhbHVlLFxuICAgIGlkLFxuICAgIHNldFZhbHVlXG4gIH0pO1xufVxuXG4vLyBoZWxwZXJzIC8vLy8vLy8vLy9cblxuZnVuY3Rpb24gZ2V0QXV0b0ZvY3VzRW50cnlJZChmaWVsZCkge1xuICBjb25zdCBjb2x1bW5zID0gZ2V0KGZpZWxkLCBDT0xVTU5TX1BBVEgpO1xuICBjb25zdCBjb2x1bW5zRXhwcmVzc2lvbiA9IGdldChmaWVsZCwgQ09MVU1OU19FWFBSRVNTSU9OX1BBVEgpO1xuICBpZiAoaXNTdHJpbmcoY29sdW1uc0V4cHJlc3Npb24pKSB7XG4gICAgcmV0dXJuIGAke2ZpZWxkLmlkfS1jb2x1bW5zRXhwcmVzc2lvbmA7XG4gIH1cbiAgaWYgKGlzQXJyYXkoY29sdW1ucykpIHtcbiAgICByZXR1cm4gYCR7ZmllbGQuaWR9LWNvbHVtbnMtMC1sYWJlbGA7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbmNvbnN0IFBBVEggPSBbJ2NvbHVtbnNFeHByZXNzaW9uJ107XG5mdW5jdGlvbiBDb2x1bW5zRXhwcmVzc2lvbkVudHJ5KHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBlZGl0RmllbGQsXG4gICAgZmllbGRcbiAgfSA9IHByb3BzO1xuICBjb25zdCBlbnRyaWVzID0gW107XG4gIGVudHJpZXMucHVzaCh7XG4gICAgaWQ6IGAke2ZpZWxkLmlkfS1jb2x1bW5zRXhwcmVzc2lvbmAsXG4gICAgY29tcG9uZW50OiBDb2x1bW5zRXhwcmVzc2lvbixcbiAgICBlZGl0RmllbGQ6IGVkaXRGaWVsZCxcbiAgICBmaWVsZDogZmllbGQsXG4gICAgaXNFZGl0ZWQ6IGlzRWRpdGVkJDUsXG4gICAgaXNEZWZhdWx0VmlzaWJsZTogZmllbGQgPT4gZmllbGQudHlwZSA9PT0gJ3RhYmxlJyAmJiBpc1N0cmluZyhnZXQoZmllbGQsIFBBVEgpKVxuICB9KTtcbiAgcmV0dXJuIGVudHJpZXM7XG59XG5mdW5jdGlvbiBDb2x1bW5zRXhwcmVzc2lvbihwcm9wcykge1xuICBjb25zdCB7XG4gICAgZWRpdEZpZWxkLFxuICAgIGZpZWxkLFxuICAgIGlkXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgZGVib3VuY2UgPSB1c2VTZXJ2aWNlKCdkZWJvdW5jZScpO1xuICBjb25zdCB2YXJpYWJsZXMgPSB1c2VWYXJpYWJsZXMoKS5tYXAobmFtZSA9PiAoe1xuICAgIG5hbWVcbiAgfSkpO1xuICBjb25zdCBnZXRWYWx1ZSA9ICgpID0+IHtcbiAgICByZXR1cm4gZ2V0KGZpZWxkLCBQQVRIKTtcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd8dm9pZH0gdmFsdWVcbiAgICogQHBhcmFtIHtzdHJpbmd8dm9pZH0gZXJyb3JcbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqL1xuICBjb25zdCBzZXRWYWx1ZSA9ICh2YWx1ZSwgZXJyb3IpID0+IHtcbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZWRpdEZpZWxkKGZpZWxkLCBQQVRILCB2YWx1ZSk7XG4gIH07XG4gIGNvbnN0IHNjaGVtYSA9ICdbXFxuICB7XFxuICAgIFwia2V5XCI6IFwiY29sdW1uXzFcIixcXG4gICAgXCJsYWJlbFwiOiBcIkNvbHVtbiAxXCJcXG4gIH1cXG5dJztcbiAgY29uc3QgdG9vbHRpcCA9IGpzeHMoXCJkaXZcIiwge1xuICAgIGNoaWxkcmVuOiBbXCJUaGUgZXhwcmVzc2lvbiBtYXkgcmVzdWx0IGluIGFuIGFycmF5IG9mIHNpbXBsZSB2YWx1ZXMgb3IgYWx0ZXJuYXRpdmVseSBmb2xsb3cgdGhpcyBzY2hlbWE6XCIsIGpzeChcInByZVwiLCB7XG4gICAgICBjaGlsZHJlbjoganN4KFwiY29kZVwiLCB7XG4gICAgICAgIGNoaWxkcmVuOiBzY2hlbWFcbiAgICAgIH0pXG4gICAgfSldXG4gIH0pO1xuICByZXR1cm4gRmVlbFRlbXBsYXRpbmdFbnRyeSh7XG4gICAgZGVib3VuY2UsXG4gICAgZGVzY3JpcHRpb246ICdTcGVjaWZ5IGFuIGV4cHJlc3Npb24gdG8gcG9wdWxhdGUgY29sdW1uIGl0ZW1zJyxcbiAgICBlbGVtZW50OiBmaWVsZCxcbiAgICBmZWVsOiAncmVxdWlyZWQnLFxuICAgIGdldFZhbHVlLFxuICAgIGlkLFxuICAgIGxhYmVsOiAnRXhwcmVzc2lvbicsXG4gICAgdG9vbHRpcCxcbiAgICBzZXRWYWx1ZSxcbiAgICBzaW5nbGVMaW5lOiB0cnVlLFxuICAgIHZhcmlhYmxlcyxcbiAgICB2YWxpZGF0ZTogdmFsaWRhdGUkM1xuICB9KTtcbn1cblxuLy8gaGVscGVycyAvLy8vLy8vLy8vXG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd8dm9pZH0gdmFsdWVcbiAqIEByZXR1cm5zIHtzdHJpbmd8bnVsbH1cbiAqL1xuY29uc3QgdmFsaWRhdGUkMyA9IHZhbHVlID0+IHtcbiAgaWYgKCFpc1N0cmluZyh2YWx1ZSkgfHwgdmFsdWUubGVuZ3RoID09PSAwIHx8IHZhbHVlID09PSAnPScpIHtcbiAgICByZXR1cm4gJ011c3Qgbm90IGJlIGVtcHR5Lic7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59O1xuXG5jb25zdCBwYXRoJDEgPSAnY29sdW1ucyc7XG5jb25zdCBsYWJlbFBhdGggPSAnbGFiZWwnO1xuY29uc3Qga2V5UGF0aCA9ICdrZXknO1xuZnVuY3Rpb24gQ29sdW1uRW50cnkocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGVkaXRGaWVsZCxcbiAgICBmaWVsZCxcbiAgICBpZFByZWZpeCxcbiAgICBpbmRleFxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IGVudHJpZXMgPSBbe1xuICAgIGNvbXBvbmVudDogTGFiZWwsXG4gICAgZWRpdEZpZWxkLFxuICAgIGZpZWxkLFxuICAgIGlkOiBpZFByZWZpeCArICctbGFiZWwnLFxuICAgIGlkUHJlZml4LFxuICAgIGluZGV4XG4gIH0sIHtcbiAgICBjb21wb25lbnQ6IEtleSxcbiAgICBlZGl0RmllbGQsXG4gICAgZmllbGQsXG4gICAgaWQ6IGlkUHJlZml4ICsgJy1rZXknLFxuICAgIGlkUHJlZml4LFxuICAgIGluZGV4XG4gIH1dO1xuICByZXR1cm4gZW50cmllcztcbn1cbmZ1bmN0aW9uIExhYmVsKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBlZGl0RmllbGQsXG4gICAgZmllbGQsXG4gICAgaWQsXG4gICAgaW5kZXhcbiAgfSA9IHByb3BzO1xuICBjb25zdCBkZWJvdW5jZSA9IHVzZVNlcnZpY2UoJ2RlYm91bmNlJyk7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfHZvaWR9IHZhbHVlXG4gICAqIEBwYXJhbSB7c3RyaW5nfHZvaWR9IGVycm9yXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi9cbiAgY29uc3Qgc2V0VmFsdWUgPSAodmFsdWUsIGVycm9yKSA9PiB7XG4gICAgaWYgKGVycm9yKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGNvbHVtbnMgPSBnZXQoZmllbGQsIFtwYXRoJDFdKTtcbiAgICBlZGl0RmllbGQoZmllbGQsIHBhdGgkMSwgc2V0JDEoY29sdW1ucywgW2luZGV4LCBsYWJlbFBhdGhdLCB2YWx1ZSkpO1xuICB9O1xuICBjb25zdCBnZXRWYWx1ZSA9ICgpID0+IHtcbiAgICByZXR1cm4gZ2V0KGZpZWxkLCBbcGF0aCQxLCBpbmRleCwgbGFiZWxQYXRoXSk7XG4gIH07XG4gIHJldHVybiBUZXh0ZmllbGRFbnRyeSh7XG4gICAgZGVib3VuY2UsXG4gICAgZWxlbWVudDogZmllbGQsXG4gICAgZ2V0VmFsdWUsXG4gICAgaWQsXG4gICAgbGFiZWw6ICdMYWJlbCcsXG4gICAgc2V0VmFsdWVcbiAgfSk7XG59XG5mdW5jdGlvbiBLZXkocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGVkaXRGaWVsZCxcbiAgICBmaWVsZCxcbiAgICBpZCxcbiAgICBpbmRleFxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IGRlYm91bmNlID0gdXNlU2VydmljZSgnZGVib3VuY2UnKTtcblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd8dm9pZH0gdmFsdWVcbiAgICogQHBhcmFtIHtzdHJpbmd8dm9pZH0gZXJyb3JcbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqL1xuICBjb25zdCBzZXRWYWx1ZSA9ICh2YWx1ZSwgZXJyb3IpID0+IHtcbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgY29sdW1ucyA9IGdldChmaWVsZCwgW3BhdGgkMV0pO1xuICAgIGVkaXRGaWVsZChmaWVsZCwgcGF0aCQxLCBzZXQkMShjb2x1bW5zLCBbaW5kZXgsIGtleVBhdGhdLCB2YWx1ZSkpO1xuICB9O1xuICBjb25zdCBnZXRWYWx1ZSA9ICgpID0+IHtcbiAgICByZXR1cm4gZ2V0KGZpZWxkLCBbcGF0aCQxLCBpbmRleCwga2V5UGF0aF0pO1xuICB9O1xuICByZXR1cm4gVGV4dGZpZWxkRW50cnkoe1xuICAgIGRlYm91bmNlLFxuICAgIGVsZW1lbnQ6IGZpZWxkLFxuICAgIGdldFZhbHVlLFxuICAgIGlkLFxuICAgIGxhYmVsOiAnS2V5JyxcbiAgICBzZXRWYWx1ZSxcbiAgICB2YWxpZGF0ZTogdmFsaWRhdGUkMlxuICB9KTtcbn1cblxuLy8gaGVscGVycyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd8dm9pZH0gdmFsdWVcbiAqIEByZXR1cm5zIHtzdHJpbmd8bnVsbH1cbiAqL1xuZnVuY3Rpb24gdmFsaWRhdGUkMih2YWx1ZSkge1xuICBpZiAoIWlzU3RyaW5nKHZhbHVlKSB8fCB2YWx1ZS5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gJ011c3Qgbm90IGJlIGVtcHR5Lic7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbmNvbnN0IHBhdGggPSBbJ2NvbHVtbnMnXTtcbmZ1bmN0aW9uIFN0YXRpY0NvbHVtbnNTb3VyY2VFbnRyeShwcm9wcykge1xuICBjb25zdCB7XG4gICAgZWRpdEZpZWxkLFxuICAgIGZpZWxkLFxuICAgIGlkOiBpZFByZWZpeFxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IHtcbiAgICBjb2x1bW5zXG4gIH0gPSBmaWVsZDtcbiAgY29uc3QgYWRkRW50cnkgPSBldmVudCA9PiB7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgY29uc3QgZW50cnkgPSB7XG4gICAgICBsYWJlbDogJ0NvbHVtbicsXG4gICAgICBrZXk6ICdpbnB1dFZhcmlhYmxlJ1xuICAgIH07XG4gICAgZWRpdEZpZWxkKGZpZWxkLCBwYXRoLCBhcnJheUFkZChjb2x1bW5zLCBjb2x1bW5zLmxlbmd0aCwgZW50cnkpKTtcbiAgfTtcbiAgY29uc3QgcmVtb3ZlRW50cnkgPSBlbnRyeSA9PiB7XG4gICAgZWRpdEZpZWxkKGZpZWxkLCBwYXRoLCB3aXRob3V0KGNvbHVtbnMsIGVudHJ5KSk7XG4gIH07XG4gIGNvbnN0IGl0ZW1zID0gY29sdW1ucy5tYXAoKGVudHJ5LCBpbmRleCkgPT4ge1xuICAgIGNvbnN0IGlkID0gYCR7aWRQcmVmaXh9LSR7aW5kZXh9YDtcbiAgICByZXR1cm4ge1xuICAgICAgaWQsXG4gICAgICBsYWJlbDogZW50cnkubGFiZWwgfHwgZW50cnkua2V5LFxuICAgICAgZW50cmllczogQ29sdW1uRW50cnkoe1xuICAgICAgICBlZGl0RmllbGQsXG4gICAgICAgIGZpZWxkLFxuICAgICAgICBpZFByZWZpeDogaWQsXG4gICAgICAgIGluZGV4XG4gICAgICB9KSxcbiAgICAgIGF1dG9Gb2N1c0VudHJ5OiBgJHtpZH0tbGFiZWxgLFxuICAgICAgcmVtb3ZlOiAoKSA9PiByZW1vdmVFbnRyeShlbnRyeSlcbiAgICB9O1xuICB9KTtcbiAgcmV0dXJuIHtcbiAgICBpdGVtcyxcbiAgICBhZGQ6IGFkZEVudHJ5XG4gIH07XG59XG5cbmZ1bmN0aW9uIFZlcnNpb25UYWdFbnRyeShwcm9wcykge1xuICBjb25zdCB7XG4gICAgZWRpdEZpZWxkLFxuICAgIGZpZWxkXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgZW50cmllcyA9IFtdO1xuICBlbnRyaWVzLnB1c2goe1xuICAgIGlkOiAndmVyc2lvblRhZycsXG4gICAgY29tcG9uZW50OiBWZXJzaW9uVGFnLFxuICAgIGVkaXRGaWVsZDogZWRpdEZpZWxkLFxuICAgIGZpZWxkOiBmaWVsZCxcbiAgICBpc0VkaXRlZDogaXNFZGl0ZWQsXG4gICAgaXNEZWZhdWx0VmlzaWJsZTogZmllbGQgPT4gZmllbGQudHlwZSA9PT0gJ2RlZmF1bHQnXG4gIH0pO1xuICByZXR1cm4gZW50cmllcztcbn1cbmZ1bmN0aW9uIFZlcnNpb25UYWcocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGVkaXRGaWVsZCxcbiAgICBmaWVsZCxcbiAgICBpZFxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IGRlYm91bmNlID0gdXNlU2VydmljZSgnZGVib3VuY2UnKTtcbiAgY29uc3QgcGF0aCA9IFsndmVyc2lvblRhZyddO1xuICBjb25zdCBnZXRWYWx1ZSA9ICgpID0+IHtcbiAgICByZXR1cm4gZ2V0KGZpZWxkLCBwYXRoLCAnJyk7XG4gIH07XG4gIGNvbnN0IHNldFZhbHVlID0gKHZhbHVlLCBlcnJvcikgPT4ge1xuICAgIGlmIChlcnJvcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXR1cm4gZWRpdEZpZWxkKGZpZWxkLCBwYXRoLCB2YWx1ZSk7XG4gIH07XG4gIGNvbnN0IHRvb2x0aXAgPSBqc3goXCJkaXZcIiwge1xuICAgIGNoaWxkcmVuOiBcIlZlcnNpb24gdGFnIGJ5IHdoaWNoIHRoaXMgZm9ybSBjYW4gYmUgcmVmZXJlbmNlZC5cIlxuICB9KTtcbiAgcmV0dXJuIFRleHRmaWVsZEVudHJ5KHtcbiAgICBkZWJvdW5jZSxcbiAgICBlbGVtZW50OiBmaWVsZCxcbiAgICBnZXRWYWx1ZSxcbiAgICBpZCxcbiAgICBsYWJlbDogJ1ZlcnNpb24gdGFnJyxcbiAgICBzZXRWYWx1ZSxcbiAgICB0b29sdGlwXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBBY2NlcHRFbnRyeShwcm9wcykge1xuICBjb25zdCB7XG4gICAgZWRpdEZpZWxkLFxuICAgIGZpZWxkXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgZW50cmllcyA9IFtdO1xuICBlbnRyaWVzLnB1c2goe1xuICAgIGlkOiAnYWNjZXB0JyxcbiAgICBjb21wb25lbnQ6IEFjY2VwdCxcbiAgICBlZGl0RmllbGQ6IGVkaXRGaWVsZCxcbiAgICBmaWVsZDogZmllbGQsXG4gICAgaXNFZGl0ZWQ6IGlzRWRpdGVkJDUsXG4gICAgaXNEZWZhdWx0VmlzaWJsZTogZmllbGQgPT4gZmllbGQudHlwZSA9PT0gJ2ZpbGVwaWNrZXInXG4gIH0pO1xuICByZXR1cm4gZW50cmllcztcbn1cbmZ1bmN0aW9uIEFjY2VwdChwcm9wcykge1xuICBjb25zdCB7XG4gICAgZWRpdEZpZWxkLFxuICAgIGZpZWxkLFxuICAgIGlkXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgZGVib3VuY2UgPSB1c2VTZXJ2aWNlKCdkZWJvdW5jZScpO1xuICBjb25zdCB2YXJpYWJsZXMgPSB1c2VWYXJpYWJsZXMoKS5tYXAobmFtZSA9PiAoe1xuICAgIG5hbWVcbiAgfSkpO1xuICBjb25zdCBwYXRoID0gWydhY2NlcHQnXTtcbiAgY29uc3QgZ2V0VmFsdWUgPSAoKSA9PiB7XG4gICAgcmV0dXJuIGdldChmaWVsZCwgcGF0aCwgJycpO1xuICB9O1xuICBjb25zdCBzZXRWYWx1ZSA9IHZhbHVlID0+IHtcbiAgICByZXR1cm4gZWRpdEZpZWxkKGZpZWxkLCBwYXRoLCB2YWx1ZSk7XG4gIH07XG4gIHJldHVybiBGZWVsVGVtcGxhdGluZ0VudHJ5KHtcbiAgICBkZWJvdW5jZSxcbiAgICBlbGVtZW50OiBmaWVsZCxcbiAgICBnZXRWYWx1ZSxcbiAgICBpZCxcbiAgICBsYWJlbDogJ1N1cHBvcnRlZCBmaWxlIGZvcm1hdHMnLFxuICAgIHNpbmdsZUxpbmU6IHRydWUsXG4gICAgc2V0VmFsdWUsXG4gICAgdmFyaWFibGVzLFxuICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbiQxXG4gIH0pO1xufVxuXG4vLyBoZWxwZXJzIC8vLy8vLy8vLy9cblxuY29uc3QgZGVzY3JpcHRpb24kMSA9IGpzeHMoRnJhZ21lbnQkMSwge1xuICBjaGlsZHJlbjogW1wiQSBjb21tYS1zZXBhcmF0ZWQgbGlzdCBvZlwiLCAnICcsIGpzeChcImFcIiwge1xuICAgIGhyZWY6IFwiaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSFRNTC9FbGVtZW50L2lucHV0L2ZpbGUjdW5pcXVlX2ZpbGVfdHlwZV9zcGVjaWZpZXJzXCIsXG4gICAgdGFyZ2V0OiBcIl9ibGFua1wiLFxuICAgIHJlbDogXCJub3JlZmVycmVyXCIsXG4gICAgY2hpbGRyZW46IFwiZmlsZSB0eXBlIHNwZWNpZmllcnNcIlxuICB9KV1cbn0pO1xuXG5mdW5jdGlvbiBNdWx0aXBsZUVudHJ5KHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBlZGl0RmllbGQsXG4gICAgZmllbGRcbiAgfSA9IHByb3BzO1xuICBjb25zdCBlbnRyaWVzID0gW107XG4gIGVudHJpZXMucHVzaCh7XG4gICAgaWQ6ICdtdWx0aXBsZScsXG4gICAgY29tcG9uZW50OiBNdWx0aXBsZSxcbiAgICBlZGl0RmllbGQ6IGVkaXRGaWVsZCxcbiAgICBmaWVsZDogZmllbGQsXG4gICAgaXNFZGl0ZWQ6IGlzRWRpdGVkJDUsXG4gICAgaXNEZWZhdWx0VmlzaWJsZTogZmllbGQgPT4gZmllbGQudHlwZSA9PT0gJ2ZpbGVwaWNrZXInXG4gIH0pO1xuICByZXR1cm4gZW50cmllcztcbn1cbmZ1bmN0aW9uIE11bHRpcGxlKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBlZGl0RmllbGQsXG4gICAgZmllbGQsXG4gICAgaWRcbiAgfSA9IHByb3BzO1xuICBjb25zdCBkZWJvdW5jZSA9IHVzZVNlcnZpY2UoJ2RlYm91bmNlJyk7XG4gIGNvbnN0IHZhcmlhYmxlcyA9IHVzZVZhcmlhYmxlcygpLm1hcChuYW1lID0+ICh7XG4gICAgbmFtZVxuICB9KSk7XG4gIGNvbnN0IHBhdGggPSBbJ211bHRpcGxlJ107XG4gIGNvbnN0IGdldFZhbHVlID0gKCkgPT4ge1xuICAgIHJldHVybiBnZXQoZmllbGQsIHBhdGgsICcnKTtcbiAgfTtcbiAgY29uc3Qgc2V0VmFsdWUgPSB2YWx1ZSA9PiB7XG4gICAgcmV0dXJuIGVkaXRGaWVsZChmaWVsZCwgcGF0aCwgdmFsdWUpO1xuICB9O1xuICByZXR1cm4gRmVlbFRvZ2dsZVN3aXRjaEVudHJ5KHtcbiAgICBkZWJvdW5jZSxcbiAgICBlbGVtZW50OiBmaWVsZCxcbiAgICBmZWVsOiAnb3B0aW9uYWwnLFxuICAgIGdldFZhbHVlLFxuICAgIGlkLFxuICAgIGxhYmVsOiAnVXBsb2FkIG11bHRpcGxlIGZpbGVzJyxcbiAgICBpbmxpbmU6IHRydWUsXG4gICAgc2V0VmFsdWUsXG4gICAgdmFyaWFibGVzXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBEb2N1bWVudHNEYXRhU291cmNlRW50cnkocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGVkaXRGaWVsZCxcbiAgICBmaWVsZFxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IGVudHJpZXMgPSBbXTtcbiAgZW50cmllcy5wdXNoKHtcbiAgICBpZDogJ2RhdGFTb3VyY2UnLFxuICAgIGNvbXBvbmVudDogRG9jdW1lbnRzRGF0YVNvdXJjZSxcbiAgICBlZGl0RmllbGQ6IGVkaXRGaWVsZCxcbiAgICBmaWVsZDogZmllbGQsXG4gICAgaXNFZGl0ZWQ6IGlzRWRpdGVkJDUsXG4gICAgaXNEZWZhdWx0VmlzaWJsZTogZmllbGQgPT4gZmllbGQudHlwZSA9PT0gJ2RvY3VtZW50UHJldmlldydcbiAgfSk7XG4gIHJldHVybiBlbnRyaWVzO1xufVxuZnVuY3Rpb24gRG9jdW1lbnRzRGF0YVNvdXJjZShwcm9wcykge1xuICBjb25zdCB7XG4gICAgZWRpdEZpZWxkLFxuICAgIGZpZWxkLFxuICAgIGlkXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgZGVib3VuY2UgPSB1c2VTZXJ2aWNlKCdkZWJvdW5jZScpO1xuICBjb25zdCB2YXJpYWJsZXMgPSB1c2VWYXJpYWJsZXMoKS5tYXAobmFtZSA9PiAoe1xuICAgIG5hbWVcbiAgfSkpO1xuICBjb25zdCBwYXRoID0gWydkYXRhU291cmNlJ107XG4gIGNvbnN0IGdldFZhbHVlID0gKCkgPT4ge1xuICAgIHJldHVybiBnZXQoZmllbGQsIHBhdGgsICcnKTtcbiAgfTtcbiAgY29uc3Qgc2V0VmFsdWUgPSB2YWx1ZSA9PiB7XG4gICAgcmV0dXJuIGVkaXRGaWVsZChmaWVsZCwgcGF0aCwgdmFsdWUpO1xuICB9O1xuICBjb25zdCBzY2hlbWEgPSBgW1xuICB7XG4gICAgXCJkb2N1bWVudElkXCI6IFwidTEyM1wiLFxuICAgIFwiZW5kcG9pbnRcIjogXCJodHRwczovL2FwaS5leGFtcGxlLmNvbS9kb2N1bWVudHMvdTEyM1wiLFxuICAgIFwibWV0YWRhdGFcIjoge1xuICAgICAgXCJmaWxlTmFtZVwiOiBcIkRvY3VtZW50LnBkZlwiLFxuICAgICAgXCJjb250ZW50VHlwZVwiOiBcImFwcGxpY2F0aW9uL3BkZlwiXG4gICAgfVxuICB9XG5dYDtcbiAgY29uc3QgdG9vbHRpcCA9IGpzeHMoXCJkaXZcIiwge1xuICAgIGNoaWxkcmVuOiBbanN4KFwicFwiLCB7XG4gICAgICBjaGlsZHJlbjogXCJBIHNvdXJjZSBpcyBhIEpTT04gb2JqZWN0IGNvbnRhaW5pbmcgbWV0YWRhdGEgZm9yIGEgZG9jdW1lbnQgb3IgYW4gYXJyYXkgb2YgZG9jdW1lbnRzLlwiXG4gICAgfSksIGpzeChcInBcIiwge1xuICAgICAgY2hpbGRyZW46IFwiRWFjaCBlbnRyeSBtdXN0IGluY2x1ZGUgYSBkb2N1bWVudCBJRCwgbmFtZSwgYW5kIE1JTUUgdHlwZS5cIlxuICAgIH0pLCBqc3goXCJwXCIsIHtcbiAgICAgIGNoaWxkcmVuOiBcIkFkZGl0aW9uYWwgZGV0YWlscyBhcmUgb3B0aW9uYWwuIFRoZSBleHBlY3RlZCBmb3JtYXQgaXMgYXMgZm9sbG93czpcIlxuICAgIH0pLCBqc3goXCJwcmVcIiwge1xuICAgICAgY2hpbGRyZW46IGpzeChcImNvZGVcIiwge1xuICAgICAgICBjaGlsZHJlbjogc2NoZW1hXG4gICAgICB9KVxuICAgIH0pLCBqc3goXCJwXCIsIHtcbiAgICAgIGNoaWxkcmVuOiBcIldoZW4gdXNpbmcgQ2FtdW5kYSBUYXNrbGlzdCBVSSwgYWRkaXRpb25hbCBkb2N1bWVudCByZWZlcmVuY2UgYXR0cmlidXRlcyBhcmUgYXV0b21hdGljYWxseSBoYW5kbGVkLiBNb2RpZnlpbmcgdGhlIGRvY3VtZW50IHJlZmVyZW5jZSBtYXkgYWZmZWN0IHRoZSBkb2N1bWVudCBwcmV2aWV3IGZ1bmN0aW9uYWxpdHkuXCJcbiAgICB9KSwganN4cyhcInBcIiwge1xuICAgICAgY2hpbGRyZW46IFtcIkxlYXJuIG1vcmUgaW4gb3VyXCIsICcgJywganN4KFwiYVwiLCB7XG4gICAgICAgIGhyZWY6IFwiaHR0cHM6Ly9kb2NzLmNhbXVuZGEuaW8vZG9jcy9jb21wb25lbnRzL21vZGVsZXIvZm9ybXMvZm9ybS1lbGVtZW50LWxpYnJhcnkvZm9ybXMtZWxlbWVudC1saWJyYXJ5LWRvY3VtZW50LXByZXZpZXcvXCIsXG4gICAgICAgIHRhcmdldDogXCJfYmxhbmtcIixcbiAgICAgICAgcmVsOiBcIm5vb3BlbmVyIG5vcmVmZXJyZXJcIixcbiAgICAgICAgY2hpbGRyZW46IFwiZG9jdW1lbnRhdGlvblwiXG4gICAgICB9KSwgXCIuXCJdXG4gICAgfSldXG4gIH0pO1xuICByZXR1cm4gRmVlbFRlbXBsYXRpbmdFbnRyeSh7XG4gICAgZGVib3VuY2UsXG4gICAgZWxlbWVudDogZmllbGQsXG4gICAgZ2V0VmFsdWUsXG4gICAgaWQsXG4gICAgbGFiZWw6ICdEb2N1bWVudCByZWZlcmVuY2UnLFxuICAgIGZlZWw6ICdyZXF1aXJlZCcsXG4gICAgc2luZ2xlTGluZTogdHJ1ZSxcbiAgICBzZXRWYWx1ZSxcbiAgICB2YXJpYWJsZXMsXG4gICAgdG9vbHRpcCxcbiAgICB2YWxpZGF0ZTogdmFsaWRhdGUkMVxuICB9KTtcbn1cblxuLy8gaGVscGVycyAvLy8vLy8vLy8vXG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd8dW5kZWZpbmVkfSB2YWx1ZVxuICogQHJldHVybnMge3N0cmluZ3xudWxsfVxuICovXG5jb25zdCB2YWxpZGF0ZSQxID0gdmFsdWUgPT4ge1xuICBpZiAodHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJyB8fCB2YWx1ZS5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gJ1RoZSBkb2N1bWVudCBkYXRhIHNvdXJjZSBpcyByZXF1aXJlZC4nO1xuICB9XG59O1xuXG5mdW5jdGlvbiBNYXhIZWlnaHRFbnRyeShwcm9wcykge1xuICBjb25zdCB7XG4gICAgZWRpdEZpZWxkLFxuICAgIGZpZWxkXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgZW50cmllcyA9IFtdO1xuICBlbnRyaWVzLnB1c2goe1xuICAgIGlkOiAnbWF4SGVpZ2h0JyxcbiAgICBjb21wb25lbnQ6IE1heEhlaWdodCxcbiAgICBlZGl0RmllbGQ6IGVkaXRGaWVsZCxcbiAgICBmaWVsZDogZmllbGQsXG4gICAgaXNFZGl0ZWQ6IGlzRWRpdGVkJDYsXG4gICAgaXNEZWZhdWx0VmlzaWJsZTogZmllbGQgPT4gZmllbGQudHlwZSA9PT0gJ2RvY3VtZW50UHJldmlldydcbiAgfSk7XG4gIHJldHVybiBlbnRyaWVzO1xufVxuZnVuY3Rpb24gTWF4SGVpZ2h0KHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBlZGl0RmllbGQsXG4gICAgZmllbGQsXG4gICAgaWRcbiAgfSA9IHByb3BzO1xuICBjb25zdCBkZWJvdW5jZSA9IHVzZVNlcnZpY2UoJ2RlYm91bmNlJyk7XG4gIGNvbnN0IHBhdGggPSBbJ21heEhlaWdodCddO1xuICBjb25zdCBnZXRWYWx1ZSA9ICgpID0+IHtcbiAgICByZXR1cm4gZ2V0KGZpZWxkLCBwYXRoLCAnJyk7XG4gIH07XG4gIGNvbnN0IHNldFZhbHVlID0gdmFsdWUgPT4ge1xuICAgIHJldHVybiBlZGl0RmllbGQoZmllbGQsIHBhdGgsIHZhbHVlKTtcbiAgfTtcbiAgcmV0dXJuIE51bWJlckZpZWxkRW50cnkoe1xuICAgIGRlYm91bmNlLFxuICAgIGxhYmVsOiAnTWF4IGhlaWdodCBvZiBwcmV2aWV3IGNvbnRhaW5lcicsXG4gICAgZWxlbWVudDogZmllbGQsXG4gICAgaWQsXG4gICAgZ2V0VmFsdWUsXG4gICAgc2V0VmFsdWUsXG4gICAgdmFsaWRhdGUsXG4gICAgZGVzY3JpcHRpb25cbiAgfSk7XG59XG5cbi8vIGhlbHBlcnMgLy8vLy8vLy8vL1xuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcnx1bmRlZmluZWR9IHZhbHVlXG4gKiBAcmV0dXJucyB7c3RyaW5nfG51bGx9XG4gKi9cbmNvbnN0IHZhbGlkYXRlID0gdmFsdWUgPT4ge1xuICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCB8fCB2YWx1ZSA9PT0gJycpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiAnVmFsdWUgbXVzdCBiZSBhIG51bWJlci4nO1xuICB9XG4gIGlmICghTnVtYmVyLmlzSW50ZWdlcih2YWx1ZSkpIHtcbiAgICByZXR1cm4gJ1Nob3VsZCBiZSBhbiBpbnRlZ2VyLic7XG4gIH1cbiAgaWYgKHZhbHVlIDwgMSkge1xuICAgIHJldHVybiAnU2hvdWxkIGJlIGdyZWF0ZXIgdGhhbiB6ZXJvLic7XG4gIH1cbn07XG5jb25zdCBkZXNjcmlwdGlvbiA9IGpzeChGcmFnbWVudCQxLCB7XG4gIGNoaWxkcmVuOiBcIkRvY3VtZW50cyB3aXRoIGhlaWdodCB0aGF0IGV4Y2VlZHMgdGhlIGRlZmluZWQgdmFsdWUgd2lsbCBiZSB2ZXJ0aWNhbGx5IHNjcm9sbGFibGVcIlxufSk7XG5cbmZ1bmN0aW9uIEdlbmVyYWxHcm91cChmaWVsZCwgZWRpdEZpZWxkLCBnZXRTZXJ2aWNlKSB7XG4gIGNvbnN0IGVudHJpZXMgPSBbLi4uSWRFbnRyeSh7XG4gICAgZmllbGQsXG4gICAgZWRpdEZpZWxkXG4gIH0pLCAuLi5WZXJzaW9uVGFnRW50cnkoe1xuICAgIGZpZWxkLFxuICAgIGVkaXRGaWVsZFxuICB9KSwgLi4uTGFiZWxFbnRyeSh7XG4gICAgZmllbGQsXG4gICAgZWRpdEZpZWxkXG4gIH0pLCAuLi5EZXNjcmlwdGlvbkVudHJ5KHtcbiAgICBmaWVsZCxcbiAgICBlZGl0RmllbGRcbiAgfSksIC4uLktleUVudHJ5KHtcbiAgICBmaWVsZCxcbiAgICBlZGl0RmllbGQsXG4gICAgZ2V0U2VydmljZVxuICB9KSwgLi4uUGF0aEVudHJ5KHtcbiAgICBmaWVsZCxcbiAgICBlZGl0RmllbGQsXG4gICAgZ2V0U2VydmljZVxuICB9KSwgLi4uUmVwZWF0YWJsZUVudHJ5KHtcbiAgICBmaWVsZCxcbiAgICBlZGl0RmllbGQsXG4gICAgZ2V0U2VydmljZVxuICB9KSwgLi4uRGVmYXVsdFZhbHVlRW50cnkoe1xuICAgIGZpZWxkLFxuICAgIGVkaXRGaWVsZFxuICB9KSwgLi4uQWN0aW9uRW50cnkoe1xuICAgIGZpZWxkLFxuICAgIGVkaXRGaWVsZFxuICB9KSwgLi4uRGF0ZVRpbWVFbnRyeSh7XG4gICAgZmllbGQsXG4gICAgZWRpdEZpZWxkXG4gIH0pLCAuLi5UZXh0RW50cnkoe1xuICAgIGZpZWxkLFxuICAgIGVkaXRGaWVsZH0pLCAuLi5IdG1sRW50cnkoe1xuICAgIGZpZWxkLFxuICAgIGVkaXRGaWVsZH0pLCAuLi5JRnJhbWVVcmxFbnRyeSh7XG4gICAgZmllbGQsXG4gICAgZWRpdEZpZWxkXG4gIH0pLCAuLi5JRnJhbWVIZWlnaHRFbnRyeSh7XG4gICAgZmllbGQsXG4gICAgZWRpdEZpZWxkXG4gIH0pLCAuLi5IZWlnaHRFbnRyeSh7XG4gICAgZmllbGQsXG4gICAgZWRpdEZpZWxkXG4gIH0pLCAuLi5OdW1iZXJFbnRyaWVzKHtcbiAgICBmaWVsZCxcbiAgICBlZGl0RmllbGRcbiAgfSksIC4uLkV4cHJlc3Npb25GaWVsZEVudHJpZXMoe1xuICAgIGZpZWxkLFxuICAgIGVkaXRGaWVsZFxuICB9KSwgLi4uSW1hZ2VTb3VyY2VFbnRyeSh7XG4gICAgZmllbGQsXG4gICAgZWRpdEZpZWxkXG4gIH0pLCAuLi5BbHRUZXh0RW50cnkoe1xuICAgIGZpZWxkLFxuICAgIGVkaXRGaWVsZFxuICB9KSwgLi4uU2VsZWN0RW50cmllcyh7XG4gICAgZmllbGQsXG4gICAgZWRpdEZpZWxkXG4gIH0pLCAuLi5BY2NlcHRFbnRyeSh7XG4gICAgZmllbGQsXG4gICAgZWRpdEZpZWxkXG4gIH0pLCAuLi5NdWx0aXBsZUVudHJ5KHtcbiAgICBmaWVsZCxcbiAgICBlZGl0RmllbGRcbiAgfSksIC4uLkRpc2FibGVkRW50cnkoe1xuICAgIGZpZWxkLFxuICAgIGVkaXRGaWVsZFxuICB9KSwgLi4uUmVhZG9ubHlFbnRyeSh7XG4gICAgZmllbGQsXG4gICAgZWRpdEZpZWxkXG4gIH0pLCAuLi5UYWJsZURhdGFTb3VyY2VFbnRyeSh7XG4gICAgZmllbGQsXG4gICAgZWRpdEZpZWxkXG4gIH0pLCAuLi5QYWdpbmF0aW9uRW50cnkoe1xuICAgIGZpZWxkLFxuICAgIGVkaXRGaWVsZFxuICB9KSwgLi4uUm93Q291bnRFbnRyeSh7XG4gICAgZmllbGQsXG4gICAgZWRpdEZpZWxkXG4gIH0pLCAuLi5Eb2N1bWVudHNEYXRhU291cmNlRW50cnkoe1xuICAgIGZpZWxkLFxuICAgIGVkaXRGaWVsZFxuICB9KV07XG4gIGlmIChlbnRyaWVzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiB7XG4gICAgaWQ6ICdnZW5lcmFsJyxcbiAgICBsYWJlbDogJ0dlbmVyYWwnLFxuICAgIGVudHJpZXNcbiAgfTtcbn1cblxuZnVuY3Rpb24gU2VyaWFsaXphdGlvbkdyb3VwKGZpZWxkLCBlZGl0RmllbGQpIHtcbiAgY29uc3QgZW50cmllcyA9IFsuLi5OdW1iZXJTZXJpYWxpemF0aW9uRW50cnkoe1xuICAgIGZpZWxkLFxuICAgIGVkaXRGaWVsZFxuICB9KSwgLi4uRGF0ZVRpbWVGb3JtYXRFbnRyeSh7XG4gICAgZmllbGQsXG4gICAgZWRpdEZpZWxkXG4gIH0pXTtcbiAgaWYgKCFlbnRyaWVzLmxlbmd0aCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiB7XG4gICAgaWQ6ICdzZXJpYWxpemF0aW9uJyxcbiAgICBsYWJlbDogJ1NlcmlhbGl6YXRpb24nLFxuICAgIGVudHJpZXNcbiAgfTtcbn1cblxuZnVuY3Rpb24gQ29uc3RyYWludHNHcm91cChmaWVsZCwgZWRpdEZpZWxkKSB7XG4gIGNvbnN0IGVudHJpZXMgPSBbLi4uRGF0ZVRpbWVDb25zdHJhaW50c0VudHJ5KHtcbiAgICBmaWVsZCxcbiAgICBlZGl0RmllbGRcbiAgfSldO1xuICBpZiAoIWVudHJpZXMubGVuZ3RoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBpZDogJ2NvbnN0cmFpbnRzJyxcbiAgICBsYWJlbDogJ0NvbnN0cmFpbnRzJyxcbiAgICBlbnRyaWVzXG4gIH07XG59XG5cbmNvbnN0IFZBTElEQVRJT05fVFlQRV9PUFRJT05TID0ge1xuICBjdXN0b206IHtcbiAgICB2YWx1ZTogJycsXG4gICAgbGFiZWw6ICdDdXN0b20nXG4gIH0sXG4gIGVtYWlsOiB7XG4gICAgdmFsdWU6ICdlbWFpbCcsXG4gICAgbGFiZWw6ICdFbWFpbCdcbiAgfSxcbiAgcGhvbmU6IHtcbiAgICB2YWx1ZTogJ3Bob25lJyxcbiAgICBsYWJlbDogJ1Bob25lJ1xuICB9XG59O1xuZnVuY3Rpb24gVmFsaWRhdGlvbkdyb3VwKGZpZWxkLCBlZGl0RmllbGQpIHtcbiAgY29uc3Qge1xuICAgIHR5cGVcbiAgfSA9IGZpZWxkO1xuICBjb25zdCB2YWxpZGF0ZSA9IGdldChmaWVsZCwgWyd2YWxpZGF0ZSddLCB7fSk7XG4gIGNvbnN0IGlzQ3VzdG9tVmFsaWRhdGlvbiA9IFt1bmRlZmluZWQsIFZBTElEQVRJT05fVFlQRV9PUFRJT05TLmN1c3RvbS52YWx1ZV0uaW5jbHVkZXModmFsaWRhdGUudmFsaWRhdGlvblR5cGUpO1xuICBjb25zdCBoYXNQYXR0ZXJuID0gISFnZXQoZmllbGQsIFsndmFsaWRhdGUnLCAncGF0dGVybiddKTtcbiAgY29uc3Qgb25DaGFuZ2UgPSBrZXkgPT4ge1xuICAgIHJldHVybiB2YWx1ZSA9PiB7XG4gICAgICBjb25zdCB2YWxpZGF0ZSA9IGdldChmaWVsZCwgWyd2YWxpZGF0ZSddLCB7fSk7XG4gICAgICBlZGl0RmllbGQoZmllbGQsIFsndmFsaWRhdGUnXSwgc2V0JDEodmFsaWRhdGUsIFtrZXldLCB2YWx1ZSkpO1xuICAgIH07XG4gIH07XG4gIGNvbnN0IGdldFZhbHVlID0ga2V5ID0+IHtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgcmV0dXJuIGdldChmaWVsZCwgWyd2YWxpZGF0ZScsIGtleV0pO1xuICAgIH07XG4gIH07XG4gIGxldCBlbnRyaWVzID0gW3tcbiAgICBpZDogJ3JlcXVpcmVkJyxcbiAgICBjb21wb25lbnQ6IFJlcXVpcmVkLFxuICAgIGdldFZhbHVlLFxuICAgIGZpZWxkLFxuICAgIGlzRWRpdGVkOiBpc0VkaXRlZCQ4LFxuICAgIG9uQ2hhbmdlLFxuICAgIGlzRGVmYXVsdFZpc2libGU6IGZpZWxkID0+IElOUFVUUy5pbmNsdWRlcyhmaWVsZC50eXBlKVxuICB9XTtcbiAgZW50cmllcy5wdXNoKHtcbiAgICBpZDogJ3ZhbGlkYXRpb25UeXBlJyxcbiAgICBjb21wb25lbnQ6IFZhbGlkYXRpb25UeXBlLFxuICAgIGdldFZhbHVlLFxuICAgIGZpZWxkLFxuICAgIGVkaXRGaWVsZCxcbiAgICBpc0VkaXRlZDogaXNFZGl0ZWQsXG4gICAgb25DaGFuZ2UsXG4gICAgaXNEZWZhdWx0VmlzaWJsZTogZmllbGQgPT4gZmllbGQudHlwZSA9PT0gJ3RleHRmaWVsZCdcbiAgfSk7XG4gIGVudHJpZXMucHVzaCh7XG4gICAgaWQ6ICdtaW5MZW5ndGgnLFxuICAgIGNvbXBvbmVudDogTWluTGVuZ3RoLFxuICAgIGdldFZhbHVlLFxuICAgIGZpZWxkLFxuICAgIGlzRWRpdGVkOiBpc0VkaXRlZCQ1LFxuICAgIG9uQ2hhbmdlLFxuICAgIGlzRGVmYXVsdFZpc2libGU6IGZpZWxkID0+IElOUFVUUy5pbmNsdWRlcyhmaWVsZC50eXBlKSAmJiAodHlwZSA9PT0gJ3RleHRhcmVhJyB8fCB0eXBlID09PSAndGV4dGZpZWxkJyAmJiBpc0N1c3RvbVZhbGlkYXRpb24pXG4gIH0sIHtcbiAgICBpZDogJ21heExlbmd0aCcsXG4gICAgY29tcG9uZW50OiBNYXhMZW5ndGgsXG4gICAgZ2V0VmFsdWUsXG4gICAgZmllbGQsXG4gICAgaXNFZGl0ZWQ6IGlzRWRpdGVkJDUsXG4gICAgb25DaGFuZ2UsXG4gICAgaXNEZWZhdWx0VmlzaWJsZTogZmllbGQgPT4gSU5QVVRTLmluY2x1ZGVzKGZpZWxkLnR5cGUpICYmICh0eXBlID09PSAndGV4dGFyZWEnIHx8IHR5cGUgPT09ICd0ZXh0ZmllbGQnICYmIGlzQ3VzdG9tVmFsaWRhdGlvbilcbiAgfSk7XG4gIGVudHJpZXMucHVzaCh7XG4gICAgaWQ6ICdwYXR0ZXJuJyxcbiAgICBjb21wb25lbnQ6IFBhdHRlcm4sXG4gICAgZ2V0VmFsdWUsXG4gICAgZmllbGQsXG4gICAgaXNFZGl0ZWQ6IGlzRWRpdGVkLFxuICAgIG9uQ2hhbmdlLFxuICAgIGlzRGVmYXVsdFZpc2libGU6IGZpZWxkID0+IElOUFVUUy5pbmNsdWRlcyhmaWVsZC50eXBlKSAmJiB0eXBlID09PSAndGV4dGZpZWxkJyAmJiBpc0N1c3RvbVZhbGlkYXRpb25cbiAgfSk7XG4gIGVudHJpZXMucHVzaCh7XG4gICAgaWQ6ICdwYXR0ZXJuRXJyb3JNZXNzYWdlJyxcbiAgICBjb21wb25lbnQ6IFBhdHRlcm5FcnJvck1lc3NhZ2UsXG4gICAgZ2V0VmFsdWUsXG4gICAgZmllbGQsXG4gICAgaXNFZGl0ZWQ6IGlzRWRpdGVkLFxuICAgIG9uQ2hhbmdlLFxuICAgIGlzRGVmYXVsdFZpc2libGU6IGZpZWxkID0+IElOUFVUUy5pbmNsdWRlcyhmaWVsZC50eXBlKSAmJiB0eXBlID09PSAndGV4dGZpZWxkJyAmJiBpc0N1c3RvbVZhbGlkYXRpb24gJiYgaGFzUGF0dGVyblxuICB9KTtcbiAgZW50cmllcy5wdXNoKHtcbiAgICBpZDogJ21pbicsXG4gICAgY29tcG9uZW50OiBNaW4sXG4gICAgZ2V0VmFsdWUsXG4gICAgZmllbGQsXG4gICAgaXNFZGl0ZWQ6IGlzRWRpdGVkJDUsXG4gICAgb25DaGFuZ2UsXG4gICAgaXNEZWZhdWx0VmlzaWJsZTogZmllbGQgPT4gZmllbGQudHlwZSA9PT0gJ251bWJlcidcbiAgfSwge1xuICAgIGlkOiAnbWF4JyxcbiAgICBjb21wb25lbnQ6IE1heCxcbiAgICBnZXRWYWx1ZSxcbiAgICBmaWVsZCxcbiAgICBpc0VkaXRlZDogaXNFZGl0ZWQkNSxcbiAgICBvbkNoYW5nZSxcbiAgICBpc0RlZmF1bHRWaXNpYmxlOiBmaWVsZCA9PiBmaWVsZC50eXBlID09PSAnbnVtYmVyJ1xuICB9KTtcbiAgcmV0dXJuIHtcbiAgICBpZDogJ3ZhbGlkYXRpb24nLFxuICAgIGxhYmVsOiAnVmFsaWRhdGlvbicsXG4gICAgZW50cmllc1xuICB9O1xufVxuZnVuY3Rpb24gUmVxdWlyZWQocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGZpZWxkLFxuICAgIGdldFZhbHVlLFxuICAgIGlkLFxuICAgIG9uQ2hhbmdlXG4gIH0gPSBwcm9wcztcbiAgcmV0dXJuIENoZWNrYm94RW50cnkoe1xuICAgIGVsZW1lbnQ6IGZpZWxkLFxuICAgIGdldFZhbHVlOiBnZXRWYWx1ZSgncmVxdWlyZWQnKSxcbiAgICBpZCxcbiAgICBsYWJlbDogJ1JlcXVpcmVkJyxcbiAgICBzZXRWYWx1ZTogb25DaGFuZ2UoJ3JlcXVpcmVkJylcbiAgfSk7XG59XG5mdW5jdGlvbiBNaW5MZW5ndGgocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGZpZWxkLFxuICAgIGdldFZhbHVlLFxuICAgIGlkLFxuICAgIG9uQ2hhbmdlXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgZGVib3VuY2UgPSB1c2VTZXJ2aWNlKCdkZWJvdW5jZScpO1xuICBjb25zdCB2YXJpYWJsZXMgPSB1c2VWYXJpYWJsZXMoKS5tYXAobmFtZSA9PiAoe1xuICAgIG5hbWVcbiAgfSkpO1xuICByZXR1cm4gRmVlbE51bWJlckVudHJ5KHtcbiAgICBkZWJvdW5jZSxcbiAgICBlbGVtZW50OiBmaWVsZCxcbiAgICBmZWVsOiAnb3B0aW9uYWwnLFxuICAgIGdldFZhbHVlOiBnZXRWYWx1ZSgnbWluTGVuZ3RoJyksXG4gICAgaWQsXG4gICAgbGFiZWw6ICdNaW5pbXVtIGxlbmd0aCcsXG4gICAgbWluOiAwLFxuICAgIHNldFZhbHVlOiBvbkNoYW5nZSgnbWluTGVuZ3RoJyksXG4gICAgdmFyaWFibGVzXG4gIH0pO1xufVxuZnVuY3Rpb24gTWF4TGVuZ3RoKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBmaWVsZCxcbiAgICBnZXRWYWx1ZSxcbiAgICBpZCxcbiAgICBvbkNoYW5nZVxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IGRlYm91bmNlID0gdXNlU2VydmljZSgnZGVib3VuY2UnKTtcbiAgY29uc3QgdmFyaWFibGVzID0gdXNlVmFyaWFibGVzKCkubWFwKG5hbWUgPT4gKHtcbiAgICBuYW1lXG4gIH0pKTtcbiAgcmV0dXJuIEZlZWxOdW1iZXJFbnRyeSh7XG4gICAgZGVib3VuY2UsXG4gICAgZWxlbWVudDogZmllbGQsXG4gICAgZmVlbDogJ29wdGlvbmFsJyxcbiAgICBnZXRWYWx1ZTogZ2V0VmFsdWUoJ21heExlbmd0aCcpLFxuICAgIGlkLFxuICAgIGxhYmVsOiAnTWF4aW11bSBsZW5ndGgnLFxuICAgIG1pbjogMCxcbiAgICBzZXRWYWx1ZTogb25DaGFuZ2UoJ21heExlbmd0aCcpLFxuICAgIHZhcmlhYmxlc1xuICB9KTtcbn1cbmZ1bmN0aW9uIFBhdHRlcm4ocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGZpZWxkLFxuICAgIGdldFZhbHVlLFxuICAgIGlkLFxuICAgIG9uQ2hhbmdlXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgZGVib3VuY2UgPSB1c2VTZXJ2aWNlKCdkZWJvdW5jZScpO1xuICByZXR1cm4gVGV4dGZpZWxkRW50cnkoe1xuICAgIGRlYm91bmNlLFxuICAgIGVsZW1lbnQ6IGZpZWxkLFxuICAgIGdldFZhbHVlOiBnZXRWYWx1ZSgncGF0dGVybicpLFxuICAgIGlkLFxuICAgIGxhYmVsOiAnQ3VzdG9tIHJlZ3VsYXIgZXhwcmVzc2lvbicsXG4gICAgc2V0VmFsdWU6IG9uQ2hhbmdlKCdwYXR0ZXJuJylcbiAgfSk7XG59XG5mdW5jdGlvbiBQYXR0ZXJuRXJyb3JNZXNzYWdlKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBmaWVsZCxcbiAgICBnZXRWYWx1ZSxcbiAgICBpZCxcbiAgICBvbkNoYW5nZVxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IGRlYm91bmNlID0gdXNlU2VydmljZSgnZGVib3VuY2UnKTtcbiAgcmV0dXJuIFRleHRmaWVsZEVudHJ5KHtcbiAgICBkZWJvdW5jZSxcbiAgICBlbGVtZW50OiBmaWVsZCxcbiAgICBnZXRWYWx1ZTogZ2V0VmFsdWUoJ3BhdHRlcm5FcnJvck1lc3NhZ2UnKSxcbiAgICBpZCxcbiAgICBsYWJlbDogJ0N1c3RvbSBlcnJvciBtZXNzYWdlJyxcbiAgICB0b29sdGlwOiAnVGhlIGVycm9yIG1lc3NhZ2UgdG8gZGlzcGxheSB3aGVuIHRoZSBpbnB1dCBkb2VzIG5vdCBtYXRjaCB0aGUgcmVndWxhciBleHByZXNzaW9uLicsXG4gICAgc2V0VmFsdWU6IG9uQ2hhbmdlKCdwYXR0ZXJuRXJyb3JNZXNzYWdlJylcbiAgfSk7XG59XG5mdW5jdGlvbiBNaW4ocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGZpZWxkLFxuICAgIGdldFZhbHVlLFxuICAgIGlkLFxuICAgIG9uQ2hhbmdlXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgZGVib3VuY2UgPSB1c2VTZXJ2aWNlKCdkZWJvdW5jZScpO1xuICBjb25zdCB2YXJpYWJsZXMgPSB1c2VWYXJpYWJsZXMoKS5tYXAobmFtZSA9PiAoe1xuICAgIG5hbWVcbiAgfSkpO1xuICByZXR1cm4gRmVlbE51bWJlckVudHJ5KHtcbiAgICBkZWJvdW5jZSxcbiAgICBlbGVtZW50OiBmaWVsZCxcbiAgICBmZWVsOiAnb3B0aW9uYWwnLFxuICAgIGlkLFxuICAgIGxhYmVsOiAnTWluaW11bScsXG4gICAgc3RlcDogJ2FueScsXG4gICAgZ2V0VmFsdWU6IGdldFZhbHVlKCdtaW4nKSxcbiAgICBzZXRWYWx1ZTogb25DaGFuZ2UoJ21pbicpLFxuICAgIHZhcmlhYmxlc1xuICB9KTtcbn1cbmZ1bmN0aW9uIE1heChwcm9wcykge1xuICBjb25zdCB7XG4gICAgZmllbGQsXG4gICAgZ2V0VmFsdWUsXG4gICAgaWQsXG4gICAgb25DaGFuZ2VcbiAgfSA9IHByb3BzO1xuICBjb25zdCBkZWJvdW5jZSA9IHVzZVNlcnZpY2UoJ2RlYm91bmNlJyk7XG4gIGNvbnN0IHZhcmlhYmxlcyA9IHVzZVZhcmlhYmxlcygpLm1hcChuYW1lID0+ICh7XG4gICAgbmFtZVxuICB9KSk7XG4gIHJldHVybiBGZWVsTnVtYmVyRW50cnkoe1xuICAgIGRlYm91bmNlLFxuICAgIGVsZW1lbnQ6IGZpZWxkLFxuICAgIGZlZWw6ICdvcHRpb25hbCcsXG4gICAgaWQsXG4gICAgbGFiZWw6ICdNYXhpbXVtJyxcbiAgICBzdGVwOiAnYW55JyxcbiAgICBnZXRWYWx1ZTogZ2V0VmFsdWUoJ21heCcpLFxuICAgIHNldFZhbHVlOiBvbkNoYW5nZSgnbWF4JyksXG4gICAgdmFyaWFibGVzXG4gIH0pO1xufVxuZnVuY3Rpb24gVmFsaWRhdGlvblR5cGUocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGZpZWxkLFxuICAgIGdldFZhbHVlLFxuICAgIGlkLFxuICAgIG9uQ2hhbmdlXG4gIH0gPSBwcm9wcztcbiAgdXNlU2VydmljZSgnZGVib3VuY2UnKTtcbiAgY29uc3Qgc2V0VmFsdWUgPSB2YWxpZGF0aW9uVHlwZSA9PiB7XG4gICAgb25DaGFuZ2UoJ3ZhbGlkYXRpb25UeXBlJykodmFsaWRhdGlvblR5cGUgfHwgdW5kZWZpbmVkKTtcbiAgfTtcbiAgcmV0dXJuIFNlbGVjdEVudHJ5KHtcbiAgICBlbGVtZW50OiBmaWVsZCxcbiAgICBnZXRWYWx1ZTogZ2V0VmFsdWUoJ3ZhbGlkYXRpb25UeXBlJyksXG4gICAgaWQsXG4gICAgbGFiZWw6ICdWYWxpZGF0aW9uIHBhdHRlcm4nLFxuICAgIHNldFZhbHVlLFxuICAgIGdldE9wdGlvbnM6ICgpID0+IE9iamVjdC52YWx1ZXMoVkFMSURBVElPTl9UWVBFX09QVElPTlMpLFxuICAgIHRvb2x0aXA6IGdldFZhbHVlKCd2YWxpZGF0aW9uVHlwZScpKCkgPT09IFZBTElEQVRJT05fVFlQRV9PUFRJT05TLnBob25lLnZhbHVlID8gJ1RoZSBidWlsdC1pbiBwaG9uZSB2YWxpZGF0aW9uIHBhdHRlcm4gaXMgYmFzZWQgb24gdGhlIEUuMTY0IHN0YW5kYXJkIHdpdGggbm8gc3BhY2VzLiBFeDogKzQ5MTIzNDU2Nzg5MCcgOiB1bmRlZmluZWRcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIE9wdGlvbnNHcm91cHMoZmllbGQsIGVkaXRGaWVsZCwgZ2V0U2VydmljZSkge1xuICBjb25zdCB7XG4gICAgdHlwZVxuICB9ID0gZmllbGQ7XG4gIGNvbnN0IGZvcm1GaWVsZHMgPSBnZXRTZXJ2aWNlKCdmb3JtRmllbGRzJyk7XG4gIGNvbnN0IGZpZWxkRGVmaW5pdGlvbiA9IGZvcm1GaWVsZHMuZ2V0KHR5cGUpLmNvbmZpZztcbiAgaWYgKCFPUFRJT05TX0lOUFVUUy5pbmNsdWRlcyh0eXBlKSAmJiAhaGFzT3B0aW9uc0dyb3Vwc0NvbmZpZ3VyZWQoZmllbGREZWZpbml0aW9uKSkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICBjb25zdCBjb250ZXh0ID0ge1xuICAgIGVkaXRGaWVsZCxcbiAgICBmaWVsZFxuICB9O1xuICBjb25zdCBpZCA9ICd2YWx1ZXNTb3VyY2UnO1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7QXJyYXk8R3JvdXB8TGlzdEdyb3VwPn1cbiAgICovXG4gIGNvbnN0IGdyb3VwcyA9IFt7XG4gICAgaWQsXG4gICAgbGFiZWw6ICdPcHRpb25zIHNvdXJjZScsXG4gICAgdG9vbHRpcDogZ2V0VmFsdWVzVG9vbHRpcCgpLFxuICAgIGNvbXBvbmVudDogR3JvdXAsXG4gICAgZW50cmllczogT3B0aW9uc1NvdXJjZVNlbGVjdEVudHJ5KHtcbiAgICAgIC4uLmNvbnRleHQsXG4gICAgICBpZFxuICAgIH0pXG4gIH1dO1xuICBjb25zdCB2YWx1ZXNTb3VyY2UgPSBnZXRPcHRpb25zU291cmNlKGZpZWxkKTtcbiAgaWYgKHZhbHVlc1NvdXJjZSA9PT0gT1BUSU9OU19TT1VSQ0VTLklOUFVUKSB7XG4gICAgY29uc3QgaWQgPSAnZHluYW1pY09wdGlvbnMnO1xuICAgIGdyb3Vwcy5wdXNoKHtcbiAgICAgIGlkLFxuICAgICAgbGFiZWw6ICdEeW5hbWljIG9wdGlvbnMnLFxuICAgICAgY29tcG9uZW50OiBHcm91cCxcbiAgICAgIGVudHJpZXM6IElucHV0S2V5T3B0aW9uc1NvdXJjZUVudHJ5KHtcbiAgICAgICAgLi4uY29udGV4dCxcbiAgICAgICAgaWRcbiAgICAgIH0pXG4gICAgfSk7XG4gIH0gZWxzZSBpZiAodmFsdWVzU291cmNlID09PSBPUFRJT05TX1NPVVJDRVMuU1RBVElDKSB7XG4gICAgY29uc3QgaWQgPSAnc3RhdGljT3B0aW9ucyc7XG4gICAgZ3JvdXBzLnB1c2goe1xuICAgICAgaWQsXG4gICAgICBsYWJlbDogJ1N0YXRpYyBvcHRpb25zJyxcbiAgICAgIGNvbXBvbmVudDogTGlzdEdyb3VwLFxuICAgICAgLi4uU3RhdGljT3B0aW9uc1NvdXJjZUVudHJ5KHtcbiAgICAgICAgLi4uY29udGV4dCxcbiAgICAgICAgaWRcbiAgICAgIH0pXG4gICAgfSk7XG4gIH0gZWxzZSBpZiAodmFsdWVzU291cmNlID09PSBPUFRJT05TX1NPVVJDRVMuRVhQUkVTU0lPTikge1xuICAgIGNvbnN0IGlkID0gJ29wdGlvbnNFeHByZXNzaW9uJztcbiAgICBncm91cHMucHVzaCh7XG4gICAgICBpZCxcbiAgICAgIGxhYmVsOiAnT3B0aW9ucyBleHByZXNzaW9uJyxcbiAgICAgIGNvbXBvbmVudDogR3JvdXAsXG4gICAgICBlbnRyaWVzOiBPcHRpb25zRXhwcmVzc2lvbkVudHJ5KHtcbiAgICAgICAgLi4uY29udGV4dCxcbiAgICAgICAgaWRcbiAgICAgIH0pXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIGdyb3Vwcztcbn1cblxuLy8gaGVscGVycyAvLy8vLy8vLy8vXG5cbmZ1bmN0aW9uIGdldFZhbHVlc1Rvb2x0aXAoKSB7XG4gIHJldHVybiAnXCJTdGF0aWNcIiBkZWZpbmVzIGEgY29uc3RhbnQsIHByZWRlZmluZWQgc2V0IG9mIGZvcm0gb3B0aW9ucy5cXG5cXG4nICsgJ1wiSW5wdXQgZGF0YVwiIGRlZmluZXMgb3B0aW9ucyB0aGF0IGFyZSBwb3B1bGF0ZWQgZHluYW1pY2FsbHksIGFkanVzdGluZyBiYXNlZCBvbiB2YXJpYWJsZSBkYXRhIGZvciBmbGV4aWJsZSByZXNwb25zZXMgdG8gZGlmZmVyZW50IGNvbmRpdGlvbnMgb3IgaW5wdXRzLlxcblxcbicgKyAnXCJFeHByZXNzaW9uXCIgZGVmaW5lcyBvcHRpb25zIHRoYXQgYXJlIHBvcHVsYXRlZCBmcm9tIGEgRkVFTCBleHByZXNzaW9uLic7XG59XG5cbmZ1bmN0aW9uIEN1c3RvbVByb3BlcnRpZXNHcm91cChmaWVsZCwgZWRpdEZpZWxkKSB7XG4gIGNvbnN0IHtcbiAgICBwcm9wZXJ0aWVzID0ge30sXG4gICAgdHlwZVxuICB9ID0gZmllbGQ7XG4gIGlmICh0eXBlID09PSAnZGVmYXVsdCcpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBjb25zdCBhZGRFbnRyeSA9IGV2ZW50ID0+IHtcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBsZXQgaW5kZXggPSBPYmplY3Qua2V5cyhwcm9wZXJ0aWVzKS5sZW5ndGggKyAxO1xuICAgIHdoaWxlIChga2V5JHtpbmRleH1gIGluIHByb3BlcnRpZXMpIHtcbiAgICAgIGluZGV4Kys7XG4gICAgfVxuICAgIGVkaXRGaWVsZChmaWVsZCwgWydwcm9wZXJ0aWVzJ10sIHtcbiAgICAgIC4uLnByb3BlcnRpZXMsXG4gICAgICBbYGtleSR7aW5kZXh9YF06ICd2YWx1ZSdcbiAgICB9KTtcbiAgfTtcbiAgY29uc3QgdmFsaWRhdGVGYWN0b3J5ID0ga2V5ID0+IHtcbiAgICByZXR1cm4gdmFsdWUgPT4ge1xuICAgICAgaWYgKHZhbHVlID09PSBrZXkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycgfHwgdmFsdWUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiAnTXVzdCBub3QgYmUgZW1wdHkuJztcbiAgICAgIH1cbiAgICAgIGlmIChoYXMocHJvcGVydGllcywgdmFsdWUpKSB7XG4gICAgICAgIHJldHVybiAnTXVzdCBiZSB1bmlxdWUuJztcbiAgICAgIH1cbiAgICB9O1xuICB9O1xuICBjb25zdCBpdGVtcyA9IE9iamVjdC5rZXlzKHByb3BlcnRpZXMpLm1hcCgoa2V5LCBpbmRleCkgPT4ge1xuICAgIGNvbnN0IHJlbW92ZUVudHJ5ID0gZXZlbnQgPT4ge1xuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICByZXR1cm4gZWRpdEZpZWxkKGZpZWxkLCBbJ3Byb3BlcnRpZXMnXSwgcmVtb3ZlS2V5KHByb3BlcnRpZXMsIGtleSkpO1xuICAgIH07XG4gICAgY29uc3QgaWQgPSBgcHJvcGVydHktJHtmaWVsZC5pZH0tJHtpbmRleH1gO1xuICAgIHJldHVybiB7XG4gICAgICBhdXRvRm9jdXNFbnRyeTogaWQgKyAnLWtleScsXG4gICAgICBlbnRyaWVzOiBDdXN0b21WYWx1ZUVudHJ5KHtcbiAgICAgICAgZWRpdEZpZWxkLFxuICAgICAgICBmaWVsZCxcbiAgICAgICAgaWRQcmVmaXg6IGlkLFxuICAgICAgICBpbmRleCxcbiAgICAgICAgdmFsaWRhdGVGYWN0b3J5XG4gICAgICB9KSxcbiAgICAgIGlkLFxuICAgICAgbGFiZWw6IGtleSB8fCAnJyxcbiAgICAgIHJlbW92ZTogcmVtb3ZlRW50cnlcbiAgICB9O1xuICB9KTtcbiAgcmV0dXJuIHtcbiAgICBhZGQ6IGFkZEVudHJ5LFxuICAgIGNvbXBvbmVudDogTGlzdEdyb3VwLFxuICAgIGlkOiAnY3VzdG9tLXZhbHVlcycsXG4gICAgaXRlbXMsXG4gICAgbGFiZWw6ICdDdXN0b20gcHJvcGVydGllcycsXG4gICAgdG9vbHRpcDogJ0FkZCBwcm9wZXJ0aWVzIGRpcmVjdGx5IHRvIHRoZSBmb3JtIHNjaGVtYSwgdXNlZnVsIHRvIGNvbmZpZ3VyZSBmdW5jdGlvbmFsaXR5IGluIGN1c3RvbS1idWlsdCB0YXNrIGFwcGxpY2F0aW9ucyBhbmQgZm9ybSByZW5kZXJlcnMuJ1xuICB9O1xufVxuXG4vLyBoZWxwZXJzIC8vLy8vLy8vLy9cblxuLyoqXG4gKiBSZXR1cm5zIGNvcHkgb2Ygb2JqZWN0IHdpdGhvdXQga2V5LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge3N0cmluZ30gb2xkS2V5XG4gKlxuICogQHJldHVybnMge09iamVjdH1cbiAqL1xuZnVuY3Rpb24gcmVtb3ZlS2V5KHByb3BlcnRpZXMsIG9sZEtleSkge1xuICByZXR1cm4gT2JqZWN0LmVudHJpZXMocHJvcGVydGllcykucmVkdWNlKChuZXdQcm9wZXJ0aWVzLCBlbnRyeSkgPT4ge1xuICAgIGNvbnN0IFtrZXksIHZhbHVlXSA9IGVudHJ5O1xuICAgIGlmIChrZXkgPT09IG9sZEtleSkge1xuICAgICAgcmV0dXJuIG5ld1Byb3BlcnRpZXM7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAuLi5uZXdQcm9wZXJ0aWVzLFxuICAgICAgW2tleV06IHZhbHVlXG4gICAgfTtcbiAgfSwge30pO1xufVxuXG5mdW5jdGlvbiBBcHBlYXJhbmNlR3JvdXAoZmllbGQsIGVkaXRGaWVsZCwgZ2V0U2VydmljZSkge1xuICBjb25zdCBlbnRyaWVzID0gWy4uLkFkb3JuZXJFbnRyeSh7XG4gICAgZmllbGQsXG4gICAgZWRpdEZpZWxkXG4gIH0pLCAuLi5Hcm91cEFwcGVhcmFuY2VFbnRyeSh7XG4gICAgZmllbGQsXG4gICAgZWRpdEZpZWxkXG4gIH0pLCAuLi5MYXlvdXRlckFwcGVhcmFuY2VFbnRyeSh7XG4gICAgZmllbGQsXG4gICAgZWRpdEZpZWxkXG4gIH0pLCAuLi5NYXhIZWlnaHRFbnRyeSh7XG4gICAgZmllbGQsXG4gICAgZWRpdEZpZWxkXG4gIH0pXTtcbiAgaWYgKCFlbnRyaWVzLmxlbmd0aCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiB7XG4gICAgaWQ6ICdhcHBlYXJhbmNlJyxcbiAgICBsYWJlbDogJ0FwcGVhcmFuY2UnLFxuICAgIGVudHJpZXNcbiAgfTtcbn1cblxuZnVuY3Rpb24gTGF5b3V0R3JvdXAoZmllbGQsIGVkaXRGaWVsZCkge1xuICBjb25zdCB7XG4gICAgdHlwZVxuICB9ID0gZmllbGQ7XG4gIGlmICh0eXBlID09PSAnZGVmYXVsdCcpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBjb25zdCBlbnRyaWVzID0gWy4uLkNvbHVtbnNFbnRyeSh7XG4gICAgZmllbGQsXG4gICAgZWRpdEZpZWxkXG4gIH0pXTtcbiAgaWYgKGVudHJpZXMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBpZDogJ2xheW91dCcsXG4gICAgbGFiZWw6ICdMYXlvdXQnLFxuICAgIGVudHJpZXNcbiAgfTtcbn1cblxuZnVuY3Rpb24gU2VjdXJpdHlBdHRyaWJ1dGVzR3JvdXAoZmllbGQsIGVkaXRGaWVsZCkge1xuICBjb25zdCB7XG4gICAgdHlwZVxuICB9ID0gZmllbGQ7XG4gIGlmICh0eXBlICE9PSAnaWZyYW1lJykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGNvbnN0IGVudHJpZXMgPSBjcmVhdGVFbnRyaWVzKHtcbiAgICBmaWVsZCxcbiAgICBlZGl0RmllbGRcbiAgfSk7XG4gIGlmICghZW50cmllcy5sZW5ndGgpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4ge1xuICAgIGlkOiAnc2VjdXJpdHlBdHRyaWJ1dGVzJyxcbiAgICBsYWJlbDogJ1NlY3VyaXR5IGF0dHJpYnV0ZXMnLFxuICAgIGVudHJpZXMsXG4gICAgdG9vbHRpcDogZ2V0VG9vbHRpcCgpXG4gIH07XG59XG5mdW5jdGlvbiBjcmVhdGVFbnRyaWVzKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBlZGl0RmllbGQsXG4gICAgZmllbGRcbiAgfSA9IHByb3BzO1xuICBjb25zdCBzZWN1cml0eUVudHJpZXMgPSBTRUNVUklUWV9BVFRSSUJVVEVTX0RFRklOSVRJT05TLm1hcChkZWZpbml0aW9uID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBsYWJlbCxcbiAgICAgIHByb3BlcnR5XG4gICAgfSA9IGRlZmluaXRpb247XG4gICAgcmV0dXJuIHNpbXBsZUJvb2xFbnRyeUZhY3Rvcnkoe1xuICAgICAgaWQ6IHByb3BlcnR5LFxuICAgICAgbGFiZWw6IGxhYmVsLFxuICAgICAgaXNEZWZhdWx0VmlzaWJsZTogZmllbGQgPT4gZmllbGQudHlwZSA9PT0gJ2lmcmFtZScsXG4gICAgICBwYXRoOiBbJ3NlY3VyaXR5JywgcHJvcGVydHldLFxuICAgICAgcHJvcHMsXG4gICAgICBnZXRWYWx1ZTogKCkgPT4gZ2V0KGZpZWxkLCBbJ3NlY3VyaXR5JywgcHJvcGVydHldKSxcbiAgICAgIHNldFZhbHVlOiB2YWx1ZSA9PiB7XG4gICAgICAgIGNvbnN0IHNlY3VyaXR5ID0gZ2V0KGZpZWxkLCBbJ3NlY3VyaXR5J10sIHt9KTtcbiAgICAgICAgZWRpdEZpZWxkKGZpZWxkLCBbJ3NlY3VyaXR5J10sIHNldCQxKHNlY3VyaXR5LCBbcHJvcGVydHldLCB2YWx1ZSkpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbiAgcmV0dXJuIFt7XG4gICAgY29tcG9uZW50OiBBZHZpc29yeVxuICB9LCAuLi5zZWN1cml0eUVudHJpZXNdO1xufVxuY29uc3QgQWR2aXNvcnkgPSBwcm9wcyA9PiB7XG4gIHJldHVybiBqc3goXCJkaXZcIiwge1xuICAgIGNsYXNzOiBcImJpby1wcm9wZXJ0aWVzLXBhbmVsLWRlc2NyaXB0aW9uIGZqcy1wcm9wZXJ0aWVzLXBhbmVsLWRldGFjaGVkLWRlc2NyaXB0aW9uXCIsXG4gICAgY2hpbGRyZW46IFwiVGhlc2Ugb3B0aW9ucyBjYW4gaW5jdXIgc2VjdXJpdHkgcmlza3MsIGVzcGVjaWFsbHkgaWYgdXNlZCBpbiBjb21iaW5hdGlvbiB3aXRoIGR5bmFtaWMgbGlua3MuIEVuc3VyZSB0aGF0IHlvdSBhcmUgYXdhcmUgb2YgdGhlbSwgdGhhdCB5b3UgdHJ1c3QgdGhlIHNvdXJjZSB1cmwgYW5kIG9ubHkgZW5hYmxlIHdoYXQgeW91ciB1c2UgY2FzZSByZXF1aXJlcy5cIlxuICB9KTtcbn07XG5cbi8vIGhlbHBlcnMgLy8vLy8vLy8vL1xuXG5mdW5jdGlvbiBnZXRUb29sdGlwKCkge1xuICByZXR1cm4ganN4KEZyYWdtZW50JDEsIHtcbiAgICBjaGlsZHJlbjoganN4cyhcInBcIiwge1xuICAgICAgY2hpbGRyZW46IFtcIkFsbG93IHRoZSBpZnJhbWUgdG8gYWNjZXNzIG1vcmUgZnVuY3Rpb25hbGl0eSBvZiB5b3VyIGJyb3dzZXIsIGRldGFpbHMgcmVnYXJkaW5nIHRoZSB2YXJpb3VzIG9wdGlvbnMgY2FuIGJlIGZvdW5kIGluIHRoZVwiLCAnICcsIGpzeChcImFcIiwge1xuICAgICAgICB0YXJnZXQ6IFwiX2JsYW5rXCIsXG4gICAgICAgIGhyZWY6IFwiaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSFRNTC9FbGVtZW50L2lmcmFtZVwiLFxuICAgICAgICByZWw6IFwibm9yZWZlcnJlclwiLFxuICAgICAgICBjaGlsZHJlbjogXCJNRE4gaUZyYW1lIGRvY3VtZW50YXRpb24uXCJcbiAgICAgIH0pXVxuICAgIH0pXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBDb25kaXRpb25Hcm91cChmaWVsZCwgZWRpdEZpZWxkKSB7XG4gIGNvbnN0IHtcbiAgICB0eXBlXG4gIH0gPSBmaWVsZDtcbiAgaWYgKHR5cGUgPT09ICdkZWZhdWx0Jykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGNvbnN0IGVudHJpZXMgPSBbLi4uQ29uZGl0aW9uRW50cnkoe1xuICAgIGZpZWxkLFxuICAgIGVkaXRGaWVsZFxuICB9KV07XG4gIHJldHVybiB7XG4gICAgaWQ6ICdjb25kaXRpb24nLFxuICAgIGxhYmVsOiAnQ29uZGl0aW9uJyxcbiAgICBlbnRyaWVzXG4gIH07XG59XG5cbmZ1bmN0aW9uIFRhYmxlSGVhZGVyR3JvdXBzKGZpZWxkLCBlZGl0RmllbGQpIHtcbiAgY29uc3Qge1xuICAgIHR5cGUsXG4gICAgaWQ6IGZpZWxkSWRcbiAgfSA9IGZpZWxkO1xuICBpZiAodHlwZSAhPT0gJ3RhYmxlJykge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICBjb25zdCBhcmVTdGF0aWNDb2x1bW5zRW5hYmxlZCA9IGlzQXJyYXkoZ2V0KGZpZWxkLCBbJ2NvbHVtbnMnXSkpO1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7QXJyYXk8R3JvdXA+fVxuICAgKi9cbiAgY29uc3QgZ3JvdXBzID0gW3tcbiAgICBpZDogYCR7ZmllbGRJZH0tY29sdW1uc1NvdXJjZWAsXG4gICAgbGFiZWw6ICdIZWFkZXJzIHNvdXJjZScsXG4gICAgdG9vbHRpcDogVE9PTFRJUF9URVhULFxuICAgIGNvbXBvbmVudDogR3JvdXAsXG4gICAgZW50cmllczogWy4uLkhlYWRlcnNTb3VyY2VTZWxlY3RFbnRyeSh7XG4gICAgICBmaWVsZCxcbiAgICAgIGVkaXRGaWVsZFxuICAgIH0pLCAuLi5Db2x1bW5zRXhwcmVzc2lvbkVudHJ5KHtcbiAgICAgIGZpZWxkLFxuICAgICAgZWRpdEZpZWxkXG4gICAgfSldXG4gIH1dO1xuICBpZiAoYXJlU3RhdGljQ29sdW1uc0VuYWJsZWQpIHtcbiAgICBjb25zdCBpZCA9IGAke2ZpZWxkSWR9LWNvbHVtbnNgO1xuICAgIGdyb3Vwcy5wdXNoKHtcbiAgICAgIGlkLFxuICAgICAgbGFiZWw6ICdIZWFkZXIgaXRlbXMnLFxuICAgICAgY29tcG9uZW50OiBMaXN0R3JvdXAsXG4gICAgICAuLi5TdGF0aWNDb2x1bW5zU291cmNlRW50cnkoe1xuICAgICAgICBmaWVsZCxcbiAgICAgICAgZWRpdEZpZWxkLFxuICAgICAgICBpZFxuICAgICAgfSlcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gZ3JvdXBzO1xufVxuXG4vLyBoZWxwZXJzIC8vLy8vLy8vLy9cblxuY29uc3QgVE9PTFRJUF9URVhUID0gYFwiTGlzdCBvZiBpdGVtc1wiIGRlZmluZXMgYSBjb25zdGFudCwgcHJlZGVmaW5lZCBzZXQgb2YgZm9ybSBvcHRpb25zLlxuXG5cIkV4cHJlc3Npb25cIiBkZWZpbmVzIG9wdGlvbnMgdGhhdCBhcmUgcG9wdWxhdGVkIGZyb20gYSBGRUVMIGV4cHJlc3Npb24uXG5gO1xuXG5jbGFzcyBQcm9wZXJ0aWVzUHJvdmlkZXIge1xuICBjb25zdHJ1Y3Rvcihwcm9wZXJ0aWVzUGFuZWwsIGluamVjdG9yKSB7XG4gICAgdGhpcy5faW5qZWN0b3IgPSBpbmplY3RvcjtcbiAgICBwcm9wZXJ0aWVzUGFuZWwucmVnaXN0ZXJQcm92aWRlcih0aGlzKTtcbiAgfVxuICBfZmlsdGVyVmlzaWJsZUVudHJpZXMoZ3JvdXBzLCBmaWVsZCwgZ2V0U2VydmljZSkge1xuICAgIHJldHVybiBncm91cHMuZm9yRWFjaChncm91cCA9PiB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIGVudHJpZXNcbiAgICAgIH0gPSBncm91cDtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgdHlwZVxuICAgICAgfSA9IGZpZWxkO1xuICAgICAgY29uc3QgZm9ybUZpZWxkcyA9IGdldFNlcnZpY2UoJ2Zvcm1GaWVsZHMnKTtcbiAgICAgIGNvbnN0IGZpZWxkRGVmaW5pdGlvbiA9IGZvcm1GaWVsZHMuZ2V0KHR5cGUpLmNvbmZpZztcbiAgICAgIGlmICghZW50cmllcykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBncm91cC5lbnRyaWVzID0gZW50cmllcy5maWx0ZXIoZW50cnkgPT4ge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgaXNEZWZhdWx0VmlzaWJsZVxuICAgICAgICB9ID0gZW50cnk7XG4gICAgICAgIGlmICghaXNEZWZhdWx0VmlzaWJsZSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpc0RlZmF1bHRWaXNpYmxlKGZpZWxkKSB8fCBoYXNFbnRyeUNvbmZpZ3VyZWQoZmllbGREZWZpbml0aW9uLCBlbnRyeS5pZCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuICBnZXRHcm91cHMoZmllbGQsIGVkaXRGaWVsZCkge1xuICAgIHJldHVybiBncm91cHMgPT4ge1xuICAgICAgaWYgKCFmaWVsZCkge1xuICAgICAgICByZXR1cm4gZ3JvdXBzO1xuICAgICAgfVxuICAgICAgY29uc3QgZ2V0U2VydmljZSA9ICh0eXBlLCBzdHJpY3QgPSB0cnVlKSA9PiB0aGlzLl9pbmplY3Rvci5nZXQodHlwZSwgc3RyaWN0KTtcbiAgICAgIGdyb3VwcyA9IFsuLi5ncm91cHMsIEdlbmVyYWxHcm91cChmaWVsZCwgZWRpdEZpZWxkLCBnZXRTZXJ2aWNlKSwgLi4uT3B0aW9uc0dyb3VwcyhmaWVsZCwgZWRpdEZpZWxkLCBnZXRTZXJ2aWNlKSwgLi4uVGFibGVIZWFkZXJHcm91cHMoZmllbGQsIGVkaXRGaWVsZCksIFNlY3VyaXR5QXR0cmlidXRlc0dyb3VwKGZpZWxkLCBlZGl0RmllbGQpLCBDb25kaXRpb25Hcm91cChmaWVsZCwgZWRpdEZpZWxkKSwgTGF5b3V0R3JvdXAoZmllbGQsIGVkaXRGaWVsZCksIEFwcGVhcmFuY2VHcm91cChmaWVsZCwgZWRpdEZpZWxkKSwgU2VyaWFsaXphdGlvbkdyb3VwKGZpZWxkLCBlZGl0RmllbGQpLCBDb25zdHJhaW50c0dyb3VwKGZpZWxkLCBlZGl0RmllbGQpLCBWYWxpZGF0aW9uR3JvdXAoZmllbGQsIGVkaXRGaWVsZCksIEN1c3RvbVByb3BlcnRpZXNHcm91cChmaWVsZCwgZWRpdEZpZWxkKV0uZmlsdGVyKGdyb3VwID0+IGdyb3VwICE9IG51bGwpO1xuICAgICAgdGhpcy5fZmlsdGVyVmlzaWJsZUVudHJpZXMoZ3JvdXBzLCBmaWVsZCwgZ2V0U2VydmljZSk7XG5cbiAgICAgIC8vIGNvbnRyYWN0OiBpZiBhIGdyb3VwIGhhcyBubyBlbnRyaWVzIG9yIGl0ZW1zLCBpdCBzaG91bGQgbm90IGJlIGRpc3BsYXllZCBhdCBhbGxcbiAgICAgIHJldHVybiBncm91cHMuZmlsdGVyKGdyb3VwID0+IHtcbiAgICAgICAgcmV0dXJuIGdyb3VwLml0ZW1zIHx8IGdyb3VwLmVudHJpZXMgJiYgZ3JvdXAuZW50cmllcy5sZW5ndGg7XG4gICAgICB9KTtcbiAgICB9O1xuICB9XG59XG5Qcm9wZXJ0aWVzUHJvdmlkZXIuJGluamVjdCA9IFsncHJvcGVydGllc1BhbmVsJywgJ2luamVjdG9yJ107XG5cbmNvbnN0IFByb3BlcnRpZXNQYW5lbE1vZHVsZSA9IHtcbiAgX19kZXBlbmRzX186IFtpbmRleF0sXG4gIF9faW5pdF9fOiBbJ3Byb3BlcnRpZXNQYW5lbCcsICdwcm9wZXJ0aWVzUHJvdmlkZXInXSxcbiAgcHJvcGVydGllc1BhbmVsOiBbJ3R5cGUnLCBQcm9wZXJ0aWVzUGFuZWxSZW5kZXJlcl0sXG4gIHByb3BlcnRpZXNQcm92aWRlcjogWyd0eXBlJywgUHJvcGVydGllc1Byb3ZpZGVyXVxufTtcblxuLyoqXG4gKiBNYW5hZ2VzIHRoZSByZW5kZXJpbmcgb2YgdmlzdWFsIHBsdWdpbnMuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7T2JqZWN0fSBldmVudEJ1cyAtIEV2ZW50IGJ1cyBmb3IgdGhlIGFwcGxpY2F0aW9uLlxuICovXG5jbGFzcyBSZW5kZXJJbmplY3RvciBleHRlbmRzIFNlY3Rpb25Nb2R1bGVCYXNlIHtcbiAgY29uc3RydWN0b3IoZXZlbnRCdXMpIHtcbiAgICBzdXBlcihldmVudEJ1cywgJ3JlbmRlckluamVjdG9yJyk7XG4gICAgdGhpcy5fZXZlbnRCdXMgPSBldmVudEJ1cztcbiAgICB0aGlzLnJlZ2lzdGVyZWRSZW5kZXJlcnMgPSBbXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbmplY3QgYSBuZXcgcmVuZGVyZXIgaW50byB0aGUgaW5qZWN0b3IuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZGVudGlmaWVyIC0gSWRlbnRpZmllciBmb3IgdGhlIHJlbmRlcmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBSZW5kZXJlciAtIFRoZSByZW5kZXJlciBmdW5jdGlvbi5cbiAgICovXG4gIGF0dGFjaFJlbmRlcmVyKGlkZW50aWZpZXIsIFJlbmRlcmVyKSB7XG4gICAgdGhpcy5yZWdpc3RlcmVkUmVuZGVyZXJzID0gWy4uLnRoaXMucmVnaXN0ZXJlZFJlbmRlcmVycywge1xuICAgICAgaWRlbnRpZmllcixcbiAgICAgIFJlbmRlcmVyXG4gICAgfV07XG4gIH1cblxuICAvKipcbiAgICogRGV0YWNoIGEgcmVuZGVyZXIgZnJvbSB0aGUgYnkga2V5IGluamVjdG9yLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWRlbnRpZmllciAtIElkZW50aWZpZXIgZm9yIHRoZSByZW5kZXJlci5cbiAgICovXG4gIGRldGFjaFJlbmRlcmVyKGlkZW50aWZpZXIpIHtcbiAgICB0aGlzLnJlZ2lzdGVyZWRSZW5kZXJlcnMgPSB0aGlzLnJlZ2lzdGVyZWRSZW5kZXJlcnMuZmlsdGVyKHIgPT4gci5pZGVudGlmaWVyICE9PSBpZGVudGlmaWVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSByZWdpc3RlcmVkIHJlbmRlcmVycy5cbiAgICogQHJldHVybnMge0FycmF5fSBBcnJheSBvZiByZWdpc3RlcmVkIHJlbmRlcmVycy5cbiAgICovXG4gIGZldGNoUmVuZGVyZXJzKCkge1xuICAgIHJldHVybiB0aGlzLnJlZ2lzdGVyZWRSZW5kZXJlcnM7XG4gIH1cbn1cblJlbmRlckluamVjdG9yLiRpbmplY3QgPSBbJ2V2ZW50QnVzJ107XG5cbmNvbnN0IFJlbmRlckluamVjdGlvbk1vZHVsZSA9IHtcbiAgX19pbml0X186IFsncmVuZGVySW5qZWN0b3InXSxcbiAgcmVuZGVySW5qZWN0b3I6IFsndHlwZScsIFJlbmRlckluamVjdG9yXVxufTtcblxudmFyIF9wYXRoO1xuZnVuY3Rpb24gX2V4dGVuZHMoKSB7IHJldHVybiBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gPyBPYmplY3QuYXNzaWduLmJpbmQoKSA6IGZ1bmN0aW9uIChuKSB7IGZvciAodmFyIGUgPSAxOyBlIDwgYXJndW1lbnRzLmxlbmd0aDsgZSsrKSB7IHZhciB0ID0gYXJndW1lbnRzW2VdOyBmb3IgKHZhciByIGluIHQpICh7fSkuaGFzT3duUHJvcGVydHkuY2FsbCh0LCByKSAmJiAobltyXSA9IHRbcl0pOyB9IHJldHVybiBuOyB9LCBfZXh0ZW5kcy5hcHBseShudWxsLCBhcmd1bWVudHMpOyB9XG52YXIgU3ZnUmVwZWF0ID0gZnVuY3Rpb24gU3ZnUmVwZWF0KHByb3BzKSB7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInN2Z1wiLCBfZXh0ZW5kcyh7XG4gICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICB3aWR0aDogMTYsXG4gICAgaGVpZ2h0OiAxNixcbiAgICBmaWxsOiBcIm5vbmVcIlxuICB9LCBwcm9wcyksIF9wYXRoIHx8IChfcGF0aCA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICBkOiBcIk0zIDNoMTAuMDg2bC0xLjc5My0xLjc5M0wxMiAuNWwzIDMtMyAzLS43MDctLjcwN0wxMy4wODYgNEgzdjMuNUgyVjRhMSAxIDAgMCAxIDEtMU00LjcwNyAxMC4yMDcgMi45MTQgMTJIMTNWOC41aDFWMTJhMSAxIDAgMCAxLTEgMUgyLjkxNGwxLjc5MyAxLjc5M0w0IDE1LjVsLTMtMyAzLTN6XCJcbiAgfSkpKTtcbn07XG5cbmNsYXNzIEVkaXRvclJlcGVhdFJlbmRlck1hbmFnZXIge1xuICBjb25zdHJ1Y3Rvcihmb3JtRmllbGRzLCBmb3JtRmllbGRSZWdpc3RyeSkge1xuICAgIHRoaXMuX2Zvcm1GaWVsZHMgPSBmb3JtRmllbGRzO1xuICAgIHRoaXMuX2Zvcm1GaWVsZFJlZ2lzdHJ5ID0gZm9ybUZpZWxkUmVnaXN0cnk7XG4gICAgdGhpcy5SZXBlYXRGb290ZXIgPSB0aGlzLlJlcGVhdEZvb3Rlci5iaW5kKHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyB3aGV0aGVyIGEgZmllbGQgc2hvdWxkIGJlIHJlcGVhdGFibGUuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIFRoZSBpZCBvZiB0aGUgZmllbGQgdG8gY2hlY2tcbiAgICogQHJldHVybnMge2Jvb2xlYW59IC0gVHJ1ZSBpZiByZXBlYXRhYmxlLCBmYWxzZSBvdGhlcndpc2VcbiAgICovXG4gIGlzRmllbGRSZXBlYXRpbmcoaWQpIHtcbiAgICBpZiAoIWlkKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IGZvcm1GaWVsZCA9IHRoaXMuX2Zvcm1GaWVsZFJlZ2lzdHJ5LmdldChpZCk7XG4gICAgY29uc3QgZm9ybUZpZWxkRGVmaW5pdGlvbiA9IHRoaXMuX2Zvcm1GaWVsZHMuZ2V0KGZvcm1GaWVsZC50eXBlKTtcbiAgICByZXR1cm4gZm9ybUZpZWxkRGVmaW5pdGlvbi5jb25maWcucmVwZWF0YWJsZSAmJiBmb3JtRmllbGQuaXNSZXBlYXRpbmc7XG4gIH1cbiAgUmVwZWF0Rm9vdGVyKCkge1xuICAgIHJldHVybiBqc3hzKFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJmanMtcmVwZWF0LXJlbmRlci1mb290ZXJcIixcbiAgICAgIGNoaWxkcmVuOiBbanN4KFN2Z1JlcGVhdCwge30pLCBqc3goXCJzcGFuXCIsIHtcbiAgICAgICAgY2hpbGRyZW46IFwiUmVwZWF0YWJsZVwiXG4gICAgICB9KV1cbiAgICB9KTtcbiAgfVxufVxuRWRpdG9yUmVwZWF0UmVuZGVyTWFuYWdlci4kaW5qZWN0ID0gWydmb3JtRmllbGRzJywgJ2Zvcm1GaWVsZFJlZ2lzdHJ5J107XG5cbmNvbnN0IFJlcGVhdFJlbmRlck1vZHVsZSA9IHtcbiAgX19pbml0X186IFsncmVwZWF0UmVuZGVyTWFuYWdlciddLFxuICByZXBlYXRSZW5kZXJNYW5hZ2VyOiBbJ3R5cGUnLCBFZGl0b3JSZXBlYXRSZW5kZXJNYW5hZ2VyXVxufTtcblxuY29uc3QgaWRzID0gbmV3IElkcyhbMzIsIDM2LCAxXSk7XG5cbi8qKlxuICogQHR5cGVkZWYgeyBpbXBvcnQoJy4vdHlwZXMnKS5JbmplY3RvciB9IEluamVjdG9yXG4gKiBAdHlwZWRlZiB7IGltcG9ydCgnLi90eXBlcycpLk1vZHVsZSB9IE1vZHVsZVxuICogQHR5cGVkZWYgeyBpbXBvcnQoJy4vdHlwZXMnKS5TY2hlbWEgfSBTY2hlbWFcbiAqXG4gKiBAdHlwZWRlZiB7IGltcG9ydCgnLi90eXBlcycpLkZvcm1FZGl0b3JPcHRpb25zIH0gRm9ybUVkaXRvck9wdGlvbnNcbiAqIEB0eXBlZGVmIHsgaW1wb3J0KCcuL3R5cGVzJykuRm9ybUVkaXRvclByb3BlcnRpZXMgfSBGb3JtRWRpdG9yUHJvcGVydGllc1xuICpcbiAqIEB0eXBlZGVmIHsge1xuICogICBwcm9wZXJ0aWVzOiBGb3JtRWRpdG9yUHJvcGVydGllcyxcbiAqICAgc2NoZW1hOiBTY2hlbWFcbiAqIH0gfSBTdGF0ZVxuICpcbiAqIEB0eXBlZGVmIHsgKHR5cGU6c3RyaW5nLCBwcmlvcml0eTpudW1iZXIsIGhhbmRsZXI6RnVuY3Rpb24pID0+IHZvaWQgfSBPbkV2ZW50V2l0aFByaW9yaXR5XG4gKiBAdHlwZWRlZiB7ICh0eXBlOnN0cmluZywgaGFuZGxlcjpGdW5jdGlvbikgPT4gdm9pZCB9IE9uRXZlbnRXaXRoT3V0UHJpb3JpdHlcbiAqIEB0eXBlZGVmIHsgT25FdmVudFdpdGhQcmlvcml0eSAmIE9uRXZlbnRXaXRoT3V0UHJpb3JpdHkgfSBPbkV2ZW50VHlwZVxuICovXG5cbi8qKlxuICogVGhlIGZvcm0gZWRpdG9yLlxuICovXG5jbGFzcyBGb3JtRWRpdG9yIHtcbiAgLyoqXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0ge0Zvcm1FZGl0b3JPcHRpb25zfSBvcHRpb25zXG4gICAqL1xuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHtcbiAgICAvKipcbiAgICAgKiBAcHVibGljXG4gICAgICogQHR5cGUge09uRXZlbnRUeXBlfVxuICAgICAqL1xuICAgIHRoaXMub24gPSB0aGlzLl9vbkV2ZW50O1xuXG4gICAgLyoqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy5faWQgPSBpZHMubmV4dCgpO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7RWxlbWVudH1cbiAgICAgKi9cbiAgICB0aGlzLl9jb250YWluZXIgPSBjcmVhdGVGb3JtQ29udGFpbmVyKCk7XG4gICAgdGhpcy5fY29udGFpbmVyLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnMCcpO1xuICAgIGNvbnN0IHtcbiAgICAgIGNvbnRhaW5lcixcbiAgICAgIGV4cG9ydGVyLFxuICAgICAgaW5qZWN0b3IgPSB0aGlzLl9jcmVhdGVJbmplY3RvcihvcHRpb25zLCB0aGlzLl9jb250YWluZXIpLFxuICAgICAgcHJvcGVydGllcyA9IHt9XG4gICAgfSA9IG9wdGlvbnM7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHthbnl9XG4gICAgICovXG4gICAgdGhpcy5leHBvcnRlciA9IGV4cG9ydGVyO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7U3RhdGV9XG4gICAgICovXG4gICAgdGhpcy5fc3RhdGUgPSB7XG4gICAgICBwcm9wZXJ0aWVzLFxuICAgICAgc2NoZW1hOiBudWxsXG4gICAgfTtcbiAgICB0aGlzLmdldCA9IGluamVjdG9yLmdldDtcbiAgICB0aGlzLmludm9rZSA9IGluamVjdG9yLmludm9rZTtcbiAgICB0aGlzLmdldCgnZXZlbnRCdXMnKS5maXJlKCdmb3JtLmluaXQnKTtcbiAgICBpZiAoY29udGFpbmVyKSB7XG4gICAgICB0aGlzLmF0dGFjaFRvKGNvbnRhaW5lcik7XG4gICAgfVxuICB9XG4gIGNsZWFyKCkge1xuICAgIC8vIGNsZWFyIGZvcm0gc2VydmljZXNcbiAgICB0aGlzLl9lbWl0KCdkaWFncmFtLmNsZWFyJyk7XG5cbiAgICAvLyBjbGVhciBkaWFncmFtIHNlcnZpY2VzIChlLmcuIEV2ZW50QnVzKVxuICAgIHRoaXMuX2VtaXQoJ2Zvcm0uY2xlYXInKTtcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIC8vIGRlc3Ryb3kgZm9ybSBzZXJ2aWNlc1xuICAgIHRoaXMuZ2V0KCdldmVudEJ1cycpLmZpcmUoJ2Zvcm0uZGVzdHJveScpO1xuXG4gICAgLy8gZGVzdHJveSBkaWFncmFtIHNlcnZpY2VzIChlLmcuIEV2ZW50QnVzKVxuICAgIHRoaXMuZ2V0KCdldmVudEJ1cycpLmZpcmUoJ2RpYWdyYW0uZGVzdHJveScpO1xuICAgIHRoaXMuX2RldGFjaChmYWxzZSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtTY2hlbWF9IHNjaGVtYVxuICAgKlxuICAgKiBAcmV0dXJuIHtQcm9taXNlPHsgd2FybmluZ3M6IEFycmF5PGFueT4gfT59XG4gICAqL1xuICBpbXBvcnRTY2hlbWEoc2NoZW1hKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgIHNjaGVtYTogaW1wb3J0ZWRTY2hlbWEsXG4gICAgICAgICAgd2FybmluZ3NcbiAgICAgICAgfSA9IHRoaXMuZ2V0KCdpbXBvcnRlcicpLmltcG9ydFNjaGVtYShzY2hlbWEpO1xuICAgICAgICB0aGlzLl9zZXRTdGF0ZSh7XG4gICAgICAgICAgc2NoZW1hOiBpbXBvcnRlZFNjaGVtYVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fZW1pdCgnaW1wb3J0LmRvbmUnLCB7XG4gICAgICAgICAgd2FybmluZ3NcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXNvbHZlKHtcbiAgICAgICAgICB3YXJuaW5nc1xuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHRoaXMuX2VtaXQoJ2ltcG9ydC5kb25lJywge1xuICAgICAgICAgIGVycm9yOiBlcnJvcixcbiAgICAgICAgICB3YXJuaW5nczogZXJyb3Iud2FybmluZ3MgfHwgW11cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZWplY3QoZXJyb3IpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtTY2hlbWF9XG4gICAqL1xuICBzYXZlU2NoZW1hKCkge1xuICAgIHJldHVybiB0aGlzLmdldFNjaGVtYSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtTY2hlbWF9XG4gICAqL1xuICBnZXRTY2hlbWEoKSB7XG4gICAgY29uc3Qge1xuICAgICAgc2NoZW1hXG4gICAgfSA9IHRoaXMuX2dldFN0YXRlKCk7XG4gICAgcmV0dXJuIGV4cG9ydFNjaGVtYShzY2hlbWEsIHRoaXMuZXhwb3J0ZXIsIHNjaGVtYVZlcnNpb24pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7RWxlbWVudHxzdHJpbmd9IHBhcmVudE5vZGVcbiAgICovXG4gIGF0dGFjaFRvKHBhcmVudE5vZGUpIHtcbiAgICBpZiAoIXBhcmVudE5vZGUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcigncGFyZW50Tm9kZSByZXF1aXJlZCcpO1xuICAgIH1cbiAgICB0aGlzLmRldGFjaCgpO1xuICAgIGlmIChpc1N0cmluZyhwYXJlbnROb2RlKSkge1xuICAgICAgcGFyZW50Tm9kZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocGFyZW50Tm9kZSk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuX2NvbnRhaW5lcjtcbiAgICBwYXJlbnROb2RlLmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XG4gICAgdGhpcy5fZW1pdCgnYXR0YWNoJyk7XG4gIH1cbiAgZGV0YWNoKCkge1xuICAgIHRoaXMuX2RldGFjaCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtlbWl0XVxuICAgKi9cbiAgX2RldGFjaChlbWl0ID0gdHJ1ZSkge1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuX2NvbnRhaW5lcixcbiAgICAgIHBhcmVudE5vZGUgPSBjb250YWluZXIucGFyZW50Tm9kZTtcbiAgICBpZiAoIXBhcmVudE5vZGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGVtaXQpIHtcbiAgICAgIHRoaXMuX2VtaXQoJ2RldGFjaCcpO1xuICAgIH1cbiAgICBwYXJlbnROb2RlLnJlbW92ZUNoaWxkKGNvbnRhaW5lcik7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHthbnl9IHByb3BlcnR5XG4gICAqIEBwYXJhbSB7YW55fSB2YWx1ZVxuICAgKi9cbiAgc2V0UHJvcGVydHkocHJvcGVydHksIHZhbHVlKSB7XG4gICAgY29uc3QgcHJvcGVydGllcyA9IHNldCQxKHRoaXMuX2dldFN0YXRlKCkucHJvcGVydGllcywgW3Byb3BlcnR5XSwgdmFsdWUpO1xuICAgIHRoaXMuX3NldFN0YXRlKHtcbiAgICAgIHByb3BlcnRpZXNcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyXG4gICAqL1xuICBvZmYodHlwZSwgaGFuZGxlcikge1xuICAgIHRoaXMuZ2V0KCdldmVudEJ1cycpLm9mZih0eXBlLCBoYW5kbGVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICpcbiAgICogQHBhcmFtIHtGb3JtRWRpdG9yT3B0aW9uc30gb3B0aW9uc1xuICAgKiBAcGFyYW0ge0VsZW1lbnR9IGNvbnRhaW5lclxuICAgKlxuICAgKiBAcmV0dXJucyB7SW5qZWN0b3J9XG4gICAqL1xuICBfY3JlYXRlSW5qZWN0b3Iob3B0aW9ucywgY29udGFpbmVyKSB7XG4gICAgY29uc3Qge1xuICAgICAgbW9kdWxlcyA9IHRoaXMuX2dldE1vZHVsZXMoKSxcbiAgICAgIGFkZGl0aW9uYWxNb2R1bGVzID0gW10sXG4gICAgICByZW5kZXJlciA9IHt9LFxuICAgICAgLi4uY29uZmlnXG4gICAgfSA9IG9wdGlvbnM7XG4gICAgY29uc3QgZW5yaWNoZWRDb25maWcgPSB7XG4gICAgICAuLi5jb25maWcsXG4gICAgICByZW5kZXJlcjoge1xuICAgICAgICAuLi5yZW5kZXJlcixcbiAgICAgICAgY29udGFpbmVyXG4gICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gY3JlYXRlSW5qZWN0b3IoW3tcbiAgICAgIGNvbmZpZzogWyd2YWx1ZScsIGVucmljaGVkQ29uZmlnXVxuICAgIH0sIHtcbiAgICAgIGZvcm1FZGl0b3I6IFsndmFsdWUnLCB0aGlzXVxuICAgIH0sIENvcmVNb2R1bGUsIC4uLm1vZHVsZXMsIC4uLmFkZGl0aW9uYWxNb2R1bGVzXSk7XG4gIH1cblxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqL1xuICBfZW1pdCh0eXBlLCBkYXRhKSB7XG4gICAgdGhpcy5nZXQoJ2V2ZW50QnVzJykuZmlyZSh0eXBlLCBkYXRhKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIF9nZXRTdGF0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fc3RhdGU7XG4gIH1cblxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqL1xuICBfc2V0U3RhdGUoc3RhdGUpIHtcbiAgICB0aGlzLl9zdGF0ZSA9IHtcbiAgICAgIC4uLnRoaXMuX3N0YXRlLFxuICAgICAgLi4uc3RhdGVcbiAgICB9O1xuICAgIHRoaXMuX2VtaXQoJ2NoYW5nZWQnLCB0aGlzLl9nZXRTdGF0ZSgpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIF9nZXRNb2R1bGVzKCkge1xuICAgIHJldHVybiBbTW9kZWxpbmdNb2R1bGUsIEVkaXRvckFjdGlvbnNNb2R1bGUsIEZvcm1FZGl0b3JLZXlib2FyZE1vZHVsZSwgRHJhZ2dpbmdNb2R1bGUsIFNlbGVjdGlvbk1vZHVsZSwgUGFsZXR0ZU1vZHVsZSwgRWRpdG9yRXhwcmVzc2lvbkxhbmd1YWdlTW9kdWxlLCBNYXJrZG93blJlbmRlcmVyTW9kdWxlLCBQcm9wZXJ0aWVzUGFuZWxNb2R1bGUsIFJlbmRlckluamVjdGlvbk1vZHVsZSwgUmVwZWF0UmVuZGVyTW9kdWxlXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIF9vbkV2ZW50KHR5cGUsIHByaW9yaXR5LCBoYW5kbGVyKSB7XG4gICAgdGhpcy5nZXQoJ2V2ZW50QnVzJykub24odHlwZSwgcHJpb3JpdHksIGhhbmRsZXIpO1xuICB9XG59XG5cbi8vIGhlbHBlcnMgLy8vLy8vLy8vL1xuXG5mdW5jdGlvbiBleHBvcnRTY2hlbWEoc2NoZW1hLCBleHBvcnRlciwgc2NoZW1hVmVyc2lvbikge1xuICBjb25zdCBleHBvcnREZXRhaWxzID0gZXhwb3J0ZXIgPyB7XG4gICAgZXhwb3J0ZXJcbiAgfSA6IHt9O1xuICBjb25zdCBjbGVhbmVkU2NoZW1hID0gY2xvbmUoc2NoZW1hLCAobmFtZSwgdmFsdWUpID0+IHtcbiAgICBpZiAoWydfcGFyZW50JywgJ19wYXRoJ10uaW5jbHVkZXMobmFtZSkpIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbiAgfSk7XG4gIHJldHVybiB7XG4gICAgLi4uY2xlYW5lZFNjaGVtYSxcbiAgICAuLi5leHBvcnREZXRhaWxzLFxuICAgIHNjaGVtYVZlcnNpb25cbiAgfTtcbn1cblxuLyoqXG4gKiBAdHlwZWRlZiB7IGltcG9ydCgnLi90eXBlcycpLkNyZWF0ZUZvcm1FZGl0b3JPcHRpb25zIH0gQ3JlYXRlRm9ybUVkaXRvck9wdGlvbnNcbiAqL1xuXG4vKipcbiAqIENyZWF0ZSBhIGZvcm0gZWRpdG9yLlxuICpcbiAqIEBwYXJhbSB7Q3JlYXRlRm9ybUVkaXRvck9wdGlvbnN9IG9wdGlvbnNcbiAqXG4gKiBAcmV0dXJuIHtQcm9taXNlPEZvcm1FZGl0b3I+fVxuICovXG5mdW5jdGlvbiBjcmVhdGVGb3JtRWRpdG9yKG9wdGlvbnMpIHtcbiAgY29uc3Qge1xuICAgIHNjaGVtYSxcbiAgICAuLi5yZXN0XG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBmb3JtRWRpdG9yID0gbmV3IEZvcm1FZGl0b3IocmVzdCk7XG4gIHJldHVybiBmb3JtRWRpdG9yLmltcG9ydFNjaGVtYShzY2hlbWEpLnRoZW4oKCkgPT4ge1xuICAgIHJldHVybiBmb3JtRWRpdG9yO1xuICB9KTtcbn1cblxuZXhwb3J0IHsgRm9ybUVkaXRvciwgY3JlYXRlRm9ybUVkaXRvciwgdXNlRGVib3VuY2UkMSBhcyB1c2VEZWJvdW5jZSwgdXNlUHJldmlvdXMkMSBhcyB1c2VQcmV2aW91cywgdXNlU2VydmljZSBhcyB1c2VQcm9wZXJ0aWVzUGFuZWxTZXJ2aWNlLCB1c2VTZXJ2aWNlJDEgYXMgdXNlU2VydmljZSwgdXNlVmFyaWFibGVzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5lcy5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../node_modules/@bpmn-io/form-js-editor/dist/index.es.js\n\n}");

/***/ },

/***/ "../node_modules/@bpmn-io/form-js-playground/dist/index.es.js"
/*!********************************************************************!*\
  !*** ../node_modules/@bpmn-io/form-js-playground/dist/index.es.js ***!
  \********************************************************************/
(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Playground: () => (/* binding */ Playground)\n/* harmony export */ });\n/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ \"../node_modules/preact/dist/preact.module.js\");\n/* harmony import */ var file_drops__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! file-drops */ \"../node_modules/file-drops/dist/index.js\");\n/* harmony import */ var mitt__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! mitt */ \"../node_modules/mitt/dist/mitt.mjs\");\n/* harmony import */ var preact_hooks__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! preact/hooks */ \"../node_modules/preact/hooks/dist/hooks.module.js\");\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! min-dash */ \"../node_modules/min-dash/dist/index.js\");\n/* harmony import */ var downloadjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! downloadjs */ \"../node_modules/downloadjs/download.js\");\n/* harmony import */ var downloadjs__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(downloadjs__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! classnames */ \"../node_modules/classnames/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @bpmn-io/form-js-viewer */ \"../node_modules/@bpmn-io/form-js-viewer/dist/index.es.js\");\n/* harmony import */ var _bpmn_io_form_js_editor__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @bpmn-io/form-js-editor */ \"../node_modules/@bpmn-io/form-js-editor/dist/index.es.js\");\n/* harmony import */ var preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! preact/jsx-runtime */ \"../node_modules/preact/jsx-runtime/dist/jsxRuntime.module.js\");\n/* harmony import */ var codemirror__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! codemirror */ \"../node_modules/codemirror/dist/index.js\");\n/* harmony import */ var _codemirror_view__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @codemirror/view */ \"../node_modules/@codemirror/view/dist/index.js\");\n/* harmony import */ var _codemirror_state__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @codemirror/state */ \"../node_modules/@codemirror/state/dist/index.js\");\n/* harmony import */ var _codemirror_lint__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @codemirror/lint */ \"../node_modules/@codemirror/lint/dist/index.js\");\n/* harmony import */ var _codemirror_lang_json__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @codemirror/lang-json */ \"../node_modules/@codemirror/lang-json/dist/index.js\");\n/* harmony import */ var _codemirror_commands__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @codemirror/commands */ \"../node_modules/@codemirror/commands/dist/index.js\");\n/* harmony import */ var _codemirror_autocomplete__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @codemirror/autocomplete */ \"../node_modules/@codemirror/autocomplete/dist/index.js\");\n/* harmony import */ var _codemirror_language__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @codemirror/language */ \"../node_modules/@codemirror/language/dist/index.js\");\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! min-dom */ \"../node_modules/min-dom/dist/index.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction Modal(props) {\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n    function handleKey(event) {\n      if (event.key === 'Escape') {\n        event.stopPropagation();\n        props.onClose();\n      }\n    }\n    document.addEventListener('keydown', handleKey);\n    return () => {\n      document.removeEventListener('keydown', handleKey);\n    };\n  });\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxs)(\"div\", {\n    class: \"fjs-pgl-modal\",\n    children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(\"div\", {\n      class: \"fjs-pgl-modal-backdrop\",\n      onClick: props.onClose\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxs)(\"div\", {\n      class: \"fjs-pgl-modal-content\",\n      children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(\"h1\", {\n        class: \"fjs-pgl-modal-header\",\n        children: props.name\n      }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(\"div\", {\n        class: \"fjs-pgl-modal-body\",\n        children: props.children\n      }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(\"div\", {\n        class: \"fjs-pgl-modal-footer\",\n        children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(\"button\", {\n          type: \"button\",\n          class: \"fjs-pgl-button fjs-pgl-button-default\",\n          onClick: props.onClose,\n          children: \"Close\"\n        })\n      })]\n    })]\n  });\n}\n\nfunction EmbedModal(props) {\n  const schema = serializeValue(props.schema);\n  const data = serializeValue(props.data || {});\n  const fieldRef = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_3__.useRef)();\n  const snippet = `<!-- styles needed for rendering -->\n<link rel=\"stylesheet\" href=\"https://unpkg.com/@bpmn-io/form-js@0.2.4/dist/assets/form-js.css\">\n\n<!-- container to render the form into -->\n<div class=\"fjs-pgl-form-container\"></div>\n\n<!-- scripts needed for embedding -->\n<script src=\"https://unpkg.com/@bpmn-io/form-js@0.2.4/dist/form-viewer.umd.js\"></script>\n\n<!-- actual script to instantiate the form and load form schema + data -->\n<script>\n  const data = JSON.parse(${data});\n  const schema = JSON.parse(${schema});\n\n  const form = new FormViewer.Form({\n    container: document.querySelector(\".fjs-pgl-form-container\")\n  });\n\n  form.on(\"submit\", (event) => {\n    console.log(event.data, event.errors);\n  });\n\n  form.importSchema(schema, data).catch(err => {\n    console.error(\"Failed to render form\", err);\n  });\n</script>\n  `.trim();\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n    fieldRef.current.select();\n  });\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxs)(Modal, {\n    name: \"Embed form\",\n    onClose: props.onClose,\n    children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxs)(\"p\", {\n      children: [\"Use the following HTML snippet to embed your form with \", (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(\"a\", {\n        href: \"https://github.com/bpmn-io/form-js\",\n        children: \"form-js\"\n      }), \":\"]\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(\"textarea\", {\n      spellCheck: \"false\",\n      ref: fieldRef,\n      children: snippet\n    })]\n  });\n}\n\n// helpers ///////////\n\nfunction serializeValue(obj) {\n  return JSON.stringify(JSON.stringify(obj)).replace(/</g, '&lt;').replace(/>/g, '&gt;');\n}\n\n/**\n * @type {Facet<import('..').Variables>} Variables\n */\nconst variablesFacet = _codemirror_state__WEBPACK_IMPORTED_MODULE_12__.Facet.define();\n\nfunction autocompletionExtension() {\n  return [(0,_codemirror_autocomplete__WEBPACK_IMPORTED_MODULE_16__.autocompletion)({\n    override: [completions]\n  })];\n}\n\n/**\n * @param {import('@codemirror/autocomplete').CompletionContext} context\n */\nfunction completions(context) {\n  const variables = context.state.facet(variablesFacet)[0];\n  /** @type {import('@codemirror/autocomplete').Completion[]} */\n  const objectOptions = variables.map(label => ({\n    displayLabel: `\"${label}\"`,\n    label: `\"${label}\": `,\n    type: 'variable',\n    apply: (view, completion, from, to) => {\n      const doc = view.state.doc;\n      const beforeChar = doc.sliceString(from - 1, from);\n      const line = doc.lineAt(from);\n      const indentation = /^\\s*/.exec(line.text)[0];\n      const baseInsert = completion.label;\n      if (beforeChar === '{') {\n        const insert = `\\n  ${indentation}${baseInsert},\\n`;\n        view.dispatch({\n          changes: {\n            from,\n            to,\n            insert\n          },\n          selection: {\n            anchor: from + insert.length - 2\n          }\n        });\n      } else if (beforeChar === ',') {\n        const insert = `\\n${indentation}${baseInsert},`;\n        view.dispatch({\n          changes: {\n            from,\n            to,\n            insert\n          },\n          selection: {\n            anchor: from + insert.length - 1\n          }\n        });\n      } else {\n        const insert = `${baseInsert},`;\n        view.dispatch({\n          changes: {\n            from,\n            to,\n            insert\n          },\n          selection: {\n            anchor: from + insert.length - 1\n          }\n        });\n      }\n    }\n  }));\n  /** @type {import('@codemirror/autocomplete').Completion[]} */\n  const propertyNameOptions = variables.map(label => ({\n    label,\n    type: 'variable'\n  }));\n  /** @type {import('@codemirror/autocomplete').Completion[]} */\n  const propertyValueOptions = [{\n    label: 'true',\n    type: 'constant keyword',\n    boost: 3\n  }, {\n    label: 'false',\n    type: 'constant keyword',\n    boost: 2\n  }, {\n    label: 'null',\n    type: 'constant keyword',\n    boost: 1\n  }, {\n    displayLabel: '[ .. ]',\n    label: '[  ]',\n    apply: (view, completion, from, to) => {\n      view.dispatch({\n        changes: {\n          from,\n          to,\n          insert: completion.label\n        },\n        selection: {\n          anchor: from + 2\n        }\n      });\n    }\n  }, {\n    displayLabel: '{ .. }',\n    label: '{  }',\n    apply: (view, completion, from, to) => {\n      view.dispatch({\n        changes: {\n          from,\n          to,\n          insert: completion.label\n        },\n        selection: {\n          anchor: from + 2\n        }\n      });\n    }\n  }];\n  let finalOptions = [];\n  let nodeBefore = (0,_codemirror_language__WEBPACK_IMPORTED_MODULE_17__.syntaxTree)(context.state).resolve(context.pos, -1);\n  let word = context.matchBefore(/\\w*/);\n  if (['Object', '{'].includes(nodeBefore.type.name)) {\n    finalOptions = objectOptions;\n  }\n  if (nodeBefore.type.name === 'PropertyName') {\n    context.explicit = true;\n    finalOptions = propertyNameOptions;\n  }\n  if (['Property', '[', 'Array'].includes(nodeBefore.type.name)) {\n    finalOptions = propertyValueOptions;\n  }\n  if (word.from == word.to && !context.explicit) {\n    return null;\n  }\n  return {\n    from: word.from,\n    options: finalOptions\n  };\n}\n\nconst NO_LINT_CLS = 'fjs-cm-no-lint';\n\n/**\n * @param {object} options\n * @param {boolean} [options.readonly]\n * @param {object} [options.contentAttributes]\n * @param {string | HTMLElement} [options.placeholder]\n */\nfunction JSONEditor(options = {}) {\n  const {\n    contentAttributes = {},\n    placeholder: editorPlaceholder,\n    readonly = false\n  } = options;\n  const emitter = (0,mitt__WEBPACK_IMPORTED_MODULE_2__[\"default\"])();\n  const languageCompartment = new _codemirror_state__WEBPACK_IMPORTED_MODULE_12__.Compartment().of((0,_codemirror_lang_json__WEBPACK_IMPORTED_MODULE_14__.json)());\n  const tabSizeCompartment = new _codemirror_state__WEBPACK_IMPORTED_MODULE_12__.Compartment().of(_codemirror_state__WEBPACK_IMPORTED_MODULE_12__.EditorState.tabSize.of(2));\n  const autocompletionConfCompartment = new _codemirror_state__WEBPACK_IMPORTED_MODULE_12__.Compartment();\n  const placeholderLinterExtension = createPlaceholderLinterExtension();\n  let container = null;\n  function createState(doc, variables = []) {\n    const extensions = [codemirror__WEBPACK_IMPORTED_MODULE_10__.basicSetup, languageCompartment, tabSizeCompartment, (0,_codemirror_lint__WEBPACK_IMPORTED_MODULE_13__.lintGutter)(), (0,_codemirror_lint__WEBPACK_IMPORTED_MODULE_13__.linter)((0,_codemirror_lang_json__WEBPACK_IMPORTED_MODULE_14__.jsonParseLinter)()), placeholderLinterExtension, autocompletionConfCompartment.of(variablesFacet.of(variables)), autocompletionExtension(), _codemirror_view__WEBPACK_IMPORTED_MODULE_11__.keymap.of([_codemirror_commands__WEBPACK_IMPORTED_MODULE_15__.indentWithTab]), editorPlaceholder ? (0,_codemirror_view__WEBPACK_IMPORTED_MODULE_11__.placeholder)(editorPlaceholder) : [], _codemirror_state__WEBPACK_IMPORTED_MODULE_12__.EditorState.readOnly.of(readonly), _codemirror_view__WEBPACK_IMPORTED_MODULE_11__.EditorView.updateListener.of(update => {\n      if (update.docChanged) {\n        emitter.emit('changed', {\n          value: update.state.doc.toString()\n        });\n      }\n    }), _codemirror_view__WEBPACK_IMPORTED_MODULE_11__.EditorView.contentAttributes.of(contentAttributes)];\n    return _codemirror_state__WEBPACK_IMPORTED_MODULE_12__.EditorState.create({\n      doc,\n      extensions\n    });\n  }\n  const view = new _codemirror_view__WEBPACK_IMPORTED_MODULE_11__.EditorView({\n    state: createState('')\n  });\n  this.setValue = function (newValue) {\n    const oldValue = view.state.doc.toString();\n    const diff = findDiff(oldValue, newValue);\n    if (diff) {\n      view.dispatch({\n        changes: {\n          from: diff.start,\n          to: diff.end,\n          insert: diff.text\n        },\n        selection: {\n          anchor: diff.start + diff.text.length\n        }\n      });\n    }\n  };\n  this.getValue = function () {\n    return view.state.doc.toString();\n  };\n  this.setVariables = function (variables) {\n    view.dispatch({\n      effects: autocompletionConfCompartment.reconfigure(variablesFacet.of(variables))\n    });\n  };\n  this.getView = function () {\n    return view;\n  };\n  this.on = emitter.on;\n  this.off = emitter.off;\n  this.emit = emitter.emit;\n  this.attachTo = function (_container) {\n    container = _container;\n    container.appendChild(view.dom);\n    (0,min_dom__WEBPACK_IMPORTED_MODULE_18__.classes)(container, document.body).add('fjs-json-editor');\n  };\n  this.destroy = function () {\n    if (container && view.dom) {\n      container.removeChild(view.dom);\n      (0,min_dom__WEBPACK_IMPORTED_MODULE_18__.classes)(container, document.body).remove('fjs-json-editor');\n    }\n    view.destroy();\n  };\n  function createPlaceholderLinterExtension() {\n    return (0,_codemirror_lint__WEBPACK_IMPORTED_MODULE_13__.linter)(view => {\n      const placeholders = view.dom.querySelectorAll('.cm-placeholder');\n      if (placeholders.length > 0) {\n        (0,min_dom__WEBPACK_IMPORTED_MODULE_18__.classes)(container, document.body).add(NO_LINT_CLS);\n      } else {\n        (0,min_dom__WEBPACK_IMPORTED_MODULE_18__.classes)(container, document.body).remove(NO_LINT_CLS);\n      }\n      return [];\n    });\n  }\n}\nfunction findDiff(oldStr, newStr) {\n  if (oldStr === newStr) {\n    return null;\n  }\n  oldStr = oldStr || '';\n  newStr = newStr || '';\n  let minLength = Math.min(oldStr.length, newStr.length);\n  let start = 0;\n  while (start < minLength && oldStr[start] === newStr[start]) {\n    start++;\n  }\n  if (start === minLength) {\n    return {\n      start: start,\n      text: newStr.slice(start),\n      end: oldStr.length\n    };\n  }\n  let endOld = oldStr.length;\n  let endNew = newStr.length;\n  while (endOld > start && endNew > start && oldStr[endOld - 1] === newStr[endNew - 1]) {\n    endOld--;\n    endNew--;\n  }\n  return {\n    start: start,\n    text: newStr.slice(start, endNew),\n    end: endOld\n  };\n}\n\nfunction Section(props) {\n  const elements = Array.isArray(props.children) ? props.children : [props.children];\n  const {\n    headerItems,\n    children\n  } = elements.reduce((_, child) => {\n    const bucket = child.type === Section.HeaderItem ? _.headerItems : _.children;\n    bucket.push(child);\n    return _;\n  }, {\n    headerItems: [],\n    children: []\n  });\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxs)(\"div\", {\n    class: \"fjs-pgl-section\",\n    children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxs)(\"h1\", {\n      class: \"header\",\n      children: [props.name, \" \", headerItems.length ? (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(\"span\", {\n        class: \"header-items\",\n        children: headerItems\n      }) : null]\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(\"div\", {\n      class: \"body\",\n      children: children\n    })]\n  });\n}\nSection.HeaderItem = function (props) {\n  return props.children;\n};\n\nfunction PlaygroundRoot(config) {\n  const {\n    additionalModules,\n    // goes into both editor + viewer\n    actions: actionsConfig,\n    emit,\n    exporter: exporterConfig,\n    viewerProperties,\n    editorProperties,\n    viewerAdditionalModules,\n    editorAdditionalModules,\n    propertiesPanel: propertiesPanelConfig,\n    apiLinkTarget,\n    onInit\n  } = config;\n  const {\n    display: displayActions = true\n  } = actionsConfig || {};\n  const editorContainerRef = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_3__.useRef)();\n  const paletteContainerRef = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_3__.useRef)();\n  const propertiesPanelContainerRef = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_3__.useRef)();\n  const viewerContainerRef = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_3__.useRef)();\n  const inputDataContainerRef = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_3__.useRef)();\n  const outputDataContainerRef = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_3__.useRef)();\n  const formEditorRef = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_3__.useRef)();\n  const formViewerRef = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_3__.useRef)();\n  const inputDataRef = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_3__.useRef)();\n  const outputDataRef = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_3__.useRef)();\n  const [showEmbed, setShowEmbed] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n  const [schema, setSchema] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_3__.useState)();\n  const [data, setData] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_3__.useState)();\n  const load = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_3__.useCallback)((schema, data) => {\n    formEditorRef.current.importSchema(schema, data);\n    inputDataRef.current.setValue(toString(data));\n    setSchema(schema);\n    setData(data);\n  }, []);\n\n  // initialize and link the editors\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n    const inputDataEditor = inputDataRef.current = new JSONEditor({\n      contentAttributes: {\n        'aria-label': 'Form Input',\n        tabIndex: 0\n      },\n      placeholder: createDataEditorPlaceholder()\n    });\n    const outputDataEditor = outputDataRef.current = new JSONEditor({\n      readonly: true,\n      contentAttributes: {\n        'aria-label': 'Form Output',\n        tabIndex: 0\n      }\n    });\n    const formViewer = formViewerRef.current = new _bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_7__.Form({\n      container: viewerContainerRef.current,\n      additionalModules: [...(additionalModules || []), ...(viewerAdditionalModules || [])],\n      properties: {\n        ...(viewerProperties || {}),\n        ariaLabel: 'Form Preview'\n      }\n    });\n    const formEditor = formEditorRef.current = new _bpmn_io_form_js_editor__WEBPACK_IMPORTED_MODULE_8__.FormEditor({\n      container: editorContainerRef.current,\n      renderer: {\n        compact: true\n      },\n      palette: {\n        parent: paletteContainerRef.current\n      },\n      propertiesPanel: {\n        parent: propertiesPanelContainerRef.current,\n        ...(propertiesPanelConfig || {})\n      },\n      exporter: exporterConfig,\n      properties: {\n        ...(editorProperties || {}),\n        ariaLabel: 'Form Definition'\n      },\n      additionalModules: [...(additionalModules || []), ...(editorAdditionalModules || [])]\n    });\n    formEditor.on('formField.add', ({\n      formField\n    }) => {\n      const formFields = formEditor.get('formFields');\n      const {\n        config\n      } = formFields.get(formField.type);\n      const {\n        generateInitialDemoData\n      } = config;\n      const {\n        id\n      } = formField;\n      if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_4__.isFunction)(generateInitialDemoData)) {\n        return;\n      }\n      const initialDemoData = generateInitialDemoData(formField);\n      if ([initialDemoData, id].includes(undefined)) {\n        return;\n      }\n      setData(currentData => {\n        const newData = {\n          ...currentData,\n          [id]: initialDemoData\n        };\n        inputDataRef.current.setValue(toString(newData));\n        return newData;\n      });\n    });\n    formEditor.on('changed', () => {\n      setSchema(formEditor.getSchema());\n    });\n    formEditor.on('formEditor.rendered', () => {\n      // notify interested parties after render\n      emit('formPlayground.rendered');\n    });\n    const updateOutputData = () => {\n      const submitData = formViewer._getSubmitData();\n      outputDataEditor.setValue(toString(submitData));\n    };\n\n    // pipe viewer changes to output data editor\n    formViewer.on('changed', updateOutputData);\n    formViewer.on('formFieldInstance.added', updateOutputData);\n    formViewer.on('formFieldInstance.removed', updateOutputData);\n    inputDataEditor.on('changed', event => {\n      try {\n        setData(JSON.parse(event.value));\n      } catch (error) {\n        // notify interested about input data error\n        emit('formPlayground.inputDataError', error);\n      }\n    });\n    inputDataEditor.attachTo(inputDataContainerRef.current);\n    outputDataEditor.attachTo(outputDataContainerRef.current);\n    return () => {\n      inputDataEditor.destroy();\n      outputDataEditor.destroy();\n      formViewer.destroy();\n      formEditor.destroy();\n    };\n  }, [additionalModules, editorAdditionalModules, editorProperties, emit, exporterConfig, propertiesPanelConfig, viewerAdditionalModules, viewerProperties]);\n\n  // initialize data through props\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n    if (!config.initialSchema) {\n      return;\n    }\n    load(config.initialSchema, config.initialData || {});\n  }, [config.initialSchema, config.initialData, load]);\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n    schema && formViewerRef.current.importSchema(schema, data);\n  }, [schema, data]);\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n    if (schema && inputDataContainerRef.current) {\n      const variables = (0,_bpmn_io_form_js_viewer__WEBPACK_IMPORTED_MODULE_7__.getSchemaVariables)(schema);\n      inputDataRef.current.setVariables(variables);\n    }\n  }, [schema]);\n\n  // exposes api to parent\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n    if (!apiLinkTarget) {\n      return;\n    }\n    apiLinkTarget.api = {\n      attachDataContainer: node => inputDataRef.current.attachTo(node),\n      attachResultContainer: node => outputDataRef.current.attachTo(node),\n      attachFormContainer: node => formViewerRef.current.attachTo(node),\n      attachEditorContainer: node => formEditorRef.current.attachTo(node),\n      attachPaletteContainer: node => formEditorRef.current.get('palette').attachTo(node),\n      attachPropertiesPanelContainer: node => formEditorRef.current.get('propertiesPanel').attachTo(node),\n      get: (name, strict) => formEditorRef.current.get(name, strict),\n      getDataEditor: () => inputDataRef.current,\n      getEditor: () => formEditorRef.current,\n      getForm: () => formViewerRef.current,\n      getResultView: () => outputDataRef.current,\n      getSchema: () => formEditorRef.current.getSchema(),\n      saveSchema: () => formEditorRef.current.saveSchema(),\n      setSchema: setSchema,\n      setData: setData\n    };\n    onInit();\n  }, [apiLinkTarget, onInit]);\n\n  // separate effect for state to avoid re-creating the api object every time\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n    if (!apiLinkTarget) {\n      return;\n    }\n    apiLinkTarget.api.getState = () => ({\n      schema,\n      data\n    });\n    apiLinkTarget.api.load = load;\n  }, [apiLinkTarget, schema, data, load]);\n  const handleDownload = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_3__.useCallback)(() => {\n    downloadjs__WEBPACK_IMPORTED_MODULE_5___default()(JSON.stringify(schema, null, '  '), 'form.json', 'text/json');\n  }, [schema]);\n  const hideEmbedModal = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_3__.useCallback)(() => {\n    setShowEmbed(false);\n  }, []);\n  const showEmbedModal = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_3__.useCallback)(() => {\n    setShowEmbed(true);\n  }, []);\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxs)(\"div\", {\n    class: classnames__WEBPACK_IMPORTED_MODULE_6___default()('fjs-container', 'fjs-pgl-root'),\n    children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(\"div\", {\n      class: \"fjs-pgl-modals\",\n      children: showEmbed ? (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(EmbedModal, {\n        schema: schema,\n        data: data,\n        onClose: hideEmbedModal\n      }) : null\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(\"div\", {\n      class: \"fjs-pgl-palette-container\",\n      ref: paletteContainerRef\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxs)(\"div\", {\n      class: \"fjs-pgl-main\",\n      children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxs)(Section, {\n        name: \"Form Definition\",\n        children: [displayActions && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(Section.HeaderItem, {\n          children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(\"button\", {\n            type: \"button\",\n            class: \"fjs-pgl-button\",\n            title: \"Download form definition\",\n            onClick: handleDownload,\n            children: \"Download\"\n          })\n        }), displayActions && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(Section.HeaderItem, {\n          children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(\"button\", {\n            type: \"button\",\n            class: \"fjs-pgl-button\",\n            onClick: showEmbedModal,\n            children: \"Embed\"\n          })\n        }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(\"div\", {\n          ref: editorContainerRef,\n          class: \"fjs-pgl-form-container\"\n        })]\n      }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(Section, {\n        name: \"Form Preview\",\n        children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(\"div\", {\n          ref: viewerContainerRef,\n          class: \"fjs-pgl-form-container\"\n        })\n      }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(Section, {\n        name: \"Form Input\",\n        children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(\"div\", {\n          ref: inputDataContainerRef,\n          class: \"fjs-pgl-text-container\"\n        })\n      }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(Section, {\n        name: \"Form Output\",\n        children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(\"div\", {\n          ref: outputDataContainerRef,\n          class: \"fjs-pgl-text-container\"\n        })\n      })]\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(\"div\", {\n      class: \"fjs-pgl-properties-container\",\n      ref: propertiesPanelContainerRef\n    })]\n  });\n}\n\n// helpers ///////////////\n\nfunction toString(obj) {\n  return JSON.stringify(obj, null, '  ');\n}\nfunction createDataEditorPlaceholder() {\n  const element = document.createElement('p');\n  element.innerHTML = 'Use this panel to simulate the form input, such as process variables.\\nThis helps to test the form by populating the preview.\\n\\n' + 'Follow the JSON format like this:\\n\\n' + '{\\n  \"variable\": \"value\"\\n}';\n  return element;\n}\n\nfunction Playground(options) {\n  const {\n    container: parent,\n    schema: initialSchema,\n    data: initialData,\n    ...rest\n  } = options;\n  const emitter = (0,mitt__WEBPACK_IMPORTED_MODULE_2__[\"default\"])();\n  const container = document.createElement('div');\n  container.classList.add('fjs-pgl-parent');\n  if (parent) {\n    parent.appendChild(container);\n  }\n  const handleDrop = (0,file_drops__WEBPACK_IMPORTED_MODULE_1__[\"default\"])('Drop a form file', function (files) {\n    const file = files[0];\n    if (file) {\n      try {\n        this.api.setSchema(JSON.parse(file.contents));\n      } catch (err) {\n        // TODO(nikku): indicate JSON parse error\n      }\n    }\n  });\n  const safe = function (fn) {\n    return function (...args) {\n      if (!this.api) {\n        throw new Error('Playground is not initialized.');\n      }\n      return fn(...args);\n    };\n  };\n  const onInit = function () {\n    emitter.emit('formPlayground.init');\n  };\n  container.addEventListener('dragover', handleDrop);\n  (0,preact__WEBPACK_IMPORTED_MODULE_0__.render)((0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(PlaygroundRoot, {\n    initialSchema: initialSchema,\n    initialData: initialData,\n    emit: emitter.emit,\n    apiLinkTarget: this,\n    onInit: onInit,\n    ...rest\n  }), container);\n  this.on = emitter.on;\n  this.off = emitter.off;\n  this.emit = emitter.emit;\n  this.on('destroy', () => {\n    (0,preact__WEBPACK_IMPORTED_MODULE_0__.render)(null, container);\n    parent.removeChild(container);\n  });\n  this.destroy = () => this.emit('destroy');\n  this.getState = safe(() => this.api.getState());\n  this.getSchema = safe(() => this.api.getSchema());\n  this.setSchema = safe(schema => this.api.setSchema(schema));\n  this.saveSchema = safe(() => this.api.saveSchema());\n  this.get = safe((name, strict) => this.api.get(name, strict));\n  this.getDataEditor = safe(() => this.api.getDataEditor());\n  this.getEditor = safe(() => this.api.getEditor());\n  this.getForm = safe((name, strict) => this.api.getForm(name, strict));\n  this.getResultView = safe(() => this.api.getResultView());\n  this.attachEditorContainer = safe(node => this.api.attachEditorContainer(node));\n  this.attachPreviewContainer = safe(node => this.api.attachFormContainer(node));\n  this.attachDataContainer = safe(node => this.api.attachDataContainer(node));\n  this.attachResultContainer = safe(node => this.api.attachResultContainer(node));\n  this.attachPaletteContainer = safe(node => this.api.attachPaletteContainer(node));\n  this.attachPropertiesPanelContainer = safe(node => this.api.attachPropertiesPanelContainer(node));\n}\n\n\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL0BicG1uLWlvL2Zvcm0tanMtcGxheWdyb3VuZC9kaXN0L2luZGV4LmVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBZ0M7QUFDRTtBQUNWO0FBQ2dEO0FBQ2xDO0FBQ0o7QUFDRTtBQUMrQjtBQUNkO0FBQ047QUFDUDtBQUMyQjtBQUNDO0FBQ2Q7QUFDUTtBQUNUO0FBQ0s7QUFDUjtBQUNoQjs7QUFFbEM7QUFDQSxFQUFFLHVEQUFTO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsU0FBUyx3REFBSTtBQUNiO0FBQ0EsZUFBZSx1REFBRztBQUNsQjtBQUNBO0FBQ0EsS0FBSyxHQUFHLHdEQUFJO0FBQ1o7QUFDQSxpQkFBaUIsdURBQUc7QUFDcEI7QUFDQTtBQUNBLE9BQU8sR0FBRyx1REFBRztBQUNiO0FBQ0E7QUFDQSxPQUFPLEdBQUcsdURBQUc7QUFDYjtBQUNBLGtCQUFrQix1REFBRztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1AsS0FBSztBQUNMLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0EsOENBQThDO0FBQzlDLG1CQUFtQixvREFBTTtBQUN6QjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsNEJBQTRCLEtBQUs7QUFDakMsOEJBQThCLE9BQU87O0FBRXJDO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEVBQUUsdURBQVM7QUFDWDtBQUNBLEdBQUc7QUFDSCxTQUFTLHdEQUFJO0FBQ2I7QUFDQTtBQUNBLGVBQWUsd0RBQUk7QUFDbkIsNEVBQTRFLHVEQUFHO0FBQy9FO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSyxHQUFHLHVEQUFHO0FBQ1g7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDs7QUFFQTs7QUFFQTtBQUNBLGdFQUFnRSxzQkFBc0I7QUFDdEY7O0FBRUE7QUFDQSxVQUFVLCtCQUErQjtBQUN6QztBQUNBLHVCQUF1QixxREFBSzs7QUFFNUI7QUFDQSxVQUFVLHlFQUFjO0FBQ3hCO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0EsV0FBVyxzREFBc0Q7QUFDakU7QUFDQTtBQUNBO0FBQ0EsYUFBYSxpREFBaUQ7QUFDOUQ7QUFDQSxzQkFBc0IsTUFBTTtBQUM1QixlQUFlLE1BQU07QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0IsOEJBQThCLFlBQVksRUFBRSxXQUFXO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULFFBQVE7QUFDUiw0QkFBNEIsWUFBWSxFQUFFLFdBQVc7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsUUFBUTtBQUNSLDBCQUEwQixXQUFXO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsYUFBYSxpREFBaUQ7QUFDOUQ7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILGFBQWEsaURBQWlEO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHO0FBQ0gscUJBQXFCLElBQUk7QUFDekIsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHO0FBQ0g7QUFDQSxtQkFBbUIsaUVBQVU7QUFDN0I7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFNBQVM7QUFDcEIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsc0JBQXNCO0FBQ2pDO0FBQ0EsZ0NBQWdDO0FBQ2hDO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQSxJQUFJO0FBQ0osa0JBQWtCLGdEQUFJO0FBQ3RCLGtDQUFrQywyREFBVyxNQUFNLDREQUFJO0FBQ3ZELGlDQUFpQywyREFBVyxNQUFNLDJEQUFXO0FBQzdELDRDQUE0QywyREFBVztBQUN2RDtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsbURBQVUsMkNBQTJDLDZEQUFVLElBQUkseURBQU0sQ0FBQyx1RUFBZSw0SEFBNEgscURBQU0sS0FBSyxnRUFBYSx3QkFBd0IsOERBQVcsMEJBQTBCLDJEQUFXLHdCQUF3Qix5REFBVTtBQUMvVztBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLLEdBQUcseURBQVU7QUFDbEIsV0FBVywyREFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsbUJBQW1CLHlEQUFVO0FBQzdCO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksaURBQU87QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0saURBQU87QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcseURBQU07QUFDakI7QUFDQTtBQUNBLFFBQVEsaURBQU87QUFDZixRQUFRO0FBQ1IsUUFBUSxpREFBTztBQUNmO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNILFNBQVMsd0RBQUk7QUFDYjtBQUNBLGVBQWUsd0RBQUk7QUFDbkI7QUFDQSx1REFBdUQsdURBQUc7QUFDMUQ7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLLEdBQUcsdURBQUc7QUFDWDtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxJQUFJO0FBQ0osNkJBQTZCLG9EQUFNO0FBQ25DLDhCQUE4QixvREFBTTtBQUNwQyxzQ0FBc0Msb0RBQU07QUFDNUMsNkJBQTZCLG9EQUFNO0FBQ25DLGdDQUFnQyxvREFBTTtBQUN0QyxpQ0FBaUMsb0RBQU07QUFDdkMsd0JBQXdCLG9EQUFNO0FBQzlCLHdCQUF3QixvREFBTTtBQUM5Qix1QkFBdUIsb0RBQU07QUFDN0Isd0JBQXdCLG9EQUFNO0FBQzlCLG9DQUFvQyxzREFBUTtBQUM1Qyw4QkFBOEIsc0RBQVE7QUFDdEMsMEJBQTBCLHNEQUFRO0FBQ2xDLGVBQWUseURBQVc7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsRUFBRSx1REFBUztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxtREFBbUQseURBQUk7QUFDdkQ7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsbURBQW1ELCtEQUFVO0FBQzdEO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSx1Q0FBdUM7QUFDdkMsT0FBTztBQUNQO0FBQ0E7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQSxPQUFPO0FBQ1A7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsUUFBUTtBQUNSLFdBQVcsb0RBQVU7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLEVBQUUsdURBQVM7QUFDWDtBQUNBO0FBQ0E7QUFDQSx1REFBdUQ7QUFDdkQsR0FBRztBQUNILEVBQUUsdURBQVM7QUFDWDtBQUNBLEdBQUc7QUFDSCxFQUFFLHVEQUFTO0FBQ1g7QUFDQSx3QkFBd0IsMkVBQWtCO0FBQzFDO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsRUFBRSx1REFBUztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSxFQUFFLHVEQUFTO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsR0FBRztBQUNILHlCQUF5Qix5REFBVztBQUNwQyxJQUFJLGlEQUFRO0FBQ1osR0FBRztBQUNILHlCQUF5Qix5REFBVztBQUNwQztBQUNBLEdBQUc7QUFDSCx5QkFBeUIseURBQVc7QUFDcEM7QUFDQSxHQUFHO0FBQ0gsU0FBUyx3REFBSTtBQUNiLFdBQVcsaURBQVU7QUFDckIsZUFBZSx1REFBRztBQUNsQjtBQUNBLDRCQUE0Qix1REFBRztBQUMvQjtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSyxHQUFHLHVEQUFHO0FBQ1g7QUFDQTtBQUNBLEtBQUssR0FBRyx3REFBSTtBQUNaO0FBQ0EsaUJBQWlCLHdEQUFJO0FBQ3JCO0FBQ0EscUNBQXFDLHVEQUFHO0FBQ3hDLG9CQUFvQix1REFBRztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLFNBQVMscUJBQXFCLHVEQUFHO0FBQ2pDLG9CQUFvQix1REFBRztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCxTQUFTLEdBQUcsdURBQUc7QUFDZjtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU8sR0FBRyx1REFBRztBQUNiO0FBQ0Esa0JBQWtCLHVEQUFHO0FBQ3JCO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTyxHQUFHLHVEQUFHO0FBQ2I7QUFDQSxrQkFBa0IsdURBQUc7QUFDckI7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPLEdBQUcsdURBQUc7QUFDYjtBQUNBLGtCQUFrQix1REFBRztBQUNyQjtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUCxLQUFLLEdBQUcsdURBQUc7QUFDWDtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd01BQXdNLDBCQUEwQjtBQUNsTztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixrQkFBa0IsZ0RBQUk7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixzREFBUTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRSw4Q0FBTSxDQUFDLHVEQUFHO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSw4Q0FBTTtBQUNWO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRXNCO0FBQ3RCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2FtdW5kYS1tb2RlbGVyLWNsaWVudC8uLi9ub2RlX21vZHVsZXMvQGJwbW4taW8vZm9ybS1qcy1wbGF5Z3JvdW5kL2Rpc3QvaW5kZXguZXMuanM/MDMyMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyByZW5kZXIgfSBmcm9tICdwcmVhY3QnO1xuaW1wb3J0IGZpbGVEcm9wIGZyb20gJ2ZpbGUtZHJvcHMnO1xuaW1wb3J0IG1pdHQgZnJvbSAnbWl0dCc7XG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUsIHVzZUNhbGxiYWNrIH0gZnJvbSAncHJlYWN0L2hvb2tzJztcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICdtaW4tZGFzaCc7XG5pbXBvcnQgZG93bmxvYWQgZnJvbSAnZG93bmxvYWRqcyc7XG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCB7IEZvcm0sIGdldFNjaGVtYVZhcmlhYmxlcyB9IGZyb20gJ0BicG1uLWlvL2Zvcm0tanMtdmlld2VyJztcbmltcG9ydCB7IEZvcm1FZGl0b3IgfSBmcm9tICdAYnBtbi1pby9mb3JtLWpzLWVkaXRvcic7XG5pbXBvcnQgeyBqc3hzLCBqc3ggfSBmcm9tICdwcmVhY3QvanN4LXJ1bnRpbWUnO1xuaW1wb3J0IHsgYmFzaWNTZXR1cCB9IGZyb20gJ2NvZGVtaXJyb3InO1xuaW1wb3J0IHsgRWRpdG9yVmlldywga2V5bWFwLCBwbGFjZWhvbGRlciB9IGZyb20gJ0Bjb2RlbWlycm9yL3ZpZXcnO1xuaW1wb3J0IHsgRmFjZXQsIENvbXBhcnRtZW50LCBFZGl0b3JTdGF0ZSB9IGZyb20gJ0Bjb2RlbWlycm9yL3N0YXRlJztcbmltcG9ydCB7IGxpbnRlciwgbGludEd1dHRlciB9IGZyb20gJ0Bjb2RlbWlycm9yL2xpbnQnO1xuaW1wb3J0IHsganNvbiwganNvblBhcnNlTGludGVyIH0gZnJvbSAnQGNvZGVtaXJyb3IvbGFuZy1qc29uJztcbmltcG9ydCB7IGluZGVudFdpdGhUYWIgfSBmcm9tICdAY29kZW1pcnJvci9jb21tYW5kcyc7XG5pbXBvcnQgeyBhdXRvY29tcGxldGlvbiB9IGZyb20gJ0Bjb2RlbWlycm9yL2F1dG9jb21wbGV0ZSc7XG5pbXBvcnQgeyBzeW50YXhUcmVlIH0gZnJvbSAnQGNvZGVtaXJyb3IvbGFuZ3VhZ2UnO1xuaW1wb3J0IHsgY2xhc3NlcyB9IGZyb20gJ21pbi1kb20nO1xuXG5mdW5jdGlvbiBNb2RhbChwcm9wcykge1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGZ1bmN0aW9uIGhhbmRsZUtleShldmVudCkge1xuICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIHByb3BzLm9uQ2xvc2UoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGhhbmRsZUtleSk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVLZXkpO1xuICAgIH07XG4gIH0pO1xuICByZXR1cm4ganN4cyhcImRpdlwiLCB7XG4gICAgY2xhc3M6IFwiZmpzLXBnbC1tb2RhbFwiLFxuICAgIGNoaWxkcmVuOiBbanN4KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzOiBcImZqcy1wZ2wtbW9kYWwtYmFja2Ryb3BcIixcbiAgICAgIG9uQ2xpY2s6IHByb3BzLm9uQ2xvc2VcbiAgICB9KSwganN4cyhcImRpdlwiLCB7XG4gICAgICBjbGFzczogXCJmanMtcGdsLW1vZGFsLWNvbnRlbnRcIixcbiAgICAgIGNoaWxkcmVuOiBbanN4KFwiaDFcIiwge1xuICAgICAgICBjbGFzczogXCJmanMtcGdsLW1vZGFsLWhlYWRlclwiLFxuICAgICAgICBjaGlsZHJlbjogcHJvcHMubmFtZVxuICAgICAgfSksIGpzeChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzOiBcImZqcy1wZ2wtbW9kYWwtYm9keVwiLFxuICAgICAgICBjaGlsZHJlbjogcHJvcHMuY2hpbGRyZW5cbiAgICAgIH0pLCBqc3goXCJkaXZcIiwge1xuICAgICAgICBjbGFzczogXCJmanMtcGdsLW1vZGFsLWZvb3RlclwiLFxuICAgICAgICBjaGlsZHJlbjoganN4KFwiYnV0dG9uXCIsIHtcbiAgICAgICAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgICAgICAgIGNsYXNzOiBcImZqcy1wZ2wtYnV0dG9uIGZqcy1wZ2wtYnV0dG9uLWRlZmF1bHRcIixcbiAgICAgICAgICBvbkNsaWNrOiBwcm9wcy5vbkNsb3NlLFxuICAgICAgICAgIGNoaWxkcmVuOiBcIkNsb3NlXCJcbiAgICAgICAgfSlcbiAgICAgIH0pXVxuICAgIH0pXVxuICB9KTtcbn1cblxuZnVuY3Rpb24gRW1iZWRNb2RhbChwcm9wcykge1xuICBjb25zdCBzY2hlbWEgPSBzZXJpYWxpemVWYWx1ZShwcm9wcy5zY2hlbWEpO1xuICBjb25zdCBkYXRhID0gc2VyaWFsaXplVmFsdWUocHJvcHMuZGF0YSB8fCB7fSk7XG4gIGNvbnN0IGZpZWxkUmVmID0gdXNlUmVmKCk7XG4gIGNvbnN0IHNuaXBwZXQgPSBgPCEtLSBzdHlsZXMgbmVlZGVkIGZvciByZW5kZXJpbmcgLS0+XG48bGluayByZWw9XCJzdHlsZXNoZWV0XCIgaHJlZj1cImh0dHBzOi8vdW5wa2cuY29tL0BicG1uLWlvL2Zvcm0tanNAMC4yLjQvZGlzdC9hc3NldHMvZm9ybS1qcy5jc3NcIj5cblxuPCEtLSBjb250YWluZXIgdG8gcmVuZGVyIHRoZSBmb3JtIGludG8gLS0+XG48ZGl2IGNsYXNzPVwiZmpzLXBnbC1mb3JtLWNvbnRhaW5lclwiPjwvZGl2PlxuXG48IS0tIHNjcmlwdHMgbmVlZGVkIGZvciBlbWJlZGRpbmcgLS0+XG48c2NyaXB0IHNyYz1cImh0dHBzOi8vdW5wa2cuY29tL0BicG1uLWlvL2Zvcm0tanNAMC4yLjQvZGlzdC9mb3JtLXZpZXdlci51bWQuanNcIj48L3NjcmlwdD5cblxuPCEtLSBhY3R1YWwgc2NyaXB0IHRvIGluc3RhbnRpYXRlIHRoZSBmb3JtIGFuZCBsb2FkIGZvcm0gc2NoZW1hICsgZGF0YSAtLT5cbjxzY3JpcHQ+XG4gIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKCR7ZGF0YX0pO1xuICBjb25zdCBzY2hlbWEgPSBKU09OLnBhcnNlKCR7c2NoZW1hfSk7XG5cbiAgY29uc3QgZm9ybSA9IG5ldyBGb3JtVmlld2VyLkZvcm0oe1xuICAgIGNvbnRhaW5lcjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5manMtcGdsLWZvcm0tY29udGFpbmVyXCIpXG4gIH0pO1xuXG4gIGZvcm0ub24oXCJzdWJtaXRcIiwgKGV2ZW50KSA9PiB7XG4gICAgY29uc29sZS5sb2coZXZlbnQuZGF0YSwgZXZlbnQuZXJyb3JzKTtcbiAgfSk7XG5cbiAgZm9ybS5pbXBvcnRTY2hlbWEoc2NoZW1hLCBkYXRhKS5jYXRjaChlcnIgPT4ge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gcmVuZGVyIGZvcm1cIiwgZXJyKTtcbiAgfSk7XG48L3NjcmlwdD5cbiAgYC50cmltKCk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZmllbGRSZWYuY3VycmVudC5zZWxlY3QoKTtcbiAgfSk7XG4gIHJldHVybiBqc3hzKE1vZGFsLCB7XG4gICAgbmFtZTogXCJFbWJlZCBmb3JtXCIsXG4gICAgb25DbG9zZTogcHJvcHMub25DbG9zZSxcbiAgICBjaGlsZHJlbjogW2pzeHMoXCJwXCIsIHtcbiAgICAgIGNoaWxkcmVuOiBbXCJVc2UgdGhlIGZvbGxvd2luZyBIVE1MIHNuaXBwZXQgdG8gZW1iZWQgeW91ciBmb3JtIHdpdGggXCIsIGpzeChcImFcIiwge1xuICAgICAgICBocmVmOiBcImh0dHBzOi8vZ2l0aHViLmNvbS9icG1uLWlvL2Zvcm0tanNcIixcbiAgICAgICAgY2hpbGRyZW46IFwiZm9ybS1qc1wiXG4gICAgICB9KSwgXCI6XCJdXG4gICAgfSksIGpzeChcInRleHRhcmVhXCIsIHtcbiAgICAgIHNwZWxsQ2hlY2s6IFwiZmFsc2VcIixcbiAgICAgIHJlZjogZmllbGRSZWYsXG4gICAgICBjaGlsZHJlbjogc25pcHBldFxuICAgIH0pXVxuICB9KTtcbn1cblxuLy8gaGVscGVycyAvLy8vLy8vLy8vL1xuXG5mdW5jdGlvbiBzZXJpYWxpemVWYWx1ZShvYmopIHtcbiAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KEpTT04uc3RyaW5naWZ5KG9iaikpLnJlcGxhY2UoLzwvZywgJyZsdDsnKS5yZXBsYWNlKC8+L2csICcmZ3Q7Jyk7XG59XG5cbi8qKlxuICogQHR5cGUge0ZhY2V0PGltcG9ydCgnLi4nKS5WYXJpYWJsZXM+fSBWYXJpYWJsZXNcbiAqL1xuY29uc3QgdmFyaWFibGVzRmFjZXQgPSBGYWNldC5kZWZpbmUoKTtcblxuZnVuY3Rpb24gYXV0b2NvbXBsZXRpb25FeHRlbnNpb24oKSB7XG4gIHJldHVybiBbYXV0b2NvbXBsZXRpb24oe1xuICAgIG92ZXJyaWRlOiBbY29tcGxldGlvbnNdXG4gIH0pXTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydCgnQGNvZGVtaXJyb3IvYXV0b2NvbXBsZXRlJykuQ29tcGxldGlvbkNvbnRleHR9IGNvbnRleHRcbiAqL1xuZnVuY3Rpb24gY29tcGxldGlvbnMoY29udGV4dCkge1xuICBjb25zdCB2YXJpYWJsZXMgPSBjb250ZXh0LnN0YXRlLmZhY2V0KHZhcmlhYmxlc0ZhY2V0KVswXTtcbiAgLyoqIEB0eXBlIHtpbXBvcnQoJ0Bjb2RlbWlycm9yL2F1dG9jb21wbGV0ZScpLkNvbXBsZXRpb25bXX0gKi9cbiAgY29uc3Qgb2JqZWN0T3B0aW9ucyA9IHZhcmlhYmxlcy5tYXAobGFiZWwgPT4gKHtcbiAgICBkaXNwbGF5TGFiZWw6IGBcIiR7bGFiZWx9XCJgLFxuICAgIGxhYmVsOiBgXCIke2xhYmVsfVwiOiBgLFxuICAgIHR5cGU6ICd2YXJpYWJsZScsXG4gICAgYXBwbHk6ICh2aWV3LCBjb21wbGV0aW9uLCBmcm9tLCB0bykgPT4ge1xuICAgICAgY29uc3QgZG9jID0gdmlldy5zdGF0ZS5kb2M7XG4gICAgICBjb25zdCBiZWZvcmVDaGFyID0gZG9jLnNsaWNlU3RyaW5nKGZyb20gLSAxLCBmcm9tKTtcbiAgICAgIGNvbnN0IGxpbmUgPSBkb2MubGluZUF0KGZyb20pO1xuICAgICAgY29uc3QgaW5kZW50YXRpb24gPSAvXlxccyovLmV4ZWMobGluZS50ZXh0KVswXTtcbiAgICAgIGNvbnN0IGJhc2VJbnNlcnQgPSBjb21wbGV0aW9uLmxhYmVsO1xuICAgICAgaWYgKGJlZm9yZUNoYXIgPT09ICd7Jykge1xuICAgICAgICBjb25zdCBpbnNlcnQgPSBgXFxuICAke2luZGVudGF0aW9ufSR7YmFzZUluc2VydH0sXFxuYDtcbiAgICAgICAgdmlldy5kaXNwYXRjaCh7XG4gICAgICAgICAgY2hhbmdlczoge1xuICAgICAgICAgICAgZnJvbSxcbiAgICAgICAgICAgIHRvLFxuICAgICAgICAgICAgaW5zZXJ0XG4gICAgICAgICAgfSxcbiAgICAgICAgICBzZWxlY3Rpb246IHtcbiAgICAgICAgICAgIGFuY2hvcjogZnJvbSArIGluc2VydC5sZW5ndGggLSAyXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAoYmVmb3JlQ2hhciA9PT0gJywnKSB7XG4gICAgICAgIGNvbnN0IGluc2VydCA9IGBcXG4ke2luZGVudGF0aW9ufSR7YmFzZUluc2VydH0sYDtcbiAgICAgICAgdmlldy5kaXNwYXRjaCh7XG4gICAgICAgICAgY2hhbmdlczoge1xuICAgICAgICAgICAgZnJvbSxcbiAgICAgICAgICAgIHRvLFxuICAgICAgICAgICAgaW5zZXJ0XG4gICAgICAgICAgfSxcbiAgICAgICAgICBzZWxlY3Rpb246IHtcbiAgICAgICAgICAgIGFuY2hvcjogZnJvbSArIGluc2VydC5sZW5ndGggLSAxXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGluc2VydCA9IGAke2Jhc2VJbnNlcnR9LGA7XG4gICAgICAgIHZpZXcuZGlzcGF0Y2goe1xuICAgICAgICAgIGNoYW5nZXM6IHtcbiAgICAgICAgICAgIGZyb20sXG4gICAgICAgICAgICB0byxcbiAgICAgICAgICAgIGluc2VydFxuICAgICAgICAgIH0sXG4gICAgICAgICAgc2VsZWN0aW9uOiB7XG4gICAgICAgICAgICBhbmNob3I6IGZyb20gKyBpbnNlcnQubGVuZ3RoIC0gMVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9KSk7XG4gIC8qKiBAdHlwZSB7aW1wb3J0KCdAY29kZW1pcnJvci9hdXRvY29tcGxldGUnKS5Db21wbGV0aW9uW119ICovXG4gIGNvbnN0IHByb3BlcnR5TmFtZU9wdGlvbnMgPSB2YXJpYWJsZXMubWFwKGxhYmVsID0+ICh7XG4gICAgbGFiZWwsXG4gICAgdHlwZTogJ3ZhcmlhYmxlJ1xuICB9KSk7XG4gIC8qKiBAdHlwZSB7aW1wb3J0KCdAY29kZW1pcnJvci9hdXRvY29tcGxldGUnKS5Db21wbGV0aW9uW119ICovXG4gIGNvbnN0IHByb3BlcnR5VmFsdWVPcHRpb25zID0gW3tcbiAgICBsYWJlbDogJ3RydWUnLFxuICAgIHR5cGU6ICdjb25zdGFudCBrZXl3b3JkJyxcbiAgICBib29zdDogM1xuICB9LCB7XG4gICAgbGFiZWw6ICdmYWxzZScsXG4gICAgdHlwZTogJ2NvbnN0YW50IGtleXdvcmQnLFxuICAgIGJvb3N0OiAyXG4gIH0sIHtcbiAgICBsYWJlbDogJ251bGwnLFxuICAgIHR5cGU6ICdjb25zdGFudCBrZXl3b3JkJyxcbiAgICBib29zdDogMVxuICB9LCB7XG4gICAgZGlzcGxheUxhYmVsOiAnWyAuLiBdJyxcbiAgICBsYWJlbDogJ1sgIF0nLFxuICAgIGFwcGx5OiAodmlldywgY29tcGxldGlvbiwgZnJvbSwgdG8pID0+IHtcbiAgICAgIHZpZXcuZGlzcGF0Y2goe1xuICAgICAgICBjaGFuZ2VzOiB7XG4gICAgICAgICAgZnJvbSxcbiAgICAgICAgICB0byxcbiAgICAgICAgICBpbnNlcnQ6IGNvbXBsZXRpb24ubGFiZWxcbiAgICAgICAgfSxcbiAgICAgICAgc2VsZWN0aW9uOiB7XG4gICAgICAgICAgYW5jaG9yOiBmcm9tICsgMlxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBkaXNwbGF5TGFiZWw6ICd7IC4uIH0nLFxuICAgIGxhYmVsOiAneyAgfScsXG4gICAgYXBwbHk6ICh2aWV3LCBjb21wbGV0aW9uLCBmcm9tLCB0bykgPT4ge1xuICAgICAgdmlldy5kaXNwYXRjaCh7XG4gICAgICAgIGNoYW5nZXM6IHtcbiAgICAgICAgICBmcm9tLFxuICAgICAgICAgIHRvLFxuICAgICAgICAgIGluc2VydDogY29tcGxldGlvbi5sYWJlbFxuICAgICAgICB9LFxuICAgICAgICBzZWxlY3Rpb246IHtcbiAgICAgICAgICBhbmNob3I6IGZyb20gKyAyXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfV07XG4gIGxldCBmaW5hbE9wdGlvbnMgPSBbXTtcbiAgbGV0IG5vZGVCZWZvcmUgPSBzeW50YXhUcmVlKGNvbnRleHQuc3RhdGUpLnJlc29sdmUoY29udGV4dC5wb3MsIC0xKTtcbiAgbGV0IHdvcmQgPSBjb250ZXh0Lm1hdGNoQmVmb3JlKC9cXHcqLyk7XG4gIGlmIChbJ09iamVjdCcsICd7J10uaW5jbHVkZXMobm9kZUJlZm9yZS50eXBlLm5hbWUpKSB7XG4gICAgZmluYWxPcHRpb25zID0gb2JqZWN0T3B0aW9ucztcbiAgfVxuICBpZiAobm9kZUJlZm9yZS50eXBlLm5hbWUgPT09ICdQcm9wZXJ0eU5hbWUnKSB7XG4gICAgY29udGV4dC5leHBsaWNpdCA9IHRydWU7XG4gICAgZmluYWxPcHRpb25zID0gcHJvcGVydHlOYW1lT3B0aW9ucztcbiAgfVxuICBpZiAoWydQcm9wZXJ0eScsICdbJywgJ0FycmF5J10uaW5jbHVkZXMobm9kZUJlZm9yZS50eXBlLm5hbWUpKSB7XG4gICAgZmluYWxPcHRpb25zID0gcHJvcGVydHlWYWx1ZU9wdGlvbnM7XG4gIH1cbiAgaWYgKHdvcmQuZnJvbSA9PSB3b3JkLnRvICYmICFjb250ZXh0LmV4cGxpY2l0KSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBmcm9tOiB3b3JkLmZyb20sXG4gICAgb3B0aW9uczogZmluYWxPcHRpb25zXG4gIH07XG59XG5cbmNvbnN0IE5PX0xJTlRfQ0xTID0gJ2Zqcy1jbS1uby1saW50JztcblxuLyoqXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9uc1xuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5yZWFkb25seV1cbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9ucy5jb250ZW50QXR0cmlidXRlc11cbiAqIEBwYXJhbSB7c3RyaW5nIHwgSFRNTEVsZW1lbnR9IFtvcHRpb25zLnBsYWNlaG9sZGVyXVxuICovXG5mdW5jdGlvbiBKU09ORWRpdG9yKG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7XG4gICAgY29udGVudEF0dHJpYnV0ZXMgPSB7fSxcbiAgICBwbGFjZWhvbGRlcjogZWRpdG9yUGxhY2Vob2xkZXIsXG4gICAgcmVhZG9ubHkgPSBmYWxzZVxuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgZW1pdHRlciA9IG1pdHQoKTtcbiAgY29uc3QgbGFuZ3VhZ2VDb21wYXJ0bWVudCA9IG5ldyBDb21wYXJ0bWVudCgpLm9mKGpzb24oKSk7XG4gIGNvbnN0IHRhYlNpemVDb21wYXJ0bWVudCA9IG5ldyBDb21wYXJ0bWVudCgpLm9mKEVkaXRvclN0YXRlLnRhYlNpemUub2YoMikpO1xuICBjb25zdCBhdXRvY29tcGxldGlvbkNvbmZDb21wYXJ0bWVudCA9IG5ldyBDb21wYXJ0bWVudCgpO1xuICBjb25zdCBwbGFjZWhvbGRlckxpbnRlckV4dGVuc2lvbiA9IGNyZWF0ZVBsYWNlaG9sZGVyTGludGVyRXh0ZW5zaW9uKCk7XG4gIGxldCBjb250YWluZXIgPSBudWxsO1xuICBmdW5jdGlvbiBjcmVhdGVTdGF0ZShkb2MsIHZhcmlhYmxlcyA9IFtdKSB7XG4gICAgY29uc3QgZXh0ZW5zaW9ucyA9IFtiYXNpY1NldHVwLCBsYW5ndWFnZUNvbXBhcnRtZW50LCB0YWJTaXplQ29tcGFydG1lbnQsIGxpbnRHdXR0ZXIoKSwgbGludGVyKGpzb25QYXJzZUxpbnRlcigpKSwgcGxhY2Vob2xkZXJMaW50ZXJFeHRlbnNpb24sIGF1dG9jb21wbGV0aW9uQ29uZkNvbXBhcnRtZW50Lm9mKHZhcmlhYmxlc0ZhY2V0Lm9mKHZhcmlhYmxlcykpLCBhdXRvY29tcGxldGlvbkV4dGVuc2lvbigpLCBrZXltYXAub2YoW2luZGVudFdpdGhUYWJdKSwgZWRpdG9yUGxhY2Vob2xkZXIgPyBwbGFjZWhvbGRlcihlZGl0b3JQbGFjZWhvbGRlcikgOiBbXSwgRWRpdG9yU3RhdGUucmVhZE9ubHkub2YocmVhZG9ubHkpLCBFZGl0b3JWaWV3LnVwZGF0ZUxpc3RlbmVyLm9mKHVwZGF0ZSA9PiB7XG4gICAgICBpZiAodXBkYXRlLmRvY0NoYW5nZWQpIHtcbiAgICAgICAgZW1pdHRlci5lbWl0KCdjaGFuZ2VkJywge1xuICAgICAgICAgIHZhbHVlOiB1cGRhdGUuc3RhdGUuZG9jLnRvU3RyaW5nKClcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSksIEVkaXRvclZpZXcuY29udGVudEF0dHJpYnV0ZXMub2YoY29udGVudEF0dHJpYnV0ZXMpXTtcbiAgICByZXR1cm4gRWRpdG9yU3RhdGUuY3JlYXRlKHtcbiAgICAgIGRvYyxcbiAgICAgIGV4dGVuc2lvbnNcbiAgICB9KTtcbiAgfVxuICBjb25zdCB2aWV3ID0gbmV3IEVkaXRvclZpZXcoe1xuICAgIHN0YXRlOiBjcmVhdGVTdGF0ZSgnJylcbiAgfSk7XG4gIHRoaXMuc2V0VmFsdWUgPSBmdW5jdGlvbiAobmV3VmFsdWUpIHtcbiAgICBjb25zdCBvbGRWYWx1ZSA9IHZpZXcuc3RhdGUuZG9jLnRvU3RyaW5nKCk7XG4gICAgY29uc3QgZGlmZiA9IGZpbmREaWZmKG9sZFZhbHVlLCBuZXdWYWx1ZSk7XG4gICAgaWYgKGRpZmYpIHtcbiAgICAgIHZpZXcuZGlzcGF0Y2goe1xuICAgICAgICBjaGFuZ2VzOiB7XG4gICAgICAgICAgZnJvbTogZGlmZi5zdGFydCxcbiAgICAgICAgICB0bzogZGlmZi5lbmQsXG4gICAgICAgICAgaW5zZXJ0OiBkaWZmLnRleHRcbiAgICAgICAgfSxcbiAgICAgICAgc2VsZWN0aW9uOiB7XG4gICAgICAgICAgYW5jaG9yOiBkaWZmLnN0YXJ0ICsgZGlmZi50ZXh0Lmxlbmd0aFxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG4gIHRoaXMuZ2V0VmFsdWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHZpZXcuc3RhdGUuZG9jLnRvU3RyaW5nKCk7XG4gIH07XG4gIHRoaXMuc2V0VmFyaWFibGVzID0gZnVuY3Rpb24gKHZhcmlhYmxlcykge1xuICAgIHZpZXcuZGlzcGF0Y2goe1xuICAgICAgZWZmZWN0czogYXV0b2NvbXBsZXRpb25Db25mQ29tcGFydG1lbnQucmVjb25maWd1cmUodmFyaWFibGVzRmFjZXQub2YodmFyaWFibGVzKSlcbiAgICB9KTtcbiAgfTtcbiAgdGhpcy5nZXRWaWV3ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB2aWV3O1xuICB9O1xuICB0aGlzLm9uID0gZW1pdHRlci5vbjtcbiAgdGhpcy5vZmYgPSBlbWl0dGVyLm9mZjtcbiAgdGhpcy5lbWl0ID0gZW1pdHRlci5lbWl0O1xuICB0aGlzLmF0dGFjaFRvID0gZnVuY3Rpb24gKF9jb250YWluZXIpIHtcbiAgICBjb250YWluZXIgPSBfY29udGFpbmVyO1xuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZCh2aWV3LmRvbSk7XG4gICAgY2xhc3Nlcyhjb250YWluZXIsIGRvY3VtZW50LmJvZHkpLmFkZCgnZmpzLWpzb24tZWRpdG9yJyk7XG4gIH07XG4gIHRoaXMuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoY29udGFpbmVyICYmIHZpZXcuZG9tKSB7XG4gICAgICBjb250YWluZXIucmVtb3ZlQ2hpbGQodmlldy5kb20pO1xuICAgICAgY2xhc3Nlcyhjb250YWluZXIsIGRvY3VtZW50LmJvZHkpLnJlbW92ZSgnZmpzLWpzb24tZWRpdG9yJyk7XG4gICAgfVxuICAgIHZpZXcuZGVzdHJveSgpO1xuICB9O1xuICBmdW5jdGlvbiBjcmVhdGVQbGFjZWhvbGRlckxpbnRlckV4dGVuc2lvbigpIHtcbiAgICByZXR1cm4gbGludGVyKHZpZXcgPT4ge1xuICAgICAgY29uc3QgcGxhY2Vob2xkZXJzID0gdmlldy5kb20ucXVlcnlTZWxlY3RvckFsbCgnLmNtLXBsYWNlaG9sZGVyJyk7XG4gICAgICBpZiAocGxhY2Vob2xkZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY2xhc3Nlcyhjb250YWluZXIsIGRvY3VtZW50LmJvZHkpLmFkZChOT19MSU5UX0NMUyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjbGFzc2VzKGNvbnRhaW5lciwgZG9jdW1lbnQuYm9keSkucmVtb3ZlKE5PX0xJTlRfQ0xTKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBbXTtcbiAgICB9KTtcbiAgfVxufVxuZnVuY3Rpb24gZmluZERpZmYob2xkU3RyLCBuZXdTdHIpIHtcbiAgaWYgKG9sZFN0ciA9PT0gbmV3U3RyKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgb2xkU3RyID0gb2xkU3RyIHx8ICcnO1xuICBuZXdTdHIgPSBuZXdTdHIgfHwgJyc7XG4gIGxldCBtaW5MZW5ndGggPSBNYXRoLm1pbihvbGRTdHIubGVuZ3RoLCBuZXdTdHIubGVuZ3RoKTtcbiAgbGV0IHN0YXJ0ID0gMDtcbiAgd2hpbGUgKHN0YXJ0IDwgbWluTGVuZ3RoICYmIG9sZFN0cltzdGFydF0gPT09IG5ld1N0cltzdGFydF0pIHtcbiAgICBzdGFydCsrO1xuICB9XG4gIGlmIChzdGFydCA9PT0gbWluTGVuZ3RoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN0YXJ0OiBzdGFydCxcbiAgICAgIHRleHQ6IG5ld1N0ci5zbGljZShzdGFydCksXG4gICAgICBlbmQ6IG9sZFN0ci5sZW5ndGhcbiAgICB9O1xuICB9XG4gIGxldCBlbmRPbGQgPSBvbGRTdHIubGVuZ3RoO1xuICBsZXQgZW5kTmV3ID0gbmV3U3RyLmxlbmd0aDtcbiAgd2hpbGUgKGVuZE9sZCA+IHN0YXJ0ICYmIGVuZE5ldyA+IHN0YXJ0ICYmIG9sZFN0cltlbmRPbGQgLSAxXSA9PT0gbmV3U3RyW2VuZE5ldyAtIDFdKSB7XG4gICAgZW5kT2xkLS07XG4gICAgZW5kTmV3LS07XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBzdGFydDogc3RhcnQsXG4gICAgdGV4dDogbmV3U3RyLnNsaWNlKHN0YXJ0LCBlbmROZXcpLFxuICAgIGVuZDogZW5kT2xkXG4gIH07XG59XG5cbmZ1bmN0aW9uIFNlY3Rpb24ocHJvcHMpIHtcbiAgY29uc3QgZWxlbWVudHMgPSBBcnJheS5pc0FycmF5KHByb3BzLmNoaWxkcmVuKSA/IHByb3BzLmNoaWxkcmVuIDogW3Byb3BzLmNoaWxkcmVuXTtcbiAgY29uc3Qge1xuICAgIGhlYWRlckl0ZW1zLFxuICAgIGNoaWxkcmVuXG4gIH0gPSBlbGVtZW50cy5yZWR1Y2UoKF8sIGNoaWxkKSA9PiB7XG4gICAgY29uc3QgYnVja2V0ID0gY2hpbGQudHlwZSA9PT0gU2VjdGlvbi5IZWFkZXJJdGVtID8gXy5oZWFkZXJJdGVtcyA6IF8uY2hpbGRyZW47XG4gICAgYnVja2V0LnB1c2goY2hpbGQpO1xuICAgIHJldHVybiBfO1xuICB9LCB7XG4gICAgaGVhZGVySXRlbXM6IFtdLFxuICAgIGNoaWxkcmVuOiBbXVxuICB9KTtcbiAgcmV0dXJuIGpzeHMoXCJkaXZcIiwge1xuICAgIGNsYXNzOiBcImZqcy1wZ2wtc2VjdGlvblwiLFxuICAgIGNoaWxkcmVuOiBbanN4cyhcImgxXCIsIHtcbiAgICAgIGNsYXNzOiBcImhlYWRlclwiLFxuICAgICAgY2hpbGRyZW46IFtwcm9wcy5uYW1lLCBcIiBcIiwgaGVhZGVySXRlbXMubGVuZ3RoID8ganN4KFwic3BhblwiLCB7XG4gICAgICAgIGNsYXNzOiBcImhlYWRlci1pdGVtc1wiLFxuICAgICAgICBjaGlsZHJlbjogaGVhZGVySXRlbXNcbiAgICAgIH0pIDogbnVsbF1cbiAgICB9KSwganN4KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzOiBcImJvZHlcIixcbiAgICAgIGNoaWxkcmVuOiBjaGlsZHJlblxuICAgIH0pXVxuICB9KTtcbn1cblNlY3Rpb24uSGVhZGVySXRlbSA9IGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMuY2hpbGRyZW47XG59O1xuXG5mdW5jdGlvbiBQbGF5Z3JvdW5kUm9vdChjb25maWcpIHtcbiAgY29uc3Qge1xuICAgIGFkZGl0aW9uYWxNb2R1bGVzLFxuICAgIC8vIGdvZXMgaW50byBib3RoIGVkaXRvciArIHZpZXdlclxuICAgIGFjdGlvbnM6IGFjdGlvbnNDb25maWcsXG4gICAgZW1pdCxcbiAgICBleHBvcnRlcjogZXhwb3J0ZXJDb25maWcsXG4gICAgdmlld2VyUHJvcGVydGllcyxcbiAgICBlZGl0b3JQcm9wZXJ0aWVzLFxuICAgIHZpZXdlckFkZGl0aW9uYWxNb2R1bGVzLFxuICAgIGVkaXRvckFkZGl0aW9uYWxNb2R1bGVzLFxuICAgIHByb3BlcnRpZXNQYW5lbDogcHJvcGVydGllc1BhbmVsQ29uZmlnLFxuICAgIGFwaUxpbmtUYXJnZXQsXG4gICAgb25Jbml0XG4gIH0gPSBjb25maWc7XG4gIGNvbnN0IHtcbiAgICBkaXNwbGF5OiBkaXNwbGF5QWN0aW9ucyA9IHRydWVcbiAgfSA9IGFjdGlvbnNDb25maWcgfHwge307XG4gIGNvbnN0IGVkaXRvckNvbnRhaW5lclJlZiA9IHVzZVJlZigpO1xuICBjb25zdCBwYWxldHRlQ29udGFpbmVyUmVmID0gdXNlUmVmKCk7XG4gIGNvbnN0IHByb3BlcnRpZXNQYW5lbENvbnRhaW5lclJlZiA9IHVzZVJlZigpO1xuICBjb25zdCB2aWV3ZXJDb250YWluZXJSZWYgPSB1c2VSZWYoKTtcbiAgY29uc3QgaW5wdXREYXRhQ29udGFpbmVyUmVmID0gdXNlUmVmKCk7XG4gIGNvbnN0IG91dHB1dERhdGFDb250YWluZXJSZWYgPSB1c2VSZWYoKTtcbiAgY29uc3QgZm9ybUVkaXRvclJlZiA9IHVzZVJlZigpO1xuICBjb25zdCBmb3JtVmlld2VyUmVmID0gdXNlUmVmKCk7XG4gIGNvbnN0IGlucHV0RGF0YVJlZiA9IHVzZVJlZigpO1xuICBjb25zdCBvdXRwdXREYXRhUmVmID0gdXNlUmVmKCk7XG4gIGNvbnN0IFtzaG93RW1iZWQsIHNldFNob3dFbWJlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzY2hlbWEsIHNldFNjaGVtYV0gPSB1c2VTdGF0ZSgpO1xuICBjb25zdCBbZGF0YSwgc2V0RGF0YV0gPSB1c2VTdGF0ZSgpO1xuICBjb25zdCBsb2FkID0gdXNlQ2FsbGJhY2soKHNjaGVtYSwgZGF0YSkgPT4ge1xuICAgIGZvcm1FZGl0b3JSZWYuY3VycmVudC5pbXBvcnRTY2hlbWEoc2NoZW1hLCBkYXRhKTtcbiAgICBpbnB1dERhdGFSZWYuY3VycmVudC5zZXRWYWx1ZSh0b1N0cmluZyhkYXRhKSk7XG4gICAgc2V0U2NoZW1hKHNjaGVtYSk7XG4gICAgc2V0RGF0YShkYXRhKTtcbiAgfSwgW10pO1xuXG4gIC8vIGluaXRpYWxpemUgYW5kIGxpbmsgdGhlIGVkaXRvcnNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBpbnB1dERhdGFFZGl0b3IgPSBpbnB1dERhdGFSZWYuY3VycmVudCA9IG5ldyBKU09ORWRpdG9yKHtcbiAgICAgIGNvbnRlbnRBdHRyaWJ1dGVzOiB7XG4gICAgICAgICdhcmlhLWxhYmVsJzogJ0Zvcm0gSW5wdXQnLFxuICAgICAgICB0YWJJbmRleDogMFxuICAgICAgfSxcbiAgICAgIHBsYWNlaG9sZGVyOiBjcmVhdGVEYXRhRWRpdG9yUGxhY2Vob2xkZXIoKVxuICAgIH0pO1xuICAgIGNvbnN0IG91dHB1dERhdGFFZGl0b3IgPSBvdXRwdXREYXRhUmVmLmN1cnJlbnQgPSBuZXcgSlNPTkVkaXRvcih7XG4gICAgICByZWFkb25seTogdHJ1ZSxcbiAgICAgIGNvbnRlbnRBdHRyaWJ1dGVzOiB7XG4gICAgICAgICdhcmlhLWxhYmVsJzogJ0Zvcm0gT3V0cHV0JyxcbiAgICAgICAgdGFiSW5kZXg6IDBcbiAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zdCBmb3JtVmlld2VyID0gZm9ybVZpZXdlclJlZi5jdXJyZW50ID0gbmV3IEZvcm0oe1xuICAgICAgY29udGFpbmVyOiB2aWV3ZXJDb250YWluZXJSZWYuY3VycmVudCxcbiAgICAgIGFkZGl0aW9uYWxNb2R1bGVzOiBbLi4uKGFkZGl0aW9uYWxNb2R1bGVzIHx8IFtdKSwgLi4uKHZpZXdlckFkZGl0aW9uYWxNb2R1bGVzIHx8IFtdKV0sXG4gICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgIC4uLih2aWV3ZXJQcm9wZXJ0aWVzIHx8IHt9KSxcbiAgICAgICAgYXJpYUxhYmVsOiAnRm9ybSBQcmV2aWV3J1xuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IGZvcm1FZGl0b3IgPSBmb3JtRWRpdG9yUmVmLmN1cnJlbnQgPSBuZXcgRm9ybUVkaXRvcih7XG4gICAgICBjb250YWluZXI6IGVkaXRvckNvbnRhaW5lclJlZi5jdXJyZW50LFxuICAgICAgcmVuZGVyZXI6IHtcbiAgICAgICAgY29tcGFjdDogdHJ1ZVxuICAgICAgfSxcbiAgICAgIHBhbGV0dGU6IHtcbiAgICAgICAgcGFyZW50OiBwYWxldHRlQ29udGFpbmVyUmVmLmN1cnJlbnRcbiAgICAgIH0sXG4gICAgICBwcm9wZXJ0aWVzUGFuZWw6IHtcbiAgICAgICAgcGFyZW50OiBwcm9wZXJ0aWVzUGFuZWxDb250YWluZXJSZWYuY3VycmVudCxcbiAgICAgICAgLi4uKHByb3BlcnRpZXNQYW5lbENvbmZpZyB8fCB7fSlcbiAgICAgIH0sXG4gICAgICBleHBvcnRlcjogZXhwb3J0ZXJDb25maWcsXG4gICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgIC4uLihlZGl0b3JQcm9wZXJ0aWVzIHx8IHt9KSxcbiAgICAgICAgYXJpYUxhYmVsOiAnRm9ybSBEZWZpbml0aW9uJ1xuICAgICAgfSxcbiAgICAgIGFkZGl0aW9uYWxNb2R1bGVzOiBbLi4uKGFkZGl0aW9uYWxNb2R1bGVzIHx8IFtdKSwgLi4uKGVkaXRvckFkZGl0aW9uYWxNb2R1bGVzIHx8IFtdKV1cbiAgICB9KTtcbiAgICBmb3JtRWRpdG9yLm9uKCdmb3JtRmllbGQuYWRkJywgKHtcbiAgICAgIGZvcm1GaWVsZFxuICAgIH0pID0+IHtcbiAgICAgIGNvbnN0IGZvcm1GaWVsZHMgPSBmb3JtRWRpdG9yLmdldCgnZm9ybUZpZWxkcycpO1xuICAgICAgY29uc3Qge1xuICAgICAgICBjb25maWdcbiAgICAgIH0gPSBmb3JtRmllbGRzLmdldChmb3JtRmllbGQudHlwZSk7XG4gICAgICBjb25zdCB7XG4gICAgICAgIGdlbmVyYXRlSW5pdGlhbERlbW9EYXRhXG4gICAgICB9ID0gY29uZmlnO1xuICAgICAgY29uc3Qge1xuICAgICAgICBpZFxuICAgICAgfSA9IGZvcm1GaWVsZDtcbiAgICAgIGlmICghaXNGdW5jdGlvbihnZW5lcmF0ZUluaXRpYWxEZW1vRGF0YSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgaW5pdGlhbERlbW9EYXRhID0gZ2VuZXJhdGVJbml0aWFsRGVtb0RhdGEoZm9ybUZpZWxkKTtcbiAgICAgIGlmIChbaW5pdGlhbERlbW9EYXRhLCBpZF0uaW5jbHVkZXModW5kZWZpbmVkKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZXREYXRhKGN1cnJlbnREYXRhID0+IHtcbiAgICAgICAgY29uc3QgbmV3RGF0YSA9IHtcbiAgICAgICAgICAuLi5jdXJyZW50RGF0YSxcbiAgICAgICAgICBbaWRdOiBpbml0aWFsRGVtb0RhdGFcbiAgICAgICAgfTtcbiAgICAgICAgaW5wdXREYXRhUmVmLmN1cnJlbnQuc2V0VmFsdWUodG9TdHJpbmcobmV3RGF0YSkpO1xuICAgICAgICByZXR1cm4gbmV3RGF0YTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGZvcm1FZGl0b3Iub24oJ2NoYW5nZWQnLCAoKSA9PiB7XG4gICAgICBzZXRTY2hlbWEoZm9ybUVkaXRvci5nZXRTY2hlbWEoKSk7XG4gICAgfSk7XG4gICAgZm9ybUVkaXRvci5vbignZm9ybUVkaXRvci5yZW5kZXJlZCcsICgpID0+IHtcbiAgICAgIC8vIG5vdGlmeSBpbnRlcmVzdGVkIHBhcnRpZXMgYWZ0ZXIgcmVuZGVyXG4gICAgICBlbWl0KCdmb3JtUGxheWdyb3VuZC5yZW5kZXJlZCcpO1xuICAgIH0pO1xuICAgIGNvbnN0IHVwZGF0ZU91dHB1dERhdGEgPSAoKSA9PiB7XG4gICAgICBjb25zdCBzdWJtaXREYXRhID0gZm9ybVZpZXdlci5fZ2V0U3VibWl0RGF0YSgpO1xuICAgICAgb3V0cHV0RGF0YUVkaXRvci5zZXRWYWx1ZSh0b1N0cmluZyhzdWJtaXREYXRhKSk7XG4gICAgfTtcblxuICAgIC8vIHBpcGUgdmlld2VyIGNoYW5nZXMgdG8gb3V0cHV0IGRhdGEgZWRpdG9yXG4gICAgZm9ybVZpZXdlci5vbignY2hhbmdlZCcsIHVwZGF0ZU91dHB1dERhdGEpO1xuICAgIGZvcm1WaWV3ZXIub24oJ2Zvcm1GaWVsZEluc3RhbmNlLmFkZGVkJywgdXBkYXRlT3V0cHV0RGF0YSk7XG4gICAgZm9ybVZpZXdlci5vbignZm9ybUZpZWxkSW5zdGFuY2UucmVtb3ZlZCcsIHVwZGF0ZU91dHB1dERhdGEpO1xuICAgIGlucHV0RGF0YUVkaXRvci5vbignY2hhbmdlZCcsIGV2ZW50ID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHNldERhdGEoSlNPTi5wYXJzZShldmVudC52YWx1ZSkpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgLy8gbm90aWZ5IGludGVyZXN0ZWQgYWJvdXQgaW5wdXQgZGF0YSBlcnJvclxuICAgICAgICBlbWl0KCdmb3JtUGxheWdyb3VuZC5pbnB1dERhdGFFcnJvcicsIGVycm9yKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpbnB1dERhdGFFZGl0b3IuYXR0YWNoVG8oaW5wdXREYXRhQ29udGFpbmVyUmVmLmN1cnJlbnQpO1xuICAgIG91dHB1dERhdGFFZGl0b3IuYXR0YWNoVG8ob3V0cHV0RGF0YUNvbnRhaW5lclJlZi5jdXJyZW50KTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaW5wdXREYXRhRWRpdG9yLmRlc3Ryb3koKTtcbiAgICAgIG91dHB1dERhdGFFZGl0b3IuZGVzdHJveSgpO1xuICAgICAgZm9ybVZpZXdlci5kZXN0cm95KCk7XG4gICAgICBmb3JtRWRpdG9yLmRlc3Ryb3koKTtcbiAgICB9O1xuICB9LCBbYWRkaXRpb25hbE1vZHVsZXMsIGVkaXRvckFkZGl0aW9uYWxNb2R1bGVzLCBlZGl0b3JQcm9wZXJ0aWVzLCBlbWl0LCBleHBvcnRlckNvbmZpZywgcHJvcGVydGllc1BhbmVsQ29uZmlnLCB2aWV3ZXJBZGRpdGlvbmFsTW9kdWxlcywgdmlld2VyUHJvcGVydGllc10pO1xuXG4gIC8vIGluaXRpYWxpemUgZGF0YSB0aHJvdWdoIHByb3BzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFjb25maWcuaW5pdGlhbFNjaGVtYSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsb2FkKGNvbmZpZy5pbml0aWFsU2NoZW1hLCBjb25maWcuaW5pdGlhbERhdGEgfHwge30pO1xuICB9LCBbY29uZmlnLmluaXRpYWxTY2hlbWEsIGNvbmZpZy5pbml0aWFsRGF0YSwgbG9hZF0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNjaGVtYSAmJiBmb3JtVmlld2VyUmVmLmN1cnJlbnQuaW1wb3J0U2NoZW1hKHNjaGVtYSwgZGF0YSk7XG4gIH0sIFtzY2hlbWEsIGRhdGFdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoc2NoZW1hICYmIGlucHV0RGF0YUNvbnRhaW5lclJlZi5jdXJyZW50KSB7XG4gICAgICBjb25zdCB2YXJpYWJsZXMgPSBnZXRTY2hlbWFWYXJpYWJsZXMoc2NoZW1hKTtcbiAgICAgIGlucHV0RGF0YVJlZi5jdXJyZW50LnNldFZhcmlhYmxlcyh2YXJpYWJsZXMpO1xuICAgIH1cbiAgfSwgW3NjaGVtYV0pO1xuXG4gIC8vIGV4cG9zZXMgYXBpIHRvIHBhcmVudFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghYXBpTGlua1RhcmdldCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBhcGlMaW5rVGFyZ2V0LmFwaSA9IHtcbiAgICAgIGF0dGFjaERhdGFDb250YWluZXI6IG5vZGUgPT4gaW5wdXREYXRhUmVmLmN1cnJlbnQuYXR0YWNoVG8obm9kZSksXG4gICAgICBhdHRhY2hSZXN1bHRDb250YWluZXI6IG5vZGUgPT4gb3V0cHV0RGF0YVJlZi5jdXJyZW50LmF0dGFjaFRvKG5vZGUpLFxuICAgICAgYXR0YWNoRm9ybUNvbnRhaW5lcjogbm9kZSA9PiBmb3JtVmlld2VyUmVmLmN1cnJlbnQuYXR0YWNoVG8obm9kZSksXG4gICAgICBhdHRhY2hFZGl0b3JDb250YWluZXI6IG5vZGUgPT4gZm9ybUVkaXRvclJlZi5jdXJyZW50LmF0dGFjaFRvKG5vZGUpLFxuICAgICAgYXR0YWNoUGFsZXR0ZUNvbnRhaW5lcjogbm9kZSA9PiBmb3JtRWRpdG9yUmVmLmN1cnJlbnQuZ2V0KCdwYWxldHRlJykuYXR0YWNoVG8obm9kZSksXG4gICAgICBhdHRhY2hQcm9wZXJ0aWVzUGFuZWxDb250YWluZXI6IG5vZGUgPT4gZm9ybUVkaXRvclJlZi5jdXJyZW50LmdldCgncHJvcGVydGllc1BhbmVsJykuYXR0YWNoVG8obm9kZSksXG4gICAgICBnZXQ6IChuYW1lLCBzdHJpY3QpID0+IGZvcm1FZGl0b3JSZWYuY3VycmVudC5nZXQobmFtZSwgc3RyaWN0KSxcbiAgICAgIGdldERhdGFFZGl0b3I6ICgpID0+IGlucHV0RGF0YVJlZi5jdXJyZW50LFxuICAgICAgZ2V0RWRpdG9yOiAoKSA9PiBmb3JtRWRpdG9yUmVmLmN1cnJlbnQsXG4gICAgICBnZXRGb3JtOiAoKSA9PiBmb3JtVmlld2VyUmVmLmN1cnJlbnQsXG4gICAgICBnZXRSZXN1bHRWaWV3OiAoKSA9PiBvdXRwdXREYXRhUmVmLmN1cnJlbnQsXG4gICAgICBnZXRTY2hlbWE6ICgpID0+IGZvcm1FZGl0b3JSZWYuY3VycmVudC5nZXRTY2hlbWEoKSxcbiAgICAgIHNhdmVTY2hlbWE6ICgpID0+IGZvcm1FZGl0b3JSZWYuY3VycmVudC5zYXZlU2NoZW1hKCksXG4gICAgICBzZXRTY2hlbWE6IHNldFNjaGVtYSxcbiAgICAgIHNldERhdGE6IHNldERhdGFcbiAgICB9O1xuICAgIG9uSW5pdCgpO1xuICB9LCBbYXBpTGlua1RhcmdldCwgb25Jbml0XSk7XG5cbiAgLy8gc2VwYXJhdGUgZWZmZWN0IGZvciBzdGF0ZSB0byBhdm9pZCByZS1jcmVhdGluZyB0aGUgYXBpIG9iamVjdCBldmVyeSB0aW1lXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFhcGlMaW5rVGFyZ2V0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGFwaUxpbmtUYXJnZXQuYXBpLmdldFN0YXRlID0gKCkgPT4gKHtcbiAgICAgIHNjaGVtYSxcbiAgICAgIGRhdGFcbiAgICB9KTtcbiAgICBhcGlMaW5rVGFyZ2V0LmFwaS5sb2FkID0gbG9hZDtcbiAgfSwgW2FwaUxpbmtUYXJnZXQsIHNjaGVtYSwgZGF0YSwgbG9hZF0pO1xuICBjb25zdCBoYW5kbGVEb3dubG9hZCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBkb3dubG9hZChKU09OLnN0cmluZ2lmeShzY2hlbWEsIG51bGwsICcgICcpLCAnZm9ybS5qc29uJywgJ3RleHQvanNvbicpO1xuICB9LCBbc2NoZW1hXSk7XG4gIGNvbnN0IGhpZGVFbWJlZE1vZGFsID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHNldFNob3dFbWJlZChmYWxzZSk7XG4gIH0sIFtdKTtcbiAgY29uc3Qgc2hvd0VtYmVkTW9kYWwgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgc2V0U2hvd0VtYmVkKHRydWUpO1xuICB9LCBbXSk7XG4gIHJldHVybiBqc3hzKFwiZGl2XCIsIHtcbiAgICBjbGFzczogY2xhc3NOYW1lcygnZmpzLWNvbnRhaW5lcicsICdmanMtcGdsLXJvb3QnKSxcbiAgICBjaGlsZHJlbjogW2pzeChcImRpdlwiLCB7XG4gICAgICBjbGFzczogXCJmanMtcGdsLW1vZGFsc1wiLFxuICAgICAgY2hpbGRyZW46IHNob3dFbWJlZCA/IGpzeChFbWJlZE1vZGFsLCB7XG4gICAgICAgIHNjaGVtYTogc2NoZW1hLFxuICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICBvbkNsb3NlOiBoaWRlRW1iZWRNb2RhbFxuICAgICAgfSkgOiBudWxsXG4gICAgfSksIGpzeChcImRpdlwiLCB7XG4gICAgICBjbGFzczogXCJmanMtcGdsLXBhbGV0dGUtY29udGFpbmVyXCIsXG4gICAgICByZWY6IHBhbGV0dGVDb250YWluZXJSZWZcbiAgICB9KSwganN4cyhcImRpdlwiLCB7XG4gICAgICBjbGFzczogXCJmanMtcGdsLW1haW5cIixcbiAgICAgIGNoaWxkcmVuOiBbanN4cyhTZWN0aW9uLCB7XG4gICAgICAgIG5hbWU6IFwiRm9ybSBEZWZpbml0aW9uXCIsXG4gICAgICAgIGNoaWxkcmVuOiBbZGlzcGxheUFjdGlvbnMgJiYganN4KFNlY3Rpb24uSGVhZGVySXRlbSwge1xuICAgICAgICAgIGNoaWxkcmVuOiBqc3goXCJidXR0b25cIiwge1xuICAgICAgICAgICAgdHlwZTogXCJidXR0b25cIixcbiAgICAgICAgICAgIGNsYXNzOiBcImZqcy1wZ2wtYnV0dG9uXCIsXG4gICAgICAgICAgICB0aXRsZTogXCJEb3dubG9hZCBmb3JtIGRlZmluaXRpb25cIixcbiAgICAgICAgICAgIG9uQ2xpY2s6IGhhbmRsZURvd25sb2FkLFxuICAgICAgICAgICAgY2hpbGRyZW46IFwiRG93bmxvYWRcIlxuICAgICAgICAgIH0pXG4gICAgICAgIH0pLCBkaXNwbGF5QWN0aW9ucyAmJiBqc3goU2VjdGlvbi5IZWFkZXJJdGVtLCB7XG4gICAgICAgICAgY2hpbGRyZW46IGpzeChcImJ1dHRvblwiLCB7XG4gICAgICAgICAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgICAgICAgICAgY2xhc3M6IFwiZmpzLXBnbC1idXR0b25cIixcbiAgICAgICAgICAgIG9uQ2xpY2s6IHNob3dFbWJlZE1vZGFsLFxuICAgICAgICAgICAgY2hpbGRyZW46IFwiRW1iZWRcIlxuICAgICAgICAgIH0pXG4gICAgICAgIH0pLCBqc3goXCJkaXZcIiwge1xuICAgICAgICAgIHJlZjogZWRpdG9yQ29udGFpbmVyUmVmLFxuICAgICAgICAgIGNsYXNzOiBcImZqcy1wZ2wtZm9ybS1jb250YWluZXJcIlxuICAgICAgICB9KV1cbiAgICAgIH0pLCBqc3goU2VjdGlvbiwge1xuICAgICAgICBuYW1lOiBcIkZvcm0gUHJldmlld1wiLFxuICAgICAgICBjaGlsZHJlbjoganN4KFwiZGl2XCIsIHtcbiAgICAgICAgICByZWY6IHZpZXdlckNvbnRhaW5lclJlZixcbiAgICAgICAgICBjbGFzczogXCJmanMtcGdsLWZvcm0tY29udGFpbmVyXCJcbiAgICAgICAgfSlcbiAgICAgIH0pLCBqc3goU2VjdGlvbiwge1xuICAgICAgICBuYW1lOiBcIkZvcm0gSW5wdXRcIixcbiAgICAgICAgY2hpbGRyZW46IGpzeChcImRpdlwiLCB7XG4gICAgICAgICAgcmVmOiBpbnB1dERhdGFDb250YWluZXJSZWYsXG4gICAgICAgICAgY2xhc3M6IFwiZmpzLXBnbC10ZXh0LWNvbnRhaW5lclwiXG4gICAgICAgIH0pXG4gICAgICB9KSwganN4KFNlY3Rpb24sIHtcbiAgICAgICAgbmFtZTogXCJGb3JtIE91dHB1dFwiLFxuICAgICAgICBjaGlsZHJlbjoganN4KFwiZGl2XCIsIHtcbiAgICAgICAgICByZWY6IG91dHB1dERhdGFDb250YWluZXJSZWYsXG4gICAgICAgICAgY2xhc3M6IFwiZmpzLXBnbC10ZXh0LWNvbnRhaW5lclwiXG4gICAgICAgIH0pXG4gICAgICB9KV1cbiAgICB9KSwganN4KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzOiBcImZqcy1wZ2wtcHJvcGVydGllcy1jb250YWluZXJcIixcbiAgICAgIHJlZjogcHJvcGVydGllc1BhbmVsQ29udGFpbmVyUmVmXG4gICAgfSldXG4gIH0pO1xufVxuXG4vLyBoZWxwZXJzIC8vLy8vLy8vLy8vLy8vL1xuXG5mdW5jdGlvbiB0b1N0cmluZyhvYmopIHtcbiAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KG9iaiwgbnVsbCwgJyAgJyk7XG59XG5mdW5jdGlvbiBjcmVhdGVEYXRhRWRpdG9yUGxhY2Vob2xkZXIoKSB7XG4gIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gIGVsZW1lbnQuaW5uZXJIVE1MID0gJ1VzZSB0aGlzIHBhbmVsIHRvIHNpbXVsYXRlIHRoZSBmb3JtIGlucHV0LCBzdWNoIGFzIHByb2Nlc3MgdmFyaWFibGVzLlxcblRoaXMgaGVscHMgdG8gdGVzdCB0aGUgZm9ybSBieSBwb3B1bGF0aW5nIHRoZSBwcmV2aWV3LlxcblxcbicgKyAnRm9sbG93IHRoZSBKU09OIGZvcm1hdCBsaWtlIHRoaXM6XFxuXFxuJyArICd7XFxuICBcInZhcmlhYmxlXCI6IFwidmFsdWVcIlxcbn0nO1xuICByZXR1cm4gZWxlbWVudDtcbn1cblxuZnVuY3Rpb24gUGxheWdyb3VuZChvcHRpb25zKSB7XG4gIGNvbnN0IHtcbiAgICBjb250YWluZXI6IHBhcmVudCxcbiAgICBzY2hlbWE6IGluaXRpYWxTY2hlbWEsXG4gICAgZGF0YTogaW5pdGlhbERhdGEsXG4gICAgLi4ucmVzdFxuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgZW1pdHRlciA9IG1pdHQoKTtcbiAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdmanMtcGdsLXBhcmVudCcpO1xuICBpZiAocGFyZW50KSB7XG4gICAgcGFyZW50LmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XG4gIH1cbiAgY29uc3QgaGFuZGxlRHJvcCA9IGZpbGVEcm9wKCdEcm9wIGEgZm9ybSBmaWxlJywgZnVuY3Rpb24gKGZpbGVzKSB7XG4gICAgY29uc3QgZmlsZSA9IGZpbGVzWzBdO1xuICAgIGlmIChmaWxlKSB7XG4gICAgICB0cnkge1xuICAgICAgICB0aGlzLmFwaS5zZXRTY2hlbWEoSlNPTi5wYXJzZShmaWxlLmNvbnRlbnRzKSk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgLy8gVE9ETyhuaWtrdSk6IGluZGljYXRlIEpTT04gcGFyc2UgZXJyb3JcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICBjb25zdCBzYWZlID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgICBpZiAoIXRoaXMuYXBpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignUGxheWdyb3VuZCBpcyBub3QgaW5pdGlhbGl6ZWQuJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZm4oLi4uYXJncyk7XG4gICAgfTtcbiAgfTtcbiAgY29uc3Qgb25Jbml0ID0gZnVuY3Rpb24gKCkge1xuICAgIGVtaXR0ZXIuZW1pdCgnZm9ybVBsYXlncm91bmQuaW5pdCcpO1xuICB9O1xuICBjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ292ZXInLCBoYW5kbGVEcm9wKTtcbiAgcmVuZGVyKGpzeChQbGF5Z3JvdW5kUm9vdCwge1xuICAgIGluaXRpYWxTY2hlbWE6IGluaXRpYWxTY2hlbWEsXG4gICAgaW5pdGlhbERhdGE6IGluaXRpYWxEYXRhLFxuICAgIGVtaXQ6IGVtaXR0ZXIuZW1pdCxcbiAgICBhcGlMaW5rVGFyZ2V0OiB0aGlzLFxuICAgIG9uSW5pdDogb25Jbml0LFxuICAgIC4uLnJlc3RcbiAgfSksIGNvbnRhaW5lcik7XG4gIHRoaXMub24gPSBlbWl0dGVyLm9uO1xuICB0aGlzLm9mZiA9IGVtaXR0ZXIub2ZmO1xuICB0aGlzLmVtaXQgPSBlbWl0dGVyLmVtaXQ7XG4gIHRoaXMub24oJ2Rlc3Ryb3knLCAoKSA9PiB7XG4gICAgcmVuZGVyKG51bGwsIGNvbnRhaW5lcik7XG4gICAgcGFyZW50LnJlbW92ZUNoaWxkKGNvbnRhaW5lcik7XG4gIH0pO1xuICB0aGlzLmRlc3Ryb3kgPSAoKSA9PiB0aGlzLmVtaXQoJ2Rlc3Ryb3knKTtcbiAgdGhpcy5nZXRTdGF0ZSA9IHNhZmUoKCkgPT4gdGhpcy5hcGkuZ2V0U3RhdGUoKSk7XG4gIHRoaXMuZ2V0U2NoZW1hID0gc2FmZSgoKSA9PiB0aGlzLmFwaS5nZXRTY2hlbWEoKSk7XG4gIHRoaXMuc2V0U2NoZW1hID0gc2FmZShzY2hlbWEgPT4gdGhpcy5hcGkuc2V0U2NoZW1hKHNjaGVtYSkpO1xuICB0aGlzLnNhdmVTY2hlbWEgPSBzYWZlKCgpID0+IHRoaXMuYXBpLnNhdmVTY2hlbWEoKSk7XG4gIHRoaXMuZ2V0ID0gc2FmZSgobmFtZSwgc3RyaWN0KSA9PiB0aGlzLmFwaS5nZXQobmFtZSwgc3RyaWN0KSk7XG4gIHRoaXMuZ2V0RGF0YUVkaXRvciA9IHNhZmUoKCkgPT4gdGhpcy5hcGkuZ2V0RGF0YUVkaXRvcigpKTtcbiAgdGhpcy5nZXRFZGl0b3IgPSBzYWZlKCgpID0+IHRoaXMuYXBpLmdldEVkaXRvcigpKTtcbiAgdGhpcy5nZXRGb3JtID0gc2FmZSgobmFtZSwgc3RyaWN0KSA9PiB0aGlzLmFwaS5nZXRGb3JtKG5hbWUsIHN0cmljdCkpO1xuICB0aGlzLmdldFJlc3VsdFZpZXcgPSBzYWZlKCgpID0+IHRoaXMuYXBpLmdldFJlc3VsdFZpZXcoKSk7XG4gIHRoaXMuYXR0YWNoRWRpdG9yQ29udGFpbmVyID0gc2FmZShub2RlID0+IHRoaXMuYXBpLmF0dGFjaEVkaXRvckNvbnRhaW5lcihub2RlKSk7XG4gIHRoaXMuYXR0YWNoUHJldmlld0NvbnRhaW5lciA9IHNhZmUobm9kZSA9PiB0aGlzLmFwaS5hdHRhY2hGb3JtQ29udGFpbmVyKG5vZGUpKTtcbiAgdGhpcy5hdHRhY2hEYXRhQ29udGFpbmVyID0gc2FmZShub2RlID0+IHRoaXMuYXBpLmF0dGFjaERhdGFDb250YWluZXIobm9kZSkpO1xuICB0aGlzLmF0dGFjaFJlc3VsdENvbnRhaW5lciA9IHNhZmUobm9kZSA9PiB0aGlzLmFwaS5hdHRhY2hSZXN1bHRDb250YWluZXIobm9kZSkpO1xuICB0aGlzLmF0dGFjaFBhbGV0dGVDb250YWluZXIgPSBzYWZlKG5vZGUgPT4gdGhpcy5hcGkuYXR0YWNoUGFsZXR0ZUNvbnRhaW5lcihub2RlKSk7XG4gIHRoaXMuYXR0YWNoUHJvcGVydGllc1BhbmVsQ29udGFpbmVyID0gc2FmZShub2RlID0+IHRoaXMuYXBpLmF0dGFjaFByb3BlcnRpZXNQYW5lbENvbnRhaW5lcihub2RlKSk7XG59XG5cbmV4cG9ydCB7IFBsYXlncm91bmQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmVzLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../node_modules/@bpmn-io/form-js-playground/dist/index.es.js\n\n}");

/***/ },

/***/ "../node_modules/@bpmn-io/form-js-viewer/dist/index.es.js"
/*!****************************************************************!*\
  !*** ../node_modules/@bpmn-io/form-js-viewer/dist/index.es.js ***!
  \****************************************************************/
(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ALLOW_ATTRIBUTE: () => (/* binding */ ALLOW_ATTRIBUTE),\n/* harmony export */   Button: () => (/* binding */ Button),\n/* harmony export */   Checkbox: () => (/* binding */ Checkbox),\n/* harmony export */   Checklist: () => (/* binding */ Checklist),\n/* harmony export */   ConditionChecker: () => (/* binding */ ConditionChecker),\n/* harmony export */   DATETIME_SUBTYPES: () => (/* binding */ DATETIME_SUBTYPES),\n/* harmony export */   DATETIME_SUBTYPES_LABELS: () => (/* binding */ DATETIME_SUBTYPES_LABELS),\n/* harmony export */   DATETIME_SUBTYPE_PATH: () => (/* binding */ DATETIME_SUBTYPE_PATH),\n/* harmony export */   DATE_DISALLOW_PAST_PATH: () => (/* binding */ DATE_DISALLOW_PAST_PATH),\n/* harmony export */   DATE_LABEL_PATH: () => (/* binding */ DATE_LABEL_PATH),\n/* harmony export */   Datetime: () => (/* binding */ Datetime),\n/* harmony export */   Default: () => (/* binding */ Default),\n/* harmony export */   Description: () => (/* binding */ Description),\n/* harmony export */   DocumentPreview: () => (/* binding */ DocumentPreview),\n/* harmony export */   DynamicList: () => (/* binding */ DynamicList),\n/* harmony export */   Errors: () => (/* binding */ Errors),\n/* harmony export */   ExpressionField: () => (/* binding */ ExpressionField),\n/* harmony export */   ExpressionFieldModule: () => (/* binding */ ExpressionFieldModule),\n/* harmony export */   ExpressionLanguageModule: () => (/* binding */ ExpressionLanguageModule),\n/* harmony export */   ExpressionLoopPreventer: () => (/* binding */ ExpressionLoopPreventer),\n/* harmony export */   FeelExpressionLanguage: () => (/* binding */ FeelExpressionLanguage),\n/* harmony export */   FeelersTemplating: () => (/* binding */ FeelersTemplating),\n/* harmony export */   FieldFactory: () => (/* binding */ FieldFactory),\n/* harmony export */   FilePicker: () => (/* binding */ FilePicker),\n/* harmony export */   Form: () => (/* binding */ Form),\n/* harmony export */   FormComponent: () => (/* binding */ FormComponent),\n/* harmony export */   FormContext: () => (/* binding */ FormContext),\n/* harmony export */   FormField: () => (/* binding */ FormField),\n/* harmony export */   FormFieldRegistry: () => (/* binding */ FormFieldRegistry),\n/* harmony export */   FormFields: () => (/* binding */ FormFields),\n/* harmony export */   FormLayouter: () => (/* binding */ FormLayouter),\n/* harmony export */   FormRenderContext: () => (/* binding */ FormRenderContext),\n/* harmony export */   Group: () => (/* binding */ Group),\n/* harmony export */   Html: () => (/* binding */ Html),\n/* harmony export */   IFrame: () => (/* binding */ IFrame),\n/* harmony export */   Image: () => (/* binding */ Image),\n/* harmony export */   Importer: () => (/* binding */ Importer),\n/* harmony export */   Label: () => (/* binding */ Label),\n/* harmony export */   LocalExpressionContext: () => (/* binding */ LocalExpressionContext),\n/* harmony export */   MINUTES_IN_DAY: () => (/* binding */ MINUTES_IN_DAY),\n/* harmony export */   MarkdownRenderer: () => (/* binding */ MarkdownRenderer),\n/* harmony export */   MarkdownRendererModule: () => (/* binding */ MarkdownRendererModule),\n/* harmony export */   Numberfield: () => (/* binding */ Numberfield),\n/* harmony export */   OPTIONS_SOURCES: () => (/* binding */ OPTIONS_SOURCES),\n/* harmony export */   OPTIONS_SOURCES_DEFAULTS: () => (/* binding */ OPTIONS_SOURCES_DEFAULTS),\n/* harmony export */   OPTIONS_SOURCES_LABELS: () => (/* binding */ OPTIONS_SOURCES_LABELS),\n/* harmony export */   OPTIONS_SOURCES_PATHS: () => (/* binding */ OPTIONS_SOURCES_PATHS),\n/* harmony export */   OPTIONS_SOURCE_DEFAULT: () => (/* binding */ OPTIONS_SOURCE_DEFAULT),\n/* harmony export */   PathRegistry: () => (/* binding */ PathRegistry),\n/* harmony export */   Radio: () => (/* binding */ Radio),\n/* harmony export */   RenderModule: () => (/* binding */ RenderModule),\n/* harmony export */   RepeatRenderManager: () => (/* binding */ RepeatRenderManager),\n/* harmony export */   RepeatRenderModule: () => (/* binding */ RepeatRenderModule),\n/* harmony export */   SANDBOX_ATTRIBUTE: () => (/* binding */ SANDBOX_ATTRIBUTE),\n/* harmony export */   SECURITY_ATTRIBUTES_DEFINITIONS: () => (/* binding */ SECURITY_ATTRIBUTES_DEFINITIONS),\n/* harmony export */   Select: () => (/* binding */ Select),\n/* harmony export */   Separator: () => (/* binding */ Separator),\n/* harmony export */   Spacer: () => (/* binding */ Spacer),\n/* harmony export */   TEXT_VIEW_DEFAULT_TEXT: () => (/* binding */ TEXT_VIEW_DEFAULT_TEXT),\n/* harmony export */   TIME_INTERVAL_PATH: () => (/* binding */ TIME_INTERVAL_PATH),\n/* harmony export */   TIME_LABEL_PATH: () => (/* binding */ TIME_LABEL_PATH),\n/* harmony export */   TIME_SERIALISINGFORMAT_LABELS: () => (/* binding */ TIME_SERIALISINGFORMAT_LABELS),\n/* harmony export */   TIME_SERIALISING_FORMATS: () => (/* binding */ TIME_SERIALISING_FORMATS),\n/* harmony export */   TIME_SERIALISING_FORMAT_PATH: () => (/* binding */ TIME_SERIALISING_FORMAT_PATH),\n/* harmony export */   TIME_USE24H_PATH: () => (/* binding */ TIME_USE24H_PATH),\n/* harmony export */   Table: () => (/* binding */ Table),\n/* harmony export */   Taglist: () => (/* binding */ Taglist),\n/* harmony export */   Text: () => (/* binding */ Text),\n/* harmony export */   Textarea: () => (/* binding */ Textarea),\n/* harmony export */   Textfield: () => (/* binding */ Textfield),\n/* harmony export */   ViewerCommands: () => (/* binding */ ViewerCommands),\n/* harmony export */   ViewerCommandsModule: () => (/* binding */ ViewerCommandsModule),\n/* harmony export */   buildExpressionContext: () => (/* binding */ buildExpressionContext),\n/* harmony export */   clone: () => (/* binding */ clone),\n/* harmony export */   createForm: () => (/* binding */ createForm),\n/* harmony export */   createFormContainer: () => (/* binding */ createFormContainer),\n/* harmony export */   createInjector: () => (/* binding */ createInjector),\n/* harmony export */   escapeHTML: () => (/* binding */ escapeHTML),\n/* harmony export */   formFields: () => (/* binding */ formFields),\n/* harmony export */   generateIdForType: () => (/* binding */ generateIdForType),\n/* harmony export */   generateIndexForType: () => (/* binding */ generateIndexForType),\n/* harmony export */   getAncestryList: () => (/* binding */ getAncestryList),\n/* harmony export */   getOptionsSource: () => (/* binding */ getOptionsSource),\n/* harmony export */   getSchemaVariables: () => (/* binding */ getSchemaVariables),\n/* harmony export */   getScrollContainer: () => (/* binding */ getScrollContainer),\n/* harmony export */   hasEqualValue: () => (/* binding */ hasEqualValue),\n/* harmony export */   iconsByType: () => (/* binding */ iconsByType),\n/* harmony export */   isRequired: () => (/* binding */ isRequired),\n/* harmony export */   pathParse: () => (/* binding */ pathParse),\n/* harmony export */   pathsEqual: () => (/* binding */ pathsEqual),\n/* harmony export */   runExpressionEvaluation: () => (/* binding */ runExpressionEvaluation),\n/* harmony export */   runRecursively: () => (/* binding */ runRecursively),\n/* harmony export */   sanitizeDateTimePickerValue: () => (/* binding */ sanitizeDateTimePickerValue),\n/* harmony export */   sanitizeHTML: () => (/* binding */ sanitizeHTML),\n/* harmony export */   sanitizeIFrameSource: () => (/* binding */ sanitizeIFrameSource),\n/* harmony export */   sanitizeImageSource: () => (/* binding */ sanitizeImageSource),\n/* harmony export */   sanitizeMultiSelectValue: () => (/* binding */ sanitizeMultiSelectValue),\n/* harmony export */   sanitizeSingleSelectValue: () => (/* binding */ sanitizeSingleSelectValue),\n/* harmony export */   schemaVersion: () => (/* binding */ schemaVersion),\n/* harmony export */   useExpressionEvaluation: () => (/* binding */ useExpressionEvaluation),\n/* harmony export */   useSingleLineTemplateEvaluation: () => (/* binding */ useSingleLineTemplateEvaluation),\n/* harmony export */   useTemplateEvaluation: () => (/* binding */ useTemplateEvaluation),\n/* harmony export */   wrapCSSStyles: () => (/* binding */ wrapCSSStyles),\n/* harmony export */   wrapObjectKeysWithUnderscores: () => (/* binding */ wrapObjectKeysWithUnderscores)\n/* harmony export */ });\n/* harmony import */ var ids__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ids */ \"../node_modules/@bpmn-io/form-js-viewer/node_modules/ids/dist/index.js\");\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! min-dash */ \"../node_modules/min-dash/dist/index.js\");\n/* harmony import */ var big_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! big.js */ \"../node_modules/big.js/big.mjs\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! classnames */ \"../node_modules/classnames/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! preact/jsx-runtime */ \"../node_modules/preact/jsx-runtime/dist/jsxRuntime.module.js\");\n/* harmony import */ var preact_hooks__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! preact/hooks */ \"../node_modules/preact/hooks/dist/hooks.module.js\");\n/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! preact */ \"../node_modules/preact/dist/preact.module.js\");\n/* harmony import */ var lodash_isEqual__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lodash/isEqual */ \"../node_modules/lodash/isEqual.js\");\n/* harmony import */ var lodash_isEqual__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(lodash_isEqual__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var luxon__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! luxon */ \"../node_modules/luxon/build/es6/luxon.mjs\");\n/* harmony import */ var flatpickr__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! flatpickr */ \"../node_modules/flatpickr/dist/esm/index.js\");\n/* harmony import */ var preact_compat__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! preact/compat */ \"../node_modules/preact/compat/dist/compat.module.js\");\n/* harmony import */ var dompurify__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! dompurify */ \"../node_modules/dompurify/dist/purify.es.mjs\");\n/* harmony import */ var didi__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! didi */ \"../node_modules/didi/dist/index.js\");\n/* harmony import */ var _bpmn_io_feelin__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @bpmn-io/feelin */ \"../node_modules/@bpmn-io/feelin/dist/index.js\");\n/* harmony import */ var feelers__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! feelers */ \"../node_modules/feelers/dist/index.mjs\");\n/* harmony import */ var marked__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! marked */ \"../node_modules/marked/lib/marked.esm.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst getFlavouredFeelVariableNames = (feelString, feelFlavour = 'expression', options = {}) => {\n  const {\n    depth = 0,\n    specialDepthAccessors = {}\n  } = options;\n  if (!['expression', 'unaryTest'].includes(feelFlavour)) return [];\n  const tree = feelFlavour === 'expression' ? (0,_bpmn_io_feelin__WEBPACK_IMPORTED_MODULE_13__.parseExpression)(feelString, {}, undefined) : (0,_bpmn_io_feelin__WEBPACK_IMPORTED_MODULE_13__.parseUnaryTests)(feelString, {}, undefined);\n  const simpleExpressionTree = _buildSimpleFeelStructureTree(tree, feelString);\n  const variables = function _unfoldVariables(node) {\n    if (node.name === 'PathExpression') {\n      // if the path is built on top of a context, we process that context and\n      // ignore the rest of the path expression, as it is not relevant for variable extraction\n      const pathRoot = _linearizePathExpression(node)[0];\n      if (pathRoot.name === 'Context') {\n        return _unfoldVariables(pathRoot);\n      }\n      if (Object.keys(specialDepthAccessors).length === 0) {\n        return depth === 0 ? [_getVariableNameAtPathIndex(node, 0)] : [];\n      }\n\n      // if using special depth accessors, use a more complex extraction\n      return Array.from(_smartExtractVariableNames(node, depth, specialDepthAccessors));\n    }\n    if (depth === 0 && node.name === 'VariableName') return [node.variableName];\n\n    // for any other kind of node, traverse its children and flatten the result\n    if (node.children) {\n      const variables = node.children.reduce((acc, child) => {\n        return acc.concat(_unfoldVariables(child));\n      }, []);\n\n      // if we are within a filter context, we need to remove the item variable as it is used for iteration there\n      return node.name === 'FilterContext' ? variables.filter(name => name !== 'item') : variables;\n    }\n    return [];\n  }(simpleExpressionTree);\n  return [...new Set(variables)];\n};\n\n/**\n * Get the variable name at the specified index in a given path expression.\n *\n * @param {Object} root - The root node of the path expression tree.\n * @param {number} index - The index of the variable name to retrieve.\n * @returns {string|null} The variable name at the specified index or null if index is out of bounds.\n */\nconst _getVariableNameAtPathIndex = (root, index) => {\n  const nodes = _linearizePathExpression(root);\n  return nodes[index].variableName || null;\n};\n\n/**\n * Extracts the variables which are required of the external context for a given path expression.\n * This is done by traversing the path expression tree and keeping track of the current depth relative to the external context.\n *\n * @param {Object} node - The root node of the path expression tree.\n * @param {number} initialDepth - The depth at which the root node is located in the outer context.\n * @param {Object} specialDepthAccessors - Definitions of special keywords which represent more complex accesses of the outer context.\n * @returns {Set} - A set containing the extracted variable names.\n */\nconst _smartExtractVariableNames = (node, initialDepth, specialDepthAccessors) => {\n  // depth info represents the previous (initialised as null) and current depth of the current accessor in the path expression\n  // we track multiple of these to account for the fact that a path expression may be ambiguous due to special keywords\n  let accessorDepthInfos = [{\n    previous: null,\n    current: initialDepth - 1\n  }];\n  const extractedVariables = new Set();\n  const pathNodes = _linearizePathExpression(node);\n  for (let i = 0; i < pathNodes.length; i++) {\n    const currentAccessor = pathNodes[i].variableName;\n    if (currentAccessor in specialDepthAccessors) {\n      const depthOffsets = specialDepthAccessors[currentAccessor];\n\n      // if the current accessor is a special keyword, we need to expand the current depth info set\n      // this is done to account for the ambiguity of keywords like parent, which may be used to access\n      // the parent of the current node, or a child variable of the same name\n      accessorDepthInfos = depthOffsets.reduce((accumulator, offset) => {\n        return [...accumulator, ...accessorDepthInfos.map(depthInfo => ({\n          previous: depthInfo.current,\n          current: depthInfo.current + offset\n        }))];\n      }, []).filter(depthInfo => depthInfo.current >= -1); // discard all depth infos which are out of bounds\n    } else {\n      // if the current accessor is not a special keyword, we know it's simply accessing a child\n      // hence we are now one level deeper in the tree and simply increment\n      accessorDepthInfos = accessorDepthInfos.map(depthInfo => ({\n        previous: depthInfo.current,\n        current: depthInfo.current + 1\n      }));\n    }\n\n    // finally, we check if for the current accessor, there is a scenario where:\n    // previous it was at depth -1 (i.e. the root context), and is now at depth 0 (i.e. a variable)\n    // these are the variables we need to request, so we add them to the set\n    if (accessorDepthInfos.some(depthInfo => depthInfo.previous === -1 && depthInfo.current === 0)) {\n      extractedVariables.add(currentAccessor);\n    }\n  }\n\n  // we return a set to avoid duplicates\n  return new Set(extractedVariables);\n};\n\n/**\n * Deconstructs a path expression tree into an array of components.\n *\n * @param {Object} root - The root node of the path expression tree.\n * @returns {Array<object>} An array of components in the path expression, in the correct order.\n */\nconst _linearizePathExpression = root => {\n  let node = root;\n  let parts = [];\n\n  // Traverse the tree and collect path components\n  while (node.name === 'PathExpression') {\n    parts.push(node.children[1]);\n    node = node.children[0];\n  }\n\n  // Add the last component to the array\n  parts.push(node);\n\n  // Reverse and return the array to get the correct order\n  return parts.reverse();\n};\n\n/**\n * Builds a simplified feel structure tree from the given parse tree and feel string.\n * The nodes follow this structure: `{ name: string, children: Array, variableName?: string }`\n *\n * @param {Object} parseTree - The parse tree generated by a parser.\n * @param {string} feelString - The feel string used for parsing.\n * @returns {Object} The simplified feel structure tree.\n */\nconst _buildSimpleFeelStructureTree = (parseTree, feelString) => {\n  const stack = [{\n    children: []\n  }];\n  parseTree.iterate({\n    enter: node => {\n      const nodeRepresentation = {\n        name: node.type.name,\n        children: []\n      };\n      if (node.type.name === 'VariableName') {\n        nodeRepresentation.variableName = feelString.slice(node.from, node.to);\n      }\n      stack.push(nodeRepresentation);\n    },\n    leave: () => {\n      const result = stack.pop();\n      const parent = stack[stack.length - 1];\n      parent.children.push(result);\n    }\n  });\n  return _extractFilterExpressions(stack[0].children[0]);\n};\n\n/**\n * Restructure the tree in such a way to bring filters (which create new contexts) to the root of the tree.\n * This is done to simplify the extraction of variables and match the context hierarchy.\n */\nconst _extractFilterExpressions = tree => {\n  const flattenedExpressionTree = {\n    name: 'Root',\n    children: [tree]\n  };\n  const iterate = node => {\n    if (node.children) {\n      for (let x = 0; x < node.children.length; x++) {\n        if (node.children[x].name === 'FilterExpression') {\n          const filterTarget = node.children[x].children[0];\n          const filterExpression = node.children[x].children[2];\n\n          // bypass the filter expression\n          node.children[x] = filterTarget;\n          const taggedFilterExpression = {\n            name: 'FilterContext',\n            children: [filterExpression]\n          };\n\n          // append the filter expression to the root\n          flattenedExpressionTree.children.push(taggedFilterExpression);\n\n          // recursively iterate the expression\n          iterate(filterExpression);\n        } else {\n          iterate(node.children[x]);\n        }\n      }\n    }\n  };\n  iterate(tree);\n  return flattenedExpressionTree;\n};\n\nclass FeelExpressionLanguage {\n  constructor(eventBus) {\n    this._eventBus = eventBus;\n  }\n\n  /**\n   * Determines if the given value is a FEEL expression.\n   *\n   * @param {any} value\n   * @returns {boolean}\n   *\n   */\n  isExpression(value) {\n    return (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isString)(value) && value.startsWith('=');\n  }\n\n  /**\n   * Retrieve variable names from a given FEEL expression.\n   *\n   * @param {string} expression\n   * @param {object} [options]\n   * @param {string} [options.type]\n   *\n   * @returns {string[]}\n   */\n  getVariableNames(expression, options = {}) {\n    const {\n      type = 'expression'\n    } = options;\n    if (!this.isExpression(expression)) {\n      return [];\n    }\n    if (!['unaryTest', 'expression'].includes(type)) {\n      throw new Error('Unknown expression type: ' + type);\n    }\n    return getFlavouredFeelVariableNames(expression, type);\n  }\n\n  /**\n   * Evaluate an expression.\n   *\n   * @param {string} expression\n   * @param {import('../../types').Data} [data]\n   *\n   * @returns {any}\n   */\n  evaluate(expression, data = {}) {\n    if (!expression) {\n      return null;\n    }\n    if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isString)(expression) || !expression.startsWith('=')) {\n      return null;\n    }\n    try {\n      const {\n        value: result\n      } = (0,_bpmn_io_feelin__WEBPACK_IMPORTED_MODULE_13__.evaluate)(expression.slice(1), data);\n      return result;\n    } catch (error) {\n      this._eventBus.fire('error', {\n        error\n      });\n      return null;\n    }\n  }\n}\nFeelExpressionLanguage.$inject = ['eventBus'];\n\nclass FeelersTemplating {\n  constructor() {}\n\n  /**\n   * Determines if the given value is a feelers template.\n   *\n   * @param {any} value\n   * @returns {boolean}\n   *\n   */\n  isTemplate(value) {\n    return (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isString)(value) && (value.startsWith('=') || /{{.*?}}/.test(value));\n  }\n\n  /**\n   * Retrieve variable names from a given feelers template.\n   *\n   * @param {string} template\n   *\n   * @returns {string[]}\n   */\n  getVariableNames(template) {\n    if (!this.isTemplate(template)) {\n      return [];\n    }\n    const expressions = this._extractExpressionsWithDepth(template);\n\n    // defines special accessors, and the change(s) in depth they could imply (e.g. parent can be used to access the parent context (depth - 1) or a child variable named parent (depth + 1)\n    const specialDepthAccessors = {\n      parent: [-1, 1],\n      _parent_: [-1],\n      this: [0, 1],\n      _this_: [0]\n    };\n    return expressions.reduce((variables, {\n      expression,\n      depth\n    }) => {\n      return variables.concat(getFlavouredFeelVariableNames(expression, 'expression', {\n        depth,\n        specialDepthAccessors\n      }));\n    }, []);\n  }\n\n  /**\n   * Evaluate a template.\n   *\n   * @param {string} template\n   * @param {Object<string, any>} context\n   * @param {Object} options\n   * @param {boolean} [options.debug = false]\n   * @param {boolean} [options.strict = false]\n   * @param {Function} [options.buildDebugString]\n   * @param {Function} [options.sanitizer]\n   *\n   * @returns\n   */\n  evaluate(template, context = {}, options = {}) {\n    const {\n      debug = false,\n      strict = false,\n      buildDebugString = err => ' {{}} ',\n      sanitizer = value => value\n    } = options;\n    return (0,feelers__WEBPACK_IMPORTED_MODULE_14__.evaluate)(template, context, {\n      debug,\n      strict,\n      buildDebugString,\n      sanitizer\n    });\n  }\n\n  /**\n   * @typedef {Object} ExpressionWithDepth\n   * @property {number} depth - The depth of the expression in the syntax tree.\n   * @property {string} expression - The extracted expression\n   */\n\n  /**\n  * Extracts all feel expressions in the template along with their depth in the syntax tree.\n  * The depth is incremented for child expressions of loops to account for context drilling.\n  * @name extractExpressionsWithDepth\n  * @param {string} template - A feelers template string.\n  * @returns {Array<ExpressionWithDepth>} An array of objects, each containing the depth and the extracted expression.\n  *\n  * @example\n  * const template = \"Hello {{user}}, you have:{{#loop items}}\\n- {{amount}} {{name}}{{/loop}}.\";\n  * const extractedExpressions = _extractExpressionsWithDepth(template);\n  */\n  _extractExpressionsWithDepth(template) {\n    // build simplified feelers syntax tree\n    const parseTree = feelers__WEBPACK_IMPORTED_MODULE_14__.parser.parse(template);\n    const tree = (0,feelers__WEBPACK_IMPORTED_MODULE_14__.buildSimpleTree)(parseTree, template);\n    return function _traverse(n, depth = 0) {\n      if (['Feel', 'FeelBlock'].includes(n.name)) {\n        return [{\n          depth,\n          expression: n.content\n        }];\n      }\n      if (n.name === 'LoopSpanner') {\n        const loopExpression = n.children[0].content;\n        const childResults = n.children.slice(1).reduce((acc, child) => {\n          return acc.concat(_traverse(child, depth + 1));\n        }, []);\n        return [{\n          depth,\n          expression: loopExpression\n        }, ...childResults];\n      }\n      return n.children.reduce((acc, child) => {\n        return acc.concat(_traverse(child, depth));\n      }, []);\n    }(tree);\n  }\n}\nFeelersTemplating.$inject = [];\n\n// config  ///////////////////\n\nconst MINUTES_IN_DAY = 60 * 24;\nconst DATETIME_SUBTYPES = {\n  DATE: 'date',\n  TIME: 'time',\n  DATETIME: 'datetime'\n};\nconst TIME_SERIALISING_FORMATS = {\n  UTC_OFFSET: 'utc_offset',\n  UTC_NORMALIZED: 'utc_normalized',\n  NO_TIMEZONE: 'no_timezone'\n};\nconst DATETIME_SUBTYPES_LABELS = {\n  [DATETIME_SUBTYPES.DATE]: 'Date',\n  [DATETIME_SUBTYPES.TIME]: 'Time',\n  [DATETIME_SUBTYPES.DATETIME]: 'Date & Time'\n};\nconst TIME_SERIALISINGFORMAT_LABELS = {\n  [TIME_SERIALISING_FORMATS.UTC_OFFSET]: 'UTC offset',\n  [TIME_SERIALISING_FORMATS.UTC_NORMALIZED]: 'UTC normalized',\n  [TIME_SERIALISING_FORMATS.NO_TIMEZONE]: 'No timezone'\n};\nconst DATETIME_SUBTYPE_PATH = ['subtype'];\nconst DATE_LABEL_PATH = ['dateLabel'];\nconst DATE_DISALLOW_PAST_PATH = ['disallowPassedDates'];\nconst TIME_LABEL_PATH = ['timeLabel'];\nconst TIME_USE24H_PATH = ['use24h'];\nconst TIME_INTERVAL_PATH = ['timeInterval'];\nconst TIME_SERIALISING_FORMAT_PATH = ['timeSerializingFormat'];\n\n// config  ///////////////////\n\nconst OPTIONS_SOURCES = {\n  STATIC: 'static',\n  INPUT: 'input',\n  EXPRESSION: 'expression'\n};\nconst OPTIONS_SOURCE_DEFAULT = OPTIONS_SOURCES.STATIC;\nconst OPTIONS_SOURCES_LABELS = {\n  [OPTIONS_SOURCES.STATIC]: 'Static',\n  [OPTIONS_SOURCES.INPUT]: 'Input data',\n  [OPTIONS_SOURCES.EXPRESSION]: 'Expression'\n};\nconst OPTIONS_SOURCES_PATHS = {\n  [OPTIONS_SOURCES.STATIC]: ['values'],\n  [OPTIONS_SOURCES.INPUT]: ['valuesKey'],\n  [OPTIONS_SOURCES.EXPRESSION]: ['valuesExpression']\n};\nconst OPTIONS_SOURCES_DEFAULTS = {\n  [OPTIONS_SOURCES.STATIC]: [{\n    label: 'Value',\n    value: 'value'\n  }],\n  [OPTIONS_SOURCES.INPUT]: '',\n  [OPTIONS_SOURCES.EXPRESSION]: '='\n};\n\n// helpers ///////////////////\n\nfunction getOptionsSource(field) {\n  for (const source of Object.values(OPTIONS_SOURCES)) {\n    if ((0,min_dash__WEBPACK_IMPORTED_MODULE_1__.get)(field, OPTIONS_SOURCES_PATHS[source]) !== undefined) {\n      return source;\n    }\n  }\n  return OPTIONS_SOURCE_DEFAULT;\n}\n\nconst SANDBOX_ATTRIBUTE = 'sandbox';\nconst ALLOW_ATTRIBUTE = 'allow';\n\n// Cf. https://developer.mozilla.org/en-US/docs/Web/HTTP/Permissions_Policy#iframe_syntax\nconst SECURITY_ATTRIBUTES_DEFINITIONS = [{\n  attribute: SANDBOX_ATTRIBUTE,\n  directive: 'allow-scripts',\n  property: 'allowScripts',\n  label: 'Script execution'\n}, {\n  attribute: SANDBOX_ATTRIBUTE,\n  directive: 'allow-same-origin',\n  property: 'allowSameOrigin',\n  label: 'Allow same origin'\n}, {\n  attribute: ALLOW_ATTRIBUTE,\n  directive: 'fullscreen',\n  property: 'fullscreen',\n  label: 'Open in fullscreen'\n}, {\n  attribute: ALLOW_ATTRIBUTE,\n  directive: 'geolocation',\n  property: 'geolocation',\n  label: 'Geolocation'\n}, {\n  attribute: ALLOW_ATTRIBUTE,\n  directive: 'camera',\n  property: 'camera',\n  label: 'Camera access'\n}, {\n  attribute: ALLOW_ATTRIBUTE,\n  directive: 'microphone',\n  property: 'microphone',\n  label: 'Microphone access'\n}, {\n  attribute: SANDBOX_ATTRIBUTE,\n  directive: 'allow-forms',\n  property: 'allowForms',\n  label: 'Forms submission'\n}, {\n  attribute: SANDBOX_ATTRIBUTE,\n  directive: 'allow-modals',\n  property: 'allowModals',\n  label: 'Open modal windows'\n}, {\n  attribute: SANDBOX_ATTRIBUTE,\n  directive: 'allow-popups',\n  property: 'allowPopups',\n  label: 'Open popups'\n}, {\n  attribute: SANDBOX_ATTRIBUTE,\n  directive: 'allow-top-navigation',\n  property: 'allowTopNavigation',\n  label: 'Top level navigation'\n}, {\n  attribute: SANDBOX_ATTRIBUTE,\n  directive: 'allow-storage-access-by-user-activation',\n  property: 'allowStorageAccessByUserActivation',\n  label: 'Storage access by user'\n}];\n\nconst TEXT_VIEW_DEFAULT_TEXT = '# Text';\n\nfunction createInjector(bootstrapModules) {\n  const injector = new didi__WEBPACK_IMPORTED_MODULE_12__.Injector(bootstrapModules);\n  injector.init();\n  return injector;\n}\n\n/**\n * @param {string?} prefix\n *\n * @returns Element\n */\nfunction createFormContainer(prefix = 'fjs') {\n  const container = document.createElement('div');\n  container.classList.add(`${prefix}-container`);\n  return container;\n}\n\nfunction formFieldClasses(type, {\n  errors = [],\n  disabled = false,\n  readonly = false\n} = {}) {\n  if (!type) {\n    throw new Error('type required');\n  }\n  return classnames__WEBPACK_IMPORTED_MODULE_3___default()('fjs-form-field', `fjs-form-field-${type}`, {\n    'fjs-has-errors': errors.length > 0,\n    'fjs-disabled': disabled,\n    'fjs-readonly': readonly\n  });\n}\nfunction gridColumnClasses(formField) {\n  const {\n    layout = {}\n  } = formField;\n  const {\n    columns\n  } = layout;\n  return classnames__WEBPACK_IMPORTED_MODULE_3___default()('fjs-layout-column', `cds--col${columns ? '-lg-' + columns : ''}`,\n  // always fall back to top-down on smallest screens\n  'cds--col-sm-16', 'cds--col-md-16');\n}\nfunction textToLabel(text) {\n  if (typeof text != 'string') return null;\n  for (const line of text.split('\\n')) {\n    const displayLine = line.trim();\n\n    // we use the first non-whitespace line in the text as label\n    if (displayLine !== '') {\n      return displayLine;\n    }\n  }\n  return null;\n}\nfunction prefixId(id, formId, indexes) {\n  let result = 'fjs-form';\n  if (formId) {\n    result += `-${formId}`;\n  }\n  result += `-${id}`;\n  Object.values(indexes || {}).forEach(index => {\n    result += `_${index}`;\n  });\n  return result;\n}\n\nconst FormRenderContext = (0,preact__WEBPACK_IMPORTED_MODULE_6__.createContext)({\n  Empty: props => {\n    return null;\n  },\n  Hidden: props => {\n    return null;\n  },\n  Children: props => {\n    return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n      class: props.class,\n      style: props.style,\n      children: props.children\n    });\n  },\n  Element: props => {\n    return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n      class: props.class,\n      style: props.style,\n      children: props.children\n    });\n  },\n  Row: props => {\n    return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n      class: props.class,\n      style: props.style,\n      children: props.children\n    });\n  },\n  Column: props => {\n    if (props.field.type === 'default') {\n      return props.children;\n    }\n    return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n      class: props.class,\n      style: props.style,\n      children: props.children\n    });\n  },\n  hoverInfo: {\n    cleanup: () => {}\n  }\n});\n\nconst LocalExpressionContext = (0,preact__WEBPACK_IMPORTED_MODULE_6__.createContext)({\n  data: null,\n  this: null,\n  parent: null,\n  i: null\n});\n\n/**\n * @param {string} type\n * @param {boolean} [strict]\n *\n * @returns {any}\n */\nfunction getService(type, strict) {}\nconst FormContext = (0,preact__WEBPACK_IMPORTED_MODULE_6__.createContext)({\n  getService,\n  formId: null\n});\n\n/**\n * @template T\n * @param {string} type\n * @param {boolean} [strict=true]\n * @returns {T | null}\n */\nfunction useService(type, strict) {\n  const {\n    getService\n  } = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useContext)(FormContext);\n  return getService(type, strict);\n}\n\nfunction isRequired(field) {\n  return field.required;\n}\nfunction pathParse(path) {\n  if (!path) {\n    return [];\n  }\n  return path.split('.').map(key => {\n    return isNaN(parseInt(key)) ? key : parseInt(key);\n  });\n}\nfunction pathsEqual(a, b) {\n  return a && b && a.length === b.length && a.every((value, index) => value === b[index]);\n}\nconst indices = {};\nfunction generateIndexForType(type) {\n  if (type in indices) {\n    indices[type]++;\n  } else {\n    indices[type] = 1;\n  }\n  return indices[type];\n}\nfunction generateIdForType(type) {\n  return `${type}${generateIndexForType(type)}`;\n}\n\n/**\n * @template T\n * @param {T} data\n * @param {(this: any, key: string, value: any) => any} [replacer]\n * @return {T}\n */\nfunction clone(data, replacer) {\n  return JSON.parse(JSON.stringify(data, replacer));\n}\nfunction runRecursively(formField, fn) {\n  const components = formField.components || [];\n  components.forEach((component, _) => {\n    runRecursively(component, fn);\n  });\n  fn(formField);\n}\nfunction wrapObjectKeysWithUnderscores(obj) {\n  const newObj = {};\n  for (const [key, value] of Object.entries(obj)) {\n    newObj[`_${key}_`] = value;\n  }\n  return newObj;\n}\n\n/**\n * Transform a LocalExpressionContext object into a usable FEEL context.\n *\n * @param {Object} context - The LocalExpressionContext object.\n * @returns {Object} The usable FEEL context.\n */\n\nfunction buildExpressionContext(context) {\n  const {\n    data,\n    ...specialContextKeys\n  } = context;\n  return {\n    ...specialContextKeys,\n    ...data,\n    ...wrapObjectKeysWithUnderscores(specialContextKeys)\n  };\n}\n\n/**\n * If the value is a valid expression, it is evaluated and returned. Otherwise, it is returned as-is.\n *\n * @param {any} expressionLanguage - The expression language to use.\n * @param {any} value - The static value or expression to evaluate.\n * @param {Object} expressionContextInfo - The context information to use.\n * @returns {any} - Evaluated value or the original value if not an expression.\n */\nfunction runExpressionEvaluation(expressionLanguage, value, expressionContextInfo) {\n  if (expressionLanguage && expressionLanguage.isExpression(value)) {\n    return expressionLanguage.evaluate(value, buildExpressionContext(expressionContextInfo));\n  }\n  return value;\n}\n\n/**\n * Evaluate if condition is met reactively based on the conditionChecker and form data.\n *\n * @param {string | undefined} condition\n *\n * @returns {boolean} true if condition is met or no condition or condition checker exists\n */\nfunction useCondition(condition) {\n  const conditionChecker = useService('conditionChecker', false);\n  const expressionContextInfo = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useContext)(LocalExpressionContext);\n  return (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => {\n    return conditionChecker ? conditionChecker.check(condition, buildExpressionContext(expressionContextInfo)) : null;\n  }, [conditionChecker, condition, expressionContextInfo]);\n}\n\n/**\n * Returns the options data for the provided if they can be simply determined, ignoring expression defined options.\n *\n * @param {object} formField\n * @param {object} formData\n */\nfunction getSimpleOptionsData(formField, formData) {\n  const {\n    valuesExpression: optionsExpression,\n    valuesKey: optionsKey,\n    values: staticOptions\n  } = formField;\n  if (optionsExpression) {\n    return null;\n  }\n  return optionsKey ? (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.get)(formData, [optionsKey]) : staticOptions;\n}\n\n/**\n * Normalizes the provided options data to a format that can be used by the select components.\n * If the options data is not valid, it is filtered out.\n *\n * @param {any[]} optionsData\n *\n * @returns {object[]}\n */\nfunction normalizeOptionsData(optionsData) {\n  return optionsData.filter(_isAllowedValue).map(_normalizeOption).filter(o => !(0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isNil)(o));\n}\n\n/**\n * Creates an options object with default values if no options are provided.\n *\n * @param {object} options\n *\n * @returns {object}\n */\nfunction createEmptyOptions(options = {}) {\n  const defaults = {};\n\n  // provide default options if valuesKey and valuesExpression are not set\n  if (!options.valuesKey && !options.valuesExpression) {\n    defaults.values = [{\n      label: 'Value',\n      value: 'value'\n    }];\n  }\n  return {\n    ...defaults,\n    ...options\n  };\n}\n\n/**\n * Converts the provided option to a normalized format.\n * If the option is not valid, null is returned.\n *\n * @param {object} option\n * @param {string} option.label\n * @param {*} option.value\n *\n * @returns\n */\nfunction _normalizeOption(option) {\n  // (1) simple primitive case, use it as both label and value\n  if (_isAllowedPrimitive(option)) {\n    return {\n      value: option,\n      label: `${option}`\n    };\n  }\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isObject)(option)) {\n    const isValidLabel = _isValidLabel(option.label);\n\n    // (2) no label provided, but value is a simple primitive, use it as label and value\n    if (!isValidLabel && _isAllowedPrimitive(option.value)) {\n      return {\n        value: option.value,\n        label: `${option.value}`\n      };\n    }\n\n    // (3) both label and value are provided, use them as is\n    if (isValidLabel && _isAllowedValue(option.value)) {\n      return option;\n    }\n  }\n  return null;\n}\nfunction _isAllowedPrimitive(value) {\n  const isAllowedPrimitiveType = ['number', 'string', 'boolean'].includes(typeof value);\n  const isValid = value || value === 0 || value === false;\n  return isAllowedPrimitiveType && isValid;\n}\nfunction _isValidLabel(label) {\n  return label && (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isString)(label);\n}\nfunction _isAllowedValue(value) {\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isObject)(value)) {\n    return Object.keys(value).length > 0;\n  }\n  return _isAllowedPrimitive(value);\n}\n\n/**\n * If the value is a valid expression, it is evaluated and returned. Otherwise, it is returned as-is.\n * The function is memoized to minimize re-renders.\n *\n * @param {any} value - A static value or expression to evaluate.\n * @returns {any} - Evaluated value or the original value if not an expression.\n */\nfunction useExpressionEvaluation(value) {\n  const expressionLanguage = useService('expressionLanguage');\n  const expressionContextInfo = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useContext)(LocalExpressionContext);\n  return (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => runExpressionEvaluation(expressionLanguage, value, expressionContextInfo), [expressionLanguage, expressionContextInfo, value]);\n}\n\n/**\n * A custom hook to manage state changes with deep comparison.\n *\n * @template T\n * @param {T} value - The current value to manage.\n * @returns {T} - Returns the current state.\n */\nfunction useDeepCompareMemoize(value) {\n  /** @type {import(\"preact\").RefObject<T>} */\n  const ref = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useRef)();\n  if (!lodash_isEqual__WEBPACK_IMPORTED_MODULE_7___default()(value, ref.current)) {\n    ref.current = value;\n  }\n  return ref.current;\n}\n\n/**\n * @enum { String }\n */\nconst LOAD_STATES = {\n  LOADED: 'loaded',\n  ERROR: 'error'\n};\n\n/**\n * @typedef {Object} OptionsGetter\n * @property {Object[]} options - The options data\n * @property {(LOAD_STATES)} loadState - The options data's loading state, to use for conditional rendering\n */\n\n/**\n * A hook to load options for single and multiselect components.\n *\n * @param {Object} field - The form field to handle options for\n * @return {OptionsGetter} optionsGetter - A options getter object providing loading state and options\n */\nfunction useOptionsAsync(field) {\n  const {\n    valuesExpression: optionsExpression,\n    valuesKey: optionsKey,\n    values: staticOptions\n  } = field;\n  const initialData = useService('form')._getState().initialData;\n  const expressionEvaluation = useExpressionEvaluation(optionsExpression);\n  const evaluatedOptions = useDeepCompareMemoize(expressionEvaluation || []);\n  const optionsGetter = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => {\n    let options = [];\n\n    // dynamic options\n    if (optionsKey !== undefined) {\n      const keyedOptions = (initialData || {})[optionsKey];\n      if (keyedOptions && Array.isArray(keyedOptions)) {\n        options = keyedOptions;\n      }\n\n      // static options\n    } else if (staticOptions !== undefined) {\n      options = Array.isArray(staticOptions) ? staticOptions : [];\n\n      // expression\n    } else if (optionsExpression && evaluatedOptions && Array.isArray(evaluatedOptions)) {\n      options = evaluatedOptions;\n\n      // error case\n    } else {\n      return buildErrorState('No options source defined in the form definition');\n    }\n\n    // normalize data to support primitives and partially defined objects\n    return buildLoadedState(normalizeOptionsData(options));\n  }, [optionsKey, staticOptions, initialData, optionsExpression, evaluatedOptions]);\n  return optionsGetter;\n}\nconst buildErrorState = error => ({\n  options: [],\n  error,\n  loadState: LOAD_STATES.ERROR\n});\nconst buildLoadedState = options => ({\n  options,\n  error: undefined,\n  loadState: LOAD_STATES.LOADED\n});\n\n/**\n * Wrap HTML content in a configuration object for dangerouslySetInnerHTML\n * @param {Object} props\n * @param {string} props.html\n * @param {Function} [props.transform]\n * @param {boolean} [props.sanitize = true]\n * @param {boolean} [props.sanitizeStyleTags = true]\n */\nconst useDangerousHTMLWrapper = props => {\n  const {\n    html,\n    transform = html => html,\n    sanitize = true,\n    sanitizeStyleTags = true\n  } = props;\n  const sanitizedHtml = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => sanitize ? dompurify__WEBPACK_IMPORTED_MODULE_11__[\"default\"].sanitize(html, getDOMPurifyConfig(sanitizeStyleTags)) : html, [html, sanitize, sanitizeStyleTags]);\n  const transformedHtml = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => transform(sanitizedHtml), [sanitizedHtml, transform]);\n\n  // Return the configuration object for dangerouslySetInnerHTML\n  return {\n    __html: transformedHtml\n  };\n};\nconst getDOMPurifyConfig = sanitizeStyleTags => {\n  return {\n    FORCE_BODY: true,\n    FORBID_TAGS: sanitizeStyleTags ? ['style'] : []\n  };\n};\n\n/**\n * A custom hook to build up security attributes from form configuration.\n *\n * @param {Object} security - The security configuration.\n * @returns {Array} - Returns a tuple with sandbox and allow attributes.\n */\nfunction useSecurityAttributesMap(security) {\n  const securityMemoized = useDeepCompareMemoize(security);\n  const sandbox = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => SECURITY_ATTRIBUTES_DEFINITIONS.filter(({\n    attribute\n  }) => attribute === SANDBOX_ATTRIBUTE).filter(({\n    property\n  }) => (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.get)(securityMemoized, [property], false)).map(({\n    directive\n  }) => directive).join(' '), [securityMemoized]);\n  const allow = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => SECURITY_ATTRIBUTES_DEFINITIONS.filter(({\n    attribute\n  }) => attribute !== SANDBOX_ATTRIBUTE).filter(({\n    property\n  }) => (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.get)(securityMemoized, [property], false)).map(({\n    directive\n  }) => directive).join('; '), [securityMemoized]);\n  return [sandbox, allow];\n}\n\n/**\n * This hook allows us to retrieve the label from a value in linear time by caching it in a map\n * @param {Array} options\n */\nfunction useGetLabelCorrelation(options) {\n  // This allows us to retrieve the label from a value in linear time\n  const labelMap = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => Object.assign({}, ...options.map(o => ({\n    [_getValueHash(o.value)]: o.label\n  }))), [options]);\n  return (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useCallback)(value => labelMap[_getValueHash(value)], [labelMap]);\n}\nconst _getValueHash = value => {\n  return (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isObject)(value) ? JSON.stringify(value) : value;\n};\n\n/**\n * Wrap CSS styles with a given prefix.\n *\n * @param {HTMLElement} rootNode\n * @param {string} prefix\n *\n * @returns {HTMLElement}\n */\nfunction wrapCSSStyles(rootNode, prefix) {\n  const styleTags = rootNode.querySelectorAll('style');\n  styleTags.forEach(styleTag => {\n    const topLevelRules = extractTopLevelRules(styleTag.textContent);\n    const scopedCss = topLevelRules.map(rule => {\n      const {\n        selector,\n        styles\n      } = splitRule(rule);\n      const scopedSelector = scopeSelector(selector, prefix);\n      return `${scopedSelector} ${styles}`;\n    }).join(' ');\n    styleTag.textContent = scopedCss;\n  });\n  return rootNode;\n}\nfunction extractTopLevelRules(cssString) {\n  let cursor = 0;\n  let start = 0;\n  let level = 0;\n  const topLevelRules = [];\n  while (cursor < cssString.length) {\n    if (cssString[cursor] === '{') {\n      level++;\n    }\n    if (cssString[cursor] === '}') {\n      level--;\n      if (level === 0) {\n        topLevelRules.push(cssString.substring(start, cursor + 1));\n        start = cursor + 1;\n      }\n    }\n    cursor++;\n  }\n  return topLevelRules.map(rule => rule.trim());\n}\nfunction splitRule(rule) {\n  const firstBracket = rule.indexOf('{');\n  const selector = rule.substring(0, firstBracket);\n  const styles = rule.substring(firstBracket);\n  return {\n    selector,\n    styles\n  };\n}\nfunction scopeSelector(selector, prefix) {\n  return selector.split(',').map(sel => `${prefix} ${sel.trim()}`).join(', ');\n}\nfunction getScrollContainer(el) {\n  while (el && el !== document.body && el !== document.documentElement) {\n    if (_isElementScrollable(el)) {\n      return el;\n    }\n    el = el.parentElement;\n  }\n  if (_isElementScrollable(document.body)) {\n    return document.body;\n  } else if (_isElementScrollable(document.documentElement)) {\n    return document.documentElement;\n  }\n  return null;\n}\nfunction _isElementScrollable(el) {\n  const style = window.getComputedStyle(el);\n  const overflowY = style.overflowY || style.overflow;\n  return (overflowY === 'auto' || overflowY === 'scroll') && el.scrollHeight > el.clientHeight;\n}\n\nconst EMPTY_OBJECT = {};\nconst EMPTY_ARRAY$2 = [];\n\n/**\n * Custom hook to scroll an element within a scrollable container.\n *\n * @param {Object} scrolledElementRef - A ref pointing to the DOM element to scroll into view.\n * @param {Array} deps - An array of dependencies that trigger the effect.\n * @param {Object} [scrollOptions={}] - Options defining the behavior of the scrolling.\n * @param {String} [scrollOptions.align='center'] - The alignment of the element within the viewport.\n * @param {String} [scrollOptions.behavior='auto'] - The scrolling behavior.\n * @param {Number} [scrollOptions.offset=0] - An offset that is added to the scroll position.\n * @param {Boolean} [scrollOptions.scrollIfVisible=false] - Whether to scroll even if the element is visible.\n * @param {Array} [flagRefs] - An array of refs that are used as flags to control when to scroll.\n */\nfunction useScrollIntoView(scrolledElementRef, deps, scrollOptions, flagRefs) {\n  const _scrollOptions = scrollOptions || EMPTY_OBJECT;\n  const _flagRefs = flagRefs || EMPTY_ARRAY$2;\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    // return early if flags are not raised, or component is not mounted\n    if ((0,min_dash__WEBPACK_IMPORTED_MODULE_1__.some)(_flagRefs, ref => !ref.current) || !scrolledElementRef.current) {\n      return;\n    }\n    for (let i = 0; i < _flagRefs.length; i++) {\n      _flagRefs[i].current = false;\n    }\n    const itemToBeScrolled = scrolledElementRef.current;\n    const scrollContainer = getScrollContainer(itemToBeScrolled);\n    if (!scrollContainer) {\n      return;\n    }\n    const itemRect = itemToBeScrolled.getBoundingClientRect();\n    const containerRect = scrollContainer.getBoundingClientRect();\n    const {\n      align = 'center',\n      offset = 0,\n      behavior = 'auto',\n      scrollIfVisible = false\n    } = _scrollOptions;\n    const shouldScroll = scrollIfVisible || !(itemRect.top >= containerRect.top && itemRect.bottom <= containerRect.bottom);\n    if (!shouldScroll) {\n      return;\n    }\n    const topOffset = _getTopOffset(itemToBeScrolled, scrollContainer, {\n      align,\n      offset\n    });\n    scrollContainer.scroll({\n      top: topOffset,\n      behavior\n    });\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, deps);\n}\n\n// helper //////////////////////\n\nfunction _getTopOffset(item, scrollContainer, options) {\n  const itemRect = item.getBoundingClientRect();\n  const containerRect = scrollContainer.getBoundingClientRect();\n  if (options.align === 'top') {\n    return itemRect.top - containerRect.top + scrollContainer.scrollTop - options.offset;\n  } else if (options.align === 'bottom') {\n    return itemRect.bottom - containerRect.top - scrollContainer.clientHeight + scrollContainer.scrollTop + options.offset;\n  } else if (options.align === 'center') {\n    return itemRect.top - containerRect.top - scrollContainer.clientHeight / 2 + scrollContainer.scrollTop + itemRect.height / 2 + options.offset;\n  }\n  return 0;\n}\n\n/**\n * If the value is a valid expression, we evaluate it. Otherwise, we continue with the value as-is.\n * If the resulting value isn't a boolean, we return 'false'\n * The function is memoized to minimize re-renders.\n *\n * @param {boolean | string} value - A static boolean or expression to evaluate.\n * @returns {boolean} - Evaluated boolean result.\n */\nfunction useBooleanExpressionEvaluation(value) {\n  const expressionLanguage = useService('expressionLanguage');\n  const expressionContextInfo = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useContext)(LocalExpressionContext);\n  return (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => {\n    const evaluationResult = runExpressionEvaluation(expressionLanguage, value, expressionContextInfo);\n    return typeof evaluationResult === 'boolean' ? evaluationResult : false;\n  }, [expressionLanguage, expressionContextInfo, value]);\n}\n\n/**\n * Returns the conditionally filtered data of a form reactively.\n * Memoised to minimize re-renders\n *\n * Warning: costly operation, use with care\n */\nfunction useFilteredFormData() {\n  const {\n    initialData,\n    data\n  } = useService('form')._getState();\n  const conditionChecker = useService('conditionChecker', false);\n  return (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => {\n    const newData = conditionChecker ? conditionChecker.applyConditions(data, data) : data;\n    return {\n      ...initialData,\n      ...newData\n    };\n  }, [conditionChecker, data, initialData]);\n}\n\nfunction useKeyDownAction(targetKey, action, listenerElement = window) {\n  function downHandler({\n    key\n  }) {\n    if (key === targetKey) {\n      action();\n    }\n  }\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    listenerElement.addEventListener('keydown', downHandler);\n    return () => {\n      listenerElement.removeEventListener('keydown', downHandler);\n    };\n  });\n}\n\n/**\n * Retrieve readonly value of a form field, given it can be an\n * expression optionally or configured globally.\n *\n * @typedef { import('../../types').FormProperties } FormProperties\n *\n * @param {any} formField\n * @param {FormProperties} properties\n *\n * @returns {boolean}\n */\nfunction useReadonly(formField, properties = {}) {\n  const expressionLanguage = useService('expressionLanguage');\n  const conditionChecker = useService('conditionChecker', false);\n  const expressionContextInfo = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useContext)(LocalExpressionContext);\n  const {\n    readonly\n  } = formField;\n  if (properties.readOnly) {\n    return true;\n  }\n  if (expressionLanguage && expressionLanguage.isExpression(readonly)) {\n    return conditionChecker ? conditionChecker.check(readonly, buildExpressionContext(expressionContextInfo)) : false;\n  }\n  return readonly || false;\n}\n\nfunction usePrevious(value, defaultValue = null) {\n  const ref = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useRef)(defaultValue);\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => ref.current = value, [value]);\n  return ref.current;\n}\n\nfunction useFlushDebounce(func) {\n  const timeoutRef = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useRef)(null);\n  const lastArgsRef = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useRef)(null);\n  const config = useService('config', false);\n  const debounce = config && config.debounce;\n  const shouldDebounce = debounce !== false && debounce !== 0;\n  const delay = typeof debounce === 'number' ? debounce : 300;\n  const debounceFunc = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useCallback)((...args) => {\n    if (!shouldDebounce) {\n      func(...args);\n      return;\n    }\n    lastArgsRef.current = args;\n    if (timeoutRef.current) {\n      clearTimeout(timeoutRef.current);\n    }\n    timeoutRef.current = setTimeout(() => {\n      func(...lastArgsRef.current);\n      lastArgsRef.current = null;\n    }, delay);\n  }, [func, delay, shouldDebounce]);\n  const flushFunc = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useCallback)(() => {\n    if (timeoutRef.current) {\n      clearTimeout(timeoutRef.current);\n      if (lastArgsRef.current !== null) {\n        func(...lastArgsRef.current);\n        lastArgsRef.current = null;\n      }\n      timeoutRef.current = null;\n    }\n  }, [func]);\n  return [debounceFunc, flushFunc];\n}\n\n/**\n * Template a string reactively based on form data. If the string is not a template, it is returned as is.\n * Memoised to minimize re-renders\n *\n * @param {string} value\n * @param {Object} options\n * @param {boolean} [options.debug = false]\n * @param {boolean} [options.strict = false]\n * @param {Function} [options.sanitizer]\n * @param {Function} [options.buildDebugString]\n *\n */\nfunction useTemplateEvaluation(value, options = {}) {\n  const templating = useService('templating');\n  const expressionContextInfo = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useContext)(LocalExpressionContext);\n  return (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => {\n    if (templating && templating.isTemplate(value)) {\n      return templating.evaluate(value, buildExpressionContext(expressionContextInfo), options);\n    }\n    return value;\n  }, [templating, value, expressionContextInfo, options]);\n}\n\n/**\n * Template a string reactively based on form data. If the string is not a template, it is returned as is.\n * If the string contains multiple lines, only the first line is returned.\n * Memoised to minimize re-renders\n *\n * @param {string} value\n * @param {Object} [options]\n * @param {boolean} [options.debug = false]\n * @param {boolean} [options.strict = false]\n * @param {Function} [options.buildDebugString]\n *\n */\nfunction useSingleLineTemplateEvaluation(value, options = {}) {\n  const evaluatedTemplate = useTemplateEvaluation(value, options);\n  return (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => evaluatedTemplate && evaluatedTemplate.split('\\n')[0], [evaluatedTemplate]);\n}\n\nconst ENTER_KEYDOWN_EVENT = new KeyboardEvent('keydown', {\n  code: 'Enter',\n  key: 'Enter',\n  charCode: 13,\n  keyCode: 13,\n  bubbles: true\n});\nfunction focusRelevantFlatpickerDay(flatpickrInstance) {\n  if (!flatpickrInstance) return;\n  !flatpickrInstance.isOpen && flatpickrInstance.open();\n  const container = flatpickrInstance.calendarContainer;\n  const dayToFocus = container.querySelector('.flatpickr-day.selected') || container.querySelector('.flatpickr-day.today') || container.querySelector('.flatpickr-day');\n  dayToFocus && dayToFocus.focus();\n}\nfunction formatTime(use24h, minutes) {\n  if (minutes === null) return null;\n  const wrappedMinutes = minutes % (24 * 60);\n  const minute = minutes % 60;\n  let hour = Math.floor(wrappedMinutes / 60);\n  if (use24h) {\n    return _getZeroPaddedString(hour) + ':' + _getZeroPaddedString(minute);\n  }\n  hour = hour % 12 || 12;\n  const isPM = wrappedMinutes >= 12 * 60;\n  return _getZeroPaddedString(hour) + ':' + _getZeroPaddedString(minute) + ' ' + (isPM ? 'PM' : 'AM');\n}\nfunction parseInputTime(stringTime) {\n  let workingString = stringTime.toLowerCase();\n  const is12h = workingString.includes('am') || workingString.includes('pm');\n  if (is12h) {\n    const isPM = workingString.includes('pm');\n    const digits = workingString.match(/\\d+/g);\n    const displayHour = parseInt(digits && digits[0]);\n    const minute = parseInt(digits && digits[1]) || 0;\n    const isValidDisplayHour = (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isNumber)(displayHour) && displayHour >= 1 && displayHour <= 12;\n    const isValidMinute = minute >= 0 && minute <= 59;\n    if (!isValidDisplayHour || !isValidMinute) return null;\n    const hour = displayHour % 12 + (isPM ? 12 : 0);\n    return hour * 60 + minute;\n  } else {\n    const digits = workingString.match(/\\d+/g);\n    const hour = parseInt(digits && digits[0]);\n    const minute = parseInt(digits && digits[1]);\n    const isValidHour = (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isNumber)(hour) && hour >= 0 && hour <= 23;\n    const isValidMinute = (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isNumber)(minute) && minute >= 0 && minute <= 59;\n    if (!isValidHour || !isValidMinute) return null;\n    return hour * 60 + minute;\n  }\n}\nfunction serializeTime(minutes, offset, timeSerializingFormat) {\n  if (timeSerializingFormat === TIME_SERIALISING_FORMATS.UTC_NORMALIZED) {\n    const normalizedMinutes = (minutes + offset + MINUTES_IN_DAY) % MINUTES_IN_DAY;\n    return _getZeroPaddedString(Math.floor(normalizedMinutes / 60)) + ':' + _getZeroPaddedString(normalizedMinutes % 60) + 'Z';\n  }\n  const baseTime = _getZeroPaddedString(Math.floor(minutes / 60)) + ':' + _getZeroPaddedString(minutes % 60);\n  const addUTCOffset = timeSerializingFormat === TIME_SERIALISING_FORMATS.UTC_OFFSET;\n  return baseTime + (addUTCOffset ? formatTimezoneOffset(offset) : '');\n}\nfunction parseIsoTime(isoTimeString) {\n  if (!isoTimeString) return null;\n  const parseBasicMinutes = timeString => {\n    const timeSegments = timeString.split(':');\n    const hour = parseInt(timeSegments[0]);\n    const minute = timeSegments.length > 1 ? parseInt(timeSegments[1]) : 0;\n    if (isNaN(hour) || hour < 0 || hour > 24 || isNaN(minute) || minute < 0 || minute > 60) return null;\n    return hour * 60 + minute;\n  };\n  const localOffset = new Date().getTimezoneOffset();\n\n  // Parse normalized time\n  if (isoTimeString.includes('Z')) {\n    isoTimeString = isoTimeString.replace('Z', '');\n    const minutes = parseBasicMinutes(isoTimeString);\n    if (minutes === null) return null;\n    return (minutes - localOffset + MINUTES_IN_DAY) % MINUTES_IN_DAY;\n  }\n\n  // Parse offset positive time\n  else if (isoTimeString.includes('+')) {\n    const [timeString, offsetString] = isoTimeString.split('+');\n    const minutes = parseBasicMinutes(timeString);\n    let inboundOffset = parseBasicMinutes(offsetString);\n    if (minutes === null || inboundOffset === null) return null;\n\n    // The offset is flipped for consistency with javascript\n    inboundOffset = -inboundOffset;\n    return (minutes + inboundOffset - localOffset + MINUTES_IN_DAY) % MINUTES_IN_DAY;\n  }\n\n  // Parse offset negative time\n  else if (isoTimeString.includes('-')) {\n    const [timeString, offsetString] = isoTimeString.split('-');\n    const minutes = parseBasicMinutes(timeString);\n    let inboundOffset = parseBasicMinutes(offsetString);\n    if (minutes === null || inboundOffset === null) return null;\n    return (minutes + inboundOffset - localOffset + MINUTES_IN_DAY) % MINUTES_IN_DAY;\n  }\n\n  // Default to local parsing\n  else {\n    return parseBasicMinutes(isoTimeString);\n  }\n}\n\n/**\n * Returns the date object as a simple 'YYYY-MM-DD' formatted date in the local timezone.\n *\n * @param {*} date The date object to serialize.\n * @returns {string} The serialized date.\n */\nfunction serializeDate(date) {\n  return luxon__WEBPACK_IMPORTED_MODULE_8__.DateTime.fromJSDate(date).toISODate();\n}\n// this method is used to make the `new Date(value)` parsing behavior stricter\nfunction isDateTimeInputInformationSufficient(value) {\n  if (!value || typeof value !== 'string') return false;\n  const segments = value.split('T');\n  if (segments.length != 2) return false;\n  const dateNumbers = segments[0].split('-');\n  if (dateNumbers.length != 3) return false;\n  return true;\n}\n\n// this method checks if the date isn't a datetime, or a partial date\nfunction isDateInputInformationMatching(value) {\n  if (!value || typeof value !== 'string') return false;\n  if (value.includes('T')) return false;\n  const dateNumbers = value.split('-');\n  if (dateNumbers.length != 3) return false;\n  return true;\n}\nfunction serializeDateTime(date, time, timeSerializingFormat) {\n  const workingDate = new Date();\n  workingDate.setFullYear(date.getFullYear(), date.getMonth(), date.getDate());\n  workingDate.setHours(Math.floor(time / 60), time % 60, 0, 0);\n  if (timeSerializingFormat === TIME_SERIALISING_FORMATS.UTC_NORMALIZED) {\n    const timezoneOffsetMinutes = workingDate.getTimezoneOffset();\n    const dayOffset = time + timezoneOffsetMinutes < 0 ? -1 : time + timezoneOffsetMinutes > MINUTES_IN_DAY ? 1 : 0;\n\n    // Apply the date rollover pre-emptively\n    workingDate.setHours(workingDate.getHours() + dayOffset * 24);\n  }\n  return serializeDate(workingDate) + 'T' + serializeTime(time, workingDate.getTimezoneOffset(), timeSerializingFormat);\n}\nfunction formatTimezoneOffset(minutes) {\n  return _getSignedPaddedHours(minutes) + ':' + _getZeroPaddedString(Math.abs(minutes % 60));\n}\nfunction isInvalidDateString(value) {\n  return isNaN(new Date(Date.parse(value)).getTime());\n}\nfunction getNullDateTime() {\n  return {\n    date: new Date(Date.parse(null)),\n    time: null\n  };\n}\nfunction isValidDate(date) {\n  return date && !isNaN(date.getTime());\n}\nfunction isValidTime(time) {\n  return !isNaN(parseInt(time));\n}\nfunction _getSignedPaddedHours(minutes) {\n  if (minutes > 0) {\n    return '-' + _getZeroPaddedString(Math.floor(minutes / 60));\n  } else {\n    return '+' + _getZeroPaddedString(Math.floor((0 - minutes) / 60));\n  }\n}\nfunction _getZeroPaddedString(time) {\n  return time.toString().padStart(2, '0');\n}\n\nconst ALLOWED_IMAGE_SRC_PATTERN = /^(https?|data):.*/i;\nconst ALLOWED_IFRAME_SRC_PATTERN = /^(https):\\/\\/*/i;\nfunction sanitizeDateTimePickerValue(options) {\n  const {\n    formField,\n    value\n  } = options;\n  const {\n    subtype\n  } = formField;\n  if (typeof value !== 'string') return null;\n  if (subtype === DATETIME_SUBTYPES.DATE && (isInvalidDateString(value) || !isDateInputInformationMatching(value))) return null;\n  if (subtype === DATETIME_SUBTYPES.TIME && parseIsoTime(value) === null) return null;\n  if (subtype === DATETIME_SUBTYPES.DATETIME && (isInvalidDateString(value) || !isDateTimeInputInformationSufficient(value))) return null;\n  return value;\n}\nfunction hasEqualValue(value, array) {\n  if (!Array.isArray(array)) {\n    return false;\n  }\n  return array.some(element => lodash_isEqual__WEBPACK_IMPORTED_MODULE_7___default()(value, element));\n}\nfunction sanitizeSingleSelectValue(options) {\n  const {\n    formField,\n    data,\n    value\n  } = options;\n  const {\n    valuesExpression: optionsExpression\n  } = formField;\n  try {\n    // if options are expression evaluated, we don't need to sanitize the value against the options\n    // and defer to the field's internal validation\n    if (optionsExpression) {\n      return value;\n    }\n    const validValues = normalizeOptionsData(getSimpleOptionsData(formField, data)).map(v => v.value);\n    return hasEqualValue(value, validValues) ? value : null;\n  } catch (error) {\n    // use default value in case of formatting error\n    // TODO(@Skaiir): log a warning when this happens - https://github.com/bpmn-io/form-js/issues/289\n    return null;\n  }\n}\nfunction sanitizeMultiSelectValue(options) {\n  const {\n    formField,\n    data,\n    value\n  } = options;\n  const {\n    valuesExpression: optionsExpression\n  } = formField;\n  try {\n    // if options are expression evaluated, we don't need to sanitize the values against the options\n    // and defer to the field's internal validation\n    if (optionsExpression) {\n      return value;\n    }\n    const validValues = normalizeOptionsData(getSimpleOptionsData(formField, data)).map(v => v.value);\n    return value.filter(v => hasEqualValue(v, validValues));\n  } catch (error) {\n    // use default value in case of formatting error\n    // TODO(@Skaiir): log a warning when this happens - https://github.com/bpmn-io/form-js/issues/289\n    return [];\n  }\n}\n\n/**\n * Sanitizes an image source to ensure we only allow for data URI and links\n * that start with http(s).\n *\n * Note: Most browsers anyway do not support script execution in <img> elements.\n *\n * @param {string} src\n * @returns {string}\n */\nfunction sanitizeImageSource(src) {\n  const valid = ALLOWED_IMAGE_SRC_PATTERN.test(src);\n  return valid ? src : '';\n}\n\n/**\n * Sanitizes an iframe source to ensure we only allow for links\n * that start with http(s).\n *\n * @param {string} src\n * @returns {string}\n */\nfunction sanitizeIFrameSource(src) {\n  const valid = ALLOWED_IFRAME_SRC_PATTERN.test(src);\n  return valid ? src : '';\n}\n\n/**\n * Escapes HTML and returns pure text.\n * @param {string} html\n * @returns {string}\n */\nfunction escapeHTML(html) {\n  const escapeMap = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#039;',\n    '{': '&#123;',\n    '}': '&#125;',\n    ':': '&#58;',\n    ';': '&#59;'\n  };\n  return html.replace(/[&<>\"'{};:]/g, match => escapeMap[match]);\n}\n\nfunction useCleanupSingleSelectValue(props) {\n  const {\n    field,\n    options,\n    loadState,\n    onChange,\n    value\n  } = props;\n\n  // Ensures that the value is always one of the possible options\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    if (loadState !== LOAD_STATES.LOADED) {\n      return;\n    }\n    const optionValues = options.map(o => o.value);\n    const hasValueNotInOptions = value && !hasEqualValue(value, optionValues);\n    if (hasValueNotInOptions) {\n      onChange({\n        field,\n        value: null\n      });\n    }\n  }, [field, options, onChange, value, loadState]);\n}\n\nfunction useCleanupMultiSelectValue(props) {\n  const {\n    field,\n    options,\n    loadState,\n    onChange,\n    values\n  } = props;\n  const memoizedValues = useDeepCompareMemoize(values || []);\n\n  // ensures that the values are always a subset of the possible options\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    if (loadState !== LOAD_STATES.LOADED) {\n      return;\n    }\n    const optionValues = options.map(o => o.value);\n    const hasValuesNotInOptions = memoizedValues.some(v => !hasEqualValue(v, optionValues));\n    if (hasValuesNotInOptions) {\n      onChange({\n        field,\n        value: memoizedValues.filter(v => hasEqualValue(v, optionValues))\n      });\n    }\n  }, [field, options, onChange, memoizedValues, loadState]);\n}\n\nconst type$j = 'button';\nfunction Button(props) {\n  const {\n    disabled,\n    onFocus,\n    onBlur,\n    field\n  } = props;\n  const {\n    action = 'submit'\n  } = field;\n  const evaluatedLabel = useSingleLineTemplateEvaluation(field.label || '', {\n    debug: true\n  });\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n    class: formFieldClasses(type$j),\n    children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"button\", {\n      class: \"fjs-button\",\n      type: action,\n      disabled: disabled,\n      onFocus: () => onFocus && onFocus(),\n      onBlur: () => onBlur && onBlur(),\n      children: evaluatedLabel\n    })\n  });\n}\nButton.config = {\n  type: type$j,\n  keyed: false,\n  name: 'Button',\n  group: 'action',\n  create: (options = {}) => ({\n    label: 'Button',\n    action: 'submit',\n    ...options\n  })\n};\n\nfunction Description(props) {\n  const {\n    description,\n    id\n  } = props;\n  const evaluatedDescription = useSingleLineTemplateEvaluation(description || '', {\n    debug: true\n  });\n  if (!evaluatedDescription) {\n    return null;\n  }\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n    id: id,\n    class: \"fjs-form-field-description\",\n    children: evaluatedDescription\n  });\n}\n\n/**\n * @typedef Props\n * @property {string} id\n * @property {string[]} errors\n *\n * @param {Props} props\n * @returns {import(\"preact\").JSX.Element}\n */\nfunction Errors(props) {\n  const {\n    errors,\n    id\n  } = props;\n  if (!errors.length) {\n    return null;\n  }\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n    class: \"fjs-form-field-error\",\n    \"aria-live\": \"polite\",\n    id: id,\n    children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"ul\", {\n      children: errors.map((error, index) => {\n        return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"li\", {\n          children: error\n        }, index);\n      })\n    })\n  });\n}\n\nfunction Label(props) {\n  const {\n    id,\n    htmlFor,\n    label,\n    collapseOnEmpty = true,\n    required = false\n  } = props;\n  const evaluatedLabel = useSingleLineTemplateEvaluation(label || '', {\n    debug: true\n  });\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"label\", {\n    id: id,\n    htmlFor: htmlFor,\n    class: classnames__WEBPACK_IMPORTED_MODULE_3___default()('fjs-form-field-label', {\n      'fjs-incollapsible-label': !collapseOnEmpty\n    }, props['class']),\n    children: [props.children, evaluatedLabel, required && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"span\", {\n      class: \"fjs-asterix\",\n      \"aria-hidden\": true,\n      children: \"*\"\n    })]\n  });\n}\n\nconst type$i = 'checkbox';\nfunction Checkbox(props) {\n  const {\n    disabled,\n    errors = [],\n    domId,\n    onBlur,\n    onFocus,\n    field,\n    readonly,\n    value = false\n  } = props;\n  const {\n    description,\n    label,\n    validate = {}\n  } = field;\n  const {\n    required\n  } = validate;\n  const onChange = ({\n    target\n  }) => {\n    props.onChange({\n      value: target.checked\n    });\n  };\n  const descriptionId = `${domId}-description`;\n  const errorMessageId = `${domId}-error-message`;\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n    class: classnames__WEBPACK_IMPORTED_MODULE_3___default()(formFieldClasses(type$i, {\n      errors,\n      disabled,\n      readonly\n    }), {\n      'fjs-checked': value\n    }),\n    children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n      class: \"fjs-inline-label\",\n      children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"input\", {\n        checked: value,\n        class: \"fjs-input\",\n        disabled: disabled,\n        readOnly: readonly,\n        id: domId,\n        type: \"checkbox\",\n        onChange: onChange,\n        onBlur: () => onBlur && onBlur(),\n        onFocus: () => onFocus && onFocus(),\n        required: required,\n        \"aria-invalid\": errors.length > 0,\n        \"aria-describedby\": [descriptionId, errorMessageId].join(' ')\n      }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Label, {\n        htmlFor: domId,\n        label: label,\n        required: required\n      })]\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Description, {\n      id: descriptionId,\n      description: description\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Errors, {\n      id: errorMessageId,\n      errors: errors\n    })]\n  });\n}\nCheckbox.config = {\n  type: type$i,\n  keyed: true,\n  name: 'Checkbox',\n  group: 'selection',\n  emptyValue: false,\n  sanitizeValue: ({\n    value\n  }) => value === true,\n  create: (options = {}) => ({\n    label: 'Checkbox',\n    ...options\n  })\n};\n\nconst type$h = 'checklist';\nfunction Checklist(props) {\n  const {\n    disabled,\n    errors = [],\n    domId,\n    onBlur,\n    onFocus,\n    field,\n    readonly,\n    value: values = []\n  } = props;\n  const {\n    description,\n    label,\n    validate = {}\n  } = field;\n\n  /** @type {import(\"preact\").RefObject<HTMLDivElement>} */\n  const outerDivRef = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useRef)();\n  const {\n    required\n  } = validate;\n  const toggleCheckbox = toggledValue => {\n    const newValues = hasEqualValue(toggledValue, values) ? values.filter(value => !lodash_isEqual__WEBPACK_IMPORTED_MODULE_7___default()(value, toggledValue)) : [...values, toggledValue];\n    props.onChange({\n      value: newValues\n    });\n  };\n  const onCheckboxBlur = e => {\n    if (outerDivRef.current.contains(e.relatedTarget)) {\n      return;\n    }\n    onBlur && onBlur();\n  };\n  const onCheckboxFocus = e => {\n    if (outerDivRef.current.contains(e.relatedTarget)) {\n      return;\n    }\n    onFocus && onFocus();\n  };\n  const {\n    loadState,\n    options\n  } = useOptionsAsync(field);\n  useCleanupMultiSelectValue({\n    field,\n    loadState,\n    options,\n    values,\n    onChange: props.onChange\n  });\n  const descriptionId = `${domId}-description`;\n  const errorMessageId = `${domId}-error-message`;\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n    class: classnames__WEBPACK_IMPORTED_MODULE_3___default()(formFieldClasses(type$h, {\n      errors,\n      disabled,\n      readonly\n    })),\n    ref: outerDivRef,\n    children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Label, {\n      label: label,\n      required: required\n    }), loadState == LOAD_STATES.LOADED && options.map((option, index) => {\n      const itemDomId = `${domId}-${index}`;\n      const isChecked = hasEqualValue(option.value, values);\n      return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n        className: classnames__WEBPACK_IMPORTED_MODULE_3___default()('fjs-inline-label', {\n          'fjs-checked': isChecked\n        }),\n        children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"input\", {\n          checked: isChecked,\n          class: \"fjs-input\",\n          disabled: disabled,\n          readOnly: readonly,\n          id: itemDomId,\n          type: \"checkbox\",\n          onClick: () => toggleCheckbox(option.value),\n          onBlur: onCheckboxBlur,\n          onFocus: onCheckboxFocus,\n          required: required,\n          \"aria-invalid\": errors.length > 0,\n          \"aria-describedby\": [descriptionId, errorMessageId].join(' ')\n        }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Label, {\n          htmlFor: itemDomId,\n          label: option.label,\n          required: false\n        })]\n      }, option.value);\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Description, {\n      id: descriptionId,\n      description: description\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Errors, {\n      id: errorMessageId,\n      errors: errors\n    })]\n  });\n}\nChecklist.config = {\n  type: type$h,\n  keyed: true,\n  name: 'Checkbox group',\n  group: 'selection',\n  emptyValue: [],\n  sanitizeValue: sanitizeMultiSelectValue,\n  create: (options = {}) => ({\n    label: 'Checkbox group',\n    ...createEmptyOptions(options)\n  })\n};\n\nconst noop$1 = () => false;\nconst ids$2 = new ids__WEBPACK_IMPORTED_MODULE_0__.Ids([32, 36, 1]);\nfunction FormField(props) {\n  const instanceIdRef = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useRef)(ids$2.next());\n  const {\n    field,\n    indexes,\n    onChange: _onChange\n  } = props;\n  const formFields = useService('formFields'),\n    viewerCommands = useService('viewerCommands', false),\n    formFieldInstanceRegistry = useService('formFieldInstanceRegistry', false),\n    pathRegistry = useService('pathRegistry'),\n    eventBus = useService('eventBus'),\n    form = useService('form');\n  const {\n    initialData,\n    data,\n    errors,\n    properties\n  } = form._getState();\n  const {\n    Element,\n    Hidden,\n    Column\n  } = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useContext)(FormRenderContext);\n  const {\n    formId\n  } = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useContext)(FormContext);\n\n  // track whether we should trigger initial validation on certain actions, e.g. field blur\n  // disabled straight away, if viewerCommands are not available\n  const [initialValidationTrigger, setInitialValidationTrigger] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)(!!viewerCommands);\n  const FormFieldComponent = formFields.get(field.type);\n  if (!FormFieldComponent) {\n    throw new Error(`cannot render field <${field.type}>`);\n  }\n  const fieldConfig = FormFieldComponent.config;\n  const localExpressionContext = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useContext)(LocalExpressionContext);\n  const valuePath = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => pathRegistry.getValuePath(field, {\n    indexes\n  }), [field, indexes, pathRegistry]);\n  const initialValue = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.get)(initialData, valuePath), [initialData, valuePath]);\n  const readonly = useReadonly(field, properties);\n  const value = (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.get)(data, valuePath);\n\n  // add precedence: global readonly > form field disabled\n  const disabled = !properties.readOnly && (properties.disabled || field.disabled || false);\n  const hidden = useCondition(field.conditional && field.conditional.hide || null);\n  const instanceId = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => {\n    if (!formFieldInstanceRegistry) {\n      return null;\n    }\n    return formFieldInstanceRegistry.syncInstance(instanceIdRef.current, {\n      id: field.id,\n      expressionContextInfo: localExpressionContext,\n      valuePath,\n      value,\n      indexes,\n      hidden\n    });\n  }, [formFieldInstanceRegistry, field.id, localExpressionContext, valuePath, value, indexes, hidden]);\n  const fieldInstance = instanceId ? formFieldInstanceRegistry.get(instanceId) : null;\n\n  // cleanup the instance on unmount\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    const instanceId = instanceIdRef.current;\n    if (formFieldInstanceRegistry) {\n      return () => formFieldInstanceRegistry.cleanupInstance(instanceId);\n    }\n  }, [formFieldInstanceRegistry]);\n\n  // ensures the initial validation behavior can be re-triggered upon form reset\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    if (!viewerCommands) {\n      return;\n    }\n    const resetValidation = () => {\n      setInitialValidationTrigger(true);\n    };\n    eventBus.on('import.done', resetValidation);\n    eventBus.on('reset', resetValidation);\n    return () => {\n      eventBus.off('import.done', resetValidation);\n      eventBus.off('reset', resetValidation);\n    };\n  }, [eventBus, viewerCommands]);\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    const hasInitialValue = initialValue && !lodash_isEqual__WEBPACK_IMPORTED_MODULE_7___default()(initialValue, []);\n    if (initialValidationTrigger && hasInitialValue && fieldInstance) {\n      setInitialValidationTrigger(false);\n      viewerCommands.updateFieldInstanceValidation(fieldInstance, initialValue);\n    }\n  }, [fieldInstance, initialValidationTrigger, initialValue, viewerCommands]);\n  const onBlur = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useCallback)(() => {\n    const value = (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.get)(data, valuePath);\n    if (initialValidationTrigger) {\n      setInitialValidationTrigger(false);\n      viewerCommands.updateFieldInstanceValidation(fieldInstance, value);\n    }\n    eventBus.fire('formField.blur', {\n      formField: field\n    });\n  }, [data, eventBus, field, fieldInstance, initialValidationTrigger, valuePath, viewerCommands]);\n  const onFocus = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useCallback)(() => {\n    eventBus.fire('formField.focus', {\n      formField: field\n    });\n  }, [eventBus, field]);\n  const onChange = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useCallback)(update => {\n    setInitialValidationTrigger(false);\n    _onChange({\n      field,\n      indexes,\n      fieldInstance,\n      ...update\n    });\n  }, [_onChange, field, fieldInstance, indexes]);\n  if (hidden) {\n    return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Hidden, {\n      field: field\n    });\n  }\n  const domId = `${prefixId(field.id, formId, indexes)}`;\n  const fieldErrors = (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.get)(errors, [field.id, ...Object.values(indexes || {})]) || [];\n  const formFieldElement = (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(FormFieldComponent, {\n    ...props,\n    disabled: disabled,\n    errors: fieldErrors,\n    domId: domId,\n    onChange: disabled || readonly ? noop$1 : onChange,\n    onBlur: disabled || readonly ? noop$1 : onBlur,\n    onFocus: disabled || readonly ? noop$1 : onFocus,\n    readonly: readonly,\n    value: value,\n    fieldInstance: fieldInstance\n  });\n  if (fieldConfig.escapeGridRender) {\n    return formFieldElement;\n  }\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Column, {\n    field: field,\n    class: gridColumnClasses(field),\n    children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Element, {\n      class: \"fjs-element\",\n      field: field,\n      children: formFieldElement\n    })\n  });\n}\n\nfunction ChildrenRenderer(props) {\n  const {\n    Children\n  } = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useContext)(FormRenderContext);\n  const {\n    field,\n    Empty\n  } = props;\n  const {\n    id\n  } = field;\n  const repeatRenderManager = useService('repeatRenderManager', false);\n  const isRepeating = repeatRenderManager && repeatRenderManager.isFieldRepeating(id);\n  const Repeater = repeatRenderManager.Repeater;\n  const RepeatFooter = repeatRenderManager.RepeatFooter;\n  return isRepeating ? (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(RepeatChildrenRenderer, {\n    ...props,\n    ChildrenRoot: Children,\n    Empty,\n    Repeater,\n    RepeatFooter,\n    repeatRenderManager\n  }) : (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(SimpleChildrenRenderer, {\n    ...props,\n    ChildrenRoot: Children,\n    Empty\n  });\n}\nfunction SimpleChildrenRenderer(props) {\n  const {\n    ChildrenRoot,\n    Empty,\n    field\n  } = props;\n  const {\n    components = []\n  } = field;\n  const isEmpty = !components.length;\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(ChildrenRoot, {\n    class: \"fjs-vertical-layout fjs-children cds--grid cds--grid--condensed\",\n    field: field,\n    children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(RowsRenderer, {\n      ...props\n    }), isEmpty ? (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Empty, {\n      field: field\n    }) : null]\n  });\n}\nfunction RepeatChildrenRenderer(props) {\n  const {\n    ChildrenRoot,\n    repeatRenderManager,\n    Empty,\n    field,\n    ...restProps\n  } = props;\n  const {\n    components = []\n  } = field;\n  const useSharedState = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)({\n    isCollapsed: true\n  });\n  const Repeater = repeatRenderManager.Repeater;\n  const RepeatFooter = repeatRenderManager.RepeatFooter;\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment, {\n    children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(ChildrenRoot, {\n      class: \"fjs-vertical-layout fjs-children cds--grid cds--grid--condensed\",\n      field: field,\n      children: [Repeater ? (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Repeater, {\n        ...restProps,\n        useSharedState,\n        field,\n        RowsRenderer\n      }) : (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(RowsRenderer, {\n        ...restProps,\n        field\n      }), !components.length ? (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Empty, {\n        field: field\n      }) : null]\n    }), RepeatFooter ? (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(RepeatFooter, {\n      ...restProps,\n      useSharedState,\n      field\n    }) : null]\n  });\n}\nfunction RowsRenderer(props) {\n  const {\n    field,\n    indexes\n  } = props;\n  const {\n    id: parentId,\n    verticalAlignment = 'start'\n  } = field;\n  const formLayouter = useService('formLayouter');\n  const formFieldRegistry = useService('formFieldRegistry');\n  const rows = formLayouter.getRows(parentId);\n  const {\n    Row\n  } = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useContext)(FormRenderContext);\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment, {\n    children: [' ', rows.map(row => {\n      const {\n        components = []\n      } = row;\n      if (!components.length) {\n        return null;\n      }\n      return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Row, {\n        row: row,\n        class: \"fjs-layout-row cds--row\",\n        style: {\n          alignItems: verticalAlignment\n        },\n        children: components.map(childId => {\n          const childField = formFieldRegistry.get(childId);\n          if (!childField) {\n            return null;\n          }\n          return (0,preact__WEBPACK_IMPORTED_MODULE_6__.createElement)(FormField, {\n            ...props,\n            key: childId,\n            field: childField,\n            indexes: indexes\n          });\n        })\n      }, row.id);\n    }), ' ']\n  });\n}\n\nfunction Default(props) {\n  const {\n    Empty\n  } = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useContext)(FormRenderContext);\n  const fullProps = {\n    ...props,\n    Empty\n  };\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(ChildrenRenderer, {\n    ...fullProps\n  });\n}\nDefault.config = {\n  type: 'default',\n  keyed: false,\n  label: null,\n  group: null,\n  create: (options = {}) => ({\n    components: [],\n    ...options\n  }),\n  getSubheading: field => field.id\n};\n\nvar _path$z;\nfunction _extends$A() { return _extends$A = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$A.apply(null, arguments); }\nvar SvgCalendar = function SvgCalendar(props) {\n  return /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"svg\", _extends$A({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 14,\n    height: 15,\n    fill: \"none\",\n    viewBox: \"0 0 28 30\"\n  }, props), _path$z || (_path$z = /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"path\", {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    d: \"M19 2H9V0H7v2H2a2 2 0 0 0-2 2v24a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2h-5V0h-2zM7 7V4H2v5h24V4h-5v3h-2V4H9v3zm-5 4v17h24V11z\",\n    clipRule: \"evenodd\"\n  })));\n};\n\n/**\n * Returns date format for the provided locale.\n * If the locale is not provided, uses the browser's locale.\n *\n * @param {string} [locale] - The locale to get date format for.\n * @returns {string} The date format for the locale.\n */\nfunction getLocaleDateFormat(locale = 'default') {\n  const parts = new Intl.DateTimeFormat(locale).formatToParts(new Date(Date.UTC(2020, 5, 5)));\n  return parts.map(part => {\n    const len = part.value.length;\n    switch (part.type) {\n      case 'day':\n        return 'd'.repeat(len);\n      case 'month':\n        return 'M'.repeat(len);\n      case 'year':\n        return 'y'.repeat(len);\n      default:\n        return part.value;\n    }\n  }).join('');\n}\n\n/**\n * Returns readable date format for the provided locale.\n * If the locale is not provided, uses the browser's locale.\n *\n * @param {string} [locale] - The locale to get readable date format for.\n * @returns {string} The readable date format for the locale.\n */\nfunction getLocaleReadableDateFormat(locale) {\n  let format = getLocaleDateFormat(locale).toLowerCase();\n\n  // Ensure month is in 'mm' format\n  if (!format.includes('mm')) {\n    format = format.replace('m', 'mm');\n  }\n\n  // Ensure day is in 'dd' format\n  if (!format.includes('dd')) {\n    format = format.replace('d', 'dd');\n  }\n  return format;\n}\n\n/**\n * Returns flatpickr config for the provided locale.\n * If the locale is not provided, uses the browser's locale.\n *\n * @param {string} [locale] - The locale to get flatpickr config for.\n * @returns {object} The flatpickr config for the locale.\n */\nfunction getLocaleDateFlatpickrConfig(locale) {\n  return flatpickerizeDateFormat(getLocaleDateFormat(locale));\n}\nfunction flatpickerizeDateFormat(dateFormat) {\n  const useLeadingZero = {\n    day: dateFormat.includes('dd'),\n    month: dateFormat.includes('MM'),\n    year: dateFormat.includes('yyyy')\n  };\n  dateFormat = useLeadingZero.day ? dateFormat.replace('dd', 'd') : dateFormat.replace('d', 'j');\n  dateFormat = useLeadingZero.month ? dateFormat.replace('MM', 'm') : dateFormat.replace('M', 'n');\n  dateFormat = useLeadingZero.year ? dateFormat.replace('yyyy', 'Y') : dateFormat.replace('yy', 'y');\n  return dateFormat;\n}\n\nfunction InputAdorner(props) {\n  const {\n    pre,\n    post,\n    rootRef,\n    inputRef,\n    children,\n    disabled,\n    readonly,\n    hasErrors\n  } = props;\n  const onAdornmentClick = () => inputRef && inputRef.current && inputRef.current.focus();\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n    class: classnames__WEBPACK_IMPORTED_MODULE_3___default()('fjs-input-group', {\n      'fjs-disabled': disabled,\n      'fjs-readonly': readonly\n    }, {\n      hasErrors: hasErrors\n    }),\n    ref: rootRef,\n    children: [pre && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"span\", {\n      class: \"fjs-input-adornment border-right border-radius-left\",\n      onClick: onAdornmentClick,\n      children: [' ', (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isString)(pre) ? (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"span\", {\n        class: \"fjs-input-adornment-text\",\n        children: pre\n      }) : pre, ' ']\n    }), children, post && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"span\", {\n      class: \"fjs-input-adornment border-left border-radius-right\",\n      onClick: onAdornmentClick,\n      children: [' ', (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isString)(post) ? (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"span\", {\n        class: \"fjs-input-adornment-text\",\n        children: post\n      }) : post, ' ']\n    })]\n  });\n}\n\nfunction Datepicker(props) {\n  const {\n    label,\n    domId,\n    collapseLabelOnEmpty,\n    onDateTimeBlur,\n    onDateTimeFocus,\n    required,\n    disabled,\n    disallowPassedDates,\n    date: dateObject,\n    readonly,\n    setDate\n  } = props;\n\n  /** @type {import(\"preact\").RefObject<HTMLInputElement>} */\n  const dateInputRef = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useRef)();\n\n  /** @type {import(\"preact\").RefObject<HTMLElement>} */\n  const focusScopeRef = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useRef)();\n  const [flatpickrInstance, setFlatpickrInstance] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)(null);\n  const [isInputDirty, setIsInputDirty] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)(false);\n  const [forceFocusCalendar, setForceFocusCalendar] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)(false);\n\n  // ensures we render based on date value instead of reference\n  const date = useDeepCompareMemoize(dateObject);\n\n  // shorts the date value back to the source\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    if (!flatpickrInstance || !flatpickrInstance.config) return;\n    flatpickrInstance.setDate(date, true);\n    setIsInputDirty(false);\n  }, [flatpickrInstance, date]);\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    if (!forceFocusCalendar) return;\n    focusRelevantFlatpickerDay(flatpickrInstance);\n    setForceFocusCalendar(false);\n  }, [flatpickrInstance, forceFocusCalendar]);\n\n  // setup flatpickr instance\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    let config = {\n      allowInput: true,\n      dateFormat: getLocaleDateFlatpickrConfig(),\n      static: true,\n      clickOpens: false,\n      // TODO: support dates prior to 1900 (https://github.com/bpmn-io/form-js/issues/533)\n      minDate: disallowPassedDates ? 'today' : '01/01/1900',\n      errorHandler: () => {\n        /* do nothing, we expect the values to sometimes be erronous and we don't want warnings polluting the console */\n      }\n    };\n    const instance = (0,flatpickr__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(dateInputRef.current, config);\n    setFlatpickrInstance(instance);\n    const onCalendarFocusOut = e => {\n      if (!instance.calendarContainer.contains(e.relatedTarget) && e.relatedTarget != dateInputRef.current) {\n        instance.close();\n      }\n    };\n\n    // remove dirty tag to have mouse day selection prioritize input blur\n    const onCalendarMouseDown = e => {\n      if (e.target.classList.contains('flatpickr-day')) {\n        setIsInputDirty(false);\n      }\n    };\n\n    // when the dropdown of the datepickr opens, we register a few event handlers to re-implement some of the\n    // flatpicker logic that was lost when setting allowInput to true\n    instance.config.onOpen = [() => instance.calendarContainer.addEventListener('focusout', onCalendarFocusOut), () => instance.calendarContainer.addEventListener('mousedown', onCalendarMouseDown)];\n    instance.config.onClose = [() => instance.calendarContainer.removeEventListener('focusout', onCalendarFocusOut), () => instance.calendarContainer.removeEventListener('mousedown', onCalendarMouseDown)];\n  }, [disallowPassedDates]);\n\n  // onChange is updated dynamically, so not to re-render the flatpicker every time it changes\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    if (!flatpickrInstance || !flatpickrInstance.config) return;\n    flatpickrInstance.config.onChange = [date => setDate(new Date(date)), () => setIsInputDirty(false)];\n  }, [flatpickrInstance, setDate]);\n  const onInputKeyDown = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useCallback)(e => {\n    if (!flatpickrInstance) return;\n    if (e.code === 'Escape') {\n      flatpickrInstance.close();\n    }\n    if (e.code === 'ArrowDown') {\n      if (isInputDirty) {\n        // trigger an enter keypress to submit the new input, then focus calendar day on the next render cycle\n        dateInputRef.current.dispatchEvent(ENTER_KEYDOWN_EVENT);\n        setIsInputDirty(false);\n        setForceFocusCalendar(true);\n      } else {\n        // focus calendar day immediately\n        focusRelevantFlatpickerDay(flatpickrInstance);\n      }\n      e.preventDefault();\n    }\n    if (e.code === 'Enter') {\n      setIsInputDirty(false);\n    }\n  }, [flatpickrInstance, isInputDirty]);\n  const onInputFocus = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useCallback)(e => {\n    if (!flatpickrInstance || focusScopeRef.current.contains(e.relatedTarget) || readonly) return;\n    flatpickrInstance.open();\n    onDateTimeFocus(e);\n  }, [flatpickrInstance, readonly, onDateTimeFocus]);\n\n  // simulate an enter press on blur to make sure the date value is submitted in all scenarios\n  const onInputBlur = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useCallback)(e => {\n    const isFalseBlur = e.relatedTarget && e.relatedTarget.classList.contains('flatpickr-day');\n    if (isFalseBlur) return;\n    if (isInputDirty) {\n      dateInputRef.current.dispatchEvent(ENTER_KEYDOWN_EVENT);\n      setIsInputDirty(false);\n    }\n    onDateTimeBlur(e);\n  }, [isInputDirty, onDateTimeBlur]);\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n    class: \"fjs-datetime-subsection\",\n    children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Label, {\n      htmlFor: domId,\n      label: label,\n      collapseOnEmpty: collapseLabelOnEmpty,\n      required: required\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(InputAdorner, {\n      pre: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(SvgCalendar, {}),\n      disabled: disabled,\n      readonly: readonly,\n      rootRef: focusScopeRef,\n      inputRef: dateInputRef,\n      children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n        class: \"fjs-datepicker\",\n        style: {\n          width: '100%'\n        },\n        children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"input\", {\n          ref: dateInputRef,\n          type: \"text\",\n          id: domId,\n          class: \"fjs-input\",\n          disabled: disabled,\n          readOnly: readonly,\n          placeholder: getLocaleReadableDateFormat(),\n          autoComplete: \"off\",\n          onFocus: onInputFocus,\n          onBlur: onInputBlur,\n          onKeyDown: onInputKeyDown,\n          onMouseDown: () => !flatpickrInstance.isOpen && !readonly && flatpickrInstance.open(),\n          onInput: () => setIsInputDirty(true),\n          \"data-input\": true,\n          \"aria-describedby\": props['aria-describedby']\n        })\n      })\n    })]\n  });\n}\n\nvar _path$y, _path2$4;\nfunction _extends$z() { return _extends$z = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$z.apply(null, arguments); }\nvar SvgClock = function SvgClock(props) {\n  return /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"svg\", _extends$z({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 16,\n    height: 16,\n    fill: \"none\",\n    viewBox: \"0 0 28 29\"\n  }, props), _path$y || (_path$y = /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M13 14.41 18.59 20 20 18.59l-5-5.01V5h-2z\"\n  })), _path2$4 || (_path2$4 = /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"path\", {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    d: \"M6.222 25.64A14 14 0 1 0 21.778 2.36 14 14 0 0 0 6.222 25.64M7.333 4.023a12 12 0 1 1 13.334 19.955A12 12 0 0 1 7.333 4.022Z\",\n    clipRule: \"evenodd\"\n  })));\n};\n\nconst DEFAULT_LABEL_GETTER = value => value;\nconst NOOP = () => {};\nfunction DropdownList(props) {\n  const {\n    listenerElement = window,\n    values = [],\n    getLabel = DEFAULT_LABEL_GETTER,\n    onValueSelected = NOOP,\n    height = 235,\n    emptyListMessage = 'No results',\n    initialFocusIndex = 0\n  } = props;\n  const [mouseControl, setMouseControl] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)(false);\n  const [focusedValueIndex, setFocusedValueIndex] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)(initialFocusIndex);\n  const [smoothScrolling, setSmoothScrolling] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)(false);\n\n  /** @type {import(\"preact\").RefObject<HTMLDivElement>} */\n  const dropdownContainer = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useRef)();\n\n  /** @type {import(\"preact\").RefObject<{ x: number, y: number }>} */\n  const mouseScreenPos = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useRef)();\n  const focusedItem = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => values.length ? values[focusedValueIndex] : null, [focusedValueIndex, values]);\n  const changeFocusedValueIndex = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useCallback)(delta => {\n    setFocusedValueIndex(x => Math.min(Math.max(0, x + delta), values.length - 1));\n  }, [values.length]);\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    if (focusedValueIndex === 0) return;\n    if (!focusedValueIndex || !values.length) {\n      setFocusedValueIndex(0);\n    } else if (focusedValueIndex >= values.length) {\n      setFocusedValueIndex(values.length - 1);\n    }\n  }, [focusedValueIndex, values.length]);\n  useKeyDownAction('ArrowUp', () => {\n    if (values.length) {\n      changeFocusedValueIndex(-1);\n      setMouseControl(false);\n    }\n  }, listenerElement);\n  useKeyDownAction('ArrowDown', () => {\n    if (values.length) {\n      changeFocusedValueIndex(1);\n      setMouseControl(false);\n    }\n  }, listenerElement);\n  useKeyDownAction('Enter', () => {\n    if (focusedItem) {\n      onValueSelected(focusedItem);\n    }\n  }, listenerElement);\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    const individualEntries = dropdownContainer.current.children;\n    if (individualEntries.length && !mouseControl) {\n      const focusedEntry = individualEntries[focusedValueIndex];\n      focusedEntry && focusedEntry.scrollIntoView({\n        block: 'nearest',\n        inline: 'nearest'\n      });\n    }\n  }, [focusedValueIndex, mouseControl]);\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    setSmoothScrolling(true);\n  }, []);\n  const onMouseMovedInKeyboardMode = (event, valueIndex) => {\n    const userMovedCursor = !mouseScreenPos.current || mouseScreenPos.current.x !== event.screenX && mouseScreenPos.current.y !== event.screenY;\n    if (userMovedCursor) {\n      mouseScreenPos.current = {\n        x: event.screenX,\n        y: event.screenY\n      };\n      setMouseControl(true);\n      setFocusedValueIndex(valueIndex);\n    }\n  };\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n    ref: dropdownContainer,\n    tabIndex: -1,\n    class: \"fjs-dropdownlist\",\n    onMouseDown: e => e.preventDefault(),\n    style: {\n      maxHeight: height,\n      scrollBehavior: smoothScrolling ? 'smooth' : 'auto'\n    },\n    children: [values.length > 0 && values.map((entry, index) => {\n      return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n        class: classnames__WEBPACK_IMPORTED_MODULE_3___default()('fjs-dropdownlist-item', {\n          focused: focusedValueIndex === index\n        }),\n        onMouseMove: mouseControl ? undefined : e => onMouseMovedInKeyboardMode(e, index),\n        onMouseEnter: mouseControl ? () => setFocusedValueIndex(index) : undefined,\n        onMouseDown: e => onValueSelected(entry),\n        children: getLabel(entry)\n      }, entry.value);\n    }), !values.length && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n      class: \"fjs-dropdownlist-empty\",\n      children: emptyListMessage\n    })]\n  });\n}\n\nfunction Timepicker(props) {\n  const {\n    label,\n    collapseLabelOnEmpty,\n    onDateTimeBlur,\n    onDateTimeFocus,\n    domId,\n    required,\n    disabled,\n    readonly,\n    use24h = false,\n    timeInterval,\n    time,\n    setTime\n  } = props;\n  const safeTimeInterval = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => {\n    const allowedIntervals = [1, 5, 10, 15, 30, 60];\n    if (allowedIntervals.includes(timeInterval)) {\n      return timeInterval;\n    }\n    return 15;\n  }, [timeInterval]);\n  const timeInputRef = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useRef)();\n  const [dropdownIsOpen, setDropdownIsOpen] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)(false);\n  const useDropdown = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => safeTimeInterval !== 1, [safeTimeInterval]);\n  const [rawValue, setRawValue] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)('');\n\n  // populates values from source\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    if (time === null) {\n      setRawValue('');\n      return;\n    }\n    const intervalAdjustedTime = time - time % safeTimeInterval;\n    setRawValue(formatTime(use24h, intervalAdjustedTime));\n    if (intervalAdjustedTime != time) {\n      setTime(intervalAdjustedTime);\n    }\n  }, [time, setTime, use24h, safeTimeInterval]);\n  const propagateRawToMinute = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useCallback)(newRawValue => {\n    const localRawValue = newRawValue || rawValue;\n\n    // If no raw value exists, set the minute to null\n    if (!localRawValue) {\n      setTime(null);\n      return;\n    }\n    const minutes = parseInputTime(localRawValue);\n\n    // If raw string couldn't be parsed, clean everything up\n    if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isNumber)(minutes)) {\n      setRawValue('');\n      setTime(null);\n      return;\n    }\n\n    // Enforce the minutes to match the timeInterval\n    const correctedMinutes = minutes - minutes % safeTimeInterval;\n\n    // Enforce the raw text to be formatted properly\n    setRawValue(formatTime(use24h, correctedMinutes));\n    setTime(correctedMinutes);\n  }, [rawValue, safeTimeInterval, use24h, setTime]);\n  const timeOptions = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => {\n    const minutesInDay = 24 * 60;\n    const intervalCount = Math.floor(minutesInDay / safeTimeInterval);\n    return [...Array(intervalCount).keys()].map(intervalIndex => formatTime(use24h, intervalIndex * safeTimeInterval));\n  }, [safeTimeInterval, use24h]);\n  const initialFocusIndex = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => {\n    // if there are no options, there will not be any focusing\n    if (!timeOptions || !safeTimeInterval) return null;\n\n    // if there is a set minute value, we focus it in the dropdown\n    if (time) return time / safeTimeInterval;\n    const cacheTime = parseInputTime(rawValue);\n\n    // if there is a valid value in the input cache, we try and focus close to it\n    if (cacheTime) {\n      const flooredCacheTime = cacheTime - cacheTime % safeTimeInterval;\n      return flooredCacheTime / safeTimeInterval;\n    }\n\n    // If there is no set value, simply focus the middle of the dropdown (12:00)\n    return Math.floor(timeOptions.length / 2);\n  }, [rawValue, time, safeTimeInterval, timeOptions]);\n  const onInputKeyDown = e => {\n    switch (e.key) {\n      case 'ArrowUp':\n        e.preventDefault();\n        break;\n      case 'ArrowDown':\n        useDropdown && setDropdownIsOpen(true);\n        e.preventDefault();\n        break;\n      case 'Escape':\n        useDropdown && setDropdownIsOpen(false);\n        break;\n      case 'Enter':\n        !dropdownIsOpen && propagateRawToMinute();\n        break;\n    }\n  };\n  const onInputBlur = e => {\n    setDropdownIsOpen(false);\n    propagateRawToMinute();\n    onDateTimeBlur(e);\n  };\n  const onInputFocus = e => {\n    onDateTimeFocus(e);\n    !readonly && useDropdown && setDropdownIsOpen(true);\n  };\n  const onDropdownValueSelected = value => {\n    setDropdownIsOpen(false);\n    propagateRawToMinute(value);\n  };\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n    class: \"fjs-datetime-subsection\",\n    children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Label, {\n      htmlFor: domId,\n      label: label,\n      collapseOnEmpty: collapseLabelOnEmpty,\n      required: required\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(InputAdorner, {\n      pre: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(SvgClock, {}),\n      inputRef: timeInputRef,\n      disabled: disabled,\n      readonly: readonly,\n      children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n        class: \"fjs-timepicker fjs-timepicker-anchor\",\n        children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"input\", {\n          ref: timeInputRef,\n          type: \"text\",\n          id: domId,\n          class: \"fjs-input\",\n          value: rawValue,\n          disabled: disabled,\n          readOnly: readonly,\n          placeholder: use24h ? 'hh:mm' : 'hh:mm --',\n          autoComplete: \"off\",\n          onInput: e => {\n            // @ts-expect-error\n            setRawValue(e.target.value);\n            useDropdown && setDropdownIsOpen(false);\n          },\n          onBlur: onInputBlur,\n          onFocus: onInputFocus,\n          onClick: () => !readonly && useDropdown && setDropdownIsOpen(true),\n          onKeyDown: onInputKeyDown,\n          \"data-input\": true,\n          \"aria-describedby\": props['aria-describedby']\n        }), dropdownIsOpen && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(DropdownList, {\n          values: timeOptions,\n          height: 150,\n          onValueSelected: onDropdownValueSelected,\n          listenerElement: timeInputRef.current,\n          initialFocusIndex: initialFocusIndex\n        })]\n      })\n    })]\n  });\n}\n\nconst type$g = 'datetime';\nfunction Datetime(props) {\n  const {\n    disabled,\n    errors = [],\n    domId,\n    onBlur,\n    onFocus,\n    field,\n    onChange,\n    readonly,\n    value = ''\n  } = props;\n  const {\n    description,\n    id,\n    dateLabel,\n    timeLabel,\n    validate = {},\n    subtype,\n    use24h,\n    disallowPassedDates,\n    timeInterval,\n    timeSerializingFormat\n  } = field;\n  const {\n    required\n  } = validate;\n  const {\n    formId\n  } = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useContext)(FormContext);\n\n  /** @type {import(\"preact\").RefObject<HTMLDivElement>} */\n  const dateTimeGroupRef = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useRef)();\n  const [dateTime, setDateTime] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)(getNullDateTime());\n  const [dateTimeUpdateRequest, setDateTimeUpdateRequest] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)(null);\n  const useDatePicker = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => subtype === DATETIME_SUBTYPES.DATE || subtype === DATETIME_SUBTYPES.DATETIME, [subtype]);\n  const useTimePicker = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => subtype === DATETIME_SUBTYPES.TIME || subtype === DATETIME_SUBTYPES.DATETIME, [subtype]);\n  const onDateTimeBlur = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useCallback)(e => {\n    if (e.relatedTarget && dateTimeGroupRef.current.contains(e.relatedTarget)) {\n      return;\n    }\n    onBlur && onBlur();\n  }, [onBlur]);\n  const onDateTimeFocus = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useCallback)(e => {\n    if (e.relatedTarget && dateTimeGroupRef.current.contains(e.relatedTarget)) {\n      return;\n    }\n    onFocus && onFocus();\n  }, [onFocus]);\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    let {\n      date,\n      time\n    } = getNullDateTime();\n    switch (subtype) {\n      case DATETIME_SUBTYPES.DATE:\n        {\n          date = typeof value === 'string' ? luxon__WEBPACK_IMPORTED_MODULE_8__.DateTime.fromISO(value).toJSDate() : new Date(NaN);\n          break;\n        }\n      case DATETIME_SUBTYPES.TIME:\n        {\n          time = parseIsoTime(value);\n          break;\n        }\n      case DATETIME_SUBTYPES.DATETIME:\n        {\n          date = new Date(Date.parse(value));\n          time = isValidDate(date) ? 60 * date.getHours() + date.getMinutes() : null;\n          break;\n        }\n    }\n    setDateTime({\n      date,\n      time\n    });\n  }, [subtype, value]);\n  const computeAndSetState = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useCallback)(({\n    date,\n    time\n  }) => {\n    let newDateTimeValue = null;\n    if (subtype === DATETIME_SUBTYPES.DATE && isValidDate(date)) {\n      newDateTimeValue = serializeDate(date);\n    } else if (subtype === DATETIME_SUBTYPES.TIME && isValidTime(time)) {\n      newDateTimeValue = serializeTime(time, new Date().getTimezoneOffset(), timeSerializingFormat);\n    } else if (subtype === DATETIME_SUBTYPES.DATETIME && isValidDate(date) && isValidTime(time)) {\n      newDateTimeValue = serializeDateTime(date, time, timeSerializingFormat);\n    }\n    if (value === newDateTimeValue) {\n      return;\n    }\n    onChange({\n      value: newDateTimeValue,\n      field\n    });\n  }, [value, field, onChange, subtype, timeSerializingFormat]);\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    if (dateTimeUpdateRequest) {\n      if (dateTimeUpdateRequest.refreshOnly) {\n        computeAndSetState(dateTime);\n      } else {\n        const newDateTime = {\n          ...dateTime,\n          ...dateTimeUpdateRequest\n        };\n        setDateTime(newDateTime);\n        computeAndSetState(newDateTime);\n      }\n      setDateTimeUpdateRequest(null);\n    }\n  }, [computeAndSetState, dateTime, dateTimeUpdateRequest]);\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    setDateTimeUpdateRequest({\n      refreshOnly: true\n    });\n  }, [timeSerializingFormat]);\n  const allErrors = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => {\n    if (required || subtype !== DATETIME_SUBTYPES.DATETIME) return errors;\n    const isOnlyOneFieldSet = isValidDate(dateTime.date) && !isValidTime(dateTime.time) || !isValidDate(dateTime.date) && isValidTime(dateTime.time);\n    return isOnlyOneFieldSet ? ['Date and time must both be entered.', ...errors] : errors;\n  }, [required, subtype, dateTime, errors]);\n  const setDate = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useCallback)(date => {\n    setDateTimeUpdateRequest(prev => prev ? {\n      ...prev,\n      date\n    } : {\n      date\n    });\n  }, []);\n  const setTime = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useCallback)(time => {\n    setDateTimeUpdateRequest(prev => prev ? {\n      ...prev,\n      time\n    } : {\n      time\n    });\n  }, []);\n  const errorMessageId = allErrors.length === 0 ? undefined : `${prefixId(id, formId)}-error-message`;\n  const descriptionId = `${prefixId(id, formId)}-description`;\n  const datePickerProps = {\n    label: dateLabel,\n    collapseLabelOnEmpty: !timeLabel,\n    onDateTimeBlur,\n    onDateTimeFocus,\n    domId: `${domId}-date`,\n    required,\n    disabled,\n    disallowPassedDates,\n    date: dateTime.date,\n    readonly,\n    setDate,\n    'aria-describedby': [descriptionId, errorMessageId].join(' ')\n  };\n  const timePickerProps = {\n    label: timeLabel,\n    collapseLabelOnEmpty: !dateLabel,\n    onDateTimeBlur,\n    onDateTimeFocus,\n    domId: `${domId}-time`,\n    required,\n    disabled,\n    readonly,\n    use24h,\n    timeInterval,\n    time: dateTime.time,\n    setTime,\n    'aria-describedby': [descriptionId, errorMessageId].join(' ')\n  };\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n    class: formFieldClasses(type$g, {\n      errors: allErrors,\n      disabled,\n      readonly\n    }),\n    children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n      class: classnames__WEBPACK_IMPORTED_MODULE_3___default()('fjs-vertical-group'),\n      ref: dateTimeGroupRef,\n      children: [useDatePicker && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Datepicker, {\n        ...datePickerProps\n      }), useTimePicker && useDatePicker && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n        class: \"fjs-datetime-separator\"\n      }), useTimePicker && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Timepicker, {\n        ...timePickerProps\n      })]\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Description, {\n      id: descriptionId,\n      description: description\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Errors, {\n      errors: allErrors,\n      id: errorMessageId\n    })]\n  });\n}\nDatetime.config = {\n  type: type$g,\n  keyed: true,\n  name: 'Date time',\n  group: 'basic-input',\n  emptyValue: null,\n  sanitizeValue: sanitizeDateTimePickerValue,\n  create: (options = {}, isNewField) => {\n    const defaults = {};\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.set)(defaults, DATETIME_SUBTYPE_PATH, DATETIME_SUBTYPES.DATE);\n    if (isNewField) {\n      (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.set)(defaults, DATE_LABEL_PATH, 'Date');\n    }\n    return {\n      ...defaults,\n      ...options\n    };\n  },\n  getSubheading: field => {\n    return field.dateLabel || field.timeLabel;\n  }\n};\n\nfunction Group(props) {\n  const {\n    field,\n    domId\n  } = props;\n  const {\n    label,\n    type,\n    showOutline\n  } = field;\n  const {\n    Empty\n  } = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useContext)(FormRenderContext);\n  const fullProps = {\n    ...props,\n    Empty\n  };\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_3___default()(formFieldClasses(type), 'fjs-form-field-grouplike', {\n      'fjs-outlined': showOutline\n    }),\n    role: \"group\",\n    \"aria-labelledby\": domId,\n    children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Label, {\n      id: domId,\n      label: label\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(ChildrenRenderer, {\n      ...fullProps\n    })]\n  });\n}\nGroup.config = {\n  type: 'group',\n  pathed: true,\n  name: 'Group',\n  group: 'container',\n  create: (options = {}) => ({\n    label: 'Group',\n    components: [],\n    showOutline: true,\n    ...options\n  })\n};\n\nconst type$f = 'iframe';\nconst DEFAULT_HEIGHT = 300;\nfunction IFrame(props) {\n  const {\n    field,\n    disabled,\n    readonly,\n    domId\n  } = props;\n  const {\n    height = DEFAULT_HEIGHT,\n    label,\n    url,\n    security = {}\n  } = field;\n  const evaluatedUrl = useSingleLineTemplateEvaluation(url, {\n    debug: true\n  });\n  const safeUrl = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => sanitizeIFrameSource(evaluatedUrl), [evaluatedUrl]);\n  const evaluatedLabel = useSingleLineTemplateEvaluation(label, {\n    debug: true\n  });\n  const [sandbox, allow] = useSecurityAttributesMap(security);\n  const [iframeRefresh, setIframeRefresh] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)(0);\n\n  // forces re-render of iframe when sandbox or allow attributes change, as browsers do not do it automatically\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    setIframeRefresh(count => count + 1);\n  }, [sandbox, allow]);\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n    class: formFieldClasses(type$f, {\n      disabled,\n      readonly\n    }),\n    children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Label, {\n      htmlFor: domId,\n      label: evaluatedLabel\n    }), !evaluatedUrl && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(IFramePlaceholder, {\n      text: \"No content to show.\"\n    }), evaluatedUrl && safeUrl && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"iframe\", {\n      src: safeUrl,\n      title: evaluatedLabel,\n      height: height,\n      class: \"fjs-iframe\",\n      id: domId,\n      sandbox: sandbox,\n      allow\n    }, 'iframe-' + iframeRefresh), evaluatedUrl && !safeUrl && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(IFramePlaceholder, {\n      text: \"External content couldn't be loaded.\"\n    })]\n  });\n}\nfunction IFramePlaceholder(props) {\n  const {\n    text = 'iFrame'\n  } = props;\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n    class: \"fjs-iframe-placeholder\",\n    children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"p\", {\n      class: \"fjs-iframe-placeholder-text\",\n      children: text\n    })\n  });\n}\nIFrame.config = {\n  type: type$f,\n  keyed: false,\n  name: 'iFrame',\n  group: 'container',\n  create: (options = {}) => ({\n    label: 'iFrame',\n    security: {\n      allowScripts: true\n    },\n    ...options\n  })\n};\n\nvar _path$x;\nfunction _extends$y() { return _extends$y = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$y.apply(null, arguments); }\nvar SvgButton = function SvgButton(props) {\n  return /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"svg\", _extends$y({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 54,\n    height: 54,\n    fill: \"currentcolor\"\n  }, props), _path$x || (_path$x = /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M45 17a3 3 0 0 1 3 3v14a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V20a3 3 0 0 1 3-3zm-9 8.889H18v2.222h18z\"\n  })));\n};\n\nvar _path$w;\nfunction _extends$x() { return _extends$x = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$x.apply(null, arguments); }\nvar SvgCheckbox = function SvgCheckbox(props) {\n  return /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"svg\", _extends$x({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 54,\n    height: 54,\n    fill: \"currentcolor\"\n  }, props), _path$w || (_path$w = /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"path\", {\n    d: \"M34 18H20a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V20a2 2 0 0 0-2-2m-9 14-5-5 1.41-1.41L25 29.17l7.59-7.59L34 23z\"\n  })));\n};\n\nvar _path$v;\nfunction _extends$w() { return _extends$w = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$w.apply(null, arguments); }\nvar SvgChecklist = function SvgChecklist(props) {\n  return /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"svg\", _extends$w({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 54,\n    height: 54,\n    fill: \"none\"\n  }, props), _path$v || (_path$v = /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"path\", {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    d: \"M14.35 24.75H19v4.65h-4.65zm-1.414-1.414a2 2 0 0 1 1.414-.586H19a2 2 0 0 1 2 2v4.65a2 2 0 0 1-2 2h-4.65a2 2 0 0 1-2-2v-4.65a2 2 0 0 1 .586-1.414M14.35 37.05H19v4.65h-4.65zm-1.414-1.414a2 2 0 0 1 1.414-.586H19a2 2 0 0 1 2 2v4.65a2 2 0 0 1-2 2h-4.65a2 2 0 0 1-2-2v-4.65a2 2 0 0 1 .586-1.414M14.35 12.45H19v4.65h-4.65zm-1.414-1.414a2 2 0 0 1 1.414-.586H19a2 2 0 0 1 2 2v4.65a2 2 0 0 1-2 2h-4.65a2 2 0 0 1-2-2v-4.65a2 2 0 0 1 .586-1.414m12.007 14.977a1 1 0 0 0-.293.707v.65a1 1 0 0 0 1 1h15a1 1 0 0 0 1-1v-.65a1 1 0 0 0-1-1h-15a1 1 0 0 0-.707.293m0 12.3a1 1 0 0 0-.293.707v.65a1 1 0 0 0 1 1h15a1 1 0 0 0 1-1v-.65a1 1 0 0 0-1-1h-15a1 1 0 0 0-.707.293m0-24.6a1 1 0 0 0-.293.707v.65a1 1 0 0 0 1 1h15a1 1 0 0 0 1-1v-.65a1 1 0 0 0-1-1h-15a1 1 0 0 0-.707.293\",\n    clipRule: \"evenodd\"\n  })));\n};\n\nvar _path$u, _path2$3, _path3;\nfunction _extends$v() { return _extends$v = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$v.apply(null, arguments); }\nvar SvgDatetime = function SvgDatetime(props) {\n  return /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"svg\", _extends$v({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 54,\n    height: 54,\n    fill: \"currentcolor\"\n  }, props), _path$u || (_path$u = /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M37.908 13.418h-5.004v-2.354h-1.766v2.354H21.13v-2.354h-1.766v2.354H14.36a2.07 2.07 0 0 0-2.06 2.06v23.549a2.07 2.07 0 0 0 2.06 2.06h6.77v-1.766h-6.358a.707.707 0 0 1-.706-.706V15.89c0-.39.316-.707.706-.707h4.592v2.355h1.766v-2.355h10.008v2.355h1.766v-2.355h4.592a.71.71 0 0 1 .707.707v6.358h1.765v-6.77c0-1.133-.927-2.06-2.06-2.06\"\n  })), _path2$3 || (_path2$3 = /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"path\", {\n    d: \"m35.13 37.603 1.237-1.237-3.468-3.475v-5.926h-1.754v6.654l3.984 3.984Z\"\n  })), _path3 || (_path3 = /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M23.08 36.962a9.678 9.678 0 1 0 17.883-7.408 9.678 9.678 0 0 0-17.882 7.408Zm4.54-10.292a7.924 7.924 0 1 1 8.805 13.177A7.924 7.924 0 0 1 27.62 26.67\"\n  })));\n};\n\nvar _path$t, _path2$2;\nfunction _extends$u() { return _extends$u = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$u.apply(null, arguments); }\nvar SvgTaglist = function SvgTaglist(props) {\n  return /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"svg\", _extends$u({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 54,\n    height: 54,\n    fill: \"currentcolor\"\n  }, props), _path$t || (_path$t = /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M45 16a3 3 0 0 1 3 3v16a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V19a3 3 0 0 1 3-3zm0 2H9a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h36a1 1 0 0 0 1-1V19a1 1 0 0 0-1-1\"\n  })), _path2$2 || (_path2$2 = /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"path\", {\n    d: \"M11 22a1 1 0 0 1 1-1h19a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H12a1 1 0 0 1-1-1z\"\n  })));\n};\n\nvar _rect, _rect2, _rect3;\nfunction _extends$t() { return _extends$t = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$t.apply(null, arguments); }\nvar SvgForm = function SvgForm(props) {\n  return /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"svg\", _extends$t({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 54,\n    height: 54\n  }, props), _rect || (_rect = /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"rect\", {\n    width: 24,\n    height: 4,\n    x: 15,\n    y: 17,\n    rx: 1\n  })), _rect2 || (_rect2 = /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"rect\", {\n    width: 24,\n    height: 4,\n    x: 15,\n    y: 25,\n    rx: 1\n  })), _rect3 || (_rect3 = /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"rect\", {\n    width: 13,\n    height: 4,\n    x: 15,\n    y: 33,\n    rx: 1\n  })));\n};\n\nvar _path$s;\nfunction _extends$s() { return _extends$s = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$s.apply(null, arguments); }\nvar SvgGroup = function SvgGroup(props) {\n  return /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"svg\", _extends$s({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 54,\n    height: 54,\n    fill: \"none\"\n  }, props), _path$s || (_path$s = /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"path\", {\n    fill: \"#000\",\n    fillRule: \"evenodd\",\n    d: \"M4.05 42.132v1.164c0 .693.604 1.254 1.35 1.254h1.35v-2.507h-2.7v.09Zm0-2.328h2.7v-2.328h-2.7zm0-4.656h2.7V32.82h-2.7zm0-4.656h2.7v-2.328h-2.7zm0-4.656h2.7v-2.328h-2.7zm0-4.656h2.7v-2.328h-2.7zm0-4.656h2.7v-2.328h-2.7zm0-4.656v.09h2.7V9.45H5.4c-.746 0-1.35.561-1.35 1.254zm5.4-2.418v2.507h2.7V9.45zm5.4 0v2.507h2.7V9.45zm5.4 0v2.507h2.7V9.45zm5.4 0v2.507h2.7V9.45zm5.4 0v2.507h2.7V9.45zm5.4 0v2.507h2.7V9.45zm5.4 0v2.507h2.7V9.45zm5.4 0v2.507h2.7v-1.253c0-.693-.604-1.254-1.35-1.254zm2.7 4.746h-2.7v2.328h2.7zm0 4.656h-2.7v2.328h2.7zm0 4.656h-2.7v2.328h2.7zm0 4.656h-2.7v2.328h2.7zm0 4.656h-2.7v2.328h2.7zm0 4.656h-2.7v2.328h2.7zm0 4.656v-.09h-2.7v2.508h1.35c.746 0 1.35-.561 1.35-1.254zm-5.4 2.418v-2.507h-2.7v2.507zm-5.4 0v-2.507h-2.7v2.507zm-5.4 0v-2.507h-2.7v2.507zm-5.4 0v-2.507h-2.7v2.507zm-5.4 0v-2.507h-2.7v2.507zm-5.4 0v-2.507h-2.7v2.507zm-5.4 0v-2.507h-2.7v2.507z\",\n    clipRule: \"evenodd\"\n  })));\n};\n\nvar _path$r;\nfunction _extends$r() { return _extends$r = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$r.apply(null, arguments); }\nvar SvgNumber = function SvgNumber(props) {\n  return /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"svg\", _extends$r({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 54,\n    height: 54,\n    fill: \"currentcolor\"\n  }, props), _path$r || (_path$r = /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M45 16a3 3 0 0 1 3 3v16a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V19a3 3 0 0 1 3-3zm0 2H9a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h36a1 1 0 0 0 1-1V19a1 1 0 0 0-1-1M35 28.444h7l-3.5 4zM35 26h7l-3.5-4z\"\n  })));\n};\n\nvar _path$q;\nfunction _extends$q() { return _extends$q = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$q.apply(null, arguments); }\nvar SvgRadio = function SvgRadio(props) {\n  return /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"svg\", _extends$q({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 54,\n    height: 54,\n    fill: \"currentcolor\"\n  }, props), _path$q || (_path$q = /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"path\", {\n    d: \"M27 22c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5m0-5c-5.52 0-10 4.48-10 10s4.48 10 10 10 10-4.48 10-10-4.48-10-10-10m0 18a8 8 0 1 1 0-16 8 8 0 1 1 0 16\"\n  })));\n};\n\nvar _path$p;\nfunction _extends$p() { return _extends$p = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$p.apply(null, arguments); }\nvar SvgSelect = function SvgSelect(props) {\n  return /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"svg\", _extends$p({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 54,\n    height: 54,\n    fill: \"currentcolor\"\n  }, props), _path$p || (_path$p = /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M45 16a3 3 0 0 1 3 3v16a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V19a3 3 0 0 1 3-3zm0 2H9a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h36a1 1 0 0 0 1-1V19a1 1 0 0 0-1-1m-12 7h9l-4.5 6z\"\n  })));\n};\n\nvar _path$o;\nfunction _extends$o() { return _extends$o = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$o.apply(null, arguments); }\nvar SvgSeparator = function SvgSeparator(props) {\n  return /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"svg\", _extends$o({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 54,\n    height: 54,\n    fill: \"none\"\n  }, props), _path$o || (_path$o = /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M26.293 16.293a1 1 0 0 1 1.414 0l4 4a1 1 0 0 1-1.414 1.414L27 18.414l-3.293 3.293a1 1 0 0 1-1.414-1.414zM9 26h36v2H9zm13.293 7.707 4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0-1.414-1.414L27 35.586l-3.293-3.293a1 1 0 0 0-1.414 1.414\"\n  })));\n};\n\nvar _path$n;\nfunction _extends$n() { return _extends$n = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$n.apply(null, arguments); }\nvar SvgSpacer = function SvgSpacer(props) {\n  return /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"svg\", _extends$n({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 54,\n    height: 54,\n    fill: \"none\"\n  }, props), _path$n || (_path$n = /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M9 15v2h36v-2zm0 22v2h36v-2zm17.293-17.707a1 1 0 0 1 1.414 0l4 4a1 1 0 0 1-1.414 1.414L27 21.414l-3.293 3.293a1 1 0 0 1-1.414-1.414zm-4 11.414 4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0-1.414-1.414L27 32.586l-3.293-3.293a1 1 0 0 0-1.414 1.414\"\n  })));\n};\n\nvar _path$m;\nfunction _extends$m() { return _extends$m = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$m.apply(null, arguments); }\nvar SvgDynamicList = function SvgDynamicList(props) {\n  return /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"svg\", _extends$m({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 54,\n    height: 54,\n    fill: \"none\"\n  }, props), _path$m || (_path$m = /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"path\", {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    d: \"M2.7 43.296v1.254c0 .746.604 1.35 1.35 1.35h1.275v-1.795q.074.211.075.445v-1.254h-.075V43.2H4.05c.177 0 .347.034.502.096zm2.7-2.507v-2.507H2.7v2.507zm0-5.014v-2.507H2.7v2.507zm0-5.014v-2.507H2.7v2.507zm0-5.015V23.24H2.7v2.507h2.7Zm0-5.014v-2.507H2.7v2.507zm0-5.014V13.21H2.7v2.507zm-2.7-5.014h1.852a1.4 1.4 0 0 1-.502.096h1.275v-.096H5.4V9.45q0 .235-.075.445V8.1H4.05A1.35 1.35 0 0 0 2.7 9.45zm5.175.096h2.55V8.1h-2.55zm5.1 0h2.55V8.1h-2.55zm5.1 0h2.55V8.1h-2.55zm5.1 0h2.55V8.1h-2.55zm5.1 0h2.55V8.1h-2.55zm5.1 0h2.55V8.1h-2.55zm5.1 0h2.55V8.1h-2.55zm5.1 0h2.55V8.1h-2.55zm5.1-2.7v1.795a1.4 1.4 0 0 1-.075-.445v1.254h.075v.096h1.275a1.4 1.4 0 0 1-.502-.096H51.3V9.45a1.35 1.35 0 0 0-1.35-1.35zm-.075 5.11v2.508h2.7V13.21zm0 5.015v2.507h2.7v-2.507zm0 5.014v2.507h2.7V23.24zm0 5.015v2.507h2.7v-2.507zm0 5.014v2.507h2.7v-2.507zm0 5.014v2.507h2.7v-2.507zm2.7 5.014h-1.852a1.4 1.4 0 0 1 .502-.096h-1.275v.096H48.6v1.254q0-.235.075-.445V45.9h1.275a1.35 1.35 0 0 0 1.35-1.35zm-5.175-.096h-2.55v2.7h2.55zm-5.1 0h-2.55v2.7h2.55zm-5.1 0h-2.55v2.7h2.55zm-5.1 0h-2.55v2.7h2.55zm-5.1 0h-2.55v2.7h2.55zm-5.1 0h-2.55v2.7h2.55zm-5.1 0h-2.55v2.7h2.55zm-5.1 0h-2.55v2.7h2.55zM16.2 17.55a4.05 4.05 0 0 1 4.05 4.05v1.35A4.05 4.05 0 0 1 16.2 27h-1.35a4.05 4.05 0 0 1-4.05-4.05V21.6a4.05 4.05 0 0 1 4.05-4.05zm0 2.7h-1.35a1.35 1.35 0 0 0-1.35 1.35v1.35c0 .746.604 1.35 1.35 1.35h1.35a1.35 1.35 0 0 0 1.35-1.35V21.6a1.35 1.35 0 0 0-1.35-1.35m27 1.35a4.05 4.05 0 0 0-4.05-4.05H29.7a4.05 4.05 0 0 0-4.05 4.05v1.35A4.05 4.05 0 0 0 29.7 27h9.45a4.05 4.05 0 0 0 4.05-4.05zm-13.5-1.35h9.45c.746 0 1.35.604 1.35 1.35v1.35a1.35 1.35 0 0 1-1.35 1.35H29.7a1.35 1.35 0 0 1-1.35-1.35V21.6c0-.746.604-1.35 1.35-1.35M43.2 37.8a4.05 4.05 0 0 0-4.05-4.05H29.7a4.05 4.05 0 0 0-4.05 4.05v1.35h2.7V37.8c0-.746.604-1.35 1.35-1.35h9.45c.746 0 1.35.604 1.35 1.35v1.35h2.7zm-27-4.05a4.05 4.05 0 0 1 4.05 4.05v1.35h-2.7V37.8a1.35 1.35 0 0 0-1.35-1.35h-1.35a1.35 1.35 0 0 0-1.35 1.35v1.35h-2.7V37.8a4.05 4.05 0 0 1 4.05-4.05z\",\n    clipRule: \"evenodd\"\n  })));\n};\n\nvar _path$l;\nfunction _extends$l() { return _extends$l = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$l.apply(null, arguments); }\nvar SvgText = function SvgText(props) {\n  return /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"svg\", _extends$l({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 54,\n    height: 54,\n    fill: \"currentcolor\"\n  }, props), _path$l || (_path$l = /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"path\", {\n    d: \"M20.58 33.77h-3l-1.18-3.08H11l-1.1 3.08H7l5.27-13.54h2.89zm-5-5.36-1.86-5-1.83 5zM22 20.23h5.41a15.5 15.5 0 0 1 2.4.14 3.4 3.4 0 0 1 1.41.55 3.5 3.5 0 0 1 1 1.14 3 3 0 0 1 .42 1.58 3.26 3.26 0 0 1-1.91 2.94 3.63 3.63 0 0 1 1.91 1.22 3.28 3.28 0 0 1 .66 2 4 4 0 0 1-.43 1.8 3.6 3.6 0 0 1-1.09 1.4 3.9 3.9 0 0 1-1.83.65q-.69.07-3.3.09H22zm2.73 2.25v3.13h3.8a1.8 1.8 0 0 0 1.1-.49 1.4 1.4 0 0 0 .41-1 1.5 1.5 0 0 0-.35-1 1.54 1.54 0 0 0-1-.48c-.27 0-1.05-.05-2.34-.05zm0 5.39v3.62h2.57a11.5 11.5 0 0 0 1.88-.09 1.65 1.65 0 0 0 1-.54 1.6 1.6 0 0 0 .38-1.14 1.75 1.75 0 0 0-.29-1 1.7 1.7 0 0 0-.86-.62 9.3 9.3 0 0 0-2.41-.23zm19.62.92 2.65.84a5.94 5.94 0 0 1-2 3.29A5.74 5.74 0 0 1 41.38 34a5.87 5.87 0 0 1-4.44-1.84 7.1 7.1 0 0 1-1.73-5A7.43 7.43 0 0 1 37 21.87 6 6 0 0 1 41.54 20a5.64 5.64 0 0 1 4 1.47A5.33 5.33 0 0 1 47 24l-2.7.65a2.8 2.8 0 0 0-2.86-2.27A3.09 3.09 0 0 0 39 23.42a5.3 5.3 0 0 0-.93 3.5 5.62 5.62 0 0 0 .93 3.65 3 3 0 0 0 2.4 1.09 2.72 2.72 0 0 0 1.82-.66 4 4 0 0 0 1.13-2.21\"\n  })));\n};\n\nvar _path$k;\nfunction _extends$k() { return _extends$k = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$k.apply(null, arguments); }\nvar SvgHtml = function SvgHtml(props) {\n  return /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"svg\", _extends$k({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 54,\n    height: 54,\n    fill: \"none\"\n  }, props), _path$k || (_path$k = /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"path\", {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    d: \"M47.008 12.15c1.625 0 2.942 1.36 2.942 3.039v23.622c0 1.678-1.317 3.039-2.942 3.039H6.992c-1.625 0-2.942-1.36-2.942-3.039V15.189c0-1.678 1.317-3.039 2.942-3.039zm0 2.026H6.992c-.542 0-.98.454-.98 1.013V16.2h-.004v2.7h.003v19.911c0 .56.44 1.013.98 1.013h40.017c.542 0 .98-.453.98-1.013V18.9h.005v-2.7h-.004v-1.011c0-.56-.44-1.013-.98-1.013M14.934 26.055v-3.78h2.194v9.45h-2.194v-3.78h-3.29v3.78H9.45v-9.45h2.194v3.78zm4.388-1.89h2.194v7.56h2.193v-7.56h2.194v-1.89h-6.581zm14.26-1.89h2.193v9.45h-2.194V25.11l-1.645 3.78-1.645-3.78v6.615h-2.194v-9.45h2.194l1.645 3.78zm4.387 0h2.194v7.56h4.387v1.89h-6.581z\",\n    clipRule: \"evenodd\"\n  })));\n};\n\nvar _path$j;\nfunction _extends$j() { return _extends$j = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$j.apply(null, arguments); }\nvar SvgExpressionField = function SvgExpressionField(props) {\n  return /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"svg\", _extends$j({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 54,\n    height: 54,\n    fill: \"none\"\n  }, props), _path$j || (_path$j = /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"path\", {\n    fill: \"currentcolor\",\n    fillRule: \"evenodd\",\n    d: \"M12.78 16.2v6.75c0 1.619-.635 3.059-1.618 4.05.983.991 1.618 2.431 1.618 4.05v6.75h3.51v2.7h-3.51c-1.289 0-2.34-1.213-2.34-2.7v-6.75c0-1.487-1.051-2.7-2.34-2.7v-2.7c1.289 0 2.34-1.213 2.34-2.7V16.2c0-1.487 1.051-2.7 2.34-2.7h3.51v2.7zm30.78 0v6.75c0 1.487 1.051 2.7 2.34 2.7v2.7c-1.289 0-2.34 1.213-2.34 2.7v6.75c0 1.487-1.051 2.7-2.34 2.7h-3.51v-2.7h3.51v-6.75c0-1.619.635-3.059 1.618-4.05-.983-.991-1.618-2.431-1.618-4.05V16.2h-3.51v-2.7h3.51c1.289 0 2.34 1.213 2.34 2.7M21.8 34.531q.7-.569.959-1.758l1.788-8.34h1.585l.387-1.828h-1.585l.405-1.878h1.585l.387-1.827H25.69q-1.271 0-1.972.569-.681.569-.94 1.758l-.294 1.378H21.34l-.387 1.827h1.142l-1.898 8.841h-1.585l-.387 1.827h1.622q1.272 0 1.953-.569m7.248-7.686-3.797 4.808h2.599l2.12-3.016h.22l.885 3.016h2.599l-1.677-4.36 3.778-4.688h-2.599l-2.12 2.947h-.22l-.885-2.947h-2.599z\",\n    clipRule: \"evenodd\"\n  })));\n};\n\nvar _path$i;\nfunction _extends$i() { return _extends$i = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$i.apply(null, arguments); }\nvar SvgTextfield = function SvgTextfield(props) {\n  return /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"svg\", _extends$i({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 54,\n    height: 54,\n    fill: \"currentcolor\"\n  }, props), _path$i || (_path$i = /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M45 16a3 3 0 0 1 3 3v16a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V19a3 3 0 0 1 3-3zm0 2H9a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h36a1 1 0 0 0 1-1V19a1 1 0 0 0-1-1m-32 4v10h-2V22z\"\n  })));\n};\n\nvar _path$h;\nfunction _extends$h() { return _extends$h = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$h.apply(null, arguments); }\nvar SvgTextarea = function SvgTextarea(props) {\n  return /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"svg\", _extends$h({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 54,\n    height: 54,\n    fill: \"currentcolor\"\n  }, props), _path$h || (_path$h = /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M45 13a3 3 0 0 1 3 3v22a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V16a3 3 0 0 1 3-3zm0 2H9a1 1 0 0 0-1 1v22a1 1 0 0 0 1 1h36a1 1 0 0 0 1-1V16a1 1 0 0 0-1-1m-1.136 15.5.849.849-6.364 6.364-.849-.849zm.264 3.5.849.849-2.828 2.828-.849-.849zM13 19v10h-2V19z\"\n  })));\n};\n\nvar _path$g;\nfunction _extends$g() { return _extends$g = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$g.apply(null, arguments); }\nvar SvgIFrame = function SvgIFrame(props) {\n  return /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"svg\", _extends$g({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 54,\n    height: 54,\n    fill: \"none\"\n  }, props), _path$g || (_path$g = /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"path\", {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    d: \"M45.658 9.45c1.625 0 2.942 1.36 2.942 3.039V22.95h-1.961v-4.383H7.36V41.51c0 .56.44 1.013.98 1.013H27v2.026H8.342c-1.625 0-2.942-1.36-2.942-3.039V12.489c0-1.678 1.317-3.039 2.942-3.039zm0 2.026H8.342c-.542 0-.98.454-.98 1.013v4.052h39.277v-4.052c0-.56-.44-1.013-.98-1.013ZM31.05 35.775A8.77 8.77 0 0 1 39.825 27a8.77 8.77 0 0 1 8.775 8.775 8.77 8.77 0 0 1-8.775 8.775 8.77 8.77 0 0 1-8.775-8.775m12.388-.516h3.097c-.206-2.581-1.858-4.646-4.026-5.678.62 1.548.93 3.613.93 5.678Zm-5.162 2.065c.207 3.303 1.136 4.955 1.549 5.161.413-.206 1.239-1.858 1.445-5.161zm1.446-8.26c-.31.207-1.342 2.272-1.446 6.195h2.994c-.103-3.923-1.135-5.988-1.548-6.194Zm-3.51 6.195c.103-2.065.31-4.13.929-5.678-2.168 1.032-3.82 3.097-4.026 5.678zm0 2.065h-2.89c.515 2.064 1.96 3.82 3.819 4.645-.516-1.342-.826-2.994-.93-4.645Zm7.226 0q-.155 2.632-.929 4.645c1.858-.826 3.304-2.58 3.923-4.645z\",\n    clipRule: \"evenodd\"\n  })));\n};\n\nvar _path$f, _path2$1;\nfunction _extends$f() { return _extends$f = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$f.apply(null, arguments); }\nvar SvgImage = function SvgImage(props) {\n  return /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"svg\", _extends$f({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 54,\n    height: 54,\n    fill: \"currentcolor\"\n  }, props), _path$f || (_path$f = /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M34.636 21.91A3.818 3.818 0 1 1 27 21.908a3.818 3.818 0 0 1 7.636 0Zm-2 0A1.818 1.818 0 1 1 29 21.908a1.818 1.818 0 0 1 3.636 0Z\",\n    clipRule: \"evenodd\"\n  })), _path2$1 || (_path2$1 = /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M15 13a2 2 0 0 0-2 2v24a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V15a2 2 0 0 0-2-2zm24 2H15v12.45l4.71-4.709a1.91 1.91 0 0 1 2.702 0l6.695 6.695 2.656-1.77a1.91 1.91 0 0 1 2.411.239L39 32.73zM15 39v-8.754a1 1 0 0 0 .168-.135l5.893-5.893 6.684 6.685a1.91 1.91 0 0 0 2.41.238l2.657-1.77 6.02 6.02q.078.077.168.135V39z\",\n    clipRule: \"evenodd\"\n  })));\n};\n\nvar _path$e;\nfunction _extends$e() { return _extends$e = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$e.apply(null, arguments); }\nvar SvgTable = function SvgTable(props) {\n  return /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"svg\", _extends$e({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 54 54\"\n  }, props), _path$e || (_path$e = /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"path\", {\n    fill: \"currentcolor\",\n    fillRule: \"evenodd\",\n    d: \"M42.545 12.273A2.455 2.455 0 0 1 45 14.727v24.546a2.455 2.455 0 0 1-2.455 2.454h-31.09A2.455 2.455 0 0 1 9 39.273V14.727a2.455 2.455 0 0 1 2.455-2.454zM27.818 40.09h14.727a.82.82 0 0 0 .819-.818v-4.91H27.818Zm-1.636-5.727v5.727H11.455a.82.82 0 0 1-.819-.818v-4.91zm1.636-1.637h15.546V27H27.818ZM26.182 27v5.727H10.636V27zm1.636-1.636h15.546v-5.728H27.818Zm-1.636-5.728v5.728H10.636v-5.728z\",\n    clipRule: \"evenodd\"\n  })));\n};\n\nvar _path$d;\nfunction _extends$d() { return _extends$d = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$d.apply(null, arguments); }\nvar SvgFilePicker = function SvgFilePicker(props) {\n  return /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"svg\", _extends$d({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 54,\n    height: 54,\n    fill: \"none\"\n  }, props), _path$d || (_path$d = /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"path\", {\n    fill: \"currentcolor\",\n    fillRule: \"evenodd\",\n    d: \"M17.55 41.175H27v2.362h-9.45a2.37 2.37 0 0 1-2.363-2.362v-28.35a2.37 2.37 0 0 1 2.363-2.363h11.813a1.07 1.07 0 0 1 .826.355l8.27 8.269a1.07 1.07 0 0 1 .353.826v5.907H36.45v-3.544h-7.088A2.37 2.37 0 0 1 27 19.912v-7.087h-9.45zm18.427-21.263-6.614-6.615v6.615zm4.253 18.664 3.308 3.308-1.654 1.653-3.308-3.307a6.35 6.35 0 0 1-3.307.945c-3.308 0-5.906-2.599-5.906-5.906 0-3.308 2.598-5.907 5.906-5.907s5.906 2.6 5.906 5.907a6.35 6.35 0 0 1-.945 3.307m-4.961-6.851c-2.008 0-3.544 1.536-3.544 3.544s1.536 3.543 3.544 3.543 3.544-1.535 3.544-3.543-1.536-3.544-3.544-3.544\",\n    clipRule: \"evenodd\"\n  })));\n};\n\nvar _path$c;\nfunction _extends$c() { return _extends$c = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$c.apply(null, arguments); }\nvar SvgDocumentPreview = function SvgDocumentPreview(props) {\n  return /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"svg\", _extends$c({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 54,\n    height: 54,\n    fill: \"none\"\n  }, props), _path$c || (_path$c = /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"path\", {\n    fill: \"currentcolor\",\n    fillRule: \"evenodd\",\n    d: \"M17.55 41.175h6.75v2.363h-6.75a2.37 2.37 0 0 1-2.363-2.363v-28.35a2.37 2.37 0 0 1 2.363-2.362h11.813a1.07 1.07 0 0 1 .826.354l8.27 8.269a1.07 1.07 0 0 1 .353.827v7.256H36.45v-4.894h-7.088A2.37 2.37 0 0 1 27 19.913v-7.088h-9.45zm18.427-21.262-6.614-6.616v6.616zm-2.212 10.564-.015-.001h-.015a8.86 8.86 0 0 0-7.926 5.656l-.003.008a.9.9 0 0 0 0 .62l.003.008a8.85 8.85 0 0 0 7.926 5.655l.015.001h.015a8.86 8.86 0 0 0 7.926-5.656l.003-.008a.9.9 0 0 0 0-.62l-.003-.008a8.85 8.85 0 0 0-7.926-5.655M33.75 40.6c-2.456 0-5.088-1.802-6.107-4.151 1.019-2.349 3.651-4.151 6.107-4.151s5.088 1.802 6.107 4.151c-1.019 2.349-3.65 4.151-6.107 4.151m0-7.593a3.443 3.443 0 1 0 0 6.885 3.443 3.443 0 0 0 0-6.886Zm-.316 1.853a1.62 1.62 0 1 1 .632 3.178 1.62 1.62 0 0 1-.632-3.178\",\n    clipRule: \"evenodd\"\n  })));\n};\n\nconst iconsByType = type => {\n  return {\n    button: SvgButton,\n    checkbox: SvgCheckbox,\n    checklist: SvgChecklist,\n    columns: SvgGroup,\n    datetime: SvgDatetime,\n    group: SvgGroup,\n    iframe: SvgIFrame,\n    image: SvgImage,\n    number: SvgNumber,\n    expression: SvgExpressionField,\n    radio: SvgRadio,\n    select: SvgSelect,\n    separator: SvgSeparator,\n    spacer: SvgSpacer,\n    dynamiclist: SvgDynamicList,\n    taglist: SvgTaglist,\n    text: SvgText,\n    html: SvgHtml,\n    textfield: SvgTextfield,\n    textarea: SvgTextarea,\n    table: SvgTable,\n    filepicker: SvgFilePicker,\n    documentPreview: SvgDocumentPreview,\n    default: SvgForm\n  }[type];\n};\n\nconst type$e = 'image';\nfunction Image(props) {\n  const {\n    field\n  } = props;\n  const {\n    alt,\n    id,\n    source\n  } = field;\n  const Icon = iconsByType(field.type);\n  const evaluatedImageSource = useSingleLineTemplateEvaluation(source, {\n    debug: true\n  });\n  const safeSource = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => sanitizeImageSource(evaluatedImageSource), [evaluatedImageSource]);\n  const altText = useSingleLineTemplateEvaluation(alt, {\n    debug: true\n  });\n  const {\n    formId\n  } = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useContext)(FormContext);\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n    class: formFieldClasses(type$e),\n    children: [safeSource && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n      class: \"fjs-image-container\",\n      children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"img\", {\n        alt: altText,\n        src: safeSource,\n        class: \"fjs-image\",\n        id: prefixId(id, formId)\n      })\n    }), !safeSource && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n      class: \"fjs-image-placeholder\",\n      children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"span\", {\n        class: \"fjs-image-placeholder-inner\",\n        children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Icon, {\n          alt: \"This is an image placeholder\",\n          width: \"32\",\n          height: \"32\",\n          viewBox: \"0 0 56 56\"\n        })\n      })\n    })]\n  });\n}\nImage.config = {\n  type: type$e,\n  keyed: false,\n  name: 'Image view',\n  group: 'presentation',\n  create: (options = {}) => options,\n  getSubheading: field => field.alt\n};\n\nfunction TemplatedInputAdorner(props) {\n  const {\n    pre,\n    post\n  } = props;\n  const evaluatedPre = useSingleLineTemplateEvaluation(pre, {\n    debug: true\n  });\n  const evaluatedPost = useSingleLineTemplateEvaluation(post, {\n    debug: true\n  });\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(InputAdorner, {\n    ...props,\n    pre: evaluatedPre,\n    post: evaluatedPost\n  });\n}\n\nvar _path$b;\nfunction _extends$b() { return _extends$b = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$b.apply(null, arguments); }\nvar SvgAngelDown = function SvgAngelDown(props) {\n  return /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"svg\", _extends$b({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 8,\n    height: 8\n  }, props), _path$b || (_path$b = /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"path\", {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    stroke: \"currentColor\",\n    strokeWidth: 0.5,\n    d: \"M7.75 1.336 4 6.125.258 1.335 0 1.54l4 5.125L8 1.54Zm0 0\",\n    clipRule: \"evenodd\"\n  })));\n};\n\nvar _path$a;\nfunction _extends$a() { return _extends$a = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$a.apply(null, arguments); }\nvar SvgAngelUp = function SvgAngelUp(props) {\n  return /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"svg\", _extends$a({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 8,\n    height: 8\n  }, props), _path$a || (_path$a = /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"path\", {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    stroke: \"currentColor\",\n    strokeWidth: 0.5,\n    d: \"M7.75 6.664 4 1.875.258 6.665 0 6.46l4-5.125L8 6.46Zm0 0\",\n    clipRule: \"evenodd\"\n  })));\n};\n\nfunction countDecimals(number) {\n  const num = (0,big_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(number);\n  if (num.toString() === num.toFixed(0)) return 0;\n  return num.toFixed().split('.')[1].length || 0;\n}\nfunction isValidNumber(value) {\n  return (typeof value === 'number' || typeof value === 'string') && value !== '' && !isNaN(Number(value));\n}\nfunction willKeyProduceValidNumber(key, previousValue, caretIndex, selectionWidth, decimalDigits) {\n  if (previousValue === 'NaN') {\n    return false;\n  }\n\n  // Dot and comma are both treated as dot\n  previousValue = previousValue.replace(',', '.');\n  const isFirstDot = !previousValue.includes('.') && (key === '.' || key === ',');\n  const isFirstMinus = !previousValue.includes('-') && key === '-' && caretIndex === 0;\n  const keypressIsNumeric = /^[0-9]$/i.test(key);\n  const dotIndex = previousValue === undefined ? -1 : previousValue.indexOf('.');\n\n  // If the caret is positioned after a dot, and the current decimal digits count is equal or greater to the maximum, disallow the key press\n  const overflowsDecimalSpace = typeof decimalDigits === 'number' && selectionWidth === 0 && dotIndex !== -1 && previousValue.includes('.') && previousValue.split('.')[1].length >= decimalDigits && caretIndex > dotIndex;\n  const keypressIsAllowedChar = keypressIsNumeric || decimalDigits !== 0 && isFirstDot || isFirstMinus;\n  return keypressIsAllowedChar && !overflowsDecimalSpace;\n}\nfunction isNullEquivalentValue(value) {\n  return value === undefined || value === null || value === '';\n}\n\nconst type$d = 'number';\nfunction Numberfield(props) {\n  const {\n    disabled,\n    errors = [],\n    domId,\n    onBlur,\n    onFocus,\n    field,\n    value,\n    readonly\n  } = props;\n  const {\n    description,\n    label,\n    appearance = {},\n    validate = {},\n    decimalDigits,\n    increment: incrementValue\n  } = field;\n  const {\n    prefixAdorner,\n    suffixAdorner\n  } = appearance;\n  const {\n    required\n  } = validate;\n\n  /** @type {import(\"preact\").RefObject<HTMLInputElement>} */\n  const inputRef = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useRef)();\n  const [cachedValue, setCachedValue] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)(value);\n  const [displayValue, setDisplayValue] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)(value);\n  const sanitize = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useCallback)(value => Numberfield.config.sanitizeValue({\n    value,\n    formField: field\n  }), [field]);\n  const [debouncedOnChange, flushOnChange] = useFlushDebounce(props.onChange);\n  const previousCachedValue = usePrevious(value);\n  if (previousCachedValue !== cachedValue) {\n    debouncedOnChange({\n      field,\n      value: cachedValue\n    });\n  }\n  const onInputBlur = () => {\n    flushOnChange && flushOnChange();\n    onBlur && onBlur();\n  };\n  const onInputFocus = () => {\n    onFocus && onFocus();\n  };\n\n  // all value changes must go through this function\n  const setValue = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useCallback)(stringValue => {\n    if (isNullEquivalentValue(stringValue)) {\n      setDisplayValue('');\n      setCachedValue(null);\n      return;\n    }\n\n    // converts automatically for countries where the comma is used as a decimal separator\n    stringValue = stringValue.replaceAll(',', '.');\n    if (stringValue === '-') {\n      setDisplayValue('-');\n      return;\n    }\n\n    // provides feedback for invalid numbers entered via pasting as opposed to just ignoring the paste\n    if (isNaN(Number(stringValue))) {\n      setDisplayValue('NaN');\n      setCachedValue(null);\n      return;\n    }\n    setDisplayValue(stringValue);\n    setCachedValue(sanitize(stringValue));\n  }, [sanitize]);\n\n  // when external changes occur independently of the input, we update the display and cache values of the component\n  const previousValue = usePrevious(value);\n  const outerValueChanged = previousValue != value;\n  const outerValueEqualsCache = sanitize(value) === sanitize(cachedValue);\n  if (outerValueChanged && !outerValueEqualsCache) {\n    setValue(value && value.toString() || '');\n  }\n\n  // caches the value an increment/decrement operation will be based on\n  const incrementAmount = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => {\n    if (incrementValue) return (0,big_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(incrementValue);\n    if (decimalDigits) return (0,big_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(`1e-${decimalDigits}`);\n    return (0,big_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])('1');\n  }, [decimalDigits, incrementValue]);\n  const increment = () => {\n    if (readonly) {\n      return;\n    }\n    const base = isValidNumber(cachedValue) ? (0,big_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(cachedValue) : (0,big_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(0);\n    const stepFlooredValue = base.minus(base.mod(incrementAmount));\n\n    // note: toFixed() behaves differently in big.js\n    setValue(stepFlooredValue.plus(incrementAmount).toFixed());\n  };\n  const decrement = () => {\n    if (readonly) {\n      return;\n    }\n    const base = isValidNumber(cachedValue) ? (0,big_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(cachedValue) : (0,big_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(0);\n    const offset = base.mod(incrementAmount);\n    if (offset.cmp(0) === 0) {\n      // if we're already on a valid step, decrement\n      setValue(base.minus(incrementAmount).toFixed());\n    } else {\n      // otherwise floor to the step\n      const stepFlooredValue = base.minus(base.mod(incrementAmount));\n      setValue(stepFlooredValue.toFixed());\n    }\n  };\n  const onKeyDown = e => {\n    // delete the NaN state all at once on backspace or delete\n    if (displayValue === 'NaN' && (e.code === 'Backspace' || e.code === 'Delete')) {\n      setValue('');\n      e.preventDefault();\n      return;\n    }\n    if (e.code === 'ArrowUp') {\n      increment();\n      e.preventDefault();\n      return;\n    }\n    if (e.code === 'ArrowDown') {\n      decrement();\n      e.preventDefault();\n      return;\n    }\n    if (e.code === 'Enter') {\n      flushOnChange && flushOnChange();\n    }\n  };\n\n  // intercept key presses which would lead to an invalid number\n  const onKeyPress = e => {\n    const caretIndex = inputRef.current.selectionStart;\n    const selectionWidth = inputRef.current.selectionStart - inputRef.current.selectionEnd;\n    const previousValue = inputRef.current.value;\n    if (!willKeyProduceValidNumber(e.key, previousValue, caretIndex, selectionWidth, decimalDigits)) {\n      e.preventDefault();\n    }\n  };\n  const descriptionId = `${domId}-description`;\n  const errorMessageId = `${domId}-error-message`;\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n    class: formFieldClasses(type$d, {\n      errors,\n      disabled,\n      readonly\n    }),\n    children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Label, {\n      htmlFor: domId,\n      label: label,\n      required: required\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(TemplatedInputAdorner, {\n      disabled: disabled,\n      readonly: readonly,\n      pre: prefixAdorner,\n      post: suffixAdorner,\n      children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n        class: classnames__WEBPACK_IMPORTED_MODULE_3___default()('fjs-vertical-group', {\n          'fjs-disabled': disabled,\n          'fjs-readonly': readonly\n        }, {\n          hasErrors: errors.length\n        }),\n        children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"input\", {\n          ref: inputRef,\n          class: \"fjs-input\",\n          disabled: disabled,\n          readOnly: readonly,\n          id: domId,\n          onKeyDown: onKeyDown,\n          onKeyPress: onKeyPress,\n          onBlur: onInputBlur,\n          onFocus: onInputFocus\n          // @ts-ignore\n          ,\n          onInput: e => setValue(e.target.value, true),\n          onPaste: e => displayValue === 'NaN' && e.preventDefault(),\n          type: \"text\",\n          autoComplete: \"off\",\n          step: incrementAmount,\n          value: displayValue,\n          \"aria-describedby\": [descriptionId, errorMessageId].join(' '),\n          required: required,\n          \"aria-invalid\": errors.length > 0\n        }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n          class: classnames__WEBPACK_IMPORTED_MODULE_3___default()('fjs-number-arrow-container', {\n            'fjs-disabled': disabled,\n            'fjs-readonly': readonly\n          }),\n          children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"button\", {\n            type: \"button\",\n            class: \"fjs-number-arrow-up\",\n            \"aria-label\": \"Increment\",\n            onClick: () => increment(),\n            tabIndex: -1,\n            children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(SvgAngelUp, {})\n          }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n            class: \"fjs-number-arrow-separator\"\n          }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"button\", {\n            type: \"button\",\n            class: \"fjs-number-arrow-down\",\n            \"aria-label\": \"Decrement\",\n            onClick: () => decrement(),\n            tabIndex: -1,\n            children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(SvgAngelDown, {})\n          })]\n        })]\n      })\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Description, {\n      id: descriptionId,\n      description: description\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Errors, {\n      id: errorMessageId,\n      errors: errors\n    })]\n  });\n}\nNumberfield.config = {\n  type: type$d,\n  keyed: true,\n  name: 'Number',\n  group: 'basic-input',\n  emptyValue: null,\n  sanitizeValue: ({\n    value,\n    formField\n  }) => {\n    // invalid value types are sanitized to null\n    if (isNullEquivalentValue(value) || !isValidNumber(value)) return null;\n\n    // otherwise, we return a string or a number depending on the form field configuration\n    return formField.serializeToString ? value.toString() : Number(value);\n  },\n  create: (options = {}) => ({\n    label: 'Number',\n    ...options\n  })\n};\n\nconst type$c = 'radio';\nfunction Radio(props) {\n  const {\n    disabled,\n    errors = [],\n    domId,\n    onBlur,\n    onFocus,\n    field,\n    readonly,\n    value\n  } = props;\n  const {\n    description,\n    label,\n    validate = {}\n  } = field;\n\n  /** @type {import(\"preact\").RefObject<HTMLDivElement>} */\n  const outerDivRef = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useRef)();\n  const {\n    required\n  } = validate;\n  const onChange = v => {\n    props.onChange({\n      value: v\n    });\n  };\n  const onRadioBlur = e => {\n    if (outerDivRef.current.contains(e.relatedTarget)) {\n      return;\n    }\n    onBlur && onBlur();\n  };\n  const onRadioFocus = e => {\n    if (outerDivRef.current.contains(e.relatedTarget)) {\n      return;\n    }\n    onFocus && onFocus();\n  };\n  const {\n    loadState,\n    options\n  } = useOptionsAsync(field);\n  useCleanupSingleSelectValue({\n    field,\n    loadState,\n    options,\n    value,\n    onChange: props.onChange\n  });\n  const descriptionId = `${domId}-description`;\n  const errorMessageId = `${domId}-error-message`;\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n    class: formFieldClasses(type$c, {\n      errors,\n      disabled,\n      readonly\n    }),\n    ref: outerDivRef,\n    children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Label, {\n      label: label,\n      required: required\n    }), loadState == LOAD_STATES.LOADED && options.map((option, index) => {\n      const itemDomId = `${domId}-${index}`;\n      const isChecked = lodash_isEqual__WEBPACK_IMPORTED_MODULE_7___default()(option.value, value);\n      return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n        className: classnames__WEBPACK_IMPORTED_MODULE_3___default()('fjs-inline-label', {\n          'fjs-checked': isChecked\n        }),\n        children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"input\", {\n          checked: isChecked,\n          class: \"fjs-input\",\n          disabled: disabled,\n          readOnly: readonly,\n          name: domId,\n          id: itemDomId,\n          type: \"radio\",\n          onClick: () => onChange(option.value),\n          onBlur: onRadioBlur,\n          onFocus: onRadioFocus,\n          \"aria-describedby\": [descriptionId, errorMessageId].join(' '),\n          required: required,\n          \"aria-invalid\": errors.length > 0\n        }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Label, {\n          htmlFor: itemDomId,\n          label: option.label,\n          class: classnames__WEBPACK_IMPORTED_MODULE_3___default()({\n            'fjs-checked': isChecked\n          }),\n          required: false\n        })]\n      }, option.value);\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Description, {\n      id: descriptionId,\n      description: description\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Errors, {\n      id: errorMessageId,\n      errors: errors\n    })]\n  });\n}\nRadio.config = {\n  type: type$c,\n  keyed: true,\n  name: 'Radio group',\n  group: 'selection',\n  emptyValue: null,\n  sanitizeValue: sanitizeSingleSelectValue,\n  create: (options = {}) => ({\n    label: 'Radio group',\n    ...createEmptyOptions(options)\n  })\n};\n\nvar _path$9;\nfunction _extends$9() { return _extends$9 = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$9.apply(null, arguments); }\nvar SvgXMark = function SvgXMark(props) {\n  return /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"svg\", _extends$9({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 8,\n    height: 8\n  }, props), _path$9 || (_path$9 = /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"path\", {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    stroke: \"currentColor\",\n    strokeWidth: 0.5,\n    d: \"M4 3.766 7.43.336l.234.234L4.234 4l3.43 3.43-.234.234L4 4.234.57 7.664.336 7.43 3.766 4 .336.57.57.336Zm0 0\",\n    clipRule: \"evenodd\"\n  })));\n};\n\nfunction SearchableSelect(props) {\n  const {\n    domId,\n    disabled,\n    errors,\n    onBlur,\n    onFocus,\n    field,\n    readonly,\n    value\n  } = props;\n  const [filter, setFilter] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)('');\n  const [isDropdownExpanded, setIsDropdownExpanded] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)(false);\n  const [isFilterActive, setIsFilterActive] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)(true);\n  const [isEscapeClosed, setIsEscapeClose] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)(false);\n\n  /** @type {import(\"preact\").RefObject<HTMLInputElement>} */\n  const searchbarRef = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useRef)();\n  const eventBus = useService('eventBus');\n  const {\n    loadState,\n    options\n  } = useOptionsAsync(field);\n  useCleanupSingleSelectValue({\n    field,\n    loadState,\n    options,\n    value,\n    onChange: props.onChange\n  });\n  const getLabelCorrelation = useGetLabelCorrelation(options);\n  const label = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => value && getLabelCorrelation(value), [value, getLabelCorrelation]);\n\n  // whenever we change the underlying value, set the label to it\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    setFilter(label || '');\n  }, [label]);\n  const filteredOptions = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => {\n    if (loadState !== LOAD_STATES.LOADED) {\n      return [];\n    }\n    if (!filter || !isFilterActive) {\n      return options;\n    }\n    return options.filter(option => option.label && option.value && option.label.toLowerCase().includes(filter.toLowerCase()));\n  }, [filter, loadState, options, isFilterActive]);\n  const pickOption = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useCallback)(option => {\n    setFilter(option && option.label || '');\n    props.onChange({\n      value: option && option.value || null\n    });\n  }, [props]);\n  const displayState = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => {\n    const ds = {};\n    ds.componentReady = !disabled && !readonly && loadState === LOAD_STATES.LOADED;\n    ds.displayCross = ds.componentReady && value !== null && value !== undefined;\n    ds.displayDropdown = !disabled && !readonly && isDropdownExpanded && !isEscapeClosed;\n    return ds;\n  }, [disabled, isDropdownExpanded, isEscapeClosed, loadState, readonly, value]);\n  const onAngelMouseDown = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useCallback)(e => {\n    setIsEscapeClose(false);\n    setIsDropdownExpanded(!isDropdownExpanded);\n    const searchbar = searchbarRef.current;\n    isDropdownExpanded ? searchbar.blur() : searchbar.focus();\n    e.preventDefault();\n  }, [isDropdownExpanded]);\n  const onInputChange = ({\n    target\n  }) => {\n    setIsEscapeClose(false);\n    setIsDropdownExpanded(true);\n    setIsFilterActive(true);\n    setFilter(target.value || '');\n    eventBus.fire('formField.search', {\n      formField: field,\n      value: target.value || ''\n    });\n  };\n  const onInputKeyDown = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useCallback)(keyDownEvent => {\n    switch (keyDownEvent.key) {\n      case 'ArrowUp':\n        keyDownEvent.preventDefault();\n        break;\n      case 'ArrowDown':\n        {\n          if (!isDropdownExpanded) {\n            setIsDropdownExpanded(true);\n            setIsFilterActive(false);\n          }\n          keyDownEvent.preventDefault();\n          break;\n        }\n      case 'Escape':\n        setIsEscapeClose(true);\n        break;\n      case 'Enter':\n        if (isEscapeClosed) {\n          setIsEscapeClose(false);\n        }\n        break;\n    }\n  }, [isDropdownExpanded, isEscapeClosed]);\n  const onInputMouseDown = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useCallback)(() => {\n    setIsEscapeClose(false);\n    setIsDropdownExpanded(true);\n    setIsFilterActive(false);\n  }, []);\n  const onInputFocus = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useCallback)(() => {\n    setIsEscapeClose(false);\n    setIsDropdownExpanded(true);\n    onFocus && onFocus();\n  }, [onFocus]);\n  const onInputBlur = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useCallback)(() => {\n    setIsDropdownExpanded(false);\n    setFilter(label || '');\n    onBlur && onBlur();\n  }, [onBlur, label]);\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment, {\n    children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n      class: classnames__WEBPACK_IMPORTED_MODULE_3___default()('fjs-input-group', {\n        disabled: disabled,\n        readonly: readonly\n      }, {\n        hasErrors: errors.length\n      }),\n      children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"input\", {\n        disabled: disabled,\n        readOnly: readonly,\n        class: \"fjs-input\",\n        ref: searchbarRef,\n        id: domId,\n        onChange: onInputChange,\n        type: \"text\",\n        value: filter,\n        placeholder: 'Search',\n        autoComplete: \"off\",\n        onKeyDown: onInputKeyDown,\n        onMouseDown: onInputMouseDown,\n        onFocus: onInputFocus,\n        onBlur: onInputBlur,\n        \"aria-describedby\": props['aria-describedby']\n      }), displayState.displayCross && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"span\", {\n        class: \"fjs-select-cross\",\n        onMouseDown: e => {\n          pickOption(null);\n          e.preventDefault();\n        },\n        children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(SvgXMark, {}), ' ']\n      }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"span\", {\n        class: \"fjs-select-arrow\",\n        onMouseDown: e => onAngelMouseDown(e),\n        children: displayState.displayDropdown ? (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(SvgAngelUp, {}) : (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(SvgAngelDown, {})\n      })]\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n      class: \"fjs-select-anchor\",\n      children: displayState.displayDropdown && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(DropdownList, {\n        values: filteredOptions,\n        getLabel: option => option.label,\n        onValueSelected: option => {\n          pickOption(option);\n          setIsDropdownExpanded(false);\n        },\n        listenerElement: searchbarRef.current\n      })\n    })]\n  });\n}\n\nfunction SimpleSelect(props) {\n  const {\n    domId,\n    disabled,\n    errors,\n    onBlur,\n    onFocus,\n    field,\n    readonly,\n    value\n  } = props;\n  const [isDropdownExpanded, setIsDropdownExpanded] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)(false);\n  const selectRef = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useRef)();\n\n  /** @type {import(\"preact\").RefObject<HTMLInputElement>} */\n  const inputRef = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useRef)();\n  const {\n    loadState,\n    options\n  } = useOptionsAsync(field);\n  useCleanupSingleSelectValue({\n    field,\n    loadState,\n    options,\n    value,\n    onChange: props.onChange\n  });\n  const getLabelCorrelation = useGetLabelCorrelation(options);\n  const valueLabel = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => value && getLabelCorrelation(value), [value, getLabelCorrelation]);\n  const pickOption = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useCallback)(option => {\n    props.onChange({\n      value: option && option.value || null\n    });\n  }, [props]);\n  const displayState = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => {\n    const ds = {};\n    ds.componentReady = !disabled && !readonly && loadState === LOAD_STATES.LOADED;\n    ds.displayCross = ds.componentReady && value !== null && value !== undefined;\n    ds.displayDropdown = !disabled && !readonly && isDropdownExpanded;\n    return ds;\n  }, [disabled, isDropdownExpanded, loadState, readonly, value]);\n  const onMouseDown = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useCallback)(e => {\n    const input = inputRef.current;\n    if (disabled || !input) {\n      return;\n    }\n    setIsDropdownExpanded(!isDropdownExpanded);\n    if (isDropdownExpanded) {\n      input.blur();\n    } else {\n      input.focus();\n    }\n    e.preventDefault();\n  }, [disabled, isDropdownExpanded]);\n  const initialFocusIndex = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => value && (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.findIndex)(options, option => option.value === value) || 0, [options, value]);\n  const onInputFocus = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useCallback)(() => {\n    if (!readonly) {\n      setIsDropdownExpanded(true);\n      onFocus && onFocus();\n    }\n  }, [onFocus, readonly]);\n  const onInputBlur = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useCallback)(() => {\n    if (!readonly) {\n      setIsDropdownExpanded(false);\n      onBlur && onBlur();\n    }\n  }, [onBlur, readonly]);\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment, {\n    children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n      ref: selectRef,\n      class: classnames__WEBPACK_IMPORTED_MODULE_3___default()('fjs-input-group', {\n        disabled,\n        readonly\n      }, {\n        hasErrors: errors.length\n      }),\n      onFocus: onInputFocus,\n      onBlur: onInputBlur,\n      onMouseDown: onMouseDown,\n      children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n        class: classnames__WEBPACK_IMPORTED_MODULE_3___default()('fjs-select-display', {\n          'fjs-select-placeholder': !value\n        }),\n        id: `${domId}-display`,\n        children: valueLabel || 'Select'\n      }), !disabled && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"input\", {\n        ref: inputRef,\n        id: domId,\n        class: \"fjs-select-hidden-input\",\n        value: valueLabel,\n        onFocus: onInputFocus,\n        onBlur: onInputBlur,\n        \"aria-describedby\": props['aria-describedby']\n      }), displayState.displayCross && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"span\", {\n        class: \"fjs-select-cross\",\n        onMouseDown: e => {\n          pickOption(null);\n          e.stopPropagation();\n        },\n        children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(SvgXMark, {})\n      }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"span\", {\n        class: \"fjs-select-arrow\",\n        children: displayState.displayDropdown ? (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(SvgAngelUp, {}) : (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(SvgAngelDown, {})\n      })]\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n      class: \"fjs-select-anchor\",\n      children: displayState.displayDropdown && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(DropdownList, {\n        values: options,\n        getLabel: option => option.label,\n        initialFocusIndex: initialFocusIndex,\n        onValueSelected: option => {\n          pickOption(option);\n          setIsDropdownExpanded(false);\n        },\n        listenerElement: selectRef.current\n      })\n    })]\n  });\n}\n\nconst type$b = 'select';\nfunction Select(props) {\n  const {\n    disabled,\n    errors = [],\n    domId,\n    onBlur,\n    onFocus,\n    field,\n    onChange,\n    readonly,\n    value\n  } = props;\n  const {\n    description,\n    label,\n    searchable = false,\n    validate = {}\n  } = field;\n  const {\n    required\n  } = validate;\n  const descriptionId = `${domId}-description`;\n  const errorMessageId = `${domId}-error-message`;\n  const selectProps = {\n    domId,\n    disabled,\n    errors,\n    onBlur,\n    onFocus,\n    field,\n    value,\n    onChange,\n    readonly,\n    required,\n    'aria-invalid': errors.length > 0,\n    'aria-describedby': [descriptionId, errorMessageId].join(' ')\n  };\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n    class: formFieldClasses(type$b, {\n      errors,\n      disabled,\n      readonly\n    }),\n    onKeyDown: event => {\n      if (event.key === 'Enter') {\n        event.preventDefault();\n        event.stopPropagation();\n      }\n    },\n    children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Label, {\n      htmlFor: domId,\n      label: label,\n      required: required\n    }), searchable ? (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(SearchableSelect, {\n      ...selectProps\n    }) : (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(SimpleSelect, {\n      ...selectProps\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Description, {\n      id: descriptionId,\n      description: description\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Errors, {\n      id: errorMessageId,\n      errors: errors\n    })]\n  });\n}\nSelect.config = {\n  type: type$b,\n  keyed: true,\n  name: 'Select',\n  group: 'selection',\n  emptyValue: null,\n  sanitizeValue: sanitizeSingleSelectValue,\n  create: (options = {}) => ({\n    label: 'Select',\n    ...createEmptyOptions(options)\n  })\n};\n\nconst type$a = 'separator';\nfunction Separator() {\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n    class: formFieldClasses(type$a),\n    children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"hr\", {})\n  });\n}\nSeparator.config = {\n  type: type$a,\n  keyed: false,\n  name: 'Separator',\n  group: 'presentation',\n  create: (options = {}) => ({\n    ...options\n  })\n};\n\nconst type$9 = 'spacer';\nfunction Spacer(props) {\n  const {\n    field\n  } = props;\n  const {\n    height = 60\n  } = field;\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n    class: formFieldClasses(type$9),\n    style: {\n      height: height\n    }\n  });\n}\nSpacer.config = {\n  type: type$9,\n  keyed: false,\n  name: 'Spacer',\n  group: 'presentation',\n  create: (options = {}) => ({\n    height: 60,\n    ...options\n  })\n};\n\nfunction DynamicList(props) {\n  const {\n    field,\n    domId,\n    readonly\n  } = props;\n  const {\n    label,\n    type,\n    showOutline\n  } = field;\n  const {\n    Empty\n  } = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useContext)(FormRenderContext);\n  const fullProps = {\n    ...props,\n    Empty\n  };\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_3___default()(formFieldClasses(type, {\n      readonly\n    }), 'fjs-form-field-grouplike', {\n      'fjs-outlined': showOutline\n    }),\n    role: \"group\",\n    \"aria-labelledby\": domId,\n    children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Label, {\n      id: domId,\n      label: label\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(ChildrenRenderer, {\n      ...fullProps\n    })]\n  });\n}\nDynamicList.config = {\n  type: 'dynamiclist',\n  pathed: true,\n  repeatable: true,\n  name: 'Dynamic list',\n  group: 'container',\n  create: (options = {}) => ({\n    label: 'Dynamic list',\n    components: [],\n    showOutline: true,\n    isRepeating: true,\n    allowAddRemove: true,\n    defaultRepetitions: 1,\n    ...options\n  })\n};\n\nfunction SkipLink(props) {\n  const {\n    className,\n    label,\n    onSkip\n  } = props;\n  const onKeyDown = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useCallback)(event => {\n    if (event.key === 'Enter') {\n      event.preventDefault();\n      event.stopPropagation();\n      onSkip();\n    }\n  }, [onSkip]);\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"a\", {\n    href: \"#\",\n    class: classnames__WEBPACK_IMPORTED_MODULE_3___default()('fjs-skip-link', className),\n    onKeyDown: onKeyDown,\n    children: label\n  });\n}\n\nconst type$8 = 'taglist';\nfunction Taglist(props) {\n  const {\n    disabled,\n    errors = [],\n    onFocus,\n    domId,\n    onBlur,\n    field,\n    readonly,\n    value\n  } = props;\n  const {\n    description,\n    label,\n    validate = {}\n  } = field;\n  const {\n    required\n  } = validate;\n  const [filter, setFilter] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)('');\n  const [isDropdownExpanded, setIsDropdownExpanded] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)(false);\n  const [isEscapeClosed, setIsEscapeClose] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)(false);\n\n  /** @type {import(\"preact\").RefObject<HTMLDivElement>} */\n  const focusScopeRef = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useRef)();\n\n  /** @type {import(\"preact\").RefObject<HTMLInputElement>} */\n  const inputRef = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useRef)();\n  const eventBus = useService('eventBus');\n  const {\n    loadState,\n    options\n  } = useOptionsAsync(field);\n\n  // ensures we render based on array content instead of reference\n  const values = useDeepCompareMemoize(value || []);\n  useCleanupMultiSelectValue({\n    field,\n    loadState,\n    options,\n    values,\n    onChange: props.onChange\n  });\n  const getLabelCorrelation = useGetLabelCorrelation(options);\n  const hasOptionsLeft = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => options.length > values.length, [options.length, values.length]);\n  const filteredOptions = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => {\n    if (loadState !== LOAD_STATES.LOADED) {\n      return [];\n    }\n    const isValidFilteredOption = option => {\n      const filterMatches = option.label.toLowerCase().includes(filter.toLowerCase());\n      return filterMatches && !hasEqualValue(option.value, values);\n    };\n    return options.filter(isValidFilteredOption);\n  }, [filter, options, values, loadState]);\n  const selectValue = value => {\n    setFilter('');\n\n    // Ensure values cannot be double selected due to latency\n    if (values.at(-1) === value) {\n      return;\n    }\n    props.onChange({\n      value: [...values, value]\n    });\n  };\n  const deselectValue = value => {\n    const newValues = values.filter(v => !lodash_isEqual__WEBPACK_IMPORTED_MODULE_7___default()(v, value));\n    props.onChange({\n      value: newValues\n    });\n  };\n  const onInputChange = ({\n    target\n  }) => {\n    setIsEscapeClose(false);\n    setFilter(target.value || '');\n    eventBus.fire('formField.search', {\n      formField: field,\n      value: target.value || ''\n    });\n  };\n  const onInputKeyDown = e => {\n    switch (e.key) {\n      case 'ArrowUp':\n      case 'ArrowDown':\n        // We do not want the cursor to seek in the search field when we press up and down\n        e.preventDefault();\n        break;\n      case 'Backspace':\n        if (!filter && values.length) {\n          deselectValue(values[values.length - 1]);\n        }\n        break;\n      case 'Escape':\n        setIsEscapeClose(true);\n        break;\n      case 'Enter':\n        if (isEscapeClosed) {\n          setIsEscapeClose(false);\n        }\n        break;\n    }\n  };\n  const onElementBlur = e => {\n    if (focusScopeRef.current.contains(e.relatedTarget)) return;\n    onBlur && onBlur();\n  };\n  const onElementFocus = e => {\n    if (focusScopeRef.current.contains(e.relatedTarget)) return;\n    onFocus && onFocus();\n  };\n  const onInputBlur = e => {\n    if (!readonly) {\n      setIsDropdownExpanded(false);\n      setFilter('');\n    }\n    onElementBlur(e);\n  };\n  const onInputFocus = e => {\n    if (!readonly) {\n      setIsDropdownExpanded(true);\n    }\n    onElementFocus(e);\n  };\n  const onTagRemoveClick = (event, value) => {\n    const {\n      target\n    } = event;\n    deselectValue(value);\n\n    // restore focus if there is no next sibling to focus\n    const nextTag = target.closest('.fjs-taglist-tag').nextSibling;\n    if (!nextTag) {\n      inputRef.current.focus();\n    }\n  };\n  const onSkipToSearch = () => {\n    inputRef.current.focus();\n  };\n  const shouldDisplayDropdown = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => !disabled && loadState === LOAD_STATES.LOADED && isDropdownExpanded && !isEscapeClosed, [disabled, isDropdownExpanded, isEscapeClosed, loadState]);\n  const descriptionId = `${domId}-description`;\n  const errorMessageId = `${domId}-error-message`;\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n    ref: focusScopeRef,\n    class: formFieldClasses(type$8, {\n      errors,\n      disabled,\n      readonly\n    }),\n    onKeyDown: event => {\n      if (event.key === 'Enter') {\n        event.stopPropagation();\n        event.preventDefault();\n      }\n    },\n    children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Label, {\n      label: label,\n      required: required,\n      htmlFor: domId\n    }), !disabled && !readonly && !!values.length && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(SkipLink, {\n      className: \"fjs-taglist-skip-link\",\n      label: \"Skip to search\",\n      onSkip: onSkipToSearch\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n      class: classnames__WEBPACK_IMPORTED_MODULE_3___default()('fjs-taglist', {\n        'fjs-disabled': disabled,\n        'fjs-readonly': readonly\n      }),\n      children: [loadState === LOAD_STATES.LOADED && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n        class: \"fjs-taglist-tags\",\n        children: values.map(entry => {\n          return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n            class: classnames__WEBPACK_IMPORTED_MODULE_3___default()('fjs-taglist-tag', {\n              'fjs-disabled': disabled,\n              'fjs-readonly': readonly\n            }),\n            onMouseDown: e => e.preventDefault(),\n            children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"span\", {\n              class: \"fjs-taglist-tag-label\",\n              children: getLabelCorrelation(entry)\n            }), !disabled && !readonly && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"button\", {\n              type: \"button\",\n              title: \"Remove tag\",\n              class: \"fjs-taglist-tag-remove\",\n              onFocus: onElementFocus,\n              onBlur: onElementBlur,\n              onClick: event => onTagRemoveClick(event, entry),\n              children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(SvgXMark, {})\n            })]\n          }, entry);\n        })\n      }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"input\", {\n        disabled: disabled,\n        readOnly: readonly,\n        class: \"fjs-taglist-input\",\n        ref: inputRef,\n        id: domId,\n        onChange: onInputChange,\n        type: \"text\",\n        value: filter,\n        placeholder: disabled || readonly ? undefined : 'Search',\n        autoComplete: \"off\",\n        onKeyDown: onInputKeyDown,\n        onMouseDown: () => setIsEscapeClose(false),\n        onFocus: onInputFocus,\n        onBlur: onInputBlur,\n        \"aria-describedby\": [descriptionId, errorMessageId].join(' '),\n        required: required,\n        \"aria-invalid\": errors.length > 0\n      })]\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n      class: \"fjs-taglist-anchor\",\n      children: shouldDisplayDropdown && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(DropdownList, {\n        values: filteredOptions,\n        getLabel: option => option.label,\n        onValueSelected: option => selectValue(option.value),\n        emptyListMessage: hasOptionsLeft ? 'No results' : 'All values selected',\n        listenerElement: inputRef.current\n      })\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Description, {\n      id: descriptionId,\n      description: description\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Errors, {\n      id: errorMessageId,\n      errors: errors\n    })]\n  });\n}\nTaglist.config = {\n  type: type$8,\n  keyed: true,\n  name: 'Tag list',\n  group: 'selection',\n  emptyValue: [],\n  sanitizeValue: sanitizeMultiSelectValue,\n  create: (options = {}) => ({\n    label: 'Tag list',\n    ...createEmptyOptions(options)\n  })\n};\n\nconst NODE_TYPE_TEXT = 3,\n  NODE_TYPE_ELEMENT = 1;\nconst ALLOWED_NODES = ['h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'span', 'em', 'a', 'p', 'div', 'ul', 'ol', 'li', 'hr', 'blockquote', 'img', 'pre', 'code', 'br', 'strong', 'table', 'thead', 'tbody', 'tr', 'th', 'td'];\nconst ALLOWED_ATTRIBUTES = ['align', 'alt', 'class', 'href', 'id', 'name', 'rel', 'target', 'src'];\nconst ALLOWED_URI_PATTERN = /^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i; // eslint-disable-line no-useless-escape\nconst ATTR_WHITESPACE_PATTERN = /[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g; // eslint-disable-line no-control-regex\n\nconst FORM_ELEMENT = document.createElement('form');\n\n/**\n * Sanitize a HTML string and return the cleaned, safe version.\n *\n * @param {string} html\n * @return {string}\n */\n\n// see https://github.com/developit/snarkdown/issues/70\nfunction sanitizeHTML(html) {\n  const doc = new DOMParser().parseFromString(`<!DOCTYPE html>\\n<html><body><div>${html}`, 'text/html');\n  doc.normalize();\n  const element = doc.body.firstChild;\n  if (element) {\n    sanitizeNode(/** @type Element */element);\n    return /** @type Element */element.innerHTML;\n  } else {\n    // handle the case that document parsing\n    // does not work at all, due to HTML gibberish\n    return '';\n  }\n}\n\n/**\n * Recursively sanitize a HTML node, potentially\n * removing it, its children or attributes.\n *\n * Inspired by https://github.com/developit/snarkdown/issues/70\n * and https://github.com/cure53/DOMPurify. Simplified\n * for our use-case.\n *\n * @param {Element} node\n */\nfunction sanitizeNode(node) {\n  // allow text nodes\n  if (node.nodeType === NODE_TYPE_TEXT) {\n    return;\n  }\n\n  // disallow all other nodes but Element\n  if (node.nodeType !== NODE_TYPE_ELEMENT) {\n    return node.remove();\n  }\n  const lcTag = node.tagName.toLowerCase();\n\n  // disallow non-whitelisted tags\n  if (!ALLOWED_NODES.includes(lcTag)) {\n    return node.remove();\n  }\n  const attributes = node.attributes;\n\n  // clean attributes\n  for (let i = attributes.length; i--;) {\n    const attribute = attributes[i];\n    const name = attribute.name;\n    const lcName = name.toLowerCase();\n\n    // normalize node value\n    const value = attribute.value.trim();\n    node.removeAttribute(name);\n    const valid = isValidAttribute(lcTag, lcName, value);\n    if (valid) {\n      node.setAttribute(name, value);\n    }\n  }\n\n  // force noopener on target=\"_blank\" links\n  if (lcTag === 'a' && node.getAttribute('target') === '_blank' && node.getAttribute('rel') !== 'noopener') {\n    node.setAttribute('rel', 'noopener');\n  }\n  for (let i = node.childNodes.length; i--;) {\n    sanitizeNode(/** @type Element */node.childNodes[i]);\n  }\n}\n\n/**\n * Validates attributes for validity.\n *\n * @param {string} lcTag\n * @param {string} lcName\n * @param {string} value\n * @return {boolean}\n */\nfunction isValidAttribute(lcTag, lcName, value) {\n  // disallow most attributes based on whitelist\n  if (!ALLOWED_ATTRIBUTES.includes(lcName)) {\n    return false;\n  }\n\n  // disallow \"DOM clobbering\" / polution of document and wrapping form elements\n  if ((lcName === 'id' || lcName === 'name') && (value in document || value in FORM_ELEMENT)) {\n    return false;\n  }\n  if (lcName === 'target' && value !== '_blank') {\n    return false;\n  }\n\n  // allow valid url links only\n  if (lcName === 'href' && !ALLOWED_URI_PATTERN.test(value.replace(ATTR_WHITESPACE_PATTERN, ''))) {\n    return false;\n  }\n  return true;\n}\n\nconst type$7 = 'text';\nfunction Text(props) {\n  const form = useService('form');\n  const {\n    textLinkTarget\n  } = form._getState().properties;\n  const {\n    field,\n    disableLinks\n  } = props;\n  const {\n    text = '',\n    strict = false\n  } = field;\n  const markdownRenderer = useService('markdownRenderer');\n\n  // feelers => pure markdown\n  const markdown = useTemplateEvaluation(text, {\n    debug: true,\n    strict\n  });\n\n  // markdown => html\n  const html = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => markdownRenderer.render(markdown), [markdownRenderer, markdown]);\n  const sanitizeAndTransformLinks = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useCallback)(unsafeHtml => {\n    const html = sanitizeHTML(unsafeHtml);\n    const tempDiv = document.createElement('div');\n    tempDiv.innerHTML = html;\n    const links = tempDiv.querySelectorAll('a');\n    links.forEach(link => {\n      if (disableLinks) {\n        link.setAttribute('class', 'fjs-disabled-link');\n        link.setAttribute('tabIndex', '-1');\n      }\n      if (textLinkTarget) {\n        link.setAttribute('target', textLinkTarget);\n      }\n    });\n    return tempDiv.innerHTML;\n  }, [disableLinks, textLinkTarget]);\n  const dangerouslySetInnerHTML = useDangerousHTMLWrapper({\n    html,\n    transform: sanitizeAndTransformLinks,\n    sanitize: false,\n    sanitizeStyleTags: false\n  });\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n    class: formFieldClasses(type$7),\n    dangerouslySetInnerHTML: dangerouslySetInnerHTML\n  });\n}\nText.config = {\n  type: type$7,\n  keyed: false,\n  name: 'Text view',\n  group: 'presentation',\n  create: (options = {}) => ({\n    text: TEXT_VIEW_DEFAULT_TEXT,\n    ...options\n  }),\n  getSubheading: field => {\n    textToLabel(field.text);\n  }\n};\n\nconst type$6 = 'html';\nfunction Html(props) {\n  const form = useService('form');\n  const {\n    textLinkTarget\n  } = form._getState().properties;\n  const {\n    field,\n    disableLinks,\n    domId\n  } = props;\n  const {\n    content = '',\n    strict = false\n  } = field;\n  const styleScope = `${domId}-style-scope`;\n\n  // we escape HTML within the template evaluation to prevent clickjacking attacks\n  const html = useTemplateEvaluation(content, {\n    debug: true,\n    strict,\n    sanitizer: escapeHTML\n  });\n  const transform = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useCallback)(html => {\n    const tempDiv = document.createElement('div');\n    tempDiv.innerHTML = html;\n\n    // (1) apply modifications to links\n\n    const links = tempDiv.querySelectorAll('a');\n    links.forEach(link => {\n      if (disableLinks) {\n        link.setAttribute('class', 'fjs-disabled-link');\n        link.setAttribute('tabIndex', '-1');\n      }\n      if (textLinkTarget) {\n        link.setAttribute('target', textLinkTarget);\n      }\n    });\n\n    // (2) scope styles to the root div\n    wrapCSSStyles(tempDiv, `.${styleScope}`);\n    return tempDiv.innerHTML;\n  }, [disableLinks, styleScope, textLinkTarget]);\n  const dangerouslySetInnerHTML = useDangerousHTMLWrapper({\n    html,\n    transform,\n    sanitize: true,\n    sanitizeStyleTags: false\n  });\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n    class: classnames__WEBPACK_IMPORTED_MODULE_3___default()(formFieldClasses(type$6), styleScope),\n    dangerouslySetInnerHTML: dangerouslySetInnerHTML\n  });\n}\nHtml.config = {\n  type: type$6,\n  keyed: false,\n  name: 'HTML view',\n  group: 'presentation',\n  create: (options = {}) => ({\n    content: '',\n    ...options\n  })\n};\n\nconst type$5 = 'expression';\nfunction ExpressionField(props) {\n  const {\n    field,\n    onChange,\n    value\n  } = props;\n  const {\n    computeOn,\n    expression\n  } = field;\n  const evaluation = useExpressionEvaluation(expression);\n  const evaluationMemo = useDeepCompareMemoize(evaluation);\n  const eventBus = useService('eventBus');\n  const expressionLoopPreventer = useService('expressionLoopPreventer');\n  const sendValue = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useCallback)(() => {\n    onChange && onChange({\n      field,\n      value: evaluationMemo,\n      shouldNotRecompute: true\n    });\n  }, [field, evaluationMemo, onChange]);\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    if (computeOn !== 'change' || lodash_isEqual__WEBPACK_IMPORTED_MODULE_7___default()(evaluationMemo, value) || !expressionLoopPreventer.registerExpressionExecution(this)) {\n      return;\n    }\n    sendValue();\n  });\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    if (computeOn === 'presubmit') {\n      eventBus.on('presubmit', sendValue);\n      return () => eventBus.off('presubmit', sendValue);\n    }\n  }, [computeOn, sendValue, eventBus]);\n  return null;\n}\nExpressionField.config = {\n  type: type$5,\n  name: 'Expression',\n  group: 'basic-input',\n  keyed: true,\n  emptyValue: null,\n  escapeGridRender: true,\n  create: (options = {}) => ({\n    computeOn: 'change',\n    ...options\n  })\n};\n\nconst type$4 = 'textfield';\nfunction Textfield(props) {\n  const {\n    disabled,\n    errors = [],\n    domId,\n    onBlur,\n    onFocus,\n    field,\n    readonly,\n    value = ''\n  } = props;\n  const {\n    description,\n    label,\n    appearance = {},\n    validate = {}\n  } = field;\n  const {\n    prefixAdorner,\n    suffixAdorner\n  } = appearance;\n  const {\n    required\n  } = validate;\n  const [onChange, flushOnChange] = useFlushDebounce(({\n    target\n  }) => {\n    props.onChange({\n      value: target.value\n    });\n  });\n\n  /**\n   * @param {import('preact').JSX.TargetedEvent<HTMLInputElement, Event>} event\n   */\n  const onInputChange = event => {\n    onChange({\n      target: event.target\n    });\n  };\n  const onInputBlur = () => {\n    flushOnChange && flushOnChange();\n    onBlur && onBlur();\n  };\n  const onInputFocus = () => {\n    onFocus && onFocus();\n  };\n  const onKeyDown = e => {\n    if (e.code === 'Enter') {\n      flushOnChange && flushOnChange();\n    }\n  };\n  const descriptionId = `${domId}-description`;\n  const errorMessageId = `${domId}-error-message`;\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n    class: formFieldClasses(type$4, {\n      errors,\n      disabled,\n      readonly\n    }),\n    children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Label, {\n      htmlFor: domId,\n      label: label,\n      required: required\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(TemplatedInputAdorner, {\n      disabled: disabled,\n      readonly: readonly,\n      pre: prefixAdorner,\n      post: suffixAdorner,\n      children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"input\", {\n        class: \"fjs-input\",\n        disabled: disabled,\n        readOnly: readonly,\n        id: domId,\n        onInput: onInputChange,\n        onBlur: onInputBlur,\n        onFocus: onInputFocus,\n        onKeyDown: onKeyDown,\n        type: \"text\",\n        value: value,\n        \"aria-describedby\": [descriptionId, errorMessageId].join(' '),\n        required: required,\n        \"aria-invalid\": errors.length > 0\n      })\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Description, {\n      id: descriptionId,\n      description: description\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Errors, {\n      id: errorMessageId,\n      errors: errors\n    })]\n  });\n}\nTextfield.config = {\n  type: type$4,\n  keyed: true,\n  name: 'Text field',\n  group: 'basic-input',\n  emptyValue: '',\n  sanitizeValue: ({\n    value\n  }) => {\n    if ((0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isArray)(value) || (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isObject)(value) || (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isNil)(value)) {\n      return '';\n    }\n\n    // sanitize newlines to spaces\n    if (typeof value === 'string') {\n      return value.replace(/[\\r\\n\\t]/g, ' ');\n    }\n    return String(value);\n  },\n  create: (options = {}) => ({\n    label: 'Text field',\n    ...options\n  })\n};\n\nconst type$3 = 'textarea';\nfunction Textarea(props) {\n  const {\n    disabled,\n    errors = [],\n    domId,\n    onBlur,\n    onFocus,\n    field,\n    readonly,\n    value = ''\n  } = props;\n  const {\n    description,\n    label,\n    validate = {}\n  } = field;\n  const {\n    required\n  } = validate;\n  const textareaRef = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useRef)();\n  const [onChange, flushOnChange] = useFlushDebounce(({\n    target\n  }) => {\n    props.onChange({\n      value: target.value\n    });\n  });\n  const onInputBlur = () => {\n    flushOnChange && flushOnChange();\n    onBlur && onBlur();\n  };\n  const onInputFocus = () => {\n    onFocus && onFocus();\n  };\n  const onInputChange = event => {\n    onChange({\n      target: event.target\n    });\n    autoSizeTextarea(textareaRef.current);\n  };\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useLayoutEffect)(() => {\n    autoSizeTextarea(textareaRef.current);\n  }, [value]);\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    autoSizeTextarea(textareaRef.current);\n  }, []);\n  const descriptionId = `${domId}-description`;\n  const errorMessageId = `${domId}-error-message`;\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n    class: formFieldClasses(type$3, {\n      errors,\n      disabled,\n      readonly\n    }),\n    children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Label, {\n      htmlFor: domId,\n      label: label,\n      required: required\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"textarea\", {\n      class: \"fjs-textarea\",\n      disabled: disabled,\n      readOnly: readonly,\n      id: domId,\n      onInput: onInputChange,\n      onBlur: onInputBlur,\n      onFocus: onInputFocus,\n      value: value,\n      ref: textareaRef,\n      \"aria-describedby\": [descriptionId, errorMessageId].join(' '),\n      required: required,\n      \"aria-invalid\": errors.length > 0\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Description, {\n      id: descriptionId,\n      description: description\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Errors, {\n      id: errorMessageId,\n      errors: errors\n    })]\n  });\n}\nTextarea.config = {\n  type: type$3,\n  keyed: true,\n  name: 'Text area',\n  group: 'basic-input',\n  emptyValue: '',\n  sanitizeValue: ({\n    value\n  }) => (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isArray)(value) || (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isObject)(value) || (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isNil)(value) ? '' : String(value),\n  create: (options = {}) => ({\n    label: 'Text area',\n    ...options\n  })\n};\nconst autoSizeTextarea = textarea => {\n  // Ensures the textarea shrinks back, and improves resizing behavior consistency\n  textarea.style.height = '0px';\n  const computed = window.getComputedStyle(textarea);\n  const heightFromLines = () => {\n    const lineHeight = parseInt(computed.getPropertyValue('line-height').replace('px', '')) || 0;\n    const lines = textarea.value ? textarea.value.toString().split('\\n').length : 0;\n    return lines * lineHeight;\n  };\n  const calculatedHeight = parseInt(computed.getPropertyValue('border-top-width')) + parseInt(computed.getPropertyValue('padding-top')) + (textarea.scrollHeight || heightFromLines()) + parseInt(computed.getPropertyValue('padding-bottom')) + parseInt(computed.getPropertyValue('border-bottom-width'));\n  const minHeight = 75;\n  const maxHeight = 350;\n  const displayHeight = Math.max(Math.min(calculatedHeight || 0, maxHeight), minHeight);\n  textarea.style.height = `${displayHeight}px`;\n\n  // Overflow is hidden by default to hide scrollbar flickering\n  textarea.style.overflow = calculatedHeight > maxHeight ? 'visible' : 'hidden';\n};\n\nvar _path$8;\nfunction _extends$8() { return _extends$8 = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$8.apply(null, arguments); }\nvar SvgArrowDown = function SvgArrowDown(props) {\n  return /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"svg\", _extends$8({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 32 32\"\n  }, props), _path$8 || (_path$8 = /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"path\", {\n    fill: \"currentcolor\",\n    d: \"M24.59 16.59 17 24.17V4h-2v20.17l-7.59-7.58L6 18l10 10 10-10z\"\n  })));\n};\n\nvar _path$7;\nfunction _extends$7() { return _extends$7 = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$7.apply(null, arguments); }\nvar SvgArrowUp = function SvgArrowUp(props) {\n  return /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"svg\", _extends$7({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 32 32\"\n  }, props), _path$7 || (_path$7 = /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"path\", {\n    fill: \"currentcolor\",\n    d: \"M16 4 6 14l1.41 1.41L15 7.83V28h2V7.83l7.59 7.58L26 14z\"\n  })));\n};\n\nvar _path$6;\nfunction _extends$6() { return _extends$6 = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$6.apply(null, arguments); }\nvar SvgCaretLeft = function SvgCaretLeft(props) {\n  return /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"svg\", _extends$6({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlSpace: \"preserve\",\n    viewBox: \"0 0 32 32\"\n  }, props), _path$6 || (_path$6 = /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"path\", {\n    fill: \"currentcolor\",\n    d: \"m20 24-10-8 10-8z\"\n  })));\n};\n\nvar _path$5;\nfunction _extends$5() { return _extends$5 = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$5.apply(null, arguments); }\nvar SvgCaretRight = function SvgCaretRight(props) {\n  return /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"svg\", _extends$5({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlSpace: \"preserve\",\n    viewBox: \"0 0 32 32\"\n  }, props), _path$5 || (_path$5 = /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"path\", {\n    fill: \"currentcolor\",\n    d: \"m12 8 10 8-10 8z\"\n  })));\n};\n\nconst type$2 = 'table';\n\n/**\n * @typedef {('asc'|'desc')} Direction\n *\n * @typedef Sorting\n * @property {string} key\n * @property {Direction} direction\n *\n * @typedef Column\n * @property {string} label\n * @property {string} key\n *\n * @typedef Field\n * @property {string} id\n * @property {Array<Column>} [columns]\n * @property {string} [columnsExpression]\n * @property {string} [label]\n * @property {number} [rowCount]\n * @property {string} [dataSource]\n *\n * @typedef Props\n * @property {Field} field\n *\n * @param {Props} props\n * @returns {import(\"preact\").JSX.Element}\n */\nfunction Table(props) {\n  const {\n    field\n  } = props;\n  const {\n    columns = [],\n    columnsExpression,\n    dataSource = '',\n    rowCount,\n    id,\n    label\n  } = field;\n  const [sortBy, setSortBy] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)(/** @type {Sorting | null} */null);\n  const evaluatedColumns = useEvaluatedColumns(columnsExpression || '', columns);\n  const columnKeys = evaluatedColumns.map(({\n    key\n  }) => key);\n  const evaluatedDataSource = useExpressionEvaluation(dataSource);\n  const data = Array.isArray(evaluatedDataSource) ? evaluatedDataSource.filter(entry => !(0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isNil)(entry) || typeof entry !== 'object') : [];\n  const sortedData = sortBy === null ? data : sortByColumn(data, sortBy.key, sortBy.direction);\n\n  /** @type {unknown[][]} */\n  const chunkedData = (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isNumber)(rowCount) ? chunk(sortedData, rowCount) : [sortedData];\n  const [currentPage, setCurrentPage] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)(0);\n  const currentChunk = chunkedData[currentPage] || [];\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    setCurrentPage(0);\n  }, [rowCount, sortBy]);\n\n  /** @param {string} key */\n  function toggleSortBy(key) {\n    setSortBy(current => {\n      if (current === null || current.key !== key) {\n        return {\n          key,\n          direction: 'asc'\n        };\n      }\n      if (current.direction === 'desc') {\n        return null;\n      }\n      return {\n        key,\n        direction: 'desc'\n      };\n    });\n  }\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n    class: formFieldClasses(type$2),\n    children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Label, {\n      htmlFor: prefixId(id),\n      label: label\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n      class: classnames__WEBPACK_IMPORTED_MODULE_3___default()('fjs-table-middle-container', {\n        'fjs-table-empty': evaluatedColumns.length === 0\n      }),\n      children: [evaluatedColumns.length === 0 ? 'Nothing to show.' : (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n        class: \"fjs-table-inner-container\",\n        children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"table\", {\n          class: \"fjs-table\",\n          id: prefixId(id),\n          children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"thead\", {\n            class: \"fjs-table-head\",\n            children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"tr\", {\n              class: \"fjs-table-tr\",\n              children: evaluatedColumns.map(({\n                key,\n                label\n              }) => {\n                const displayLabel = label || key;\n                return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"th\", {\n                  tabIndex: 0,\n                  class: \"fjs-table-th\",\n                  onClick: () => {\n                    toggleSortBy(key);\n                  },\n                  onKeyDown: event => {\n                    if (['Enter', 'Space'].includes(event.code)) {\n                      toggleSortBy(key);\n                    }\n                  },\n                  \"aria-label\": getHeaderAriaLabel(sortBy, key, displayLabel),\n                  children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"span\", {\n                    class: \"fjs-table-th-label\",\n                    children: [displayLabel, sortBy !== null && sortBy.key === key ? (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment, {\n                      children: sortBy.direction === 'asc' ? (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(SvgArrowUp, {\n                        class: \"fjs-table-sort-icon-asc\"\n                      }) : (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(SvgArrowDown, {\n                        class: \"fjs-table-sort-icon-desc\"\n                      })\n                    }) : null]\n                  })\n                }, key);\n              })\n            })\n          }), currentChunk.length === 0 ? (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"tbody\", {\n            class: \"fjs-table-body\",\n            children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"tr\", {\n              class: \"fjs-table-tr\",\n              children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"td\", {\n                class: \"fjs-table-td\",\n                colSpan: evaluatedColumns.length,\n                children: \"Nothing to show.\"\n              })\n            })\n          }) : (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"tbody\", {\n            class: \"fjs-table-body\",\n            children: currentChunk.map((row, index) => (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"tr\", {\n              class: \"fjs-table-tr\",\n              children: columnKeys.map(key => (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"td\", {\n                class: \"fjs-table-td\",\n                children: serializeCellData(row[key])\n              }, key))\n            }, index))\n          })]\n        })\n      }), (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isNumber)(rowCount) && chunkedData.length > 1 && evaluatedColumns.length > 0 ? (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"nav\", {\n        class: \"fjs-table-nav\",\n        children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"span\", {\n          class: \"fjs-table-nav-label\",\n          children: [currentPage + 1, \" of \", chunkedData.length]\n        }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"button\", {\n          type: \"button\",\n          class: \"fjs-table-nav-button\",\n          onClick: () => {\n            setCurrentPage(page => Math.max(page - 1, 0));\n          },\n          disabled: currentPage === 0,\n          \"aria-label\": \"Previous page\",\n          children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(SvgCaretLeft, {})\n        }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"button\", {\n          type: \"button\",\n          class: \"fjs-table-nav-button\",\n          onClick: () => {\n            setCurrentPage(page => Math.min(page + 1, chunkedData.length - 1));\n          },\n          disabled: currentPage >= chunkedData.length - 1,\n          \"aria-label\": \"Next page\",\n          children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(SvgCaretRight, {})\n        })]\n      }) : null]\n    })]\n  });\n}\nTable.config = {\n  type: type$2,\n  keyed: false,\n  name: 'Table',\n  group: 'presentation',\n  create: (options = {}) => {\n    const {\n      id,\n      columnsExpression,\n      columns,\n      rowCount,\n      ...remainingOptions\n    } = options;\n    if ((0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isDefined)(id) && (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isNumber)(rowCount)) {\n      remainingOptions['rowCount'] = rowCount;\n    }\n    if ((0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isString)(columnsExpression)) {\n      return {\n        ...remainingOptions,\n        id,\n        columnsExpression\n      };\n    }\n    if (Array.isArray(columns) && columns.every(isColumn)) {\n      return {\n        ...remainingOptions,\n        id,\n        columns\n      };\n    }\n    return {\n      ...remainingOptions,\n      label: 'Table',\n      rowCount: 10,\n      columns: [{\n        label: 'ID',\n        key: 'id'\n      }, {\n        label: 'Name',\n        key: 'name'\n      }, {\n        label: 'Date',\n        key: 'date'\n      }]\n    };\n  },\n  /**\n   * @experimental\n   *\n   * A function that generates demo data for a new field on the form playground.\n   * @param {Field} field\n   */\n  generateInitialDemoData: field => {\n    const demoData = [{\n      id: 1,\n      name: 'John Doe',\n      date: '31.01.2023'\n    }, {\n      id: 2,\n      name: 'Erika Muller',\n      date: '20.02.2023'\n    }, {\n      id: 3,\n      name: 'Dominic Leaf',\n      date: '11.03.2023'\n    }];\n    const demoDataKeys = Object.keys(demoData[0]);\n    const {\n      columns,\n      id,\n      dataSource\n    } = field;\n    if (!Array.isArray(columns) || columns.length === 0 || dataSource !== `=${id}`) {\n      return;\n    }\n    if (!columns.map(({\n      key\n    }) => key).every(key => demoDataKeys.includes(key))) {\n      return;\n    }\n    return demoData;\n  }\n};\n\n// helpers /////////////////////////////\n\n/**\n * @param {string|void} columnsExpression\n * @param {Column[]} fallbackColumns\n * @returns {Column[]}\n */\nfunction useEvaluatedColumns(columnsExpression, fallbackColumns) {\n  /** @type {Column[]|null} */\n  const evaluation = useExpressionEvaluation(columnsExpression || '');\n  return Array.isArray(evaluation) && evaluation.every(isColumn) ? evaluation : fallbackColumns;\n}\n\n/**\n * @param {any} column\n * @returns {column is Column}\n */\nfunction isColumn(column) {\n  return (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isObject)(column) && (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isString)(column['label']) && (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isString)(column['key']);\n}\n\n/**\n * @param {Array} array\n * @param {number} size\n * @returns {Array}\n */\nfunction chunk(array, size) {\n  return array.reduce((chunks, item, index) => {\n    if (index % size === 0) {\n      chunks.push([item]);\n    } else {\n      chunks[chunks.length - 1].push(item);\n    }\n    return chunks;\n  }, []);\n}\n\n/**\n * @param {unknown[]} array\n * @param {string} key\n * @param {Direction} direction\n * @returns {unknown[]}\n */\nfunction sortByColumn(array, key, direction) {\n  return [...array].sort((a, b) => {\n    if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isObject)(a) || !(0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isObject)(b)) {\n      return 0;\n    }\n    if (direction === 'asc') {\n      return a[key] > b[key] ? 1 : -1;\n    }\n    return a[key] < b[key] ? 1 : -1;\n  });\n}\n\n/**\n * @param {null|Sorting} sortBy\n * @param {string} key\n * @param {string} label\n */\nfunction getHeaderAriaLabel(sortBy, key, label) {\n  if (sortBy === null || sortBy.key !== key) {\n    return `Click to sort by ${label} descending`;\n  }\n  if (sortBy.direction === 'asc') {\n    return 'Click to remove sorting';\n  }\n  return `Click to sort by ${label} ascending`;\n}\n\n/**\n * @param {unknown} cellData\n * @returns string\n */\nfunction serializeCellData(cellData) {\n  if (cellData !== null && typeof cellData === 'object') {\n    return JSON.stringify(cellData);\n  }\n  if (cellData === null || cellData === undefined) {\n    return '';\n  }\n  return `${cellData}`;\n}\n\nconst FILE_PICKER_FILE_KEY_PREFIX = 'files::';\n\nconst type$1 = 'filepicker';\nconst ids$1 = new ids__WEBPACK_IMPORTED_MODULE_0__.Ids();\nconst EMPTY_ARRAY$1 = [];\n\n/**\n * @typedef Props\n * @property {(props: { value: string }) => void} onChange\n * @property {string} domId\n * @property {string[]} errors\n * @property {boolean} disabled\n * @property {boolean} readonly\n * @property {boolean} required\n * @property {Object} field\n * @property {string} field.id\n * @property {string} [field.label]\n * @property {string} [field.accept]\n * @property {string|boolean} [field.multiple]\n * @property {Object} [field.validate]\n * @property {boolean} [field.validate.required]\n * @property {string} [value]\n *\n * @param {Props} props\n * @returns {import(\"preact\").JSX.Element}\n */\nfunction FilePicker(props) {\n  /** @type {import(\"preact/hooks\").Ref<HTMLInputElement>} */\n  const fileInputRef = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useRef)(null);\n  /** @type {import('../../FileRegistry').FileRegistry} */\n  const fileRegistry = useService('fileRegistry', false);\n  const {\n    field,\n    onChange,\n    domId,\n    errors = [],\n    disabled,\n    readonly,\n    value: filesKey = ''\n  } = props;\n  const {\n    label,\n    multiple = false,\n    accept = '',\n    validate = {}\n  } = field;\n  /** @type {string} */\n  const evaluatedAccept = useSingleLineTemplateEvaluation(accept, {\n    debug: true\n  });\n  const evaluatedMultiple = useBooleanExpressionEvaluation(multiple);\n  const errorMessageId = `${domId}-error-message`;\n  /** @type {File[]} */\n  const selectedFiles = fileRegistry === null ? EMPTY_ARRAY$1 : fileRegistry.getFiles(filesKey);\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    if (filesKey && fileRegistry !== null && !fileRegistry.hasKey(filesKey)) {\n      onChange({\n        value: null\n      });\n    }\n  }, [fileRegistry, filesKey, onChange, selectedFiles.length]);\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    const data = new DataTransfer();\n    selectedFiles.forEach(file => data.items.add(file));\n    fileInputRef.current.files = data.files;\n  }, [selectedFiles]);\n\n  /**\n   * @type import(\"preact\").JSX.GenericEventHandler<HTMLInputElement>\n   */\n  const onFileChange = event => {\n    const input = /** @type {HTMLInputElement} */event.target;\n\n    // if we have an associated file key but no files are selected, clear the file key and associated files\n    if ((input.files === null || input.files.length === 0) && filesKey !== '') {\n      fileRegistry.deleteFiles(filesKey);\n      onChange({\n        value: null\n      });\n      return;\n    }\n    const files = Array.from(input.files);\n\n    // ensure fileKey exists\n    const updatedFilesKey = filesKey || ids$1.nextPrefixed(FILE_PICKER_FILE_KEY_PREFIX);\n    fileRegistry.setFiles(updatedFilesKey, files);\n    onChange({\n      value: updatedFilesKey\n    });\n  };\n  const isInputDisabled = disabled || readonly || fileRegistry === null;\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n    className: formFieldClasses(type$1, {\n      errors,\n      disabled,\n      readonly\n    }),\n    children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Label, {\n      htmlFor: domId,\n      label: label,\n      required: validate.required\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"input\", {\n      type: \"file\",\n      className: \"fjs-hidden\",\n      ref: fileInputRef,\n      id: domId,\n      name: domId,\n      disabled: isInputDisabled,\n      multiple: evaluatedMultiple || undefined,\n      accept: evaluatedAccept || undefined,\n      onChange: onFileChange,\n      required: validate.required\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n      className: \"fjs-filepicker-container\",\n      children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"button\", {\n        type: \"button\",\n        disabled: isInputDisabled,\n        readOnly: readonly,\n        className: \"fjs-button fjs-filepicker-button\",\n        onClick: () => {\n          fileInputRef.current.click();\n        },\n        children: \"Browse\"\n      }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"span\", {\n        className: \"fjs-form-field-label\",\n        children: getSelectedFilesLabel(selectedFiles)\n      })]\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Errors, {\n      id: errorMessageId,\n      errors: errors\n    })]\n  });\n}\nFilePicker.config = {\n  type: 'filepicker',\n  keyed: true,\n  label: 'File picker',\n  group: 'basic-input',\n  emptyValue: null,\n  create: (options = {}) => ({\n    ...options\n  })\n};\n\n// helper //////////\n\n/**\n * @param {File[]} files\n * @returns {string}\n */\nfunction getSelectedFilesLabel(files) {\n  if (files.length === 0) {\n    return 'No files selected';\n  }\n  if (files.length === 1) {\n    return files[0].name;\n  }\n  return `${files.length} files selected`;\n}\n\nvar _path$4;\nfunction _extends$4() { return _extends$4 = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$4.apply(null, arguments); }\nvar SvgDownload = function SvgDownload(props) {\n  return /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"svg\", _extends$4({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 16,\n    height: 16\n  }, props), _path$4 || (_path$4 = /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M13 12v2H3v-2H2v2a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1v-2zm0-5-.705-.705-3.795 3.79V1h-1v9.085l-3.795-3.79L3 7l5 5z\"\n  })), /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"path\", {\n    d: \"M0 0h16v16H0z\",\n    style: {\n      fill: \"none\"\n    }\n  }));\n};\n\nconst type = 'documentPreview';\n\n/**\n * @typedef DocumentEndpointBuilder\n * @property {(document: DocumentMetadata) => string} buildUrl\n */\n\n/**\n * @typedef DocumentMetadata\n * @property {string} documentId\n * @property {string} endpoint\n * @property {Object} metadata\n * @property {string|undefined} [metadata.contentType]\n * @property {string} metadata.fileName\n *\n * @typedef Field\n * @property {string} id\n * @property {string} [title]\n * @property {string} [dataSource]\n * @property {number} [maxHeight]\n * @property {string} [label]\n *\n * @typedef Props\n * @property {Field} field\n * @property {string} domId\n *\n * @param {Props} props\n * @returns {import(\"preact\").JSX.Element}\n */\nfunction DocumentPreview(props) {\n  /** @type {DocumentEndpointBuilder | null} */\n  const documentEndpointBuilder = useService('documentEndpointBuilder', false);\n  const {\n    field,\n    domId\n  } = props;\n  const {\n    dataSource,\n    maxHeight,\n    label\n  } = field;\n  const errorMessageId = `${domId}-error-message`;\n  const data = useValidDocumentData(dataSource || '');\n  const evaluatedLabel = useSingleLineTemplateEvaluation(label, {\n    debug: true\n  });\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n    class: formFieldClasses(type),\n    children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Label, {\n      htmlFor: domId,\n      label: evaluatedLabel\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n      class: `fjs-${type}-document-container`,\n      id: domId,\n      children: data.map((document, index) => {\n        const finalEndpoint = tryCatch(() => documentEndpointBuilder?.buildUrl(document)) ?? document.endpoint;\n        return isValidDocumentEndpoint(finalEndpoint) ? (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(DocumentRenderer, {\n          documentMetadata: document,\n          endpoint: finalEndpoint,\n          maxHeight: maxHeight,\n          domId: `${domId}-${index}`\n        }, document.documentId) : null;\n      })\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Errors, {\n      id: errorMessageId,\n      errors: getErrors({\n        dataSource\n      })\n    })]\n  });\n}\nDocumentPreview.config = {\n  type,\n  keyed: false,\n  group: 'presentation',\n  name: 'Document preview',\n  create: (options = {}) => ({\n    label: 'Document preview',\n    ...options\n  })\n};\n\n// helpers /////////////////////////////\n\n/**\n * @typedef GetErrorOptions\n * @property {string|undefined} dataSource\n *\n * @param {GetErrorOptions} options\n * @returns {string[]}\n */\nfunction getErrors(options) {\n  const {\n    dataSource\n  } = options;\n  let errors = [];\n  if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isString)(dataSource) || dataSource.length < 1) {\n    errors.push('Document reference is not defined.');\n  }\n  return errors;\n}\n\n/**\n *\n * @param {unknown} endpoint\n * @returns boolean\n */\nfunction isValidDocumentEndpoint(endpoint) {\n  return typeof endpoint === 'string' && URL.canParse(endpoint);\n}\n\n/**\n * @param {unknown} document\n * @returns {metadata is DocumentMetadata}\n */\nfunction isValidDocument(document) {\n  return typeof document === 'object' && document !== null && 'documentId' in document && 'metadata' in document && typeof document.metadata === 'object' && 'fileName' in document.metadata;\n}\n\n/**\n * @param {string} dataSource\n * @returns {DocumentMetadata[]}\n */\nfunction useValidDocumentData(dataSource) {\n  const data = useExpressionEvaluation(dataSource);\n  if (!Array.isArray(data)) {\n    return [];\n  }\n  return data.filter(isValidDocument);\n}\n\n/**\n * @param {Object} props\n * @param {string} props.url\n * @param {string} props.fileName\n * @param {Function} props.onError\n * @param {string} props.errorMessageId\n * @returns {import(\"preact\").JSX.Element}\n */\nfunction PdfRenderer(props) {\n  const {\n    url,\n    onError,\n    errorMessageId\n  } = props;\n  /** @type {ReturnType<typeof import(\"preact/hooks\").useState<null | string>>} */\n  const [pdfObjectUrl, setPdfObjectUrl] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)(null);\n  const [hasError, setHasError] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)(false);\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    /** @type {null | string} */\n    let objectUrl = null;\n    const fetchPdf = async () => {\n      try {\n        const response = await fetch(url);\n        if (!response.ok) {\n          setHasError(true);\n          onError();\n          return;\n        }\n        const blob = await response.blob();\n        objectUrl = URL.createObjectURL(blob);\n        setPdfObjectUrl(objectUrl);\n      } catch {\n        setHasError(true);\n        onError();\n      }\n    };\n    fetchPdf();\n    return () => {\n      if (objectUrl) {\n        URL.revokeObjectURL(objectUrl);\n      }\n    };\n  }, [url, onError]);\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment, {\n    children: [pdfObjectUrl !== null ? (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"embed\", {\n      src: pdfObjectUrl,\n      type: \"application/pdf\",\n      class: `fjs-${type}-pdf-viewer`\n    }) : null, hasError ? (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Errors, {\n      id: errorMessageId,\n      errors: ['Unable to download document']\n    }) : null]\n  });\n}\n\n/**\n *\n * @param {Object} props\n * @param {DocumentMetadata} props.documentMetadata\n * @param {string} props.endpoint\n * @param {string} props.domId\n * @param {number|undefined} props.maxHeight\n *\n * @returns {import(\"preact\").JSX.Element}\n */\nfunction DocumentRenderer(props) {\n  const {\n    documentMetadata,\n    endpoint,\n    maxHeight,\n    domId\n  } = props;\n  const {\n    metadata\n  } = documentMetadata;\n  const [hasError, setHasError] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)(false);\n  const ref = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useRef)(null);\n  const isInViewport = useInViewport(ref);\n  const singleDocumentContainerClassName = `fjs-${type}-single-document-container`;\n  const errorMessageId = `${domId}-error-message`;\n  const errorMessage = 'Unable to download document';\n  const isContentTypePresent = typeof metadata.contentType === 'string';\n  if (isContentTypePresent && metadata.contentType.toLowerCase().startsWith('image/') && isInViewport) {\n    return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n      class: singleDocumentContainerClassName,\n      style: {\n        maxHeight\n      },\n      \"aria-describedby\": hasError ? errorMessageId : undefined,\n      children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"img\", {\n        src: endpoint,\n        alt: metadata.fileName,\n        class: `fjs-${type}-image`\n      }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(DownloadButton, {\n        endpoint: endpoint,\n        fileName: metadata.fileName,\n        onDownloadError: () => {\n          setHasError(true);\n        }\n      }), hasError ? (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Errors, {\n        id: errorMessageId,\n        errors: [errorMessage]\n      }) : null]\n    });\n  }\n  if (isContentTypePresent && metadata.contentType.toLowerCase() === 'application/pdf' && isInViewport) {\n    return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n      class: singleDocumentContainerClassName,\n      style: {\n        maxHeight\n      },\n      \"aria-describedby\": hasError ? errorMessageId : undefined,\n      children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(PdfRenderer, {\n        url: endpoint,\n        fileName: metadata.fileName,\n        onError: () => setHasError(true),\n        errorMessageId: errorMessageId\n      })\n    });\n  }\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n    class: classnames__WEBPACK_IMPORTED_MODULE_3___default()(`fjs-${type}-non-preview-item`, `fjs-${type}-single-document-container`),\n    ref: ref,\n    \"aria-describedby\": hasError ? errorMessageId : undefined,\n    children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n      children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n        class: \"fjs-document-preview-title\",\n        children: metadata.fileName\n      }), hasError ? (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Errors, {\n        id: errorMessageId,\n        errors: [errorMessage]\n      }) : null]\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(DownloadButton, {\n      endpoint: endpoint,\n      fileName: metadata.fileName,\n      onDownloadError: () => {\n        setHasError(true);\n      }\n    })]\n  });\n}\n\n/**\n * @param {Object} props\n * @param {string} props.endpoint\n * @param {string} props.fileName\n * @param {Function} props.onDownloadError\n *\n * @returns {import(\"preact\").JSX.Element}\n */\nfunction DownloadButton(props) {\n  const {\n    endpoint,\n    fileName,\n    onDownloadError\n  } = props;\n  const handleDownload = async () => {\n    try {\n      const response = await fetch(endpoint);\n      if (!response.ok) {\n        onDownloadError();\n        return;\n      }\n      const blob = await response.blob();\n      const url = window.URL.createObjectURL(blob);\n      const link = document.createElement('a');\n      link.href = url;\n      link.download = fileName;\n      link.click();\n      window.URL.revokeObjectURL(url);\n    } catch {\n      onDownloadError();\n    }\n  };\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"button\", {\n    type: \"button\",\n    onClick: handleDownload,\n    class: classnames__WEBPACK_IMPORTED_MODULE_3___default()(`fjs-${type}-download-button`),\n    \"aria-label\": `Download ${fileName}`,\n    children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(SvgDownload, {})\n  });\n}\n\n/**\n *\n * @param {import(\"preact\").RefObject<HTMLElement|null>} ref\n * @returns boolean\n */\nfunction useInViewport(ref) {\n  const [isInViewport, setIsInViewport] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)(false);\n  (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useEffect)(() => {\n    const container = ref.current;\n    if (!container) {\n      return;\n    }\n    const observer = new IntersectionObserver(([entry]) => {\n      if (entry.isIntersecting) {\n        setIsInViewport(true);\n      }\n    }, {\n      threshold: 0\n    });\n    observer.observe(container);\n    return () => {\n      if (container) {\n        observer.unobserve(container);\n      }\n    };\n  }, [ref]);\n  return isInViewport;\n}\n\n/**\n * @template T\n * @param {() => T} fn - Function to execute\n * @returns {T | null}\n */\nconst tryCatch = fn => {\n  try {\n    return fn();\n  } catch (error) {\n    console.error(error);\n    return null;\n  }\n};\n\n/**\n * This file must not be changed or exchanged.\n *\n * @see http://bpmn.io/license for more information.\n */\nfunction Logo() {\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 14.02 5.57\",\n    width: \"53\",\n    height: \"21\",\n    style: \"vertical-align:middle\",\n    children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"path\", {\n      fill: \"currentColor\",\n      d: \"M1.88.92v.14c0 .41-.13.68-.4.8.33.14.46.44.46.86v.33c0 .61-.33.95-.95.95H0V0h.95c.65 0 .93.3.93.92zM.63.57v1.06h.24c.24 0 .38-.1.38-.43V.98c0-.28-.1-.4-.32-.4zm0 1.63v1.22h.36c.2 0 .32-.1.32-.39v-.35c0-.37-.12-.48-.4-.48H.63zM4.18.99v.52c0 .64-.31.98-.94.98h-.3V4h-.62V0h.92c.63 0 .94.35.94.99zM2.94.57v1.35h.3c.2 0 .3-.09.3-.37v-.6c0-.29-.1-.38-.3-.38h-.3zm2.89 2.27L6.25 0h.88v4h-.6V1.12L6.1 3.99h-.6l-.46-2.82v2.82h-.55V0h.87zM8.14 1.1V4h-.56V0h.79L9 2.4V0h.56v4h-.64zm2.49 2.29v.6h-.6v-.6zM12.12 1c0-.63.33-1 .95-1 .61 0 .95.37.95 1v2.04c0 .64-.34 1-.95 1-.62 0-.95-.37-.95-1zm.62 2.08c0 .28.13.39.33.39s.32-.1.32-.4V.98c0-.29-.12-.4-.32-.4s-.33.11-.33.4z\"\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"path\", {\n      fill: \"currentColor\",\n      d: \"M0 4.53h14.02v1.04H0zM11.08 0h.63v.62h-.63zm.63 4V1h-.63v2.98z\"\n    })]\n  });\n}\nfunction Lightbox(props) {\n  const {\n    open\n  } = props;\n  if (!open) {\n    return null;\n  }\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n    class: \"fjs-powered-by-lightbox\",\n    style: \"z-index: 100; position: fixed; top: 0; left: 0;right: 0; bottom: 0\",\n    children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n      class: \"backdrop\",\n      style: \"width: 100%; height: 100%; background: rgba(40 40 40 / 20%)\",\n      onClick: props.onBackdropClick\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n      class: \"notice\",\n      style: \"position: absolute; left: 50%; top: 40%; transform: translate(-50%); width: 260px; padding: 10px; background: white; box-shadow: 0  1px 4px rgba(0 0 0 / 30%); font-family: Helvetica, Arial, sans-serif; font-size: 14px; display: flex; line-height: 1.3\",\n      children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"a\", {\n        href: \"https://bpmn.io\",\n        target: \"_blank\",\n        rel: \"noopener noreferrer\",\n        style: \"margin: 15px 20px 15px 10px; align-self: center; color: var(--cds-icon-primary, #404040)\",\n        children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Logo, {})\n      }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"span\", {\n        children: [\"Web-based tooling for BPMN, DMN, and forms powered by\", ' ', (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"a\", {\n          href: \"https://bpmn.io\",\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          children: \"bpmn.io\"\n        }), \".\"]\n      })]\n    })]\n  });\n}\nfunction Link(props) {\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n    class: \"fjs-powered-by fjs-form-field\",\n    style: \"text-align: right\",\n    children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"a\", {\n      href: \"https://bpmn.io\",\n      target: \"_blank\",\n      rel: \"noopener noreferrer\",\n      class: \"fjs-powered-by-link\",\n      title: \"Powered by bpmn.io\",\n      style: \"color: var(--cds-text-primary, #404040)\",\n      onClick: props.onClick,\n      children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Logo, {})\n    })\n  });\n}\nfunction PoweredBy(props) {\n  const [open, setOpen] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)(false);\n  function toggleOpen(open) {\n    return event => {\n      event.preventDefault();\n      setOpen(open);\n    };\n  }\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(preact__WEBPACK_IMPORTED_MODULE_6__.Fragment, {\n    children: [(0,preact_compat__WEBPACK_IMPORTED_MODULE_10__.createPortal)((0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Lightbox, {\n      open: open,\n      onBackdropClick: toggleOpen(false)\n    }), document.body), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Link, {\n      onClick: toggleOpen(true)\n    })]\n  });\n}\n\nconst noop = () => {};\nfunction FormComponent(props) {\n  const form = useService('form');\n  const {\n    schema,\n    properties\n  } = form._getState();\n  const {\n    ariaLabel\n  } = properties;\n  const {\n    onSubmit = noop,\n    onReset = noop,\n    onChange = noop\n  } = props;\n  const handleSubmit = event => {\n    event.preventDefault();\n    onSubmit();\n  };\n  const handleReset = event => {\n    event.preventDefault();\n    onReset();\n  };\n  const filteredFormData = useFilteredFormData();\n  const localExpressionContext = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => ({\n    data: filteredFormData,\n    parent: null,\n    this: filteredFormData,\n    i: []\n  }), [filteredFormData]);\n  return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"form\", {\n    class: \"fjs-form\",\n    onSubmit: handleSubmit,\n    onReset: handleReset,\n    \"aria-label\": ariaLabel,\n    noValidate: true,\n    children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(LocalExpressionContext.Provider, {\n      value: localExpressionContext,\n      children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(FormField, {\n        field: schema,\n        onChange: onChange\n      })\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(PoweredBy, {})]\n  });\n}\n\nconst formFields = [/* Input */\nTextfield, Textarea, Numberfield, Datetime, ExpressionField, FilePicker, /* Selection */\nCheckbox, Checklist, Radio, Select, Taglist, /* Presentation */\nText, Image, Table, Html, DocumentPreview, Spacer, Separator, /* Containers */\nGroup, DynamicList, IFrame, /* Other */\nButton, Default];\n\nclass FormFields {\n  constructor() {\n    this._formFields = {};\n    formFields.forEach(formField => {\n      this.register(formField.config.type, formField);\n    });\n  }\n  register(type, formField) {\n    this._formFields[type] = formField;\n  }\n  get(type) {\n    return this._formFields[type];\n  }\n}\n\nconst EXPRESSION_PROPERTIES = ['alt', 'appearance.prefixAdorner', 'appearance.suffixAdorner', 'conditional.hide', 'description', 'label', 'source', 'readonly', 'text', 'validate.min', 'validate.max', 'validate.minLength', 'validate.maxLength', 'valuesExpression', 'url', 'dataSource', 'columnsExpression', 'expression', 'multiple', 'accept', 'title'];\nconst TEMPLATE_PROPERTIES = ['alt', 'appearance.prefixAdorner', 'appearance.suffixAdorner', 'description', 'label', 'source', 'text', 'content', 'url', 'title'];\n\n/**\n * @typedef { import('../types').Schema } Schema\n */\n\n/**\n * Parse the schema for variables a form might make use of.\n *\n * @example\n *\n * // retrieve variables from schema\n * const variables = getSchemaVariables(schema);\n *\n * @example\n *\n * // retrieve input variables from schema\n * const inputVariables = getSchemaVariables(schema, { outputs: false });\n *\n * @example\n *\n * // retrieve output variables from schema\n * const outputVariables = getSchemaVariables(schema, { inputs: false });\n *\n * @param {Schema} schema\n * @param {object} [options]\n * @param {any} [options.expressionLanguage]\n * @param {any} [options.templating]\n * @param {any} [options.formFields]\n * @param {boolean} [options.inputs=true]\n * @param {boolean} [options.outputs=true]\n *\n * @return {string[]}\n */\nfunction getSchemaVariables(schema, options = {}) {\n  const {\n    formFields = new FormFields(),\n    expressionLanguage = new FeelExpressionLanguage(null),\n    templating = new FeelersTemplating(),\n    inputs = true,\n    outputs = true\n  } = options;\n  if (!schema.components) {\n    return [];\n  }\n  const getAllComponents = node => {\n    const components = [];\n    if (node.components) {\n      node.components.forEach(component => {\n        components.push(component);\n        components.push(...getAllComponents(component));\n      });\n    }\n    return components;\n  };\n  const variables = getAllComponents(schema).reduce((variables, component) => {\n    const {\n      valuesKey\n    } = component;\n\n    // collect input-only variables\n    if (inputs) {\n      if (valuesKey) {\n        variables = [...variables, valuesKey];\n      }\n      EXPRESSION_PROPERTIES.forEach(prop => {\n        const property = (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.get)(component, prop.split('.'));\n        if (property && expressionLanguage.isExpression(property)) {\n          const expressionVariables = expressionLanguage.getVariableNames(property, {\n            type: 'expression'\n          });\n          variables = [...variables, ...expressionVariables];\n        }\n      });\n      TEMPLATE_PROPERTIES.forEach(prop => {\n        const property = (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.get)(component, prop.split('.'));\n        if (property && !expressionLanguage.isExpression(property) && templating.isTemplate(property)) {\n          const templateVariables = templating.getVariableNames(property);\n          variables = [...variables, ...templateVariables];\n        }\n      });\n    }\n    return variables.filter(variable => typeof variable === 'string');\n  }, []);\n  const getBindingVariables = node => {\n    const bindingVariable = [];\n    const formField = formFields.get(node.type);\n    if (formField && formField.config.keyed && node.key) {\n      return [node.key.split('.')[0]];\n    } else if (formField && formField.config.pathed && node.path) {\n      return [node.path.split('.')[0]];\n    } else if (node.components) {\n      node.components.forEach(component => {\n        bindingVariable.push(...getBindingVariables(component));\n      });\n    }\n    return bindingVariable;\n  };\n\n  // collect binding variables\n  if (inputs || outputs) {\n    variables.push(...getBindingVariables(schema));\n  }\n\n  // remove duplicates\n  return Array.from(new Set(variables));\n}\n\n/**\n * Get the ancestry list of a form field.\n *\n * @param {string} formFieldId\n * @param {import('../core/FormFieldRegistry').FormFieldRegistry} formFieldRegistry\n *\n * @return {Array<string>} ancestry list\n */\nconst getAncestryList = (formFieldId, formFieldRegistry) => {\n  const ids = [];\n  let currentFormField = formFieldRegistry.get(formFieldId);\n  while (currentFormField) {\n    ids.push(currentFormField.id);\n    currentFormField = formFieldRegistry.get(currentFormField._parent);\n  }\n  return ids;\n};\n\n/**\n * @typedef {object} Condition\n * @property {string} [hide]\n */\n\nclass ConditionChecker {\n  constructor(formFieldRegistry, pathRegistry, eventBus) {\n    this._formFieldRegistry = formFieldRegistry;\n    this._pathRegistry = pathRegistry;\n    this._eventBus = eventBus;\n  }\n\n  /**\n   * For given data, remove properties based on condition.\n   *\n   * @param {Object<string, any>} data\n   * @param {Object<string, any>} contextData\n   * @param {Object} [options]\n   * @param {Function} [options.getFilterPath]\n   * @param {boolean} [options.leafNodeDeletionOnly]\n   */\n  applyConditions(data, contextData = {}, options = {}) {\n    const workingData = clone(data);\n    const {\n      getFilterPath = (field, indexes) => this._pathRegistry.getValuePath(field, {\n        indexes\n      })\n    } = options;\n    const _applyConditionsWithinScope = (rootField, scopeContext, startHidden = false) => {\n      const {\n        indexes = {},\n        expressionIndexes = [],\n        scopeData = contextData,\n        parentScopeData = null\n      } = scopeContext;\n      this._pathRegistry.executeRecursivelyOnFields(rootField, ({\n        field,\n        isClosed,\n        isRepeatable,\n        context\n      }) => {\n        const {\n          conditional,\n          components,\n          id\n        } = field;\n\n        // build the expression context in the right format\n        const localExpressionContext = buildExpressionContext({\n          this: scopeData,\n          data: contextData,\n          i: expressionIndexes,\n          parent: parentScopeData\n        });\n        context.isHidden = startHidden || context.isHidden || conditional && this._checkHideCondition(conditional, localExpressionContext);\n\n        // if a field is repeatable and visible, we need to implement custom recursion on its children\n        if (isRepeatable && !context.isHidden) {\n          // prevent the regular recursion behavior of executeRecursivelyOnFields\n          context.preventRecursion = true;\n          const repeaterValuePath = this._pathRegistry.getValuePath(field, {\n            indexes\n          });\n          const repeaterValue = (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.get)(contextData, repeaterValuePath);\n\n          // quit early if there are no children or data associated with the repeater\n          if (!Array.isArray(repeaterValue) || !repeaterValue.length || !Array.isArray(components) || !components.length) {\n            return;\n          }\n          for (let i = 0; i < repeaterValue.length; i++) {\n            // create a new scope context for each index\n            const newScopeContext = {\n              indexes: {\n                ...indexes,\n                [id]: i\n              },\n              expressionIndexes: [...expressionIndexes, i + 1],\n              scopeData: repeaterValue[i],\n              parentScopeData: scopeData\n            };\n\n            // for each child component, apply conditions within the new repetition scope\n            components.forEach(component => {\n              _applyConditionsWithinScope(component, newScopeContext, context.isHidden);\n            });\n          }\n        }\n\n        // if we have a hidden repeatable field, and the data structure allows, we clear it directly at the root and stop recursion\n        if (context.isHidden && isRepeatable) {\n          context.preventRecursion = true;\n          this._eventBus.fire('conditionChecker.remove', {\n            item: {\n              [field.key]: (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.get)(workingData, getFilterPath(field, indexes))\n            }\n          });\n          this._cleanlyClearDataAtPath(getFilterPath(field, indexes), workingData);\n        }\n\n        // for simple leaf fields, we always clear\n        if (context.isHidden && isClosed) {\n          this._eventBus.fire('conditionChecker.remove', {\n            item: {\n              [field.key]: (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.get)(workingData, getFilterPath(field, indexes))\n            }\n          });\n          this._cleanlyClearDataAtPath(getFilterPath(field, indexes), workingData);\n        }\n      });\n    };\n\n    // apply conditions starting with the root of the form\n    const form = this._formFieldRegistry.getForm();\n    if (!form) {\n      throw new Error('form field registry has no form');\n    }\n    _applyConditionsWithinScope(form, {\n      scopeData: contextData\n    });\n    return workingData;\n  }\n\n  /**\n   * Check if given condition is met. Returns null for invalid/missing conditions.\n   *\n   * @param {string} condition\n   * @param {import('../../types').Data} [data]\n   *\n   * @returns {boolean|null}\n   */\n  check(condition, data = {}) {\n    if (!condition) {\n      return null;\n    }\n    if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isString)(condition) || !condition.startsWith('=')) {\n      return null;\n    }\n    try {\n      // cut off initial '='\n      const {\n        value: result\n      } = (0,_bpmn_io_feelin__WEBPACK_IMPORTED_MODULE_13__.unaryTest)(condition.slice(1), data);\n      return result;\n    } catch (error) {\n      this._eventBus.fire('error', {\n        error\n      });\n      return null;\n    }\n  }\n\n  /**\n   * Check if hide condition is met.\n   *\n   * @param {Condition} condition\n   * @param {Object<string, any>} data\n   * @returns {boolean}\n   */\n  _checkHideCondition(condition, data) {\n    if (!condition.hide) {\n      return false;\n    }\n    const result = this.check(condition.hide, data);\n    return result === true;\n  }\n  _cleanlyClearDataAtPath(valuePath, obj) {\n    const workingValuePath = [...valuePath];\n    let recurse = false;\n    do {\n      (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.set)(obj, workingValuePath, undefined);\n      workingValuePath.pop();\n      const parentObject = (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.get)(obj, workingValuePath);\n      recurse = !!workingValuePath.length && (this._isEmptyObject(parentObject) || this._isEmptyArray(parentObject));\n    } while (recurse);\n  }\n  _isEmptyObject(parentObject) {\n    return (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isObject)(parentObject) && !(0,min_dash__WEBPACK_IMPORTED_MODULE_1__.values)(parentObject).length;\n  }\n  _isEmptyArray(parentObject) {\n    return Array.isArray(parentObject) && (!parentObject.length || parentObject.every(item => item === undefined));\n  }\n}\nConditionChecker.$inject = ['formFieldRegistry', 'pathRegistry', 'eventBus'];\n\nconst ExpressionLanguageModule = {\n  __init__: ['expressionLanguage', 'templating', 'conditionChecker'],\n  expressionLanguage: ['type', FeelExpressionLanguage],\n  templating: ['type', FeelersTemplating],\n  conditionChecker: ['type', ConditionChecker]\n};\n\nclass ExpressionLoopPreventer {\n  constructor(eventBus) {\n    this._computedExpressions = [];\n    eventBus.on('field.updated', ({\n      shouldNotRecompute\n    }) => {\n      if (shouldNotRecompute) {\n        return;\n      }\n      this.reset();\n    });\n    eventBus.on('import.done', this.reset.bind(this));\n    eventBus.on('reset', this.reset.bind(this));\n  }\n\n  /**\n   * Checks if the expression field has already been computed, and registers it if not.\n   *\n   * @param {any} expressionField\n   * @returns {boolean} - whether the expression field has already been computed within the current cycle\n   */\n  registerExpressionExecution(expressionField) {\n    if (this._computedExpressions.includes(expressionField)) {\n      return false;\n    }\n    this._computedExpressions.push(expressionField);\n    return true;\n  }\n\n  /**\n   * Resets the list of computed expressions.\n   */\n  reset() {\n    this._computedExpressions = [];\n  }\n}\nExpressionLoopPreventer.$inject = ['eventBus'];\n\nconst ExpressionFieldModule = {\n  __init__: ['expressionLoopPreventer'],\n  expressionLoopPreventer: ['type', ExpressionLoopPreventer]\n};\n\nclass MarkdownRenderer {\n  /**\n   * Render markdown to HTML.\n   *\n   * @param {string} markdown - The markdown to render\n   *\n   * @returns {string} HTML\n   */\n  render(markdown) {\n    // @ts-expect-error\n    return marked__WEBPACK_IMPORTED_MODULE_15__.marked.parse(markdown, {\n      gfm: true,\n      breaks: true\n    });\n  }\n}\nMarkdownRenderer.$inject = [];\n\nconst MarkdownRendererModule = {\n  __init__: ['markdownRenderer'],\n  markdownRenderer: ['type', MarkdownRenderer]\n};\n\n/**\n * @typedef {import('didi').Injector} Injector\n *\n * @typedef {import('../core/Types').ElementLike} ElementLike\n *\n * @typedef {import('../core/EventBus').default} EventBus\n * @typedef {import('./CommandHandler').default} CommandHandler\n *\n * @typedef { any } CommandContext\n * @typedef { {\n *   new (...args: any[]) : CommandHandler\n * } } CommandHandlerConstructor\n * @typedef { {\n *   [key: string]: CommandHandler;\n * } } CommandHandlerMap\n * @typedef { {\n *   command: string;\n *   context: any;\n *   id?: any;\n * } } CommandStackAction\n * @typedef { {\n *   actions: CommandStackAction[];\n *   dirty: ElementLike[];\n *   trigger: 'execute' | 'undo' | 'redo' | 'clear' | null;\n *   atomic?: boolean;\n * } } CurrentExecution\n */\n\n/**\n * A service that offers un- and redoable execution of commands.\n *\n * The command stack is responsible for executing modeling actions\n * in a un- and redoable manner. To do this it delegates the actual\n * command execution to {@link CommandHandler}s.\n *\n * Command handlers provide {@link CommandHandler#execute(ctx)} and\n * {@link CommandHandler#revert(ctx)} methods to un- and redo a command\n * identified by a command context.\n *\n *\n * ## Life-Cycle events\n *\n * In the process the command stack fires a number of life-cycle events\n * that other components to participate in the command execution.\n *\n *    * preExecute\n *    * preExecuted\n *    * execute\n *    * executed\n *    * postExecute\n *    * postExecuted\n *    * revert\n *    * reverted\n *\n * A special event is used for validating, whether a command can be\n * performed prior to its execution.\n *\n *    * canExecute\n *\n * Each of the events is fired as `commandStack.{eventName}` and\n * `commandStack.{commandName}.{eventName}`, respectively. This gives\n * components fine grained control on where to hook into.\n *\n * The event object fired transports `command`, the name of the\n * command and `context`, the command context.\n *\n *\n * ## Creating Command Handlers\n *\n * Command handlers should provide the {@link CommandHandler#execute(ctx)}\n * and {@link CommandHandler#revert(ctx)} methods to implement\n * redoing and undoing of a command.\n *\n * A command handler _must_ ensure undo is performed properly in order\n * not to break the undo chain. It must also return the shapes that\n * got changed during the `execute` and `revert` operations.\n *\n * Command handlers may execute other modeling operations (and thus\n * commands) in their `preExecute(d)` and `postExecute(d)` phases. The command\n * stack will properly group all commands together into a logical unit\n * that may be re- and undone atomically.\n *\n * Command handlers must not execute other commands from within their\n * core implementation (`execute`, `revert`).\n *\n *\n * ## Change Tracking\n *\n * During the execution of the CommandStack it will keep track of all\n * elements that have been touched during the command's execution.\n *\n * At the end of the CommandStack execution it will notify interested\n * components via an 'elements.changed' event with all the dirty\n * elements.\n *\n * The event can be picked up by components that are interested in the fact\n * that elements have been changed. One use case for this is updating\n * their graphical representation after moving / resizing or deletion.\n *\n * @see CommandHandler\n *\n * @param {EventBus} eventBus\n * @param {Injector} injector\n */\nfunction CommandStack(eventBus, injector) {\n  /**\n   * A map of all registered command handlers.\n   *\n   * @type {CommandHandlerMap}\n   */\n  this._handlerMap = {};\n\n  /**\n   * A stack containing all re/undoable actions on the diagram\n   *\n   * @type {CommandStackAction[]}\n   */\n  this._stack = [];\n\n  /**\n   * The current index on the stack\n   *\n   * @type {number}\n   */\n  this._stackIdx = -1;\n\n  /**\n   * Current active commandStack execution\n   *\n   * @type {CurrentExecution}\n   */\n  this._currentExecution = {\n    actions: [],\n    dirty: [],\n    trigger: null\n  };\n\n  /**\n   * @type {Injector}\n   */\n  this._injector = injector;\n\n  /**\n   * @type EventBus\n   */\n  this._eventBus = eventBus;\n\n  /**\n   * @type { number }\n   */\n  this._uid = 1;\n  eventBus.on(['diagram.destroy', 'diagram.clear'], function () {\n    this.clear(false);\n  }, this);\n}\nCommandStack.$inject = ['eventBus', 'injector'];\n\n/**\n * Execute a command.\n *\n * @param {string} command The command to execute.\n * @param {CommandContext} context The context with which to execute the command.\n */\nCommandStack.prototype.execute = function (command, context) {\n  if (!command) {\n    throw new Error('command required');\n  }\n  this._currentExecution.trigger = 'execute';\n  const action = {\n    command: command,\n    context: context\n  };\n  this._pushAction(action);\n  this._internalExecute(action);\n  this._popAction();\n};\n\n/**\n * Check whether a command can be executed.\n *\n * Implementors may hook into the mechanism on two ways:\n *\n *   * in event listeners:\n *\n *     Users may prevent the execution via an event listener.\n *     It must prevent the default action for `commandStack.(<command>.)canExecute` events.\n *\n *   * in command handlers:\n *\n *     If the method {@link CommandHandler#canExecute} is implemented in a handler\n *     it will be called to figure out whether the execution is allowed.\n *\n * @param {string} command The command to execute.\n * @param {CommandContext} context The context with which to execute the command.\n *\n * @return {boolean} Whether the command can be executed with the given context.\n */\nCommandStack.prototype.canExecute = function (command, context) {\n  const action = {\n    command: command,\n    context: context\n  };\n  const handler = this._getHandler(command);\n  let result = this._fire(command, 'canExecute', action);\n\n  // handler#canExecute will only be called if no listener\n  // decided on a result already\n  if (result === undefined) {\n    if (!handler) {\n      return false;\n    }\n    if (handler.canExecute) {\n      result = handler.canExecute(context);\n    }\n  }\n  return result;\n};\n\n/**\n * Clear the command stack, erasing all undo / redo history.\n *\n * @param {boolean} [emit=true] Whether to fire an event. Defaults to `true`.\n */\nCommandStack.prototype.clear = function (emit) {\n  this._stack.length = 0;\n  this._stackIdx = -1;\n  if (emit !== false) {\n    this._fire('changed', {\n      trigger: 'clear'\n    });\n  }\n};\n\n/**\n * Undo last command(s)\n */\nCommandStack.prototype.undo = function () {\n  let action = this._getUndoAction(),\n    next;\n  if (action) {\n    this._currentExecution.trigger = 'undo';\n    this._pushAction(action);\n    while (action) {\n      this._internalUndo(action);\n      next = this._getUndoAction();\n      if (!next || next.id !== action.id) {\n        break;\n      }\n      action = next;\n    }\n    this._popAction();\n  }\n};\n\n/**\n * Redo last command(s)\n */\nCommandStack.prototype.redo = function () {\n  let action = this._getRedoAction(),\n    next;\n  if (action) {\n    this._currentExecution.trigger = 'redo';\n    this._pushAction(action);\n    while (action) {\n      this._internalExecute(action, true);\n      next = this._getRedoAction();\n      if (!next || next.id !== action.id) {\n        break;\n      }\n      action = next;\n    }\n    this._popAction();\n  }\n};\n\n/**\n * Register a handler instance with the command stack.\n *\n * @param {string} command Command to be executed.\n * @param {CommandHandler} handler Handler to execute the command.\n */\nCommandStack.prototype.register = function (command, handler) {\n  this._setHandler(command, handler);\n};\n\n/**\n * Register a handler type with the command stack  by instantiating it and\n * injecting its dependencies.\n *\n * @param {string} command Command to be executed.\n * @param {CommandHandlerConstructor} handlerCls Constructor to instantiate a {@link CommandHandler}.\n */\nCommandStack.prototype.registerHandler = function (command, handlerCls) {\n  if (!command || !handlerCls) {\n    throw new Error('command and handlerCls must be defined');\n  }\n  const handler = this._injector.instantiate(handlerCls);\n  this.register(command, handler);\n};\n\n/**\n * @return {boolean}\n */\nCommandStack.prototype.canUndo = function () {\n  return !!this._getUndoAction();\n};\n\n/**\n * @return {boolean}\n */\nCommandStack.prototype.canRedo = function () {\n  return !!this._getRedoAction();\n};\n\n// stack access  //////////////////////\n\nCommandStack.prototype._getRedoAction = function () {\n  return this._stack[this._stackIdx + 1];\n};\nCommandStack.prototype._getUndoAction = function () {\n  return this._stack[this._stackIdx];\n};\n\n// internal functionality //////////////////////\n\nCommandStack.prototype._internalUndo = function (action) {\n  const command = action.command,\n    context = action.context;\n  const handler = this._getHandler(command);\n\n  // guard against illegal nested command stack invocations\n  this._atomicDo(() => {\n    this._fire(command, 'revert', action);\n    if (handler.revert) {\n      this._markDirty(handler.revert(context));\n    }\n    this._revertedAction(action);\n    this._fire(command, 'reverted', action);\n  });\n};\nCommandStack.prototype._fire = function (command, qualifier, event) {\n  if (arguments.length < 3) {\n    event = qualifier;\n    qualifier = null;\n  }\n  const names = qualifier ? [command + '.' + qualifier, qualifier] : [command];\n  let result;\n  event = this._eventBus.createEvent(event);\n  for (const name of names) {\n    result = this._eventBus.fire('commandStack.' + name, event);\n    if (event.cancelBubble) {\n      break;\n    }\n  }\n  return result;\n};\nCommandStack.prototype._createId = function () {\n  return this._uid++;\n};\nCommandStack.prototype._atomicDo = function (fn) {\n  const execution = this._currentExecution;\n  execution.atomic = true;\n  try {\n    fn();\n  } finally {\n    execution.atomic = false;\n  }\n};\nCommandStack.prototype._internalExecute = function (action, redo) {\n  const command = action.command,\n    context = action.context;\n  const handler = this._getHandler(command);\n  if (!handler) {\n    throw new Error('no command handler registered for <' + command + '>');\n  }\n  this._pushAction(action);\n  if (!redo) {\n    this._fire(command, 'preExecute', action);\n    if (handler.preExecute) {\n      handler.preExecute(context);\n    }\n    this._fire(command, 'preExecuted', action);\n  }\n\n  // guard against illegal nested command stack invocations\n  this._atomicDo(() => {\n    this._fire(command, 'execute', action);\n    if (handler.execute) {\n      // actual execute + mark return results as dirty\n      this._markDirty(handler.execute(context));\n    }\n\n    // log to stack\n    this._executedAction(action, redo);\n    this._fire(command, 'executed', action);\n  });\n  if (!redo) {\n    this._fire(command, 'postExecute', action);\n    if (handler.postExecute) {\n      handler.postExecute(context);\n    }\n    this._fire(command, 'postExecuted', action);\n  }\n  this._popAction();\n};\nCommandStack.prototype._pushAction = function (action) {\n  const execution = this._currentExecution,\n    actions = execution.actions;\n  const baseAction = actions[0];\n  if (execution.atomic) {\n    throw new Error('illegal invocation in <execute> or <revert> phase (action: ' + action.command + ')');\n  }\n  if (!action.id) {\n    action.id = baseAction && baseAction.id || this._createId();\n  }\n  actions.push(action);\n};\nCommandStack.prototype._popAction = function () {\n  const execution = this._currentExecution,\n    trigger = execution.trigger,\n    actions = execution.actions,\n    dirty = execution.dirty;\n  actions.pop();\n  if (!actions.length) {\n    this._eventBus.fire('elements.changed', {\n      elements: (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.uniqueBy)('id', dirty.reverse())\n    });\n    dirty.length = 0;\n    this._fire('changed', {\n      trigger: trigger\n    });\n    execution.trigger = null;\n  }\n};\nCommandStack.prototype._markDirty = function (elements) {\n  const execution = this._currentExecution;\n  if (!elements) {\n    return;\n  }\n  elements = (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isArray)(elements) ? elements : [elements];\n  execution.dirty = execution.dirty.concat(elements);\n};\nCommandStack.prototype._executedAction = function (action, redo) {\n  const stackIdx = ++this._stackIdx;\n  if (!redo) {\n    this._stack.splice(stackIdx, this._stack.length, action);\n  }\n};\nCommandStack.prototype._revertedAction = function (action) {\n  this._stackIdx--;\n};\nCommandStack.prototype._getHandler = function (command) {\n  return this._handlerMap[command];\n};\nCommandStack.prototype._setHandler = function (command, handler) {\n  if (!command || !handler) {\n    throw new Error('command and handler required');\n  }\n  if (this._handlerMap[command]) {\n    throw new Error('overriding handler for command <' + command + '>');\n  }\n  this._handlerMap[command] = handler;\n};\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\nvar commandModule = {\n  commandStack: ['type', CommandStack]\n};\n\n/**\n * @deprecated\n */\nclass UpdateFieldValidationHandler {\n  constructor(form, validator) {\n    this._form = form;\n    this._validator = validator;\n  }\n  execute(context) {\n    const {\n      field,\n      value,\n      indexes\n    } = context;\n    const {\n      errors\n    } = this._form._getState();\n    context.oldErrors = clone(errors);\n    const fieldErrors = this._validator.validateField(field, value);\n    const updatedErrors = (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.set)(errors, [field.id, ...Object.values(indexes || {})], fieldErrors.length ? fieldErrors : undefined);\n    this._form._setState({\n      errors: updatedErrors\n    });\n  }\n  revert(context) {\n    this._form._setState({\n      errors: context.oldErrors\n    });\n  }\n}\nUpdateFieldValidationHandler.$inject = ['form', 'validator'];\n\nclass UpdateFieldInstanceValidationHandler {\n  constructor(form, validator) {\n    this._form = form;\n    this._validator = validator;\n  }\n  execute(context) {\n    const {\n      fieldInstance,\n      value\n    } = context;\n    const {\n      id,\n      indexes\n    } = fieldInstance;\n    const {\n      errors\n    } = this._form._getState();\n    context.oldErrors = clone(errors);\n    const fieldErrors = this._validator.validateFieldInstance(fieldInstance, value);\n    const updatedErrors = (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.set)(errors, [id, ...Object.values(indexes || {})], fieldErrors.length ? fieldErrors : undefined);\n    this._form._setState({\n      errors: updatedErrors\n    });\n  }\n  revert(context) {\n    this._form._setState({\n      errors: context.oldErrors\n    });\n  }\n}\nUpdateFieldInstanceValidationHandler.$inject = ['form', 'validator'];\n\nclass ViewerCommands {\n  constructor(commandStack, eventBus) {\n    this._commandStack = commandStack;\n    eventBus.on('form.init', () => {\n      this.registerHandlers();\n    });\n  }\n  registerHandlers() {\n    Object.entries(this.getHandlers()).forEach(([id, handler]) => {\n      this._commandStack.registerHandler(id, handler);\n    });\n  }\n  getHandlers() {\n    return {\n      'formField.validation.update': UpdateFieldValidationHandler,\n      'formFieldInstance.validation.update': UpdateFieldInstanceValidationHandler\n    };\n  }\n\n  /**\n   * @deprecated\n   */\n  updateFieldValidation(field, value, indexes) {\n    const context = {\n      field,\n      value,\n      indexes\n    };\n    this._commandStack.execute('formField.validation.update', context);\n  }\n  updateFieldInstanceValidation(fieldInstance, value) {\n    const context = {\n      fieldInstance,\n      value\n    };\n    this._commandStack.execute('formFieldInstance.validation.update', context);\n  }\n}\nViewerCommands.$inject = ['commandStack', 'eventBus'];\n\nconst ViewerCommandsModule = {\n  __depends__: [commandModule],\n  __init__: ['viewerCommands'],\n  viewerCommands: ['type', ViewerCommands]\n};\n\nvar _path$3;\nfunction _extends$3() { return _extends$3 = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$3.apply(null, arguments); }\nvar SvgExpand = function SvgExpand(props) {\n  return /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"svg\", _extends$3({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 16,\n    height: 16,\n    fill: \"none\"\n  }, props), _path$3 || (_path$3 = /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M2 9h5.5v3.086l-1.293-1.293-.707.707L8 14l2.5-2.5-.707-.707L8.5 12.086V9H14V8H2zm11-7H3a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1m0 3H3V3h10z\"\n  })));\n};\n\nvar _path$2;\nfunction _extends$2() { return _extends$2 = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$2.apply(null, arguments); }\nvar SvgCollapse = function SvgCollapse(props) {\n  return /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"svg\", _extends$2({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 16,\n    height: 16,\n    fill: \"none\"\n  }, props), _path$2 || (_path$2 = /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M13 10H3a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1m0 3H3v-2h10zM8.5 3.914l1.293 1.293.707-.707L8 2 5.5 4.5l.707.707L7.5 3.914V7H2v1h12V7H8.5z\"\n  })));\n};\n\nvar _path$1, _path2;\nfunction _extends$1() { return _extends$1 = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends$1.apply(null, arguments); }\nvar SvgAdd = function SvgAdd(props) {\n  return /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"svg\", _extends$1({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 16,\n    height: 16,\n    fill: \"none\"\n  }, props), _path$1 || (_path$1 = /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M8 2c3.3 0 6 2.7 6 6s-2.7 6-6 6-6-2.7-6-6 2.7-6 6-6m0-1C4.15 1 1 4.15 1 8s3.15 7 7 7 7-3.15 7-7-3.15-7-7-7\"\n  })), _path2 || (_path2 = /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M12 7.5H8.5V4h-1v3.5H4v1h3.5V12h1V8.5H12z\"\n  })));\n};\n\nvar _path;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nvar SvgDelete = function SvgDelete(props) {\n  return /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 16,\n    height: 16,\n    fill: \"none\"\n  }, props), _path || (_path = /*#__PURE__*/preact_compat__WEBPACK_IMPORTED_MODULE_10__.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"m12 4.7-.7-.7L8 7.3 4.7 4l-.7.7L7.3 8 4 11.3l.7.7L8 8.7l3.3 3.3.7-.7L8.7 8z\"\n  })));\n};\n\n// disable react hook rules as the linter is confusing the functional components within a class as class components\n/* eslint-disable react-hooks/rules-of-hooks */\n\nclass RepeatRenderManager {\n  constructor(form, formFields, formFieldRegistry, pathRegistry, eventBus) {\n    this._form = form;\n    /** @type {import('../../render/FormFields').FormFields} */\n    this._formFields = formFields;\n    /** @type {import('../../core/FormFieldRegistry').FormFieldRegistry} */\n    this._formFieldRegistry = formFieldRegistry;\n    /** @type {import('../../core/PathRegistry').PathRegistry} */\n    this._pathRegistry = pathRegistry;\n    /** @type {import('../../core/EventBus').EventBus} */\n    this._eventBus = eventBus;\n    this.Repeater = this.Repeater.bind(this);\n    this.RepeatFooter = this.RepeatFooter.bind(this);\n  }\n\n  /**\n   * Checks whether a field is currently repeating its children.\n   *\n   * @param {string} id - The id of the field to check\n   * @returns {boolean} - True if repeatable, false otherwise\n   */\n  isFieldRepeating(id) {\n    if (!id) {\n      return false;\n    }\n    const formField = this._formFieldRegistry.get(id);\n    const formFieldDefinition = this._formFields.get(formField.type);\n    return formFieldDefinition.config.repeatable && formField.isRepeating;\n  }\n  Repeater(props) {\n    const {\n      RowsRenderer,\n      indexes,\n      useSharedState,\n      ...restProps\n    } = props;\n    const [sharedRepeatState] = useSharedState;\n    const {\n      data\n    } = this._form._getState();\n    const repeaterField = props.field;\n    const dataPath = this._pathRegistry.getValuePath(repeaterField, {\n      indexes\n    });\n    const values = (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.get)(data, dataPath) || [];\n    const nonCollapsedItems = this._getNonCollapsedItems(repeaterField);\n    const collapseEnabled = !repeaterField.disableCollapse && values.length > nonCollapsedItems;\n    const isCollapsed = collapseEnabled && sharedRepeatState.isCollapsed;\n    const hasChildren = repeaterField.components && repeaterField.components.length > 0;\n    const showRemove = repeaterField.allowAddRemove && hasChildren;\n\n    /**\n     * @param {number} index\n     */\n    const onDeleteItem = index => {\n      const updatedValues = values.slice();\n      const removedItem = updatedValues.splice(index, 1)[0];\n      this._eventBus.fire('repeatRenderManager.remove', {\n        dataPath,\n        index,\n        item: removedItem\n      });\n      props.onChange({\n        field: repeaterField,\n        value: updatedValues,\n        indexes\n      });\n    };\n    const parentExpressionContextInfo = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useContext)(LocalExpressionContext);\n    return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment, {\n      children: values.map((itemValue, itemIndex) => (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n        class: classnames__WEBPACK_IMPORTED_MODULE_3___default()({\n          'fjs-repeat-row-collapsed': isCollapsed ? itemIndex >= nonCollapsedItems : false\n        }),\n        children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(RepetitionScaffold, {\n          itemIndex: itemIndex,\n          itemValue: itemValue,\n          parentExpressionContextInfo: parentExpressionContextInfo,\n          repeaterField: repeaterField,\n          RowsRenderer: RowsRenderer,\n          indexes: indexes,\n          onDeleteItem: onDeleteItem,\n          showRemove: showRemove,\n          ...restProps\n        })\n      }, itemIndex))\n    });\n  }\n  RepeatFooter(props) {\n    const addButtonRef = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useRef)(null);\n    const {\n      useSharedState,\n      indexes,\n      field: repeaterField,\n      readonly,\n      disabled\n    } = props;\n    const [sharedRepeatState, setSharedRepeatState] = useSharedState;\n    const {\n      data\n    } = this._form._getState();\n    const dataPath = this._pathRegistry.getValuePath(repeaterField, {\n      indexes\n    });\n    const values = (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.get)(data, dataPath) || [];\n    const nonCollapsedItems = this._getNonCollapsedItems(repeaterField);\n    const collapseEnabled = !repeaterField.disableCollapse && values.length > nonCollapsedItems;\n    const isCollapsed = collapseEnabled && sharedRepeatState.isCollapsed;\n    const hasChildren = repeaterField.components && repeaterField.components.length > 0;\n    const showAdd = repeaterField.allowAddRemove && hasChildren;\n    const toggle = () => {\n      setSharedRepeatState(state => ({\n        ...state,\n        isCollapsed: !isCollapsed\n      }));\n    };\n    const shouldScroll = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useRef)(false);\n    const onAddItem = () => {\n      const updatedValues = values.slice();\n      const newItem = this._form._getInitializedFieldData(this._form._getState().data, {\n        container: repeaterField,\n        indexes: {\n          ...indexes,\n          [repeaterField.id]: updatedValues.length\n        }\n      });\n      updatedValues.push(newItem);\n      shouldScroll.current = true;\n      this._eventBus.fire('repeatRenderManager.add', {\n        dataPath,\n        index: updatedValues.length - 1,\n        item: newItem\n      });\n      props.onChange({\n        value: updatedValues\n      });\n      setSharedRepeatState(state => ({\n        ...state,\n        isCollapsed: false\n      }));\n    };\n    useScrollIntoView(addButtonRef, [values.length], {\n      align: 'bottom',\n      behavior: 'auto',\n      offset: 20\n    }, [shouldScroll]);\n    return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n      className: classnames__WEBPACK_IMPORTED_MODULE_3___default()('fjs-repeat-render-footer', {\n        'fjs-remove-allowed': repeaterField.allowAddRemove\n      }),\n      children: [showAdd ? (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"button\", {\n        type: \"button\",\n        readOnly: readonly,\n        disabled: disabled || readonly,\n        class: \"fjs-repeat-render-add\",\n        ref: addButtonRef,\n        onClick: onAddItem,\n        children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment, {\n          children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(SvgAdd, {}), \" \", 'Add new']\n        })\n      }) : null, collapseEnabled ? (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"button\", {\n        type: \"button\",\n        class: \"fjs-repeat-render-collapse\",\n        onClick: toggle,\n        children: isCollapsed ? (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment, {\n          children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(SvgExpand, {}), \" \", `Expand all (${values.length - 1})`]\n        }) : (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment, {\n          children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(SvgCollapse, {}), \" \", 'Collapse']\n        })\n      }) : null]\n    });\n  }\n  _getNonCollapsedItems(field) {\n    const DEFAULT_NON_COLLAPSED_ITEMS = 5;\n    const {\n      nonCollapsedItems\n    } = field;\n    return nonCollapsedItems ? nonCollapsedItems : DEFAULT_NON_COLLAPSED_ITEMS;\n  }\n}\n\n/**\n * Individual repetition of a repeated field and context scaffolding.\n *\n * @param {Object} props\n * @param {number} props.itemIndex\n * @param {Object} props.itemValue\n * @param {Object} props.parentExpressionContextInfo\n * @param {Object} props.repeaterField\n * @param {import('preact').FunctionComponent} props.RowsRenderer\n * @param {Object} props.indexes\n * @param {Function} props.onDeleteItem\n * @param {boolean} props.showRemove\n */\n\nconst RepetitionScaffold = props => {\n  const {\n    itemIndex,\n    itemValue,\n    parentExpressionContextInfo,\n    repeaterField,\n    RowsRenderer,\n    indexes,\n    onDeleteItem,\n    showRemove,\n    ...restProps\n  } = props;\n  const elementProps = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => ({\n    ...restProps,\n    indexes: {\n      ...(indexes || {}),\n      [repeaterField.id]: itemIndex\n    }\n  }), [itemIndex, indexes, repeaterField.id, restProps]);\n  const localExpressionContextInfo = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useMemo)(() => ({\n    data: parentExpressionContextInfo.data,\n    this: itemValue,\n    parent: buildExpressionContext({\n      ...parentExpressionContextInfo,\n      data: parentExpressionContextInfo.this\n    }),\n    i: [...parentExpressionContextInfo.i, itemIndex + 1]\n  }), [itemIndex, parentExpressionContextInfo, itemValue]);\n  return !showRemove ? (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(LocalExpressionContext.Provider, {\n    value: localExpressionContextInfo,\n    children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(RowsRenderer, {\n      ...elementProps\n    })\n  }) : (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n    class: \"fjs-repeat-row-container\",\n    children: [(0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n      class: \"fjs-repeat-row-rows\",\n      children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(LocalExpressionContext.Provider, {\n        value: localExpressionContextInfo,\n        children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(RowsRenderer, {\n          ...elementProps\n        })\n      })\n    }), (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"button\", {\n      type: \"button\",\n      class: \"fjs-repeat-row-remove\",\n      \"aria-label\": `Remove list item ${itemIndex + 1}`,\n      onClick: () => onDeleteItem(itemIndex),\n      children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n        class: \"fjs-repeat-row-remove-icon-container\",\n        children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(SvgDelete, {})\n      })\n    })]\n  });\n};\nRepeatRenderManager.$inject = ['form', 'formFields', 'formFieldRegistry', 'pathRegistry', 'eventBus'];\n\nconst RepeatRenderModule = {\n  __init__: ['repeatRenderManager'],\n  repeatRenderManager: ['type', RepeatRenderManager]\n};\n\nvar FN_REF = '__fn';\nvar DEFAULT_PRIORITY = 1000;\nvar slice = Array.prototype.slice;\n\n/**\n * @typedef { {\n *   stopPropagation(): void;\n *   preventDefault(): void;\n *   cancelBubble: boolean;\n *   defaultPrevented: boolean;\n *   returnValue: any;\n * } } Event\n */\n\n/**\n * @template E\n *\n * @typedef { (event: E & Event, ...any) => any } EventBusEventCallback\n */\n\n/**\n * @typedef { {\n *  priority: number;\n *  next: EventBusListener | null;\n *  callback: EventBusEventCallback<any>;\n * } } EventBusListener\n */\n\n/**\n * A general purpose event bus.\n *\n * This component is used to communicate across a diagram instance.\n * Other parts of a diagram can use it to listen to and broadcast events.\n *\n *\n * ## Registering for Events\n *\n * The event bus provides the {@link EventBus#on} and {@link EventBus#once}\n * methods to register for events. {@link EventBus#off} can be used to\n * remove event registrations. Listeners receive an instance of {@link Event}\n * as the first argument. It allows them to hook into the event execution.\n *\n * ```javascript\n *\n * // listen for event\n * eventBus.on('foo', function(event) {\n *\n *   // access event type\n *   event.type; // 'foo'\n *\n *   // stop propagation to other listeners\n *   event.stopPropagation();\n *\n *   // prevent event default\n *   event.preventDefault();\n * });\n *\n * // listen for event with custom payload\n * eventBus.on('bar', function(event, payload) {\n *   console.log(payload);\n * });\n *\n * // listen for event returning value\n * eventBus.on('foobar', function(event) {\n *\n *   // stop event propagation + prevent default\n *   return false;\n *\n *   // stop event propagation + return custom result\n *   return {\n *     complex: 'listening result'\n *   };\n * });\n *\n *\n * // listen with custom priority (default=1000, higher is better)\n * eventBus.on('priorityfoo', 1500, function(event) {\n *   console.log('invoked first!');\n * });\n *\n *\n * // listen for event and pass the context (`this`)\n * eventBus.on('foobar', function(event) {\n *   this.foo();\n * }, this);\n * ```\n *\n *\n * ## Emitting Events\n *\n * Events can be emitted via the event bus using {@link EventBus#fire}.\n *\n * ```javascript\n *\n * // false indicates that the default action\n * // was prevented by listeners\n * if (eventBus.fire('foo') === false) {\n *   console.log('default has been prevented!');\n * };\n *\n *\n * // custom args + return value listener\n * eventBus.on('sum', function(event, a, b) {\n *   return a + b;\n * });\n *\n * // you can pass custom arguments + retrieve result values.\n * var sum = eventBus.fire('sum', 1, 2);\n * console.log(sum); // 3\n * ```\n *\n * @template [EventMap=null]\n */\nfunction EventBus() {\n  /**\n   * @type { Record<string, EventBusListener> }\n   */\n  this._listeners = {};\n\n  // cleanup on destroy on lowest priority to allow\n  // message passing until the bitter end\n  this.on('diagram.destroy', 1, this._destroy, this);\n}\n\n/**\n * @overlord\n *\n * Register an event listener for events with the given name.\n *\n * The callback will be invoked with `event, ...additionalArguments`\n * that have been passed to {@link EventBus#fire}.\n *\n * Returning false from a listener will prevent the events default action\n * (if any is specified). To stop an event from being processed further in\n * other listeners execute {@link Event#stopPropagation}.\n *\n * Returning anything but `undefined` from a listener will stop the listener propagation.\n *\n * @template T\n *\n * @param {string|string[]} events to subscribe to\n * @param {number} [priority=1000] listen priority\n * @param {EventBusEventCallback<T>} callback\n * @param {any} [that] callback context\n */\n/**\n * Register an event listener for events with the given name.\n *\n * The callback will be invoked with `event, ...additionalArguments`\n * that have been passed to {@link EventBus#fire}.\n *\n * Returning false from a listener will prevent the events default action\n * (if any is specified). To stop an event from being processed further in\n * other listeners execute {@link Event#stopPropagation}.\n *\n * Returning anything but `undefined` from a listener will stop the listener propagation.\n *\n * @template {keyof EventMap} EventName\n *\n * @param {EventName} events to subscribe to\n * @param {number} [priority=1000] listen priority\n * @param {EventBusEventCallback<EventMap[EventName]>} callback\n * @param {any} [that] callback context\n */\nEventBus.prototype.on = function (events, priority, callback, that) {\n  events = (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isArray)(events) ? events : [events];\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isFunction)(priority)) {\n    that = callback;\n    callback = priority;\n    priority = DEFAULT_PRIORITY;\n  }\n  if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isNumber)(priority)) {\n    throw new Error('priority must be a number');\n  }\n  var actualCallback = callback;\n  if (that) {\n    actualCallback = (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.bind)(callback, that);\n\n    // make sure we remember and are able to remove\n    // bound callbacks via {@link #off} using the original\n    // callback\n    actualCallback[FN_REF] = callback[FN_REF] || callback;\n  }\n  var self = this;\n  events.forEach(function (e) {\n    self._addListener(e, {\n      priority: priority,\n      callback: actualCallback,\n      next: null\n    });\n  });\n};\n\n/**\n * @overlord\n *\n * Register an event listener that is called only once.\n *\n * @template T\n *\n * @param {string|string[]} events to subscribe to\n * @param {number} [priority=1000] the listen priority\n * @param {EventBusEventCallback<T>} callback\n * @param {any} [that] callback context\n */\n/**\n * Register an event listener that is called only once.\n *\n * @template {keyof EventMap} EventName\n *\n * @param {EventName} events to subscribe to\n * @param {number} [priority=1000] listen priority\n * @param {EventBusEventCallback<EventMap[EventName]>} callback\n * @param {any} [that] callback context\n */\nEventBus.prototype.once = function (events, priority, callback, that) {\n  var self = this;\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isFunction)(priority)) {\n    that = callback;\n    callback = priority;\n    priority = DEFAULT_PRIORITY;\n  }\n  if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isNumber)(priority)) {\n    throw new Error('priority must be a number');\n  }\n  function wrappedCallback() {\n    wrappedCallback.__isTomb = true;\n    var result = callback.apply(that, arguments);\n    self.off(events, wrappedCallback);\n    return result;\n  }\n\n  // make sure we remember and are able to remove\n  // bound callbacks via {@link #off} using the original\n  // callback\n  wrappedCallback[FN_REF] = callback;\n  this.on(events, priority, wrappedCallback);\n};\n\n/**\n * Removes event listeners by event and callback.\n *\n * If no callback is given, all listeners for a given event name are being removed.\n *\n * @param {string|string[]} events\n * @param {EventBusEventCallback<unknown>} [callback]\n */\nEventBus.prototype.off = function (events, callback) {\n  events = (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isArray)(events) ? events : [events];\n  var self = this;\n  events.forEach(function (event) {\n    self._removeListener(event, callback);\n  });\n};\n\n/**\n * Create an event recognized be the event bus.\n *\n * @param {Object} data Event data.\n *\n * @return {Event} An event that will be recognized by the event bus.\n */\nEventBus.prototype.createEvent = function (data) {\n  var event = new InternalEvent();\n  event.init(data);\n  return event;\n};\n\n/**\n * Fires an event.\n *\n * @example\n *\n * ```javascript\n * // fire event by name\n * events.fire('foo');\n *\n * // fire event object with nested type\n * var event = { type: 'foo' };\n * events.fire(event);\n *\n * // fire event with explicit type\n * var event = { x: 10, y: 20 };\n * events.fire('element.moved', event);\n *\n * // pass additional arguments to the event\n * events.on('foo', function(event, bar) {\n *   alert(bar);\n * });\n *\n * events.fire({ type: 'foo' }, 'I am bar!');\n * ```\n *\n * @param {string} [type] event type\n * @param {Object} [data] event or event data\n * @param {...any} [args] additional arguments the callback will be called with.\n *\n * @return {any} The return value. Will be set to `false` if the default was prevented.\n */\nEventBus.prototype.fire = function (type, data) {\n  var event, firstListener, returnValue, args;\n  args = slice.call(arguments);\n  if (typeof type === 'object') {\n    data = type;\n    type = data.type;\n  }\n  if (!type) {\n    throw new Error('no event type specified');\n  }\n  firstListener = this._listeners[type];\n  if (!firstListener) {\n    return;\n  }\n\n  // we make sure we fire instances of our home made\n  // events here. We wrap them only once, though\n  if (data instanceof InternalEvent) {\n    // we are fine, we alread have an event\n    event = data;\n  } else {\n    event = this.createEvent(data);\n  }\n\n  // ensure we pass the event as the first parameter\n  args[0] = event;\n\n  // original event type (in case we delegate)\n  var originalType = event.type;\n\n  // update event type before delegation\n  if (type !== originalType) {\n    event.type = type;\n  }\n  try {\n    returnValue = this._invokeListeners(event, args, firstListener);\n  } finally {\n    // reset event type after delegation\n    if (type !== originalType) {\n      event.type = originalType;\n    }\n  }\n\n  // set the return value to false if the event default\n  // got prevented and no other return value exists\n  if (returnValue === undefined && event.defaultPrevented) {\n    returnValue = false;\n  }\n  return returnValue;\n};\n\n/**\n * Handle an error by firing an event.\n *\n * @param {Error} error The error to be handled.\n *\n * @return {boolean} Whether the error was handled.\n */\nEventBus.prototype.handleError = function (error) {\n  return this.fire('error', {\n    error: error\n  }) === false;\n};\nEventBus.prototype._destroy = function () {\n  this._listeners = {};\n};\n\n/**\n * @param {Event} event\n * @param {any[]} args\n * @param {EventBusListener} listener\n *\n * @return {any}\n */\nEventBus.prototype._invokeListeners = function (event, args, listener) {\n  var returnValue;\n  while (listener) {\n    // handle stopped propagation\n    if (event.cancelBubble) {\n      break;\n    }\n    returnValue = this._invokeListener(event, args, listener);\n    listener = listener.next;\n  }\n  return returnValue;\n};\n\n/**\n * @param {Event} event\n * @param {any[]} args\n * @param {EventBusListener} listener\n *\n * @return {any}\n */\nEventBus.prototype._invokeListener = function (event, args, listener) {\n  var returnValue;\n  if (listener.callback.__isTomb) {\n    return returnValue;\n  }\n  try {\n    // returning false prevents the default action\n    returnValue = invokeFunction(listener.callback, args);\n\n    // stop propagation on return value\n    if (returnValue !== undefined) {\n      event.returnValue = returnValue;\n      event.stopPropagation();\n    }\n\n    // prevent default on return false\n    if (returnValue === false) {\n      event.preventDefault();\n    }\n  } catch (error) {\n    if (!this.handleError(error)) {\n      console.error('unhandled error in event listener', error);\n      throw error;\n    }\n  }\n  return returnValue;\n};\n\n/**\n * Add new listener with a certain priority to the list\n * of listeners (for the given event).\n *\n * The semantics of listener registration / listener execution are\n * first register, first serve: New listeners will always be inserted\n * after existing listeners with the same priority.\n *\n * Example: Inserting two listeners with priority 1000 and 1300\n *\n *    * before: [ 1500, 1500, 1000, 1000 ]\n *    * after: [ 1500, 1500, (new=1300), 1000, 1000, (new=1000) ]\n *\n * @param {string} event\n * @param {EventBusListener} newListener\n */\nEventBus.prototype._addListener = function (event, newListener) {\n  var listener = this._getListeners(event),\n    previousListener;\n\n  // no prior listeners\n  if (!listener) {\n    this._setListeners(event, newListener);\n    return;\n  }\n\n  // ensure we order listeners by priority from\n  // 0 (high) to n > 0 (low)\n  while (listener) {\n    if (listener.priority < newListener.priority) {\n      newListener.next = listener;\n      if (previousListener) {\n        previousListener.next = newListener;\n      } else {\n        this._setListeners(event, newListener);\n      }\n      return;\n    }\n    previousListener = listener;\n    listener = listener.next;\n  }\n\n  // add new listener to back\n  previousListener.next = newListener;\n};\n\n/**\n * @param {string} name\n *\n * @return {EventBusListener}\n */\nEventBus.prototype._getListeners = function (name) {\n  return this._listeners[name];\n};\n\n/**\n * @param {string} name\n * @param {EventBusListener} listener\n */\nEventBus.prototype._setListeners = function (name, listener) {\n  this._listeners[name] = listener;\n};\nEventBus.prototype._removeListener = function (event, callback) {\n  var listener = this._getListeners(event),\n    nextListener,\n    previousListener,\n    listenerCallback;\n  if (!callback) {\n    // clear listeners\n    this._setListeners(event, null);\n    return;\n  }\n  while (listener) {\n    nextListener = listener.next;\n    listenerCallback = listener.callback;\n    if (listenerCallback === callback || listenerCallback[FN_REF] === callback) {\n      if (previousListener) {\n        previousListener.next = nextListener;\n      } else {\n        // new first listener\n        this._setListeners(event, nextListener);\n      }\n    }\n    previousListener = listener;\n    listener = nextListener;\n  }\n};\n\n/**\n * A event that is emitted via the event bus.\n */\nfunction InternalEvent() {}\nInternalEvent.prototype.stopPropagation = function () {\n  this.cancelBubble = true;\n};\nInternalEvent.prototype.preventDefault = function () {\n  this.defaultPrevented = true;\n};\nInternalEvent.prototype.init = function (data) {\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.assign)(this, data || {});\n};\n\n/**\n * Invoke function. Be fast...\n *\n * @param {Function} fn\n * @param {any[]} args\n *\n * @return {any}\n */\nfunction invokeFunction(fn, args) {\n  return fn.apply(null, args);\n}\n\nconst EMAIL_PATTERN = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;\nconst PHONE_PATTERN = /(\\+|00)(297|93|244|1264|358|355|376|971|54|374|1684|1268|61|43|994|257|32|229|226|880|359|973|1242|387|590|375|501|1441|591|55|1246|673|975|267|236|1|61|41|56|86|225|237|243|242|682|57|269|238|506|53|5999|61|1345|357|420|49|253|1767|45|1809|1829|1849|213|593|20|291|212|34|372|251|358|679|500|33|298|691|241|44|995|44|233|350|224|590|220|245|240|30|1473|299|502|594|1671|592|852|504|385|509|36|62|44|91|246|353|98|964|354|972|39|1876|44|962|81|76|77|254|996|855|686|1869|82|383|965|856|961|231|218|1758|423|94|266|370|352|371|853|590|212|377|373|261|960|52|692|389|223|356|95|382|976|1670|258|222|1664|596|230|265|60|262|264|687|227|672|234|505|683|31|47|977|674|64|968|92|507|64|51|63|680|675|48|1787|1939|850|351|595|970|689|974|262|40|7|250|966|249|221|65|500|4779|677|232|503|378|252|508|381|211|239|597|421|386|46|268|1721|248|963|1649|235|228|66|992|690|993|670|676|1868|216|90|688|886|255|256|380|598|1|998|3906698|379|1784|58|1284|1340|84|678|681|685|967|27|260|263)(9[976]\\d|8[987530]\\d|6[987]\\d|5[90]\\d|42\\d|3[875]\\d|2[98654321]\\d|9[8543210]|8[6421]|6[6543210]|5[87654321]|4[987654310]|3[9643210]|2[70]|7|1)\\d{4,20}$/;\nconst VALIDATE_FEEL_PROPERTIES = ['min', 'max', 'minLength', 'maxLength'];\nclass Validator {\n  constructor(expressionLanguage, conditionChecker, form, formFieldRegistry) {\n    this._expressionLanguage = expressionLanguage;\n    this._conditionChecker = conditionChecker;\n    this._form = form;\n    this._formFieldRegistry = formFieldRegistry;\n  }\n\n  /**\n   * Validate against a field definition, does not support proper expression evaluation.\n   *\n   * @deprecated use validateFieldInstance instead\n   */\n  validateField(field, value) {\n    const {\n      type,\n      validate\n    } = field;\n    let errors = [];\n    if (type === 'number') {\n      errors = [...errors, ...runNumberValidation(field, value)];\n    }\n    if (!validate) {\n      return errors;\n    }\n    const evaluatedValidation = oldEvaluateFEELValues(validate, this._expressionLanguage, this._conditionChecker, this._form);\n    errors = [...errors, ...runPresetValidation(field, evaluatedValidation, value)];\n    return errors;\n  }\n\n  /**\n   * Validate a field instance.\n   *\n   * @param {Object} fieldInstance\n   * @param {string} value\n   *\n   * @returns {Array<string>}\n   */\n  validateFieldInstance(fieldInstance, value) {\n    const {\n      id,\n      expressionContextInfo\n    } = fieldInstance;\n    const field = this._formFieldRegistry.get(id);\n    if (!field) {\n      return [];\n    }\n    const {\n      type,\n      validate\n    } = field;\n    let errors = [];\n    if (type === 'number') {\n      errors = [...errors, ...runNumberValidation(field, value)];\n    }\n    if (!validate) {\n      return errors;\n    }\n    const evaluatedValidation = evaluateFEELValues(validate, this._expressionLanguage, expressionContextInfo);\n    errors = [...errors, ...runPresetValidation(field, evaluatedValidation, value)];\n    return errors;\n  }\n}\nValidator.$inject = ['expressionLanguage', 'conditionChecker', 'form', 'formFieldRegistry'];\n\n// helpers //////////\n\nfunction runNumberValidation(field, value) {\n  const {\n    decimalDigits,\n    increment\n  } = field;\n  const errors = [];\n  if (value === 'NaN') {\n    errors.push('Value is not a number.');\n  } else if (value) {\n    if (decimalDigits >= 0 && countDecimals(value) > decimalDigits) {\n      errors.push('Value is expected to ' + (decimalDigits === 0 ? 'be an integer' : `have at most ${decimalDigits} decimal digit${decimalDigits > 1 ? 's' : ''}`) + '.');\n    }\n    if (increment) {\n      const bigValue = (0,big_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(value);\n      const bigIncrement = (0,big_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(increment);\n      const offset = bigValue.mod(bigIncrement);\n      if (offset.cmp(0) !== 0) {\n        const previousValue = bigValue.minus(offset);\n        const nextValue = previousValue.plus(bigIncrement);\n        errors.push(`Please select a valid value, the two nearest valid values are ${previousValue} and ${nextValue}.`);\n      }\n    }\n  }\n  return errors;\n}\nfunction runPresetValidation(field, validation, value) {\n  const errors = [];\n  if (validation.pattern && value && !new RegExp(validation.pattern).test(value)) {\n    errors.push(validation.patternErrorMessage || `Field must match pattern ${validation.pattern}.`);\n  }\n  if (validation.required) {\n    const isUncheckedCheckbox = field.type === 'checkbox' && value === false;\n    const isUnsetValue = (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isNil)(value) || value === '';\n    const isEmptyMultiselect = Array.isArray(value) && value.length === 0;\n    if (isUncheckedCheckbox || isUnsetValue || isEmptyMultiselect) {\n      errors.push('Field is required.');\n    }\n  }\n  if ('min' in validation && (value || value === 0) && value < validation.min) {\n    errors.push(`Field must have minimum value of ${validation.min}.`);\n  }\n  if ('max' in validation && (value || value === 0) && value > validation.max) {\n    errors.push(`Field must have maximum value of ${validation.max}.`);\n  }\n  if ('minLength' in validation && value && value.trim().length < validation.minLength) {\n    errors.push(`Field must have minimum length of ${validation.minLength}.`);\n  }\n  if ('maxLength' in validation && value && value.trim().length > validation.maxLength) {\n    errors.push(`Field must have maximum length of ${validation.maxLength}.`);\n  }\n  if ('validationType' in validation && value && validation.validationType === 'phone' && !PHONE_PATTERN.test(value)) {\n    errors.push('Field must be a valid  international phone number. (e.g. +4930664040900)');\n  }\n  if ('validationType' in validation && value && validation.validationType === 'email' && !EMAIL_PATTERN.test(value)) {\n    errors.push('Field must be a valid email.');\n  }\n  return errors;\n}\nfunction evaluateFEELValues(validate, expressionLanguage, expressionContextInfo) {\n  const evaluatedValidate = {\n    ...validate\n  };\n  VALIDATE_FEEL_PROPERTIES.forEach(property => {\n    const path = property.split('.');\n    const value = (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.get)(evaluatedValidate, path);\n    const evaluatedValue = runExpressionEvaluation(expressionLanguage, value, expressionContextInfo);\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.set)(evaluatedValidate, path, evaluatedValue === null ? undefined : evaluatedValue);\n  });\n  return evaluatedValidate;\n}\nfunction oldEvaluateFEELValues(validate, expressionLanguage, conditionChecker, form) {\n  const evaluatedValidate = {\n    ...validate\n  };\n  VALIDATE_FEEL_PROPERTIES.forEach(property => {\n    const path = property.split('.');\n    const value = (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.get)(evaluatedValidate, path);\n\n    // mirroring FEEL evaluation of our hooks\n    if (!expressionLanguage || !expressionLanguage.isExpression(value)) {\n      return value;\n    }\n    const {\n      initialData,\n      data\n    } = form._getState();\n    const newData = conditionChecker ? conditionChecker.applyConditions(data, data) : data;\n    const filteredData = {\n      ...initialData,\n      ...newData\n    };\n    const evaluatedValue = expressionLanguage.evaluate(value, filteredData);\n\n    // replace validate property with evaluated value\n    if (evaluatedValue) {\n      (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.set)(evaluatedValidate, path, evaluatedValue);\n    }\n  });\n  return evaluatedValidate;\n}\n\nclass Importer {\n  /**\n   * @constructor\n   * @param { import('./FormFieldRegistry').FormFieldRegistry } formFieldRegistry\n   * @param { import('./PathRegistry').PathRegistry } pathRegistry\n   * @param { import('./FieldFactory').FieldFactory } fieldFactory\n   * @param { import('./FormLayouter').FormLayouter } formLayouter\n   */\n  constructor(formFieldRegistry, pathRegistry, fieldFactory, formLayouter) {\n    this._formFieldRegistry = formFieldRegistry;\n    this._pathRegistry = pathRegistry;\n    this._fieldFactory = fieldFactory;\n    this._formLayouter = formLayouter;\n  }\n\n  /**\n   * Import schema creating rows, fields, attaching additional\n   * information to each field and adding fields to the\n   * field registry.\n   *\n   * Additional information attached:\n   *\n   *   * `id` (unless present)\n   *   * `_parent`\n   *   * `_path`\n   *\n   * @param {any} schema\n   *\n   * @typedef {{ warnings: Error[], schema: any }} ImportResult\n   * @returns {ImportResult}\n   */\n  importSchema(schema) {\n    // TODO: Add warnings\n    const warnings = [];\n    try {\n      this._cleanup();\n      const importedSchema = this.importFormField(clone(schema));\n      this._formLayouter.calculateLayout(clone(importedSchema));\n      return {\n        schema: importedSchema,\n        warnings\n      };\n    } catch (err) {\n      this._cleanup();\n      err.warnings = warnings;\n      throw err;\n    }\n  }\n  _cleanup() {\n    this._formLayouter.clear();\n    this._formFieldRegistry.clear();\n    this._pathRegistry.clear();\n  }\n\n  /**\n   * @param {{[x: string]: any}} fieldAttrs\n   * @param {String} [parentId]\n   * @param {number} [index]\n   *\n   * @return {any} field\n   */\n  importFormField(fieldAttrs, parentId, index) {\n    const {\n      components\n    } = fieldAttrs;\n    let parent, path;\n    if (parentId) {\n      parent = this._formFieldRegistry.get(parentId);\n    }\n\n    // set form field path\n    path = parent ? [...parent._path, 'components', index] : [];\n    const field = this._fieldFactory.create({\n      ...fieldAttrs,\n      _path: path,\n      _parent: parentId\n    }, false);\n    this._formFieldRegistry.add(field);\n    if (components) {\n      field.components = this.importFormFields(components, field.id);\n    }\n    return field;\n  }\n\n  /**\n   * @param {Array<any>} components\n   * @param {string} parentId\n   *\n   * @return {Array<any>} imported components\n   */\n  importFormFields(components, parentId) {\n    return components.map((component, index) => {\n      return this.importFormField(component, parentId, index);\n    });\n  }\n}\nImporter.$inject = ['formFieldRegistry', 'pathRegistry', 'fieldFactory', 'formLayouter'];\n\nclass FieldFactory {\n  /**\n   * @constructor\n   *\n   * @param  formFieldRegistry\n   * @param  formFields\n   */\n  constructor(formFieldRegistry, pathRegistry, formFields) {\n    this._formFieldRegistry = formFieldRegistry;\n    this._pathRegistry = pathRegistry;\n    this._formFields = formFields;\n  }\n  create(attrs, isNewField = true) {\n    const {\n      id,\n      type,\n      key,\n      path,\n      _parent\n    } = attrs;\n    const fieldDefinition = this._formFields.get(type);\n    if (!fieldDefinition) {\n      throw new Error(`form field of type <${type}> not supported`);\n    }\n    const {\n      config\n    } = fieldDefinition;\n    if (!config) {\n      throw new Error(`form field of type <${type}> has no config`);\n    }\n    if (id && this._formFieldRegistry._ids.assigned(id)) {\n      throw new Error(`form field with id <${id}> already exists`);\n    }\n\n    // ensure that we can claim the path\n\n    const parent = _parent && this._formFieldRegistry.get(_parent);\n    const parentPath = parent && this._pathRegistry.getValuePath(parent) || [];\n    const knownAncestorIds = getAncestryList(_parent, this._formFieldRegistry);\n    if (config.keyed && key && !this._pathRegistry.canClaimPath([...parentPath, ...key.split('.')], {\n      isClosed: true,\n      knownAncestorIds\n    })) {\n      throw new Error(`binding path '${[...parentPath, key].join('.')}' is already claimed`);\n    }\n    if (config.pathed && path && !this._pathRegistry.canClaimPath([...parentPath, ...path.split('.')], {\n      isRepeatable: config.repeatable,\n      knownAncestorIds\n    })) {\n      throw new Error(`binding path '${[...parentPath, ...path.split('.')].join('.')}' is already claimed`);\n    }\n    const field = config.create({\n      ...(config.label ? {\n        label: config.label\n      } : {}),\n      ...attrs\n    }, isNewField);\n    this._ensureId(field);\n    if (config.keyed) {\n      this._ensureKey(field);\n      this._pathRegistry.claimPath(this._pathRegistry.getValuePath(field), {\n        isClosed: true,\n        claimerId: field.id,\n        knownAncestorIds: getAncestryList(_parent, this._formFieldRegistry)\n      });\n    }\n    if (config.pathed) {\n      if (config.repeatable) {\n        this._enforceDefaultPath(field);\n      }\n      this._pathRegistry.claimPath(this._pathRegistry.getValuePath(field), {\n        isRepeatable: config.repeatable,\n        claimerId: field.id,\n        knownAncestorIds: getAncestryList(_parent, this._formFieldRegistry)\n      });\n    }\n    return field;\n  }\n  _ensureId(field) {\n    if (field.id) {\n      this._formFieldRegistry._ids.claim(field.id, field);\n      return;\n    }\n    let prefix = 'Field';\n    if (field.type === 'default') {\n      prefix = 'Form';\n    }\n    field.id = this._formFieldRegistry._ids.nextPrefixed(`${prefix}_`, field);\n  }\n  _ensureKey(field) {\n    if (!field.key) {\n      field.key = this._getUniqueKeyPath(field);\n    }\n  }\n  _enforceDefaultPath(field) {\n    if (!field.path) {\n      field.path = this._getUniqueKeyPath(field);\n    }\n  }\n  _getUniqueKeyPath(field) {\n    let random;\n    const parent = this._formFieldRegistry.get(field._parent);\n\n    // ensure key uniqueness at level\n    do {\n      random = Math.random().toString(36).substring(7);\n    } while (parent && parent.components.some(child => child.key === random));\n    return `${field.type}_${random}`;\n  }\n}\nFieldFactory.$inject = ['formFieldRegistry', 'pathRegistry', 'formFields'];\n\n/**\n * The PathRegistry class manages a hierarchical structure of paths associated with form fields.\n * It enables claiming, unclaiming, and validating paths within this structure.\n *\n * Example Tree Structure:\n *\n *   [\n *     {\n *       segment: 'root',\n *       claimCount: 1,\n *       children: [\n *         {\n *           segment: 'child1',\n *           claimCount: 2,\n *           children: null  // A leaf node (closed path)\n *         },\n *         {\n *           segment: 'child2',\n *           claimCount: 1,\n *           children: [\n *             {\n *               segment: 'subChild1',\n *               claimCount: 1,\n *               children: []  // An open node (open path)\n *             }\n *           ]\n *         }\n *       ]\n *     }\n *   ]\n */\nclass PathRegistry {\n  constructor(formFieldRegistry, formFields, injector) {\n    this._formFieldRegistry = formFieldRegistry;\n    this._formFields = formFields;\n    this._injector = injector;\n    this._dataPaths = [];\n  }\n  canClaimPath(path, options = {}) {\n    const {\n      isClosed = false,\n      isRepeatable = false,\n      skipAncestryCheck = false,\n      claimerId = null,\n      knownAncestorIds = []\n    } = options;\n    let node = {\n      children: this._dataPaths\n    };\n\n    // (1) if we reach a leaf node, we cannot claim it, if we reach an open node, we can\n    // if we reach a repeatable node, we need to ensure that the claimer is (or will be) an ancestor of the repeater\n    for (const segment of path) {\n      node = _getNextSegment(node, segment);\n      if (!node) {\n        return true;\n      }\n      if (node.isRepeatable && !skipAncestryCheck) {\n        if (!(claimerId || knownAncestorIds.length)) {\n          throw new Error('cannot claim a path that contains a repeater without specifying a claimerId or knownAncestorIds');\n        }\n        const isValidRepeatClaim = knownAncestorIds.includes(node.repeaterId) || claimerId && getAncestryList(claimerId, this._formFieldRegistry).includes(node.repeaterId);\n        if (!isValidRepeatClaim) {\n          return false;\n        }\n      }\n      if (node.children === null) {\n        return false;\n      }\n    }\n\n    // (2) if the path lands in the middle of the tree, we can only claim an open, non-repeatable path\n    return !(isClosed || isRepeatable);\n  }\n  claimPath(path, options = {}) {\n    const {\n      isClosed = false,\n      isRepeatable = false,\n      claimerId = null,\n      knownAncestorIds = []\n    } = options;\n    if (!this.canClaimPath(path, {\n      isClosed,\n      isRepeatable,\n      claimerId,\n      knownAncestorIds\n    })) {\n      throw new Error(`cannot claim path '${path.join('.')}'`);\n    }\n    let node = {\n      children: this._dataPaths\n    };\n    for (const segment of path) {\n      let child = _getNextSegment(node, segment);\n      if (!child) {\n        child = {\n          segment,\n          claimCount: 1,\n          children: []\n        };\n        node.children.push(child);\n      } else {\n        child.claimCount++;\n      }\n      node = child;\n    }\n    if (isClosed) {\n      node.children = null;\n    }\n\n    // add some additional info when we make a repeatable path claim\n    if (isRepeatable) {\n      node.isRepeatable = true;\n      node.repeaterId = claimerId;\n    }\n  }\n  unclaimPath(path) {\n    // verification Pass\n    let node = {\n      children: this._dataPaths\n    };\n    for (const segment of path) {\n      const child = _getNextSegment(node, segment);\n      if (!child) {\n        throw new Error(`no open path found for '${path.join('.')}'`);\n      }\n      node = child;\n    }\n\n    // mutation Pass\n    node = {\n      children: this._dataPaths\n    };\n    for (const segment of path) {\n      const child = _getNextSegment(node, segment);\n      child.claimCount--;\n      if (child.claimCount === 0) {\n        node.children.splice(node.children.indexOf(child), 1);\n        break; // Abort early if claimCount reaches zero\n      }\n      node = child;\n    }\n  }\n\n  /**\n   * Applies a function (fn) recursively on a given field and its children.\n   *\n   * - `field`: Starting field object.\n   * - `fn`: Function to apply.\n   * - `context`: Optional object for passing data between calls.\n   *\n   * Stops early if `fn` returns `false`. Useful for traversing the form field tree.\n   *\n   * @returns {boolean} Success status based on function execution.\n   */\n  executeRecursivelyOnFields(field, fn, context = {}) {\n    let result = true;\n    const formFieldConfig = this._formFields.get(field.type).config;\n    if (formFieldConfig.keyed) {\n      const callResult = fn({\n        field,\n        isClosed: true,\n        isRepeatable: false,\n        context\n      });\n      return result && callResult;\n    } else if (formFieldConfig.pathed) {\n      const callResult = fn({\n        field,\n        isClosed: false,\n        isRepeatable: formFieldConfig.repeatable,\n        context\n      });\n      result = result && callResult;\n    }\n\n    // stop executing if false is specifically returned or if preventing recursion\n    if (result === false || context.preventRecursion) {\n      return result;\n    }\n    if (Array.isArray(field.components)) {\n      for (const child of field.components) {\n        const callResult = this.executeRecursivelyOnFields(child, fn, clone(context));\n        result = result && callResult;\n\n        // stop executing if false is specifically returned\n        if (result === false) {\n          return result;\n        }\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Generates an array representing the binding path to an underlying data object for a form field.\n   *\n   * @param {Object} field - The field object with properties: `key`, `path`, `id`, and optionally `_parent`.\n   * @param {Object} [options={}] - Configuration options.\n   * @param {Object} [options.replacements={}] - A map of field IDs to alternative path arrays.\n   * @param {Object} [options.indexes=null] - A map of parent IDs to the index of the field within said parent, leave null to get an unindexed path.\n   * @param {Object} [options.cutoffNode] - The ID of the parent field at which to stop generating the path.\n   *\n   * @returns {(Array<string>|undefined)} An array of strings representing the binding path, or undefined if not determinable.\n   */\n  getValuePath(field, options = {}) {\n    const {\n      replacements = {},\n      indexes = null,\n      cutoffNode = null\n    } = options;\n    let localValuePath = [];\n    const hasReplacement = Object.prototype.hasOwnProperty.call(replacements, field.id);\n    const formFieldConfig = this._formFields.get(field.type).config;\n\n    // uses path overrides instead of true path to calculate a potential value path\n    if (hasReplacement) {\n      const replacement = replacements[field.id];\n      if (replacement === null || replacement === undefined || replacement === '') {\n        localValuePath = [];\n      } else if (typeof replacement === 'string') {\n        localValuePath = replacement.split('.');\n      } else if (Array.isArray(replacement)) {\n        localValuePath = replacement;\n      } else {\n        throw new Error(`replacements for field ${field.id} must be a string, array or null/undefined`);\n      }\n    } else if (formFieldConfig.keyed) {\n      localValuePath = field.key.split('.');\n    } else if (formFieldConfig.pathed && field.path) {\n      localValuePath = field.path.split('.');\n    }\n\n    // add potential indexes of repeated fields\n    if (indexes) {\n      localValuePath = this._addIndexes(localValuePath, field, indexes);\n    }\n\n    // if parent exists and isn't cutoff node, add parent's value path\n    if (field._parent && field._parent !== cutoffNode) {\n      const parent = this._formFieldRegistry.get(field._parent);\n      return [...(this.getValuePath(parent, options) || []), ...localValuePath];\n    }\n    return localValuePath;\n  }\n  clear() {\n    this._dataPaths = [];\n  }\n  _addIndexes(localValuePath, field, indexes) {\n    const repeatRenderManager = this._injector.get('repeatRenderManager', false);\n    if (repeatRenderManager && repeatRenderManager.isFieldRepeating(field._parent)) {\n      return [indexes[field._parent], ...localValuePath];\n    }\n    return localValuePath;\n  }\n}\nconst _getNextSegment = (node, segment) => {\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isArray)(node.children)) {\n    return node.children.find(node => node.segment === segment) || null;\n  }\n  return null;\n};\nPathRegistry.$inject = ['formFieldRegistry', 'formFields', 'injector'];\n\n/**\n * @typedef { { id: String, components: Array<String> } } FormRow\n * @typedef { { formFieldId: String, rows: Array<FormRow> } } FormRows\n */\n\n/**\n * Maintains the Form layout in a given structure, for example\n *\n *  [\n *    {\n *      formFieldId: 'FormField_1',\n *      rows: [\n *        { id: 'Row_1', components: [ 'Text_1', 'Textdield_1', ... ]  }\n *      ]\n *    }\n *  ]\n *\n */\nclass FormLayouter {\n  constructor(eventBus) {\n    /** @type Array<FormRows>  */\n    this._rows = [];\n    this._ids = new ids__WEBPACK_IMPORTED_MODULE_0__.Ids([32, 36, 1]);\n    this._eventBus = eventBus;\n  }\n\n  /**\n   * @param {FormRow} row\n   */\n  addRow(formFieldId, row) {\n    let rowsPerComponent = this._rows.find(r => r.formFieldId === formFieldId);\n    if (!rowsPerComponent) {\n      rowsPerComponent = {\n        formFieldId,\n        rows: []\n      };\n      this._rows.push(rowsPerComponent);\n    }\n    rowsPerComponent.rows.push(row);\n  }\n\n  /**\n   * @param {String} id\n   * @returns {FormRow}\n   */\n  getRow(id) {\n    const rows = allRows(this._rows);\n    return rows.find(r => r.id === id);\n  }\n\n  /**\n   * @param {any} formField\n   * @returns {FormRow}\n   */\n  getRowForField(formField) {\n    return allRows(this._rows).find(r => {\n      const {\n        components\n      } = r;\n      return components.includes(formField.id);\n    });\n  }\n\n  /**\n   * @param {String} formFieldId\n   * @returns { Array<FormRow> }\n   */\n  getRows(formFieldId) {\n    const rowsForField = this._rows.find(r => formFieldId === r.formFieldId);\n    if (!rowsForField) {\n      return [];\n    }\n    return rowsForField.rows;\n  }\n\n  /**\n   * @returns {string}\n   */\n  nextRowId() {\n    return this._ids.nextPrefixed('Row_');\n  }\n\n  /**\n   * @param {any} formField\n   */\n  calculateLayout(formField) {\n    const {\n      type,\n      components\n    } = formField;\n    if (!['default', 'group', 'dynamiclist'].includes(type) || !components) {\n      return;\n    }\n\n    // (1) calculate rows order (by component order)\n    const rowsInOrder = groupByRow(components, this._ids);\n    Object.entries(rowsInOrder).forEach(([id, components]) => {\n      // (2) add fields to rows\n      this.addRow(formField.id, {\n        id: id,\n        components: components.map(c => c.id)\n      });\n    });\n\n    // (3) traverse through nested components\n    components.forEach(field => this.calculateLayout(field));\n\n    // (4) fire event to notify interested parties\n    this._eventBus.fire('form.layoutCalculated', {\n      rows: this._rows\n    });\n  }\n  clear() {\n    this._rows = [];\n    this._ids.clear();\n\n    // fire event to notify interested parties\n    this._eventBus.fire('form.layoutCleared');\n  }\n}\nFormLayouter.$inject = ['eventBus'];\n\n// helpers //////\n\nfunction groupByRow(components, ids) {\n  return (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.groupBy)(components, c => {\n    // mitigate missing row by creating new (handle legacy)\n    const {\n      layout\n    } = c;\n    if (!layout || !layout.row) {\n      return ids.nextPrefixed('Row_');\n    }\n    return layout.row;\n  });\n}\n\n/**\n * @param {Array<FormRows>} formRows\n * @returns {Array<FormRow>}\n */\nfunction allRows(formRows) {\n  return formRows.map(r => r.rows).flat();\n}\n\nclass FormFieldRegistry {\n  constructor(eventBus) {\n    this._eventBus = eventBus;\n    this._formFields = {};\n    eventBus.on('form.clear', () => this.clear());\n    this._ids = new ids__WEBPACK_IMPORTED_MODULE_0__.Ids([32, 36, 1]);\n  }\n  add(formField) {\n    const {\n      id\n    } = formField;\n    if (this._formFields[id]) {\n      throw new Error(`form field with ID ${id} already exists`);\n    }\n    this._eventBus.fire('formField.add', {\n      formField\n    });\n    this._formFields[id] = formField;\n  }\n  remove(formField) {\n    const {\n      id\n    } = formField;\n    if (!this._formFields[id]) {\n      return;\n    }\n    this._eventBus.fire('formField.remove', {\n      formField\n    });\n    delete this._formFields[id];\n  }\n  get(id) {\n    return this._formFields[id];\n  }\n  getAll() {\n    return Object.values(this._formFields);\n  }\n  getForm() {\n    return this.getAll().find(formField => formField.type === 'default');\n  }\n  forEach(callback) {\n    this.getAll().forEach(formField => callback(formField));\n  }\n  clear() {\n    this._formFields = {};\n    this._ids.clear();\n  }\n}\nFormFieldRegistry.$inject = ['eventBus'];\n\nclass FormFieldInstanceRegistry {\n  constructor(eventBus, formFieldRegistry, formFields) {\n    this._eventBus = eventBus;\n    this._formFieldRegistry = formFieldRegistry;\n    this._formFields = formFields;\n    this._formFieldInstances = {};\n    eventBus.on('form.clear', () => this.clear());\n  }\n  syncInstance(instanceId, formFieldInfo) {\n    const {\n      hidden,\n      ...restInfo\n    } = formFieldInfo;\n    const isInstanceExpected = !hidden;\n    const doesInstanceExist = this._formFieldInstances[instanceId];\n    if (isInstanceExpected && !doesInstanceExist) {\n      this._formFieldInstances[instanceId] = {\n        instanceId,\n        ...restInfo\n      };\n      this._eventBus.fire('formFieldInstance.added', {\n        instanceId\n      });\n    } else if (!isInstanceExpected && doesInstanceExist) {\n      delete this._formFieldInstances[instanceId];\n      this._eventBus.fire('formFieldInstance.removed', {\n        instanceId\n      });\n    } else if (isInstanceExpected && doesInstanceExist) {\n      const wasInstanceChanged = Object.keys(restInfo).some(key => {\n        return this._formFieldInstances[instanceId][key] !== restInfo[key];\n      });\n      if (wasInstanceChanged) {\n        this._formFieldInstances[instanceId] = {\n          instanceId,\n          ...restInfo\n        };\n        this._eventBus.fire('formFieldInstance.changed', {\n          instanceId\n        });\n      }\n    }\n    return instanceId;\n  }\n  cleanupInstance(instanceId) {\n    if (this._formFieldInstances[instanceId]) {\n      delete this._formFieldInstances[instanceId];\n      this._eventBus.fire('formFieldInstance.removed', {\n        instanceId\n      });\n    }\n  }\n  get(instanceId) {\n    return this._formFieldInstances[instanceId];\n  }\n  getAll() {\n    return Object.values(this._formFieldInstances);\n  }\n  getAllKeyed() {\n    return this.getAll().filter(({\n      id\n    }) => {\n      const formFieldDefinition = this._formFieldRegistry.get(id);\n      if (!formFieldDefinition) {\n        return false;\n      }\n      const {\n        type\n      } = formFieldDefinition;\n      const {\n        config\n      } = this._formFields.get(type);\n      return config.keyed;\n    });\n  }\n  clear() {\n    this._formFieldInstances = {};\n  }\n}\nFormFieldInstanceRegistry.$inject = ['eventBus', 'formFieldRegistry', 'formFields'];\n\nfunction Renderer(config, eventBus, form, injector) {\n  const App = () => {\n    const [state, setState] = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useState)(form._getState());\n    const formContext = {\n      getService(type, strict = true) {\n        return injector.get(type, strict);\n      },\n      formId: form._id\n    };\n    eventBus.on('changed', newState => {\n      setState(newState);\n    });\n    const onChange = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useCallback)(update => form._update(update), []);\n    const {\n      properties\n    } = state;\n    const {\n      readOnly\n    } = properties;\n    const onSubmit = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useCallback)(() => {\n      if (!readOnly) {\n        form.submit();\n      }\n    }, [readOnly]);\n    const onReset = (0,preact_hooks__WEBPACK_IMPORTED_MODULE_5__.useCallback)(() => form.reset(), []);\n    const {\n      schema\n    } = state;\n    if (!schema) {\n      return null;\n    }\n    return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(FormContext.Provider, {\n      value: formContext,\n      children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(FormComponent, {\n        onChange: onChange,\n        onSubmit: onSubmit,\n        onReset: onReset\n      })\n    });\n  };\n  const {\n    container\n  } = config;\n  eventBus.on('form.init', () => {\n    (0,preact__WEBPACK_IMPORTED_MODULE_6__.render)((0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(App, {}), container);\n  });\n  eventBus.on('form.destroy', () => {\n    (0,preact__WEBPACK_IMPORTED_MODULE_6__.render)(null, container);\n  });\n}\nRenderer.$inject = ['config.renderer', 'eventBus', 'form', 'injector'];\n\n/**\n * @typedef {Record<PropertyKey, unknown>} RemovedData\n * @param {RemovedData} removedData\n * @returns {string[]}\n */\nconst extractFileReferencesFromRemovedData = removedData => {\n  /** @type {string[]} */\n  const fileReferences = [];\n  if (removedData === null) {\n    return fileReferences;\n  }\n  Object.values(removedData).forEach(value => {\n    if (value === null) {\n      return;\n    }\n    if (typeof value === 'object') {\n      fileReferences.push(...extractFileReferencesFromRemovedData(/** @type {RemovedData} */value));\n    } else if (Array.isArray(value)) {\n      fileReferences.push(...value.map(extractFileReferencesFromRemovedData).flat());\n    } else if (typeof value === 'string' && value.startsWith(FILE_PICKER_FILE_KEY_PREFIX)) {\n      fileReferences.push(value);\n    }\n  });\n  return fileReferences;\n};\n\nconst fileRegistry = Symbol('fileRegistry');\nconst eventBusSymbol = Symbol('eventBus');\nconst formFieldRegistrySymbol = Symbol('formFieldRegistry');\nconst formFieldInstanceRegistrySymbol = Symbol('formFieldInstanceRegistry');\nconst EMPTY_ARRAY = [];\nclass FileRegistry {\n  /**\n   * @param {import('../core/EventBus').EventBus} eventBus\n   * @param {import('../core/FormFieldRegistry').FormFieldRegistry} formFieldRegistry\n   * @param {import('../core/FormFieldInstanceRegistry').FormFieldInstanceRegistry} formFieldInstanceRegistry\n   */\n  constructor(eventBus, formFieldRegistry, formFieldInstanceRegistry) {\n    /** @type {Map<string, File[]>} */\n    this[fileRegistry] = new Map();\n    /** @type {import('../core/EventBus').EventBus} */\n    this[eventBusSymbol] = eventBus;\n    /** @type {import('../core/FormFieldRegistry').FormFieldRegistry} */\n    this[formFieldRegistrySymbol] = formFieldRegistry;\n    /** @type {import('../core/FormFieldInstanceRegistry').FormFieldInstanceRegistry} */\n    this[formFieldInstanceRegistrySymbol] = formFieldInstanceRegistry;\n    const removeFileHandler = ({\n      item\n    }) => {\n      const fileReferences = extractFileReferencesFromRemovedData(item);\n\n      // Remove all file references from the registry\n      fileReferences.forEach(fileReference => {\n        this.deleteFiles(fileReference);\n      });\n    };\n    eventBus.on('form.clear', () => this.clear());\n    eventBus.on('conditionChecker.remove', removeFileHandler);\n    eventBus.on('repeatRenderManager.remove', removeFileHandler);\n  }\n\n  /**\n   * @param {string} id\n   * @param {File[]} files\n   */\n  setFiles(id, files) {\n    this[fileRegistry].set(id, files);\n  }\n\n  /**\n   * @param {string} id\n   * @returns {File[]}\n   */\n  getFiles(id) {\n    return this[fileRegistry].get(id) || EMPTY_ARRAY;\n  }\n\n  /**\n   * @returns {string[]}\n   */\n  getKeys() {\n    return Array.from(this[fileRegistry].keys());\n  }\n\n  /**\n   * @param {string} id\n   * @returns {boolean}\n   */\n  hasKey(id) {\n    return this[fileRegistry].has(id);\n  }\n\n  /**\n   * @param {string} id\n   */\n  deleteFiles(id) {\n    this[fileRegistry].delete(id);\n  }\n\n  /**\n   * @returns {Map<string, File[]>}\n   */\n  getAllFiles() {\n    return new Map(this[fileRegistry]);\n  }\n  clear() {\n    this[fileRegistry].clear();\n  }\n}\nFileRegistry.$inject = ['eventBus', 'formFieldRegistry', 'formFieldInstanceRegistry'];\n\nconst RenderModule = {\n  __init__: ['formFields', 'renderer'],\n  formFields: ['type', FormFields],\n  renderer: ['type', Renderer],\n  fileRegistry: ['type', FileRegistry]\n};\n\nconst CoreModule = {\n  __depends__: [RenderModule],\n  eventBus: ['type', EventBus],\n  importer: ['type', Importer],\n  fieldFactory: ['type', FieldFactory],\n  formFieldRegistry: ['type', FormFieldRegistry],\n  formFieldInstanceRegistry: ['type', FormFieldInstanceRegistry],\n  pathRegistry: ['type', PathRegistry],\n  formLayouter: ['type', FormLayouter],\n  validator: ['type', Validator]\n};\n\n/**\n * @typedef { import('./types').Injector } Injector\n * @typedef { import('./types').Data } Data\n * @typedef { import('./types').Errors } Errors\n * @typedef { import('./types').Schema } Schema\n * @typedef { import('./types').FormProperties } FormProperties\n * @typedef { import('./types').FormProperty } FormProperty\n * @typedef { import('./types').FormEvent } FormEvent\n * @typedef { import('./types').FormOptions } FormOptions\n *\n * @typedef { {\n *   data: Data,\n *   initialData: Data,\n *   errors: Errors,\n *   properties: FormProperties,\n *   schema: Schema\n * } } State\n *\n * @typedef { (type:FormEvent, priority:number, handler:Function) => void } OnEventWithPriority\n * @typedef { (type:FormEvent, handler:Function) => void } OnEventWithOutPriority\n * @typedef { OnEventWithPriority & OnEventWithOutPriority } OnEventType\n */\n\nconst ids = new ids__WEBPACK_IMPORTED_MODULE_0__.Ids([32, 36, 1]);\n\n/**\n * The form.\n */\nclass Form {\n  /**\n   * @constructor\n   * @param {FormOptions} options\n   */\n  constructor(options = {}) {\n    /**\n     * @public\n     * @type {OnEventType}\n     */\n    this.on = this._onEvent;\n\n    /**\n     * @public\n     * @type {String}\n     */\n    this._id = ids.next();\n\n    /**\n     * @private\n     * @type {Element}\n     */\n    this._container = createFormContainer();\n    const {\n      container,\n      injector = this._createInjector(options, this._container),\n      properties = {}\n    } = options;\n\n    /**\n     * @private\n     * @type {State}\n     */\n    this._state = {\n      initialData: null,\n      data: null,\n      properties,\n      errors: {},\n      schema: null\n    };\n    this.get = injector.get;\n    this.invoke = injector.invoke;\n    this.get('eventBus').fire('form.init');\n    if (container) {\n      this.attachTo(container);\n    }\n  }\n  clear() {\n    // clear diagram services (e.g. EventBus)\n    this._emit('diagram.clear');\n\n    // clear form services\n    this._emit('form.clear');\n  }\n\n  /**\n   * Destroy the form, removing it from DOM,\n   * if attached.\n   */\n  destroy() {\n    // destroy form services\n    this.get('eventBus').fire('form.destroy');\n\n    // destroy diagram services (e.g. EventBus)\n    this.get('eventBus').fire('diagram.destroy');\n    this._detach(false);\n  }\n\n  /**\n   * Open a form schema with the given initial data.\n   *\n   * @param {Schema} schema\n   * @param {Data} [data]\n   *\n   * @return Promise<{ warnings: Array<any> }>\n   */\n  importSchema(schema, data = {}) {\n    return new Promise((resolve, reject) => {\n      try {\n        this.clear();\n        const {\n          schema: importedSchema,\n          warnings\n        } = this.get('importer').importSchema(schema);\n        const initializedData = this._getInitializedFieldData(clone(data));\n        this._setState({\n          data: initializedData,\n          errors: {},\n          schema: importedSchema,\n          initialData: clone(initializedData)\n        });\n        this._emit('import.done', {\n          warnings\n        });\n        return resolve({\n          warnings\n        });\n      } catch (error) {\n        this._emit('import.done', {\n          error,\n          warnings: error.warnings || []\n        });\n        return reject(error);\n      }\n    });\n  }\n\n  /**\n   * Submit the form, triggering all field validations.\n   *\n   * @returns { { data: Data, errors: Errors, files: Map<string, File[]> } }\n   */\n  submit() {\n    const {\n      properties\n    } = this._getState();\n    if (properties.readOnly || properties.disabled) {\n      throw new Error('form is read-only');\n    }\n    this._emit('presubmit');\n    const data = this._getSubmitData();\n    const errors = this.validate();\n    const files = this.get('fileRegistry').getAllFiles();\n    const result = {\n      data,\n      errors,\n      files\n    };\n    this._emit('submit', result);\n    return result;\n  }\n  reset() {\n    this._emit('reset');\n    this._setState({\n      data: clone(this._state.initialData),\n      errors: {}\n    });\n  }\n\n  /**\n   * @returns {Errors}\n   */\n  validate() {\n    const formFieldRegistry = this.get('formFieldRegistry'),\n      formFieldInstanceRegistry = this.get('formFieldInstanceRegistry'),\n      validator = this.get('validator');\n    const {\n      data\n    } = this._getState();\n    const errors = {};\n    const getErrorPath = (id, indexes) => [id, ...Object.values(indexes || {})];\n    formFieldInstanceRegistry.getAllKeyed().forEach(fieldInstance => {\n      const {\n        id,\n        valuePath,\n        indexes\n      } = fieldInstance;\n      const field = formFieldRegistry.get(id);\n\n      // (1) Skip disabled fields\n      if (field.disabled) {\n        return;\n      }\n\n      // (2) Validate the field instance\n      const value = (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.get)(data, valuePath);\n      const fieldErrors = validator.validateFieldInstance(fieldInstance, value);\n      if (fieldErrors.length) {\n        (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.set)(errors, getErrorPath(field.id, indexes), fieldErrors);\n      }\n    });\n    this._setState({\n      errors\n    });\n\n    // @ts-ignore\n    return errors;\n  }\n\n  /**\n   * @param {Element|string} parentNode\n   */\n  attachTo(parentNode) {\n    if (!parentNode) {\n      throw new Error('parentNode required');\n    }\n    this.detach();\n    if ((0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isString)(parentNode)) {\n      parentNode = document.querySelector(parentNode);\n    }\n    const container = this._container;\n    parentNode.appendChild(container);\n    this._emit('attach');\n  }\n  detach() {\n    this._detach();\n  }\n\n  /**\n   * @private\n   *\n   * @param {boolean} [emit]\n   */\n  _detach(emit = true) {\n    const container = this._container,\n      parentNode = container.parentNode;\n    if (!parentNode) {\n      return;\n    }\n    if (emit) {\n      this._emit('detach');\n    }\n    parentNode.removeChild(container);\n  }\n\n  /**\n   * @param {FormProperty} property\n   * @param {any} value\n   */\n  setProperty(property, value) {\n    const properties = (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.set)(this._getState().properties, [property], value);\n    this._setState({\n      properties\n    });\n  }\n\n  /**\n   * @param {FormEvent} type\n   * @param {Function} handler\n   */\n  off(type, handler) {\n    this.get('eventBus').off(type, handler);\n  }\n\n  /**\n   * @private\n   *\n   * @param {FormOptions} options\n   * @param {Element} container\n   *\n   * @returns {Injector}\n   */\n  _createInjector(options, container) {\n    const {\n      modules = this._getModules(),\n      additionalModules = [],\n      ...config\n    } = options;\n    const enrichedConfig = {\n      ...config,\n      renderer: {\n        container\n      }\n    };\n    return createInjector([{\n      config: ['value', enrichedConfig]\n    }, {\n      form: ['value', this]\n    }, CoreModule, ...modules, ...additionalModules]);\n  }\n\n  /**\n   * @private\n   */\n  _emit(type, data) {\n    this.get('eventBus').fire(type, data);\n  }\n\n  /**\n   * @internal\n   *\n   * @param { { fieldInstance: any, value: any } } update\n   */\n  _update(update) {\n    const {\n      fieldInstance,\n      value\n    } = update;\n    const {\n      id,\n      valuePath,\n      indexes\n    } = fieldInstance;\n    const {\n      data,\n      errors\n    } = this._getState();\n    const validator = this.get('validator');\n    const fieldErrors = validator.validateFieldInstance(fieldInstance, value);\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.set)(data, valuePath, value);\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.set)(errors, [id, ...Object.values(indexes || {})], fieldErrors.length ? fieldErrors : undefined);\n    this._emit('field.updated', update);\n    this._setState({\n      data: clone(data),\n      errors: clone(errors)\n    });\n  }\n\n  /**\n   * @internal\n   */\n  _getState() {\n    return this._state;\n  }\n\n  /**\n   * @internal\n   */\n  _setState(state) {\n    this._state = {\n      ...this._state,\n      ...state\n    };\n    this._emit('changed', this._getState());\n  }\n\n  /**\n   * @internal\n   */\n  _getModules() {\n    return [ExpressionLanguageModule, ExpressionFieldModule, MarkdownRendererModule, ViewerCommandsModule, RepeatRenderModule];\n  }\n\n  /**\n   * @internal\n   */\n  _onEvent(type, priority, handler) {\n    this.get('eventBus').on(type, priority, handler);\n  }\n\n  /**\n   * @internal\n   */\n  _getSubmitData() {\n    const formFieldRegistry = this.get('formFieldRegistry');\n    const formFieldInstanceRegistry = this.get('formFieldInstanceRegistry');\n    const formData = this._getState().data;\n    const submitData = {};\n    formFieldInstanceRegistry.getAllKeyed().forEach(formFieldInstance => {\n      const {\n        id,\n        valuePath\n      } = formFieldInstance;\n      const {\n        disabled\n      } = formFieldRegistry.get(id);\n      if (disabled) {\n        return;\n      }\n      const value = (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.get)(formData, valuePath);\n      (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.set)(submitData, valuePath, value);\n    });\n    return submitData;\n  }\n\n  /**\n   * @internal\n   */\n  _getInitializedFieldData(data, options = {}) {\n    const formFieldRegistry = this.get('formFieldRegistry');\n    const formFields = this.get('formFields');\n    const pathRegistry = this.get('pathRegistry');\n    function initializeFieldDataRecursively(initializedData, formField, indexes) {\n      const {\n        defaultValue,\n        type,\n        isRepeating\n      } = formField;\n      const {\n        config: fieldConfig\n      } = formFields.get(type);\n      const valuePath = pathRegistry.getValuePath(formField, {\n        indexes\n      });\n      let valueData = (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.get)(data, valuePath);\n\n      // (1) Process keyed fields\n      if (fieldConfig.keyed) {\n        // (a) Retrieve and sanitize data from input\n        if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isUndefined)(valueData) && fieldConfig.sanitizeValue) {\n          valueData = fieldConfig.sanitizeValue({\n            formField,\n            data,\n            value: valueData\n          });\n        }\n\n        // (b) Initialize field value in output data\n        const initializedFieldValue = !(0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isUndefined)(valueData) ? valueData : !(0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isUndefined)(defaultValue) ? defaultValue : fieldConfig.emptyValue;\n        (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.set)(initializedData, valuePath, initializedFieldValue);\n      }\n\n      // (2) Process parents\n      if (!Array.isArray(formField.components)) {\n        return;\n      }\n      if (fieldConfig.repeatable && isRepeating) {\n        // (a) Sanitize repeatable parents data if it is not an array\n        if (!valueData || !Array.isArray(valueData)) {\n          valueData = new Array((0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isUndefined)(formField.defaultRepetitions) ? 1 : formField.defaultRepetitions).fill().map(_ => ({})) || [];\n        }\n\n        // (b) Ensure all elements of the array are objects\n        valueData = valueData.map(val => (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isObject)(val) ? val : {});\n\n        // (c) Initialize field value in output data\n        (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.set)(initializedData, valuePath, valueData);\n\n        // (d) If indexed ahead of time, recurse repeatable simply across the children\n        if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isUndefined)(indexes[formField.id])) {\n          formField.components.forEach(component => initializeFieldDataRecursively(initializedData, component, {\n            ...indexes\n          }));\n          return;\n        }\n\n        // (e1) Recurse repeatable parents both across the indexes of repetition and the children\n        valueData.forEach((_, index) => {\n          formField.components.forEach(component => initializeFieldDataRecursively(initializedData, component, {\n            ...indexes,\n            [formField.id]: index\n          }));\n        });\n        return;\n      }\n\n      // (e2) Recurse non-repeatable parents only across the children\n      formField.components.forEach(component => initializeFieldDataRecursively(initializedData, component, indexes));\n    }\n\n    // allows definition of a specific subfield to generate the data for\n    const container = options.container || formFieldRegistry.getForm();\n    const indexes = options.indexes || {};\n    const basePath = pathRegistry.getValuePath(container, {\n      indexes\n    }) || [];\n\n    // if indexing ahead of time, we must add this index to the data path at the end\n    const path = !(0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isUndefined)(indexes[container.id]) ? [...basePath, indexes[container.id]] : basePath;\n    const workingData = clone(data);\n    initializeFieldDataRecursively(workingData, container, indexes);\n    return (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.get)(workingData, path, {});\n  }\n}\n\nconst schemaVersion = 19;\n\n/**\n * @typedef { import('./types').CreateFormOptions } CreateFormOptions\n */\n\n/**\n * Create a form.\n *\n * @param {CreateFormOptions} options\n *\n * @return {Promise<Form>}\n */\nfunction createForm(options) {\n  const {\n    data,\n    schema,\n    ...formOptions\n  } = options;\n  const form = new Form(formOptions);\n  return form.importSchema(schema, data).then(function () {\n    return form;\n  });\n}\n\n\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL0BicG1uLWlvL2Zvcm0tanMtdmlld2VyL2Rpc3QvaW5kZXguZXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBMEI7QUFDc0o7QUFDdko7QUFDVztBQUNxQjtBQUNxRDtBQUN4QjtBQUNqRDtBQUNKO0FBQ0M7QUFDSztBQUNNO0FBQ1g7QUFDRjtBQUN3RDtBQUNkO0FBQzFDOztBQUVoQywyRkFBMkY7QUFDM0Y7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsOENBQThDLGlFQUFlLGVBQWUsZUFBZSxpRUFBZSxlQUFlO0FBQ3pIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLGFBQWEsYUFBYTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsYUFBYSxLQUFLO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxrQkFBa0Isc0JBQXNCO0FBQ3hDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPLG9EQUFvRDtBQUMzRCxNQUFNO0FBQ047QUFDQTtBQUNB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QUFRLE9BQU87QUFDOUY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsNENBQU07QUFDNUIsaUJBQWlCLHlEQUFlO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLFFBQVEsNkNBQUc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FB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QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsR0FBRztBQUNkLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0EsU0FBUywyQ0FBUTtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IscURBQU87QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJ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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsZ0JBQWdCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsMkJBQTJCLHlDQUF5QyxxQkFBcUI7QUFDcEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isa0RBQVE7QUFDeEIsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxpREFBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLDBCQUEwQiw2Q0FBRyxrREFBa0Q7QUFDL0U7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSwwQkFBMEIsNkNBQUcsNENBQTRDO0FBQ3pFO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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Q0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0Esa0JBQWtCLHFEQUFXO0FBQzdCO0FBQ0E7QUFDQSxXQUFXLDZDQUFHLHNCQUFzQjtBQUNwQztBQUNBOztBQUVBOztBQUVBO0FBQ0EsY0FBYyxzQ0FBc0M7QUFDcEQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxtQkFBbUI7QUFDOUI7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFd3ZEO0FBQ3h2RCIsInNvdXJjZXMiOlsid2VicGFjazovL2NhbXVuZGEtbW9kZWxlci1jbGllbnQvLi4vbm9kZV9tb2R1bGVzL0BicG1uLWlvL2Zvcm0tanMtdmlld2VyL2Rpc3QvaW5kZXguZXMuanM/YjQ0NCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJZHMgfSBmcm9tICdpZHMnO1xuaW1wb3J0IHsgaXNTdHJpbmcsIGdldCwgaXNOaWwsIGlzT2JqZWN0LCBzb21lLCBpc051bWJlciwgc2V0LCBmaW5kSW5kZXgsIGlzQXJyYXksIGlzRGVmaW5lZCwgdmFsdWVzLCB1bmlxdWVCeSwgaXNGdW5jdGlvbiwgYmluZCwgYXNzaWduLCBncm91cEJ5LCBpc1VuZGVmaW5lZCB9IGZyb20gJ21pbi1kYXNoJztcbmltcG9ydCBCaWcgZnJvbSAnYmlnLmpzJztcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IHsganN4LCBqc3hzLCBGcmFnbWVudCB9IGZyb20gJ3ByZWFjdC9qc3gtcnVudGltZSc7XG5pbXBvcnQgeyB1c2VDb250ZXh0LCB1c2VNZW1vLCB1c2VSZWYsIHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZVN0YXRlLCB1c2VMYXlvdXRFZmZlY3QgfSBmcm9tICdwcmVhY3QvaG9va3MnO1xuaW1wb3J0IHsgY3JlYXRlQ29udGV4dCwgY3JlYXRlRWxlbWVudCwgRnJhZ21lbnQgYXMgRnJhZ21lbnQkMSwgcmVuZGVyIH0gZnJvbSAncHJlYWN0JztcbmltcG9ydCBpc0VxdWFsIGZyb20gJ2xvZGFzaC9pc0VxdWFsJztcbmltcG9ydCB7IERhdGVUaW1lIH0gZnJvbSAnbHV4b24nO1xuaW1wb3J0IGZsYXRwaWNrciBmcm9tICdmbGF0cGlja3InO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncHJlYWN0L2NvbXBhdCc7XG5pbXBvcnQgeyBjcmVhdGVQb3J0YWwgfSBmcm9tICdwcmVhY3QvY29tcGF0JztcbmltcG9ydCBET01QdXJpZnkgZnJvbSAnZG9tcHVyaWZ5JztcbmltcG9ydCB7IEluamVjdG9yIH0gZnJvbSAnZGlkaSc7XG5pbXBvcnQgeyBwYXJzZUV4cHJlc3Npb24sIHBhcnNlVW5hcnlUZXN0cywgZXZhbHVhdGUsIHVuYXJ5VGVzdCB9IGZyb20gJ0BicG1uLWlvL2ZlZWxpbic7XG5pbXBvcnQgeyBldmFsdWF0ZSBhcyBldmFsdWF0ZSQxLCBwYXJzZXIsIGJ1aWxkU2ltcGxlVHJlZSB9IGZyb20gJ2ZlZWxlcnMnO1xuaW1wb3J0IHsgbWFya2VkIH0gZnJvbSAnbWFya2VkJztcblxuY29uc3QgZ2V0Rmxhdm91cmVkRmVlbFZhcmlhYmxlTmFtZXMgPSAoZmVlbFN0cmluZywgZmVlbEZsYXZvdXIgPSAnZXhwcmVzc2lvbicsIG9wdGlvbnMgPSB7fSkgPT4ge1xuICBjb25zdCB7XG4gICAgZGVwdGggPSAwLFxuICAgIHNwZWNpYWxEZXB0aEFjY2Vzc29ycyA9IHt9XG4gIH0gPSBvcHRpb25zO1xuICBpZiAoIVsnZXhwcmVzc2lvbicsICd1bmFyeVRlc3QnXS5pbmNsdWRlcyhmZWVsRmxhdm91cikpIHJldHVybiBbXTtcbiAgY29uc3QgdHJlZSA9IGZlZWxGbGF2b3VyID09PSAnZXhwcmVzc2lvbicgPyBwYXJzZUV4cHJlc3Npb24oZmVlbFN0cmluZywge30sIHVuZGVmaW5lZCkgOiBwYXJzZVVuYXJ5VGVzdHMoZmVlbFN0cmluZywge30sIHVuZGVmaW5lZCk7XG4gIGNvbnN0IHNpbXBsZUV4cHJlc3Npb25UcmVlID0gX2J1aWxkU2ltcGxlRmVlbFN0cnVjdHVyZVRyZWUodHJlZSwgZmVlbFN0cmluZyk7XG4gIGNvbnN0IHZhcmlhYmxlcyA9IGZ1bmN0aW9uIF91bmZvbGRWYXJpYWJsZXMobm9kZSkge1xuICAgIGlmIChub2RlLm5hbWUgPT09ICdQYXRoRXhwcmVzc2lvbicpIHtcbiAgICAgIC8vIGlmIHRoZSBwYXRoIGlzIGJ1aWx0IG9uIHRvcCBvZiBhIGNvbnRleHQsIHdlIHByb2Nlc3MgdGhhdCBjb250ZXh0IGFuZFxuICAgICAgLy8gaWdub3JlIHRoZSByZXN0IG9mIHRoZSBwYXRoIGV4cHJlc3Npb24sIGFzIGl0IGlzIG5vdCByZWxldmFudCBmb3IgdmFyaWFibGUgZXh0cmFjdGlvblxuICAgICAgY29uc3QgcGF0aFJvb3QgPSBfbGluZWFyaXplUGF0aEV4cHJlc3Npb24obm9kZSlbMF07XG4gICAgICBpZiAocGF0aFJvb3QubmFtZSA9PT0gJ0NvbnRleHQnKSB7XG4gICAgICAgIHJldHVybiBfdW5mb2xkVmFyaWFibGVzKHBhdGhSb290KTtcbiAgICAgIH1cbiAgICAgIGlmIChPYmplY3Qua2V5cyhzcGVjaWFsRGVwdGhBY2Nlc3NvcnMpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gZGVwdGggPT09IDAgPyBbX2dldFZhcmlhYmxlTmFtZUF0UGF0aEluZGV4KG5vZGUsIDApXSA6IFtdO1xuICAgICAgfVxuXG4gICAgICAvLyBpZiB1c2luZyBzcGVjaWFsIGRlcHRoIGFjY2Vzc29ycywgdXNlIGEgbW9yZSBjb21wbGV4IGV4dHJhY3Rpb25cbiAgICAgIHJldHVybiBBcnJheS5mcm9tKF9zbWFydEV4dHJhY3RWYXJpYWJsZU5hbWVzKG5vZGUsIGRlcHRoLCBzcGVjaWFsRGVwdGhBY2Nlc3NvcnMpKTtcbiAgICB9XG4gICAgaWYgKGRlcHRoID09PSAwICYmIG5vZGUubmFtZSA9PT0gJ1ZhcmlhYmxlTmFtZScpIHJldHVybiBbbm9kZS52YXJpYWJsZU5hbWVdO1xuXG4gICAgLy8gZm9yIGFueSBvdGhlciBraW5kIG9mIG5vZGUsIHRyYXZlcnNlIGl0cyBjaGlsZHJlbiBhbmQgZmxhdHRlbiB0aGUgcmVzdWx0XG4gICAgaWYgKG5vZGUuY2hpbGRyZW4pIHtcbiAgICAgIGNvbnN0IHZhcmlhYmxlcyA9IG5vZGUuY2hpbGRyZW4ucmVkdWNlKChhY2MsIGNoaWxkKSA9PiB7XG4gICAgICAgIHJldHVybiBhY2MuY29uY2F0KF91bmZvbGRWYXJpYWJsZXMoY2hpbGQpKTtcbiAgICAgIH0sIFtdKTtcblxuICAgICAgLy8gaWYgd2UgYXJlIHdpdGhpbiBhIGZpbHRlciBjb250ZXh0LCB3ZSBuZWVkIHRvIHJlbW92ZSB0aGUgaXRlbSB2YXJpYWJsZSBhcyBpdCBpcyB1c2VkIGZvciBpdGVyYXRpb24gdGhlcmVcbiAgICAgIHJldHVybiBub2RlLm5hbWUgPT09ICdGaWx0ZXJDb250ZXh0JyA/IHZhcmlhYmxlcy5maWx0ZXIobmFtZSA9PiBuYW1lICE9PSAnaXRlbScpIDogdmFyaWFibGVzO1xuICAgIH1cbiAgICByZXR1cm4gW107XG4gIH0oc2ltcGxlRXhwcmVzc2lvblRyZWUpO1xuICByZXR1cm4gWy4uLm5ldyBTZXQodmFyaWFibGVzKV07XG59O1xuXG4vKipcbiAqIEdldCB0aGUgdmFyaWFibGUgbmFtZSBhdCB0aGUgc3BlY2lmaWVkIGluZGV4IGluIGEgZ2l2ZW4gcGF0aCBleHByZXNzaW9uLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSByb290IC0gVGhlIHJvb3Qgbm9kZSBvZiB0aGUgcGF0aCBleHByZXNzaW9uIHRyZWUuXG4gKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBUaGUgaW5kZXggb2YgdGhlIHZhcmlhYmxlIG5hbWUgdG8gcmV0cmlldmUuXG4gKiBAcmV0dXJucyB7c3RyaW5nfG51bGx9IFRoZSB2YXJpYWJsZSBuYW1lIGF0IHRoZSBzcGVjaWZpZWQgaW5kZXggb3IgbnVsbCBpZiBpbmRleCBpcyBvdXQgb2YgYm91bmRzLlxuICovXG5jb25zdCBfZ2V0VmFyaWFibGVOYW1lQXRQYXRoSW5kZXggPSAocm9vdCwgaW5kZXgpID0+IHtcbiAgY29uc3Qgbm9kZXMgPSBfbGluZWFyaXplUGF0aEV4cHJlc3Npb24ocm9vdCk7XG4gIHJldHVybiBub2Rlc1tpbmRleF0udmFyaWFibGVOYW1lIHx8IG51bGw7XG59O1xuXG4vKipcbiAqIEV4dHJhY3RzIHRoZSB2YXJpYWJsZXMgd2hpY2ggYXJlIHJlcXVpcmVkIG9mIHRoZSBleHRlcm5hbCBjb250ZXh0IGZvciBhIGdpdmVuIHBhdGggZXhwcmVzc2lvbi5cbiAqIFRoaXMgaXMgZG9uZSBieSB0cmF2ZXJzaW5nIHRoZSBwYXRoIGV4cHJlc3Npb24gdHJlZSBhbmQga2VlcGluZyB0cmFjayBvZiB0aGUgY3VycmVudCBkZXB0aCByZWxhdGl2ZSB0byB0aGUgZXh0ZXJuYWwgY29udGV4dC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gbm9kZSAtIFRoZSByb290IG5vZGUgb2YgdGhlIHBhdGggZXhwcmVzc2lvbiB0cmVlLlxuICogQHBhcmFtIHtudW1iZXJ9IGluaXRpYWxEZXB0aCAtIFRoZSBkZXB0aCBhdCB3aGljaCB0aGUgcm9vdCBub2RlIGlzIGxvY2F0ZWQgaW4gdGhlIG91dGVyIGNvbnRleHQuXG4gKiBAcGFyYW0ge09iamVjdH0gc3BlY2lhbERlcHRoQWNjZXNzb3JzIC0gRGVmaW5pdGlvbnMgb2Ygc3BlY2lhbCBrZXl3b3JkcyB3aGljaCByZXByZXNlbnQgbW9yZSBjb21wbGV4IGFjY2Vzc2VzIG9mIHRoZSBvdXRlciBjb250ZXh0LlxuICogQHJldHVybnMge1NldH0gLSBBIHNldCBjb250YWluaW5nIHRoZSBleHRyYWN0ZWQgdmFyaWFibGUgbmFtZXMuXG4gKi9cbmNvbnN0IF9zbWFydEV4dHJhY3RWYXJpYWJsZU5hbWVzID0gKG5vZGUsIGluaXRpYWxEZXB0aCwgc3BlY2lhbERlcHRoQWNjZXNzb3JzKSA9PiB7XG4gIC8vIGRlcHRoIGluZm8gcmVwcmVzZW50cyB0aGUgcHJldmlvdXMgKGluaXRpYWxpc2VkIGFzIG51bGwpIGFuZCBjdXJyZW50IGRlcHRoIG9mIHRoZSBjdXJyZW50IGFjY2Vzc29yIGluIHRoZSBwYXRoIGV4cHJlc3Npb25cbiAgLy8gd2UgdHJhY2sgbXVsdGlwbGUgb2YgdGhlc2UgdG8gYWNjb3VudCBmb3IgdGhlIGZhY3QgdGhhdCBhIHBhdGggZXhwcmVzc2lvbiBtYXkgYmUgYW1iaWd1b3VzIGR1ZSB0byBzcGVjaWFsIGtleXdvcmRzXG4gIGxldCBhY2Nlc3NvckRlcHRoSW5mb3MgPSBbe1xuICAgIHByZXZpb3VzOiBudWxsLFxuICAgIGN1cnJlbnQ6IGluaXRpYWxEZXB0aCAtIDFcbiAgfV07XG4gIGNvbnN0IGV4dHJhY3RlZFZhcmlhYmxlcyA9IG5ldyBTZXQoKTtcbiAgY29uc3QgcGF0aE5vZGVzID0gX2xpbmVhcml6ZVBhdGhFeHByZXNzaW9uKG5vZGUpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHBhdGhOb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGN1cnJlbnRBY2Nlc3NvciA9IHBhdGhOb2Rlc1tpXS52YXJpYWJsZU5hbWU7XG4gICAgaWYgKGN1cnJlbnRBY2Nlc3NvciBpbiBzcGVjaWFsRGVwdGhBY2Nlc3NvcnMpIHtcbiAgICAgIGNvbnN0IGRlcHRoT2Zmc2V0cyA9IHNwZWNpYWxEZXB0aEFjY2Vzc29yc1tjdXJyZW50QWNjZXNzb3JdO1xuXG4gICAgICAvLyBpZiB0aGUgY3VycmVudCBhY2Nlc3NvciBpcyBhIHNwZWNpYWwga2V5d29yZCwgd2UgbmVlZCB0byBleHBhbmQgdGhlIGN1cnJlbnQgZGVwdGggaW5mbyBzZXRcbiAgICAgIC8vIHRoaXMgaXMgZG9uZSB0byBhY2NvdW50IGZvciB0aGUgYW1iaWd1aXR5IG9mIGtleXdvcmRzIGxpa2UgcGFyZW50LCB3aGljaCBtYXkgYmUgdXNlZCB0byBhY2Nlc3NcbiAgICAgIC8vIHRoZSBwYXJlbnQgb2YgdGhlIGN1cnJlbnQgbm9kZSwgb3IgYSBjaGlsZCB2YXJpYWJsZSBvZiB0aGUgc2FtZSBuYW1lXG4gICAgICBhY2Nlc3NvckRlcHRoSW5mb3MgPSBkZXB0aE9mZnNldHMucmVkdWNlKChhY2N1bXVsYXRvciwgb2Zmc2V0KSA9PiB7XG4gICAgICAgIHJldHVybiBbLi4uYWNjdW11bGF0b3IsIC4uLmFjY2Vzc29yRGVwdGhJbmZvcy5tYXAoZGVwdGhJbmZvID0+ICh7XG4gICAgICAgICAgcHJldmlvdXM6IGRlcHRoSW5mby5jdXJyZW50LFxuICAgICAgICAgIGN1cnJlbnQ6IGRlcHRoSW5mby5jdXJyZW50ICsgb2Zmc2V0XG4gICAgICAgIH0pKV07XG4gICAgICB9LCBbXSkuZmlsdGVyKGRlcHRoSW5mbyA9PiBkZXB0aEluZm8uY3VycmVudCA+PSAtMSk7IC8vIGRpc2NhcmQgYWxsIGRlcHRoIGluZm9zIHdoaWNoIGFyZSBvdXQgb2YgYm91bmRzXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGlmIHRoZSBjdXJyZW50IGFjY2Vzc29yIGlzIG5vdCBhIHNwZWNpYWwga2V5d29yZCwgd2Uga25vdyBpdCdzIHNpbXBseSBhY2Nlc3NpbmcgYSBjaGlsZFxuICAgICAgLy8gaGVuY2Ugd2UgYXJlIG5vdyBvbmUgbGV2ZWwgZGVlcGVyIGluIHRoZSB0cmVlIGFuZCBzaW1wbHkgaW5jcmVtZW50XG4gICAgICBhY2Nlc3NvckRlcHRoSW5mb3MgPSBhY2Nlc3NvckRlcHRoSW5mb3MubWFwKGRlcHRoSW5mbyA9PiAoe1xuICAgICAgICBwcmV2aW91czogZGVwdGhJbmZvLmN1cnJlbnQsXG4gICAgICAgIGN1cnJlbnQ6IGRlcHRoSW5mby5jdXJyZW50ICsgMVxuICAgICAgfSkpO1xuICAgIH1cblxuICAgIC8vIGZpbmFsbHksIHdlIGNoZWNrIGlmIGZvciB0aGUgY3VycmVudCBhY2Nlc3NvciwgdGhlcmUgaXMgYSBzY2VuYXJpbyB3aGVyZTpcbiAgICAvLyBwcmV2aW91cyBpdCB3YXMgYXQgZGVwdGggLTEgKGkuZS4gdGhlIHJvb3QgY29udGV4dCksIGFuZCBpcyBub3cgYXQgZGVwdGggMCAoaS5lLiBhIHZhcmlhYmxlKVxuICAgIC8vIHRoZXNlIGFyZSB0aGUgdmFyaWFibGVzIHdlIG5lZWQgdG8gcmVxdWVzdCwgc28gd2UgYWRkIHRoZW0gdG8gdGhlIHNldFxuICAgIGlmIChhY2Nlc3NvckRlcHRoSW5mb3Muc29tZShkZXB0aEluZm8gPT4gZGVwdGhJbmZvLnByZXZpb3VzID09PSAtMSAmJiBkZXB0aEluZm8uY3VycmVudCA9PT0gMCkpIHtcbiAgICAgIGV4dHJhY3RlZFZhcmlhYmxlcy5hZGQoY3VycmVudEFjY2Vzc29yKTtcbiAgICB9XG4gIH1cblxuICAvLyB3ZSByZXR1cm4gYSBzZXQgdG8gYXZvaWQgZHVwbGljYXRlc1xuICByZXR1cm4gbmV3IFNldChleHRyYWN0ZWRWYXJpYWJsZXMpO1xufTtcblxuLyoqXG4gKiBEZWNvbnN0cnVjdHMgYSBwYXRoIGV4cHJlc3Npb24gdHJlZSBpbnRvIGFuIGFycmF5IG9mIGNvbXBvbmVudHMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHJvb3QgLSBUaGUgcm9vdCBub2RlIG9mIHRoZSBwYXRoIGV4cHJlc3Npb24gdHJlZS5cbiAqIEByZXR1cm5zIHtBcnJheTxvYmplY3Q+fSBBbiBhcnJheSBvZiBjb21wb25lbnRzIGluIHRoZSBwYXRoIGV4cHJlc3Npb24sIGluIHRoZSBjb3JyZWN0IG9yZGVyLlxuICovXG5jb25zdCBfbGluZWFyaXplUGF0aEV4cHJlc3Npb24gPSByb290ID0+IHtcbiAgbGV0IG5vZGUgPSByb290O1xuICBsZXQgcGFydHMgPSBbXTtcblxuICAvLyBUcmF2ZXJzZSB0aGUgdHJlZSBhbmQgY29sbGVjdCBwYXRoIGNvbXBvbmVudHNcbiAgd2hpbGUgKG5vZGUubmFtZSA9PT0gJ1BhdGhFeHByZXNzaW9uJykge1xuICAgIHBhcnRzLnB1c2gobm9kZS5jaGlsZHJlblsxXSk7XG4gICAgbm9kZSA9IG5vZGUuY2hpbGRyZW5bMF07XG4gIH1cblxuICAvLyBBZGQgdGhlIGxhc3QgY29tcG9uZW50IHRvIHRoZSBhcnJheVxuICBwYXJ0cy5wdXNoKG5vZGUpO1xuXG4gIC8vIFJldmVyc2UgYW5kIHJldHVybiB0aGUgYXJyYXkgdG8gZ2V0IHRoZSBjb3JyZWN0IG9yZGVyXG4gIHJldHVybiBwYXJ0cy5yZXZlcnNlKCk7XG59O1xuXG4vKipcbiAqIEJ1aWxkcyBhIHNpbXBsaWZpZWQgZmVlbCBzdHJ1Y3R1cmUgdHJlZSBmcm9tIHRoZSBnaXZlbiBwYXJzZSB0cmVlIGFuZCBmZWVsIHN0cmluZy5cbiAqIFRoZSBub2RlcyBmb2xsb3cgdGhpcyBzdHJ1Y3R1cmU6IGB7IG5hbWU6IHN0cmluZywgY2hpbGRyZW46IEFycmF5LCB2YXJpYWJsZU5hbWU/OiBzdHJpbmcgfWBcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcGFyc2VUcmVlIC0gVGhlIHBhcnNlIHRyZWUgZ2VuZXJhdGVkIGJ5IGEgcGFyc2VyLlxuICogQHBhcmFtIHtzdHJpbmd9IGZlZWxTdHJpbmcgLSBUaGUgZmVlbCBzdHJpbmcgdXNlZCBmb3IgcGFyc2luZy5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBzaW1wbGlmaWVkIGZlZWwgc3RydWN0dXJlIHRyZWUuXG4gKi9cbmNvbnN0IF9idWlsZFNpbXBsZUZlZWxTdHJ1Y3R1cmVUcmVlID0gKHBhcnNlVHJlZSwgZmVlbFN0cmluZykgPT4ge1xuICBjb25zdCBzdGFjayA9IFt7XG4gICAgY2hpbGRyZW46IFtdXG4gIH1dO1xuICBwYXJzZVRyZWUuaXRlcmF0ZSh7XG4gICAgZW50ZXI6IG5vZGUgPT4ge1xuICAgICAgY29uc3Qgbm9kZVJlcHJlc2VudGF0aW9uID0ge1xuICAgICAgICBuYW1lOiBub2RlLnR5cGUubmFtZSxcbiAgICAgICAgY2hpbGRyZW46IFtdXG4gICAgICB9O1xuICAgICAgaWYgKG5vZGUudHlwZS5uYW1lID09PSAnVmFyaWFibGVOYW1lJykge1xuICAgICAgICBub2RlUmVwcmVzZW50YXRpb24udmFyaWFibGVOYW1lID0gZmVlbFN0cmluZy5zbGljZShub2RlLmZyb20sIG5vZGUudG8pO1xuICAgICAgfVxuICAgICAgc3RhY2sucHVzaChub2RlUmVwcmVzZW50YXRpb24pO1xuICAgIH0sXG4gICAgbGVhdmU6ICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHN0YWNrLnBvcCgpO1xuICAgICAgY29uc3QgcGFyZW50ID0gc3RhY2tbc3RhY2subGVuZ3RoIC0gMV07XG4gICAgICBwYXJlbnQuY2hpbGRyZW4ucHVzaChyZXN1bHQpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBfZXh0cmFjdEZpbHRlckV4cHJlc3Npb25zKHN0YWNrWzBdLmNoaWxkcmVuWzBdKTtcbn07XG5cbi8qKlxuICogUmVzdHJ1Y3R1cmUgdGhlIHRyZWUgaW4gc3VjaCBhIHdheSB0byBicmluZyBmaWx0ZXJzICh3aGljaCBjcmVhdGUgbmV3IGNvbnRleHRzKSB0byB0aGUgcm9vdCBvZiB0aGUgdHJlZS5cbiAqIFRoaXMgaXMgZG9uZSB0byBzaW1wbGlmeSB0aGUgZXh0cmFjdGlvbiBvZiB2YXJpYWJsZXMgYW5kIG1hdGNoIHRoZSBjb250ZXh0IGhpZXJhcmNoeS5cbiAqL1xuY29uc3QgX2V4dHJhY3RGaWx0ZXJFeHByZXNzaW9ucyA9IHRyZWUgPT4ge1xuICBjb25zdCBmbGF0dGVuZWRFeHByZXNzaW9uVHJlZSA9IHtcbiAgICBuYW1lOiAnUm9vdCcsXG4gICAgY2hpbGRyZW46IFt0cmVlXVxuICB9O1xuICBjb25zdCBpdGVyYXRlID0gbm9kZSA9PiB7XG4gICAgaWYgKG5vZGUuY2hpbGRyZW4pIHtcbiAgICAgIGZvciAobGV0IHggPSAwOyB4IDwgbm9kZS5jaGlsZHJlbi5sZW5ndGg7IHgrKykge1xuICAgICAgICBpZiAobm9kZS5jaGlsZHJlblt4XS5uYW1lID09PSAnRmlsdGVyRXhwcmVzc2lvbicpIHtcbiAgICAgICAgICBjb25zdCBmaWx0ZXJUYXJnZXQgPSBub2RlLmNoaWxkcmVuW3hdLmNoaWxkcmVuWzBdO1xuICAgICAgICAgIGNvbnN0IGZpbHRlckV4cHJlc3Npb24gPSBub2RlLmNoaWxkcmVuW3hdLmNoaWxkcmVuWzJdO1xuXG4gICAgICAgICAgLy8gYnlwYXNzIHRoZSBmaWx0ZXIgZXhwcmVzc2lvblxuICAgICAgICAgIG5vZGUuY2hpbGRyZW5beF0gPSBmaWx0ZXJUYXJnZXQ7XG4gICAgICAgICAgY29uc3QgdGFnZ2VkRmlsdGVyRXhwcmVzc2lvbiA9IHtcbiAgICAgICAgICAgIG5hbWU6ICdGaWx0ZXJDb250ZXh0JyxcbiAgICAgICAgICAgIGNoaWxkcmVuOiBbZmlsdGVyRXhwcmVzc2lvbl1cbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgLy8gYXBwZW5kIHRoZSBmaWx0ZXIgZXhwcmVzc2lvbiB0byB0aGUgcm9vdFxuICAgICAgICAgIGZsYXR0ZW5lZEV4cHJlc3Npb25UcmVlLmNoaWxkcmVuLnB1c2godGFnZ2VkRmlsdGVyRXhwcmVzc2lvbik7XG5cbiAgICAgICAgICAvLyByZWN1cnNpdmVseSBpdGVyYXRlIHRoZSBleHByZXNzaW9uXG4gICAgICAgICAgaXRlcmF0ZShmaWx0ZXJFeHByZXNzaW9uKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVyYXRlKG5vZGUuY2hpbGRyZW5beF0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBpdGVyYXRlKHRyZWUpO1xuICByZXR1cm4gZmxhdHRlbmVkRXhwcmVzc2lvblRyZWU7XG59O1xuXG5jbGFzcyBGZWVsRXhwcmVzc2lvbkxhbmd1YWdlIHtcbiAgY29uc3RydWN0b3IoZXZlbnRCdXMpIHtcbiAgICB0aGlzLl9ldmVudEJ1cyA9IGV2ZW50QnVzO1xuICB9XG5cbiAgLyoqXG4gICAqIERldGVybWluZXMgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIGEgRkVFTCBleHByZXNzaW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge2FueX0gdmFsdWVcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqXG4gICAqL1xuICBpc0V4cHJlc3Npb24odmFsdWUpIHtcbiAgICByZXR1cm4gaXNTdHJpbmcodmFsdWUpICYmIHZhbHVlLnN0YXJ0c1dpdGgoJz0nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZSB2YXJpYWJsZSBuYW1lcyBmcm9tIGEgZ2l2ZW4gRkVFTCBleHByZXNzaW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZXhwcmVzc2lvblxuICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy50eXBlXVxuICAgKlxuICAgKiBAcmV0dXJucyB7c3RyaW5nW119XG4gICAqL1xuICBnZXRWYXJpYWJsZU5hbWVzKGV4cHJlc3Npb24sIG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IHtcbiAgICAgIHR5cGUgPSAnZXhwcmVzc2lvbidcbiAgICB9ID0gb3B0aW9ucztcbiAgICBpZiAoIXRoaXMuaXNFeHByZXNzaW9uKGV4cHJlc3Npb24pKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIGlmICghWyd1bmFyeVRlc3QnLCAnZXhwcmVzc2lvbiddLmluY2x1ZGVzKHR5cGUpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gZXhwcmVzc2lvbiB0eXBlOiAnICsgdHlwZSk7XG4gICAgfVxuICAgIHJldHVybiBnZXRGbGF2b3VyZWRGZWVsVmFyaWFibGVOYW1lcyhleHByZXNzaW9uLCB0eXBlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFdmFsdWF0ZSBhbiBleHByZXNzaW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZXhwcmVzc2lvblxuICAgKiBAcGFyYW0ge2ltcG9ydCgnLi4vLi4vdHlwZXMnKS5EYXRhfSBbZGF0YV1cbiAgICpcbiAgICogQHJldHVybnMge2FueX1cbiAgICovXG4gIGV2YWx1YXRlKGV4cHJlc3Npb24sIGRhdGEgPSB7fSkge1xuICAgIGlmICghZXhwcmVzc2lvbikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmICghaXNTdHJpbmcoZXhwcmVzc2lvbikgfHwgIWV4cHJlc3Npb24uc3RhcnRzV2l0aCgnPScpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgdmFsdWU6IHJlc3VsdFxuICAgICAgfSA9IGV2YWx1YXRlKGV4cHJlc3Npb24uc2xpY2UoMSksIGRhdGEpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhpcy5fZXZlbnRCdXMuZmlyZSgnZXJyb3InLCB7XG4gICAgICAgIGVycm9yXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxufVxuRmVlbEV4cHJlc3Npb25MYW5ndWFnZS4kaW5qZWN0ID0gWydldmVudEJ1cyddO1xuXG5jbGFzcyBGZWVsZXJzVGVtcGxhdGluZyB7XG4gIGNvbnN0cnVjdG9yKCkge31cblxuICAvKipcbiAgICogRGV0ZXJtaW5lcyBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgYSBmZWVsZXJzIHRlbXBsYXRlLlxuICAgKlxuICAgKiBAcGFyYW0ge2FueX0gdmFsdWVcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqXG4gICAqL1xuICBpc1RlbXBsYXRlKHZhbHVlKSB7XG4gICAgcmV0dXJuIGlzU3RyaW5nKHZhbHVlKSAmJiAodmFsdWUuc3RhcnRzV2l0aCgnPScpIHx8IC97ey4qP319Ly50ZXN0KHZhbHVlKSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0cmlldmUgdmFyaWFibGUgbmFtZXMgZnJvbSBhIGdpdmVuIGZlZWxlcnMgdGVtcGxhdGUuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0ZW1wbGF0ZVxuICAgKlxuICAgKiBAcmV0dXJucyB7c3RyaW5nW119XG4gICAqL1xuICBnZXRWYXJpYWJsZU5hbWVzKHRlbXBsYXRlKSB7XG4gICAgaWYgKCF0aGlzLmlzVGVtcGxhdGUodGVtcGxhdGUpKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIGNvbnN0IGV4cHJlc3Npb25zID0gdGhpcy5fZXh0cmFjdEV4cHJlc3Npb25zV2l0aERlcHRoKHRlbXBsYXRlKTtcblxuICAgIC8vIGRlZmluZXMgc3BlY2lhbCBhY2Nlc3NvcnMsIGFuZCB0aGUgY2hhbmdlKHMpIGluIGRlcHRoIHRoZXkgY291bGQgaW1wbHkgKGUuZy4gcGFyZW50IGNhbiBiZSB1c2VkIHRvIGFjY2VzcyB0aGUgcGFyZW50IGNvbnRleHQgKGRlcHRoIC0gMSkgb3IgYSBjaGlsZCB2YXJpYWJsZSBuYW1lZCBwYXJlbnQgKGRlcHRoICsgMSlcbiAgICBjb25zdCBzcGVjaWFsRGVwdGhBY2Nlc3NvcnMgPSB7XG4gICAgICBwYXJlbnQ6IFstMSwgMV0sXG4gICAgICBfcGFyZW50XzogWy0xXSxcbiAgICAgIHRoaXM6IFswLCAxXSxcbiAgICAgIF90aGlzXzogWzBdXG4gICAgfTtcbiAgICByZXR1cm4gZXhwcmVzc2lvbnMucmVkdWNlKCh2YXJpYWJsZXMsIHtcbiAgICAgIGV4cHJlc3Npb24sXG4gICAgICBkZXB0aFxuICAgIH0pID0+IHtcbiAgICAgIHJldHVybiB2YXJpYWJsZXMuY29uY2F0KGdldEZsYXZvdXJlZEZlZWxWYXJpYWJsZU5hbWVzKGV4cHJlc3Npb24sICdleHByZXNzaW9uJywge1xuICAgICAgICBkZXB0aCxcbiAgICAgICAgc3BlY2lhbERlcHRoQWNjZXNzb3JzXG4gICAgICB9KSk7XG4gICAgfSwgW10pO1xuICB9XG5cbiAgLyoqXG4gICAqIEV2YWx1YXRlIGEgdGVtcGxhdGUuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0ZW1wbGF0ZVxuICAgKiBAcGFyYW0ge09iamVjdDxzdHJpbmcsIGFueT59IGNvbnRleHRcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5kZWJ1ZyA9IGZhbHNlXVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnN0cmljdCA9IGZhbHNlXVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbb3B0aW9ucy5idWlsZERlYnVnU3RyaW5nXVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbb3B0aW9ucy5zYW5pdGl6ZXJdXG4gICAqXG4gICAqIEByZXR1cm5zXG4gICAqL1xuICBldmFsdWF0ZSh0ZW1wbGF0ZSwgY29udGV4dCA9IHt9LCBvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCB7XG4gICAgICBkZWJ1ZyA9IGZhbHNlLFxuICAgICAgc3RyaWN0ID0gZmFsc2UsXG4gICAgICBidWlsZERlYnVnU3RyaW5nID0gZXJyID0+ICcge3vimqB9fSAnLFxuICAgICAgc2FuaXRpemVyID0gdmFsdWUgPT4gdmFsdWVcbiAgICB9ID0gb3B0aW9ucztcbiAgICByZXR1cm4gZXZhbHVhdGUkMSh0ZW1wbGF0ZSwgY29udGV4dCwge1xuICAgICAgZGVidWcsXG4gICAgICBzdHJpY3QsXG4gICAgICBidWlsZERlYnVnU3RyaW5nLFxuICAgICAgc2FuaXRpemVyXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQHR5cGVkZWYge09iamVjdH0gRXhwcmVzc2lvbldpdGhEZXB0aFxuICAgKiBAcHJvcGVydHkge251bWJlcn0gZGVwdGggLSBUaGUgZGVwdGggb2YgdGhlIGV4cHJlc3Npb24gaW4gdGhlIHN5bnRheCB0cmVlLlxuICAgKiBAcHJvcGVydHkge3N0cmluZ30gZXhwcmVzc2lvbiAtIFRoZSBleHRyYWN0ZWQgZXhwcmVzc2lvblxuICAgKi9cblxuICAvKipcbiAgKiBFeHRyYWN0cyBhbGwgZmVlbCBleHByZXNzaW9ucyBpbiB0aGUgdGVtcGxhdGUgYWxvbmcgd2l0aCB0aGVpciBkZXB0aCBpbiB0aGUgc3ludGF4IHRyZWUuXG4gICogVGhlIGRlcHRoIGlzIGluY3JlbWVudGVkIGZvciBjaGlsZCBleHByZXNzaW9ucyBvZiBsb29wcyB0byBhY2NvdW50IGZvciBjb250ZXh0IGRyaWxsaW5nLlxuICAqIEBuYW1lIGV4dHJhY3RFeHByZXNzaW9uc1dpdGhEZXB0aFxuICAqIEBwYXJhbSB7c3RyaW5nfSB0ZW1wbGF0ZSAtIEEgZmVlbGVycyB0ZW1wbGF0ZSBzdHJpbmcuXG4gICogQHJldHVybnMge0FycmF5PEV4cHJlc3Npb25XaXRoRGVwdGg+fSBBbiBhcnJheSBvZiBvYmplY3RzLCBlYWNoIGNvbnRhaW5pbmcgdGhlIGRlcHRoIGFuZCB0aGUgZXh0cmFjdGVkIGV4cHJlc3Npb24uXG4gICpcbiAgKiBAZXhhbXBsZVxuICAqIGNvbnN0IHRlbXBsYXRlID0gXCJIZWxsbyB7e3VzZXJ9fSwgeW91IGhhdmU6e3sjbG9vcCBpdGVtc319XFxuLSB7e2Ftb3VudH19IHt7bmFtZX19e3svbG9vcH19LlwiO1xuICAqIGNvbnN0IGV4dHJhY3RlZEV4cHJlc3Npb25zID0gX2V4dHJhY3RFeHByZXNzaW9uc1dpdGhEZXB0aCh0ZW1wbGF0ZSk7XG4gICovXG4gIF9leHRyYWN0RXhwcmVzc2lvbnNXaXRoRGVwdGgodGVtcGxhdGUpIHtcbiAgICAvLyBidWlsZCBzaW1wbGlmaWVkIGZlZWxlcnMgc3ludGF4IHRyZWVcbiAgICBjb25zdCBwYXJzZVRyZWUgPSBwYXJzZXIucGFyc2UodGVtcGxhdGUpO1xuICAgIGNvbnN0IHRyZWUgPSBidWlsZFNpbXBsZVRyZWUocGFyc2VUcmVlLCB0ZW1wbGF0ZSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIF90cmF2ZXJzZShuLCBkZXB0aCA9IDApIHtcbiAgICAgIGlmIChbJ0ZlZWwnLCAnRmVlbEJsb2NrJ10uaW5jbHVkZXMobi5uYW1lKSkge1xuICAgICAgICByZXR1cm4gW3tcbiAgICAgICAgICBkZXB0aCxcbiAgICAgICAgICBleHByZXNzaW9uOiBuLmNvbnRlbnRcbiAgICAgICAgfV07XG4gICAgICB9XG4gICAgICBpZiAobi5uYW1lID09PSAnTG9vcFNwYW5uZXInKSB7XG4gICAgICAgIGNvbnN0IGxvb3BFeHByZXNzaW9uID0gbi5jaGlsZHJlblswXS5jb250ZW50O1xuICAgICAgICBjb25zdCBjaGlsZFJlc3VsdHMgPSBuLmNoaWxkcmVuLnNsaWNlKDEpLnJlZHVjZSgoYWNjLCBjaGlsZCkgPT4ge1xuICAgICAgICAgIHJldHVybiBhY2MuY29uY2F0KF90cmF2ZXJzZShjaGlsZCwgZGVwdGggKyAxKSk7XG4gICAgICAgIH0sIFtdKTtcbiAgICAgICAgcmV0dXJuIFt7XG4gICAgICAgICAgZGVwdGgsXG4gICAgICAgICAgZXhwcmVzc2lvbjogbG9vcEV4cHJlc3Npb25cbiAgICAgICAgfSwgLi4uY2hpbGRSZXN1bHRzXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuLmNoaWxkcmVuLnJlZHVjZSgoYWNjLCBjaGlsZCkgPT4ge1xuICAgICAgICByZXR1cm4gYWNjLmNvbmNhdChfdHJhdmVyc2UoY2hpbGQsIGRlcHRoKSk7XG4gICAgICB9LCBbXSk7XG4gICAgfSh0cmVlKTtcbiAgfVxufVxuRmVlbGVyc1RlbXBsYXRpbmcuJGluamVjdCA9IFtdO1xuXG4vLyBjb25maWcgIC8vLy8vLy8vLy8vLy8vLy8vLy9cblxuY29uc3QgTUlOVVRFU19JTl9EQVkgPSA2MCAqIDI0O1xuY29uc3QgREFURVRJTUVfU1VCVFlQRVMgPSB7XG4gIERBVEU6ICdkYXRlJyxcbiAgVElNRTogJ3RpbWUnLFxuICBEQVRFVElNRTogJ2RhdGV0aW1lJ1xufTtcbmNvbnN0IFRJTUVfU0VSSUFMSVNJTkdfRk9STUFUUyA9IHtcbiAgVVRDX09GRlNFVDogJ3V0Y19vZmZzZXQnLFxuICBVVENfTk9STUFMSVpFRDogJ3V0Y19ub3JtYWxpemVkJyxcbiAgTk9fVElNRVpPTkU6ICdub190aW1lem9uZSdcbn07XG5jb25zdCBEQVRFVElNRV9TVUJUWVBFU19MQUJFTFMgPSB7XG4gIFtEQVRFVElNRV9TVUJUWVBFUy5EQVRFXTogJ0RhdGUnLFxuICBbREFURVRJTUVfU1VCVFlQRVMuVElNRV06ICdUaW1lJyxcbiAgW0RBVEVUSU1FX1NVQlRZUEVTLkRBVEVUSU1FXTogJ0RhdGUgJiBUaW1lJ1xufTtcbmNvbnN0IFRJTUVfU0VSSUFMSVNJTkdGT1JNQVRfTEFCRUxTID0ge1xuICBbVElNRV9TRVJJQUxJU0lOR19GT1JNQVRTLlVUQ19PRkZTRVRdOiAnVVRDIG9mZnNldCcsXG4gIFtUSU1FX1NFUklBTElTSU5HX0ZPUk1BVFMuVVRDX05PUk1BTElaRURdOiAnVVRDIG5vcm1hbGl6ZWQnLFxuICBbVElNRV9TRVJJQUxJU0lOR19GT1JNQVRTLk5PX1RJTUVaT05FXTogJ05vIHRpbWV6b25lJ1xufTtcbmNvbnN0IERBVEVUSU1FX1NVQlRZUEVfUEFUSCA9IFsnc3VidHlwZSddO1xuY29uc3QgREFURV9MQUJFTF9QQVRIID0gWydkYXRlTGFiZWwnXTtcbmNvbnN0IERBVEVfRElTQUxMT1dfUEFTVF9QQVRIID0gWydkaXNhbGxvd1Bhc3NlZERhdGVzJ107XG5jb25zdCBUSU1FX0xBQkVMX1BBVEggPSBbJ3RpbWVMYWJlbCddO1xuY29uc3QgVElNRV9VU0UyNEhfUEFUSCA9IFsndXNlMjRoJ107XG5jb25zdCBUSU1FX0lOVEVSVkFMX1BBVEggPSBbJ3RpbWVJbnRlcnZhbCddO1xuY29uc3QgVElNRV9TRVJJQUxJU0lOR19GT1JNQVRfUEFUSCA9IFsndGltZVNlcmlhbGl6aW5nRm9ybWF0J107XG5cbi8vIGNvbmZpZyAgLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5jb25zdCBPUFRJT05TX1NPVVJDRVMgPSB7XG4gIFNUQVRJQzogJ3N0YXRpYycsXG4gIElOUFVUOiAnaW5wdXQnLFxuICBFWFBSRVNTSU9OOiAnZXhwcmVzc2lvbidcbn07XG5jb25zdCBPUFRJT05TX1NPVVJDRV9ERUZBVUxUID0gT1BUSU9OU19TT1VSQ0VTLlNUQVRJQztcbmNvbnN0IE9QVElPTlNfU09VUkNFU19MQUJFTFMgPSB7XG4gIFtPUFRJT05TX1NPVVJDRVMuU1RBVElDXTogJ1N0YXRpYycsXG4gIFtPUFRJT05TX1NPVVJDRVMuSU5QVVRdOiAnSW5wdXQgZGF0YScsXG4gIFtPUFRJT05TX1NPVVJDRVMuRVhQUkVTU0lPTl06ICdFeHByZXNzaW9uJ1xufTtcbmNvbnN0IE9QVElPTlNfU09VUkNFU19QQVRIUyA9IHtcbiAgW09QVElPTlNfU09VUkNFUy5TVEFUSUNdOiBbJ3ZhbHVlcyddLFxuICBbT1BUSU9OU19TT1VSQ0VTLklOUFVUXTogWyd2YWx1ZXNLZXknXSxcbiAgW09QVElPTlNfU09VUkNFUy5FWFBSRVNTSU9OXTogWyd2YWx1ZXNFeHByZXNzaW9uJ11cbn07XG5jb25zdCBPUFRJT05TX1NPVVJDRVNfREVGQVVMVFMgPSB7XG4gIFtPUFRJT05TX1NPVVJDRVMuU1RBVElDXTogW3tcbiAgICBsYWJlbDogJ1ZhbHVlJyxcbiAgICB2YWx1ZTogJ3ZhbHVlJ1xuICB9XSxcbiAgW09QVElPTlNfU09VUkNFUy5JTlBVVF06ICcnLFxuICBbT1BUSU9OU19TT1VSQ0VTLkVYUFJFU1NJT05dOiAnPSdcbn07XG5cbi8vIGhlbHBlcnMgLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5mdW5jdGlvbiBnZXRPcHRpb25zU291cmNlKGZpZWxkKSB7XG4gIGZvciAoY29uc3Qgc291cmNlIG9mIE9iamVjdC52YWx1ZXMoT1BUSU9OU19TT1VSQ0VTKSkge1xuICAgIGlmIChnZXQoZmllbGQsIE9QVElPTlNfU09VUkNFU19QQVRIU1tzb3VyY2VdKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gc291cmNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gT1BUSU9OU19TT1VSQ0VfREVGQVVMVDtcbn1cblxuY29uc3QgU0FOREJPWF9BVFRSSUJVVEUgPSAnc2FuZGJveCc7XG5jb25zdCBBTExPV19BVFRSSUJVVEUgPSAnYWxsb3cnO1xuXG4vLyBDZi4gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSFRUUC9QZXJtaXNzaW9uc19Qb2xpY3kjaWZyYW1lX3N5bnRheFxuY29uc3QgU0VDVVJJVFlfQVRUUklCVVRFU19ERUZJTklUSU9OUyA9IFt7XG4gIGF0dHJpYnV0ZTogU0FOREJPWF9BVFRSSUJVVEUsXG4gIGRpcmVjdGl2ZTogJ2FsbG93LXNjcmlwdHMnLFxuICBwcm9wZXJ0eTogJ2FsbG93U2NyaXB0cycsXG4gIGxhYmVsOiAnU2NyaXB0IGV4ZWN1dGlvbidcbn0sIHtcbiAgYXR0cmlidXRlOiBTQU5EQk9YX0FUVFJJQlVURSxcbiAgZGlyZWN0aXZlOiAnYWxsb3ctc2FtZS1vcmlnaW4nLFxuICBwcm9wZXJ0eTogJ2FsbG93U2FtZU9yaWdpbicsXG4gIGxhYmVsOiAnQWxsb3cgc2FtZSBvcmlnaW4nXG59LCB7XG4gIGF0dHJpYnV0ZTogQUxMT1dfQVRUUklCVVRFLFxuICBkaXJlY3RpdmU6ICdmdWxsc2NyZWVuJyxcbiAgcHJvcGVydHk6ICdmdWxsc2NyZWVuJyxcbiAgbGFiZWw6ICdPcGVuIGluIGZ1bGxzY3JlZW4nXG59LCB7XG4gIGF0dHJpYnV0ZTogQUxMT1dfQVRUUklCVVRFLFxuICBkaXJlY3RpdmU6ICdnZW9sb2NhdGlvbicsXG4gIHByb3BlcnR5OiAnZ2VvbG9jYXRpb24nLFxuICBsYWJlbDogJ0dlb2xvY2F0aW9uJ1xufSwge1xuICBhdHRyaWJ1dGU6IEFMTE9XX0FUVFJJQlVURSxcbiAgZGlyZWN0aXZlOiAnY2FtZXJhJyxcbiAgcHJvcGVydHk6ICdjYW1lcmEnLFxuICBsYWJlbDogJ0NhbWVyYSBhY2Nlc3MnXG59LCB7XG4gIGF0dHJpYnV0ZTogQUxMT1dfQVRUUklCVVRFLFxuICBkaXJlY3RpdmU6ICdtaWNyb3Bob25lJyxcbiAgcHJvcGVydHk6ICdtaWNyb3Bob25lJyxcbiAgbGFiZWw6ICdNaWNyb3Bob25lIGFjY2Vzcydcbn0sIHtcbiAgYXR0cmlidXRlOiBTQU5EQk9YX0FUVFJJQlVURSxcbiAgZGlyZWN0aXZlOiAnYWxsb3ctZm9ybXMnLFxuICBwcm9wZXJ0eTogJ2FsbG93Rm9ybXMnLFxuICBsYWJlbDogJ0Zvcm1zIHN1Ym1pc3Npb24nXG59LCB7XG4gIGF0dHJpYnV0ZTogU0FOREJPWF9BVFRSSUJVVEUsXG4gIGRpcmVjdGl2ZTogJ2FsbG93LW1vZGFscycsXG4gIHByb3BlcnR5OiAnYWxsb3dNb2RhbHMnLFxuICBsYWJlbDogJ09wZW4gbW9kYWwgd2luZG93cydcbn0sIHtcbiAgYXR0cmlidXRlOiBTQU5EQk9YX0FUVFJJQlVURSxcbiAgZGlyZWN0aXZlOiAnYWxsb3ctcG9wdXBzJyxcbiAgcHJvcGVydHk6ICdhbGxvd1BvcHVwcycsXG4gIGxhYmVsOiAnT3BlbiBwb3B1cHMnXG59LCB7XG4gIGF0dHJpYnV0ZTogU0FOREJPWF9BVFRSSUJVVEUsXG4gIGRpcmVjdGl2ZTogJ2FsbG93LXRvcC1uYXZpZ2F0aW9uJyxcbiAgcHJvcGVydHk6ICdhbGxvd1RvcE5hdmlnYXRpb24nLFxuICBsYWJlbDogJ1RvcCBsZXZlbCBuYXZpZ2F0aW9uJ1xufSwge1xuICBhdHRyaWJ1dGU6IFNBTkRCT1hfQVRUUklCVVRFLFxuICBkaXJlY3RpdmU6ICdhbGxvdy1zdG9yYWdlLWFjY2Vzcy1ieS11c2VyLWFjdGl2YXRpb24nLFxuICBwcm9wZXJ0eTogJ2FsbG93U3RvcmFnZUFjY2Vzc0J5VXNlckFjdGl2YXRpb24nLFxuICBsYWJlbDogJ1N0b3JhZ2UgYWNjZXNzIGJ5IHVzZXInXG59XTtcblxuY29uc3QgVEVYVF9WSUVXX0RFRkFVTFRfVEVYVCA9ICcjIFRleHQnO1xuXG5mdW5jdGlvbiBjcmVhdGVJbmplY3Rvcihib290c3RyYXBNb2R1bGVzKSB7XG4gIGNvbnN0IGluamVjdG9yID0gbmV3IEluamVjdG9yKGJvb3RzdHJhcE1vZHVsZXMpO1xuICBpbmplY3Rvci5pbml0KCk7XG4gIHJldHVybiBpbmplY3Rvcjtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZz99IHByZWZpeFxuICpcbiAqIEByZXR1cm5zIEVsZW1lbnRcbiAqL1xuZnVuY3Rpb24gY3JlYXRlRm9ybUNvbnRhaW5lcihwcmVmaXggPSAnZmpzJykge1xuICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoYCR7cHJlZml4fS1jb250YWluZXJgKTtcbiAgcmV0dXJuIGNvbnRhaW5lcjtcbn1cblxuZnVuY3Rpb24gZm9ybUZpZWxkQ2xhc3Nlcyh0eXBlLCB7XG4gIGVycm9ycyA9IFtdLFxuICBkaXNhYmxlZCA9IGZhbHNlLFxuICByZWFkb25seSA9IGZhbHNlXG59ID0ge30pIHtcbiAgaWYgKCF0eXBlKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCd0eXBlIHJlcXVpcmVkJyk7XG4gIH1cbiAgcmV0dXJuIGNsYXNzTmFtZXMoJ2Zqcy1mb3JtLWZpZWxkJywgYGZqcy1mb3JtLWZpZWxkLSR7dHlwZX1gLCB7XG4gICAgJ2Zqcy1oYXMtZXJyb3JzJzogZXJyb3JzLmxlbmd0aCA+IDAsXG4gICAgJ2Zqcy1kaXNhYmxlZCc6IGRpc2FibGVkLFxuICAgICdmanMtcmVhZG9ubHknOiByZWFkb25seVxuICB9KTtcbn1cbmZ1bmN0aW9uIGdyaWRDb2x1bW5DbGFzc2VzKGZvcm1GaWVsZCkge1xuICBjb25zdCB7XG4gICAgbGF5b3V0ID0ge31cbiAgfSA9IGZvcm1GaWVsZDtcbiAgY29uc3Qge1xuICAgIGNvbHVtbnNcbiAgfSA9IGxheW91dDtcbiAgcmV0dXJuIGNsYXNzTmFtZXMoJ2Zqcy1sYXlvdXQtY29sdW1uJywgYGNkcy0tY29sJHtjb2x1bW5zID8gJy1sZy0nICsgY29sdW1ucyA6ICcnfWAsXG4gIC8vIGFsd2F5cyBmYWxsIGJhY2sgdG8gdG9wLWRvd24gb24gc21hbGxlc3Qgc2NyZWVuc1xuICAnY2RzLS1jb2wtc20tMTYnLCAnY2RzLS1jb2wtbWQtMTYnKTtcbn1cbmZ1bmN0aW9uIHRleHRUb0xhYmVsKHRleHQpIHtcbiAgaWYgKHR5cGVvZiB0ZXh0ICE9ICdzdHJpbmcnKSByZXR1cm4gbnVsbDtcbiAgZm9yIChjb25zdCBsaW5lIG9mIHRleHQuc3BsaXQoJ1xcbicpKSB7XG4gICAgY29uc3QgZGlzcGxheUxpbmUgPSBsaW5lLnRyaW0oKTtcblxuICAgIC8vIHdlIHVzZSB0aGUgZmlyc3Qgbm9uLXdoaXRlc3BhY2UgbGluZSBpbiB0aGUgdGV4dCBhcyBsYWJlbFxuICAgIGlmIChkaXNwbGF5TGluZSAhPT0gJycpIHtcbiAgICAgIHJldHVybiBkaXNwbGF5TGluZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBwcmVmaXhJZChpZCwgZm9ybUlkLCBpbmRleGVzKSB7XG4gIGxldCByZXN1bHQgPSAnZmpzLWZvcm0nO1xuICBpZiAoZm9ybUlkKSB7XG4gICAgcmVzdWx0ICs9IGAtJHtmb3JtSWR9YDtcbiAgfVxuICByZXN1bHQgKz0gYC0ke2lkfWA7XG4gIE9iamVjdC52YWx1ZXMoaW5kZXhlcyB8fCB7fSkuZm9yRWFjaChpbmRleCA9PiB7XG4gICAgcmVzdWx0ICs9IGBfJHtpbmRleH1gO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuY29uc3QgRm9ybVJlbmRlckNvbnRleHQgPSBjcmVhdGVDb250ZXh0KHtcbiAgRW1wdHk6IHByb3BzID0+IHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfSxcbiAgSGlkZGVuOiBwcm9wcyA9PiB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH0sXG4gIENoaWxkcmVuOiBwcm9wcyA9PiB7XG4gICAgcmV0dXJuIGpzeChcImRpdlwiLCB7XG4gICAgICBjbGFzczogcHJvcHMuY2xhc3MsXG4gICAgICBzdHlsZTogcHJvcHMuc3R5bGUsXG4gICAgICBjaGlsZHJlbjogcHJvcHMuY2hpbGRyZW5cbiAgICB9KTtcbiAgfSxcbiAgRWxlbWVudDogcHJvcHMgPT4ge1xuICAgIHJldHVybiBqc3goXCJkaXZcIiwge1xuICAgICAgY2xhc3M6IHByb3BzLmNsYXNzLFxuICAgICAgc3R5bGU6IHByb3BzLnN0eWxlLFxuICAgICAgY2hpbGRyZW46IHByb3BzLmNoaWxkcmVuXG4gICAgfSk7XG4gIH0sXG4gIFJvdzogcHJvcHMgPT4ge1xuICAgIHJldHVybiBqc3goXCJkaXZcIiwge1xuICAgICAgY2xhc3M6IHByb3BzLmNsYXNzLFxuICAgICAgc3R5bGU6IHByb3BzLnN0eWxlLFxuICAgICAgY2hpbGRyZW46IHByb3BzLmNoaWxkcmVuXG4gICAgfSk7XG4gIH0sXG4gIENvbHVtbjogcHJvcHMgPT4ge1xuICAgIGlmIChwcm9wcy5maWVsZC50eXBlID09PSAnZGVmYXVsdCcpIHtcbiAgICAgIHJldHVybiBwcm9wcy5jaGlsZHJlbjtcbiAgICB9XG4gICAgcmV0dXJuIGpzeChcImRpdlwiLCB7XG4gICAgICBjbGFzczogcHJvcHMuY2xhc3MsXG4gICAgICBzdHlsZTogcHJvcHMuc3R5bGUsXG4gICAgICBjaGlsZHJlbjogcHJvcHMuY2hpbGRyZW5cbiAgICB9KTtcbiAgfSxcbiAgaG92ZXJJbmZvOiB7XG4gICAgY2xlYW51cDogKCkgPT4ge31cbiAgfVxufSk7XG5cbmNvbnN0IExvY2FsRXhwcmVzc2lvbkNvbnRleHQgPSBjcmVhdGVDb250ZXh0KHtcbiAgZGF0YTogbnVsbCxcbiAgdGhpczogbnVsbCxcbiAgcGFyZW50OiBudWxsLFxuICBpOiBudWxsXG59KTtcblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZVxuICogQHBhcmFtIHtib29sZWFufSBbc3RyaWN0XVxuICpcbiAqIEByZXR1cm5zIHthbnl9XG4gKi9cbmZ1bmN0aW9uIGdldFNlcnZpY2UodHlwZSwgc3RyaWN0KSB7fVxuY29uc3QgRm9ybUNvbnRleHQgPSBjcmVhdGVDb250ZXh0KHtcbiAgZ2V0U2VydmljZSxcbiAgZm9ybUlkOiBudWxsXG59KTtcblxuLyoqXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGVcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3N0cmljdD10cnVlXVxuICogQHJldHVybnMge1QgfCBudWxsfVxuICovXG5mdW5jdGlvbiB1c2VTZXJ2aWNlKHR5cGUsIHN0cmljdCkge1xuICBjb25zdCB7XG4gICAgZ2V0U2VydmljZVxuICB9ID0gdXNlQ29udGV4dChGb3JtQ29udGV4dCk7XG4gIHJldHVybiBnZXRTZXJ2aWNlKHR5cGUsIHN0cmljdCk7XG59XG5cbmZ1bmN0aW9uIGlzUmVxdWlyZWQoZmllbGQpIHtcbiAgcmV0dXJuIGZpZWxkLnJlcXVpcmVkO1xufVxuZnVuY3Rpb24gcGF0aFBhcnNlKHBhdGgpIHtcbiAgaWYgKCFwYXRoKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIHJldHVybiBwYXRoLnNwbGl0KCcuJykubWFwKGtleSA9PiB7XG4gICAgcmV0dXJuIGlzTmFOKHBhcnNlSW50KGtleSkpID8ga2V5IDogcGFyc2VJbnQoa2V5KTtcbiAgfSk7XG59XG5mdW5jdGlvbiBwYXRoc0VxdWFsKGEsIGIpIHtcbiAgcmV0dXJuIGEgJiYgYiAmJiBhLmxlbmd0aCA9PT0gYi5sZW5ndGggJiYgYS5ldmVyeSgodmFsdWUsIGluZGV4KSA9PiB2YWx1ZSA9PT0gYltpbmRleF0pO1xufVxuY29uc3QgaW5kaWNlcyA9IHt9O1xuZnVuY3Rpb24gZ2VuZXJhdGVJbmRleEZvclR5cGUodHlwZSkge1xuICBpZiAodHlwZSBpbiBpbmRpY2VzKSB7XG4gICAgaW5kaWNlc1t0eXBlXSsrO1xuICB9IGVsc2Uge1xuICAgIGluZGljZXNbdHlwZV0gPSAxO1xuICB9XG4gIHJldHVybiBpbmRpY2VzW3R5cGVdO1xufVxuZnVuY3Rpb24gZ2VuZXJhdGVJZEZvclR5cGUodHlwZSkge1xuICByZXR1cm4gYCR7dHlwZX0ke2dlbmVyYXRlSW5kZXhGb3JUeXBlKHR5cGUpfWA7XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7VH0gZGF0YVxuICogQHBhcmFtIHsodGhpczogYW55LCBrZXk6IHN0cmluZywgdmFsdWU6IGFueSkgPT4gYW55fSBbcmVwbGFjZXJdXG4gKiBAcmV0dXJuIHtUfVxuICovXG5mdW5jdGlvbiBjbG9uZShkYXRhLCByZXBsYWNlcikge1xuICByZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShkYXRhLCByZXBsYWNlcikpO1xufVxuZnVuY3Rpb24gcnVuUmVjdXJzaXZlbHkoZm9ybUZpZWxkLCBmbikge1xuICBjb25zdCBjb21wb25lbnRzID0gZm9ybUZpZWxkLmNvbXBvbmVudHMgfHwgW107XG4gIGNvbXBvbmVudHMuZm9yRWFjaCgoY29tcG9uZW50LCBfKSA9PiB7XG4gICAgcnVuUmVjdXJzaXZlbHkoY29tcG9uZW50LCBmbik7XG4gIH0pO1xuICBmbihmb3JtRmllbGQpO1xufVxuZnVuY3Rpb24gd3JhcE9iamVjdEtleXNXaXRoVW5kZXJzY29yZXMob2JqKSB7XG4gIGNvbnN0IG5ld09iaiA9IHt9O1xuICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhvYmopKSB7XG4gICAgbmV3T2JqW2BfJHtrZXl9X2BdID0gdmFsdWU7XG4gIH1cbiAgcmV0dXJuIG5ld09iajtcbn1cblxuLyoqXG4gKiBUcmFuc2Zvcm0gYSBMb2NhbEV4cHJlc3Npb25Db250ZXh0IG9iamVjdCBpbnRvIGEgdXNhYmxlIEZFRUwgY29udGV4dC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY29udGV4dCAtIFRoZSBMb2NhbEV4cHJlc3Npb25Db250ZXh0IG9iamVjdC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSB1c2FibGUgRkVFTCBjb250ZXh0LlxuICovXG5cbmZ1bmN0aW9uIGJ1aWxkRXhwcmVzc2lvbkNvbnRleHQoY29udGV4dCkge1xuICBjb25zdCB7XG4gICAgZGF0YSxcbiAgICAuLi5zcGVjaWFsQ29udGV4dEtleXNcbiAgfSA9IGNvbnRleHQ7XG4gIHJldHVybiB7XG4gICAgLi4uc3BlY2lhbENvbnRleHRLZXlzLFxuICAgIC4uLmRhdGEsXG4gICAgLi4ud3JhcE9iamVjdEtleXNXaXRoVW5kZXJzY29yZXMoc3BlY2lhbENvbnRleHRLZXlzKVxuICB9O1xufVxuXG4vKipcbiAqIElmIHRoZSB2YWx1ZSBpcyBhIHZhbGlkIGV4cHJlc3Npb24sIGl0IGlzIGV2YWx1YXRlZCBhbmQgcmV0dXJuZWQuIE90aGVyd2lzZSwgaXQgaXMgcmV0dXJuZWQgYXMtaXMuXG4gKlxuICogQHBhcmFtIHthbnl9IGV4cHJlc3Npb25MYW5ndWFnZSAtIFRoZSBleHByZXNzaW9uIGxhbmd1YWdlIHRvIHVzZS5cbiAqIEBwYXJhbSB7YW55fSB2YWx1ZSAtIFRoZSBzdGF0aWMgdmFsdWUgb3IgZXhwcmVzc2lvbiB0byBldmFsdWF0ZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBleHByZXNzaW9uQ29udGV4dEluZm8gLSBUaGUgY29udGV4dCBpbmZvcm1hdGlvbiB0byB1c2UuXG4gKiBAcmV0dXJucyB7YW55fSAtIEV2YWx1YXRlZCB2YWx1ZSBvciB0aGUgb3JpZ2luYWwgdmFsdWUgaWYgbm90IGFuIGV4cHJlc3Npb24uXG4gKi9cbmZ1bmN0aW9uIHJ1bkV4cHJlc3Npb25FdmFsdWF0aW9uKGV4cHJlc3Npb25MYW5ndWFnZSwgdmFsdWUsIGV4cHJlc3Npb25Db250ZXh0SW5mbykge1xuICBpZiAoZXhwcmVzc2lvbkxhbmd1YWdlICYmIGV4cHJlc3Npb25MYW5ndWFnZS5pc0V4cHJlc3Npb24odmFsdWUpKSB7XG4gICAgcmV0dXJuIGV4cHJlc3Npb25MYW5ndWFnZS5ldmFsdWF0ZSh2YWx1ZSwgYnVpbGRFeHByZXNzaW9uQ29udGV4dChleHByZXNzaW9uQ29udGV4dEluZm8pKTtcbiAgfVxuICByZXR1cm4gdmFsdWU7XG59XG5cbi8qKlxuICogRXZhbHVhdGUgaWYgY29uZGl0aW9uIGlzIG1ldCByZWFjdGl2ZWx5IGJhc2VkIG9uIHRoZSBjb25kaXRpb25DaGVja2VyIGFuZCBmb3JtIGRhdGEuXG4gKlxuICogQHBhcmFtIHtzdHJpbmcgfCB1bmRlZmluZWR9IGNvbmRpdGlvblxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIGNvbmRpdGlvbiBpcyBtZXQgb3Igbm8gY29uZGl0aW9uIG9yIGNvbmRpdGlvbiBjaGVja2VyIGV4aXN0c1xuICovXG5mdW5jdGlvbiB1c2VDb25kaXRpb24oY29uZGl0aW9uKSB7XG4gIGNvbnN0IGNvbmRpdGlvbkNoZWNrZXIgPSB1c2VTZXJ2aWNlKCdjb25kaXRpb25DaGVja2VyJywgZmFsc2UpO1xuICBjb25zdCBleHByZXNzaW9uQ29udGV4dEluZm8gPSB1c2VDb250ZXh0KExvY2FsRXhwcmVzc2lvbkNvbnRleHQpO1xuICByZXR1cm4gdXNlTWVtbygoKSA9PiB7XG4gICAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIgPyBjb25kaXRpb25DaGVja2VyLmNoZWNrKGNvbmRpdGlvbiwgYnVpbGRFeHByZXNzaW9uQ29udGV4dChleHByZXNzaW9uQ29udGV4dEluZm8pKSA6IG51bGw7XG4gIH0sIFtjb25kaXRpb25DaGVja2VyLCBjb25kaXRpb24sIGV4cHJlc3Npb25Db250ZXh0SW5mb10pO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIG9wdGlvbnMgZGF0YSBmb3IgdGhlIHByb3ZpZGVkIGlmIHRoZXkgY2FuIGJlIHNpbXBseSBkZXRlcm1pbmVkLCBpZ25vcmluZyBleHByZXNzaW9uIGRlZmluZWQgb3B0aW9ucy5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gZm9ybUZpZWxkXG4gKiBAcGFyYW0ge29iamVjdH0gZm9ybURhdGFcbiAqL1xuZnVuY3Rpb24gZ2V0U2ltcGxlT3B0aW9uc0RhdGEoZm9ybUZpZWxkLCBmb3JtRGF0YSkge1xuICBjb25zdCB7XG4gICAgdmFsdWVzRXhwcmVzc2lvbjogb3B0aW9uc0V4cHJlc3Npb24sXG4gICAgdmFsdWVzS2V5OiBvcHRpb25zS2V5LFxuICAgIHZhbHVlczogc3RhdGljT3B0aW9uc1xuICB9ID0gZm9ybUZpZWxkO1xuICBpZiAob3B0aW9uc0V4cHJlc3Npb24pIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gb3B0aW9uc0tleSA/IGdldChmb3JtRGF0YSwgW29wdGlvbnNLZXldKSA6IHN0YXRpY09wdGlvbnM7XG59XG5cbi8qKlxuICogTm9ybWFsaXplcyB0aGUgcHJvdmlkZWQgb3B0aW9ucyBkYXRhIHRvIGEgZm9ybWF0IHRoYXQgY2FuIGJlIHVzZWQgYnkgdGhlIHNlbGVjdCBjb21wb25lbnRzLlxuICogSWYgdGhlIG9wdGlvbnMgZGF0YSBpcyBub3QgdmFsaWQsIGl0IGlzIGZpbHRlcmVkIG91dC5cbiAqXG4gKiBAcGFyYW0ge2FueVtdfSBvcHRpb25zRGF0YVxuICpcbiAqIEByZXR1cm5zIHtvYmplY3RbXX1cbiAqL1xuZnVuY3Rpb24gbm9ybWFsaXplT3B0aW9uc0RhdGEob3B0aW9uc0RhdGEpIHtcbiAgcmV0dXJuIG9wdGlvbnNEYXRhLmZpbHRlcihfaXNBbGxvd2VkVmFsdWUpLm1hcChfbm9ybWFsaXplT3B0aW9uKS5maWx0ZXIobyA9PiAhaXNOaWwobykpO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYW4gb3B0aW9ucyBvYmplY3Qgd2l0aCBkZWZhdWx0IHZhbHVlcyBpZiBubyBvcHRpb25zIGFyZSBwcm92aWRlZC5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9uc1xuICpcbiAqIEByZXR1cm5zIHtvYmplY3R9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUVtcHR5T3B0aW9ucyhvcHRpb25zID0ge30pIHtcbiAgY29uc3QgZGVmYXVsdHMgPSB7fTtcblxuICAvLyBwcm92aWRlIGRlZmF1bHQgb3B0aW9ucyBpZiB2YWx1ZXNLZXkgYW5kIHZhbHVlc0V4cHJlc3Npb24gYXJlIG5vdCBzZXRcbiAgaWYgKCFvcHRpb25zLnZhbHVlc0tleSAmJiAhb3B0aW9ucy52YWx1ZXNFeHByZXNzaW9uKSB7XG4gICAgZGVmYXVsdHMudmFsdWVzID0gW3tcbiAgICAgIGxhYmVsOiAnVmFsdWUnLFxuICAgICAgdmFsdWU6ICd2YWx1ZSdcbiAgICB9XTtcbiAgfVxuICByZXR1cm4ge1xuICAgIC4uLmRlZmF1bHRzLFxuICAgIC4uLm9wdGlvbnNcbiAgfTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyB0aGUgcHJvdmlkZWQgb3B0aW9uIHRvIGEgbm9ybWFsaXplZCBmb3JtYXQuXG4gKiBJZiB0aGUgb3B0aW9uIGlzIG5vdCB2YWxpZCwgbnVsbCBpcyByZXR1cm5lZC5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9uXG4gKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9uLmxhYmVsXG4gKiBAcGFyYW0geyp9IG9wdGlvbi52YWx1ZVxuICpcbiAqIEByZXR1cm5zXG4gKi9cbmZ1bmN0aW9uIF9ub3JtYWxpemVPcHRpb24ob3B0aW9uKSB7XG4gIC8vICgxKSBzaW1wbGUgcHJpbWl0aXZlIGNhc2UsIHVzZSBpdCBhcyBib3RoIGxhYmVsIGFuZCB2YWx1ZVxuICBpZiAoX2lzQWxsb3dlZFByaW1pdGl2ZShvcHRpb24pKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHZhbHVlOiBvcHRpb24sXG4gICAgICBsYWJlbDogYCR7b3B0aW9ufWBcbiAgICB9O1xuICB9XG4gIGlmIChpc09iamVjdChvcHRpb24pKSB7XG4gICAgY29uc3QgaXNWYWxpZExhYmVsID0gX2lzVmFsaWRMYWJlbChvcHRpb24ubGFiZWwpO1xuXG4gICAgLy8gKDIpIG5vIGxhYmVsIHByb3ZpZGVkLCBidXQgdmFsdWUgaXMgYSBzaW1wbGUgcHJpbWl0aXZlLCB1c2UgaXQgYXMgbGFiZWwgYW5kIHZhbHVlXG4gICAgaWYgKCFpc1ZhbGlkTGFiZWwgJiYgX2lzQWxsb3dlZFByaW1pdGl2ZShvcHRpb24udmFsdWUpKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB2YWx1ZTogb3B0aW9uLnZhbHVlLFxuICAgICAgICBsYWJlbDogYCR7b3B0aW9uLnZhbHVlfWBcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gKDMpIGJvdGggbGFiZWwgYW5kIHZhbHVlIGFyZSBwcm92aWRlZCwgdXNlIHRoZW0gYXMgaXNcbiAgICBpZiAoaXNWYWxpZExhYmVsICYmIF9pc0FsbG93ZWRWYWx1ZShvcHRpb24udmFsdWUpKSB7XG4gICAgICByZXR1cm4gb3B0aW9uO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIF9pc0FsbG93ZWRQcmltaXRpdmUodmFsdWUpIHtcbiAgY29uc3QgaXNBbGxvd2VkUHJpbWl0aXZlVHlwZSA9IFsnbnVtYmVyJywgJ3N0cmluZycsICdib29sZWFuJ10uaW5jbHVkZXModHlwZW9mIHZhbHVlKTtcbiAgY29uc3QgaXNWYWxpZCA9IHZhbHVlIHx8IHZhbHVlID09PSAwIHx8IHZhbHVlID09PSBmYWxzZTtcbiAgcmV0dXJuIGlzQWxsb3dlZFByaW1pdGl2ZVR5cGUgJiYgaXNWYWxpZDtcbn1cbmZ1bmN0aW9uIF9pc1ZhbGlkTGFiZWwobGFiZWwpIHtcbiAgcmV0dXJuIGxhYmVsICYmIGlzU3RyaW5nKGxhYmVsKTtcbn1cbmZ1bmN0aW9uIF9pc0FsbG93ZWRWYWx1ZSh2YWx1ZSkge1xuICBpZiAoaXNPYmplY3QodmFsdWUpKSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHZhbHVlKS5sZW5ndGggPiAwO1xuICB9XG4gIHJldHVybiBfaXNBbGxvd2VkUHJpbWl0aXZlKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBJZiB0aGUgdmFsdWUgaXMgYSB2YWxpZCBleHByZXNzaW9uLCBpdCBpcyBldmFsdWF0ZWQgYW5kIHJldHVybmVkLiBPdGhlcndpc2UsIGl0IGlzIHJldHVybmVkIGFzLWlzLlxuICogVGhlIGZ1bmN0aW9uIGlzIG1lbW9pemVkIHRvIG1pbmltaXplIHJlLXJlbmRlcnMuXG4gKlxuICogQHBhcmFtIHthbnl9IHZhbHVlIC0gQSBzdGF0aWMgdmFsdWUgb3IgZXhwcmVzc2lvbiB0byBldmFsdWF0ZS5cbiAqIEByZXR1cm5zIHthbnl9IC0gRXZhbHVhdGVkIHZhbHVlIG9yIHRoZSBvcmlnaW5hbCB2YWx1ZSBpZiBub3QgYW4gZXhwcmVzc2lvbi5cbiAqL1xuZnVuY3Rpb24gdXNlRXhwcmVzc2lvbkV2YWx1YXRpb24odmFsdWUpIHtcbiAgY29uc3QgZXhwcmVzc2lvbkxhbmd1YWdlID0gdXNlU2VydmljZSgnZXhwcmVzc2lvbkxhbmd1YWdlJyk7XG4gIGNvbnN0IGV4cHJlc3Npb25Db250ZXh0SW5mbyA9IHVzZUNvbnRleHQoTG9jYWxFeHByZXNzaW9uQ29udGV4dCk7XG4gIHJldHVybiB1c2VNZW1vKCgpID0+IHJ1bkV4cHJlc3Npb25FdmFsdWF0aW9uKGV4cHJlc3Npb25MYW5ndWFnZSwgdmFsdWUsIGV4cHJlc3Npb25Db250ZXh0SW5mbyksIFtleHByZXNzaW9uTGFuZ3VhZ2UsIGV4cHJlc3Npb25Db250ZXh0SW5mbywgdmFsdWVdKTtcbn1cblxuLyoqXG4gKiBBIGN1c3RvbSBob29rIHRvIG1hbmFnZSBzdGF0ZSBjaGFuZ2VzIHdpdGggZGVlcCBjb21wYXJpc29uLlxuICpcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge1R9IHZhbHVlIC0gVGhlIGN1cnJlbnQgdmFsdWUgdG8gbWFuYWdlLlxuICogQHJldHVybnMge1R9IC0gUmV0dXJucyB0aGUgY3VycmVudCBzdGF0ZS5cbiAqL1xuZnVuY3Rpb24gdXNlRGVlcENvbXBhcmVNZW1vaXplKHZhbHVlKSB7XG4gIC8qKiBAdHlwZSB7aW1wb3J0KFwicHJlYWN0XCIpLlJlZk9iamVjdDxUPn0gKi9cbiAgY29uc3QgcmVmID0gdXNlUmVmKCk7XG4gIGlmICghaXNFcXVhbCh2YWx1ZSwgcmVmLmN1cnJlbnQpKSB7XG4gICAgcmVmLmN1cnJlbnQgPSB2YWx1ZTtcbiAgfVxuICByZXR1cm4gcmVmLmN1cnJlbnQ7XG59XG5cbi8qKlxuICogQGVudW0geyBTdHJpbmcgfVxuICovXG5jb25zdCBMT0FEX1NUQVRFUyA9IHtcbiAgTE9BREVEOiAnbG9hZGVkJyxcbiAgRVJST1I6ICdlcnJvcidcbn07XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3B0aW9uc0dldHRlclxuICogQHByb3BlcnR5IHtPYmplY3RbXX0gb3B0aW9ucyAtIFRoZSBvcHRpb25zIGRhdGFcbiAqIEBwcm9wZXJ0eSB7KExPQURfU1RBVEVTKX0gbG9hZFN0YXRlIC0gVGhlIG9wdGlvbnMgZGF0YSdzIGxvYWRpbmcgc3RhdGUsIHRvIHVzZSBmb3IgY29uZGl0aW9uYWwgcmVuZGVyaW5nXG4gKi9cblxuLyoqXG4gKiBBIGhvb2sgdG8gbG9hZCBvcHRpb25zIGZvciBzaW5nbGUgYW5kIG11bHRpc2VsZWN0IGNvbXBvbmVudHMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGZpZWxkIC0gVGhlIGZvcm0gZmllbGQgdG8gaGFuZGxlIG9wdGlvbnMgZm9yXG4gKiBAcmV0dXJuIHtPcHRpb25zR2V0dGVyfSBvcHRpb25zR2V0dGVyIC0gQSBvcHRpb25zIGdldHRlciBvYmplY3QgcHJvdmlkaW5nIGxvYWRpbmcgc3RhdGUgYW5kIG9wdGlvbnNcbiAqL1xuZnVuY3Rpb24gdXNlT3B0aW9uc0FzeW5jKGZpZWxkKSB7XG4gIGNvbnN0IHtcbiAgICB2YWx1ZXNFeHByZXNzaW9uOiBvcHRpb25zRXhwcmVzc2lvbixcbiAgICB2YWx1ZXNLZXk6IG9wdGlvbnNLZXksXG4gICAgdmFsdWVzOiBzdGF0aWNPcHRpb25zXG4gIH0gPSBmaWVsZDtcbiAgY29uc3QgaW5pdGlhbERhdGEgPSB1c2VTZXJ2aWNlKCdmb3JtJykuX2dldFN0YXRlKCkuaW5pdGlhbERhdGE7XG4gIGNvbnN0IGV4cHJlc3Npb25FdmFsdWF0aW9uID0gdXNlRXhwcmVzc2lvbkV2YWx1YXRpb24ob3B0aW9uc0V4cHJlc3Npb24pO1xuICBjb25zdCBldmFsdWF0ZWRPcHRpb25zID0gdXNlRGVlcENvbXBhcmVNZW1vaXplKGV4cHJlc3Npb25FdmFsdWF0aW9uIHx8IFtdKTtcbiAgY29uc3Qgb3B0aW9uc0dldHRlciA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGxldCBvcHRpb25zID0gW107XG5cbiAgICAvLyBkeW5hbWljIG9wdGlvbnNcbiAgICBpZiAob3B0aW9uc0tleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zdCBrZXllZE9wdGlvbnMgPSAoaW5pdGlhbERhdGEgfHwge30pW29wdGlvbnNLZXldO1xuICAgICAgaWYgKGtleWVkT3B0aW9ucyAmJiBBcnJheS5pc0FycmF5KGtleWVkT3B0aW9ucykpIHtcbiAgICAgICAgb3B0aW9ucyA9IGtleWVkT3B0aW9ucztcbiAgICAgIH1cblxuICAgICAgLy8gc3RhdGljIG9wdGlvbnNcbiAgICB9IGVsc2UgaWYgKHN0YXRpY09wdGlvbnMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgb3B0aW9ucyA9IEFycmF5LmlzQXJyYXkoc3RhdGljT3B0aW9ucykgPyBzdGF0aWNPcHRpb25zIDogW107XG5cbiAgICAgIC8vIGV4cHJlc3Npb25cbiAgICB9IGVsc2UgaWYgKG9wdGlvbnNFeHByZXNzaW9uICYmIGV2YWx1YXRlZE9wdGlvbnMgJiYgQXJyYXkuaXNBcnJheShldmFsdWF0ZWRPcHRpb25zKSkge1xuICAgICAgb3B0aW9ucyA9IGV2YWx1YXRlZE9wdGlvbnM7XG5cbiAgICAgIC8vIGVycm9yIGNhc2VcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGJ1aWxkRXJyb3JTdGF0ZSgnTm8gb3B0aW9ucyBzb3VyY2UgZGVmaW5lZCBpbiB0aGUgZm9ybSBkZWZpbml0aW9uJyk7XG4gICAgfVxuXG4gICAgLy8gbm9ybWFsaXplIGRhdGEgdG8gc3VwcG9ydCBwcmltaXRpdmVzIGFuZCBwYXJ0aWFsbHkgZGVmaW5lZCBvYmplY3RzXG4gICAgcmV0dXJuIGJ1aWxkTG9hZGVkU3RhdGUobm9ybWFsaXplT3B0aW9uc0RhdGEob3B0aW9ucykpO1xuICB9LCBbb3B0aW9uc0tleSwgc3RhdGljT3B0aW9ucywgaW5pdGlhbERhdGEsIG9wdGlvbnNFeHByZXNzaW9uLCBldmFsdWF0ZWRPcHRpb25zXSk7XG4gIHJldHVybiBvcHRpb25zR2V0dGVyO1xufVxuY29uc3QgYnVpbGRFcnJvclN0YXRlID0gZXJyb3IgPT4gKHtcbiAgb3B0aW9uczogW10sXG4gIGVycm9yLFxuICBsb2FkU3RhdGU6IExPQURfU1RBVEVTLkVSUk9SXG59KTtcbmNvbnN0IGJ1aWxkTG9hZGVkU3RhdGUgPSBvcHRpb25zID0+ICh7XG4gIG9wdGlvbnMsXG4gIGVycm9yOiB1bmRlZmluZWQsXG4gIGxvYWRTdGF0ZTogTE9BRF9TVEFURVMuTE9BREVEXG59KTtcblxuLyoqXG4gKiBXcmFwIEhUTUwgY29udGVudCBpbiBhIGNvbmZpZ3VyYXRpb24gb2JqZWN0IGZvciBkYW5nZXJvdXNseVNldElubmVySFRNTFxuICogQHBhcmFtIHtPYmplY3R9IHByb3BzXG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcHMuaHRtbFxuICogQHBhcmFtIHtGdW5jdGlvbn0gW3Byb3BzLnRyYW5zZm9ybV1cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Byb3BzLnNhbml0aXplID0gdHJ1ZV1cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Byb3BzLnNhbml0aXplU3R5bGVUYWdzID0gdHJ1ZV1cbiAqL1xuY29uc3QgdXNlRGFuZ2Vyb3VzSFRNTFdyYXBwZXIgPSBwcm9wcyA9PiB7XG4gIGNvbnN0IHtcbiAgICBodG1sLFxuICAgIHRyYW5zZm9ybSA9IGh0bWwgPT4gaHRtbCxcbiAgICBzYW5pdGl6ZSA9IHRydWUsXG4gICAgc2FuaXRpemVTdHlsZVRhZ3MgPSB0cnVlXG4gIH0gPSBwcm9wcztcbiAgY29uc3Qgc2FuaXRpemVkSHRtbCA9IHVzZU1lbW8oKCkgPT4gc2FuaXRpemUgPyBET01QdXJpZnkuc2FuaXRpemUoaHRtbCwgZ2V0RE9NUHVyaWZ5Q29uZmlnKHNhbml0aXplU3R5bGVUYWdzKSkgOiBodG1sLCBbaHRtbCwgc2FuaXRpemUsIHNhbml0aXplU3R5bGVUYWdzXSk7XG4gIGNvbnN0IHRyYW5zZm9ybWVkSHRtbCA9IHVzZU1lbW8oKCkgPT4gdHJhbnNmb3JtKHNhbml0aXplZEh0bWwpLCBbc2FuaXRpemVkSHRtbCwgdHJhbnNmb3JtXSk7XG5cbiAgLy8gUmV0dXJuIHRoZSBjb25maWd1cmF0aW9uIG9iamVjdCBmb3IgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxcbiAgcmV0dXJuIHtcbiAgICBfX2h0bWw6IHRyYW5zZm9ybWVkSHRtbFxuICB9O1xufTtcbmNvbnN0IGdldERPTVB1cmlmeUNvbmZpZyA9IHNhbml0aXplU3R5bGVUYWdzID0+IHtcbiAgcmV0dXJuIHtcbiAgICBGT1JDRV9CT0RZOiB0cnVlLFxuICAgIEZPUkJJRF9UQUdTOiBzYW5pdGl6ZVN0eWxlVGFncyA/IFsnc3R5bGUnXSA6IFtdXG4gIH07XG59O1xuXG4vKipcbiAqIEEgY3VzdG9tIGhvb2sgdG8gYnVpbGQgdXAgc2VjdXJpdHkgYXR0cmlidXRlcyBmcm9tIGZvcm0gY29uZmlndXJhdGlvbi5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gc2VjdXJpdHkgLSBUaGUgc2VjdXJpdHkgY29uZmlndXJhdGlvbi5cbiAqIEByZXR1cm5zIHtBcnJheX0gLSBSZXR1cm5zIGEgdHVwbGUgd2l0aCBzYW5kYm94IGFuZCBhbGxvdyBhdHRyaWJ1dGVzLlxuICovXG5mdW5jdGlvbiB1c2VTZWN1cml0eUF0dHJpYnV0ZXNNYXAoc2VjdXJpdHkpIHtcbiAgY29uc3Qgc2VjdXJpdHlNZW1vaXplZCA9IHVzZURlZXBDb21wYXJlTWVtb2l6ZShzZWN1cml0eSk7XG4gIGNvbnN0IHNhbmRib3ggPSB1c2VNZW1vKCgpID0+IFNFQ1VSSVRZX0FUVFJJQlVURVNfREVGSU5JVElPTlMuZmlsdGVyKCh7XG4gICAgYXR0cmlidXRlXG4gIH0pID0+IGF0dHJpYnV0ZSA9PT0gU0FOREJPWF9BVFRSSUJVVEUpLmZpbHRlcigoe1xuICAgIHByb3BlcnR5XG4gIH0pID0+IGdldChzZWN1cml0eU1lbW9pemVkLCBbcHJvcGVydHldLCBmYWxzZSkpLm1hcCgoe1xuICAgIGRpcmVjdGl2ZVxuICB9KSA9PiBkaXJlY3RpdmUpLmpvaW4oJyAnKSwgW3NlY3VyaXR5TWVtb2l6ZWRdKTtcbiAgY29uc3QgYWxsb3cgPSB1c2VNZW1vKCgpID0+IFNFQ1VSSVRZX0FUVFJJQlVURVNfREVGSU5JVElPTlMuZmlsdGVyKCh7XG4gICAgYXR0cmlidXRlXG4gIH0pID0+IGF0dHJpYnV0ZSAhPT0gU0FOREJPWF9BVFRSSUJVVEUpLmZpbHRlcigoe1xuICAgIHByb3BlcnR5XG4gIH0pID0+IGdldChzZWN1cml0eU1lbW9pemVkLCBbcHJvcGVydHldLCBmYWxzZSkpLm1hcCgoe1xuICAgIGRpcmVjdGl2ZVxuICB9KSA9PiBkaXJlY3RpdmUpLmpvaW4oJzsgJyksIFtzZWN1cml0eU1lbW9pemVkXSk7XG4gIHJldHVybiBbc2FuZGJveCwgYWxsb3ddO1xufVxuXG4vKipcbiAqIFRoaXMgaG9vayBhbGxvd3MgdXMgdG8gcmV0cmlldmUgdGhlIGxhYmVsIGZyb20gYSB2YWx1ZSBpbiBsaW5lYXIgdGltZSBieSBjYWNoaW5nIGl0IGluIGEgbWFwXG4gKiBAcGFyYW0ge0FycmF5fSBvcHRpb25zXG4gKi9cbmZ1bmN0aW9uIHVzZUdldExhYmVsQ29ycmVsYXRpb24ob3B0aW9ucykge1xuICAvLyBUaGlzIGFsbG93cyB1cyB0byByZXRyaWV2ZSB0aGUgbGFiZWwgZnJvbSBhIHZhbHVlIGluIGxpbmVhciB0aW1lXG4gIGNvbnN0IGxhYmVsTWFwID0gdXNlTWVtbygoKSA9PiBPYmplY3QuYXNzaWduKHt9LCAuLi5vcHRpb25zLm1hcChvID0+ICh7XG4gICAgW19nZXRWYWx1ZUhhc2goby52YWx1ZSldOiBvLmxhYmVsXG4gIH0pKSksIFtvcHRpb25zXSk7XG4gIHJldHVybiB1c2VDYWxsYmFjayh2YWx1ZSA9PiBsYWJlbE1hcFtfZ2V0VmFsdWVIYXNoKHZhbHVlKV0sIFtsYWJlbE1hcF0pO1xufVxuY29uc3QgX2dldFZhbHVlSGFzaCA9IHZhbHVlID0+IHtcbiAgcmV0dXJuIGlzT2JqZWN0KHZhbHVlKSA/IEpTT04uc3RyaW5naWZ5KHZhbHVlKSA6IHZhbHVlO1xufTtcblxuLyoqXG4gKiBXcmFwIENTUyBzdHlsZXMgd2l0aCBhIGdpdmVuIHByZWZpeC5cbiAqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSByb290Tm9kZVxuICogQHBhcmFtIHtzdHJpbmd9IHByZWZpeFxuICpcbiAqIEByZXR1cm5zIHtIVE1MRWxlbWVudH1cbiAqL1xuZnVuY3Rpb24gd3JhcENTU1N0eWxlcyhyb290Tm9kZSwgcHJlZml4KSB7XG4gIGNvbnN0IHN0eWxlVGFncyA9IHJvb3ROb2RlLnF1ZXJ5U2VsZWN0b3JBbGwoJ3N0eWxlJyk7XG4gIHN0eWxlVGFncy5mb3JFYWNoKHN0eWxlVGFnID0+IHtcbiAgICBjb25zdCB0b3BMZXZlbFJ1bGVzID0gZXh0cmFjdFRvcExldmVsUnVsZXMoc3R5bGVUYWcudGV4dENvbnRlbnQpO1xuICAgIGNvbnN0IHNjb3BlZENzcyA9IHRvcExldmVsUnVsZXMubWFwKHJ1bGUgPT4ge1xuICAgICAgY29uc3Qge1xuICAgICAgICBzZWxlY3RvcixcbiAgICAgICAgc3R5bGVzXG4gICAgICB9ID0gc3BsaXRSdWxlKHJ1bGUpO1xuICAgICAgY29uc3Qgc2NvcGVkU2VsZWN0b3IgPSBzY29wZVNlbGVjdG9yKHNlbGVjdG9yLCBwcmVmaXgpO1xuICAgICAgcmV0dXJuIGAke3Njb3BlZFNlbGVjdG9yfSAke3N0eWxlc31gO1xuICAgIH0pLmpvaW4oJyAnKTtcbiAgICBzdHlsZVRhZy50ZXh0Q29udGVudCA9IHNjb3BlZENzcztcbiAgfSk7XG4gIHJldHVybiByb290Tm9kZTtcbn1cbmZ1bmN0aW9uIGV4dHJhY3RUb3BMZXZlbFJ1bGVzKGNzc1N0cmluZykge1xuICBsZXQgY3Vyc29yID0gMDtcbiAgbGV0IHN0YXJ0ID0gMDtcbiAgbGV0IGxldmVsID0gMDtcbiAgY29uc3QgdG9wTGV2ZWxSdWxlcyA9IFtdO1xuICB3aGlsZSAoY3Vyc29yIDwgY3NzU3RyaW5nLmxlbmd0aCkge1xuICAgIGlmIChjc3NTdHJpbmdbY3Vyc29yXSA9PT0gJ3snKSB7XG4gICAgICBsZXZlbCsrO1xuICAgIH1cbiAgICBpZiAoY3NzU3RyaW5nW2N1cnNvcl0gPT09ICd9Jykge1xuICAgICAgbGV2ZWwtLTtcbiAgICAgIGlmIChsZXZlbCA9PT0gMCkge1xuICAgICAgICB0b3BMZXZlbFJ1bGVzLnB1c2goY3NzU3RyaW5nLnN1YnN0cmluZyhzdGFydCwgY3Vyc29yICsgMSkpO1xuICAgICAgICBzdGFydCA9IGN1cnNvciArIDE7XG4gICAgICB9XG4gICAgfVxuICAgIGN1cnNvcisrO1xuICB9XG4gIHJldHVybiB0b3BMZXZlbFJ1bGVzLm1hcChydWxlID0+IHJ1bGUudHJpbSgpKTtcbn1cbmZ1bmN0aW9uIHNwbGl0UnVsZShydWxlKSB7XG4gIGNvbnN0IGZpcnN0QnJhY2tldCA9IHJ1bGUuaW5kZXhPZigneycpO1xuICBjb25zdCBzZWxlY3RvciA9IHJ1bGUuc3Vic3RyaW5nKDAsIGZpcnN0QnJhY2tldCk7XG4gIGNvbnN0IHN0eWxlcyA9IHJ1bGUuc3Vic3RyaW5nKGZpcnN0QnJhY2tldCk7XG4gIHJldHVybiB7XG4gICAgc2VsZWN0b3IsXG4gICAgc3R5bGVzXG4gIH07XG59XG5mdW5jdGlvbiBzY29wZVNlbGVjdG9yKHNlbGVjdG9yLCBwcmVmaXgpIHtcbiAgcmV0dXJuIHNlbGVjdG9yLnNwbGl0KCcsJykubWFwKHNlbCA9PiBgJHtwcmVmaXh9ICR7c2VsLnRyaW0oKX1gKS5qb2luKCcsICcpO1xufVxuZnVuY3Rpb24gZ2V0U2Nyb2xsQ29udGFpbmVyKGVsKSB7XG4gIHdoaWxlIChlbCAmJiBlbCAhPT0gZG9jdW1lbnQuYm9keSAmJiBlbCAhPT0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSB7XG4gICAgaWYgKF9pc0VsZW1lbnRTY3JvbGxhYmxlKGVsKSkge1xuICAgICAgcmV0dXJuIGVsO1xuICAgIH1cbiAgICBlbCA9IGVsLnBhcmVudEVsZW1lbnQ7XG4gIH1cbiAgaWYgKF9pc0VsZW1lbnRTY3JvbGxhYmxlKGRvY3VtZW50LmJvZHkpKSB7XG4gICAgcmV0dXJuIGRvY3VtZW50LmJvZHk7XG4gIH0gZWxzZSBpZiAoX2lzRWxlbWVudFNjcm9sbGFibGUoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSkge1xuICAgIHJldHVybiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBfaXNFbGVtZW50U2Nyb2xsYWJsZShlbCkge1xuICBjb25zdCBzdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsKTtcbiAgY29uc3Qgb3ZlcmZsb3dZID0gc3R5bGUub3ZlcmZsb3dZIHx8IHN0eWxlLm92ZXJmbG93O1xuICByZXR1cm4gKG92ZXJmbG93WSA9PT0gJ2F1dG8nIHx8IG92ZXJmbG93WSA9PT0gJ3Njcm9sbCcpICYmIGVsLnNjcm9sbEhlaWdodCA+IGVsLmNsaWVudEhlaWdodDtcbn1cblxuY29uc3QgRU1QVFlfT0JKRUNUID0ge307XG5jb25zdCBFTVBUWV9BUlJBWSQyID0gW107XG5cbi8qKlxuICogQ3VzdG9tIGhvb2sgdG8gc2Nyb2xsIGFuIGVsZW1lbnQgd2l0aGluIGEgc2Nyb2xsYWJsZSBjb250YWluZXIuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHNjcm9sbGVkRWxlbWVudFJlZiAtIEEgcmVmIHBvaW50aW5nIHRvIHRoZSBET00gZWxlbWVudCB0byBzY3JvbGwgaW50byB2aWV3LlxuICogQHBhcmFtIHtBcnJheX0gZGVwcyAtIEFuIGFycmF5IG9mIGRlcGVuZGVuY2llcyB0aGF0IHRyaWdnZXIgdGhlIGVmZmVjdC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbc2Nyb2xsT3B0aW9ucz17fV0gLSBPcHRpb25zIGRlZmluaW5nIHRoZSBiZWhhdmlvciBvZiB0aGUgc2Nyb2xsaW5nLlxuICogQHBhcmFtIHtTdHJpbmd9IFtzY3JvbGxPcHRpb25zLmFsaWduPSdjZW50ZXInXSAtIFRoZSBhbGlnbm1lbnQgb2YgdGhlIGVsZW1lbnQgd2l0aGluIHRoZSB2aWV3cG9ydC5cbiAqIEBwYXJhbSB7U3RyaW5nfSBbc2Nyb2xsT3B0aW9ucy5iZWhhdmlvcj0nYXV0byddIC0gVGhlIHNjcm9sbGluZyBiZWhhdmlvci5cbiAqIEBwYXJhbSB7TnVtYmVyfSBbc2Nyb2xsT3B0aW9ucy5vZmZzZXQ9MF0gLSBBbiBvZmZzZXQgdGhhdCBpcyBhZGRlZCB0byB0aGUgc2Nyb2xsIHBvc2l0aW9uLlxuICogQHBhcmFtIHtCb29sZWFufSBbc2Nyb2xsT3B0aW9ucy5zY3JvbGxJZlZpc2libGU9ZmFsc2VdIC0gV2hldGhlciB0byBzY3JvbGwgZXZlbiBpZiB0aGUgZWxlbWVudCBpcyB2aXNpYmxlLlxuICogQHBhcmFtIHtBcnJheX0gW2ZsYWdSZWZzXSAtIEFuIGFycmF5IG9mIHJlZnMgdGhhdCBhcmUgdXNlZCBhcyBmbGFncyB0byBjb250cm9sIHdoZW4gdG8gc2Nyb2xsLlxuICovXG5mdW5jdGlvbiB1c2VTY3JvbGxJbnRvVmlldyhzY3JvbGxlZEVsZW1lbnRSZWYsIGRlcHMsIHNjcm9sbE9wdGlvbnMsIGZsYWdSZWZzKSB7XG4gIGNvbnN0IF9zY3JvbGxPcHRpb25zID0gc2Nyb2xsT3B0aW9ucyB8fCBFTVBUWV9PQkpFQ1Q7XG4gIGNvbnN0IF9mbGFnUmVmcyA9IGZsYWdSZWZzIHx8IEVNUFRZX0FSUkFZJDI7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gcmV0dXJuIGVhcmx5IGlmIGZsYWdzIGFyZSBub3QgcmFpc2VkLCBvciBjb21wb25lbnQgaXMgbm90IG1vdW50ZWRcbiAgICBpZiAoc29tZShfZmxhZ1JlZnMsIHJlZiA9PiAhcmVmLmN1cnJlbnQpIHx8ICFzY3JvbGxlZEVsZW1lbnRSZWYuY3VycmVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IF9mbGFnUmVmcy5sZW5ndGg7IGkrKykge1xuICAgICAgX2ZsYWdSZWZzW2ldLmN1cnJlbnQgPSBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgaXRlbVRvQmVTY3JvbGxlZCA9IHNjcm9sbGVkRWxlbWVudFJlZi5jdXJyZW50O1xuICAgIGNvbnN0IHNjcm9sbENvbnRhaW5lciA9IGdldFNjcm9sbENvbnRhaW5lcihpdGVtVG9CZVNjcm9sbGVkKTtcbiAgICBpZiAoIXNjcm9sbENvbnRhaW5lcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBpdGVtUmVjdCA9IGl0ZW1Ub0JlU2Nyb2xsZWQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29uc3QgY29udGFpbmVyUmVjdCA9IHNjcm9sbENvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBjb25zdCB7XG4gICAgICBhbGlnbiA9ICdjZW50ZXInLFxuICAgICAgb2Zmc2V0ID0gMCxcbiAgICAgIGJlaGF2aW9yID0gJ2F1dG8nLFxuICAgICAgc2Nyb2xsSWZWaXNpYmxlID0gZmFsc2VcbiAgICB9ID0gX3Njcm9sbE9wdGlvbnM7XG4gICAgY29uc3Qgc2hvdWxkU2Nyb2xsID0gc2Nyb2xsSWZWaXNpYmxlIHx8ICEoaXRlbVJlY3QudG9wID49IGNvbnRhaW5lclJlY3QudG9wICYmIGl0ZW1SZWN0LmJvdHRvbSA8PSBjb250YWluZXJSZWN0LmJvdHRvbSk7XG4gICAgaWYgKCFzaG91bGRTY3JvbGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgdG9wT2Zmc2V0ID0gX2dldFRvcE9mZnNldChpdGVtVG9CZVNjcm9sbGVkLCBzY3JvbGxDb250YWluZXIsIHtcbiAgICAgIGFsaWduLFxuICAgICAgb2Zmc2V0XG4gICAgfSk7XG4gICAgc2Nyb2xsQ29udGFpbmVyLnNjcm9sbCh7XG4gICAgICB0b3A6IHRvcE9mZnNldCxcbiAgICAgIGJlaGF2aW9yXG4gICAgfSk7XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gIH0sIGRlcHMpO1xufVxuXG4vLyBoZWxwZXIgLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5mdW5jdGlvbiBfZ2V0VG9wT2Zmc2V0KGl0ZW0sIHNjcm9sbENvbnRhaW5lciwgb3B0aW9ucykge1xuICBjb25zdCBpdGVtUmVjdCA9IGl0ZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIGNvbnN0IGNvbnRhaW5lclJlY3QgPSBzY3JvbGxDb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIGlmIChvcHRpb25zLmFsaWduID09PSAndG9wJykge1xuICAgIHJldHVybiBpdGVtUmVjdC50b3AgLSBjb250YWluZXJSZWN0LnRvcCArIHNjcm9sbENvbnRhaW5lci5zY3JvbGxUb3AgLSBvcHRpb25zLm9mZnNldDtcbiAgfSBlbHNlIGlmIChvcHRpb25zLmFsaWduID09PSAnYm90dG9tJykge1xuICAgIHJldHVybiBpdGVtUmVjdC5ib3R0b20gLSBjb250YWluZXJSZWN0LnRvcCAtIHNjcm9sbENvbnRhaW5lci5jbGllbnRIZWlnaHQgKyBzY3JvbGxDb250YWluZXIuc2Nyb2xsVG9wICsgb3B0aW9ucy5vZmZzZXQ7XG4gIH0gZWxzZSBpZiAob3B0aW9ucy5hbGlnbiA9PT0gJ2NlbnRlcicpIHtcbiAgICByZXR1cm4gaXRlbVJlY3QudG9wIC0gY29udGFpbmVyUmVjdC50b3AgLSBzY3JvbGxDb250YWluZXIuY2xpZW50SGVpZ2h0IC8gMiArIHNjcm9sbENvbnRhaW5lci5zY3JvbGxUb3AgKyBpdGVtUmVjdC5oZWlnaHQgLyAyICsgb3B0aW9ucy5vZmZzZXQ7XG4gIH1cbiAgcmV0dXJuIDA7XG59XG5cbi8qKlxuICogSWYgdGhlIHZhbHVlIGlzIGEgdmFsaWQgZXhwcmVzc2lvbiwgd2UgZXZhbHVhdGUgaXQuIE90aGVyd2lzZSwgd2UgY29udGludWUgd2l0aCB0aGUgdmFsdWUgYXMtaXMuXG4gKiBJZiB0aGUgcmVzdWx0aW5nIHZhbHVlIGlzbid0IGEgYm9vbGVhbiwgd2UgcmV0dXJuICdmYWxzZSdcbiAqIFRoZSBmdW5jdGlvbiBpcyBtZW1vaXplZCB0byBtaW5pbWl6ZSByZS1yZW5kZXJzLlxuICpcbiAqIEBwYXJhbSB7Ym9vbGVhbiB8IHN0cmluZ30gdmFsdWUgLSBBIHN0YXRpYyBib29sZWFuIG9yIGV4cHJlc3Npb24gdG8gZXZhbHVhdGUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gLSBFdmFsdWF0ZWQgYm9vbGVhbiByZXN1bHQuXG4gKi9cbmZ1bmN0aW9uIHVzZUJvb2xlYW5FeHByZXNzaW9uRXZhbHVhdGlvbih2YWx1ZSkge1xuICBjb25zdCBleHByZXNzaW9uTGFuZ3VhZ2UgPSB1c2VTZXJ2aWNlKCdleHByZXNzaW9uTGFuZ3VhZ2UnKTtcbiAgY29uc3QgZXhwcmVzc2lvbkNvbnRleHRJbmZvID0gdXNlQ29udGV4dChMb2NhbEV4cHJlc3Npb25Db250ZXh0KTtcbiAgcmV0dXJuIHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IGV2YWx1YXRpb25SZXN1bHQgPSBydW5FeHByZXNzaW9uRXZhbHVhdGlvbihleHByZXNzaW9uTGFuZ3VhZ2UsIHZhbHVlLCBleHByZXNzaW9uQ29udGV4dEluZm8pO1xuICAgIHJldHVybiB0eXBlb2YgZXZhbHVhdGlvblJlc3VsdCA9PT0gJ2Jvb2xlYW4nID8gZXZhbHVhdGlvblJlc3VsdCA6IGZhbHNlO1xuICB9LCBbZXhwcmVzc2lvbkxhbmd1YWdlLCBleHByZXNzaW9uQ29udGV4dEluZm8sIHZhbHVlXSk7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgY29uZGl0aW9uYWxseSBmaWx0ZXJlZCBkYXRhIG9mIGEgZm9ybSByZWFjdGl2ZWx5LlxuICogTWVtb2lzZWQgdG8gbWluaW1pemUgcmUtcmVuZGVyc1xuICpcbiAqIFdhcm5pbmc6IGNvc3RseSBvcGVyYXRpb24sIHVzZSB3aXRoIGNhcmVcbiAqL1xuZnVuY3Rpb24gdXNlRmlsdGVyZWRGb3JtRGF0YSgpIHtcbiAgY29uc3Qge1xuICAgIGluaXRpYWxEYXRhLFxuICAgIGRhdGFcbiAgfSA9IHVzZVNlcnZpY2UoJ2Zvcm0nKS5fZ2V0U3RhdGUoKTtcbiAgY29uc3QgY29uZGl0aW9uQ2hlY2tlciA9IHVzZVNlcnZpY2UoJ2NvbmRpdGlvbkNoZWNrZXInLCBmYWxzZSk7XG4gIHJldHVybiB1c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCBuZXdEYXRhID0gY29uZGl0aW9uQ2hlY2tlciA/IGNvbmRpdGlvbkNoZWNrZXIuYXBwbHlDb25kaXRpb25zKGRhdGEsIGRhdGEpIDogZGF0YTtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uaW5pdGlhbERhdGEsXG4gICAgICAuLi5uZXdEYXRhXG4gICAgfTtcbiAgfSwgW2NvbmRpdGlvbkNoZWNrZXIsIGRhdGEsIGluaXRpYWxEYXRhXSk7XG59XG5cbmZ1bmN0aW9uIHVzZUtleURvd25BY3Rpb24odGFyZ2V0S2V5LCBhY3Rpb24sIGxpc3RlbmVyRWxlbWVudCA9IHdpbmRvdykge1xuICBmdW5jdGlvbiBkb3duSGFuZGxlcih7XG4gICAga2V5XG4gIH0pIHtcbiAgICBpZiAoa2V5ID09PSB0YXJnZXRLZXkpIHtcbiAgICAgIGFjdGlvbigpO1xuICAgIH1cbiAgfVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxpc3RlbmVyRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZG93bkhhbmRsZXIpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBsaXN0ZW5lckVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGRvd25IYW5kbGVyKTtcbiAgICB9O1xuICB9KTtcbn1cblxuLyoqXG4gKiBSZXRyaWV2ZSByZWFkb25seSB2YWx1ZSBvZiBhIGZvcm0gZmllbGQsIGdpdmVuIGl0IGNhbiBiZSBhblxuICogZXhwcmVzc2lvbiBvcHRpb25hbGx5IG9yIGNvbmZpZ3VyZWQgZ2xvYmFsbHkuXG4gKlxuICogQHR5cGVkZWYgeyBpbXBvcnQoJy4uLy4uL3R5cGVzJykuRm9ybVByb3BlcnRpZXMgfSBGb3JtUHJvcGVydGllc1xuICpcbiAqIEBwYXJhbSB7YW55fSBmb3JtRmllbGRcbiAqIEBwYXJhbSB7Rm9ybVByb3BlcnRpZXN9IHByb3BlcnRpZXNcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gdXNlUmVhZG9ubHkoZm9ybUZpZWxkLCBwcm9wZXJ0aWVzID0ge30pIHtcbiAgY29uc3QgZXhwcmVzc2lvbkxhbmd1YWdlID0gdXNlU2VydmljZSgnZXhwcmVzc2lvbkxhbmd1YWdlJyk7XG4gIGNvbnN0IGNvbmRpdGlvbkNoZWNrZXIgPSB1c2VTZXJ2aWNlKCdjb25kaXRpb25DaGVja2VyJywgZmFsc2UpO1xuICBjb25zdCBleHByZXNzaW9uQ29udGV4dEluZm8gPSB1c2VDb250ZXh0KExvY2FsRXhwcmVzc2lvbkNvbnRleHQpO1xuICBjb25zdCB7XG4gICAgcmVhZG9ubHlcbiAgfSA9IGZvcm1GaWVsZDtcbiAgaWYgKHByb3BlcnRpZXMucmVhZE9ubHkpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAoZXhwcmVzc2lvbkxhbmd1YWdlICYmIGV4cHJlc3Npb25MYW5ndWFnZS5pc0V4cHJlc3Npb24ocmVhZG9ubHkpKSB7XG4gICAgcmV0dXJuIGNvbmRpdGlvbkNoZWNrZXIgPyBjb25kaXRpb25DaGVja2VyLmNoZWNrKHJlYWRvbmx5LCBidWlsZEV4cHJlc3Npb25Db250ZXh0KGV4cHJlc3Npb25Db250ZXh0SW5mbykpIDogZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHJlYWRvbmx5IHx8IGZhbHNlO1xufVxuXG5mdW5jdGlvbiB1c2VQcmV2aW91cyh2YWx1ZSwgZGVmYXVsdFZhbHVlID0gbnVsbCkge1xuICBjb25zdCByZWYgPSB1c2VSZWYoZGVmYXVsdFZhbHVlKTtcbiAgdXNlRWZmZWN0KCgpID0+IHJlZi5jdXJyZW50ID0gdmFsdWUsIFt2YWx1ZV0pO1xuICByZXR1cm4gcmVmLmN1cnJlbnQ7XG59XG5cbmZ1bmN0aW9uIHVzZUZsdXNoRGVib3VuY2UoZnVuYykge1xuICBjb25zdCB0aW1lb3V0UmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBsYXN0QXJnc1JlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgY29uZmlnID0gdXNlU2VydmljZSgnY29uZmlnJywgZmFsc2UpO1xuICBjb25zdCBkZWJvdW5jZSA9IGNvbmZpZyAmJiBjb25maWcuZGVib3VuY2U7XG4gIGNvbnN0IHNob3VsZERlYm91bmNlID0gZGVib3VuY2UgIT09IGZhbHNlICYmIGRlYm91bmNlICE9PSAwO1xuICBjb25zdCBkZWxheSA9IHR5cGVvZiBkZWJvdW5jZSA9PT0gJ251bWJlcicgPyBkZWJvdW5jZSA6IDMwMDtcbiAgY29uc3QgZGVib3VuY2VGdW5jID0gdXNlQ2FsbGJhY2soKC4uLmFyZ3MpID0+IHtcbiAgICBpZiAoIXNob3VsZERlYm91bmNlKSB7XG4gICAgICBmdW5jKC4uLmFyZ3MpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsYXN0QXJnc1JlZi5jdXJyZW50ID0gYXJncztcbiAgICBpZiAodGltZW91dFJlZi5jdXJyZW50KSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZW91dFJlZi5jdXJyZW50KTtcbiAgICB9XG4gICAgdGltZW91dFJlZi5jdXJyZW50ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBmdW5jKC4uLmxhc3RBcmdzUmVmLmN1cnJlbnQpO1xuICAgICAgbGFzdEFyZ3NSZWYuY3VycmVudCA9IG51bGw7XG4gICAgfSwgZGVsYXkpO1xuICB9LCBbZnVuYywgZGVsYXksIHNob3VsZERlYm91bmNlXSk7XG4gIGNvbnN0IGZsdXNoRnVuYyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpZiAodGltZW91dFJlZi5jdXJyZW50KSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZW91dFJlZi5jdXJyZW50KTtcbiAgICAgIGlmIChsYXN0QXJnc1JlZi5jdXJyZW50ICE9PSBudWxsKSB7XG4gICAgICAgIGZ1bmMoLi4ubGFzdEFyZ3NSZWYuY3VycmVudCk7XG4gICAgICAgIGxhc3RBcmdzUmVmLmN1cnJlbnQgPSBudWxsO1xuICAgICAgfVxuICAgICAgdGltZW91dFJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICB9XG4gIH0sIFtmdW5jXSk7XG4gIHJldHVybiBbZGVib3VuY2VGdW5jLCBmbHVzaEZ1bmNdO1xufVxuXG4vKipcbiAqIFRlbXBsYXRlIGEgc3RyaW5nIHJlYWN0aXZlbHkgYmFzZWQgb24gZm9ybSBkYXRhLiBJZiB0aGUgc3RyaW5nIGlzIG5vdCBhIHRlbXBsYXRlLCBpdCBpcyByZXR1cm5lZCBhcyBpcy5cbiAqIE1lbW9pc2VkIHRvIG1pbmltaXplIHJlLXJlbmRlcnNcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmRlYnVnID0gZmFsc2VdXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnN0cmljdCA9IGZhbHNlXVxuICogQHBhcmFtIHtGdW5jdGlvbn0gW29wdGlvbnMuc2FuaXRpemVyXVxuICogQHBhcmFtIHtGdW5jdGlvbn0gW29wdGlvbnMuYnVpbGREZWJ1Z1N0cmluZ11cbiAqXG4gKi9cbmZ1bmN0aW9uIHVzZVRlbXBsYXRlRXZhbHVhdGlvbih2YWx1ZSwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHRlbXBsYXRpbmcgPSB1c2VTZXJ2aWNlKCd0ZW1wbGF0aW5nJyk7XG4gIGNvbnN0IGV4cHJlc3Npb25Db250ZXh0SW5mbyA9IHVzZUNvbnRleHQoTG9jYWxFeHByZXNzaW9uQ29udGV4dCk7XG4gIHJldHVybiB1c2VNZW1vKCgpID0+IHtcbiAgICBpZiAodGVtcGxhdGluZyAmJiB0ZW1wbGF0aW5nLmlzVGVtcGxhdGUodmFsdWUpKSB7XG4gICAgICByZXR1cm4gdGVtcGxhdGluZy5ldmFsdWF0ZSh2YWx1ZSwgYnVpbGRFeHByZXNzaW9uQ29udGV4dChleHByZXNzaW9uQ29udGV4dEluZm8pLCBvcHRpb25zKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9LCBbdGVtcGxhdGluZywgdmFsdWUsIGV4cHJlc3Npb25Db250ZXh0SW5mbywgb3B0aW9uc10pO1xufVxuXG4vKipcbiAqIFRlbXBsYXRlIGEgc3RyaW5nIHJlYWN0aXZlbHkgYmFzZWQgb24gZm9ybSBkYXRhLiBJZiB0aGUgc3RyaW5nIGlzIG5vdCBhIHRlbXBsYXRlLCBpdCBpcyByZXR1cm5lZCBhcyBpcy5cbiAqIElmIHRoZSBzdHJpbmcgY29udGFpbnMgbXVsdGlwbGUgbGluZXMsIG9ubHkgdGhlIGZpcnN0IGxpbmUgaXMgcmV0dXJuZWQuXG4gKiBNZW1vaXNlZCB0byBtaW5pbWl6ZSByZS1yZW5kZXJzXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmRlYnVnID0gZmFsc2VdXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnN0cmljdCA9IGZhbHNlXVxuICogQHBhcmFtIHtGdW5jdGlvbn0gW29wdGlvbnMuYnVpbGREZWJ1Z1N0cmluZ11cbiAqXG4gKi9cbmZ1bmN0aW9uIHVzZVNpbmdsZUxpbmVUZW1wbGF0ZUV2YWx1YXRpb24odmFsdWUsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCBldmFsdWF0ZWRUZW1wbGF0ZSA9IHVzZVRlbXBsYXRlRXZhbHVhdGlvbih2YWx1ZSwgb3B0aW9ucyk7XG4gIHJldHVybiB1c2VNZW1vKCgpID0+IGV2YWx1YXRlZFRlbXBsYXRlICYmIGV2YWx1YXRlZFRlbXBsYXRlLnNwbGl0KCdcXG4nKVswXSwgW2V2YWx1YXRlZFRlbXBsYXRlXSk7XG59XG5cbmNvbnN0IEVOVEVSX0tFWURPV05fRVZFTlQgPSBuZXcgS2V5Ym9hcmRFdmVudCgna2V5ZG93bicsIHtcbiAgY29kZTogJ0VudGVyJyxcbiAga2V5OiAnRW50ZXInLFxuICBjaGFyQ29kZTogMTMsXG4gIGtleUNvZGU6IDEzLFxuICBidWJibGVzOiB0cnVlXG59KTtcbmZ1bmN0aW9uIGZvY3VzUmVsZXZhbnRGbGF0cGlja2VyRGF5KGZsYXRwaWNrckluc3RhbmNlKSB7XG4gIGlmICghZmxhdHBpY2tySW5zdGFuY2UpIHJldHVybjtcbiAgIWZsYXRwaWNrckluc3RhbmNlLmlzT3BlbiAmJiBmbGF0cGlja3JJbnN0YW5jZS5vcGVuKCk7XG4gIGNvbnN0IGNvbnRhaW5lciA9IGZsYXRwaWNrckluc3RhbmNlLmNhbGVuZGFyQ29udGFpbmVyO1xuICBjb25zdCBkYXlUb0ZvY3VzID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5mbGF0cGlja3ItZGF5LnNlbGVjdGVkJykgfHwgY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5mbGF0cGlja3ItZGF5LnRvZGF5JykgfHwgY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5mbGF0cGlja3ItZGF5Jyk7XG4gIGRheVRvRm9jdXMgJiYgZGF5VG9Gb2N1cy5mb2N1cygpO1xufVxuZnVuY3Rpb24gZm9ybWF0VGltZSh1c2UyNGgsIG1pbnV0ZXMpIHtcbiAgaWYgKG1pbnV0ZXMgPT09IG51bGwpIHJldHVybiBudWxsO1xuICBjb25zdCB3cmFwcGVkTWludXRlcyA9IG1pbnV0ZXMgJSAoMjQgKiA2MCk7XG4gIGNvbnN0IG1pbnV0ZSA9IG1pbnV0ZXMgJSA2MDtcbiAgbGV0IGhvdXIgPSBNYXRoLmZsb29yKHdyYXBwZWRNaW51dGVzIC8gNjApO1xuICBpZiAodXNlMjRoKSB7XG4gICAgcmV0dXJuIF9nZXRaZXJvUGFkZGVkU3RyaW5nKGhvdXIpICsgJzonICsgX2dldFplcm9QYWRkZWRTdHJpbmcobWludXRlKTtcbiAgfVxuICBob3VyID0gaG91ciAlIDEyIHx8IDEyO1xuICBjb25zdCBpc1BNID0gd3JhcHBlZE1pbnV0ZXMgPj0gMTIgKiA2MDtcbiAgcmV0dXJuIF9nZXRaZXJvUGFkZGVkU3RyaW5nKGhvdXIpICsgJzonICsgX2dldFplcm9QYWRkZWRTdHJpbmcobWludXRlKSArICcgJyArIChpc1BNID8gJ1BNJyA6ICdBTScpO1xufVxuZnVuY3Rpb24gcGFyc2VJbnB1dFRpbWUoc3RyaW5nVGltZSkge1xuICBsZXQgd29ya2luZ1N0cmluZyA9IHN0cmluZ1RpbWUudG9Mb3dlckNhc2UoKTtcbiAgY29uc3QgaXMxMmggPSB3b3JraW5nU3RyaW5nLmluY2x1ZGVzKCdhbScpIHx8IHdvcmtpbmdTdHJpbmcuaW5jbHVkZXMoJ3BtJyk7XG4gIGlmIChpczEyaCkge1xuICAgIGNvbnN0IGlzUE0gPSB3b3JraW5nU3RyaW5nLmluY2x1ZGVzKCdwbScpO1xuICAgIGNvbnN0IGRpZ2l0cyA9IHdvcmtpbmdTdHJpbmcubWF0Y2goL1xcZCsvZyk7XG4gICAgY29uc3QgZGlzcGxheUhvdXIgPSBwYXJzZUludChkaWdpdHMgJiYgZGlnaXRzWzBdKTtcbiAgICBjb25zdCBtaW51dGUgPSBwYXJzZUludChkaWdpdHMgJiYgZGlnaXRzWzFdKSB8fCAwO1xuICAgIGNvbnN0IGlzVmFsaWREaXNwbGF5SG91ciA9IGlzTnVtYmVyKGRpc3BsYXlIb3VyKSAmJiBkaXNwbGF5SG91ciA+PSAxICYmIGRpc3BsYXlIb3VyIDw9IDEyO1xuICAgIGNvbnN0IGlzVmFsaWRNaW51dGUgPSBtaW51dGUgPj0gMCAmJiBtaW51dGUgPD0gNTk7XG4gICAgaWYgKCFpc1ZhbGlkRGlzcGxheUhvdXIgfHwgIWlzVmFsaWRNaW51dGUpIHJldHVybiBudWxsO1xuICAgIGNvbnN0IGhvdXIgPSBkaXNwbGF5SG91ciAlIDEyICsgKGlzUE0gPyAxMiA6IDApO1xuICAgIHJldHVybiBob3VyICogNjAgKyBtaW51dGU7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgZGlnaXRzID0gd29ya2luZ1N0cmluZy5tYXRjaCgvXFxkKy9nKTtcbiAgICBjb25zdCBob3VyID0gcGFyc2VJbnQoZGlnaXRzICYmIGRpZ2l0c1swXSk7XG4gICAgY29uc3QgbWludXRlID0gcGFyc2VJbnQoZGlnaXRzICYmIGRpZ2l0c1sxXSk7XG4gICAgY29uc3QgaXNWYWxpZEhvdXIgPSBpc051bWJlcihob3VyKSAmJiBob3VyID49IDAgJiYgaG91ciA8PSAyMztcbiAgICBjb25zdCBpc1ZhbGlkTWludXRlID0gaXNOdW1iZXIobWludXRlKSAmJiBtaW51dGUgPj0gMCAmJiBtaW51dGUgPD0gNTk7XG4gICAgaWYgKCFpc1ZhbGlkSG91ciB8fCAhaXNWYWxpZE1pbnV0ZSkgcmV0dXJuIG51bGw7XG4gICAgcmV0dXJuIGhvdXIgKiA2MCArIG1pbnV0ZTtcbiAgfVxufVxuZnVuY3Rpb24gc2VyaWFsaXplVGltZShtaW51dGVzLCBvZmZzZXQsIHRpbWVTZXJpYWxpemluZ0Zvcm1hdCkge1xuICBpZiAodGltZVNlcmlhbGl6aW5nRm9ybWF0ID09PSBUSU1FX1NFUklBTElTSU5HX0ZPUk1BVFMuVVRDX05PUk1BTElaRUQpIHtcbiAgICBjb25zdCBub3JtYWxpemVkTWludXRlcyA9IChtaW51dGVzICsgb2Zmc2V0ICsgTUlOVVRFU19JTl9EQVkpICUgTUlOVVRFU19JTl9EQVk7XG4gICAgcmV0dXJuIF9nZXRaZXJvUGFkZGVkU3RyaW5nKE1hdGguZmxvb3Iobm9ybWFsaXplZE1pbnV0ZXMgLyA2MCkpICsgJzonICsgX2dldFplcm9QYWRkZWRTdHJpbmcobm9ybWFsaXplZE1pbnV0ZXMgJSA2MCkgKyAnWic7XG4gIH1cbiAgY29uc3QgYmFzZVRpbWUgPSBfZ2V0WmVyb1BhZGRlZFN0cmluZyhNYXRoLmZsb29yKG1pbnV0ZXMgLyA2MCkpICsgJzonICsgX2dldFplcm9QYWRkZWRTdHJpbmcobWludXRlcyAlIDYwKTtcbiAgY29uc3QgYWRkVVRDT2Zmc2V0ID0gdGltZVNlcmlhbGl6aW5nRm9ybWF0ID09PSBUSU1FX1NFUklBTElTSU5HX0ZPUk1BVFMuVVRDX09GRlNFVDtcbiAgcmV0dXJuIGJhc2VUaW1lICsgKGFkZFVUQ09mZnNldCA/IGZvcm1hdFRpbWV6b25lT2Zmc2V0KG9mZnNldCkgOiAnJyk7XG59XG5mdW5jdGlvbiBwYXJzZUlzb1RpbWUoaXNvVGltZVN0cmluZykge1xuICBpZiAoIWlzb1RpbWVTdHJpbmcpIHJldHVybiBudWxsO1xuICBjb25zdCBwYXJzZUJhc2ljTWludXRlcyA9IHRpbWVTdHJpbmcgPT4ge1xuICAgIGNvbnN0IHRpbWVTZWdtZW50cyA9IHRpbWVTdHJpbmcuc3BsaXQoJzonKTtcbiAgICBjb25zdCBob3VyID0gcGFyc2VJbnQodGltZVNlZ21lbnRzWzBdKTtcbiAgICBjb25zdCBtaW51dGUgPSB0aW1lU2VnbWVudHMubGVuZ3RoID4gMSA/IHBhcnNlSW50KHRpbWVTZWdtZW50c1sxXSkgOiAwO1xuICAgIGlmIChpc05hTihob3VyKSB8fCBob3VyIDwgMCB8fCBob3VyID4gMjQgfHwgaXNOYU4obWludXRlKSB8fCBtaW51dGUgPCAwIHx8IG1pbnV0ZSA+IDYwKSByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4gaG91ciAqIDYwICsgbWludXRlO1xuICB9O1xuICBjb25zdCBsb2NhbE9mZnNldCA9IG5ldyBEYXRlKCkuZ2V0VGltZXpvbmVPZmZzZXQoKTtcblxuICAvLyBQYXJzZSBub3JtYWxpemVkIHRpbWVcbiAgaWYgKGlzb1RpbWVTdHJpbmcuaW5jbHVkZXMoJ1onKSkge1xuICAgIGlzb1RpbWVTdHJpbmcgPSBpc29UaW1lU3RyaW5nLnJlcGxhY2UoJ1onLCAnJyk7XG4gICAgY29uc3QgbWludXRlcyA9IHBhcnNlQmFzaWNNaW51dGVzKGlzb1RpbWVTdHJpbmcpO1xuICAgIGlmIChtaW51dGVzID09PSBudWxsKSByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4gKG1pbnV0ZXMgLSBsb2NhbE9mZnNldCArIE1JTlVURVNfSU5fREFZKSAlIE1JTlVURVNfSU5fREFZO1xuICB9XG5cbiAgLy8gUGFyc2Ugb2Zmc2V0IHBvc2l0aXZlIHRpbWVcbiAgZWxzZSBpZiAoaXNvVGltZVN0cmluZy5pbmNsdWRlcygnKycpKSB7XG4gICAgY29uc3QgW3RpbWVTdHJpbmcsIG9mZnNldFN0cmluZ10gPSBpc29UaW1lU3RyaW5nLnNwbGl0KCcrJyk7XG4gICAgY29uc3QgbWludXRlcyA9IHBhcnNlQmFzaWNNaW51dGVzKHRpbWVTdHJpbmcpO1xuICAgIGxldCBpbmJvdW5kT2Zmc2V0ID0gcGFyc2VCYXNpY01pbnV0ZXMob2Zmc2V0U3RyaW5nKTtcbiAgICBpZiAobWludXRlcyA9PT0gbnVsbCB8fCBpbmJvdW5kT2Zmc2V0ID09PSBudWxsKSByZXR1cm4gbnVsbDtcblxuICAgIC8vIFRoZSBvZmZzZXQgaXMgZmxpcHBlZCBmb3IgY29uc2lzdGVuY3kgd2l0aCBqYXZhc2NyaXB0XG4gICAgaW5ib3VuZE9mZnNldCA9IC1pbmJvdW5kT2Zmc2V0O1xuICAgIHJldHVybiAobWludXRlcyArIGluYm91bmRPZmZzZXQgLSBsb2NhbE9mZnNldCArIE1JTlVURVNfSU5fREFZKSAlIE1JTlVURVNfSU5fREFZO1xuICB9XG5cbiAgLy8gUGFyc2Ugb2Zmc2V0IG5lZ2F0aXZlIHRpbWVcbiAgZWxzZSBpZiAoaXNvVGltZVN0cmluZy5pbmNsdWRlcygnLScpKSB7XG4gICAgY29uc3QgW3RpbWVTdHJpbmcsIG9mZnNldFN0cmluZ10gPSBpc29UaW1lU3RyaW5nLnNwbGl0KCctJyk7XG4gICAgY29uc3QgbWludXRlcyA9IHBhcnNlQmFzaWNNaW51dGVzKHRpbWVTdHJpbmcpO1xuICAgIGxldCBpbmJvdW5kT2Zmc2V0ID0gcGFyc2VCYXNpY01pbnV0ZXMob2Zmc2V0U3RyaW5nKTtcbiAgICBpZiAobWludXRlcyA9PT0gbnVsbCB8fCBpbmJvdW5kT2Zmc2V0ID09PSBudWxsKSByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4gKG1pbnV0ZXMgKyBpbmJvdW5kT2Zmc2V0IC0gbG9jYWxPZmZzZXQgKyBNSU5VVEVTX0lOX0RBWSkgJSBNSU5VVEVTX0lOX0RBWTtcbiAgfVxuXG4gIC8vIERlZmF1bHQgdG8gbG9jYWwgcGFyc2luZ1xuICBlbHNlIHtcbiAgICByZXR1cm4gcGFyc2VCYXNpY01pbnV0ZXMoaXNvVGltZVN0cmluZyk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBkYXRlIG9iamVjdCBhcyBhIHNpbXBsZSAnWVlZWS1NTS1ERCcgZm9ybWF0dGVkIGRhdGUgaW4gdGhlIGxvY2FsIHRpbWV6b25lLlxuICpcbiAqIEBwYXJhbSB7Kn0gZGF0ZSBUaGUgZGF0ZSBvYmplY3QgdG8gc2VyaWFsaXplLlxuICogQHJldHVybnMge3N0cmluZ30gVGhlIHNlcmlhbGl6ZWQgZGF0ZS5cbiAqL1xuZnVuY3Rpb24gc2VyaWFsaXplRGF0ZShkYXRlKSB7XG4gIHJldHVybiBEYXRlVGltZS5mcm9tSlNEYXRlKGRhdGUpLnRvSVNPRGF0ZSgpO1xufVxuLy8gdGhpcyBtZXRob2QgaXMgdXNlZCB0byBtYWtlIHRoZSBgbmV3IERhdGUodmFsdWUpYCBwYXJzaW5nIGJlaGF2aW9yIHN0cmljdGVyXG5mdW5jdGlvbiBpc0RhdGVUaW1lSW5wdXRJbmZvcm1hdGlvblN1ZmZpY2llbnQodmFsdWUpIHtcbiAgaWYgKCF2YWx1ZSB8fCB0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKSByZXR1cm4gZmFsc2U7XG4gIGNvbnN0IHNlZ21lbnRzID0gdmFsdWUuc3BsaXQoJ1QnKTtcbiAgaWYgKHNlZ21lbnRzLmxlbmd0aCAhPSAyKSByZXR1cm4gZmFsc2U7XG4gIGNvbnN0IGRhdGVOdW1iZXJzID0gc2VnbWVudHNbMF0uc3BsaXQoJy0nKTtcbiAgaWYgKGRhdGVOdW1iZXJzLmxlbmd0aCAhPSAzKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiB0cnVlO1xufVxuXG4vLyB0aGlzIG1ldGhvZCBjaGVja3MgaWYgdGhlIGRhdGUgaXNuJ3QgYSBkYXRldGltZSwgb3IgYSBwYXJ0aWFsIGRhdGVcbmZ1bmN0aW9uIGlzRGF0ZUlucHV0SW5mb3JtYXRpb25NYXRjaGluZyh2YWx1ZSkge1xuICBpZiAoIXZhbHVlIHx8IHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHJldHVybiBmYWxzZTtcbiAgaWYgKHZhbHVlLmluY2x1ZGVzKCdUJykpIHJldHVybiBmYWxzZTtcbiAgY29uc3QgZGF0ZU51bWJlcnMgPSB2YWx1ZS5zcGxpdCgnLScpO1xuICBpZiAoZGF0ZU51bWJlcnMubGVuZ3RoICE9IDMpIHJldHVybiBmYWxzZTtcbiAgcmV0dXJuIHRydWU7XG59XG5mdW5jdGlvbiBzZXJpYWxpemVEYXRlVGltZShkYXRlLCB0aW1lLCB0aW1lU2VyaWFsaXppbmdGb3JtYXQpIHtcbiAgY29uc3Qgd29ya2luZ0RhdGUgPSBuZXcgRGF0ZSgpO1xuICB3b3JraW5nRGF0ZS5zZXRGdWxsWWVhcihkYXRlLmdldEZ1bGxZZWFyKCksIGRhdGUuZ2V0TW9udGgoKSwgZGF0ZS5nZXREYXRlKCkpO1xuICB3b3JraW5nRGF0ZS5zZXRIb3VycyhNYXRoLmZsb29yKHRpbWUgLyA2MCksIHRpbWUgJSA2MCwgMCwgMCk7XG4gIGlmICh0aW1lU2VyaWFsaXppbmdGb3JtYXQgPT09IFRJTUVfU0VSSUFMSVNJTkdfRk9STUFUUy5VVENfTk9STUFMSVpFRCkge1xuICAgIGNvbnN0IHRpbWV6b25lT2Zmc2V0TWludXRlcyA9IHdvcmtpbmdEYXRlLmdldFRpbWV6b25lT2Zmc2V0KCk7XG4gICAgY29uc3QgZGF5T2Zmc2V0ID0gdGltZSArIHRpbWV6b25lT2Zmc2V0TWludXRlcyA8IDAgPyAtMSA6IHRpbWUgKyB0aW1lem9uZU9mZnNldE1pbnV0ZXMgPiBNSU5VVEVTX0lOX0RBWSA/IDEgOiAwO1xuXG4gICAgLy8gQXBwbHkgdGhlIGRhdGUgcm9sbG92ZXIgcHJlLWVtcHRpdmVseVxuICAgIHdvcmtpbmdEYXRlLnNldEhvdXJzKHdvcmtpbmdEYXRlLmdldEhvdXJzKCkgKyBkYXlPZmZzZXQgKiAyNCk7XG4gIH1cbiAgcmV0dXJuIHNlcmlhbGl6ZURhdGUod29ya2luZ0RhdGUpICsgJ1QnICsgc2VyaWFsaXplVGltZSh0aW1lLCB3b3JraW5nRGF0ZS5nZXRUaW1lem9uZU9mZnNldCgpLCB0aW1lU2VyaWFsaXppbmdGb3JtYXQpO1xufVxuZnVuY3Rpb24gZm9ybWF0VGltZXpvbmVPZmZzZXQobWludXRlcykge1xuICByZXR1cm4gX2dldFNpZ25lZFBhZGRlZEhvdXJzKG1pbnV0ZXMpICsgJzonICsgX2dldFplcm9QYWRkZWRTdHJpbmcoTWF0aC5hYnMobWludXRlcyAlIDYwKSk7XG59XG5mdW5jdGlvbiBpc0ludmFsaWREYXRlU3RyaW5nKHZhbHVlKSB7XG4gIHJldHVybiBpc05hTihuZXcgRGF0ZShEYXRlLnBhcnNlKHZhbHVlKSkuZ2V0VGltZSgpKTtcbn1cbmZ1bmN0aW9uIGdldE51bGxEYXRlVGltZSgpIHtcbiAgcmV0dXJuIHtcbiAgICBkYXRlOiBuZXcgRGF0ZShEYXRlLnBhcnNlKG51bGwpKSxcbiAgICB0aW1lOiBudWxsXG4gIH07XG59XG5mdW5jdGlvbiBpc1ZhbGlkRGF0ZShkYXRlKSB7XG4gIHJldHVybiBkYXRlICYmICFpc05hTihkYXRlLmdldFRpbWUoKSk7XG59XG5mdW5jdGlvbiBpc1ZhbGlkVGltZSh0aW1lKSB7XG4gIHJldHVybiAhaXNOYU4ocGFyc2VJbnQodGltZSkpO1xufVxuZnVuY3Rpb24gX2dldFNpZ25lZFBhZGRlZEhvdXJzKG1pbnV0ZXMpIHtcbiAgaWYgKG1pbnV0ZXMgPiAwKSB7XG4gICAgcmV0dXJuICctJyArIF9nZXRaZXJvUGFkZGVkU3RyaW5nKE1hdGguZmxvb3IobWludXRlcyAvIDYwKSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuICcrJyArIF9nZXRaZXJvUGFkZGVkU3RyaW5nKE1hdGguZmxvb3IoKDAgLSBtaW51dGVzKSAvIDYwKSk7XG4gIH1cbn1cbmZ1bmN0aW9uIF9nZXRaZXJvUGFkZGVkU3RyaW5nKHRpbWUpIHtcbiAgcmV0dXJuIHRpbWUudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpO1xufVxuXG5jb25zdCBBTExPV0VEX0lNQUdFX1NSQ19QQVRURVJOID0gL14oaHR0cHM/fGRhdGEpOi4qL2k7XG5jb25zdCBBTExPV0VEX0lGUkFNRV9TUkNfUEFUVEVSTiA9IC9eKGh0dHBzKTpcXC9cXC8qL2k7XG5mdW5jdGlvbiBzYW5pdGl6ZURhdGVUaW1lUGlja2VyVmFsdWUob3B0aW9ucykge1xuICBjb25zdCB7XG4gICAgZm9ybUZpZWxkLFxuICAgIHZhbHVlXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCB7XG4gICAgc3VidHlwZVxuICB9ID0gZm9ybUZpZWxkO1xuICBpZiAodHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJykgcmV0dXJuIG51bGw7XG4gIGlmIChzdWJ0eXBlID09PSBEQVRFVElNRV9TVUJUWVBFUy5EQVRFICYmIChpc0ludmFsaWREYXRlU3RyaW5nKHZhbHVlKSB8fCAhaXNEYXRlSW5wdXRJbmZvcm1hdGlvbk1hdGNoaW5nKHZhbHVlKSkpIHJldHVybiBudWxsO1xuICBpZiAoc3VidHlwZSA9PT0gREFURVRJTUVfU1VCVFlQRVMuVElNRSAmJiBwYXJzZUlzb1RpbWUodmFsdWUpID09PSBudWxsKSByZXR1cm4gbnVsbDtcbiAgaWYgKHN1YnR5cGUgPT09IERBVEVUSU1FX1NVQlRZUEVTLkRBVEVUSU1FICYmIChpc0ludmFsaWREYXRlU3RyaW5nKHZhbHVlKSB8fCAhaXNEYXRlVGltZUlucHV0SW5mb3JtYXRpb25TdWZmaWNpZW50KHZhbHVlKSkpIHJldHVybiBudWxsO1xuICByZXR1cm4gdmFsdWU7XG59XG5mdW5jdGlvbiBoYXNFcXVhbFZhbHVlKHZhbHVlLCBhcnJheSkge1xuICBpZiAoIUFycmF5LmlzQXJyYXkoYXJyYXkpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiBhcnJheS5zb21lKGVsZW1lbnQgPT4gaXNFcXVhbCh2YWx1ZSwgZWxlbWVudCkpO1xufVxuZnVuY3Rpb24gc2FuaXRpemVTaW5nbGVTZWxlY3RWYWx1ZShvcHRpb25zKSB7XG4gIGNvbnN0IHtcbiAgICBmb3JtRmllbGQsXG4gICAgZGF0YSxcbiAgICB2YWx1ZVxuICB9ID0gb3B0aW9ucztcbiAgY29uc3Qge1xuICAgIHZhbHVlc0V4cHJlc3Npb246IG9wdGlvbnNFeHByZXNzaW9uXG4gIH0gPSBmb3JtRmllbGQ7XG4gIHRyeSB7XG4gICAgLy8gaWYgb3B0aW9ucyBhcmUgZXhwcmVzc2lvbiBldmFsdWF0ZWQsIHdlIGRvbid0IG5lZWQgdG8gc2FuaXRpemUgdGhlIHZhbHVlIGFnYWluc3QgdGhlIG9wdGlvbnNcbiAgICAvLyBhbmQgZGVmZXIgdG8gdGhlIGZpZWxkJ3MgaW50ZXJuYWwgdmFsaWRhdGlvblxuICAgIGlmIChvcHRpb25zRXhwcmVzc2lvbikge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBjb25zdCB2YWxpZFZhbHVlcyA9IG5vcm1hbGl6ZU9wdGlvbnNEYXRhKGdldFNpbXBsZU9wdGlvbnNEYXRhKGZvcm1GaWVsZCwgZGF0YSkpLm1hcCh2ID0+IHYudmFsdWUpO1xuICAgIHJldHVybiBoYXNFcXVhbFZhbHVlKHZhbHVlLCB2YWxpZFZhbHVlcykgPyB2YWx1ZSA6IG51bGw7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgLy8gdXNlIGRlZmF1bHQgdmFsdWUgaW4gY2FzZSBvZiBmb3JtYXR0aW5nIGVycm9yXG4gICAgLy8gVE9ETyhAU2thaWlyKTogbG9nIGEgd2FybmluZyB3aGVuIHRoaXMgaGFwcGVucyAtIGh0dHBzOi8vZ2l0aHViLmNvbS9icG1uLWlvL2Zvcm0tanMvaXNzdWVzLzI4OVxuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5mdW5jdGlvbiBzYW5pdGl6ZU11bHRpU2VsZWN0VmFsdWUob3B0aW9ucykge1xuICBjb25zdCB7XG4gICAgZm9ybUZpZWxkLFxuICAgIGRhdGEsXG4gICAgdmFsdWVcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IHtcbiAgICB2YWx1ZXNFeHByZXNzaW9uOiBvcHRpb25zRXhwcmVzc2lvblxuICB9ID0gZm9ybUZpZWxkO1xuICB0cnkge1xuICAgIC8vIGlmIG9wdGlvbnMgYXJlIGV4cHJlc3Npb24gZXZhbHVhdGVkLCB3ZSBkb24ndCBuZWVkIHRvIHNhbml0aXplIHRoZSB2YWx1ZXMgYWdhaW5zdCB0aGUgb3B0aW9uc1xuICAgIC8vIGFuZCBkZWZlciB0byB0aGUgZmllbGQncyBpbnRlcm5hbCB2YWxpZGF0aW9uXG4gICAgaWYgKG9wdGlvbnNFeHByZXNzaW9uKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGNvbnN0IHZhbGlkVmFsdWVzID0gbm9ybWFsaXplT3B0aW9uc0RhdGEoZ2V0U2ltcGxlT3B0aW9uc0RhdGEoZm9ybUZpZWxkLCBkYXRhKSkubWFwKHYgPT4gdi52YWx1ZSk7XG4gICAgcmV0dXJuIHZhbHVlLmZpbHRlcih2ID0+IGhhc0VxdWFsVmFsdWUodiwgdmFsaWRWYWx1ZXMpKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAvLyB1c2UgZGVmYXVsdCB2YWx1ZSBpbiBjYXNlIG9mIGZvcm1hdHRpbmcgZXJyb3JcbiAgICAvLyBUT0RPKEBTa2FpaXIpOiBsb2cgYSB3YXJuaW5nIHdoZW4gdGhpcyBoYXBwZW5zIC0gaHR0cHM6Ly9naXRodWIuY29tL2JwbW4taW8vZm9ybS1qcy9pc3N1ZXMvMjg5XG4gICAgcmV0dXJuIFtdO1xuICB9XG59XG5cbi8qKlxuICogU2FuaXRpemVzIGFuIGltYWdlIHNvdXJjZSB0byBlbnN1cmUgd2Ugb25seSBhbGxvdyBmb3IgZGF0YSBVUkkgYW5kIGxpbmtzXG4gKiB0aGF0IHN0YXJ0IHdpdGggaHR0cChzKS5cbiAqXG4gKiBOb3RlOiBNb3N0IGJyb3dzZXJzIGFueXdheSBkbyBub3Qgc3VwcG9ydCBzY3JpcHQgZXhlY3V0aW9uIGluIDxpbWc+IGVsZW1lbnRzLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBzcmNcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIHNhbml0aXplSW1hZ2VTb3VyY2Uoc3JjKSB7XG4gIGNvbnN0IHZhbGlkID0gQUxMT1dFRF9JTUFHRV9TUkNfUEFUVEVSTi50ZXN0KHNyYyk7XG4gIHJldHVybiB2YWxpZCA/IHNyYyA6ICcnO1xufVxuXG4vKipcbiAqIFNhbml0aXplcyBhbiBpZnJhbWUgc291cmNlIHRvIGVuc3VyZSB3ZSBvbmx5IGFsbG93IGZvciBsaW5rc1xuICogdGhhdCBzdGFydCB3aXRoIGh0dHAocykuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHNyY1xuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gc2FuaXRpemVJRnJhbWVTb3VyY2Uoc3JjKSB7XG4gIGNvbnN0IHZhbGlkID0gQUxMT1dFRF9JRlJBTUVfU1JDX1BBVFRFUk4udGVzdChzcmMpO1xuICByZXR1cm4gdmFsaWQgPyBzcmMgOiAnJztcbn1cblxuLyoqXG4gKiBFc2NhcGVzIEhUTUwgYW5kIHJldHVybnMgcHVyZSB0ZXh0LlxuICogQHBhcmFtIHtzdHJpbmd9IGh0bWxcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGVzY2FwZUhUTUwoaHRtbCkge1xuICBjb25zdCBlc2NhcGVNYXAgPSB7XG4gICAgJyYnOiAnJmFtcDsnLFxuICAgICc8JzogJyZsdDsnLFxuICAgICc+JzogJyZndDsnLFxuICAgICdcIic6ICcmcXVvdDsnLFxuICAgIFwiJ1wiOiAnJiMwMzk7JyxcbiAgICAneyc6ICcmIzEyMzsnLFxuICAgICd9JzogJyYjMTI1OycsXG4gICAgJzonOiAnJiM1ODsnLFxuICAgICc7JzogJyYjNTk7J1xuICB9O1xuICByZXR1cm4gaHRtbC5yZXBsYWNlKC9bJjw+XCIne307Ol0vZywgbWF0Y2ggPT4gZXNjYXBlTWFwW21hdGNoXSk7XG59XG5cbmZ1bmN0aW9uIHVzZUNsZWFudXBTaW5nbGVTZWxlY3RWYWx1ZShwcm9wcykge1xuICBjb25zdCB7XG4gICAgZmllbGQsXG4gICAgb3B0aW9ucyxcbiAgICBsb2FkU3RhdGUsXG4gICAgb25DaGFuZ2UsXG4gICAgdmFsdWVcbiAgfSA9IHByb3BzO1xuXG4gIC8vIEVuc3VyZXMgdGhhdCB0aGUgdmFsdWUgaXMgYWx3YXlzIG9uZSBvZiB0aGUgcG9zc2libGUgb3B0aW9uc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChsb2FkU3RhdGUgIT09IExPQURfU1RBVEVTLkxPQURFRCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBvcHRpb25WYWx1ZXMgPSBvcHRpb25zLm1hcChvID0+IG8udmFsdWUpO1xuICAgIGNvbnN0IGhhc1ZhbHVlTm90SW5PcHRpb25zID0gdmFsdWUgJiYgIWhhc0VxdWFsVmFsdWUodmFsdWUsIG9wdGlvblZhbHVlcyk7XG4gICAgaWYgKGhhc1ZhbHVlTm90SW5PcHRpb25zKSB7XG4gICAgICBvbkNoYW5nZSh7XG4gICAgICAgIGZpZWxkLFxuICAgICAgICB2YWx1ZTogbnVsbFxuICAgICAgfSk7XG4gICAgfVxuICB9LCBbZmllbGQsIG9wdGlvbnMsIG9uQ2hhbmdlLCB2YWx1ZSwgbG9hZFN0YXRlXSk7XG59XG5cbmZ1bmN0aW9uIHVzZUNsZWFudXBNdWx0aVNlbGVjdFZhbHVlKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBmaWVsZCxcbiAgICBvcHRpb25zLFxuICAgIGxvYWRTdGF0ZSxcbiAgICBvbkNoYW5nZSxcbiAgICB2YWx1ZXNcbiAgfSA9IHByb3BzO1xuICBjb25zdCBtZW1vaXplZFZhbHVlcyA9IHVzZURlZXBDb21wYXJlTWVtb2l6ZSh2YWx1ZXMgfHwgW10pO1xuXG4gIC8vIGVuc3VyZXMgdGhhdCB0aGUgdmFsdWVzIGFyZSBhbHdheXMgYSBzdWJzZXQgb2YgdGhlIHBvc3NpYmxlIG9wdGlvbnNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAobG9hZFN0YXRlICE9PSBMT0FEX1NUQVRFUy5MT0FERUQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgb3B0aW9uVmFsdWVzID0gb3B0aW9ucy5tYXAobyA9PiBvLnZhbHVlKTtcbiAgICBjb25zdCBoYXNWYWx1ZXNOb3RJbk9wdGlvbnMgPSBtZW1vaXplZFZhbHVlcy5zb21lKHYgPT4gIWhhc0VxdWFsVmFsdWUodiwgb3B0aW9uVmFsdWVzKSk7XG4gICAgaWYgKGhhc1ZhbHVlc05vdEluT3B0aW9ucykge1xuICAgICAgb25DaGFuZ2Uoe1xuICAgICAgICBmaWVsZCxcbiAgICAgICAgdmFsdWU6IG1lbW9pemVkVmFsdWVzLmZpbHRlcih2ID0+IGhhc0VxdWFsVmFsdWUodiwgb3B0aW9uVmFsdWVzKSlcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW2ZpZWxkLCBvcHRpb25zLCBvbkNoYW5nZSwgbWVtb2l6ZWRWYWx1ZXMsIGxvYWRTdGF0ZV0pO1xufVxuXG5jb25zdCB0eXBlJGogPSAnYnV0dG9uJztcbmZ1bmN0aW9uIEJ1dHRvbihwcm9wcykge1xuICBjb25zdCB7XG4gICAgZGlzYWJsZWQsXG4gICAgb25Gb2N1cyxcbiAgICBvbkJsdXIsXG4gICAgZmllbGRcbiAgfSA9IHByb3BzO1xuICBjb25zdCB7XG4gICAgYWN0aW9uID0gJ3N1Ym1pdCdcbiAgfSA9IGZpZWxkO1xuICBjb25zdCBldmFsdWF0ZWRMYWJlbCA9IHVzZVNpbmdsZUxpbmVUZW1wbGF0ZUV2YWx1YXRpb24oZmllbGQubGFiZWwgfHwgJycsIHtcbiAgICBkZWJ1ZzogdHJ1ZVxuICB9KTtcbiAgcmV0dXJuIGpzeChcImRpdlwiLCB7XG4gICAgY2xhc3M6IGZvcm1GaWVsZENsYXNzZXModHlwZSRqKSxcbiAgICBjaGlsZHJlbjoganN4KFwiYnV0dG9uXCIsIHtcbiAgICAgIGNsYXNzOiBcImZqcy1idXR0b25cIixcbiAgICAgIHR5cGU6IGFjdGlvbixcbiAgICAgIGRpc2FibGVkOiBkaXNhYmxlZCxcbiAgICAgIG9uRm9jdXM6ICgpID0+IG9uRm9jdXMgJiYgb25Gb2N1cygpLFxuICAgICAgb25CbHVyOiAoKSA9PiBvbkJsdXIgJiYgb25CbHVyKCksXG4gICAgICBjaGlsZHJlbjogZXZhbHVhdGVkTGFiZWxcbiAgICB9KVxuICB9KTtcbn1cbkJ1dHRvbi5jb25maWcgPSB7XG4gIHR5cGU6IHR5cGUkaixcbiAga2V5ZWQ6IGZhbHNlLFxuICBuYW1lOiAnQnV0dG9uJyxcbiAgZ3JvdXA6ICdhY3Rpb24nLFxuICBjcmVhdGU6IChvcHRpb25zID0ge30pID0+ICh7XG4gICAgbGFiZWw6ICdCdXR0b24nLFxuICAgIGFjdGlvbjogJ3N1Ym1pdCcsXG4gICAgLi4ub3B0aW9uc1xuICB9KVxufTtcblxuZnVuY3Rpb24gRGVzY3JpcHRpb24ocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGRlc2NyaXB0aW9uLFxuICAgIGlkXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgZXZhbHVhdGVkRGVzY3JpcHRpb24gPSB1c2VTaW5nbGVMaW5lVGVtcGxhdGVFdmFsdWF0aW9uKGRlc2NyaXB0aW9uIHx8ICcnLCB7XG4gICAgZGVidWc6IHRydWVcbiAgfSk7XG4gIGlmICghZXZhbHVhdGVkRGVzY3JpcHRpb24pIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4ganN4KFwiZGl2XCIsIHtcbiAgICBpZDogaWQsXG4gICAgY2xhc3M6IFwiZmpzLWZvcm0tZmllbGQtZGVzY3JpcHRpb25cIixcbiAgICBjaGlsZHJlbjogZXZhbHVhdGVkRGVzY3JpcHRpb25cbiAgfSk7XG59XG5cbi8qKlxuICogQHR5cGVkZWYgUHJvcHNcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBpZFxuICogQHByb3BlcnR5IHtzdHJpbmdbXX0gZXJyb3JzXG4gKlxuICogQHBhcmFtIHtQcm9wc30gcHJvcHNcbiAqIEByZXR1cm5zIHtpbXBvcnQoXCJwcmVhY3RcIikuSlNYLkVsZW1lbnR9XG4gKi9cbmZ1bmN0aW9uIEVycm9ycyhwcm9wcykge1xuICBjb25zdCB7XG4gICAgZXJyb3JzLFxuICAgIGlkXG4gIH0gPSBwcm9wcztcbiAgaWYgKCFlcnJvcnMubGVuZ3RoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIGpzeChcImRpdlwiLCB7XG4gICAgY2xhc3M6IFwiZmpzLWZvcm0tZmllbGQtZXJyb3JcIixcbiAgICBcImFyaWEtbGl2ZVwiOiBcInBvbGl0ZVwiLFxuICAgIGlkOiBpZCxcbiAgICBjaGlsZHJlbjoganN4KFwidWxcIiwge1xuICAgICAgY2hpbGRyZW46IGVycm9ycy5tYXAoKGVycm9yLCBpbmRleCkgPT4ge1xuICAgICAgICByZXR1cm4ganN4KFwibGlcIiwge1xuICAgICAgICAgIGNoaWxkcmVuOiBlcnJvclxuICAgICAgICB9LCBpbmRleCk7XG4gICAgICB9KVxuICAgIH0pXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBMYWJlbChwcm9wcykge1xuICBjb25zdCB7XG4gICAgaWQsXG4gICAgaHRtbEZvcixcbiAgICBsYWJlbCxcbiAgICBjb2xsYXBzZU9uRW1wdHkgPSB0cnVlLFxuICAgIHJlcXVpcmVkID0gZmFsc2VcbiAgfSA9IHByb3BzO1xuICBjb25zdCBldmFsdWF0ZWRMYWJlbCA9IHVzZVNpbmdsZUxpbmVUZW1wbGF0ZUV2YWx1YXRpb24obGFiZWwgfHwgJycsIHtcbiAgICBkZWJ1ZzogdHJ1ZVxuICB9KTtcbiAgcmV0dXJuIGpzeHMoXCJsYWJlbFwiLCB7XG4gICAgaWQ6IGlkLFxuICAgIGh0bWxGb3I6IGh0bWxGb3IsXG4gICAgY2xhc3M6IGNsYXNzTmFtZXMoJ2Zqcy1mb3JtLWZpZWxkLWxhYmVsJywge1xuICAgICAgJ2Zqcy1pbmNvbGxhcHNpYmxlLWxhYmVsJzogIWNvbGxhcHNlT25FbXB0eVxuICAgIH0sIHByb3BzWydjbGFzcyddKSxcbiAgICBjaGlsZHJlbjogW3Byb3BzLmNoaWxkcmVuLCBldmFsdWF0ZWRMYWJlbCwgcmVxdWlyZWQgJiYganN4KFwic3BhblwiLCB7XG4gICAgICBjbGFzczogXCJmanMtYXN0ZXJpeFwiLFxuICAgICAgXCJhcmlhLWhpZGRlblwiOiB0cnVlLFxuICAgICAgY2hpbGRyZW46IFwiKlwiXG4gICAgfSldXG4gIH0pO1xufVxuXG5jb25zdCB0eXBlJGkgPSAnY2hlY2tib3gnO1xuZnVuY3Rpb24gQ2hlY2tib3gocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGRpc2FibGVkLFxuICAgIGVycm9ycyA9IFtdLFxuICAgIGRvbUlkLFxuICAgIG9uQmx1cixcbiAgICBvbkZvY3VzLFxuICAgIGZpZWxkLFxuICAgIHJlYWRvbmx5LFxuICAgIHZhbHVlID0gZmFsc2VcbiAgfSA9IHByb3BzO1xuICBjb25zdCB7XG4gICAgZGVzY3JpcHRpb24sXG4gICAgbGFiZWwsXG4gICAgdmFsaWRhdGUgPSB7fVxuICB9ID0gZmllbGQ7XG4gIGNvbnN0IHtcbiAgICByZXF1aXJlZFxuICB9ID0gdmFsaWRhdGU7XG4gIGNvbnN0IG9uQ2hhbmdlID0gKHtcbiAgICB0YXJnZXRcbiAgfSkgPT4ge1xuICAgIHByb3BzLm9uQ2hhbmdlKHtcbiAgICAgIHZhbHVlOiB0YXJnZXQuY2hlY2tlZFxuICAgIH0pO1xuICB9O1xuICBjb25zdCBkZXNjcmlwdGlvbklkID0gYCR7ZG9tSWR9LWRlc2NyaXB0aW9uYDtcbiAgY29uc3QgZXJyb3JNZXNzYWdlSWQgPSBgJHtkb21JZH0tZXJyb3ItbWVzc2FnZWA7XG4gIHJldHVybiBqc3hzKFwiZGl2XCIsIHtcbiAgICBjbGFzczogY2xhc3NOYW1lcyhmb3JtRmllbGRDbGFzc2VzKHR5cGUkaSwge1xuICAgICAgZXJyb3JzLFxuICAgICAgZGlzYWJsZWQsXG4gICAgICByZWFkb25seVxuICAgIH0pLCB7XG4gICAgICAnZmpzLWNoZWNrZWQnOiB2YWx1ZVxuICAgIH0pLFxuICAgIGNoaWxkcmVuOiBbanN4cyhcImRpdlwiLCB7XG4gICAgICBjbGFzczogXCJmanMtaW5saW5lLWxhYmVsXCIsXG4gICAgICBjaGlsZHJlbjogW2pzeChcImlucHV0XCIsIHtcbiAgICAgICAgY2hlY2tlZDogdmFsdWUsXG4gICAgICAgIGNsYXNzOiBcImZqcy1pbnB1dFwiLFxuICAgICAgICBkaXNhYmxlZDogZGlzYWJsZWQsXG4gICAgICAgIHJlYWRPbmx5OiByZWFkb25seSxcbiAgICAgICAgaWQ6IGRvbUlkLFxuICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgIG9uQ2hhbmdlOiBvbkNoYW5nZSxcbiAgICAgICAgb25CbHVyOiAoKSA9PiBvbkJsdXIgJiYgb25CbHVyKCksXG4gICAgICAgIG9uRm9jdXM6ICgpID0+IG9uRm9jdXMgJiYgb25Gb2N1cygpLFxuICAgICAgICByZXF1aXJlZDogcmVxdWlyZWQsXG4gICAgICAgIFwiYXJpYS1pbnZhbGlkXCI6IGVycm9ycy5sZW5ndGggPiAwLFxuICAgICAgICBcImFyaWEtZGVzY3JpYmVkYnlcIjogW2Rlc2NyaXB0aW9uSWQsIGVycm9yTWVzc2FnZUlkXS5qb2luKCcgJylcbiAgICAgIH0pLCBqc3goTGFiZWwsIHtcbiAgICAgICAgaHRtbEZvcjogZG9tSWQsXG4gICAgICAgIGxhYmVsOiBsYWJlbCxcbiAgICAgICAgcmVxdWlyZWQ6IHJlcXVpcmVkXG4gICAgICB9KV1cbiAgICB9KSwganN4KERlc2NyaXB0aW9uLCB7XG4gICAgICBpZDogZGVzY3JpcHRpb25JZCxcbiAgICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvblxuICAgIH0pLCBqc3goRXJyb3JzLCB7XG4gICAgICBpZDogZXJyb3JNZXNzYWdlSWQsXG4gICAgICBlcnJvcnM6IGVycm9yc1xuICAgIH0pXVxuICB9KTtcbn1cbkNoZWNrYm94LmNvbmZpZyA9IHtcbiAgdHlwZTogdHlwZSRpLFxuICBrZXllZDogdHJ1ZSxcbiAgbmFtZTogJ0NoZWNrYm94JyxcbiAgZ3JvdXA6ICdzZWxlY3Rpb24nLFxuICBlbXB0eVZhbHVlOiBmYWxzZSxcbiAgc2FuaXRpemVWYWx1ZTogKHtcbiAgICB2YWx1ZVxuICB9KSA9PiB2YWx1ZSA9PT0gdHJ1ZSxcbiAgY3JlYXRlOiAob3B0aW9ucyA9IHt9KSA9PiAoe1xuICAgIGxhYmVsOiAnQ2hlY2tib3gnLFxuICAgIC4uLm9wdGlvbnNcbiAgfSlcbn07XG5cbmNvbnN0IHR5cGUkaCA9ICdjaGVja2xpc3QnO1xuZnVuY3Rpb24gQ2hlY2tsaXN0KHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBkaXNhYmxlZCxcbiAgICBlcnJvcnMgPSBbXSxcbiAgICBkb21JZCxcbiAgICBvbkJsdXIsXG4gICAgb25Gb2N1cyxcbiAgICBmaWVsZCxcbiAgICByZWFkb25seSxcbiAgICB2YWx1ZTogdmFsdWVzID0gW11cbiAgfSA9IHByb3BzO1xuICBjb25zdCB7XG4gICAgZGVzY3JpcHRpb24sXG4gICAgbGFiZWwsXG4gICAgdmFsaWRhdGUgPSB7fVxuICB9ID0gZmllbGQ7XG5cbiAgLyoqIEB0eXBlIHtpbXBvcnQoXCJwcmVhY3RcIikuUmVmT2JqZWN0PEhUTUxEaXZFbGVtZW50Pn0gKi9cbiAgY29uc3Qgb3V0ZXJEaXZSZWYgPSB1c2VSZWYoKTtcbiAgY29uc3Qge1xuICAgIHJlcXVpcmVkXG4gIH0gPSB2YWxpZGF0ZTtcbiAgY29uc3QgdG9nZ2xlQ2hlY2tib3ggPSB0b2dnbGVkVmFsdWUgPT4ge1xuICAgIGNvbnN0IG5ld1ZhbHVlcyA9IGhhc0VxdWFsVmFsdWUodG9nZ2xlZFZhbHVlLCB2YWx1ZXMpID8gdmFsdWVzLmZpbHRlcih2YWx1ZSA9PiAhaXNFcXVhbCh2YWx1ZSwgdG9nZ2xlZFZhbHVlKSkgOiBbLi4udmFsdWVzLCB0b2dnbGVkVmFsdWVdO1xuICAgIHByb3BzLm9uQ2hhbmdlKHtcbiAgICAgIHZhbHVlOiBuZXdWYWx1ZXNcbiAgICB9KTtcbiAgfTtcbiAgY29uc3Qgb25DaGVja2JveEJsdXIgPSBlID0+IHtcbiAgICBpZiAob3V0ZXJEaXZSZWYuY3VycmVudC5jb250YWlucyhlLnJlbGF0ZWRUYXJnZXQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIG9uQmx1ciAmJiBvbkJsdXIoKTtcbiAgfTtcbiAgY29uc3Qgb25DaGVja2JveEZvY3VzID0gZSA9PiB7XG4gICAgaWYgKG91dGVyRGl2UmVmLmN1cnJlbnQuY29udGFpbnMoZS5yZWxhdGVkVGFyZ2V0KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBvbkZvY3VzICYmIG9uRm9jdXMoKTtcbiAgfTtcbiAgY29uc3Qge1xuICAgIGxvYWRTdGF0ZSxcbiAgICBvcHRpb25zXG4gIH0gPSB1c2VPcHRpb25zQXN5bmMoZmllbGQpO1xuICB1c2VDbGVhbnVwTXVsdGlTZWxlY3RWYWx1ZSh7XG4gICAgZmllbGQsXG4gICAgbG9hZFN0YXRlLFxuICAgIG9wdGlvbnMsXG4gICAgdmFsdWVzLFxuICAgIG9uQ2hhbmdlOiBwcm9wcy5vbkNoYW5nZVxuICB9KTtcbiAgY29uc3QgZGVzY3JpcHRpb25JZCA9IGAke2RvbUlkfS1kZXNjcmlwdGlvbmA7XG4gIGNvbnN0IGVycm9yTWVzc2FnZUlkID0gYCR7ZG9tSWR9LWVycm9yLW1lc3NhZ2VgO1xuICByZXR1cm4ganN4cyhcImRpdlwiLCB7XG4gICAgY2xhc3M6IGNsYXNzTmFtZXMoZm9ybUZpZWxkQ2xhc3Nlcyh0eXBlJGgsIHtcbiAgICAgIGVycm9ycyxcbiAgICAgIGRpc2FibGVkLFxuICAgICAgcmVhZG9ubHlcbiAgICB9KSksXG4gICAgcmVmOiBvdXRlckRpdlJlZixcbiAgICBjaGlsZHJlbjogW2pzeChMYWJlbCwge1xuICAgICAgbGFiZWw6IGxhYmVsLFxuICAgICAgcmVxdWlyZWQ6IHJlcXVpcmVkXG4gICAgfSksIGxvYWRTdGF0ZSA9PSBMT0FEX1NUQVRFUy5MT0FERUQgJiYgb3B0aW9ucy5tYXAoKG9wdGlvbiwgaW5kZXgpID0+IHtcbiAgICAgIGNvbnN0IGl0ZW1Eb21JZCA9IGAke2RvbUlkfS0ke2luZGV4fWA7XG4gICAgICBjb25zdCBpc0NoZWNrZWQgPSBoYXNFcXVhbFZhbHVlKG9wdGlvbi52YWx1ZSwgdmFsdWVzKTtcbiAgICAgIHJldHVybiBqc3hzKFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWVzKCdmanMtaW5saW5lLWxhYmVsJywge1xuICAgICAgICAgICdmanMtY2hlY2tlZCc6IGlzQ2hlY2tlZFxuICAgICAgICB9KSxcbiAgICAgICAgY2hpbGRyZW46IFtqc3goXCJpbnB1dFwiLCB7XG4gICAgICAgICAgY2hlY2tlZDogaXNDaGVja2VkLFxuICAgICAgICAgIGNsYXNzOiBcImZqcy1pbnB1dFwiLFxuICAgICAgICAgIGRpc2FibGVkOiBkaXNhYmxlZCxcbiAgICAgICAgICByZWFkT25seTogcmVhZG9ubHksXG4gICAgICAgICAgaWQ6IGl0ZW1Eb21JZCxcbiAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgICAgb25DbGljazogKCkgPT4gdG9nZ2xlQ2hlY2tib3gob3B0aW9uLnZhbHVlKSxcbiAgICAgICAgICBvbkJsdXI6IG9uQ2hlY2tib3hCbHVyLFxuICAgICAgICAgIG9uRm9jdXM6IG9uQ2hlY2tib3hGb2N1cyxcbiAgICAgICAgICByZXF1aXJlZDogcmVxdWlyZWQsXG4gICAgICAgICAgXCJhcmlhLWludmFsaWRcIjogZXJyb3JzLmxlbmd0aCA+IDAsXG4gICAgICAgICAgXCJhcmlhLWRlc2NyaWJlZGJ5XCI6IFtkZXNjcmlwdGlvbklkLCBlcnJvck1lc3NhZ2VJZF0uam9pbignICcpXG4gICAgICAgIH0pLCBqc3goTGFiZWwsIHtcbiAgICAgICAgICBodG1sRm9yOiBpdGVtRG9tSWQsXG4gICAgICAgICAgbGFiZWw6IG9wdGlvbi5sYWJlbCxcbiAgICAgICAgICByZXF1aXJlZDogZmFsc2VcbiAgICAgICAgfSldXG4gICAgICB9LCBvcHRpb24udmFsdWUpO1xuICAgIH0pLCBqc3goRGVzY3JpcHRpb24sIHtcbiAgICAgIGlkOiBkZXNjcmlwdGlvbklkLFxuICAgICAgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uXG4gICAgfSksIGpzeChFcnJvcnMsIHtcbiAgICAgIGlkOiBlcnJvck1lc3NhZ2VJZCxcbiAgICAgIGVycm9yczogZXJyb3JzXG4gICAgfSldXG4gIH0pO1xufVxuQ2hlY2tsaXN0LmNvbmZpZyA9IHtcbiAgdHlwZTogdHlwZSRoLFxuICBrZXllZDogdHJ1ZSxcbiAgbmFtZTogJ0NoZWNrYm94IGdyb3VwJyxcbiAgZ3JvdXA6ICdzZWxlY3Rpb24nLFxuICBlbXB0eVZhbHVlOiBbXSxcbiAgc2FuaXRpemVWYWx1ZTogc2FuaXRpemVNdWx0aVNlbGVjdFZhbHVlLFxuICBjcmVhdGU6IChvcHRpb25zID0ge30pID0+ICh7XG4gICAgbGFiZWw6ICdDaGVja2JveCBncm91cCcsXG4gICAgLi4uY3JlYXRlRW1wdHlPcHRpb25zKG9wdGlvbnMpXG4gIH0pXG59O1xuXG5jb25zdCBub29wJDEgPSAoKSA9PiBmYWxzZTtcbmNvbnN0IGlkcyQyID0gbmV3IElkcyhbMzIsIDM2LCAxXSk7XG5mdW5jdGlvbiBGb3JtRmllbGQocHJvcHMpIHtcbiAgY29uc3QgaW5zdGFuY2VJZFJlZiA9IHVzZVJlZihpZHMkMi5uZXh0KCkpO1xuICBjb25zdCB7XG4gICAgZmllbGQsXG4gICAgaW5kZXhlcyxcbiAgICBvbkNoYW5nZTogX29uQ2hhbmdlXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgZm9ybUZpZWxkcyA9IHVzZVNlcnZpY2UoJ2Zvcm1GaWVsZHMnKSxcbiAgICB2aWV3ZXJDb21tYW5kcyA9IHVzZVNlcnZpY2UoJ3ZpZXdlckNvbW1hbmRzJywgZmFsc2UpLFxuICAgIGZvcm1GaWVsZEluc3RhbmNlUmVnaXN0cnkgPSB1c2VTZXJ2aWNlKCdmb3JtRmllbGRJbnN0YW5jZVJlZ2lzdHJ5JywgZmFsc2UpLFxuICAgIHBhdGhSZWdpc3RyeSA9IHVzZVNlcnZpY2UoJ3BhdGhSZWdpc3RyeScpLFxuICAgIGV2ZW50QnVzID0gdXNlU2VydmljZSgnZXZlbnRCdXMnKSxcbiAgICBmb3JtID0gdXNlU2VydmljZSgnZm9ybScpO1xuICBjb25zdCB7XG4gICAgaW5pdGlhbERhdGEsXG4gICAgZGF0YSxcbiAgICBlcnJvcnMsXG4gICAgcHJvcGVydGllc1xuICB9ID0gZm9ybS5fZ2V0U3RhdGUoKTtcbiAgY29uc3Qge1xuICAgIEVsZW1lbnQsXG4gICAgSGlkZGVuLFxuICAgIENvbHVtblxuICB9ID0gdXNlQ29udGV4dChGb3JtUmVuZGVyQ29udGV4dCk7XG4gIGNvbnN0IHtcbiAgICBmb3JtSWRcbiAgfSA9IHVzZUNvbnRleHQoRm9ybUNvbnRleHQpO1xuXG4gIC8vIHRyYWNrIHdoZXRoZXIgd2Ugc2hvdWxkIHRyaWdnZXIgaW5pdGlhbCB2YWxpZGF0aW9uIG9uIGNlcnRhaW4gYWN0aW9ucywgZS5nLiBmaWVsZCBibHVyXG4gIC8vIGRpc2FibGVkIHN0cmFpZ2h0IGF3YXksIGlmIHZpZXdlckNvbW1hbmRzIGFyZSBub3QgYXZhaWxhYmxlXG4gIGNvbnN0IFtpbml0aWFsVmFsaWRhdGlvblRyaWdnZXIsIHNldEluaXRpYWxWYWxpZGF0aW9uVHJpZ2dlcl0gPSB1c2VTdGF0ZSghIXZpZXdlckNvbW1hbmRzKTtcbiAgY29uc3QgRm9ybUZpZWxkQ29tcG9uZW50ID0gZm9ybUZpZWxkcy5nZXQoZmllbGQudHlwZSk7XG4gIGlmICghRm9ybUZpZWxkQ29tcG9uZW50KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBjYW5ub3QgcmVuZGVyIGZpZWxkIDwke2ZpZWxkLnR5cGV9PmApO1xuICB9XG4gIGNvbnN0IGZpZWxkQ29uZmlnID0gRm9ybUZpZWxkQ29tcG9uZW50LmNvbmZpZztcbiAgY29uc3QgbG9jYWxFeHByZXNzaW9uQ29udGV4dCA9IHVzZUNvbnRleHQoTG9jYWxFeHByZXNzaW9uQ29udGV4dCk7XG4gIGNvbnN0IHZhbHVlUGF0aCA9IHVzZU1lbW8oKCkgPT4gcGF0aFJlZ2lzdHJ5LmdldFZhbHVlUGF0aChmaWVsZCwge1xuICAgIGluZGV4ZXNcbiAgfSksIFtmaWVsZCwgaW5kZXhlcywgcGF0aFJlZ2lzdHJ5XSk7XG4gIGNvbnN0IGluaXRpYWxWYWx1ZSA9IHVzZU1lbW8oKCkgPT4gZ2V0KGluaXRpYWxEYXRhLCB2YWx1ZVBhdGgpLCBbaW5pdGlhbERhdGEsIHZhbHVlUGF0aF0pO1xuICBjb25zdCByZWFkb25seSA9IHVzZVJlYWRvbmx5KGZpZWxkLCBwcm9wZXJ0aWVzKTtcbiAgY29uc3QgdmFsdWUgPSBnZXQoZGF0YSwgdmFsdWVQYXRoKTtcblxuICAvLyBhZGQgcHJlY2VkZW5jZTogZ2xvYmFsIHJlYWRvbmx5ID4gZm9ybSBmaWVsZCBkaXNhYmxlZFxuICBjb25zdCBkaXNhYmxlZCA9ICFwcm9wZXJ0aWVzLnJlYWRPbmx5ICYmIChwcm9wZXJ0aWVzLmRpc2FibGVkIHx8IGZpZWxkLmRpc2FibGVkIHx8IGZhbHNlKTtcbiAgY29uc3QgaGlkZGVuID0gdXNlQ29uZGl0aW9uKGZpZWxkLmNvbmRpdGlvbmFsICYmIGZpZWxkLmNvbmRpdGlvbmFsLmhpZGUgfHwgbnVsbCk7XG4gIGNvbnN0IGluc3RhbmNlSWQgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBpZiAoIWZvcm1GaWVsZEluc3RhbmNlUmVnaXN0cnkpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gZm9ybUZpZWxkSW5zdGFuY2VSZWdpc3RyeS5zeW5jSW5zdGFuY2UoaW5zdGFuY2VJZFJlZi5jdXJyZW50LCB7XG4gICAgICBpZDogZmllbGQuaWQsXG4gICAgICBleHByZXNzaW9uQ29udGV4dEluZm86IGxvY2FsRXhwcmVzc2lvbkNvbnRleHQsXG4gICAgICB2YWx1ZVBhdGgsXG4gICAgICB2YWx1ZSxcbiAgICAgIGluZGV4ZXMsXG4gICAgICBoaWRkZW5cbiAgICB9KTtcbiAgfSwgW2Zvcm1GaWVsZEluc3RhbmNlUmVnaXN0cnksIGZpZWxkLmlkLCBsb2NhbEV4cHJlc3Npb25Db250ZXh0LCB2YWx1ZVBhdGgsIHZhbHVlLCBpbmRleGVzLCBoaWRkZW5dKTtcbiAgY29uc3QgZmllbGRJbnN0YW5jZSA9IGluc3RhbmNlSWQgPyBmb3JtRmllbGRJbnN0YW5jZVJlZ2lzdHJ5LmdldChpbnN0YW5jZUlkKSA6IG51bGw7XG5cbiAgLy8gY2xlYW51cCB0aGUgaW5zdGFuY2Ugb24gdW5tb3VudFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGluc3RhbmNlSWQgPSBpbnN0YW5jZUlkUmVmLmN1cnJlbnQ7XG4gICAgaWYgKGZvcm1GaWVsZEluc3RhbmNlUmVnaXN0cnkpIHtcbiAgICAgIHJldHVybiAoKSA9PiBmb3JtRmllbGRJbnN0YW5jZVJlZ2lzdHJ5LmNsZWFudXBJbnN0YW5jZShpbnN0YW5jZUlkKTtcbiAgICB9XG4gIH0sIFtmb3JtRmllbGRJbnN0YW5jZVJlZ2lzdHJ5XSk7XG5cbiAgLy8gZW5zdXJlcyB0aGUgaW5pdGlhbCB2YWxpZGF0aW9uIGJlaGF2aW9yIGNhbiBiZSByZS10cmlnZ2VyZWQgdXBvbiBmb3JtIHJlc2V0XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCF2aWV3ZXJDb21tYW5kcykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCByZXNldFZhbGlkYXRpb24gPSAoKSA9PiB7XG4gICAgICBzZXRJbml0aWFsVmFsaWRhdGlvblRyaWdnZXIodHJ1ZSk7XG4gICAgfTtcbiAgICBldmVudEJ1cy5vbignaW1wb3J0LmRvbmUnLCByZXNldFZhbGlkYXRpb24pO1xuICAgIGV2ZW50QnVzLm9uKCdyZXNldCcsIHJlc2V0VmFsaWRhdGlvbik7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGV2ZW50QnVzLm9mZignaW1wb3J0LmRvbmUnLCByZXNldFZhbGlkYXRpb24pO1xuICAgICAgZXZlbnRCdXMub2ZmKCdyZXNldCcsIHJlc2V0VmFsaWRhdGlvbik7XG4gICAgfTtcbiAgfSwgW2V2ZW50QnVzLCB2aWV3ZXJDb21tYW5kc10pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGhhc0luaXRpYWxWYWx1ZSA9IGluaXRpYWxWYWx1ZSAmJiAhaXNFcXVhbChpbml0aWFsVmFsdWUsIFtdKTtcbiAgICBpZiAoaW5pdGlhbFZhbGlkYXRpb25UcmlnZ2VyICYmIGhhc0luaXRpYWxWYWx1ZSAmJiBmaWVsZEluc3RhbmNlKSB7XG4gICAgICBzZXRJbml0aWFsVmFsaWRhdGlvblRyaWdnZXIoZmFsc2UpO1xuICAgICAgdmlld2VyQ29tbWFuZHMudXBkYXRlRmllbGRJbnN0YW5jZVZhbGlkYXRpb24oZmllbGRJbnN0YW5jZSwgaW5pdGlhbFZhbHVlKTtcbiAgICB9XG4gIH0sIFtmaWVsZEluc3RhbmNlLCBpbml0aWFsVmFsaWRhdGlvblRyaWdnZXIsIGluaXRpYWxWYWx1ZSwgdmlld2VyQ29tbWFuZHNdKTtcbiAgY29uc3Qgb25CbHVyID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGNvbnN0IHZhbHVlID0gZ2V0KGRhdGEsIHZhbHVlUGF0aCk7XG4gICAgaWYgKGluaXRpYWxWYWxpZGF0aW9uVHJpZ2dlcikge1xuICAgICAgc2V0SW5pdGlhbFZhbGlkYXRpb25UcmlnZ2VyKGZhbHNlKTtcbiAgICAgIHZpZXdlckNvbW1hbmRzLnVwZGF0ZUZpZWxkSW5zdGFuY2VWYWxpZGF0aW9uKGZpZWxkSW5zdGFuY2UsIHZhbHVlKTtcbiAgICB9XG4gICAgZXZlbnRCdXMuZmlyZSgnZm9ybUZpZWxkLmJsdXInLCB7XG4gICAgICBmb3JtRmllbGQ6IGZpZWxkXG4gICAgfSk7XG4gIH0sIFtkYXRhLCBldmVudEJ1cywgZmllbGQsIGZpZWxkSW5zdGFuY2UsIGluaXRpYWxWYWxpZGF0aW9uVHJpZ2dlciwgdmFsdWVQYXRoLCB2aWV3ZXJDb21tYW5kc10pO1xuICBjb25zdCBvbkZvY3VzID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGV2ZW50QnVzLmZpcmUoJ2Zvcm1GaWVsZC5mb2N1cycsIHtcbiAgICAgIGZvcm1GaWVsZDogZmllbGRcbiAgICB9KTtcbiAgfSwgW2V2ZW50QnVzLCBmaWVsZF0pO1xuICBjb25zdCBvbkNoYW5nZSA9IHVzZUNhbGxiYWNrKHVwZGF0ZSA9PiB7XG4gICAgc2V0SW5pdGlhbFZhbGlkYXRpb25UcmlnZ2VyKGZhbHNlKTtcbiAgICBfb25DaGFuZ2Uoe1xuICAgICAgZmllbGQsXG4gICAgICBpbmRleGVzLFxuICAgICAgZmllbGRJbnN0YW5jZSxcbiAgICAgIC4uLnVwZGF0ZVxuICAgIH0pO1xuICB9LCBbX29uQ2hhbmdlLCBmaWVsZCwgZmllbGRJbnN0YW5jZSwgaW5kZXhlc10pO1xuICBpZiAoaGlkZGVuKSB7XG4gICAgcmV0dXJuIGpzeChIaWRkZW4sIHtcbiAgICAgIGZpZWxkOiBmaWVsZFxuICAgIH0pO1xuICB9XG4gIGNvbnN0IGRvbUlkID0gYCR7cHJlZml4SWQoZmllbGQuaWQsIGZvcm1JZCwgaW5kZXhlcyl9YDtcbiAgY29uc3QgZmllbGRFcnJvcnMgPSBnZXQoZXJyb3JzLCBbZmllbGQuaWQsIC4uLk9iamVjdC52YWx1ZXMoaW5kZXhlcyB8fCB7fSldKSB8fCBbXTtcbiAgY29uc3QgZm9ybUZpZWxkRWxlbWVudCA9IGpzeChGb3JtRmllbGRDb21wb25lbnQsIHtcbiAgICAuLi5wcm9wcyxcbiAgICBkaXNhYmxlZDogZGlzYWJsZWQsXG4gICAgZXJyb3JzOiBmaWVsZEVycm9ycyxcbiAgICBkb21JZDogZG9tSWQsXG4gICAgb25DaGFuZ2U6IGRpc2FibGVkIHx8IHJlYWRvbmx5ID8gbm9vcCQxIDogb25DaGFuZ2UsXG4gICAgb25CbHVyOiBkaXNhYmxlZCB8fCByZWFkb25seSA/IG5vb3AkMSA6IG9uQmx1cixcbiAgICBvbkZvY3VzOiBkaXNhYmxlZCB8fCByZWFkb25seSA/IG5vb3AkMSA6IG9uRm9jdXMsXG4gICAgcmVhZG9ubHk6IHJlYWRvbmx5LFxuICAgIHZhbHVlOiB2YWx1ZSxcbiAgICBmaWVsZEluc3RhbmNlOiBmaWVsZEluc3RhbmNlXG4gIH0pO1xuICBpZiAoZmllbGRDb25maWcuZXNjYXBlR3JpZFJlbmRlcikge1xuICAgIHJldHVybiBmb3JtRmllbGRFbGVtZW50O1xuICB9XG4gIHJldHVybiBqc3goQ29sdW1uLCB7XG4gICAgZmllbGQ6IGZpZWxkLFxuICAgIGNsYXNzOiBncmlkQ29sdW1uQ2xhc3NlcyhmaWVsZCksXG4gICAgY2hpbGRyZW46IGpzeChFbGVtZW50LCB7XG4gICAgICBjbGFzczogXCJmanMtZWxlbWVudFwiLFxuICAgICAgZmllbGQ6IGZpZWxkLFxuICAgICAgY2hpbGRyZW46IGZvcm1GaWVsZEVsZW1lbnRcbiAgICB9KVxuICB9KTtcbn1cblxuZnVuY3Rpb24gQ2hpbGRyZW5SZW5kZXJlcihwcm9wcykge1xuICBjb25zdCB7XG4gICAgQ2hpbGRyZW5cbiAgfSA9IHVzZUNvbnRleHQoRm9ybVJlbmRlckNvbnRleHQpO1xuICBjb25zdCB7XG4gICAgZmllbGQsXG4gICAgRW1wdHlcbiAgfSA9IHByb3BzO1xuICBjb25zdCB7XG4gICAgaWRcbiAgfSA9IGZpZWxkO1xuICBjb25zdCByZXBlYXRSZW5kZXJNYW5hZ2VyID0gdXNlU2VydmljZSgncmVwZWF0UmVuZGVyTWFuYWdlcicsIGZhbHNlKTtcbiAgY29uc3QgaXNSZXBlYXRpbmcgPSByZXBlYXRSZW5kZXJNYW5hZ2VyICYmIHJlcGVhdFJlbmRlck1hbmFnZXIuaXNGaWVsZFJlcGVhdGluZyhpZCk7XG4gIGNvbnN0IFJlcGVhdGVyID0gcmVwZWF0UmVuZGVyTWFuYWdlci5SZXBlYXRlcjtcbiAgY29uc3QgUmVwZWF0Rm9vdGVyID0gcmVwZWF0UmVuZGVyTWFuYWdlci5SZXBlYXRGb290ZXI7XG4gIHJldHVybiBpc1JlcGVhdGluZyA/IGpzeChSZXBlYXRDaGlsZHJlblJlbmRlcmVyLCB7XG4gICAgLi4ucHJvcHMsXG4gICAgQ2hpbGRyZW5Sb290OiBDaGlsZHJlbixcbiAgICBFbXB0eSxcbiAgICBSZXBlYXRlcixcbiAgICBSZXBlYXRGb290ZXIsXG4gICAgcmVwZWF0UmVuZGVyTWFuYWdlclxuICB9KSA6IGpzeChTaW1wbGVDaGlsZHJlblJlbmRlcmVyLCB7XG4gICAgLi4ucHJvcHMsXG4gICAgQ2hpbGRyZW5Sb290OiBDaGlsZHJlbixcbiAgICBFbXB0eVxuICB9KTtcbn1cbmZ1bmN0aW9uIFNpbXBsZUNoaWxkcmVuUmVuZGVyZXIocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIENoaWxkcmVuUm9vdCxcbiAgICBFbXB0eSxcbiAgICBmaWVsZFxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IHtcbiAgICBjb21wb25lbnRzID0gW11cbiAgfSA9IGZpZWxkO1xuICBjb25zdCBpc0VtcHR5ID0gIWNvbXBvbmVudHMubGVuZ3RoO1xuICByZXR1cm4ganN4cyhDaGlsZHJlblJvb3QsIHtcbiAgICBjbGFzczogXCJmanMtdmVydGljYWwtbGF5b3V0IGZqcy1jaGlsZHJlbiBjZHMtLWdyaWQgY2RzLS1ncmlkLS1jb25kZW5zZWRcIixcbiAgICBmaWVsZDogZmllbGQsXG4gICAgY2hpbGRyZW46IFtqc3goUm93c1JlbmRlcmVyLCB7XG4gICAgICAuLi5wcm9wc1xuICAgIH0pLCBpc0VtcHR5ID8ganN4KEVtcHR5LCB7XG4gICAgICBmaWVsZDogZmllbGRcbiAgICB9KSA6IG51bGxdXG4gIH0pO1xufVxuZnVuY3Rpb24gUmVwZWF0Q2hpbGRyZW5SZW5kZXJlcihwcm9wcykge1xuICBjb25zdCB7XG4gICAgQ2hpbGRyZW5Sb290LFxuICAgIHJlcGVhdFJlbmRlck1hbmFnZXIsXG4gICAgRW1wdHksXG4gICAgZmllbGQsXG4gICAgLi4ucmVzdFByb3BzXG4gIH0gPSBwcm9wcztcbiAgY29uc3Qge1xuICAgIGNvbXBvbmVudHMgPSBbXVxuICB9ID0gZmllbGQ7XG4gIGNvbnN0IHVzZVNoYXJlZFN0YXRlID0gdXNlU3RhdGUoe1xuICAgIGlzQ29sbGFwc2VkOiB0cnVlXG4gIH0pO1xuICBjb25zdCBSZXBlYXRlciA9IHJlcGVhdFJlbmRlck1hbmFnZXIuUmVwZWF0ZXI7XG4gIGNvbnN0IFJlcGVhdEZvb3RlciA9IHJlcGVhdFJlbmRlck1hbmFnZXIuUmVwZWF0Rm9vdGVyO1xuICByZXR1cm4ganN4cyhGcmFnbWVudCwge1xuICAgIGNoaWxkcmVuOiBbanN4cyhDaGlsZHJlblJvb3QsIHtcbiAgICAgIGNsYXNzOiBcImZqcy12ZXJ0aWNhbC1sYXlvdXQgZmpzLWNoaWxkcmVuIGNkcy0tZ3JpZCBjZHMtLWdyaWQtLWNvbmRlbnNlZFwiLFxuICAgICAgZmllbGQ6IGZpZWxkLFxuICAgICAgY2hpbGRyZW46IFtSZXBlYXRlciA/IGpzeChSZXBlYXRlciwge1xuICAgICAgICAuLi5yZXN0UHJvcHMsXG4gICAgICAgIHVzZVNoYXJlZFN0YXRlLFxuICAgICAgICBmaWVsZCxcbiAgICAgICAgUm93c1JlbmRlcmVyXG4gICAgICB9KSA6IGpzeChSb3dzUmVuZGVyZXIsIHtcbiAgICAgICAgLi4ucmVzdFByb3BzLFxuICAgICAgICBmaWVsZFxuICAgICAgfSksICFjb21wb25lbnRzLmxlbmd0aCA/IGpzeChFbXB0eSwge1xuICAgICAgICBmaWVsZDogZmllbGRcbiAgICAgIH0pIDogbnVsbF1cbiAgICB9KSwgUmVwZWF0Rm9vdGVyID8ganN4KFJlcGVhdEZvb3Rlciwge1xuICAgICAgLi4ucmVzdFByb3BzLFxuICAgICAgdXNlU2hhcmVkU3RhdGUsXG4gICAgICBmaWVsZFxuICAgIH0pIDogbnVsbF1cbiAgfSk7XG59XG5mdW5jdGlvbiBSb3dzUmVuZGVyZXIocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGZpZWxkLFxuICAgIGluZGV4ZXNcbiAgfSA9IHByb3BzO1xuICBjb25zdCB7XG4gICAgaWQ6IHBhcmVudElkLFxuICAgIHZlcnRpY2FsQWxpZ25tZW50ID0gJ3N0YXJ0J1xuICB9ID0gZmllbGQ7XG4gIGNvbnN0IGZvcm1MYXlvdXRlciA9IHVzZVNlcnZpY2UoJ2Zvcm1MYXlvdXRlcicpO1xuICBjb25zdCBmb3JtRmllbGRSZWdpc3RyeSA9IHVzZVNlcnZpY2UoJ2Zvcm1GaWVsZFJlZ2lzdHJ5Jyk7XG4gIGNvbnN0IHJvd3MgPSBmb3JtTGF5b3V0ZXIuZ2V0Um93cyhwYXJlbnRJZCk7XG4gIGNvbnN0IHtcbiAgICBSb3dcbiAgfSA9IHVzZUNvbnRleHQoRm9ybVJlbmRlckNvbnRleHQpO1xuICByZXR1cm4ganN4cyhGcmFnbWVudCwge1xuICAgIGNoaWxkcmVuOiBbJyAnLCByb3dzLm1hcChyb3cgPT4ge1xuICAgICAgY29uc3Qge1xuICAgICAgICBjb21wb25lbnRzID0gW11cbiAgICAgIH0gPSByb3c7XG4gICAgICBpZiAoIWNvbXBvbmVudHMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGpzeChSb3csIHtcbiAgICAgICAgcm93OiByb3csXG4gICAgICAgIGNsYXNzOiBcImZqcy1sYXlvdXQtcm93IGNkcy0tcm93XCIsXG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgYWxpZ25JdGVtczogdmVydGljYWxBbGlnbm1lbnRcbiAgICAgICAgfSxcbiAgICAgICAgY2hpbGRyZW46IGNvbXBvbmVudHMubWFwKGNoaWxkSWQgPT4ge1xuICAgICAgICAgIGNvbnN0IGNoaWxkRmllbGQgPSBmb3JtRmllbGRSZWdpc3RyeS5nZXQoY2hpbGRJZCk7XG4gICAgICAgICAgaWYgKCFjaGlsZEZpZWxkKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoRm9ybUZpZWxkLCB7XG4gICAgICAgICAgICAuLi5wcm9wcyxcbiAgICAgICAgICAgIGtleTogY2hpbGRJZCxcbiAgICAgICAgICAgIGZpZWxkOiBjaGlsZEZpZWxkLFxuICAgICAgICAgICAgaW5kZXhlczogaW5kZXhlc1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KVxuICAgICAgfSwgcm93LmlkKTtcbiAgICB9KSwgJyAnXVxuICB9KTtcbn1cblxuZnVuY3Rpb24gRGVmYXVsdChwcm9wcykge1xuICBjb25zdCB7XG4gICAgRW1wdHlcbiAgfSA9IHVzZUNvbnRleHQoRm9ybVJlbmRlckNvbnRleHQpO1xuICBjb25zdCBmdWxsUHJvcHMgPSB7XG4gICAgLi4ucHJvcHMsXG4gICAgRW1wdHlcbiAgfTtcbiAgcmV0dXJuIGpzeChDaGlsZHJlblJlbmRlcmVyLCB7XG4gICAgLi4uZnVsbFByb3BzXG4gIH0pO1xufVxuRGVmYXVsdC5jb25maWcgPSB7XG4gIHR5cGU6ICdkZWZhdWx0JyxcbiAga2V5ZWQ6IGZhbHNlLFxuICBsYWJlbDogbnVsbCxcbiAgZ3JvdXA6IG51bGwsXG4gIGNyZWF0ZTogKG9wdGlvbnMgPSB7fSkgPT4gKHtcbiAgICBjb21wb25lbnRzOiBbXSxcbiAgICAuLi5vcHRpb25zXG4gIH0pLFxuICBnZXRTdWJoZWFkaW5nOiBmaWVsZCA9PiBmaWVsZC5pZFxufTtcblxudmFyIF9wYXRoJHo7XG5mdW5jdGlvbiBfZXh0ZW5kcyRBKCkgeyByZXR1cm4gX2V4dGVuZHMkQSA9IE9iamVjdC5hc3NpZ24gPyBPYmplY3QuYXNzaWduLmJpbmQoKSA6IGZ1bmN0aW9uIChuKSB7IGZvciAodmFyIGUgPSAxOyBlIDwgYXJndW1lbnRzLmxlbmd0aDsgZSsrKSB7IHZhciB0ID0gYXJndW1lbnRzW2VdOyBmb3IgKHZhciByIGluIHQpICh7fSkuaGFzT3duUHJvcGVydHkuY2FsbCh0LCByKSAmJiAobltyXSA9IHRbcl0pOyB9IHJldHVybiBuOyB9LCBfZXh0ZW5kcyRBLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7IH1cbnZhciBTdmdDYWxlbmRhciA9IGZ1bmN0aW9uIFN2Z0NhbGVuZGFyKHByb3BzKSB7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInN2Z1wiLCBfZXh0ZW5kcyRBKHtcbiAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgIHdpZHRoOiAxNCxcbiAgICBoZWlnaHQ6IDE1LFxuICAgIGZpbGw6IFwibm9uZVwiLFxuICAgIHZpZXdCb3g6IFwiMCAwIDI4IDMwXCJcbiAgfSwgcHJvcHMpLCBfcGF0aCR6IHx8IChfcGF0aCR6ID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIixcbiAgICBkOiBcIk0xOSAySDlWMEg3djJIMmEyIDIgMCAwIDAtMiAydjI0YTIgMiAwIDAgMCAyIDJoMjRhMiAyIDAgMCAwIDItMlY0YTIgMiAwIDAgMC0yLTJoLTVWMGgtMnpNNyA3VjRIMnY1aDI0VjRoLTV2M2gtMlY0SDl2M3ptLTUgNHYxN2gyNFYxMXpcIixcbiAgICBjbGlwUnVsZTogXCJldmVub2RkXCJcbiAgfSkpKTtcbn07XG5cbi8qKlxuICogUmV0dXJucyBkYXRlIGZvcm1hdCBmb3IgdGhlIHByb3ZpZGVkIGxvY2FsZS5cbiAqIElmIHRoZSBsb2NhbGUgaXMgbm90IHByb3ZpZGVkLCB1c2VzIHRoZSBicm93c2VyJ3MgbG9jYWxlLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBbbG9jYWxlXSAtIFRoZSBsb2NhbGUgdG8gZ2V0IGRhdGUgZm9ybWF0IGZvci5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBkYXRlIGZvcm1hdCBmb3IgdGhlIGxvY2FsZS5cbiAqL1xuZnVuY3Rpb24gZ2V0TG9jYWxlRGF0ZUZvcm1hdChsb2NhbGUgPSAnZGVmYXVsdCcpIHtcbiAgY29uc3QgcGFydHMgPSBuZXcgSW50bC5EYXRlVGltZUZvcm1hdChsb2NhbGUpLmZvcm1hdFRvUGFydHMobmV3IERhdGUoRGF0ZS5VVEMoMjAyMCwgNSwgNSkpKTtcbiAgcmV0dXJuIHBhcnRzLm1hcChwYXJ0ID0+IHtcbiAgICBjb25zdCBsZW4gPSBwYXJ0LnZhbHVlLmxlbmd0aDtcbiAgICBzd2l0Y2ggKHBhcnQudHlwZSkge1xuICAgICAgY2FzZSAnZGF5JzpcbiAgICAgICAgcmV0dXJuICdkJy5yZXBlYXQobGVuKTtcbiAgICAgIGNhc2UgJ21vbnRoJzpcbiAgICAgICAgcmV0dXJuICdNJy5yZXBlYXQobGVuKTtcbiAgICAgIGNhc2UgJ3llYXInOlxuICAgICAgICByZXR1cm4gJ3knLnJlcGVhdChsZW4pO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHBhcnQudmFsdWU7XG4gICAgfVxuICB9KS5qb2luKCcnKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHJlYWRhYmxlIGRhdGUgZm9ybWF0IGZvciB0aGUgcHJvdmlkZWQgbG9jYWxlLlxuICogSWYgdGhlIGxvY2FsZSBpcyBub3QgcHJvdmlkZWQsIHVzZXMgdGhlIGJyb3dzZXIncyBsb2NhbGUuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IFtsb2NhbGVdIC0gVGhlIGxvY2FsZSB0byBnZXQgcmVhZGFibGUgZGF0ZSBmb3JtYXQgZm9yLlxuICogQHJldHVybnMge3N0cmluZ30gVGhlIHJlYWRhYmxlIGRhdGUgZm9ybWF0IGZvciB0aGUgbG9jYWxlLlxuICovXG5mdW5jdGlvbiBnZXRMb2NhbGVSZWFkYWJsZURhdGVGb3JtYXQobG9jYWxlKSB7XG4gIGxldCBmb3JtYXQgPSBnZXRMb2NhbGVEYXRlRm9ybWF0KGxvY2FsZSkudG9Mb3dlckNhc2UoKTtcblxuICAvLyBFbnN1cmUgbW9udGggaXMgaW4gJ21tJyBmb3JtYXRcbiAgaWYgKCFmb3JtYXQuaW5jbHVkZXMoJ21tJykpIHtcbiAgICBmb3JtYXQgPSBmb3JtYXQucmVwbGFjZSgnbScsICdtbScpO1xuICB9XG5cbiAgLy8gRW5zdXJlIGRheSBpcyBpbiAnZGQnIGZvcm1hdFxuICBpZiAoIWZvcm1hdC5pbmNsdWRlcygnZGQnKSkge1xuICAgIGZvcm1hdCA9IGZvcm1hdC5yZXBsYWNlKCdkJywgJ2RkJyk7XG4gIH1cbiAgcmV0dXJuIGZvcm1hdDtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGZsYXRwaWNrciBjb25maWcgZm9yIHRoZSBwcm92aWRlZCBsb2NhbGUuXG4gKiBJZiB0aGUgbG9jYWxlIGlzIG5vdCBwcm92aWRlZCwgdXNlcyB0aGUgYnJvd3NlcidzIGxvY2FsZS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gW2xvY2FsZV0gLSBUaGUgbG9jYWxlIHRvIGdldCBmbGF0cGlja3IgY29uZmlnIGZvci5cbiAqIEByZXR1cm5zIHtvYmplY3R9IFRoZSBmbGF0cGlja3IgY29uZmlnIGZvciB0aGUgbG9jYWxlLlxuICovXG5mdW5jdGlvbiBnZXRMb2NhbGVEYXRlRmxhdHBpY2tyQ29uZmlnKGxvY2FsZSkge1xuICByZXR1cm4gZmxhdHBpY2tlcml6ZURhdGVGb3JtYXQoZ2V0TG9jYWxlRGF0ZUZvcm1hdChsb2NhbGUpKTtcbn1cbmZ1bmN0aW9uIGZsYXRwaWNrZXJpemVEYXRlRm9ybWF0KGRhdGVGb3JtYXQpIHtcbiAgY29uc3QgdXNlTGVhZGluZ1plcm8gPSB7XG4gICAgZGF5OiBkYXRlRm9ybWF0LmluY2x1ZGVzKCdkZCcpLFxuICAgIG1vbnRoOiBkYXRlRm9ybWF0LmluY2x1ZGVzKCdNTScpLFxuICAgIHllYXI6IGRhdGVGb3JtYXQuaW5jbHVkZXMoJ3l5eXknKVxuICB9O1xuICBkYXRlRm9ybWF0ID0gdXNlTGVhZGluZ1plcm8uZGF5ID8gZGF0ZUZvcm1hdC5yZXBsYWNlKCdkZCcsICdkJykgOiBkYXRlRm9ybWF0LnJlcGxhY2UoJ2QnLCAnaicpO1xuICBkYXRlRm9ybWF0ID0gdXNlTGVhZGluZ1plcm8ubW9udGggPyBkYXRlRm9ybWF0LnJlcGxhY2UoJ01NJywgJ20nKSA6IGRhdGVGb3JtYXQucmVwbGFjZSgnTScsICduJyk7XG4gIGRhdGVGb3JtYXQgPSB1c2VMZWFkaW5nWmVyby55ZWFyID8gZGF0ZUZvcm1hdC5yZXBsYWNlKCd5eXl5JywgJ1knKSA6IGRhdGVGb3JtYXQucmVwbGFjZSgneXknLCAneScpO1xuICByZXR1cm4gZGF0ZUZvcm1hdDtcbn1cblxuZnVuY3Rpb24gSW5wdXRBZG9ybmVyKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBwcmUsXG4gICAgcG9zdCxcbiAgICByb290UmVmLFxuICAgIGlucHV0UmVmLFxuICAgIGNoaWxkcmVuLFxuICAgIGRpc2FibGVkLFxuICAgIHJlYWRvbmx5LFxuICAgIGhhc0Vycm9yc1xuICB9ID0gcHJvcHM7XG4gIGNvbnN0IG9uQWRvcm5tZW50Q2xpY2sgPSAoKSA9PiBpbnB1dFJlZiAmJiBpbnB1dFJlZi5jdXJyZW50ICYmIGlucHV0UmVmLmN1cnJlbnQuZm9jdXMoKTtcbiAgcmV0dXJuIGpzeHMoXCJkaXZcIiwge1xuICAgIGNsYXNzOiBjbGFzc05hbWVzKCdmanMtaW5wdXQtZ3JvdXAnLCB7XG4gICAgICAnZmpzLWRpc2FibGVkJzogZGlzYWJsZWQsXG4gICAgICAnZmpzLXJlYWRvbmx5JzogcmVhZG9ubHlcbiAgICB9LCB7XG4gICAgICBoYXNFcnJvcnM6IGhhc0Vycm9yc1xuICAgIH0pLFxuICAgIHJlZjogcm9vdFJlZixcbiAgICBjaGlsZHJlbjogW3ByZSAmJiBqc3hzKFwic3BhblwiLCB7XG4gICAgICBjbGFzczogXCJmanMtaW5wdXQtYWRvcm5tZW50IGJvcmRlci1yaWdodCBib3JkZXItcmFkaXVzLWxlZnRcIixcbiAgICAgIG9uQ2xpY2s6IG9uQWRvcm5tZW50Q2xpY2ssXG4gICAgICBjaGlsZHJlbjogWycgJywgaXNTdHJpbmcocHJlKSA/IGpzeChcInNwYW5cIiwge1xuICAgICAgICBjbGFzczogXCJmanMtaW5wdXQtYWRvcm5tZW50LXRleHRcIixcbiAgICAgICAgY2hpbGRyZW46IHByZVxuICAgICAgfSkgOiBwcmUsICcgJ11cbiAgICB9KSwgY2hpbGRyZW4sIHBvc3QgJiYganN4cyhcInNwYW5cIiwge1xuICAgICAgY2xhc3M6IFwiZmpzLWlucHV0LWFkb3JubWVudCBib3JkZXItbGVmdCBib3JkZXItcmFkaXVzLXJpZ2h0XCIsXG4gICAgICBvbkNsaWNrOiBvbkFkb3JubWVudENsaWNrLFxuICAgICAgY2hpbGRyZW46IFsnICcsIGlzU3RyaW5nKHBvc3QpID8ganN4KFwic3BhblwiLCB7XG4gICAgICAgIGNsYXNzOiBcImZqcy1pbnB1dC1hZG9ybm1lbnQtdGV4dFwiLFxuICAgICAgICBjaGlsZHJlbjogcG9zdFxuICAgICAgfSkgOiBwb3N0LCAnICddXG4gICAgfSldXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBEYXRlcGlja2VyKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBsYWJlbCxcbiAgICBkb21JZCxcbiAgICBjb2xsYXBzZUxhYmVsT25FbXB0eSxcbiAgICBvbkRhdGVUaW1lQmx1cixcbiAgICBvbkRhdGVUaW1lRm9jdXMsXG4gICAgcmVxdWlyZWQsXG4gICAgZGlzYWJsZWQsXG4gICAgZGlzYWxsb3dQYXNzZWREYXRlcyxcbiAgICBkYXRlOiBkYXRlT2JqZWN0LFxuICAgIHJlYWRvbmx5LFxuICAgIHNldERhdGVcbiAgfSA9IHByb3BzO1xuXG4gIC8qKiBAdHlwZSB7aW1wb3J0KFwicHJlYWN0XCIpLlJlZk9iamVjdDxIVE1MSW5wdXRFbGVtZW50Pn0gKi9cbiAgY29uc3QgZGF0ZUlucHV0UmVmID0gdXNlUmVmKCk7XG5cbiAgLyoqIEB0eXBlIHtpbXBvcnQoXCJwcmVhY3RcIikuUmVmT2JqZWN0PEhUTUxFbGVtZW50Pn0gKi9cbiAgY29uc3QgZm9jdXNTY29wZVJlZiA9IHVzZVJlZigpO1xuICBjb25zdCBbZmxhdHBpY2tySW5zdGFuY2UsIHNldEZsYXRwaWNrckluc3RhbmNlXSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBbaXNJbnB1dERpcnR5LCBzZXRJc0lucHV0RGlydHldID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZm9yY2VGb2N1c0NhbGVuZGFyLCBzZXRGb3JjZUZvY3VzQ2FsZW5kYXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIC8vIGVuc3VyZXMgd2UgcmVuZGVyIGJhc2VkIG9uIGRhdGUgdmFsdWUgaW5zdGVhZCBvZiByZWZlcmVuY2VcbiAgY29uc3QgZGF0ZSA9IHVzZURlZXBDb21wYXJlTWVtb2l6ZShkYXRlT2JqZWN0KTtcblxuICAvLyBzaG9ydHMgdGhlIGRhdGUgdmFsdWUgYmFjayB0byB0aGUgc291cmNlXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFmbGF0cGlja3JJbnN0YW5jZSB8fCAhZmxhdHBpY2tySW5zdGFuY2UuY29uZmlnKSByZXR1cm47XG4gICAgZmxhdHBpY2tySW5zdGFuY2Uuc2V0RGF0ZShkYXRlLCB0cnVlKTtcbiAgICBzZXRJc0lucHV0RGlydHkoZmFsc2UpO1xuICB9LCBbZmxhdHBpY2tySW5zdGFuY2UsIGRhdGVdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWZvcmNlRm9jdXNDYWxlbmRhcikgcmV0dXJuO1xuICAgIGZvY3VzUmVsZXZhbnRGbGF0cGlja2VyRGF5KGZsYXRwaWNrckluc3RhbmNlKTtcbiAgICBzZXRGb3JjZUZvY3VzQ2FsZW5kYXIoZmFsc2UpO1xuICB9LCBbZmxhdHBpY2tySW5zdGFuY2UsIGZvcmNlRm9jdXNDYWxlbmRhcl0pO1xuXG4gIC8vIHNldHVwIGZsYXRwaWNrciBpbnN0YW5jZVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxldCBjb25maWcgPSB7XG4gICAgICBhbGxvd0lucHV0OiB0cnVlLFxuICAgICAgZGF0ZUZvcm1hdDogZ2V0TG9jYWxlRGF0ZUZsYXRwaWNrckNvbmZpZygpLFxuICAgICAgc3RhdGljOiB0cnVlLFxuICAgICAgY2xpY2tPcGVuczogZmFsc2UsXG4gICAgICAvLyBUT0RPOiBzdXBwb3J0IGRhdGVzIHByaW9yIHRvIDE5MDAgKGh0dHBzOi8vZ2l0aHViLmNvbS9icG1uLWlvL2Zvcm0tanMvaXNzdWVzLzUzMylcbiAgICAgIG1pbkRhdGU6IGRpc2FsbG93UGFzc2VkRGF0ZXMgPyAndG9kYXknIDogJzAxLzAxLzE5MDAnLFxuICAgICAgZXJyb3JIYW5kbGVyOiAoKSA9PiB7XG4gICAgICAgIC8qIGRvIG5vdGhpbmcsIHdlIGV4cGVjdCB0aGUgdmFsdWVzIHRvIHNvbWV0aW1lcyBiZSBlcnJvbm91cyBhbmQgd2UgZG9uJ3Qgd2FudCB3YXJuaW5ncyBwb2xsdXRpbmcgdGhlIGNvbnNvbGUgKi9cbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGluc3RhbmNlID0gZmxhdHBpY2tyKGRhdGVJbnB1dFJlZi5jdXJyZW50LCBjb25maWcpO1xuICAgIHNldEZsYXRwaWNrckluc3RhbmNlKGluc3RhbmNlKTtcbiAgICBjb25zdCBvbkNhbGVuZGFyRm9jdXNPdXQgPSBlID0+IHtcbiAgICAgIGlmICghaW5zdGFuY2UuY2FsZW5kYXJDb250YWluZXIuY29udGFpbnMoZS5yZWxhdGVkVGFyZ2V0KSAmJiBlLnJlbGF0ZWRUYXJnZXQgIT0gZGF0ZUlucHV0UmVmLmN1cnJlbnQpIHtcbiAgICAgICAgaW5zdGFuY2UuY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gcmVtb3ZlIGRpcnR5IHRhZyB0byBoYXZlIG1vdXNlIGRheSBzZWxlY3Rpb24gcHJpb3JpdGl6ZSBpbnB1dCBibHVyXG4gICAgY29uc3Qgb25DYWxlbmRhck1vdXNlRG93biA9IGUgPT4ge1xuICAgICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnZmxhdHBpY2tyLWRheScpKSB7XG4gICAgICAgIHNldElzSW5wdXREaXJ0eShmYWxzZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIHdoZW4gdGhlIGRyb3Bkb3duIG9mIHRoZSBkYXRlcGlja3Igb3BlbnMsIHdlIHJlZ2lzdGVyIGEgZmV3IGV2ZW50IGhhbmRsZXJzIHRvIHJlLWltcGxlbWVudCBzb21lIG9mIHRoZVxuICAgIC8vIGZsYXRwaWNrZXIgbG9naWMgdGhhdCB3YXMgbG9zdCB3aGVuIHNldHRpbmcgYWxsb3dJbnB1dCB0byB0cnVlXG4gICAgaW5zdGFuY2UuY29uZmlnLm9uT3BlbiA9IFsoKSA9PiBpbnN0YW5jZS5jYWxlbmRhckNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdmb2N1c291dCcsIG9uQ2FsZW5kYXJGb2N1c091dCksICgpID0+IGluc3RhbmNlLmNhbGVuZGFyQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIG9uQ2FsZW5kYXJNb3VzZURvd24pXTtcbiAgICBpbnN0YW5jZS5jb25maWcub25DbG9zZSA9IFsoKSA9PiBpbnN0YW5jZS5jYWxlbmRhckNvbnRhaW5lci5yZW1vdmVFdmVudExpc3RlbmVyKCdmb2N1c291dCcsIG9uQ2FsZW5kYXJGb2N1c091dCksICgpID0+IGluc3RhbmNlLmNhbGVuZGFyQ29udGFpbmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIG9uQ2FsZW5kYXJNb3VzZURvd24pXTtcbiAgfSwgW2Rpc2FsbG93UGFzc2VkRGF0ZXNdKTtcblxuICAvLyBvbkNoYW5nZSBpcyB1cGRhdGVkIGR5bmFtaWNhbGx5LCBzbyBub3QgdG8gcmUtcmVuZGVyIHRoZSBmbGF0cGlja2VyIGV2ZXJ5IHRpbWUgaXQgY2hhbmdlc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghZmxhdHBpY2tySW5zdGFuY2UgfHwgIWZsYXRwaWNrckluc3RhbmNlLmNvbmZpZykgcmV0dXJuO1xuICAgIGZsYXRwaWNrckluc3RhbmNlLmNvbmZpZy5vbkNoYW5nZSA9IFtkYXRlID0+IHNldERhdGUobmV3IERhdGUoZGF0ZSkpLCAoKSA9PiBzZXRJc0lucHV0RGlydHkoZmFsc2UpXTtcbiAgfSwgW2ZsYXRwaWNrckluc3RhbmNlLCBzZXREYXRlXSk7XG4gIGNvbnN0IG9uSW5wdXRLZXlEb3duID0gdXNlQ2FsbGJhY2soZSA9PiB7XG4gICAgaWYgKCFmbGF0cGlja3JJbnN0YW5jZSkgcmV0dXJuO1xuICAgIGlmIChlLmNvZGUgPT09ICdFc2NhcGUnKSB7XG4gICAgICBmbGF0cGlja3JJbnN0YW5jZS5jbG9zZSgpO1xuICAgIH1cbiAgICBpZiAoZS5jb2RlID09PSAnQXJyb3dEb3duJykge1xuICAgICAgaWYgKGlzSW5wdXREaXJ0eSkge1xuICAgICAgICAvLyB0cmlnZ2VyIGFuIGVudGVyIGtleXByZXNzIHRvIHN1Ym1pdCB0aGUgbmV3IGlucHV0LCB0aGVuIGZvY3VzIGNhbGVuZGFyIGRheSBvbiB0aGUgbmV4dCByZW5kZXIgY3ljbGVcbiAgICAgICAgZGF0ZUlucHV0UmVmLmN1cnJlbnQuZGlzcGF0Y2hFdmVudChFTlRFUl9LRVlET1dOX0VWRU5UKTtcbiAgICAgICAgc2V0SXNJbnB1dERpcnR5KGZhbHNlKTtcbiAgICAgICAgc2V0Rm9yY2VGb2N1c0NhbGVuZGFyKHRydWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gZm9jdXMgY2FsZW5kYXIgZGF5IGltbWVkaWF0ZWx5XG4gICAgICAgIGZvY3VzUmVsZXZhbnRGbGF0cGlja2VyRGF5KGZsYXRwaWNrckluc3RhbmNlKTtcbiAgICAgIH1cbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gICAgaWYgKGUuY29kZSA9PT0gJ0VudGVyJykge1xuICAgICAgc2V0SXNJbnB1dERpcnR5KGZhbHNlKTtcbiAgICB9XG4gIH0sIFtmbGF0cGlja3JJbnN0YW5jZSwgaXNJbnB1dERpcnR5XSk7XG4gIGNvbnN0IG9uSW5wdXRGb2N1cyA9IHVzZUNhbGxiYWNrKGUgPT4ge1xuICAgIGlmICghZmxhdHBpY2tySW5zdGFuY2UgfHwgZm9jdXNTY29wZVJlZi5jdXJyZW50LmNvbnRhaW5zKGUucmVsYXRlZFRhcmdldCkgfHwgcmVhZG9ubHkpIHJldHVybjtcbiAgICBmbGF0cGlja3JJbnN0YW5jZS5vcGVuKCk7XG4gICAgb25EYXRlVGltZUZvY3VzKGUpO1xuICB9LCBbZmxhdHBpY2tySW5zdGFuY2UsIHJlYWRvbmx5LCBvbkRhdGVUaW1lRm9jdXNdKTtcblxuICAvLyBzaW11bGF0ZSBhbiBlbnRlciBwcmVzcyBvbiBibHVyIHRvIG1ha2Ugc3VyZSB0aGUgZGF0ZSB2YWx1ZSBpcyBzdWJtaXR0ZWQgaW4gYWxsIHNjZW5hcmlvc1xuICBjb25zdCBvbklucHV0Qmx1ciA9IHVzZUNhbGxiYWNrKGUgPT4ge1xuICAgIGNvbnN0IGlzRmFsc2VCbHVyID0gZS5yZWxhdGVkVGFyZ2V0ICYmIGUucmVsYXRlZFRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2ZsYXRwaWNrci1kYXknKTtcbiAgICBpZiAoaXNGYWxzZUJsdXIpIHJldHVybjtcbiAgICBpZiAoaXNJbnB1dERpcnR5KSB7XG4gICAgICBkYXRlSW5wdXRSZWYuY3VycmVudC5kaXNwYXRjaEV2ZW50KEVOVEVSX0tFWURPV05fRVZFTlQpO1xuICAgICAgc2V0SXNJbnB1dERpcnR5KGZhbHNlKTtcbiAgICB9XG4gICAgb25EYXRlVGltZUJsdXIoZSk7XG4gIH0sIFtpc0lucHV0RGlydHksIG9uRGF0ZVRpbWVCbHVyXSk7XG4gIHJldHVybiBqc3hzKFwiZGl2XCIsIHtcbiAgICBjbGFzczogXCJmanMtZGF0ZXRpbWUtc3Vic2VjdGlvblwiLFxuICAgIGNoaWxkcmVuOiBbanN4KExhYmVsLCB7XG4gICAgICBodG1sRm9yOiBkb21JZCxcbiAgICAgIGxhYmVsOiBsYWJlbCxcbiAgICAgIGNvbGxhcHNlT25FbXB0eTogY29sbGFwc2VMYWJlbE9uRW1wdHksXG4gICAgICByZXF1aXJlZDogcmVxdWlyZWRcbiAgICB9KSwganN4KElucHV0QWRvcm5lciwge1xuICAgICAgcHJlOiBqc3goU3ZnQ2FsZW5kYXIsIHt9KSxcbiAgICAgIGRpc2FibGVkOiBkaXNhYmxlZCxcbiAgICAgIHJlYWRvbmx5OiByZWFkb25seSxcbiAgICAgIHJvb3RSZWY6IGZvY3VzU2NvcGVSZWYsXG4gICAgICBpbnB1dFJlZjogZGF0ZUlucHV0UmVmLFxuICAgICAgY2hpbGRyZW46IGpzeChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzOiBcImZqcy1kYXRlcGlja2VyXCIsXG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgd2lkdGg6ICcxMDAlJ1xuICAgICAgICB9LFxuICAgICAgICBjaGlsZHJlbjoganN4KFwiaW5wdXRcIiwge1xuICAgICAgICAgIHJlZjogZGF0ZUlucHV0UmVmLFxuICAgICAgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICAgICAgIGlkOiBkb21JZCxcbiAgICAgICAgICBjbGFzczogXCJmanMtaW5wdXRcIixcbiAgICAgICAgICBkaXNhYmxlZDogZGlzYWJsZWQsXG4gICAgICAgICAgcmVhZE9ubHk6IHJlYWRvbmx5LFxuICAgICAgICAgIHBsYWNlaG9sZGVyOiBnZXRMb2NhbGVSZWFkYWJsZURhdGVGb3JtYXQoKSxcbiAgICAgICAgICBhdXRvQ29tcGxldGU6IFwib2ZmXCIsXG4gICAgICAgICAgb25Gb2N1czogb25JbnB1dEZvY3VzLFxuICAgICAgICAgIG9uQmx1cjogb25JbnB1dEJsdXIsXG4gICAgICAgICAgb25LZXlEb3duOiBvbklucHV0S2V5RG93bixcbiAgICAgICAgICBvbk1vdXNlRG93bjogKCkgPT4gIWZsYXRwaWNrckluc3RhbmNlLmlzT3BlbiAmJiAhcmVhZG9ubHkgJiYgZmxhdHBpY2tySW5zdGFuY2Uub3BlbigpLFxuICAgICAgICAgIG9uSW5wdXQ6ICgpID0+IHNldElzSW5wdXREaXJ0eSh0cnVlKSxcbiAgICAgICAgICBcImRhdGEtaW5wdXRcIjogdHJ1ZSxcbiAgICAgICAgICBcImFyaWEtZGVzY3JpYmVkYnlcIjogcHJvcHNbJ2FyaWEtZGVzY3JpYmVkYnknXVxuICAgICAgICB9KVxuICAgICAgfSlcbiAgICB9KV1cbiAgfSk7XG59XG5cbnZhciBfcGF0aCR5LCBfcGF0aDIkNDtcbmZ1bmN0aW9uIF9leHRlbmRzJHooKSB7IHJldHVybiBfZXh0ZW5kcyR6ID0gT2JqZWN0LmFzc2lnbiA/IE9iamVjdC5hc3NpZ24uYmluZCgpIDogZnVuY3Rpb24gKG4pIHsgZm9yICh2YXIgZSA9IDE7IGUgPCBhcmd1bWVudHMubGVuZ3RoOyBlKyspIHsgdmFyIHQgPSBhcmd1bWVudHNbZV07IGZvciAodmFyIHIgaW4gdCkgKHt9KS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsIHIpICYmIChuW3JdID0gdFtyXSk7IH0gcmV0dXJuIG47IH0sIF9leHRlbmRzJHouYXBwbHkobnVsbCwgYXJndW1lbnRzKTsgfVxudmFyIFN2Z0Nsb2NrID0gZnVuY3Rpb24gU3ZnQ2xvY2socHJvcHMpIHtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIF9leHRlbmRzJHooe1xuICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgd2lkdGg6IDE2LFxuICAgIGhlaWdodDogMTYsXG4gICAgZmlsbDogXCJub25lXCIsXG4gICAgdmlld0JveDogXCIwIDAgMjggMjlcIlxuICB9LCBwcm9wcyksIF9wYXRoJHkgfHwgKF9wYXRoJHkgPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgZDogXCJNMTMgMTQuNDEgMTguNTkgMjAgMjAgMTguNTlsLTUtNS4wMVY1aC0yelwiXG4gIH0pKSwgX3BhdGgyJDQgfHwgKF9wYXRoMiQ0ID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIixcbiAgICBkOiBcIk02LjIyMiAyNS42NEExNCAxNCAwIDEgMCAyMS43NzggMi4zNiAxNCAxNCAwIDAgMCA2LjIyMiAyNS42NE03LjMzMyA0LjAyM2ExMiAxMiAwIDEgMSAxMy4zMzQgMTkuOTU1QTEyIDEyIDAgMCAxIDcuMzMzIDQuMDIyWlwiLFxuICAgIGNsaXBSdWxlOiBcImV2ZW5vZGRcIlxuICB9KSkpO1xufTtcblxuY29uc3QgREVGQVVMVF9MQUJFTF9HRVRURVIgPSB2YWx1ZSA9PiB2YWx1ZTtcbmNvbnN0IE5PT1AgPSAoKSA9PiB7fTtcbmZ1bmN0aW9uIERyb3Bkb3duTGlzdChwcm9wcykge1xuICBjb25zdCB7XG4gICAgbGlzdGVuZXJFbGVtZW50ID0gd2luZG93LFxuICAgIHZhbHVlcyA9IFtdLFxuICAgIGdldExhYmVsID0gREVGQVVMVF9MQUJFTF9HRVRURVIsXG4gICAgb25WYWx1ZVNlbGVjdGVkID0gTk9PUCxcbiAgICBoZWlnaHQgPSAyMzUsXG4gICAgZW1wdHlMaXN0TWVzc2FnZSA9ICdObyByZXN1bHRzJyxcbiAgICBpbml0aWFsRm9jdXNJbmRleCA9IDBcbiAgfSA9IHByb3BzO1xuICBjb25zdCBbbW91c2VDb250cm9sLCBzZXRNb3VzZUNvbnRyb2xdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZm9jdXNlZFZhbHVlSW5kZXgsIHNldEZvY3VzZWRWYWx1ZUluZGV4XSA9IHVzZVN0YXRlKGluaXRpYWxGb2N1c0luZGV4KTtcbiAgY29uc3QgW3Ntb290aFNjcm9sbGluZywgc2V0U21vb3RoU2Nyb2xsaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICAvKiogQHR5cGUge2ltcG9ydChcInByZWFjdFwiKS5SZWZPYmplY3Q8SFRNTERpdkVsZW1lbnQ+fSAqL1xuICBjb25zdCBkcm9wZG93bkNvbnRhaW5lciA9IHVzZVJlZigpO1xuXG4gIC8qKiBAdHlwZSB7aW1wb3J0KFwicHJlYWN0XCIpLlJlZk9iamVjdDx7IHg6IG51bWJlciwgeTogbnVtYmVyIH0+fSAqL1xuICBjb25zdCBtb3VzZVNjcmVlblBvcyA9IHVzZVJlZigpO1xuICBjb25zdCBmb2N1c2VkSXRlbSA9IHVzZU1lbW8oKCkgPT4gdmFsdWVzLmxlbmd0aCA/IHZhbHVlc1tmb2N1c2VkVmFsdWVJbmRleF0gOiBudWxsLCBbZm9jdXNlZFZhbHVlSW5kZXgsIHZhbHVlc10pO1xuICBjb25zdCBjaGFuZ2VGb2N1c2VkVmFsdWVJbmRleCA9IHVzZUNhbGxiYWNrKGRlbHRhID0+IHtcbiAgICBzZXRGb2N1c2VkVmFsdWVJbmRleCh4ID0+IE1hdGgubWluKE1hdGgubWF4KDAsIHggKyBkZWx0YSksIHZhbHVlcy5sZW5ndGggLSAxKSk7XG4gIH0sIFt2YWx1ZXMubGVuZ3RoXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGZvY3VzZWRWYWx1ZUluZGV4ID09PSAwKSByZXR1cm47XG4gICAgaWYgKCFmb2N1c2VkVmFsdWVJbmRleCB8fCAhdmFsdWVzLmxlbmd0aCkge1xuICAgICAgc2V0Rm9jdXNlZFZhbHVlSW5kZXgoMCk7XG4gICAgfSBlbHNlIGlmIChmb2N1c2VkVmFsdWVJbmRleCA+PSB2YWx1ZXMubGVuZ3RoKSB7XG4gICAgICBzZXRGb2N1c2VkVmFsdWVJbmRleCh2YWx1ZXMubGVuZ3RoIC0gMSk7XG4gICAgfVxuICB9LCBbZm9jdXNlZFZhbHVlSW5kZXgsIHZhbHVlcy5sZW5ndGhdKTtcbiAgdXNlS2V5RG93bkFjdGlvbignQXJyb3dVcCcsICgpID0+IHtcbiAgICBpZiAodmFsdWVzLmxlbmd0aCkge1xuICAgICAgY2hhbmdlRm9jdXNlZFZhbHVlSW5kZXgoLTEpO1xuICAgICAgc2V0TW91c2VDb250cm9sKGZhbHNlKTtcbiAgICB9XG4gIH0sIGxpc3RlbmVyRWxlbWVudCk7XG4gIHVzZUtleURvd25BY3Rpb24oJ0Fycm93RG93bicsICgpID0+IHtcbiAgICBpZiAodmFsdWVzLmxlbmd0aCkge1xuICAgICAgY2hhbmdlRm9jdXNlZFZhbHVlSW5kZXgoMSk7XG4gICAgICBzZXRNb3VzZUNvbnRyb2woZmFsc2UpO1xuICAgIH1cbiAgfSwgbGlzdGVuZXJFbGVtZW50KTtcbiAgdXNlS2V5RG93bkFjdGlvbignRW50ZXInLCAoKSA9PiB7XG4gICAgaWYgKGZvY3VzZWRJdGVtKSB7XG4gICAgICBvblZhbHVlU2VsZWN0ZWQoZm9jdXNlZEl0ZW0pO1xuICAgIH1cbiAgfSwgbGlzdGVuZXJFbGVtZW50KTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBpbmRpdmlkdWFsRW50cmllcyA9IGRyb3Bkb3duQ29udGFpbmVyLmN1cnJlbnQuY2hpbGRyZW47XG4gICAgaWYgKGluZGl2aWR1YWxFbnRyaWVzLmxlbmd0aCAmJiAhbW91c2VDb250cm9sKSB7XG4gICAgICBjb25zdCBmb2N1c2VkRW50cnkgPSBpbmRpdmlkdWFsRW50cmllc1tmb2N1c2VkVmFsdWVJbmRleF07XG4gICAgICBmb2N1c2VkRW50cnkgJiYgZm9jdXNlZEVudHJ5LnNjcm9sbEludG9WaWV3KHtcbiAgICAgICAgYmxvY2s6ICduZWFyZXN0JyxcbiAgICAgICAgaW5saW5lOiAnbmVhcmVzdCdcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW2ZvY3VzZWRWYWx1ZUluZGV4LCBtb3VzZUNvbnRyb2xdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRTbW9vdGhTY3JvbGxpbmcodHJ1ZSk7XG4gIH0sIFtdKTtcbiAgY29uc3Qgb25Nb3VzZU1vdmVkSW5LZXlib2FyZE1vZGUgPSAoZXZlbnQsIHZhbHVlSW5kZXgpID0+IHtcbiAgICBjb25zdCB1c2VyTW92ZWRDdXJzb3IgPSAhbW91c2VTY3JlZW5Qb3MuY3VycmVudCB8fCBtb3VzZVNjcmVlblBvcy5jdXJyZW50LnggIT09IGV2ZW50LnNjcmVlblggJiYgbW91c2VTY3JlZW5Qb3MuY3VycmVudC55ICE9PSBldmVudC5zY3JlZW5ZO1xuICAgIGlmICh1c2VyTW92ZWRDdXJzb3IpIHtcbiAgICAgIG1vdXNlU2NyZWVuUG9zLmN1cnJlbnQgPSB7XG4gICAgICAgIHg6IGV2ZW50LnNjcmVlblgsXG4gICAgICAgIHk6IGV2ZW50LnNjcmVlbllcbiAgICAgIH07XG4gICAgICBzZXRNb3VzZUNvbnRyb2wodHJ1ZSk7XG4gICAgICBzZXRGb2N1c2VkVmFsdWVJbmRleCh2YWx1ZUluZGV4KTtcbiAgICB9XG4gIH07XG4gIHJldHVybiBqc3hzKFwiZGl2XCIsIHtcbiAgICByZWY6IGRyb3Bkb3duQ29udGFpbmVyLFxuICAgIHRhYkluZGV4OiAtMSxcbiAgICBjbGFzczogXCJmanMtZHJvcGRvd25saXN0XCIsXG4gICAgb25Nb3VzZURvd246IGUgPT4gZS5wcmV2ZW50RGVmYXVsdCgpLFxuICAgIHN0eWxlOiB7XG4gICAgICBtYXhIZWlnaHQ6IGhlaWdodCxcbiAgICAgIHNjcm9sbEJlaGF2aW9yOiBzbW9vdGhTY3JvbGxpbmcgPyAnc21vb3RoJyA6ICdhdXRvJ1xuICAgIH0sXG4gICAgY2hpbGRyZW46IFt2YWx1ZXMubGVuZ3RoID4gMCAmJiB2YWx1ZXMubWFwKChlbnRyeSwgaW5kZXgpID0+IHtcbiAgICAgIHJldHVybiBqc3goXCJkaXZcIiwge1xuICAgICAgICBjbGFzczogY2xhc3NOYW1lcygnZmpzLWRyb3Bkb3dubGlzdC1pdGVtJywge1xuICAgICAgICAgIGZvY3VzZWQ6IGZvY3VzZWRWYWx1ZUluZGV4ID09PSBpbmRleFxuICAgICAgICB9KSxcbiAgICAgICAgb25Nb3VzZU1vdmU6IG1vdXNlQ29udHJvbCA/IHVuZGVmaW5lZCA6IGUgPT4gb25Nb3VzZU1vdmVkSW5LZXlib2FyZE1vZGUoZSwgaW5kZXgpLFxuICAgICAgICBvbk1vdXNlRW50ZXI6IG1vdXNlQ29udHJvbCA/ICgpID0+IHNldEZvY3VzZWRWYWx1ZUluZGV4KGluZGV4KSA6IHVuZGVmaW5lZCxcbiAgICAgICAgb25Nb3VzZURvd246IGUgPT4gb25WYWx1ZVNlbGVjdGVkKGVudHJ5KSxcbiAgICAgICAgY2hpbGRyZW46IGdldExhYmVsKGVudHJ5KVxuICAgICAgfSwgZW50cnkudmFsdWUpO1xuICAgIH0pLCAhdmFsdWVzLmxlbmd0aCAmJiBqc3goXCJkaXZcIiwge1xuICAgICAgY2xhc3M6IFwiZmpzLWRyb3Bkb3dubGlzdC1lbXB0eVwiLFxuICAgICAgY2hpbGRyZW46IGVtcHR5TGlzdE1lc3NhZ2VcbiAgICB9KV1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIFRpbWVwaWNrZXIocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGxhYmVsLFxuICAgIGNvbGxhcHNlTGFiZWxPbkVtcHR5LFxuICAgIG9uRGF0ZVRpbWVCbHVyLFxuICAgIG9uRGF0ZVRpbWVGb2N1cyxcbiAgICBkb21JZCxcbiAgICByZXF1aXJlZCxcbiAgICBkaXNhYmxlZCxcbiAgICByZWFkb25seSxcbiAgICB1c2UyNGggPSBmYWxzZSxcbiAgICB0aW1lSW50ZXJ2YWwsXG4gICAgdGltZSxcbiAgICBzZXRUaW1lXG4gIH0gPSBwcm9wcztcbiAgY29uc3Qgc2FmZVRpbWVJbnRlcnZhbCA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IGFsbG93ZWRJbnRlcnZhbHMgPSBbMSwgNSwgMTAsIDE1LCAzMCwgNjBdO1xuICAgIGlmIChhbGxvd2VkSW50ZXJ2YWxzLmluY2x1ZGVzKHRpbWVJbnRlcnZhbCkpIHtcbiAgICAgIHJldHVybiB0aW1lSW50ZXJ2YWw7XG4gICAgfVxuICAgIHJldHVybiAxNTtcbiAgfSwgW3RpbWVJbnRlcnZhbF0pO1xuICBjb25zdCB0aW1lSW5wdXRSZWYgPSB1c2VSZWYoKTtcbiAgY29uc3QgW2Ryb3Bkb3duSXNPcGVuLCBzZXREcm9wZG93bklzT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IHVzZURyb3Bkb3duID0gdXNlTWVtbygoKSA9PiBzYWZlVGltZUludGVydmFsICE9PSAxLCBbc2FmZVRpbWVJbnRlcnZhbF0pO1xuICBjb25zdCBbcmF3VmFsdWUsIHNldFJhd1ZhbHVlXSA9IHVzZVN0YXRlKCcnKTtcblxuICAvLyBwb3B1bGF0ZXMgdmFsdWVzIGZyb20gc291cmNlXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHRpbWUgPT09IG51bGwpIHtcbiAgICAgIHNldFJhd1ZhbHVlKCcnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgaW50ZXJ2YWxBZGp1c3RlZFRpbWUgPSB0aW1lIC0gdGltZSAlIHNhZmVUaW1lSW50ZXJ2YWw7XG4gICAgc2V0UmF3VmFsdWUoZm9ybWF0VGltZSh1c2UyNGgsIGludGVydmFsQWRqdXN0ZWRUaW1lKSk7XG4gICAgaWYgKGludGVydmFsQWRqdXN0ZWRUaW1lICE9IHRpbWUpIHtcbiAgICAgIHNldFRpbWUoaW50ZXJ2YWxBZGp1c3RlZFRpbWUpO1xuICAgIH1cbiAgfSwgW3RpbWUsIHNldFRpbWUsIHVzZTI0aCwgc2FmZVRpbWVJbnRlcnZhbF0pO1xuICBjb25zdCBwcm9wYWdhdGVSYXdUb01pbnV0ZSA9IHVzZUNhbGxiYWNrKG5ld1Jhd1ZhbHVlID0+IHtcbiAgICBjb25zdCBsb2NhbFJhd1ZhbHVlID0gbmV3UmF3VmFsdWUgfHwgcmF3VmFsdWU7XG5cbiAgICAvLyBJZiBubyByYXcgdmFsdWUgZXhpc3RzLCBzZXQgdGhlIG1pbnV0ZSB0byBudWxsXG4gICAgaWYgKCFsb2NhbFJhd1ZhbHVlKSB7XG4gICAgICBzZXRUaW1lKG51bGwpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBtaW51dGVzID0gcGFyc2VJbnB1dFRpbWUobG9jYWxSYXdWYWx1ZSk7XG5cbiAgICAvLyBJZiByYXcgc3RyaW5nIGNvdWxkbid0IGJlIHBhcnNlZCwgY2xlYW4gZXZlcnl0aGluZyB1cFxuICAgIGlmICghaXNOdW1iZXIobWludXRlcykpIHtcbiAgICAgIHNldFJhd1ZhbHVlKCcnKTtcbiAgICAgIHNldFRpbWUobnVsbCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gRW5mb3JjZSB0aGUgbWludXRlcyB0byBtYXRjaCB0aGUgdGltZUludGVydmFsXG4gICAgY29uc3QgY29ycmVjdGVkTWludXRlcyA9IG1pbnV0ZXMgLSBtaW51dGVzICUgc2FmZVRpbWVJbnRlcnZhbDtcblxuICAgIC8vIEVuZm9yY2UgdGhlIHJhdyB0ZXh0IHRvIGJlIGZvcm1hdHRlZCBwcm9wZXJseVxuICAgIHNldFJhd1ZhbHVlKGZvcm1hdFRpbWUodXNlMjRoLCBjb3JyZWN0ZWRNaW51dGVzKSk7XG4gICAgc2V0VGltZShjb3JyZWN0ZWRNaW51dGVzKTtcbiAgfSwgW3Jhd1ZhbHVlLCBzYWZlVGltZUludGVydmFsLCB1c2UyNGgsIHNldFRpbWVdKTtcbiAgY29uc3QgdGltZU9wdGlvbnMgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCBtaW51dGVzSW5EYXkgPSAyNCAqIDYwO1xuICAgIGNvbnN0IGludGVydmFsQ291bnQgPSBNYXRoLmZsb29yKG1pbnV0ZXNJbkRheSAvIHNhZmVUaW1lSW50ZXJ2YWwpO1xuICAgIHJldHVybiBbLi4uQXJyYXkoaW50ZXJ2YWxDb3VudCkua2V5cygpXS5tYXAoaW50ZXJ2YWxJbmRleCA9PiBmb3JtYXRUaW1lKHVzZTI0aCwgaW50ZXJ2YWxJbmRleCAqIHNhZmVUaW1lSW50ZXJ2YWwpKTtcbiAgfSwgW3NhZmVUaW1lSW50ZXJ2YWwsIHVzZTI0aF0pO1xuICBjb25zdCBpbml0aWFsRm9jdXNJbmRleCA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIC8vIGlmIHRoZXJlIGFyZSBubyBvcHRpb25zLCB0aGVyZSB3aWxsIG5vdCBiZSBhbnkgZm9jdXNpbmdcbiAgICBpZiAoIXRpbWVPcHRpb25zIHx8ICFzYWZlVGltZUludGVydmFsKSByZXR1cm4gbnVsbDtcblxuICAgIC8vIGlmIHRoZXJlIGlzIGEgc2V0IG1pbnV0ZSB2YWx1ZSwgd2UgZm9jdXMgaXQgaW4gdGhlIGRyb3Bkb3duXG4gICAgaWYgKHRpbWUpIHJldHVybiB0aW1lIC8gc2FmZVRpbWVJbnRlcnZhbDtcbiAgICBjb25zdCBjYWNoZVRpbWUgPSBwYXJzZUlucHV0VGltZShyYXdWYWx1ZSk7XG5cbiAgICAvLyBpZiB0aGVyZSBpcyBhIHZhbGlkIHZhbHVlIGluIHRoZSBpbnB1dCBjYWNoZSwgd2UgdHJ5IGFuZCBmb2N1cyBjbG9zZSB0byBpdFxuICAgIGlmIChjYWNoZVRpbWUpIHtcbiAgICAgIGNvbnN0IGZsb29yZWRDYWNoZVRpbWUgPSBjYWNoZVRpbWUgLSBjYWNoZVRpbWUgJSBzYWZlVGltZUludGVydmFsO1xuICAgICAgcmV0dXJuIGZsb29yZWRDYWNoZVRpbWUgLyBzYWZlVGltZUludGVydmFsO1xuICAgIH1cblxuICAgIC8vIElmIHRoZXJlIGlzIG5vIHNldCB2YWx1ZSwgc2ltcGx5IGZvY3VzIHRoZSBtaWRkbGUgb2YgdGhlIGRyb3Bkb3duICgxMjowMClcbiAgICByZXR1cm4gTWF0aC5mbG9vcih0aW1lT3B0aW9ucy5sZW5ndGggLyAyKTtcbiAgfSwgW3Jhd1ZhbHVlLCB0aW1lLCBzYWZlVGltZUludGVydmFsLCB0aW1lT3B0aW9uc10pO1xuICBjb25zdCBvbklucHV0S2V5RG93biA9IGUgPT4ge1xuICAgIHN3aXRjaCAoZS5rZXkpIHtcbiAgICAgIGNhc2UgJ0Fycm93VXAnOlxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnQXJyb3dEb3duJzpcbiAgICAgICAgdXNlRHJvcGRvd24gJiYgc2V0RHJvcGRvd25Jc09wZW4odHJ1ZSk7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdFc2NhcGUnOlxuICAgICAgICB1c2VEcm9wZG93biAmJiBzZXREcm9wZG93bklzT3BlbihmYWxzZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnRW50ZXInOlxuICAgICAgICAhZHJvcGRvd25Jc09wZW4gJiYgcHJvcGFnYXRlUmF3VG9NaW51dGUoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9O1xuICBjb25zdCBvbklucHV0Qmx1ciA9IGUgPT4ge1xuICAgIHNldERyb3Bkb3duSXNPcGVuKGZhbHNlKTtcbiAgICBwcm9wYWdhdGVSYXdUb01pbnV0ZSgpO1xuICAgIG9uRGF0ZVRpbWVCbHVyKGUpO1xuICB9O1xuICBjb25zdCBvbklucHV0Rm9jdXMgPSBlID0+IHtcbiAgICBvbkRhdGVUaW1lRm9jdXMoZSk7XG4gICAgIXJlYWRvbmx5ICYmIHVzZURyb3Bkb3duICYmIHNldERyb3Bkb3duSXNPcGVuKHRydWUpO1xuICB9O1xuICBjb25zdCBvbkRyb3Bkb3duVmFsdWVTZWxlY3RlZCA9IHZhbHVlID0+IHtcbiAgICBzZXREcm9wZG93bklzT3BlbihmYWxzZSk7XG4gICAgcHJvcGFnYXRlUmF3VG9NaW51dGUodmFsdWUpO1xuICB9O1xuICByZXR1cm4ganN4cyhcImRpdlwiLCB7XG4gICAgY2xhc3M6IFwiZmpzLWRhdGV0aW1lLXN1YnNlY3Rpb25cIixcbiAgICBjaGlsZHJlbjogW2pzeChMYWJlbCwge1xuICAgICAgaHRtbEZvcjogZG9tSWQsXG4gICAgICBsYWJlbDogbGFiZWwsXG4gICAgICBjb2xsYXBzZU9uRW1wdHk6IGNvbGxhcHNlTGFiZWxPbkVtcHR5LFxuICAgICAgcmVxdWlyZWQ6IHJlcXVpcmVkXG4gICAgfSksIGpzeChJbnB1dEFkb3JuZXIsIHtcbiAgICAgIHByZToganN4KFN2Z0Nsb2NrLCB7fSksXG4gICAgICBpbnB1dFJlZjogdGltZUlucHV0UmVmLFxuICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkLFxuICAgICAgcmVhZG9ubHk6IHJlYWRvbmx5LFxuICAgICAgY2hpbGRyZW46IGpzeHMoXCJkaXZcIiwge1xuICAgICAgICBjbGFzczogXCJmanMtdGltZXBpY2tlciBmanMtdGltZXBpY2tlci1hbmNob3JcIixcbiAgICAgICAgY2hpbGRyZW46IFtqc3goXCJpbnB1dFwiLCB7XG4gICAgICAgICAgcmVmOiB0aW1lSW5wdXRSZWYsXG4gICAgICAgICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgICAgICAgaWQ6IGRvbUlkLFxuICAgICAgICAgIGNsYXNzOiBcImZqcy1pbnB1dFwiLFxuICAgICAgICAgIHZhbHVlOiByYXdWYWx1ZSxcbiAgICAgICAgICBkaXNhYmxlZDogZGlzYWJsZWQsXG4gICAgICAgICAgcmVhZE9ubHk6IHJlYWRvbmx5LFxuICAgICAgICAgIHBsYWNlaG9sZGVyOiB1c2UyNGggPyAnaGg6bW0nIDogJ2hoOm1tIC0tJyxcbiAgICAgICAgICBhdXRvQ29tcGxldGU6IFwib2ZmXCIsXG4gICAgICAgICAgb25JbnB1dDogZSA9PiB7XG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICAgICAgICBzZXRSYXdWYWx1ZShlLnRhcmdldC52YWx1ZSk7XG4gICAgICAgICAgICB1c2VEcm9wZG93biAmJiBzZXREcm9wZG93bklzT3BlbihmYWxzZSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBvbkJsdXI6IG9uSW5wdXRCbHVyLFxuICAgICAgICAgIG9uRm9jdXM6IG9uSW5wdXRGb2N1cyxcbiAgICAgICAgICBvbkNsaWNrOiAoKSA9PiAhcmVhZG9ubHkgJiYgdXNlRHJvcGRvd24gJiYgc2V0RHJvcGRvd25Jc09wZW4odHJ1ZSksXG4gICAgICAgICAgb25LZXlEb3duOiBvbklucHV0S2V5RG93bixcbiAgICAgICAgICBcImRhdGEtaW5wdXRcIjogdHJ1ZSxcbiAgICAgICAgICBcImFyaWEtZGVzY3JpYmVkYnlcIjogcHJvcHNbJ2FyaWEtZGVzY3JpYmVkYnknXVxuICAgICAgICB9KSwgZHJvcGRvd25Jc09wZW4gJiYganN4KERyb3Bkb3duTGlzdCwge1xuICAgICAgICAgIHZhbHVlczogdGltZU9wdGlvbnMsXG4gICAgICAgICAgaGVpZ2h0OiAxNTAsXG4gICAgICAgICAgb25WYWx1ZVNlbGVjdGVkOiBvbkRyb3Bkb3duVmFsdWVTZWxlY3RlZCxcbiAgICAgICAgICBsaXN0ZW5lckVsZW1lbnQ6IHRpbWVJbnB1dFJlZi5jdXJyZW50LFxuICAgICAgICAgIGluaXRpYWxGb2N1c0luZGV4OiBpbml0aWFsRm9jdXNJbmRleFxuICAgICAgICB9KV1cbiAgICAgIH0pXG4gICAgfSldXG4gIH0pO1xufVxuXG5jb25zdCB0eXBlJGcgPSAnZGF0ZXRpbWUnO1xuZnVuY3Rpb24gRGF0ZXRpbWUocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGRpc2FibGVkLFxuICAgIGVycm9ycyA9IFtdLFxuICAgIGRvbUlkLFxuICAgIG9uQmx1cixcbiAgICBvbkZvY3VzLFxuICAgIGZpZWxkLFxuICAgIG9uQ2hhbmdlLFxuICAgIHJlYWRvbmx5LFxuICAgIHZhbHVlID0gJydcbiAgfSA9IHByb3BzO1xuICBjb25zdCB7XG4gICAgZGVzY3JpcHRpb24sXG4gICAgaWQsXG4gICAgZGF0ZUxhYmVsLFxuICAgIHRpbWVMYWJlbCxcbiAgICB2YWxpZGF0ZSA9IHt9LFxuICAgIHN1YnR5cGUsXG4gICAgdXNlMjRoLFxuICAgIGRpc2FsbG93UGFzc2VkRGF0ZXMsXG4gICAgdGltZUludGVydmFsLFxuICAgIHRpbWVTZXJpYWxpemluZ0Zvcm1hdFxuICB9ID0gZmllbGQ7XG4gIGNvbnN0IHtcbiAgICByZXF1aXJlZFxuICB9ID0gdmFsaWRhdGU7XG4gIGNvbnN0IHtcbiAgICBmb3JtSWRcbiAgfSA9IHVzZUNvbnRleHQoRm9ybUNvbnRleHQpO1xuXG4gIC8qKiBAdHlwZSB7aW1wb3J0KFwicHJlYWN0XCIpLlJlZk9iamVjdDxIVE1MRGl2RWxlbWVudD59ICovXG4gIGNvbnN0IGRhdGVUaW1lR3JvdXBSZWYgPSB1c2VSZWYoKTtcbiAgY29uc3QgW2RhdGVUaW1lLCBzZXREYXRlVGltZV0gPSB1c2VTdGF0ZShnZXROdWxsRGF0ZVRpbWUoKSk7XG4gIGNvbnN0IFtkYXRlVGltZVVwZGF0ZVJlcXVlc3QsIHNldERhdGVUaW1lVXBkYXRlUmVxdWVzdF0gPSB1c2VTdGF0ZShudWxsKTtcbiAgY29uc3QgdXNlRGF0ZVBpY2tlciA9IHVzZU1lbW8oKCkgPT4gc3VidHlwZSA9PT0gREFURVRJTUVfU1VCVFlQRVMuREFURSB8fCBzdWJ0eXBlID09PSBEQVRFVElNRV9TVUJUWVBFUy5EQVRFVElNRSwgW3N1YnR5cGVdKTtcbiAgY29uc3QgdXNlVGltZVBpY2tlciA9IHVzZU1lbW8oKCkgPT4gc3VidHlwZSA9PT0gREFURVRJTUVfU1VCVFlQRVMuVElNRSB8fCBzdWJ0eXBlID09PSBEQVRFVElNRV9TVUJUWVBFUy5EQVRFVElNRSwgW3N1YnR5cGVdKTtcbiAgY29uc3Qgb25EYXRlVGltZUJsdXIgPSB1c2VDYWxsYmFjayhlID0+IHtcbiAgICBpZiAoZS5yZWxhdGVkVGFyZ2V0ICYmIGRhdGVUaW1lR3JvdXBSZWYuY3VycmVudC5jb250YWlucyhlLnJlbGF0ZWRUYXJnZXQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIG9uQmx1ciAmJiBvbkJsdXIoKTtcbiAgfSwgW29uQmx1cl0pO1xuICBjb25zdCBvbkRhdGVUaW1lRm9jdXMgPSB1c2VDYWxsYmFjayhlID0+IHtcbiAgICBpZiAoZS5yZWxhdGVkVGFyZ2V0ICYmIGRhdGVUaW1lR3JvdXBSZWYuY3VycmVudC5jb250YWlucyhlLnJlbGF0ZWRUYXJnZXQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIG9uRm9jdXMgJiYgb25Gb2N1cygpO1xuICB9LCBbb25Gb2N1c10pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxldCB7XG4gICAgICBkYXRlLFxuICAgICAgdGltZVxuICAgIH0gPSBnZXROdWxsRGF0ZVRpbWUoKTtcbiAgICBzd2l0Y2ggKHN1YnR5cGUpIHtcbiAgICAgIGNhc2UgREFURVRJTUVfU1VCVFlQRVMuREFURTpcbiAgICAgICAge1xuICAgICAgICAgIGRhdGUgPSB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnID8gRGF0ZVRpbWUuZnJvbUlTTyh2YWx1ZSkudG9KU0RhdGUoKSA6IG5ldyBEYXRlKE5hTik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIGNhc2UgREFURVRJTUVfU1VCVFlQRVMuVElNRTpcbiAgICAgICAge1xuICAgICAgICAgIHRpbWUgPSBwYXJzZUlzb1RpbWUodmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICBjYXNlIERBVEVUSU1FX1NVQlRZUEVTLkRBVEVUSU1FOlxuICAgICAgICB7XG4gICAgICAgICAgZGF0ZSA9IG5ldyBEYXRlKERhdGUucGFyc2UodmFsdWUpKTtcbiAgICAgICAgICB0aW1lID0gaXNWYWxpZERhdGUoZGF0ZSkgPyA2MCAqIGRhdGUuZ2V0SG91cnMoKSArIGRhdGUuZ2V0TWludXRlcygpIDogbnVsbDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZXREYXRlVGltZSh7XG4gICAgICBkYXRlLFxuICAgICAgdGltZVxuICAgIH0pO1xuICB9LCBbc3VidHlwZSwgdmFsdWVdKTtcbiAgY29uc3QgY29tcHV0ZUFuZFNldFN0YXRlID0gdXNlQ2FsbGJhY2soKHtcbiAgICBkYXRlLFxuICAgIHRpbWVcbiAgfSkgPT4ge1xuICAgIGxldCBuZXdEYXRlVGltZVZhbHVlID0gbnVsbDtcbiAgICBpZiAoc3VidHlwZSA9PT0gREFURVRJTUVfU1VCVFlQRVMuREFURSAmJiBpc1ZhbGlkRGF0ZShkYXRlKSkge1xuICAgICAgbmV3RGF0ZVRpbWVWYWx1ZSA9IHNlcmlhbGl6ZURhdGUoZGF0ZSk7XG4gICAgfSBlbHNlIGlmIChzdWJ0eXBlID09PSBEQVRFVElNRV9TVUJUWVBFUy5USU1FICYmIGlzVmFsaWRUaW1lKHRpbWUpKSB7XG4gICAgICBuZXdEYXRlVGltZVZhbHVlID0gc2VyaWFsaXplVGltZSh0aW1lLCBuZXcgRGF0ZSgpLmdldFRpbWV6b25lT2Zmc2V0KCksIHRpbWVTZXJpYWxpemluZ0Zvcm1hdCk7XG4gICAgfSBlbHNlIGlmIChzdWJ0eXBlID09PSBEQVRFVElNRV9TVUJUWVBFUy5EQVRFVElNRSAmJiBpc1ZhbGlkRGF0ZShkYXRlKSAmJiBpc1ZhbGlkVGltZSh0aW1lKSkge1xuICAgICAgbmV3RGF0ZVRpbWVWYWx1ZSA9IHNlcmlhbGl6ZURhdGVUaW1lKGRhdGUsIHRpbWUsIHRpbWVTZXJpYWxpemluZ0Zvcm1hdCk7XG4gICAgfVxuICAgIGlmICh2YWx1ZSA9PT0gbmV3RGF0ZVRpbWVWYWx1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBvbkNoYW5nZSh7XG4gICAgICB2YWx1ZTogbmV3RGF0ZVRpbWVWYWx1ZSxcbiAgICAgIGZpZWxkXG4gICAgfSk7XG4gIH0sIFt2YWx1ZSwgZmllbGQsIG9uQ2hhbmdlLCBzdWJ0eXBlLCB0aW1lU2VyaWFsaXppbmdGb3JtYXRdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoZGF0ZVRpbWVVcGRhdGVSZXF1ZXN0KSB7XG4gICAgICBpZiAoZGF0ZVRpbWVVcGRhdGVSZXF1ZXN0LnJlZnJlc2hPbmx5KSB7XG4gICAgICAgIGNvbXB1dGVBbmRTZXRTdGF0ZShkYXRlVGltZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBuZXdEYXRlVGltZSA9IHtcbiAgICAgICAgICAuLi5kYXRlVGltZSxcbiAgICAgICAgICAuLi5kYXRlVGltZVVwZGF0ZVJlcXVlc3RcbiAgICAgICAgfTtcbiAgICAgICAgc2V0RGF0ZVRpbWUobmV3RGF0ZVRpbWUpO1xuICAgICAgICBjb21wdXRlQW5kU2V0U3RhdGUobmV3RGF0ZVRpbWUpO1xuICAgICAgfVxuICAgICAgc2V0RGF0ZVRpbWVVcGRhdGVSZXF1ZXN0KG51bGwpO1xuICAgIH1cbiAgfSwgW2NvbXB1dGVBbmRTZXRTdGF0ZSwgZGF0ZVRpbWUsIGRhdGVUaW1lVXBkYXRlUmVxdWVzdF0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldERhdGVUaW1lVXBkYXRlUmVxdWVzdCh7XG4gICAgICByZWZyZXNoT25seTogdHJ1ZVxuICAgIH0pO1xuICB9LCBbdGltZVNlcmlhbGl6aW5nRm9ybWF0XSk7XG4gIGNvbnN0IGFsbEVycm9ycyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGlmIChyZXF1aXJlZCB8fCBzdWJ0eXBlICE9PSBEQVRFVElNRV9TVUJUWVBFUy5EQVRFVElNRSkgcmV0dXJuIGVycm9ycztcbiAgICBjb25zdCBpc09ubHlPbmVGaWVsZFNldCA9IGlzVmFsaWREYXRlKGRhdGVUaW1lLmRhdGUpICYmICFpc1ZhbGlkVGltZShkYXRlVGltZS50aW1lKSB8fCAhaXNWYWxpZERhdGUoZGF0ZVRpbWUuZGF0ZSkgJiYgaXNWYWxpZFRpbWUoZGF0ZVRpbWUudGltZSk7XG4gICAgcmV0dXJuIGlzT25seU9uZUZpZWxkU2V0ID8gWydEYXRlIGFuZCB0aW1lIG11c3QgYm90aCBiZSBlbnRlcmVkLicsIC4uLmVycm9yc10gOiBlcnJvcnM7XG4gIH0sIFtyZXF1aXJlZCwgc3VidHlwZSwgZGF0ZVRpbWUsIGVycm9yc10pO1xuICBjb25zdCBzZXREYXRlID0gdXNlQ2FsbGJhY2soZGF0ZSA9PiB7XG4gICAgc2V0RGF0ZVRpbWVVcGRhdGVSZXF1ZXN0KHByZXYgPT4gcHJldiA/IHtcbiAgICAgIC4uLnByZXYsXG4gICAgICBkYXRlXG4gICAgfSA6IHtcbiAgICAgIGRhdGVcbiAgICB9KTtcbiAgfSwgW10pO1xuICBjb25zdCBzZXRUaW1lID0gdXNlQ2FsbGJhY2sodGltZSA9PiB7XG4gICAgc2V0RGF0ZVRpbWVVcGRhdGVSZXF1ZXN0KHByZXYgPT4gcHJldiA/IHtcbiAgICAgIC4uLnByZXYsXG4gICAgICB0aW1lXG4gICAgfSA6IHtcbiAgICAgIHRpbWVcbiAgICB9KTtcbiAgfSwgW10pO1xuICBjb25zdCBlcnJvck1lc3NhZ2VJZCA9IGFsbEVycm9ycy5sZW5ndGggPT09IDAgPyB1bmRlZmluZWQgOiBgJHtwcmVmaXhJZChpZCwgZm9ybUlkKX0tZXJyb3ItbWVzc2FnZWA7XG4gIGNvbnN0IGRlc2NyaXB0aW9uSWQgPSBgJHtwcmVmaXhJZChpZCwgZm9ybUlkKX0tZGVzY3JpcHRpb25gO1xuICBjb25zdCBkYXRlUGlja2VyUHJvcHMgPSB7XG4gICAgbGFiZWw6IGRhdGVMYWJlbCxcbiAgICBjb2xsYXBzZUxhYmVsT25FbXB0eTogIXRpbWVMYWJlbCxcbiAgICBvbkRhdGVUaW1lQmx1cixcbiAgICBvbkRhdGVUaW1lRm9jdXMsXG4gICAgZG9tSWQ6IGAke2RvbUlkfS1kYXRlYCxcbiAgICByZXF1aXJlZCxcbiAgICBkaXNhYmxlZCxcbiAgICBkaXNhbGxvd1Bhc3NlZERhdGVzLFxuICAgIGRhdGU6IGRhdGVUaW1lLmRhdGUsXG4gICAgcmVhZG9ubHksXG4gICAgc2V0RGF0ZSxcbiAgICAnYXJpYS1kZXNjcmliZWRieSc6IFtkZXNjcmlwdGlvbklkLCBlcnJvck1lc3NhZ2VJZF0uam9pbignICcpXG4gIH07XG4gIGNvbnN0IHRpbWVQaWNrZXJQcm9wcyA9IHtcbiAgICBsYWJlbDogdGltZUxhYmVsLFxuICAgIGNvbGxhcHNlTGFiZWxPbkVtcHR5OiAhZGF0ZUxhYmVsLFxuICAgIG9uRGF0ZVRpbWVCbHVyLFxuICAgIG9uRGF0ZVRpbWVGb2N1cyxcbiAgICBkb21JZDogYCR7ZG9tSWR9LXRpbWVgLFxuICAgIHJlcXVpcmVkLFxuICAgIGRpc2FibGVkLFxuICAgIHJlYWRvbmx5LFxuICAgIHVzZTI0aCxcbiAgICB0aW1lSW50ZXJ2YWwsXG4gICAgdGltZTogZGF0ZVRpbWUudGltZSxcbiAgICBzZXRUaW1lLFxuICAgICdhcmlhLWRlc2NyaWJlZGJ5JzogW2Rlc2NyaXB0aW9uSWQsIGVycm9yTWVzc2FnZUlkXS5qb2luKCcgJylcbiAgfTtcbiAgcmV0dXJuIGpzeHMoXCJkaXZcIiwge1xuICAgIGNsYXNzOiBmb3JtRmllbGRDbGFzc2VzKHR5cGUkZywge1xuICAgICAgZXJyb3JzOiBhbGxFcnJvcnMsXG4gICAgICBkaXNhYmxlZCxcbiAgICAgIHJlYWRvbmx5XG4gICAgfSksXG4gICAgY2hpbGRyZW46IFtqc3hzKFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzOiBjbGFzc05hbWVzKCdmanMtdmVydGljYWwtZ3JvdXAnKSxcbiAgICAgIHJlZjogZGF0ZVRpbWVHcm91cFJlZixcbiAgICAgIGNoaWxkcmVuOiBbdXNlRGF0ZVBpY2tlciAmJiBqc3goRGF0ZXBpY2tlciwge1xuICAgICAgICAuLi5kYXRlUGlja2VyUHJvcHNcbiAgICAgIH0pLCB1c2VUaW1lUGlja2VyICYmIHVzZURhdGVQaWNrZXIgJiYganN4KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3M6IFwiZmpzLWRhdGV0aW1lLXNlcGFyYXRvclwiXG4gICAgICB9KSwgdXNlVGltZVBpY2tlciAmJiBqc3goVGltZXBpY2tlciwge1xuICAgICAgICAuLi50aW1lUGlja2VyUHJvcHNcbiAgICAgIH0pXVxuICAgIH0pLCBqc3goRGVzY3JpcHRpb24sIHtcbiAgICAgIGlkOiBkZXNjcmlwdGlvbklkLFxuICAgICAgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uXG4gICAgfSksIGpzeChFcnJvcnMsIHtcbiAgICAgIGVycm9yczogYWxsRXJyb3JzLFxuICAgICAgaWQ6IGVycm9yTWVzc2FnZUlkXG4gICAgfSldXG4gIH0pO1xufVxuRGF0ZXRpbWUuY29uZmlnID0ge1xuICB0eXBlOiB0eXBlJGcsXG4gIGtleWVkOiB0cnVlLFxuICBuYW1lOiAnRGF0ZSB0aW1lJyxcbiAgZ3JvdXA6ICdiYXNpYy1pbnB1dCcsXG4gIGVtcHR5VmFsdWU6IG51bGwsXG4gIHNhbml0aXplVmFsdWU6IHNhbml0aXplRGF0ZVRpbWVQaWNrZXJWYWx1ZSxcbiAgY3JlYXRlOiAob3B0aW9ucyA9IHt9LCBpc05ld0ZpZWxkKSA9PiB7XG4gICAgY29uc3QgZGVmYXVsdHMgPSB7fTtcbiAgICBzZXQoZGVmYXVsdHMsIERBVEVUSU1FX1NVQlRZUEVfUEFUSCwgREFURVRJTUVfU1VCVFlQRVMuREFURSk7XG4gICAgaWYgKGlzTmV3RmllbGQpIHtcbiAgICAgIHNldChkZWZhdWx0cywgREFURV9MQUJFTF9QQVRILCAnRGF0ZScpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgLi4uZGVmYXVsdHMsXG4gICAgICAuLi5vcHRpb25zXG4gICAgfTtcbiAgfSxcbiAgZ2V0U3ViaGVhZGluZzogZmllbGQgPT4ge1xuICAgIHJldHVybiBmaWVsZC5kYXRlTGFiZWwgfHwgZmllbGQudGltZUxhYmVsO1xuICB9XG59O1xuXG5mdW5jdGlvbiBHcm91cChwcm9wcykge1xuICBjb25zdCB7XG4gICAgZmllbGQsXG4gICAgZG9tSWRcbiAgfSA9IHByb3BzO1xuICBjb25zdCB7XG4gICAgbGFiZWwsXG4gICAgdHlwZSxcbiAgICBzaG93T3V0bGluZVxuICB9ID0gZmllbGQ7XG4gIGNvbnN0IHtcbiAgICBFbXB0eVxuICB9ID0gdXNlQ29udGV4dChGb3JtUmVuZGVyQ29udGV4dCk7XG4gIGNvbnN0IGZ1bGxQcm9wcyA9IHtcbiAgICAuLi5wcm9wcyxcbiAgICBFbXB0eVxuICB9O1xuICByZXR1cm4ganN4cyhcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc05hbWVzKGZvcm1GaWVsZENsYXNzZXModHlwZSksICdmanMtZm9ybS1maWVsZC1ncm91cGxpa2UnLCB7XG4gICAgICAnZmpzLW91dGxpbmVkJzogc2hvd091dGxpbmVcbiAgICB9KSxcbiAgICByb2xlOiBcImdyb3VwXCIsXG4gICAgXCJhcmlhLWxhYmVsbGVkYnlcIjogZG9tSWQsXG4gICAgY2hpbGRyZW46IFtqc3goTGFiZWwsIHtcbiAgICAgIGlkOiBkb21JZCxcbiAgICAgIGxhYmVsOiBsYWJlbFxuICAgIH0pLCBqc3goQ2hpbGRyZW5SZW5kZXJlciwge1xuICAgICAgLi4uZnVsbFByb3BzXG4gICAgfSldXG4gIH0pO1xufVxuR3JvdXAuY29uZmlnID0ge1xuICB0eXBlOiAnZ3JvdXAnLFxuICBwYXRoZWQ6IHRydWUsXG4gIG5hbWU6ICdHcm91cCcsXG4gIGdyb3VwOiAnY29udGFpbmVyJyxcbiAgY3JlYXRlOiAob3B0aW9ucyA9IHt9KSA9PiAoe1xuICAgIGxhYmVsOiAnR3JvdXAnLFxuICAgIGNvbXBvbmVudHM6IFtdLFxuICAgIHNob3dPdXRsaW5lOiB0cnVlLFxuICAgIC4uLm9wdGlvbnNcbiAgfSlcbn07XG5cbmNvbnN0IHR5cGUkZiA9ICdpZnJhbWUnO1xuY29uc3QgREVGQVVMVF9IRUlHSFQgPSAzMDA7XG5mdW5jdGlvbiBJRnJhbWUocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGZpZWxkLFxuICAgIGRpc2FibGVkLFxuICAgIHJlYWRvbmx5LFxuICAgIGRvbUlkXG4gIH0gPSBwcm9wcztcbiAgY29uc3Qge1xuICAgIGhlaWdodCA9IERFRkFVTFRfSEVJR0hULFxuICAgIGxhYmVsLFxuICAgIHVybCxcbiAgICBzZWN1cml0eSA9IHt9XG4gIH0gPSBmaWVsZDtcbiAgY29uc3QgZXZhbHVhdGVkVXJsID0gdXNlU2luZ2xlTGluZVRlbXBsYXRlRXZhbHVhdGlvbih1cmwsIHtcbiAgICBkZWJ1ZzogdHJ1ZVxuICB9KTtcbiAgY29uc3Qgc2FmZVVybCA9IHVzZU1lbW8oKCkgPT4gc2FuaXRpemVJRnJhbWVTb3VyY2UoZXZhbHVhdGVkVXJsKSwgW2V2YWx1YXRlZFVybF0pO1xuICBjb25zdCBldmFsdWF0ZWRMYWJlbCA9IHVzZVNpbmdsZUxpbmVUZW1wbGF0ZUV2YWx1YXRpb24obGFiZWwsIHtcbiAgICBkZWJ1ZzogdHJ1ZVxuICB9KTtcbiAgY29uc3QgW3NhbmRib3gsIGFsbG93XSA9IHVzZVNlY3VyaXR5QXR0cmlidXRlc01hcChzZWN1cml0eSk7XG4gIGNvbnN0IFtpZnJhbWVSZWZyZXNoLCBzZXRJZnJhbWVSZWZyZXNoXSA9IHVzZVN0YXRlKDApO1xuXG4gIC8vIGZvcmNlcyByZS1yZW5kZXIgb2YgaWZyYW1lIHdoZW4gc2FuZGJveCBvciBhbGxvdyBhdHRyaWJ1dGVzIGNoYW5nZSwgYXMgYnJvd3NlcnMgZG8gbm90IGRvIGl0IGF1dG9tYXRpY2FsbHlcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRJZnJhbWVSZWZyZXNoKGNvdW50ID0+IGNvdW50ICsgMSk7XG4gIH0sIFtzYW5kYm94LCBhbGxvd10pO1xuICByZXR1cm4ganN4cyhcImRpdlwiLCB7XG4gICAgY2xhc3M6IGZvcm1GaWVsZENsYXNzZXModHlwZSRmLCB7XG4gICAgICBkaXNhYmxlZCxcbiAgICAgIHJlYWRvbmx5XG4gICAgfSksXG4gICAgY2hpbGRyZW46IFtqc3goTGFiZWwsIHtcbiAgICAgIGh0bWxGb3I6IGRvbUlkLFxuICAgICAgbGFiZWw6IGV2YWx1YXRlZExhYmVsXG4gICAgfSksICFldmFsdWF0ZWRVcmwgJiYganN4KElGcmFtZVBsYWNlaG9sZGVyLCB7XG4gICAgICB0ZXh0OiBcIk5vIGNvbnRlbnQgdG8gc2hvdy5cIlxuICAgIH0pLCBldmFsdWF0ZWRVcmwgJiYgc2FmZVVybCAmJiBqc3goXCJpZnJhbWVcIiwge1xuICAgICAgc3JjOiBzYWZlVXJsLFxuICAgICAgdGl0bGU6IGV2YWx1YXRlZExhYmVsLFxuICAgICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgICBjbGFzczogXCJmanMtaWZyYW1lXCIsXG4gICAgICBpZDogZG9tSWQsXG4gICAgICBzYW5kYm94OiBzYW5kYm94LFxuICAgICAgYWxsb3dcbiAgICB9LCAnaWZyYW1lLScgKyBpZnJhbWVSZWZyZXNoKSwgZXZhbHVhdGVkVXJsICYmICFzYWZlVXJsICYmIGpzeChJRnJhbWVQbGFjZWhvbGRlciwge1xuICAgICAgdGV4dDogXCJFeHRlcm5hbCBjb250ZW50IGNvdWxkbid0IGJlIGxvYWRlZC5cIlxuICAgIH0pXVxuICB9KTtcbn1cbmZ1bmN0aW9uIElGcmFtZVBsYWNlaG9sZGVyKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICB0ZXh0ID0gJ2lGcmFtZSdcbiAgfSA9IHByb3BzO1xuICByZXR1cm4ganN4KFwiZGl2XCIsIHtcbiAgICBjbGFzczogXCJmanMtaWZyYW1lLXBsYWNlaG9sZGVyXCIsXG4gICAgY2hpbGRyZW46IGpzeChcInBcIiwge1xuICAgICAgY2xhc3M6IFwiZmpzLWlmcmFtZS1wbGFjZWhvbGRlci10ZXh0XCIsXG4gICAgICBjaGlsZHJlbjogdGV4dFxuICAgIH0pXG4gIH0pO1xufVxuSUZyYW1lLmNvbmZpZyA9IHtcbiAgdHlwZTogdHlwZSRmLFxuICBrZXllZDogZmFsc2UsXG4gIG5hbWU6ICdpRnJhbWUnLFxuICBncm91cDogJ2NvbnRhaW5lcicsXG4gIGNyZWF0ZTogKG9wdGlvbnMgPSB7fSkgPT4gKHtcbiAgICBsYWJlbDogJ2lGcmFtZScsXG4gICAgc2VjdXJpdHk6IHtcbiAgICAgIGFsbG93U2NyaXB0czogdHJ1ZVxuICAgIH0sXG4gICAgLi4ub3B0aW9uc1xuICB9KVxufTtcblxudmFyIF9wYXRoJHg7XG5mdW5jdGlvbiBfZXh0ZW5kcyR5KCkgeyByZXR1cm4gX2V4dGVuZHMkeSA9IE9iamVjdC5hc3NpZ24gPyBPYmplY3QuYXNzaWduLmJpbmQoKSA6IGZ1bmN0aW9uIChuKSB7IGZvciAodmFyIGUgPSAxOyBlIDwgYXJndW1lbnRzLmxlbmd0aDsgZSsrKSB7IHZhciB0ID0gYXJndW1lbnRzW2VdOyBmb3IgKHZhciByIGluIHQpICh7fSkuaGFzT3duUHJvcGVydHkuY2FsbCh0LCByKSAmJiAobltyXSA9IHRbcl0pOyB9IHJldHVybiBuOyB9LCBfZXh0ZW5kcyR5LmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7IH1cbnZhciBTdmdCdXR0b24gPSBmdW5jdGlvbiBTdmdCdXR0b24ocHJvcHMpIHtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIF9leHRlbmRzJHkoe1xuICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgd2lkdGg6IDU0LFxuICAgIGhlaWdodDogNTQsXG4gICAgZmlsbDogXCJjdXJyZW50Y29sb3JcIlxuICB9LCBwcm9wcyksIF9wYXRoJHggfHwgKF9wYXRoJHggPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIixcbiAgICBkOiBcIk00NSAxN2EzIDMgMCAwIDEgMyAzdjE0YTMgMyAwIDAgMS0zIDNIOWEzIDMgMCAwIDEtMy0zVjIwYTMgMyAwIDAgMSAzLTN6bS05IDguODg5SDE4djIuMjIyaDE4elwiXG4gIH0pKSk7XG59O1xuXG52YXIgX3BhdGgkdztcbmZ1bmN0aW9uIF9leHRlbmRzJHgoKSB7IHJldHVybiBfZXh0ZW5kcyR4ID0gT2JqZWN0LmFzc2lnbiA/IE9iamVjdC5hc3NpZ24uYmluZCgpIDogZnVuY3Rpb24gKG4pIHsgZm9yICh2YXIgZSA9IDE7IGUgPCBhcmd1bWVudHMubGVuZ3RoOyBlKyspIHsgdmFyIHQgPSBhcmd1bWVudHNbZV07IGZvciAodmFyIHIgaW4gdCkgKHt9KS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsIHIpICYmIChuW3JdID0gdFtyXSk7IH0gcmV0dXJuIG47IH0sIF9leHRlbmRzJHguYXBwbHkobnVsbCwgYXJndW1lbnRzKTsgfVxudmFyIFN2Z0NoZWNrYm94ID0gZnVuY3Rpb24gU3ZnQ2hlY2tib3gocHJvcHMpIHtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIF9leHRlbmRzJHgoe1xuICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgd2lkdGg6IDU0LFxuICAgIGhlaWdodDogNTQsXG4gICAgZmlsbDogXCJjdXJyZW50Y29sb3JcIlxuICB9LCBwcm9wcyksIF9wYXRoJHcgfHwgKF9wYXRoJHcgPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGQ6IFwiTTM0IDE4SDIwYTIgMiAwIDAgMC0yIDJ2MTRhMiAyIDAgMCAwIDIgMmgxNGEyIDIgMCAwIDAgMi0yVjIwYTIgMiAwIDAgMC0yLTJtLTkgMTQtNS01IDEuNDEtMS40MUwyNSAyOS4xN2w3LjU5LTcuNTlMMzQgMjN6XCJcbiAgfSkpKTtcbn07XG5cbnZhciBfcGF0aCR2O1xuZnVuY3Rpb24gX2V4dGVuZHMkdygpIHsgcmV0dXJuIF9leHRlbmRzJHcgPSBPYmplY3QuYXNzaWduID8gT2JqZWN0LmFzc2lnbi5iaW5kKCkgOiBmdW5jdGlvbiAobikgeyBmb3IgKHZhciBlID0gMTsgZSA8IGFyZ3VtZW50cy5sZW5ndGg7IGUrKykgeyB2YXIgdCA9IGFyZ3VtZW50c1tlXTsgZm9yICh2YXIgciBpbiB0KSAoe30pLmhhc093blByb3BlcnR5LmNhbGwodCwgcikgJiYgKG5bcl0gPSB0W3JdKTsgfSByZXR1cm4gbjsgfSwgX2V4dGVuZHMkdy5hcHBseShudWxsLCBhcmd1bWVudHMpOyB9XG52YXIgU3ZnQ2hlY2tsaXN0ID0gZnVuY3Rpb24gU3ZnQ2hlY2tsaXN0KHByb3BzKSB7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInN2Z1wiLCBfZXh0ZW5kcyR3KHtcbiAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgIHdpZHRoOiA1NCxcbiAgICBoZWlnaHQ6IDU0LFxuICAgIGZpbGw6IFwibm9uZVwiXG4gIH0sIHByb3BzKSwgX3BhdGgkdiB8fCAoX3BhdGgkdiA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICBmaWxsUnVsZTogXCJldmVub2RkXCIsXG4gICAgZDogXCJNMTQuMzUgMjQuNzVIMTl2NC42NWgtNC42NXptLTEuNDE0LTEuNDE0YTIgMiAwIDAgMSAxLjQxNC0uNTg2SDE5YTIgMiAwIDAgMSAyIDJ2NC42NWEyIDIgMCAwIDEtMiAyaC00LjY1YTIgMiAwIDAgMS0yLTJ2LTQuNjVhMiAyIDAgMCAxIC41ODYtMS40MTRNMTQuMzUgMzcuMDVIMTl2NC42NWgtNC42NXptLTEuNDE0LTEuNDE0YTIgMiAwIDAgMSAxLjQxNC0uNTg2SDE5YTIgMiAwIDAgMSAyIDJ2NC42NWEyIDIgMCAwIDEtMiAyaC00LjY1YTIgMiAwIDAgMS0yLTJ2LTQuNjVhMiAyIDAgMCAxIC41ODYtMS40MTRNMTQuMzUgMTIuNDVIMTl2NC42NWgtNC42NXptLTEuNDE0LTEuNDE0YTIgMiAwIDAgMSAxLjQxNC0uNTg2SDE5YTIgMiAwIDAgMSAyIDJ2NC42NWEyIDIgMCAwIDEtMiAyaC00LjY1YTIgMiAwIDAgMS0yLTJ2LTQuNjVhMiAyIDAgMCAxIC41ODYtMS40MTRtMTIuMDA3IDE0Ljk3N2ExIDEgMCAwIDAtLjI5My43MDd2LjY1YTEgMSAwIDAgMCAxIDFoMTVhMSAxIDAgMCAwIDEtMXYtLjY1YTEgMSAwIDAgMC0xLTFoLTE1YTEgMSAwIDAgMC0uNzA3LjI5M20wIDEyLjNhMSAxIDAgMCAwLS4yOTMuNzA3di42NWExIDEgMCAwIDAgMSAxaDE1YTEgMSAwIDAgMCAxLTF2LS42NWExIDEgMCAwIDAtMS0xaC0xNWExIDEgMCAwIDAtLjcwNy4yOTNtMC0yNC42YTEgMSAwIDAgMC0uMjkzLjcwN3YuNjVhMSAxIDAgMCAwIDEgMWgxNWExIDEgMCAwIDAgMS0xdi0uNjVhMSAxIDAgMCAwLTEtMWgtMTVhMSAxIDAgMCAwLS43MDcuMjkzXCIsXG4gICAgY2xpcFJ1bGU6IFwiZXZlbm9kZFwiXG4gIH0pKSk7XG59O1xuXG52YXIgX3BhdGgkdSwgX3BhdGgyJDMsIF9wYXRoMztcbmZ1bmN0aW9uIF9leHRlbmRzJHYoKSB7IHJldHVybiBfZXh0ZW5kcyR2ID0gT2JqZWN0LmFzc2lnbiA/IE9iamVjdC5hc3NpZ24uYmluZCgpIDogZnVuY3Rpb24gKG4pIHsgZm9yICh2YXIgZSA9IDE7IGUgPCBhcmd1bWVudHMubGVuZ3RoOyBlKyspIHsgdmFyIHQgPSBhcmd1bWVudHNbZV07IGZvciAodmFyIHIgaW4gdCkgKHt9KS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsIHIpICYmIChuW3JdID0gdFtyXSk7IH0gcmV0dXJuIG47IH0sIF9leHRlbmRzJHYuYXBwbHkobnVsbCwgYXJndW1lbnRzKTsgfVxudmFyIFN2Z0RhdGV0aW1lID0gZnVuY3Rpb24gU3ZnRGF0ZXRpbWUocHJvcHMpIHtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIF9leHRlbmRzJHYoe1xuICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgd2lkdGg6IDU0LFxuICAgIGhlaWdodDogNTQsXG4gICAgZmlsbDogXCJjdXJyZW50Y29sb3JcIlxuICB9LCBwcm9wcyksIF9wYXRoJHUgfHwgKF9wYXRoJHUgPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIixcbiAgICBkOiBcIk0zNy45MDggMTMuNDE4aC01LjAwNHYtMi4zNTRoLTEuNzY2djIuMzU0SDIxLjEzdi0yLjM1NGgtMS43NjZ2Mi4zNTRIMTQuMzZhMi4wNyAyLjA3IDAgMCAwLTIuMDYgMi4wNnYyMy41NDlhMi4wNyAyLjA3IDAgMCAwIDIuMDYgMi4wNmg2Ljc3di0xLjc2NmgtNi4zNThhLjcwNy43MDcgMCAwIDEtLjcwNi0uNzA2VjE1Ljg5YzAtLjM5LjMxNi0uNzA3LjcwNi0uNzA3aDQuNTkydjIuMzU1aDEuNzY2di0yLjM1NWgxMC4wMDh2Mi4zNTVoMS43NjZ2LTIuMzU1aDQuNTkyYS43MS43MSAwIDAgMSAuNzA3LjcwN3Y2LjM1OGgxLjc2NXYtNi43N2MwLTEuMTMzLS45MjctMi4wNi0yLjA2LTIuMDZcIlxuICB9KSksIF9wYXRoMiQzIHx8IChfcGF0aDIkMyA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZDogXCJtMzUuMTMgMzcuNjAzIDEuMjM3LTEuMjM3LTMuNDY4LTMuNDc1di01LjkyNmgtMS43NTR2Ni42NTRsMy45ODQgMy45ODRaXCJcbiAgfSkpLCBfcGF0aDMgfHwgKF9wYXRoMyA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgIGQ6IFwiTTIzLjA4IDM2Ljk2MmE5LjY3OCA5LjY3OCAwIDEgMCAxNy44ODMtNy40MDggOS42NzggOS42NzggMCAwIDAtMTcuODgyIDcuNDA4Wm00LjU0LTEwLjI5MmE3LjkyNCA3LjkyNCAwIDEgMSA4LjgwNSAxMy4xNzdBNy45MjQgNy45MjQgMCAwIDEgMjcuNjIgMjYuNjdcIlxuICB9KSkpO1xufTtcblxudmFyIF9wYXRoJHQsIF9wYXRoMiQyO1xuZnVuY3Rpb24gX2V4dGVuZHMkdSgpIHsgcmV0dXJuIF9leHRlbmRzJHUgPSBPYmplY3QuYXNzaWduID8gT2JqZWN0LmFzc2lnbi5iaW5kKCkgOiBmdW5jdGlvbiAobikgeyBmb3IgKHZhciBlID0gMTsgZSA8IGFyZ3VtZW50cy5sZW5ndGg7IGUrKykgeyB2YXIgdCA9IGFyZ3VtZW50c1tlXTsgZm9yICh2YXIgciBpbiB0KSAoe30pLmhhc093blByb3BlcnR5LmNhbGwodCwgcikgJiYgKG5bcl0gPSB0W3JdKTsgfSByZXR1cm4gbjsgfSwgX2V4dGVuZHMkdS5hcHBseShudWxsLCBhcmd1bWVudHMpOyB9XG52YXIgU3ZnVGFnbGlzdCA9IGZ1bmN0aW9uIFN2Z1RhZ2xpc3QocHJvcHMpIHtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIF9leHRlbmRzJHUoe1xuICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgd2lkdGg6IDU0LFxuICAgIGhlaWdodDogNTQsXG4gICAgZmlsbDogXCJjdXJyZW50Y29sb3JcIlxuICB9LCBwcm9wcyksIF9wYXRoJHQgfHwgKF9wYXRoJHQgPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIixcbiAgICBkOiBcIk00NSAxNmEzIDMgMCAwIDEgMyAzdjE2YTMgMyAwIDAgMS0zIDNIOWEzIDMgMCAwIDEtMy0zVjE5YTMgMyAwIDAgMSAzLTN6bTAgMkg5YTEgMSAwIDAgMC0xIDF2MTZhMSAxIDAgMCAwIDEgMWgzNmExIDEgMCAwIDAgMS0xVjE5YTEgMSAwIDAgMC0xLTFcIlxuICB9KSksIF9wYXRoMiQyIHx8IChfcGF0aDIkMiA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZDogXCJNMTEgMjJhMSAxIDAgMCAxIDEtMWgxOWExIDEgMCAwIDEgMSAxdjEwYTEgMSAwIDAgMS0xIDFIMTJhMSAxIDAgMCAxLTEtMXpcIlxuICB9KSkpO1xufTtcblxudmFyIF9yZWN0LCBfcmVjdDIsIF9yZWN0MztcbmZ1bmN0aW9uIF9leHRlbmRzJHQoKSB7IHJldHVybiBfZXh0ZW5kcyR0ID0gT2JqZWN0LmFzc2lnbiA/IE9iamVjdC5hc3NpZ24uYmluZCgpIDogZnVuY3Rpb24gKG4pIHsgZm9yICh2YXIgZSA9IDE7IGUgPCBhcmd1bWVudHMubGVuZ3RoOyBlKyspIHsgdmFyIHQgPSBhcmd1bWVudHNbZV07IGZvciAodmFyIHIgaW4gdCkgKHt9KS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsIHIpICYmIChuW3JdID0gdFtyXSk7IH0gcmV0dXJuIG47IH0sIF9leHRlbmRzJHQuYXBwbHkobnVsbCwgYXJndW1lbnRzKTsgfVxudmFyIFN2Z0Zvcm0gPSBmdW5jdGlvbiBTdmdGb3JtKHByb3BzKSB7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInN2Z1wiLCBfZXh0ZW5kcyR0KHtcbiAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgIHdpZHRoOiA1NCxcbiAgICBoZWlnaHQ6IDU0XG4gIH0sIHByb3BzKSwgX3JlY3QgfHwgKF9yZWN0ID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJyZWN0XCIsIHtcbiAgICB3aWR0aDogMjQsXG4gICAgaGVpZ2h0OiA0LFxuICAgIHg6IDE1LFxuICAgIHk6IDE3LFxuICAgIHJ4OiAxXG4gIH0pKSwgX3JlY3QyIHx8IChfcmVjdDIgPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInJlY3RcIiwge1xuICAgIHdpZHRoOiAyNCxcbiAgICBoZWlnaHQ6IDQsXG4gICAgeDogMTUsXG4gICAgeTogMjUsXG4gICAgcng6IDFcbiAgfSkpLCBfcmVjdDMgfHwgKF9yZWN0MyA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicmVjdFwiLCB7XG4gICAgd2lkdGg6IDEzLFxuICAgIGhlaWdodDogNCxcbiAgICB4OiAxNSxcbiAgICB5OiAzMyxcbiAgICByeDogMVxuICB9KSkpO1xufTtcblxudmFyIF9wYXRoJHM7XG5mdW5jdGlvbiBfZXh0ZW5kcyRzKCkgeyByZXR1cm4gX2V4dGVuZHMkcyA9IE9iamVjdC5hc3NpZ24gPyBPYmplY3QuYXNzaWduLmJpbmQoKSA6IGZ1bmN0aW9uIChuKSB7IGZvciAodmFyIGUgPSAxOyBlIDwgYXJndW1lbnRzLmxlbmd0aDsgZSsrKSB7IHZhciB0ID0gYXJndW1lbnRzW2VdOyBmb3IgKHZhciByIGluIHQpICh7fSkuaGFzT3duUHJvcGVydHkuY2FsbCh0LCByKSAmJiAobltyXSA9IHRbcl0pOyB9IHJldHVybiBuOyB9LCBfZXh0ZW5kcyRzLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7IH1cbnZhciBTdmdHcm91cCA9IGZ1bmN0aW9uIFN2Z0dyb3VwKHByb3BzKSB7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInN2Z1wiLCBfZXh0ZW5kcyRzKHtcbiAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgIHdpZHRoOiA1NCxcbiAgICBoZWlnaHQ6IDU0LFxuICAgIGZpbGw6IFwibm9uZVwiXG4gIH0sIHByb3BzKSwgX3BhdGgkcyB8fCAoX3BhdGgkcyA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZmlsbDogXCIjMDAwXCIsXG4gICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgIGQ6IFwiTTQuMDUgNDIuMTMydjEuMTY0YzAgLjY5My42MDQgMS4yNTQgMS4zNSAxLjI1NGgxLjM1di0yLjUwN2gtMi43di4wOVptMC0yLjMyOGgyLjd2LTIuMzI4aC0yLjd6bTAtNC42NTZoMi43VjMyLjgyaC0yLjd6bTAtNC42NTZoMi43di0yLjMyOGgtMi43em0wLTQuNjU2aDIuN3YtMi4zMjhoLTIuN3ptMC00LjY1NmgyLjd2LTIuMzI4aC0yLjd6bTAtNC42NTZoMi43di0yLjMyOGgtMi43em0wLTQuNjU2di4wOWgyLjdWOS40NUg1LjRjLS43NDYgMC0xLjM1LjU2MS0xLjM1IDEuMjU0em01LjQtMi40MTh2Mi41MDdoMi43VjkuNDV6bTUuNCAwdjIuNTA3aDIuN1Y5LjQ1em01LjQgMHYyLjUwN2gyLjdWOS40NXptNS40IDB2Mi41MDdoMi43VjkuNDV6bTUuNCAwdjIuNTA3aDIuN1Y5LjQ1em01LjQgMHYyLjUwN2gyLjdWOS40NXptNS40IDB2Mi41MDdoMi43VjkuNDV6bTUuNCAwdjIuNTA3aDIuN3YtMS4yNTNjMC0uNjkzLS42MDQtMS4yNTQtMS4zNS0xLjI1NHptMi43IDQuNzQ2aC0yLjd2Mi4zMjhoMi43em0wIDQuNjU2aC0yLjd2Mi4zMjhoMi43em0wIDQuNjU2aC0yLjd2Mi4zMjhoMi43em0wIDQuNjU2aC0yLjd2Mi4zMjhoMi43em0wIDQuNjU2aC0yLjd2Mi4zMjhoMi43em0wIDQuNjU2aC0yLjd2Mi4zMjhoMi43em0wIDQuNjU2di0uMDloLTIuN3YyLjUwOGgxLjM1Yy43NDYgMCAxLjM1LS41NjEgMS4zNS0xLjI1NHptLTUuNCAyLjQxOHYtMi41MDdoLTIuN3YyLjUwN3ptLTUuNCAwdi0yLjUwN2gtMi43djIuNTA3em0tNS40IDB2LTIuNTA3aC0yLjd2Mi41MDd6bS01LjQgMHYtMi41MDdoLTIuN3YyLjUwN3ptLTUuNCAwdi0yLjUwN2gtMi43djIuNTA3em0tNS40IDB2LTIuNTA3aC0yLjd2Mi41MDd6bS01LjQgMHYtMi41MDdoLTIuN3YyLjUwN3pcIixcbiAgICBjbGlwUnVsZTogXCJldmVub2RkXCJcbiAgfSkpKTtcbn07XG5cbnZhciBfcGF0aCRyO1xuZnVuY3Rpb24gX2V4dGVuZHMkcigpIHsgcmV0dXJuIF9leHRlbmRzJHIgPSBPYmplY3QuYXNzaWduID8gT2JqZWN0LmFzc2lnbi5iaW5kKCkgOiBmdW5jdGlvbiAobikgeyBmb3IgKHZhciBlID0gMTsgZSA8IGFyZ3VtZW50cy5sZW5ndGg7IGUrKykgeyB2YXIgdCA9IGFyZ3VtZW50c1tlXTsgZm9yICh2YXIgciBpbiB0KSAoe30pLmhhc093blByb3BlcnR5LmNhbGwodCwgcikgJiYgKG5bcl0gPSB0W3JdKTsgfSByZXR1cm4gbjsgfSwgX2V4dGVuZHMkci5hcHBseShudWxsLCBhcmd1bWVudHMpOyB9XG52YXIgU3ZnTnVtYmVyID0gZnVuY3Rpb24gU3ZnTnVtYmVyKHByb3BzKSB7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInN2Z1wiLCBfZXh0ZW5kcyRyKHtcbiAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgIHdpZHRoOiA1NCxcbiAgICBoZWlnaHQ6IDU0LFxuICAgIGZpbGw6IFwiY3VycmVudGNvbG9yXCJcbiAgfSwgcHJvcHMpLCBfcGF0aCRyIHx8IChfcGF0aCRyID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBmaWxsUnVsZTogXCJldmVub2RkXCIsXG4gICAgZDogXCJNNDUgMTZhMyAzIDAgMCAxIDMgM3YxNmEzIDMgMCAwIDEtMyAzSDlhMyAzIDAgMCAxLTMtM1YxOWEzIDMgMCAwIDEgMy0zem0wIDJIOWExIDEgMCAwIDAtMSAxdjE2YTEgMSAwIDAgMCAxIDFoMzZhMSAxIDAgMCAwIDEtMVYxOWExIDEgMCAwIDAtMS0xTTM1IDI4LjQ0NGg3bC0zLjUgNHpNMzUgMjZoN2wtMy41LTR6XCJcbiAgfSkpKTtcbn07XG5cbnZhciBfcGF0aCRxO1xuZnVuY3Rpb24gX2V4dGVuZHMkcSgpIHsgcmV0dXJuIF9leHRlbmRzJHEgPSBPYmplY3QuYXNzaWduID8gT2JqZWN0LmFzc2lnbi5iaW5kKCkgOiBmdW5jdGlvbiAobikgeyBmb3IgKHZhciBlID0gMTsgZSA8IGFyZ3VtZW50cy5sZW5ndGg7IGUrKykgeyB2YXIgdCA9IGFyZ3VtZW50c1tlXTsgZm9yICh2YXIgciBpbiB0KSAoe30pLmhhc093blByb3BlcnR5LmNhbGwodCwgcikgJiYgKG5bcl0gPSB0W3JdKTsgfSByZXR1cm4gbjsgfSwgX2V4dGVuZHMkcS5hcHBseShudWxsLCBhcmd1bWVudHMpOyB9XG52YXIgU3ZnUmFkaW8gPSBmdW5jdGlvbiBTdmdSYWRpbyhwcm9wcykge1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgX2V4dGVuZHMkcSh7XG4gICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICB3aWR0aDogNTQsXG4gICAgaGVpZ2h0OiA1NCxcbiAgICBmaWxsOiBcImN1cnJlbnRjb2xvclwiXG4gIH0sIHByb3BzKSwgX3BhdGgkcSB8fCAoX3BhdGgkcSA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZDogXCJNMjcgMjJjLTIuNzYgMC01IDIuMjQtNSA1czIuMjQgNSA1IDUgNS0yLjI0IDUtNS0yLjI0LTUtNS01bTAtNWMtNS41MiAwLTEwIDQuNDgtMTAgMTBzNC40OCAxMCAxMCAxMCAxMC00LjQ4IDEwLTEwLTQuNDgtMTAtMTAtMTBtMCAxOGE4IDggMCAxIDEgMC0xNiA4IDggMCAxIDEgMCAxNlwiXG4gIH0pKSk7XG59O1xuXG52YXIgX3BhdGgkcDtcbmZ1bmN0aW9uIF9leHRlbmRzJHAoKSB7IHJldHVybiBfZXh0ZW5kcyRwID0gT2JqZWN0LmFzc2lnbiA/IE9iamVjdC5hc3NpZ24uYmluZCgpIDogZnVuY3Rpb24gKG4pIHsgZm9yICh2YXIgZSA9IDE7IGUgPCBhcmd1bWVudHMubGVuZ3RoOyBlKyspIHsgdmFyIHQgPSBhcmd1bWVudHNbZV07IGZvciAodmFyIHIgaW4gdCkgKHt9KS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsIHIpICYmIChuW3JdID0gdFtyXSk7IH0gcmV0dXJuIG47IH0sIF9leHRlbmRzJHAuYXBwbHkobnVsbCwgYXJndW1lbnRzKTsgfVxudmFyIFN2Z1NlbGVjdCA9IGZ1bmN0aW9uIFN2Z1NlbGVjdChwcm9wcykge1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgX2V4dGVuZHMkcCh7XG4gICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICB3aWR0aDogNTQsXG4gICAgaGVpZ2h0OiA1NCxcbiAgICBmaWxsOiBcImN1cnJlbnRjb2xvclwiXG4gIH0sIHByb3BzKSwgX3BhdGgkcCB8fCAoX3BhdGgkcCA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgIGQ6IFwiTTQ1IDE2YTMgMyAwIDAgMSAzIDN2MTZhMyAzIDAgMCAxLTMgM0g5YTMgMyAwIDAgMS0zLTNWMTlhMyAzIDAgMCAxIDMtM3ptMCAySDlhMSAxIDAgMCAwLTEgMXYxNmExIDEgMCAwIDAgMSAxaDM2YTEgMSAwIDAgMCAxLTFWMTlhMSAxIDAgMCAwLTEtMW0tMTIgN2g5bC00LjUgNnpcIlxuICB9KSkpO1xufTtcblxudmFyIF9wYXRoJG87XG5mdW5jdGlvbiBfZXh0ZW5kcyRvKCkgeyByZXR1cm4gX2V4dGVuZHMkbyA9IE9iamVjdC5hc3NpZ24gPyBPYmplY3QuYXNzaWduLmJpbmQoKSA6IGZ1bmN0aW9uIChuKSB7IGZvciAodmFyIGUgPSAxOyBlIDwgYXJndW1lbnRzLmxlbmd0aDsgZSsrKSB7IHZhciB0ID0gYXJndW1lbnRzW2VdOyBmb3IgKHZhciByIGluIHQpICh7fSkuaGFzT3duUHJvcGVydHkuY2FsbCh0LCByKSAmJiAobltyXSA9IHRbcl0pOyB9IHJldHVybiBuOyB9LCBfZXh0ZW5kcyRvLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7IH1cbnZhciBTdmdTZXBhcmF0b3IgPSBmdW5jdGlvbiBTdmdTZXBhcmF0b3IocHJvcHMpIHtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIF9leHRlbmRzJG8oe1xuICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgd2lkdGg6IDU0LFxuICAgIGhlaWdodDogNTQsXG4gICAgZmlsbDogXCJub25lXCJcbiAgfSwgcHJvcHMpLCBfcGF0aCRvIHx8IChfcGF0aCRvID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgIGQ6IFwiTTI2LjI5MyAxNi4yOTNhMSAxIDAgMCAxIDEuNDE0IDBsNCA0YTEgMSAwIDAgMS0xLjQxNCAxLjQxNEwyNyAxOC40MTRsLTMuMjkzIDMuMjkzYTEgMSAwIDAgMS0xLjQxNC0xLjQxNHpNOSAyNmgzNnYySDl6bTEzLjI5MyA3LjcwNyA0IDRhMSAxIDAgMCAwIDEuNDE0IDBsNC00YTEgMSAwIDAgMC0xLjQxNC0xLjQxNEwyNyAzNS41ODZsLTMuMjkzLTMuMjkzYTEgMSAwIDAgMC0xLjQxNCAxLjQxNFwiXG4gIH0pKSk7XG59O1xuXG52YXIgX3BhdGgkbjtcbmZ1bmN0aW9uIF9leHRlbmRzJG4oKSB7IHJldHVybiBfZXh0ZW5kcyRuID0gT2JqZWN0LmFzc2lnbiA/IE9iamVjdC5hc3NpZ24uYmluZCgpIDogZnVuY3Rpb24gKG4pIHsgZm9yICh2YXIgZSA9IDE7IGUgPCBhcmd1bWVudHMubGVuZ3RoOyBlKyspIHsgdmFyIHQgPSBhcmd1bWVudHNbZV07IGZvciAodmFyIHIgaW4gdCkgKHt9KS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsIHIpICYmIChuW3JdID0gdFtyXSk7IH0gcmV0dXJuIG47IH0sIF9leHRlbmRzJG4uYXBwbHkobnVsbCwgYXJndW1lbnRzKTsgfVxudmFyIFN2Z1NwYWNlciA9IGZ1bmN0aW9uIFN2Z1NwYWNlcihwcm9wcykge1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgX2V4dGVuZHMkbih7XG4gICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICB3aWR0aDogNTQsXG4gICAgaGVpZ2h0OiA1NCxcbiAgICBmaWxsOiBcIm5vbmVcIlxuICB9LCBwcm9wcyksIF9wYXRoJG4gfHwgKF9wYXRoJG4gPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgZDogXCJNOSAxNXYyaDM2di0yem0wIDIydjJoMzZ2LTJ6bTE3LjI5My0xNy43MDdhMSAxIDAgMCAxIDEuNDE0IDBsNCA0YTEgMSAwIDAgMS0xLjQxNCAxLjQxNEwyNyAyMS40MTRsLTMuMjkzIDMuMjkzYTEgMSAwIDAgMS0xLjQxNC0xLjQxNHptLTQgMTEuNDE0IDQgNGExIDEgMCAwIDAgMS40MTQgMGw0LTRhMSAxIDAgMCAwLTEuNDE0LTEuNDE0TDI3IDMyLjU4NmwtMy4yOTMtMy4yOTNhMSAxIDAgMCAwLTEuNDE0IDEuNDE0XCJcbiAgfSkpKTtcbn07XG5cbnZhciBfcGF0aCRtO1xuZnVuY3Rpb24gX2V4dGVuZHMkbSgpIHsgcmV0dXJuIF9leHRlbmRzJG0gPSBPYmplY3QuYXNzaWduID8gT2JqZWN0LmFzc2lnbi5iaW5kKCkgOiBmdW5jdGlvbiAobikgeyBmb3IgKHZhciBlID0gMTsgZSA8IGFyZ3VtZW50cy5sZW5ndGg7IGUrKykgeyB2YXIgdCA9IGFyZ3VtZW50c1tlXTsgZm9yICh2YXIgciBpbiB0KSAoe30pLmhhc093blByb3BlcnR5LmNhbGwodCwgcikgJiYgKG5bcl0gPSB0W3JdKTsgfSByZXR1cm4gbjsgfSwgX2V4dGVuZHMkbS5hcHBseShudWxsLCBhcmd1bWVudHMpOyB9XG52YXIgU3ZnRHluYW1pY0xpc3QgPSBmdW5jdGlvbiBTdmdEeW5hbWljTGlzdChwcm9wcykge1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgX2V4dGVuZHMkbSh7XG4gICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICB3aWR0aDogNTQsXG4gICAgaGVpZ2h0OiA1NCxcbiAgICBmaWxsOiBcIm5vbmVcIlxuICB9LCBwcm9wcyksIF9wYXRoJG0gfHwgKF9wYXRoJG0gPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgIGQ6IFwiTTIuNyA0My4yOTZ2MS4yNTRjMCAuNzQ2LjYwNCAxLjM1IDEuMzUgMS4zNWgxLjI3NXYtMS43OTVxLjA3NC4yMTEuMDc1LjQ0NXYtMS4yNTRoLS4wNzVWNDMuMkg0LjA1Yy4xNzcgMCAuMzQ3LjAzNC41MDIuMDk2em0yLjctMi41MDd2LTIuNTA3SDIuN3YyLjUwN3ptMC01LjAxNHYtMi41MDdIMi43djIuNTA3em0wLTUuMDE0di0yLjUwN0gyLjd2Mi41MDd6bTAtNS4wMTVWMjMuMjRIMi43djIuNTA3aDIuN1ptMC01LjAxNHYtMi41MDdIMi43djIuNTA3em0wLTUuMDE0VjEzLjIxSDIuN3YyLjUwN3ptLTIuNy01LjAxNGgxLjg1MmExLjQgMS40IDAgMCAxLS41MDIuMDk2aDEuMjc1di0uMDk2SDUuNFY5LjQ1cTAgLjIzNS0uMDc1LjQ0NVY4LjFINC4wNUExLjM1IDEuMzUgMCAwIDAgMi43IDkuNDV6bTUuMTc1LjA5NmgyLjU1VjguMWgtMi41NXptNS4xIDBoMi41NVY4LjFoLTIuNTV6bTUuMSAwaDIuNTVWOC4xaC0yLjU1em01LjEgMGgyLjU1VjguMWgtMi41NXptNS4xIDBoMi41NVY4LjFoLTIuNTV6bTUuMSAwaDIuNTVWOC4xaC0yLjU1em01LjEgMGgyLjU1VjguMWgtMi41NXptNS4xIDBoMi41NVY4LjFoLTIuNTV6bTUuMS0yLjd2MS43OTVhMS40IDEuNCAwIDAgMS0uMDc1LS40NDV2MS4yNTRoLjA3NXYuMDk2aDEuMjc1YTEuNCAxLjQgMCAwIDEtLjUwMi0uMDk2SDUxLjNWOS40NWExLjM1IDEuMzUgMCAwIDAtMS4zNS0xLjM1em0tLjA3NSA1LjExdjIuNTA4aDIuN1YxMy4yMXptMCA1LjAxNXYyLjUwN2gyLjd2LTIuNTA3em0wIDUuMDE0djIuNTA3aDIuN1YyMy4yNHptMCA1LjAxNXYyLjUwN2gyLjd2LTIuNTA3em0wIDUuMDE0djIuNTA3aDIuN3YtMi41MDd6bTAgNS4wMTR2Mi41MDdoMi43di0yLjUwN3ptMi43IDUuMDE0aC0xLjg1MmExLjQgMS40IDAgMCAxIC41MDItLjA5NmgtMS4yNzV2LjA5Nkg0OC42djEuMjU0cTAtLjIzNS4wNzUtLjQ0NVY0NS45aDEuMjc1YTEuMzUgMS4zNSAwIDAgMCAxLjM1LTEuMzV6bS01LjE3NS0uMDk2aC0yLjU1djIuN2gyLjU1em0tNS4xIDBoLTIuNTV2Mi43aDIuNTV6bS01LjEgMGgtMi41NXYyLjdoMi41NXptLTUuMSAwaC0yLjU1djIuN2gyLjU1em0tNS4xIDBoLTIuNTV2Mi43aDIuNTV6bS01LjEgMGgtMi41NXYyLjdoMi41NXptLTUuMSAwaC0yLjU1djIuN2gyLjU1em0tNS4xIDBoLTIuNTV2Mi43aDIuNTV6TTE2LjIgMTcuNTVhNC4wNSA0LjA1IDAgMCAxIDQuMDUgNC4wNXYxLjM1QTQuMDUgNC4wNSAwIDAgMSAxNi4yIDI3aC0xLjM1YTQuMDUgNC4wNSAwIDAgMS00LjA1LTQuMDVWMjEuNmE0LjA1IDQuMDUgMCAwIDEgNC4wNS00LjA1em0wIDIuN2gtMS4zNWExLjM1IDEuMzUgMCAwIDAtMS4zNSAxLjM1djEuMzVjMCAuNzQ2LjYwNCAxLjM1IDEuMzUgMS4zNWgxLjM1YTEuMzUgMS4zNSAwIDAgMCAxLjM1LTEuMzVWMjEuNmExLjM1IDEuMzUgMCAwIDAtMS4zNS0xLjM1bTI3IDEuMzVhNC4wNSA0LjA1IDAgMCAwLTQuMDUtNC4wNUgyOS43YTQuMDUgNC4wNSAwIDAgMC00LjA1IDQuMDV2MS4zNUE0LjA1IDQuMDUgMCAwIDAgMjkuNyAyN2g5LjQ1YTQuMDUgNC4wNSAwIDAgMCA0LjA1LTQuMDV6bS0xMy41LTEuMzVoOS40NWMuNzQ2IDAgMS4zNS42MDQgMS4zNSAxLjM1djEuMzVhMS4zNSAxLjM1IDAgMCAxLTEuMzUgMS4zNUgyOS43YTEuMzUgMS4zNSAwIDAgMS0xLjM1LTEuMzVWMjEuNmMwLS43NDYuNjA0LTEuMzUgMS4zNS0xLjM1TTQzLjIgMzcuOGE0LjA1IDQuMDUgMCAwIDAtNC4wNS00LjA1SDI5LjdhNC4wNSA0LjA1IDAgMCAwLTQuMDUgNC4wNXYxLjM1aDIuN1YzNy44YzAtLjc0Ni42MDQtMS4zNSAxLjM1LTEuMzVoOS40NWMuNzQ2IDAgMS4zNS42MDQgMS4zNSAxLjM1djEuMzVoMi43em0tMjctNC4wNWE0LjA1IDQuMDUgMCAwIDEgNC4wNSA0LjA1djEuMzVoLTIuN1YzNy44YTEuMzUgMS4zNSAwIDAgMC0xLjM1LTEuMzVoLTEuMzVhMS4zNSAxLjM1IDAgMCAwLTEuMzUgMS4zNXYxLjM1aC0yLjdWMzcuOGE0LjA1IDQuMDUgMCAwIDEgNC4wNS00LjA1elwiLFxuICAgIGNsaXBSdWxlOiBcImV2ZW5vZGRcIlxuICB9KSkpO1xufTtcblxudmFyIF9wYXRoJGw7XG5mdW5jdGlvbiBfZXh0ZW5kcyRsKCkgeyByZXR1cm4gX2V4dGVuZHMkbCA9IE9iamVjdC5hc3NpZ24gPyBPYmplY3QuYXNzaWduLmJpbmQoKSA6IGZ1bmN0aW9uIChuKSB7IGZvciAodmFyIGUgPSAxOyBlIDwgYXJndW1lbnRzLmxlbmd0aDsgZSsrKSB7IHZhciB0ID0gYXJndW1lbnRzW2VdOyBmb3IgKHZhciByIGluIHQpICh7fSkuaGFzT3duUHJvcGVydHkuY2FsbCh0LCByKSAmJiAobltyXSA9IHRbcl0pOyB9IHJldHVybiBuOyB9LCBfZXh0ZW5kcyRsLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7IH1cbnZhciBTdmdUZXh0ID0gZnVuY3Rpb24gU3ZnVGV4dChwcm9wcykge1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgX2V4dGVuZHMkbCh7XG4gICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICB3aWR0aDogNTQsXG4gICAgaGVpZ2h0OiA1NCxcbiAgICBmaWxsOiBcImN1cnJlbnRjb2xvclwiXG4gIH0sIHByb3BzKSwgX3BhdGgkbCB8fCAoX3BhdGgkbCA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZDogXCJNMjAuNTggMzMuNzdoLTNsLTEuMTgtMy4wOEgxMWwtMS4xIDMuMDhIN2w1LjI3LTEzLjU0aDIuODl6bS01LTUuMzYtMS44Ni01LTEuODMgNXpNMjIgMjAuMjNoNS40MWExNS41IDE1LjUgMCAwIDEgMi40LjE0IDMuNCAzLjQgMCAwIDEgMS40MS41NSAzLjUgMy41IDAgMCAxIDEgMS4xNCAzIDMgMCAwIDEgLjQyIDEuNTggMy4yNiAzLjI2IDAgMCAxLTEuOTEgMi45NCAzLjYzIDMuNjMgMCAwIDEgMS45MSAxLjIyIDMuMjggMy4yOCAwIDAgMSAuNjYgMiA0IDQgMCAwIDEtLjQzIDEuOCAzLjYgMy42IDAgMCAxLTEuMDkgMS40IDMuOSAzLjkgMCAwIDEtMS44My42NXEtLjY5LjA3LTMuMy4wOUgyMnptMi43MyAyLjI1djMuMTNoMy44YTEuOCAxLjggMCAwIDAgMS4xLS40OSAxLjQgMS40IDAgMCAwIC40MS0xIDEuNSAxLjUgMCAwIDAtLjM1LTEgMS41NCAxLjU0IDAgMCAwLTEtLjQ4Yy0uMjcgMC0xLjA1LS4wNS0yLjM0LS4wNXptMCA1LjM5djMuNjJoMi41N2ExMS41IDExLjUgMCAwIDAgMS44OC0uMDkgMS42NSAxLjY1IDAgMCAwIDEtLjU0IDEuNiAxLjYgMCAwIDAgLjM4LTEuMTQgMS43NSAxLjc1IDAgMCAwLS4yOS0xIDEuNyAxLjcgMCAwIDAtLjg2LS42MiA5LjMgOS4zIDAgMCAwLTIuNDEtLjIzem0xOS42Mi45MiAyLjY1Ljg0YTUuOTQgNS45NCAwIDAgMS0yIDMuMjlBNS43NCA1Ljc0IDAgMCAxIDQxLjM4IDM0YTUuODcgNS44NyAwIDAgMS00LjQ0LTEuODQgNy4xIDcuMSAwIDAgMS0xLjczLTVBNy40MyA3LjQzIDAgMCAxIDM3IDIxLjg3IDYgNiAwIDAgMSA0MS41NCAyMGE1LjY0IDUuNjQgMCAwIDEgNCAxLjQ3QTUuMzMgNS4zMyAwIDAgMSA0NyAyNGwtMi43LjY1YTIuOCAyLjggMCAwIDAtMi44Ni0yLjI3QTMuMDkgMy4wOSAwIDAgMCAzOSAyMy40MmE1LjMgNS4zIDAgMCAwLS45MyAzLjUgNS42MiA1LjYyIDAgMCAwIC45MyAzLjY1IDMgMyAwIDAgMCAyLjQgMS4wOSAyLjcyIDIuNzIgMCAwIDAgMS44Mi0uNjYgNCA0IDAgMCAwIDEuMTMtMi4yMVwiXG4gIH0pKSk7XG59O1xuXG52YXIgX3BhdGgkaztcbmZ1bmN0aW9uIF9leHRlbmRzJGsoKSB7IHJldHVybiBfZXh0ZW5kcyRrID0gT2JqZWN0LmFzc2lnbiA/IE9iamVjdC5hc3NpZ24uYmluZCgpIDogZnVuY3Rpb24gKG4pIHsgZm9yICh2YXIgZSA9IDE7IGUgPCBhcmd1bWVudHMubGVuZ3RoOyBlKyspIHsgdmFyIHQgPSBhcmd1bWVudHNbZV07IGZvciAodmFyIHIgaW4gdCkgKHt9KS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsIHIpICYmIChuW3JdID0gdFtyXSk7IH0gcmV0dXJuIG47IH0sIF9leHRlbmRzJGsuYXBwbHkobnVsbCwgYXJndW1lbnRzKTsgfVxudmFyIFN2Z0h0bWwgPSBmdW5jdGlvbiBTdmdIdG1sKHByb3BzKSB7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInN2Z1wiLCBfZXh0ZW5kcyRrKHtcbiAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgIHdpZHRoOiA1NCxcbiAgICBoZWlnaHQ6IDU0LFxuICAgIGZpbGw6IFwibm9uZVwiXG4gIH0sIHByb3BzKSwgX3BhdGgkayB8fCAoX3BhdGgkayA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICBmaWxsUnVsZTogXCJldmVub2RkXCIsXG4gICAgZDogXCJNNDcuMDA4IDEyLjE1YzEuNjI1IDAgMi45NDIgMS4zNiAyLjk0MiAzLjAzOXYyMy42MjJjMCAxLjY3OC0xLjMxNyAzLjAzOS0yLjk0MiAzLjAzOUg2Ljk5MmMtMS42MjUgMC0yLjk0Mi0xLjM2LTIuOTQyLTMuMDM5VjE1LjE4OWMwLTEuNjc4IDEuMzE3LTMuMDM5IDIuOTQyLTMuMDM5em0wIDIuMDI2SDYuOTkyYy0uNTQyIDAtLjk4LjQ1NC0uOTggMS4wMTNWMTYuMmgtLjAwNHYyLjdoLjAwM3YxOS45MTFjMCAuNTYuNDQgMS4wMTMuOTggMS4wMTNoNDAuMDE3Yy41NDIgMCAuOTgtLjQ1My45OC0xLjAxM1YxOC45aC4wMDV2LTIuN2gtLjAwNHYtMS4wMTFjMC0uNTYtLjQ0LTEuMDEzLS45OC0xLjAxM00xNC45MzQgMjYuMDU1di0zLjc4aDIuMTk0djkuNDVoLTIuMTk0di0zLjc4aC0zLjI5djMuNzhIOS40NXYtOS40NWgyLjE5NHYzLjc4em00LjM4OC0xLjg5aDIuMTk0djcuNTZoMi4xOTN2LTcuNTZoMi4xOTR2LTEuODloLTYuNTgxem0xNC4yNi0xLjg5aDIuMTkzdjkuNDVoLTIuMTk0VjI1LjExbC0xLjY0NSAzLjc4LTEuNjQ1LTMuNzh2Ni42MTVoLTIuMTk0di05LjQ1aDIuMTk0bDEuNjQ1IDMuNzh6bTQuMzg3IDBoMi4xOTR2Ny41Nmg0LjM4N3YxLjg5aC02LjU4MXpcIixcbiAgICBjbGlwUnVsZTogXCJldmVub2RkXCJcbiAgfSkpKTtcbn07XG5cbnZhciBfcGF0aCRqO1xuZnVuY3Rpb24gX2V4dGVuZHMkaigpIHsgcmV0dXJuIF9leHRlbmRzJGogPSBPYmplY3QuYXNzaWduID8gT2JqZWN0LmFzc2lnbi5iaW5kKCkgOiBmdW5jdGlvbiAobikgeyBmb3IgKHZhciBlID0gMTsgZSA8IGFyZ3VtZW50cy5sZW5ndGg7IGUrKykgeyB2YXIgdCA9IGFyZ3VtZW50c1tlXTsgZm9yICh2YXIgciBpbiB0KSAoe30pLmhhc093blByb3BlcnR5LmNhbGwodCwgcikgJiYgKG5bcl0gPSB0W3JdKTsgfSByZXR1cm4gbjsgfSwgX2V4dGVuZHMkai5hcHBseShudWxsLCBhcmd1bWVudHMpOyB9XG52YXIgU3ZnRXhwcmVzc2lvbkZpZWxkID0gZnVuY3Rpb24gU3ZnRXhwcmVzc2lvbkZpZWxkKHByb3BzKSB7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInN2Z1wiLCBfZXh0ZW5kcyRqKHtcbiAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgIHdpZHRoOiA1NCxcbiAgICBoZWlnaHQ6IDU0LFxuICAgIGZpbGw6IFwibm9uZVwiXG4gIH0sIHByb3BzKSwgX3BhdGgkaiB8fCAoX3BhdGgkaiA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZmlsbDogXCJjdXJyZW50Y29sb3JcIixcbiAgICBmaWxsUnVsZTogXCJldmVub2RkXCIsXG4gICAgZDogXCJNMTIuNzggMTYuMnY2Ljc1YzAgMS42MTktLjYzNSAzLjA1OS0xLjYxOCA0LjA1Ljk4My45OTEgMS42MTggMi40MzEgMS42MTggNC4wNXY2Ljc1aDMuNTF2Mi43aC0zLjUxYy0xLjI4OSAwLTIuMzQtMS4yMTMtMi4zNC0yLjd2LTYuNzVjMC0xLjQ4Ny0xLjA1MS0yLjctMi4zNC0yLjd2LTIuN2MxLjI4OSAwIDIuMzQtMS4yMTMgMi4zNC0yLjdWMTYuMmMwLTEuNDg3IDEuMDUxLTIuNyAyLjM0LTIuN2gzLjUxdjIuN3ptMzAuNzggMHY2Ljc1YzAgMS40ODcgMS4wNTEgMi43IDIuMzQgMi43djIuN2MtMS4yODkgMC0yLjM0IDEuMjEzLTIuMzQgMi43djYuNzVjMCAxLjQ4Ny0xLjA1MSAyLjctMi4zNCAyLjdoLTMuNTF2LTIuN2gzLjUxdi02Ljc1YzAtMS42MTkuNjM1LTMuMDU5IDEuNjE4LTQuMDUtLjk4My0uOTkxLTEuNjE4LTIuNDMxLTEuNjE4LTQuMDVWMTYuMmgtMy41MXYtMi43aDMuNTFjMS4yODkgMCAyLjM0IDEuMjEzIDIuMzQgMi43TTIxLjggMzQuNTMxcS43LS41NjkuOTU5LTEuNzU4bDEuNzg4LTguMzRoMS41ODVsLjM4Ny0xLjgyOGgtMS41ODVsLjQwNS0xLjg3OGgxLjU4NWwuMzg3LTEuODI3SDI1LjY5cS0xLjI3MSAwLTEuOTcyLjU2OS0uNjgxLjU2OS0uOTQgMS43NThsLS4yOTQgMS4zNzhIMjEuMzRsLS4zODcgMS44MjdoMS4xNDJsLTEuODk4IDguODQxaC0xLjU4NWwtLjM4NyAxLjgyN2gxLjYyMnExLjI3MiAwIDEuOTUzLS41NjltNy4yNDgtNy42ODYtMy43OTcgNC44MDhoMi41OTlsMi4xMi0zLjAxNmguMjJsLjg4NSAzLjAxNmgyLjU5OWwtMS42NzctNC4zNiAzLjc3OC00LjY4OGgtMi41OTlsLTIuMTIgMi45NDdoLS4yMmwtLjg4NS0yLjk0N2gtMi41OTl6XCIsXG4gICAgY2xpcFJ1bGU6IFwiZXZlbm9kZFwiXG4gIH0pKSk7XG59O1xuXG52YXIgX3BhdGgkaTtcbmZ1bmN0aW9uIF9leHRlbmRzJGkoKSB7IHJldHVybiBfZXh0ZW5kcyRpID0gT2JqZWN0LmFzc2lnbiA/IE9iamVjdC5hc3NpZ24uYmluZCgpIDogZnVuY3Rpb24gKG4pIHsgZm9yICh2YXIgZSA9IDE7IGUgPCBhcmd1bWVudHMubGVuZ3RoOyBlKyspIHsgdmFyIHQgPSBhcmd1bWVudHNbZV07IGZvciAodmFyIHIgaW4gdCkgKHt9KS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsIHIpICYmIChuW3JdID0gdFtyXSk7IH0gcmV0dXJuIG47IH0sIF9leHRlbmRzJGkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTsgfVxudmFyIFN2Z1RleHRmaWVsZCA9IGZ1bmN0aW9uIFN2Z1RleHRmaWVsZChwcm9wcykge1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgX2V4dGVuZHMkaSh7XG4gICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICB3aWR0aDogNTQsXG4gICAgaGVpZ2h0OiA1NCxcbiAgICBmaWxsOiBcImN1cnJlbnRjb2xvclwiXG4gIH0sIHByb3BzKSwgX3BhdGgkaSB8fCAoX3BhdGgkaSA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgIGQ6IFwiTTQ1IDE2YTMgMyAwIDAgMSAzIDN2MTZhMyAzIDAgMCAxLTMgM0g5YTMgMyAwIDAgMS0zLTNWMTlhMyAzIDAgMCAxIDMtM3ptMCAySDlhMSAxIDAgMCAwLTEgMXYxNmExIDEgMCAwIDAgMSAxaDM2YTEgMSAwIDAgMCAxLTFWMTlhMSAxIDAgMCAwLTEtMW0tMzIgNHYxMGgtMlYyMnpcIlxuICB9KSkpO1xufTtcblxudmFyIF9wYXRoJGg7XG5mdW5jdGlvbiBfZXh0ZW5kcyRoKCkgeyByZXR1cm4gX2V4dGVuZHMkaCA9IE9iamVjdC5hc3NpZ24gPyBPYmplY3QuYXNzaWduLmJpbmQoKSA6IGZ1bmN0aW9uIChuKSB7IGZvciAodmFyIGUgPSAxOyBlIDwgYXJndW1lbnRzLmxlbmd0aDsgZSsrKSB7IHZhciB0ID0gYXJndW1lbnRzW2VdOyBmb3IgKHZhciByIGluIHQpICh7fSkuaGFzT3duUHJvcGVydHkuY2FsbCh0LCByKSAmJiAobltyXSA9IHRbcl0pOyB9IHJldHVybiBuOyB9LCBfZXh0ZW5kcyRoLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7IH1cbnZhciBTdmdUZXh0YXJlYSA9IGZ1bmN0aW9uIFN2Z1RleHRhcmVhKHByb3BzKSB7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInN2Z1wiLCBfZXh0ZW5kcyRoKHtcbiAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgIHdpZHRoOiA1NCxcbiAgICBoZWlnaHQ6IDU0LFxuICAgIGZpbGw6IFwiY3VycmVudGNvbG9yXCJcbiAgfSwgcHJvcHMpLCBfcGF0aCRoIHx8IChfcGF0aCRoID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBmaWxsUnVsZTogXCJldmVub2RkXCIsXG4gICAgZDogXCJNNDUgMTNhMyAzIDAgMCAxIDMgM3YyMmEzIDMgMCAwIDEtMyAzSDlhMyAzIDAgMCAxLTMtM1YxNmEzIDMgMCAwIDEgMy0zem0wIDJIOWExIDEgMCAwIDAtMSAxdjIyYTEgMSAwIDAgMCAxIDFoMzZhMSAxIDAgMCAwIDEtMVYxNmExIDEgMCAwIDAtMS0xbS0xLjEzNiAxNS41Ljg0OS44NDktNi4zNjQgNi4zNjQtLjg0OS0uODQ5em0uMjY0IDMuNS44NDkuODQ5LTIuODI4IDIuODI4LS44NDktLjg0OXpNMTMgMTl2MTBoLTJWMTl6XCJcbiAgfSkpKTtcbn07XG5cbnZhciBfcGF0aCRnO1xuZnVuY3Rpb24gX2V4dGVuZHMkZygpIHsgcmV0dXJuIF9leHRlbmRzJGcgPSBPYmplY3QuYXNzaWduID8gT2JqZWN0LmFzc2lnbi5iaW5kKCkgOiBmdW5jdGlvbiAobikgeyBmb3IgKHZhciBlID0gMTsgZSA8IGFyZ3VtZW50cy5sZW5ndGg7IGUrKykgeyB2YXIgdCA9IGFyZ3VtZW50c1tlXTsgZm9yICh2YXIgciBpbiB0KSAoe30pLmhhc093blByb3BlcnR5LmNhbGwodCwgcikgJiYgKG5bcl0gPSB0W3JdKTsgfSByZXR1cm4gbjsgfSwgX2V4dGVuZHMkZy5hcHBseShudWxsLCBhcmd1bWVudHMpOyB9XG52YXIgU3ZnSUZyYW1lID0gZnVuY3Rpb24gU3ZnSUZyYW1lKHByb3BzKSB7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInN2Z1wiLCBfZXh0ZW5kcyRnKHtcbiAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgIHdpZHRoOiA1NCxcbiAgICBoZWlnaHQ6IDU0LFxuICAgIGZpbGw6IFwibm9uZVwiXG4gIH0sIHByb3BzKSwgX3BhdGgkZyB8fCAoX3BhdGgkZyA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICBmaWxsUnVsZTogXCJldmVub2RkXCIsXG4gICAgZDogXCJNNDUuNjU4IDkuNDVjMS42MjUgMCAyLjk0MiAxLjM2IDIuOTQyIDMuMDM5VjIyLjk1aC0xLjk2MXYtNC4zODNINy4zNlY0MS41MWMwIC41Ni40NCAxLjAxMy45OCAxLjAxM0gyN3YyLjAyNkg4LjM0MmMtMS42MjUgMC0yLjk0Mi0xLjM2LTIuOTQyLTMuMDM5VjEyLjQ4OWMwLTEuNjc4IDEuMzE3LTMuMDM5IDIuOTQyLTMuMDM5em0wIDIuMDI2SDguMzQyYy0uNTQyIDAtLjk4LjQ1NC0uOTggMS4wMTN2NC4wNTJoMzkuMjc3di00LjA1MmMwLS41Ni0uNDQtMS4wMTMtLjk4LTEuMDEzWk0zMS4wNSAzNS43NzVBOC43NyA4Ljc3IDAgMCAxIDM5LjgyNSAyN2E4Ljc3IDguNzcgMCAwIDEgOC43NzUgOC43NzUgOC43NyA4Ljc3IDAgMCAxLTguNzc1IDguNzc1IDguNzcgOC43NyAwIDAgMS04Ljc3NS04Ljc3NW0xMi4zODgtLjUxNmgzLjA5N2MtLjIwNi0yLjU4MS0xLjg1OC00LjY0Ni00LjAyNi01LjY3OC42MiAxLjU0OC45MyAzLjYxMy45MyA1LjY3OFptLTUuMTYyIDIuMDY1Yy4yMDcgMy4zMDMgMS4xMzYgNC45NTUgMS41NDkgNS4xNjEuNDEzLS4yMDYgMS4yMzktMS44NTggMS40NDUtNS4xNjF6bTEuNDQ2LTguMjZjLS4zMS4yMDctMS4zNDIgMi4yNzItMS40NDYgNi4xOTVoMi45OTRjLS4xMDMtMy45MjMtMS4xMzUtNS45ODgtMS41NDgtNi4xOTRabS0zLjUxIDYuMTk1Yy4xMDMtMi4wNjUuMzEtNC4xMy45MjktNS42NzgtMi4xNjggMS4wMzItMy44MiAzLjA5Ny00LjAyNiA1LjY3OHptMCAyLjA2NWgtMi44OWMuNTE1IDIuMDY0IDEuOTYgMy44MiAzLjgxOSA0LjY0NS0uNTE2LTEuMzQyLS44MjYtMi45OTQtLjkzLTQuNjQ1Wm03LjIyNiAwcS0uMTU1IDIuNjMyLS45MjkgNC42NDVjMS44NTgtLjgyNiAzLjMwNC0yLjU4IDMuOTIzLTQuNjQ1elwiLFxuICAgIGNsaXBSdWxlOiBcImV2ZW5vZGRcIlxuICB9KSkpO1xufTtcblxudmFyIF9wYXRoJGYsIF9wYXRoMiQxO1xuZnVuY3Rpb24gX2V4dGVuZHMkZigpIHsgcmV0dXJuIF9leHRlbmRzJGYgPSBPYmplY3QuYXNzaWduID8gT2JqZWN0LmFzc2lnbi5iaW5kKCkgOiBmdW5jdGlvbiAobikgeyBmb3IgKHZhciBlID0gMTsgZSA8IGFyZ3VtZW50cy5sZW5ndGg7IGUrKykgeyB2YXIgdCA9IGFyZ3VtZW50c1tlXTsgZm9yICh2YXIgciBpbiB0KSAoe30pLmhhc093blByb3BlcnR5LmNhbGwodCwgcikgJiYgKG5bcl0gPSB0W3JdKTsgfSByZXR1cm4gbjsgfSwgX2V4dGVuZHMkZi5hcHBseShudWxsLCBhcmd1bWVudHMpOyB9XG52YXIgU3ZnSW1hZ2UgPSBmdW5jdGlvbiBTdmdJbWFnZShwcm9wcykge1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgX2V4dGVuZHMkZih7XG4gICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICB3aWR0aDogNTQsXG4gICAgaGVpZ2h0OiA1NCxcbiAgICBmaWxsOiBcImN1cnJlbnRjb2xvclwiXG4gIH0sIHByb3BzKSwgX3BhdGgkZiB8fCAoX3BhdGgkZiA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgIGQ6IFwiTTM0LjYzNiAyMS45MUEzLjgxOCAzLjgxOCAwIDEgMSAyNyAyMS45MDhhMy44MTggMy44MTggMCAwIDEgNy42MzYgMFptLTIgMEExLjgxOCAxLjgxOCAwIDEgMSAyOSAyMS45MDhhMS44MTggMS44MTggMCAwIDEgMy42MzYgMFpcIixcbiAgICBjbGlwUnVsZTogXCJldmVub2RkXCJcbiAgfSkpLCBfcGF0aDIkMSB8fCAoX3BhdGgyJDEgPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIixcbiAgICBkOiBcIk0xNSAxM2EyIDIgMCAwIDAtMiAydjI0YTIgMiAwIDAgMCAyIDJoMjRhMiAyIDAgMCAwIDItMlYxNWEyIDIgMCAwIDAtMi0yem0yNCAySDE1djEyLjQ1bDQuNzEtNC43MDlhMS45MSAxLjkxIDAgMCAxIDIuNzAyIDBsNi42OTUgNi42OTUgMi42NTYtMS43N2ExLjkxIDEuOTEgMCAwIDEgMi40MTEuMjM5TDM5IDMyLjczek0xNSAzOXYtOC43NTRhMSAxIDAgMCAwIC4xNjgtLjEzNWw1Ljg5My01Ljg5MyA2LjY4NCA2LjY4NWExLjkxIDEuOTEgMCAwIDAgMi40MS4yMzhsMi42NTctMS43NyA2LjAyIDYuMDJxLjA3OC4wNzcuMTY4LjEzNVYzOXpcIixcbiAgICBjbGlwUnVsZTogXCJldmVub2RkXCJcbiAgfSkpKTtcbn07XG5cbnZhciBfcGF0aCRlO1xuZnVuY3Rpb24gX2V4dGVuZHMkZSgpIHsgcmV0dXJuIF9leHRlbmRzJGUgPSBPYmplY3QuYXNzaWduID8gT2JqZWN0LmFzc2lnbi5iaW5kKCkgOiBmdW5jdGlvbiAobikgeyBmb3IgKHZhciBlID0gMTsgZSA8IGFyZ3VtZW50cy5sZW5ndGg7IGUrKykgeyB2YXIgdCA9IGFyZ3VtZW50c1tlXTsgZm9yICh2YXIgciBpbiB0KSAoe30pLmhhc093blByb3BlcnR5LmNhbGwodCwgcikgJiYgKG5bcl0gPSB0W3JdKTsgfSByZXR1cm4gbjsgfSwgX2V4dGVuZHMkZS5hcHBseShudWxsLCBhcmd1bWVudHMpOyB9XG52YXIgU3ZnVGFibGUgPSBmdW5jdGlvbiBTdmdUYWJsZShwcm9wcykge1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgX2V4dGVuZHMkZSh7XG4gICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICBmaWxsOiBcIm5vbmVcIixcbiAgICB2aWV3Qm94OiBcIjAgMCA1NCA1NFwiXG4gIH0sIHByb3BzKSwgX3BhdGgkZSB8fCAoX3BhdGgkZSA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZmlsbDogXCJjdXJyZW50Y29sb3JcIixcbiAgICBmaWxsUnVsZTogXCJldmVub2RkXCIsXG4gICAgZDogXCJNNDIuNTQ1IDEyLjI3M0EyLjQ1NSAyLjQ1NSAwIDAgMSA0NSAxNC43Mjd2MjQuNTQ2YTIuNDU1IDIuNDU1IDAgMCAxLTIuNDU1IDIuNDU0aC0zMS4wOUEyLjQ1NSAyLjQ1NSAwIDAgMSA5IDM5LjI3M1YxNC43MjdhMi40NTUgMi40NTUgMCAwIDEgMi40NTUtMi40NTR6TTI3LjgxOCA0MC4wOWgxNC43MjdhLjgyLjgyIDAgMCAwIC44MTktLjgxOHYtNC45MUgyNy44MThabS0xLjYzNi01LjcyN3Y1LjcyN0gxMS40NTVhLjgyLjgyIDAgMCAxLS44MTktLjgxOHYtNC45MXptMS42MzYtMS42MzdoMTUuNTQ2VjI3SDI3LjgxOFpNMjYuMTgyIDI3djUuNzI3SDEwLjYzNlYyN3ptMS42MzYtMS42MzZoMTUuNTQ2di01LjcyOEgyNy44MThabS0xLjYzNi01LjcyOHY1LjcyOEgxMC42MzZ2LTUuNzI4elwiLFxuICAgIGNsaXBSdWxlOiBcImV2ZW5vZGRcIlxuICB9KSkpO1xufTtcblxudmFyIF9wYXRoJGQ7XG5mdW5jdGlvbiBfZXh0ZW5kcyRkKCkgeyByZXR1cm4gX2V4dGVuZHMkZCA9IE9iamVjdC5hc3NpZ24gPyBPYmplY3QuYXNzaWduLmJpbmQoKSA6IGZ1bmN0aW9uIChuKSB7IGZvciAodmFyIGUgPSAxOyBlIDwgYXJndW1lbnRzLmxlbmd0aDsgZSsrKSB7IHZhciB0ID0gYXJndW1lbnRzW2VdOyBmb3IgKHZhciByIGluIHQpICh7fSkuaGFzT3duUHJvcGVydHkuY2FsbCh0LCByKSAmJiAobltyXSA9IHRbcl0pOyB9IHJldHVybiBuOyB9LCBfZXh0ZW5kcyRkLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7IH1cbnZhciBTdmdGaWxlUGlja2VyID0gZnVuY3Rpb24gU3ZnRmlsZVBpY2tlcihwcm9wcykge1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgX2V4dGVuZHMkZCh7XG4gICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICB3aWR0aDogNTQsXG4gICAgaGVpZ2h0OiA1NCxcbiAgICBmaWxsOiBcIm5vbmVcIlxuICB9LCBwcm9wcyksIF9wYXRoJGQgfHwgKF9wYXRoJGQgPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGZpbGw6IFwiY3VycmVudGNvbG9yXCIsXG4gICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgIGQ6IFwiTTE3LjU1IDQxLjE3NUgyN3YyLjM2MmgtOS40NWEyLjM3IDIuMzcgMCAwIDEtMi4zNjMtMi4zNjJ2LTI4LjM1YTIuMzcgMi4zNyAwIDAgMSAyLjM2My0yLjM2M2gxMS44MTNhMS4wNyAxLjA3IDAgMCAxIC44MjYuMzU1bDguMjcgOC4yNjlhMS4wNyAxLjA3IDAgMCAxIC4zNTMuODI2djUuOTA3SDM2LjQ1di0zLjU0NGgtNy4wODhBMi4zNyAyLjM3IDAgMCAxIDI3IDE5LjkxMnYtNy4wODdoLTkuNDV6bTE4LjQyNy0yMS4yNjMtNi42MTQtNi42MTV2Ni42MTV6bTQuMjUzIDE4LjY2NCAzLjMwOCAzLjMwOC0xLjY1NCAxLjY1My0zLjMwOC0zLjMwN2E2LjM1IDYuMzUgMCAwIDEtMy4zMDcuOTQ1Yy0zLjMwOCAwLTUuOTA2LTIuNTk5LTUuOTA2LTUuOTA2IDAtMy4zMDggMi41OTgtNS45MDcgNS45MDYtNS45MDdzNS45MDYgMi42IDUuOTA2IDUuOTA3YTYuMzUgNi4zNSAwIDAgMS0uOTQ1IDMuMzA3bS00Ljk2MS02Ljg1MWMtMi4wMDggMC0zLjU0NCAxLjUzNi0zLjU0NCAzLjU0NHMxLjUzNiAzLjU0MyAzLjU0NCAzLjU0MyAzLjU0NC0xLjUzNSAzLjU0NC0zLjU0My0xLjUzNi0zLjU0NC0zLjU0NC0zLjU0NFwiLFxuICAgIGNsaXBSdWxlOiBcImV2ZW5vZGRcIlxuICB9KSkpO1xufTtcblxudmFyIF9wYXRoJGM7XG5mdW5jdGlvbiBfZXh0ZW5kcyRjKCkgeyByZXR1cm4gX2V4dGVuZHMkYyA9IE9iamVjdC5hc3NpZ24gPyBPYmplY3QuYXNzaWduLmJpbmQoKSA6IGZ1bmN0aW9uIChuKSB7IGZvciAodmFyIGUgPSAxOyBlIDwgYXJndW1lbnRzLmxlbmd0aDsgZSsrKSB7IHZhciB0ID0gYXJndW1lbnRzW2VdOyBmb3IgKHZhciByIGluIHQpICh7fSkuaGFzT3duUHJvcGVydHkuY2FsbCh0LCByKSAmJiAobltyXSA9IHRbcl0pOyB9IHJldHVybiBuOyB9LCBfZXh0ZW5kcyRjLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7IH1cbnZhciBTdmdEb2N1bWVudFByZXZpZXcgPSBmdW5jdGlvbiBTdmdEb2N1bWVudFByZXZpZXcocHJvcHMpIHtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIF9leHRlbmRzJGMoe1xuICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgd2lkdGg6IDU0LFxuICAgIGhlaWdodDogNTQsXG4gICAgZmlsbDogXCJub25lXCJcbiAgfSwgcHJvcHMpLCBfcGF0aCRjIHx8IChfcGF0aCRjID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBmaWxsOiBcImN1cnJlbnRjb2xvclwiLFxuICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIixcbiAgICBkOiBcIk0xNy41NSA0MS4xNzVoNi43NXYyLjM2M2gtNi43NWEyLjM3IDIuMzcgMCAwIDEtMi4zNjMtMi4zNjN2LTI4LjM1YTIuMzcgMi4zNyAwIDAgMSAyLjM2My0yLjM2MmgxMS44MTNhMS4wNyAxLjA3IDAgMCAxIC44MjYuMzU0bDguMjcgOC4yNjlhMS4wNyAxLjA3IDAgMCAxIC4zNTMuODI3djcuMjU2SDM2LjQ1di00Ljg5NGgtNy4wODhBMi4zNyAyLjM3IDAgMCAxIDI3IDE5LjkxM3YtNy4wODhoLTkuNDV6bTE4LjQyNy0yMS4yNjItNi42MTQtNi42MTZ2Ni42MTZ6bS0yLjIxMiAxMC41NjQtLjAxNS0uMDAxaC0uMDE1YTguODYgOC44NiAwIDAgMC03LjkyNiA1LjY1NmwtLjAwMy4wMDhhLjkuOSAwIDAgMCAwIC42MmwuMDAzLjAwOGE4Ljg1IDguODUgMCAwIDAgNy45MjYgNS42NTVsLjAxNS4wMDFoLjAxNWE4Ljg2IDguODYgMCAwIDAgNy45MjYtNS42NTZsLjAwMy0uMDA4YS45LjkgMCAwIDAgMC0uNjJsLS4wMDMtLjAwOGE4Ljg1IDguODUgMCAwIDAtNy45MjYtNS42NTVNMzMuNzUgNDAuNmMtMi40NTYgMC01LjA4OC0xLjgwMi02LjEwNy00LjE1MSAxLjAxOS0yLjM0OSAzLjY1MS00LjE1MSA2LjEwNy00LjE1MXM1LjA4OCAxLjgwMiA2LjEwNyA0LjE1MWMtMS4wMTkgMi4zNDktMy42NSA0LjE1MS02LjEwNyA0LjE1MW0wLTcuNTkzYTMuNDQzIDMuNDQzIDAgMSAwIDAgNi44ODUgMy40NDMgMy40NDMgMCAwIDAgMC02Ljg4NlptLS4zMTYgMS44NTNhMS42MiAxLjYyIDAgMSAxIC42MzIgMy4xNzggMS42MiAxLjYyIDAgMCAxLS42MzItMy4xNzhcIixcbiAgICBjbGlwUnVsZTogXCJldmVub2RkXCJcbiAgfSkpKTtcbn07XG5cbmNvbnN0IGljb25zQnlUeXBlID0gdHlwZSA9PiB7XG4gIHJldHVybiB7XG4gICAgYnV0dG9uOiBTdmdCdXR0b24sXG4gICAgY2hlY2tib3g6IFN2Z0NoZWNrYm94LFxuICAgIGNoZWNrbGlzdDogU3ZnQ2hlY2tsaXN0LFxuICAgIGNvbHVtbnM6IFN2Z0dyb3VwLFxuICAgIGRhdGV0aW1lOiBTdmdEYXRldGltZSxcbiAgICBncm91cDogU3ZnR3JvdXAsXG4gICAgaWZyYW1lOiBTdmdJRnJhbWUsXG4gICAgaW1hZ2U6IFN2Z0ltYWdlLFxuICAgIG51bWJlcjogU3ZnTnVtYmVyLFxuICAgIGV4cHJlc3Npb246IFN2Z0V4cHJlc3Npb25GaWVsZCxcbiAgICByYWRpbzogU3ZnUmFkaW8sXG4gICAgc2VsZWN0OiBTdmdTZWxlY3QsXG4gICAgc2VwYXJhdG9yOiBTdmdTZXBhcmF0b3IsXG4gICAgc3BhY2VyOiBTdmdTcGFjZXIsXG4gICAgZHluYW1pY2xpc3Q6IFN2Z0R5bmFtaWNMaXN0LFxuICAgIHRhZ2xpc3Q6IFN2Z1RhZ2xpc3QsXG4gICAgdGV4dDogU3ZnVGV4dCxcbiAgICBodG1sOiBTdmdIdG1sLFxuICAgIHRleHRmaWVsZDogU3ZnVGV4dGZpZWxkLFxuICAgIHRleHRhcmVhOiBTdmdUZXh0YXJlYSxcbiAgICB0YWJsZTogU3ZnVGFibGUsXG4gICAgZmlsZXBpY2tlcjogU3ZnRmlsZVBpY2tlcixcbiAgICBkb2N1bWVudFByZXZpZXc6IFN2Z0RvY3VtZW50UHJldmlldyxcbiAgICBkZWZhdWx0OiBTdmdGb3JtXG4gIH1bdHlwZV07XG59O1xuXG5jb25zdCB0eXBlJGUgPSAnaW1hZ2UnO1xuZnVuY3Rpb24gSW1hZ2UocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGZpZWxkXG4gIH0gPSBwcm9wcztcbiAgY29uc3Qge1xuICAgIGFsdCxcbiAgICBpZCxcbiAgICBzb3VyY2VcbiAgfSA9IGZpZWxkO1xuICBjb25zdCBJY29uID0gaWNvbnNCeVR5cGUoZmllbGQudHlwZSk7XG4gIGNvbnN0IGV2YWx1YXRlZEltYWdlU291cmNlID0gdXNlU2luZ2xlTGluZVRlbXBsYXRlRXZhbHVhdGlvbihzb3VyY2UsIHtcbiAgICBkZWJ1ZzogdHJ1ZVxuICB9KTtcbiAgY29uc3Qgc2FmZVNvdXJjZSA9IHVzZU1lbW8oKCkgPT4gc2FuaXRpemVJbWFnZVNvdXJjZShldmFsdWF0ZWRJbWFnZVNvdXJjZSksIFtldmFsdWF0ZWRJbWFnZVNvdXJjZV0pO1xuICBjb25zdCBhbHRUZXh0ID0gdXNlU2luZ2xlTGluZVRlbXBsYXRlRXZhbHVhdGlvbihhbHQsIHtcbiAgICBkZWJ1ZzogdHJ1ZVxuICB9KTtcbiAgY29uc3Qge1xuICAgIGZvcm1JZFxuICB9ID0gdXNlQ29udGV4dChGb3JtQ29udGV4dCk7XG4gIHJldHVybiBqc3hzKFwiZGl2XCIsIHtcbiAgICBjbGFzczogZm9ybUZpZWxkQ2xhc3Nlcyh0eXBlJGUpLFxuICAgIGNoaWxkcmVuOiBbc2FmZVNvdXJjZSAmJiBqc3goXCJkaXZcIiwge1xuICAgICAgY2xhc3M6IFwiZmpzLWltYWdlLWNvbnRhaW5lclwiLFxuICAgICAgY2hpbGRyZW46IGpzeChcImltZ1wiLCB7XG4gICAgICAgIGFsdDogYWx0VGV4dCxcbiAgICAgICAgc3JjOiBzYWZlU291cmNlLFxuICAgICAgICBjbGFzczogXCJmanMtaW1hZ2VcIixcbiAgICAgICAgaWQ6IHByZWZpeElkKGlkLCBmb3JtSWQpXG4gICAgICB9KVxuICAgIH0pLCAhc2FmZVNvdXJjZSAmJiBqc3goXCJkaXZcIiwge1xuICAgICAgY2xhc3M6IFwiZmpzLWltYWdlLXBsYWNlaG9sZGVyXCIsXG4gICAgICBjaGlsZHJlbjoganN4KFwic3BhblwiLCB7XG4gICAgICAgIGNsYXNzOiBcImZqcy1pbWFnZS1wbGFjZWhvbGRlci1pbm5lclwiLFxuICAgICAgICBjaGlsZHJlbjoganN4KEljb24sIHtcbiAgICAgICAgICBhbHQ6IFwiVGhpcyBpcyBhbiBpbWFnZSBwbGFjZWhvbGRlclwiLFxuICAgICAgICAgIHdpZHRoOiBcIjMyXCIsXG4gICAgICAgICAgaGVpZ2h0OiBcIjMyXCIsXG4gICAgICAgICAgdmlld0JveDogXCIwIDAgNTYgNTZcIlxuICAgICAgICB9KVxuICAgICAgfSlcbiAgICB9KV1cbiAgfSk7XG59XG5JbWFnZS5jb25maWcgPSB7XG4gIHR5cGU6IHR5cGUkZSxcbiAga2V5ZWQ6IGZhbHNlLFxuICBuYW1lOiAnSW1hZ2UgdmlldycsXG4gIGdyb3VwOiAncHJlc2VudGF0aW9uJyxcbiAgY3JlYXRlOiAob3B0aW9ucyA9IHt9KSA9PiBvcHRpb25zLFxuICBnZXRTdWJoZWFkaW5nOiBmaWVsZCA9PiBmaWVsZC5hbHRcbn07XG5cbmZ1bmN0aW9uIFRlbXBsYXRlZElucHV0QWRvcm5lcihwcm9wcykge1xuICBjb25zdCB7XG4gICAgcHJlLFxuICAgIHBvc3RcbiAgfSA9IHByb3BzO1xuICBjb25zdCBldmFsdWF0ZWRQcmUgPSB1c2VTaW5nbGVMaW5lVGVtcGxhdGVFdmFsdWF0aW9uKHByZSwge1xuICAgIGRlYnVnOiB0cnVlXG4gIH0pO1xuICBjb25zdCBldmFsdWF0ZWRQb3N0ID0gdXNlU2luZ2xlTGluZVRlbXBsYXRlRXZhbHVhdGlvbihwb3N0LCB7XG4gICAgZGVidWc6IHRydWVcbiAgfSk7XG4gIHJldHVybiBqc3goSW5wdXRBZG9ybmVyLCB7XG4gICAgLi4ucHJvcHMsXG4gICAgcHJlOiBldmFsdWF0ZWRQcmUsXG4gICAgcG9zdDogZXZhbHVhdGVkUG9zdFxuICB9KTtcbn1cblxudmFyIF9wYXRoJGI7XG5mdW5jdGlvbiBfZXh0ZW5kcyRiKCkgeyByZXR1cm4gX2V4dGVuZHMkYiA9IE9iamVjdC5hc3NpZ24gPyBPYmplY3QuYXNzaWduLmJpbmQoKSA6IGZ1bmN0aW9uIChuKSB7IGZvciAodmFyIGUgPSAxOyBlIDwgYXJndW1lbnRzLmxlbmd0aDsgZSsrKSB7IHZhciB0ID0gYXJndW1lbnRzW2VdOyBmb3IgKHZhciByIGluIHQpICh7fSkuaGFzT3duUHJvcGVydHkuY2FsbCh0LCByKSAmJiAobltyXSA9IHRbcl0pOyB9IHJldHVybiBuOyB9LCBfZXh0ZW5kcyRiLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7IH1cbnZhciBTdmdBbmdlbERvd24gPSBmdW5jdGlvbiBTdmdBbmdlbERvd24ocHJvcHMpIHtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIF9leHRlbmRzJGIoe1xuICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgd2lkdGg6IDgsXG4gICAgaGVpZ2h0OiA4XG4gIH0sIHByb3BzKSwgX3BhdGgkYiB8fCAoX3BhdGgkYiA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICBmaWxsUnVsZTogXCJldmVub2RkXCIsXG4gICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgIHN0cm9rZVdpZHRoOiAwLjUsXG4gICAgZDogXCJNNy43NSAxLjMzNiA0IDYuMTI1LjI1OCAxLjMzNSAwIDEuNTRsNCA1LjEyNUw4IDEuNTRabTAgMFwiLFxuICAgIGNsaXBSdWxlOiBcImV2ZW5vZGRcIlxuICB9KSkpO1xufTtcblxudmFyIF9wYXRoJGE7XG5mdW5jdGlvbiBfZXh0ZW5kcyRhKCkgeyByZXR1cm4gX2V4dGVuZHMkYSA9IE9iamVjdC5hc3NpZ24gPyBPYmplY3QuYXNzaWduLmJpbmQoKSA6IGZ1bmN0aW9uIChuKSB7IGZvciAodmFyIGUgPSAxOyBlIDwgYXJndW1lbnRzLmxlbmd0aDsgZSsrKSB7IHZhciB0ID0gYXJndW1lbnRzW2VdOyBmb3IgKHZhciByIGluIHQpICh7fSkuaGFzT3duUHJvcGVydHkuY2FsbCh0LCByKSAmJiAobltyXSA9IHRbcl0pOyB9IHJldHVybiBuOyB9LCBfZXh0ZW5kcyRhLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7IH1cbnZhciBTdmdBbmdlbFVwID0gZnVuY3Rpb24gU3ZnQW5nZWxVcChwcm9wcykge1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgX2V4dGVuZHMkYSh7XG4gICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICB3aWR0aDogOCxcbiAgICBoZWlnaHQ6IDhcbiAgfSwgcHJvcHMpLCBfcGF0aCRhIHx8IChfcGF0aCRhID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIixcbiAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgc3Ryb2tlV2lkdGg6IDAuNSxcbiAgICBkOiBcIk03Ljc1IDYuNjY0IDQgMS44NzUuMjU4IDYuNjY1IDAgNi40Nmw0LTUuMTI1TDggNi40NlptMCAwXCIsXG4gICAgY2xpcFJ1bGU6IFwiZXZlbm9kZFwiXG4gIH0pKSk7XG59O1xuXG5mdW5jdGlvbiBjb3VudERlY2ltYWxzKG51bWJlcikge1xuICBjb25zdCBudW0gPSBCaWcobnVtYmVyKTtcbiAgaWYgKG51bS50b1N0cmluZygpID09PSBudW0udG9GaXhlZCgwKSkgcmV0dXJuIDA7XG4gIHJldHVybiBudW0udG9GaXhlZCgpLnNwbGl0KCcuJylbMV0ubGVuZ3RoIHx8IDA7XG59XG5mdW5jdGlvbiBpc1ZhbGlkTnVtYmVyKHZhbHVlKSB7XG4gIHJldHVybiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyB8fCB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSAmJiB2YWx1ZSAhPT0gJycgJiYgIWlzTmFOKE51bWJlcih2YWx1ZSkpO1xufVxuZnVuY3Rpb24gd2lsbEtleVByb2R1Y2VWYWxpZE51bWJlcihrZXksIHByZXZpb3VzVmFsdWUsIGNhcmV0SW5kZXgsIHNlbGVjdGlvbldpZHRoLCBkZWNpbWFsRGlnaXRzKSB7XG4gIGlmIChwcmV2aW91c1ZhbHVlID09PSAnTmFOJykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIERvdCBhbmQgY29tbWEgYXJlIGJvdGggdHJlYXRlZCBhcyBkb3RcbiAgcHJldmlvdXNWYWx1ZSA9IHByZXZpb3VzVmFsdWUucmVwbGFjZSgnLCcsICcuJyk7XG4gIGNvbnN0IGlzRmlyc3REb3QgPSAhcHJldmlvdXNWYWx1ZS5pbmNsdWRlcygnLicpICYmIChrZXkgPT09ICcuJyB8fCBrZXkgPT09ICcsJyk7XG4gIGNvbnN0IGlzRmlyc3RNaW51cyA9ICFwcmV2aW91c1ZhbHVlLmluY2x1ZGVzKCctJykgJiYga2V5ID09PSAnLScgJiYgY2FyZXRJbmRleCA9PT0gMDtcbiAgY29uc3Qga2V5cHJlc3NJc051bWVyaWMgPSAvXlswLTldJC9pLnRlc3Qoa2V5KTtcbiAgY29uc3QgZG90SW5kZXggPSBwcmV2aW91c1ZhbHVlID09PSB1bmRlZmluZWQgPyAtMSA6IHByZXZpb3VzVmFsdWUuaW5kZXhPZignLicpO1xuXG4gIC8vIElmIHRoZSBjYXJldCBpcyBwb3NpdGlvbmVkIGFmdGVyIGEgZG90LCBhbmQgdGhlIGN1cnJlbnQgZGVjaW1hbCBkaWdpdHMgY291bnQgaXMgZXF1YWwgb3IgZ3JlYXRlciB0byB0aGUgbWF4aW11bSwgZGlzYWxsb3cgdGhlIGtleSBwcmVzc1xuICBjb25zdCBvdmVyZmxvd3NEZWNpbWFsU3BhY2UgPSB0eXBlb2YgZGVjaW1hbERpZ2l0cyA9PT0gJ251bWJlcicgJiYgc2VsZWN0aW9uV2lkdGggPT09IDAgJiYgZG90SW5kZXggIT09IC0xICYmIHByZXZpb3VzVmFsdWUuaW5jbHVkZXMoJy4nKSAmJiBwcmV2aW91c1ZhbHVlLnNwbGl0KCcuJylbMV0ubGVuZ3RoID49IGRlY2ltYWxEaWdpdHMgJiYgY2FyZXRJbmRleCA+IGRvdEluZGV4O1xuICBjb25zdCBrZXlwcmVzc0lzQWxsb3dlZENoYXIgPSBrZXlwcmVzc0lzTnVtZXJpYyB8fCBkZWNpbWFsRGlnaXRzICE9PSAwICYmIGlzRmlyc3REb3QgfHwgaXNGaXJzdE1pbnVzO1xuICByZXR1cm4ga2V5cHJlc3NJc0FsbG93ZWRDaGFyICYmICFvdmVyZmxvd3NEZWNpbWFsU3BhY2U7XG59XG5mdW5jdGlvbiBpc051bGxFcXVpdmFsZW50VmFsdWUodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgfHwgdmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09ICcnO1xufVxuXG5jb25zdCB0eXBlJGQgPSAnbnVtYmVyJztcbmZ1bmN0aW9uIE51bWJlcmZpZWxkKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBkaXNhYmxlZCxcbiAgICBlcnJvcnMgPSBbXSxcbiAgICBkb21JZCxcbiAgICBvbkJsdXIsXG4gICAgb25Gb2N1cyxcbiAgICBmaWVsZCxcbiAgICB2YWx1ZSxcbiAgICByZWFkb25seVxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IHtcbiAgICBkZXNjcmlwdGlvbixcbiAgICBsYWJlbCxcbiAgICBhcHBlYXJhbmNlID0ge30sXG4gICAgdmFsaWRhdGUgPSB7fSxcbiAgICBkZWNpbWFsRGlnaXRzLFxuICAgIGluY3JlbWVudDogaW5jcmVtZW50VmFsdWVcbiAgfSA9IGZpZWxkO1xuICBjb25zdCB7XG4gICAgcHJlZml4QWRvcm5lcixcbiAgICBzdWZmaXhBZG9ybmVyXG4gIH0gPSBhcHBlYXJhbmNlO1xuICBjb25zdCB7XG4gICAgcmVxdWlyZWRcbiAgfSA9IHZhbGlkYXRlO1xuXG4gIC8qKiBAdHlwZSB7aW1wb3J0KFwicHJlYWN0XCIpLlJlZk9iamVjdDxIVE1MSW5wdXRFbGVtZW50Pn0gKi9cbiAgY29uc3QgaW5wdXRSZWYgPSB1c2VSZWYoKTtcbiAgY29uc3QgW2NhY2hlZFZhbHVlLCBzZXRDYWNoZWRWYWx1ZV0gPSB1c2VTdGF0ZSh2YWx1ZSk7XG4gIGNvbnN0IFtkaXNwbGF5VmFsdWUsIHNldERpc3BsYXlWYWx1ZV0gPSB1c2VTdGF0ZSh2YWx1ZSk7XG4gIGNvbnN0IHNhbml0aXplID0gdXNlQ2FsbGJhY2sodmFsdWUgPT4gTnVtYmVyZmllbGQuY29uZmlnLnNhbml0aXplVmFsdWUoe1xuICAgIHZhbHVlLFxuICAgIGZvcm1GaWVsZDogZmllbGRcbiAgfSksIFtmaWVsZF0pO1xuICBjb25zdCBbZGVib3VuY2VkT25DaGFuZ2UsIGZsdXNoT25DaGFuZ2VdID0gdXNlRmx1c2hEZWJvdW5jZShwcm9wcy5vbkNoYW5nZSk7XG4gIGNvbnN0IHByZXZpb3VzQ2FjaGVkVmFsdWUgPSB1c2VQcmV2aW91cyh2YWx1ZSk7XG4gIGlmIChwcmV2aW91c0NhY2hlZFZhbHVlICE9PSBjYWNoZWRWYWx1ZSkge1xuICAgIGRlYm91bmNlZE9uQ2hhbmdlKHtcbiAgICAgIGZpZWxkLFxuICAgICAgdmFsdWU6IGNhY2hlZFZhbHVlXG4gICAgfSk7XG4gIH1cbiAgY29uc3Qgb25JbnB1dEJsdXIgPSAoKSA9PiB7XG4gICAgZmx1c2hPbkNoYW5nZSAmJiBmbHVzaE9uQ2hhbmdlKCk7XG4gICAgb25CbHVyICYmIG9uQmx1cigpO1xuICB9O1xuICBjb25zdCBvbklucHV0Rm9jdXMgPSAoKSA9PiB7XG4gICAgb25Gb2N1cyAmJiBvbkZvY3VzKCk7XG4gIH07XG5cbiAgLy8gYWxsIHZhbHVlIGNoYW5nZXMgbXVzdCBnbyB0aHJvdWdoIHRoaXMgZnVuY3Rpb25cbiAgY29uc3Qgc2V0VmFsdWUgPSB1c2VDYWxsYmFjayhzdHJpbmdWYWx1ZSA9PiB7XG4gICAgaWYgKGlzTnVsbEVxdWl2YWxlbnRWYWx1ZShzdHJpbmdWYWx1ZSkpIHtcbiAgICAgIHNldERpc3BsYXlWYWx1ZSgnJyk7XG4gICAgICBzZXRDYWNoZWRWYWx1ZShudWxsKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBjb252ZXJ0cyBhdXRvbWF0aWNhbGx5IGZvciBjb3VudHJpZXMgd2hlcmUgdGhlIGNvbW1hIGlzIHVzZWQgYXMgYSBkZWNpbWFsIHNlcGFyYXRvclxuICAgIHN0cmluZ1ZhbHVlID0gc3RyaW5nVmFsdWUucmVwbGFjZUFsbCgnLCcsICcuJyk7XG4gICAgaWYgKHN0cmluZ1ZhbHVlID09PSAnLScpIHtcbiAgICAgIHNldERpc3BsYXlWYWx1ZSgnLScpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIHByb3ZpZGVzIGZlZWRiYWNrIGZvciBpbnZhbGlkIG51bWJlcnMgZW50ZXJlZCB2aWEgcGFzdGluZyBhcyBvcHBvc2VkIHRvIGp1c3QgaWdub3JpbmcgdGhlIHBhc3RlXG4gICAgaWYgKGlzTmFOKE51bWJlcihzdHJpbmdWYWx1ZSkpKSB7XG4gICAgICBzZXREaXNwbGF5VmFsdWUoJ05hTicpO1xuICAgICAgc2V0Q2FjaGVkVmFsdWUobnVsbCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHNldERpc3BsYXlWYWx1ZShzdHJpbmdWYWx1ZSk7XG4gICAgc2V0Q2FjaGVkVmFsdWUoc2FuaXRpemUoc3RyaW5nVmFsdWUpKTtcbiAgfSwgW3Nhbml0aXplXSk7XG5cbiAgLy8gd2hlbiBleHRlcm5hbCBjaGFuZ2VzIG9jY3VyIGluZGVwZW5kZW50bHkgb2YgdGhlIGlucHV0LCB3ZSB1cGRhdGUgdGhlIGRpc3BsYXkgYW5kIGNhY2hlIHZhbHVlcyBvZiB0aGUgY29tcG9uZW50XG4gIGNvbnN0IHByZXZpb3VzVmFsdWUgPSB1c2VQcmV2aW91cyh2YWx1ZSk7XG4gIGNvbnN0IG91dGVyVmFsdWVDaGFuZ2VkID0gcHJldmlvdXNWYWx1ZSAhPSB2YWx1ZTtcbiAgY29uc3Qgb3V0ZXJWYWx1ZUVxdWFsc0NhY2hlID0gc2FuaXRpemUodmFsdWUpID09PSBzYW5pdGl6ZShjYWNoZWRWYWx1ZSk7XG4gIGlmIChvdXRlclZhbHVlQ2hhbmdlZCAmJiAhb3V0ZXJWYWx1ZUVxdWFsc0NhY2hlKSB7XG4gICAgc2V0VmFsdWUodmFsdWUgJiYgdmFsdWUudG9TdHJpbmcoKSB8fCAnJyk7XG4gIH1cblxuICAvLyBjYWNoZXMgdGhlIHZhbHVlIGFuIGluY3JlbWVudC9kZWNyZW1lbnQgb3BlcmF0aW9uIHdpbGwgYmUgYmFzZWQgb25cbiAgY29uc3QgaW5jcmVtZW50QW1vdW50ID0gdXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKGluY3JlbWVudFZhbHVlKSByZXR1cm4gQmlnKGluY3JlbWVudFZhbHVlKTtcbiAgICBpZiAoZGVjaW1hbERpZ2l0cykgcmV0dXJuIEJpZyhgMWUtJHtkZWNpbWFsRGlnaXRzfWApO1xuICAgIHJldHVybiBCaWcoJzEnKTtcbiAgfSwgW2RlY2ltYWxEaWdpdHMsIGluY3JlbWVudFZhbHVlXSk7XG4gIGNvbnN0IGluY3JlbWVudCA9ICgpID0+IHtcbiAgICBpZiAocmVhZG9ubHkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgYmFzZSA9IGlzVmFsaWROdW1iZXIoY2FjaGVkVmFsdWUpID8gQmlnKGNhY2hlZFZhbHVlKSA6IEJpZygwKTtcbiAgICBjb25zdCBzdGVwRmxvb3JlZFZhbHVlID0gYmFzZS5taW51cyhiYXNlLm1vZChpbmNyZW1lbnRBbW91bnQpKTtcblxuICAgIC8vIG5vdGU6IHRvRml4ZWQoKSBiZWhhdmVzIGRpZmZlcmVudGx5IGluIGJpZy5qc1xuICAgIHNldFZhbHVlKHN0ZXBGbG9vcmVkVmFsdWUucGx1cyhpbmNyZW1lbnRBbW91bnQpLnRvRml4ZWQoKSk7XG4gIH07XG4gIGNvbnN0IGRlY3JlbWVudCA9ICgpID0+IHtcbiAgICBpZiAocmVhZG9ubHkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgYmFzZSA9IGlzVmFsaWROdW1iZXIoY2FjaGVkVmFsdWUpID8gQmlnKGNhY2hlZFZhbHVlKSA6IEJpZygwKTtcbiAgICBjb25zdCBvZmZzZXQgPSBiYXNlLm1vZChpbmNyZW1lbnRBbW91bnQpO1xuICAgIGlmIChvZmZzZXQuY21wKDApID09PSAwKSB7XG4gICAgICAvLyBpZiB3ZSdyZSBhbHJlYWR5IG9uIGEgdmFsaWQgc3RlcCwgZGVjcmVtZW50XG4gICAgICBzZXRWYWx1ZShiYXNlLm1pbnVzKGluY3JlbWVudEFtb3VudCkudG9GaXhlZCgpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gb3RoZXJ3aXNlIGZsb29yIHRvIHRoZSBzdGVwXG4gICAgICBjb25zdCBzdGVwRmxvb3JlZFZhbHVlID0gYmFzZS5taW51cyhiYXNlLm1vZChpbmNyZW1lbnRBbW91bnQpKTtcbiAgICAgIHNldFZhbHVlKHN0ZXBGbG9vcmVkVmFsdWUudG9GaXhlZCgpKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IG9uS2V5RG93biA9IGUgPT4ge1xuICAgIC8vIGRlbGV0ZSB0aGUgTmFOIHN0YXRlIGFsbCBhdCBvbmNlIG9uIGJhY2tzcGFjZSBvciBkZWxldGVcbiAgICBpZiAoZGlzcGxheVZhbHVlID09PSAnTmFOJyAmJiAoZS5jb2RlID09PSAnQmFja3NwYWNlJyB8fCBlLmNvZGUgPT09ICdEZWxldGUnKSkge1xuICAgICAgc2V0VmFsdWUoJycpO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoZS5jb2RlID09PSAnQXJyb3dVcCcpIHtcbiAgICAgIGluY3JlbWVudCgpO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoZS5jb2RlID09PSAnQXJyb3dEb3duJykge1xuICAgICAgZGVjcmVtZW50KCk7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChlLmNvZGUgPT09ICdFbnRlcicpIHtcbiAgICAgIGZsdXNoT25DaGFuZ2UgJiYgZmx1c2hPbkNoYW5nZSgpO1xuICAgIH1cbiAgfTtcblxuICAvLyBpbnRlcmNlcHQga2V5IHByZXNzZXMgd2hpY2ggd291bGQgbGVhZCB0byBhbiBpbnZhbGlkIG51bWJlclxuICBjb25zdCBvbktleVByZXNzID0gZSA9PiB7XG4gICAgY29uc3QgY2FyZXRJbmRleCA9IGlucHV0UmVmLmN1cnJlbnQuc2VsZWN0aW9uU3RhcnQ7XG4gICAgY29uc3Qgc2VsZWN0aW9uV2lkdGggPSBpbnB1dFJlZi5jdXJyZW50LnNlbGVjdGlvblN0YXJ0IC0gaW5wdXRSZWYuY3VycmVudC5zZWxlY3Rpb25FbmQ7XG4gICAgY29uc3QgcHJldmlvdXNWYWx1ZSA9IGlucHV0UmVmLmN1cnJlbnQudmFsdWU7XG4gICAgaWYgKCF3aWxsS2V5UHJvZHVjZVZhbGlkTnVtYmVyKGUua2V5LCBwcmV2aW91c1ZhbHVlLCBjYXJldEluZGV4LCBzZWxlY3Rpb25XaWR0aCwgZGVjaW1hbERpZ2l0cykpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGRlc2NyaXB0aW9uSWQgPSBgJHtkb21JZH0tZGVzY3JpcHRpb25gO1xuICBjb25zdCBlcnJvck1lc3NhZ2VJZCA9IGAke2RvbUlkfS1lcnJvci1tZXNzYWdlYDtcbiAgcmV0dXJuIGpzeHMoXCJkaXZcIiwge1xuICAgIGNsYXNzOiBmb3JtRmllbGRDbGFzc2VzKHR5cGUkZCwge1xuICAgICAgZXJyb3JzLFxuICAgICAgZGlzYWJsZWQsXG4gICAgICByZWFkb25seVxuICAgIH0pLFxuICAgIGNoaWxkcmVuOiBbanN4KExhYmVsLCB7XG4gICAgICBodG1sRm9yOiBkb21JZCxcbiAgICAgIGxhYmVsOiBsYWJlbCxcbiAgICAgIHJlcXVpcmVkOiByZXF1aXJlZFxuICAgIH0pLCBqc3goVGVtcGxhdGVkSW5wdXRBZG9ybmVyLCB7XG4gICAgICBkaXNhYmxlZDogZGlzYWJsZWQsXG4gICAgICByZWFkb25seTogcmVhZG9ubHksXG4gICAgICBwcmU6IHByZWZpeEFkb3JuZXIsXG4gICAgICBwb3N0OiBzdWZmaXhBZG9ybmVyLFxuICAgICAgY2hpbGRyZW46IGpzeHMoXCJkaXZcIiwge1xuICAgICAgICBjbGFzczogY2xhc3NOYW1lcygnZmpzLXZlcnRpY2FsLWdyb3VwJywge1xuICAgICAgICAgICdmanMtZGlzYWJsZWQnOiBkaXNhYmxlZCxcbiAgICAgICAgICAnZmpzLXJlYWRvbmx5JzogcmVhZG9ubHlcbiAgICAgICAgfSwge1xuICAgICAgICAgIGhhc0Vycm9yczogZXJyb3JzLmxlbmd0aFxuICAgICAgICB9KSxcbiAgICAgICAgY2hpbGRyZW46IFtqc3goXCJpbnB1dFwiLCB7XG4gICAgICAgICAgcmVmOiBpbnB1dFJlZixcbiAgICAgICAgICBjbGFzczogXCJmanMtaW5wdXRcIixcbiAgICAgICAgICBkaXNhYmxlZDogZGlzYWJsZWQsXG4gICAgICAgICAgcmVhZE9ubHk6IHJlYWRvbmx5LFxuICAgICAgICAgIGlkOiBkb21JZCxcbiAgICAgICAgICBvbktleURvd246IG9uS2V5RG93bixcbiAgICAgICAgICBvbktleVByZXNzOiBvbktleVByZXNzLFxuICAgICAgICAgIG9uQmx1cjogb25JbnB1dEJsdXIsXG4gICAgICAgICAgb25Gb2N1czogb25JbnB1dEZvY3VzXG4gICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICxcbiAgICAgICAgICBvbklucHV0OiBlID0+IHNldFZhbHVlKGUudGFyZ2V0LnZhbHVlLCB0cnVlKSxcbiAgICAgICAgICBvblBhc3RlOiBlID0+IGRpc3BsYXlWYWx1ZSA9PT0gJ05hTicgJiYgZS5wcmV2ZW50RGVmYXVsdCgpLFxuICAgICAgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICAgICAgIGF1dG9Db21wbGV0ZTogXCJvZmZcIixcbiAgICAgICAgICBzdGVwOiBpbmNyZW1lbnRBbW91bnQsXG4gICAgICAgICAgdmFsdWU6IGRpc3BsYXlWYWx1ZSxcbiAgICAgICAgICBcImFyaWEtZGVzY3JpYmVkYnlcIjogW2Rlc2NyaXB0aW9uSWQsIGVycm9yTWVzc2FnZUlkXS5qb2luKCcgJyksXG4gICAgICAgICAgcmVxdWlyZWQ6IHJlcXVpcmVkLFxuICAgICAgICAgIFwiYXJpYS1pbnZhbGlkXCI6IGVycm9ycy5sZW5ndGggPiAwXG4gICAgICAgIH0pLCBqc3hzKFwiZGl2XCIsIHtcbiAgICAgICAgICBjbGFzczogY2xhc3NOYW1lcygnZmpzLW51bWJlci1hcnJvdy1jb250YWluZXInLCB7XG4gICAgICAgICAgICAnZmpzLWRpc2FibGVkJzogZGlzYWJsZWQsXG4gICAgICAgICAgICAnZmpzLXJlYWRvbmx5JzogcmVhZG9ubHlcbiAgICAgICAgICB9KSxcbiAgICAgICAgICBjaGlsZHJlbjogW2pzeChcImJ1dHRvblwiLCB7XG4gICAgICAgICAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgICAgICAgICAgY2xhc3M6IFwiZmpzLW51bWJlci1hcnJvdy11cFwiLFxuICAgICAgICAgICAgXCJhcmlhLWxhYmVsXCI6IFwiSW5jcmVtZW50XCIsXG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiBpbmNyZW1lbnQoKSxcbiAgICAgICAgICAgIHRhYkluZGV4OiAtMSxcbiAgICAgICAgICAgIGNoaWxkcmVuOiBqc3goU3ZnQW5nZWxVcCwge30pXG4gICAgICAgICAgfSksIGpzeChcImRpdlwiLCB7XG4gICAgICAgICAgICBjbGFzczogXCJmanMtbnVtYmVyLWFycm93LXNlcGFyYXRvclwiXG4gICAgICAgICAgfSksIGpzeChcImJ1dHRvblwiLCB7XG4gICAgICAgICAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgICAgICAgICAgY2xhc3M6IFwiZmpzLW51bWJlci1hcnJvdy1kb3duXCIsXG4gICAgICAgICAgICBcImFyaWEtbGFiZWxcIjogXCJEZWNyZW1lbnRcIixcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IGRlY3JlbWVudCgpLFxuICAgICAgICAgICAgdGFiSW5kZXg6IC0xLFxuICAgICAgICAgICAgY2hpbGRyZW46IGpzeChTdmdBbmdlbERvd24sIHt9KVxuICAgICAgICAgIH0pXVxuICAgICAgICB9KV1cbiAgICAgIH0pXG4gICAgfSksIGpzeChEZXNjcmlwdGlvbiwge1xuICAgICAgaWQ6IGRlc2NyaXB0aW9uSWQsXG4gICAgICBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb25cbiAgICB9KSwganN4KEVycm9ycywge1xuICAgICAgaWQ6IGVycm9yTWVzc2FnZUlkLFxuICAgICAgZXJyb3JzOiBlcnJvcnNcbiAgICB9KV1cbiAgfSk7XG59XG5OdW1iZXJmaWVsZC5jb25maWcgPSB7XG4gIHR5cGU6IHR5cGUkZCxcbiAga2V5ZWQ6IHRydWUsXG4gIG5hbWU6ICdOdW1iZXInLFxuICBncm91cDogJ2Jhc2ljLWlucHV0JyxcbiAgZW1wdHlWYWx1ZTogbnVsbCxcbiAgc2FuaXRpemVWYWx1ZTogKHtcbiAgICB2YWx1ZSxcbiAgICBmb3JtRmllbGRcbiAgfSkgPT4ge1xuICAgIC8vIGludmFsaWQgdmFsdWUgdHlwZXMgYXJlIHNhbml0aXplZCB0byBudWxsXG4gICAgaWYgKGlzTnVsbEVxdWl2YWxlbnRWYWx1ZSh2YWx1ZSkgfHwgIWlzVmFsaWROdW1iZXIodmFsdWUpKSByZXR1cm4gbnVsbDtcblxuICAgIC8vIG90aGVyd2lzZSwgd2UgcmV0dXJuIGEgc3RyaW5nIG9yIGEgbnVtYmVyIGRlcGVuZGluZyBvbiB0aGUgZm9ybSBmaWVsZCBjb25maWd1cmF0aW9uXG4gICAgcmV0dXJuIGZvcm1GaWVsZC5zZXJpYWxpemVUb1N0cmluZyA/IHZhbHVlLnRvU3RyaW5nKCkgOiBOdW1iZXIodmFsdWUpO1xuICB9LFxuICBjcmVhdGU6IChvcHRpb25zID0ge30pID0+ICh7XG4gICAgbGFiZWw6ICdOdW1iZXInLFxuICAgIC4uLm9wdGlvbnNcbiAgfSlcbn07XG5cbmNvbnN0IHR5cGUkYyA9ICdyYWRpbyc7XG5mdW5jdGlvbiBSYWRpbyhwcm9wcykge1xuICBjb25zdCB7XG4gICAgZGlzYWJsZWQsXG4gICAgZXJyb3JzID0gW10sXG4gICAgZG9tSWQsXG4gICAgb25CbHVyLFxuICAgIG9uRm9jdXMsXG4gICAgZmllbGQsXG4gICAgcmVhZG9ubHksXG4gICAgdmFsdWVcbiAgfSA9IHByb3BzO1xuICBjb25zdCB7XG4gICAgZGVzY3JpcHRpb24sXG4gICAgbGFiZWwsXG4gICAgdmFsaWRhdGUgPSB7fVxuICB9ID0gZmllbGQ7XG5cbiAgLyoqIEB0eXBlIHtpbXBvcnQoXCJwcmVhY3RcIikuUmVmT2JqZWN0PEhUTUxEaXZFbGVtZW50Pn0gKi9cbiAgY29uc3Qgb3V0ZXJEaXZSZWYgPSB1c2VSZWYoKTtcbiAgY29uc3Qge1xuICAgIHJlcXVpcmVkXG4gIH0gPSB2YWxpZGF0ZTtcbiAgY29uc3Qgb25DaGFuZ2UgPSB2ID0+IHtcbiAgICBwcm9wcy5vbkNoYW5nZSh7XG4gICAgICB2YWx1ZTogdlxuICAgIH0pO1xuICB9O1xuICBjb25zdCBvblJhZGlvQmx1ciA9IGUgPT4ge1xuICAgIGlmIChvdXRlckRpdlJlZi5jdXJyZW50LmNvbnRhaW5zKGUucmVsYXRlZFRhcmdldCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgb25CbHVyICYmIG9uQmx1cigpO1xuICB9O1xuICBjb25zdCBvblJhZGlvRm9jdXMgPSBlID0+IHtcbiAgICBpZiAob3V0ZXJEaXZSZWYuY3VycmVudC5jb250YWlucyhlLnJlbGF0ZWRUYXJnZXQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIG9uRm9jdXMgJiYgb25Gb2N1cygpO1xuICB9O1xuICBjb25zdCB7XG4gICAgbG9hZFN0YXRlLFxuICAgIG9wdGlvbnNcbiAgfSA9IHVzZU9wdGlvbnNBc3luYyhmaWVsZCk7XG4gIHVzZUNsZWFudXBTaW5nbGVTZWxlY3RWYWx1ZSh7XG4gICAgZmllbGQsXG4gICAgbG9hZFN0YXRlLFxuICAgIG9wdGlvbnMsXG4gICAgdmFsdWUsXG4gICAgb25DaGFuZ2U6IHByb3BzLm9uQ2hhbmdlXG4gIH0pO1xuICBjb25zdCBkZXNjcmlwdGlvbklkID0gYCR7ZG9tSWR9LWRlc2NyaXB0aW9uYDtcbiAgY29uc3QgZXJyb3JNZXNzYWdlSWQgPSBgJHtkb21JZH0tZXJyb3ItbWVzc2FnZWA7XG4gIHJldHVybiBqc3hzKFwiZGl2XCIsIHtcbiAgICBjbGFzczogZm9ybUZpZWxkQ2xhc3Nlcyh0eXBlJGMsIHtcbiAgICAgIGVycm9ycyxcbiAgICAgIGRpc2FibGVkLFxuICAgICAgcmVhZG9ubHlcbiAgICB9KSxcbiAgICByZWY6IG91dGVyRGl2UmVmLFxuICAgIGNoaWxkcmVuOiBbanN4KExhYmVsLCB7XG4gICAgICBsYWJlbDogbGFiZWwsXG4gICAgICByZXF1aXJlZDogcmVxdWlyZWRcbiAgICB9KSwgbG9hZFN0YXRlID09IExPQURfU1RBVEVTLkxPQURFRCAmJiBvcHRpb25zLm1hcCgob3B0aW9uLCBpbmRleCkgPT4ge1xuICAgICAgY29uc3QgaXRlbURvbUlkID0gYCR7ZG9tSWR9LSR7aW5kZXh9YDtcbiAgICAgIGNvbnN0IGlzQ2hlY2tlZCA9IGlzRXF1YWwob3B0aW9uLnZhbHVlLCB2YWx1ZSk7XG4gICAgICByZXR1cm4ganN4cyhcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lcygnZmpzLWlubGluZS1sYWJlbCcsIHtcbiAgICAgICAgICAnZmpzLWNoZWNrZWQnOiBpc0NoZWNrZWRcbiAgICAgICAgfSksXG4gICAgICAgIGNoaWxkcmVuOiBbanN4KFwiaW5wdXRcIiwge1xuICAgICAgICAgIGNoZWNrZWQ6IGlzQ2hlY2tlZCxcbiAgICAgICAgICBjbGFzczogXCJmanMtaW5wdXRcIixcbiAgICAgICAgICBkaXNhYmxlZDogZGlzYWJsZWQsXG4gICAgICAgICAgcmVhZE9ubHk6IHJlYWRvbmx5LFxuICAgICAgICAgIG5hbWU6IGRvbUlkLFxuICAgICAgICAgIGlkOiBpdGVtRG9tSWQsXG4gICAgICAgICAgdHlwZTogXCJyYWRpb1wiLFxuICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IG9uQ2hhbmdlKG9wdGlvbi52YWx1ZSksXG4gICAgICAgICAgb25CbHVyOiBvblJhZGlvQmx1cixcbiAgICAgICAgICBvbkZvY3VzOiBvblJhZGlvRm9jdXMsXG4gICAgICAgICAgXCJhcmlhLWRlc2NyaWJlZGJ5XCI6IFtkZXNjcmlwdGlvbklkLCBlcnJvck1lc3NhZ2VJZF0uam9pbignICcpLFxuICAgICAgICAgIHJlcXVpcmVkOiByZXF1aXJlZCxcbiAgICAgICAgICBcImFyaWEtaW52YWxpZFwiOiBlcnJvcnMubGVuZ3RoID4gMFxuICAgICAgICB9KSwganN4KExhYmVsLCB7XG4gICAgICAgICAgaHRtbEZvcjogaXRlbURvbUlkLFxuICAgICAgICAgIGxhYmVsOiBvcHRpb24ubGFiZWwsXG4gICAgICAgICAgY2xhc3M6IGNsYXNzTmFtZXMoe1xuICAgICAgICAgICAgJ2Zqcy1jaGVja2VkJzogaXNDaGVja2VkXG4gICAgICAgICAgfSksXG4gICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlXG4gICAgICAgIH0pXVxuICAgICAgfSwgb3B0aW9uLnZhbHVlKTtcbiAgICB9KSwganN4KERlc2NyaXB0aW9uLCB7XG4gICAgICBpZDogZGVzY3JpcHRpb25JZCxcbiAgICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvblxuICAgIH0pLCBqc3goRXJyb3JzLCB7XG4gICAgICBpZDogZXJyb3JNZXNzYWdlSWQsXG4gICAgICBlcnJvcnM6IGVycm9yc1xuICAgIH0pXVxuICB9KTtcbn1cblJhZGlvLmNvbmZpZyA9IHtcbiAgdHlwZTogdHlwZSRjLFxuICBrZXllZDogdHJ1ZSxcbiAgbmFtZTogJ1JhZGlvIGdyb3VwJyxcbiAgZ3JvdXA6ICdzZWxlY3Rpb24nLFxuICBlbXB0eVZhbHVlOiBudWxsLFxuICBzYW5pdGl6ZVZhbHVlOiBzYW5pdGl6ZVNpbmdsZVNlbGVjdFZhbHVlLFxuICBjcmVhdGU6IChvcHRpb25zID0ge30pID0+ICh7XG4gICAgbGFiZWw6ICdSYWRpbyBncm91cCcsXG4gICAgLi4uY3JlYXRlRW1wdHlPcHRpb25zKG9wdGlvbnMpXG4gIH0pXG59O1xuXG52YXIgX3BhdGgkOTtcbmZ1bmN0aW9uIF9leHRlbmRzJDkoKSB7IHJldHVybiBfZXh0ZW5kcyQ5ID0gT2JqZWN0LmFzc2lnbiA/IE9iamVjdC5hc3NpZ24uYmluZCgpIDogZnVuY3Rpb24gKG4pIHsgZm9yICh2YXIgZSA9IDE7IGUgPCBhcmd1bWVudHMubGVuZ3RoOyBlKyspIHsgdmFyIHQgPSBhcmd1bWVudHNbZV07IGZvciAodmFyIHIgaW4gdCkgKHt9KS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsIHIpICYmIChuW3JdID0gdFtyXSk7IH0gcmV0dXJuIG47IH0sIF9leHRlbmRzJDkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTsgfVxudmFyIFN2Z1hNYXJrID0gZnVuY3Rpb24gU3ZnWE1hcmsocHJvcHMpIHtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIF9leHRlbmRzJDkoe1xuICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgd2lkdGg6IDgsXG4gICAgaGVpZ2h0OiA4XG4gIH0sIHByb3BzKSwgX3BhdGgkOSB8fCAoX3BhdGgkOSA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICBmaWxsUnVsZTogXCJldmVub2RkXCIsXG4gICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgIHN0cm9rZVdpZHRoOiAwLjUsXG4gICAgZDogXCJNNCAzLjc2NiA3LjQzLjMzNmwuMjM0LjIzNEw0LjIzNCA0bDMuNDMgMy40My0uMjM0LjIzNEw0IDQuMjM0LjU3IDcuNjY0LjMzNiA3LjQzIDMuNzY2IDQgLjMzNi41Ny41Ny4zMzZabTAgMFwiLFxuICAgIGNsaXBSdWxlOiBcImV2ZW5vZGRcIlxuICB9KSkpO1xufTtcblxuZnVuY3Rpb24gU2VhcmNoYWJsZVNlbGVjdChwcm9wcykge1xuICBjb25zdCB7XG4gICAgZG9tSWQsXG4gICAgZGlzYWJsZWQsXG4gICAgZXJyb3JzLFxuICAgIG9uQmx1cixcbiAgICBvbkZvY3VzLFxuICAgIGZpZWxkLFxuICAgIHJlYWRvbmx5LFxuICAgIHZhbHVlXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgW2ZpbHRlciwgc2V0RmlsdGVyXSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW2lzRHJvcGRvd25FeHBhbmRlZCwgc2V0SXNEcm9wZG93bkV4cGFuZGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2lzRmlsdGVyQWN0aXZlLCBzZXRJc0ZpbHRlckFjdGl2ZV0gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW2lzRXNjYXBlQ2xvc2VkLCBzZXRJc0VzY2FwZUNsb3NlXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICAvKiogQHR5cGUge2ltcG9ydChcInByZWFjdFwiKS5SZWZPYmplY3Q8SFRNTElucHV0RWxlbWVudD59ICovXG4gIGNvbnN0IHNlYXJjaGJhclJlZiA9IHVzZVJlZigpO1xuICBjb25zdCBldmVudEJ1cyA9IHVzZVNlcnZpY2UoJ2V2ZW50QnVzJyk7XG4gIGNvbnN0IHtcbiAgICBsb2FkU3RhdGUsXG4gICAgb3B0aW9uc1xuICB9ID0gdXNlT3B0aW9uc0FzeW5jKGZpZWxkKTtcbiAgdXNlQ2xlYW51cFNpbmdsZVNlbGVjdFZhbHVlKHtcbiAgICBmaWVsZCxcbiAgICBsb2FkU3RhdGUsXG4gICAgb3B0aW9ucyxcbiAgICB2YWx1ZSxcbiAgICBvbkNoYW5nZTogcHJvcHMub25DaGFuZ2VcbiAgfSk7XG4gIGNvbnN0IGdldExhYmVsQ29ycmVsYXRpb24gPSB1c2VHZXRMYWJlbENvcnJlbGF0aW9uKG9wdGlvbnMpO1xuICBjb25zdCBsYWJlbCA9IHVzZU1lbW8oKCkgPT4gdmFsdWUgJiYgZ2V0TGFiZWxDb3JyZWxhdGlvbih2YWx1ZSksIFt2YWx1ZSwgZ2V0TGFiZWxDb3JyZWxhdGlvbl0pO1xuXG4gIC8vIHdoZW5ldmVyIHdlIGNoYW5nZSB0aGUgdW5kZXJseWluZyB2YWx1ZSwgc2V0IHRoZSBsYWJlbCB0byBpdFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldEZpbHRlcihsYWJlbCB8fCAnJyk7XG4gIH0sIFtsYWJlbF0pO1xuICBjb25zdCBmaWx0ZXJlZE9wdGlvbnMgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBpZiAobG9hZFN0YXRlICE9PSBMT0FEX1NUQVRFUy5MT0FERUQpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgaWYgKCFmaWx0ZXIgfHwgIWlzRmlsdGVyQWN0aXZlKSB7XG4gICAgICByZXR1cm4gb3B0aW9ucztcbiAgICB9XG4gICAgcmV0dXJuIG9wdGlvbnMuZmlsdGVyKG9wdGlvbiA9PiBvcHRpb24ubGFiZWwgJiYgb3B0aW9uLnZhbHVlICYmIG9wdGlvbi5sYWJlbC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKGZpbHRlci50b0xvd2VyQ2FzZSgpKSk7XG4gIH0sIFtmaWx0ZXIsIGxvYWRTdGF0ZSwgb3B0aW9ucywgaXNGaWx0ZXJBY3RpdmVdKTtcbiAgY29uc3QgcGlja09wdGlvbiA9IHVzZUNhbGxiYWNrKG9wdGlvbiA9PiB7XG4gICAgc2V0RmlsdGVyKG9wdGlvbiAmJiBvcHRpb24ubGFiZWwgfHwgJycpO1xuICAgIHByb3BzLm9uQ2hhbmdlKHtcbiAgICAgIHZhbHVlOiBvcHRpb24gJiYgb3B0aW9uLnZhbHVlIHx8IG51bGxcbiAgICB9KTtcbiAgfSwgW3Byb3BzXSk7XG4gIGNvbnN0IGRpc3BsYXlTdGF0ZSA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IGRzID0ge307XG4gICAgZHMuY29tcG9uZW50UmVhZHkgPSAhZGlzYWJsZWQgJiYgIXJlYWRvbmx5ICYmIGxvYWRTdGF0ZSA9PT0gTE9BRF9TVEFURVMuTE9BREVEO1xuICAgIGRzLmRpc3BsYXlDcm9zcyA9IGRzLmNvbXBvbmVudFJlYWR5ICYmIHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB1bmRlZmluZWQ7XG4gICAgZHMuZGlzcGxheURyb3Bkb3duID0gIWRpc2FibGVkICYmICFyZWFkb25seSAmJiBpc0Ryb3Bkb3duRXhwYW5kZWQgJiYgIWlzRXNjYXBlQ2xvc2VkO1xuICAgIHJldHVybiBkcztcbiAgfSwgW2Rpc2FibGVkLCBpc0Ryb3Bkb3duRXhwYW5kZWQsIGlzRXNjYXBlQ2xvc2VkLCBsb2FkU3RhdGUsIHJlYWRvbmx5LCB2YWx1ZV0pO1xuICBjb25zdCBvbkFuZ2VsTW91c2VEb3duID0gdXNlQ2FsbGJhY2soZSA9PiB7XG4gICAgc2V0SXNFc2NhcGVDbG9zZShmYWxzZSk7XG4gICAgc2V0SXNEcm9wZG93bkV4cGFuZGVkKCFpc0Ryb3Bkb3duRXhwYW5kZWQpO1xuICAgIGNvbnN0IHNlYXJjaGJhciA9IHNlYXJjaGJhclJlZi5jdXJyZW50O1xuICAgIGlzRHJvcGRvd25FeHBhbmRlZCA/IHNlYXJjaGJhci5ibHVyKCkgOiBzZWFyY2hiYXIuZm9jdXMoKTtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIH0sIFtpc0Ryb3Bkb3duRXhwYW5kZWRdKTtcbiAgY29uc3Qgb25JbnB1dENoYW5nZSA9ICh7XG4gICAgdGFyZ2V0XG4gIH0pID0+IHtcbiAgICBzZXRJc0VzY2FwZUNsb3NlKGZhbHNlKTtcbiAgICBzZXRJc0Ryb3Bkb3duRXhwYW5kZWQodHJ1ZSk7XG4gICAgc2V0SXNGaWx0ZXJBY3RpdmUodHJ1ZSk7XG4gICAgc2V0RmlsdGVyKHRhcmdldC52YWx1ZSB8fCAnJyk7XG4gICAgZXZlbnRCdXMuZmlyZSgnZm9ybUZpZWxkLnNlYXJjaCcsIHtcbiAgICAgIGZvcm1GaWVsZDogZmllbGQsXG4gICAgICB2YWx1ZTogdGFyZ2V0LnZhbHVlIHx8ICcnXG4gICAgfSk7XG4gIH07XG4gIGNvbnN0IG9uSW5wdXRLZXlEb3duID0gdXNlQ2FsbGJhY2soa2V5RG93bkV2ZW50ID0+IHtcbiAgICBzd2l0Y2ggKGtleURvd25FdmVudC5rZXkpIHtcbiAgICAgIGNhc2UgJ0Fycm93VXAnOlxuICAgICAgICBrZXlEb3duRXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdBcnJvd0Rvd24nOlxuICAgICAgICB7XG4gICAgICAgICAgaWYgKCFpc0Ryb3Bkb3duRXhwYW5kZWQpIHtcbiAgICAgICAgICAgIHNldElzRHJvcGRvd25FeHBhbmRlZCh0cnVlKTtcbiAgICAgICAgICAgIHNldElzRmlsdGVyQWN0aXZlKGZhbHNlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAga2V5RG93bkV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIGNhc2UgJ0VzY2FwZSc6XG4gICAgICAgIHNldElzRXNjYXBlQ2xvc2UodHJ1ZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnRW50ZXInOlxuICAgICAgICBpZiAoaXNFc2NhcGVDbG9zZWQpIHtcbiAgICAgICAgICBzZXRJc0VzY2FwZUNsb3NlKGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICB9XG4gIH0sIFtpc0Ryb3Bkb3duRXhwYW5kZWQsIGlzRXNjYXBlQ2xvc2VkXSk7XG4gIGNvbnN0IG9uSW5wdXRNb3VzZURvd24gPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgc2V0SXNFc2NhcGVDbG9zZShmYWxzZSk7XG4gICAgc2V0SXNEcm9wZG93bkV4cGFuZGVkKHRydWUpO1xuICAgIHNldElzRmlsdGVyQWN0aXZlKGZhbHNlKTtcbiAgfSwgW10pO1xuICBjb25zdCBvbklucHV0Rm9jdXMgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgc2V0SXNFc2NhcGVDbG9zZShmYWxzZSk7XG4gICAgc2V0SXNEcm9wZG93bkV4cGFuZGVkKHRydWUpO1xuICAgIG9uRm9jdXMgJiYgb25Gb2N1cygpO1xuICB9LCBbb25Gb2N1c10pO1xuICBjb25zdCBvbklucHV0Qmx1ciA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBzZXRJc0Ryb3Bkb3duRXhwYW5kZWQoZmFsc2UpO1xuICAgIHNldEZpbHRlcihsYWJlbCB8fCAnJyk7XG4gICAgb25CbHVyICYmIG9uQmx1cigpO1xuICB9LCBbb25CbHVyLCBsYWJlbF0pO1xuICByZXR1cm4ganN4cyhGcmFnbWVudCwge1xuICAgIGNoaWxkcmVuOiBbanN4cyhcImRpdlwiLCB7XG4gICAgICBjbGFzczogY2xhc3NOYW1lcygnZmpzLWlucHV0LWdyb3VwJywge1xuICAgICAgICBkaXNhYmxlZDogZGlzYWJsZWQsXG4gICAgICAgIHJlYWRvbmx5OiByZWFkb25seVxuICAgICAgfSwge1xuICAgICAgICBoYXNFcnJvcnM6IGVycm9ycy5sZW5ndGhcbiAgICAgIH0pLFxuICAgICAgY2hpbGRyZW46IFtqc3goXCJpbnB1dFwiLCB7XG4gICAgICAgIGRpc2FibGVkOiBkaXNhYmxlZCxcbiAgICAgICAgcmVhZE9ubHk6IHJlYWRvbmx5LFxuICAgICAgICBjbGFzczogXCJmanMtaW5wdXRcIixcbiAgICAgICAgcmVmOiBzZWFyY2hiYXJSZWYsXG4gICAgICAgIGlkOiBkb21JZCxcbiAgICAgICAgb25DaGFuZ2U6IG9uSW5wdXRDaGFuZ2UsXG4gICAgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICAgICB2YWx1ZTogZmlsdGVyLFxuICAgICAgICBwbGFjZWhvbGRlcjogJ1NlYXJjaCcsXG4gICAgICAgIGF1dG9Db21wbGV0ZTogXCJvZmZcIixcbiAgICAgICAgb25LZXlEb3duOiBvbklucHV0S2V5RG93bixcbiAgICAgICAgb25Nb3VzZURvd246IG9uSW5wdXRNb3VzZURvd24sXG4gICAgICAgIG9uRm9jdXM6IG9uSW5wdXRGb2N1cyxcbiAgICAgICAgb25CbHVyOiBvbklucHV0Qmx1cixcbiAgICAgICAgXCJhcmlhLWRlc2NyaWJlZGJ5XCI6IHByb3BzWydhcmlhLWRlc2NyaWJlZGJ5J11cbiAgICAgIH0pLCBkaXNwbGF5U3RhdGUuZGlzcGxheUNyb3NzICYmIGpzeHMoXCJzcGFuXCIsIHtcbiAgICAgICAgY2xhc3M6IFwiZmpzLXNlbGVjdC1jcm9zc1wiLFxuICAgICAgICBvbk1vdXNlRG93bjogZSA9PiB7XG4gICAgICAgICAgcGlja09wdGlvbihudWxsKTtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH0sXG4gICAgICAgIGNoaWxkcmVuOiBbanN4KFN2Z1hNYXJrLCB7fSksICcgJ11cbiAgICAgIH0pLCBqc3goXCJzcGFuXCIsIHtcbiAgICAgICAgY2xhc3M6IFwiZmpzLXNlbGVjdC1hcnJvd1wiLFxuICAgICAgICBvbk1vdXNlRG93bjogZSA9PiBvbkFuZ2VsTW91c2VEb3duKGUpLFxuICAgICAgICBjaGlsZHJlbjogZGlzcGxheVN0YXRlLmRpc3BsYXlEcm9wZG93biA/IGpzeChTdmdBbmdlbFVwLCB7fSkgOiBqc3goU3ZnQW5nZWxEb3duLCB7fSlcbiAgICAgIH0pXVxuICAgIH0pLCBqc3goXCJkaXZcIiwge1xuICAgICAgY2xhc3M6IFwiZmpzLXNlbGVjdC1hbmNob3JcIixcbiAgICAgIGNoaWxkcmVuOiBkaXNwbGF5U3RhdGUuZGlzcGxheURyb3Bkb3duICYmIGpzeChEcm9wZG93bkxpc3QsIHtcbiAgICAgICAgdmFsdWVzOiBmaWx0ZXJlZE9wdGlvbnMsXG4gICAgICAgIGdldExhYmVsOiBvcHRpb24gPT4gb3B0aW9uLmxhYmVsLFxuICAgICAgICBvblZhbHVlU2VsZWN0ZWQ6IG9wdGlvbiA9PiB7XG4gICAgICAgICAgcGlja09wdGlvbihvcHRpb24pO1xuICAgICAgICAgIHNldElzRHJvcGRvd25FeHBhbmRlZChmYWxzZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGxpc3RlbmVyRWxlbWVudDogc2VhcmNoYmFyUmVmLmN1cnJlbnRcbiAgICAgIH0pXG4gICAgfSldXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBTaW1wbGVTZWxlY3QocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGRvbUlkLFxuICAgIGRpc2FibGVkLFxuICAgIGVycm9ycyxcbiAgICBvbkJsdXIsXG4gICAgb25Gb2N1cyxcbiAgICBmaWVsZCxcbiAgICByZWFkb25seSxcbiAgICB2YWx1ZVxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IFtpc0Ryb3Bkb3duRXhwYW5kZWQsIHNldElzRHJvcGRvd25FeHBhbmRlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IHNlbGVjdFJlZiA9IHVzZVJlZigpO1xuXG4gIC8qKiBAdHlwZSB7aW1wb3J0KFwicHJlYWN0XCIpLlJlZk9iamVjdDxIVE1MSW5wdXRFbGVtZW50Pn0gKi9cbiAgY29uc3QgaW5wdXRSZWYgPSB1c2VSZWYoKTtcbiAgY29uc3Qge1xuICAgIGxvYWRTdGF0ZSxcbiAgICBvcHRpb25zXG4gIH0gPSB1c2VPcHRpb25zQXN5bmMoZmllbGQpO1xuICB1c2VDbGVhbnVwU2luZ2xlU2VsZWN0VmFsdWUoe1xuICAgIGZpZWxkLFxuICAgIGxvYWRTdGF0ZSxcbiAgICBvcHRpb25zLFxuICAgIHZhbHVlLFxuICAgIG9uQ2hhbmdlOiBwcm9wcy5vbkNoYW5nZVxuICB9KTtcbiAgY29uc3QgZ2V0TGFiZWxDb3JyZWxhdGlvbiA9IHVzZUdldExhYmVsQ29ycmVsYXRpb24ob3B0aW9ucyk7XG4gIGNvbnN0IHZhbHVlTGFiZWwgPSB1c2VNZW1vKCgpID0+IHZhbHVlICYmIGdldExhYmVsQ29ycmVsYXRpb24odmFsdWUpLCBbdmFsdWUsIGdldExhYmVsQ29ycmVsYXRpb25dKTtcbiAgY29uc3QgcGlja09wdGlvbiA9IHVzZUNhbGxiYWNrKG9wdGlvbiA9PiB7XG4gICAgcHJvcHMub25DaGFuZ2Uoe1xuICAgICAgdmFsdWU6IG9wdGlvbiAmJiBvcHRpb24udmFsdWUgfHwgbnVsbFxuICAgIH0pO1xuICB9LCBbcHJvcHNdKTtcbiAgY29uc3QgZGlzcGxheVN0YXRlID0gdXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3QgZHMgPSB7fTtcbiAgICBkcy5jb21wb25lbnRSZWFkeSA9ICFkaXNhYmxlZCAmJiAhcmVhZG9ubHkgJiYgbG9hZFN0YXRlID09PSBMT0FEX1NUQVRFUy5MT0FERUQ7XG4gICAgZHMuZGlzcGxheUNyb3NzID0gZHMuY29tcG9uZW50UmVhZHkgJiYgdmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHVuZGVmaW5lZDtcbiAgICBkcy5kaXNwbGF5RHJvcGRvd24gPSAhZGlzYWJsZWQgJiYgIXJlYWRvbmx5ICYmIGlzRHJvcGRvd25FeHBhbmRlZDtcbiAgICByZXR1cm4gZHM7XG4gIH0sIFtkaXNhYmxlZCwgaXNEcm9wZG93bkV4cGFuZGVkLCBsb2FkU3RhdGUsIHJlYWRvbmx5LCB2YWx1ZV0pO1xuICBjb25zdCBvbk1vdXNlRG93biA9IHVzZUNhbGxiYWNrKGUgPT4ge1xuICAgIGNvbnN0IGlucHV0ID0gaW5wdXRSZWYuY3VycmVudDtcbiAgICBpZiAoZGlzYWJsZWQgfHwgIWlucHV0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHNldElzRHJvcGRvd25FeHBhbmRlZCghaXNEcm9wZG93bkV4cGFuZGVkKTtcbiAgICBpZiAoaXNEcm9wZG93bkV4cGFuZGVkKSB7XG4gICAgICBpbnB1dC5ibHVyKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlucHV0LmZvY3VzKCk7XG4gICAgfVxuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgfSwgW2Rpc2FibGVkLCBpc0Ryb3Bkb3duRXhwYW5kZWRdKTtcbiAgY29uc3QgaW5pdGlhbEZvY3VzSW5kZXggPSB1c2VNZW1vKCgpID0+IHZhbHVlICYmIGZpbmRJbmRleChvcHRpb25zLCBvcHRpb24gPT4gb3B0aW9uLnZhbHVlID09PSB2YWx1ZSkgfHwgMCwgW29wdGlvbnMsIHZhbHVlXSk7XG4gIGNvbnN0IG9uSW5wdXRGb2N1cyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpZiAoIXJlYWRvbmx5KSB7XG4gICAgICBzZXRJc0Ryb3Bkb3duRXhwYW5kZWQodHJ1ZSk7XG4gICAgICBvbkZvY3VzICYmIG9uRm9jdXMoKTtcbiAgICB9XG4gIH0sIFtvbkZvY3VzLCByZWFkb25seV0pO1xuICBjb25zdCBvbklucHV0Qmx1ciA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpZiAoIXJlYWRvbmx5KSB7XG4gICAgICBzZXRJc0Ryb3Bkb3duRXhwYW5kZWQoZmFsc2UpO1xuICAgICAgb25CbHVyICYmIG9uQmx1cigpO1xuICAgIH1cbiAgfSwgW29uQmx1ciwgcmVhZG9ubHldKTtcbiAgcmV0dXJuIGpzeHMoRnJhZ21lbnQsIHtcbiAgICBjaGlsZHJlbjogW2pzeHMoXCJkaXZcIiwge1xuICAgICAgcmVmOiBzZWxlY3RSZWYsXG4gICAgICBjbGFzczogY2xhc3NOYW1lcygnZmpzLWlucHV0LWdyb3VwJywge1xuICAgICAgICBkaXNhYmxlZCxcbiAgICAgICAgcmVhZG9ubHlcbiAgICAgIH0sIHtcbiAgICAgICAgaGFzRXJyb3JzOiBlcnJvcnMubGVuZ3RoXG4gICAgICB9KSxcbiAgICAgIG9uRm9jdXM6IG9uSW5wdXRGb2N1cyxcbiAgICAgIG9uQmx1cjogb25JbnB1dEJsdXIsXG4gICAgICBvbk1vdXNlRG93bjogb25Nb3VzZURvd24sXG4gICAgICBjaGlsZHJlbjogW2pzeChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzOiBjbGFzc05hbWVzKCdmanMtc2VsZWN0LWRpc3BsYXknLCB7XG4gICAgICAgICAgJ2Zqcy1zZWxlY3QtcGxhY2Vob2xkZXInOiAhdmFsdWVcbiAgICAgICAgfSksXG4gICAgICAgIGlkOiBgJHtkb21JZH0tZGlzcGxheWAsXG4gICAgICAgIGNoaWxkcmVuOiB2YWx1ZUxhYmVsIHx8ICdTZWxlY3QnXG4gICAgICB9KSwgIWRpc2FibGVkICYmIGpzeChcImlucHV0XCIsIHtcbiAgICAgICAgcmVmOiBpbnB1dFJlZixcbiAgICAgICAgaWQ6IGRvbUlkLFxuICAgICAgICBjbGFzczogXCJmanMtc2VsZWN0LWhpZGRlbi1pbnB1dFwiLFxuICAgICAgICB2YWx1ZTogdmFsdWVMYWJlbCxcbiAgICAgICAgb25Gb2N1czogb25JbnB1dEZvY3VzLFxuICAgICAgICBvbkJsdXI6IG9uSW5wdXRCbHVyLFxuICAgICAgICBcImFyaWEtZGVzY3JpYmVkYnlcIjogcHJvcHNbJ2FyaWEtZGVzY3JpYmVkYnknXVxuICAgICAgfSksIGRpc3BsYXlTdGF0ZS5kaXNwbGF5Q3Jvc3MgJiYganN4KFwic3BhblwiLCB7XG4gICAgICAgIGNsYXNzOiBcImZqcy1zZWxlY3QtY3Jvc3NcIixcbiAgICAgICAgb25Nb3VzZURvd246IGUgPT4ge1xuICAgICAgICAgIHBpY2tPcHRpb24obnVsbCk7XG4gICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgfSxcbiAgICAgICAgY2hpbGRyZW46IGpzeChTdmdYTWFyaywge30pXG4gICAgICB9KSwganN4KFwic3BhblwiLCB7XG4gICAgICAgIGNsYXNzOiBcImZqcy1zZWxlY3QtYXJyb3dcIixcbiAgICAgICAgY2hpbGRyZW46IGRpc3BsYXlTdGF0ZS5kaXNwbGF5RHJvcGRvd24gPyBqc3goU3ZnQW5nZWxVcCwge30pIDoganN4KFN2Z0FuZ2VsRG93biwge30pXG4gICAgICB9KV1cbiAgICB9KSwganN4KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzOiBcImZqcy1zZWxlY3QtYW5jaG9yXCIsXG4gICAgICBjaGlsZHJlbjogZGlzcGxheVN0YXRlLmRpc3BsYXlEcm9wZG93biAmJiBqc3goRHJvcGRvd25MaXN0LCB7XG4gICAgICAgIHZhbHVlczogb3B0aW9ucyxcbiAgICAgICAgZ2V0TGFiZWw6IG9wdGlvbiA9PiBvcHRpb24ubGFiZWwsXG4gICAgICAgIGluaXRpYWxGb2N1c0luZGV4OiBpbml0aWFsRm9jdXNJbmRleCxcbiAgICAgICAgb25WYWx1ZVNlbGVjdGVkOiBvcHRpb24gPT4ge1xuICAgICAgICAgIHBpY2tPcHRpb24ob3B0aW9uKTtcbiAgICAgICAgICBzZXRJc0Ryb3Bkb3duRXhwYW5kZWQoZmFsc2UpO1xuICAgICAgICB9LFxuICAgICAgICBsaXN0ZW5lckVsZW1lbnQ6IHNlbGVjdFJlZi5jdXJyZW50XG4gICAgICB9KVxuICAgIH0pXVxuICB9KTtcbn1cblxuY29uc3QgdHlwZSRiID0gJ3NlbGVjdCc7XG5mdW5jdGlvbiBTZWxlY3QocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGRpc2FibGVkLFxuICAgIGVycm9ycyA9IFtdLFxuICAgIGRvbUlkLFxuICAgIG9uQmx1cixcbiAgICBvbkZvY3VzLFxuICAgIGZpZWxkLFxuICAgIG9uQ2hhbmdlLFxuICAgIHJlYWRvbmx5LFxuICAgIHZhbHVlXG4gIH0gPSBwcm9wcztcbiAgY29uc3Qge1xuICAgIGRlc2NyaXB0aW9uLFxuICAgIGxhYmVsLFxuICAgIHNlYXJjaGFibGUgPSBmYWxzZSxcbiAgICB2YWxpZGF0ZSA9IHt9XG4gIH0gPSBmaWVsZDtcbiAgY29uc3Qge1xuICAgIHJlcXVpcmVkXG4gIH0gPSB2YWxpZGF0ZTtcbiAgY29uc3QgZGVzY3JpcHRpb25JZCA9IGAke2RvbUlkfS1kZXNjcmlwdGlvbmA7XG4gIGNvbnN0IGVycm9yTWVzc2FnZUlkID0gYCR7ZG9tSWR9LWVycm9yLW1lc3NhZ2VgO1xuICBjb25zdCBzZWxlY3RQcm9wcyA9IHtcbiAgICBkb21JZCxcbiAgICBkaXNhYmxlZCxcbiAgICBlcnJvcnMsXG4gICAgb25CbHVyLFxuICAgIG9uRm9jdXMsXG4gICAgZmllbGQsXG4gICAgdmFsdWUsXG4gICAgb25DaGFuZ2UsXG4gICAgcmVhZG9ubHksXG4gICAgcmVxdWlyZWQsXG4gICAgJ2FyaWEtaW52YWxpZCc6IGVycm9ycy5sZW5ndGggPiAwLFxuICAgICdhcmlhLWRlc2NyaWJlZGJ5JzogW2Rlc2NyaXB0aW9uSWQsIGVycm9yTWVzc2FnZUlkXS5qb2luKCcgJylcbiAgfTtcbiAgcmV0dXJuIGpzeHMoXCJkaXZcIiwge1xuICAgIGNsYXNzOiBmb3JtRmllbGRDbGFzc2VzKHR5cGUkYiwge1xuICAgICAgZXJyb3JzLFxuICAgICAgZGlzYWJsZWQsXG4gICAgICByZWFkb25seVxuICAgIH0pLFxuICAgIG9uS2V5RG93bjogZXZlbnQgPT4ge1xuICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VudGVyJykge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGNoaWxkcmVuOiBbanN4KExhYmVsLCB7XG4gICAgICBodG1sRm9yOiBkb21JZCxcbiAgICAgIGxhYmVsOiBsYWJlbCxcbiAgICAgIHJlcXVpcmVkOiByZXF1aXJlZFxuICAgIH0pLCBzZWFyY2hhYmxlID8ganN4KFNlYXJjaGFibGVTZWxlY3QsIHtcbiAgICAgIC4uLnNlbGVjdFByb3BzXG4gICAgfSkgOiBqc3goU2ltcGxlU2VsZWN0LCB7XG4gICAgICAuLi5zZWxlY3RQcm9wc1xuICAgIH0pLCBqc3goRGVzY3JpcHRpb24sIHtcbiAgICAgIGlkOiBkZXNjcmlwdGlvbklkLFxuICAgICAgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uXG4gICAgfSksIGpzeChFcnJvcnMsIHtcbiAgICAgIGlkOiBlcnJvck1lc3NhZ2VJZCxcbiAgICAgIGVycm9yczogZXJyb3JzXG4gICAgfSldXG4gIH0pO1xufVxuU2VsZWN0LmNvbmZpZyA9IHtcbiAgdHlwZTogdHlwZSRiLFxuICBrZXllZDogdHJ1ZSxcbiAgbmFtZTogJ1NlbGVjdCcsXG4gIGdyb3VwOiAnc2VsZWN0aW9uJyxcbiAgZW1wdHlWYWx1ZTogbnVsbCxcbiAgc2FuaXRpemVWYWx1ZTogc2FuaXRpemVTaW5nbGVTZWxlY3RWYWx1ZSxcbiAgY3JlYXRlOiAob3B0aW9ucyA9IHt9KSA9PiAoe1xuICAgIGxhYmVsOiAnU2VsZWN0JyxcbiAgICAuLi5jcmVhdGVFbXB0eU9wdGlvbnMob3B0aW9ucylcbiAgfSlcbn07XG5cbmNvbnN0IHR5cGUkYSA9ICdzZXBhcmF0b3InO1xuZnVuY3Rpb24gU2VwYXJhdG9yKCkge1xuICByZXR1cm4ganN4KFwiZGl2XCIsIHtcbiAgICBjbGFzczogZm9ybUZpZWxkQ2xhc3Nlcyh0eXBlJGEpLFxuICAgIGNoaWxkcmVuOiBqc3goXCJoclwiLCB7fSlcbiAgfSk7XG59XG5TZXBhcmF0b3IuY29uZmlnID0ge1xuICB0eXBlOiB0eXBlJGEsXG4gIGtleWVkOiBmYWxzZSxcbiAgbmFtZTogJ1NlcGFyYXRvcicsXG4gIGdyb3VwOiAncHJlc2VudGF0aW9uJyxcbiAgY3JlYXRlOiAob3B0aW9ucyA9IHt9KSA9PiAoe1xuICAgIC4uLm9wdGlvbnNcbiAgfSlcbn07XG5cbmNvbnN0IHR5cGUkOSA9ICdzcGFjZXInO1xuZnVuY3Rpb24gU3BhY2VyKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBmaWVsZFxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IHtcbiAgICBoZWlnaHQgPSA2MFxuICB9ID0gZmllbGQ7XG4gIHJldHVybiBqc3goXCJkaXZcIiwge1xuICAgIGNsYXNzOiBmb3JtRmllbGRDbGFzc2VzKHR5cGUkOSksXG4gICAgc3R5bGU6IHtcbiAgICAgIGhlaWdodDogaGVpZ2h0XG4gICAgfVxuICB9KTtcbn1cblNwYWNlci5jb25maWcgPSB7XG4gIHR5cGU6IHR5cGUkOSxcbiAga2V5ZWQ6IGZhbHNlLFxuICBuYW1lOiAnU3BhY2VyJyxcbiAgZ3JvdXA6ICdwcmVzZW50YXRpb24nLFxuICBjcmVhdGU6IChvcHRpb25zID0ge30pID0+ICh7XG4gICAgaGVpZ2h0OiA2MCxcbiAgICAuLi5vcHRpb25zXG4gIH0pXG59O1xuXG5mdW5jdGlvbiBEeW5hbWljTGlzdChwcm9wcykge1xuICBjb25zdCB7XG4gICAgZmllbGQsXG4gICAgZG9tSWQsXG4gICAgcmVhZG9ubHlcbiAgfSA9IHByb3BzO1xuICBjb25zdCB7XG4gICAgbGFiZWwsXG4gICAgdHlwZSxcbiAgICBzaG93T3V0bGluZVxuICB9ID0gZmllbGQ7XG4gIGNvbnN0IHtcbiAgICBFbXB0eVxuICB9ID0gdXNlQ29udGV4dChGb3JtUmVuZGVyQ29udGV4dCk7XG4gIGNvbnN0IGZ1bGxQcm9wcyA9IHtcbiAgICAuLi5wcm9wcyxcbiAgICBFbXB0eVxuICB9O1xuICByZXR1cm4ganN4cyhcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc05hbWVzKGZvcm1GaWVsZENsYXNzZXModHlwZSwge1xuICAgICAgcmVhZG9ubHlcbiAgICB9KSwgJ2Zqcy1mb3JtLWZpZWxkLWdyb3VwbGlrZScsIHtcbiAgICAgICdmanMtb3V0bGluZWQnOiBzaG93T3V0bGluZVxuICAgIH0pLFxuICAgIHJvbGU6IFwiZ3JvdXBcIixcbiAgICBcImFyaWEtbGFiZWxsZWRieVwiOiBkb21JZCxcbiAgICBjaGlsZHJlbjogW2pzeChMYWJlbCwge1xuICAgICAgaWQ6IGRvbUlkLFxuICAgICAgbGFiZWw6IGxhYmVsXG4gICAgfSksIGpzeChDaGlsZHJlblJlbmRlcmVyLCB7XG4gICAgICAuLi5mdWxsUHJvcHNcbiAgICB9KV1cbiAgfSk7XG59XG5EeW5hbWljTGlzdC5jb25maWcgPSB7XG4gIHR5cGU6ICdkeW5hbWljbGlzdCcsXG4gIHBhdGhlZDogdHJ1ZSxcbiAgcmVwZWF0YWJsZTogdHJ1ZSxcbiAgbmFtZTogJ0R5bmFtaWMgbGlzdCcsXG4gIGdyb3VwOiAnY29udGFpbmVyJyxcbiAgY3JlYXRlOiAob3B0aW9ucyA9IHt9KSA9PiAoe1xuICAgIGxhYmVsOiAnRHluYW1pYyBsaXN0JyxcbiAgICBjb21wb25lbnRzOiBbXSxcbiAgICBzaG93T3V0bGluZTogdHJ1ZSxcbiAgICBpc1JlcGVhdGluZzogdHJ1ZSxcbiAgICBhbGxvd0FkZFJlbW92ZTogdHJ1ZSxcbiAgICBkZWZhdWx0UmVwZXRpdGlvbnM6IDEsXG4gICAgLi4ub3B0aW9uc1xuICB9KVxufTtcblxuZnVuY3Rpb24gU2tpcExpbmsocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGNsYXNzTmFtZSxcbiAgICBsYWJlbCxcbiAgICBvblNraXBcbiAgfSA9IHByb3BzO1xuICBjb25zdCBvbktleURvd24gPSB1c2VDYWxsYmFjayhldmVudCA9PiB7XG4gICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VudGVyJykge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgb25Ta2lwKCk7XG4gICAgfVxuICB9LCBbb25Ta2lwXSk7XG4gIHJldHVybiBqc3goXCJhXCIsIHtcbiAgICBocmVmOiBcIiNcIixcbiAgICBjbGFzczogY2xhc3NOYW1lcygnZmpzLXNraXAtbGluaycsIGNsYXNzTmFtZSksXG4gICAgb25LZXlEb3duOiBvbktleURvd24sXG4gICAgY2hpbGRyZW46IGxhYmVsXG4gIH0pO1xufVxuXG5jb25zdCB0eXBlJDggPSAndGFnbGlzdCc7XG5mdW5jdGlvbiBUYWdsaXN0KHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBkaXNhYmxlZCxcbiAgICBlcnJvcnMgPSBbXSxcbiAgICBvbkZvY3VzLFxuICAgIGRvbUlkLFxuICAgIG9uQmx1cixcbiAgICBmaWVsZCxcbiAgICByZWFkb25seSxcbiAgICB2YWx1ZVxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IHtcbiAgICBkZXNjcmlwdGlvbixcbiAgICBsYWJlbCxcbiAgICB2YWxpZGF0ZSA9IHt9XG4gIH0gPSBmaWVsZDtcbiAgY29uc3Qge1xuICAgIHJlcXVpcmVkXG4gIH0gPSB2YWxpZGF0ZTtcbiAgY29uc3QgW2ZpbHRlciwgc2V0RmlsdGVyXSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW2lzRHJvcGRvd25FeHBhbmRlZCwgc2V0SXNEcm9wZG93bkV4cGFuZGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2lzRXNjYXBlQ2xvc2VkLCBzZXRJc0VzY2FwZUNsb3NlXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICAvKiogQHR5cGUge2ltcG9ydChcInByZWFjdFwiKS5SZWZPYmplY3Q8SFRNTERpdkVsZW1lbnQ+fSAqL1xuICBjb25zdCBmb2N1c1Njb3BlUmVmID0gdXNlUmVmKCk7XG5cbiAgLyoqIEB0eXBlIHtpbXBvcnQoXCJwcmVhY3RcIikuUmVmT2JqZWN0PEhUTUxJbnB1dEVsZW1lbnQ+fSAqL1xuICBjb25zdCBpbnB1dFJlZiA9IHVzZVJlZigpO1xuICBjb25zdCBldmVudEJ1cyA9IHVzZVNlcnZpY2UoJ2V2ZW50QnVzJyk7XG4gIGNvbnN0IHtcbiAgICBsb2FkU3RhdGUsXG4gICAgb3B0aW9uc1xuICB9ID0gdXNlT3B0aW9uc0FzeW5jKGZpZWxkKTtcblxuICAvLyBlbnN1cmVzIHdlIHJlbmRlciBiYXNlZCBvbiBhcnJheSBjb250ZW50IGluc3RlYWQgb2YgcmVmZXJlbmNlXG4gIGNvbnN0IHZhbHVlcyA9IHVzZURlZXBDb21wYXJlTWVtb2l6ZSh2YWx1ZSB8fCBbXSk7XG4gIHVzZUNsZWFudXBNdWx0aVNlbGVjdFZhbHVlKHtcbiAgICBmaWVsZCxcbiAgICBsb2FkU3RhdGUsXG4gICAgb3B0aW9ucyxcbiAgICB2YWx1ZXMsXG4gICAgb25DaGFuZ2U6IHByb3BzLm9uQ2hhbmdlXG4gIH0pO1xuICBjb25zdCBnZXRMYWJlbENvcnJlbGF0aW9uID0gdXNlR2V0TGFiZWxDb3JyZWxhdGlvbihvcHRpb25zKTtcbiAgY29uc3QgaGFzT3B0aW9uc0xlZnQgPSB1c2VNZW1vKCgpID0+IG9wdGlvbnMubGVuZ3RoID4gdmFsdWVzLmxlbmd0aCwgW29wdGlvbnMubGVuZ3RoLCB2YWx1ZXMubGVuZ3RoXSk7XG4gIGNvbnN0IGZpbHRlcmVkT3B0aW9ucyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGlmIChsb2FkU3RhdGUgIT09IExPQURfU1RBVEVTLkxPQURFRCkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBjb25zdCBpc1ZhbGlkRmlsdGVyZWRPcHRpb24gPSBvcHRpb24gPT4ge1xuICAgICAgY29uc3QgZmlsdGVyTWF0Y2hlcyA9IG9wdGlvbi5sYWJlbC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKGZpbHRlci50b0xvd2VyQ2FzZSgpKTtcbiAgICAgIHJldHVybiBmaWx0ZXJNYXRjaGVzICYmICFoYXNFcXVhbFZhbHVlKG9wdGlvbi52YWx1ZSwgdmFsdWVzKTtcbiAgICB9O1xuICAgIHJldHVybiBvcHRpb25zLmZpbHRlcihpc1ZhbGlkRmlsdGVyZWRPcHRpb24pO1xuICB9LCBbZmlsdGVyLCBvcHRpb25zLCB2YWx1ZXMsIGxvYWRTdGF0ZV0pO1xuICBjb25zdCBzZWxlY3RWYWx1ZSA9IHZhbHVlID0+IHtcbiAgICBzZXRGaWx0ZXIoJycpO1xuXG4gICAgLy8gRW5zdXJlIHZhbHVlcyBjYW5ub3QgYmUgZG91YmxlIHNlbGVjdGVkIGR1ZSB0byBsYXRlbmN5XG4gICAgaWYgKHZhbHVlcy5hdCgtMSkgPT09IHZhbHVlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHByb3BzLm9uQ2hhbmdlKHtcbiAgICAgIHZhbHVlOiBbLi4udmFsdWVzLCB2YWx1ZV1cbiAgICB9KTtcbiAgfTtcbiAgY29uc3QgZGVzZWxlY3RWYWx1ZSA9IHZhbHVlID0+IHtcbiAgICBjb25zdCBuZXdWYWx1ZXMgPSB2YWx1ZXMuZmlsdGVyKHYgPT4gIWlzRXF1YWwodiwgdmFsdWUpKTtcbiAgICBwcm9wcy5vbkNoYW5nZSh7XG4gICAgICB2YWx1ZTogbmV3VmFsdWVzXG4gICAgfSk7XG4gIH07XG4gIGNvbnN0IG9uSW5wdXRDaGFuZ2UgPSAoe1xuICAgIHRhcmdldFxuICB9KSA9PiB7XG4gICAgc2V0SXNFc2NhcGVDbG9zZShmYWxzZSk7XG4gICAgc2V0RmlsdGVyKHRhcmdldC52YWx1ZSB8fCAnJyk7XG4gICAgZXZlbnRCdXMuZmlyZSgnZm9ybUZpZWxkLnNlYXJjaCcsIHtcbiAgICAgIGZvcm1GaWVsZDogZmllbGQsXG4gICAgICB2YWx1ZTogdGFyZ2V0LnZhbHVlIHx8ICcnXG4gICAgfSk7XG4gIH07XG4gIGNvbnN0IG9uSW5wdXRLZXlEb3duID0gZSA9PiB7XG4gICAgc3dpdGNoIChlLmtleSkge1xuICAgICAgY2FzZSAnQXJyb3dVcCc6XG4gICAgICBjYXNlICdBcnJvd0Rvd24nOlxuICAgICAgICAvLyBXZSBkbyBub3Qgd2FudCB0aGUgY3Vyc29yIHRvIHNlZWsgaW4gdGhlIHNlYXJjaCBmaWVsZCB3aGVuIHdlIHByZXNzIHVwIGFuZCBkb3duXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdCYWNrc3BhY2UnOlxuICAgICAgICBpZiAoIWZpbHRlciAmJiB2YWx1ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgZGVzZWxlY3RWYWx1ZSh2YWx1ZXNbdmFsdWVzLmxlbmd0aCAtIDFdKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ0VzY2FwZSc6XG4gICAgICAgIHNldElzRXNjYXBlQ2xvc2UodHJ1ZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnRW50ZXInOlxuICAgICAgICBpZiAoaXNFc2NhcGVDbG9zZWQpIHtcbiAgICAgICAgICBzZXRJc0VzY2FwZUNsb3NlKGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICB9XG4gIH07XG4gIGNvbnN0IG9uRWxlbWVudEJsdXIgPSBlID0+IHtcbiAgICBpZiAoZm9jdXNTY29wZVJlZi5jdXJyZW50LmNvbnRhaW5zKGUucmVsYXRlZFRhcmdldCkpIHJldHVybjtcbiAgICBvbkJsdXIgJiYgb25CbHVyKCk7XG4gIH07XG4gIGNvbnN0IG9uRWxlbWVudEZvY3VzID0gZSA9PiB7XG4gICAgaWYgKGZvY3VzU2NvcGVSZWYuY3VycmVudC5jb250YWlucyhlLnJlbGF0ZWRUYXJnZXQpKSByZXR1cm47XG4gICAgb25Gb2N1cyAmJiBvbkZvY3VzKCk7XG4gIH07XG4gIGNvbnN0IG9uSW5wdXRCbHVyID0gZSA9PiB7XG4gICAgaWYgKCFyZWFkb25seSkge1xuICAgICAgc2V0SXNEcm9wZG93bkV4cGFuZGVkKGZhbHNlKTtcbiAgICAgIHNldEZpbHRlcignJyk7XG4gICAgfVxuICAgIG9uRWxlbWVudEJsdXIoZSk7XG4gIH07XG4gIGNvbnN0IG9uSW5wdXRGb2N1cyA9IGUgPT4ge1xuICAgIGlmICghcmVhZG9ubHkpIHtcbiAgICAgIHNldElzRHJvcGRvd25FeHBhbmRlZCh0cnVlKTtcbiAgICB9XG4gICAgb25FbGVtZW50Rm9jdXMoZSk7XG4gIH07XG4gIGNvbnN0IG9uVGFnUmVtb3ZlQ2xpY2sgPSAoZXZlbnQsIHZhbHVlKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgdGFyZ2V0XG4gICAgfSA9IGV2ZW50O1xuICAgIGRlc2VsZWN0VmFsdWUodmFsdWUpO1xuXG4gICAgLy8gcmVzdG9yZSBmb2N1cyBpZiB0aGVyZSBpcyBubyBuZXh0IHNpYmxpbmcgdG8gZm9jdXNcbiAgICBjb25zdCBuZXh0VGFnID0gdGFyZ2V0LmNsb3Nlc3QoJy5manMtdGFnbGlzdC10YWcnKS5uZXh0U2libGluZztcbiAgICBpZiAoIW5leHRUYWcpIHtcbiAgICAgIGlucHV0UmVmLmN1cnJlbnQuZm9jdXMoKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IG9uU2tpcFRvU2VhcmNoID0gKCkgPT4ge1xuICAgIGlucHV0UmVmLmN1cnJlbnQuZm9jdXMoKTtcbiAgfTtcbiAgY29uc3Qgc2hvdWxkRGlzcGxheURyb3Bkb3duID0gdXNlTWVtbygoKSA9PiAhZGlzYWJsZWQgJiYgbG9hZFN0YXRlID09PSBMT0FEX1NUQVRFUy5MT0FERUQgJiYgaXNEcm9wZG93bkV4cGFuZGVkICYmICFpc0VzY2FwZUNsb3NlZCwgW2Rpc2FibGVkLCBpc0Ryb3Bkb3duRXhwYW5kZWQsIGlzRXNjYXBlQ2xvc2VkLCBsb2FkU3RhdGVdKTtcbiAgY29uc3QgZGVzY3JpcHRpb25JZCA9IGAke2RvbUlkfS1kZXNjcmlwdGlvbmA7XG4gIGNvbnN0IGVycm9yTWVzc2FnZUlkID0gYCR7ZG9tSWR9LWVycm9yLW1lc3NhZ2VgO1xuICByZXR1cm4ganN4cyhcImRpdlwiLCB7XG4gICAgcmVmOiBmb2N1c1Njb3BlUmVmLFxuICAgIGNsYXNzOiBmb3JtRmllbGRDbGFzc2VzKHR5cGUkOCwge1xuICAgICAgZXJyb3JzLFxuICAgICAgZGlzYWJsZWQsXG4gICAgICByZWFkb25seVxuICAgIH0pLFxuICAgIG9uS2V5RG93bjogZXZlbnQgPT4ge1xuICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VudGVyJykge1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGNoaWxkcmVuOiBbanN4KExhYmVsLCB7XG4gICAgICBsYWJlbDogbGFiZWwsXG4gICAgICByZXF1aXJlZDogcmVxdWlyZWQsXG4gICAgICBodG1sRm9yOiBkb21JZFxuICAgIH0pLCAhZGlzYWJsZWQgJiYgIXJlYWRvbmx5ICYmICEhdmFsdWVzLmxlbmd0aCAmJiBqc3goU2tpcExpbmssIHtcbiAgICAgIGNsYXNzTmFtZTogXCJmanMtdGFnbGlzdC1za2lwLWxpbmtcIixcbiAgICAgIGxhYmVsOiBcIlNraXAgdG8gc2VhcmNoXCIsXG4gICAgICBvblNraXA6IG9uU2tpcFRvU2VhcmNoXG4gICAgfSksIGpzeHMoXCJkaXZcIiwge1xuICAgICAgY2xhc3M6IGNsYXNzTmFtZXMoJ2Zqcy10YWdsaXN0Jywge1xuICAgICAgICAnZmpzLWRpc2FibGVkJzogZGlzYWJsZWQsXG4gICAgICAgICdmanMtcmVhZG9ubHknOiByZWFkb25seVxuICAgICAgfSksXG4gICAgICBjaGlsZHJlbjogW2xvYWRTdGF0ZSA9PT0gTE9BRF9TVEFURVMuTE9BREVEICYmIGpzeChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzOiBcImZqcy10YWdsaXN0LXRhZ3NcIixcbiAgICAgICAgY2hpbGRyZW46IHZhbHVlcy5tYXAoZW50cnkgPT4ge1xuICAgICAgICAgIHJldHVybiBqc3hzKFwiZGl2XCIsIHtcbiAgICAgICAgICAgIGNsYXNzOiBjbGFzc05hbWVzKCdmanMtdGFnbGlzdC10YWcnLCB7XG4gICAgICAgICAgICAgICdmanMtZGlzYWJsZWQnOiBkaXNhYmxlZCxcbiAgICAgICAgICAgICAgJ2Zqcy1yZWFkb25seSc6IHJlYWRvbmx5XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIG9uTW91c2VEb3duOiBlID0+IGUucHJldmVudERlZmF1bHQoKSxcbiAgICAgICAgICAgIGNoaWxkcmVuOiBbanN4KFwic3BhblwiLCB7XG4gICAgICAgICAgICAgIGNsYXNzOiBcImZqcy10YWdsaXN0LXRhZy1sYWJlbFwiLFxuICAgICAgICAgICAgICBjaGlsZHJlbjogZ2V0TGFiZWxDb3JyZWxhdGlvbihlbnRyeSlcbiAgICAgICAgICAgIH0pLCAhZGlzYWJsZWQgJiYgIXJlYWRvbmx5ICYmIGpzeChcImJ1dHRvblwiLCB7XG4gICAgICAgICAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgICAgICAgICAgIHRpdGxlOiBcIlJlbW92ZSB0YWdcIixcbiAgICAgICAgICAgICAgY2xhc3M6IFwiZmpzLXRhZ2xpc3QtdGFnLXJlbW92ZVwiLFxuICAgICAgICAgICAgICBvbkZvY3VzOiBvbkVsZW1lbnRGb2N1cyxcbiAgICAgICAgICAgICAgb25CbHVyOiBvbkVsZW1lbnRCbHVyLFxuICAgICAgICAgICAgICBvbkNsaWNrOiBldmVudCA9PiBvblRhZ1JlbW92ZUNsaWNrKGV2ZW50LCBlbnRyeSksXG4gICAgICAgICAgICAgIGNoaWxkcmVuOiBqc3goU3ZnWE1hcmssIHt9KVxuICAgICAgICAgICAgfSldXG4gICAgICAgICAgfSwgZW50cnkpO1xuICAgICAgICB9KVxuICAgICAgfSksIGpzeChcImlucHV0XCIsIHtcbiAgICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkLFxuICAgICAgICByZWFkT25seTogcmVhZG9ubHksXG4gICAgICAgIGNsYXNzOiBcImZqcy10YWdsaXN0LWlucHV0XCIsXG4gICAgICAgIHJlZjogaW5wdXRSZWYsXG4gICAgICAgIGlkOiBkb21JZCxcbiAgICAgICAgb25DaGFuZ2U6IG9uSW5wdXRDaGFuZ2UsXG4gICAgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICAgICB2YWx1ZTogZmlsdGVyLFxuICAgICAgICBwbGFjZWhvbGRlcjogZGlzYWJsZWQgfHwgcmVhZG9ubHkgPyB1bmRlZmluZWQgOiAnU2VhcmNoJyxcbiAgICAgICAgYXV0b0NvbXBsZXRlOiBcIm9mZlwiLFxuICAgICAgICBvbktleURvd246IG9uSW5wdXRLZXlEb3duLFxuICAgICAgICBvbk1vdXNlRG93bjogKCkgPT4gc2V0SXNFc2NhcGVDbG9zZShmYWxzZSksXG4gICAgICAgIG9uRm9jdXM6IG9uSW5wdXRGb2N1cyxcbiAgICAgICAgb25CbHVyOiBvbklucHV0Qmx1cixcbiAgICAgICAgXCJhcmlhLWRlc2NyaWJlZGJ5XCI6IFtkZXNjcmlwdGlvbklkLCBlcnJvck1lc3NhZ2VJZF0uam9pbignICcpLFxuICAgICAgICByZXF1aXJlZDogcmVxdWlyZWQsXG4gICAgICAgIFwiYXJpYS1pbnZhbGlkXCI6IGVycm9ycy5sZW5ndGggPiAwXG4gICAgICB9KV1cbiAgICB9KSwganN4KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzOiBcImZqcy10YWdsaXN0LWFuY2hvclwiLFxuICAgICAgY2hpbGRyZW46IHNob3VsZERpc3BsYXlEcm9wZG93biAmJiBqc3goRHJvcGRvd25MaXN0LCB7XG4gICAgICAgIHZhbHVlczogZmlsdGVyZWRPcHRpb25zLFxuICAgICAgICBnZXRMYWJlbDogb3B0aW9uID0+IG9wdGlvbi5sYWJlbCxcbiAgICAgICAgb25WYWx1ZVNlbGVjdGVkOiBvcHRpb24gPT4gc2VsZWN0VmFsdWUob3B0aW9uLnZhbHVlKSxcbiAgICAgICAgZW1wdHlMaXN0TWVzc2FnZTogaGFzT3B0aW9uc0xlZnQgPyAnTm8gcmVzdWx0cycgOiAnQWxsIHZhbHVlcyBzZWxlY3RlZCcsXG4gICAgICAgIGxpc3RlbmVyRWxlbWVudDogaW5wdXRSZWYuY3VycmVudFxuICAgICAgfSlcbiAgICB9KSwganN4KERlc2NyaXB0aW9uLCB7XG4gICAgICBpZDogZGVzY3JpcHRpb25JZCxcbiAgICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvblxuICAgIH0pLCBqc3goRXJyb3JzLCB7XG4gICAgICBpZDogZXJyb3JNZXNzYWdlSWQsXG4gICAgICBlcnJvcnM6IGVycm9yc1xuICAgIH0pXVxuICB9KTtcbn1cblRhZ2xpc3QuY29uZmlnID0ge1xuICB0eXBlOiB0eXBlJDgsXG4gIGtleWVkOiB0cnVlLFxuICBuYW1lOiAnVGFnIGxpc3QnLFxuICBncm91cDogJ3NlbGVjdGlvbicsXG4gIGVtcHR5VmFsdWU6IFtdLFxuICBzYW5pdGl6ZVZhbHVlOiBzYW5pdGl6ZU11bHRpU2VsZWN0VmFsdWUsXG4gIGNyZWF0ZTogKG9wdGlvbnMgPSB7fSkgPT4gKHtcbiAgICBsYWJlbDogJ1RhZyBsaXN0JyxcbiAgICAuLi5jcmVhdGVFbXB0eU9wdGlvbnMob3B0aW9ucylcbiAgfSlcbn07XG5cbmNvbnN0IE5PREVfVFlQRV9URVhUID0gMyxcbiAgTk9ERV9UWVBFX0VMRU1FTlQgPSAxO1xuY29uc3QgQUxMT1dFRF9OT0RFUyA9IFsnaDEnLCAnaDInLCAnaDMnLCAnaDQnLCAnaDUnLCAnaDYnLCAnc3BhbicsICdlbScsICdhJywgJ3AnLCAnZGl2JywgJ3VsJywgJ29sJywgJ2xpJywgJ2hyJywgJ2Jsb2NrcXVvdGUnLCAnaW1nJywgJ3ByZScsICdjb2RlJywgJ2JyJywgJ3N0cm9uZycsICd0YWJsZScsICd0aGVhZCcsICd0Ym9keScsICd0cicsICd0aCcsICd0ZCddO1xuY29uc3QgQUxMT1dFRF9BVFRSSUJVVEVTID0gWydhbGlnbicsICdhbHQnLCAnY2xhc3MnLCAnaHJlZicsICdpZCcsICduYW1lJywgJ3JlbCcsICd0YXJnZXQnLCAnc3JjJ107XG5jb25zdCBBTExPV0VEX1VSSV9QQVRURVJOID0gL14oPzooPzooPzpmfGh0KXRwcz98bWFpbHRvfHRlbHxjYWxsdG98Y2lkfHhtcHApOnxbXmEtel18W2EteisuXFwtXSsoPzpbXmEteisuXFwtOl18JCkpL2k7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdXNlbGVzcy1lc2NhcGVcbmNvbnN0IEFUVFJfV0hJVEVTUEFDRV9QQVRURVJOID0gL1tcXHUwMDAwLVxcdTAwMjBcXHUwMEEwXFx1MTY4MFxcdTE4MEVcXHUyMDAwLVxcdTIwMjlcXHUyMDVGXFx1MzAwMF0vZzsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb250cm9sLXJlZ2V4XG5cbmNvbnN0IEZPUk1fRUxFTUVOVCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvcm0nKTtcblxuLyoqXG4gKiBTYW5pdGl6ZSBhIEhUTUwgc3RyaW5nIGFuZCByZXR1cm4gdGhlIGNsZWFuZWQsIHNhZmUgdmVyc2lvbi5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gaHRtbFxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5cbi8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vZGV2ZWxvcGl0L3NuYXJrZG93bi9pc3N1ZXMvNzBcbmZ1bmN0aW9uIHNhbml0aXplSFRNTChodG1sKSB7XG4gIGNvbnN0IGRvYyA9IG5ldyBET01QYXJzZXIoKS5wYXJzZUZyb21TdHJpbmcoYDwhRE9DVFlQRSBodG1sPlxcbjxodG1sPjxib2R5PjxkaXY+JHtodG1sfWAsICd0ZXh0L2h0bWwnKTtcbiAgZG9jLm5vcm1hbGl6ZSgpO1xuICBjb25zdCBlbGVtZW50ID0gZG9jLmJvZHkuZmlyc3RDaGlsZDtcbiAgaWYgKGVsZW1lbnQpIHtcbiAgICBzYW5pdGl6ZU5vZGUoLyoqIEB0eXBlIEVsZW1lbnQgKi9lbGVtZW50KTtcbiAgICByZXR1cm4gLyoqIEB0eXBlIEVsZW1lbnQgKi9lbGVtZW50LmlubmVySFRNTDtcbiAgfSBlbHNlIHtcbiAgICAvLyBoYW5kbGUgdGhlIGNhc2UgdGhhdCBkb2N1bWVudCBwYXJzaW5nXG4gICAgLy8gZG9lcyBub3Qgd29yayBhdCBhbGwsIGR1ZSB0byBIVE1MIGdpYmJlcmlzaFxuICAgIHJldHVybiAnJztcbiAgfVxufVxuXG4vKipcbiAqIFJlY3Vyc2l2ZWx5IHNhbml0aXplIGEgSFRNTCBub2RlLCBwb3RlbnRpYWxseVxuICogcmVtb3ZpbmcgaXQsIGl0cyBjaGlsZHJlbiBvciBhdHRyaWJ1dGVzLlxuICpcbiAqIEluc3BpcmVkIGJ5IGh0dHBzOi8vZ2l0aHViLmNvbS9kZXZlbG9waXQvc25hcmtkb3duL2lzc3Vlcy83MFxuICogYW5kIGh0dHBzOi8vZ2l0aHViLmNvbS9jdXJlNTMvRE9NUHVyaWZ5LiBTaW1wbGlmaWVkXG4gKiBmb3Igb3VyIHVzZS1jYXNlLlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudH0gbm9kZVxuICovXG5mdW5jdGlvbiBzYW5pdGl6ZU5vZGUobm9kZSkge1xuICAvLyBhbGxvdyB0ZXh0IG5vZGVzXG4gIGlmIChub2RlLm5vZGVUeXBlID09PSBOT0RFX1RZUEVfVEVYVCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIGRpc2FsbG93IGFsbCBvdGhlciBub2RlcyBidXQgRWxlbWVudFxuICBpZiAobm9kZS5ub2RlVHlwZSAhPT0gTk9ERV9UWVBFX0VMRU1FTlQpIHtcbiAgICByZXR1cm4gbm9kZS5yZW1vdmUoKTtcbiAgfVxuICBjb25zdCBsY1RhZyA9IG5vZGUudGFnTmFtZS50b0xvd2VyQ2FzZSgpO1xuXG4gIC8vIGRpc2FsbG93IG5vbi13aGl0ZWxpc3RlZCB0YWdzXG4gIGlmICghQUxMT1dFRF9OT0RFUy5pbmNsdWRlcyhsY1RhZykpIHtcbiAgICByZXR1cm4gbm9kZS5yZW1vdmUoKTtcbiAgfVxuICBjb25zdCBhdHRyaWJ1dGVzID0gbm9kZS5hdHRyaWJ1dGVzO1xuXG4gIC8vIGNsZWFuIGF0dHJpYnV0ZXNcbiAgZm9yIChsZXQgaSA9IGF0dHJpYnV0ZXMubGVuZ3RoOyBpLS07KSB7XG4gICAgY29uc3QgYXR0cmlidXRlID0gYXR0cmlidXRlc1tpXTtcbiAgICBjb25zdCBuYW1lID0gYXR0cmlidXRlLm5hbWU7XG4gICAgY29uc3QgbGNOYW1lID0gbmFtZS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgLy8gbm9ybWFsaXplIG5vZGUgdmFsdWVcbiAgICBjb25zdCB2YWx1ZSA9IGF0dHJpYnV0ZS52YWx1ZS50cmltKCk7XG4gICAgbm9kZS5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG4gICAgY29uc3QgdmFsaWQgPSBpc1ZhbGlkQXR0cmlidXRlKGxjVGFnLCBsY05hbWUsIHZhbHVlKTtcbiAgICBpZiAodmFsaWQpIHtcbiAgICAgIG5vZGUuc2V0QXR0cmlidXRlKG5hbWUsIHZhbHVlKTtcbiAgICB9XG4gIH1cblxuICAvLyBmb3JjZSBub29wZW5lciBvbiB0YXJnZXQ9XCJfYmxhbmtcIiBsaW5rc1xuICBpZiAobGNUYWcgPT09ICdhJyAmJiBub2RlLmdldEF0dHJpYnV0ZSgndGFyZ2V0JykgPT09ICdfYmxhbmsnICYmIG5vZGUuZ2V0QXR0cmlidXRlKCdyZWwnKSAhPT0gJ25vb3BlbmVyJykge1xuICAgIG5vZGUuc2V0QXR0cmlidXRlKCdyZWwnLCAnbm9vcGVuZXInKTtcbiAgfVxuICBmb3IgKGxldCBpID0gbm9kZS5jaGlsZE5vZGVzLmxlbmd0aDsgaS0tOykge1xuICAgIHNhbml0aXplTm9kZSgvKiogQHR5cGUgRWxlbWVudCAqL25vZGUuY2hpbGROb2Rlc1tpXSk7XG4gIH1cbn1cblxuLyoqXG4gKiBWYWxpZGF0ZXMgYXR0cmlidXRlcyBmb3IgdmFsaWRpdHkuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGxjVGFnXG4gKiBAcGFyYW0ge3N0cmluZ30gbGNOYW1lXG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGlzVmFsaWRBdHRyaWJ1dGUobGNUYWcsIGxjTmFtZSwgdmFsdWUpIHtcbiAgLy8gZGlzYWxsb3cgbW9zdCBhdHRyaWJ1dGVzIGJhc2VkIG9uIHdoaXRlbGlzdFxuICBpZiAoIUFMTE9XRURfQVRUUklCVVRFUy5pbmNsdWRlcyhsY05hbWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy8gZGlzYWxsb3cgXCJET00gY2xvYmJlcmluZ1wiIC8gcG9sdXRpb24gb2YgZG9jdW1lbnQgYW5kIHdyYXBwaW5nIGZvcm0gZWxlbWVudHNcbiAgaWYgKChsY05hbWUgPT09ICdpZCcgfHwgbGNOYW1lID09PSAnbmFtZScpICYmICh2YWx1ZSBpbiBkb2N1bWVudCB8fCB2YWx1ZSBpbiBGT1JNX0VMRU1FTlQpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChsY05hbWUgPT09ICd0YXJnZXQnICYmIHZhbHVlICE9PSAnX2JsYW5rJykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIGFsbG93IHZhbGlkIHVybCBsaW5rcyBvbmx5XG4gIGlmIChsY05hbWUgPT09ICdocmVmJyAmJiAhQUxMT1dFRF9VUklfUEFUVEVSTi50ZXN0KHZhbHVlLnJlcGxhY2UoQVRUUl9XSElURVNQQUNFX1BBVFRFUk4sICcnKSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbmNvbnN0IHR5cGUkNyA9ICd0ZXh0JztcbmZ1bmN0aW9uIFRleHQocHJvcHMpIHtcbiAgY29uc3QgZm9ybSA9IHVzZVNlcnZpY2UoJ2Zvcm0nKTtcbiAgY29uc3Qge1xuICAgIHRleHRMaW5rVGFyZ2V0XG4gIH0gPSBmb3JtLl9nZXRTdGF0ZSgpLnByb3BlcnRpZXM7XG4gIGNvbnN0IHtcbiAgICBmaWVsZCxcbiAgICBkaXNhYmxlTGlua3NcbiAgfSA9IHByb3BzO1xuICBjb25zdCB7XG4gICAgdGV4dCA9ICcnLFxuICAgIHN0cmljdCA9IGZhbHNlXG4gIH0gPSBmaWVsZDtcbiAgY29uc3QgbWFya2Rvd25SZW5kZXJlciA9IHVzZVNlcnZpY2UoJ21hcmtkb3duUmVuZGVyZXInKTtcblxuICAvLyBmZWVsZXJzID0+IHB1cmUgbWFya2Rvd25cbiAgY29uc3QgbWFya2Rvd24gPSB1c2VUZW1wbGF0ZUV2YWx1YXRpb24odGV4dCwge1xuICAgIGRlYnVnOiB0cnVlLFxuICAgIHN0cmljdFxuICB9KTtcblxuICAvLyBtYXJrZG93biA9PiBodG1sXG4gIGNvbnN0IGh0bWwgPSB1c2VNZW1vKCgpID0+IG1hcmtkb3duUmVuZGVyZXIucmVuZGVyKG1hcmtkb3duKSwgW21hcmtkb3duUmVuZGVyZXIsIG1hcmtkb3duXSk7XG4gIGNvbnN0IHNhbml0aXplQW5kVHJhbnNmb3JtTGlua3MgPSB1c2VDYWxsYmFjayh1bnNhZmVIdG1sID0+IHtcbiAgICBjb25zdCBodG1sID0gc2FuaXRpemVIVE1MKHVuc2FmZUh0bWwpO1xuICAgIGNvbnN0IHRlbXBEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0ZW1wRGl2LmlubmVySFRNTCA9IGh0bWw7XG4gICAgY29uc3QgbGlua3MgPSB0ZW1wRGl2LnF1ZXJ5U2VsZWN0b3JBbGwoJ2EnKTtcbiAgICBsaW5rcy5mb3JFYWNoKGxpbmsgPT4ge1xuICAgICAgaWYgKGRpc2FibGVMaW5rcykge1xuICAgICAgICBsaW5rLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnZmpzLWRpc2FibGVkLWxpbmsnKTtcbiAgICAgICAgbGluay5zZXRBdHRyaWJ1dGUoJ3RhYkluZGV4JywgJy0xJyk7XG4gICAgICB9XG4gICAgICBpZiAodGV4dExpbmtUYXJnZXQpIHtcbiAgICAgICAgbGluay5zZXRBdHRyaWJ1dGUoJ3RhcmdldCcsIHRleHRMaW5rVGFyZ2V0KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gdGVtcERpdi5pbm5lckhUTUw7XG4gIH0sIFtkaXNhYmxlTGlua3MsIHRleHRMaW5rVGFyZ2V0XSk7XG4gIGNvbnN0IGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MID0gdXNlRGFuZ2Vyb3VzSFRNTFdyYXBwZXIoe1xuICAgIGh0bWwsXG4gICAgdHJhbnNmb3JtOiBzYW5pdGl6ZUFuZFRyYW5zZm9ybUxpbmtzLFxuICAgIHNhbml0aXplOiBmYWxzZSxcbiAgICBzYW5pdGl6ZVN0eWxlVGFnczogZmFsc2VcbiAgfSk7XG4gIHJldHVybiBqc3goXCJkaXZcIiwge1xuICAgIGNsYXNzOiBmb3JtRmllbGRDbGFzc2VzKHR5cGUkNyksXG4gICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6IGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MXG4gIH0pO1xufVxuVGV4dC5jb25maWcgPSB7XG4gIHR5cGU6IHR5cGUkNyxcbiAga2V5ZWQ6IGZhbHNlLFxuICBuYW1lOiAnVGV4dCB2aWV3JyxcbiAgZ3JvdXA6ICdwcmVzZW50YXRpb24nLFxuICBjcmVhdGU6IChvcHRpb25zID0ge30pID0+ICh7XG4gICAgdGV4dDogVEVYVF9WSUVXX0RFRkFVTFRfVEVYVCxcbiAgICAuLi5vcHRpb25zXG4gIH0pLFxuICBnZXRTdWJoZWFkaW5nOiBmaWVsZCA9PiB7XG4gICAgdGV4dFRvTGFiZWwoZmllbGQudGV4dCk7XG4gIH1cbn07XG5cbmNvbnN0IHR5cGUkNiA9ICdodG1sJztcbmZ1bmN0aW9uIEh0bWwocHJvcHMpIHtcbiAgY29uc3QgZm9ybSA9IHVzZVNlcnZpY2UoJ2Zvcm0nKTtcbiAgY29uc3Qge1xuICAgIHRleHRMaW5rVGFyZ2V0XG4gIH0gPSBmb3JtLl9nZXRTdGF0ZSgpLnByb3BlcnRpZXM7XG4gIGNvbnN0IHtcbiAgICBmaWVsZCxcbiAgICBkaXNhYmxlTGlua3MsXG4gICAgZG9tSWRcbiAgfSA9IHByb3BzO1xuICBjb25zdCB7XG4gICAgY29udGVudCA9ICcnLFxuICAgIHN0cmljdCA9IGZhbHNlXG4gIH0gPSBmaWVsZDtcbiAgY29uc3Qgc3R5bGVTY29wZSA9IGAke2RvbUlkfS1zdHlsZS1zY29wZWA7XG5cbiAgLy8gd2UgZXNjYXBlIEhUTUwgd2l0aGluIHRoZSB0ZW1wbGF0ZSBldmFsdWF0aW9uIHRvIHByZXZlbnQgY2xpY2tqYWNraW5nIGF0dGFja3NcbiAgY29uc3QgaHRtbCA9IHVzZVRlbXBsYXRlRXZhbHVhdGlvbihjb250ZW50LCB7XG4gICAgZGVidWc6IHRydWUsXG4gICAgc3RyaWN0LFxuICAgIHNhbml0aXplcjogZXNjYXBlSFRNTFxuICB9KTtcbiAgY29uc3QgdHJhbnNmb3JtID0gdXNlQ2FsbGJhY2soaHRtbCA9PiB7XG4gICAgY29uc3QgdGVtcERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRlbXBEaXYuaW5uZXJIVE1MID0gaHRtbDtcblxuICAgIC8vICgxKSBhcHBseSBtb2RpZmljYXRpb25zIHRvIGxpbmtzXG5cbiAgICBjb25zdCBsaW5rcyA9IHRlbXBEaXYucXVlcnlTZWxlY3RvckFsbCgnYScpO1xuICAgIGxpbmtzLmZvckVhY2gobGluayA9PiB7XG4gICAgICBpZiAoZGlzYWJsZUxpbmtzKSB7XG4gICAgICAgIGxpbmsuc2V0QXR0cmlidXRlKCdjbGFzcycsICdmanMtZGlzYWJsZWQtbGluaycpO1xuICAgICAgICBsaW5rLnNldEF0dHJpYnV0ZSgndGFiSW5kZXgnLCAnLTEnKTtcbiAgICAgIH1cbiAgICAgIGlmICh0ZXh0TGlua1RhcmdldCkge1xuICAgICAgICBsaW5rLnNldEF0dHJpYnV0ZSgndGFyZ2V0JywgdGV4dExpbmtUYXJnZXQpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gKDIpIHNjb3BlIHN0eWxlcyB0byB0aGUgcm9vdCBkaXZcbiAgICB3cmFwQ1NTU3R5bGVzKHRlbXBEaXYsIGAuJHtzdHlsZVNjb3BlfWApO1xuICAgIHJldHVybiB0ZW1wRGl2LmlubmVySFRNTDtcbiAgfSwgW2Rpc2FibGVMaW5rcywgc3R5bGVTY29wZSwgdGV4dExpbmtUYXJnZXRdKTtcbiAgY29uc3QgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwgPSB1c2VEYW5nZXJvdXNIVE1MV3JhcHBlcih7XG4gICAgaHRtbCxcbiAgICB0cmFuc2Zvcm0sXG4gICAgc2FuaXRpemU6IHRydWUsXG4gICAgc2FuaXRpemVTdHlsZVRhZ3M6IGZhbHNlXG4gIH0pO1xuICByZXR1cm4ganN4KFwiZGl2XCIsIHtcbiAgICBjbGFzczogY2xhc3NOYW1lcyhmb3JtRmllbGRDbGFzc2VzKHR5cGUkNiksIHN0eWxlU2NvcGUpLFxuICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MOiBkYW5nZXJvdXNseVNldElubmVySFRNTFxuICB9KTtcbn1cbkh0bWwuY29uZmlnID0ge1xuICB0eXBlOiB0eXBlJDYsXG4gIGtleWVkOiBmYWxzZSxcbiAgbmFtZTogJ0hUTUwgdmlldycsXG4gIGdyb3VwOiAncHJlc2VudGF0aW9uJyxcbiAgY3JlYXRlOiAob3B0aW9ucyA9IHt9KSA9PiAoe1xuICAgIGNvbnRlbnQ6ICcnLFxuICAgIC4uLm9wdGlvbnNcbiAgfSlcbn07XG5cbmNvbnN0IHR5cGUkNSA9ICdleHByZXNzaW9uJztcbmZ1bmN0aW9uIEV4cHJlc3Npb25GaWVsZChwcm9wcykge1xuICBjb25zdCB7XG4gICAgZmllbGQsXG4gICAgb25DaGFuZ2UsXG4gICAgdmFsdWVcbiAgfSA9IHByb3BzO1xuICBjb25zdCB7XG4gICAgY29tcHV0ZU9uLFxuICAgIGV4cHJlc3Npb25cbiAgfSA9IGZpZWxkO1xuICBjb25zdCBldmFsdWF0aW9uID0gdXNlRXhwcmVzc2lvbkV2YWx1YXRpb24oZXhwcmVzc2lvbik7XG4gIGNvbnN0IGV2YWx1YXRpb25NZW1vID0gdXNlRGVlcENvbXBhcmVNZW1vaXplKGV2YWx1YXRpb24pO1xuICBjb25zdCBldmVudEJ1cyA9IHVzZVNlcnZpY2UoJ2V2ZW50QnVzJyk7XG4gIGNvbnN0IGV4cHJlc3Npb25Mb29wUHJldmVudGVyID0gdXNlU2VydmljZSgnZXhwcmVzc2lvbkxvb3BQcmV2ZW50ZXInKTtcbiAgY29uc3Qgc2VuZFZhbHVlID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIG9uQ2hhbmdlICYmIG9uQ2hhbmdlKHtcbiAgICAgIGZpZWxkLFxuICAgICAgdmFsdWU6IGV2YWx1YXRpb25NZW1vLFxuICAgICAgc2hvdWxkTm90UmVjb21wdXRlOiB0cnVlXG4gICAgfSk7XG4gIH0sIFtmaWVsZCwgZXZhbHVhdGlvbk1lbW8sIG9uQ2hhbmdlXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGNvbXB1dGVPbiAhPT0gJ2NoYW5nZScgfHwgaXNFcXVhbChldmFsdWF0aW9uTWVtbywgdmFsdWUpIHx8ICFleHByZXNzaW9uTG9vcFByZXZlbnRlci5yZWdpc3RlckV4cHJlc3Npb25FeGVjdXRpb24odGhpcykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2VuZFZhbHVlKCk7XG4gIH0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChjb21wdXRlT24gPT09ICdwcmVzdWJtaXQnKSB7XG4gICAgICBldmVudEJ1cy5vbigncHJlc3VibWl0Jywgc2VuZFZhbHVlKTtcbiAgICAgIHJldHVybiAoKSA9PiBldmVudEJ1cy5vZmYoJ3ByZXN1Ym1pdCcsIHNlbmRWYWx1ZSk7XG4gICAgfVxuICB9LCBbY29tcHV0ZU9uLCBzZW5kVmFsdWUsIGV2ZW50QnVzXSk7XG4gIHJldHVybiBudWxsO1xufVxuRXhwcmVzc2lvbkZpZWxkLmNvbmZpZyA9IHtcbiAgdHlwZTogdHlwZSQ1LFxuICBuYW1lOiAnRXhwcmVzc2lvbicsXG4gIGdyb3VwOiAnYmFzaWMtaW5wdXQnLFxuICBrZXllZDogdHJ1ZSxcbiAgZW1wdHlWYWx1ZTogbnVsbCxcbiAgZXNjYXBlR3JpZFJlbmRlcjogdHJ1ZSxcbiAgY3JlYXRlOiAob3B0aW9ucyA9IHt9KSA9PiAoe1xuICAgIGNvbXB1dGVPbjogJ2NoYW5nZScsXG4gICAgLi4ub3B0aW9uc1xuICB9KVxufTtcblxuY29uc3QgdHlwZSQ0ID0gJ3RleHRmaWVsZCc7XG5mdW5jdGlvbiBUZXh0ZmllbGQocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGRpc2FibGVkLFxuICAgIGVycm9ycyA9IFtdLFxuICAgIGRvbUlkLFxuICAgIG9uQmx1cixcbiAgICBvbkZvY3VzLFxuICAgIGZpZWxkLFxuICAgIHJlYWRvbmx5LFxuICAgIHZhbHVlID0gJydcbiAgfSA9IHByb3BzO1xuICBjb25zdCB7XG4gICAgZGVzY3JpcHRpb24sXG4gICAgbGFiZWwsXG4gICAgYXBwZWFyYW5jZSA9IHt9LFxuICAgIHZhbGlkYXRlID0ge31cbiAgfSA9IGZpZWxkO1xuICBjb25zdCB7XG4gICAgcHJlZml4QWRvcm5lcixcbiAgICBzdWZmaXhBZG9ybmVyXG4gIH0gPSBhcHBlYXJhbmNlO1xuICBjb25zdCB7XG4gICAgcmVxdWlyZWRcbiAgfSA9IHZhbGlkYXRlO1xuICBjb25zdCBbb25DaGFuZ2UsIGZsdXNoT25DaGFuZ2VdID0gdXNlRmx1c2hEZWJvdW5jZSgoe1xuICAgIHRhcmdldFxuICB9KSA9PiB7XG4gICAgcHJvcHMub25DaGFuZ2Uoe1xuICAgICAgdmFsdWU6IHRhcmdldC52YWx1ZVxuICAgIH0pO1xuICB9KTtcblxuICAvKipcbiAgICogQHBhcmFtIHtpbXBvcnQoJ3ByZWFjdCcpLkpTWC5UYXJnZXRlZEV2ZW50PEhUTUxJbnB1dEVsZW1lbnQsIEV2ZW50Pn0gZXZlbnRcbiAgICovXG4gIGNvbnN0IG9uSW5wdXRDaGFuZ2UgPSBldmVudCA9PiB7XG4gICAgb25DaGFuZ2Uoe1xuICAgICAgdGFyZ2V0OiBldmVudC50YXJnZXRcbiAgICB9KTtcbiAgfTtcbiAgY29uc3Qgb25JbnB1dEJsdXIgPSAoKSA9PiB7XG4gICAgZmx1c2hPbkNoYW5nZSAmJiBmbHVzaE9uQ2hhbmdlKCk7XG4gICAgb25CbHVyICYmIG9uQmx1cigpO1xuICB9O1xuICBjb25zdCBvbklucHV0Rm9jdXMgPSAoKSA9PiB7XG4gICAgb25Gb2N1cyAmJiBvbkZvY3VzKCk7XG4gIH07XG4gIGNvbnN0IG9uS2V5RG93biA9IGUgPT4ge1xuICAgIGlmIChlLmNvZGUgPT09ICdFbnRlcicpIHtcbiAgICAgIGZsdXNoT25DaGFuZ2UgJiYgZmx1c2hPbkNoYW5nZSgpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgZGVzY3JpcHRpb25JZCA9IGAke2RvbUlkfS1kZXNjcmlwdGlvbmA7XG4gIGNvbnN0IGVycm9yTWVzc2FnZUlkID0gYCR7ZG9tSWR9LWVycm9yLW1lc3NhZ2VgO1xuICByZXR1cm4ganN4cyhcImRpdlwiLCB7XG4gICAgY2xhc3M6IGZvcm1GaWVsZENsYXNzZXModHlwZSQ0LCB7XG4gICAgICBlcnJvcnMsXG4gICAgICBkaXNhYmxlZCxcbiAgICAgIHJlYWRvbmx5XG4gICAgfSksXG4gICAgY2hpbGRyZW46IFtqc3goTGFiZWwsIHtcbiAgICAgIGh0bWxGb3I6IGRvbUlkLFxuICAgICAgbGFiZWw6IGxhYmVsLFxuICAgICAgcmVxdWlyZWQ6IHJlcXVpcmVkXG4gICAgfSksIGpzeChUZW1wbGF0ZWRJbnB1dEFkb3JuZXIsIHtcbiAgICAgIGRpc2FibGVkOiBkaXNhYmxlZCxcbiAgICAgIHJlYWRvbmx5OiByZWFkb25seSxcbiAgICAgIHByZTogcHJlZml4QWRvcm5lcixcbiAgICAgIHBvc3Q6IHN1ZmZpeEFkb3JuZXIsXG4gICAgICBjaGlsZHJlbjoganN4KFwiaW5wdXRcIiwge1xuICAgICAgICBjbGFzczogXCJmanMtaW5wdXRcIixcbiAgICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkLFxuICAgICAgICByZWFkT25seTogcmVhZG9ubHksXG4gICAgICAgIGlkOiBkb21JZCxcbiAgICAgICAgb25JbnB1dDogb25JbnB1dENoYW5nZSxcbiAgICAgICAgb25CbHVyOiBvbklucHV0Qmx1cixcbiAgICAgICAgb25Gb2N1czogb25JbnB1dEZvY3VzLFxuICAgICAgICBvbktleURvd246IG9uS2V5RG93bixcbiAgICAgICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgXCJhcmlhLWRlc2NyaWJlZGJ5XCI6IFtkZXNjcmlwdGlvbklkLCBlcnJvck1lc3NhZ2VJZF0uam9pbignICcpLFxuICAgICAgICByZXF1aXJlZDogcmVxdWlyZWQsXG4gICAgICAgIFwiYXJpYS1pbnZhbGlkXCI6IGVycm9ycy5sZW5ndGggPiAwXG4gICAgICB9KVxuICAgIH0pLCBqc3goRGVzY3JpcHRpb24sIHtcbiAgICAgIGlkOiBkZXNjcmlwdGlvbklkLFxuICAgICAgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uXG4gICAgfSksIGpzeChFcnJvcnMsIHtcbiAgICAgIGlkOiBlcnJvck1lc3NhZ2VJZCxcbiAgICAgIGVycm9yczogZXJyb3JzXG4gICAgfSldXG4gIH0pO1xufVxuVGV4dGZpZWxkLmNvbmZpZyA9IHtcbiAgdHlwZTogdHlwZSQ0LFxuICBrZXllZDogdHJ1ZSxcbiAgbmFtZTogJ1RleHQgZmllbGQnLFxuICBncm91cDogJ2Jhc2ljLWlucHV0JyxcbiAgZW1wdHlWYWx1ZTogJycsXG4gIHNhbml0aXplVmFsdWU6ICh7XG4gICAgdmFsdWVcbiAgfSkgPT4ge1xuICAgIGlmIChpc0FycmF5KHZhbHVlKSB8fCBpc09iamVjdCh2YWx1ZSkgfHwgaXNOaWwodmFsdWUpKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgLy8gc2FuaXRpemUgbmV3bGluZXMgdG8gc3BhY2VzXG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiB2YWx1ZS5yZXBsYWNlKC9bXFxyXFxuXFx0XS9nLCAnICcpO1xuICAgIH1cbiAgICByZXR1cm4gU3RyaW5nKHZhbHVlKTtcbiAgfSxcbiAgY3JlYXRlOiAob3B0aW9ucyA9IHt9KSA9PiAoe1xuICAgIGxhYmVsOiAnVGV4dCBmaWVsZCcsXG4gICAgLi4ub3B0aW9uc1xuICB9KVxufTtcblxuY29uc3QgdHlwZSQzID0gJ3RleHRhcmVhJztcbmZ1bmN0aW9uIFRleHRhcmVhKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBkaXNhYmxlZCxcbiAgICBlcnJvcnMgPSBbXSxcbiAgICBkb21JZCxcbiAgICBvbkJsdXIsXG4gICAgb25Gb2N1cyxcbiAgICBmaWVsZCxcbiAgICByZWFkb25seSxcbiAgICB2YWx1ZSA9ICcnXG4gIH0gPSBwcm9wcztcbiAgY29uc3Qge1xuICAgIGRlc2NyaXB0aW9uLFxuICAgIGxhYmVsLFxuICAgIHZhbGlkYXRlID0ge31cbiAgfSA9IGZpZWxkO1xuICBjb25zdCB7XG4gICAgcmVxdWlyZWRcbiAgfSA9IHZhbGlkYXRlO1xuICBjb25zdCB0ZXh0YXJlYVJlZiA9IHVzZVJlZigpO1xuICBjb25zdCBbb25DaGFuZ2UsIGZsdXNoT25DaGFuZ2VdID0gdXNlRmx1c2hEZWJvdW5jZSgoe1xuICAgIHRhcmdldFxuICB9KSA9PiB7XG4gICAgcHJvcHMub25DaGFuZ2Uoe1xuICAgICAgdmFsdWU6IHRhcmdldC52YWx1ZVxuICAgIH0pO1xuICB9KTtcbiAgY29uc3Qgb25JbnB1dEJsdXIgPSAoKSA9PiB7XG4gICAgZmx1c2hPbkNoYW5nZSAmJiBmbHVzaE9uQ2hhbmdlKCk7XG4gICAgb25CbHVyICYmIG9uQmx1cigpO1xuICB9O1xuICBjb25zdCBvbklucHV0Rm9jdXMgPSAoKSA9PiB7XG4gICAgb25Gb2N1cyAmJiBvbkZvY3VzKCk7XG4gIH07XG4gIGNvbnN0IG9uSW5wdXRDaGFuZ2UgPSBldmVudCA9PiB7XG4gICAgb25DaGFuZ2Uoe1xuICAgICAgdGFyZ2V0OiBldmVudC50YXJnZXRcbiAgICB9KTtcbiAgICBhdXRvU2l6ZVRleHRhcmVhKHRleHRhcmVhUmVmLmN1cnJlbnQpO1xuICB9O1xuICB1c2VMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIGF1dG9TaXplVGV4dGFyZWEodGV4dGFyZWFSZWYuY3VycmVudCk7XG4gIH0sIFt2YWx1ZV0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGF1dG9TaXplVGV4dGFyZWEodGV4dGFyZWFSZWYuY3VycmVudCk7XG4gIH0sIFtdKTtcbiAgY29uc3QgZGVzY3JpcHRpb25JZCA9IGAke2RvbUlkfS1kZXNjcmlwdGlvbmA7XG4gIGNvbnN0IGVycm9yTWVzc2FnZUlkID0gYCR7ZG9tSWR9LWVycm9yLW1lc3NhZ2VgO1xuICByZXR1cm4ganN4cyhcImRpdlwiLCB7XG4gICAgY2xhc3M6IGZvcm1GaWVsZENsYXNzZXModHlwZSQzLCB7XG4gICAgICBlcnJvcnMsXG4gICAgICBkaXNhYmxlZCxcbiAgICAgIHJlYWRvbmx5XG4gICAgfSksXG4gICAgY2hpbGRyZW46IFtqc3goTGFiZWwsIHtcbiAgICAgIGh0bWxGb3I6IGRvbUlkLFxuICAgICAgbGFiZWw6IGxhYmVsLFxuICAgICAgcmVxdWlyZWQ6IHJlcXVpcmVkXG4gICAgfSksIGpzeChcInRleHRhcmVhXCIsIHtcbiAgICAgIGNsYXNzOiBcImZqcy10ZXh0YXJlYVwiLFxuICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkLFxuICAgICAgcmVhZE9ubHk6IHJlYWRvbmx5LFxuICAgICAgaWQ6IGRvbUlkLFxuICAgICAgb25JbnB1dDogb25JbnB1dENoYW5nZSxcbiAgICAgIG9uQmx1cjogb25JbnB1dEJsdXIsXG4gICAgICBvbkZvY3VzOiBvbklucHV0Rm9jdXMsXG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICByZWY6IHRleHRhcmVhUmVmLFxuICAgICAgXCJhcmlhLWRlc2NyaWJlZGJ5XCI6IFtkZXNjcmlwdGlvbklkLCBlcnJvck1lc3NhZ2VJZF0uam9pbignICcpLFxuICAgICAgcmVxdWlyZWQ6IHJlcXVpcmVkLFxuICAgICAgXCJhcmlhLWludmFsaWRcIjogZXJyb3JzLmxlbmd0aCA+IDBcbiAgICB9KSwganN4KERlc2NyaXB0aW9uLCB7XG4gICAgICBpZDogZGVzY3JpcHRpb25JZCxcbiAgICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvblxuICAgIH0pLCBqc3goRXJyb3JzLCB7XG4gICAgICBpZDogZXJyb3JNZXNzYWdlSWQsXG4gICAgICBlcnJvcnM6IGVycm9yc1xuICAgIH0pXVxuICB9KTtcbn1cblRleHRhcmVhLmNvbmZpZyA9IHtcbiAgdHlwZTogdHlwZSQzLFxuICBrZXllZDogdHJ1ZSxcbiAgbmFtZTogJ1RleHQgYXJlYScsXG4gIGdyb3VwOiAnYmFzaWMtaW5wdXQnLFxuICBlbXB0eVZhbHVlOiAnJyxcbiAgc2FuaXRpemVWYWx1ZTogKHtcbiAgICB2YWx1ZVxuICB9KSA9PiBpc0FycmF5KHZhbHVlKSB8fCBpc09iamVjdCh2YWx1ZSkgfHwgaXNOaWwodmFsdWUpID8gJycgOiBTdHJpbmcodmFsdWUpLFxuICBjcmVhdGU6IChvcHRpb25zID0ge30pID0+ICh7XG4gICAgbGFiZWw6ICdUZXh0IGFyZWEnLFxuICAgIC4uLm9wdGlvbnNcbiAgfSlcbn07XG5jb25zdCBhdXRvU2l6ZVRleHRhcmVhID0gdGV4dGFyZWEgPT4ge1xuICAvLyBFbnN1cmVzIHRoZSB0ZXh0YXJlYSBzaHJpbmtzIGJhY2ssIGFuZCBpbXByb3ZlcyByZXNpemluZyBiZWhhdmlvciBjb25zaXN0ZW5jeVxuICB0ZXh0YXJlYS5zdHlsZS5oZWlnaHQgPSAnMHB4JztcbiAgY29uc3QgY29tcHV0ZWQgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0ZXh0YXJlYSk7XG4gIGNvbnN0IGhlaWdodEZyb21MaW5lcyA9ICgpID0+IHtcbiAgICBjb25zdCBsaW5lSGVpZ2h0ID0gcGFyc2VJbnQoY29tcHV0ZWQuZ2V0UHJvcGVydHlWYWx1ZSgnbGluZS1oZWlnaHQnKS5yZXBsYWNlKCdweCcsICcnKSkgfHwgMDtcbiAgICBjb25zdCBsaW5lcyA9IHRleHRhcmVhLnZhbHVlID8gdGV4dGFyZWEudmFsdWUudG9TdHJpbmcoKS5zcGxpdCgnXFxuJykubGVuZ3RoIDogMDtcbiAgICByZXR1cm4gbGluZXMgKiBsaW5lSGVpZ2h0O1xuICB9O1xuICBjb25zdCBjYWxjdWxhdGVkSGVpZ2h0ID0gcGFyc2VJbnQoY29tcHV0ZWQuZ2V0UHJvcGVydHlWYWx1ZSgnYm9yZGVyLXRvcC13aWR0aCcpKSArIHBhcnNlSW50KGNvbXB1dGVkLmdldFByb3BlcnR5VmFsdWUoJ3BhZGRpbmctdG9wJykpICsgKHRleHRhcmVhLnNjcm9sbEhlaWdodCB8fCBoZWlnaHRGcm9tTGluZXMoKSkgKyBwYXJzZUludChjb21wdXRlZC5nZXRQcm9wZXJ0eVZhbHVlKCdwYWRkaW5nLWJvdHRvbScpKSArIHBhcnNlSW50KGNvbXB1dGVkLmdldFByb3BlcnR5VmFsdWUoJ2JvcmRlci1ib3R0b20td2lkdGgnKSk7XG4gIGNvbnN0IG1pbkhlaWdodCA9IDc1O1xuICBjb25zdCBtYXhIZWlnaHQgPSAzNTA7XG4gIGNvbnN0IGRpc3BsYXlIZWlnaHQgPSBNYXRoLm1heChNYXRoLm1pbihjYWxjdWxhdGVkSGVpZ2h0IHx8IDAsIG1heEhlaWdodCksIG1pbkhlaWdodCk7XG4gIHRleHRhcmVhLnN0eWxlLmhlaWdodCA9IGAke2Rpc3BsYXlIZWlnaHR9cHhgO1xuXG4gIC8vIE92ZXJmbG93IGlzIGhpZGRlbiBieSBkZWZhdWx0IHRvIGhpZGUgc2Nyb2xsYmFyIGZsaWNrZXJpbmdcbiAgdGV4dGFyZWEuc3R5bGUub3ZlcmZsb3cgPSBjYWxjdWxhdGVkSGVpZ2h0ID4gbWF4SGVpZ2h0ID8gJ3Zpc2libGUnIDogJ2hpZGRlbic7XG59O1xuXG52YXIgX3BhdGgkODtcbmZ1bmN0aW9uIF9leHRlbmRzJDgoKSB7IHJldHVybiBfZXh0ZW5kcyQ4ID0gT2JqZWN0LmFzc2lnbiA/IE9iamVjdC5hc3NpZ24uYmluZCgpIDogZnVuY3Rpb24gKG4pIHsgZm9yICh2YXIgZSA9IDE7IGUgPCBhcmd1bWVudHMubGVuZ3RoOyBlKyspIHsgdmFyIHQgPSBhcmd1bWVudHNbZV07IGZvciAodmFyIHIgaW4gdCkgKHt9KS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsIHIpICYmIChuW3JdID0gdFtyXSk7IH0gcmV0dXJuIG47IH0sIF9leHRlbmRzJDguYXBwbHkobnVsbCwgYXJndW1lbnRzKTsgfVxudmFyIFN2Z0Fycm93RG93biA9IGZ1bmN0aW9uIFN2Z0Fycm93RG93bihwcm9wcykge1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgX2V4dGVuZHMkOCh7XG4gICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICB2aWV3Qm94OiBcIjAgMCAzMiAzMlwiXG4gIH0sIHByb3BzKSwgX3BhdGgkOCB8fCAoX3BhdGgkOCA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZmlsbDogXCJjdXJyZW50Y29sb3JcIixcbiAgICBkOiBcIk0yNC41OSAxNi41OSAxNyAyNC4xN1Y0aC0ydjIwLjE3bC03LjU5LTcuNThMNiAxOGwxMCAxMCAxMC0xMHpcIlxuICB9KSkpO1xufTtcblxudmFyIF9wYXRoJDc7XG5mdW5jdGlvbiBfZXh0ZW5kcyQ3KCkgeyByZXR1cm4gX2V4dGVuZHMkNyA9IE9iamVjdC5hc3NpZ24gPyBPYmplY3QuYXNzaWduLmJpbmQoKSA6IGZ1bmN0aW9uIChuKSB7IGZvciAodmFyIGUgPSAxOyBlIDwgYXJndW1lbnRzLmxlbmd0aDsgZSsrKSB7IHZhciB0ID0gYXJndW1lbnRzW2VdOyBmb3IgKHZhciByIGluIHQpICh7fSkuaGFzT3duUHJvcGVydHkuY2FsbCh0LCByKSAmJiAobltyXSA9IHRbcl0pOyB9IHJldHVybiBuOyB9LCBfZXh0ZW5kcyQ3LmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7IH1cbnZhciBTdmdBcnJvd1VwID0gZnVuY3Rpb24gU3ZnQXJyb3dVcChwcm9wcykge1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgX2V4dGVuZHMkNyh7XG4gICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICB2aWV3Qm94OiBcIjAgMCAzMiAzMlwiXG4gIH0sIHByb3BzKSwgX3BhdGgkNyB8fCAoX3BhdGgkNyA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZmlsbDogXCJjdXJyZW50Y29sb3JcIixcbiAgICBkOiBcIk0xNiA0IDYgMTRsMS40MSAxLjQxTDE1IDcuODNWMjhoMlY3LjgzbDcuNTkgNy41OEwyNiAxNHpcIlxuICB9KSkpO1xufTtcblxudmFyIF9wYXRoJDY7XG5mdW5jdGlvbiBfZXh0ZW5kcyQ2KCkgeyByZXR1cm4gX2V4dGVuZHMkNiA9IE9iamVjdC5hc3NpZ24gPyBPYmplY3QuYXNzaWduLmJpbmQoKSA6IGZ1bmN0aW9uIChuKSB7IGZvciAodmFyIGUgPSAxOyBlIDwgYXJndW1lbnRzLmxlbmd0aDsgZSsrKSB7IHZhciB0ID0gYXJndW1lbnRzW2VdOyBmb3IgKHZhciByIGluIHQpICh7fSkuaGFzT3duUHJvcGVydHkuY2FsbCh0LCByKSAmJiAobltyXSA9IHRbcl0pOyB9IHJldHVybiBuOyB9LCBfZXh0ZW5kcyQ2LmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7IH1cbnZhciBTdmdDYXJldExlZnQgPSBmdW5jdGlvbiBTdmdDYXJldExlZnQocHJvcHMpIHtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIF9leHRlbmRzJDYoe1xuICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgeG1sU3BhY2U6IFwicHJlc2VydmVcIixcbiAgICB2aWV3Qm94OiBcIjAgMCAzMiAzMlwiXG4gIH0sIHByb3BzKSwgX3BhdGgkNiB8fCAoX3BhdGgkNiA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZmlsbDogXCJjdXJyZW50Y29sb3JcIixcbiAgICBkOiBcIm0yMCAyNC0xMC04IDEwLTh6XCJcbiAgfSkpKTtcbn07XG5cbnZhciBfcGF0aCQ1O1xuZnVuY3Rpb24gX2V4dGVuZHMkNSgpIHsgcmV0dXJuIF9leHRlbmRzJDUgPSBPYmplY3QuYXNzaWduID8gT2JqZWN0LmFzc2lnbi5iaW5kKCkgOiBmdW5jdGlvbiAobikgeyBmb3IgKHZhciBlID0gMTsgZSA8IGFyZ3VtZW50cy5sZW5ndGg7IGUrKykgeyB2YXIgdCA9IGFyZ3VtZW50c1tlXTsgZm9yICh2YXIgciBpbiB0KSAoe30pLmhhc093blByb3BlcnR5LmNhbGwodCwgcikgJiYgKG5bcl0gPSB0W3JdKTsgfSByZXR1cm4gbjsgfSwgX2V4dGVuZHMkNS5hcHBseShudWxsLCBhcmd1bWVudHMpOyB9XG52YXIgU3ZnQ2FyZXRSaWdodCA9IGZ1bmN0aW9uIFN2Z0NhcmV0UmlnaHQocHJvcHMpIHtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIF9leHRlbmRzJDUoe1xuICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgeG1sU3BhY2U6IFwicHJlc2VydmVcIixcbiAgICB2aWV3Qm94OiBcIjAgMCAzMiAzMlwiXG4gIH0sIHByb3BzKSwgX3BhdGgkNSB8fCAoX3BhdGgkNSA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZmlsbDogXCJjdXJyZW50Y29sb3JcIixcbiAgICBkOiBcIm0xMiA4IDEwIDgtMTAgOHpcIlxuICB9KSkpO1xufTtcblxuY29uc3QgdHlwZSQyID0gJ3RhYmxlJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7KCdhc2MnfCdkZXNjJyl9IERpcmVjdGlvblxuICpcbiAqIEB0eXBlZGVmIFNvcnRpbmdcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBrZXlcbiAqIEBwcm9wZXJ0eSB7RGlyZWN0aW9ufSBkaXJlY3Rpb25cbiAqXG4gKiBAdHlwZWRlZiBDb2x1bW5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBsYWJlbFxuICogQHByb3BlcnR5IHtzdHJpbmd9IGtleVxuICpcbiAqIEB0eXBlZGVmIEZpZWxkXG4gKiBAcHJvcGVydHkge3N0cmluZ30gaWRcbiAqIEBwcm9wZXJ0eSB7QXJyYXk8Q29sdW1uPn0gW2NvbHVtbnNdXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2NvbHVtbnNFeHByZXNzaW9uXVxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtsYWJlbF1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcm93Q291bnRdXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2RhdGFTb3VyY2VdXG4gKlxuICogQHR5cGVkZWYgUHJvcHNcbiAqIEBwcm9wZXJ0eSB7RmllbGR9IGZpZWxkXG4gKlxuICogQHBhcmFtIHtQcm9wc30gcHJvcHNcbiAqIEByZXR1cm5zIHtpbXBvcnQoXCJwcmVhY3RcIikuSlNYLkVsZW1lbnR9XG4gKi9cbmZ1bmN0aW9uIFRhYmxlKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBmaWVsZFxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IHtcbiAgICBjb2x1bW5zID0gW10sXG4gICAgY29sdW1uc0V4cHJlc3Npb24sXG4gICAgZGF0YVNvdXJjZSA9ICcnLFxuICAgIHJvd0NvdW50LFxuICAgIGlkLFxuICAgIGxhYmVsXG4gIH0gPSBmaWVsZDtcbiAgY29uc3QgW3NvcnRCeSwgc2V0U29ydEJ5XSA9IHVzZVN0YXRlKC8qKiBAdHlwZSB7U29ydGluZyB8IG51bGx9ICovbnVsbCk7XG4gIGNvbnN0IGV2YWx1YXRlZENvbHVtbnMgPSB1c2VFdmFsdWF0ZWRDb2x1bW5zKGNvbHVtbnNFeHByZXNzaW9uIHx8ICcnLCBjb2x1bW5zKTtcbiAgY29uc3QgY29sdW1uS2V5cyA9IGV2YWx1YXRlZENvbHVtbnMubWFwKCh7XG4gICAga2V5XG4gIH0pID0+IGtleSk7XG4gIGNvbnN0IGV2YWx1YXRlZERhdGFTb3VyY2UgPSB1c2VFeHByZXNzaW9uRXZhbHVhdGlvbihkYXRhU291cmNlKTtcbiAgY29uc3QgZGF0YSA9IEFycmF5LmlzQXJyYXkoZXZhbHVhdGVkRGF0YVNvdXJjZSkgPyBldmFsdWF0ZWREYXRhU291cmNlLmZpbHRlcihlbnRyeSA9PiAhaXNOaWwoZW50cnkpIHx8IHR5cGVvZiBlbnRyeSAhPT0gJ29iamVjdCcpIDogW107XG4gIGNvbnN0IHNvcnRlZERhdGEgPSBzb3J0QnkgPT09IG51bGwgPyBkYXRhIDogc29ydEJ5Q29sdW1uKGRhdGEsIHNvcnRCeS5rZXksIHNvcnRCeS5kaXJlY3Rpb24pO1xuXG4gIC8qKiBAdHlwZSB7dW5rbm93bltdW119ICovXG4gIGNvbnN0IGNodW5rZWREYXRhID0gaXNOdW1iZXIocm93Q291bnQpID8gY2h1bmsoc29ydGVkRGF0YSwgcm93Q291bnQpIDogW3NvcnRlZERhdGFdO1xuICBjb25zdCBbY3VycmVudFBhZ2UsIHNldEN1cnJlbnRQYWdlXSA9IHVzZVN0YXRlKDApO1xuICBjb25zdCBjdXJyZW50Q2h1bmsgPSBjaHVua2VkRGF0YVtjdXJyZW50UGFnZV0gfHwgW107XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0Q3VycmVudFBhZ2UoMCk7XG4gIH0sIFtyb3dDb3VudCwgc29ydEJ5XSk7XG5cbiAgLyoqIEBwYXJhbSB7c3RyaW5nfSBrZXkgKi9cbiAgZnVuY3Rpb24gdG9nZ2xlU29ydEJ5KGtleSkge1xuICAgIHNldFNvcnRCeShjdXJyZW50ID0+IHtcbiAgICAgIGlmIChjdXJyZW50ID09PSBudWxsIHx8IGN1cnJlbnQua2V5ICE9PSBrZXkpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBrZXksXG4gICAgICAgICAgZGlyZWN0aW9uOiAnYXNjJ1xuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgaWYgKGN1cnJlbnQuZGlyZWN0aW9uID09PSAnZGVzYycpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICBrZXksXG4gICAgICAgIGRpcmVjdGlvbjogJ2Rlc2MnXG4gICAgICB9O1xuICAgIH0pO1xuICB9XG4gIHJldHVybiBqc3hzKFwiZGl2XCIsIHtcbiAgICBjbGFzczogZm9ybUZpZWxkQ2xhc3Nlcyh0eXBlJDIpLFxuICAgIGNoaWxkcmVuOiBbanN4KExhYmVsLCB7XG4gICAgICBodG1sRm9yOiBwcmVmaXhJZChpZCksXG4gICAgICBsYWJlbDogbGFiZWxcbiAgICB9KSwganN4cyhcImRpdlwiLCB7XG4gICAgICBjbGFzczogY2xhc3NOYW1lcygnZmpzLXRhYmxlLW1pZGRsZS1jb250YWluZXInLCB7XG4gICAgICAgICdmanMtdGFibGUtZW1wdHknOiBldmFsdWF0ZWRDb2x1bW5zLmxlbmd0aCA9PT0gMFxuICAgICAgfSksXG4gICAgICBjaGlsZHJlbjogW2V2YWx1YXRlZENvbHVtbnMubGVuZ3RoID09PSAwID8gJ05vdGhpbmcgdG8gc2hvdy4nIDoganN4KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3M6IFwiZmpzLXRhYmxlLWlubmVyLWNvbnRhaW5lclwiLFxuICAgICAgICBjaGlsZHJlbjoganN4cyhcInRhYmxlXCIsIHtcbiAgICAgICAgICBjbGFzczogXCJmanMtdGFibGVcIixcbiAgICAgICAgICBpZDogcHJlZml4SWQoaWQpLFxuICAgICAgICAgIGNoaWxkcmVuOiBbanN4KFwidGhlYWRcIiwge1xuICAgICAgICAgICAgY2xhc3M6IFwiZmpzLXRhYmxlLWhlYWRcIixcbiAgICAgICAgICAgIGNoaWxkcmVuOiBqc3goXCJ0clwiLCB7XG4gICAgICAgICAgICAgIGNsYXNzOiBcImZqcy10YWJsZS10clwiLFxuICAgICAgICAgICAgICBjaGlsZHJlbjogZXZhbHVhdGVkQ29sdW1ucy5tYXAoKHtcbiAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgbGFiZWxcbiAgICAgICAgICAgICAgfSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRpc3BsYXlMYWJlbCA9IGxhYmVsIHx8IGtleTtcbiAgICAgICAgICAgICAgICByZXR1cm4ganN4KFwidGhcIiwge1xuICAgICAgICAgICAgICAgICAgdGFiSW5kZXg6IDAsXG4gICAgICAgICAgICAgICAgICBjbGFzczogXCJmanMtdGFibGUtdGhcIixcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdG9nZ2xlU29ydEJ5KGtleSk7XG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgb25LZXlEb3duOiBldmVudCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChbJ0VudGVyJywgJ1NwYWNlJ10uaW5jbHVkZXMoZXZlbnQuY29kZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICB0b2dnbGVTb3J0Qnkoa2V5KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIFwiYXJpYS1sYWJlbFwiOiBnZXRIZWFkZXJBcmlhTGFiZWwoc29ydEJ5LCBrZXksIGRpc3BsYXlMYWJlbCksXG4gICAgICAgICAgICAgICAgICBjaGlsZHJlbjoganN4cyhcInNwYW5cIiwge1xuICAgICAgICAgICAgICAgICAgICBjbGFzczogXCJmanMtdGFibGUtdGgtbGFiZWxcIixcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IFtkaXNwbGF5TGFiZWwsIHNvcnRCeSAhPT0gbnVsbCAmJiBzb3J0Qnkua2V5ID09PSBrZXkgPyBqc3goRnJhZ21lbnQsIHtcbiAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogc29ydEJ5LmRpcmVjdGlvbiA9PT0gJ2FzYycgPyBqc3goU3ZnQXJyb3dVcCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M6IFwiZmpzLXRhYmxlLXNvcnQtaWNvbi1hc2NcIlxuICAgICAgICAgICAgICAgICAgICAgIH0pIDoganN4KFN2Z0Fycm93RG93biwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M6IFwiZmpzLXRhYmxlLXNvcnQtaWNvbi1kZXNjXCJcbiAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICB9KSA6IG51bGxdXG4gICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH0sIGtleSk7XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0pLCBjdXJyZW50Q2h1bmsubGVuZ3RoID09PSAwID8ganN4KFwidGJvZHlcIiwge1xuICAgICAgICAgICAgY2xhc3M6IFwiZmpzLXRhYmxlLWJvZHlcIixcbiAgICAgICAgICAgIGNoaWxkcmVuOiBqc3goXCJ0clwiLCB7XG4gICAgICAgICAgICAgIGNsYXNzOiBcImZqcy10YWJsZS10clwiLFxuICAgICAgICAgICAgICBjaGlsZHJlbjoganN4KFwidGRcIiwge1xuICAgICAgICAgICAgICAgIGNsYXNzOiBcImZqcy10YWJsZS10ZFwiLFxuICAgICAgICAgICAgICAgIGNvbFNwYW46IGV2YWx1YXRlZENvbHVtbnMubGVuZ3RoLFxuICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBcIk5vdGhpbmcgdG8gc2hvdy5cIlxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9KSA6IGpzeChcInRib2R5XCIsIHtcbiAgICAgICAgICAgIGNsYXNzOiBcImZqcy10YWJsZS1ib2R5XCIsXG4gICAgICAgICAgICBjaGlsZHJlbjogY3VycmVudENodW5rLm1hcCgocm93LCBpbmRleCkgPT4ganN4KFwidHJcIiwge1xuICAgICAgICAgICAgICBjbGFzczogXCJmanMtdGFibGUtdHJcIixcbiAgICAgICAgICAgICAgY2hpbGRyZW46IGNvbHVtbktleXMubWFwKGtleSA9PiBqc3goXCJ0ZFwiLCB7XG4gICAgICAgICAgICAgICAgY2xhc3M6IFwiZmpzLXRhYmxlLXRkXCIsXG4gICAgICAgICAgICAgICAgY2hpbGRyZW46IHNlcmlhbGl6ZUNlbGxEYXRhKHJvd1trZXldKVxuICAgICAgICAgICAgICB9LCBrZXkpKVxuICAgICAgICAgICAgfSwgaW5kZXgpKVxuICAgICAgICAgIH0pXVxuICAgICAgICB9KVxuICAgICAgfSksIGlzTnVtYmVyKHJvd0NvdW50KSAmJiBjaHVua2VkRGF0YS5sZW5ndGggPiAxICYmIGV2YWx1YXRlZENvbHVtbnMubGVuZ3RoID4gMCA/IGpzeHMoXCJuYXZcIiwge1xuICAgICAgICBjbGFzczogXCJmanMtdGFibGUtbmF2XCIsXG4gICAgICAgIGNoaWxkcmVuOiBbanN4cyhcInNwYW5cIiwge1xuICAgICAgICAgIGNsYXNzOiBcImZqcy10YWJsZS1uYXYtbGFiZWxcIixcbiAgICAgICAgICBjaGlsZHJlbjogW2N1cnJlbnRQYWdlICsgMSwgXCIgb2YgXCIsIGNodW5rZWREYXRhLmxlbmd0aF1cbiAgICAgICAgfSksIGpzeChcImJ1dHRvblwiLCB7XG4gICAgICAgICAgdHlwZTogXCJidXR0b25cIixcbiAgICAgICAgICBjbGFzczogXCJmanMtdGFibGUtbmF2LWJ1dHRvblwiLFxuICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgICAgIHNldEN1cnJlbnRQYWdlKHBhZ2UgPT4gTWF0aC5tYXgocGFnZSAtIDEsIDApKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGRpc2FibGVkOiBjdXJyZW50UGFnZSA9PT0gMCxcbiAgICAgICAgICBcImFyaWEtbGFiZWxcIjogXCJQcmV2aW91cyBwYWdlXCIsXG4gICAgICAgICAgY2hpbGRyZW46IGpzeChTdmdDYXJldExlZnQsIHt9KVxuICAgICAgICB9KSwganN4KFwiYnV0dG9uXCIsIHtcbiAgICAgICAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgICAgICAgIGNsYXNzOiBcImZqcy10YWJsZS1uYXYtYnV0dG9uXCIsXG4gICAgICAgICAgb25DbGljazogKCkgPT4ge1xuICAgICAgICAgICAgc2V0Q3VycmVudFBhZ2UocGFnZSA9PiBNYXRoLm1pbihwYWdlICsgMSwgY2h1bmtlZERhdGEubGVuZ3RoIC0gMSkpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZGlzYWJsZWQ6IGN1cnJlbnRQYWdlID49IGNodW5rZWREYXRhLmxlbmd0aCAtIDEsXG4gICAgICAgICAgXCJhcmlhLWxhYmVsXCI6IFwiTmV4dCBwYWdlXCIsXG4gICAgICAgICAgY2hpbGRyZW46IGpzeChTdmdDYXJldFJpZ2h0LCB7fSlcbiAgICAgICAgfSldXG4gICAgICB9KSA6IG51bGxdXG4gICAgfSldXG4gIH0pO1xufVxuVGFibGUuY29uZmlnID0ge1xuICB0eXBlOiB0eXBlJDIsXG4gIGtleWVkOiBmYWxzZSxcbiAgbmFtZTogJ1RhYmxlJyxcbiAgZ3JvdXA6ICdwcmVzZW50YXRpb24nLFxuICBjcmVhdGU6IChvcHRpb25zID0ge30pID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBpZCxcbiAgICAgIGNvbHVtbnNFeHByZXNzaW9uLFxuICAgICAgY29sdW1ucyxcbiAgICAgIHJvd0NvdW50LFxuICAgICAgLi4ucmVtYWluaW5nT3B0aW9uc1xuICAgIH0gPSBvcHRpb25zO1xuICAgIGlmIChpc0RlZmluZWQoaWQpICYmIGlzTnVtYmVyKHJvd0NvdW50KSkge1xuICAgICAgcmVtYWluaW5nT3B0aW9uc1sncm93Q291bnQnXSA9IHJvd0NvdW50O1xuICAgIH1cbiAgICBpZiAoaXNTdHJpbmcoY29sdW1uc0V4cHJlc3Npb24pKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5yZW1haW5pbmdPcHRpb25zLFxuICAgICAgICBpZCxcbiAgICAgICAgY29sdW1uc0V4cHJlc3Npb25cbiAgICAgIH07XG4gICAgfVxuICAgIGlmIChBcnJheS5pc0FycmF5KGNvbHVtbnMpICYmIGNvbHVtbnMuZXZlcnkoaXNDb2x1bW4pKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5yZW1haW5pbmdPcHRpb25zLFxuICAgICAgICBpZCxcbiAgICAgICAgY29sdW1uc1xuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnJlbWFpbmluZ09wdGlvbnMsXG4gICAgICBsYWJlbDogJ1RhYmxlJyxcbiAgICAgIHJvd0NvdW50OiAxMCxcbiAgICAgIGNvbHVtbnM6IFt7XG4gICAgICAgIGxhYmVsOiAnSUQnLFxuICAgICAgICBrZXk6ICdpZCdcbiAgICAgIH0sIHtcbiAgICAgICAgbGFiZWw6ICdOYW1lJyxcbiAgICAgICAga2V5OiAnbmFtZSdcbiAgICAgIH0sIHtcbiAgICAgICAgbGFiZWw6ICdEYXRlJyxcbiAgICAgICAga2V5OiAnZGF0ZSdcbiAgICAgIH1dXG4gICAgfTtcbiAgfSxcbiAgLyoqXG4gICAqIEBleHBlcmltZW50YWxcbiAgICpcbiAgICogQSBmdW5jdGlvbiB0aGF0IGdlbmVyYXRlcyBkZW1vIGRhdGEgZm9yIGEgbmV3IGZpZWxkIG9uIHRoZSBmb3JtIHBsYXlncm91bmQuXG4gICAqIEBwYXJhbSB7RmllbGR9IGZpZWxkXG4gICAqL1xuICBnZW5lcmF0ZUluaXRpYWxEZW1vRGF0YTogZmllbGQgPT4ge1xuICAgIGNvbnN0IGRlbW9EYXRhID0gW3tcbiAgICAgIGlkOiAxLFxuICAgICAgbmFtZTogJ0pvaG4gRG9lJyxcbiAgICAgIGRhdGU6ICczMS4wMS4yMDIzJ1xuICAgIH0sIHtcbiAgICAgIGlkOiAyLFxuICAgICAgbmFtZTogJ0VyaWthIE11bGxlcicsXG4gICAgICBkYXRlOiAnMjAuMDIuMjAyMydcbiAgICB9LCB7XG4gICAgICBpZDogMyxcbiAgICAgIG5hbWU6ICdEb21pbmljIExlYWYnLFxuICAgICAgZGF0ZTogJzExLjAzLjIwMjMnXG4gICAgfV07XG4gICAgY29uc3QgZGVtb0RhdGFLZXlzID0gT2JqZWN0LmtleXMoZGVtb0RhdGFbMF0pO1xuICAgIGNvbnN0IHtcbiAgICAgIGNvbHVtbnMsXG4gICAgICBpZCxcbiAgICAgIGRhdGFTb3VyY2VcbiAgICB9ID0gZmllbGQ7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGNvbHVtbnMpIHx8IGNvbHVtbnMubGVuZ3RoID09PSAwIHx8IGRhdGFTb3VyY2UgIT09IGA9JHtpZH1gKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghY29sdW1ucy5tYXAoKHtcbiAgICAgIGtleVxuICAgIH0pID0+IGtleSkuZXZlcnkoa2V5ID0+IGRlbW9EYXRhS2V5cy5pbmNsdWRlcyhrZXkpKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXR1cm4gZGVtb0RhdGE7XG4gIH1cbn07XG5cbi8vIGhlbHBlcnMgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ3x2b2lkfSBjb2x1bW5zRXhwcmVzc2lvblxuICogQHBhcmFtIHtDb2x1bW5bXX0gZmFsbGJhY2tDb2x1bW5zXG4gKiBAcmV0dXJucyB7Q29sdW1uW119XG4gKi9cbmZ1bmN0aW9uIHVzZUV2YWx1YXRlZENvbHVtbnMoY29sdW1uc0V4cHJlc3Npb24sIGZhbGxiYWNrQ29sdW1ucykge1xuICAvKiogQHR5cGUge0NvbHVtbltdfG51bGx9ICovXG4gIGNvbnN0IGV2YWx1YXRpb24gPSB1c2VFeHByZXNzaW9uRXZhbHVhdGlvbihjb2x1bW5zRXhwcmVzc2lvbiB8fCAnJyk7XG4gIHJldHVybiBBcnJheS5pc0FycmF5KGV2YWx1YXRpb24pICYmIGV2YWx1YXRpb24uZXZlcnkoaXNDb2x1bW4pID8gZXZhbHVhdGlvbiA6IGZhbGxiYWNrQ29sdW1ucztcbn1cblxuLyoqXG4gKiBAcGFyYW0ge2FueX0gY29sdW1uXG4gKiBAcmV0dXJucyB7Y29sdW1uIGlzIENvbHVtbn1cbiAqL1xuZnVuY3Rpb24gaXNDb2x1bW4oY29sdW1uKSB7XG4gIHJldHVybiBpc09iamVjdChjb2x1bW4pICYmIGlzU3RyaW5nKGNvbHVtblsnbGFiZWwnXSkgJiYgaXNTdHJpbmcoY29sdW1uWydrZXknXSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheX0gYXJyYXlcbiAqIEBwYXJhbSB7bnVtYmVyfSBzaXplXG4gKiBAcmV0dXJucyB7QXJyYXl9XG4gKi9cbmZ1bmN0aW9uIGNodW5rKGFycmF5LCBzaXplKSB7XG4gIHJldHVybiBhcnJheS5yZWR1Y2UoKGNodW5rcywgaXRlbSwgaW5kZXgpID0+IHtcbiAgICBpZiAoaW5kZXggJSBzaXplID09PSAwKSB7XG4gICAgICBjaHVua3MucHVzaChbaXRlbV0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjaHVua3NbY2h1bmtzLmxlbmd0aCAtIDFdLnB1c2goaXRlbSk7XG4gICAgfVxuICAgIHJldHVybiBjaHVua3M7XG4gIH0sIFtdKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3Vua25vd25bXX0gYXJyYXlcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXlcbiAqIEBwYXJhbSB7RGlyZWN0aW9ufSBkaXJlY3Rpb25cbiAqIEByZXR1cm5zIHt1bmtub3duW119XG4gKi9cbmZ1bmN0aW9uIHNvcnRCeUNvbHVtbihhcnJheSwga2V5LCBkaXJlY3Rpb24pIHtcbiAgcmV0dXJuIFsuLi5hcnJheV0uc29ydCgoYSwgYikgPT4ge1xuICAgIGlmICghaXNPYmplY3QoYSkgfHwgIWlzT2JqZWN0KGIpKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgaWYgKGRpcmVjdGlvbiA9PT0gJ2FzYycpIHtcbiAgICAgIHJldHVybiBhW2tleV0gPiBiW2tleV0gPyAxIDogLTE7XG4gICAgfVxuICAgIHJldHVybiBhW2tleV0gPCBiW2tleV0gPyAxIDogLTE7XG4gIH0pO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7bnVsbHxTb3J0aW5nfSBzb3J0QnlcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXlcbiAqIEBwYXJhbSB7c3RyaW5nfSBsYWJlbFxuICovXG5mdW5jdGlvbiBnZXRIZWFkZXJBcmlhTGFiZWwoc29ydEJ5LCBrZXksIGxhYmVsKSB7XG4gIGlmIChzb3J0QnkgPT09IG51bGwgfHwgc29ydEJ5LmtleSAhPT0ga2V5KSB7XG4gICAgcmV0dXJuIGBDbGljayB0byBzb3J0IGJ5ICR7bGFiZWx9IGRlc2NlbmRpbmdgO1xuICB9XG4gIGlmIChzb3J0QnkuZGlyZWN0aW9uID09PSAnYXNjJykge1xuICAgIHJldHVybiAnQ2xpY2sgdG8gcmVtb3ZlIHNvcnRpbmcnO1xuICB9XG4gIHJldHVybiBgQ2xpY2sgdG8gc29ydCBieSAke2xhYmVsfSBhc2NlbmRpbmdgO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7dW5rbm93bn0gY2VsbERhdGFcbiAqIEByZXR1cm5zIHN0cmluZ1xuICovXG5mdW5jdGlvbiBzZXJpYWxpemVDZWxsRGF0YShjZWxsRGF0YSkge1xuICBpZiAoY2VsbERhdGEgIT09IG51bGwgJiYgdHlwZW9mIGNlbGxEYXRhID09PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShjZWxsRGF0YSk7XG4gIH1cbiAgaWYgKGNlbGxEYXRhID09PSBudWxsIHx8IGNlbGxEYXRhID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cbiAgcmV0dXJuIGAke2NlbGxEYXRhfWA7XG59XG5cbmNvbnN0IEZJTEVfUElDS0VSX0ZJTEVfS0VZX1BSRUZJWCA9ICdmaWxlczo6JztcblxuY29uc3QgdHlwZSQxID0gJ2ZpbGVwaWNrZXInO1xuY29uc3QgaWRzJDEgPSBuZXcgSWRzKCk7XG5jb25zdCBFTVBUWV9BUlJBWSQxID0gW107XG5cbi8qKlxuICogQHR5cGVkZWYgUHJvcHNcbiAqIEBwcm9wZXJ0eSB7KHByb3BzOiB7IHZhbHVlOiBzdHJpbmcgfSkgPT4gdm9pZH0gb25DaGFuZ2VcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBkb21JZFxuICogQHByb3BlcnR5IHtzdHJpbmdbXX0gZXJyb3JzXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IGRpc2FibGVkXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IHJlYWRvbmx5XG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IHJlcXVpcmVkXG4gKiBAcHJvcGVydHkge09iamVjdH0gZmllbGRcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBmaWVsZC5pZFxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtmaWVsZC5sYWJlbF1cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbZmllbGQuYWNjZXB0XVxuICogQHByb3BlcnR5IHtzdHJpbmd8Ym9vbGVhbn0gW2ZpZWxkLm11bHRpcGxlXVxuICogQHByb3BlcnR5IHtPYmplY3R9IFtmaWVsZC52YWxpZGF0ZV1cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2ZpZWxkLnZhbGlkYXRlLnJlcXVpcmVkXVxuICogQHByb3BlcnR5IHtzdHJpbmd9IFt2YWx1ZV1cbiAqXG4gKiBAcGFyYW0ge1Byb3BzfSBwcm9wc1xuICogQHJldHVybnMge2ltcG9ydChcInByZWFjdFwiKS5KU1guRWxlbWVudH1cbiAqL1xuZnVuY3Rpb24gRmlsZVBpY2tlcihwcm9wcykge1xuICAvKiogQHR5cGUge2ltcG9ydChcInByZWFjdC9ob29rc1wiKS5SZWY8SFRNTElucHV0RWxlbWVudD59ICovXG4gIGNvbnN0IGZpbGVJbnB1dFJlZiA9IHVzZVJlZihudWxsKTtcbiAgLyoqIEB0eXBlIHtpbXBvcnQoJy4uLy4uL0ZpbGVSZWdpc3RyeScpLkZpbGVSZWdpc3RyeX0gKi9cbiAgY29uc3QgZmlsZVJlZ2lzdHJ5ID0gdXNlU2VydmljZSgnZmlsZVJlZ2lzdHJ5JywgZmFsc2UpO1xuICBjb25zdCB7XG4gICAgZmllbGQsXG4gICAgb25DaGFuZ2UsXG4gICAgZG9tSWQsXG4gICAgZXJyb3JzID0gW10sXG4gICAgZGlzYWJsZWQsXG4gICAgcmVhZG9ubHksXG4gICAgdmFsdWU6IGZpbGVzS2V5ID0gJydcbiAgfSA9IHByb3BzO1xuICBjb25zdCB7XG4gICAgbGFiZWwsXG4gICAgbXVsdGlwbGUgPSBmYWxzZSxcbiAgICBhY2NlcHQgPSAnJyxcbiAgICB2YWxpZGF0ZSA9IHt9XG4gIH0gPSBmaWVsZDtcbiAgLyoqIEB0eXBlIHtzdHJpbmd9ICovXG4gIGNvbnN0IGV2YWx1YXRlZEFjY2VwdCA9IHVzZVNpbmdsZUxpbmVUZW1wbGF0ZUV2YWx1YXRpb24oYWNjZXB0LCB7XG4gICAgZGVidWc6IHRydWVcbiAgfSk7XG4gIGNvbnN0IGV2YWx1YXRlZE11bHRpcGxlID0gdXNlQm9vbGVhbkV4cHJlc3Npb25FdmFsdWF0aW9uKG11bHRpcGxlKTtcbiAgY29uc3QgZXJyb3JNZXNzYWdlSWQgPSBgJHtkb21JZH0tZXJyb3ItbWVzc2FnZWA7XG4gIC8qKiBAdHlwZSB7RmlsZVtdfSAqL1xuICBjb25zdCBzZWxlY3RlZEZpbGVzID0gZmlsZVJlZ2lzdHJ5ID09PSBudWxsID8gRU1QVFlfQVJSQVkkMSA6IGZpbGVSZWdpc3RyeS5nZXRGaWxlcyhmaWxlc0tleSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGZpbGVzS2V5ICYmIGZpbGVSZWdpc3RyeSAhPT0gbnVsbCAmJiAhZmlsZVJlZ2lzdHJ5Lmhhc0tleShmaWxlc0tleSkpIHtcbiAgICAgIG9uQ2hhbmdlKHtcbiAgICAgICAgdmFsdWU6IG51bGxcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW2ZpbGVSZWdpc3RyeSwgZmlsZXNLZXksIG9uQ2hhbmdlLCBzZWxlY3RlZEZpbGVzLmxlbmd0aF0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGRhdGEgPSBuZXcgRGF0YVRyYW5zZmVyKCk7XG4gICAgc2VsZWN0ZWRGaWxlcy5mb3JFYWNoKGZpbGUgPT4gZGF0YS5pdGVtcy5hZGQoZmlsZSkpO1xuICAgIGZpbGVJbnB1dFJlZi5jdXJyZW50LmZpbGVzID0gZGF0YS5maWxlcztcbiAgfSwgW3NlbGVjdGVkRmlsZXNdKTtcblxuICAvKipcbiAgICogQHR5cGUgaW1wb3J0KFwicHJlYWN0XCIpLkpTWC5HZW5lcmljRXZlbnRIYW5kbGVyPEhUTUxJbnB1dEVsZW1lbnQ+XG4gICAqL1xuICBjb25zdCBvbkZpbGVDaGFuZ2UgPSBldmVudCA9PiB7XG4gICAgY29uc3QgaW5wdXQgPSAvKiogQHR5cGUge0hUTUxJbnB1dEVsZW1lbnR9ICovZXZlbnQudGFyZ2V0O1xuXG4gICAgLy8gaWYgd2UgaGF2ZSBhbiBhc3NvY2lhdGVkIGZpbGUga2V5IGJ1dCBubyBmaWxlcyBhcmUgc2VsZWN0ZWQsIGNsZWFyIHRoZSBmaWxlIGtleSBhbmQgYXNzb2NpYXRlZCBmaWxlc1xuICAgIGlmICgoaW5wdXQuZmlsZXMgPT09IG51bGwgfHwgaW5wdXQuZmlsZXMubGVuZ3RoID09PSAwKSAmJiBmaWxlc0tleSAhPT0gJycpIHtcbiAgICAgIGZpbGVSZWdpc3RyeS5kZWxldGVGaWxlcyhmaWxlc0tleSk7XG4gICAgICBvbkNoYW5nZSh7XG4gICAgICAgIHZhbHVlOiBudWxsXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZmlsZXMgPSBBcnJheS5mcm9tKGlucHV0LmZpbGVzKTtcblxuICAgIC8vIGVuc3VyZSBmaWxlS2V5IGV4aXN0c1xuICAgIGNvbnN0IHVwZGF0ZWRGaWxlc0tleSA9IGZpbGVzS2V5IHx8IGlkcyQxLm5leHRQcmVmaXhlZChGSUxFX1BJQ0tFUl9GSUxFX0tFWV9QUkVGSVgpO1xuICAgIGZpbGVSZWdpc3RyeS5zZXRGaWxlcyh1cGRhdGVkRmlsZXNLZXksIGZpbGVzKTtcbiAgICBvbkNoYW5nZSh7XG4gICAgICB2YWx1ZTogdXBkYXRlZEZpbGVzS2V5XG4gICAgfSk7XG4gIH07XG4gIGNvbnN0IGlzSW5wdXREaXNhYmxlZCA9IGRpc2FibGVkIHx8IHJlYWRvbmx5IHx8IGZpbGVSZWdpc3RyeSA9PT0gbnVsbDtcbiAgcmV0dXJuIGpzeHMoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogZm9ybUZpZWxkQ2xhc3Nlcyh0eXBlJDEsIHtcbiAgICAgIGVycm9ycyxcbiAgICAgIGRpc2FibGVkLFxuICAgICAgcmVhZG9ubHlcbiAgICB9KSxcbiAgICBjaGlsZHJlbjogW2pzeChMYWJlbCwge1xuICAgICAgaHRtbEZvcjogZG9tSWQsXG4gICAgICBsYWJlbDogbGFiZWwsXG4gICAgICByZXF1aXJlZDogdmFsaWRhdGUucmVxdWlyZWRcbiAgICB9KSwganN4KFwiaW5wdXRcIiwge1xuICAgICAgdHlwZTogXCJmaWxlXCIsXG4gICAgICBjbGFzc05hbWU6IFwiZmpzLWhpZGRlblwiLFxuICAgICAgcmVmOiBmaWxlSW5wdXRSZWYsXG4gICAgICBpZDogZG9tSWQsXG4gICAgICBuYW1lOiBkb21JZCxcbiAgICAgIGRpc2FibGVkOiBpc0lucHV0RGlzYWJsZWQsXG4gICAgICBtdWx0aXBsZTogZXZhbHVhdGVkTXVsdGlwbGUgfHwgdW5kZWZpbmVkLFxuICAgICAgYWNjZXB0OiBldmFsdWF0ZWRBY2NlcHQgfHwgdW5kZWZpbmVkLFxuICAgICAgb25DaGFuZ2U6IG9uRmlsZUNoYW5nZSxcbiAgICAgIHJlcXVpcmVkOiB2YWxpZGF0ZS5yZXF1aXJlZFxuICAgIH0pLCBqc3hzKFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJmanMtZmlsZXBpY2tlci1jb250YWluZXJcIixcbiAgICAgIGNoaWxkcmVuOiBbanN4KFwiYnV0dG9uXCIsIHtcbiAgICAgICAgdHlwZTogXCJidXR0b25cIixcbiAgICAgICAgZGlzYWJsZWQ6IGlzSW5wdXREaXNhYmxlZCxcbiAgICAgICAgcmVhZE9ubHk6IHJlYWRvbmx5LFxuICAgICAgICBjbGFzc05hbWU6IFwiZmpzLWJ1dHRvbiBmanMtZmlsZXBpY2tlci1idXR0b25cIixcbiAgICAgICAgb25DbGljazogKCkgPT4ge1xuICAgICAgICAgIGZpbGVJbnB1dFJlZi5jdXJyZW50LmNsaWNrKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGNoaWxkcmVuOiBcIkJyb3dzZVwiXG4gICAgICB9KSwganN4KFwic3BhblwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJmanMtZm9ybS1maWVsZC1sYWJlbFwiLFxuICAgICAgICBjaGlsZHJlbjogZ2V0U2VsZWN0ZWRGaWxlc0xhYmVsKHNlbGVjdGVkRmlsZXMpXG4gICAgICB9KV1cbiAgICB9KSwganN4KEVycm9ycywge1xuICAgICAgaWQ6IGVycm9yTWVzc2FnZUlkLFxuICAgICAgZXJyb3JzOiBlcnJvcnNcbiAgICB9KV1cbiAgfSk7XG59XG5GaWxlUGlja2VyLmNvbmZpZyA9IHtcbiAgdHlwZTogJ2ZpbGVwaWNrZXInLFxuICBrZXllZDogdHJ1ZSxcbiAgbGFiZWw6ICdGaWxlIHBpY2tlcicsXG4gIGdyb3VwOiAnYmFzaWMtaW5wdXQnLFxuICBlbXB0eVZhbHVlOiBudWxsLFxuICBjcmVhdGU6IChvcHRpb25zID0ge30pID0+ICh7XG4gICAgLi4ub3B0aW9uc1xuICB9KVxufTtcblxuLy8gaGVscGVyIC8vLy8vLy8vLy9cblxuLyoqXG4gKiBAcGFyYW0ge0ZpbGVbXX0gZmlsZXNcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGdldFNlbGVjdGVkRmlsZXNMYWJlbChmaWxlcykge1xuICBpZiAoZmlsZXMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuICdObyBmaWxlcyBzZWxlY3RlZCc7XG4gIH1cbiAgaWYgKGZpbGVzLmxlbmd0aCA9PT0gMSkge1xuICAgIHJldHVybiBmaWxlc1swXS5uYW1lO1xuICB9XG4gIHJldHVybiBgJHtmaWxlcy5sZW5ndGh9IGZpbGVzIHNlbGVjdGVkYDtcbn1cblxudmFyIF9wYXRoJDQ7XG5mdW5jdGlvbiBfZXh0ZW5kcyQ0KCkgeyByZXR1cm4gX2V4dGVuZHMkNCA9IE9iamVjdC5hc3NpZ24gPyBPYmplY3QuYXNzaWduLmJpbmQoKSA6IGZ1bmN0aW9uIChuKSB7IGZvciAodmFyIGUgPSAxOyBlIDwgYXJndW1lbnRzLmxlbmd0aDsgZSsrKSB7IHZhciB0ID0gYXJndW1lbnRzW2VdOyBmb3IgKHZhciByIGluIHQpICh7fSkuaGFzT3duUHJvcGVydHkuY2FsbCh0LCByKSAmJiAobltyXSA9IHRbcl0pOyB9IHJldHVybiBuOyB9LCBfZXh0ZW5kcyQ0LmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7IH1cbnZhciBTdmdEb3dubG9hZCA9IGZ1bmN0aW9uIFN2Z0Rvd25sb2FkKHByb3BzKSB7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInN2Z1wiLCBfZXh0ZW5kcyQ0KHtcbiAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgIHdpZHRoOiAxNixcbiAgICBoZWlnaHQ6IDE2XG4gIH0sIHByb3BzKSwgX3BhdGgkNCB8fCAoX3BhdGgkNCA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICBkOiBcIk0xMyAxMnYySDN2LTJIMnYyYTEgMSAwIDAgMCAxIDFoMTBhMSAxIDAgMCAwIDEtMXYtMnptMC01LS43MDUtLjcwNS0zLjc5NSAzLjc5VjFoLTF2OS4wODVsLTMuNzk1LTMuNzlMMyA3bDUgNXpcIlxuICB9KSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZDogXCJNMCAwaDE2djE2SDB6XCIsXG4gICAgc3R5bGU6IHtcbiAgICAgIGZpbGw6IFwibm9uZVwiXG4gICAgfVxuICB9KSk7XG59O1xuXG5jb25zdCB0eXBlID0gJ2RvY3VtZW50UHJldmlldyc7XG5cbi8qKlxuICogQHR5cGVkZWYgRG9jdW1lbnRFbmRwb2ludEJ1aWxkZXJcbiAqIEBwcm9wZXJ0eSB7KGRvY3VtZW50OiBEb2N1bWVudE1ldGFkYXRhKSA9PiBzdHJpbmd9IGJ1aWxkVXJsXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiBEb2N1bWVudE1ldGFkYXRhXG4gKiBAcHJvcGVydHkge3N0cmluZ30gZG9jdW1lbnRJZFxuICogQHByb3BlcnR5IHtzdHJpbmd9IGVuZHBvaW50XG4gKiBAcHJvcGVydHkge09iamVjdH0gbWV0YWRhdGFcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfHVuZGVmaW5lZH0gW21ldGFkYXRhLmNvbnRlbnRUeXBlXVxuICogQHByb3BlcnR5IHtzdHJpbmd9IG1ldGFkYXRhLmZpbGVOYW1lXG4gKlxuICogQHR5cGVkZWYgRmllbGRcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBpZFxuICogQHByb3BlcnR5IHtzdHJpbmd9IFt0aXRsZV1cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbZGF0YVNvdXJjZV1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4SGVpZ2h0XVxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtsYWJlbF1cbiAqXG4gKiBAdHlwZWRlZiBQcm9wc1xuICogQHByb3BlcnR5IHtGaWVsZH0gZmllbGRcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBkb21JZFxuICpcbiAqIEBwYXJhbSB7UHJvcHN9IHByb3BzXG4gKiBAcmV0dXJucyB7aW1wb3J0KFwicHJlYWN0XCIpLkpTWC5FbGVtZW50fVxuICovXG5mdW5jdGlvbiBEb2N1bWVudFByZXZpZXcocHJvcHMpIHtcbiAgLyoqIEB0eXBlIHtEb2N1bWVudEVuZHBvaW50QnVpbGRlciB8IG51bGx9ICovXG4gIGNvbnN0IGRvY3VtZW50RW5kcG9pbnRCdWlsZGVyID0gdXNlU2VydmljZSgnZG9jdW1lbnRFbmRwb2ludEJ1aWxkZXInLCBmYWxzZSk7XG4gIGNvbnN0IHtcbiAgICBmaWVsZCxcbiAgICBkb21JZFxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IHtcbiAgICBkYXRhU291cmNlLFxuICAgIG1heEhlaWdodCxcbiAgICBsYWJlbFxuICB9ID0gZmllbGQ7XG4gIGNvbnN0IGVycm9yTWVzc2FnZUlkID0gYCR7ZG9tSWR9LWVycm9yLW1lc3NhZ2VgO1xuICBjb25zdCBkYXRhID0gdXNlVmFsaWREb2N1bWVudERhdGEoZGF0YVNvdXJjZSB8fCAnJyk7XG4gIGNvbnN0IGV2YWx1YXRlZExhYmVsID0gdXNlU2luZ2xlTGluZVRlbXBsYXRlRXZhbHVhdGlvbihsYWJlbCwge1xuICAgIGRlYnVnOiB0cnVlXG4gIH0pO1xuICByZXR1cm4ganN4cyhcImRpdlwiLCB7XG4gICAgY2xhc3M6IGZvcm1GaWVsZENsYXNzZXModHlwZSksXG4gICAgY2hpbGRyZW46IFtqc3goTGFiZWwsIHtcbiAgICAgIGh0bWxGb3I6IGRvbUlkLFxuICAgICAgbGFiZWw6IGV2YWx1YXRlZExhYmVsXG4gICAgfSksIGpzeChcImRpdlwiLCB7XG4gICAgICBjbGFzczogYGZqcy0ke3R5cGV9LWRvY3VtZW50LWNvbnRhaW5lcmAsXG4gICAgICBpZDogZG9tSWQsXG4gICAgICBjaGlsZHJlbjogZGF0YS5tYXAoKGRvY3VtZW50LCBpbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBmaW5hbEVuZHBvaW50ID0gdHJ5Q2F0Y2goKCkgPT4gZG9jdW1lbnRFbmRwb2ludEJ1aWxkZXI/LmJ1aWxkVXJsKGRvY3VtZW50KSkgPz8gZG9jdW1lbnQuZW5kcG9pbnQ7XG4gICAgICAgIHJldHVybiBpc1ZhbGlkRG9jdW1lbnRFbmRwb2ludChmaW5hbEVuZHBvaW50KSA/IGpzeChEb2N1bWVudFJlbmRlcmVyLCB7XG4gICAgICAgICAgZG9jdW1lbnRNZXRhZGF0YTogZG9jdW1lbnQsXG4gICAgICAgICAgZW5kcG9pbnQ6IGZpbmFsRW5kcG9pbnQsXG4gICAgICAgICAgbWF4SGVpZ2h0OiBtYXhIZWlnaHQsXG4gICAgICAgICAgZG9tSWQ6IGAke2RvbUlkfS0ke2luZGV4fWBcbiAgICAgICAgfSwgZG9jdW1lbnQuZG9jdW1lbnRJZCkgOiBudWxsO1xuICAgICAgfSlcbiAgICB9KSwganN4KEVycm9ycywge1xuICAgICAgaWQ6IGVycm9yTWVzc2FnZUlkLFxuICAgICAgZXJyb3JzOiBnZXRFcnJvcnMoe1xuICAgICAgICBkYXRhU291cmNlXG4gICAgICB9KVxuICAgIH0pXVxuICB9KTtcbn1cbkRvY3VtZW50UHJldmlldy5jb25maWcgPSB7XG4gIHR5cGUsXG4gIGtleWVkOiBmYWxzZSxcbiAgZ3JvdXA6ICdwcmVzZW50YXRpb24nLFxuICBuYW1lOiAnRG9jdW1lbnQgcHJldmlldycsXG4gIGNyZWF0ZTogKG9wdGlvbnMgPSB7fSkgPT4gKHtcbiAgICBsYWJlbDogJ0RvY3VtZW50IHByZXZpZXcnLFxuICAgIC4uLm9wdGlvbnNcbiAgfSlcbn07XG5cbi8vIGhlbHBlcnMgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLyoqXG4gKiBAdHlwZWRlZiBHZXRFcnJvck9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfHVuZGVmaW5lZH0gZGF0YVNvdXJjZVxuICpcbiAqIEBwYXJhbSB7R2V0RXJyb3JPcHRpb25zfSBvcHRpb25zXG4gKiBAcmV0dXJucyB7c3RyaW5nW119XG4gKi9cbmZ1bmN0aW9uIGdldEVycm9ycyhvcHRpb25zKSB7XG4gIGNvbnN0IHtcbiAgICBkYXRhU291cmNlXG4gIH0gPSBvcHRpb25zO1xuICBsZXQgZXJyb3JzID0gW107XG4gIGlmICghaXNTdHJpbmcoZGF0YVNvdXJjZSkgfHwgZGF0YVNvdXJjZS5sZW5ndGggPCAxKSB7XG4gICAgZXJyb3JzLnB1c2goJ0RvY3VtZW50IHJlZmVyZW5jZSBpcyBub3QgZGVmaW5lZC4nKTtcbiAgfVxuICByZXR1cm4gZXJyb3JzO1xufVxuXG4vKipcbiAqXG4gKiBAcGFyYW0ge3Vua25vd259IGVuZHBvaW50XG4gKiBAcmV0dXJucyBib29sZWFuXG4gKi9cbmZ1bmN0aW9uIGlzVmFsaWREb2N1bWVudEVuZHBvaW50KGVuZHBvaW50KSB7XG4gIHJldHVybiB0eXBlb2YgZW5kcG9pbnQgPT09ICdzdHJpbmcnICYmIFVSTC5jYW5QYXJzZShlbmRwb2ludCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHt1bmtub3dufSBkb2N1bWVudFxuICogQHJldHVybnMge21ldGFkYXRhIGlzIERvY3VtZW50TWV0YWRhdGF9XG4gKi9cbmZ1bmN0aW9uIGlzVmFsaWREb2N1bWVudChkb2N1bWVudCkge1xuICByZXR1cm4gdHlwZW9mIGRvY3VtZW50ID09PSAnb2JqZWN0JyAmJiBkb2N1bWVudCAhPT0gbnVsbCAmJiAnZG9jdW1lbnRJZCcgaW4gZG9jdW1lbnQgJiYgJ21ldGFkYXRhJyBpbiBkb2N1bWVudCAmJiB0eXBlb2YgZG9jdW1lbnQubWV0YWRhdGEgPT09ICdvYmplY3QnICYmICdmaWxlTmFtZScgaW4gZG9jdW1lbnQubWV0YWRhdGE7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGRhdGFTb3VyY2VcbiAqIEByZXR1cm5zIHtEb2N1bWVudE1ldGFkYXRhW119XG4gKi9cbmZ1bmN0aW9uIHVzZVZhbGlkRG9jdW1lbnREYXRhKGRhdGFTb3VyY2UpIHtcbiAgY29uc3QgZGF0YSA9IHVzZUV4cHJlc3Npb25FdmFsdWF0aW9uKGRhdGFTb3VyY2UpO1xuICBpZiAoIUFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgcmV0dXJuIGRhdGEuZmlsdGVyKGlzVmFsaWREb2N1bWVudCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtPYmplY3R9IHByb3BzXG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcHMudXJsXG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcHMuZmlsZU5hbWVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHByb3BzLm9uRXJyb3JcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wcy5lcnJvck1lc3NhZ2VJZFxuICogQHJldHVybnMge2ltcG9ydChcInByZWFjdFwiKS5KU1guRWxlbWVudH1cbiAqL1xuZnVuY3Rpb24gUGRmUmVuZGVyZXIocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIHVybCxcbiAgICBvbkVycm9yLFxuICAgIGVycm9yTWVzc2FnZUlkXG4gIH0gPSBwcm9wcztcbiAgLyoqIEB0eXBlIHtSZXR1cm5UeXBlPHR5cGVvZiBpbXBvcnQoXCJwcmVhY3QvaG9va3NcIikudXNlU3RhdGU8bnVsbCB8IHN0cmluZz4+fSAqL1xuICBjb25zdCBbcGRmT2JqZWN0VXJsLCBzZXRQZGZPYmplY3RVcmxdID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IFtoYXNFcnJvciwgc2V0SGFzRXJyb3JdID0gdXNlU3RhdGUoZmFsc2UpO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8qKiBAdHlwZSB7bnVsbCB8IHN0cmluZ30gKi9cbiAgICBsZXQgb2JqZWN0VXJsID0gbnVsbDtcbiAgICBjb25zdCBmZXRjaFBkZiA9IGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsKTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIHNldEhhc0Vycm9yKHRydWUpO1xuICAgICAgICAgIG9uRXJyb3IoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IHJlc3BvbnNlLmJsb2IoKTtcbiAgICAgICAgb2JqZWN0VXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICAgICAgc2V0UGRmT2JqZWN0VXJsKG9iamVjdFVybCk7XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgc2V0SGFzRXJyb3IodHJ1ZSk7XG4gICAgICAgIG9uRXJyb3IoKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGZldGNoUGRmKCk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmIChvYmplY3RVcmwpIHtcbiAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTChvYmplY3RVcmwpO1xuICAgICAgfVxuICAgIH07XG4gIH0sIFt1cmwsIG9uRXJyb3JdKTtcbiAgcmV0dXJuIGpzeHMoRnJhZ21lbnQsIHtcbiAgICBjaGlsZHJlbjogW3BkZk9iamVjdFVybCAhPT0gbnVsbCA/IGpzeChcImVtYmVkXCIsIHtcbiAgICAgIHNyYzogcGRmT2JqZWN0VXJsLFxuICAgICAgdHlwZTogXCJhcHBsaWNhdGlvbi9wZGZcIixcbiAgICAgIGNsYXNzOiBgZmpzLSR7dHlwZX0tcGRmLXZpZXdlcmBcbiAgICB9KSA6IG51bGwsIGhhc0Vycm9yID8ganN4KEVycm9ycywge1xuICAgICAgaWQ6IGVycm9yTWVzc2FnZUlkLFxuICAgICAgZXJyb3JzOiBbJ1VuYWJsZSB0byBkb3dubG9hZCBkb2N1bWVudCddXG4gICAgfSkgOiBudWxsXVxuICB9KTtcbn1cblxuLyoqXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHByb3BzXG4gKiBAcGFyYW0ge0RvY3VtZW50TWV0YWRhdGF9IHByb3BzLmRvY3VtZW50TWV0YWRhdGFcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wcy5lbmRwb2ludFxuICogQHBhcmFtIHtzdHJpbmd9IHByb3BzLmRvbUlkXG4gKiBAcGFyYW0ge251bWJlcnx1bmRlZmluZWR9IHByb3BzLm1heEhlaWdodFxuICpcbiAqIEByZXR1cm5zIHtpbXBvcnQoXCJwcmVhY3RcIikuSlNYLkVsZW1lbnR9XG4gKi9cbmZ1bmN0aW9uIERvY3VtZW50UmVuZGVyZXIocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGRvY3VtZW50TWV0YWRhdGEsXG4gICAgZW5kcG9pbnQsXG4gICAgbWF4SGVpZ2h0LFxuICAgIGRvbUlkXG4gIH0gPSBwcm9wcztcbiAgY29uc3Qge1xuICAgIG1ldGFkYXRhXG4gIH0gPSBkb2N1bWVudE1ldGFkYXRhO1xuICBjb25zdCBbaGFzRXJyb3IsIHNldEhhc0Vycm9yXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgcmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBpc0luVmlld3BvcnQgPSB1c2VJblZpZXdwb3J0KHJlZik7XG4gIGNvbnN0IHNpbmdsZURvY3VtZW50Q29udGFpbmVyQ2xhc3NOYW1lID0gYGZqcy0ke3R5cGV9LXNpbmdsZS1kb2N1bWVudC1jb250YWluZXJgO1xuICBjb25zdCBlcnJvck1lc3NhZ2VJZCA9IGAke2RvbUlkfS1lcnJvci1tZXNzYWdlYDtcbiAgY29uc3QgZXJyb3JNZXNzYWdlID0gJ1VuYWJsZSB0byBkb3dubG9hZCBkb2N1bWVudCc7XG4gIGNvbnN0IGlzQ29udGVudFR5cGVQcmVzZW50ID0gdHlwZW9mIG1ldGFkYXRhLmNvbnRlbnRUeXBlID09PSAnc3RyaW5nJztcbiAgaWYgKGlzQ29udGVudFR5cGVQcmVzZW50ICYmIG1ldGFkYXRhLmNvbnRlbnRUeXBlLnRvTG93ZXJDYXNlKCkuc3RhcnRzV2l0aCgnaW1hZ2UvJykgJiYgaXNJblZpZXdwb3J0KSB7XG4gICAgcmV0dXJuIGpzeHMoXCJkaXZcIiwge1xuICAgICAgY2xhc3M6IHNpbmdsZURvY3VtZW50Q29udGFpbmVyQ2xhc3NOYW1lLFxuICAgICAgc3R5bGU6IHtcbiAgICAgICAgbWF4SGVpZ2h0XG4gICAgICB9LFxuICAgICAgXCJhcmlhLWRlc2NyaWJlZGJ5XCI6IGhhc0Vycm9yID8gZXJyb3JNZXNzYWdlSWQgOiB1bmRlZmluZWQsXG4gICAgICBjaGlsZHJlbjogW2pzeChcImltZ1wiLCB7XG4gICAgICAgIHNyYzogZW5kcG9pbnQsXG4gICAgICAgIGFsdDogbWV0YWRhdGEuZmlsZU5hbWUsXG4gICAgICAgIGNsYXNzOiBgZmpzLSR7dHlwZX0taW1hZ2VgXG4gICAgICB9KSwganN4KERvd25sb2FkQnV0dG9uLCB7XG4gICAgICAgIGVuZHBvaW50OiBlbmRwb2ludCxcbiAgICAgICAgZmlsZU5hbWU6IG1ldGFkYXRhLmZpbGVOYW1lLFxuICAgICAgICBvbkRvd25sb2FkRXJyb3I6ICgpID0+IHtcbiAgICAgICAgICBzZXRIYXNFcnJvcih0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfSksIGhhc0Vycm9yID8ganN4KEVycm9ycywge1xuICAgICAgICBpZDogZXJyb3JNZXNzYWdlSWQsXG4gICAgICAgIGVycm9yczogW2Vycm9yTWVzc2FnZV1cbiAgICAgIH0pIDogbnVsbF1cbiAgICB9KTtcbiAgfVxuICBpZiAoaXNDb250ZW50VHlwZVByZXNlbnQgJiYgbWV0YWRhdGEuY29udGVudFR5cGUudG9Mb3dlckNhc2UoKSA9PT0gJ2FwcGxpY2F0aW9uL3BkZicgJiYgaXNJblZpZXdwb3J0KSB7XG4gICAgcmV0dXJuIGpzeChcImRpdlwiLCB7XG4gICAgICBjbGFzczogc2luZ2xlRG9jdW1lbnRDb250YWluZXJDbGFzc05hbWUsXG4gICAgICBzdHlsZToge1xuICAgICAgICBtYXhIZWlnaHRcbiAgICAgIH0sXG4gICAgICBcImFyaWEtZGVzY3JpYmVkYnlcIjogaGFzRXJyb3IgPyBlcnJvck1lc3NhZ2VJZCA6IHVuZGVmaW5lZCxcbiAgICAgIGNoaWxkcmVuOiBqc3goUGRmUmVuZGVyZXIsIHtcbiAgICAgICAgdXJsOiBlbmRwb2ludCxcbiAgICAgICAgZmlsZU5hbWU6IG1ldGFkYXRhLmZpbGVOYW1lLFxuICAgICAgICBvbkVycm9yOiAoKSA9PiBzZXRIYXNFcnJvcih0cnVlKSxcbiAgICAgICAgZXJyb3JNZXNzYWdlSWQ6IGVycm9yTWVzc2FnZUlkXG4gICAgICB9KVxuICAgIH0pO1xuICB9XG4gIHJldHVybiBqc3hzKFwiZGl2XCIsIHtcbiAgICBjbGFzczogY2xhc3NOYW1lcyhgZmpzLSR7dHlwZX0tbm9uLXByZXZpZXctaXRlbWAsIGBmanMtJHt0eXBlfS1zaW5nbGUtZG9jdW1lbnQtY29udGFpbmVyYCksXG4gICAgcmVmOiByZWYsXG4gICAgXCJhcmlhLWRlc2NyaWJlZGJ5XCI6IGhhc0Vycm9yID8gZXJyb3JNZXNzYWdlSWQgOiB1bmRlZmluZWQsXG4gICAgY2hpbGRyZW46IFtqc3hzKFwiZGl2XCIsIHtcbiAgICAgIGNoaWxkcmVuOiBbanN4KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3M6IFwiZmpzLWRvY3VtZW50LXByZXZpZXctdGl0bGVcIixcbiAgICAgICAgY2hpbGRyZW46IG1ldGFkYXRhLmZpbGVOYW1lXG4gICAgICB9KSwgaGFzRXJyb3IgPyBqc3goRXJyb3JzLCB7XG4gICAgICAgIGlkOiBlcnJvck1lc3NhZ2VJZCxcbiAgICAgICAgZXJyb3JzOiBbZXJyb3JNZXNzYWdlXVxuICAgICAgfSkgOiBudWxsXVxuICAgIH0pLCBqc3goRG93bmxvYWRCdXR0b24sIHtcbiAgICAgIGVuZHBvaW50OiBlbmRwb2ludCxcbiAgICAgIGZpbGVOYW1lOiBtZXRhZGF0YS5maWxlTmFtZSxcbiAgICAgIG9uRG93bmxvYWRFcnJvcjogKCkgPT4ge1xuICAgICAgICBzZXRIYXNFcnJvcih0cnVlKTtcbiAgICAgIH1cbiAgICB9KV1cbiAgfSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtPYmplY3R9IHByb3BzXG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcHMuZW5kcG9pbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wcy5maWxlTmFtZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gcHJvcHMub25Eb3dubG9hZEVycm9yXG4gKlxuICogQHJldHVybnMge2ltcG9ydChcInByZWFjdFwiKS5KU1guRWxlbWVudH1cbiAqL1xuZnVuY3Rpb24gRG93bmxvYWRCdXR0b24ocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGVuZHBvaW50LFxuICAgIGZpbGVOYW1lLFxuICAgIG9uRG93bmxvYWRFcnJvclxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IGhhbmRsZURvd25sb2FkID0gYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGVuZHBvaW50KTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgb25Eb3dubG9hZEVycm9yKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCByZXNwb25zZS5ibG9iKCk7XG4gICAgICBjb25zdCB1cmwgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICAgIGNvbnN0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICBsaW5rLmhyZWYgPSB1cmw7XG4gICAgICBsaW5rLmRvd25sb2FkID0gZmlsZU5hbWU7XG4gICAgICBsaW5rLmNsaWNrKCk7XG4gICAgICB3aW5kb3cuVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpO1xuICAgIH0gY2F0Y2gge1xuICAgICAgb25Eb3dubG9hZEVycm9yKCk7XG4gICAgfVxuICB9O1xuICByZXR1cm4ganN4KFwiYnV0dG9uXCIsIHtcbiAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgIG9uQ2xpY2s6IGhhbmRsZURvd25sb2FkLFxuICAgIGNsYXNzOiBjbGFzc05hbWVzKGBmanMtJHt0eXBlfS1kb3dubG9hZC1idXR0b25gKSxcbiAgICBcImFyaWEtbGFiZWxcIjogYERvd25sb2FkICR7ZmlsZU5hbWV9YCxcbiAgICBjaGlsZHJlbjoganN4KFN2Z0Rvd25sb2FkLCB7fSlcbiAgfSk7XG59XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KFwicHJlYWN0XCIpLlJlZk9iamVjdDxIVE1MRWxlbWVudHxudWxsPn0gcmVmXG4gKiBAcmV0dXJucyBib29sZWFuXG4gKi9cbmZ1bmN0aW9uIHVzZUluVmlld3BvcnQocmVmKSB7XG4gIGNvbnN0IFtpc0luVmlld3BvcnQsIHNldElzSW5WaWV3cG9ydF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgY29udGFpbmVyID0gcmVmLmN1cnJlbnQ7XG4gICAgaWYgKCFjb250YWluZXIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoKFtlbnRyeV0pID0+IHtcbiAgICAgIGlmIChlbnRyeS5pc0ludGVyc2VjdGluZykge1xuICAgICAgICBzZXRJc0luVmlld3BvcnQodHJ1ZSk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAgdGhyZXNob2xkOiAwXG4gICAgfSk7XG4gICAgb2JzZXJ2ZXIub2JzZXJ2ZShjb250YWluZXIpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpZiAoY29udGFpbmVyKSB7XG4gICAgICAgIG9ic2VydmVyLnVub2JzZXJ2ZShjb250YWluZXIpO1xuICAgICAgfVxuICAgIH07XG4gIH0sIFtyZWZdKTtcbiAgcmV0dXJuIGlzSW5WaWV3cG9ydDtcbn1cblxuLyoqXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHsoKSA9PiBUfSBmbiAtIEZ1bmN0aW9uIHRvIGV4ZWN1dGVcbiAqIEByZXR1cm5zIHtUIHwgbnVsbH1cbiAqL1xuY29uc3QgdHJ5Q2F0Y2ggPSBmbiA9PiB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGZuKCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn07XG5cbi8qKlxuICogVGhpcyBmaWxlIG11c3Qgbm90IGJlIGNoYW5nZWQgb3IgZXhjaGFuZ2VkLlxuICpcbiAqIEBzZWUgaHR0cDovL2JwbW4uaW8vbGljZW5zZSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqL1xuZnVuY3Rpb24gTG9nbygpIHtcbiAgcmV0dXJuIGpzeHMoXCJzdmdcIiwge1xuICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgdmlld0JveDogXCIwIDAgMTQuMDIgNS41N1wiLFxuICAgIHdpZHRoOiBcIjUzXCIsXG4gICAgaGVpZ2h0OiBcIjIxXCIsXG4gICAgc3R5bGU6IFwidmVydGljYWwtYWxpZ246bWlkZGxlXCIsXG4gICAgY2hpbGRyZW46IFtqc3goXCJwYXRoXCIsIHtcbiAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICBkOiBcIk0xLjg4Ljkydi4xNGMwIC40MS0uMTMuNjgtLjQuOC4zMy4xNC40Ni40NC40Ni44NnYuMzNjMCAuNjEtLjMzLjk1LS45NS45NUgwVjBoLjk1Yy42NSAwIC45My4zLjkzLjkyek0uNjMuNTd2MS4wNmguMjRjLjI0IDAgLjM4LS4xLjM4LS40M1YuOThjMC0uMjgtLjEtLjQtLjMyLS40em0wIDEuNjN2MS4yMmguMzZjLjIgMCAuMzItLjEuMzItLjM5di0uMzVjMC0uMzctLjEyLS40OC0uNC0uNDhILjYzek00LjE4Ljk5di41MmMwIC42NC0uMzEuOTgtLjk0Ljk4aC0uM1Y0aC0uNjJWMGguOTJjLjYzIDAgLjk0LjM1Ljk0Ljk5ek0yLjk0LjU3djEuMzVoLjNjLjIgMCAuMy0uMDkuMy0uMzd2LS42YzAtLjI5LS4xLS4zOC0uMy0uMzhoLS4zem0yLjg5IDIuMjdMNi4yNSAwaC44OHY0aC0uNlYxLjEyTDYuMSAzLjk5aC0uNmwtLjQ2LTIuODJ2Mi44MmgtLjU1VjBoLjg3ek04LjE0IDEuMVY0aC0uNTZWMGguNzlMOSAyLjRWMGguNTZ2NGgtLjY0em0yLjQ5IDIuMjl2LjZoLS42di0uNnpNMTIuMTIgMWMwLS42My4zMy0xIC45NS0xIC42MSAwIC45NS4zNy45NSAxdjIuMDRjMCAuNjQtLjM0IDEtLjk1IDEtLjYyIDAtLjk1LS4zNy0uOTUtMXptLjYyIDIuMDhjMCAuMjguMTMuMzkuMzMuMzlzLjMyLS4xLjMyLS40Vi45OGMwLS4yOS0uMTItLjQtLjMyLS40cy0uMzMuMTEtLjMzLjR6XCJcbiAgICB9KSwganN4KFwicGF0aFwiLCB7XG4gICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgZDogXCJNMCA0LjUzaDE0LjAydjEuMDRIMHpNMTEuMDggMGguNjN2LjYyaC0uNjN6bS42MyA0VjFoLS42M3YyLjk4elwiXG4gICAgfSldXG4gIH0pO1xufVxuZnVuY3Rpb24gTGlnaHRib3gocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIG9wZW5cbiAgfSA9IHByb3BzO1xuICBpZiAoIW9wZW4pIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4ganN4cyhcImRpdlwiLCB7XG4gICAgY2xhc3M6IFwiZmpzLXBvd2VyZWQtYnktbGlnaHRib3hcIixcbiAgICBzdHlsZTogXCJ6LWluZGV4OiAxMDA7IHBvc2l0aW9uOiBmaXhlZDsgdG9wOiAwOyBsZWZ0OiAwO3JpZ2h0OiAwOyBib3R0b206IDBcIixcbiAgICBjaGlsZHJlbjogW2pzeChcImRpdlwiLCB7XG4gICAgICBjbGFzczogXCJiYWNrZHJvcFwiLFxuICAgICAgc3R5bGU6IFwid2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsgYmFja2dyb3VuZDogcmdiYSg0MCA0MCA0MCAvIDIwJSlcIixcbiAgICAgIG9uQ2xpY2s6IHByb3BzLm9uQmFja2Ryb3BDbGlja1xuICAgIH0pLCBqc3hzKFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzOiBcIm5vdGljZVwiLFxuICAgICAgc3R5bGU6IFwicG9zaXRpb246IGFic29sdXRlOyBsZWZ0OiA1MCU7IHRvcDogNDAlOyB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlKTsgd2lkdGg6IDI2MHB4OyBwYWRkaW5nOiAxMHB4OyBiYWNrZ3JvdW5kOiB3aGl0ZTsgYm94LXNoYWRvdzogMCAgMXB4IDRweCByZ2JhKDAgMCAwIC8gMzAlKTsgZm9udC1mYW1pbHk6IEhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWY7IGZvbnQtc2l6ZTogMTRweDsgZGlzcGxheTogZmxleDsgbGluZS1oZWlnaHQ6IDEuM1wiLFxuICAgICAgY2hpbGRyZW46IFtqc3goXCJhXCIsIHtcbiAgICAgICAgaHJlZjogXCJodHRwczovL2JwbW4uaW9cIixcbiAgICAgICAgdGFyZ2V0OiBcIl9ibGFua1wiLFxuICAgICAgICByZWw6IFwibm9vcGVuZXIgbm9yZWZlcnJlclwiLFxuICAgICAgICBzdHlsZTogXCJtYXJnaW46IDE1cHggMjBweCAxNXB4IDEwcHg7IGFsaWduLXNlbGY6IGNlbnRlcjsgY29sb3I6IHZhcigtLWNkcy1pY29uLXByaW1hcnksICM0MDQwNDApXCIsXG4gICAgICAgIGNoaWxkcmVuOiBqc3goTG9nbywge30pXG4gICAgICB9KSwganN4cyhcInNwYW5cIiwge1xuICAgICAgICBjaGlsZHJlbjogW1wiV2ViLWJhc2VkIHRvb2xpbmcgZm9yIEJQTU4sIERNTiwgYW5kIGZvcm1zIHBvd2VyZWQgYnlcIiwgJyAnLCBqc3goXCJhXCIsIHtcbiAgICAgICAgICBocmVmOiBcImh0dHBzOi8vYnBtbi5pb1wiLFxuICAgICAgICAgIHRhcmdldDogXCJfYmxhbmtcIixcbiAgICAgICAgICByZWw6IFwibm9vcGVuZXIgbm9yZWZlcnJlclwiLFxuICAgICAgICAgIGNoaWxkcmVuOiBcImJwbW4uaW9cIlxuICAgICAgICB9KSwgXCIuXCJdXG4gICAgICB9KV1cbiAgICB9KV1cbiAgfSk7XG59XG5mdW5jdGlvbiBMaW5rKHByb3BzKSB7XG4gIHJldHVybiBqc3goXCJkaXZcIiwge1xuICAgIGNsYXNzOiBcImZqcy1wb3dlcmVkLWJ5IGZqcy1mb3JtLWZpZWxkXCIsXG4gICAgc3R5bGU6IFwidGV4dC1hbGlnbjogcmlnaHRcIixcbiAgICBjaGlsZHJlbjoganN4KFwiYVwiLCB7XG4gICAgICBocmVmOiBcImh0dHBzOi8vYnBtbi5pb1wiLFxuICAgICAgdGFyZ2V0OiBcIl9ibGFua1wiLFxuICAgICAgcmVsOiBcIm5vb3BlbmVyIG5vcmVmZXJyZXJcIixcbiAgICAgIGNsYXNzOiBcImZqcy1wb3dlcmVkLWJ5LWxpbmtcIixcbiAgICAgIHRpdGxlOiBcIlBvd2VyZWQgYnkgYnBtbi5pb1wiLFxuICAgICAgc3R5bGU6IFwiY29sb3I6IHZhcigtLWNkcy10ZXh0LXByaW1hcnksICM0MDQwNDApXCIsXG4gICAgICBvbkNsaWNrOiBwcm9wcy5vbkNsaWNrLFxuICAgICAgY2hpbGRyZW46IGpzeChMb2dvLCB7fSlcbiAgICB9KVxuICB9KTtcbn1cbmZ1bmN0aW9uIFBvd2VyZWRCeShwcm9wcykge1xuICBjb25zdCBbb3Blbiwgc2V0T3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGZ1bmN0aW9uIHRvZ2dsZU9wZW4ob3Blbikge1xuICAgIHJldHVybiBldmVudCA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgc2V0T3BlbihvcGVuKTtcbiAgICB9O1xuICB9XG4gIHJldHVybiBqc3hzKEZyYWdtZW50JDEsIHtcbiAgICBjaGlsZHJlbjogW2NyZWF0ZVBvcnRhbChqc3goTGlnaHRib3gsIHtcbiAgICAgIG9wZW46IG9wZW4sXG4gICAgICBvbkJhY2tkcm9wQ2xpY2s6IHRvZ2dsZU9wZW4oZmFsc2UpXG4gICAgfSksIGRvY3VtZW50LmJvZHkpLCBqc3goTGluaywge1xuICAgICAgb25DbGljazogdG9nZ2xlT3Blbih0cnVlKVxuICAgIH0pXVxuICB9KTtcbn1cblxuY29uc3Qgbm9vcCA9ICgpID0+IHt9O1xuZnVuY3Rpb24gRm9ybUNvbXBvbmVudChwcm9wcykge1xuICBjb25zdCBmb3JtID0gdXNlU2VydmljZSgnZm9ybScpO1xuICBjb25zdCB7XG4gICAgc2NoZW1hLFxuICAgIHByb3BlcnRpZXNcbiAgfSA9IGZvcm0uX2dldFN0YXRlKCk7XG4gIGNvbnN0IHtcbiAgICBhcmlhTGFiZWxcbiAgfSA9IHByb3BlcnRpZXM7XG4gIGNvbnN0IHtcbiAgICBvblN1Ym1pdCA9IG5vb3AsXG4gICAgb25SZXNldCA9IG5vb3AsXG4gICAgb25DaGFuZ2UgPSBub29wXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgaGFuZGxlU3VibWl0ID0gZXZlbnQgPT4ge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgb25TdWJtaXQoKTtcbiAgfTtcbiAgY29uc3QgaGFuZGxlUmVzZXQgPSBldmVudCA9PiB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBvblJlc2V0KCk7XG4gIH07XG4gIGNvbnN0IGZpbHRlcmVkRm9ybURhdGEgPSB1c2VGaWx0ZXJlZEZvcm1EYXRhKCk7XG4gIGNvbnN0IGxvY2FsRXhwcmVzc2lvbkNvbnRleHQgPSB1c2VNZW1vKCgpID0+ICh7XG4gICAgZGF0YTogZmlsdGVyZWRGb3JtRGF0YSxcbiAgICBwYXJlbnQ6IG51bGwsXG4gICAgdGhpczogZmlsdGVyZWRGb3JtRGF0YSxcbiAgICBpOiBbXVxuICB9KSwgW2ZpbHRlcmVkRm9ybURhdGFdKTtcbiAgcmV0dXJuIGpzeHMoXCJmb3JtXCIsIHtcbiAgICBjbGFzczogXCJmanMtZm9ybVwiLFxuICAgIG9uU3VibWl0OiBoYW5kbGVTdWJtaXQsXG4gICAgb25SZXNldDogaGFuZGxlUmVzZXQsXG4gICAgXCJhcmlhLWxhYmVsXCI6IGFyaWFMYWJlbCxcbiAgICBub1ZhbGlkYXRlOiB0cnVlLFxuICAgIGNoaWxkcmVuOiBbanN4KExvY2FsRXhwcmVzc2lvbkNvbnRleHQuUHJvdmlkZXIsIHtcbiAgICAgIHZhbHVlOiBsb2NhbEV4cHJlc3Npb25Db250ZXh0LFxuICAgICAgY2hpbGRyZW46IGpzeChGb3JtRmllbGQsIHtcbiAgICAgICAgZmllbGQ6IHNjaGVtYSxcbiAgICAgICAgb25DaGFuZ2U6IG9uQ2hhbmdlXG4gICAgICB9KVxuICAgIH0pLCBqc3goUG93ZXJlZEJ5LCB7fSldXG4gIH0pO1xufVxuXG5jb25zdCBmb3JtRmllbGRzID0gWy8qIElucHV0ICovXG5UZXh0ZmllbGQsIFRleHRhcmVhLCBOdW1iZXJmaWVsZCwgRGF0ZXRpbWUsIEV4cHJlc3Npb25GaWVsZCwgRmlsZVBpY2tlciwgLyogU2VsZWN0aW9uICovXG5DaGVja2JveCwgQ2hlY2tsaXN0LCBSYWRpbywgU2VsZWN0LCBUYWdsaXN0LCAvKiBQcmVzZW50YXRpb24gKi9cblRleHQsIEltYWdlLCBUYWJsZSwgSHRtbCwgRG9jdW1lbnRQcmV2aWV3LCBTcGFjZXIsIFNlcGFyYXRvciwgLyogQ29udGFpbmVycyAqL1xuR3JvdXAsIER5bmFtaWNMaXN0LCBJRnJhbWUsIC8qIE90aGVyICovXG5CdXR0b24sIERlZmF1bHRdO1xuXG5jbGFzcyBGb3JtRmllbGRzIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5fZm9ybUZpZWxkcyA9IHt9O1xuICAgIGZvcm1GaWVsZHMuZm9yRWFjaChmb3JtRmllbGQgPT4ge1xuICAgICAgdGhpcy5yZWdpc3Rlcihmb3JtRmllbGQuY29uZmlnLnR5cGUsIGZvcm1GaWVsZCk7XG4gICAgfSk7XG4gIH1cbiAgcmVnaXN0ZXIodHlwZSwgZm9ybUZpZWxkKSB7XG4gICAgdGhpcy5fZm9ybUZpZWxkc1t0eXBlXSA9IGZvcm1GaWVsZDtcbiAgfVxuICBnZXQodHlwZSkge1xuICAgIHJldHVybiB0aGlzLl9mb3JtRmllbGRzW3R5cGVdO1xuICB9XG59XG5cbmNvbnN0IEVYUFJFU1NJT05fUFJPUEVSVElFUyA9IFsnYWx0JywgJ2FwcGVhcmFuY2UucHJlZml4QWRvcm5lcicsICdhcHBlYXJhbmNlLnN1ZmZpeEFkb3JuZXInLCAnY29uZGl0aW9uYWwuaGlkZScsICdkZXNjcmlwdGlvbicsICdsYWJlbCcsICdzb3VyY2UnLCAncmVhZG9ubHknLCAndGV4dCcsICd2YWxpZGF0ZS5taW4nLCAndmFsaWRhdGUubWF4JywgJ3ZhbGlkYXRlLm1pbkxlbmd0aCcsICd2YWxpZGF0ZS5tYXhMZW5ndGgnLCAndmFsdWVzRXhwcmVzc2lvbicsICd1cmwnLCAnZGF0YVNvdXJjZScsICdjb2x1bW5zRXhwcmVzc2lvbicsICdleHByZXNzaW9uJywgJ211bHRpcGxlJywgJ2FjY2VwdCcsICd0aXRsZSddO1xuY29uc3QgVEVNUExBVEVfUFJPUEVSVElFUyA9IFsnYWx0JywgJ2FwcGVhcmFuY2UucHJlZml4QWRvcm5lcicsICdhcHBlYXJhbmNlLnN1ZmZpeEFkb3JuZXInLCAnZGVzY3JpcHRpb24nLCAnbGFiZWwnLCAnc291cmNlJywgJ3RleHQnLCAnY29udGVudCcsICd1cmwnLCAndGl0bGUnXTtcblxuLyoqXG4gKiBAdHlwZWRlZiB7IGltcG9ydCgnLi4vdHlwZXMnKS5TY2hlbWEgfSBTY2hlbWFcbiAqL1xuXG4vKipcbiAqIFBhcnNlIHRoZSBzY2hlbWEgZm9yIHZhcmlhYmxlcyBhIGZvcm0gbWlnaHQgbWFrZSB1c2Ugb2YuXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiAvLyByZXRyaWV2ZSB2YXJpYWJsZXMgZnJvbSBzY2hlbWFcbiAqIGNvbnN0IHZhcmlhYmxlcyA9IGdldFNjaGVtYVZhcmlhYmxlcyhzY2hlbWEpO1xuICpcbiAqIEBleGFtcGxlXG4gKlxuICogLy8gcmV0cmlldmUgaW5wdXQgdmFyaWFibGVzIGZyb20gc2NoZW1hXG4gKiBjb25zdCBpbnB1dFZhcmlhYmxlcyA9IGdldFNjaGVtYVZhcmlhYmxlcyhzY2hlbWEsIHsgb3V0cHV0czogZmFsc2UgfSk7XG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiAvLyByZXRyaWV2ZSBvdXRwdXQgdmFyaWFibGVzIGZyb20gc2NoZW1hXG4gKiBjb25zdCBvdXRwdXRWYXJpYWJsZXMgPSBnZXRTY2hlbWFWYXJpYWJsZXMoc2NoZW1hLCB7IGlucHV0czogZmFsc2UgfSk7XG4gKlxuICogQHBhcmFtIHtTY2hlbWF9IHNjaGVtYVxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxuICogQHBhcmFtIHthbnl9IFtvcHRpb25zLmV4cHJlc3Npb25MYW5ndWFnZV1cbiAqIEBwYXJhbSB7YW55fSBbb3B0aW9ucy50ZW1wbGF0aW5nXVxuICogQHBhcmFtIHthbnl9IFtvcHRpb25zLmZvcm1GaWVsZHNdXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmlucHV0cz10cnVlXVxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5vdXRwdXRzPXRydWVdXG4gKlxuICogQHJldHVybiB7c3RyaW5nW119XG4gKi9cbmZ1bmN0aW9uIGdldFNjaGVtYVZhcmlhYmxlcyhzY2hlbWEsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7XG4gICAgZm9ybUZpZWxkcyA9IG5ldyBGb3JtRmllbGRzKCksXG4gICAgZXhwcmVzc2lvbkxhbmd1YWdlID0gbmV3IEZlZWxFeHByZXNzaW9uTGFuZ3VhZ2UobnVsbCksXG4gICAgdGVtcGxhdGluZyA9IG5ldyBGZWVsZXJzVGVtcGxhdGluZygpLFxuICAgIGlucHV0cyA9IHRydWUsXG4gICAgb3V0cHV0cyA9IHRydWVcbiAgfSA9IG9wdGlvbnM7XG4gIGlmICghc2NoZW1hLmNvbXBvbmVudHMpIHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgY29uc3QgZ2V0QWxsQ29tcG9uZW50cyA9IG5vZGUgPT4ge1xuICAgIGNvbnN0IGNvbXBvbmVudHMgPSBbXTtcbiAgICBpZiAobm9kZS5jb21wb25lbnRzKSB7XG4gICAgICBub2RlLmNvbXBvbmVudHMuZm9yRWFjaChjb21wb25lbnQgPT4ge1xuICAgICAgICBjb21wb25lbnRzLnB1c2goY29tcG9uZW50KTtcbiAgICAgICAgY29tcG9uZW50cy5wdXNoKC4uLmdldEFsbENvbXBvbmVudHMoY29tcG9uZW50KSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbXBvbmVudHM7XG4gIH07XG4gIGNvbnN0IHZhcmlhYmxlcyA9IGdldEFsbENvbXBvbmVudHMoc2NoZW1hKS5yZWR1Y2UoKHZhcmlhYmxlcywgY29tcG9uZW50KSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgdmFsdWVzS2V5XG4gICAgfSA9IGNvbXBvbmVudDtcblxuICAgIC8vIGNvbGxlY3QgaW5wdXQtb25seSB2YXJpYWJsZXNcbiAgICBpZiAoaW5wdXRzKSB7XG4gICAgICBpZiAodmFsdWVzS2V5KSB7XG4gICAgICAgIHZhcmlhYmxlcyA9IFsuLi52YXJpYWJsZXMsIHZhbHVlc0tleV07XG4gICAgICB9XG4gICAgICBFWFBSRVNTSU9OX1BST1BFUlRJRVMuZm9yRWFjaChwcm9wID0+IHtcbiAgICAgICAgY29uc3QgcHJvcGVydHkgPSBnZXQoY29tcG9uZW50LCBwcm9wLnNwbGl0KCcuJykpO1xuICAgICAgICBpZiAocHJvcGVydHkgJiYgZXhwcmVzc2lvbkxhbmd1YWdlLmlzRXhwcmVzc2lvbihwcm9wZXJ0eSkpIHtcbiAgICAgICAgICBjb25zdCBleHByZXNzaW9uVmFyaWFibGVzID0gZXhwcmVzc2lvbkxhbmd1YWdlLmdldFZhcmlhYmxlTmFtZXMocHJvcGVydHksIHtcbiAgICAgICAgICAgIHR5cGU6ICdleHByZXNzaW9uJ1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHZhcmlhYmxlcyA9IFsuLi52YXJpYWJsZXMsIC4uLmV4cHJlc3Npb25WYXJpYWJsZXNdO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIFRFTVBMQVRFX1BST1BFUlRJRVMuZm9yRWFjaChwcm9wID0+IHtcbiAgICAgICAgY29uc3QgcHJvcGVydHkgPSBnZXQoY29tcG9uZW50LCBwcm9wLnNwbGl0KCcuJykpO1xuICAgICAgICBpZiAocHJvcGVydHkgJiYgIWV4cHJlc3Npb25MYW5ndWFnZS5pc0V4cHJlc3Npb24ocHJvcGVydHkpICYmIHRlbXBsYXRpbmcuaXNUZW1wbGF0ZShwcm9wZXJ0eSkpIHtcbiAgICAgICAgICBjb25zdCB0ZW1wbGF0ZVZhcmlhYmxlcyA9IHRlbXBsYXRpbmcuZ2V0VmFyaWFibGVOYW1lcyhwcm9wZXJ0eSk7XG4gICAgICAgICAgdmFyaWFibGVzID0gWy4uLnZhcmlhYmxlcywgLi4udGVtcGxhdGVWYXJpYWJsZXNdO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHZhcmlhYmxlcy5maWx0ZXIodmFyaWFibGUgPT4gdHlwZW9mIHZhcmlhYmxlID09PSAnc3RyaW5nJyk7XG4gIH0sIFtdKTtcbiAgY29uc3QgZ2V0QmluZGluZ1ZhcmlhYmxlcyA9IG5vZGUgPT4ge1xuICAgIGNvbnN0IGJpbmRpbmdWYXJpYWJsZSA9IFtdO1xuICAgIGNvbnN0IGZvcm1GaWVsZCA9IGZvcm1GaWVsZHMuZ2V0KG5vZGUudHlwZSk7XG4gICAgaWYgKGZvcm1GaWVsZCAmJiBmb3JtRmllbGQuY29uZmlnLmtleWVkICYmIG5vZGUua2V5KSB7XG4gICAgICByZXR1cm4gW25vZGUua2V5LnNwbGl0KCcuJylbMF1dO1xuICAgIH0gZWxzZSBpZiAoZm9ybUZpZWxkICYmIGZvcm1GaWVsZC5jb25maWcucGF0aGVkICYmIG5vZGUucGF0aCkge1xuICAgICAgcmV0dXJuIFtub2RlLnBhdGguc3BsaXQoJy4nKVswXV07XG4gICAgfSBlbHNlIGlmIChub2RlLmNvbXBvbmVudHMpIHtcbiAgICAgIG5vZGUuY29tcG9uZW50cy5mb3JFYWNoKGNvbXBvbmVudCA9PiB7XG4gICAgICAgIGJpbmRpbmdWYXJpYWJsZS5wdXNoKC4uLmdldEJpbmRpbmdWYXJpYWJsZXMoY29tcG9uZW50KSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGJpbmRpbmdWYXJpYWJsZTtcbiAgfTtcblxuICAvLyBjb2xsZWN0IGJpbmRpbmcgdmFyaWFibGVzXG4gIGlmIChpbnB1dHMgfHwgb3V0cHV0cykge1xuICAgIHZhcmlhYmxlcy5wdXNoKC4uLmdldEJpbmRpbmdWYXJpYWJsZXMoc2NoZW1hKSk7XG4gIH1cblxuICAvLyByZW1vdmUgZHVwbGljYXRlc1xuICByZXR1cm4gQXJyYXkuZnJvbShuZXcgU2V0KHZhcmlhYmxlcykpO1xufVxuXG4vKipcbiAqIEdldCB0aGUgYW5jZXN0cnkgbGlzdCBvZiBhIGZvcm0gZmllbGQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGZvcm1GaWVsZElkXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi4vY29yZS9Gb3JtRmllbGRSZWdpc3RyeScpLkZvcm1GaWVsZFJlZ2lzdHJ5fSBmb3JtRmllbGRSZWdpc3RyeVxuICpcbiAqIEByZXR1cm4ge0FycmF5PHN0cmluZz59IGFuY2VzdHJ5IGxpc3RcbiAqL1xuY29uc3QgZ2V0QW5jZXN0cnlMaXN0ID0gKGZvcm1GaWVsZElkLCBmb3JtRmllbGRSZWdpc3RyeSkgPT4ge1xuICBjb25zdCBpZHMgPSBbXTtcbiAgbGV0IGN1cnJlbnRGb3JtRmllbGQgPSBmb3JtRmllbGRSZWdpc3RyeS5nZXQoZm9ybUZpZWxkSWQpO1xuICB3aGlsZSAoY3VycmVudEZvcm1GaWVsZCkge1xuICAgIGlkcy5wdXNoKGN1cnJlbnRGb3JtRmllbGQuaWQpO1xuICAgIGN1cnJlbnRGb3JtRmllbGQgPSBmb3JtRmllbGRSZWdpc3RyeS5nZXQoY3VycmVudEZvcm1GaWVsZC5fcGFyZW50KTtcbiAgfVxuICByZXR1cm4gaWRzO1xufTtcblxuLyoqXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBDb25kaXRpb25cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbaGlkZV1cbiAqL1xuXG5jbGFzcyBDb25kaXRpb25DaGVja2VyIHtcbiAgY29uc3RydWN0b3IoZm9ybUZpZWxkUmVnaXN0cnksIHBhdGhSZWdpc3RyeSwgZXZlbnRCdXMpIHtcbiAgICB0aGlzLl9mb3JtRmllbGRSZWdpc3RyeSA9IGZvcm1GaWVsZFJlZ2lzdHJ5O1xuICAgIHRoaXMuX3BhdGhSZWdpc3RyeSA9IHBhdGhSZWdpc3RyeTtcbiAgICB0aGlzLl9ldmVudEJ1cyA9IGV2ZW50QnVzO1xuICB9XG5cbiAgLyoqXG4gICAqIEZvciBnaXZlbiBkYXRhLCByZW1vdmUgcHJvcGVydGllcyBiYXNlZCBvbiBjb25kaXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0PHN0cmluZywgYW55Pn0gZGF0YVxuICAgKiBAcGFyYW0ge09iamVjdDxzdHJpbmcsIGFueT59IGNvbnRleHREYXRhXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW29wdGlvbnMuZ2V0RmlsdGVyUGF0aF1cbiAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5sZWFmTm9kZURlbGV0aW9uT25seV1cbiAgICovXG4gIGFwcGx5Q29uZGl0aW9ucyhkYXRhLCBjb250ZXh0RGF0YSA9IHt9LCBvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCB3b3JraW5nRGF0YSA9IGNsb25lKGRhdGEpO1xuICAgIGNvbnN0IHtcbiAgICAgIGdldEZpbHRlclBhdGggPSAoZmllbGQsIGluZGV4ZXMpID0+IHRoaXMuX3BhdGhSZWdpc3RyeS5nZXRWYWx1ZVBhdGgoZmllbGQsIHtcbiAgICAgICAgaW5kZXhlc1xuICAgICAgfSlcbiAgICB9ID0gb3B0aW9ucztcbiAgICBjb25zdCBfYXBwbHlDb25kaXRpb25zV2l0aGluU2NvcGUgPSAocm9vdEZpZWxkLCBzY29wZUNvbnRleHQsIHN0YXJ0SGlkZGVuID0gZmFsc2UpID0+IHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgaW5kZXhlcyA9IHt9LFxuICAgICAgICBleHByZXNzaW9uSW5kZXhlcyA9IFtdLFxuICAgICAgICBzY29wZURhdGEgPSBjb250ZXh0RGF0YSxcbiAgICAgICAgcGFyZW50U2NvcGVEYXRhID0gbnVsbFxuICAgICAgfSA9IHNjb3BlQ29udGV4dDtcbiAgICAgIHRoaXMuX3BhdGhSZWdpc3RyeS5leGVjdXRlUmVjdXJzaXZlbHlPbkZpZWxkcyhyb290RmllbGQsICh7XG4gICAgICAgIGZpZWxkLFxuICAgICAgICBpc0Nsb3NlZCxcbiAgICAgICAgaXNSZXBlYXRhYmxlLFxuICAgICAgICBjb250ZXh0XG4gICAgICB9KSA9PiB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICBjb25kaXRpb25hbCxcbiAgICAgICAgICBjb21wb25lbnRzLFxuICAgICAgICAgIGlkXG4gICAgICAgIH0gPSBmaWVsZDtcblxuICAgICAgICAvLyBidWlsZCB0aGUgZXhwcmVzc2lvbiBjb250ZXh0IGluIHRoZSByaWdodCBmb3JtYXRcbiAgICAgICAgY29uc3QgbG9jYWxFeHByZXNzaW9uQ29udGV4dCA9IGJ1aWxkRXhwcmVzc2lvbkNvbnRleHQoe1xuICAgICAgICAgIHRoaXM6IHNjb3BlRGF0YSxcbiAgICAgICAgICBkYXRhOiBjb250ZXh0RGF0YSxcbiAgICAgICAgICBpOiBleHByZXNzaW9uSW5kZXhlcyxcbiAgICAgICAgICBwYXJlbnQ6IHBhcmVudFNjb3BlRGF0YVxuICAgICAgICB9KTtcbiAgICAgICAgY29udGV4dC5pc0hpZGRlbiA9IHN0YXJ0SGlkZGVuIHx8IGNvbnRleHQuaXNIaWRkZW4gfHwgY29uZGl0aW9uYWwgJiYgdGhpcy5fY2hlY2tIaWRlQ29uZGl0aW9uKGNvbmRpdGlvbmFsLCBsb2NhbEV4cHJlc3Npb25Db250ZXh0KTtcblxuICAgICAgICAvLyBpZiBhIGZpZWxkIGlzIHJlcGVhdGFibGUgYW5kIHZpc2libGUsIHdlIG5lZWQgdG8gaW1wbGVtZW50IGN1c3RvbSByZWN1cnNpb24gb24gaXRzIGNoaWxkcmVuXG4gICAgICAgIGlmIChpc1JlcGVhdGFibGUgJiYgIWNvbnRleHQuaXNIaWRkZW4pIHtcbiAgICAgICAgICAvLyBwcmV2ZW50IHRoZSByZWd1bGFyIHJlY3Vyc2lvbiBiZWhhdmlvciBvZiBleGVjdXRlUmVjdXJzaXZlbHlPbkZpZWxkc1xuICAgICAgICAgIGNvbnRleHQucHJldmVudFJlY3Vyc2lvbiA9IHRydWU7XG4gICAgICAgICAgY29uc3QgcmVwZWF0ZXJWYWx1ZVBhdGggPSB0aGlzLl9wYXRoUmVnaXN0cnkuZ2V0VmFsdWVQYXRoKGZpZWxkLCB7XG4gICAgICAgICAgICBpbmRleGVzXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3QgcmVwZWF0ZXJWYWx1ZSA9IGdldChjb250ZXh0RGF0YSwgcmVwZWF0ZXJWYWx1ZVBhdGgpO1xuXG4gICAgICAgICAgLy8gcXVpdCBlYXJseSBpZiB0aGVyZSBhcmUgbm8gY2hpbGRyZW4gb3IgZGF0YSBhc3NvY2lhdGVkIHdpdGggdGhlIHJlcGVhdGVyXG4gICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHJlcGVhdGVyVmFsdWUpIHx8ICFyZXBlYXRlclZhbHVlLmxlbmd0aCB8fCAhQXJyYXkuaXNBcnJheShjb21wb25lbnRzKSB8fCAhY29tcG9uZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXBlYXRlclZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAvLyBjcmVhdGUgYSBuZXcgc2NvcGUgY29udGV4dCBmb3IgZWFjaCBpbmRleFxuICAgICAgICAgICAgY29uc3QgbmV3U2NvcGVDb250ZXh0ID0ge1xuICAgICAgICAgICAgICBpbmRleGVzOiB7XG4gICAgICAgICAgICAgICAgLi4uaW5kZXhlcyxcbiAgICAgICAgICAgICAgICBbaWRdOiBpXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGV4cHJlc3Npb25JbmRleGVzOiBbLi4uZXhwcmVzc2lvbkluZGV4ZXMsIGkgKyAxXSxcbiAgICAgICAgICAgICAgc2NvcGVEYXRhOiByZXBlYXRlclZhbHVlW2ldLFxuICAgICAgICAgICAgICBwYXJlbnRTY29wZURhdGE6IHNjb3BlRGF0YVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy8gZm9yIGVhY2ggY2hpbGQgY29tcG9uZW50LCBhcHBseSBjb25kaXRpb25zIHdpdGhpbiB0aGUgbmV3IHJlcGV0aXRpb24gc2NvcGVcbiAgICAgICAgICAgIGNvbXBvbmVudHMuZm9yRWFjaChjb21wb25lbnQgPT4ge1xuICAgICAgICAgICAgICBfYXBwbHlDb25kaXRpb25zV2l0aGluU2NvcGUoY29tcG9uZW50LCBuZXdTY29wZUNvbnRleHQsIGNvbnRleHQuaXNIaWRkZW4pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgd2UgaGF2ZSBhIGhpZGRlbiByZXBlYXRhYmxlIGZpZWxkLCBhbmQgdGhlIGRhdGEgc3RydWN0dXJlIGFsbG93cywgd2UgY2xlYXIgaXQgZGlyZWN0bHkgYXQgdGhlIHJvb3QgYW5kIHN0b3AgcmVjdXJzaW9uXG4gICAgICAgIGlmIChjb250ZXh0LmlzSGlkZGVuICYmIGlzUmVwZWF0YWJsZSkge1xuICAgICAgICAgIGNvbnRleHQucHJldmVudFJlY3Vyc2lvbiA9IHRydWU7XG4gICAgICAgICAgdGhpcy5fZXZlbnRCdXMuZmlyZSgnY29uZGl0aW9uQ2hlY2tlci5yZW1vdmUnLCB7XG4gICAgICAgICAgICBpdGVtOiB7XG4gICAgICAgICAgICAgIFtmaWVsZC5rZXldOiBnZXQod29ya2luZ0RhdGEsIGdldEZpbHRlclBhdGgoZmllbGQsIGluZGV4ZXMpKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHRoaXMuX2NsZWFubHlDbGVhckRhdGFBdFBhdGgoZ2V0RmlsdGVyUGF0aChmaWVsZCwgaW5kZXhlcyksIHdvcmtpbmdEYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGZvciBzaW1wbGUgbGVhZiBmaWVsZHMsIHdlIGFsd2F5cyBjbGVhclxuICAgICAgICBpZiAoY29udGV4dC5pc0hpZGRlbiAmJiBpc0Nsb3NlZCkge1xuICAgICAgICAgIHRoaXMuX2V2ZW50QnVzLmZpcmUoJ2NvbmRpdGlvbkNoZWNrZXIucmVtb3ZlJywge1xuICAgICAgICAgICAgaXRlbToge1xuICAgICAgICAgICAgICBbZmllbGQua2V5XTogZ2V0KHdvcmtpbmdEYXRhLCBnZXRGaWx0ZXJQYXRoKGZpZWxkLCBpbmRleGVzKSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICB0aGlzLl9jbGVhbmx5Q2xlYXJEYXRhQXRQYXRoKGdldEZpbHRlclBhdGgoZmllbGQsIGluZGV4ZXMpLCB3b3JraW5nRGF0YSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvLyBhcHBseSBjb25kaXRpb25zIHN0YXJ0aW5nIHdpdGggdGhlIHJvb3Qgb2YgdGhlIGZvcm1cbiAgICBjb25zdCBmb3JtID0gdGhpcy5fZm9ybUZpZWxkUmVnaXN0cnkuZ2V0Rm9ybSgpO1xuICAgIGlmICghZm9ybSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdmb3JtIGZpZWxkIHJlZ2lzdHJ5IGhhcyBubyBmb3JtJyk7XG4gICAgfVxuICAgIF9hcHBseUNvbmRpdGlvbnNXaXRoaW5TY29wZShmb3JtLCB7XG4gICAgICBzY29wZURhdGE6IGNvbnRleHREYXRhXG4gICAgfSk7XG4gICAgcmV0dXJuIHdvcmtpbmdEYXRhO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGdpdmVuIGNvbmRpdGlvbiBpcyBtZXQuIFJldHVybnMgbnVsbCBmb3IgaW52YWxpZC9taXNzaW5nIGNvbmRpdGlvbnMuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjb25kaXRpb25cbiAgICogQHBhcmFtIHtpbXBvcnQoJy4uLy4uL3R5cGVzJykuRGF0YX0gW2RhdGFdXG4gICAqXG4gICAqIEByZXR1cm5zIHtib29sZWFufG51bGx9XG4gICAqL1xuICBjaGVjayhjb25kaXRpb24sIGRhdGEgPSB7fSkge1xuICAgIGlmICghY29uZGl0aW9uKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKCFpc1N0cmluZyhjb25kaXRpb24pIHx8ICFjb25kaXRpb24uc3RhcnRzV2l0aCgnPScpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIC8vIGN1dCBvZmYgaW5pdGlhbCAnPSdcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgdmFsdWU6IHJlc3VsdFxuICAgICAgfSA9IHVuYXJ5VGVzdChjb25kaXRpb24uc2xpY2UoMSksIGRhdGEpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhpcy5fZXZlbnRCdXMuZmlyZSgnZXJyb3InLCB7XG4gICAgICAgIGVycm9yXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBoaWRlIGNvbmRpdGlvbiBpcyBtZXQuXG4gICAqXG4gICAqIEBwYXJhbSB7Q29uZGl0aW9ufSBjb25kaXRpb25cbiAgICogQHBhcmFtIHtPYmplY3Q8c3RyaW5nLCBhbnk+fSBkYXRhXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgX2NoZWNrSGlkZUNvbmRpdGlvbihjb25kaXRpb24sIGRhdGEpIHtcbiAgICBpZiAoIWNvbmRpdGlvbi5oaWRlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuY2hlY2soY29uZGl0aW9uLmhpZGUsIGRhdGEpO1xuICAgIHJldHVybiByZXN1bHQgPT09IHRydWU7XG4gIH1cbiAgX2NsZWFubHlDbGVhckRhdGFBdFBhdGgodmFsdWVQYXRoLCBvYmopIHtcbiAgICBjb25zdCB3b3JraW5nVmFsdWVQYXRoID0gWy4uLnZhbHVlUGF0aF07XG4gICAgbGV0IHJlY3Vyc2UgPSBmYWxzZTtcbiAgICBkbyB7XG4gICAgICBzZXQob2JqLCB3b3JraW5nVmFsdWVQYXRoLCB1bmRlZmluZWQpO1xuICAgICAgd29ya2luZ1ZhbHVlUGF0aC5wb3AoKTtcbiAgICAgIGNvbnN0IHBhcmVudE9iamVjdCA9IGdldChvYmosIHdvcmtpbmdWYWx1ZVBhdGgpO1xuICAgICAgcmVjdXJzZSA9ICEhd29ya2luZ1ZhbHVlUGF0aC5sZW5ndGggJiYgKHRoaXMuX2lzRW1wdHlPYmplY3QocGFyZW50T2JqZWN0KSB8fCB0aGlzLl9pc0VtcHR5QXJyYXkocGFyZW50T2JqZWN0KSk7XG4gICAgfSB3aGlsZSAocmVjdXJzZSk7XG4gIH1cbiAgX2lzRW1wdHlPYmplY3QocGFyZW50T2JqZWN0KSB7XG4gICAgcmV0dXJuIGlzT2JqZWN0KHBhcmVudE9iamVjdCkgJiYgIXZhbHVlcyhwYXJlbnRPYmplY3QpLmxlbmd0aDtcbiAgfVxuICBfaXNFbXB0eUFycmF5KHBhcmVudE9iamVjdCkge1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KHBhcmVudE9iamVjdCkgJiYgKCFwYXJlbnRPYmplY3QubGVuZ3RoIHx8IHBhcmVudE9iamVjdC5ldmVyeShpdGVtID0+IGl0ZW0gPT09IHVuZGVmaW5lZCkpO1xuICB9XG59XG5Db25kaXRpb25DaGVja2VyLiRpbmplY3QgPSBbJ2Zvcm1GaWVsZFJlZ2lzdHJ5JywgJ3BhdGhSZWdpc3RyeScsICdldmVudEJ1cyddO1xuXG5jb25zdCBFeHByZXNzaW9uTGFuZ3VhZ2VNb2R1bGUgPSB7XG4gIF9faW5pdF9fOiBbJ2V4cHJlc3Npb25MYW5ndWFnZScsICd0ZW1wbGF0aW5nJywgJ2NvbmRpdGlvbkNoZWNrZXInXSxcbiAgZXhwcmVzc2lvbkxhbmd1YWdlOiBbJ3R5cGUnLCBGZWVsRXhwcmVzc2lvbkxhbmd1YWdlXSxcbiAgdGVtcGxhdGluZzogWyd0eXBlJywgRmVlbGVyc1RlbXBsYXRpbmddLFxuICBjb25kaXRpb25DaGVja2VyOiBbJ3R5cGUnLCBDb25kaXRpb25DaGVja2VyXVxufTtcblxuY2xhc3MgRXhwcmVzc2lvbkxvb3BQcmV2ZW50ZXIge1xuICBjb25zdHJ1Y3RvcihldmVudEJ1cykge1xuICAgIHRoaXMuX2NvbXB1dGVkRXhwcmVzc2lvbnMgPSBbXTtcbiAgICBldmVudEJ1cy5vbignZmllbGQudXBkYXRlZCcsICh7XG4gICAgICBzaG91bGROb3RSZWNvbXB1dGVcbiAgICB9KSA9PiB7XG4gICAgICBpZiAoc2hvdWxkTm90UmVjb21wdXRlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9KTtcbiAgICBldmVudEJ1cy5vbignaW1wb3J0LmRvbmUnLCB0aGlzLnJlc2V0LmJpbmQodGhpcykpO1xuICAgIGV2ZW50QnVzLm9uKCdyZXNldCcsIHRoaXMucmVzZXQuYmluZCh0aGlzKSk7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIHRoZSBleHByZXNzaW9uIGZpZWxkIGhhcyBhbHJlYWR5IGJlZW4gY29tcHV0ZWQsIGFuZCByZWdpc3RlcnMgaXQgaWYgbm90LlxuICAgKlxuICAgKiBAcGFyYW0ge2FueX0gZXhwcmVzc2lvbkZpZWxkXG4gICAqIEByZXR1cm5zIHtib29sZWFufSAtIHdoZXRoZXIgdGhlIGV4cHJlc3Npb24gZmllbGQgaGFzIGFscmVhZHkgYmVlbiBjb21wdXRlZCB3aXRoaW4gdGhlIGN1cnJlbnQgY3ljbGVcbiAgICovXG4gIHJlZ2lzdGVyRXhwcmVzc2lvbkV4ZWN1dGlvbihleHByZXNzaW9uRmllbGQpIHtcbiAgICBpZiAodGhpcy5fY29tcHV0ZWRFeHByZXNzaW9ucy5pbmNsdWRlcyhleHByZXNzaW9uRmllbGQpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHRoaXMuX2NvbXB1dGVkRXhwcmVzc2lvbnMucHVzaChleHByZXNzaW9uRmllbGQpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlc2V0cyB0aGUgbGlzdCBvZiBjb21wdXRlZCBleHByZXNzaW9ucy5cbiAgICovXG4gIHJlc2V0KCkge1xuICAgIHRoaXMuX2NvbXB1dGVkRXhwcmVzc2lvbnMgPSBbXTtcbiAgfVxufVxuRXhwcmVzc2lvbkxvb3BQcmV2ZW50ZXIuJGluamVjdCA9IFsnZXZlbnRCdXMnXTtcblxuY29uc3QgRXhwcmVzc2lvbkZpZWxkTW9kdWxlID0ge1xuICBfX2luaXRfXzogWydleHByZXNzaW9uTG9vcFByZXZlbnRlciddLFxuICBleHByZXNzaW9uTG9vcFByZXZlbnRlcjogWyd0eXBlJywgRXhwcmVzc2lvbkxvb3BQcmV2ZW50ZXJdXG59O1xuXG5jbGFzcyBNYXJrZG93blJlbmRlcmVyIHtcbiAgLyoqXG4gICAqIFJlbmRlciBtYXJrZG93biB0byBIVE1MLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbWFya2Rvd24gLSBUaGUgbWFya2Rvd24gdG8gcmVuZGVyXG4gICAqXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IEhUTUxcbiAgICovXG4gIHJlbmRlcihtYXJrZG93bikge1xuICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICByZXR1cm4gbWFya2VkLnBhcnNlKG1hcmtkb3duLCB7XG4gICAgICBnZm06IHRydWUsXG4gICAgICBicmVha3M6IHRydWVcbiAgICB9KTtcbiAgfVxufVxuTWFya2Rvd25SZW5kZXJlci4kaW5qZWN0ID0gW107XG5cbmNvbnN0IE1hcmtkb3duUmVuZGVyZXJNb2R1bGUgPSB7XG4gIF9faW5pdF9fOiBbJ21hcmtkb3duUmVuZGVyZXInXSxcbiAgbWFya2Rvd25SZW5kZXJlcjogWyd0eXBlJywgTWFya2Rvd25SZW5kZXJlcl1cbn07XG5cbi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgnZGlkaScpLkluamVjdG9yfSBJbmplY3RvclxuICpcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL2NvcmUvVHlwZXMnKS5FbGVtZW50TGlrZX0gRWxlbWVudExpa2VcbiAqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi9jb3JlL0V2ZW50QnVzJykuZGVmYXVsdH0gRXZlbnRCdXNcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4vQ29tbWFuZEhhbmRsZXInKS5kZWZhdWx0fSBDb21tYW5kSGFuZGxlclxuICpcbiAqIEB0eXBlZGVmIHsgYW55IH0gQ29tbWFuZENvbnRleHRcbiAqIEB0eXBlZGVmIHsge1xuICogICBuZXcgKC4uLmFyZ3M6IGFueVtdKSA6IENvbW1hbmRIYW5kbGVyXG4gKiB9IH0gQ29tbWFuZEhhbmRsZXJDb25zdHJ1Y3RvclxuICogQHR5cGVkZWYgeyB7XG4gKiAgIFtrZXk6IHN0cmluZ106IENvbW1hbmRIYW5kbGVyO1xuICogfSB9IENvbW1hbmRIYW5kbGVyTWFwXG4gKiBAdHlwZWRlZiB7IHtcbiAqICAgY29tbWFuZDogc3RyaW5nO1xuICogICBjb250ZXh0OiBhbnk7XG4gKiAgIGlkPzogYW55O1xuICogfSB9IENvbW1hbmRTdGFja0FjdGlvblxuICogQHR5cGVkZWYgeyB7XG4gKiAgIGFjdGlvbnM6IENvbW1hbmRTdGFja0FjdGlvbltdO1xuICogICBkaXJ0eTogRWxlbWVudExpa2VbXTtcbiAqICAgdHJpZ2dlcjogJ2V4ZWN1dGUnIHwgJ3VuZG8nIHwgJ3JlZG8nIHwgJ2NsZWFyJyB8IG51bGw7XG4gKiAgIGF0b21pYz86IGJvb2xlYW47XG4gKiB9IH0gQ3VycmVudEV4ZWN1dGlvblxuICovXG5cbi8qKlxuICogQSBzZXJ2aWNlIHRoYXQgb2ZmZXJzIHVuLSBhbmQgcmVkb2FibGUgZXhlY3V0aW9uIG9mIGNvbW1hbmRzLlxuICpcbiAqIFRoZSBjb21tYW5kIHN0YWNrIGlzIHJlc3BvbnNpYmxlIGZvciBleGVjdXRpbmcgbW9kZWxpbmcgYWN0aW9uc1xuICogaW4gYSB1bi0gYW5kIHJlZG9hYmxlIG1hbm5lci4gVG8gZG8gdGhpcyBpdCBkZWxlZ2F0ZXMgdGhlIGFjdHVhbFxuICogY29tbWFuZCBleGVjdXRpb24gdG8ge0BsaW5rIENvbW1hbmRIYW5kbGVyfXMuXG4gKlxuICogQ29tbWFuZCBoYW5kbGVycyBwcm92aWRlIHtAbGluayBDb21tYW5kSGFuZGxlciNleGVjdXRlKGN0eCl9IGFuZFxuICoge0BsaW5rIENvbW1hbmRIYW5kbGVyI3JldmVydChjdHgpfSBtZXRob2RzIHRvIHVuLSBhbmQgcmVkbyBhIGNvbW1hbmRcbiAqIGlkZW50aWZpZWQgYnkgYSBjb21tYW5kIGNvbnRleHQuXG4gKlxuICpcbiAqICMjIExpZmUtQ3ljbGUgZXZlbnRzXG4gKlxuICogSW4gdGhlIHByb2Nlc3MgdGhlIGNvbW1hbmQgc3RhY2sgZmlyZXMgYSBudW1iZXIgb2YgbGlmZS1jeWNsZSBldmVudHNcbiAqIHRoYXQgb3RoZXIgY29tcG9uZW50cyB0byBwYXJ0aWNpcGF0ZSBpbiB0aGUgY29tbWFuZCBleGVjdXRpb24uXG4gKlxuICogICAgKiBwcmVFeGVjdXRlXG4gKiAgICAqIHByZUV4ZWN1dGVkXG4gKiAgICAqIGV4ZWN1dGVcbiAqICAgICogZXhlY3V0ZWRcbiAqICAgICogcG9zdEV4ZWN1dGVcbiAqICAgICogcG9zdEV4ZWN1dGVkXG4gKiAgICAqIHJldmVydFxuICogICAgKiByZXZlcnRlZFxuICpcbiAqIEEgc3BlY2lhbCBldmVudCBpcyB1c2VkIGZvciB2YWxpZGF0aW5nLCB3aGV0aGVyIGEgY29tbWFuZCBjYW4gYmVcbiAqIHBlcmZvcm1lZCBwcmlvciB0byBpdHMgZXhlY3V0aW9uLlxuICpcbiAqICAgICogY2FuRXhlY3V0ZVxuICpcbiAqIEVhY2ggb2YgdGhlIGV2ZW50cyBpcyBmaXJlZCBhcyBgY29tbWFuZFN0YWNrLntldmVudE5hbWV9YCBhbmRcbiAqIGBjb21tYW5kU3RhY2sue2NvbW1hbmROYW1lfS57ZXZlbnROYW1lfWAsIHJlc3BlY3RpdmVseS4gVGhpcyBnaXZlc1xuICogY29tcG9uZW50cyBmaW5lIGdyYWluZWQgY29udHJvbCBvbiB3aGVyZSB0byBob29rIGludG8uXG4gKlxuICogVGhlIGV2ZW50IG9iamVjdCBmaXJlZCB0cmFuc3BvcnRzIGBjb21tYW5kYCwgdGhlIG5hbWUgb2YgdGhlXG4gKiBjb21tYW5kIGFuZCBgY29udGV4dGAsIHRoZSBjb21tYW5kIGNvbnRleHQuXG4gKlxuICpcbiAqICMjIENyZWF0aW5nIENvbW1hbmQgSGFuZGxlcnNcbiAqXG4gKiBDb21tYW5kIGhhbmRsZXJzIHNob3VsZCBwcm92aWRlIHRoZSB7QGxpbmsgQ29tbWFuZEhhbmRsZXIjZXhlY3V0ZShjdHgpfVxuICogYW5kIHtAbGluayBDb21tYW5kSGFuZGxlciNyZXZlcnQoY3R4KX0gbWV0aG9kcyB0byBpbXBsZW1lbnRcbiAqIHJlZG9pbmcgYW5kIHVuZG9pbmcgb2YgYSBjb21tYW5kLlxuICpcbiAqIEEgY29tbWFuZCBoYW5kbGVyIF9tdXN0XyBlbnN1cmUgdW5kbyBpcyBwZXJmb3JtZWQgcHJvcGVybHkgaW4gb3JkZXJcbiAqIG5vdCB0byBicmVhayB0aGUgdW5kbyBjaGFpbi4gSXQgbXVzdCBhbHNvIHJldHVybiB0aGUgc2hhcGVzIHRoYXRcbiAqIGdvdCBjaGFuZ2VkIGR1cmluZyB0aGUgYGV4ZWN1dGVgIGFuZCBgcmV2ZXJ0YCBvcGVyYXRpb25zLlxuICpcbiAqIENvbW1hbmQgaGFuZGxlcnMgbWF5IGV4ZWN1dGUgb3RoZXIgbW9kZWxpbmcgb3BlcmF0aW9ucyAoYW5kIHRodXNcbiAqIGNvbW1hbmRzKSBpbiB0aGVpciBgcHJlRXhlY3V0ZShkKWAgYW5kIGBwb3N0RXhlY3V0ZShkKWAgcGhhc2VzLiBUaGUgY29tbWFuZFxuICogc3RhY2sgd2lsbCBwcm9wZXJseSBncm91cCBhbGwgY29tbWFuZHMgdG9nZXRoZXIgaW50byBhIGxvZ2ljYWwgdW5pdFxuICogdGhhdCBtYXkgYmUgcmUtIGFuZCB1bmRvbmUgYXRvbWljYWxseS5cbiAqXG4gKiBDb21tYW5kIGhhbmRsZXJzIG11c3Qgbm90IGV4ZWN1dGUgb3RoZXIgY29tbWFuZHMgZnJvbSB3aXRoaW4gdGhlaXJcbiAqIGNvcmUgaW1wbGVtZW50YXRpb24gKGBleGVjdXRlYCwgYHJldmVydGApLlxuICpcbiAqXG4gKiAjIyBDaGFuZ2UgVHJhY2tpbmdcbiAqXG4gKiBEdXJpbmcgdGhlIGV4ZWN1dGlvbiBvZiB0aGUgQ29tbWFuZFN0YWNrIGl0IHdpbGwga2VlcCB0cmFjayBvZiBhbGxcbiAqIGVsZW1lbnRzIHRoYXQgaGF2ZSBiZWVuIHRvdWNoZWQgZHVyaW5nIHRoZSBjb21tYW5kJ3MgZXhlY3V0aW9uLlxuICpcbiAqIEF0IHRoZSBlbmQgb2YgdGhlIENvbW1hbmRTdGFjayBleGVjdXRpb24gaXQgd2lsbCBub3RpZnkgaW50ZXJlc3RlZFxuICogY29tcG9uZW50cyB2aWEgYW4gJ2VsZW1lbnRzLmNoYW5nZWQnIGV2ZW50IHdpdGggYWxsIHRoZSBkaXJ0eVxuICogZWxlbWVudHMuXG4gKlxuICogVGhlIGV2ZW50IGNhbiBiZSBwaWNrZWQgdXAgYnkgY29tcG9uZW50cyB0aGF0IGFyZSBpbnRlcmVzdGVkIGluIHRoZSBmYWN0XG4gKiB0aGF0IGVsZW1lbnRzIGhhdmUgYmVlbiBjaGFuZ2VkLiBPbmUgdXNlIGNhc2UgZm9yIHRoaXMgaXMgdXBkYXRpbmdcbiAqIHRoZWlyIGdyYXBoaWNhbCByZXByZXNlbnRhdGlvbiBhZnRlciBtb3ZpbmcgLyByZXNpemluZyBvciBkZWxldGlvbi5cbiAqXG4gKiBAc2VlIENvbW1hbmRIYW5kbGVyXG4gKlxuICogQHBhcmFtIHtFdmVudEJ1c30gZXZlbnRCdXNcbiAqIEBwYXJhbSB7SW5qZWN0b3J9IGluamVjdG9yXG4gKi9cbmZ1bmN0aW9uIENvbW1hbmRTdGFjayhldmVudEJ1cywgaW5qZWN0b3IpIHtcbiAgLyoqXG4gICAqIEEgbWFwIG9mIGFsbCByZWdpc3RlcmVkIGNvbW1hbmQgaGFuZGxlcnMuXG4gICAqXG4gICAqIEB0eXBlIHtDb21tYW5kSGFuZGxlck1hcH1cbiAgICovXG4gIHRoaXMuX2hhbmRsZXJNYXAgPSB7fTtcblxuICAvKipcbiAgICogQSBzdGFjayBjb250YWluaW5nIGFsbCByZS91bmRvYWJsZSBhY3Rpb25zIG9uIHRoZSBkaWFncmFtXG4gICAqXG4gICAqIEB0eXBlIHtDb21tYW5kU3RhY2tBY3Rpb25bXX1cbiAgICovXG4gIHRoaXMuX3N0YWNrID0gW107XG5cbiAgLyoqXG4gICAqIFRoZSBjdXJyZW50IGluZGV4IG9uIHRoZSBzdGFja1xuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKi9cbiAgdGhpcy5fc3RhY2tJZHggPSAtMTtcblxuICAvKipcbiAgICogQ3VycmVudCBhY3RpdmUgY29tbWFuZFN0YWNrIGV4ZWN1dGlvblxuICAgKlxuICAgKiBAdHlwZSB7Q3VycmVudEV4ZWN1dGlvbn1cbiAgICovXG4gIHRoaXMuX2N1cnJlbnRFeGVjdXRpb24gPSB7XG4gICAgYWN0aW9uczogW10sXG4gICAgZGlydHk6IFtdLFxuICAgIHRyaWdnZXI6IG51bGxcbiAgfTtcblxuICAvKipcbiAgICogQHR5cGUge0luamVjdG9yfVxuICAgKi9cbiAgdGhpcy5faW5qZWN0b3IgPSBpbmplY3RvcjtcblxuICAvKipcbiAgICogQHR5cGUgRXZlbnRCdXNcbiAgICovXG4gIHRoaXMuX2V2ZW50QnVzID0gZXZlbnRCdXM7XG5cbiAgLyoqXG4gICAqIEB0eXBlIHsgbnVtYmVyIH1cbiAgICovXG4gIHRoaXMuX3VpZCA9IDE7XG4gIGV2ZW50QnVzLm9uKFsnZGlhZ3JhbS5kZXN0cm95JywgJ2RpYWdyYW0uY2xlYXInXSwgZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuY2xlYXIoZmFsc2UpO1xuICB9LCB0aGlzKTtcbn1cbkNvbW1hbmRTdGFjay4kaW5qZWN0ID0gWydldmVudEJ1cycsICdpbmplY3RvciddO1xuXG4vKipcbiAqIEV4ZWN1dGUgYSBjb21tYW5kLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb21tYW5kIFRoZSBjb21tYW5kIHRvIGV4ZWN1dGUuXG4gKiBAcGFyYW0ge0NvbW1hbmRDb250ZXh0fSBjb250ZXh0IFRoZSBjb250ZXh0IHdpdGggd2hpY2ggdG8gZXhlY3V0ZSB0aGUgY29tbWFuZC5cbiAqL1xuQ29tbWFuZFN0YWNrLnByb3RvdHlwZS5leGVjdXRlID0gZnVuY3Rpb24gKGNvbW1hbmQsIGNvbnRleHQpIHtcbiAgaWYgKCFjb21tYW5kKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjb21tYW5kIHJlcXVpcmVkJyk7XG4gIH1cbiAgdGhpcy5fY3VycmVudEV4ZWN1dGlvbi50cmlnZ2VyID0gJ2V4ZWN1dGUnO1xuICBjb25zdCBhY3Rpb24gPSB7XG4gICAgY29tbWFuZDogY29tbWFuZCxcbiAgICBjb250ZXh0OiBjb250ZXh0XG4gIH07XG4gIHRoaXMuX3B1c2hBY3Rpb24oYWN0aW9uKTtcbiAgdGhpcy5faW50ZXJuYWxFeGVjdXRlKGFjdGlvbik7XG4gIHRoaXMuX3BvcEFjdGlvbigpO1xufTtcblxuLyoqXG4gKiBDaGVjayB3aGV0aGVyIGEgY29tbWFuZCBjYW4gYmUgZXhlY3V0ZWQuXG4gKlxuICogSW1wbGVtZW50b3JzIG1heSBob29rIGludG8gdGhlIG1lY2hhbmlzbSBvbiB0d28gd2F5czpcbiAqXG4gKiAgICogaW4gZXZlbnQgbGlzdGVuZXJzOlxuICpcbiAqICAgICBVc2VycyBtYXkgcHJldmVudCB0aGUgZXhlY3V0aW9uIHZpYSBhbiBldmVudCBsaXN0ZW5lci5cbiAqICAgICBJdCBtdXN0IHByZXZlbnQgdGhlIGRlZmF1bHQgYWN0aW9uIGZvciBgY29tbWFuZFN0YWNrLig8Y29tbWFuZD4uKWNhbkV4ZWN1dGVgIGV2ZW50cy5cbiAqXG4gKiAgICogaW4gY29tbWFuZCBoYW5kbGVyczpcbiAqXG4gKiAgICAgSWYgdGhlIG1ldGhvZCB7QGxpbmsgQ29tbWFuZEhhbmRsZXIjY2FuRXhlY3V0ZX0gaXMgaW1wbGVtZW50ZWQgaW4gYSBoYW5kbGVyXG4gKiAgICAgaXQgd2lsbCBiZSBjYWxsZWQgdG8gZmlndXJlIG91dCB3aGV0aGVyIHRoZSBleGVjdXRpb24gaXMgYWxsb3dlZC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gY29tbWFuZCBUaGUgY29tbWFuZCB0byBleGVjdXRlLlxuICogQHBhcmFtIHtDb21tYW5kQ29udGV4dH0gY29udGV4dCBUaGUgY29udGV4dCB3aXRoIHdoaWNoIHRvIGV4ZWN1dGUgdGhlIGNvbW1hbmQuXG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgY29tbWFuZCBjYW4gYmUgZXhlY3V0ZWQgd2l0aCB0aGUgZ2l2ZW4gY29udGV4dC5cbiAqL1xuQ29tbWFuZFN0YWNrLnByb3RvdHlwZS5jYW5FeGVjdXRlID0gZnVuY3Rpb24gKGNvbW1hbmQsIGNvbnRleHQpIHtcbiAgY29uc3QgYWN0aW9uID0ge1xuICAgIGNvbW1hbmQ6IGNvbW1hbmQsXG4gICAgY29udGV4dDogY29udGV4dFxuICB9O1xuICBjb25zdCBoYW5kbGVyID0gdGhpcy5fZ2V0SGFuZGxlcihjb21tYW5kKTtcbiAgbGV0IHJlc3VsdCA9IHRoaXMuX2ZpcmUoY29tbWFuZCwgJ2NhbkV4ZWN1dGUnLCBhY3Rpb24pO1xuXG4gIC8vIGhhbmRsZXIjY2FuRXhlY3V0ZSB3aWxsIG9ubHkgYmUgY2FsbGVkIGlmIG5vIGxpc3RlbmVyXG4gIC8vIGRlY2lkZWQgb24gYSByZXN1bHQgYWxyZWFkeVxuICBpZiAocmVzdWx0ID09PSB1bmRlZmluZWQpIHtcbiAgICBpZiAoIWhhbmRsZXIpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGhhbmRsZXIuY2FuRXhlY3V0ZSkge1xuICAgICAgcmVzdWx0ID0gaGFuZGxlci5jYW5FeGVjdXRlKGNvbnRleHQpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBDbGVhciB0aGUgY29tbWFuZCBzdGFjaywgZXJhc2luZyBhbGwgdW5kbyAvIHJlZG8gaGlzdG9yeS5cbiAqXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtlbWl0PXRydWVdIFdoZXRoZXIgdG8gZmlyZSBhbiBldmVudC4gRGVmYXVsdHMgdG8gYHRydWVgLlxuICovXG5Db21tYW5kU3RhY2sucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKGVtaXQpIHtcbiAgdGhpcy5fc3RhY2subGVuZ3RoID0gMDtcbiAgdGhpcy5fc3RhY2tJZHggPSAtMTtcbiAgaWYgKGVtaXQgIT09IGZhbHNlKSB7XG4gICAgdGhpcy5fZmlyZSgnY2hhbmdlZCcsIHtcbiAgICAgIHRyaWdnZXI6ICdjbGVhcidcbiAgICB9KTtcbiAgfVxufTtcblxuLyoqXG4gKiBVbmRvIGxhc3QgY29tbWFuZChzKVxuICovXG5Db21tYW5kU3RhY2sucHJvdG90eXBlLnVuZG8gPSBmdW5jdGlvbiAoKSB7XG4gIGxldCBhY3Rpb24gPSB0aGlzLl9nZXRVbmRvQWN0aW9uKCksXG4gICAgbmV4dDtcbiAgaWYgKGFjdGlvbikge1xuICAgIHRoaXMuX2N1cnJlbnRFeGVjdXRpb24udHJpZ2dlciA9ICd1bmRvJztcbiAgICB0aGlzLl9wdXNoQWN0aW9uKGFjdGlvbik7XG4gICAgd2hpbGUgKGFjdGlvbikge1xuICAgICAgdGhpcy5faW50ZXJuYWxVbmRvKGFjdGlvbik7XG4gICAgICBuZXh0ID0gdGhpcy5fZ2V0VW5kb0FjdGlvbigpO1xuICAgICAgaWYgKCFuZXh0IHx8IG5leHQuaWQgIT09IGFjdGlvbi5pZCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGFjdGlvbiA9IG5leHQ7XG4gICAgfVxuICAgIHRoaXMuX3BvcEFjdGlvbigpO1xuICB9XG59O1xuXG4vKipcbiAqIFJlZG8gbGFzdCBjb21tYW5kKHMpXG4gKi9cbkNvbW1hbmRTdGFjay5wcm90b3R5cGUucmVkbyA9IGZ1bmN0aW9uICgpIHtcbiAgbGV0IGFjdGlvbiA9IHRoaXMuX2dldFJlZG9BY3Rpb24oKSxcbiAgICBuZXh0O1xuICBpZiAoYWN0aW9uKSB7XG4gICAgdGhpcy5fY3VycmVudEV4ZWN1dGlvbi50cmlnZ2VyID0gJ3JlZG8nO1xuICAgIHRoaXMuX3B1c2hBY3Rpb24oYWN0aW9uKTtcbiAgICB3aGlsZSAoYWN0aW9uKSB7XG4gICAgICB0aGlzLl9pbnRlcm5hbEV4ZWN1dGUoYWN0aW9uLCB0cnVlKTtcbiAgICAgIG5leHQgPSB0aGlzLl9nZXRSZWRvQWN0aW9uKCk7XG4gICAgICBpZiAoIW5leHQgfHwgbmV4dC5pZCAhPT0gYWN0aW9uLmlkKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgYWN0aW9uID0gbmV4dDtcbiAgICB9XG4gICAgdGhpcy5fcG9wQWN0aW9uKCk7XG4gIH1cbn07XG5cbi8qKlxuICogUmVnaXN0ZXIgYSBoYW5kbGVyIGluc3RhbmNlIHdpdGggdGhlIGNvbW1hbmQgc3RhY2suXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGNvbW1hbmQgQ29tbWFuZCB0byBiZSBleGVjdXRlZC5cbiAqIEBwYXJhbSB7Q29tbWFuZEhhbmRsZXJ9IGhhbmRsZXIgSGFuZGxlciB0byBleGVjdXRlIHRoZSBjb21tYW5kLlxuICovXG5Db21tYW5kU3RhY2sucHJvdG90eXBlLnJlZ2lzdGVyID0gZnVuY3Rpb24gKGNvbW1hbmQsIGhhbmRsZXIpIHtcbiAgdGhpcy5fc2V0SGFuZGxlcihjb21tYW5kLCBoYW5kbGVyKTtcbn07XG5cbi8qKlxuICogUmVnaXN0ZXIgYSBoYW5kbGVyIHR5cGUgd2l0aCB0aGUgY29tbWFuZCBzdGFjayAgYnkgaW5zdGFudGlhdGluZyBpdCBhbmRcbiAqIGluamVjdGluZyBpdHMgZGVwZW5kZW5jaWVzLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb21tYW5kIENvbW1hbmQgdG8gYmUgZXhlY3V0ZWQuXG4gKiBAcGFyYW0ge0NvbW1hbmRIYW5kbGVyQ29uc3RydWN0b3J9IGhhbmRsZXJDbHMgQ29uc3RydWN0b3IgdG8gaW5zdGFudGlhdGUgYSB7QGxpbmsgQ29tbWFuZEhhbmRsZXJ9LlxuICovXG5Db21tYW5kU3RhY2sucHJvdG90eXBlLnJlZ2lzdGVySGFuZGxlciA9IGZ1bmN0aW9uIChjb21tYW5kLCBoYW5kbGVyQ2xzKSB7XG4gIGlmICghY29tbWFuZCB8fCAhaGFuZGxlckNscykge1xuICAgIHRocm93IG5ldyBFcnJvcignY29tbWFuZCBhbmQgaGFuZGxlckNscyBtdXN0IGJlIGRlZmluZWQnKTtcbiAgfVxuICBjb25zdCBoYW5kbGVyID0gdGhpcy5faW5qZWN0b3IuaW5zdGFudGlhdGUoaGFuZGxlckNscyk7XG4gIHRoaXMucmVnaXN0ZXIoY29tbWFuZCwgaGFuZGxlcik7XG59O1xuXG4vKipcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbkNvbW1hbmRTdGFjay5wcm90b3R5cGUuY2FuVW5kbyA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuICEhdGhpcy5fZ2V0VW5kb0FjdGlvbigpO1xufTtcblxuLyoqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5Db21tYW5kU3RhY2sucHJvdG90eXBlLmNhblJlZG8gPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiAhIXRoaXMuX2dldFJlZG9BY3Rpb24oKTtcbn07XG5cbi8vIHN0YWNrIGFjY2VzcyAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5Db21tYW5kU3RhY2sucHJvdG90eXBlLl9nZXRSZWRvQWN0aW9uID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5fc3RhY2tbdGhpcy5fc3RhY2tJZHggKyAxXTtcbn07XG5Db21tYW5kU3RhY2sucHJvdG90eXBlLl9nZXRVbmRvQWN0aW9uID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5fc3RhY2tbdGhpcy5fc3RhY2tJZHhdO1xufTtcblxuLy8gaW50ZXJuYWwgZnVuY3Rpb25hbGl0eSAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbkNvbW1hbmRTdGFjay5wcm90b3R5cGUuX2ludGVybmFsVW5kbyA9IGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgY29uc3QgY29tbWFuZCA9IGFjdGlvbi5jb21tYW5kLFxuICAgIGNvbnRleHQgPSBhY3Rpb24uY29udGV4dDtcbiAgY29uc3QgaGFuZGxlciA9IHRoaXMuX2dldEhhbmRsZXIoY29tbWFuZCk7XG5cbiAgLy8gZ3VhcmQgYWdhaW5zdCBpbGxlZ2FsIG5lc3RlZCBjb21tYW5kIHN0YWNrIGludm9jYXRpb25zXG4gIHRoaXMuX2F0b21pY0RvKCgpID0+IHtcbiAgICB0aGlzLl9maXJlKGNvbW1hbmQsICdyZXZlcnQnLCBhY3Rpb24pO1xuICAgIGlmIChoYW5kbGVyLnJldmVydCkge1xuICAgICAgdGhpcy5fbWFya0RpcnR5KGhhbmRsZXIucmV2ZXJ0KGNvbnRleHQpKTtcbiAgICB9XG4gICAgdGhpcy5fcmV2ZXJ0ZWRBY3Rpb24oYWN0aW9uKTtcbiAgICB0aGlzLl9maXJlKGNvbW1hbmQsICdyZXZlcnRlZCcsIGFjdGlvbik7XG4gIH0pO1xufTtcbkNvbW1hbmRTdGFjay5wcm90b3R5cGUuX2ZpcmUgPSBmdW5jdGlvbiAoY29tbWFuZCwgcXVhbGlmaWVyLCBldmVudCkge1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDMpIHtcbiAgICBldmVudCA9IHF1YWxpZmllcjtcbiAgICBxdWFsaWZpZXIgPSBudWxsO1xuICB9XG4gIGNvbnN0IG5hbWVzID0gcXVhbGlmaWVyID8gW2NvbW1hbmQgKyAnLicgKyBxdWFsaWZpZXIsIHF1YWxpZmllcl0gOiBbY29tbWFuZF07XG4gIGxldCByZXN1bHQ7XG4gIGV2ZW50ID0gdGhpcy5fZXZlbnRCdXMuY3JlYXRlRXZlbnQoZXZlbnQpO1xuICBmb3IgKGNvbnN0IG5hbWUgb2YgbmFtZXMpIHtcbiAgICByZXN1bHQgPSB0aGlzLl9ldmVudEJ1cy5maXJlKCdjb21tYW5kU3RhY2suJyArIG5hbWUsIGV2ZW50KTtcbiAgICBpZiAoZXZlbnQuY2FuY2VsQnViYmxlKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5Db21tYW5kU3RhY2sucHJvdG90eXBlLl9jcmVhdGVJZCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMuX3VpZCsrO1xufTtcbkNvbW1hbmRTdGFjay5wcm90b3R5cGUuX2F0b21pY0RvID0gZnVuY3Rpb24gKGZuKSB7XG4gIGNvbnN0IGV4ZWN1dGlvbiA9IHRoaXMuX2N1cnJlbnRFeGVjdXRpb247XG4gIGV4ZWN1dGlvbi5hdG9taWMgPSB0cnVlO1xuICB0cnkge1xuICAgIGZuKCk7XG4gIH0gZmluYWxseSB7XG4gICAgZXhlY3V0aW9uLmF0b21pYyA9IGZhbHNlO1xuICB9XG59O1xuQ29tbWFuZFN0YWNrLnByb3RvdHlwZS5faW50ZXJuYWxFeGVjdXRlID0gZnVuY3Rpb24gKGFjdGlvbiwgcmVkbykge1xuICBjb25zdCBjb21tYW5kID0gYWN0aW9uLmNvbW1hbmQsXG4gICAgY29udGV4dCA9IGFjdGlvbi5jb250ZXh0O1xuICBjb25zdCBoYW5kbGVyID0gdGhpcy5fZ2V0SGFuZGxlcihjb21tYW5kKTtcbiAgaWYgKCFoYW5kbGVyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdubyBjb21tYW5kIGhhbmRsZXIgcmVnaXN0ZXJlZCBmb3IgPCcgKyBjb21tYW5kICsgJz4nKTtcbiAgfVxuICB0aGlzLl9wdXNoQWN0aW9uKGFjdGlvbik7XG4gIGlmICghcmVkbykge1xuICAgIHRoaXMuX2ZpcmUoY29tbWFuZCwgJ3ByZUV4ZWN1dGUnLCBhY3Rpb24pO1xuICAgIGlmIChoYW5kbGVyLnByZUV4ZWN1dGUpIHtcbiAgICAgIGhhbmRsZXIucHJlRXhlY3V0ZShjb250ZXh0KTtcbiAgICB9XG4gICAgdGhpcy5fZmlyZShjb21tYW5kLCAncHJlRXhlY3V0ZWQnLCBhY3Rpb24pO1xuICB9XG5cbiAgLy8gZ3VhcmQgYWdhaW5zdCBpbGxlZ2FsIG5lc3RlZCBjb21tYW5kIHN0YWNrIGludm9jYXRpb25zXG4gIHRoaXMuX2F0b21pY0RvKCgpID0+IHtcbiAgICB0aGlzLl9maXJlKGNvbW1hbmQsICdleGVjdXRlJywgYWN0aW9uKTtcbiAgICBpZiAoaGFuZGxlci5leGVjdXRlKSB7XG4gICAgICAvLyBhY3R1YWwgZXhlY3V0ZSArIG1hcmsgcmV0dXJuIHJlc3VsdHMgYXMgZGlydHlcbiAgICAgIHRoaXMuX21hcmtEaXJ0eShoYW5kbGVyLmV4ZWN1dGUoY29udGV4dCkpO1xuICAgIH1cblxuICAgIC8vIGxvZyB0byBzdGFja1xuICAgIHRoaXMuX2V4ZWN1dGVkQWN0aW9uKGFjdGlvbiwgcmVkbyk7XG4gICAgdGhpcy5fZmlyZShjb21tYW5kLCAnZXhlY3V0ZWQnLCBhY3Rpb24pO1xuICB9KTtcbiAgaWYgKCFyZWRvKSB7XG4gICAgdGhpcy5fZmlyZShjb21tYW5kLCAncG9zdEV4ZWN1dGUnLCBhY3Rpb24pO1xuICAgIGlmIChoYW5kbGVyLnBvc3RFeGVjdXRlKSB7XG4gICAgICBoYW5kbGVyLnBvc3RFeGVjdXRlKGNvbnRleHQpO1xuICAgIH1cbiAgICB0aGlzLl9maXJlKGNvbW1hbmQsICdwb3N0RXhlY3V0ZWQnLCBhY3Rpb24pO1xuICB9XG4gIHRoaXMuX3BvcEFjdGlvbigpO1xufTtcbkNvbW1hbmRTdGFjay5wcm90b3R5cGUuX3B1c2hBY3Rpb24gPSBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gIGNvbnN0IGV4ZWN1dGlvbiA9IHRoaXMuX2N1cnJlbnRFeGVjdXRpb24sXG4gICAgYWN0aW9ucyA9IGV4ZWN1dGlvbi5hY3Rpb25zO1xuICBjb25zdCBiYXNlQWN0aW9uID0gYWN0aW9uc1swXTtcbiAgaWYgKGV4ZWN1dGlvbi5hdG9taWMpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2lsbGVnYWwgaW52b2NhdGlvbiBpbiA8ZXhlY3V0ZT4gb3IgPHJldmVydD4gcGhhc2UgKGFjdGlvbjogJyArIGFjdGlvbi5jb21tYW5kICsgJyknKTtcbiAgfVxuICBpZiAoIWFjdGlvbi5pZCkge1xuICAgIGFjdGlvbi5pZCA9IGJhc2VBY3Rpb24gJiYgYmFzZUFjdGlvbi5pZCB8fCB0aGlzLl9jcmVhdGVJZCgpO1xuICB9XG4gIGFjdGlvbnMucHVzaChhY3Rpb24pO1xufTtcbkNvbW1hbmRTdGFjay5wcm90b3R5cGUuX3BvcEFjdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgY29uc3QgZXhlY3V0aW9uID0gdGhpcy5fY3VycmVudEV4ZWN1dGlvbixcbiAgICB0cmlnZ2VyID0gZXhlY3V0aW9uLnRyaWdnZXIsXG4gICAgYWN0aW9ucyA9IGV4ZWN1dGlvbi5hY3Rpb25zLFxuICAgIGRpcnR5ID0gZXhlY3V0aW9uLmRpcnR5O1xuICBhY3Rpb25zLnBvcCgpO1xuICBpZiAoIWFjdGlvbnMubGVuZ3RoKSB7XG4gICAgdGhpcy5fZXZlbnRCdXMuZmlyZSgnZWxlbWVudHMuY2hhbmdlZCcsIHtcbiAgICAgIGVsZW1lbnRzOiB1bmlxdWVCeSgnaWQnLCBkaXJ0eS5yZXZlcnNlKCkpXG4gICAgfSk7XG4gICAgZGlydHkubGVuZ3RoID0gMDtcbiAgICB0aGlzLl9maXJlKCdjaGFuZ2VkJywge1xuICAgICAgdHJpZ2dlcjogdHJpZ2dlclxuICAgIH0pO1xuICAgIGV4ZWN1dGlvbi50cmlnZ2VyID0gbnVsbDtcbiAgfVxufTtcbkNvbW1hbmRTdGFjay5wcm90b3R5cGUuX21hcmtEaXJ0eSA9IGZ1bmN0aW9uIChlbGVtZW50cykge1xuICBjb25zdCBleGVjdXRpb24gPSB0aGlzLl9jdXJyZW50RXhlY3V0aW9uO1xuICBpZiAoIWVsZW1lbnRzKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGVsZW1lbnRzID0gaXNBcnJheShlbGVtZW50cykgPyBlbGVtZW50cyA6IFtlbGVtZW50c107XG4gIGV4ZWN1dGlvbi5kaXJ0eSA9IGV4ZWN1dGlvbi5kaXJ0eS5jb25jYXQoZWxlbWVudHMpO1xufTtcbkNvbW1hbmRTdGFjay5wcm90b3R5cGUuX2V4ZWN1dGVkQWN0aW9uID0gZnVuY3Rpb24gKGFjdGlvbiwgcmVkbykge1xuICBjb25zdCBzdGFja0lkeCA9ICsrdGhpcy5fc3RhY2tJZHg7XG4gIGlmICghcmVkbykge1xuICAgIHRoaXMuX3N0YWNrLnNwbGljZShzdGFja0lkeCwgdGhpcy5fc3RhY2subGVuZ3RoLCBhY3Rpb24pO1xuICB9XG59O1xuQ29tbWFuZFN0YWNrLnByb3RvdHlwZS5fcmV2ZXJ0ZWRBY3Rpb24gPSBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gIHRoaXMuX3N0YWNrSWR4LS07XG59O1xuQ29tbWFuZFN0YWNrLnByb3RvdHlwZS5fZ2V0SGFuZGxlciA9IGZ1bmN0aW9uIChjb21tYW5kKSB7XG4gIHJldHVybiB0aGlzLl9oYW5kbGVyTWFwW2NvbW1hbmRdO1xufTtcbkNvbW1hbmRTdGFjay5wcm90b3R5cGUuX3NldEhhbmRsZXIgPSBmdW5jdGlvbiAoY29tbWFuZCwgaGFuZGxlcikge1xuICBpZiAoIWNvbW1hbmQgfHwgIWhhbmRsZXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvbW1hbmQgYW5kIGhhbmRsZXIgcmVxdWlyZWQnKTtcbiAgfVxuICBpZiAodGhpcy5faGFuZGxlck1hcFtjb21tYW5kXSkge1xuICAgIHRocm93IG5ldyBFcnJvcignb3ZlcnJpZGluZyBoYW5kbGVyIGZvciBjb21tYW5kIDwnICsgY29tbWFuZCArICc+Jyk7XG4gIH1cbiAgdGhpcy5faGFuZGxlck1hcFtjb21tYW5kXSA9IGhhbmRsZXI7XG59O1xuXG4vKipcbiAqIEB0eXBlIHsgaW1wb3J0KCdkaWRpJykuTW9kdWxlRGVjbGFyYXRpb24gfVxuICovXG52YXIgY29tbWFuZE1vZHVsZSA9IHtcbiAgY29tbWFuZFN0YWNrOiBbJ3R5cGUnLCBDb21tYW5kU3RhY2tdXG59O1xuXG4vKipcbiAqIEBkZXByZWNhdGVkXG4gKi9cbmNsYXNzIFVwZGF0ZUZpZWxkVmFsaWRhdGlvbkhhbmRsZXIge1xuICBjb25zdHJ1Y3Rvcihmb3JtLCB2YWxpZGF0b3IpIHtcbiAgICB0aGlzLl9mb3JtID0gZm9ybTtcbiAgICB0aGlzLl92YWxpZGF0b3IgPSB2YWxpZGF0b3I7XG4gIH1cbiAgZXhlY3V0ZShjb250ZXh0KSB7XG4gICAgY29uc3Qge1xuICAgICAgZmllbGQsXG4gICAgICB2YWx1ZSxcbiAgICAgIGluZGV4ZXNcbiAgICB9ID0gY29udGV4dDtcbiAgICBjb25zdCB7XG4gICAgICBlcnJvcnNcbiAgICB9ID0gdGhpcy5fZm9ybS5fZ2V0U3RhdGUoKTtcbiAgICBjb250ZXh0Lm9sZEVycm9ycyA9IGNsb25lKGVycm9ycyk7XG4gICAgY29uc3QgZmllbGRFcnJvcnMgPSB0aGlzLl92YWxpZGF0b3IudmFsaWRhdGVGaWVsZChmaWVsZCwgdmFsdWUpO1xuICAgIGNvbnN0IHVwZGF0ZWRFcnJvcnMgPSBzZXQoZXJyb3JzLCBbZmllbGQuaWQsIC4uLk9iamVjdC52YWx1ZXMoaW5kZXhlcyB8fCB7fSldLCBmaWVsZEVycm9ycy5sZW5ndGggPyBmaWVsZEVycm9ycyA6IHVuZGVmaW5lZCk7XG4gICAgdGhpcy5fZm9ybS5fc2V0U3RhdGUoe1xuICAgICAgZXJyb3JzOiB1cGRhdGVkRXJyb3JzXG4gICAgfSk7XG4gIH1cbiAgcmV2ZXJ0KGNvbnRleHQpIHtcbiAgICB0aGlzLl9mb3JtLl9zZXRTdGF0ZSh7XG4gICAgICBlcnJvcnM6IGNvbnRleHQub2xkRXJyb3JzXG4gICAgfSk7XG4gIH1cbn1cblVwZGF0ZUZpZWxkVmFsaWRhdGlvbkhhbmRsZXIuJGluamVjdCA9IFsnZm9ybScsICd2YWxpZGF0b3InXTtcblxuY2xhc3MgVXBkYXRlRmllbGRJbnN0YW5jZVZhbGlkYXRpb25IYW5kbGVyIHtcbiAgY29uc3RydWN0b3IoZm9ybSwgdmFsaWRhdG9yKSB7XG4gICAgdGhpcy5fZm9ybSA9IGZvcm07XG4gICAgdGhpcy5fdmFsaWRhdG9yID0gdmFsaWRhdG9yO1xuICB9XG4gIGV4ZWN1dGUoY29udGV4dCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGZpZWxkSW5zdGFuY2UsXG4gICAgICB2YWx1ZVxuICAgIH0gPSBjb250ZXh0O1xuICAgIGNvbnN0IHtcbiAgICAgIGlkLFxuICAgICAgaW5kZXhlc1xuICAgIH0gPSBmaWVsZEluc3RhbmNlO1xuICAgIGNvbnN0IHtcbiAgICAgIGVycm9yc1xuICAgIH0gPSB0aGlzLl9mb3JtLl9nZXRTdGF0ZSgpO1xuICAgIGNvbnRleHQub2xkRXJyb3JzID0gY2xvbmUoZXJyb3JzKTtcbiAgICBjb25zdCBmaWVsZEVycm9ycyA9IHRoaXMuX3ZhbGlkYXRvci52YWxpZGF0ZUZpZWxkSW5zdGFuY2UoZmllbGRJbnN0YW5jZSwgdmFsdWUpO1xuICAgIGNvbnN0IHVwZGF0ZWRFcnJvcnMgPSBzZXQoZXJyb3JzLCBbaWQsIC4uLk9iamVjdC52YWx1ZXMoaW5kZXhlcyB8fCB7fSldLCBmaWVsZEVycm9ycy5sZW5ndGggPyBmaWVsZEVycm9ycyA6IHVuZGVmaW5lZCk7XG4gICAgdGhpcy5fZm9ybS5fc2V0U3RhdGUoe1xuICAgICAgZXJyb3JzOiB1cGRhdGVkRXJyb3JzXG4gICAgfSk7XG4gIH1cbiAgcmV2ZXJ0KGNvbnRleHQpIHtcbiAgICB0aGlzLl9mb3JtLl9zZXRTdGF0ZSh7XG4gICAgICBlcnJvcnM6IGNvbnRleHQub2xkRXJyb3JzXG4gICAgfSk7XG4gIH1cbn1cblVwZGF0ZUZpZWxkSW5zdGFuY2VWYWxpZGF0aW9uSGFuZGxlci4kaW5qZWN0ID0gWydmb3JtJywgJ3ZhbGlkYXRvciddO1xuXG5jbGFzcyBWaWV3ZXJDb21tYW5kcyB7XG4gIGNvbnN0cnVjdG9yKGNvbW1hbmRTdGFjaywgZXZlbnRCdXMpIHtcbiAgICB0aGlzLl9jb21tYW5kU3RhY2sgPSBjb21tYW5kU3RhY2s7XG4gICAgZXZlbnRCdXMub24oJ2Zvcm0uaW5pdCcsICgpID0+IHtcbiAgICAgIHRoaXMucmVnaXN0ZXJIYW5kbGVycygpO1xuICAgIH0pO1xuICB9XG4gIHJlZ2lzdGVySGFuZGxlcnMoKSB7XG4gICAgT2JqZWN0LmVudHJpZXModGhpcy5nZXRIYW5kbGVycygpKS5mb3JFYWNoKChbaWQsIGhhbmRsZXJdKSA9PiB7XG4gICAgICB0aGlzLl9jb21tYW5kU3RhY2sucmVnaXN0ZXJIYW5kbGVyKGlkLCBoYW5kbGVyKTtcbiAgICB9KTtcbiAgfVxuICBnZXRIYW5kbGVycygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgJ2Zvcm1GaWVsZC52YWxpZGF0aW9uLnVwZGF0ZSc6IFVwZGF0ZUZpZWxkVmFsaWRhdGlvbkhhbmRsZXIsXG4gICAgICAnZm9ybUZpZWxkSW5zdGFuY2UudmFsaWRhdGlvbi51cGRhdGUnOiBVcGRhdGVGaWVsZEluc3RhbmNlVmFsaWRhdGlvbkhhbmRsZXJcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkXG4gICAqL1xuICB1cGRhdGVGaWVsZFZhbGlkYXRpb24oZmllbGQsIHZhbHVlLCBpbmRleGVzKSB7XG4gICAgY29uc3QgY29udGV4dCA9IHtcbiAgICAgIGZpZWxkLFxuICAgICAgdmFsdWUsXG4gICAgICBpbmRleGVzXG4gICAgfTtcbiAgICB0aGlzLl9jb21tYW5kU3RhY2suZXhlY3V0ZSgnZm9ybUZpZWxkLnZhbGlkYXRpb24udXBkYXRlJywgY29udGV4dCk7XG4gIH1cbiAgdXBkYXRlRmllbGRJbnN0YW5jZVZhbGlkYXRpb24oZmllbGRJbnN0YW5jZSwgdmFsdWUpIHtcbiAgICBjb25zdCBjb250ZXh0ID0ge1xuICAgICAgZmllbGRJbnN0YW5jZSxcbiAgICAgIHZhbHVlXG4gICAgfTtcbiAgICB0aGlzLl9jb21tYW5kU3RhY2suZXhlY3V0ZSgnZm9ybUZpZWxkSW5zdGFuY2UudmFsaWRhdGlvbi51cGRhdGUnLCBjb250ZXh0KTtcbiAgfVxufVxuVmlld2VyQ29tbWFuZHMuJGluamVjdCA9IFsnY29tbWFuZFN0YWNrJywgJ2V2ZW50QnVzJ107XG5cbmNvbnN0IFZpZXdlckNvbW1hbmRzTW9kdWxlID0ge1xuICBfX2RlcGVuZHNfXzogW2NvbW1hbmRNb2R1bGVdLFxuICBfX2luaXRfXzogWyd2aWV3ZXJDb21tYW5kcyddLFxuICB2aWV3ZXJDb21tYW5kczogWyd0eXBlJywgVmlld2VyQ29tbWFuZHNdXG59O1xuXG52YXIgX3BhdGgkMztcbmZ1bmN0aW9uIF9leHRlbmRzJDMoKSB7IHJldHVybiBfZXh0ZW5kcyQzID0gT2JqZWN0LmFzc2lnbiA/IE9iamVjdC5hc3NpZ24uYmluZCgpIDogZnVuY3Rpb24gKG4pIHsgZm9yICh2YXIgZSA9IDE7IGUgPCBhcmd1bWVudHMubGVuZ3RoOyBlKyspIHsgdmFyIHQgPSBhcmd1bWVudHNbZV07IGZvciAodmFyIHIgaW4gdCkgKHt9KS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsIHIpICYmIChuW3JdID0gdFtyXSk7IH0gcmV0dXJuIG47IH0sIF9leHRlbmRzJDMuYXBwbHkobnVsbCwgYXJndW1lbnRzKTsgfVxudmFyIFN2Z0V4cGFuZCA9IGZ1bmN0aW9uIFN2Z0V4cGFuZChwcm9wcykge1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgX2V4dGVuZHMkMyh7XG4gICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICB3aWR0aDogMTYsXG4gICAgaGVpZ2h0OiAxNixcbiAgICBmaWxsOiBcIm5vbmVcIlxuICB9LCBwcm9wcyksIF9wYXRoJDMgfHwgKF9wYXRoJDMgPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgZDogXCJNMiA5aDUuNXYzLjA4NmwtMS4yOTMtMS4yOTMtLjcwNy43MDdMOCAxNGwyLjUtMi41LS43MDctLjcwN0w4LjUgMTIuMDg2VjlIMTRWOEgyem0xMS03SDNhMSAxIDAgMCAwLTEgMXYyYTEgMSAwIDAgMCAxIDFoMTBhMSAxIDAgMCAwIDEtMVYzYTEgMSAwIDAgMC0xLTFtMCAzSDNWM2gxMHpcIlxuICB9KSkpO1xufTtcblxudmFyIF9wYXRoJDI7XG5mdW5jdGlvbiBfZXh0ZW5kcyQyKCkgeyByZXR1cm4gX2V4dGVuZHMkMiA9IE9iamVjdC5hc3NpZ24gPyBPYmplY3QuYXNzaWduLmJpbmQoKSA6IGZ1bmN0aW9uIChuKSB7IGZvciAodmFyIGUgPSAxOyBlIDwgYXJndW1lbnRzLmxlbmd0aDsgZSsrKSB7IHZhciB0ID0gYXJndW1lbnRzW2VdOyBmb3IgKHZhciByIGluIHQpICh7fSkuaGFzT3duUHJvcGVydHkuY2FsbCh0LCByKSAmJiAobltyXSA9IHRbcl0pOyB9IHJldHVybiBuOyB9LCBfZXh0ZW5kcyQyLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7IH1cbnZhciBTdmdDb2xsYXBzZSA9IGZ1bmN0aW9uIFN2Z0NvbGxhcHNlKHByb3BzKSB7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInN2Z1wiLCBfZXh0ZW5kcyQyKHtcbiAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgIHdpZHRoOiAxNixcbiAgICBoZWlnaHQ6IDE2LFxuICAgIGZpbGw6IFwibm9uZVwiXG4gIH0sIHByb3BzKSwgX3BhdGgkMiB8fCAoX3BhdGgkMiA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICBkOiBcIk0xMyAxMEgzYTEgMSAwIDAgMC0xIDF2MmExIDEgMCAwIDAgMSAxaDEwYTEgMSAwIDAgMCAxLTF2LTJhMSAxIDAgMCAwLTEtMW0wIDNIM3YtMmgxMHpNOC41IDMuOTE0bDEuMjkzIDEuMjkzLjcwNy0uNzA3TDggMiA1LjUgNC41bC43MDcuNzA3TDcuNSAzLjkxNFY3SDJ2MWgxMlY3SDguNXpcIlxuICB9KSkpO1xufTtcblxudmFyIF9wYXRoJDEsIF9wYXRoMjtcbmZ1bmN0aW9uIF9leHRlbmRzJDEoKSB7IHJldHVybiBfZXh0ZW5kcyQxID0gT2JqZWN0LmFzc2lnbiA/IE9iamVjdC5hc3NpZ24uYmluZCgpIDogZnVuY3Rpb24gKG4pIHsgZm9yICh2YXIgZSA9IDE7IGUgPCBhcmd1bWVudHMubGVuZ3RoOyBlKyspIHsgdmFyIHQgPSBhcmd1bWVudHNbZV07IGZvciAodmFyIHIgaW4gdCkgKHt9KS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsIHIpICYmIChuW3JdID0gdFtyXSk7IH0gcmV0dXJuIG47IH0sIF9leHRlbmRzJDEuYXBwbHkobnVsbCwgYXJndW1lbnRzKTsgfVxudmFyIFN2Z0FkZCA9IGZ1bmN0aW9uIFN2Z0FkZChwcm9wcykge1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgX2V4dGVuZHMkMSh7XG4gICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICB3aWR0aDogMTYsXG4gICAgaGVpZ2h0OiAxNixcbiAgICBmaWxsOiBcIm5vbmVcIlxuICB9LCBwcm9wcyksIF9wYXRoJDEgfHwgKF9wYXRoJDEgPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgZDogXCJNOCAyYzMuMyAwIDYgMi43IDYgNnMtMi43IDYtNiA2LTYtMi43LTYtNiAyLjctNiA2LTZtMC0xQzQuMTUgMSAxIDQuMTUgMSA4czMuMTUgNyA3IDcgNy0zLjE1IDctNy0zLjE1LTctNy03XCJcbiAgfSkpLCBfcGF0aDIgfHwgKF9wYXRoMiA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICBkOiBcIk0xMiA3LjVIOC41VjRoLTF2My41SDR2MWgzLjVWMTJoMVY4LjVIMTJ6XCJcbiAgfSkpKTtcbn07XG5cbnZhciBfcGF0aDtcbmZ1bmN0aW9uIF9leHRlbmRzKCkgeyByZXR1cm4gX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduID8gT2JqZWN0LmFzc2lnbi5iaW5kKCkgOiBmdW5jdGlvbiAobikgeyBmb3IgKHZhciBlID0gMTsgZSA8IGFyZ3VtZW50cy5sZW5ndGg7IGUrKykgeyB2YXIgdCA9IGFyZ3VtZW50c1tlXTsgZm9yICh2YXIgciBpbiB0KSAoe30pLmhhc093blByb3BlcnR5LmNhbGwodCwgcikgJiYgKG5bcl0gPSB0W3JdKTsgfSByZXR1cm4gbjsgfSwgX2V4dGVuZHMuYXBwbHkobnVsbCwgYXJndW1lbnRzKTsgfVxudmFyIFN2Z0RlbGV0ZSA9IGZ1bmN0aW9uIFN2Z0RlbGV0ZShwcm9wcykge1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgX2V4dGVuZHMoe1xuICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgd2lkdGg6IDE2LFxuICAgIGhlaWdodDogMTYsXG4gICAgZmlsbDogXCJub25lXCJcbiAgfSwgcHJvcHMpLCBfcGF0aCB8fCAoX3BhdGggPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgZDogXCJtMTIgNC43LS43LS43TDggNy4zIDQuNyA0bC0uNy43TDcuMyA4IDQgMTEuM2wuNy43TDggOC43bDMuMyAzLjMuNy0uN0w4LjcgOHpcIlxuICB9KSkpO1xufTtcblxuLy8gZGlzYWJsZSByZWFjdCBob29rIHJ1bGVzIGFzIHRoZSBsaW50ZXIgaXMgY29uZnVzaW5nIHRoZSBmdW5jdGlvbmFsIGNvbXBvbmVudHMgd2l0aGluIGEgY2xhc3MgYXMgY2xhc3MgY29tcG9uZW50c1xuLyogZXNsaW50LWRpc2FibGUgcmVhY3QtaG9va3MvcnVsZXMtb2YtaG9va3MgKi9cblxuY2xhc3MgUmVwZWF0UmVuZGVyTWFuYWdlciB7XG4gIGNvbnN0cnVjdG9yKGZvcm0sIGZvcm1GaWVsZHMsIGZvcm1GaWVsZFJlZ2lzdHJ5LCBwYXRoUmVnaXN0cnksIGV2ZW50QnVzKSB7XG4gICAgdGhpcy5fZm9ybSA9IGZvcm07XG4gICAgLyoqIEB0eXBlIHtpbXBvcnQoJy4uLy4uL3JlbmRlci9Gb3JtRmllbGRzJykuRm9ybUZpZWxkc30gKi9cbiAgICB0aGlzLl9mb3JtRmllbGRzID0gZm9ybUZpZWxkcztcbiAgICAvKiogQHR5cGUge2ltcG9ydCgnLi4vLi4vY29yZS9Gb3JtRmllbGRSZWdpc3RyeScpLkZvcm1GaWVsZFJlZ2lzdHJ5fSAqL1xuICAgIHRoaXMuX2Zvcm1GaWVsZFJlZ2lzdHJ5ID0gZm9ybUZpZWxkUmVnaXN0cnk7XG4gICAgLyoqIEB0eXBlIHtpbXBvcnQoJy4uLy4uL2NvcmUvUGF0aFJlZ2lzdHJ5JykuUGF0aFJlZ2lzdHJ5fSAqL1xuICAgIHRoaXMuX3BhdGhSZWdpc3RyeSA9IHBhdGhSZWdpc3RyeTtcbiAgICAvKiogQHR5cGUge2ltcG9ydCgnLi4vLi4vY29yZS9FdmVudEJ1cycpLkV2ZW50QnVzfSAqL1xuICAgIHRoaXMuX2V2ZW50QnVzID0gZXZlbnRCdXM7XG4gICAgdGhpcy5SZXBlYXRlciA9IHRoaXMuUmVwZWF0ZXIuYmluZCh0aGlzKTtcbiAgICB0aGlzLlJlcGVhdEZvb3RlciA9IHRoaXMuUmVwZWF0Rm9vdGVyLmJpbmQodGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIHdoZXRoZXIgYSBmaWVsZCBpcyBjdXJyZW50bHkgcmVwZWF0aW5nIGl0cyBjaGlsZHJlbi5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gVGhlIGlkIG9mIHRoZSBmaWVsZCB0byBjaGVja1xuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gLSBUcnVlIGlmIHJlcGVhdGFibGUsIGZhbHNlIG90aGVyd2lzZVxuICAgKi9cbiAgaXNGaWVsZFJlcGVhdGluZyhpZCkge1xuICAgIGlmICghaWQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgZm9ybUZpZWxkID0gdGhpcy5fZm9ybUZpZWxkUmVnaXN0cnkuZ2V0KGlkKTtcbiAgICBjb25zdCBmb3JtRmllbGREZWZpbml0aW9uID0gdGhpcy5fZm9ybUZpZWxkcy5nZXQoZm9ybUZpZWxkLnR5cGUpO1xuICAgIHJldHVybiBmb3JtRmllbGREZWZpbml0aW9uLmNvbmZpZy5yZXBlYXRhYmxlICYmIGZvcm1GaWVsZC5pc1JlcGVhdGluZztcbiAgfVxuICBSZXBlYXRlcihwcm9wcykge1xuICAgIGNvbnN0IHtcbiAgICAgIFJvd3NSZW5kZXJlcixcbiAgICAgIGluZGV4ZXMsXG4gICAgICB1c2VTaGFyZWRTdGF0ZSxcbiAgICAgIC4uLnJlc3RQcm9wc1xuICAgIH0gPSBwcm9wcztcbiAgICBjb25zdCBbc2hhcmVkUmVwZWF0U3RhdGVdID0gdXNlU2hhcmVkU3RhdGU7XG4gICAgY29uc3Qge1xuICAgICAgZGF0YVxuICAgIH0gPSB0aGlzLl9mb3JtLl9nZXRTdGF0ZSgpO1xuICAgIGNvbnN0IHJlcGVhdGVyRmllbGQgPSBwcm9wcy5maWVsZDtcbiAgICBjb25zdCBkYXRhUGF0aCA9IHRoaXMuX3BhdGhSZWdpc3RyeS5nZXRWYWx1ZVBhdGgocmVwZWF0ZXJGaWVsZCwge1xuICAgICAgaW5kZXhlc1xuICAgIH0pO1xuICAgIGNvbnN0IHZhbHVlcyA9IGdldChkYXRhLCBkYXRhUGF0aCkgfHwgW107XG4gICAgY29uc3Qgbm9uQ29sbGFwc2VkSXRlbXMgPSB0aGlzLl9nZXROb25Db2xsYXBzZWRJdGVtcyhyZXBlYXRlckZpZWxkKTtcbiAgICBjb25zdCBjb2xsYXBzZUVuYWJsZWQgPSAhcmVwZWF0ZXJGaWVsZC5kaXNhYmxlQ29sbGFwc2UgJiYgdmFsdWVzLmxlbmd0aCA+IG5vbkNvbGxhcHNlZEl0ZW1zO1xuICAgIGNvbnN0IGlzQ29sbGFwc2VkID0gY29sbGFwc2VFbmFibGVkICYmIHNoYXJlZFJlcGVhdFN0YXRlLmlzQ29sbGFwc2VkO1xuICAgIGNvbnN0IGhhc0NoaWxkcmVuID0gcmVwZWF0ZXJGaWVsZC5jb21wb25lbnRzICYmIHJlcGVhdGVyRmllbGQuY29tcG9uZW50cy5sZW5ndGggPiAwO1xuICAgIGNvbnN0IHNob3dSZW1vdmUgPSByZXBlYXRlckZpZWxkLmFsbG93QWRkUmVtb3ZlICYmIGhhc0NoaWxkcmVuO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4XG4gICAgICovXG4gICAgY29uc3Qgb25EZWxldGVJdGVtID0gaW5kZXggPT4ge1xuICAgICAgY29uc3QgdXBkYXRlZFZhbHVlcyA9IHZhbHVlcy5zbGljZSgpO1xuICAgICAgY29uc3QgcmVtb3ZlZEl0ZW0gPSB1cGRhdGVkVmFsdWVzLnNwbGljZShpbmRleCwgMSlbMF07XG4gICAgICB0aGlzLl9ldmVudEJ1cy5maXJlKCdyZXBlYXRSZW5kZXJNYW5hZ2VyLnJlbW92ZScsIHtcbiAgICAgICAgZGF0YVBhdGgsXG4gICAgICAgIGluZGV4LFxuICAgICAgICBpdGVtOiByZW1vdmVkSXRlbVxuICAgICAgfSk7XG4gICAgICBwcm9wcy5vbkNoYW5nZSh7XG4gICAgICAgIGZpZWxkOiByZXBlYXRlckZpZWxkLFxuICAgICAgICB2YWx1ZTogdXBkYXRlZFZhbHVlcyxcbiAgICAgICAgaW5kZXhlc1xuICAgICAgfSk7XG4gICAgfTtcbiAgICBjb25zdCBwYXJlbnRFeHByZXNzaW9uQ29udGV4dEluZm8gPSB1c2VDb250ZXh0KExvY2FsRXhwcmVzc2lvbkNvbnRleHQpO1xuICAgIHJldHVybiBqc3goRnJhZ21lbnQsIHtcbiAgICAgIGNoaWxkcmVuOiB2YWx1ZXMubWFwKChpdGVtVmFsdWUsIGl0ZW1JbmRleCkgPT4ganN4KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3M6IGNsYXNzTmFtZXMoe1xuICAgICAgICAgICdmanMtcmVwZWF0LXJvdy1jb2xsYXBzZWQnOiBpc0NvbGxhcHNlZCA/IGl0ZW1JbmRleCA+PSBub25Db2xsYXBzZWRJdGVtcyA6IGZhbHNlXG4gICAgICAgIH0pLFxuICAgICAgICBjaGlsZHJlbjoganN4KFJlcGV0aXRpb25TY2FmZm9sZCwge1xuICAgICAgICAgIGl0ZW1JbmRleDogaXRlbUluZGV4LFxuICAgICAgICAgIGl0ZW1WYWx1ZTogaXRlbVZhbHVlLFxuICAgICAgICAgIHBhcmVudEV4cHJlc3Npb25Db250ZXh0SW5mbzogcGFyZW50RXhwcmVzc2lvbkNvbnRleHRJbmZvLFxuICAgICAgICAgIHJlcGVhdGVyRmllbGQ6IHJlcGVhdGVyRmllbGQsXG4gICAgICAgICAgUm93c1JlbmRlcmVyOiBSb3dzUmVuZGVyZXIsXG4gICAgICAgICAgaW5kZXhlczogaW5kZXhlcyxcbiAgICAgICAgICBvbkRlbGV0ZUl0ZW06IG9uRGVsZXRlSXRlbSxcbiAgICAgICAgICBzaG93UmVtb3ZlOiBzaG93UmVtb3ZlLFxuICAgICAgICAgIC4uLnJlc3RQcm9wc1xuICAgICAgICB9KVxuICAgICAgfSwgaXRlbUluZGV4KSlcbiAgICB9KTtcbiAgfVxuICBSZXBlYXRGb290ZXIocHJvcHMpIHtcbiAgICBjb25zdCBhZGRCdXR0b25SZWYgPSB1c2VSZWYobnVsbCk7XG4gICAgY29uc3Qge1xuICAgICAgdXNlU2hhcmVkU3RhdGUsXG4gICAgICBpbmRleGVzLFxuICAgICAgZmllbGQ6IHJlcGVhdGVyRmllbGQsXG4gICAgICByZWFkb25seSxcbiAgICAgIGRpc2FibGVkXG4gICAgfSA9IHByb3BzO1xuICAgIGNvbnN0IFtzaGFyZWRSZXBlYXRTdGF0ZSwgc2V0U2hhcmVkUmVwZWF0U3RhdGVdID0gdXNlU2hhcmVkU3RhdGU7XG4gICAgY29uc3Qge1xuICAgICAgZGF0YVxuICAgIH0gPSB0aGlzLl9mb3JtLl9nZXRTdGF0ZSgpO1xuICAgIGNvbnN0IGRhdGFQYXRoID0gdGhpcy5fcGF0aFJlZ2lzdHJ5LmdldFZhbHVlUGF0aChyZXBlYXRlckZpZWxkLCB7XG4gICAgICBpbmRleGVzXG4gICAgfSk7XG4gICAgY29uc3QgdmFsdWVzID0gZ2V0KGRhdGEsIGRhdGFQYXRoKSB8fCBbXTtcbiAgICBjb25zdCBub25Db2xsYXBzZWRJdGVtcyA9IHRoaXMuX2dldE5vbkNvbGxhcHNlZEl0ZW1zKHJlcGVhdGVyRmllbGQpO1xuICAgIGNvbnN0IGNvbGxhcHNlRW5hYmxlZCA9ICFyZXBlYXRlckZpZWxkLmRpc2FibGVDb2xsYXBzZSAmJiB2YWx1ZXMubGVuZ3RoID4gbm9uQ29sbGFwc2VkSXRlbXM7XG4gICAgY29uc3QgaXNDb2xsYXBzZWQgPSBjb2xsYXBzZUVuYWJsZWQgJiYgc2hhcmVkUmVwZWF0U3RhdGUuaXNDb2xsYXBzZWQ7XG4gICAgY29uc3QgaGFzQ2hpbGRyZW4gPSByZXBlYXRlckZpZWxkLmNvbXBvbmVudHMgJiYgcmVwZWF0ZXJGaWVsZC5jb21wb25lbnRzLmxlbmd0aCA+IDA7XG4gICAgY29uc3Qgc2hvd0FkZCA9IHJlcGVhdGVyRmllbGQuYWxsb3dBZGRSZW1vdmUgJiYgaGFzQ2hpbGRyZW47XG4gICAgY29uc3QgdG9nZ2xlID0gKCkgPT4ge1xuICAgICAgc2V0U2hhcmVkUmVwZWF0U3RhdGUoc3RhdGUgPT4gKHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIGlzQ29sbGFwc2VkOiAhaXNDb2xsYXBzZWRcbiAgICAgIH0pKTtcbiAgICB9O1xuICAgIGNvbnN0IHNob3VsZFNjcm9sbCA9IHVzZVJlZihmYWxzZSk7XG4gICAgY29uc3Qgb25BZGRJdGVtID0gKCkgPT4ge1xuICAgICAgY29uc3QgdXBkYXRlZFZhbHVlcyA9IHZhbHVlcy5zbGljZSgpO1xuICAgICAgY29uc3QgbmV3SXRlbSA9IHRoaXMuX2Zvcm0uX2dldEluaXRpYWxpemVkRmllbGREYXRhKHRoaXMuX2Zvcm0uX2dldFN0YXRlKCkuZGF0YSwge1xuICAgICAgICBjb250YWluZXI6IHJlcGVhdGVyRmllbGQsXG4gICAgICAgIGluZGV4ZXM6IHtcbiAgICAgICAgICAuLi5pbmRleGVzLFxuICAgICAgICAgIFtyZXBlYXRlckZpZWxkLmlkXTogdXBkYXRlZFZhbHVlcy5sZW5ndGhcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICB1cGRhdGVkVmFsdWVzLnB1c2gobmV3SXRlbSk7XG4gICAgICBzaG91bGRTY3JvbGwuY3VycmVudCA9IHRydWU7XG4gICAgICB0aGlzLl9ldmVudEJ1cy5maXJlKCdyZXBlYXRSZW5kZXJNYW5hZ2VyLmFkZCcsIHtcbiAgICAgICAgZGF0YVBhdGgsXG4gICAgICAgIGluZGV4OiB1cGRhdGVkVmFsdWVzLmxlbmd0aCAtIDEsXG4gICAgICAgIGl0ZW06IG5ld0l0ZW1cbiAgICAgIH0pO1xuICAgICAgcHJvcHMub25DaGFuZ2Uoe1xuICAgICAgICB2YWx1ZTogdXBkYXRlZFZhbHVlc1xuICAgICAgfSk7XG4gICAgICBzZXRTaGFyZWRSZXBlYXRTdGF0ZShzdGF0ZSA9PiAoe1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgaXNDb2xsYXBzZWQ6IGZhbHNlXG4gICAgICB9KSk7XG4gICAgfTtcbiAgICB1c2VTY3JvbGxJbnRvVmlldyhhZGRCdXR0b25SZWYsIFt2YWx1ZXMubGVuZ3RoXSwge1xuICAgICAgYWxpZ246ICdib3R0b20nLFxuICAgICAgYmVoYXZpb3I6ICdhdXRvJyxcbiAgICAgIG9mZnNldDogMjBcbiAgICB9LCBbc2hvdWxkU2Nyb2xsXSk7XG4gICAgcmV0dXJuIGpzeHMoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWVzKCdmanMtcmVwZWF0LXJlbmRlci1mb290ZXInLCB7XG4gICAgICAgICdmanMtcmVtb3ZlLWFsbG93ZWQnOiByZXBlYXRlckZpZWxkLmFsbG93QWRkUmVtb3ZlXG4gICAgICB9KSxcbiAgICAgIGNoaWxkcmVuOiBbc2hvd0FkZCA/IGpzeChcImJ1dHRvblwiLCB7XG4gICAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgICAgIHJlYWRPbmx5OiByZWFkb25seSxcbiAgICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkIHx8IHJlYWRvbmx5LFxuICAgICAgICBjbGFzczogXCJmanMtcmVwZWF0LXJlbmRlci1hZGRcIixcbiAgICAgICAgcmVmOiBhZGRCdXR0b25SZWYsXG4gICAgICAgIG9uQ2xpY2s6IG9uQWRkSXRlbSxcbiAgICAgICAgY2hpbGRyZW46IGpzeHMoRnJhZ21lbnQsIHtcbiAgICAgICAgICBjaGlsZHJlbjogW2pzeChTdmdBZGQsIHt9KSwgXCIgXCIsICdBZGQgbmV3J11cbiAgICAgICAgfSlcbiAgICAgIH0pIDogbnVsbCwgY29sbGFwc2VFbmFibGVkID8ganN4KFwiYnV0dG9uXCIsIHtcbiAgICAgICAgdHlwZTogXCJidXR0b25cIixcbiAgICAgICAgY2xhc3M6IFwiZmpzLXJlcGVhdC1yZW5kZXItY29sbGFwc2VcIixcbiAgICAgICAgb25DbGljazogdG9nZ2xlLFxuICAgICAgICBjaGlsZHJlbjogaXNDb2xsYXBzZWQgPyBqc3hzKEZyYWdtZW50LCB7XG4gICAgICAgICAgY2hpbGRyZW46IFtqc3goU3ZnRXhwYW5kLCB7fSksIFwiIFwiLCBgRXhwYW5kIGFsbCAoJHt2YWx1ZXMubGVuZ3RoIC0gMX0pYF1cbiAgICAgICAgfSkgOiBqc3hzKEZyYWdtZW50LCB7XG4gICAgICAgICAgY2hpbGRyZW46IFtqc3goU3ZnQ29sbGFwc2UsIHt9KSwgXCIgXCIsICdDb2xsYXBzZSddXG4gICAgICAgIH0pXG4gICAgICB9KSA6IG51bGxdXG4gICAgfSk7XG4gIH1cbiAgX2dldE5vbkNvbGxhcHNlZEl0ZW1zKGZpZWxkKSB7XG4gICAgY29uc3QgREVGQVVMVF9OT05fQ09MTEFQU0VEX0lURU1TID0gNTtcbiAgICBjb25zdCB7XG4gICAgICBub25Db2xsYXBzZWRJdGVtc1xuICAgIH0gPSBmaWVsZDtcbiAgICByZXR1cm4gbm9uQ29sbGFwc2VkSXRlbXMgPyBub25Db2xsYXBzZWRJdGVtcyA6IERFRkFVTFRfTk9OX0NPTExBUFNFRF9JVEVNUztcbiAgfVxufVxuXG4vKipcbiAqIEluZGl2aWR1YWwgcmVwZXRpdGlvbiBvZiBhIHJlcGVhdGVkIGZpZWxkIGFuZCBjb250ZXh0IHNjYWZmb2xkaW5nLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wc1xuICogQHBhcmFtIHtudW1iZXJ9IHByb3BzLml0ZW1JbmRleFxuICogQHBhcmFtIHtPYmplY3R9IHByb3BzLml0ZW1WYWx1ZVxuICogQHBhcmFtIHtPYmplY3R9IHByb3BzLnBhcmVudEV4cHJlc3Npb25Db250ZXh0SW5mb1xuICogQHBhcmFtIHtPYmplY3R9IHByb3BzLnJlcGVhdGVyRmllbGRcbiAqIEBwYXJhbSB7aW1wb3J0KCdwcmVhY3QnKS5GdW5jdGlvbkNvbXBvbmVudH0gcHJvcHMuUm93c1JlbmRlcmVyXG4gKiBAcGFyYW0ge09iamVjdH0gcHJvcHMuaW5kZXhlc1xuICogQHBhcmFtIHtGdW5jdGlvbn0gcHJvcHMub25EZWxldGVJdGVtXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHByb3BzLnNob3dSZW1vdmVcbiAqL1xuXG5jb25zdCBSZXBldGl0aW9uU2NhZmZvbGQgPSBwcm9wcyA9PiB7XG4gIGNvbnN0IHtcbiAgICBpdGVtSW5kZXgsXG4gICAgaXRlbVZhbHVlLFxuICAgIHBhcmVudEV4cHJlc3Npb25Db250ZXh0SW5mbyxcbiAgICByZXBlYXRlckZpZWxkLFxuICAgIFJvd3NSZW5kZXJlcixcbiAgICBpbmRleGVzLFxuICAgIG9uRGVsZXRlSXRlbSxcbiAgICBzaG93UmVtb3ZlLFxuICAgIC4uLnJlc3RQcm9wc1xuICB9ID0gcHJvcHM7XG4gIGNvbnN0IGVsZW1lbnRQcm9wcyA9IHVzZU1lbW8oKCkgPT4gKHtcbiAgICAuLi5yZXN0UHJvcHMsXG4gICAgaW5kZXhlczoge1xuICAgICAgLi4uKGluZGV4ZXMgfHwge30pLFxuICAgICAgW3JlcGVhdGVyRmllbGQuaWRdOiBpdGVtSW5kZXhcbiAgICB9XG4gIH0pLCBbaXRlbUluZGV4LCBpbmRleGVzLCByZXBlYXRlckZpZWxkLmlkLCByZXN0UHJvcHNdKTtcbiAgY29uc3QgbG9jYWxFeHByZXNzaW9uQ29udGV4dEluZm8gPSB1c2VNZW1vKCgpID0+ICh7XG4gICAgZGF0YTogcGFyZW50RXhwcmVzc2lvbkNvbnRleHRJbmZvLmRhdGEsXG4gICAgdGhpczogaXRlbVZhbHVlLFxuICAgIHBhcmVudDogYnVpbGRFeHByZXNzaW9uQ29udGV4dCh7XG4gICAgICAuLi5wYXJlbnRFeHByZXNzaW9uQ29udGV4dEluZm8sXG4gICAgICBkYXRhOiBwYXJlbnRFeHByZXNzaW9uQ29udGV4dEluZm8udGhpc1xuICAgIH0pLFxuICAgIGk6IFsuLi5wYXJlbnRFeHByZXNzaW9uQ29udGV4dEluZm8uaSwgaXRlbUluZGV4ICsgMV1cbiAgfSksIFtpdGVtSW5kZXgsIHBhcmVudEV4cHJlc3Npb25Db250ZXh0SW5mbywgaXRlbVZhbHVlXSk7XG4gIHJldHVybiAhc2hvd1JlbW92ZSA/IGpzeChMb2NhbEV4cHJlc3Npb25Db250ZXh0LlByb3ZpZGVyLCB7XG4gICAgdmFsdWU6IGxvY2FsRXhwcmVzc2lvbkNvbnRleHRJbmZvLFxuICAgIGNoaWxkcmVuOiBqc3goUm93c1JlbmRlcmVyLCB7XG4gICAgICAuLi5lbGVtZW50UHJvcHNcbiAgICB9KVxuICB9KSA6IGpzeHMoXCJkaXZcIiwge1xuICAgIGNsYXNzOiBcImZqcy1yZXBlYXQtcm93LWNvbnRhaW5lclwiLFxuICAgIGNoaWxkcmVuOiBbanN4KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzOiBcImZqcy1yZXBlYXQtcm93LXJvd3NcIixcbiAgICAgIGNoaWxkcmVuOiBqc3goTG9jYWxFeHByZXNzaW9uQ29udGV4dC5Qcm92aWRlciwge1xuICAgICAgICB2YWx1ZTogbG9jYWxFeHByZXNzaW9uQ29udGV4dEluZm8sXG4gICAgICAgIGNoaWxkcmVuOiBqc3goUm93c1JlbmRlcmVyLCB7XG4gICAgICAgICAgLi4uZWxlbWVudFByb3BzXG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgIH0pLCBqc3goXCJidXR0b25cIiwge1xuICAgICAgdHlwZTogXCJidXR0b25cIixcbiAgICAgIGNsYXNzOiBcImZqcy1yZXBlYXQtcm93LXJlbW92ZVwiLFxuICAgICAgXCJhcmlhLWxhYmVsXCI6IGBSZW1vdmUgbGlzdCBpdGVtICR7aXRlbUluZGV4ICsgMX1gLFxuICAgICAgb25DbGljazogKCkgPT4gb25EZWxldGVJdGVtKGl0ZW1JbmRleCksXG4gICAgICBjaGlsZHJlbjoganN4KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3M6IFwiZmpzLXJlcGVhdC1yb3ctcmVtb3ZlLWljb24tY29udGFpbmVyXCIsXG4gICAgICAgIGNoaWxkcmVuOiBqc3goU3ZnRGVsZXRlLCB7fSlcbiAgICAgIH0pXG4gICAgfSldXG4gIH0pO1xufTtcblJlcGVhdFJlbmRlck1hbmFnZXIuJGluamVjdCA9IFsnZm9ybScsICdmb3JtRmllbGRzJywgJ2Zvcm1GaWVsZFJlZ2lzdHJ5JywgJ3BhdGhSZWdpc3RyeScsICdldmVudEJ1cyddO1xuXG5jb25zdCBSZXBlYXRSZW5kZXJNb2R1bGUgPSB7XG4gIF9faW5pdF9fOiBbJ3JlcGVhdFJlbmRlck1hbmFnZXInXSxcbiAgcmVwZWF0UmVuZGVyTWFuYWdlcjogWyd0eXBlJywgUmVwZWF0UmVuZGVyTWFuYWdlcl1cbn07XG5cbnZhciBGTl9SRUYgPSAnX19mbic7XG52YXIgREVGQVVMVF9QUklPUklUWSA9IDEwMDA7XG52YXIgc2xpY2UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2U7XG5cbi8qKlxuICogQHR5cGVkZWYgeyB7XG4gKiAgIHN0b3BQcm9wYWdhdGlvbigpOiB2b2lkO1xuICogICBwcmV2ZW50RGVmYXVsdCgpOiB2b2lkO1xuICogICBjYW5jZWxCdWJibGU6IGJvb2xlYW47XG4gKiAgIGRlZmF1bHRQcmV2ZW50ZWQ6IGJvb2xlYW47XG4gKiAgIHJldHVyblZhbHVlOiBhbnk7XG4gKiB9IH0gRXZlbnRcbiAqL1xuXG4vKipcbiAqIEB0ZW1wbGF0ZSBFXG4gKlxuICogQHR5cGVkZWYgeyAoZXZlbnQ6IEUgJiBFdmVudCwgLi4uYW55KSA9PiBhbnkgfSBFdmVudEJ1c0V2ZW50Q2FsbGJhY2tcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHsge1xuICogIHByaW9yaXR5OiBudW1iZXI7XG4gKiAgbmV4dDogRXZlbnRCdXNMaXN0ZW5lciB8IG51bGw7XG4gKiAgY2FsbGJhY2s6IEV2ZW50QnVzRXZlbnRDYWxsYmFjazxhbnk+O1xuICogfSB9IEV2ZW50QnVzTGlzdGVuZXJcbiAqL1xuXG4vKipcbiAqIEEgZ2VuZXJhbCBwdXJwb3NlIGV2ZW50IGJ1cy5cbiAqXG4gKiBUaGlzIGNvbXBvbmVudCBpcyB1c2VkIHRvIGNvbW11bmljYXRlIGFjcm9zcyBhIGRpYWdyYW0gaW5zdGFuY2UuXG4gKiBPdGhlciBwYXJ0cyBvZiBhIGRpYWdyYW0gY2FuIHVzZSBpdCB0byBsaXN0ZW4gdG8gYW5kIGJyb2FkY2FzdCBldmVudHMuXG4gKlxuICpcbiAqICMjIFJlZ2lzdGVyaW5nIGZvciBFdmVudHNcbiAqXG4gKiBUaGUgZXZlbnQgYnVzIHByb3ZpZGVzIHRoZSB7QGxpbmsgRXZlbnRCdXMjb259IGFuZCB7QGxpbmsgRXZlbnRCdXMjb25jZX1cbiAqIG1ldGhvZHMgdG8gcmVnaXN0ZXIgZm9yIGV2ZW50cy4ge0BsaW5rIEV2ZW50QnVzI29mZn0gY2FuIGJlIHVzZWQgdG9cbiAqIHJlbW92ZSBldmVudCByZWdpc3RyYXRpb25zLiBMaXN0ZW5lcnMgcmVjZWl2ZSBhbiBpbnN0YW5jZSBvZiB7QGxpbmsgRXZlbnR9XG4gKiBhcyB0aGUgZmlyc3QgYXJndW1lbnQuIEl0IGFsbG93cyB0aGVtIHRvIGhvb2sgaW50byB0aGUgZXZlbnQgZXhlY3V0aW9uLlxuICpcbiAqIGBgYGphdmFzY3JpcHRcbiAqXG4gKiAvLyBsaXN0ZW4gZm9yIGV2ZW50XG4gKiBldmVudEJ1cy5vbignZm9vJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAqXG4gKiAgIC8vIGFjY2VzcyBldmVudCB0eXBlXG4gKiAgIGV2ZW50LnR5cGU7IC8vICdmb28nXG4gKlxuICogICAvLyBzdG9wIHByb3BhZ2F0aW9uIHRvIG90aGVyIGxpc3RlbmVyc1xuICogICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAqXG4gKiAgIC8vIHByZXZlbnQgZXZlbnQgZGVmYXVsdFxuICogICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICogfSk7XG4gKlxuICogLy8gbGlzdGVuIGZvciBldmVudCB3aXRoIGN1c3RvbSBwYXlsb2FkXG4gKiBldmVudEJ1cy5vbignYmFyJywgZnVuY3Rpb24oZXZlbnQsIHBheWxvYWQpIHtcbiAqICAgY29uc29sZS5sb2cocGF5bG9hZCk7XG4gKiB9KTtcbiAqXG4gKiAvLyBsaXN0ZW4gZm9yIGV2ZW50IHJldHVybmluZyB2YWx1ZVxuICogZXZlbnRCdXMub24oJ2Zvb2JhcicsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gKlxuICogICAvLyBzdG9wIGV2ZW50IHByb3BhZ2F0aW9uICsgcHJldmVudCBkZWZhdWx0XG4gKiAgIHJldHVybiBmYWxzZTtcbiAqXG4gKiAgIC8vIHN0b3AgZXZlbnQgcHJvcGFnYXRpb24gKyByZXR1cm4gY3VzdG9tIHJlc3VsdFxuICogICByZXR1cm4ge1xuICogICAgIGNvbXBsZXg6ICdsaXN0ZW5pbmcgcmVzdWx0J1xuICogICB9O1xuICogfSk7XG4gKlxuICpcbiAqIC8vIGxpc3RlbiB3aXRoIGN1c3RvbSBwcmlvcml0eSAoZGVmYXVsdD0xMDAwLCBoaWdoZXIgaXMgYmV0dGVyKVxuICogZXZlbnRCdXMub24oJ3ByaW9yaXR5Zm9vJywgMTUwMCwgZnVuY3Rpb24oZXZlbnQpIHtcbiAqICAgY29uc29sZS5sb2coJ2ludm9rZWQgZmlyc3QhJyk7XG4gKiB9KTtcbiAqXG4gKlxuICogLy8gbGlzdGVuIGZvciBldmVudCBhbmQgcGFzcyB0aGUgY29udGV4dCAoYHRoaXNgKVxuICogZXZlbnRCdXMub24oJ2Zvb2JhcicsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gKiAgIHRoaXMuZm9vKCk7XG4gKiB9LCB0aGlzKTtcbiAqIGBgYFxuICpcbiAqXG4gKiAjIyBFbWl0dGluZyBFdmVudHNcbiAqXG4gKiBFdmVudHMgY2FuIGJlIGVtaXR0ZWQgdmlhIHRoZSBldmVudCBidXMgdXNpbmcge0BsaW5rIEV2ZW50QnVzI2ZpcmV9LlxuICpcbiAqIGBgYGphdmFzY3JpcHRcbiAqXG4gKiAvLyBmYWxzZSBpbmRpY2F0ZXMgdGhhdCB0aGUgZGVmYXVsdCBhY3Rpb25cbiAqIC8vIHdhcyBwcmV2ZW50ZWQgYnkgbGlzdGVuZXJzXG4gKiBpZiAoZXZlbnRCdXMuZmlyZSgnZm9vJykgPT09IGZhbHNlKSB7XG4gKiAgIGNvbnNvbGUubG9nKCdkZWZhdWx0IGhhcyBiZWVuIHByZXZlbnRlZCEnKTtcbiAqIH07XG4gKlxuICpcbiAqIC8vIGN1c3RvbSBhcmdzICsgcmV0dXJuIHZhbHVlIGxpc3RlbmVyXG4gKiBldmVudEJ1cy5vbignc3VtJywgZnVuY3Rpb24oZXZlbnQsIGEsIGIpIHtcbiAqICAgcmV0dXJuIGEgKyBiO1xuICogfSk7XG4gKlxuICogLy8geW91IGNhbiBwYXNzIGN1c3RvbSBhcmd1bWVudHMgKyByZXRyaWV2ZSByZXN1bHQgdmFsdWVzLlxuICogdmFyIHN1bSA9IGV2ZW50QnVzLmZpcmUoJ3N1bScsIDEsIDIpO1xuICogY29uc29sZS5sb2coc3VtKTsgLy8gM1xuICogYGBgXG4gKlxuICogQHRlbXBsYXRlIFtFdmVudE1hcD1udWxsXVxuICovXG5mdW5jdGlvbiBFdmVudEJ1cygpIHtcbiAgLyoqXG4gICAqIEB0eXBlIHsgUmVjb3JkPHN0cmluZywgRXZlbnRCdXNMaXN0ZW5lcj4gfVxuICAgKi9cbiAgdGhpcy5fbGlzdGVuZXJzID0ge307XG5cbiAgLy8gY2xlYW51cCBvbiBkZXN0cm95IG9uIGxvd2VzdCBwcmlvcml0eSB0byBhbGxvd1xuICAvLyBtZXNzYWdlIHBhc3NpbmcgdW50aWwgdGhlIGJpdHRlciBlbmRcbiAgdGhpcy5vbignZGlhZ3JhbS5kZXN0cm95JywgMSwgdGhpcy5fZGVzdHJveSwgdGhpcyk7XG59XG5cbi8qKlxuICogQG92ZXJsb3JkXG4gKlxuICogUmVnaXN0ZXIgYW4gZXZlbnQgbGlzdGVuZXIgZm9yIGV2ZW50cyB3aXRoIHRoZSBnaXZlbiBuYW1lLlxuICpcbiAqIFRoZSBjYWxsYmFjayB3aWxsIGJlIGludm9rZWQgd2l0aCBgZXZlbnQsIC4uLmFkZGl0aW9uYWxBcmd1bWVudHNgXG4gKiB0aGF0IGhhdmUgYmVlbiBwYXNzZWQgdG8ge0BsaW5rIEV2ZW50QnVzI2ZpcmV9LlxuICpcbiAqIFJldHVybmluZyBmYWxzZSBmcm9tIGEgbGlzdGVuZXIgd2lsbCBwcmV2ZW50IHRoZSBldmVudHMgZGVmYXVsdCBhY3Rpb25cbiAqIChpZiBhbnkgaXMgc3BlY2lmaWVkKS4gVG8gc3RvcCBhbiBldmVudCBmcm9tIGJlaW5nIHByb2Nlc3NlZCBmdXJ0aGVyIGluXG4gKiBvdGhlciBsaXN0ZW5lcnMgZXhlY3V0ZSB7QGxpbmsgRXZlbnQjc3RvcFByb3BhZ2F0aW9ufS5cbiAqXG4gKiBSZXR1cm5pbmcgYW55dGhpbmcgYnV0IGB1bmRlZmluZWRgIGZyb20gYSBsaXN0ZW5lciB3aWxsIHN0b3AgdGhlIGxpc3RlbmVyIHByb3BhZ2F0aW9uLlxuICpcbiAqIEB0ZW1wbGF0ZSBUXG4gKlxuICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW119IGV2ZW50cyB0byBzdWJzY3JpYmUgdG9cbiAqIEBwYXJhbSB7bnVtYmVyfSBbcHJpb3JpdHk9MTAwMF0gbGlzdGVuIHByaW9yaXR5XG4gKiBAcGFyYW0ge0V2ZW50QnVzRXZlbnRDYWxsYmFjazxUPn0gY2FsbGJhY2tcbiAqIEBwYXJhbSB7YW55fSBbdGhhdF0gY2FsbGJhY2sgY29udGV4dFxuICovXG4vKipcbiAqIFJlZ2lzdGVyIGFuIGV2ZW50IGxpc3RlbmVyIGZvciBldmVudHMgd2l0aCB0aGUgZ2l2ZW4gbmFtZS5cbiAqXG4gKiBUaGUgY2FsbGJhY2sgd2lsbCBiZSBpbnZva2VkIHdpdGggYGV2ZW50LCAuLi5hZGRpdGlvbmFsQXJndW1lbnRzYFxuICogdGhhdCBoYXZlIGJlZW4gcGFzc2VkIHRvIHtAbGluayBFdmVudEJ1cyNmaXJlfS5cbiAqXG4gKiBSZXR1cm5pbmcgZmFsc2UgZnJvbSBhIGxpc3RlbmVyIHdpbGwgcHJldmVudCB0aGUgZXZlbnRzIGRlZmF1bHQgYWN0aW9uXG4gKiAoaWYgYW55IGlzIHNwZWNpZmllZCkuIFRvIHN0b3AgYW4gZXZlbnQgZnJvbSBiZWluZyBwcm9jZXNzZWQgZnVydGhlciBpblxuICogb3RoZXIgbGlzdGVuZXJzIGV4ZWN1dGUge0BsaW5rIEV2ZW50I3N0b3BQcm9wYWdhdGlvbn0uXG4gKlxuICogUmV0dXJuaW5nIGFueXRoaW5nIGJ1dCBgdW5kZWZpbmVkYCBmcm9tIGEgbGlzdGVuZXIgd2lsbCBzdG9wIHRoZSBsaXN0ZW5lciBwcm9wYWdhdGlvbi5cbiAqXG4gKiBAdGVtcGxhdGUge2tleW9mIEV2ZW50TWFwfSBFdmVudE5hbWVcbiAqXG4gKiBAcGFyYW0ge0V2ZW50TmFtZX0gZXZlbnRzIHRvIHN1YnNjcmliZSB0b1xuICogQHBhcmFtIHtudW1iZXJ9IFtwcmlvcml0eT0xMDAwXSBsaXN0ZW4gcHJpb3JpdHlcbiAqIEBwYXJhbSB7RXZlbnRCdXNFdmVudENhbGxiYWNrPEV2ZW50TWFwW0V2ZW50TmFtZV0+fSBjYWxsYmFja1xuICogQHBhcmFtIHthbnl9IFt0aGF0XSBjYWxsYmFjayBjb250ZXh0XG4gKi9cbkV2ZW50QnVzLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uIChldmVudHMsIHByaW9yaXR5LCBjYWxsYmFjaywgdGhhdCkge1xuICBldmVudHMgPSBpc0FycmF5KGV2ZW50cykgPyBldmVudHMgOiBbZXZlbnRzXTtcbiAgaWYgKGlzRnVuY3Rpb24ocHJpb3JpdHkpKSB7XG4gICAgdGhhdCA9IGNhbGxiYWNrO1xuICAgIGNhbGxiYWNrID0gcHJpb3JpdHk7XG4gICAgcHJpb3JpdHkgPSBERUZBVUxUX1BSSU9SSVRZO1xuICB9XG4gIGlmICghaXNOdW1iZXIocHJpb3JpdHkpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcmlvcml0eSBtdXN0IGJlIGEgbnVtYmVyJyk7XG4gIH1cbiAgdmFyIGFjdHVhbENhbGxiYWNrID0gY2FsbGJhY2s7XG4gIGlmICh0aGF0KSB7XG4gICAgYWN0dWFsQ2FsbGJhY2sgPSBiaW5kKGNhbGxiYWNrLCB0aGF0KTtcblxuICAgIC8vIG1ha2Ugc3VyZSB3ZSByZW1lbWJlciBhbmQgYXJlIGFibGUgdG8gcmVtb3ZlXG4gICAgLy8gYm91bmQgY2FsbGJhY2tzIHZpYSB7QGxpbmsgI29mZn0gdXNpbmcgdGhlIG9yaWdpbmFsXG4gICAgLy8gY2FsbGJhY2tcbiAgICBhY3R1YWxDYWxsYmFja1tGTl9SRUZdID0gY2FsbGJhY2tbRk5fUkVGXSB8fCBjYWxsYmFjaztcbiAgfVxuICB2YXIgc2VsZiA9IHRoaXM7XG4gIGV2ZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7XG4gICAgc2VsZi5fYWRkTGlzdGVuZXIoZSwge1xuICAgICAgcHJpb3JpdHk6IHByaW9yaXR5LFxuICAgICAgY2FsbGJhY2s6IGFjdHVhbENhbGxiYWNrLFxuICAgICAgbmV4dDogbnVsbFxuICAgIH0pO1xuICB9KTtcbn07XG5cbi8qKlxuICogQG92ZXJsb3JkXG4gKlxuICogUmVnaXN0ZXIgYW4gZXZlbnQgbGlzdGVuZXIgdGhhdCBpcyBjYWxsZWQgb25seSBvbmNlLlxuICpcbiAqIEB0ZW1wbGF0ZSBUXG4gKlxuICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW119IGV2ZW50cyB0byBzdWJzY3JpYmUgdG9cbiAqIEBwYXJhbSB7bnVtYmVyfSBbcHJpb3JpdHk9MTAwMF0gdGhlIGxpc3RlbiBwcmlvcml0eVxuICogQHBhcmFtIHtFdmVudEJ1c0V2ZW50Q2FsbGJhY2s8VD59IGNhbGxiYWNrXG4gKiBAcGFyYW0ge2FueX0gW3RoYXRdIGNhbGxiYWNrIGNvbnRleHRcbiAqL1xuLyoqXG4gKiBSZWdpc3RlciBhbiBldmVudCBsaXN0ZW5lciB0aGF0IGlzIGNhbGxlZCBvbmx5IG9uY2UuXG4gKlxuICogQHRlbXBsYXRlIHtrZXlvZiBFdmVudE1hcH0gRXZlbnROYW1lXG4gKlxuICogQHBhcmFtIHtFdmVudE5hbWV9IGV2ZW50cyB0byBzdWJzY3JpYmUgdG9cbiAqIEBwYXJhbSB7bnVtYmVyfSBbcHJpb3JpdHk9MTAwMF0gbGlzdGVuIHByaW9yaXR5XG4gKiBAcGFyYW0ge0V2ZW50QnVzRXZlbnRDYWxsYmFjazxFdmVudE1hcFtFdmVudE5hbWVdPn0gY2FsbGJhY2tcbiAqIEBwYXJhbSB7YW55fSBbdGhhdF0gY2FsbGJhY2sgY29udGV4dFxuICovXG5FdmVudEJ1cy5wcm90b3R5cGUub25jZSA9IGZ1bmN0aW9uIChldmVudHMsIHByaW9yaXR5LCBjYWxsYmFjaywgdGhhdCkge1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIGlmIChpc0Z1bmN0aW9uKHByaW9yaXR5KSkge1xuICAgIHRoYXQgPSBjYWxsYmFjaztcbiAgICBjYWxsYmFjayA9IHByaW9yaXR5O1xuICAgIHByaW9yaXR5ID0gREVGQVVMVF9QUklPUklUWTtcbiAgfVxuICBpZiAoIWlzTnVtYmVyKHByaW9yaXR5KSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJpb3JpdHkgbXVzdCBiZSBhIG51bWJlcicpO1xuICB9XG4gIGZ1bmN0aW9uIHdyYXBwZWRDYWxsYmFjaygpIHtcbiAgICB3cmFwcGVkQ2FsbGJhY2suX19pc1RvbWIgPSB0cnVlO1xuICAgIHZhciByZXN1bHQgPSBjYWxsYmFjay5hcHBseSh0aGF0LCBhcmd1bWVudHMpO1xuICAgIHNlbGYub2ZmKGV2ZW50cywgd3JhcHBlZENhbGxiYWNrKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLy8gbWFrZSBzdXJlIHdlIHJlbWVtYmVyIGFuZCBhcmUgYWJsZSB0byByZW1vdmVcbiAgLy8gYm91bmQgY2FsbGJhY2tzIHZpYSB7QGxpbmsgI29mZn0gdXNpbmcgdGhlIG9yaWdpbmFsXG4gIC8vIGNhbGxiYWNrXG4gIHdyYXBwZWRDYWxsYmFja1tGTl9SRUZdID0gY2FsbGJhY2s7XG4gIHRoaXMub24oZXZlbnRzLCBwcmlvcml0eSwgd3JhcHBlZENhbGxiYWNrKTtcbn07XG5cbi8qKlxuICogUmVtb3ZlcyBldmVudCBsaXN0ZW5lcnMgYnkgZXZlbnQgYW5kIGNhbGxiYWNrLlxuICpcbiAqIElmIG5vIGNhbGxiYWNrIGlzIGdpdmVuLCBhbGwgbGlzdGVuZXJzIGZvciBhIGdpdmVuIGV2ZW50IG5hbWUgYXJlIGJlaW5nIHJlbW92ZWQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW119IGV2ZW50c1xuICogQHBhcmFtIHtFdmVudEJ1c0V2ZW50Q2FsbGJhY2s8dW5rbm93bj59IFtjYWxsYmFja11cbiAqL1xuRXZlbnRCdXMucHJvdG90eXBlLm9mZiA9IGZ1bmN0aW9uIChldmVudHMsIGNhbGxiYWNrKSB7XG4gIGV2ZW50cyA9IGlzQXJyYXkoZXZlbnRzKSA/IGV2ZW50cyA6IFtldmVudHNdO1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIGV2ZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChldmVudCkge1xuICAgIHNlbGYuX3JlbW92ZUxpc3RlbmVyKGV2ZW50LCBjYWxsYmFjayk7XG4gIH0pO1xufTtcblxuLyoqXG4gKiBDcmVhdGUgYW4gZXZlbnQgcmVjb2duaXplZCBiZSB0aGUgZXZlbnQgYnVzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIEV2ZW50IGRhdGEuXG4gKlxuICogQHJldHVybiB7RXZlbnR9IEFuIGV2ZW50IHRoYXQgd2lsbCBiZSByZWNvZ25pemVkIGJ5IHRoZSBldmVudCBidXMuXG4gKi9cbkV2ZW50QnVzLnByb3RvdHlwZS5jcmVhdGVFdmVudCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gIHZhciBldmVudCA9IG5ldyBJbnRlcm5hbEV2ZW50KCk7XG4gIGV2ZW50LmluaXQoZGF0YSk7XG4gIHJldHVybiBldmVudDtcbn07XG5cbi8qKlxuICogRmlyZXMgYW4gZXZlbnQuXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiAvLyBmaXJlIGV2ZW50IGJ5IG5hbWVcbiAqIGV2ZW50cy5maXJlKCdmb28nKTtcbiAqXG4gKiAvLyBmaXJlIGV2ZW50IG9iamVjdCB3aXRoIG5lc3RlZCB0eXBlXG4gKiB2YXIgZXZlbnQgPSB7IHR5cGU6ICdmb28nIH07XG4gKiBldmVudHMuZmlyZShldmVudCk7XG4gKlxuICogLy8gZmlyZSBldmVudCB3aXRoIGV4cGxpY2l0IHR5cGVcbiAqIHZhciBldmVudCA9IHsgeDogMTAsIHk6IDIwIH07XG4gKiBldmVudHMuZmlyZSgnZWxlbWVudC5tb3ZlZCcsIGV2ZW50KTtcbiAqXG4gKiAvLyBwYXNzIGFkZGl0aW9uYWwgYXJndW1lbnRzIHRvIHRoZSBldmVudFxuICogZXZlbnRzLm9uKCdmb28nLCBmdW5jdGlvbihldmVudCwgYmFyKSB7XG4gKiAgIGFsZXJ0KGJhcik7XG4gKiB9KTtcbiAqXG4gKiBldmVudHMuZmlyZSh7IHR5cGU6ICdmb28nIH0sICdJIGFtIGJhciEnKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBbdHlwZV0gZXZlbnQgdHlwZVxuICogQHBhcmFtIHtPYmplY3R9IFtkYXRhXSBldmVudCBvciBldmVudCBkYXRhXG4gKiBAcGFyYW0gey4uLmFueX0gW2FyZ3NdIGFkZGl0aW9uYWwgYXJndW1lbnRzIHRoZSBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCB3aXRoLlxuICpcbiAqIEByZXR1cm4ge2FueX0gVGhlIHJldHVybiB2YWx1ZS4gV2lsbCBiZSBzZXQgdG8gYGZhbHNlYCBpZiB0aGUgZGVmYXVsdCB3YXMgcHJldmVudGVkLlxuICovXG5FdmVudEJ1cy5wcm90b3R5cGUuZmlyZSA9IGZ1bmN0aW9uICh0eXBlLCBkYXRhKSB7XG4gIHZhciBldmVudCwgZmlyc3RMaXN0ZW5lciwgcmV0dXJuVmFsdWUsIGFyZ3M7XG4gIGFyZ3MgPSBzbGljZS5jYWxsKGFyZ3VtZW50cyk7XG4gIGlmICh0eXBlb2YgdHlwZSA9PT0gJ29iamVjdCcpIHtcbiAgICBkYXRhID0gdHlwZTtcbiAgICB0eXBlID0gZGF0YS50eXBlO1xuICB9XG4gIGlmICghdHlwZSkge1xuICAgIHRocm93IG5ldyBFcnJvcignbm8gZXZlbnQgdHlwZSBzcGVjaWZpZWQnKTtcbiAgfVxuICBmaXJzdExpc3RlbmVyID0gdGhpcy5fbGlzdGVuZXJzW3R5cGVdO1xuICBpZiAoIWZpcnN0TGlzdGVuZXIpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyB3ZSBtYWtlIHN1cmUgd2UgZmlyZSBpbnN0YW5jZXMgb2Ygb3VyIGhvbWUgbWFkZVxuICAvLyBldmVudHMgaGVyZS4gV2Ugd3JhcCB0aGVtIG9ubHkgb25jZSwgdGhvdWdoXG4gIGlmIChkYXRhIGluc3RhbmNlb2YgSW50ZXJuYWxFdmVudCkge1xuICAgIC8vIHdlIGFyZSBmaW5lLCB3ZSBhbHJlYWQgaGF2ZSBhbiBldmVudFxuICAgIGV2ZW50ID0gZGF0YTtcbiAgfSBlbHNlIHtcbiAgICBldmVudCA9IHRoaXMuY3JlYXRlRXZlbnQoZGF0YSk7XG4gIH1cblxuICAvLyBlbnN1cmUgd2UgcGFzcyB0aGUgZXZlbnQgYXMgdGhlIGZpcnN0IHBhcmFtZXRlclxuICBhcmdzWzBdID0gZXZlbnQ7XG5cbiAgLy8gb3JpZ2luYWwgZXZlbnQgdHlwZSAoaW4gY2FzZSB3ZSBkZWxlZ2F0ZSlcbiAgdmFyIG9yaWdpbmFsVHlwZSA9IGV2ZW50LnR5cGU7XG5cbiAgLy8gdXBkYXRlIGV2ZW50IHR5cGUgYmVmb3JlIGRlbGVnYXRpb25cbiAgaWYgKHR5cGUgIT09IG9yaWdpbmFsVHlwZSkge1xuICAgIGV2ZW50LnR5cGUgPSB0eXBlO1xuICB9XG4gIHRyeSB7XG4gICAgcmV0dXJuVmFsdWUgPSB0aGlzLl9pbnZva2VMaXN0ZW5lcnMoZXZlbnQsIGFyZ3MsIGZpcnN0TGlzdGVuZXIpO1xuICB9IGZpbmFsbHkge1xuICAgIC8vIHJlc2V0IGV2ZW50IHR5cGUgYWZ0ZXIgZGVsZWdhdGlvblxuICAgIGlmICh0eXBlICE9PSBvcmlnaW5hbFR5cGUpIHtcbiAgICAgIGV2ZW50LnR5cGUgPSBvcmlnaW5hbFR5cGU7XG4gICAgfVxuICB9XG5cbiAgLy8gc2V0IHRoZSByZXR1cm4gdmFsdWUgdG8gZmFsc2UgaWYgdGhlIGV2ZW50IGRlZmF1bHRcbiAgLy8gZ290IHByZXZlbnRlZCBhbmQgbm8gb3RoZXIgcmV0dXJuIHZhbHVlIGV4aXN0c1xuICBpZiAocmV0dXJuVmFsdWUgPT09IHVuZGVmaW5lZCAmJiBldmVudC5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgcmV0dXJuVmFsdWUgPSBmYWxzZTtcbiAgfVxuICByZXR1cm4gcmV0dXJuVmFsdWU7XG59O1xuXG4vKipcbiAqIEhhbmRsZSBhbiBlcnJvciBieSBmaXJpbmcgYW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHtFcnJvcn0gZXJyb3IgVGhlIGVycm9yIHRvIGJlIGhhbmRsZWQuXG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgZXJyb3Igd2FzIGhhbmRsZWQuXG4gKi9cbkV2ZW50QnVzLnByb3RvdHlwZS5oYW5kbGVFcnJvciA9IGZ1bmN0aW9uIChlcnJvcikge1xuICByZXR1cm4gdGhpcy5maXJlKCdlcnJvcicsIHtcbiAgICBlcnJvcjogZXJyb3JcbiAgfSkgPT09IGZhbHNlO1xufTtcbkV2ZW50QnVzLnByb3RvdHlwZS5fZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5fbGlzdGVuZXJzID0ge307XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XG4gKiBAcGFyYW0ge2FueVtdfSBhcmdzXG4gKiBAcGFyYW0ge0V2ZW50QnVzTGlzdGVuZXJ9IGxpc3RlbmVyXG4gKlxuICogQHJldHVybiB7YW55fVxuICovXG5FdmVudEJ1cy5wcm90b3R5cGUuX2ludm9rZUxpc3RlbmVycyA9IGZ1bmN0aW9uIChldmVudCwgYXJncywgbGlzdGVuZXIpIHtcbiAgdmFyIHJldHVyblZhbHVlO1xuICB3aGlsZSAobGlzdGVuZXIpIHtcbiAgICAvLyBoYW5kbGUgc3RvcHBlZCBwcm9wYWdhdGlvblxuICAgIGlmIChldmVudC5jYW5jZWxCdWJibGUpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm5WYWx1ZSA9IHRoaXMuX2ludm9rZUxpc3RlbmVyKGV2ZW50LCBhcmdzLCBsaXN0ZW5lcik7XG4gICAgbGlzdGVuZXIgPSBsaXN0ZW5lci5uZXh0O1xuICB9XG4gIHJldHVybiByZXR1cm5WYWx1ZTtcbn07XG5cbi8qKlxuICogQHBhcmFtIHtFdmVudH0gZXZlbnRcbiAqIEBwYXJhbSB7YW55W119IGFyZ3NcbiAqIEBwYXJhbSB7RXZlbnRCdXNMaXN0ZW5lcn0gbGlzdGVuZXJcbiAqXG4gKiBAcmV0dXJuIHthbnl9XG4gKi9cbkV2ZW50QnVzLnByb3RvdHlwZS5faW52b2tlTGlzdGVuZXIgPSBmdW5jdGlvbiAoZXZlbnQsIGFyZ3MsIGxpc3RlbmVyKSB7XG4gIHZhciByZXR1cm5WYWx1ZTtcbiAgaWYgKGxpc3RlbmVyLmNhbGxiYWNrLl9faXNUb21iKSB7XG4gICAgcmV0dXJuIHJldHVyblZhbHVlO1xuICB9XG4gIHRyeSB7XG4gICAgLy8gcmV0dXJuaW5nIGZhbHNlIHByZXZlbnRzIHRoZSBkZWZhdWx0IGFjdGlvblxuICAgIHJldHVyblZhbHVlID0gaW52b2tlRnVuY3Rpb24obGlzdGVuZXIuY2FsbGJhY2ssIGFyZ3MpO1xuXG4gICAgLy8gc3RvcCBwcm9wYWdhdGlvbiBvbiByZXR1cm4gdmFsdWVcbiAgICBpZiAocmV0dXJuVmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgZXZlbnQucmV0dXJuVmFsdWUgPSByZXR1cm5WYWx1ZTtcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH1cblxuICAgIC8vIHByZXZlbnQgZGVmYXVsdCBvbiByZXR1cm4gZmFsc2VcbiAgICBpZiAocmV0dXJuVmFsdWUgPT09IGZhbHNlKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBpZiAoIXRoaXMuaGFuZGxlRXJyb3IoZXJyb3IpKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCd1bmhhbmRsZWQgZXJyb3IgaW4gZXZlbnQgbGlzdGVuZXInLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJldHVyblZhbHVlO1xufTtcblxuLyoqXG4gKiBBZGQgbmV3IGxpc3RlbmVyIHdpdGggYSBjZXJ0YWluIHByaW9yaXR5IHRvIHRoZSBsaXN0XG4gKiBvZiBsaXN0ZW5lcnMgKGZvciB0aGUgZ2l2ZW4gZXZlbnQpLlxuICpcbiAqIFRoZSBzZW1hbnRpY3Mgb2YgbGlzdGVuZXIgcmVnaXN0cmF0aW9uIC8gbGlzdGVuZXIgZXhlY3V0aW9uIGFyZVxuICogZmlyc3QgcmVnaXN0ZXIsIGZpcnN0IHNlcnZlOiBOZXcgbGlzdGVuZXJzIHdpbGwgYWx3YXlzIGJlIGluc2VydGVkXG4gKiBhZnRlciBleGlzdGluZyBsaXN0ZW5lcnMgd2l0aCB0aGUgc2FtZSBwcmlvcml0eS5cbiAqXG4gKiBFeGFtcGxlOiBJbnNlcnRpbmcgdHdvIGxpc3RlbmVycyB3aXRoIHByaW9yaXR5IDEwMDAgYW5kIDEzMDBcbiAqXG4gKiAgICAqIGJlZm9yZTogWyAxNTAwLCAxNTAwLCAxMDAwLCAxMDAwIF1cbiAqICAgICogYWZ0ZXI6IFsgMTUwMCwgMTUwMCwgKG5ldz0xMzAwKSwgMTAwMCwgMTAwMCwgKG5ldz0xMDAwKSBdXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50XG4gKiBAcGFyYW0ge0V2ZW50QnVzTGlzdGVuZXJ9IG5ld0xpc3RlbmVyXG4gKi9cbkV2ZW50QnVzLnByb3RvdHlwZS5fYWRkTGlzdGVuZXIgPSBmdW5jdGlvbiAoZXZlbnQsIG5ld0xpc3RlbmVyKSB7XG4gIHZhciBsaXN0ZW5lciA9IHRoaXMuX2dldExpc3RlbmVycyhldmVudCksXG4gICAgcHJldmlvdXNMaXN0ZW5lcjtcblxuICAvLyBubyBwcmlvciBsaXN0ZW5lcnNcbiAgaWYgKCFsaXN0ZW5lcikge1xuICAgIHRoaXMuX3NldExpc3RlbmVycyhldmVudCwgbmV3TGlzdGVuZXIpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIGVuc3VyZSB3ZSBvcmRlciBsaXN0ZW5lcnMgYnkgcHJpb3JpdHkgZnJvbVxuICAvLyAwIChoaWdoKSB0byBuID4gMCAobG93KVxuICB3aGlsZSAobGlzdGVuZXIpIHtcbiAgICBpZiAobGlzdGVuZXIucHJpb3JpdHkgPCBuZXdMaXN0ZW5lci5wcmlvcml0eSkge1xuICAgICAgbmV3TGlzdGVuZXIubmV4dCA9IGxpc3RlbmVyO1xuICAgICAgaWYgKHByZXZpb3VzTGlzdGVuZXIpIHtcbiAgICAgICAgcHJldmlvdXNMaXN0ZW5lci5uZXh0ID0gbmV3TGlzdGVuZXI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9zZXRMaXN0ZW5lcnMoZXZlbnQsIG5ld0xpc3RlbmVyKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcHJldmlvdXNMaXN0ZW5lciA9IGxpc3RlbmVyO1xuICAgIGxpc3RlbmVyID0gbGlzdGVuZXIubmV4dDtcbiAgfVxuXG4gIC8vIGFkZCBuZXcgbGlzdGVuZXIgdG8gYmFja1xuICBwcmV2aW91c0xpc3RlbmVyLm5leHQgPSBuZXdMaXN0ZW5lcjtcbn07XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqXG4gKiBAcmV0dXJuIHtFdmVudEJ1c0xpc3RlbmVyfVxuICovXG5FdmVudEJ1cy5wcm90b3R5cGUuX2dldExpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gIHJldHVybiB0aGlzLl9saXN0ZW5lcnNbbmFtZV07XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gKiBAcGFyYW0ge0V2ZW50QnVzTGlzdGVuZXJ9IGxpc3RlbmVyXG4gKi9cbkV2ZW50QnVzLnByb3RvdHlwZS5fc2V0TGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUsIGxpc3RlbmVyKSB7XG4gIHRoaXMuX2xpc3RlbmVyc1tuYW1lXSA9IGxpc3RlbmVyO1xufTtcbkV2ZW50QnVzLnByb3RvdHlwZS5fcmVtb3ZlTGlzdGVuZXIgPSBmdW5jdGlvbiAoZXZlbnQsIGNhbGxiYWNrKSB7XG4gIHZhciBsaXN0ZW5lciA9IHRoaXMuX2dldExpc3RlbmVycyhldmVudCksXG4gICAgbmV4dExpc3RlbmVyLFxuICAgIHByZXZpb3VzTGlzdGVuZXIsXG4gICAgbGlzdGVuZXJDYWxsYmFjaztcbiAgaWYgKCFjYWxsYmFjaykge1xuICAgIC8vIGNsZWFyIGxpc3RlbmVyc1xuICAgIHRoaXMuX3NldExpc3RlbmVycyhldmVudCwgbnVsbCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIHdoaWxlIChsaXN0ZW5lcikge1xuICAgIG5leHRMaXN0ZW5lciA9IGxpc3RlbmVyLm5leHQ7XG4gICAgbGlzdGVuZXJDYWxsYmFjayA9IGxpc3RlbmVyLmNhbGxiYWNrO1xuICAgIGlmIChsaXN0ZW5lckNhbGxiYWNrID09PSBjYWxsYmFjayB8fCBsaXN0ZW5lckNhbGxiYWNrW0ZOX1JFRl0gPT09IGNhbGxiYWNrKSB7XG4gICAgICBpZiAocHJldmlvdXNMaXN0ZW5lcikge1xuICAgICAgICBwcmV2aW91c0xpc3RlbmVyLm5leHQgPSBuZXh0TGlzdGVuZXI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBuZXcgZmlyc3QgbGlzdGVuZXJcbiAgICAgICAgdGhpcy5fc2V0TGlzdGVuZXJzKGV2ZW50LCBuZXh0TGlzdGVuZXIpO1xuICAgICAgfVxuICAgIH1cbiAgICBwcmV2aW91c0xpc3RlbmVyID0gbGlzdGVuZXI7XG4gICAgbGlzdGVuZXIgPSBuZXh0TGlzdGVuZXI7XG4gIH1cbn07XG5cbi8qKlxuICogQSBldmVudCB0aGF0IGlzIGVtaXR0ZWQgdmlhIHRoZSBldmVudCBidXMuXG4gKi9cbmZ1bmN0aW9uIEludGVybmFsRXZlbnQoKSB7fVxuSW50ZXJuYWxFdmVudC5wcm90b3R5cGUuc3RvcFByb3BhZ2F0aW9uID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLmNhbmNlbEJ1YmJsZSA9IHRydWU7XG59O1xuSW50ZXJuYWxFdmVudC5wcm90b3R5cGUucHJldmVudERlZmF1bHQgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuZGVmYXVsdFByZXZlbnRlZCA9IHRydWU7XG59O1xuSW50ZXJuYWxFdmVudC5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gIGFzc2lnbih0aGlzLCBkYXRhIHx8IHt9KTtcbn07XG5cbi8qKlxuICogSW52b2tlIGZ1bmN0aW9uLiBCZSBmYXN0Li4uXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAqIEBwYXJhbSB7YW55W119IGFyZ3NcbiAqXG4gKiBAcmV0dXJuIHthbnl9XG4gKi9cbmZ1bmN0aW9uIGludm9rZUZ1bmN0aW9uKGZuLCBhcmdzKSB7XG4gIHJldHVybiBmbi5hcHBseShudWxsLCBhcmdzKTtcbn1cblxuY29uc3QgRU1BSUxfUEFUVEVSTiA9IC9eW2EtekEtWjAtOS4hIyQlJicqKy89P15fYHt8fX4tXStAW2EtekEtWjAtOV0oPzpbYS16QS1aMC05LV17MCw2MX1bYS16QS1aMC05XSk/KD86XFwuW2EtekEtWjAtOV0oPzpbYS16QS1aMC05LV17MCw2MX1bYS16QS1aMC05XSk/KSokLztcbmNvbnN0IFBIT05FX1BBVFRFUk4gPSAvKFxcK3wwMCkoMjk3fDkzfDI0NHwxMjY0fDM1OHwzNTV8Mzc2fDk3MXw1NHwzNzR8MTY4NHwxMjY4fDYxfDQzfDk5NHwyNTd8MzJ8MjI5fDIyNnw4ODB8MzU5fDk3M3wxMjQyfDM4N3w1OTB8Mzc1fDUwMXwxNDQxfDU5MXw1NXwxMjQ2fDY3M3w5NzV8MjY3fDIzNnwxfDYxfDQxfDU2fDg2fDIyNXwyMzd8MjQzfDI0Mnw2ODJ8NTd8MjY5fDIzOHw1MDZ8NTN8NTk5OXw2MXwxMzQ1fDM1N3w0MjB8NDl8MjUzfDE3Njd8NDV8MTgwOXwxODI5fDE4NDl8MjEzfDU5M3wyMHwyOTF8MjEyfDM0fDM3MnwyNTF8MzU4fDY3OXw1MDB8MzN8Mjk4fDY5MXwyNDF8NDR8OTk1fDQ0fDIzM3wzNTB8MjI0fDU5MHwyMjB8MjQ1fDI0MHwzMHwxNDczfDI5OXw1MDJ8NTk0fDE2NzF8NTkyfDg1Mnw1MDR8Mzg1fDUwOXwzNnw2Mnw0NHw5MXwyNDZ8MzUzfDk4fDk2NHwzNTR8OTcyfDM5fDE4NzZ8NDR8OTYyfDgxfDc2fDc3fDI1NHw5OTZ8ODU1fDY4NnwxODY5fDgyfDM4M3w5NjV8ODU2fDk2MXwyMzF8MjE4fDE3NTh8NDIzfDk0fDI2NnwzNzB8MzUyfDM3MXw4NTN8NTkwfDIxMnwzNzd8MzczfDI2MXw5NjB8NTJ8NjkyfDM4OXwyMjN8MzU2fDk1fDM4Mnw5NzZ8MTY3MHwyNTh8MjIyfDE2NjR8NTk2fDIzMHwyNjV8NjB8MjYyfDI2NHw2ODd8MjI3fDY3MnwyMzR8NTA1fDY4M3wzMXw0N3w5Nzd8Njc0fDY0fDk2OHw5Mnw1MDd8NjR8NTF8NjN8NjgwfDY3NXw0OHwxNzg3fDE5Mzl8ODUwfDM1MXw1OTV8OTcwfDY4OXw5NzR8MjYyfDQwfDd8MjUwfDk2NnwyNDl8MjIxfDY1fDUwMHw0Nzc5fDY3N3wyMzJ8NTAzfDM3OHwyNTJ8NTA4fDM4MXwyMTF8MjM5fDU5N3w0MjF8Mzg2fDQ2fDI2OHwxNzIxfDI0OHw5NjN8MTY0OXwyMzV8MjI4fDY2fDk5Mnw2OTB8OTkzfDY3MHw2NzZ8MTg2OHwyMTZ8OTB8Njg4fDg4NnwyNTV8MjU2fDM4MHw1OTh8MXw5OTh8MzkwNjY5OHwzNzl8MTc4NHw1OHwxMjg0fDEzNDB8ODR8Njc4fDY4MXw2ODV8OTY3fDI3fDI2MHwyNjMpKDlbOTc2XVxcZHw4Wzk4NzUzMF1cXGR8Nls5ODddXFxkfDVbOTBdXFxkfDQyXFxkfDNbODc1XVxcZHwyWzk4NjU0MzIxXVxcZHw5Wzg1NDMyMTBdfDhbNjQyMV18Nls2NTQzMjEwXXw1Wzg3NjU0MzIxXXw0Wzk4NzY1NDMxMF18M1s5NjQzMjEwXXwyWzcwXXw3fDEpXFxkezQsMjB9JC87XG5jb25zdCBWQUxJREFURV9GRUVMX1BST1BFUlRJRVMgPSBbJ21pbicsICdtYXgnLCAnbWluTGVuZ3RoJywgJ21heExlbmd0aCddO1xuY2xhc3MgVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3IoZXhwcmVzc2lvbkxhbmd1YWdlLCBjb25kaXRpb25DaGVja2VyLCBmb3JtLCBmb3JtRmllbGRSZWdpc3RyeSkge1xuICAgIHRoaXMuX2V4cHJlc3Npb25MYW5ndWFnZSA9IGV4cHJlc3Npb25MYW5ndWFnZTtcbiAgICB0aGlzLl9jb25kaXRpb25DaGVja2VyID0gY29uZGl0aW9uQ2hlY2tlcjtcbiAgICB0aGlzLl9mb3JtID0gZm9ybTtcbiAgICB0aGlzLl9mb3JtRmllbGRSZWdpc3RyeSA9IGZvcm1GaWVsZFJlZ2lzdHJ5O1xuICB9XG5cbiAgLyoqXG4gICAqIFZhbGlkYXRlIGFnYWluc3QgYSBmaWVsZCBkZWZpbml0aW9uLCBkb2VzIG5vdCBzdXBwb3J0IHByb3BlciBleHByZXNzaW9uIGV2YWx1YXRpb24uXG4gICAqXG4gICAqIEBkZXByZWNhdGVkIHVzZSB2YWxpZGF0ZUZpZWxkSW5zdGFuY2UgaW5zdGVhZFxuICAgKi9cbiAgdmFsaWRhdGVGaWVsZChmaWVsZCwgdmFsdWUpIHtcbiAgICBjb25zdCB7XG4gICAgICB0eXBlLFxuICAgICAgdmFsaWRhdGVcbiAgICB9ID0gZmllbGQ7XG4gICAgbGV0IGVycm9ycyA9IFtdO1xuICAgIGlmICh0eXBlID09PSAnbnVtYmVyJykge1xuICAgICAgZXJyb3JzID0gWy4uLmVycm9ycywgLi4ucnVuTnVtYmVyVmFsaWRhdGlvbihmaWVsZCwgdmFsdWUpXTtcbiAgICB9XG4gICAgaWYgKCF2YWxpZGF0ZSkge1xuICAgICAgcmV0dXJuIGVycm9ycztcbiAgICB9XG4gICAgY29uc3QgZXZhbHVhdGVkVmFsaWRhdGlvbiA9IG9sZEV2YWx1YXRlRkVFTFZhbHVlcyh2YWxpZGF0ZSwgdGhpcy5fZXhwcmVzc2lvbkxhbmd1YWdlLCB0aGlzLl9jb25kaXRpb25DaGVja2VyLCB0aGlzLl9mb3JtKTtcbiAgICBlcnJvcnMgPSBbLi4uZXJyb3JzLCAuLi5ydW5QcmVzZXRWYWxpZGF0aW9uKGZpZWxkLCBldmFsdWF0ZWRWYWxpZGF0aW9uLCB2YWx1ZSldO1xuICAgIHJldHVybiBlcnJvcnM7XG4gIH1cblxuICAvKipcbiAgICogVmFsaWRhdGUgYSBmaWVsZCBpbnN0YW5jZS5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IGZpZWxkSW5zdGFuY2VcbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gICAqXG4gICAqIEByZXR1cm5zIHtBcnJheTxzdHJpbmc+fVxuICAgKi9cbiAgdmFsaWRhdGVGaWVsZEluc3RhbmNlKGZpZWxkSW5zdGFuY2UsIHZhbHVlKSB7XG4gICAgY29uc3Qge1xuICAgICAgaWQsXG4gICAgICBleHByZXNzaW9uQ29udGV4dEluZm9cbiAgICB9ID0gZmllbGRJbnN0YW5jZTtcbiAgICBjb25zdCBmaWVsZCA9IHRoaXMuX2Zvcm1GaWVsZFJlZ2lzdHJ5LmdldChpZCk7XG4gICAgaWYgKCFmaWVsZCkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBjb25zdCB7XG4gICAgICB0eXBlLFxuICAgICAgdmFsaWRhdGVcbiAgICB9ID0gZmllbGQ7XG4gICAgbGV0IGVycm9ycyA9IFtdO1xuICAgIGlmICh0eXBlID09PSAnbnVtYmVyJykge1xuICAgICAgZXJyb3JzID0gWy4uLmVycm9ycywgLi4ucnVuTnVtYmVyVmFsaWRhdGlvbihmaWVsZCwgdmFsdWUpXTtcbiAgICB9XG4gICAgaWYgKCF2YWxpZGF0ZSkge1xuICAgICAgcmV0dXJuIGVycm9ycztcbiAgICB9XG4gICAgY29uc3QgZXZhbHVhdGVkVmFsaWRhdGlvbiA9IGV2YWx1YXRlRkVFTFZhbHVlcyh2YWxpZGF0ZSwgdGhpcy5fZXhwcmVzc2lvbkxhbmd1YWdlLCBleHByZXNzaW9uQ29udGV4dEluZm8pO1xuICAgIGVycm9ycyA9IFsuLi5lcnJvcnMsIC4uLnJ1blByZXNldFZhbGlkYXRpb24oZmllbGQsIGV2YWx1YXRlZFZhbGlkYXRpb24sIHZhbHVlKV07XG4gICAgcmV0dXJuIGVycm9ycztcbiAgfVxufVxuVmFsaWRhdG9yLiRpbmplY3QgPSBbJ2V4cHJlc3Npb25MYW5ndWFnZScsICdjb25kaXRpb25DaGVja2VyJywgJ2Zvcm0nLCAnZm9ybUZpZWxkUmVnaXN0cnknXTtcblxuLy8gaGVscGVycyAvLy8vLy8vLy8vXG5cbmZ1bmN0aW9uIHJ1bk51bWJlclZhbGlkYXRpb24oZmllbGQsIHZhbHVlKSB7XG4gIGNvbnN0IHtcbiAgICBkZWNpbWFsRGlnaXRzLFxuICAgIGluY3JlbWVudFxuICB9ID0gZmllbGQ7XG4gIGNvbnN0IGVycm9ycyA9IFtdO1xuICBpZiAodmFsdWUgPT09ICdOYU4nKSB7XG4gICAgZXJyb3JzLnB1c2goJ1ZhbHVlIGlzIG5vdCBhIG51bWJlci4nKTtcbiAgfSBlbHNlIGlmICh2YWx1ZSkge1xuICAgIGlmIChkZWNpbWFsRGlnaXRzID49IDAgJiYgY291bnREZWNpbWFscyh2YWx1ZSkgPiBkZWNpbWFsRGlnaXRzKSB7XG4gICAgICBlcnJvcnMucHVzaCgnVmFsdWUgaXMgZXhwZWN0ZWQgdG8gJyArIChkZWNpbWFsRGlnaXRzID09PSAwID8gJ2JlIGFuIGludGVnZXInIDogYGhhdmUgYXQgbW9zdCAke2RlY2ltYWxEaWdpdHN9IGRlY2ltYWwgZGlnaXQke2RlY2ltYWxEaWdpdHMgPiAxID8gJ3MnIDogJyd9YCkgKyAnLicpO1xuICAgIH1cbiAgICBpZiAoaW5jcmVtZW50KSB7XG4gICAgICBjb25zdCBiaWdWYWx1ZSA9IEJpZyh2YWx1ZSk7XG4gICAgICBjb25zdCBiaWdJbmNyZW1lbnQgPSBCaWcoaW5jcmVtZW50KTtcbiAgICAgIGNvbnN0IG9mZnNldCA9IGJpZ1ZhbHVlLm1vZChiaWdJbmNyZW1lbnQpO1xuICAgICAgaWYgKG9mZnNldC5jbXAoMCkgIT09IDApIHtcbiAgICAgICAgY29uc3QgcHJldmlvdXNWYWx1ZSA9IGJpZ1ZhbHVlLm1pbnVzKG9mZnNldCk7XG4gICAgICAgIGNvbnN0IG5leHRWYWx1ZSA9IHByZXZpb3VzVmFsdWUucGx1cyhiaWdJbmNyZW1lbnQpO1xuICAgICAgICBlcnJvcnMucHVzaChgUGxlYXNlIHNlbGVjdCBhIHZhbGlkIHZhbHVlLCB0aGUgdHdvIG5lYXJlc3QgdmFsaWQgdmFsdWVzIGFyZSAke3ByZXZpb3VzVmFsdWV9IGFuZCAke25leHRWYWx1ZX0uYCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBlcnJvcnM7XG59XG5mdW5jdGlvbiBydW5QcmVzZXRWYWxpZGF0aW9uKGZpZWxkLCB2YWxpZGF0aW9uLCB2YWx1ZSkge1xuICBjb25zdCBlcnJvcnMgPSBbXTtcbiAgaWYgKHZhbGlkYXRpb24ucGF0dGVybiAmJiB2YWx1ZSAmJiAhbmV3IFJlZ0V4cCh2YWxpZGF0aW9uLnBhdHRlcm4pLnRlc3QodmFsdWUpKSB7XG4gICAgZXJyb3JzLnB1c2godmFsaWRhdGlvbi5wYXR0ZXJuRXJyb3JNZXNzYWdlIHx8IGBGaWVsZCBtdXN0IG1hdGNoIHBhdHRlcm4gJHt2YWxpZGF0aW9uLnBhdHRlcm59LmApO1xuICB9XG4gIGlmICh2YWxpZGF0aW9uLnJlcXVpcmVkKSB7XG4gICAgY29uc3QgaXNVbmNoZWNrZWRDaGVja2JveCA9IGZpZWxkLnR5cGUgPT09ICdjaGVja2JveCcgJiYgdmFsdWUgPT09IGZhbHNlO1xuICAgIGNvbnN0IGlzVW5zZXRWYWx1ZSA9IGlzTmlsKHZhbHVlKSB8fCB2YWx1ZSA9PT0gJyc7XG4gICAgY29uc3QgaXNFbXB0eU11bHRpc2VsZWN0ID0gQXJyYXkuaXNBcnJheSh2YWx1ZSkgJiYgdmFsdWUubGVuZ3RoID09PSAwO1xuICAgIGlmIChpc1VuY2hlY2tlZENoZWNrYm94IHx8IGlzVW5zZXRWYWx1ZSB8fCBpc0VtcHR5TXVsdGlzZWxlY3QpIHtcbiAgICAgIGVycm9ycy5wdXNoKCdGaWVsZCBpcyByZXF1aXJlZC4nKTtcbiAgICB9XG4gIH1cbiAgaWYgKCdtaW4nIGluIHZhbGlkYXRpb24gJiYgKHZhbHVlIHx8IHZhbHVlID09PSAwKSAmJiB2YWx1ZSA8IHZhbGlkYXRpb24ubWluKSB7XG4gICAgZXJyb3JzLnB1c2goYEZpZWxkIG11c3QgaGF2ZSBtaW5pbXVtIHZhbHVlIG9mICR7dmFsaWRhdGlvbi5taW59LmApO1xuICB9XG4gIGlmICgnbWF4JyBpbiB2YWxpZGF0aW9uICYmICh2YWx1ZSB8fCB2YWx1ZSA9PT0gMCkgJiYgdmFsdWUgPiB2YWxpZGF0aW9uLm1heCkge1xuICAgIGVycm9ycy5wdXNoKGBGaWVsZCBtdXN0IGhhdmUgbWF4aW11bSB2YWx1ZSBvZiAke3ZhbGlkYXRpb24ubWF4fS5gKTtcbiAgfVxuICBpZiAoJ21pbkxlbmd0aCcgaW4gdmFsaWRhdGlvbiAmJiB2YWx1ZSAmJiB2YWx1ZS50cmltKCkubGVuZ3RoIDwgdmFsaWRhdGlvbi5taW5MZW5ndGgpIHtcbiAgICBlcnJvcnMucHVzaChgRmllbGQgbXVzdCBoYXZlIG1pbmltdW0gbGVuZ3RoIG9mICR7dmFsaWRhdGlvbi5taW5MZW5ndGh9LmApO1xuICB9XG4gIGlmICgnbWF4TGVuZ3RoJyBpbiB2YWxpZGF0aW9uICYmIHZhbHVlICYmIHZhbHVlLnRyaW0oKS5sZW5ndGggPiB2YWxpZGF0aW9uLm1heExlbmd0aCkge1xuICAgIGVycm9ycy5wdXNoKGBGaWVsZCBtdXN0IGhhdmUgbWF4aW11bSBsZW5ndGggb2YgJHt2YWxpZGF0aW9uLm1heExlbmd0aH0uYCk7XG4gIH1cbiAgaWYgKCd2YWxpZGF0aW9uVHlwZScgaW4gdmFsaWRhdGlvbiAmJiB2YWx1ZSAmJiB2YWxpZGF0aW9uLnZhbGlkYXRpb25UeXBlID09PSAncGhvbmUnICYmICFQSE9ORV9QQVRURVJOLnRlc3QodmFsdWUpKSB7XG4gICAgZXJyb3JzLnB1c2goJ0ZpZWxkIG11c3QgYmUgYSB2YWxpZCAgaW50ZXJuYXRpb25hbCBwaG9uZSBudW1iZXIuIChlLmcuICs0OTMwNjY0MDQwOTAwKScpO1xuICB9XG4gIGlmICgndmFsaWRhdGlvblR5cGUnIGluIHZhbGlkYXRpb24gJiYgdmFsdWUgJiYgdmFsaWRhdGlvbi52YWxpZGF0aW9uVHlwZSA9PT0gJ2VtYWlsJyAmJiAhRU1BSUxfUEFUVEVSTi50ZXN0KHZhbHVlKSkge1xuICAgIGVycm9ycy5wdXNoKCdGaWVsZCBtdXN0IGJlIGEgdmFsaWQgZW1haWwuJyk7XG4gIH1cbiAgcmV0dXJuIGVycm9ycztcbn1cbmZ1bmN0aW9uIGV2YWx1YXRlRkVFTFZhbHVlcyh2YWxpZGF0ZSwgZXhwcmVzc2lvbkxhbmd1YWdlLCBleHByZXNzaW9uQ29udGV4dEluZm8pIHtcbiAgY29uc3QgZXZhbHVhdGVkVmFsaWRhdGUgPSB7XG4gICAgLi4udmFsaWRhdGVcbiAgfTtcbiAgVkFMSURBVEVfRkVFTF9QUk9QRVJUSUVTLmZvckVhY2gocHJvcGVydHkgPT4ge1xuICAgIGNvbnN0IHBhdGggPSBwcm9wZXJ0eS5zcGxpdCgnLicpO1xuICAgIGNvbnN0IHZhbHVlID0gZ2V0KGV2YWx1YXRlZFZhbGlkYXRlLCBwYXRoKTtcbiAgICBjb25zdCBldmFsdWF0ZWRWYWx1ZSA9IHJ1bkV4cHJlc3Npb25FdmFsdWF0aW9uKGV4cHJlc3Npb25MYW5ndWFnZSwgdmFsdWUsIGV4cHJlc3Npb25Db250ZXh0SW5mbyk7XG4gICAgc2V0KGV2YWx1YXRlZFZhbGlkYXRlLCBwYXRoLCBldmFsdWF0ZWRWYWx1ZSA9PT0gbnVsbCA/IHVuZGVmaW5lZCA6IGV2YWx1YXRlZFZhbHVlKTtcbiAgfSk7XG4gIHJldHVybiBldmFsdWF0ZWRWYWxpZGF0ZTtcbn1cbmZ1bmN0aW9uIG9sZEV2YWx1YXRlRkVFTFZhbHVlcyh2YWxpZGF0ZSwgZXhwcmVzc2lvbkxhbmd1YWdlLCBjb25kaXRpb25DaGVja2VyLCBmb3JtKSB7XG4gIGNvbnN0IGV2YWx1YXRlZFZhbGlkYXRlID0ge1xuICAgIC4uLnZhbGlkYXRlXG4gIH07XG4gIFZBTElEQVRFX0ZFRUxfUFJPUEVSVElFUy5mb3JFYWNoKHByb3BlcnR5ID0+IHtcbiAgICBjb25zdCBwYXRoID0gcHJvcGVydHkuc3BsaXQoJy4nKTtcbiAgICBjb25zdCB2YWx1ZSA9IGdldChldmFsdWF0ZWRWYWxpZGF0ZSwgcGF0aCk7XG5cbiAgICAvLyBtaXJyb3JpbmcgRkVFTCBldmFsdWF0aW9uIG9mIG91ciBob29rc1xuICAgIGlmICghZXhwcmVzc2lvbkxhbmd1YWdlIHx8ICFleHByZXNzaW9uTGFuZ3VhZ2UuaXNFeHByZXNzaW9uKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBjb25zdCB7XG4gICAgICBpbml0aWFsRGF0YSxcbiAgICAgIGRhdGFcbiAgICB9ID0gZm9ybS5fZ2V0U3RhdGUoKTtcbiAgICBjb25zdCBuZXdEYXRhID0gY29uZGl0aW9uQ2hlY2tlciA/IGNvbmRpdGlvbkNoZWNrZXIuYXBwbHlDb25kaXRpb25zKGRhdGEsIGRhdGEpIDogZGF0YTtcbiAgICBjb25zdCBmaWx0ZXJlZERhdGEgPSB7XG4gICAgICAuLi5pbml0aWFsRGF0YSxcbiAgICAgIC4uLm5ld0RhdGFcbiAgICB9O1xuICAgIGNvbnN0IGV2YWx1YXRlZFZhbHVlID0gZXhwcmVzc2lvbkxhbmd1YWdlLmV2YWx1YXRlKHZhbHVlLCBmaWx0ZXJlZERhdGEpO1xuXG4gICAgLy8gcmVwbGFjZSB2YWxpZGF0ZSBwcm9wZXJ0eSB3aXRoIGV2YWx1YXRlZCB2YWx1ZVxuICAgIGlmIChldmFsdWF0ZWRWYWx1ZSkge1xuICAgICAgc2V0KGV2YWx1YXRlZFZhbGlkYXRlLCBwYXRoLCBldmFsdWF0ZWRWYWx1ZSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGV2YWx1YXRlZFZhbGlkYXRlO1xufVxuXG5jbGFzcyBJbXBvcnRlciB7XG4gIC8qKlxuICAgKiBAY29uc3RydWN0b3JcbiAgICogQHBhcmFtIHsgaW1wb3J0KCcuL0Zvcm1GaWVsZFJlZ2lzdHJ5JykuRm9ybUZpZWxkUmVnaXN0cnkgfSBmb3JtRmllbGRSZWdpc3RyeVxuICAgKiBAcGFyYW0geyBpbXBvcnQoJy4vUGF0aFJlZ2lzdHJ5JykuUGF0aFJlZ2lzdHJ5IH0gcGF0aFJlZ2lzdHJ5XG4gICAqIEBwYXJhbSB7IGltcG9ydCgnLi9GaWVsZEZhY3RvcnknKS5GaWVsZEZhY3RvcnkgfSBmaWVsZEZhY3RvcnlcbiAgICogQHBhcmFtIHsgaW1wb3J0KCcuL0Zvcm1MYXlvdXRlcicpLkZvcm1MYXlvdXRlciB9IGZvcm1MYXlvdXRlclxuICAgKi9cbiAgY29uc3RydWN0b3IoZm9ybUZpZWxkUmVnaXN0cnksIHBhdGhSZWdpc3RyeSwgZmllbGRGYWN0b3J5LCBmb3JtTGF5b3V0ZXIpIHtcbiAgICB0aGlzLl9mb3JtRmllbGRSZWdpc3RyeSA9IGZvcm1GaWVsZFJlZ2lzdHJ5O1xuICAgIHRoaXMuX3BhdGhSZWdpc3RyeSA9IHBhdGhSZWdpc3RyeTtcbiAgICB0aGlzLl9maWVsZEZhY3RvcnkgPSBmaWVsZEZhY3Rvcnk7XG4gICAgdGhpcy5fZm9ybUxheW91dGVyID0gZm9ybUxheW91dGVyO1xuICB9XG5cbiAgLyoqXG4gICAqIEltcG9ydCBzY2hlbWEgY3JlYXRpbmcgcm93cywgZmllbGRzLCBhdHRhY2hpbmcgYWRkaXRpb25hbFxuICAgKiBpbmZvcm1hdGlvbiB0byBlYWNoIGZpZWxkIGFuZCBhZGRpbmcgZmllbGRzIHRvIHRoZVxuICAgKiBmaWVsZCByZWdpc3RyeS5cbiAgICpcbiAgICogQWRkaXRpb25hbCBpbmZvcm1hdGlvbiBhdHRhY2hlZDpcbiAgICpcbiAgICogICAqIGBpZGAgKHVubGVzcyBwcmVzZW50KVxuICAgKiAgICogYF9wYXJlbnRgXG4gICAqICAgKiBgX3BhdGhgXG4gICAqXG4gICAqIEBwYXJhbSB7YW55fSBzY2hlbWFcbiAgICpcbiAgICogQHR5cGVkZWYge3sgd2FybmluZ3M6IEVycm9yW10sIHNjaGVtYTogYW55IH19IEltcG9ydFJlc3VsdFxuICAgKiBAcmV0dXJucyB7SW1wb3J0UmVzdWx0fVxuICAgKi9cbiAgaW1wb3J0U2NoZW1hKHNjaGVtYSkge1xuICAgIC8vIFRPRE86IEFkZCB3YXJuaW5nc1xuICAgIGNvbnN0IHdhcm5pbmdzID0gW107XG4gICAgdHJ5IHtcbiAgICAgIHRoaXMuX2NsZWFudXAoKTtcbiAgICAgIGNvbnN0IGltcG9ydGVkU2NoZW1hID0gdGhpcy5pbXBvcnRGb3JtRmllbGQoY2xvbmUoc2NoZW1hKSk7XG4gICAgICB0aGlzLl9mb3JtTGF5b3V0ZXIuY2FsY3VsYXRlTGF5b3V0KGNsb25lKGltcG9ydGVkU2NoZW1hKSk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzY2hlbWE6IGltcG9ydGVkU2NoZW1hLFxuICAgICAgICB3YXJuaW5nc1xuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHRoaXMuX2NsZWFudXAoKTtcbiAgICAgIGVyci53YXJuaW5ncyA9IHdhcm5pbmdzO1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgfVxuICBfY2xlYW51cCgpIHtcbiAgICB0aGlzLl9mb3JtTGF5b3V0ZXIuY2xlYXIoKTtcbiAgICB0aGlzLl9mb3JtRmllbGRSZWdpc3RyeS5jbGVhcigpO1xuICAgIHRoaXMuX3BhdGhSZWdpc3RyeS5jbGVhcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7e1t4OiBzdHJpbmddOiBhbnl9fSBmaWVsZEF0dHJzXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBbcGFyZW50SWRdXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbaW5kZXhdXG4gICAqXG4gICAqIEByZXR1cm4ge2FueX0gZmllbGRcbiAgICovXG4gIGltcG9ydEZvcm1GaWVsZChmaWVsZEF0dHJzLCBwYXJlbnRJZCwgaW5kZXgpIHtcbiAgICBjb25zdCB7XG4gICAgICBjb21wb25lbnRzXG4gICAgfSA9IGZpZWxkQXR0cnM7XG4gICAgbGV0IHBhcmVudCwgcGF0aDtcbiAgICBpZiAocGFyZW50SWQpIHtcbiAgICAgIHBhcmVudCA9IHRoaXMuX2Zvcm1GaWVsZFJlZ2lzdHJ5LmdldChwYXJlbnRJZCk7XG4gICAgfVxuXG4gICAgLy8gc2V0IGZvcm0gZmllbGQgcGF0aFxuICAgIHBhdGggPSBwYXJlbnQgPyBbLi4ucGFyZW50Ll9wYXRoLCAnY29tcG9uZW50cycsIGluZGV4XSA6IFtdO1xuICAgIGNvbnN0IGZpZWxkID0gdGhpcy5fZmllbGRGYWN0b3J5LmNyZWF0ZSh7XG4gICAgICAuLi5maWVsZEF0dHJzLFxuICAgICAgX3BhdGg6IHBhdGgsXG4gICAgICBfcGFyZW50OiBwYXJlbnRJZFxuICAgIH0sIGZhbHNlKTtcbiAgICB0aGlzLl9mb3JtRmllbGRSZWdpc3RyeS5hZGQoZmllbGQpO1xuICAgIGlmIChjb21wb25lbnRzKSB7XG4gICAgICBmaWVsZC5jb21wb25lbnRzID0gdGhpcy5pbXBvcnRGb3JtRmllbGRzKGNvbXBvbmVudHMsIGZpZWxkLmlkKTtcbiAgICB9XG4gICAgcmV0dXJuIGZpZWxkO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7QXJyYXk8YW55Pn0gY29tcG9uZW50c1xuICAgKiBAcGFyYW0ge3N0cmluZ30gcGFyZW50SWRcbiAgICpcbiAgICogQHJldHVybiB7QXJyYXk8YW55Pn0gaW1wb3J0ZWQgY29tcG9uZW50c1xuICAgKi9cbiAgaW1wb3J0Rm9ybUZpZWxkcyhjb21wb25lbnRzLCBwYXJlbnRJZCkge1xuICAgIHJldHVybiBjb21wb25lbnRzLm1hcCgoY29tcG9uZW50LCBpbmRleCkgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMuaW1wb3J0Rm9ybUZpZWxkKGNvbXBvbmVudCwgcGFyZW50SWQsIGluZGV4KTtcbiAgICB9KTtcbiAgfVxufVxuSW1wb3J0ZXIuJGluamVjdCA9IFsnZm9ybUZpZWxkUmVnaXN0cnknLCAncGF0aFJlZ2lzdHJ5JywgJ2ZpZWxkRmFjdG9yeScsICdmb3JtTGF5b3V0ZXInXTtcblxuY2xhc3MgRmllbGRGYWN0b3J5IHtcbiAgLyoqXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKlxuICAgKiBAcGFyYW0gIGZvcm1GaWVsZFJlZ2lzdHJ5XG4gICAqIEBwYXJhbSAgZm9ybUZpZWxkc1xuICAgKi9cbiAgY29uc3RydWN0b3IoZm9ybUZpZWxkUmVnaXN0cnksIHBhdGhSZWdpc3RyeSwgZm9ybUZpZWxkcykge1xuICAgIHRoaXMuX2Zvcm1GaWVsZFJlZ2lzdHJ5ID0gZm9ybUZpZWxkUmVnaXN0cnk7XG4gICAgdGhpcy5fcGF0aFJlZ2lzdHJ5ID0gcGF0aFJlZ2lzdHJ5O1xuICAgIHRoaXMuX2Zvcm1GaWVsZHMgPSBmb3JtRmllbGRzO1xuICB9XG4gIGNyZWF0ZShhdHRycywgaXNOZXdGaWVsZCA9IHRydWUpIHtcbiAgICBjb25zdCB7XG4gICAgICBpZCxcbiAgICAgIHR5cGUsXG4gICAgICBrZXksXG4gICAgICBwYXRoLFxuICAgICAgX3BhcmVudFxuICAgIH0gPSBhdHRycztcbiAgICBjb25zdCBmaWVsZERlZmluaXRpb24gPSB0aGlzLl9mb3JtRmllbGRzLmdldCh0eXBlKTtcbiAgICBpZiAoIWZpZWxkRGVmaW5pdGlvbikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBmb3JtIGZpZWxkIG9mIHR5cGUgPCR7dHlwZX0+IG5vdCBzdXBwb3J0ZWRgKTtcbiAgICB9XG4gICAgY29uc3Qge1xuICAgICAgY29uZmlnXG4gICAgfSA9IGZpZWxkRGVmaW5pdGlvbjtcbiAgICBpZiAoIWNvbmZpZykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBmb3JtIGZpZWxkIG9mIHR5cGUgPCR7dHlwZX0+IGhhcyBubyBjb25maWdgKTtcbiAgICB9XG4gICAgaWYgKGlkICYmIHRoaXMuX2Zvcm1GaWVsZFJlZ2lzdHJ5Ll9pZHMuYXNzaWduZWQoaWQpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYGZvcm0gZmllbGQgd2l0aCBpZCA8JHtpZH0+IGFscmVhZHkgZXhpc3RzYCk7XG4gICAgfVxuXG4gICAgLy8gZW5zdXJlIHRoYXQgd2UgY2FuIGNsYWltIHRoZSBwYXRoXG5cbiAgICBjb25zdCBwYXJlbnQgPSBfcGFyZW50ICYmIHRoaXMuX2Zvcm1GaWVsZFJlZ2lzdHJ5LmdldChfcGFyZW50KTtcbiAgICBjb25zdCBwYXJlbnRQYXRoID0gcGFyZW50ICYmIHRoaXMuX3BhdGhSZWdpc3RyeS5nZXRWYWx1ZVBhdGgocGFyZW50KSB8fCBbXTtcbiAgICBjb25zdCBrbm93bkFuY2VzdG9ySWRzID0gZ2V0QW5jZXN0cnlMaXN0KF9wYXJlbnQsIHRoaXMuX2Zvcm1GaWVsZFJlZ2lzdHJ5KTtcbiAgICBpZiAoY29uZmlnLmtleWVkICYmIGtleSAmJiAhdGhpcy5fcGF0aFJlZ2lzdHJ5LmNhbkNsYWltUGF0aChbLi4ucGFyZW50UGF0aCwgLi4ua2V5LnNwbGl0KCcuJyldLCB7XG4gICAgICBpc0Nsb3NlZDogdHJ1ZSxcbiAgICAgIGtub3duQW5jZXN0b3JJZHNcbiAgICB9KSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBiaW5kaW5nIHBhdGggJyR7Wy4uLnBhcmVudFBhdGgsIGtleV0uam9pbignLicpfScgaXMgYWxyZWFkeSBjbGFpbWVkYCk7XG4gICAgfVxuICAgIGlmIChjb25maWcucGF0aGVkICYmIHBhdGggJiYgIXRoaXMuX3BhdGhSZWdpc3RyeS5jYW5DbGFpbVBhdGgoWy4uLnBhcmVudFBhdGgsIC4uLnBhdGguc3BsaXQoJy4nKV0sIHtcbiAgICAgIGlzUmVwZWF0YWJsZTogY29uZmlnLnJlcGVhdGFibGUsXG4gICAgICBrbm93bkFuY2VzdG9ySWRzXG4gICAgfSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgYmluZGluZyBwYXRoICcke1suLi5wYXJlbnRQYXRoLCAuLi5wYXRoLnNwbGl0KCcuJyldLmpvaW4oJy4nKX0nIGlzIGFscmVhZHkgY2xhaW1lZGApO1xuICAgIH1cbiAgICBjb25zdCBmaWVsZCA9IGNvbmZpZy5jcmVhdGUoe1xuICAgICAgLi4uKGNvbmZpZy5sYWJlbCA/IHtcbiAgICAgICAgbGFiZWw6IGNvbmZpZy5sYWJlbFxuICAgICAgfSA6IHt9KSxcbiAgICAgIC4uLmF0dHJzXG4gICAgfSwgaXNOZXdGaWVsZCk7XG4gICAgdGhpcy5fZW5zdXJlSWQoZmllbGQpO1xuICAgIGlmIChjb25maWcua2V5ZWQpIHtcbiAgICAgIHRoaXMuX2Vuc3VyZUtleShmaWVsZCk7XG4gICAgICB0aGlzLl9wYXRoUmVnaXN0cnkuY2xhaW1QYXRoKHRoaXMuX3BhdGhSZWdpc3RyeS5nZXRWYWx1ZVBhdGgoZmllbGQpLCB7XG4gICAgICAgIGlzQ2xvc2VkOiB0cnVlLFxuICAgICAgICBjbGFpbWVySWQ6IGZpZWxkLmlkLFxuICAgICAgICBrbm93bkFuY2VzdG9ySWRzOiBnZXRBbmNlc3RyeUxpc3QoX3BhcmVudCwgdGhpcy5fZm9ybUZpZWxkUmVnaXN0cnkpXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGNvbmZpZy5wYXRoZWQpIHtcbiAgICAgIGlmIChjb25maWcucmVwZWF0YWJsZSkge1xuICAgICAgICB0aGlzLl9lbmZvcmNlRGVmYXVsdFBhdGgoZmllbGQpO1xuICAgICAgfVxuICAgICAgdGhpcy5fcGF0aFJlZ2lzdHJ5LmNsYWltUGF0aCh0aGlzLl9wYXRoUmVnaXN0cnkuZ2V0VmFsdWVQYXRoKGZpZWxkKSwge1xuICAgICAgICBpc1JlcGVhdGFibGU6IGNvbmZpZy5yZXBlYXRhYmxlLFxuICAgICAgICBjbGFpbWVySWQ6IGZpZWxkLmlkLFxuICAgICAgICBrbm93bkFuY2VzdG9ySWRzOiBnZXRBbmNlc3RyeUxpc3QoX3BhcmVudCwgdGhpcy5fZm9ybUZpZWxkUmVnaXN0cnkpXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGZpZWxkO1xuICB9XG4gIF9lbnN1cmVJZChmaWVsZCkge1xuICAgIGlmIChmaWVsZC5pZCkge1xuICAgICAgdGhpcy5fZm9ybUZpZWxkUmVnaXN0cnkuX2lkcy5jbGFpbShmaWVsZC5pZCwgZmllbGQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgcHJlZml4ID0gJ0ZpZWxkJztcbiAgICBpZiAoZmllbGQudHlwZSA9PT0gJ2RlZmF1bHQnKSB7XG4gICAgICBwcmVmaXggPSAnRm9ybSc7XG4gICAgfVxuICAgIGZpZWxkLmlkID0gdGhpcy5fZm9ybUZpZWxkUmVnaXN0cnkuX2lkcy5uZXh0UHJlZml4ZWQoYCR7cHJlZml4fV9gLCBmaWVsZCk7XG4gIH1cbiAgX2Vuc3VyZUtleShmaWVsZCkge1xuICAgIGlmICghZmllbGQua2V5KSB7XG4gICAgICBmaWVsZC5rZXkgPSB0aGlzLl9nZXRVbmlxdWVLZXlQYXRoKGZpZWxkKTtcbiAgICB9XG4gIH1cbiAgX2VuZm9yY2VEZWZhdWx0UGF0aChmaWVsZCkge1xuICAgIGlmICghZmllbGQucGF0aCkge1xuICAgICAgZmllbGQucGF0aCA9IHRoaXMuX2dldFVuaXF1ZUtleVBhdGgoZmllbGQpO1xuICAgIH1cbiAgfVxuICBfZ2V0VW5pcXVlS2V5UGF0aChmaWVsZCkge1xuICAgIGxldCByYW5kb207XG4gICAgY29uc3QgcGFyZW50ID0gdGhpcy5fZm9ybUZpZWxkUmVnaXN0cnkuZ2V0KGZpZWxkLl9wYXJlbnQpO1xuXG4gICAgLy8gZW5zdXJlIGtleSB1bmlxdWVuZXNzIGF0IGxldmVsXG4gICAgZG8ge1xuICAgICAgcmFuZG9tID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDcpO1xuICAgIH0gd2hpbGUgKHBhcmVudCAmJiBwYXJlbnQuY29tcG9uZW50cy5zb21lKGNoaWxkID0+IGNoaWxkLmtleSA9PT0gcmFuZG9tKSk7XG4gICAgcmV0dXJuIGAke2ZpZWxkLnR5cGV9XyR7cmFuZG9tfWA7XG4gIH1cbn1cbkZpZWxkRmFjdG9yeS4kaW5qZWN0ID0gWydmb3JtRmllbGRSZWdpc3RyeScsICdwYXRoUmVnaXN0cnknLCAnZm9ybUZpZWxkcyddO1xuXG4vKipcbiAqIFRoZSBQYXRoUmVnaXN0cnkgY2xhc3MgbWFuYWdlcyBhIGhpZXJhcmNoaWNhbCBzdHJ1Y3R1cmUgb2YgcGF0aHMgYXNzb2NpYXRlZCB3aXRoIGZvcm0gZmllbGRzLlxuICogSXQgZW5hYmxlcyBjbGFpbWluZywgdW5jbGFpbWluZywgYW5kIHZhbGlkYXRpbmcgcGF0aHMgd2l0aGluIHRoaXMgc3RydWN0dXJlLlxuICpcbiAqIEV4YW1wbGUgVHJlZSBTdHJ1Y3R1cmU6XG4gKlxuICogICBbXG4gKiAgICAge1xuICogICAgICAgc2VnbWVudDogJ3Jvb3QnLFxuICogICAgICAgY2xhaW1Db3VudDogMSxcbiAqICAgICAgIGNoaWxkcmVuOiBbXG4gKiAgICAgICAgIHtcbiAqICAgICAgICAgICBzZWdtZW50OiAnY2hpbGQxJyxcbiAqICAgICAgICAgICBjbGFpbUNvdW50OiAyLFxuICogICAgICAgICAgIGNoaWxkcmVuOiBudWxsICAvLyBBIGxlYWYgbm9kZSAoY2xvc2VkIHBhdGgpXG4gKiAgICAgICAgIH0sXG4gKiAgICAgICAgIHtcbiAqICAgICAgICAgICBzZWdtZW50OiAnY2hpbGQyJyxcbiAqICAgICAgICAgICBjbGFpbUNvdW50OiAxLFxuICogICAgICAgICAgIGNoaWxkcmVuOiBbXG4gKiAgICAgICAgICAgICB7XG4gKiAgICAgICAgICAgICAgIHNlZ21lbnQ6ICdzdWJDaGlsZDEnLFxuICogICAgICAgICAgICAgICBjbGFpbUNvdW50OiAxLFxuICogICAgICAgICAgICAgICBjaGlsZHJlbjogW10gIC8vIEFuIG9wZW4gbm9kZSAob3BlbiBwYXRoKVxuICogICAgICAgICAgICAgfVxuICogICAgICAgICAgIF1cbiAqICAgICAgICAgfVxuICogICAgICAgXVxuICogICAgIH1cbiAqICAgXVxuICovXG5jbGFzcyBQYXRoUmVnaXN0cnkge1xuICBjb25zdHJ1Y3Rvcihmb3JtRmllbGRSZWdpc3RyeSwgZm9ybUZpZWxkcywgaW5qZWN0b3IpIHtcbiAgICB0aGlzLl9mb3JtRmllbGRSZWdpc3RyeSA9IGZvcm1GaWVsZFJlZ2lzdHJ5O1xuICAgIHRoaXMuX2Zvcm1GaWVsZHMgPSBmb3JtRmllbGRzO1xuICAgIHRoaXMuX2luamVjdG9yID0gaW5qZWN0b3I7XG4gICAgdGhpcy5fZGF0YVBhdGhzID0gW107XG4gIH1cbiAgY2FuQ2xhaW1QYXRoKHBhdGgsIG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IHtcbiAgICAgIGlzQ2xvc2VkID0gZmFsc2UsXG4gICAgICBpc1JlcGVhdGFibGUgPSBmYWxzZSxcbiAgICAgIHNraXBBbmNlc3RyeUNoZWNrID0gZmFsc2UsXG4gICAgICBjbGFpbWVySWQgPSBudWxsLFxuICAgICAga25vd25BbmNlc3RvcklkcyA9IFtdXG4gICAgfSA9IG9wdGlvbnM7XG4gICAgbGV0IG5vZGUgPSB7XG4gICAgICBjaGlsZHJlbjogdGhpcy5fZGF0YVBhdGhzXG4gICAgfTtcblxuICAgIC8vICgxKSBpZiB3ZSByZWFjaCBhIGxlYWYgbm9kZSwgd2UgY2Fubm90IGNsYWltIGl0LCBpZiB3ZSByZWFjaCBhbiBvcGVuIG5vZGUsIHdlIGNhblxuICAgIC8vIGlmIHdlIHJlYWNoIGEgcmVwZWF0YWJsZSBub2RlLCB3ZSBuZWVkIHRvIGVuc3VyZSB0aGF0IHRoZSBjbGFpbWVyIGlzIChvciB3aWxsIGJlKSBhbiBhbmNlc3RvciBvZiB0aGUgcmVwZWF0ZXJcbiAgICBmb3IgKGNvbnN0IHNlZ21lbnQgb2YgcGF0aCkge1xuICAgICAgbm9kZSA9IF9nZXROZXh0U2VnbWVudChub2RlLCBzZWdtZW50KTtcbiAgICAgIGlmICghbm9kZSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChub2RlLmlzUmVwZWF0YWJsZSAmJiAhc2tpcEFuY2VzdHJ5Q2hlY2spIHtcbiAgICAgICAgaWYgKCEoY2xhaW1lcklkIHx8IGtub3duQW5jZXN0b3JJZHMubGVuZ3RoKSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignY2Fubm90IGNsYWltIGEgcGF0aCB0aGF0IGNvbnRhaW5zIGEgcmVwZWF0ZXIgd2l0aG91dCBzcGVjaWZ5aW5nIGEgY2xhaW1lcklkIG9yIGtub3duQW5jZXN0b3JJZHMnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpc1ZhbGlkUmVwZWF0Q2xhaW0gPSBrbm93bkFuY2VzdG9ySWRzLmluY2x1ZGVzKG5vZGUucmVwZWF0ZXJJZCkgfHwgY2xhaW1lcklkICYmIGdldEFuY2VzdHJ5TGlzdChjbGFpbWVySWQsIHRoaXMuX2Zvcm1GaWVsZFJlZ2lzdHJ5KS5pbmNsdWRlcyhub2RlLnJlcGVhdGVySWQpO1xuICAgICAgICBpZiAoIWlzVmFsaWRSZXBlYXRDbGFpbSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG5vZGUuY2hpbGRyZW4gPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vICgyKSBpZiB0aGUgcGF0aCBsYW5kcyBpbiB0aGUgbWlkZGxlIG9mIHRoZSB0cmVlLCB3ZSBjYW4gb25seSBjbGFpbSBhbiBvcGVuLCBub24tcmVwZWF0YWJsZSBwYXRoXG4gICAgcmV0dXJuICEoaXNDbG9zZWQgfHwgaXNSZXBlYXRhYmxlKTtcbiAgfVxuICBjbGFpbVBhdGgocGF0aCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3Qge1xuICAgICAgaXNDbG9zZWQgPSBmYWxzZSxcbiAgICAgIGlzUmVwZWF0YWJsZSA9IGZhbHNlLFxuICAgICAgY2xhaW1lcklkID0gbnVsbCxcbiAgICAgIGtub3duQW5jZXN0b3JJZHMgPSBbXVxuICAgIH0gPSBvcHRpb25zO1xuICAgIGlmICghdGhpcy5jYW5DbGFpbVBhdGgocGF0aCwge1xuICAgICAgaXNDbG9zZWQsXG4gICAgICBpc1JlcGVhdGFibGUsXG4gICAgICBjbGFpbWVySWQsXG4gICAgICBrbm93bkFuY2VzdG9ySWRzXG4gICAgfSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgY2Fubm90IGNsYWltIHBhdGggJyR7cGF0aC5qb2luKCcuJyl9J2ApO1xuICAgIH1cbiAgICBsZXQgbm9kZSA9IHtcbiAgICAgIGNoaWxkcmVuOiB0aGlzLl9kYXRhUGF0aHNcbiAgICB9O1xuICAgIGZvciAoY29uc3Qgc2VnbWVudCBvZiBwYXRoKSB7XG4gICAgICBsZXQgY2hpbGQgPSBfZ2V0TmV4dFNlZ21lbnQobm9kZSwgc2VnbWVudCk7XG4gICAgICBpZiAoIWNoaWxkKSB7XG4gICAgICAgIGNoaWxkID0ge1xuICAgICAgICAgIHNlZ21lbnQsXG4gICAgICAgICAgY2xhaW1Db3VudDogMSxcbiAgICAgICAgICBjaGlsZHJlbjogW11cbiAgICAgICAgfTtcbiAgICAgICAgbm9kZS5jaGlsZHJlbi5wdXNoKGNoaWxkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNoaWxkLmNsYWltQ291bnQrKztcbiAgICAgIH1cbiAgICAgIG5vZGUgPSBjaGlsZDtcbiAgICB9XG4gICAgaWYgKGlzQ2xvc2VkKSB7XG4gICAgICBub2RlLmNoaWxkcmVuID0gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBhZGQgc29tZSBhZGRpdGlvbmFsIGluZm8gd2hlbiB3ZSBtYWtlIGEgcmVwZWF0YWJsZSBwYXRoIGNsYWltXG4gICAgaWYgKGlzUmVwZWF0YWJsZSkge1xuICAgICAgbm9kZS5pc1JlcGVhdGFibGUgPSB0cnVlO1xuICAgICAgbm9kZS5yZXBlYXRlcklkID0gY2xhaW1lcklkO1xuICAgIH1cbiAgfVxuICB1bmNsYWltUGF0aChwYXRoKSB7XG4gICAgLy8gdmVyaWZpY2F0aW9uIFBhc3NcbiAgICBsZXQgbm9kZSA9IHtcbiAgICAgIGNoaWxkcmVuOiB0aGlzLl9kYXRhUGF0aHNcbiAgICB9O1xuICAgIGZvciAoY29uc3Qgc2VnbWVudCBvZiBwYXRoKSB7XG4gICAgICBjb25zdCBjaGlsZCA9IF9nZXROZXh0U2VnbWVudChub2RlLCBzZWdtZW50KTtcbiAgICAgIGlmICghY2hpbGQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBubyBvcGVuIHBhdGggZm91bmQgZm9yICcke3BhdGguam9pbignLicpfSdgKTtcbiAgICAgIH1cbiAgICAgIG5vZGUgPSBjaGlsZDtcbiAgICB9XG5cbiAgICAvLyBtdXRhdGlvbiBQYXNzXG4gICAgbm9kZSA9IHtcbiAgICAgIGNoaWxkcmVuOiB0aGlzLl9kYXRhUGF0aHNcbiAgICB9O1xuICAgIGZvciAoY29uc3Qgc2VnbWVudCBvZiBwYXRoKSB7XG4gICAgICBjb25zdCBjaGlsZCA9IF9nZXROZXh0U2VnbWVudChub2RlLCBzZWdtZW50KTtcbiAgICAgIGNoaWxkLmNsYWltQ291bnQtLTtcbiAgICAgIGlmIChjaGlsZC5jbGFpbUNvdW50ID09PSAwKSB7XG4gICAgICAgIG5vZGUuY2hpbGRyZW4uc3BsaWNlKG5vZGUuY2hpbGRyZW4uaW5kZXhPZihjaGlsZCksIDEpO1xuICAgICAgICBicmVhazsgLy8gQWJvcnQgZWFybHkgaWYgY2xhaW1Db3VudCByZWFjaGVzIHplcm9cbiAgICAgIH1cbiAgICAgIG5vZGUgPSBjaGlsZDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQXBwbGllcyBhIGZ1bmN0aW9uIChmbikgcmVjdXJzaXZlbHkgb24gYSBnaXZlbiBmaWVsZCBhbmQgaXRzIGNoaWxkcmVuLlxuICAgKlxuICAgKiAtIGBmaWVsZGA6IFN0YXJ0aW5nIGZpZWxkIG9iamVjdC5cbiAgICogLSBgZm5gOiBGdW5jdGlvbiB0byBhcHBseS5cbiAgICogLSBgY29udGV4dGA6IE9wdGlvbmFsIG9iamVjdCBmb3IgcGFzc2luZyBkYXRhIGJldHdlZW4gY2FsbHMuXG4gICAqXG4gICAqIFN0b3BzIGVhcmx5IGlmIGBmbmAgcmV0dXJucyBgZmFsc2VgLiBVc2VmdWwgZm9yIHRyYXZlcnNpbmcgdGhlIGZvcm0gZmllbGQgdHJlZS5cbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW59IFN1Y2Nlc3Mgc3RhdHVzIGJhc2VkIG9uIGZ1bmN0aW9uIGV4ZWN1dGlvbi5cbiAgICovXG4gIGV4ZWN1dGVSZWN1cnNpdmVseU9uRmllbGRzKGZpZWxkLCBmbiwgY29udGV4dCA9IHt9KSB7XG4gICAgbGV0IHJlc3VsdCA9IHRydWU7XG4gICAgY29uc3QgZm9ybUZpZWxkQ29uZmlnID0gdGhpcy5fZm9ybUZpZWxkcy5nZXQoZmllbGQudHlwZSkuY29uZmlnO1xuICAgIGlmIChmb3JtRmllbGRDb25maWcua2V5ZWQpIHtcbiAgICAgIGNvbnN0IGNhbGxSZXN1bHQgPSBmbih7XG4gICAgICAgIGZpZWxkLFxuICAgICAgICBpc0Nsb3NlZDogdHJ1ZSxcbiAgICAgICAgaXNSZXBlYXRhYmxlOiBmYWxzZSxcbiAgICAgICAgY29udGV4dFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0ICYmIGNhbGxSZXN1bHQ7XG4gICAgfSBlbHNlIGlmIChmb3JtRmllbGRDb25maWcucGF0aGVkKSB7XG4gICAgICBjb25zdCBjYWxsUmVzdWx0ID0gZm4oe1xuICAgICAgICBmaWVsZCxcbiAgICAgICAgaXNDbG9zZWQ6IGZhbHNlLFxuICAgICAgICBpc1JlcGVhdGFibGU6IGZvcm1GaWVsZENvbmZpZy5yZXBlYXRhYmxlLFxuICAgICAgICBjb250ZXh0XG4gICAgICB9KTtcbiAgICAgIHJlc3VsdCA9IHJlc3VsdCAmJiBjYWxsUmVzdWx0O1xuICAgIH1cblxuICAgIC8vIHN0b3AgZXhlY3V0aW5nIGlmIGZhbHNlIGlzIHNwZWNpZmljYWxseSByZXR1cm5lZCBvciBpZiBwcmV2ZW50aW5nIHJlY3Vyc2lvblxuICAgIGlmIChyZXN1bHQgPT09IGZhbHNlIHx8IGNvbnRleHQucHJldmVudFJlY3Vyc2lvbikge1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZmllbGQuY29tcG9uZW50cykpIHtcbiAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgZmllbGQuY29tcG9uZW50cykge1xuICAgICAgICBjb25zdCBjYWxsUmVzdWx0ID0gdGhpcy5leGVjdXRlUmVjdXJzaXZlbHlPbkZpZWxkcyhjaGlsZCwgZm4sIGNsb25lKGNvbnRleHQpKTtcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0ICYmIGNhbGxSZXN1bHQ7XG5cbiAgICAgICAgLy8gc3RvcCBleGVjdXRpbmcgaWYgZmFsc2UgaXMgc3BlY2lmaWNhbGx5IHJldHVybmVkXG4gICAgICAgIGlmIChyZXN1bHQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlcyBhbiBhcnJheSByZXByZXNlbnRpbmcgdGhlIGJpbmRpbmcgcGF0aCB0byBhbiB1bmRlcmx5aW5nIGRhdGEgb2JqZWN0IGZvciBhIGZvcm0gZmllbGQuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBmaWVsZCAtIFRoZSBmaWVsZCBvYmplY3Qgd2l0aCBwcm9wZXJ0aWVzOiBga2V5YCwgYHBhdGhgLCBgaWRgLCBhbmQgb3B0aW9uYWxseSBgX3BhcmVudGAuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gLSBDb25maWd1cmF0aW9uIG9wdGlvbnMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5yZXBsYWNlbWVudHM9e31dIC0gQSBtYXAgb2YgZmllbGQgSURzIHRvIGFsdGVybmF0aXZlIHBhdGggYXJyYXlzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMuaW5kZXhlcz1udWxsXSAtIEEgbWFwIG9mIHBhcmVudCBJRHMgdG8gdGhlIGluZGV4IG9mIHRoZSBmaWVsZCB3aXRoaW4gc2FpZCBwYXJlbnQsIGxlYXZlIG51bGwgdG8gZ2V0IGFuIHVuaW5kZXhlZCBwYXRoLlxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMuY3V0b2ZmTm9kZV0gLSBUaGUgSUQgb2YgdGhlIHBhcmVudCBmaWVsZCBhdCB3aGljaCB0byBzdG9wIGdlbmVyYXRpbmcgdGhlIHBhdGguXG4gICAqXG4gICAqIEByZXR1cm5zIHsoQXJyYXk8c3RyaW5nPnx1bmRlZmluZWQpfSBBbiBhcnJheSBvZiBzdHJpbmdzIHJlcHJlc2VudGluZyB0aGUgYmluZGluZyBwYXRoLCBvciB1bmRlZmluZWQgaWYgbm90IGRldGVybWluYWJsZS5cbiAgICovXG4gIGdldFZhbHVlUGF0aChmaWVsZCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3Qge1xuICAgICAgcmVwbGFjZW1lbnRzID0ge30sXG4gICAgICBpbmRleGVzID0gbnVsbCxcbiAgICAgIGN1dG9mZk5vZGUgPSBudWxsXG4gICAgfSA9IG9wdGlvbnM7XG4gICAgbGV0IGxvY2FsVmFsdWVQYXRoID0gW107XG4gICAgY29uc3QgaGFzUmVwbGFjZW1lbnQgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocmVwbGFjZW1lbnRzLCBmaWVsZC5pZCk7XG4gICAgY29uc3QgZm9ybUZpZWxkQ29uZmlnID0gdGhpcy5fZm9ybUZpZWxkcy5nZXQoZmllbGQudHlwZSkuY29uZmlnO1xuXG4gICAgLy8gdXNlcyBwYXRoIG92ZXJyaWRlcyBpbnN0ZWFkIG9mIHRydWUgcGF0aCB0byBjYWxjdWxhdGUgYSBwb3RlbnRpYWwgdmFsdWUgcGF0aFxuICAgIGlmIChoYXNSZXBsYWNlbWVudCkge1xuICAgICAgY29uc3QgcmVwbGFjZW1lbnQgPSByZXBsYWNlbWVudHNbZmllbGQuaWRdO1xuICAgICAgaWYgKHJlcGxhY2VtZW50ID09PSBudWxsIHx8IHJlcGxhY2VtZW50ID09PSB1bmRlZmluZWQgfHwgcmVwbGFjZW1lbnQgPT09ICcnKSB7XG4gICAgICAgIGxvY2FsVmFsdWVQYXRoID0gW107XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiByZXBsYWNlbWVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgbG9jYWxWYWx1ZVBhdGggPSByZXBsYWNlbWVudC5zcGxpdCgnLicpO1xuICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHJlcGxhY2VtZW50KSkge1xuICAgICAgICBsb2NhbFZhbHVlUGF0aCA9IHJlcGxhY2VtZW50O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGByZXBsYWNlbWVudHMgZm9yIGZpZWxkICR7ZmllbGQuaWR9IG11c3QgYmUgYSBzdHJpbmcsIGFycmF5IG9yIG51bGwvdW5kZWZpbmVkYCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChmb3JtRmllbGRDb25maWcua2V5ZWQpIHtcbiAgICAgIGxvY2FsVmFsdWVQYXRoID0gZmllbGQua2V5LnNwbGl0KCcuJyk7XG4gICAgfSBlbHNlIGlmIChmb3JtRmllbGRDb25maWcucGF0aGVkICYmIGZpZWxkLnBhdGgpIHtcbiAgICAgIGxvY2FsVmFsdWVQYXRoID0gZmllbGQucGF0aC5zcGxpdCgnLicpO1xuICAgIH1cblxuICAgIC8vIGFkZCBwb3RlbnRpYWwgaW5kZXhlcyBvZiByZXBlYXRlZCBmaWVsZHNcbiAgICBpZiAoaW5kZXhlcykge1xuICAgICAgbG9jYWxWYWx1ZVBhdGggPSB0aGlzLl9hZGRJbmRleGVzKGxvY2FsVmFsdWVQYXRoLCBmaWVsZCwgaW5kZXhlcyk7XG4gICAgfVxuXG4gICAgLy8gaWYgcGFyZW50IGV4aXN0cyBhbmQgaXNuJ3QgY3V0b2ZmIG5vZGUsIGFkZCBwYXJlbnQncyB2YWx1ZSBwYXRoXG4gICAgaWYgKGZpZWxkLl9wYXJlbnQgJiYgZmllbGQuX3BhcmVudCAhPT0gY3V0b2ZmTm9kZSkge1xuICAgICAgY29uc3QgcGFyZW50ID0gdGhpcy5fZm9ybUZpZWxkUmVnaXN0cnkuZ2V0KGZpZWxkLl9wYXJlbnQpO1xuICAgICAgcmV0dXJuIFsuLi4odGhpcy5nZXRWYWx1ZVBhdGgocGFyZW50LCBvcHRpb25zKSB8fCBbXSksIC4uLmxvY2FsVmFsdWVQYXRoXTtcbiAgICB9XG4gICAgcmV0dXJuIGxvY2FsVmFsdWVQYXRoO1xuICB9XG4gIGNsZWFyKCkge1xuICAgIHRoaXMuX2RhdGFQYXRocyA9IFtdO1xuICB9XG4gIF9hZGRJbmRleGVzKGxvY2FsVmFsdWVQYXRoLCBmaWVsZCwgaW5kZXhlcykge1xuICAgIGNvbnN0IHJlcGVhdFJlbmRlck1hbmFnZXIgPSB0aGlzLl9pbmplY3Rvci5nZXQoJ3JlcGVhdFJlbmRlck1hbmFnZXInLCBmYWxzZSk7XG4gICAgaWYgKHJlcGVhdFJlbmRlck1hbmFnZXIgJiYgcmVwZWF0UmVuZGVyTWFuYWdlci5pc0ZpZWxkUmVwZWF0aW5nKGZpZWxkLl9wYXJlbnQpKSB7XG4gICAgICByZXR1cm4gW2luZGV4ZXNbZmllbGQuX3BhcmVudF0sIC4uLmxvY2FsVmFsdWVQYXRoXTtcbiAgICB9XG4gICAgcmV0dXJuIGxvY2FsVmFsdWVQYXRoO1xuICB9XG59XG5jb25zdCBfZ2V0TmV4dFNlZ21lbnQgPSAobm9kZSwgc2VnbWVudCkgPT4ge1xuICBpZiAoaXNBcnJheShub2RlLmNoaWxkcmVuKSkge1xuICAgIHJldHVybiBub2RlLmNoaWxkcmVuLmZpbmQobm9kZSA9PiBub2RlLnNlZ21lbnQgPT09IHNlZ21lbnQpIHx8IG51bGw7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59O1xuUGF0aFJlZ2lzdHJ5LiRpbmplY3QgPSBbJ2Zvcm1GaWVsZFJlZ2lzdHJ5JywgJ2Zvcm1GaWVsZHMnLCAnaW5qZWN0b3InXTtcblxuLyoqXG4gKiBAdHlwZWRlZiB7IHsgaWQ6IFN0cmluZywgY29tcG9uZW50czogQXJyYXk8U3RyaW5nPiB9IH0gRm9ybVJvd1xuICogQHR5cGVkZWYgeyB7IGZvcm1GaWVsZElkOiBTdHJpbmcsIHJvd3M6IEFycmF5PEZvcm1Sb3c+IH0gfSBGb3JtUm93c1xuICovXG5cbi8qKlxuICogTWFpbnRhaW5zIHRoZSBGb3JtIGxheW91dCBpbiBhIGdpdmVuIHN0cnVjdHVyZSwgZm9yIGV4YW1wbGVcbiAqXG4gKiAgW1xuICogICAge1xuICogICAgICBmb3JtRmllbGRJZDogJ0Zvcm1GaWVsZF8xJyxcbiAqICAgICAgcm93czogW1xuICogICAgICAgIHsgaWQ6ICdSb3dfMScsIGNvbXBvbmVudHM6IFsgJ1RleHRfMScsICdUZXh0ZGllbGRfMScsIC4uLiBdICB9XG4gKiAgICAgIF1cbiAqICAgIH1cbiAqICBdXG4gKlxuICovXG5jbGFzcyBGb3JtTGF5b3V0ZXIge1xuICBjb25zdHJ1Y3RvcihldmVudEJ1cykge1xuICAgIC8qKiBAdHlwZSBBcnJheTxGb3JtUm93cz4gICovXG4gICAgdGhpcy5fcm93cyA9IFtdO1xuICAgIHRoaXMuX2lkcyA9IG5ldyBJZHMoWzMyLCAzNiwgMV0pO1xuICAgIHRoaXMuX2V2ZW50QnVzID0gZXZlbnRCdXM7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtGb3JtUm93fSByb3dcbiAgICovXG4gIGFkZFJvdyhmb3JtRmllbGRJZCwgcm93KSB7XG4gICAgbGV0IHJvd3NQZXJDb21wb25lbnQgPSB0aGlzLl9yb3dzLmZpbmQociA9PiByLmZvcm1GaWVsZElkID09PSBmb3JtRmllbGRJZCk7XG4gICAgaWYgKCFyb3dzUGVyQ29tcG9uZW50KSB7XG4gICAgICByb3dzUGVyQ29tcG9uZW50ID0ge1xuICAgICAgICBmb3JtRmllbGRJZCxcbiAgICAgICAgcm93czogW11cbiAgICAgIH07XG4gICAgICB0aGlzLl9yb3dzLnB1c2gocm93c1BlckNvbXBvbmVudCk7XG4gICAgfVxuICAgIHJvd3NQZXJDb21wb25lbnQucm93cy5wdXNoKHJvdyk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtTdHJpbmd9IGlkXG4gICAqIEByZXR1cm5zIHtGb3JtUm93fVxuICAgKi9cbiAgZ2V0Um93KGlkKSB7XG4gICAgY29uc3Qgcm93cyA9IGFsbFJvd3ModGhpcy5fcm93cyk7XG4gICAgcmV0dXJuIHJvd3MuZmluZChyID0+IHIuaWQgPT09IGlkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2FueX0gZm9ybUZpZWxkXG4gICAqIEByZXR1cm5zIHtGb3JtUm93fVxuICAgKi9cbiAgZ2V0Um93Rm9yRmllbGQoZm9ybUZpZWxkKSB7XG4gICAgcmV0dXJuIGFsbFJvd3ModGhpcy5fcm93cykuZmluZChyID0+IHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgY29tcG9uZW50c1xuICAgICAgfSA9IHI7XG4gICAgICByZXR1cm4gY29tcG9uZW50cy5pbmNsdWRlcyhmb3JtRmllbGQuaWQpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBmb3JtRmllbGRJZFxuICAgKiBAcmV0dXJucyB7IEFycmF5PEZvcm1Sb3c+IH1cbiAgICovXG4gIGdldFJvd3MoZm9ybUZpZWxkSWQpIHtcbiAgICBjb25zdCByb3dzRm9yRmllbGQgPSB0aGlzLl9yb3dzLmZpbmQociA9PiBmb3JtRmllbGRJZCA9PT0gci5mb3JtRmllbGRJZCk7XG4gICAgaWYgKCFyb3dzRm9yRmllbGQpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgcmV0dXJuIHJvd3NGb3JGaWVsZC5yb3dzO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAqL1xuICBuZXh0Um93SWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lkcy5uZXh0UHJlZml4ZWQoJ1Jvd18nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2FueX0gZm9ybUZpZWxkXG4gICAqL1xuICBjYWxjdWxhdGVMYXlvdXQoZm9ybUZpZWxkKSB7XG4gICAgY29uc3Qge1xuICAgICAgdHlwZSxcbiAgICAgIGNvbXBvbmVudHNcbiAgICB9ID0gZm9ybUZpZWxkO1xuICAgIGlmICghWydkZWZhdWx0JywgJ2dyb3VwJywgJ2R5bmFtaWNsaXN0J10uaW5jbHVkZXModHlwZSkgfHwgIWNvbXBvbmVudHMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyAoMSkgY2FsY3VsYXRlIHJvd3Mgb3JkZXIgKGJ5IGNvbXBvbmVudCBvcmRlcilcbiAgICBjb25zdCByb3dzSW5PcmRlciA9IGdyb3VwQnlSb3coY29tcG9uZW50cywgdGhpcy5faWRzKTtcbiAgICBPYmplY3QuZW50cmllcyhyb3dzSW5PcmRlcikuZm9yRWFjaCgoW2lkLCBjb21wb25lbnRzXSkgPT4ge1xuICAgICAgLy8gKDIpIGFkZCBmaWVsZHMgdG8gcm93c1xuICAgICAgdGhpcy5hZGRSb3coZm9ybUZpZWxkLmlkLCB7XG4gICAgICAgIGlkOiBpZCxcbiAgICAgICAgY29tcG9uZW50czogY29tcG9uZW50cy5tYXAoYyA9PiBjLmlkKVxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAvLyAoMykgdHJhdmVyc2UgdGhyb3VnaCBuZXN0ZWQgY29tcG9uZW50c1xuICAgIGNvbXBvbmVudHMuZm9yRWFjaChmaWVsZCA9PiB0aGlzLmNhbGN1bGF0ZUxheW91dChmaWVsZCkpO1xuXG4gICAgLy8gKDQpIGZpcmUgZXZlbnQgdG8gbm90aWZ5IGludGVyZXN0ZWQgcGFydGllc1xuICAgIHRoaXMuX2V2ZW50QnVzLmZpcmUoJ2Zvcm0ubGF5b3V0Q2FsY3VsYXRlZCcsIHtcbiAgICAgIHJvd3M6IHRoaXMuX3Jvd3NcbiAgICB9KTtcbiAgfVxuICBjbGVhcigpIHtcbiAgICB0aGlzLl9yb3dzID0gW107XG4gICAgdGhpcy5faWRzLmNsZWFyKCk7XG5cbiAgICAvLyBmaXJlIGV2ZW50IHRvIG5vdGlmeSBpbnRlcmVzdGVkIHBhcnRpZXNcbiAgICB0aGlzLl9ldmVudEJ1cy5maXJlKCdmb3JtLmxheW91dENsZWFyZWQnKTtcbiAgfVxufVxuRm9ybUxheW91dGVyLiRpbmplY3QgPSBbJ2V2ZW50QnVzJ107XG5cbi8vIGhlbHBlcnMgLy8vLy8vXG5cbmZ1bmN0aW9uIGdyb3VwQnlSb3coY29tcG9uZW50cywgaWRzKSB7XG4gIHJldHVybiBncm91cEJ5KGNvbXBvbmVudHMsIGMgPT4ge1xuICAgIC8vIG1pdGlnYXRlIG1pc3Npbmcgcm93IGJ5IGNyZWF0aW5nIG5ldyAoaGFuZGxlIGxlZ2FjeSlcbiAgICBjb25zdCB7XG4gICAgICBsYXlvdXRcbiAgICB9ID0gYztcbiAgICBpZiAoIWxheW91dCB8fCAhbGF5b3V0LnJvdykge1xuICAgICAgcmV0dXJuIGlkcy5uZXh0UHJlZml4ZWQoJ1Jvd18nKTtcbiAgICB9XG4gICAgcmV0dXJuIGxheW91dC5yb3c7XG4gIH0pO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8Rm9ybVJvd3M+fSBmb3JtUm93c1xuICogQHJldHVybnMge0FycmF5PEZvcm1Sb3c+fVxuICovXG5mdW5jdGlvbiBhbGxSb3dzKGZvcm1Sb3dzKSB7XG4gIHJldHVybiBmb3JtUm93cy5tYXAociA9PiByLnJvd3MpLmZsYXQoKTtcbn1cblxuY2xhc3MgRm9ybUZpZWxkUmVnaXN0cnkge1xuICBjb25zdHJ1Y3RvcihldmVudEJ1cykge1xuICAgIHRoaXMuX2V2ZW50QnVzID0gZXZlbnRCdXM7XG4gICAgdGhpcy5fZm9ybUZpZWxkcyA9IHt9O1xuICAgIGV2ZW50QnVzLm9uKCdmb3JtLmNsZWFyJywgKCkgPT4gdGhpcy5jbGVhcigpKTtcbiAgICB0aGlzLl9pZHMgPSBuZXcgSWRzKFszMiwgMzYsIDFdKTtcbiAgfVxuICBhZGQoZm9ybUZpZWxkKSB7XG4gICAgY29uc3Qge1xuICAgICAgaWRcbiAgICB9ID0gZm9ybUZpZWxkO1xuICAgIGlmICh0aGlzLl9mb3JtRmllbGRzW2lkXSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBmb3JtIGZpZWxkIHdpdGggSUQgJHtpZH0gYWxyZWFkeSBleGlzdHNgKTtcbiAgICB9XG4gICAgdGhpcy5fZXZlbnRCdXMuZmlyZSgnZm9ybUZpZWxkLmFkZCcsIHtcbiAgICAgIGZvcm1GaWVsZFxuICAgIH0pO1xuICAgIHRoaXMuX2Zvcm1GaWVsZHNbaWRdID0gZm9ybUZpZWxkO1xuICB9XG4gIHJlbW92ZShmb3JtRmllbGQpIHtcbiAgICBjb25zdCB7XG4gICAgICBpZFxuICAgIH0gPSBmb3JtRmllbGQ7XG4gICAgaWYgKCF0aGlzLl9mb3JtRmllbGRzW2lkXSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9ldmVudEJ1cy5maXJlKCdmb3JtRmllbGQucmVtb3ZlJywge1xuICAgICAgZm9ybUZpZWxkXG4gICAgfSk7XG4gICAgZGVsZXRlIHRoaXMuX2Zvcm1GaWVsZHNbaWRdO1xuICB9XG4gIGdldChpZCkge1xuICAgIHJldHVybiB0aGlzLl9mb3JtRmllbGRzW2lkXTtcbiAgfVxuICBnZXRBbGwoKSB7XG4gICAgcmV0dXJuIE9iamVjdC52YWx1ZXModGhpcy5fZm9ybUZpZWxkcyk7XG4gIH1cbiAgZ2V0Rm9ybSgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRBbGwoKS5maW5kKGZvcm1GaWVsZCA9PiBmb3JtRmllbGQudHlwZSA9PT0gJ2RlZmF1bHQnKTtcbiAgfVxuICBmb3JFYWNoKGNhbGxiYWNrKSB7XG4gICAgdGhpcy5nZXRBbGwoKS5mb3JFYWNoKGZvcm1GaWVsZCA9PiBjYWxsYmFjayhmb3JtRmllbGQpKTtcbiAgfVxuICBjbGVhcigpIHtcbiAgICB0aGlzLl9mb3JtRmllbGRzID0ge307XG4gICAgdGhpcy5faWRzLmNsZWFyKCk7XG4gIH1cbn1cbkZvcm1GaWVsZFJlZ2lzdHJ5LiRpbmplY3QgPSBbJ2V2ZW50QnVzJ107XG5cbmNsYXNzIEZvcm1GaWVsZEluc3RhbmNlUmVnaXN0cnkge1xuICBjb25zdHJ1Y3RvcihldmVudEJ1cywgZm9ybUZpZWxkUmVnaXN0cnksIGZvcm1GaWVsZHMpIHtcbiAgICB0aGlzLl9ldmVudEJ1cyA9IGV2ZW50QnVzO1xuICAgIHRoaXMuX2Zvcm1GaWVsZFJlZ2lzdHJ5ID0gZm9ybUZpZWxkUmVnaXN0cnk7XG4gICAgdGhpcy5fZm9ybUZpZWxkcyA9IGZvcm1GaWVsZHM7XG4gICAgdGhpcy5fZm9ybUZpZWxkSW5zdGFuY2VzID0ge307XG4gICAgZXZlbnRCdXMub24oJ2Zvcm0uY2xlYXInLCAoKSA9PiB0aGlzLmNsZWFyKCkpO1xuICB9XG4gIHN5bmNJbnN0YW5jZShpbnN0YW5jZUlkLCBmb3JtRmllbGRJbmZvKSB7XG4gICAgY29uc3Qge1xuICAgICAgaGlkZGVuLFxuICAgICAgLi4ucmVzdEluZm9cbiAgICB9ID0gZm9ybUZpZWxkSW5mbztcbiAgICBjb25zdCBpc0luc3RhbmNlRXhwZWN0ZWQgPSAhaGlkZGVuO1xuICAgIGNvbnN0IGRvZXNJbnN0YW5jZUV4aXN0ID0gdGhpcy5fZm9ybUZpZWxkSW5zdGFuY2VzW2luc3RhbmNlSWRdO1xuICAgIGlmIChpc0luc3RhbmNlRXhwZWN0ZWQgJiYgIWRvZXNJbnN0YW5jZUV4aXN0KSB7XG4gICAgICB0aGlzLl9mb3JtRmllbGRJbnN0YW5jZXNbaW5zdGFuY2VJZF0gPSB7XG4gICAgICAgIGluc3RhbmNlSWQsXG4gICAgICAgIC4uLnJlc3RJbmZvXG4gICAgICB9O1xuICAgICAgdGhpcy5fZXZlbnRCdXMuZmlyZSgnZm9ybUZpZWxkSW5zdGFuY2UuYWRkZWQnLCB7XG4gICAgICAgIGluc3RhbmNlSWRcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoIWlzSW5zdGFuY2VFeHBlY3RlZCAmJiBkb2VzSW5zdGFuY2VFeGlzdCkge1xuICAgICAgZGVsZXRlIHRoaXMuX2Zvcm1GaWVsZEluc3RhbmNlc1tpbnN0YW5jZUlkXTtcbiAgICAgIHRoaXMuX2V2ZW50QnVzLmZpcmUoJ2Zvcm1GaWVsZEluc3RhbmNlLnJlbW92ZWQnLCB7XG4gICAgICAgIGluc3RhbmNlSWRcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoaXNJbnN0YW5jZUV4cGVjdGVkICYmIGRvZXNJbnN0YW5jZUV4aXN0KSB7XG4gICAgICBjb25zdCB3YXNJbnN0YW5jZUNoYW5nZWQgPSBPYmplY3Qua2V5cyhyZXN0SW5mbykuc29tZShrZXkgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fZm9ybUZpZWxkSW5zdGFuY2VzW2luc3RhbmNlSWRdW2tleV0gIT09IHJlc3RJbmZvW2tleV07XG4gICAgICB9KTtcbiAgICAgIGlmICh3YXNJbnN0YW5jZUNoYW5nZWQpIHtcbiAgICAgICAgdGhpcy5fZm9ybUZpZWxkSW5zdGFuY2VzW2luc3RhbmNlSWRdID0ge1xuICAgICAgICAgIGluc3RhbmNlSWQsXG4gICAgICAgICAgLi4ucmVzdEluZm9cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fZXZlbnRCdXMuZmlyZSgnZm9ybUZpZWxkSW5zdGFuY2UuY2hhbmdlZCcsIHtcbiAgICAgICAgICBpbnN0YW5jZUlkXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaW5zdGFuY2VJZDtcbiAgfVxuICBjbGVhbnVwSW5zdGFuY2UoaW5zdGFuY2VJZCkge1xuICAgIGlmICh0aGlzLl9mb3JtRmllbGRJbnN0YW5jZXNbaW5zdGFuY2VJZF0pIHtcbiAgICAgIGRlbGV0ZSB0aGlzLl9mb3JtRmllbGRJbnN0YW5jZXNbaW5zdGFuY2VJZF07XG4gICAgICB0aGlzLl9ldmVudEJ1cy5maXJlKCdmb3JtRmllbGRJbnN0YW5jZS5yZW1vdmVkJywge1xuICAgICAgICBpbnN0YW5jZUlkXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgZ2V0KGluc3RhbmNlSWQpIHtcbiAgICByZXR1cm4gdGhpcy5fZm9ybUZpZWxkSW5zdGFuY2VzW2luc3RhbmNlSWRdO1xuICB9XG4gIGdldEFsbCgpIHtcbiAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyh0aGlzLl9mb3JtRmllbGRJbnN0YW5jZXMpO1xuICB9XG4gIGdldEFsbEtleWVkKCkge1xuICAgIHJldHVybiB0aGlzLmdldEFsbCgpLmZpbHRlcigoe1xuICAgICAgaWRcbiAgICB9KSA9PiB7XG4gICAgICBjb25zdCBmb3JtRmllbGREZWZpbml0aW9uID0gdGhpcy5fZm9ybUZpZWxkUmVnaXN0cnkuZ2V0KGlkKTtcbiAgICAgIGlmICghZm9ybUZpZWxkRGVmaW5pdGlvbikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBjb25zdCB7XG4gICAgICAgIHR5cGVcbiAgICAgIH0gPSBmb3JtRmllbGREZWZpbml0aW9uO1xuICAgICAgY29uc3Qge1xuICAgICAgICBjb25maWdcbiAgICAgIH0gPSB0aGlzLl9mb3JtRmllbGRzLmdldCh0eXBlKTtcbiAgICAgIHJldHVybiBjb25maWcua2V5ZWQ7XG4gICAgfSk7XG4gIH1cbiAgY2xlYXIoKSB7XG4gICAgdGhpcy5fZm9ybUZpZWxkSW5zdGFuY2VzID0ge307XG4gIH1cbn1cbkZvcm1GaWVsZEluc3RhbmNlUmVnaXN0cnkuJGluamVjdCA9IFsnZXZlbnRCdXMnLCAnZm9ybUZpZWxkUmVnaXN0cnknLCAnZm9ybUZpZWxkcyddO1xuXG5mdW5jdGlvbiBSZW5kZXJlcihjb25maWcsIGV2ZW50QnVzLCBmb3JtLCBpbmplY3Rvcikge1xuICBjb25zdCBBcHAgPSAoKSA9PiB7XG4gICAgY29uc3QgW3N0YXRlLCBzZXRTdGF0ZV0gPSB1c2VTdGF0ZShmb3JtLl9nZXRTdGF0ZSgpKTtcbiAgICBjb25zdCBmb3JtQ29udGV4dCA9IHtcbiAgICAgIGdldFNlcnZpY2UodHlwZSwgc3RyaWN0ID0gdHJ1ZSkge1xuICAgICAgICByZXR1cm4gaW5qZWN0b3IuZ2V0KHR5cGUsIHN0cmljdCk7XG4gICAgICB9LFxuICAgICAgZm9ybUlkOiBmb3JtLl9pZFxuICAgIH07XG4gICAgZXZlbnRCdXMub24oJ2NoYW5nZWQnLCBuZXdTdGF0ZSA9PiB7XG4gICAgICBzZXRTdGF0ZShuZXdTdGF0ZSk7XG4gICAgfSk7XG4gICAgY29uc3Qgb25DaGFuZ2UgPSB1c2VDYWxsYmFjayh1cGRhdGUgPT4gZm9ybS5fdXBkYXRlKHVwZGF0ZSksIFtdKTtcbiAgICBjb25zdCB7XG4gICAgICBwcm9wZXJ0aWVzXG4gICAgfSA9IHN0YXRlO1xuICAgIGNvbnN0IHtcbiAgICAgIHJlYWRPbmx5XG4gICAgfSA9IHByb3BlcnRpZXM7XG4gICAgY29uc3Qgb25TdWJtaXQgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICBpZiAoIXJlYWRPbmx5KSB7XG4gICAgICAgIGZvcm0uc3VibWl0KCk7XG4gICAgICB9XG4gICAgfSwgW3JlYWRPbmx5XSk7XG4gICAgY29uc3Qgb25SZXNldCA9IHVzZUNhbGxiYWNrKCgpID0+IGZvcm0ucmVzZXQoKSwgW10pO1xuICAgIGNvbnN0IHtcbiAgICAgIHNjaGVtYVxuICAgIH0gPSBzdGF0ZTtcbiAgICBpZiAoIXNjaGVtYSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBqc3goRm9ybUNvbnRleHQuUHJvdmlkZXIsIHtcbiAgICAgIHZhbHVlOiBmb3JtQ29udGV4dCxcbiAgICAgIGNoaWxkcmVuOiBqc3goRm9ybUNvbXBvbmVudCwge1xuICAgICAgICBvbkNoYW5nZTogb25DaGFuZ2UsXG4gICAgICAgIG9uU3VibWl0OiBvblN1Ym1pdCxcbiAgICAgICAgb25SZXNldDogb25SZXNldFxuICAgICAgfSlcbiAgICB9KTtcbiAgfTtcbiAgY29uc3Qge1xuICAgIGNvbnRhaW5lclxuICB9ID0gY29uZmlnO1xuICBldmVudEJ1cy5vbignZm9ybS5pbml0JywgKCkgPT4ge1xuICAgIHJlbmRlcihqc3goQXBwLCB7fSksIGNvbnRhaW5lcik7XG4gIH0pO1xuICBldmVudEJ1cy5vbignZm9ybS5kZXN0cm95JywgKCkgPT4ge1xuICAgIHJlbmRlcihudWxsLCBjb250YWluZXIpO1xuICB9KTtcbn1cblJlbmRlcmVyLiRpbmplY3QgPSBbJ2NvbmZpZy5yZW5kZXJlcicsICdldmVudEJ1cycsICdmb3JtJywgJ2luamVjdG9yJ107XG5cbi8qKlxuICogQHR5cGVkZWYge1JlY29yZDxQcm9wZXJ0eUtleSwgdW5rbm93bj59IFJlbW92ZWREYXRhXG4gKiBAcGFyYW0ge1JlbW92ZWREYXRhfSByZW1vdmVkRGF0YVxuICogQHJldHVybnMge3N0cmluZ1tdfVxuICovXG5jb25zdCBleHRyYWN0RmlsZVJlZmVyZW5jZXNGcm9tUmVtb3ZlZERhdGEgPSByZW1vdmVkRGF0YSA9PiB7XG4gIC8qKiBAdHlwZSB7c3RyaW5nW119ICovXG4gIGNvbnN0IGZpbGVSZWZlcmVuY2VzID0gW107XG4gIGlmIChyZW1vdmVkRGF0YSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmaWxlUmVmZXJlbmNlcztcbiAgfVxuICBPYmplY3QudmFsdWVzKHJlbW92ZWREYXRhKS5mb3JFYWNoKHZhbHVlID0+IHtcbiAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGZpbGVSZWZlcmVuY2VzLnB1c2goLi4uZXh0cmFjdEZpbGVSZWZlcmVuY2VzRnJvbVJlbW92ZWREYXRhKC8qKiBAdHlwZSB7UmVtb3ZlZERhdGF9ICovdmFsdWUpKTtcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICBmaWxlUmVmZXJlbmNlcy5wdXNoKC4uLnZhbHVlLm1hcChleHRyYWN0RmlsZVJlZmVyZW5jZXNGcm9tUmVtb3ZlZERhdGEpLmZsYXQoKSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnICYmIHZhbHVlLnN0YXJ0c1dpdGgoRklMRV9QSUNLRVJfRklMRV9LRVlfUFJFRklYKSkge1xuICAgICAgZmlsZVJlZmVyZW5jZXMucHVzaCh2YWx1ZSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGZpbGVSZWZlcmVuY2VzO1xufTtcblxuY29uc3QgZmlsZVJlZ2lzdHJ5ID0gU3ltYm9sKCdmaWxlUmVnaXN0cnknKTtcbmNvbnN0IGV2ZW50QnVzU3ltYm9sID0gU3ltYm9sKCdldmVudEJ1cycpO1xuY29uc3QgZm9ybUZpZWxkUmVnaXN0cnlTeW1ib2wgPSBTeW1ib2woJ2Zvcm1GaWVsZFJlZ2lzdHJ5Jyk7XG5jb25zdCBmb3JtRmllbGRJbnN0YW5jZVJlZ2lzdHJ5U3ltYm9sID0gU3ltYm9sKCdmb3JtRmllbGRJbnN0YW5jZVJlZ2lzdHJ5Jyk7XG5jb25zdCBFTVBUWV9BUlJBWSA9IFtdO1xuY2xhc3MgRmlsZVJlZ2lzdHJ5IHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7aW1wb3J0KCcuLi9jb3JlL0V2ZW50QnVzJykuRXZlbnRCdXN9IGV2ZW50QnVzXG4gICAqIEBwYXJhbSB7aW1wb3J0KCcuLi9jb3JlL0Zvcm1GaWVsZFJlZ2lzdHJ5JykuRm9ybUZpZWxkUmVnaXN0cnl9IGZvcm1GaWVsZFJlZ2lzdHJ5XG4gICAqIEBwYXJhbSB7aW1wb3J0KCcuLi9jb3JlL0Zvcm1GaWVsZEluc3RhbmNlUmVnaXN0cnknKS5Gb3JtRmllbGRJbnN0YW5jZVJlZ2lzdHJ5fSBmb3JtRmllbGRJbnN0YW5jZVJlZ2lzdHJ5XG4gICAqL1xuICBjb25zdHJ1Y3RvcihldmVudEJ1cywgZm9ybUZpZWxkUmVnaXN0cnksIGZvcm1GaWVsZEluc3RhbmNlUmVnaXN0cnkpIHtcbiAgICAvKiogQHR5cGUge01hcDxzdHJpbmcsIEZpbGVbXT59ICovXG4gICAgdGhpc1tmaWxlUmVnaXN0cnldID0gbmV3IE1hcCgpO1xuICAgIC8qKiBAdHlwZSB7aW1wb3J0KCcuLi9jb3JlL0V2ZW50QnVzJykuRXZlbnRCdXN9ICovXG4gICAgdGhpc1tldmVudEJ1c1N5bWJvbF0gPSBldmVudEJ1cztcbiAgICAvKiogQHR5cGUge2ltcG9ydCgnLi4vY29yZS9Gb3JtRmllbGRSZWdpc3RyeScpLkZvcm1GaWVsZFJlZ2lzdHJ5fSAqL1xuICAgIHRoaXNbZm9ybUZpZWxkUmVnaXN0cnlTeW1ib2xdID0gZm9ybUZpZWxkUmVnaXN0cnk7XG4gICAgLyoqIEB0eXBlIHtpbXBvcnQoJy4uL2NvcmUvRm9ybUZpZWxkSW5zdGFuY2VSZWdpc3RyeScpLkZvcm1GaWVsZEluc3RhbmNlUmVnaXN0cnl9ICovXG4gICAgdGhpc1tmb3JtRmllbGRJbnN0YW5jZVJlZ2lzdHJ5U3ltYm9sXSA9IGZvcm1GaWVsZEluc3RhbmNlUmVnaXN0cnk7XG4gICAgY29uc3QgcmVtb3ZlRmlsZUhhbmRsZXIgPSAoe1xuICAgICAgaXRlbVxuICAgIH0pID0+IHtcbiAgICAgIGNvbnN0IGZpbGVSZWZlcmVuY2VzID0gZXh0cmFjdEZpbGVSZWZlcmVuY2VzRnJvbVJlbW92ZWREYXRhKGl0ZW0pO1xuXG4gICAgICAvLyBSZW1vdmUgYWxsIGZpbGUgcmVmZXJlbmNlcyBmcm9tIHRoZSByZWdpc3RyeVxuICAgICAgZmlsZVJlZmVyZW5jZXMuZm9yRWFjaChmaWxlUmVmZXJlbmNlID0+IHtcbiAgICAgICAgdGhpcy5kZWxldGVGaWxlcyhmaWxlUmVmZXJlbmNlKTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgZXZlbnRCdXMub24oJ2Zvcm0uY2xlYXInLCAoKSA9PiB0aGlzLmNsZWFyKCkpO1xuICAgIGV2ZW50QnVzLm9uKCdjb25kaXRpb25DaGVja2VyLnJlbW92ZScsIHJlbW92ZUZpbGVIYW5kbGVyKTtcbiAgICBldmVudEJ1cy5vbigncmVwZWF0UmVuZGVyTWFuYWdlci5yZW1vdmUnLCByZW1vdmVGaWxlSGFuZGxlcik7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkXG4gICAqIEBwYXJhbSB7RmlsZVtdfSBmaWxlc1xuICAgKi9cbiAgc2V0RmlsZXMoaWQsIGZpbGVzKSB7XG4gICAgdGhpc1tmaWxlUmVnaXN0cnldLnNldChpZCwgZmlsZXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZFxuICAgKiBAcmV0dXJucyB7RmlsZVtdfVxuICAgKi9cbiAgZ2V0RmlsZXMoaWQpIHtcbiAgICByZXR1cm4gdGhpc1tmaWxlUmVnaXN0cnldLmdldChpZCkgfHwgRU1QVFlfQVJSQVk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge3N0cmluZ1tdfVxuICAgKi9cbiAgZ2V0S2V5cygpIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzW2ZpbGVSZWdpc3RyeV0ua2V5cygpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWRcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBoYXNLZXkoaWQpIHtcbiAgICByZXR1cm4gdGhpc1tmaWxlUmVnaXN0cnldLmhhcyhpZCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkXG4gICAqL1xuICBkZWxldGVGaWxlcyhpZCkge1xuICAgIHRoaXNbZmlsZVJlZ2lzdHJ5XS5kZWxldGUoaWQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtNYXA8c3RyaW5nLCBGaWxlW10+fVxuICAgKi9cbiAgZ2V0QWxsRmlsZXMoKSB7XG4gICAgcmV0dXJuIG5ldyBNYXAodGhpc1tmaWxlUmVnaXN0cnldKTtcbiAgfVxuICBjbGVhcigpIHtcbiAgICB0aGlzW2ZpbGVSZWdpc3RyeV0uY2xlYXIoKTtcbiAgfVxufVxuRmlsZVJlZ2lzdHJ5LiRpbmplY3QgPSBbJ2V2ZW50QnVzJywgJ2Zvcm1GaWVsZFJlZ2lzdHJ5JywgJ2Zvcm1GaWVsZEluc3RhbmNlUmVnaXN0cnknXTtcblxuY29uc3QgUmVuZGVyTW9kdWxlID0ge1xuICBfX2luaXRfXzogWydmb3JtRmllbGRzJywgJ3JlbmRlcmVyJ10sXG4gIGZvcm1GaWVsZHM6IFsndHlwZScsIEZvcm1GaWVsZHNdLFxuICByZW5kZXJlcjogWyd0eXBlJywgUmVuZGVyZXJdLFxuICBmaWxlUmVnaXN0cnk6IFsndHlwZScsIEZpbGVSZWdpc3RyeV1cbn07XG5cbmNvbnN0IENvcmVNb2R1bGUgPSB7XG4gIF9fZGVwZW5kc19fOiBbUmVuZGVyTW9kdWxlXSxcbiAgZXZlbnRCdXM6IFsndHlwZScsIEV2ZW50QnVzXSxcbiAgaW1wb3J0ZXI6IFsndHlwZScsIEltcG9ydGVyXSxcbiAgZmllbGRGYWN0b3J5OiBbJ3R5cGUnLCBGaWVsZEZhY3RvcnldLFxuICBmb3JtRmllbGRSZWdpc3RyeTogWyd0eXBlJywgRm9ybUZpZWxkUmVnaXN0cnldLFxuICBmb3JtRmllbGRJbnN0YW5jZVJlZ2lzdHJ5OiBbJ3R5cGUnLCBGb3JtRmllbGRJbnN0YW5jZVJlZ2lzdHJ5XSxcbiAgcGF0aFJlZ2lzdHJ5OiBbJ3R5cGUnLCBQYXRoUmVnaXN0cnldLFxuICBmb3JtTGF5b3V0ZXI6IFsndHlwZScsIEZvcm1MYXlvdXRlcl0sXG4gIHZhbGlkYXRvcjogWyd0eXBlJywgVmFsaWRhdG9yXVxufTtcblxuLyoqXG4gKiBAdHlwZWRlZiB7IGltcG9ydCgnLi90eXBlcycpLkluamVjdG9yIH0gSW5qZWN0b3JcbiAqIEB0eXBlZGVmIHsgaW1wb3J0KCcuL3R5cGVzJykuRGF0YSB9IERhdGFcbiAqIEB0eXBlZGVmIHsgaW1wb3J0KCcuL3R5cGVzJykuRXJyb3JzIH0gRXJyb3JzXG4gKiBAdHlwZWRlZiB7IGltcG9ydCgnLi90eXBlcycpLlNjaGVtYSB9IFNjaGVtYVxuICogQHR5cGVkZWYgeyBpbXBvcnQoJy4vdHlwZXMnKS5Gb3JtUHJvcGVydGllcyB9IEZvcm1Qcm9wZXJ0aWVzXG4gKiBAdHlwZWRlZiB7IGltcG9ydCgnLi90eXBlcycpLkZvcm1Qcm9wZXJ0eSB9IEZvcm1Qcm9wZXJ0eVxuICogQHR5cGVkZWYgeyBpbXBvcnQoJy4vdHlwZXMnKS5Gb3JtRXZlbnQgfSBGb3JtRXZlbnRcbiAqIEB0eXBlZGVmIHsgaW1wb3J0KCcuL3R5cGVzJykuRm9ybU9wdGlvbnMgfSBGb3JtT3B0aW9uc1xuICpcbiAqIEB0eXBlZGVmIHsge1xuICogICBkYXRhOiBEYXRhLFxuICogICBpbml0aWFsRGF0YTogRGF0YSxcbiAqICAgZXJyb3JzOiBFcnJvcnMsXG4gKiAgIHByb3BlcnRpZXM6IEZvcm1Qcm9wZXJ0aWVzLFxuICogICBzY2hlbWE6IFNjaGVtYVxuICogfSB9IFN0YXRlXG4gKlxuICogQHR5cGVkZWYgeyAodHlwZTpGb3JtRXZlbnQsIHByaW9yaXR5Om51bWJlciwgaGFuZGxlcjpGdW5jdGlvbikgPT4gdm9pZCB9IE9uRXZlbnRXaXRoUHJpb3JpdHlcbiAqIEB0eXBlZGVmIHsgKHR5cGU6Rm9ybUV2ZW50LCBoYW5kbGVyOkZ1bmN0aW9uKSA9PiB2b2lkIH0gT25FdmVudFdpdGhPdXRQcmlvcml0eVxuICogQHR5cGVkZWYgeyBPbkV2ZW50V2l0aFByaW9yaXR5ICYgT25FdmVudFdpdGhPdXRQcmlvcml0eSB9IE9uRXZlbnRUeXBlXG4gKi9cblxuY29uc3QgaWRzID0gbmV3IElkcyhbMzIsIDM2LCAxXSk7XG5cbi8qKlxuICogVGhlIGZvcm0uXG4gKi9cbmNsYXNzIEZvcm0ge1xuICAvKipcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSB7Rm9ybU9wdGlvbnN9IG9wdGlvbnNcbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkge1xuICAgIC8qKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAdHlwZSB7T25FdmVudFR5cGV9XG4gICAgICovXG4gICAgdGhpcy5vbiA9IHRoaXMuX29uRXZlbnQ7XG5cbiAgICAvKipcbiAgICAgKiBAcHVibGljXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLl9pZCA9IGlkcy5uZXh0KCk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtFbGVtZW50fVxuICAgICAqL1xuICAgIHRoaXMuX2NvbnRhaW5lciA9IGNyZWF0ZUZvcm1Db250YWluZXIoKTtcbiAgICBjb25zdCB7XG4gICAgICBjb250YWluZXIsXG4gICAgICBpbmplY3RvciA9IHRoaXMuX2NyZWF0ZUluamVjdG9yKG9wdGlvbnMsIHRoaXMuX2NvbnRhaW5lciksXG4gICAgICBwcm9wZXJ0aWVzID0ge31cbiAgICB9ID0gb3B0aW9ucztcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge1N0YXRlfVxuICAgICAqL1xuICAgIHRoaXMuX3N0YXRlID0ge1xuICAgICAgaW5pdGlhbERhdGE6IG51bGwsXG4gICAgICBkYXRhOiBudWxsLFxuICAgICAgcHJvcGVydGllcyxcbiAgICAgIGVycm9yczoge30sXG4gICAgICBzY2hlbWE6IG51bGxcbiAgICB9O1xuICAgIHRoaXMuZ2V0ID0gaW5qZWN0b3IuZ2V0O1xuICAgIHRoaXMuaW52b2tlID0gaW5qZWN0b3IuaW52b2tlO1xuICAgIHRoaXMuZ2V0KCdldmVudEJ1cycpLmZpcmUoJ2Zvcm0uaW5pdCcpO1xuICAgIGlmIChjb250YWluZXIpIHtcbiAgICAgIHRoaXMuYXR0YWNoVG8oY29udGFpbmVyKTtcbiAgICB9XG4gIH1cbiAgY2xlYXIoKSB7XG4gICAgLy8gY2xlYXIgZGlhZ3JhbSBzZXJ2aWNlcyAoZS5nLiBFdmVudEJ1cylcbiAgICB0aGlzLl9lbWl0KCdkaWFncmFtLmNsZWFyJyk7XG5cbiAgICAvLyBjbGVhciBmb3JtIHNlcnZpY2VzXG4gICAgdGhpcy5fZW1pdCgnZm9ybS5jbGVhcicpO1xuICB9XG5cbiAgLyoqXG4gICAqIERlc3Ryb3kgdGhlIGZvcm0sIHJlbW92aW5nIGl0IGZyb20gRE9NLFxuICAgKiBpZiBhdHRhY2hlZC5cbiAgICovXG4gIGRlc3Ryb3koKSB7XG4gICAgLy8gZGVzdHJveSBmb3JtIHNlcnZpY2VzXG4gICAgdGhpcy5nZXQoJ2V2ZW50QnVzJykuZmlyZSgnZm9ybS5kZXN0cm95Jyk7XG5cbiAgICAvLyBkZXN0cm95IGRpYWdyYW0gc2VydmljZXMgKGUuZy4gRXZlbnRCdXMpXG4gICAgdGhpcy5nZXQoJ2V2ZW50QnVzJykuZmlyZSgnZGlhZ3JhbS5kZXN0cm95Jyk7XG4gICAgdGhpcy5fZGV0YWNoKGZhbHNlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBPcGVuIGEgZm9ybSBzY2hlbWEgd2l0aCB0aGUgZ2l2ZW4gaW5pdGlhbCBkYXRhLlxuICAgKlxuICAgKiBAcGFyYW0ge1NjaGVtYX0gc2NoZW1hXG4gICAqIEBwYXJhbSB7RGF0YX0gW2RhdGFdXG4gICAqXG4gICAqIEByZXR1cm4gUHJvbWlzZTx7IHdhcm5pbmdzOiBBcnJheTxhbnk+IH0+XG4gICAqL1xuICBpbXBvcnRTY2hlbWEoc2NoZW1hLCBkYXRhID0ge30pIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgc2NoZW1hOiBpbXBvcnRlZFNjaGVtYSxcbiAgICAgICAgICB3YXJuaW5nc1xuICAgICAgICB9ID0gdGhpcy5nZXQoJ2ltcG9ydGVyJykuaW1wb3J0U2NoZW1hKHNjaGVtYSk7XG4gICAgICAgIGNvbnN0IGluaXRpYWxpemVkRGF0YSA9IHRoaXMuX2dldEluaXRpYWxpemVkRmllbGREYXRhKGNsb25lKGRhdGEpKTtcbiAgICAgICAgdGhpcy5fc2V0U3RhdGUoe1xuICAgICAgICAgIGRhdGE6IGluaXRpYWxpemVkRGF0YSxcbiAgICAgICAgICBlcnJvcnM6IHt9LFxuICAgICAgICAgIHNjaGVtYTogaW1wb3J0ZWRTY2hlbWEsXG4gICAgICAgICAgaW5pdGlhbERhdGE6IGNsb25lKGluaXRpYWxpemVkRGF0YSlcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX2VtaXQoJ2ltcG9ydC5kb25lJywge1xuICAgICAgICAgIHdhcm5pbmdzXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcmVzb2x2ZSh7XG4gICAgICAgICAgd2FybmluZ3NcbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICB0aGlzLl9lbWl0KCdpbXBvcnQuZG9uZScsIHtcbiAgICAgICAgICBlcnJvcixcbiAgICAgICAgICB3YXJuaW5nczogZXJyb3Iud2FybmluZ3MgfHwgW11cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZWplY3QoZXJyb3IpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFN1Ym1pdCB0aGUgZm9ybSwgdHJpZ2dlcmluZyBhbGwgZmllbGQgdmFsaWRhdGlvbnMuXG4gICAqXG4gICAqIEByZXR1cm5zIHsgeyBkYXRhOiBEYXRhLCBlcnJvcnM6IEVycm9ycywgZmlsZXM6IE1hcDxzdHJpbmcsIEZpbGVbXT4gfSB9XG4gICAqL1xuICBzdWJtaXQoKSB7XG4gICAgY29uc3Qge1xuICAgICAgcHJvcGVydGllc1xuICAgIH0gPSB0aGlzLl9nZXRTdGF0ZSgpO1xuICAgIGlmIChwcm9wZXJ0aWVzLnJlYWRPbmx5IHx8IHByb3BlcnRpZXMuZGlzYWJsZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignZm9ybSBpcyByZWFkLW9ubHknKTtcbiAgICB9XG4gICAgdGhpcy5fZW1pdCgncHJlc3VibWl0Jyk7XG4gICAgY29uc3QgZGF0YSA9IHRoaXMuX2dldFN1Ym1pdERhdGEoKTtcbiAgICBjb25zdCBlcnJvcnMgPSB0aGlzLnZhbGlkYXRlKCk7XG4gICAgY29uc3QgZmlsZXMgPSB0aGlzLmdldCgnZmlsZVJlZ2lzdHJ5JykuZ2V0QWxsRmlsZXMoKTtcbiAgICBjb25zdCByZXN1bHQgPSB7XG4gICAgICBkYXRhLFxuICAgICAgZXJyb3JzLFxuICAgICAgZmlsZXNcbiAgICB9O1xuICAgIHRoaXMuX2VtaXQoJ3N1Ym1pdCcsIHJlc3VsdCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICByZXNldCgpIHtcbiAgICB0aGlzLl9lbWl0KCdyZXNldCcpO1xuICAgIHRoaXMuX3NldFN0YXRlKHtcbiAgICAgIGRhdGE6IGNsb25lKHRoaXMuX3N0YXRlLmluaXRpYWxEYXRhKSxcbiAgICAgIGVycm9yczoge31cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7RXJyb3JzfVxuICAgKi9cbiAgdmFsaWRhdGUoKSB7XG4gICAgY29uc3QgZm9ybUZpZWxkUmVnaXN0cnkgPSB0aGlzLmdldCgnZm9ybUZpZWxkUmVnaXN0cnknKSxcbiAgICAgIGZvcm1GaWVsZEluc3RhbmNlUmVnaXN0cnkgPSB0aGlzLmdldCgnZm9ybUZpZWxkSW5zdGFuY2VSZWdpc3RyeScpLFxuICAgICAgdmFsaWRhdG9yID0gdGhpcy5nZXQoJ3ZhbGlkYXRvcicpO1xuICAgIGNvbnN0IHtcbiAgICAgIGRhdGFcbiAgICB9ID0gdGhpcy5fZ2V0U3RhdGUoKTtcbiAgICBjb25zdCBlcnJvcnMgPSB7fTtcbiAgICBjb25zdCBnZXRFcnJvclBhdGggPSAoaWQsIGluZGV4ZXMpID0+IFtpZCwgLi4uT2JqZWN0LnZhbHVlcyhpbmRleGVzIHx8IHt9KV07XG4gICAgZm9ybUZpZWxkSW5zdGFuY2VSZWdpc3RyeS5nZXRBbGxLZXllZCgpLmZvckVhY2goZmllbGRJbnN0YW5jZSA9PiB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIGlkLFxuICAgICAgICB2YWx1ZVBhdGgsXG4gICAgICAgIGluZGV4ZXNcbiAgICAgIH0gPSBmaWVsZEluc3RhbmNlO1xuICAgICAgY29uc3QgZmllbGQgPSBmb3JtRmllbGRSZWdpc3RyeS5nZXQoaWQpO1xuXG4gICAgICAvLyAoMSkgU2tpcCBkaXNhYmxlZCBmaWVsZHNcbiAgICAgIGlmIChmaWVsZC5kaXNhYmxlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vICgyKSBWYWxpZGF0ZSB0aGUgZmllbGQgaW5zdGFuY2VcbiAgICAgIGNvbnN0IHZhbHVlID0gZ2V0KGRhdGEsIHZhbHVlUGF0aCk7XG4gICAgICBjb25zdCBmaWVsZEVycm9ycyA9IHZhbGlkYXRvci52YWxpZGF0ZUZpZWxkSW5zdGFuY2UoZmllbGRJbnN0YW5jZSwgdmFsdWUpO1xuICAgICAgaWYgKGZpZWxkRXJyb3JzLmxlbmd0aCkge1xuICAgICAgICBzZXQoZXJyb3JzLCBnZXRFcnJvclBhdGgoZmllbGQuaWQsIGluZGV4ZXMpLCBmaWVsZEVycm9ycyk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5fc2V0U3RhdGUoe1xuICAgICAgZXJyb3JzXG4gICAgfSk7XG5cbiAgICAvLyBAdHMtaWdub3JlXG4gICAgcmV0dXJuIGVycm9ycztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0VsZW1lbnR8c3RyaW5nfSBwYXJlbnROb2RlXG4gICAqL1xuICBhdHRhY2hUbyhwYXJlbnROb2RlKSB7XG4gICAgaWYgKCFwYXJlbnROb2RlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3BhcmVudE5vZGUgcmVxdWlyZWQnKTtcbiAgICB9XG4gICAgdGhpcy5kZXRhY2goKTtcbiAgICBpZiAoaXNTdHJpbmcocGFyZW50Tm9kZSkpIHtcbiAgICAgIHBhcmVudE5vZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBhcmVudE5vZGUpO1xuICAgIH1cbiAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLl9jb250YWluZXI7XG4gICAgcGFyZW50Tm9kZS5hcHBlbmRDaGlsZChjb250YWluZXIpO1xuICAgIHRoaXMuX2VtaXQoJ2F0dGFjaCcpO1xuICB9XG4gIGRldGFjaCgpIHtcbiAgICB0aGlzLl9kZXRhY2goKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtlbWl0XVxuICAgKi9cbiAgX2RldGFjaChlbWl0ID0gdHJ1ZSkge1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuX2NvbnRhaW5lcixcbiAgICAgIHBhcmVudE5vZGUgPSBjb250YWluZXIucGFyZW50Tm9kZTtcbiAgICBpZiAoIXBhcmVudE5vZGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGVtaXQpIHtcbiAgICAgIHRoaXMuX2VtaXQoJ2RldGFjaCcpO1xuICAgIH1cbiAgICBwYXJlbnROb2RlLnJlbW92ZUNoaWxkKGNvbnRhaW5lcik7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtGb3JtUHJvcGVydHl9IHByb3BlcnR5XG4gICAqIEBwYXJhbSB7YW55fSB2YWx1ZVxuICAgKi9cbiAgc2V0UHJvcGVydHkocHJvcGVydHksIHZhbHVlKSB7XG4gICAgY29uc3QgcHJvcGVydGllcyA9IHNldCh0aGlzLl9nZXRTdGF0ZSgpLnByb3BlcnRpZXMsIFtwcm9wZXJ0eV0sIHZhbHVlKTtcbiAgICB0aGlzLl9zZXRTdGF0ZSh7XG4gICAgICBwcm9wZXJ0aWVzXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtGb3JtRXZlbnR9IHR5cGVcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaGFuZGxlclxuICAgKi9cbiAgb2ZmKHR5cGUsIGhhbmRsZXIpIHtcbiAgICB0aGlzLmdldCgnZXZlbnRCdXMnKS5vZmYodHlwZSwgaGFuZGxlcik7XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICpcbiAgICogQHBhcmFtIHtGb3JtT3B0aW9uc30gb3B0aW9uc1xuICAgKiBAcGFyYW0ge0VsZW1lbnR9IGNvbnRhaW5lclxuICAgKlxuICAgKiBAcmV0dXJucyB7SW5qZWN0b3J9XG4gICAqL1xuICBfY3JlYXRlSW5qZWN0b3Iob3B0aW9ucywgY29udGFpbmVyKSB7XG4gICAgY29uc3Qge1xuICAgICAgbW9kdWxlcyA9IHRoaXMuX2dldE1vZHVsZXMoKSxcbiAgICAgIGFkZGl0aW9uYWxNb2R1bGVzID0gW10sXG4gICAgICAuLi5jb25maWdcbiAgICB9ID0gb3B0aW9ucztcbiAgICBjb25zdCBlbnJpY2hlZENvbmZpZyA9IHtcbiAgICAgIC4uLmNvbmZpZyxcbiAgICAgIHJlbmRlcmVyOiB7XG4gICAgICAgIGNvbnRhaW5lclxuICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIGNyZWF0ZUluamVjdG9yKFt7XG4gICAgICBjb25maWc6IFsndmFsdWUnLCBlbnJpY2hlZENvbmZpZ11cbiAgICB9LCB7XG4gICAgICBmb3JtOiBbJ3ZhbHVlJywgdGhpc11cbiAgICB9LCBDb3JlTW9kdWxlLCAuLi5tb2R1bGVzLCAuLi5hZGRpdGlvbmFsTW9kdWxlc10pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZW1pdCh0eXBlLCBkYXRhKSB7XG4gICAgdGhpcy5nZXQoJ2V2ZW50QnVzJykuZmlyZSh0eXBlLCBkYXRhKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICpcbiAgICogQHBhcmFtIHsgeyBmaWVsZEluc3RhbmNlOiBhbnksIHZhbHVlOiBhbnkgfSB9IHVwZGF0ZVxuICAgKi9cbiAgX3VwZGF0ZSh1cGRhdGUpIHtcbiAgICBjb25zdCB7XG4gICAgICBmaWVsZEluc3RhbmNlLFxuICAgICAgdmFsdWVcbiAgICB9ID0gdXBkYXRlO1xuICAgIGNvbnN0IHtcbiAgICAgIGlkLFxuICAgICAgdmFsdWVQYXRoLFxuICAgICAgaW5kZXhlc1xuICAgIH0gPSBmaWVsZEluc3RhbmNlO1xuICAgIGNvbnN0IHtcbiAgICAgIGRhdGEsXG4gICAgICBlcnJvcnNcbiAgICB9ID0gdGhpcy5fZ2V0U3RhdGUoKTtcbiAgICBjb25zdCB2YWxpZGF0b3IgPSB0aGlzLmdldCgndmFsaWRhdG9yJyk7XG4gICAgY29uc3QgZmllbGRFcnJvcnMgPSB2YWxpZGF0b3IudmFsaWRhdGVGaWVsZEluc3RhbmNlKGZpZWxkSW5zdGFuY2UsIHZhbHVlKTtcbiAgICBzZXQoZGF0YSwgdmFsdWVQYXRoLCB2YWx1ZSk7XG4gICAgc2V0KGVycm9ycywgW2lkLCAuLi5PYmplY3QudmFsdWVzKGluZGV4ZXMgfHwge30pXSwgZmllbGRFcnJvcnMubGVuZ3RoID8gZmllbGRFcnJvcnMgOiB1bmRlZmluZWQpO1xuICAgIHRoaXMuX2VtaXQoJ2ZpZWxkLnVwZGF0ZWQnLCB1cGRhdGUpO1xuICAgIHRoaXMuX3NldFN0YXRlKHtcbiAgICAgIGRhdGE6IGNsb25lKGRhdGEpLFxuICAgICAgZXJyb3JzOiBjbG9uZShlcnJvcnMpXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqL1xuICBfZ2V0U3RhdGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3N0YXRlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgX3NldFN0YXRlKHN0YXRlKSB7XG4gICAgdGhpcy5fc3RhdGUgPSB7XG4gICAgICAuLi50aGlzLl9zdGF0ZSxcbiAgICAgIC4uLnN0YXRlXG4gICAgfTtcbiAgICB0aGlzLl9lbWl0KCdjaGFuZ2VkJywgdGhpcy5fZ2V0U3RhdGUoKSk7XG4gIH1cblxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqL1xuICBfZ2V0TW9kdWxlcygpIHtcbiAgICByZXR1cm4gW0V4cHJlc3Npb25MYW5ndWFnZU1vZHVsZSwgRXhwcmVzc2lvbkZpZWxkTW9kdWxlLCBNYXJrZG93blJlbmRlcmVyTW9kdWxlLCBWaWV3ZXJDb21tYW5kc01vZHVsZSwgUmVwZWF0UmVuZGVyTW9kdWxlXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIF9vbkV2ZW50KHR5cGUsIHByaW9yaXR5LCBoYW5kbGVyKSB7XG4gICAgdGhpcy5nZXQoJ2V2ZW50QnVzJykub24odHlwZSwgcHJpb3JpdHksIGhhbmRsZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgX2dldFN1Ym1pdERhdGEoKSB7XG4gICAgY29uc3QgZm9ybUZpZWxkUmVnaXN0cnkgPSB0aGlzLmdldCgnZm9ybUZpZWxkUmVnaXN0cnknKTtcbiAgICBjb25zdCBmb3JtRmllbGRJbnN0YW5jZVJlZ2lzdHJ5ID0gdGhpcy5nZXQoJ2Zvcm1GaWVsZEluc3RhbmNlUmVnaXN0cnknKTtcbiAgICBjb25zdCBmb3JtRGF0YSA9IHRoaXMuX2dldFN0YXRlKCkuZGF0YTtcbiAgICBjb25zdCBzdWJtaXREYXRhID0ge307XG4gICAgZm9ybUZpZWxkSW5zdGFuY2VSZWdpc3RyeS5nZXRBbGxLZXllZCgpLmZvckVhY2goZm9ybUZpZWxkSW5zdGFuY2UgPT4ge1xuICAgICAgY29uc3Qge1xuICAgICAgICBpZCxcbiAgICAgICAgdmFsdWVQYXRoXG4gICAgICB9ID0gZm9ybUZpZWxkSW5zdGFuY2U7XG4gICAgICBjb25zdCB7XG4gICAgICAgIGRpc2FibGVkXG4gICAgICB9ID0gZm9ybUZpZWxkUmVnaXN0cnkuZ2V0KGlkKTtcbiAgICAgIGlmIChkaXNhYmxlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCB2YWx1ZSA9IGdldChmb3JtRGF0YSwgdmFsdWVQYXRoKTtcbiAgICAgIHNldChzdWJtaXREYXRhLCB2YWx1ZVBhdGgsIHZhbHVlKTtcbiAgICB9KTtcbiAgICByZXR1cm4gc3VibWl0RGF0YTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIF9nZXRJbml0aWFsaXplZEZpZWxkRGF0YShkYXRhLCBvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCBmb3JtRmllbGRSZWdpc3RyeSA9IHRoaXMuZ2V0KCdmb3JtRmllbGRSZWdpc3RyeScpO1xuICAgIGNvbnN0IGZvcm1GaWVsZHMgPSB0aGlzLmdldCgnZm9ybUZpZWxkcycpO1xuICAgIGNvbnN0IHBhdGhSZWdpc3RyeSA9IHRoaXMuZ2V0KCdwYXRoUmVnaXN0cnknKTtcbiAgICBmdW5jdGlvbiBpbml0aWFsaXplRmllbGREYXRhUmVjdXJzaXZlbHkoaW5pdGlhbGl6ZWREYXRhLCBmb3JtRmllbGQsIGluZGV4ZXMpIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgZGVmYXVsdFZhbHVlLFxuICAgICAgICB0eXBlLFxuICAgICAgICBpc1JlcGVhdGluZ1xuICAgICAgfSA9IGZvcm1GaWVsZDtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgY29uZmlnOiBmaWVsZENvbmZpZ1xuICAgICAgfSA9IGZvcm1GaWVsZHMuZ2V0KHR5cGUpO1xuICAgICAgY29uc3QgdmFsdWVQYXRoID0gcGF0aFJlZ2lzdHJ5LmdldFZhbHVlUGF0aChmb3JtRmllbGQsIHtcbiAgICAgICAgaW5kZXhlc1xuICAgICAgfSk7XG4gICAgICBsZXQgdmFsdWVEYXRhID0gZ2V0KGRhdGEsIHZhbHVlUGF0aCk7XG5cbiAgICAgIC8vICgxKSBQcm9jZXNzIGtleWVkIGZpZWxkc1xuICAgICAgaWYgKGZpZWxkQ29uZmlnLmtleWVkKSB7XG4gICAgICAgIC8vIChhKSBSZXRyaWV2ZSBhbmQgc2FuaXRpemUgZGF0YSBmcm9tIGlucHV0XG4gICAgICAgIGlmICghaXNVbmRlZmluZWQodmFsdWVEYXRhKSAmJiBmaWVsZENvbmZpZy5zYW5pdGl6ZVZhbHVlKSB7XG4gICAgICAgICAgdmFsdWVEYXRhID0gZmllbGRDb25maWcuc2FuaXRpemVWYWx1ZSh7XG4gICAgICAgICAgICBmb3JtRmllbGQsXG4gICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgdmFsdWU6IHZhbHVlRGF0YVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gKGIpIEluaXRpYWxpemUgZmllbGQgdmFsdWUgaW4gb3V0cHV0IGRhdGFcbiAgICAgICAgY29uc3QgaW5pdGlhbGl6ZWRGaWVsZFZhbHVlID0gIWlzVW5kZWZpbmVkKHZhbHVlRGF0YSkgPyB2YWx1ZURhdGEgOiAhaXNVbmRlZmluZWQoZGVmYXVsdFZhbHVlKSA/IGRlZmF1bHRWYWx1ZSA6IGZpZWxkQ29uZmlnLmVtcHR5VmFsdWU7XG4gICAgICAgIHNldChpbml0aWFsaXplZERhdGEsIHZhbHVlUGF0aCwgaW5pdGlhbGl6ZWRGaWVsZFZhbHVlKTtcbiAgICAgIH1cblxuICAgICAgLy8gKDIpIFByb2Nlc3MgcGFyZW50c1xuICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGZvcm1GaWVsZC5jb21wb25lbnRzKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoZmllbGRDb25maWcucmVwZWF0YWJsZSAmJiBpc1JlcGVhdGluZykge1xuICAgICAgICAvLyAoYSkgU2FuaXRpemUgcmVwZWF0YWJsZSBwYXJlbnRzIGRhdGEgaWYgaXQgaXMgbm90IGFuIGFycmF5XG4gICAgICAgIGlmICghdmFsdWVEYXRhIHx8ICFBcnJheS5pc0FycmF5KHZhbHVlRGF0YSkpIHtcbiAgICAgICAgICB2YWx1ZURhdGEgPSBuZXcgQXJyYXkoaXNVbmRlZmluZWQoZm9ybUZpZWxkLmRlZmF1bHRSZXBldGl0aW9ucykgPyAxIDogZm9ybUZpZWxkLmRlZmF1bHRSZXBldGl0aW9ucykuZmlsbCgpLm1hcChfID0+ICh7fSkpIHx8IFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gKGIpIEVuc3VyZSBhbGwgZWxlbWVudHMgb2YgdGhlIGFycmF5IGFyZSBvYmplY3RzXG4gICAgICAgIHZhbHVlRGF0YSA9IHZhbHVlRGF0YS5tYXAodmFsID0+IGlzT2JqZWN0KHZhbCkgPyB2YWwgOiB7fSk7XG5cbiAgICAgICAgLy8gKGMpIEluaXRpYWxpemUgZmllbGQgdmFsdWUgaW4gb3V0cHV0IGRhdGFcbiAgICAgICAgc2V0KGluaXRpYWxpemVkRGF0YSwgdmFsdWVQYXRoLCB2YWx1ZURhdGEpO1xuXG4gICAgICAgIC8vIChkKSBJZiBpbmRleGVkIGFoZWFkIG9mIHRpbWUsIHJlY3Vyc2UgcmVwZWF0YWJsZSBzaW1wbHkgYWNyb3NzIHRoZSBjaGlsZHJlblxuICAgICAgICBpZiAoIWlzVW5kZWZpbmVkKGluZGV4ZXNbZm9ybUZpZWxkLmlkXSkpIHtcbiAgICAgICAgICBmb3JtRmllbGQuY29tcG9uZW50cy5mb3JFYWNoKGNvbXBvbmVudCA9PiBpbml0aWFsaXplRmllbGREYXRhUmVjdXJzaXZlbHkoaW5pdGlhbGl6ZWREYXRhLCBjb21wb25lbnQsIHtcbiAgICAgICAgICAgIC4uLmluZGV4ZXNcbiAgICAgICAgICB9KSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gKGUxKSBSZWN1cnNlIHJlcGVhdGFibGUgcGFyZW50cyBib3RoIGFjcm9zcyB0aGUgaW5kZXhlcyBvZiByZXBldGl0aW9uIGFuZCB0aGUgY2hpbGRyZW5cbiAgICAgICAgdmFsdWVEYXRhLmZvckVhY2goKF8sIGluZGV4KSA9PiB7XG4gICAgICAgICAgZm9ybUZpZWxkLmNvbXBvbmVudHMuZm9yRWFjaChjb21wb25lbnQgPT4gaW5pdGlhbGl6ZUZpZWxkRGF0YVJlY3Vyc2l2ZWx5KGluaXRpYWxpemVkRGF0YSwgY29tcG9uZW50LCB7XG4gICAgICAgICAgICAuLi5pbmRleGVzLFxuICAgICAgICAgICAgW2Zvcm1GaWVsZC5pZF06IGluZGV4XG4gICAgICAgICAgfSkpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyAoZTIpIFJlY3Vyc2Ugbm9uLXJlcGVhdGFibGUgcGFyZW50cyBvbmx5IGFjcm9zcyB0aGUgY2hpbGRyZW5cbiAgICAgIGZvcm1GaWVsZC5jb21wb25lbnRzLmZvckVhY2goY29tcG9uZW50ID0+IGluaXRpYWxpemVGaWVsZERhdGFSZWN1cnNpdmVseShpbml0aWFsaXplZERhdGEsIGNvbXBvbmVudCwgaW5kZXhlcykpO1xuICAgIH1cblxuICAgIC8vIGFsbG93cyBkZWZpbml0aW9uIG9mIGEgc3BlY2lmaWMgc3ViZmllbGQgdG8gZ2VuZXJhdGUgdGhlIGRhdGEgZm9yXG4gICAgY29uc3QgY29udGFpbmVyID0gb3B0aW9ucy5jb250YWluZXIgfHwgZm9ybUZpZWxkUmVnaXN0cnkuZ2V0Rm9ybSgpO1xuICAgIGNvbnN0IGluZGV4ZXMgPSBvcHRpb25zLmluZGV4ZXMgfHwge307XG4gICAgY29uc3QgYmFzZVBhdGggPSBwYXRoUmVnaXN0cnkuZ2V0VmFsdWVQYXRoKGNvbnRhaW5lciwge1xuICAgICAgaW5kZXhlc1xuICAgIH0pIHx8IFtdO1xuXG4gICAgLy8gaWYgaW5kZXhpbmcgYWhlYWQgb2YgdGltZSwgd2UgbXVzdCBhZGQgdGhpcyBpbmRleCB0byB0aGUgZGF0YSBwYXRoIGF0IHRoZSBlbmRcbiAgICBjb25zdCBwYXRoID0gIWlzVW5kZWZpbmVkKGluZGV4ZXNbY29udGFpbmVyLmlkXSkgPyBbLi4uYmFzZVBhdGgsIGluZGV4ZXNbY29udGFpbmVyLmlkXV0gOiBiYXNlUGF0aDtcbiAgICBjb25zdCB3b3JraW5nRGF0YSA9IGNsb25lKGRhdGEpO1xuICAgIGluaXRpYWxpemVGaWVsZERhdGFSZWN1cnNpdmVseSh3b3JraW5nRGF0YSwgY29udGFpbmVyLCBpbmRleGVzKTtcbiAgICByZXR1cm4gZ2V0KHdvcmtpbmdEYXRhLCBwYXRoLCB7fSk7XG4gIH1cbn1cblxuY29uc3Qgc2NoZW1hVmVyc2lvbiA9IDE5O1xuXG4vKipcbiAqIEB0eXBlZGVmIHsgaW1wb3J0KCcuL3R5cGVzJykuQ3JlYXRlRm9ybU9wdGlvbnMgfSBDcmVhdGVGb3JtT3B0aW9uc1xuICovXG5cbi8qKlxuICogQ3JlYXRlIGEgZm9ybS5cbiAqXG4gKiBAcGFyYW0ge0NyZWF0ZUZvcm1PcHRpb25zfSBvcHRpb25zXG4gKlxuICogQHJldHVybiB7UHJvbWlzZTxGb3JtPn1cbiAqL1xuZnVuY3Rpb24gY3JlYXRlRm9ybShvcHRpb25zKSB7XG4gIGNvbnN0IHtcbiAgICBkYXRhLFxuICAgIHNjaGVtYSxcbiAgICAuLi5mb3JtT3B0aW9uc1xuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgZm9ybSA9IG5ldyBGb3JtKGZvcm1PcHRpb25zKTtcbiAgcmV0dXJuIGZvcm0uaW1wb3J0U2NoZW1hKHNjaGVtYSwgZGF0YSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGZvcm07XG4gIH0pO1xufVxuXG5leHBvcnQgeyBBTExPV19BVFRSSUJVVEUsIEJ1dHRvbiwgQ2hlY2tib3gsIENoZWNrbGlzdCwgQ29uZGl0aW9uQ2hlY2tlciwgREFURVRJTUVfU1VCVFlQRVMsIERBVEVUSU1FX1NVQlRZUEVTX0xBQkVMUywgREFURVRJTUVfU1VCVFlQRV9QQVRILCBEQVRFX0RJU0FMTE9XX1BBU1RfUEFUSCwgREFURV9MQUJFTF9QQVRILCBEYXRldGltZSwgRGVmYXVsdCwgRGVzY3JpcHRpb24sIERvY3VtZW50UHJldmlldywgRHluYW1pY0xpc3QsIEVycm9ycywgRXhwcmVzc2lvbkZpZWxkLCBFeHByZXNzaW9uRmllbGRNb2R1bGUsIEV4cHJlc3Npb25MYW5ndWFnZU1vZHVsZSwgRXhwcmVzc2lvbkxvb3BQcmV2ZW50ZXIsIEZlZWxFeHByZXNzaW9uTGFuZ3VhZ2UsIEZlZWxlcnNUZW1wbGF0aW5nLCBGaWVsZEZhY3RvcnksIEZpbGVQaWNrZXIsIEZvcm0sIEZvcm1Db21wb25lbnQsIEZvcm1Db250ZXh0LCBGb3JtRmllbGQsIEZvcm1GaWVsZFJlZ2lzdHJ5LCBGb3JtRmllbGRzLCBGb3JtTGF5b3V0ZXIsIEZvcm1SZW5kZXJDb250ZXh0LCBHcm91cCwgSHRtbCwgSUZyYW1lLCBJbWFnZSwgSW1wb3J0ZXIsIExhYmVsLCBMb2NhbEV4cHJlc3Npb25Db250ZXh0LCBNSU5VVEVTX0lOX0RBWSwgTWFya2Rvd25SZW5kZXJlciwgTWFya2Rvd25SZW5kZXJlck1vZHVsZSwgTnVtYmVyZmllbGQsIE9QVElPTlNfU09VUkNFUywgT1BUSU9OU19TT1VSQ0VTX0RFRkFVTFRTLCBPUFRJT05TX1NPVVJDRVNfTEFCRUxTLCBPUFRJT05TX1NPVVJDRVNfUEFUSFMsIE9QVElPTlNfU09VUkNFX0RFRkFVTFQsIFBhdGhSZWdpc3RyeSwgUmFkaW8sIFJlbmRlck1vZHVsZSwgUmVwZWF0UmVuZGVyTWFuYWdlciwgUmVwZWF0UmVuZGVyTW9kdWxlLCBTQU5EQk9YX0FUVFJJQlVURSwgU0VDVVJJVFlfQVRUUklCVVRFU19ERUZJTklUSU9OUywgU2VsZWN0LCBTZXBhcmF0b3IsIFNwYWNlciwgVEVYVF9WSUVXX0RFRkFVTFRfVEVYVCwgVElNRV9JTlRFUlZBTF9QQVRILCBUSU1FX0xBQkVMX1BBVEgsIFRJTUVfU0VSSUFMSVNJTkdGT1JNQVRfTEFCRUxTLCBUSU1FX1NFUklBTElTSU5HX0ZPUk1BVFMsIFRJTUVfU0VSSUFMSVNJTkdfRk9STUFUX1BBVEgsIFRJTUVfVVNFMjRIX1BBVEgsIFRhYmxlLCBUYWdsaXN0LCBUZXh0LCBUZXh0YXJlYSwgVGV4dGZpZWxkLCBWaWV3ZXJDb21tYW5kcywgVmlld2VyQ29tbWFuZHNNb2R1bGUsIGJ1aWxkRXhwcmVzc2lvbkNvbnRleHQsIGNsb25lLCBjcmVhdGVGb3JtLCBjcmVhdGVGb3JtQ29udGFpbmVyLCBjcmVhdGVJbmplY3RvciwgZXNjYXBlSFRNTCwgZm9ybUZpZWxkcywgZ2VuZXJhdGVJZEZvclR5cGUsIGdlbmVyYXRlSW5kZXhGb3JUeXBlLCBnZXRBbmNlc3RyeUxpc3QsIGdldE9wdGlvbnNTb3VyY2UsIGdldFNjaGVtYVZhcmlhYmxlcywgZ2V0U2Nyb2xsQ29udGFpbmVyLCBoYXNFcXVhbFZhbHVlLCBpY29uc0J5VHlwZSwgaXNSZXF1aXJlZCwgcGF0aFBhcnNlLCBwYXRoc0VxdWFsLCBydW5FeHByZXNzaW9uRXZhbHVhdGlvbiwgcnVuUmVjdXJzaXZlbHksIHNhbml0aXplRGF0ZVRpbWVQaWNrZXJWYWx1ZSwgc2FuaXRpemVIVE1MLCBzYW5pdGl6ZUlGcmFtZVNvdXJjZSwgc2FuaXRpemVJbWFnZVNvdXJjZSwgc2FuaXRpemVNdWx0aVNlbGVjdFZhbHVlLCBzYW5pdGl6ZVNpbmdsZVNlbGVjdFZhbHVlLCBzY2hlbWFWZXJzaW9uLCB1c2VFeHByZXNzaW9uRXZhbHVhdGlvbiwgdXNlU2luZ2xlTGluZVRlbXBsYXRlRXZhbHVhdGlvbiwgdXNlVGVtcGxhdGVFdmFsdWF0aW9uLCB3cmFwQ1NTU3R5bGVzLCB3cmFwT2JqZWN0S2V5c1dpdGhVbmRlcnNjb3JlcyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguZXMuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../node_modules/@bpmn-io/form-js-viewer/dist/index.es.js\n\n}");

/***/ },

/***/ "../node_modules/@camunda/form-playground/dist/index.es.js"
/*!*****************************************************************!*\
  !*** ../node_modules/@camunda/form-playground/dist/index.es.js ***!
  \*****************************************************************/
(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CamundaFormPlayground: () => (/* binding */ CamundaFormPlayground),\n/* harmony export */   createCamundaFormPlayground: () => (/* binding */ createCamundaFormPlayground)\n/* harmony export */ });\n/* harmony import */ var diagram_js_lib_ui__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! diagram-js/lib/ui */ \"../node_modules/htm/preact/index.module.js\");\n/* harmony import */ var diagram_js_lib_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! diagram-js/lib/ui */ \"../node_modules/preact/dist/preact.module.js\");\n/* harmony import */ var diagram_js_lib_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! diagram-js/lib/ui */ \"../node_modules/preact/hooks/dist/hooks.module.js\");\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! min-dom */ \"../node_modules/min-dom/dist/index.js\");\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! min-dom */ \"../node_modules/domify/index.js\");\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(min_dom__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var mitt__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! mitt */ \"../node_modules/mitt/dist/mitt.mjs\");\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! min-dash */ \"../node_modules/@camunda/form-playground/node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! classnames */ \"../node_modules/classnames/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _bpmn_io_form_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @bpmn-io/form-js */ \"../node_modules/@bpmn-io/form-js-viewer/dist/index.es.js\");\n/* harmony import */ var _bpmn_io_form_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @bpmn-io/form-js */ \"../node_modules/@bpmn-io/form-js-playground/dist/index.es.js\");\n\n\n\n\n\n\n\nconst noop = () => {};\n\n\nfunction CollapsiblePanel(props) {\n  const {\n    children,\n    collapseTo,\n    idx,\n    onToggle,\n    open,\n    title\n  } = props;\n\n  const toggle = (event) => {\n    event.stopPropagation();\n    onToggle(open);\n  };\n\n  return (0,diagram_js_lib_ui__WEBPACK_IMPORTED_MODULE_0__.html)`\n    <div \n      data-idx=\"${ idx }\" \n      class=\"${classnames__WEBPACK_IMPORTED_MODULE_7___default()('cfp-collapsible-panel', { open: !collapseTo || open })}\"\n    >\n      <div onClick=\"${ collapseTo ? toggle : noop }\" class=\"cfp-collapsible-panel-title\">\n        <h1>${ title }</h1>\n\n        ${ collapseTo && (0,diagram_js_lib_ui__WEBPACK_IMPORTED_MODULE_0__.html)`\n          <div class=\"cfp-collapsible-panel-actions\">\n            <button \n              title=\"${ open ? 'Close' : 'Open' } ${ title }\"\n              class=\"cfp-collapsible-panel-action\" \n              onClick=\"${ toggle }\"\n            >\n              ${getIcon(collapseTo, open)}\n            </button>\n          </div>\n        `}\n      </div>\n\n      <div class=\"cfp-collapsible-panel-content\">\n        ${ children }\n      </div>\n    </div>\n  `;\n}\n\n\n// helper ////////////////\n\nfunction getIcon(collapseTo, open) {\n  if (collapseTo === 'right') {\n    return open\n      ? (0,diagram_js_lib_ui__WEBPACK_IMPORTED_MODULE_0__.html)`<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\">\n        <path fill-rule=\"evenodd\" d=\"M4.41421356,12.9494942 L3,11.5352806 L6.53553391,7.99974671 L3,4.4642128 L4.41421356,3.04999924 L9.36396103,7.99974671 L4.41421356,12.9494942 Z M9.91421356,3 L11.9142136,3 L11.9142136,13 L9.91421356,13 L9.91421356,3 Z\"/>\n      </svg>`\n      : (0,diagram_js_lib_ui__WEBPACK_IMPORTED_MODULE_0__.html)`<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\">\n        <path fill-rule=\"evenodd\" d=\"M11.5,12.9494942 L6.55025253,7.99974671 L11.5,3.04999924 L12.9142136,4.4642128 L9.37867966,7.99974671 L12.9142136,11.5352806 L11.5,12.9494942 Z M6,3 L6,13 L4,13 L4,3 L6,3 Z\"/>\n      </svg>`;\n  }\n\n  if (collapseTo === 'bottom') {\n    return open\n      ? (0,diagram_js_lib_ui__WEBPACK_IMPORTED_MODULE_0__.html)`<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\">\n        <path fill-rule=\"evenodd\" d=\"M12.9494942,4.41421356 L7.99974671,9.36396103 L3.04999924,4.41421356 L4.4642128,3 L7.99974671,6.53553391 L11.5352806,3 L12.9494942,4.41421356 Z M3,9.91421356 L13,9.91421356 L13,11.9142136 L3,11.9142136 L3,9.91421356 Z\"/>\n      </svg>`\n      : (0,diagram_js_lib_ui__WEBPACK_IMPORTED_MODULE_0__.html)`<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\">\n        <path fill-rule=\"evenodd\" d=\"M12.9494942,11.5 L11.5352806,12.9142136 L7.99974671,9.37867966 L4.4642128,12.9142136 L3.04999924,11.5 L7.99974671,6.55025253 L12.9494942,11.5 Z M3,6 L3,4 L13,4 L13,6 L3,6 Z\"/>\n      </svg>`;\n  }\n}\n\nfunction CollapsedPreview(props) {\n\n  const {\n    idx,\n    onTogglePreview,\n    previewContainerRef,\n    open\n  } = props;\n\n  const onToggle = () => {\n    onTogglePreview();\n  };\n\n  return (0,diagram_js_lib_ui__WEBPACK_IMPORTED_MODULE_0__.html)`\n    <div class=\"${classnames__WEBPACK_IMPORTED_MODULE_7___default()(\n    'cfp-collapsed-preview',\n    { visible: !open })}\">\n      <div class=\"cfp-collapsed-preview-title\" onClick=${ onToggle }>\n        <h1>Form Preview</h1>\n      </div>\n      <div class=\"cfp-collapsed-preview-actions\">\n        <button title=\"Open Form Preview\" class=\"cfp-collapsed-preview-action\" onClick=${ onToggle }>\n          <svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\">\n            <path fill-rule=\"evenodd\" d=\"M11.5,12.9494942 L6.55025253,7.99974671 L11.5,3.04999924 L12.9142136,4.4642128 L9.37867966,7.99974671 L12.9142136,11.5352806 L11.5,12.9494942 Z M6,3 L6,13 L4,13 L4,3 L6,3 Z\"/>\n          </svg>    \n        </button>\n      </div>\n    </div>\n\n    <!-- This is not visible when preview not open -->\n    <${CollapsiblePanel} idx=\"${ idx }\" open=${open} onToggle=${ onToggle } title=\"Form Preview\" collapseTo=\"right\">\n      <div class=\"cfp-preview-container\" ref=${ previewContainerRef }></div>\n    </${CollapsiblePanel}>`;\n}\n\nconst LayoutContext = (0,diagram_js_lib_ui__WEBPACK_IMPORTED_MODULE_1__.createContext)({\n  layout: {},\n  setLayout: () => {},\n  getLayoutForKey: () => {},\n  setLayoutForKey: () => {}\n});\n\nconst DEFAULT_LAYOUT = {};\n\nconst FORM_DEFINITION_IDX = 'form-definition';\nconst FORM_PREVIEW_IDX = 'form-preview';\nconst FORM_INPUT_IDX = 'form-input';\nconst FORM_OUTPUT_IDX = 'form-output';\n\nconst TOGGLABLE_CONTAINERS = [\n  FORM_PREVIEW_IDX,\n  FORM_INPUT_IDX,\n  FORM_OUTPUT_IDX\n];\n\nconst PIPE_EVENTS = [\n  'formPlayground.init',\n  'formPlayground.rendered'\n];\n\n\nfunction PlaygroundComponent(props) {\n\n  const {\n    data,\n    emitter,\n    layoutConfig = {},\n    onInit,\n    schema,\n    ...restProps\n  } = props;\n\n  let playgroundRef = (0,diagram_js_lib_ui__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n\n  const paletteContainerRef = (0,diagram_js_lib_ui__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n  const editorContainerRef = (0,diagram_js_lib_ui__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n  const dataContainerRef = (0,diagram_js_lib_ui__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n  const previewContainerRef = (0,diagram_js_lib_ui__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n  const resultContainerRef = (0,diagram_js_lib_ui__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n  const propertiesContainerRef = (0,diagram_js_lib_ui__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n\n  const rootRef = (0,diagram_js_lib_ui__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n\n  // (1) initialize playground orchestrator\n  (0,diagram_js_lib_ui__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    playgroundRef.current = new _bpmn_io_form_js__WEBPACK_IMPORTED_MODULE_9__.Playground({\n      data,\n      schema,\n      editor: { inlinePropertiesPanel: false },\n      propertiesPanel: {\n        feelPopupContainer: rootRef.current,\n        getDocumentationRef\n      },\n      ...restProps\n    });\n  }, []);\n\n  // (1.1) pipe playground API\n  (0,diagram_js_lib_ui__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    playgroundRef.current.on('formPlayground.init', () => {\n      onInit({\n        ...playgroundRef.current,\n        collapse: this.collapse,\n        open: this.open,\n\n        // @pinussilvestrus: this is added for testing purposes\n        _ref: playgroundRef.current\n      });\n    });\n  }, []);\n\n  // (1.2) pipe core playground events\n  (0,diagram_js_lib_ui__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    const emit = (type, e) => {\n      return emitter.emit(type, e);\n    };\n\n    PIPE_EVENTS.forEach(type => {\n      playgroundRef.current.on(type, event => emit(type, event));\n    });\n\n    return () => {\n      PIPE_EVENTS.forEach(type => {\n        playgroundRef.current.off(type, event => emit(type, event));\n      });\n    };\n  }, [ playgroundRef ]);\n\n  // (2) set-up layout context\n  const [ layout, setLayout ] = (0,diagram_js_lib_ui__WEBPACK_IMPORTED_MODULE_2__.useState)(createLayout(layoutConfig));\n\n  const getLayoutForKey = (key, defaultValue) => {\n    return (0,min_dash__WEBPACK_IMPORTED_MODULE_6__.get)(layout, key, defaultValue);\n  };\n\n  const setLayoutForKey = (key, config) => {\n    const newLayout = (0,min_dash__WEBPACK_IMPORTED_MODULE_6__.assign)({}, layout);\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_6__.set)(newLayout, key, config);\n    setLayout(newLayout);\n  };\n\n  const layoutContext = {\n    layout,\n    setLayout,\n    getLayoutForKey,\n    setLayoutForKey\n  };\n\n  const inputOpen = getLayoutForKey([ FORM_INPUT_IDX, 'open' ], false);\n  const toggleInput = () => {\n    inputOpen ? this.collapse([ FORM_INPUT_IDX ]) : this.open([ FORM_INPUT_IDX ]);\n  };\n\n  const outputOpen = getLayoutForKey([ FORM_OUTPUT_IDX, 'open' ], false);\n  const toggleOutput = () => {\n    outputOpen ? this.collapse([ FORM_OUTPUT_IDX ]) : this.open([ FORM_OUTPUT_IDX ]);\n  };\n\n  const previewOpen = getLayoutForKey([ FORM_PREVIEW_IDX, 'open' ], false);\n  const togglePreview = () => {\n    previewOpen ? this.collapse() : this.open();\n  };\n\n  const setContainersLayout = (containers, open) => {\n    let newLayout = (0,min_dash__WEBPACK_IMPORTED_MODULE_6__.assign)({}, layout);\n\n    if (!containers) {\n      containers = TOGGLABLE_CONTAINERS;\n    }\n\n    if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_6__.isArray)(containers)) {\n      containers = [ containers ];\n    }\n\n    containers.map(idx => {\n      (0,min_dash__WEBPACK_IMPORTED_MODULE_6__.set)(newLayout, [ idx, 'open' ], open);\n    });\n\n    setLayout(newLayout);\n  };\n\n  // (2.1) notify interested parties on layout changes\n  (0,diagram_js_lib_ui__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    emitter.emit('formPlayground.layoutChanged', { layout });\n  }, [ emitter, layout ]);\n\n  // (3) attach all component containers\n  (0,diagram_js_lib_ui__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    const playground = playgroundRef.current;\n\n    function attachComponents() {\n      playground.attachPaletteContainer(paletteContainerRef.current);\n      playground.attachEditorContainer(editorContainerRef.current);\n      playground.attachDataContainer(dataContainerRef.current);\n      playground.attachPreviewContainer(previewContainerRef.current);\n      playground.attachResultContainer(resultContainerRef.current);\n      playground.attachPropertiesPanelContainer(propertiesContainerRef.current);\n    }\n\n    playground.on('formPlayground.rendered', attachComponents);\n\n    return () => playground.off('formPlayground.rendered', attachComponents);\n  }, []);\n\n  // (4) provide toggle API\n\n  /**\n   * @param {string|Array<string>} [containers]\n   */\n  this.open = function(containers) {\n    setContainersLayout(containers, true);\n  };\n\n  /**\n   * @param {string|Array<string>} [containers]\n   */\n  this.collapse = function(containers) {\n    return setContainersLayout(containers, false);\n  };\n\n  // (5) listen on dragging events to provide drop feedback\n  (0,diagram_js_lib_ui__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n\n    const bindDropTargetListeners = () => {\n      const editor = playgroundRef.current.getEditor();\n      editor.on('drag.hover', function(event) {\n\n        const { container } = event;\n\n        if (\n          container.classList.contains('fjs-drop-container-horizontal') ||\n          container.classList.contains('fjs-drop-container-vertical')\n        ) {\n          rootRef.current && rootRef.current.classList.add('cfp-dragging');\n        }\n      });\n\n      editor.on('drag.out', function(event) {\n        rootRef.current && rootRef.current.classList.remove('cfp-dragging');\n      });\n    };\n\n    const playground = playgroundRef.current;\n\n    if (playground) {\n      playground.on('formPlayground.rendered', bindDropTargetListeners);\n    }\n\n    return () => {\n      if (playground) {\n        playground.off('formPlayground.rendered', bindDropTargetListeners);\n      }\n    };\n  });\n\n  // (6) render\n  return (0,diagram_js_lib_ui__WEBPACK_IMPORTED_MODULE_0__.html)`\n    <${LayoutContext.Provider} value=${ layoutContext }>\n    <div ref=${rootRef} class=\"${classnames__WEBPACK_IMPORTED_MODULE_7___default()('cfp-root', { 'cfp-open-preview': previewOpen })}\">\n      <div class=\"cfp-palette\" ref=${ paletteContainerRef }></div>\n      <div class=\"cfp-left\">\n        <${CollapsiblePanel} idx=\"${ FORM_DEFINITION_IDX }\" title=\"Form Definition\">\n          <div class=\"cfp-editor-container\" ref=${ editorContainerRef }></div>\n        </${CollapsiblePanel}>\n        <${CollapsiblePanel} open=${inputOpen} idx=\"${ FORM_INPUT_IDX }\" title=\"Form Input\" collapseTo=\"bottom\" onToggle=${toggleInput}>\n          <div class=\"cfp-data-container\" ref=${ dataContainerRef }></div>\n        </${CollapsiblePanel}>\n      </div>\n      <div class=\"cfp-right\">\n        <${CollapsedPreview} \n          idx=${ FORM_PREVIEW_IDX }\n          open=${ previewOpen }\n          previewContainerRef=${ previewContainerRef }\n          onTogglePreview=\"${ togglePreview }\" \n        />\n        <${CollapsiblePanel} open=${outputOpen} idx=\"${ FORM_OUTPUT_IDX }\" title=\"Form Output\" collapseTo=\"bottom\" onToggle=${toggleOutput}>\n          <div class=\"cfp-result-container\" ref=${ resultContainerRef }></div>\n        </${CollapsiblePanel}>\n      </div>\n      <div class=\"cfp-properties\" ref=${ propertiesContainerRef }></div>\n    </div>\n    </${LayoutContext.Provider}>\n  `;\n}\n\n\n// helper ///////////////\n\nfunction createLayout(overrides) {\n  return {\n    ...DEFAULT_LAYOUT,\n    ...overrides\n  };\n}\n\nfunction getDocumentationRef(field) {\n\n  if (!field) {\n    return;\n  }\n\n  if (field.type === 'default') {\n    return 'https://docs.camunda.io/docs/components/modeler/forms/camunda-forms-reference/';\n  }\n\n  const typeToDocsMap = {\n    [_bpmn_io_form_js__WEBPACK_IMPORTED_MODULE_8__.Checklist.config.type]: 'checkbox-group',\n    [_bpmn_io_form_js__WEBPACK_IMPORTED_MODULE_8__.DocumentPreview.config.type]: 'document-preview'\n  };\n\n  return `https://docs.camunda.io/docs/components/modeler/forms/form-element-library/forms-element-library-${typeToDocsMap[field.type] || field.type}/`;\n}\n\n/**\n * @typedef { import('@bpmn-io/form-js-viewer').FormProperties } FormProperties\n * @typedef { import('@bpmn-io/form-js-editor').FormEditorProperties } FormEditorProperties\n *\n * @typedef { {\n *  container?: Element,\n *  data: any,\n *  editorAdditionalModules?: Array<any>,\n *  editorProperties?: FormEditorProperties\n *  exporter?: { name: string, version: string },\n *  layout?: any,\n *  propertiesPanel?: { parent: Element, feelPopupContainer: Element },\n *  schema: any,\n *  viewerAdditionalModules?: Array<any>,\n *  viewerProperties?: FormProperties,\n * } } CamundaFormPlaygroundOptions\n */\n\n/**\n * @param {CamundaFormPlaygroundOptions} options\n */\nfunction CamundaFormPlayground(options) {\n\n  const {\n    container: parent,\n    data,\n    schema,\n    layout: layoutConfig,\n    ...restProps\n  } = options;\n\n  const emitter = (0,mitt__WEBPACK_IMPORTED_MODULE_5__[\"default\"])();\n\n  const safeRef = function(fn) {\n    return function(...args) {\n      if (!playgroundRef) {\n        throw new Error('Camunda Form Playground is not initialized.');\n      }\n\n      return fn(...args);\n    };\n  };\n\n  const container = this._container = min_dom__WEBPACK_IMPORTED_MODULE_4___default()('<div class=\"cfp-container\"></div>');\n\n  let playgroundRef;\n\n  if (parent) {\n    parent.appendChild(container);\n  }\n\n\n  // API //////////\n\n  this.on = emitter.on;\n  this.off = emitter.off;\n  this.fire = emitter.emit;\n\n  // added due to current limitation of <mitt.once>\n  // cf. https://github.com/developit/mitt/issues/136\n  this.once = function(type, fn) {\n    emitter.on(type, fn);\n    emitter.on(type, emitter.off.bind(emitter, type, fn));\n  };\n\n  this.destroy = function() {\n    const parent = container.parentNode;\n    (0,diagram_js_lib_ui__WEBPACK_IMPORTED_MODULE_1__.render)(null, container);\n    parent && parent.removeChild(container);\n  };\n\n  /**\n   * @param {HTMLElement} parent\n   */\n  this.attachTo = function(parent) {\n    if (!parent) {\n      throw new Error('parent required');\n    }\n\n    if (typeof parent === 'string') {\n      parent = (0,min_dom__WEBPACK_IMPORTED_MODULE_3__.query)(parent);\n    }\n\n    this.detach();\n    parent.appendChild(this._container);\n  };\n\n  this.detach = function() {\n    const parentNode = container.parentNode;\n\n    if (parentNode) {\n      parentNode.removeChild(container);\n    }\n  };\n\n  this.get = safeRef((module, strict) => playgroundRef.get(module, strict));\n\n  /**\n   * @param {string|Array<string>} [containers]\n   */\n  this.open = safeRef((containers) => playgroundRef.open(containers));\n\n  /**\n   * @param {string|Array<string>} [containers]\n   */\n  this.collapse = safeRef((containers) => playgroundRef.collapse(containers));\n\n  this.setSchema = safeRef((schema) => playgroundRef.setSchema(schema));\n\n  this.getSchema = safeRef(() => playgroundRef.getSchema());\n\n  this.saveSchema = safeRef(() => playgroundRef.saveSchema());\n\n  this.getDataEditor = safeRef(() => playgroundRef.getDataEditor());\n\n  this.getEditor = safeRef(() => playgroundRef.getEditor());\n\n  this.getForm = safeRef((name, strict) => playgroundRef.getForm(name, strict));\n\n  this.getResultView = safeRef(() => playgroundRef.getResultView());\n\n  this._onInit = function(_ref) {\n    playgroundRef = _ref;\n  };\n\n  (0,diagram_js_lib_ui__WEBPACK_IMPORTED_MODULE_1__.render)((0,diagram_js_lib_ui__WEBPACK_IMPORTED_MODULE_0__.html)`\n    <${PlaygroundComponent}\n      data=${ data }\n      emitter=${ emitter }\n      layoutConfig=${ layoutConfig }\n      onInit=${ this._onInit }\n      schema=${ schema }\n      ...${ restProps }\n    />\n  `, container\n  );\n}\n\n/**\n * @param {CamundaFormPlaygroundOptions} options\n *\n * @return {CamundaFormPlayground}\n */\nasync function createCamundaFormPlayground(options) {\n  const playground = new CamundaFormPlayground(options);\n\n  return new Promise((resolve, reject) => {\n\n    const onInit = () => {\n      return resolve(playground);\n    };\n\n    try {\n      playground.once('formPlayground.init', onInit);\n    } catch (err) {\n      return reject(err);\n    }\n  });\n}\n\n\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL0BjYW11bmRhL2Zvcm0tcGxheWdyb3VuZC9kaXN0L2luZGV4LmVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQTZGO0FBQ3JEO0FBQ2hCO0FBQzZCO0FBQ2pCO0FBQzBDOztBQUU5RTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsU0FBUyx1REFBSTtBQUNiO0FBQ0EsbUJBQW1CLEtBQUs7QUFDeEIsZUFBZSxpREFBVSw0QkFBNEIsMkJBQTJCLEVBQUU7QUFDbEY7QUFDQSx1QkFBdUIsNEJBQTRCO0FBQ25ELGVBQWUsT0FBTzs7QUFFdEIsV0FBVyxjQUFjLHVEQUFJO0FBQzdCO0FBQ0E7QUFDQSx3QkFBd0IsMEJBQTBCLEdBQUcsT0FBTztBQUM1RDtBQUNBLDBCQUEwQixRQUFRO0FBQ2xDO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHVEQUFJO0FBQ1o7QUFDQTtBQUNBLFFBQVEsdURBQUk7QUFDWjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFFBQVEsdURBQUk7QUFDWjtBQUNBO0FBQ0EsUUFBUSx1REFBSTtBQUNaO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTs7QUFFQSxTQUFTLHVEQUFJO0FBQ2Isa0JBQWtCLGlEQUFVO0FBQzVCO0FBQ0EsTUFBTSxnQkFBZ0IsRUFBRTtBQUN4QiwwREFBMEQsVUFBVTtBQUNwRTtBQUNBO0FBQ0E7QUFDQSwwRkFBMEYsVUFBVTtBQUNwRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxPQUFPLGtCQUFrQixRQUFRLEtBQUssU0FBUyxNQUFN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Q0EsYUFBYSxzQkFBc0I7QUFDbkM7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsRUFBRSx5REFBTSxDQUFDLHVEQUFJO0FBQ2IsT0FBTztBQUNQLGNBQWM7QUFDZCxpQkFBaUI7QUFDakIsc0JBQXNCO0FBQ3RCLGdCQUFnQjtBQUNoQixnQkFBZ0I7QUFDaEIsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsV0FBVyw4QkFBOEI7QUFDekM7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRThEO0FBQzlEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2FtdW5kYS1tb2RlbGVyLWNsaWVudC8uLi9ub2RlX21vZHVsZXMvQGNhbXVuZGEvZm9ybS1wbGF5Z3JvdW5kL2Rpc3QvaW5kZXguZXMuanM/ZDBmOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBodG1sLCBjcmVhdGVDb250ZXh0LCB1c2VSZWYsIHVzZUVmZmVjdCwgdXNlU3RhdGUsIHJlbmRlciB9IGZyb20gJ2RpYWdyYW0tanMvbGliL3VpJztcbmltcG9ydCB7IGRvbWlmeSwgcXVlcnkgfSBmcm9tICdtaW4tZG9tJztcbmltcG9ydCBtaXR0IGZyb20gJ21pdHQnO1xuaW1wb3J0IHsgZ2V0LCBhc3NpZ24sIGlzQXJyYXksIHNldCB9IGZyb20gJ21pbi1kYXNoJztcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IHsgRm9ybVBsYXlncm91bmQsIERvY3VtZW50UHJldmlldywgQ2hlY2tsaXN0IH0gZnJvbSAnQGJwbW4taW8vZm9ybS1qcyc7XG5cbmNvbnN0IG5vb3AgPSAoKSA9PiB7fTtcblxuXG5mdW5jdGlvbiBDb2xsYXBzaWJsZVBhbmVsKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBjaGlsZHJlbixcbiAgICBjb2xsYXBzZVRvLFxuICAgIGlkeCxcbiAgICBvblRvZ2dsZSxcbiAgICBvcGVuLFxuICAgIHRpdGxlXG4gIH0gPSBwcm9wcztcblxuICBjb25zdCB0b2dnbGUgPSAoZXZlbnQpID0+IHtcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBvblRvZ2dsZShvcGVuKTtcbiAgfTtcblxuICByZXR1cm4gaHRtbGBcbiAgICA8ZGl2IFxuICAgICAgZGF0YS1pZHg9XCIkeyBpZHggfVwiIFxuICAgICAgY2xhc3M9XCIke2NsYXNzTmFtZXMoJ2NmcC1jb2xsYXBzaWJsZS1wYW5lbCcsIHsgb3BlbjogIWNvbGxhcHNlVG8gfHwgb3BlbiB9KX1cIlxuICAgID5cbiAgICAgIDxkaXYgb25DbGljaz1cIiR7IGNvbGxhcHNlVG8gPyB0b2dnbGUgOiBub29wIH1cIiBjbGFzcz1cImNmcC1jb2xsYXBzaWJsZS1wYW5lbC10aXRsZVwiPlxuICAgICAgICA8aDE+JHsgdGl0bGUgfTwvaDE+XG5cbiAgICAgICAgJHsgY29sbGFwc2VUbyAmJiBodG1sYFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJjZnAtY29sbGFwc2libGUtcGFuZWwtYWN0aW9uc1wiPlxuICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgdGl0bGU9XCIkeyBvcGVuID8gJ0Nsb3NlJyA6ICdPcGVuJyB9ICR7IHRpdGxlIH1cIlxuICAgICAgICAgICAgICBjbGFzcz1cImNmcC1jb2xsYXBzaWJsZS1wYW5lbC1hY3Rpb25cIiBcbiAgICAgICAgICAgICAgb25DbGljaz1cIiR7IHRvZ2dsZSB9XCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgJHtnZXRJY29uKGNvbGxhcHNlVG8sIG9wZW4pfVxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIGB9XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzcz1cImNmcC1jb2xsYXBzaWJsZS1wYW5lbC1jb250ZW50XCI+XG4gICAgICAgICR7IGNoaWxkcmVuIH1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICBgO1xufVxuXG5cbi8vIGhlbHBlciAvLy8vLy8vLy8vLy8vLy8vXG5cbmZ1bmN0aW9uIGdldEljb24oY29sbGFwc2VUbywgb3Blbikge1xuICBpZiAoY29sbGFwc2VUbyA9PT0gJ3JpZ2h0Jykge1xuICAgIHJldHVybiBvcGVuXG4gICAgICA/IGh0bWxgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgeG1sbnM6eGxpbms9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIgd2lkdGg9XCIxNlwiIGhlaWdodD1cIjE2XCIgdmlld0JveD1cIjAgMCAxNiAxNlwiPlxuICAgICAgICA8cGF0aCBmaWxsLXJ1bGU9XCJldmVub2RkXCIgZD1cIk00LjQxNDIxMzU2LDEyLjk0OTQ5NDIgTDMsMTEuNTM1MjgwNiBMNi41MzU1MzM5MSw3Ljk5OTc0NjcxIEwzLDQuNDY0MjEyOCBMNC40MTQyMTM1NiwzLjA0OTk5OTI0IEw5LjM2Mzk2MTAzLDcuOTk5NzQ2NzEgTDQuNDE0MjEzNTYsMTIuOTQ5NDk0MiBaIE05LjkxNDIxMzU2LDMgTDExLjkxNDIxMzYsMyBMMTEuOTE0MjEzNiwxMyBMOS45MTQyMTM1NiwxMyBMOS45MTQyMTM1NiwzIFpcIi8+XG4gICAgICA8L3N2Zz5gXG4gICAgICA6IGh0bWxgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgeG1sbnM6eGxpbms9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIgd2lkdGg9XCIxNlwiIGhlaWdodD1cIjE2XCIgdmlld0JveD1cIjAgMCAxNiAxNlwiPlxuICAgICAgICA8cGF0aCBmaWxsLXJ1bGU9XCJldmVub2RkXCIgZD1cIk0xMS41LDEyLjk0OTQ5NDIgTDYuNTUwMjUyNTMsNy45OTk3NDY3MSBMMTEuNSwzLjA0OTk5OTI0IEwxMi45MTQyMTM2LDQuNDY0MjEyOCBMOS4zNzg2Nzk2Niw3Ljk5OTc0NjcxIEwxMi45MTQyMTM2LDExLjUzNTI4MDYgTDExLjUsMTIuOTQ5NDk0MiBaIE02LDMgTDYsMTMgTDQsMTMgTDQsMyBMNiwzIFpcIi8+XG4gICAgICA8L3N2Zz5gO1xuICB9XG5cbiAgaWYgKGNvbGxhcHNlVG8gPT09ICdib3R0b20nKSB7XG4gICAgcmV0dXJuIG9wZW5cbiAgICAgID8gaHRtbGA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB4bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIiB3aWR0aD1cIjE2XCIgaGVpZ2h0PVwiMTZcIiB2aWV3Qm94PVwiMCAwIDE2IDE2XCI+XG4gICAgICAgIDxwYXRoIGZpbGwtcnVsZT1cImV2ZW5vZGRcIiBkPVwiTTEyLjk0OTQ5NDIsNC40MTQyMTM1NiBMNy45OTk3NDY3MSw5LjM2Mzk2MTAzIEwzLjA0OTk5OTI0LDQuNDE0MjEzNTYgTDQuNDY0MjEyOCwzIEw3Ljk5OTc0NjcxLDYuNTM1NTMzOTEgTDExLjUzNTI4MDYsMyBMMTIuOTQ5NDk0Miw0LjQxNDIxMzU2IFogTTMsOS45MTQyMTM1NiBMMTMsOS45MTQyMTM1NiBMMTMsMTEuOTE0MjEzNiBMMywxMS45MTQyMTM2IEwzLDkuOTE0MjEzNTYgWlwiLz5cbiAgICAgIDwvc3ZnPmBcbiAgICAgIDogaHRtbGA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB4bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIiB3aWR0aD1cIjE2XCIgaGVpZ2h0PVwiMTZcIiB2aWV3Qm94PVwiMCAwIDE2IDE2XCI+XG4gICAgICAgIDxwYXRoIGZpbGwtcnVsZT1cImV2ZW5vZGRcIiBkPVwiTTEyLjk0OTQ5NDIsMTEuNSBMMTEuNTM1MjgwNiwxMi45MTQyMTM2IEw3Ljk5OTc0NjcxLDkuMzc4Njc5NjYgTDQuNDY0MjEyOCwxMi45MTQyMTM2IEwzLjA0OTk5OTI0LDExLjUgTDcuOTk5NzQ2NzEsNi41NTAyNTI1MyBMMTIuOTQ5NDk0MiwxMS41IFogTTMsNiBMMyw0IEwxMyw0IEwxMyw2IEwzLDYgWlwiLz5cbiAgICAgIDwvc3ZnPmA7XG4gIH1cbn1cblxuZnVuY3Rpb24gQ29sbGFwc2VkUHJldmlldyhwcm9wcykge1xuXG4gIGNvbnN0IHtcbiAgICBpZHgsXG4gICAgb25Ub2dnbGVQcmV2aWV3LFxuICAgIHByZXZpZXdDb250YWluZXJSZWYsXG4gICAgb3BlblxuICB9ID0gcHJvcHM7XG5cbiAgY29uc3Qgb25Ub2dnbGUgPSAoKSA9PiB7XG4gICAgb25Ub2dnbGVQcmV2aWV3KCk7XG4gIH07XG5cbiAgcmV0dXJuIGh0bWxgXG4gICAgPGRpdiBjbGFzcz1cIiR7Y2xhc3NOYW1lcyhcbiAgICAnY2ZwLWNvbGxhcHNlZC1wcmV2aWV3JyxcbiAgICB7IHZpc2libGU6ICFvcGVuIH0pfVwiPlxuICAgICAgPGRpdiBjbGFzcz1cImNmcC1jb2xsYXBzZWQtcHJldmlldy10aXRsZVwiIG9uQ2xpY2s9JHsgb25Ub2dnbGUgfT5cbiAgICAgICAgPGgxPkZvcm0gUHJldmlldzwvaDE+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJjZnAtY29sbGFwc2VkLXByZXZpZXctYWN0aW9uc1wiPlxuICAgICAgICA8YnV0dG9uIHRpdGxlPVwiT3BlbiBGb3JtIFByZXZpZXdcIiBjbGFzcz1cImNmcC1jb2xsYXBzZWQtcHJldmlldy1hY3Rpb25cIiBvbkNsaWNrPSR7IG9uVG9nZ2xlIH0+XG4gICAgICAgICAgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgeG1sbnM6eGxpbms9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIgd2lkdGg9XCIxNlwiIGhlaWdodD1cIjE2XCIgdmlld0JveD1cIjAgMCAxNiAxNlwiPlxuICAgICAgICAgICAgPHBhdGggZmlsbC1ydWxlPVwiZXZlbm9kZFwiIGQ9XCJNMTEuNSwxMi45NDk0OTQyIEw2LjU1MDI1MjUzLDcuOTk5NzQ2NzEgTDExLjUsMy4wNDk5OTkyNCBMMTIuOTE0MjEzNiw0LjQ2NDIxMjggTDkuMzc4Njc5NjYsNy45OTk3NDY3MSBMMTIuOTE0MjEzNiwxMS41MzUyODA2IEwxMS41LDEyLjk0OTQ5NDIgWiBNNiwzIEw2LDEzIEw0LDEzIEw0LDMgTDYsMyBaXCIvPlxuICAgICAgICAgIDwvc3ZnPiAgICBcbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cblxuICAgIDwhLS0gVGhpcyBpcyBub3QgdmlzaWJsZSB3aGVuIHByZXZpZXcgbm90IG9wZW4gLS0+XG4gICAgPCR7Q29sbGFwc2libGVQYW5lbH0gaWR4PVwiJHsgaWR4IH1cIiBvcGVuPSR7b3Blbn0gb25Ub2dnbGU9JHsgb25Ub2dnbGUgfSB0aXRsZT1cIkZvcm0gUHJldmlld1wiIGNvbGxhcHNlVG89XCJyaWdodFwiPlxuICAgICAgPGRpdiBjbGFzcz1cImNmcC1wcmV2aWV3LWNvbnRhaW5lclwiIHJlZj0keyBwcmV2aWV3Q29udGFpbmVyUmVmIH0+PC9kaXY+XG4gICAgPC8ke0NvbGxhcHNpYmxlUGFuZWx9PmA7XG59XG5cbmNvbnN0IExheW91dENvbnRleHQgPSBjcmVhdGVDb250ZXh0KHtcbiAgbGF5b3V0OiB7fSxcbiAgc2V0TGF5b3V0OiAoKSA9PiB7fSxcbiAgZ2V0TGF5b3V0Rm9yS2V5OiAoKSA9PiB7fSxcbiAgc2V0TGF5b3V0Rm9yS2V5OiAoKSA9PiB7fVxufSk7XG5cbmNvbnN0IERFRkFVTFRfTEFZT1VUID0ge307XG5cbmNvbnN0IEZPUk1fREVGSU5JVElPTl9JRFggPSAnZm9ybS1kZWZpbml0aW9uJztcbmNvbnN0IEZPUk1fUFJFVklFV19JRFggPSAnZm9ybS1wcmV2aWV3JztcbmNvbnN0IEZPUk1fSU5QVVRfSURYID0gJ2Zvcm0taW5wdXQnO1xuY29uc3QgRk9STV9PVVRQVVRfSURYID0gJ2Zvcm0tb3V0cHV0JztcblxuY29uc3QgVE9HR0xBQkxFX0NPTlRBSU5FUlMgPSBbXG4gIEZPUk1fUFJFVklFV19JRFgsXG4gIEZPUk1fSU5QVVRfSURYLFxuICBGT1JNX09VVFBVVF9JRFhcbl07XG5cbmNvbnN0IFBJUEVfRVZFTlRTID0gW1xuICAnZm9ybVBsYXlncm91bmQuaW5pdCcsXG4gICdmb3JtUGxheWdyb3VuZC5yZW5kZXJlZCdcbl07XG5cblxuZnVuY3Rpb24gUGxheWdyb3VuZENvbXBvbmVudChwcm9wcykge1xuXG4gIGNvbnN0IHtcbiAgICBkYXRhLFxuICAgIGVtaXR0ZXIsXG4gICAgbGF5b3V0Q29uZmlnID0ge30sXG4gICAgb25Jbml0LFxuICAgIHNjaGVtYSxcbiAgICAuLi5yZXN0UHJvcHNcbiAgfSA9IHByb3BzO1xuXG4gIGxldCBwbGF5Z3JvdW5kUmVmID0gdXNlUmVmKG51bGwpO1xuXG4gIGNvbnN0IHBhbGV0dGVDb250YWluZXJSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IGVkaXRvckNvbnRhaW5lclJlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgZGF0YUNvbnRhaW5lclJlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgcHJldmlld0NvbnRhaW5lclJlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgcmVzdWx0Q29udGFpbmVyUmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBwcm9wZXJ0aWVzQ29udGFpbmVyUmVmID0gdXNlUmVmKG51bGwpO1xuXG4gIGNvbnN0IHJvb3RSZWYgPSB1c2VSZWYobnVsbCk7XG5cbiAgLy8gKDEpIGluaXRpYWxpemUgcGxheWdyb3VuZCBvcmNoZXN0cmF0b3JcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBwbGF5Z3JvdW5kUmVmLmN1cnJlbnQgPSBuZXcgRm9ybVBsYXlncm91bmQoe1xuICAgICAgZGF0YSxcbiAgICAgIHNjaGVtYSxcbiAgICAgIGVkaXRvcjogeyBpbmxpbmVQcm9wZXJ0aWVzUGFuZWw6IGZhbHNlIH0sXG4gICAgICBwcm9wZXJ0aWVzUGFuZWw6IHtcbiAgICAgICAgZmVlbFBvcHVwQ29udGFpbmVyOiByb290UmVmLmN1cnJlbnQsXG4gICAgICAgIGdldERvY3VtZW50YXRpb25SZWZcbiAgICAgIH0sXG4gICAgICAuLi5yZXN0UHJvcHNcbiAgICB9KTtcbiAgfSwgW10pO1xuXG4gIC8vICgxLjEpIHBpcGUgcGxheWdyb3VuZCBBUElcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBwbGF5Z3JvdW5kUmVmLmN1cnJlbnQub24oJ2Zvcm1QbGF5Z3JvdW5kLmluaXQnLCAoKSA9PiB7XG4gICAgICBvbkluaXQoe1xuICAgICAgICAuLi5wbGF5Z3JvdW5kUmVmLmN1cnJlbnQsXG4gICAgICAgIGNvbGxhcHNlOiB0aGlzLmNvbGxhcHNlLFxuICAgICAgICBvcGVuOiB0aGlzLm9wZW4sXG5cbiAgICAgICAgLy8gQHBpbnVzc2lsdmVzdHJ1czogdGhpcyBpcyBhZGRlZCBmb3IgdGVzdGluZyBwdXJwb3Nlc1xuICAgICAgICBfcmVmOiBwbGF5Z3JvdW5kUmVmLmN1cnJlbnRcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9LCBbXSk7XG5cbiAgLy8gKDEuMikgcGlwZSBjb3JlIHBsYXlncm91bmQgZXZlbnRzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgZW1pdCA9ICh0eXBlLCBlKSA9PiB7XG4gICAgICByZXR1cm4gZW1pdHRlci5lbWl0KHR5cGUsIGUpO1xuICAgIH07XG5cbiAgICBQSVBFX0VWRU5UUy5mb3JFYWNoKHR5cGUgPT4ge1xuICAgICAgcGxheWdyb3VuZFJlZi5jdXJyZW50Lm9uKHR5cGUsIGV2ZW50ID0+IGVtaXQodHlwZSwgZXZlbnQpKTtcbiAgICB9KTtcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBQSVBFX0VWRU5UUy5mb3JFYWNoKHR5cGUgPT4ge1xuICAgICAgICBwbGF5Z3JvdW5kUmVmLmN1cnJlbnQub2ZmKHR5cGUsIGV2ZW50ID0+IGVtaXQodHlwZSwgZXZlbnQpKTtcbiAgICAgIH0pO1xuICAgIH07XG4gIH0sIFsgcGxheWdyb3VuZFJlZiBdKTtcblxuICAvLyAoMikgc2V0LXVwIGxheW91dCBjb250ZXh0XG4gIGNvbnN0IFsgbGF5b3V0LCBzZXRMYXlvdXQgXSA9IHVzZVN0YXRlKGNyZWF0ZUxheW91dChsYXlvdXRDb25maWcpKTtcblxuICBjb25zdCBnZXRMYXlvdXRGb3JLZXkgPSAoa2V5LCBkZWZhdWx0VmFsdWUpID0+IHtcbiAgICByZXR1cm4gZ2V0KGxheW91dCwga2V5LCBkZWZhdWx0VmFsdWUpO1xuICB9O1xuXG4gIGNvbnN0IHNldExheW91dEZvcktleSA9IChrZXksIGNvbmZpZykgPT4ge1xuICAgIGNvbnN0IG5ld0xheW91dCA9IGFzc2lnbih7fSwgbGF5b3V0KTtcbiAgICBzZXQobmV3TGF5b3V0LCBrZXksIGNvbmZpZyk7XG4gICAgc2V0TGF5b3V0KG5ld0xheW91dCk7XG4gIH07XG5cbiAgY29uc3QgbGF5b3V0Q29udGV4dCA9IHtcbiAgICBsYXlvdXQsXG4gICAgc2V0TGF5b3V0LFxuICAgIGdldExheW91dEZvcktleSxcbiAgICBzZXRMYXlvdXRGb3JLZXlcbiAgfTtcblxuICBjb25zdCBpbnB1dE9wZW4gPSBnZXRMYXlvdXRGb3JLZXkoWyBGT1JNX0lOUFVUX0lEWCwgJ29wZW4nIF0sIGZhbHNlKTtcbiAgY29uc3QgdG9nZ2xlSW5wdXQgPSAoKSA9PiB7XG4gICAgaW5wdXRPcGVuID8gdGhpcy5jb2xsYXBzZShbIEZPUk1fSU5QVVRfSURYIF0pIDogdGhpcy5vcGVuKFsgRk9STV9JTlBVVF9JRFggXSk7XG4gIH07XG5cbiAgY29uc3Qgb3V0cHV0T3BlbiA9IGdldExheW91dEZvcktleShbIEZPUk1fT1VUUFVUX0lEWCwgJ29wZW4nIF0sIGZhbHNlKTtcbiAgY29uc3QgdG9nZ2xlT3V0cHV0ID0gKCkgPT4ge1xuICAgIG91dHB1dE9wZW4gPyB0aGlzLmNvbGxhcHNlKFsgRk9STV9PVVRQVVRfSURYIF0pIDogdGhpcy5vcGVuKFsgRk9STV9PVVRQVVRfSURYIF0pO1xuICB9O1xuXG4gIGNvbnN0IHByZXZpZXdPcGVuID0gZ2V0TGF5b3V0Rm9yS2V5KFsgRk9STV9QUkVWSUVXX0lEWCwgJ29wZW4nIF0sIGZhbHNlKTtcbiAgY29uc3QgdG9nZ2xlUHJldmlldyA9ICgpID0+IHtcbiAgICBwcmV2aWV3T3BlbiA/IHRoaXMuY29sbGFwc2UoKSA6IHRoaXMub3BlbigpO1xuICB9O1xuXG4gIGNvbnN0IHNldENvbnRhaW5lcnNMYXlvdXQgPSAoY29udGFpbmVycywgb3BlbikgPT4ge1xuICAgIGxldCBuZXdMYXlvdXQgPSBhc3NpZ24oe30sIGxheW91dCk7XG5cbiAgICBpZiAoIWNvbnRhaW5lcnMpIHtcbiAgICAgIGNvbnRhaW5lcnMgPSBUT0dHTEFCTEVfQ09OVEFJTkVSUztcbiAgICB9XG5cbiAgICBpZiAoIWlzQXJyYXkoY29udGFpbmVycykpIHtcbiAgICAgIGNvbnRhaW5lcnMgPSBbIGNvbnRhaW5lcnMgXTtcbiAgICB9XG5cbiAgICBjb250YWluZXJzLm1hcChpZHggPT4ge1xuICAgICAgc2V0KG5ld0xheW91dCwgWyBpZHgsICdvcGVuJyBdLCBvcGVuKTtcbiAgICB9KTtcblxuICAgIHNldExheW91dChuZXdMYXlvdXQpO1xuICB9O1xuXG4gIC8vICgyLjEpIG5vdGlmeSBpbnRlcmVzdGVkIHBhcnRpZXMgb24gbGF5b3V0IGNoYW5nZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBlbWl0dGVyLmVtaXQoJ2Zvcm1QbGF5Z3JvdW5kLmxheW91dENoYW5nZWQnLCB7IGxheW91dCB9KTtcbiAgfSwgWyBlbWl0dGVyLCBsYXlvdXQgXSk7XG5cbiAgLy8gKDMpIGF0dGFjaCBhbGwgY29tcG9uZW50IGNvbnRhaW5lcnNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBwbGF5Z3JvdW5kID0gcGxheWdyb3VuZFJlZi5jdXJyZW50O1xuXG4gICAgZnVuY3Rpb24gYXR0YWNoQ29tcG9uZW50cygpIHtcbiAgICAgIHBsYXlncm91bmQuYXR0YWNoUGFsZXR0ZUNvbnRhaW5lcihwYWxldHRlQ29udGFpbmVyUmVmLmN1cnJlbnQpO1xuICAgICAgcGxheWdyb3VuZC5hdHRhY2hFZGl0b3JDb250YWluZXIoZWRpdG9yQ29udGFpbmVyUmVmLmN1cnJlbnQpO1xuICAgICAgcGxheWdyb3VuZC5hdHRhY2hEYXRhQ29udGFpbmVyKGRhdGFDb250YWluZXJSZWYuY3VycmVudCk7XG4gICAgICBwbGF5Z3JvdW5kLmF0dGFjaFByZXZpZXdDb250YWluZXIocHJldmlld0NvbnRhaW5lclJlZi5jdXJyZW50KTtcbiAgICAgIHBsYXlncm91bmQuYXR0YWNoUmVzdWx0Q29udGFpbmVyKHJlc3VsdENvbnRhaW5lclJlZi5jdXJyZW50KTtcbiAgICAgIHBsYXlncm91bmQuYXR0YWNoUHJvcGVydGllc1BhbmVsQ29udGFpbmVyKHByb3BlcnRpZXNDb250YWluZXJSZWYuY3VycmVudCk7XG4gICAgfVxuXG4gICAgcGxheWdyb3VuZC5vbignZm9ybVBsYXlncm91bmQucmVuZGVyZWQnLCBhdHRhY2hDb21wb25lbnRzKTtcblxuICAgIHJldHVybiAoKSA9PiBwbGF5Z3JvdW5kLm9mZignZm9ybVBsYXlncm91bmQucmVuZGVyZWQnLCBhdHRhY2hDb21wb25lbnRzKTtcbiAgfSwgW10pO1xuXG4gIC8vICg0KSBwcm92aWRlIHRvZ2dsZSBBUElcblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd8QXJyYXk8c3RyaW5nPn0gW2NvbnRhaW5lcnNdXG4gICAqL1xuICB0aGlzLm9wZW4gPSBmdW5jdGlvbihjb250YWluZXJzKSB7XG4gICAgc2V0Q29udGFpbmVyc0xheW91dChjb250YWluZXJzLCB0cnVlKTtcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd8QXJyYXk8c3RyaW5nPn0gW2NvbnRhaW5lcnNdXG4gICAqL1xuICB0aGlzLmNvbGxhcHNlID0gZnVuY3Rpb24oY29udGFpbmVycykge1xuICAgIHJldHVybiBzZXRDb250YWluZXJzTGF5b3V0KGNvbnRhaW5lcnMsIGZhbHNlKTtcbiAgfTtcblxuICAvLyAoNSkgbGlzdGVuIG9uIGRyYWdnaW5nIGV2ZW50cyB0byBwcm92aWRlIGRyb3AgZmVlZGJhY2tcbiAgdXNlRWZmZWN0KCgpID0+IHtcblxuICAgIGNvbnN0IGJpbmREcm9wVGFyZ2V0TGlzdGVuZXJzID0gKCkgPT4ge1xuICAgICAgY29uc3QgZWRpdG9yID0gcGxheWdyb3VuZFJlZi5jdXJyZW50LmdldEVkaXRvcigpO1xuICAgICAgZWRpdG9yLm9uKCdkcmFnLmhvdmVyJywgZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgICAgICBjb25zdCB7IGNvbnRhaW5lciB9ID0gZXZlbnQ7XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgIGNvbnRhaW5lci5jbGFzc0xpc3QuY29udGFpbnMoJ2Zqcy1kcm9wLWNvbnRhaW5lci1ob3Jpem9udGFsJykgfHxcbiAgICAgICAgICBjb250YWluZXIuY2xhc3NMaXN0LmNvbnRhaW5zKCdmanMtZHJvcC1jb250YWluZXItdmVydGljYWwnKVxuICAgICAgICApIHtcbiAgICAgICAgICByb290UmVmLmN1cnJlbnQgJiYgcm9vdFJlZi5jdXJyZW50LmNsYXNzTGlzdC5hZGQoJ2NmcC1kcmFnZ2luZycpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgZWRpdG9yLm9uKCdkcmFnLm91dCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIHJvb3RSZWYuY3VycmVudCAmJiByb290UmVmLmN1cnJlbnQuY2xhc3NMaXN0LnJlbW92ZSgnY2ZwLWRyYWdnaW5nJyk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgcGxheWdyb3VuZCA9IHBsYXlncm91bmRSZWYuY3VycmVudDtcblxuICAgIGlmIChwbGF5Z3JvdW5kKSB7XG4gICAgICBwbGF5Z3JvdW5kLm9uKCdmb3JtUGxheWdyb3VuZC5yZW5kZXJlZCcsIGJpbmREcm9wVGFyZ2V0TGlzdGVuZXJzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaWYgKHBsYXlncm91bmQpIHtcbiAgICAgICAgcGxheWdyb3VuZC5vZmYoJ2Zvcm1QbGF5Z3JvdW5kLnJlbmRlcmVkJywgYmluZERyb3BUYXJnZXRMaXN0ZW5lcnMpO1xuICAgICAgfVxuICAgIH07XG4gIH0pO1xuXG4gIC8vICg2KSByZW5kZXJcbiAgcmV0dXJuIGh0bWxgXG4gICAgPCR7TGF5b3V0Q29udGV4dC5Qcm92aWRlcn0gdmFsdWU9JHsgbGF5b3V0Q29udGV4dCB9PlxuICAgIDxkaXYgcmVmPSR7cm9vdFJlZn0gY2xhc3M9XCIke2NsYXNzTmFtZXMoJ2NmcC1yb290JywgeyAnY2ZwLW9wZW4tcHJldmlldyc6IHByZXZpZXdPcGVuIH0pfVwiPlxuICAgICAgPGRpdiBjbGFzcz1cImNmcC1wYWxldHRlXCIgcmVmPSR7IHBhbGV0dGVDb250YWluZXJSZWYgfT48L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJjZnAtbGVmdFwiPlxuICAgICAgICA8JHtDb2xsYXBzaWJsZVBhbmVsfSBpZHg9XCIkeyBGT1JNX0RFRklOSVRJT05fSURYIH1cIiB0aXRsZT1cIkZvcm0gRGVmaW5pdGlvblwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJjZnAtZWRpdG9yLWNvbnRhaW5lclwiIHJlZj0keyBlZGl0b3JDb250YWluZXJSZWYgfT48L2Rpdj5cbiAgICAgICAgPC8ke0NvbGxhcHNpYmxlUGFuZWx9PlxuICAgICAgICA8JHtDb2xsYXBzaWJsZVBhbmVsfSBvcGVuPSR7aW5wdXRPcGVufSBpZHg9XCIkeyBGT1JNX0lOUFVUX0lEWCB9XCIgdGl0bGU9XCJGb3JtIElucHV0XCIgY29sbGFwc2VUbz1cImJvdHRvbVwiIG9uVG9nZ2xlPSR7dG9nZ2xlSW5wdXR9PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJjZnAtZGF0YS1jb250YWluZXJcIiByZWY9JHsgZGF0YUNvbnRhaW5lclJlZiB9PjwvZGl2PlxuICAgICAgICA8LyR7Q29sbGFwc2libGVQYW5lbH0+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJjZnAtcmlnaHRcIj5cbiAgICAgICAgPCR7Q29sbGFwc2VkUHJldmlld30gXG4gICAgICAgICAgaWR4PSR7IEZPUk1fUFJFVklFV19JRFggfVxuICAgICAgICAgIG9wZW49JHsgcHJldmlld09wZW4gfVxuICAgICAgICAgIHByZXZpZXdDb250YWluZXJSZWY9JHsgcHJldmlld0NvbnRhaW5lclJlZiB9XG4gICAgICAgICAgb25Ub2dnbGVQcmV2aWV3PVwiJHsgdG9nZ2xlUHJldmlldyB9XCIgXG4gICAgICAgIC8+XG4gICAgICAgIDwke0NvbGxhcHNpYmxlUGFuZWx9IG9wZW49JHtvdXRwdXRPcGVufSBpZHg9XCIkeyBGT1JNX09VVFBVVF9JRFggfVwiIHRpdGxlPVwiRm9ybSBPdXRwdXRcIiBjb2xsYXBzZVRvPVwiYm90dG9tXCIgb25Ub2dnbGU9JHt0b2dnbGVPdXRwdXR9PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJjZnAtcmVzdWx0LWNvbnRhaW5lclwiIHJlZj0keyByZXN1bHRDb250YWluZXJSZWYgfT48L2Rpdj5cbiAgICAgICAgPC8ke0NvbGxhcHNpYmxlUGFuZWx9PlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwiY2ZwLXByb3BlcnRpZXNcIiByZWY9JHsgcHJvcGVydGllc0NvbnRhaW5lclJlZiB9PjwvZGl2PlxuICAgIDwvZGl2PlxuICAgIDwvJHtMYXlvdXRDb250ZXh0LlByb3ZpZGVyfT5cbiAgYDtcbn1cblxuXG4vLyBoZWxwZXIgLy8vLy8vLy8vLy8vLy8vXG5cbmZ1bmN0aW9uIGNyZWF0ZUxheW91dChvdmVycmlkZXMpIHtcbiAgcmV0dXJuIHtcbiAgICAuLi5ERUZBVUxUX0xBWU9VVCxcbiAgICAuLi5vdmVycmlkZXNcbiAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0RG9jdW1lbnRhdGlvblJlZihmaWVsZCkge1xuXG4gIGlmICghZmllbGQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoZmllbGQudHlwZSA9PT0gJ2RlZmF1bHQnKSB7XG4gICAgcmV0dXJuICdodHRwczovL2RvY3MuY2FtdW5kYS5pby9kb2NzL2NvbXBvbmVudHMvbW9kZWxlci9mb3Jtcy9jYW11bmRhLWZvcm1zLXJlZmVyZW5jZS8nO1xuICB9XG5cbiAgY29uc3QgdHlwZVRvRG9jc01hcCA9IHtcbiAgICBbQ2hlY2tsaXN0LmNvbmZpZy50eXBlXTogJ2NoZWNrYm94LWdyb3VwJyxcbiAgICBbRG9jdW1lbnRQcmV2aWV3LmNvbmZpZy50eXBlXTogJ2RvY3VtZW50LXByZXZpZXcnXG4gIH07XG5cbiAgcmV0dXJuIGBodHRwczovL2RvY3MuY2FtdW5kYS5pby9kb2NzL2NvbXBvbmVudHMvbW9kZWxlci9mb3Jtcy9mb3JtLWVsZW1lbnQtbGlicmFyeS9mb3Jtcy1lbGVtZW50LWxpYnJhcnktJHt0eXBlVG9Eb2NzTWFwW2ZpZWxkLnR5cGVdIHx8IGZpZWxkLnR5cGV9L2A7XG59XG5cbi8qKlxuICogQHR5cGVkZWYgeyBpbXBvcnQoJ0BicG1uLWlvL2Zvcm0tanMtdmlld2VyJykuRm9ybVByb3BlcnRpZXMgfSBGb3JtUHJvcGVydGllc1xuICogQHR5cGVkZWYgeyBpbXBvcnQoJ0BicG1uLWlvL2Zvcm0tanMtZWRpdG9yJykuRm9ybUVkaXRvclByb3BlcnRpZXMgfSBGb3JtRWRpdG9yUHJvcGVydGllc1xuICpcbiAqIEB0eXBlZGVmIHsge1xuICogIGNvbnRhaW5lcj86IEVsZW1lbnQsXG4gKiAgZGF0YTogYW55LFxuICogIGVkaXRvckFkZGl0aW9uYWxNb2R1bGVzPzogQXJyYXk8YW55PixcbiAqICBlZGl0b3JQcm9wZXJ0aWVzPzogRm9ybUVkaXRvclByb3BlcnRpZXNcbiAqICBleHBvcnRlcj86IHsgbmFtZTogc3RyaW5nLCB2ZXJzaW9uOiBzdHJpbmcgfSxcbiAqICBsYXlvdXQ/OiBhbnksXG4gKiAgcHJvcGVydGllc1BhbmVsPzogeyBwYXJlbnQ6IEVsZW1lbnQsIGZlZWxQb3B1cENvbnRhaW5lcjogRWxlbWVudCB9LFxuICogIHNjaGVtYTogYW55LFxuICogIHZpZXdlckFkZGl0aW9uYWxNb2R1bGVzPzogQXJyYXk8YW55PixcbiAqICB2aWV3ZXJQcm9wZXJ0aWVzPzogRm9ybVByb3BlcnRpZXMsXG4gKiB9IH0gQ2FtdW5kYUZvcm1QbGF5Z3JvdW5kT3B0aW9uc1xuICovXG5cbi8qKlxuICogQHBhcmFtIHtDYW11bmRhRm9ybVBsYXlncm91bmRPcHRpb25zfSBvcHRpb25zXG4gKi9cbmZ1bmN0aW9uIENhbXVuZGFGb3JtUGxheWdyb3VuZChvcHRpb25zKSB7XG5cbiAgY29uc3Qge1xuICAgIGNvbnRhaW5lcjogcGFyZW50LFxuICAgIGRhdGEsXG4gICAgc2NoZW1hLFxuICAgIGxheW91dDogbGF5b3V0Q29uZmlnLFxuICAgIC4uLnJlc3RQcm9wc1xuICB9ID0gb3B0aW9ucztcblxuICBjb25zdCBlbWl0dGVyID0gbWl0dCgpO1xuXG4gIGNvbnN0IHNhZmVSZWYgPSBmdW5jdGlvbihmbikge1xuICAgIHJldHVybiBmdW5jdGlvbiguLi5hcmdzKSB7XG4gICAgICBpZiAoIXBsYXlncm91bmRSZWYpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW11bmRhIEZvcm0gUGxheWdyb3VuZCBpcyBub3QgaW5pdGlhbGl6ZWQuJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmbiguLi5hcmdzKTtcbiAgICB9O1xuICB9O1xuXG4gIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuX2NvbnRhaW5lciA9IGRvbWlmeSgnPGRpdiBjbGFzcz1cImNmcC1jb250YWluZXJcIj48L2Rpdj4nKTtcblxuICBsZXQgcGxheWdyb3VuZFJlZjtcblxuICBpZiAocGFyZW50KSB7XG4gICAgcGFyZW50LmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XG4gIH1cblxuXG4gIC8vIEFQSSAvLy8vLy8vLy8vXG5cbiAgdGhpcy5vbiA9IGVtaXR0ZXIub247XG4gIHRoaXMub2ZmID0gZW1pdHRlci5vZmY7XG4gIHRoaXMuZmlyZSA9IGVtaXR0ZXIuZW1pdDtcblxuICAvLyBhZGRlZCBkdWUgdG8gY3VycmVudCBsaW1pdGF0aW9uIG9mIDxtaXR0Lm9uY2U+XG4gIC8vIGNmLiBodHRwczovL2dpdGh1Yi5jb20vZGV2ZWxvcGl0L21pdHQvaXNzdWVzLzEzNlxuICB0aGlzLm9uY2UgPSBmdW5jdGlvbih0eXBlLCBmbikge1xuICAgIGVtaXR0ZXIub24odHlwZSwgZm4pO1xuICAgIGVtaXR0ZXIub24odHlwZSwgZW1pdHRlci5vZmYuYmluZChlbWl0dGVyLCB0eXBlLCBmbikpO1xuICB9O1xuXG4gIHRoaXMuZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xuICAgIGNvbnN0IHBhcmVudCA9IGNvbnRhaW5lci5wYXJlbnROb2RlO1xuICAgIHJlbmRlcihudWxsLCBjb250YWluZXIpO1xuICAgIHBhcmVudCAmJiBwYXJlbnQucmVtb3ZlQ2hpbGQoY29udGFpbmVyKTtcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gcGFyZW50XG4gICAqL1xuICB0aGlzLmF0dGFjaFRvID0gZnVuY3Rpb24ocGFyZW50KSB7XG4gICAgaWYgKCFwYXJlbnQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcigncGFyZW50IHJlcXVpcmVkJyk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBwYXJlbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICBwYXJlbnQgPSBxdWVyeShwYXJlbnQpO1xuICAgIH1cblxuICAgIHRoaXMuZGV0YWNoKCk7XG4gICAgcGFyZW50LmFwcGVuZENoaWxkKHRoaXMuX2NvbnRhaW5lcik7XG4gIH07XG5cbiAgdGhpcy5kZXRhY2ggPSBmdW5jdGlvbigpIHtcbiAgICBjb25zdCBwYXJlbnROb2RlID0gY29udGFpbmVyLnBhcmVudE5vZGU7XG5cbiAgICBpZiAocGFyZW50Tm9kZSkge1xuICAgICAgcGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjb250YWluZXIpO1xuICAgIH1cbiAgfTtcblxuICB0aGlzLmdldCA9IHNhZmVSZWYoKG1vZHVsZSwgc3RyaWN0KSA9PiBwbGF5Z3JvdW5kUmVmLmdldChtb2R1bGUsIHN0cmljdCkpO1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ3xBcnJheTxzdHJpbmc+fSBbY29udGFpbmVyc11cbiAgICovXG4gIHRoaXMub3BlbiA9IHNhZmVSZWYoKGNvbnRhaW5lcnMpID0+IHBsYXlncm91bmRSZWYub3Blbihjb250YWluZXJzKSk7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfEFycmF5PHN0cmluZz59IFtjb250YWluZXJzXVxuICAgKi9cbiAgdGhpcy5jb2xsYXBzZSA9IHNhZmVSZWYoKGNvbnRhaW5lcnMpID0+IHBsYXlncm91bmRSZWYuY29sbGFwc2UoY29udGFpbmVycykpO1xuXG4gIHRoaXMuc2V0U2NoZW1hID0gc2FmZVJlZigoc2NoZW1hKSA9PiBwbGF5Z3JvdW5kUmVmLnNldFNjaGVtYShzY2hlbWEpKTtcblxuICB0aGlzLmdldFNjaGVtYSA9IHNhZmVSZWYoKCkgPT4gcGxheWdyb3VuZFJlZi5nZXRTY2hlbWEoKSk7XG5cbiAgdGhpcy5zYXZlU2NoZW1hID0gc2FmZVJlZigoKSA9PiBwbGF5Z3JvdW5kUmVmLnNhdmVTY2hlbWEoKSk7XG5cbiAgdGhpcy5nZXREYXRhRWRpdG9yID0gc2FmZVJlZigoKSA9PiBwbGF5Z3JvdW5kUmVmLmdldERhdGFFZGl0b3IoKSk7XG5cbiAgdGhpcy5nZXRFZGl0b3IgPSBzYWZlUmVmKCgpID0+IHBsYXlncm91bmRSZWYuZ2V0RWRpdG9yKCkpO1xuXG4gIHRoaXMuZ2V0Rm9ybSA9IHNhZmVSZWYoKG5hbWUsIHN0cmljdCkgPT4gcGxheWdyb3VuZFJlZi5nZXRGb3JtKG5hbWUsIHN0cmljdCkpO1xuXG4gIHRoaXMuZ2V0UmVzdWx0VmlldyA9IHNhZmVSZWYoKCkgPT4gcGxheWdyb3VuZFJlZi5nZXRSZXN1bHRWaWV3KCkpO1xuXG4gIHRoaXMuX29uSW5pdCA9IGZ1bmN0aW9uKF9yZWYpIHtcbiAgICBwbGF5Z3JvdW5kUmVmID0gX3JlZjtcbiAgfTtcblxuICByZW5kZXIoaHRtbGBcbiAgICA8JHtQbGF5Z3JvdW5kQ29tcG9uZW50fVxuICAgICAgZGF0YT0keyBkYXRhIH1cbiAgICAgIGVtaXR0ZXI9JHsgZW1pdHRlciB9XG4gICAgICBsYXlvdXRDb25maWc9JHsgbGF5b3V0Q29uZmlnIH1cbiAgICAgIG9uSW5pdD0keyB0aGlzLl9vbkluaXQgfVxuICAgICAgc2NoZW1hPSR7IHNjaGVtYSB9XG4gICAgICAuLi4keyByZXN0UHJvcHMgfVxuICAgIC8+XG4gIGAsIGNvbnRhaW5lclxuICApO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Q2FtdW5kYUZvcm1QbGF5Z3JvdW5kT3B0aW9uc30gb3B0aW9uc1xuICpcbiAqIEByZXR1cm4ge0NhbXVuZGFGb3JtUGxheWdyb3VuZH1cbiAqL1xuYXN5bmMgZnVuY3Rpb24gY3JlYXRlQ2FtdW5kYUZvcm1QbGF5Z3JvdW5kKG9wdGlvbnMpIHtcbiAgY29uc3QgcGxheWdyb3VuZCA9IG5ldyBDYW11bmRhRm9ybVBsYXlncm91bmQob3B0aW9ucyk7XG5cbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblxuICAgIGNvbnN0IG9uSW5pdCA9ICgpID0+IHtcbiAgICAgIHJldHVybiByZXNvbHZlKHBsYXlncm91bmQpO1xuICAgIH07XG5cbiAgICB0cnkge1xuICAgICAgcGxheWdyb3VuZC5vbmNlKCdmb3JtUGxheWdyb3VuZC5pbml0Jywgb25Jbml0KTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHJldHVybiByZWplY3QoZXJyKTtcbiAgICB9XG4gIH0pO1xufVxuXG5leHBvcnQgeyBDYW11bmRhRm9ybVBsYXlncm91bmQsIGNyZWF0ZUNhbXVuZGFGb3JtUGxheWdyb3VuZCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguZXMuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../node_modules/@camunda/form-playground/dist/index.es.js\n\n}");

/***/ },

/***/ "../node_modules/downloadjs/download.js"
/*!**********************************************!*\
  !*** ../node_modules/downloadjs/download.js ***!
  \**********************************************/
(module, exports) {

eval("{var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;//download.js v4.2, by dandavis; 2008-2016. [MIT] see http://danml.com/download.html for tests/usage\n// v1 landed a FF+Chrome compat way of downloading strings to local un-named files, upgraded to use a hidden frame and optional mime\n// v2 added named files via a[download], msSaveBlob, IE (10+) support, and window.URL support for larger+faster saves than dataURLs\n// v3 added dataURL and Blob Input, bind-toggle arity, and legacy dataURL fallback was improved with force-download mime and base64 support. 3.1 improved safari handling.\n// v4 adds AMD/UMD, commonJS, and plain browser support\n// v4.1 adds url download capability via solo URL argument (same domain/CORS only)\n// v4.2 adds semantic variable names, long (over 2MB) dataURL support, and hidden by default temp anchors\n// https://github.com/rndme/download\n\n(function (root, factory) {\n\tif (true) {\n\t\t// AMD. Register as an anonymous module.\n\t\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t} else // removed by dead control flow\n{}\n}(this, function () {\n\n\treturn function download(data, strFileName, strMimeType) {\n\n\t\tvar self = window, // this script is only for browsers anyway...\n\t\t\tdefaultMime = \"application/octet-stream\", // this default mime also triggers iframe downloads\n\t\t\tmimeType = strMimeType || defaultMime,\n\t\t\tpayload = data,\n\t\t\turl = !strFileName && !strMimeType && payload,\n\t\t\tanchor = document.createElement(\"a\"),\n\t\t\ttoString = function(a){return String(a);},\n\t\t\tmyBlob = (self.Blob || self.MozBlob || self.WebKitBlob || toString),\n\t\t\tfileName = strFileName || \"download\",\n\t\t\tblob,\n\t\t\treader;\n\t\t\tmyBlob= myBlob.call ? myBlob.bind(self) : Blob ;\n\t  \n\t\tif(String(this)===\"true\"){ //reverse arguments, allowing download.bind(true, \"text/xml\", \"export.xml\") to act as a callback\n\t\t\tpayload=[payload, mimeType];\n\t\t\tmimeType=payload[0];\n\t\t\tpayload=payload[1];\n\t\t}\n\n\n\t\tif(url && url.length< 2048){ // if no filename and no mime, assume a url was passed as the only argument\n\t\t\tfileName = url.split(\"/\").pop().split(\"?\")[0];\n\t\t\tanchor.href = url; // assign href prop to temp anchor\n\t\t  \tif(anchor.href.indexOf(url) !== -1){ // if the browser determines that it's a potentially valid url path:\n        \t\tvar ajax=new XMLHttpRequest();\n        \t\tajax.open( \"GET\", url, true);\n        \t\tajax.responseType = 'blob';\n        \t\tajax.onload= function(e){ \n\t\t\t\t  download(e.target.response, fileName, defaultMime);\n\t\t\t\t};\n        \t\tsetTimeout(function(){ ajax.send();}, 0); // allows setting custom ajax headers using the return:\n\t\t\t    return ajax;\n\t\t\t} // end if valid url?\n\t\t} // end if url?\n\n\n\t\t//go ahead and download dataURLs right away\n\t\tif(/^data:([\\w+-]+\\/[\\w+.-]+)?[,;]/.test(payload)){\n\t\t\n\t\t\tif(payload.length > (1024*1024*1.999) && myBlob !== toString ){\n\t\t\t\tpayload=dataUrlToBlob(payload);\n\t\t\t\tmimeType=payload.type || defaultMime;\n\t\t\t}else{\t\t\t\n\t\t\t\treturn navigator.msSaveBlob ?  // IE10 can't do a[download], only Blobs:\n\t\t\t\t\tnavigator.msSaveBlob(dataUrlToBlob(payload), fileName) :\n\t\t\t\t\tsaver(payload) ; // everyone else can save dataURLs un-processed\n\t\t\t}\n\t\t\t\n\t\t}else{//not data url, is it a string with special needs?\n\t\t\tif(/([\\x80-\\xff])/.test(payload)){\t\t\t  \n\t\t\t\tvar i=0, tempUiArr= new Uint8Array(payload.length), mx=tempUiArr.length;\n\t\t\t\tfor(i;i<mx;++i) tempUiArr[i]= payload.charCodeAt(i);\n\t\t\t \tpayload=new myBlob([tempUiArr], {type: mimeType});\n\t\t\t}\t\t  \n\t\t}\n\t\tblob = payload instanceof myBlob ?\n\t\t\tpayload :\n\t\t\tnew myBlob([payload], {type: mimeType}) ;\n\n\n\t\tfunction dataUrlToBlob(strUrl) {\n\t\t\tvar parts= strUrl.split(/[:;,]/),\n\t\t\ttype= parts[1],\n\t\t\tdecoder= parts[2] == \"base64\" ? atob : decodeURIComponent,\n\t\t\tbinData= decoder( parts.pop() ),\n\t\t\tmx= binData.length,\n\t\t\ti= 0,\n\t\t\tuiArr= new Uint8Array(mx);\n\n\t\t\tfor(i;i<mx;++i) uiArr[i]= binData.charCodeAt(i);\n\n\t\t\treturn new myBlob([uiArr], {type: type});\n\t\t }\n\n\t\tfunction saver(url, winMode){\n\n\t\t\tif ('download' in anchor) { //html5 A[download]\n\t\t\t\tanchor.href = url;\n\t\t\t\tanchor.setAttribute(\"download\", fileName);\n\t\t\t\tanchor.className = \"download-js-link\";\n\t\t\t\tanchor.innerHTML = \"downloading...\";\n\t\t\t\tanchor.style.display = \"none\";\n\t\t\t\tdocument.body.appendChild(anchor);\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tanchor.click();\n\t\t\t\t\tdocument.body.removeChild(anchor);\n\t\t\t\t\tif(winMode===true){setTimeout(function(){ self.URL.revokeObjectURL(anchor.href);}, 250 );}\n\t\t\t\t}, 66);\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// handle non-a[download] safari as best we can:\n\t\t\tif(/(Version)\\/(\\d+)\\.(\\d+)(?:\\.(\\d+))?.*Safari\\//.test(navigator.userAgent)) {\n\t\t\t\tif(/^data:/.test(url))\turl=\"data:\"+url.replace(/^data:([\\w\\/\\-\\+]+)/, defaultMime);\n\t\t\t\tif(!window.open(url)){ // popup blocked, offer direct download:\n\t\t\t\t\tif(confirm(\"Displaying New Document\\n\\nUse Save As... to download, then click back to return to this page.\")){ location.href=url; }\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t//do iframe dataURL download (old ch+FF):\n\t\t\tvar f = document.createElement(\"iframe\");\n\t\t\tdocument.body.appendChild(f);\n\n\t\t\tif(!winMode && /^data:/.test(url)){ // force a mime that will download:\n\t\t\t\turl=\"data:\"+url.replace(/^data:([\\w\\/\\-\\+]+)/, defaultMime);\n\t\t\t}\n\t\t\tf.src=url;\n\t\t\tsetTimeout(function(){ document.body.removeChild(f); }, 333);\n\n\t\t}//end saver\n\n\n\n\n\t\tif (navigator.msSaveBlob) { // IE10+ : (has Blob, but not a[download] or URL)\n\t\t\treturn navigator.msSaveBlob(blob, fileName);\n\t\t}\n\n\t\tif(self.URL){ // simple fast and modern way using Blob and URL:\n\t\t\tsaver(self.URL.createObjectURL(blob), true);\n\t\t}else{\n\t\t\t// handle non-Blob()+non-URL browsers:\n\t\t\tif(typeof blob === \"string\" || blob.constructor===toString ){\n\t\t\t\ttry{\n\t\t\t\t\treturn saver( \"data:\" +  mimeType   + \";base64,\"  +  self.btoa(blob)  );\n\t\t\t\t}catch(y){\n\t\t\t\t\treturn saver( \"data:\" +  mimeType   + \",\" + encodeURIComponent(blob)  );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Blob but not URL support:\n\t\t\treader=new FileReader();\n\t\t\treader.onload=function(e){\n\t\t\t\tsaver(this.result);\n\t\t\t};\n\t\t\treader.readAsDataURL(blob);\n\t\t}\n\t\treturn true;\n\t}; /* end download() */\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2Rvd25sb2FkanMvZG93bmxvYWQuanMiLCJtYXBwaW5ncyI6IkFBQUEsaUlBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSyxJQUEwQztBQUMvQztBQUNBLEVBQUUsaUNBQU8sRUFBRSxvQ0FBRSxPQUFPO0FBQUE7QUFBQTtBQUFBLGtHQUFDO0FBQ3JCLEdBQUcsS0FBSztBQUFBLEVBUUw7QUFDSCxDQUFDOztBQUVEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixrQkFBa0I7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQSwrQkFBK0I7QUFDL0I7QUFDQSxzQkFBc0I7QUFDdEIsMENBQTBDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxhQUFhLE1BQU07QUFDcEQ7QUFDQSxLQUFLO0FBQ0wsSUFBSTs7O0FBR0o7QUFDQSxtQ0FBbUM7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0EsR0FBRyxLQUFLO0FBQ1I7QUFDQTtBQUNBLFVBQVUsS0FBSztBQUNmLHNDQUFzQyxlQUFlO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLGVBQWU7OztBQUd6QztBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsU0FBUyxLQUFLOztBQUVkLCtCQUErQixXQUFXO0FBQzFDOztBQUVBOztBQUVBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsdUJBQXVCLHVDQUF1QztBQUN0RixLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0Isb0hBQW9IO0FBQ3BIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsdUNBQXVDO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQiwrQkFBK0I7O0FBRXpELEdBQUc7Ozs7O0FBS0gsOEJBQThCO0FBQzlCO0FBQ0E7O0FBRUEsZ0JBQWdCO0FBQ2hCO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QyxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2NhbXVuZGEtbW9kZWxlci1jbGllbnQvLi4vbm9kZV9tb2R1bGVzL2Rvd25sb2FkanMvZG93bmxvYWQuanM/YTIxNyJdLCJzb3VyY2VzQ29udGVudCI6WyIvL2Rvd25sb2FkLmpzIHY0LjIsIGJ5IGRhbmRhdmlzOyAyMDA4LTIwMTYuIFtNSVRdIHNlZSBodHRwOi8vZGFubWwuY29tL2Rvd25sb2FkLmh0bWwgZm9yIHRlc3RzL3VzYWdlXG4vLyB2MSBsYW5kZWQgYSBGRitDaHJvbWUgY29tcGF0IHdheSBvZiBkb3dubG9hZGluZyBzdHJpbmdzIHRvIGxvY2FsIHVuLW5hbWVkIGZpbGVzLCB1cGdyYWRlZCB0byB1c2UgYSBoaWRkZW4gZnJhbWUgYW5kIG9wdGlvbmFsIG1pbWVcbi8vIHYyIGFkZGVkIG5hbWVkIGZpbGVzIHZpYSBhW2Rvd25sb2FkXSwgbXNTYXZlQmxvYiwgSUUgKDEwKykgc3VwcG9ydCwgYW5kIHdpbmRvdy5VUkwgc3VwcG9ydCBmb3IgbGFyZ2VyK2Zhc3RlciBzYXZlcyB0aGFuIGRhdGFVUkxzXG4vLyB2MyBhZGRlZCBkYXRhVVJMIGFuZCBCbG9iIElucHV0LCBiaW5kLXRvZ2dsZSBhcml0eSwgYW5kIGxlZ2FjeSBkYXRhVVJMIGZhbGxiYWNrIHdhcyBpbXByb3ZlZCB3aXRoIGZvcmNlLWRvd25sb2FkIG1pbWUgYW5kIGJhc2U2NCBzdXBwb3J0LiAzLjEgaW1wcm92ZWQgc2FmYXJpIGhhbmRsaW5nLlxuLy8gdjQgYWRkcyBBTUQvVU1ELCBjb21tb25KUywgYW5kIHBsYWluIGJyb3dzZXIgc3VwcG9ydFxuLy8gdjQuMSBhZGRzIHVybCBkb3dubG9hZCBjYXBhYmlsaXR5IHZpYSBzb2xvIFVSTCBhcmd1bWVudCAoc2FtZSBkb21haW4vQ09SUyBvbmx5KVxuLy8gdjQuMiBhZGRzIHNlbWFudGljIHZhcmlhYmxlIG5hbWVzLCBsb25nIChvdmVyIDJNQikgZGF0YVVSTCBzdXBwb3J0LCBhbmQgaGlkZGVuIGJ5IGRlZmF1bHQgdGVtcCBhbmNob3JzXG4vLyBodHRwczovL2dpdGh1Yi5jb20vcm5kbWUvZG93bmxvYWRcblxuKGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KSB7XG5cdGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcblx0XHQvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcblx0fSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcblx0XHQvLyBOb2RlLiBEb2VzIG5vdCB3b3JrIHdpdGggc3RyaWN0IENvbW1vbkpTLCBidXRcblx0XHQvLyBvbmx5IENvbW1vbkpTLWxpa2UgZW52aXJvbm1lbnRzIHRoYXQgc3VwcG9ydCBtb2R1bGUuZXhwb3J0cyxcblx0XHQvLyBsaWtlIE5vZGUuXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdH0gZWxzZSB7XG5cdFx0Ly8gQnJvd3NlciBnbG9iYWxzIChyb290IGlzIHdpbmRvdylcblx0XHRyb290LmRvd25sb2FkID0gZmFjdG9yeSgpO1xuICB9XG59KHRoaXMsIGZ1bmN0aW9uICgpIHtcblxuXHRyZXR1cm4gZnVuY3Rpb24gZG93bmxvYWQoZGF0YSwgc3RyRmlsZU5hbWUsIHN0ck1pbWVUeXBlKSB7XG5cblx0XHR2YXIgc2VsZiA9IHdpbmRvdywgLy8gdGhpcyBzY3JpcHQgaXMgb25seSBmb3IgYnJvd3NlcnMgYW55d2F5Li4uXG5cdFx0XHRkZWZhdWx0TWltZSA9IFwiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtXCIsIC8vIHRoaXMgZGVmYXVsdCBtaW1lIGFsc28gdHJpZ2dlcnMgaWZyYW1lIGRvd25sb2Fkc1xuXHRcdFx0bWltZVR5cGUgPSBzdHJNaW1lVHlwZSB8fCBkZWZhdWx0TWltZSxcblx0XHRcdHBheWxvYWQgPSBkYXRhLFxuXHRcdFx0dXJsID0gIXN0ckZpbGVOYW1lICYmICFzdHJNaW1lVHlwZSAmJiBwYXlsb2FkLFxuXHRcdFx0YW5jaG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIiksXG5cdFx0XHR0b1N0cmluZyA9IGZ1bmN0aW9uKGEpe3JldHVybiBTdHJpbmcoYSk7fSxcblx0XHRcdG15QmxvYiA9IChzZWxmLkJsb2IgfHwgc2VsZi5Nb3pCbG9iIHx8IHNlbGYuV2ViS2l0QmxvYiB8fCB0b1N0cmluZyksXG5cdFx0XHRmaWxlTmFtZSA9IHN0ckZpbGVOYW1lIHx8IFwiZG93bmxvYWRcIixcblx0XHRcdGJsb2IsXG5cdFx0XHRyZWFkZXI7XG5cdFx0XHRteUJsb2I9IG15QmxvYi5jYWxsID8gbXlCbG9iLmJpbmQoc2VsZikgOiBCbG9iIDtcblx0ICBcblx0XHRpZihTdHJpbmcodGhpcyk9PT1cInRydWVcIil7IC8vcmV2ZXJzZSBhcmd1bWVudHMsIGFsbG93aW5nIGRvd25sb2FkLmJpbmQodHJ1ZSwgXCJ0ZXh0L3htbFwiLCBcImV4cG9ydC54bWxcIikgdG8gYWN0IGFzIGEgY2FsbGJhY2tcblx0XHRcdHBheWxvYWQ9W3BheWxvYWQsIG1pbWVUeXBlXTtcblx0XHRcdG1pbWVUeXBlPXBheWxvYWRbMF07XG5cdFx0XHRwYXlsb2FkPXBheWxvYWRbMV07XG5cdFx0fVxuXG5cblx0XHRpZih1cmwgJiYgdXJsLmxlbmd0aDwgMjA0OCl7IC8vIGlmIG5vIGZpbGVuYW1lIGFuZCBubyBtaW1lLCBhc3N1bWUgYSB1cmwgd2FzIHBhc3NlZCBhcyB0aGUgb25seSBhcmd1bWVudFxuXHRcdFx0ZmlsZU5hbWUgPSB1cmwuc3BsaXQoXCIvXCIpLnBvcCgpLnNwbGl0KFwiP1wiKVswXTtcblx0XHRcdGFuY2hvci5ocmVmID0gdXJsOyAvLyBhc3NpZ24gaHJlZiBwcm9wIHRvIHRlbXAgYW5jaG9yXG5cdFx0ICBcdGlmKGFuY2hvci5ocmVmLmluZGV4T2YodXJsKSAhPT0gLTEpeyAvLyBpZiB0aGUgYnJvd3NlciBkZXRlcm1pbmVzIHRoYXQgaXQncyBhIHBvdGVudGlhbGx5IHZhbGlkIHVybCBwYXRoOlxuICAgICAgICBcdFx0dmFyIGFqYXg9bmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgIFx0XHRhamF4Lm9wZW4oIFwiR0VUXCIsIHVybCwgdHJ1ZSk7XG4gICAgICAgIFx0XHRhamF4LnJlc3BvbnNlVHlwZSA9ICdibG9iJztcbiAgICAgICAgXHRcdGFqYXgub25sb2FkPSBmdW5jdGlvbihlKXsgXG5cdFx0XHRcdCAgZG93bmxvYWQoZS50YXJnZXQucmVzcG9uc2UsIGZpbGVOYW1lLCBkZWZhdWx0TWltZSk7XG5cdFx0XHRcdH07XG4gICAgICAgIFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7IGFqYXguc2VuZCgpO30sIDApOyAvLyBhbGxvd3Mgc2V0dGluZyBjdXN0b20gYWpheCBoZWFkZXJzIHVzaW5nIHRoZSByZXR1cm46XG5cdFx0XHQgICAgcmV0dXJuIGFqYXg7XG5cdFx0XHR9IC8vIGVuZCBpZiB2YWxpZCB1cmw/XG5cdFx0fSAvLyBlbmQgaWYgdXJsP1xuXG5cblx0XHQvL2dvIGFoZWFkIGFuZCBkb3dubG9hZCBkYXRhVVJMcyByaWdodCBhd2F5XG5cdFx0aWYoL15kYXRhOihbXFx3Ky1dK1xcL1tcXHcrLi1dKyk/Wyw7XS8udGVzdChwYXlsb2FkKSl7XG5cdFx0XG5cdFx0XHRpZihwYXlsb2FkLmxlbmd0aCA+ICgxMDI0KjEwMjQqMS45OTkpICYmIG15QmxvYiAhPT0gdG9TdHJpbmcgKXtcblx0XHRcdFx0cGF5bG9hZD1kYXRhVXJsVG9CbG9iKHBheWxvYWQpO1xuXHRcdFx0XHRtaW1lVHlwZT1wYXlsb2FkLnR5cGUgfHwgZGVmYXVsdE1pbWU7XG5cdFx0XHR9ZWxzZXtcdFx0XHRcblx0XHRcdFx0cmV0dXJuIG5hdmlnYXRvci5tc1NhdmVCbG9iID8gIC8vIElFMTAgY2FuJ3QgZG8gYVtkb3dubG9hZF0sIG9ubHkgQmxvYnM6XG5cdFx0XHRcdFx0bmF2aWdhdG9yLm1zU2F2ZUJsb2IoZGF0YVVybFRvQmxvYihwYXlsb2FkKSwgZmlsZU5hbWUpIDpcblx0XHRcdFx0XHRzYXZlcihwYXlsb2FkKSA7IC8vIGV2ZXJ5b25lIGVsc2UgY2FuIHNhdmUgZGF0YVVSTHMgdW4tcHJvY2Vzc2VkXG5cdFx0XHR9XG5cdFx0XHRcblx0XHR9ZWxzZXsvL25vdCBkYXRhIHVybCwgaXMgaXQgYSBzdHJpbmcgd2l0aCBzcGVjaWFsIG5lZWRzP1xuXHRcdFx0aWYoLyhbXFx4ODAtXFx4ZmZdKS8udGVzdChwYXlsb2FkKSl7XHRcdFx0ICBcblx0XHRcdFx0dmFyIGk9MCwgdGVtcFVpQXJyPSBuZXcgVWludDhBcnJheShwYXlsb2FkLmxlbmd0aCksIG14PXRlbXBVaUFyci5sZW5ndGg7XG5cdFx0XHRcdGZvcihpO2k8bXg7KytpKSB0ZW1wVWlBcnJbaV09IHBheWxvYWQuY2hhckNvZGVBdChpKTtcblx0XHRcdCBcdHBheWxvYWQ9bmV3IG15QmxvYihbdGVtcFVpQXJyXSwge3R5cGU6IG1pbWVUeXBlfSk7XG5cdFx0XHR9XHRcdCAgXG5cdFx0fVxuXHRcdGJsb2IgPSBwYXlsb2FkIGluc3RhbmNlb2YgbXlCbG9iID9cblx0XHRcdHBheWxvYWQgOlxuXHRcdFx0bmV3IG15QmxvYihbcGF5bG9hZF0sIHt0eXBlOiBtaW1lVHlwZX0pIDtcblxuXG5cdFx0ZnVuY3Rpb24gZGF0YVVybFRvQmxvYihzdHJVcmwpIHtcblx0XHRcdHZhciBwYXJ0cz0gc3RyVXJsLnNwbGl0KC9bOjssXS8pLFxuXHRcdFx0dHlwZT0gcGFydHNbMV0sXG5cdFx0XHRkZWNvZGVyPSBwYXJ0c1syXSA9PSBcImJhc2U2NFwiID8gYXRvYiA6IGRlY29kZVVSSUNvbXBvbmVudCxcblx0XHRcdGJpbkRhdGE9IGRlY29kZXIoIHBhcnRzLnBvcCgpICksXG5cdFx0XHRteD0gYmluRGF0YS5sZW5ndGgsXG5cdFx0XHRpPSAwLFxuXHRcdFx0dWlBcnI9IG5ldyBVaW50OEFycmF5KG14KTtcblxuXHRcdFx0Zm9yKGk7aTxteDsrK2kpIHVpQXJyW2ldPSBiaW5EYXRhLmNoYXJDb2RlQXQoaSk7XG5cblx0XHRcdHJldHVybiBuZXcgbXlCbG9iKFt1aUFycl0sIHt0eXBlOiB0eXBlfSk7XG5cdFx0IH1cblxuXHRcdGZ1bmN0aW9uIHNhdmVyKHVybCwgd2luTW9kZSl7XG5cblx0XHRcdGlmICgnZG93bmxvYWQnIGluIGFuY2hvcikgeyAvL2h0bWw1IEFbZG93bmxvYWRdXG5cdFx0XHRcdGFuY2hvci5ocmVmID0gdXJsO1xuXHRcdFx0XHRhbmNob3Iuc2V0QXR0cmlidXRlKFwiZG93bmxvYWRcIiwgZmlsZU5hbWUpO1xuXHRcdFx0XHRhbmNob3IuY2xhc3NOYW1lID0gXCJkb3dubG9hZC1qcy1saW5rXCI7XG5cdFx0XHRcdGFuY2hvci5pbm5lckhUTUwgPSBcImRvd25sb2FkaW5nLi4uXCI7XG5cdFx0XHRcdGFuY2hvci5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG5cdFx0XHRcdGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYW5jaG9yKTtcblx0XHRcdFx0c2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRhbmNob3IuY2xpY2soKTtcblx0XHRcdFx0XHRkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGFuY2hvcik7XG5cdFx0XHRcdFx0aWYod2luTW9kZT09PXRydWUpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXsgc2VsZi5VUkwucmV2b2tlT2JqZWN0VVJMKGFuY2hvci5ocmVmKTt9LCAyNTAgKTt9XG5cdFx0XHRcdH0sIDY2KTtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGhhbmRsZSBub24tYVtkb3dubG9hZF0gc2FmYXJpIGFzIGJlc3Qgd2UgY2FuOlxuXHRcdFx0aWYoLyhWZXJzaW9uKVxcLyhcXGQrKVxcLihcXGQrKSg/OlxcLihcXGQrKSk/LipTYWZhcmlcXC8vLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpIHtcblx0XHRcdFx0aWYoL15kYXRhOi8udGVzdCh1cmwpKVx0dXJsPVwiZGF0YTpcIit1cmwucmVwbGFjZSgvXmRhdGE6KFtcXHdcXC9cXC1cXCtdKykvLCBkZWZhdWx0TWltZSk7XG5cdFx0XHRcdGlmKCF3aW5kb3cub3Blbih1cmwpKXsgLy8gcG9wdXAgYmxvY2tlZCwgb2ZmZXIgZGlyZWN0IGRvd25sb2FkOlxuXHRcdFx0XHRcdGlmKGNvbmZpcm0oXCJEaXNwbGF5aW5nIE5ldyBEb2N1bWVudFxcblxcblVzZSBTYXZlIEFzLi4uIHRvIGRvd25sb2FkLCB0aGVuIGNsaWNrIGJhY2sgdG8gcmV0dXJuIHRvIHRoaXMgcGFnZS5cIikpeyBsb2NhdGlvbi5ocmVmPXVybDsgfVxuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXG5cdFx0XHQvL2RvIGlmcmFtZSBkYXRhVVJMIGRvd25sb2FkIChvbGQgY2grRkYpOlxuXHRcdFx0dmFyIGYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpO1xuXHRcdFx0ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChmKTtcblxuXHRcdFx0aWYoIXdpbk1vZGUgJiYgL15kYXRhOi8udGVzdCh1cmwpKXsgLy8gZm9yY2UgYSBtaW1lIHRoYXQgd2lsbCBkb3dubG9hZDpcblx0XHRcdFx0dXJsPVwiZGF0YTpcIit1cmwucmVwbGFjZSgvXmRhdGE6KFtcXHdcXC9cXC1cXCtdKykvLCBkZWZhdWx0TWltZSk7XG5cdFx0XHR9XG5cdFx0XHRmLnNyYz11cmw7XG5cdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7IGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZik7IH0sIDMzMyk7XG5cblx0XHR9Ly9lbmQgc2F2ZXJcblxuXG5cblxuXHRcdGlmIChuYXZpZ2F0b3IubXNTYXZlQmxvYikgeyAvLyBJRTEwKyA6IChoYXMgQmxvYiwgYnV0IG5vdCBhW2Rvd25sb2FkXSBvciBVUkwpXG5cdFx0XHRyZXR1cm4gbmF2aWdhdG9yLm1zU2F2ZUJsb2IoYmxvYiwgZmlsZU5hbWUpO1xuXHRcdH1cblxuXHRcdGlmKHNlbGYuVVJMKXsgLy8gc2ltcGxlIGZhc3QgYW5kIG1vZGVybiB3YXkgdXNpbmcgQmxvYiBhbmQgVVJMOlxuXHRcdFx0c2F2ZXIoc2VsZi5VUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpLCB0cnVlKTtcblx0XHR9ZWxzZXtcblx0XHRcdC8vIGhhbmRsZSBub24tQmxvYigpK25vbi1VUkwgYnJvd3NlcnM6XG5cdFx0XHRpZih0eXBlb2YgYmxvYiA9PT0gXCJzdHJpbmdcIiB8fCBibG9iLmNvbnN0cnVjdG9yPT09dG9TdHJpbmcgKXtcblx0XHRcdFx0dHJ5e1xuXHRcdFx0XHRcdHJldHVybiBzYXZlciggXCJkYXRhOlwiICsgIG1pbWVUeXBlICAgKyBcIjtiYXNlNjQsXCIgICsgIHNlbGYuYnRvYShibG9iKSAgKTtcblx0XHRcdFx0fWNhdGNoKHkpe1xuXHRcdFx0XHRcdHJldHVybiBzYXZlciggXCJkYXRhOlwiICsgIG1pbWVUeXBlICAgKyBcIixcIiArIGVuY29kZVVSSUNvbXBvbmVudChibG9iKSAgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBCbG9iIGJ1dCBub3QgVVJMIHN1cHBvcnQ6XG5cdFx0XHRyZWFkZXI9bmV3IEZpbGVSZWFkZXIoKTtcblx0XHRcdHJlYWRlci5vbmxvYWQ9ZnVuY3Rpb24oZSl7XG5cdFx0XHRcdHNhdmVyKHRoaXMucmVzdWx0KTtcblx0XHRcdH07XG5cdFx0XHRyZWFkZXIucmVhZEFzRGF0YVVSTChibG9iKTtcblx0XHR9XG5cdFx0cmV0dXJuIHRydWU7XG5cdH07IC8qIGVuZCBkb3dubG9hZCgpICovXG59KSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../node_modules/downloadjs/download.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_DataView.js"
/*!*******************************************!*\
  !*** ../node_modules/lodash/_DataView.js ***!
  \*******************************************/
(module, __unused_webpack_exports, __webpack_require__) {

eval("{var getNative = __webpack_require__(/*! ./_getNative */ \"../node_modules/lodash/_getNative.js\"),\n    root = __webpack_require__(/*! ./_root */ \"../node_modules/lodash/_root.js\");\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nmodule.exports = DataView;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fRGF0YVZpZXcuanMiLCJtYXBwaW5ncyI6IkFBQUEsZ0JBQWdCLG1CQUFPLENBQUMsMERBQWM7QUFDdEMsV0FBVyxtQkFBTyxDQUFDLGdEQUFTOztBQUU1QjtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2FtdW5kYS1tb2RlbGVyLWNsaWVudC8uLi9ub2RlX21vZHVsZXMvbG9kYXNoL19EYXRhVmlldy5qcz81NGQ0Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBnZXROYXRpdmUgPSByZXF1aXJlKCcuL19nZXROYXRpdmUnKSxcbiAgICByb290ID0gcmVxdWlyZSgnLi9fcm9vdCcpO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyB0aGF0IGFyZSB2ZXJpZmllZCB0byBiZSBuYXRpdmUuICovXG52YXIgRGF0YVZpZXcgPSBnZXROYXRpdmUocm9vdCwgJ0RhdGFWaWV3Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0gRGF0YVZpZXc7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../node_modules/lodash/_DataView.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_Hash.js"
/*!***************************************!*\
  !*** ../node_modules/lodash/_Hash.js ***!
  \***************************************/
(module, __unused_webpack_exports, __webpack_require__) {

eval("{var hashClear = __webpack_require__(/*! ./_hashClear */ \"../node_modules/lodash/_hashClear.js\"),\n    hashDelete = __webpack_require__(/*! ./_hashDelete */ \"../node_modules/lodash/_hashDelete.js\"),\n    hashGet = __webpack_require__(/*! ./_hashGet */ \"../node_modules/lodash/_hashGet.js\"),\n    hashHas = __webpack_require__(/*! ./_hashHas */ \"../node_modules/lodash/_hashHas.js\"),\n    hashSet = __webpack_require__(/*! ./_hashSet */ \"../node_modules/lodash/_hashSet.js\");\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fSGFzaC5qcyIsIm1hcHBpbmdzIjoiQUFBQSxnQkFBZ0IsbUJBQU8sQ0FBQywwREFBYztBQUN0QyxpQkFBaUIsbUJBQU8sQ0FBQyw0REFBZTtBQUN4QyxjQUFjLG1CQUFPLENBQUMsc0RBQVk7QUFDbEMsY0FBYyxtQkFBTyxDQUFDLHNEQUFZO0FBQ2xDLGNBQWMsbUJBQU8sQ0FBQyxzREFBWTs7QUFFbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2FtdW5kYS1tb2RlbGVyLWNsaWVudC8uLi9ub2RlX21vZHVsZXMvbG9kYXNoL19IYXNoLmpzP2MzOWIiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGhhc2hDbGVhciA9IHJlcXVpcmUoJy4vX2hhc2hDbGVhcicpLFxuICAgIGhhc2hEZWxldGUgPSByZXF1aXJlKCcuL19oYXNoRGVsZXRlJyksXG4gICAgaGFzaEdldCA9IHJlcXVpcmUoJy4vX2hhc2hHZXQnKSxcbiAgICBoYXNoSGFzID0gcmVxdWlyZSgnLi9faGFzaEhhcycpLFxuICAgIGhhc2hTZXQgPSByZXF1aXJlKCcuL19oYXNoU2V0Jyk7XG5cbi8qKlxuICogQ3JlYXRlcyBhIGhhc2ggb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICovXG5mdW5jdGlvbiBIYXNoKGVudHJpZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG5cbiAgdGhpcy5jbGVhcigpO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gIH1cbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYEhhc2hgLlxuSGFzaC5wcm90b3R5cGUuY2xlYXIgPSBoYXNoQ2xlYXI7XG5IYXNoLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBoYXNoRGVsZXRlO1xuSGFzaC5wcm90b3R5cGUuZ2V0ID0gaGFzaEdldDtcbkhhc2gucHJvdG90eXBlLmhhcyA9IGhhc2hIYXM7XG5IYXNoLnByb3RvdHlwZS5zZXQgPSBoYXNoU2V0O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEhhc2g7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../node_modules/lodash/_Hash.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_ListCache.js"
/*!********************************************!*\
  !*** ../node_modules/lodash/_ListCache.js ***!
  \********************************************/
(module, __unused_webpack_exports, __webpack_require__) {

eval("{var listCacheClear = __webpack_require__(/*! ./_listCacheClear */ \"../node_modules/lodash/_listCacheClear.js\"),\n    listCacheDelete = __webpack_require__(/*! ./_listCacheDelete */ \"../node_modules/lodash/_listCacheDelete.js\"),\n    listCacheGet = __webpack_require__(/*! ./_listCacheGet */ \"../node_modules/lodash/_listCacheGet.js\"),\n    listCacheHas = __webpack_require__(/*! ./_listCacheHas */ \"../node_modules/lodash/_listCacheHas.js\"),\n    listCacheSet = __webpack_require__(/*! ./_listCacheSet */ \"../node_modules/lodash/_listCacheSet.js\");\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fTGlzdENhY2hlLmpzIiwibWFwcGluZ3MiOiJBQUFBLHFCQUFxQixtQkFBTyxDQUFDLG9FQUFtQjtBQUNoRCxzQkFBc0IsbUJBQU8sQ0FBQyxzRUFBb0I7QUFDbEQsbUJBQW1CLG1CQUFPLENBQUMsZ0VBQWlCO0FBQzVDLG1CQUFtQixtQkFBTyxDQUFDLGdFQUFpQjtBQUM1QyxtQkFBbUIsbUJBQU8sQ0FBQyxnRUFBaUI7O0FBRTVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL2NhbXVuZGEtbW9kZWxlci1jbGllbnQvLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fTGlzdENhY2hlLmpzPzQ1NmYiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGxpc3RDYWNoZUNsZWFyID0gcmVxdWlyZSgnLi9fbGlzdENhY2hlQ2xlYXInKSxcbiAgICBsaXN0Q2FjaGVEZWxldGUgPSByZXF1aXJlKCcuL19saXN0Q2FjaGVEZWxldGUnKSxcbiAgICBsaXN0Q2FjaGVHZXQgPSByZXF1aXJlKCcuL19saXN0Q2FjaGVHZXQnKSxcbiAgICBsaXN0Q2FjaGVIYXMgPSByZXF1aXJlKCcuL19saXN0Q2FjaGVIYXMnKSxcbiAgICBsaXN0Q2FjaGVTZXQgPSByZXF1aXJlKCcuL19saXN0Q2FjaGVTZXQnKTtcblxuLyoqXG4gKiBDcmVhdGVzIGFuIGxpc3QgY2FjaGUgb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICovXG5mdW5jdGlvbiBMaXN0Q2FjaGUoZW50cmllcykge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGVudHJpZXMgPT0gbnVsbCA/IDAgOiBlbnRyaWVzLmxlbmd0aDtcblxuICB0aGlzLmNsZWFyKCk7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgfVxufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgTGlzdENhY2hlYC5cbkxpc3RDYWNoZS5wcm90b3R5cGUuY2xlYXIgPSBsaXN0Q2FjaGVDbGVhcjtcbkxpc3RDYWNoZS5wcm90b3R5cGVbJ2RlbGV0ZSddID0gbGlzdENhY2hlRGVsZXRlO1xuTGlzdENhY2hlLnByb3RvdHlwZS5nZXQgPSBsaXN0Q2FjaGVHZXQ7XG5MaXN0Q2FjaGUucHJvdG90eXBlLmhhcyA9IGxpc3RDYWNoZUhhcztcbkxpc3RDYWNoZS5wcm90b3R5cGUuc2V0ID0gbGlzdENhY2hlU2V0O1xuXG5tb2R1bGUuZXhwb3J0cyA9IExpc3RDYWNoZTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../node_modules/lodash/_ListCache.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_Map.js"
/*!**************************************!*\
  !*** ../node_modules/lodash/_Map.js ***!
  \**************************************/
(module, __unused_webpack_exports, __webpack_require__) {

eval("{var getNative = __webpack_require__(/*! ./_getNative */ \"../node_modules/lodash/_getNative.js\"),\n    root = __webpack_require__(/*! ./_root */ \"../node_modules/lodash/_root.js\");\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fTWFwLmpzIiwibWFwcGluZ3MiOiJBQUFBLGdCQUFnQixtQkFBTyxDQUFDLDBEQUFjO0FBQ3RDLFdBQVcsbUJBQU8sQ0FBQyxnREFBUzs7QUFFNUI7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL2NhbXVuZGEtbW9kZWxlci1jbGllbnQvLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fTWFwLmpzP2QwYTQiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGdldE5hdGl2ZSA9IHJlcXVpcmUoJy4vX2dldE5hdGl2ZScpLFxuICAgIHJvb3QgPSByZXF1aXJlKCcuL19yb290Jyk7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIHRoYXQgYXJlIHZlcmlmaWVkIHRvIGJlIG5hdGl2ZS4gKi9cbnZhciBNYXAgPSBnZXROYXRpdmUocm9vdCwgJ01hcCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IE1hcDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../node_modules/lodash/_Map.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_MapCache.js"
/*!*******************************************!*\
  !*** ../node_modules/lodash/_MapCache.js ***!
  \*******************************************/
(module, __unused_webpack_exports, __webpack_require__) {

eval("{var mapCacheClear = __webpack_require__(/*! ./_mapCacheClear */ \"../node_modules/lodash/_mapCacheClear.js\"),\n    mapCacheDelete = __webpack_require__(/*! ./_mapCacheDelete */ \"../node_modules/lodash/_mapCacheDelete.js\"),\n    mapCacheGet = __webpack_require__(/*! ./_mapCacheGet */ \"../node_modules/lodash/_mapCacheGet.js\"),\n    mapCacheHas = __webpack_require__(/*! ./_mapCacheHas */ \"../node_modules/lodash/_mapCacheHas.js\"),\n    mapCacheSet = __webpack_require__(/*! ./_mapCacheSet */ \"../node_modules/lodash/_mapCacheSet.js\");\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fTWFwQ2FjaGUuanMiLCJtYXBwaW5ncyI6IkFBQUEsb0JBQW9CLG1CQUFPLENBQUMsa0VBQWtCO0FBQzlDLHFCQUFxQixtQkFBTyxDQUFDLG9FQUFtQjtBQUNoRCxrQkFBa0IsbUJBQU8sQ0FBQyw4REFBZ0I7QUFDMUMsa0JBQWtCLG1CQUFPLENBQUMsOERBQWdCO0FBQzFDLGtCQUFrQixtQkFBTyxDQUFDLDhEQUFnQjs7QUFFMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2FtdW5kYS1tb2RlbGVyLWNsaWVudC8uLi9ub2RlX21vZHVsZXMvbG9kYXNoL19NYXBDYWNoZS5qcz9jNjQxIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBtYXBDYWNoZUNsZWFyID0gcmVxdWlyZSgnLi9fbWFwQ2FjaGVDbGVhcicpLFxuICAgIG1hcENhY2hlRGVsZXRlID0gcmVxdWlyZSgnLi9fbWFwQ2FjaGVEZWxldGUnKSxcbiAgICBtYXBDYWNoZUdldCA9IHJlcXVpcmUoJy4vX21hcENhY2hlR2V0JyksXG4gICAgbWFwQ2FjaGVIYXMgPSByZXF1aXJlKCcuL19tYXBDYWNoZUhhcycpLFxuICAgIG1hcENhY2hlU2V0ID0gcmVxdWlyZSgnLi9fbWFwQ2FjaGVTZXQnKTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgbWFwIGNhY2hlIG9iamVjdCB0byBzdG9yZSBrZXktdmFsdWUgcGFpcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIE1hcENhY2hlKGVudHJpZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG5cbiAgdGhpcy5jbGVhcigpO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gIH1cbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYE1hcENhY2hlYC5cbk1hcENhY2hlLnByb3RvdHlwZS5jbGVhciA9IG1hcENhY2hlQ2xlYXI7XG5NYXBDYWNoZS5wcm90b3R5cGVbJ2RlbGV0ZSddID0gbWFwQ2FjaGVEZWxldGU7XG5NYXBDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbWFwQ2FjaGVHZXQ7XG5NYXBDYWNoZS5wcm90b3R5cGUuaGFzID0gbWFwQ2FjaGVIYXM7XG5NYXBDYWNoZS5wcm90b3R5cGUuc2V0ID0gbWFwQ2FjaGVTZXQ7XG5cbm1vZHVsZS5leHBvcnRzID0gTWFwQ2FjaGU7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../node_modules/lodash/_MapCache.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_Promise.js"
/*!******************************************!*\
  !*** ../node_modules/lodash/_Promise.js ***!
  \******************************************/
(module, __unused_webpack_exports, __webpack_require__) {

eval("{var getNative = __webpack_require__(/*! ./_getNative */ \"../node_modules/lodash/_getNative.js\"),\n    root = __webpack_require__(/*! ./_root */ \"../node_modules/lodash/_root.js\");\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nmodule.exports = Promise;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fUHJvbWlzZS5qcyIsIm1hcHBpbmdzIjoiQUFBQSxnQkFBZ0IsbUJBQU8sQ0FBQywwREFBYztBQUN0QyxXQUFXLG1CQUFPLENBQUMsZ0RBQVM7O0FBRTVCO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jYW11bmRhLW1vZGVsZXItY2xpZW50Ly4uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX1Byb21pc2UuanM/YWQ1ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZ2V0TmF0aXZlID0gcmVxdWlyZSgnLi9fZ2V0TmF0aXZlJyksXG4gICAgcm9vdCA9IHJlcXVpcmUoJy4vX3Jvb3QnKTtcblxuLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgdGhhdCBhcmUgdmVyaWZpZWQgdG8gYmUgbmF0aXZlLiAqL1xudmFyIFByb21pc2UgPSBnZXROYXRpdmUocm9vdCwgJ1Byb21pc2UnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBQcm9taXNlO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../node_modules/lodash/_Promise.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_Set.js"
/*!**************************************!*\
  !*** ../node_modules/lodash/_Set.js ***!
  \**************************************/
(module, __unused_webpack_exports, __webpack_require__) {

eval("{var getNative = __webpack_require__(/*! ./_getNative */ \"../node_modules/lodash/_getNative.js\"),\n    root = __webpack_require__(/*! ./_root */ \"../node_modules/lodash/_root.js\");\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nmodule.exports = Set;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fU2V0LmpzIiwibWFwcGluZ3MiOiJBQUFBLGdCQUFnQixtQkFBTyxDQUFDLDBEQUFjO0FBQ3RDLFdBQVcsbUJBQU8sQ0FBQyxnREFBUzs7QUFFNUI7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL2NhbXVuZGEtbW9kZWxlci1jbGllbnQvLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fU2V0LmpzPzZmNjMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGdldE5hdGl2ZSA9IHJlcXVpcmUoJy4vX2dldE5hdGl2ZScpLFxuICAgIHJvb3QgPSByZXF1aXJlKCcuL19yb290Jyk7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIHRoYXQgYXJlIHZlcmlmaWVkIHRvIGJlIG5hdGl2ZS4gKi9cbnZhciBTZXQgPSBnZXROYXRpdmUocm9vdCwgJ1NldCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFNldDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../node_modules/lodash/_Set.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_SetCache.js"
/*!*******************************************!*\
  !*** ../node_modules/lodash/_SetCache.js ***!
  \*******************************************/
(module, __unused_webpack_exports, __webpack_require__) {

eval("{var MapCache = __webpack_require__(/*! ./_MapCache */ \"../node_modules/lodash/_MapCache.js\"),\n    setCacheAdd = __webpack_require__(/*! ./_setCacheAdd */ \"../node_modules/lodash/_setCacheAdd.js\"),\n    setCacheHas = __webpack_require__(/*! ./_setCacheHas */ \"../node_modules/lodash/_setCacheHas.js\");\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nmodule.exports = SetCache;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fU2V0Q2FjaGUuanMiLCJtYXBwaW5ncyI6IkFBQUEsZUFBZSxtQkFBTyxDQUFDLHdEQUFhO0FBQ3BDLGtCQUFrQixtQkFBTyxDQUFDLDhEQUFnQjtBQUMxQyxrQkFBa0IsbUJBQU8sQ0FBQyw4REFBZ0I7O0FBRTFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL2NhbXVuZGEtbW9kZWxlci1jbGllbnQvLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fU2V0Q2FjaGUuanM/MTg0ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgTWFwQ2FjaGUgPSByZXF1aXJlKCcuL19NYXBDYWNoZScpLFxuICAgIHNldENhY2hlQWRkID0gcmVxdWlyZSgnLi9fc2V0Q2FjaGVBZGQnKSxcbiAgICBzZXRDYWNoZUhhcyA9IHJlcXVpcmUoJy4vX3NldENhY2hlSGFzJyk7XG5cbi8qKlxuICpcbiAqIENyZWF0ZXMgYW4gYXJyYXkgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIHVuaXF1ZSB2YWx1ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gU2V0Q2FjaGUodmFsdWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gdmFsdWVzID09IG51bGwgPyAwIDogdmFsdWVzLmxlbmd0aDtcblxuICB0aGlzLl9fZGF0YV9fID0gbmV3IE1hcENhY2hlO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHRoaXMuYWRkKHZhbHVlc1tpbmRleF0pO1xuICB9XG59XG5cbi8vIEFkZCBtZXRob2RzIHRvIGBTZXRDYWNoZWAuXG5TZXRDYWNoZS5wcm90b3R5cGUuYWRkID0gU2V0Q2FjaGUucHJvdG90eXBlLnB1c2ggPSBzZXRDYWNoZUFkZDtcblNldENhY2hlLnByb3RvdHlwZS5oYXMgPSBzZXRDYWNoZUhhcztcblxubW9kdWxlLmV4cG9ydHMgPSBTZXRDYWNoZTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../node_modules/lodash/_SetCache.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_Stack.js"
/*!****************************************!*\
  !*** ../node_modules/lodash/_Stack.js ***!
  \****************************************/
(module, __unused_webpack_exports, __webpack_require__) {

eval("{var ListCache = __webpack_require__(/*! ./_ListCache */ \"../node_modules/lodash/_ListCache.js\"),\n    stackClear = __webpack_require__(/*! ./_stackClear */ \"../node_modules/lodash/_stackClear.js\"),\n    stackDelete = __webpack_require__(/*! ./_stackDelete */ \"../node_modules/lodash/_stackDelete.js\"),\n    stackGet = __webpack_require__(/*! ./_stackGet */ \"../node_modules/lodash/_stackGet.js\"),\n    stackHas = __webpack_require__(/*! ./_stackHas */ \"../node_modules/lodash/_stackHas.js\"),\n    stackSet = __webpack_require__(/*! ./_stackSet */ \"../node_modules/lodash/_stackSet.js\");\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nmodule.exports = Stack;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fU3RhY2suanMiLCJtYXBwaW5ncyI6IkFBQUEsZ0JBQWdCLG1CQUFPLENBQUMsMERBQWM7QUFDdEMsaUJBQWlCLG1CQUFPLENBQUMsNERBQWU7QUFDeEMsa0JBQWtCLG1CQUFPLENBQUMsOERBQWdCO0FBQzFDLGVBQWUsbUJBQU8sQ0FBQyx3REFBYTtBQUNwQyxlQUFlLG1CQUFPLENBQUMsd0RBQWE7QUFDcEMsZUFBZSxtQkFBTyxDQUFDLHdEQUFhOztBQUVwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2FtdW5kYS1tb2RlbGVyLWNsaWVudC8uLi9ub2RlX21vZHVsZXMvbG9kYXNoL19TdGFjay5qcz81OTFiIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBMaXN0Q2FjaGUgPSByZXF1aXJlKCcuL19MaXN0Q2FjaGUnKSxcbiAgICBzdGFja0NsZWFyID0gcmVxdWlyZSgnLi9fc3RhY2tDbGVhcicpLFxuICAgIHN0YWNrRGVsZXRlID0gcmVxdWlyZSgnLi9fc3RhY2tEZWxldGUnKSxcbiAgICBzdGFja0dldCA9IHJlcXVpcmUoJy4vX3N0YWNrR2V0JyksXG4gICAgc3RhY2tIYXMgPSByZXF1aXJlKCcuL19zdGFja0hhcycpLFxuICAgIHN0YWNrU2V0ID0gcmVxdWlyZSgnLi9fc3RhY2tTZXQnKTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgc3RhY2sgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIGtleS12YWx1ZSBwYWlycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gU3RhY2soZW50cmllcykge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18gPSBuZXcgTGlzdENhY2hlKGVudHJpZXMpO1xuICB0aGlzLnNpemUgPSBkYXRhLnNpemU7XG59XG5cbi8vIEFkZCBtZXRob2RzIHRvIGBTdGFja2AuXG5TdGFjay5wcm90b3R5cGUuY2xlYXIgPSBzdGFja0NsZWFyO1xuU3RhY2sucHJvdG90eXBlWydkZWxldGUnXSA9IHN0YWNrRGVsZXRlO1xuU3RhY2sucHJvdG90eXBlLmdldCA9IHN0YWNrR2V0O1xuU3RhY2sucHJvdG90eXBlLmhhcyA9IHN0YWNrSGFzO1xuU3RhY2sucHJvdG90eXBlLnNldCA9IHN0YWNrU2V0O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFN0YWNrO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../node_modules/lodash/_Stack.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_Symbol.js"
/*!*****************************************!*\
  !*** ../node_modules/lodash/_Symbol.js ***!
  \*****************************************/
(module, __unused_webpack_exports, __webpack_require__) {

eval("{var root = __webpack_require__(/*! ./_root */ \"../node_modules/lodash/_root.js\");\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fU3ltYm9sLmpzIiwibWFwcGluZ3MiOiJBQUFBLFdBQVcsbUJBQU8sQ0FBQyxnREFBUzs7QUFFNUI7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL2NhbXVuZGEtbW9kZWxlci1jbGllbnQvLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fU3ltYm9sLmpzPzhlMDIiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIHJvb3QgPSByZXF1aXJlKCcuL19yb290Jyk7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIFN5bWJvbCA9IHJvb3QuU3ltYm9sO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFN5bWJvbDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../node_modules/lodash/_Symbol.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_Uint8Array.js"
/*!*********************************************!*\
  !*** ../node_modules/lodash/_Uint8Array.js ***!
  \*********************************************/
(module, __unused_webpack_exports, __webpack_require__) {

eval("{var root = __webpack_require__(/*! ./_root */ \"../node_modules/lodash/_root.js\");\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nmodule.exports = Uint8Array;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fVWludDhBcnJheS5qcyIsIm1hcHBpbmdzIjoiQUFBQSxXQUFXLG1CQUFPLENBQUMsZ0RBQVM7O0FBRTVCO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jYW11bmRhLW1vZGVsZXItY2xpZW50Ly4uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX1VpbnQ4QXJyYXkuanM/MmEzNiJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgcm9vdCA9IHJlcXVpcmUoJy4vX3Jvb3QnKTtcblxuLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG52YXIgVWludDhBcnJheSA9IHJvb3QuVWludDhBcnJheTtcblxubW9kdWxlLmV4cG9ydHMgPSBVaW50OEFycmF5O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../node_modules/lodash/_Uint8Array.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_WeakMap.js"
/*!******************************************!*\
  !*** ../node_modules/lodash/_WeakMap.js ***!
  \******************************************/
(module, __unused_webpack_exports, __webpack_require__) {

eval("{var getNative = __webpack_require__(/*! ./_getNative */ \"../node_modules/lodash/_getNative.js\"),\n    root = __webpack_require__(/*! ./_root */ \"../node_modules/lodash/_root.js\");\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nmodule.exports = WeakMap;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fV2Vha01hcC5qcyIsIm1hcHBpbmdzIjoiQUFBQSxnQkFBZ0IsbUJBQU8sQ0FBQywwREFBYztBQUN0QyxXQUFXLG1CQUFPLENBQUMsZ0RBQVM7O0FBRTVCO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jYW11bmRhLW1vZGVsZXItY2xpZW50Ly4uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX1dlYWtNYXAuanM/N2YxNyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZ2V0TmF0aXZlID0gcmVxdWlyZSgnLi9fZ2V0TmF0aXZlJyksXG4gICAgcm9vdCA9IHJlcXVpcmUoJy4vX3Jvb3QnKTtcblxuLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgdGhhdCBhcmUgdmVyaWZpZWQgdG8gYmUgbmF0aXZlLiAqL1xudmFyIFdlYWtNYXAgPSBnZXROYXRpdmUocm9vdCwgJ1dlYWtNYXAnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBXZWFrTWFwO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../node_modules/lodash/_WeakMap.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_arrayFilter.js"
/*!**********************************************!*\
  !*** ../node_modules/lodash/_arrayFilter.js ***!
  \**********************************************/
(module) {

eval("{/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayFilter;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYXJyYXlGaWx0ZXIuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLFVBQVU7QUFDckIsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2FtdW5kYS1tb2RlbGVyLWNsaWVudC8uLi9ub2RlX21vZHVsZXMvbG9kYXNoL19hcnJheUZpbHRlci5qcz9kM2IxIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmZpbHRlcmAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZpbHRlcmVkIGFycmF5LlxuICovXG5mdW5jdGlvbiBhcnJheUZpbHRlcihhcnJheSwgcHJlZGljYXRlKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGgsXG4gICAgICByZXNJbmRleCA9IDAsXG4gICAgICByZXN1bHQgPSBbXTtcblxuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcbiAgICBpZiAocHJlZGljYXRlKHZhbHVlLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICByZXN1bHRbcmVzSW5kZXgrK10gPSB2YWx1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBhcnJheUZpbHRlcjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../node_modules/lodash/_arrayFilter.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_arrayLikeKeys.js"
/*!************************************************!*\
  !*** ../node_modules/lodash/_arrayLikeKeys.js ***!
  \************************************************/
(module, __unused_webpack_exports, __webpack_require__) {

eval("{var baseTimes = __webpack_require__(/*! ./_baseTimes */ \"../node_modules/lodash/_baseTimes.js\"),\n    isArguments = __webpack_require__(/*! ./isArguments */ \"../node_modules/lodash/isArguments.js\"),\n    isArray = __webpack_require__(/*! ./isArray */ \"../node_modules/lodash/isArray.js\"),\n    isBuffer = __webpack_require__(/*! ./isBuffer */ \"../node_modules/lodash/isBuffer.js\"),\n    isIndex = __webpack_require__(/*! ./_isIndex */ \"../node_modules/lodash/_isIndex.js\"),\n    isTypedArray = __webpack_require__(/*! ./isTypedArray */ \"../node_modules/lodash/isTypedArray.js\");\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYXJyYXlMaWtlS2V5cy5qcyIsIm1hcHBpbmdzIjoiQUFBQSxnQkFBZ0IsbUJBQU8sQ0FBQywwREFBYztBQUN0QyxrQkFBa0IsbUJBQU8sQ0FBQyw0REFBZTtBQUN6QyxjQUFjLG1CQUFPLENBQUMsb0RBQVc7QUFDakMsZUFBZSxtQkFBTyxDQUFDLHNEQUFZO0FBQ25DLGNBQWMsbUJBQU8sQ0FBQyxzREFBWTtBQUNsQyxtQkFBbUIsbUJBQU8sQ0FBQyw4REFBZ0I7O0FBRTNDO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsR0FBRztBQUNkLFdBQVcsU0FBUztBQUNwQixhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jYW11bmRhLW1vZGVsZXItY2xpZW50Ly4uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2FycmF5TGlrZUtleXMuanM/ZWEyMyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgYmFzZVRpbWVzID0gcmVxdWlyZSgnLi9fYmFzZVRpbWVzJyksXG4gICAgaXNBcmd1bWVudHMgPSByZXF1aXJlKCcuL2lzQXJndW1lbnRzJyksXG4gICAgaXNBcnJheSA9IHJlcXVpcmUoJy4vaXNBcnJheScpLFxuICAgIGlzQnVmZmVyID0gcmVxdWlyZSgnLi9pc0J1ZmZlcicpLFxuICAgIGlzSW5kZXggPSByZXF1aXJlKCcuL19pc0luZGV4JyksXG4gICAgaXNUeXBlZEFycmF5ID0gcmVxdWlyZSgnLi9pc1R5cGVkQXJyYXknKTtcblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqXG4gKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIHRoZSBhcnJheS1saWtlIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtib29sZWFufSBpbmhlcml0ZWQgU3BlY2lmeSByZXR1cm5pbmcgaW5oZXJpdGVkIHByb3BlcnR5IG5hbWVzLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAqL1xuZnVuY3Rpb24gYXJyYXlMaWtlS2V5cyh2YWx1ZSwgaW5oZXJpdGVkKSB7XG4gIHZhciBpc0FyciA9IGlzQXJyYXkodmFsdWUpLFxuICAgICAgaXNBcmcgPSAhaXNBcnIgJiYgaXNBcmd1bWVudHModmFsdWUpLFxuICAgICAgaXNCdWZmID0gIWlzQXJyICYmICFpc0FyZyAmJiBpc0J1ZmZlcih2YWx1ZSksXG4gICAgICBpc1R5cGUgPSAhaXNBcnIgJiYgIWlzQXJnICYmICFpc0J1ZmYgJiYgaXNUeXBlZEFycmF5KHZhbHVlKSxcbiAgICAgIHNraXBJbmRleGVzID0gaXNBcnIgfHwgaXNBcmcgfHwgaXNCdWZmIHx8IGlzVHlwZSxcbiAgICAgIHJlc3VsdCA9IHNraXBJbmRleGVzID8gYmFzZVRpbWVzKHZhbHVlLmxlbmd0aCwgU3RyaW5nKSA6IFtdLFxuICAgICAgbGVuZ3RoID0gcmVzdWx0Lmxlbmd0aDtcblxuICBmb3IgKHZhciBrZXkgaW4gdmFsdWUpIHtcbiAgICBpZiAoKGluaGVyaXRlZCB8fCBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBrZXkpKSAmJlxuICAgICAgICAhKHNraXBJbmRleGVzICYmIChcbiAgICAgICAgICAgLy8gU2FmYXJpIDkgaGFzIGVudW1lcmFibGUgYGFyZ3VtZW50cy5sZW5ndGhgIGluIHN0cmljdCBtb2RlLlxuICAgICAgICAgICBrZXkgPT0gJ2xlbmd0aCcgfHxcbiAgICAgICAgICAgLy8gTm9kZS5qcyAwLjEwIGhhcyBlbnVtZXJhYmxlIG5vbi1pbmRleCBwcm9wZXJ0aWVzIG9uIGJ1ZmZlcnMuXG4gICAgICAgICAgIChpc0J1ZmYgJiYgKGtleSA9PSAnb2Zmc2V0JyB8fCBrZXkgPT0gJ3BhcmVudCcpKSB8fFxuICAgICAgICAgICAvLyBQaGFudG9tSlMgMiBoYXMgZW51bWVyYWJsZSBub24taW5kZXggcHJvcGVydGllcyBvbiB0eXBlZCBhcnJheXMuXG4gICAgICAgICAgIChpc1R5cGUgJiYgKGtleSA9PSAnYnVmZmVyJyB8fCBrZXkgPT0gJ2J5dGVMZW5ndGgnIHx8IGtleSA9PSAnYnl0ZU9mZnNldCcpKSB8fFxuICAgICAgICAgICAvLyBTa2lwIGluZGV4IHByb3BlcnRpZXMuXG4gICAgICAgICAgIGlzSW5kZXgoa2V5LCBsZW5ndGgpXG4gICAgICAgICkpKSB7XG4gICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGFycmF5TGlrZUtleXM7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../node_modules/lodash/_arrayLikeKeys.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_arrayPush.js"
/*!********************************************!*\
  !*** ../node_modules/lodash/_arrayPush.js ***!
  \********************************************/
(module) {

eval("{/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayPush;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYXJyYXlQdXNoLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2FtdW5kYS1tb2RlbGVyLWNsaWVudC8uLi9ub2RlX21vZHVsZXMvbG9kYXNoL19hcnJheVB1c2guanM/ODMwNCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEFwcGVuZHMgdGhlIGVsZW1lbnRzIG9mIGB2YWx1ZXNgIHRvIGBhcnJheWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byBhcHBlbmQuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAqL1xuZnVuY3Rpb24gYXJyYXlQdXNoKGFycmF5LCB2YWx1ZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSB2YWx1ZXMubGVuZ3RoLFxuICAgICAgb2Zmc2V0ID0gYXJyYXkubGVuZ3RoO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgYXJyYXlbb2Zmc2V0ICsgaW5kZXhdID0gdmFsdWVzW2luZGV4XTtcbiAgfVxuICByZXR1cm4gYXJyYXk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYXJyYXlQdXNoO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../node_modules/lodash/_arrayPush.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_arraySome.js"
/*!********************************************!*\
  !*** ../node_modules/lodash/_arraySome.js ***!
  \********************************************/
(module) {

eval("{/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arraySome;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYXJyYXlTb21lLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxVQUFVO0FBQ3JCLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2FtdW5kYS1tb2RlbGVyLWNsaWVudC8uLi9ub2RlX21vZHVsZXMvbG9kYXNoL19hcnJheVNvbWUuanM/ZTQwYiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5zb21lYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWVcbiAqIHNob3J0aGFuZHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFueSBlbGVtZW50IHBhc3NlcyB0aGUgcHJlZGljYXRlIGNoZWNrLFxuICogIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gYXJyYXlTb21lKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIGlmIChwcmVkaWNhdGUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGFycmF5U29tZTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../node_modules/lodash/_arraySome.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_assocIndexOf.js"
/*!***********************************************!*\
  !*** ../node_modules/lodash/_assocIndexOf.js ***!
  \***********************************************/
(module, __unused_webpack_exports, __webpack_require__) {

eval("{var eq = __webpack_require__(/*! ./eq */ \"../node_modules/lodash/eq.js\");\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYXNzb2NJbmRleE9mLmpzIiwibWFwcGluZ3MiOiJBQUFBLFNBQVMsbUJBQU8sQ0FBQywwQ0FBTTs7QUFFdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxHQUFHO0FBQ2QsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2FtdW5kYS1tb2RlbGVyLWNsaWVudC8uLi9ub2RlX21vZHVsZXMvbG9kYXNoL19hc3NvY0luZGV4T2YuanM/NzI2ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZXEgPSByZXF1aXJlKCcuL2VxJyk7XG5cbi8qKlxuICogR2V0cyB0aGUgaW5kZXggYXQgd2hpY2ggdGhlIGBrZXlgIGlzIGZvdW5kIGluIGBhcnJheWAgb2Yga2V5LXZhbHVlIHBhaXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAqIEBwYXJhbSB7Kn0ga2V5IFRoZSBrZXkgdG8gc2VhcmNoIGZvci5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gKi9cbmZ1bmN0aW9uIGFzc29jSW5kZXhPZihhcnJheSwga2V5KSB7XG4gIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gIHdoaWxlIChsZW5ndGgtLSkge1xuICAgIGlmIChlcShhcnJheVtsZW5ndGhdWzBdLCBrZXkpKSB7XG4gICAgICByZXR1cm4gbGVuZ3RoO1xuICAgIH1cbiAgfVxuICByZXR1cm4gLTE7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYXNzb2NJbmRleE9mO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../node_modules/lodash/_assocIndexOf.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_baseGetAllKeys.js"
/*!*************************************************!*\
  !*** ../node_modules/lodash/_baseGetAllKeys.js ***!
  \*************************************************/
(module, __unused_webpack_exports, __webpack_require__) {

eval("{var arrayPush = __webpack_require__(/*! ./_arrayPush */ \"../node_modules/lodash/_arrayPush.js\"),\n    isArray = __webpack_require__(/*! ./isArray */ \"../node_modules/lodash/isArray.js\");\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nmodule.exports = baseGetAllKeys;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUdldEFsbEtleXMuanMiLCJtYXBwaW5ncyI6IkFBQUEsZ0JBQWdCLG1CQUFPLENBQUMsMERBQWM7QUFDdEMsY0FBYyxtQkFBTyxDQUFDLG9EQUFXOztBQUVqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxVQUFVO0FBQ3JCLFdBQVcsVUFBVTtBQUNyQixhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL2NhbXVuZGEtbW9kZWxlci1jbGllbnQvLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUdldEFsbEtleXMuanM/ZTkzMSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgYXJyYXlQdXNoID0gcmVxdWlyZSgnLi9fYXJyYXlQdXNoJyksXG4gICAgaXNBcnJheSA9IHJlcXVpcmUoJy4vaXNBcnJheScpO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBnZXRBbGxLZXlzYCBhbmQgYGdldEFsbEtleXNJbmAgd2hpY2ggdXNlc1xuICogYGtleXNGdW5jYCBhbmQgYHN5bWJvbHNGdW5jYCB0byBnZXQgdGhlIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgYW5kXG4gKiBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBrZXlzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBrZXlzIG9mIGBvYmplY3RgLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gc3ltYm9sc0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUgc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMuXG4gKi9cbmZ1bmN0aW9uIGJhc2VHZXRBbGxLZXlzKG9iamVjdCwga2V5c0Z1bmMsIHN5bWJvbHNGdW5jKSB7XG4gIHZhciByZXN1bHQgPSBrZXlzRnVuYyhvYmplY3QpO1xuICByZXR1cm4gaXNBcnJheShvYmplY3QpID8gcmVzdWx0IDogYXJyYXlQdXNoKHJlc3VsdCwgc3ltYm9sc0Z1bmMob2JqZWN0KSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZUdldEFsbEtleXM7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../node_modules/lodash/_baseGetAllKeys.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_baseGetTag.js"
/*!*********************************************!*\
  !*** ../node_modules/lodash/_baseGetTag.js ***!
  \*********************************************/
(module, __unused_webpack_exports, __webpack_require__) {

eval("{var Symbol = __webpack_require__(/*! ./_Symbol */ \"../node_modules/lodash/_Symbol.js\"),\n    getRawTag = __webpack_require__(/*! ./_getRawTag */ \"../node_modules/lodash/_getRawTag.js\"),\n    objectToString = __webpack_require__(/*! ./_objectToString */ \"../node_modules/lodash/_objectToString.js\");\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUdldFRhZy5qcyIsIm1hcHBpbmdzIjoiQUFBQSxhQUFhLG1CQUFPLENBQUMsb0RBQVc7QUFDaEMsZ0JBQWdCLG1CQUFPLENBQUMsMERBQWM7QUFDdEMscUJBQXFCLG1CQUFPLENBQUMsb0VBQW1COztBQUVoRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsR0FBRztBQUNkLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jYW11bmRhLW1vZGVsZXItY2xpZW50Ly4uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VHZXRUYWcuanM/MTg4ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgU3ltYm9sID0gcmVxdWlyZSgnLi9fU3ltYm9sJyksXG4gICAgZ2V0UmF3VGFnID0gcmVxdWlyZSgnLi9fZ2V0UmF3VGFnJyksXG4gICAgb2JqZWN0VG9TdHJpbmcgPSByZXF1aXJlKCcuL19vYmplY3RUb1N0cmluZycpO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgbnVsbFRhZyA9ICdbb2JqZWN0IE51bGxdJyxcbiAgICB1bmRlZmluZWRUYWcgPSAnW29iamVjdCBVbmRlZmluZWRdJztcblxuLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG52YXIgc3ltVG9TdHJpbmdUYWcgPSBTeW1ib2wgPyBTeW1ib2wudG9TdHJpbmdUYWcgOiB1bmRlZmluZWQ7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGdldFRhZ2Agd2l0aG91dCBmYWxsYmFja3MgZm9yIGJ1Z2d5IGVudmlyb25tZW50cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBgdG9TdHJpbmdUYWdgLlxuICovXG5mdW5jdGlvbiBiYXNlR2V0VGFnKHZhbHVlKSB7XG4gIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgPyB1bmRlZmluZWRUYWcgOiBudWxsVGFnO1xuICB9XG4gIHJldHVybiAoc3ltVG9TdHJpbmdUYWcgJiYgc3ltVG9TdHJpbmdUYWcgaW4gT2JqZWN0KHZhbHVlKSlcbiAgICA/IGdldFJhd1RhZyh2YWx1ZSlcbiAgICA6IG9iamVjdFRvU3RyaW5nKHZhbHVlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlR2V0VGFnO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../node_modules/lodash/_baseGetTag.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_baseIsArguments.js"
/*!**************************************************!*\
  !*** ../node_modules/lodash/_baseIsArguments.js ***!
  \**************************************************/
(module, __unused_webpack_exports, __webpack_require__) {

eval("{var baseGetTag = __webpack_require__(/*! ./_baseGetTag */ \"../node_modules/lodash/_baseGetTag.js\"),\n    isObjectLike = __webpack_require__(/*! ./isObjectLike */ \"../node_modules/lodash/isObjectLike.js\");\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUlzQXJndW1lbnRzLmpzIiwibWFwcGluZ3MiOiJBQUFBLGlCQUFpQixtQkFBTyxDQUFDLDREQUFlO0FBQ3hDLG1CQUFtQixtQkFBTyxDQUFDLDhEQUFnQjs7QUFFM0M7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsR0FBRztBQUNkLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL2NhbXVuZGEtbW9kZWxlci1jbGllbnQvLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUlzQXJndW1lbnRzLmpzPzUyMDciXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGJhc2VHZXRUYWcgPSByZXF1aXJlKCcuL19iYXNlR2V0VGFnJyksXG4gICAgaXNPYmplY3RMaWtlID0gcmVxdWlyZSgnLi9pc09iamVjdExpa2UnKTtcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIGFyZ3NUYWcgPSAnW29iamVjdCBBcmd1bWVudHNdJztcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc0FyZ3VtZW50c2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LFxuICovXG5mdW5jdGlvbiBiYXNlSXNBcmd1bWVudHModmFsdWUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gYXJnc1RhZztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlSXNBcmd1bWVudHM7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../node_modules/lodash/_baseIsArguments.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_baseIsEqual.js"
/*!**********************************************!*\
  !*** ../node_modules/lodash/_baseIsEqual.js ***!
  \**********************************************/
(module, __unused_webpack_exports, __webpack_require__) {

eval("{var baseIsEqualDeep = __webpack_require__(/*! ./_baseIsEqualDeep */ \"../node_modules/lodash/_baseIsEqualDeep.js\"),\n    isObjectLike = __webpack_require__(/*! ./isObjectLike */ \"../node_modules/lodash/isObjectLike.js\");\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nmodule.exports = baseIsEqual;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUlzRXF1YWwuanMiLCJtYXBwaW5ncyI6IkFBQUEsc0JBQXNCLG1CQUFPLENBQUMsc0VBQW9CO0FBQ2xELG1CQUFtQixtQkFBTyxDQUFDLDhEQUFnQjs7QUFFM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsR0FBRztBQUNkLFdBQVcsR0FBRztBQUNkLFdBQVcsU0FBUztBQUNwQjtBQUNBO0FBQ0EsV0FBVyxVQUFVO0FBQ3JCLFdBQVcsUUFBUTtBQUNuQixhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jYW11bmRhLW1vZGVsZXItY2xpZW50Ly4uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VJc0VxdWFsLmpzPzA4ZWEiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGJhc2VJc0VxdWFsRGVlcCA9IHJlcXVpcmUoJy4vX2Jhc2VJc0VxdWFsRGVlcCcpLFxuICAgIGlzT2JqZWN0TGlrZSA9IHJlcXVpcmUoJy4vaXNPYmplY3RMaWtlJyk7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNFcXVhbGAgd2hpY2ggc3VwcG9ydHMgcGFydGlhbCBjb21wYXJpc29uc1xuICogYW5kIHRyYWNrcyB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuXG4gKiAgMSAtIFVub3JkZXJlZCBjb21wYXJpc29uXG4gKiAgMiAtIFBhcnRpYWwgY29tcGFyaXNvblxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIGB2YWx1ZWAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VJc0VxdWFsKHZhbHVlLCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spIHtcbiAgaWYgKHZhbHVlID09PSBvdGhlcikge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmICh2YWx1ZSA9PSBudWxsIHx8IG90aGVyID09IG51bGwgfHwgKCFpc09iamVjdExpa2UodmFsdWUpICYmICFpc09iamVjdExpa2Uob3RoZXIpKSkge1xuICAgIHJldHVybiB2YWx1ZSAhPT0gdmFsdWUgJiYgb3RoZXIgIT09IG90aGVyO1xuICB9XG4gIHJldHVybiBiYXNlSXNFcXVhbERlZXAodmFsdWUsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBiYXNlSXNFcXVhbCwgc3RhY2spO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VJc0VxdWFsO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../node_modules/lodash/_baseIsEqual.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_baseIsEqualDeep.js"
/*!**************************************************!*\
  !*** ../node_modules/lodash/_baseIsEqualDeep.js ***!
  \**************************************************/
(module, __unused_webpack_exports, __webpack_require__) {

eval("{var Stack = __webpack_require__(/*! ./_Stack */ \"../node_modules/lodash/_Stack.js\"),\n    equalArrays = __webpack_require__(/*! ./_equalArrays */ \"../node_modules/lodash/_equalArrays.js\"),\n    equalByTag = __webpack_require__(/*! ./_equalByTag */ \"../node_modules/lodash/_equalByTag.js\"),\n    equalObjects = __webpack_require__(/*! ./_equalObjects */ \"../node_modules/lodash/_equalObjects.js\"),\n    getTag = __webpack_require__(/*! ./_getTag */ \"../node_modules/lodash/_getTag.js\"),\n    isArray = __webpack_require__(/*! ./isArray */ \"../node_modules/lodash/isArray.js\"),\n    isBuffer = __webpack_require__(/*! ./isBuffer */ \"../node_modules/lodash/isBuffer.js\"),\n    isTypedArray = __webpack_require__(/*! ./isTypedArray */ \"../node_modules/lodash/isTypedArray.js\");\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nmodule.exports = baseIsEqualDeep;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUlzRXF1YWxEZWVwLmpzIiwibWFwcGluZ3MiOiJBQUFBLFlBQVksbUJBQU8sQ0FBQyxrREFBVTtBQUM5QixrQkFBa0IsbUJBQU8sQ0FBQyw4REFBZ0I7QUFDMUMsaUJBQWlCLG1CQUFPLENBQUMsNERBQWU7QUFDeEMsbUJBQW1CLG1CQUFPLENBQUMsZ0VBQWlCO0FBQzVDLGFBQWEsbUJBQU8sQ0FBQyxvREFBVztBQUNoQyxjQUFjLG1CQUFPLENBQUMsb0RBQVc7QUFDakMsZUFBZSxtQkFBTyxDQUFDLHNEQUFZO0FBQ25DLG1CQUFtQixtQkFBTyxDQUFDLDhEQUFnQjs7QUFFM0M7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxVQUFVO0FBQ3JCLFdBQVcsVUFBVTtBQUNyQixXQUFXLFFBQVE7QUFDbkIsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jYW11bmRhLW1vZGVsZXItY2xpZW50Ly4uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VJc0VxdWFsRGVlcC5qcz8xMzU0Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBTdGFjayA9IHJlcXVpcmUoJy4vX1N0YWNrJyksXG4gICAgZXF1YWxBcnJheXMgPSByZXF1aXJlKCcuL19lcXVhbEFycmF5cycpLFxuICAgIGVxdWFsQnlUYWcgPSByZXF1aXJlKCcuL19lcXVhbEJ5VGFnJyksXG4gICAgZXF1YWxPYmplY3RzID0gcmVxdWlyZSgnLi9fZXF1YWxPYmplY3RzJyksXG4gICAgZ2V0VGFnID0gcmVxdWlyZSgnLi9fZ2V0VGFnJyksXG4gICAgaXNBcnJheSA9IHJlcXVpcmUoJy4vaXNBcnJheScpLFxuICAgIGlzQnVmZmVyID0gcmVxdWlyZSgnLi9pc0J1ZmZlcicpLFxuICAgIGlzVHlwZWRBcnJheSA9IHJlcXVpcmUoJy4vaXNUeXBlZEFycmF5Jyk7XG5cbi8qKiBVc2VkIHRvIGNvbXBvc2UgYml0bWFza3MgZm9yIHZhbHVlIGNvbXBhcmlzb25zLiAqL1xudmFyIENPTVBBUkVfUEFSVElBTF9GTEFHID0gMTtcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIGFyZ3NUYWcgPSAnW29iamVjdCBBcmd1bWVudHNdJyxcbiAgICBhcnJheVRhZyA9ICdbb2JqZWN0IEFycmF5XScsXG4gICAgb2JqZWN0VGFnID0gJ1tvYmplY3QgT2JqZWN0XSc7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbGAgZm9yIGFycmF5cyBhbmQgb2JqZWN0cyB3aGljaCBwZXJmb3Jtc1xuICogZGVlcCBjb21wYXJpc29ucyBhbmQgdHJhY2tzIHRyYXZlcnNlZCBvYmplY3RzIGVuYWJsaW5nIG9iamVjdHMgd2l0aCBjaXJjdWxhclxuICogcmVmZXJlbmNlcyB0byBiZSBjb21wYXJlZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge09iamVjdH0gb3RoZXIgVGhlIG90aGVyIG9iamVjdCB0byBjb21wYXJlLlxuICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIGBvYmplY3RgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG9iamVjdHMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUlzRXF1YWxEZWVwKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcbiAgdmFyIG9iaklzQXJyID0gaXNBcnJheShvYmplY3QpLFxuICAgICAgb3RoSXNBcnIgPSBpc0FycmF5KG90aGVyKSxcbiAgICAgIG9ialRhZyA9IG9iaklzQXJyID8gYXJyYXlUYWcgOiBnZXRUYWcob2JqZWN0KSxcbiAgICAgIG90aFRhZyA9IG90aElzQXJyID8gYXJyYXlUYWcgOiBnZXRUYWcob3RoZXIpO1xuXG4gIG9ialRhZyA9IG9ialRhZyA9PSBhcmdzVGFnID8gb2JqZWN0VGFnIDogb2JqVGFnO1xuICBvdGhUYWcgPSBvdGhUYWcgPT0gYXJnc1RhZyA/IG9iamVjdFRhZyA6IG90aFRhZztcblxuICB2YXIgb2JqSXNPYmogPSBvYmpUYWcgPT0gb2JqZWN0VGFnLFxuICAgICAgb3RoSXNPYmogPSBvdGhUYWcgPT0gb2JqZWN0VGFnLFxuICAgICAgaXNTYW1lVGFnID0gb2JqVGFnID09IG90aFRhZztcblxuICBpZiAoaXNTYW1lVGFnICYmIGlzQnVmZmVyKG9iamVjdCkpIHtcbiAgICBpZiAoIWlzQnVmZmVyKG90aGVyKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBvYmpJc0FyciA9IHRydWU7XG4gICAgb2JqSXNPYmogPSBmYWxzZTtcbiAgfVxuICBpZiAoaXNTYW1lVGFnICYmICFvYmpJc09iaikge1xuICAgIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gICAgcmV0dXJuIChvYmpJc0FyciB8fCBpc1R5cGVkQXJyYXkob2JqZWN0KSlcbiAgICAgID8gZXF1YWxBcnJheXMob2JqZWN0LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaylcbiAgICAgIDogZXF1YWxCeVRhZyhvYmplY3QsIG90aGVyLCBvYmpUYWcsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spO1xuICB9XG4gIGlmICghKGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRykpIHtcbiAgICB2YXIgb2JqSXNXcmFwcGVkID0gb2JqSXNPYmogJiYgaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsICdfX3dyYXBwZWRfXycpLFxuICAgICAgICBvdGhJc1dyYXBwZWQgPSBvdGhJc09iaiAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG90aGVyLCAnX193cmFwcGVkX18nKTtcblxuICAgIGlmIChvYmpJc1dyYXBwZWQgfHwgb3RoSXNXcmFwcGVkKSB7XG4gICAgICB2YXIgb2JqVW53cmFwcGVkID0gb2JqSXNXcmFwcGVkID8gb2JqZWN0LnZhbHVlKCkgOiBvYmplY3QsXG4gICAgICAgICAgb3RoVW53cmFwcGVkID0gb3RoSXNXcmFwcGVkID8gb3RoZXIudmFsdWUoKSA6IG90aGVyO1xuXG4gICAgICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICAgICAgcmV0dXJuIGVxdWFsRnVuYyhvYmpVbndyYXBwZWQsIG90aFVud3JhcHBlZCwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spO1xuICAgIH1cbiAgfVxuICBpZiAoIWlzU2FtZVRhZykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICByZXR1cm4gZXF1YWxPYmplY3RzKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VJc0VxdWFsRGVlcDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../node_modules/lodash/_baseIsEqualDeep.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_baseIsNative.js"
/*!***********************************************!*\
  !*** ../node_modules/lodash/_baseIsNative.js ***!
  \***********************************************/
(module, __unused_webpack_exports, __webpack_require__) {

eval("{var isFunction = __webpack_require__(/*! ./isFunction */ \"../node_modules/lodash/isFunction.js\"),\n    isMasked = __webpack_require__(/*! ./_isMasked */ \"../node_modules/lodash/_isMasked.js\"),\n    isObject = __webpack_require__(/*! ./isObject */ \"../node_modules/lodash/isObject.js\"),\n    toSource = __webpack_require__(/*! ./_toSource */ \"../node_modules/lodash/_toSource.js\");\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUlzTmF0aXZlLmpzIiwibWFwcGluZ3MiOiJBQUFBLGlCQUFpQixtQkFBTyxDQUFDLDBEQUFjO0FBQ3ZDLGVBQWUsbUJBQU8sQ0FBQyx3REFBYTtBQUNwQyxlQUFlLG1CQUFPLENBQUMsc0RBQVk7QUFDbkMsZUFBZSxtQkFBTyxDQUFDLHdEQUFhOztBQUVwQztBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQzs7QUFFcEM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEdBQUc7QUFDZCxhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2FtdW5kYS1tb2RlbGVyLWNsaWVudC8uLi9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlSXNOYXRpdmUuanM/NjMzOCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgaXNGdW5jdGlvbiA9IHJlcXVpcmUoJy4vaXNGdW5jdGlvbicpLFxuICAgIGlzTWFza2VkID0gcmVxdWlyZSgnLi9faXNNYXNrZWQnKSxcbiAgICBpc09iamVjdCA9IHJlcXVpcmUoJy4vaXNPYmplY3QnKSxcbiAgICB0b1NvdXJjZSA9IHJlcXVpcmUoJy4vX3RvU291cmNlJyk7XG5cbi8qKlxuICogVXNlZCB0byBtYXRjaCBgUmVnRXhwYFxuICogW3N5bnRheCBjaGFyYWN0ZXJzXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1wYXR0ZXJucykuXG4gKi9cbnZhciByZVJlZ0V4cENoYXIgPSAvW1xcXFxeJC4qKz8oKVtcXF17fXxdL2c7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBob3N0IGNvbnN0cnVjdG9ycyAoU2FmYXJpKS4gKi9cbnZhciByZUlzSG9zdEN0b3IgPSAvXlxcW29iamVjdCAuKz9Db25zdHJ1Y3RvclxcXSQvO1xuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgZnVuY1Byb3RvID0gRnVuY3Rpb24ucHJvdG90eXBlLFxuICAgIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gcmVzb2x2ZSB0aGUgZGVjb21waWxlZCBzb3VyY2Ugb2YgZnVuY3Rpb25zLiAqL1xudmFyIGZ1bmNUb1N0cmluZyA9IGZ1bmNQcm90by50b1N0cmluZztcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGlmIGEgbWV0aG9kIGlzIG5hdGl2ZS4gKi9cbnZhciByZUlzTmF0aXZlID0gUmVnRXhwKCdeJyArXG4gIGZ1bmNUb1N0cmluZy5jYWxsKGhhc093blByb3BlcnR5KS5yZXBsYWNlKHJlUmVnRXhwQ2hhciwgJ1xcXFwkJicpXG4gIC5yZXBsYWNlKC9oYXNPd25Qcm9wZXJ0eXwoZnVuY3Rpb24pLio/KD89XFxcXFxcKCl8IGZvciAuKz8oPz1cXFxcXFxdKS9nLCAnJDEuKj8nKSArICckJ1xuKTtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc05hdGl2ZWAgd2l0aG91dCBiYWQgc2hpbSBjaGVja3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBuYXRpdmUgZnVuY3Rpb24sXG4gKiAgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSXNOYXRpdmUodmFsdWUpIHtcbiAgaWYgKCFpc09iamVjdCh2YWx1ZSkgfHwgaXNNYXNrZWQodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBwYXR0ZXJuID0gaXNGdW5jdGlvbih2YWx1ZSkgPyByZUlzTmF0aXZlIDogcmVJc0hvc3RDdG9yO1xuICByZXR1cm4gcGF0dGVybi50ZXN0KHRvU291cmNlKHZhbHVlKSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZUlzTmF0aXZlO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../node_modules/lodash/_baseIsNative.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_baseIsTypedArray.js"
/*!***************************************************!*\
  !*** ../node_modules/lodash/_baseIsTypedArray.js ***!
  \***************************************************/
(module, __unused_webpack_exports, __webpack_require__) {

eval("{var baseGetTag = __webpack_require__(/*! ./_baseGetTag */ \"../node_modules/lodash/_baseGetTag.js\"),\n    isLength = __webpack_require__(/*! ./isLength */ \"../node_modules/lodash/isLength.js\"),\n    isObjectLike = __webpack_require__(/*! ./isObjectLike */ \"../node_modules/lodash/isObjectLike.js\");\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUlzVHlwZWRBcnJheS5qcyIsIm1hcHBpbmdzIjoiQUFBQSxpQkFBaUIsbUJBQU8sQ0FBQyw0REFBZTtBQUN4QyxlQUFlLG1CQUFPLENBQUMsc0RBQVk7QUFDbkMsbUJBQW1CLG1CQUFPLENBQUMsOERBQWdCOztBQUUzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxHQUFHO0FBQ2QsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jYW11bmRhLW1vZGVsZXItY2xpZW50Ly4uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VJc1R5cGVkQXJyYXkuanM/ZGIwNCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgYmFzZUdldFRhZyA9IHJlcXVpcmUoJy4vX2Jhc2VHZXRUYWcnKSxcbiAgICBpc0xlbmd0aCA9IHJlcXVpcmUoJy4vaXNMZW5ndGgnKSxcbiAgICBpc09iamVjdExpa2UgPSByZXF1aXJlKCcuL2lzT2JqZWN0TGlrZScpO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgYXJnc1RhZyA9ICdbb2JqZWN0IEFyZ3VtZW50c10nLFxuICAgIGFycmF5VGFnID0gJ1tvYmplY3QgQXJyYXldJyxcbiAgICBib29sVGFnID0gJ1tvYmplY3QgQm9vbGVhbl0nLFxuICAgIGRhdGVUYWcgPSAnW29iamVjdCBEYXRlXScsXG4gICAgZXJyb3JUYWcgPSAnW29iamVjdCBFcnJvcl0nLFxuICAgIGZ1bmNUYWcgPSAnW29iamVjdCBGdW5jdGlvbl0nLFxuICAgIG1hcFRhZyA9ICdbb2JqZWN0IE1hcF0nLFxuICAgIG51bWJlclRhZyA9ICdbb2JqZWN0IE51bWJlcl0nLFxuICAgIG9iamVjdFRhZyA9ICdbb2JqZWN0IE9iamVjdF0nLFxuICAgIHJlZ2V4cFRhZyA9ICdbb2JqZWN0IFJlZ0V4cF0nLFxuICAgIHNldFRhZyA9ICdbb2JqZWN0IFNldF0nLFxuICAgIHN0cmluZ1RhZyA9ICdbb2JqZWN0IFN0cmluZ10nLFxuICAgIHdlYWtNYXBUYWcgPSAnW29iamVjdCBXZWFrTWFwXSc7XG5cbnZhciBhcnJheUJ1ZmZlclRhZyA9ICdbb2JqZWN0IEFycmF5QnVmZmVyXScsXG4gICAgZGF0YVZpZXdUYWcgPSAnW29iamVjdCBEYXRhVmlld10nLFxuICAgIGZsb2F0MzJUYWcgPSAnW29iamVjdCBGbG9hdDMyQXJyYXldJyxcbiAgICBmbG9hdDY0VGFnID0gJ1tvYmplY3QgRmxvYXQ2NEFycmF5XScsXG4gICAgaW50OFRhZyA9ICdbb2JqZWN0IEludDhBcnJheV0nLFxuICAgIGludDE2VGFnID0gJ1tvYmplY3QgSW50MTZBcnJheV0nLFxuICAgIGludDMyVGFnID0gJ1tvYmplY3QgSW50MzJBcnJheV0nLFxuICAgIHVpbnQ4VGFnID0gJ1tvYmplY3QgVWludDhBcnJheV0nLFxuICAgIHVpbnQ4Q2xhbXBlZFRhZyA9ICdbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XScsXG4gICAgdWludDE2VGFnID0gJ1tvYmplY3QgVWludDE2QXJyYXldJyxcbiAgICB1aW50MzJUYWcgPSAnW29iamVjdCBVaW50MzJBcnJheV0nO1xuXG4vKiogVXNlZCB0byBpZGVudGlmeSBgdG9TdHJpbmdUYWdgIHZhbHVlcyBvZiB0eXBlZCBhcnJheXMuICovXG52YXIgdHlwZWRBcnJheVRhZ3MgPSB7fTtcbnR5cGVkQXJyYXlUYWdzW2Zsb2F0MzJUYWddID0gdHlwZWRBcnJheVRhZ3NbZmxvYXQ2NFRhZ10gPVxudHlwZWRBcnJheVRhZ3NbaW50OFRhZ10gPSB0eXBlZEFycmF5VGFnc1tpbnQxNlRhZ10gPVxudHlwZWRBcnJheVRhZ3NbaW50MzJUYWddID0gdHlwZWRBcnJheVRhZ3NbdWludDhUYWddID1cbnR5cGVkQXJyYXlUYWdzW3VpbnQ4Q2xhbXBlZFRhZ10gPSB0eXBlZEFycmF5VGFnc1t1aW50MTZUYWddID1cbnR5cGVkQXJyYXlUYWdzW3VpbnQzMlRhZ10gPSB0cnVlO1xudHlwZWRBcnJheVRhZ3NbYXJnc1RhZ10gPSB0eXBlZEFycmF5VGFnc1thcnJheVRhZ10gPVxudHlwZWRBcnJheVRhZ3NbYXJyYXlCdWZmZXJUYWddID0gdHlwZWRBcnJheVRhZ3NbYm9vbFRhZ10gPVxudHlwZWRBcnJheVRhZ3NbZGF0YVZpZXdUYWddID0gdHlwZWRBcnJheVRhZ3NbZGF0ZVRhZ10gPVxudHlwZWRBcnJheVRhZ3NbZXJyb3JUYWddID0gdHlwZWRBcnJheVRhZ3NbZnVuY1RhZ10gPVxudHlwZWRBcnJheVRhZ3NbbWFwVGFnXSA9IHR5cGVkQXJyYXlUYWdzW251bWJlclRhZ10gPVxudHlwZWRBcnJheVRhZ3Nbb2JqZWN0VGFnXSA9IHR5cGVkQXJyYXlUYWdzW3JlZ2V4cFRhZ10gPVxudHlwZWRBcnJheVRhZ3Nbc2V0VGFnXSA9IHR5cGVkQXJyYXlUYWdzW3N0cmluZ1RhZ10gPVxudHlwZWRBcnJheVRhZ3Nbd2Vha01hcFRhZ10gPSBmYWxzZTtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc1R5cGVkQXJyYXlgIHdpdGhvdXQgTm9kZS5qcyBvcHRpbWl6YXRpb25zLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdHlwZWQgYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUlzVHlwZWRBcnJheSh2YWx1ZSkge1xuICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJlxuICAgIGlzTGVuZ3RoKHZhbHVlLmxlbmd0aCkgJiYgISF0eXBlZEFycmF5VGFnc1tiYXNlR2V0VGFnKHZhbHVlKV07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZUlzVHlwZWRBcnJheTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../node_modules/lodash/_baseIsTypedArray.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_baseKeys.js"
/*!*******************************************!*\
  !*** ../node_modules/lodash/_baseKeys.js ***!
  \*******************************************/
(module, __unused_webpack_exports, __webpack_require__) {

eval("{var isPrototype = __webpack_require__(/*! ./_isPrototype */ \"../node_modules/lodash/_isPrototype.js\"),\n    nativeKeys = __webpack_require__(/*! ./_nativeKeys */ \"../node_modules/lodash/_nativeKeys.js\");\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeys;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUtleXMuanMiLCJtYXBwaW5ncyI6IkFBQUEsa0JBQWtCLG1CQUFPLENBQUMsOERBQWdCO0FBQzFDLGlCQUFpQixtQkFBTyxDQUFDLDREQUFlOztBQUV4QztBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2FtdW5kYS1tb2RlbGVyLWNsaWVudC8uLi9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlS2V5cy5qcz8yZGE5Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBpc1Byb3RvdHlwZSA9IHJlcXVpcmUoJy4vX2lzUHJvdG90eXBlJyksXG4gICAgbmF0aXZlS2V5cyA9IHJlcXVpcmUoJy4vX25hdGl2ZUtleXMnKTtcblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5rZXlzYCB3aGljaCBkb2Vzbid0IHRyZWF0IHNwYXJzZSBhcnJheXMgYXMgZGVuc2UuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gKi9cbmZ1bmN0aW9uIGJhc2VLZXlzKG9iamVjdCkge1xuICBpZiAoIWlzUHJvdG90eXBlKG9iamVjdCkpIHtcbiAgICByZXR1cm4gbmF0aXZlS2V5cyhvYmplY3QpO1xuICB9XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgZm9yICh2YXIga2V5IGluIE9iamVjdChvYmplY3QpKSB7XG4gICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpICYmIGtleSAhPSAnY29uc3RydWN0b3InKSB7XG4gICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VLZXlzO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../node_modules/lodash/_baseKeys.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_baseTimes.js"
/*!********************************************!*\
  !*** ../node_modules/lodash/_baseTimes.js ***!
  \********************************************/
(module) {

eval("{/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZVRpbWVzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxVQUFVO0FBQ3JCLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2FtdW5kYS1tb2RlbGVyLWNsaWVudC8uLi9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlVGltZXMuanM/MWM4YSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRpbWVzYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHNcbiAqIG9yIG1heCBhcnJheSBsZW5ndGggY2hlY2tzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIHRpbWVzIHRvIGludm9rZSBgaXRlcmF0ZWVgLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcmVzdWx0cy5cbiAqL1xuZnVuY3Rpb24gYmFzZVRpbWVzKG4sIGl0ZXJhdGVlKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgcmVzdWx0ID0gQXJyYXkobik7XG5cbiAgd2hpbGUgKCsraW5kZXggPCBuKSB7XG4gICAgcmVzdWx0W2luZGV4XSA9IGl0ZXJhdGVlKGluZGV4KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VUaW1lcztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../node_modules/lodash/_baseTimes.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_baseUnary.js"
/*!********************************************!*\
  !*** ../node_modules/lodash/_baseUnary.js ***!
  \********************************************/
(module) {

eval("{/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZVVuYXJ5LmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxVQUFVO0FBQ3JCLGFBQWEsVUFBVTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jYW11bmRhLW1vZGVsZXItY2xpZW50Ly4uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VVbmFyeS5qcz80ZWMzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udW5hcnlgIHdpdGhvdXQgc3VwcG9ydCBmb3Igc3RvcmluZyBtZXRhZGF0YS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2FwIGFyZ3VtZW50cyBmb3IuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjYXBwZWQgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGJhc2VVbmFyeShmdW5jKSB7XG4gIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiBmdW5jKHZhbHVlKTtcbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlVW5hcnk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../node_modules/lodash/_baseUnary.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_cacheHas.js"
/*!*******************************************!*\
  !*** ../node_modules/lodash/_cacheHas.js ***!
  \*******************************************/
(module) {

eval("{/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nmodule.exports = cacheHas;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fY2FjaGVIYXMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL2NhbXVuZGEtbW9kZWxlci1jbGllbnQvLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fY2FjaGVIYXMuanM/ZmI1ZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENoZWNrcyBpZiBhIGBjYWNoZWAgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IGNhY2hlIFRoZSBjYWNoZSB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBjYWNoZUhhcyhjYWNoZSwga2V5KSB7XG4gIHJldHVybiBjYWNoZS5oYXMoa2V5KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjYWNoZUhhcztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../node_modules/lodash/_cacheHas.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_coreJsData.js"
/*!*********************************************!*\
  !*** ../node_modules/lodash/_coreJsData.js ***!
  \*********************************************/
(module, __unused_webpack_exports, __webpack_require__) {

eval("{var root = __webpack_require__(/*! ./_root */ \"../node_modules/lodash/_root.js\");\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fY29yZUpzRGF0YS5qcyIsIm1hcHBpbmdzIjoiQUFBQSxXQUFXLG1CQUFPLENBQUMsZ0RBQVM7O0FBRTVCO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jYW11bmRhLW1vZGVsZXItY2xpZW50Ly4uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2NvcmVKc0RhdGEuanM/NzdhNSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgcm9vdCA9IHJlcXVpcmUoJy4vX3Jvb3QnKTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IG92ZXJyZWFjaGluZyBjb3JlLWpzIHNoaW1zLiAqL1xudmFyIGNvcmVKc0RhdGEgPSByb290WydfX2NvcmUtanNfc2hhcmVkX18nXTtcblxubW9kdWxlLmV4cG9ydHMgPSBjb3JlSnNEYXRhO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../node_modules/lodash/_coreJsData.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_equalArrays.js"
/*!**********************************************!*\
  !*** ../node_modules/lodash/_equalArrays.js ***!
  \**********************************************/
(module, __unused_webpack_exports, __webpack_require__) {

eval("{var SetCache = __webpack_require__(/*! ./_SetCache */ \"../node_modules/lodash/_SetCache.js\"),\n    arraySome = __webpack_require__(/*! ./_arraySome */ \"../node_modules/lodash/_arraySome.js\"),\n    cacheHas = __webpack_require__(/*! ./_cacheHas */ \"../node_modules/lodash/_cacheHas.js\");\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Check that cyclic values are equal.\n  var arrStacked = stack.get(array);\n  var othStacked = stack.get(other);\n  if (arrStacked && othStacked) {\n    return arrStacked == other && othStacked == array;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalArrays;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fZXF1YWxBcnJheXMuanMiLCJtYXBwaW5ncyI6IkFBQUEsZUFBZSxtQkFBTyxDQUFDLHdEQUFhO0FBQ3BDLGdCQUFnQixtQkFBTyxDQUFDLDBEQUFjO0FBQ3RDLGVBQWUsbUJBQU8sQ0FBQyx3REFBYTs7QUFFcEM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsUUFBUTtBQUNuQixXQUFXLFVBQVU7QUFDckIsV0FBVyxVQUFVO0FBQ3JCLFdBQVcsUUFBUTtBQUNuQixhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL2NhbXVuZGEtbW9kZWxlci1jbGllbnQvLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fZXF1YWxBcnJheXMuanM/MzAxNyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgU2V0Q2FjaGUgPSByZXF1aXJlKCcuL19TZXRDYWNoZScpLFxuICAgIGFycmF5U29tZSA9IHJlcXVpcmUoJy4vX2FycmF5U29tZScpLFxuICAgIGNhY2hlSGFzID0gcmVxdWlyZSgnLi9fY2FjaGVIYXMnKTtcblxuLyoqIFVzZWQgdG8gY29tcG9zZSBiaXRtYXNrcyBmb3IgdmFsdWUgY29tcGFyaXNvbnMuICovXG52YXIgQ09NUEFSRV9QQVJUSUFMX0ZMQUcgPSAxLFxuICAgIENPTVBBUkVfVU5PUkRFUkVEX0ZMQUcgPSAyO1xuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxEZWVwYCBmb3IgYXJyYXlzIHdpdGggc3VwcG9ydCBmb3JcbiAqIHBhcnRpYWwgZGVlcCBjb21wYXJpc29ucy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge0FycmF5fSBvdGhlciBUaGUgb3RoZXIgYXJyYXkgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGJhc2VJc0VxdWFsYCBmb3IgbW9yZSBkZXRhaWxzLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxGdW5jIFRoZSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgZXF1aXZhbGVudHMgb2YgdmFsdWVzLlxuICogQHBhcmFtIHtPYmplY3R9IHN0YWNrIFRyYWNrcyB0cmF2ZXJzZWQgYGFycmF5YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBhcnJheXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gZXF1YWxBcnJheXMoYXJyYXksIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKSB7XG4gIHZhciBpc1BhcnRpYWwgPSBiaXRtYXNrICYgQ09NUEFSRV9QQVJUSUFMX0ZMQUcsXG4gICAgICBhcnJMZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICBvdGhMZW5ndGggPSBvdGhlci5sZW5ndGg7XG5cbiAgaWYgKGFyckxlbmd0aCAhPSBvdGhMZW5ndGggJiYgIShpc1BhcnRpYWwgJiYgb3RoTGVuZ3RoID4gYXJyTGVuZ3RoKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICAvLyBDaGVjayB0aGF0IGN5Y2xpYyB2YWx1ZXMgYXJlIGVxdWFsLlxuICB2YXIgYXJyU3RhY2tlZCA9IHN0YWNrLmdldChhcnJheSk7XG4gIHZhciBvdGhTdGFja2VkID0gc3RhY2suZ2V0KG90aGVyKTtcbiAgaWYgKGFyclN0YWNrZWQgJiYgb3RoU3RhY2tlZCkge1xuICAgIHJldHVybiBhcnJTdGFja2VkID09IG90aGVyICYmIG90aFN0YWNrZWQgPT0gYXJyYXk7XG4gIH1cbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICByZXN1bHQgPSB0cnVlLFxuICAgICAgc2VlbiA9IChiaXRtYXNrICYgQ09NUEFSRV9VTk9SREVSRURfRkxBRykgPyBuZXcgU2V0Q2FjaGUgOiB1bmRlZmluZWQ7XG5cbiAgc3RhY2suc2V0KGFycmF5LCBvdGhlcik7XG4gIHN0YWNrLnNldChvdGhlciwgYXJyYXkpO1xuXG4gIC8vIElnbm9yZSBub24taW5kZXggcHJvcGVydGllcy5cbiAgd2hpbGUgKCsraW5kZXggPCBhcnJMZW5ndGgpIHtcbiAgICB2YXIgYXJyVmFsdWUgPSBhcnJheVtpbmRleF0sXG4gICAgICAgIG90aFZhbHVlID0gb3RoZXJbaW5kZXhdO1xuXG4gICAgaWYgKGN1c3RvbWl6ZXIpIHtcbiAgICAgIHZhciBjb21wYXJlZCA9IGlzUGFydGlhbFxuICAgICAgICA/IGN1c3RvbWl6ZXIob3RoVmFsdWUsIGFyclZhbHVlLCBpbmRleCwgb3RoZXIsIGFycmF5LCBzdGFjaylcbiAgICAgICAgOiBjdXN0b21pemVyKGFyclZhbHVlLCBvdGhWYWx1ZSwgaW5kZXgsIGFycmF5LCBvdGhlciwgc3RhY2spO1xuICAgIH1cbiAgICBpZiAoY29tcGFyZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgaWYgKGNvbXBhcmVkKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgLy8gUmVjdXJzaXZlbHkgY29tcGFyZSBhcnJheXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICBpZiAoc2Vlbikge1xuICAgICAgaWYgKCFhcnJheVNvbWUob3RoZXIsIGZ1bmN0aW9uKG90aFZhbHVlLCBvdGhJbmRleCkge1xuICAgICAgICAgICAgaWYgKCFjYWNoZUhhcyhzZWVuLCBvdGhJbmRleCkgJiZcbiAgICAgICAgICAgICAgICAoYXJyVmFsdWUgPT09IG90aFZhbHVlIHx8IGVxdWFsRnVuYyhhcnJWYWx1ZSwgb3RoVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKSkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHNlZW4ucHVzaChvdGhJbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSkpIHtcbiAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIShcbiAgICAgICAgICBhcnJWYWx1ZSA9PT0gb3RoVmFsdWUgfHxcbiAgICAgICAgICAgIGVxdWFsRnVuYyhhcnJWYWx1ZSwgb3RoVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKVxuICAgICAgICApKSB7XG4gICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICBzdGFja1snZGVsZXRlJ10oYXJyYXkpO1xuICBzdGFja1snZGVsZXRlJ10ob3RoZXIpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGVxdWFsQXJyYXlzO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../node_modules/lodash/_equalArrays.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_equalByTag.js"
/*!*********************************************!*\
  !*** ../node_modules/lodash/_equalByTag.js ***!
  \*********************************************/
(module, __unused_webpack_exports, __webpack_require__) {

eval("{var Symbol = __webpack_require__(/*! ./_Symbol */ \"../node_modules/lodash/_Symbol.js\"),\n    Uint8Array = __webpack_require__(/*! ./_Uint8Array */ \"../node_modules/lodash/_Uint8Array.js\"),\n    eq = __webpack_require__(/*! ./eq */ \"../node_modules/lodash/eq.js\"),\n    equalArrays = __webpack_require__(/*! ./_equalArrays */ \"../node_modules/lodash/_equalArrays.js\"),\n    mapToArray = __webpack_require__(/*! ./_mapToArray */ \"../node_modules/lodash/_mapToArray.js\"),\n    setToArray = __webpack_require__(/*! ./_setToArray */ \"../node_modules/lodash/_setToArray.js\");\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nmodule.exports = equalByTag;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fZXF1YWxCeVRhZy5qcyIsIm1hcHBpbmdzIjoiQUFBQSxhQUFhLG1CQUFPLENBQUMsb0RBQVc7QUFDaEMsaUJBQWlCLG1CQUFPLENBQUMsNERBQWU7QUFDeEMsU0FBUyxtQkFBTyxDQUFDLDBDQUFNO0FBQ3ZCLGtCQUFrQixtQkFBTyxDQUFDLDhEQUFnQjtBQUMxQyxpQkFBaUIsbUJBQU8sQ0FBQyw0REFBZTtBQUN4QyxpQkFBaUIsbUJBQU8sQ0FBQyw0REFBZTs7QUFFeEM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxVQUFVO0FBQ3JCLFdBQVcsVUFBVTtBQUNyQixXQUFXLFFBQVE7QUFDbkIsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jYW11bmRhLW1vZGVsZXItY2xpZW50Ly4uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2VxdWFsQnlUYWcuanM/MmRkNiJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgU3ltYm9sID0gcmVxdWlyZSgnLi9fU3ltYm9sJyksXG4gICAgVWludDhBcnJheSA9IHJlcXVpcmUoJy4vX1VpbnQ4QXJyYXknKSxcbiAgICBlcSA9IHJlcXVpcmUoJy4vZXEnKSxcbiAgICBlcXVhbEFycmF5cyA9IHJlcXVpcmUoJy4vX2VxdWFsQXJyYXlzJyksXG4gICAgbWFwVG9BcnJheSA9IHJlcXVpcmUoJy4vX21hcFRvQXJyYXknKSxcbiAgICBzZXRUb0FycmF5ID0gcmVxdWlyZSgnLi9fc2V0VG9BcnJheScpO1xuXG4vKiogVXNlZCB0byBjb21wb3NlIGJpdG1hc2tzIGZvciB2YWx1ZSBjb21wYXJpc29ucy4gKi9cbnZhciBDT01QQVJFX1BBUlRJQUxfRkxBRyA9IDEsXG4gICAgQ09NUEFSRV9VTk9SREVSRURfRkxBRyA9IDI7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBib29sVGFnID0gJ1tvYmplY3QgQm9vbGVhbl0nLFxuICAgIGRhdGVUYWcgPSAnW29iamVjdCBEYXRlXScsXG4gICAgZXJyb3JUYWcgPSAnW29iamVjdCBFcnJvcl0nLFxuICAgIG1hcFRhZyA9ICdbb2JqZWN0IE1hcF0nLFxuICAgIG51bWJlclRhZyA9ICdbb2JqZWN0IE51bWJlcl0nLFxuICAgIHJlZ2V4cFRhZyA9ICdbb2JqZWN0IFJlZ0V4cF0nLFxuICAgIHNldFRhZyA9ICdbb2JqZWN0IFNldF0nLFxuICAgIHN0cmluZ1RhZyA9ICdbb2JqZWN0IFN0cmluZ10nLFxuICAgIHN5bWJvbFRhZyA9ICdbb2JqZWN0IFN5bWJvbF0nO1xuXG52YXIgYXJyYXlCdWZmZXJUYWcgPSAnW29iamVjdCBBcnJheUJ1ZmZlcl0nLFxuICAgIGRhdGFWaWV3VGFnID0gJ1tvYmplY3QgRGF0YVZpZXddJztcblxuLyoqIFVzZWQgdG8gY29udmVydCBzeW1ib2xzIHRvIHByaW1pdGl2ZXMgYW5kIHN0cmluZ3MuICovXG52YXIgc3ltYm9sUHJvdG8gPSBTeW1ib2wgPyBTeW1ib2wucHJvdG90eXBlIDogdW5kZWZpbmVkLFxuICAgIHN5bWJvbFZhbHVlT2YgPSBzeW1ib2xQcm90byA/IHN5bWJvbFByb3RvLnZhbHVlT2YgOiB1bmRlZmluZWQ7XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbERlZXBgIGZvciBjb21wYXJpbmcgb2JqZWN0cyBvZlxuICogdGhlIHNhbWUgYHRvU3RyaW5nVGFnYC5cbiAqXG4gKiAqKk5vdGU6KiogVGhpcyBmdW5jdGlvbiBvbmx5IHN1cHBvcnRzIGNvbXBhcmluZyB2YWx1ZXMgd2l0aCB0YWdzIG9mXG4gKiBgQm9vbGVhbmAsIGBEYXRlYCwgYEVycm9yYCwgYE51bWJlcmAsIGBSZWdFeHBgLCBvciBgU3RyaW5nYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge09iamVjdH0gb3RoZXIgVGhlIG90aGVyIG9iamVjdCB0byBjb21wYXJlLlxuICogQHBhcmFtIHtzdHJpbmd9IHRhZyBUaGUgYHRvU3RyaW5nVGFnYCBvZiB0aGUgb2JqZWN0cyB0byBjb21wYXJlLlxuICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gKiBAcGFyYW0ge09iamVjdH0gc3RhY2sgVHJhY2tzIHRyYXZlcnNlZCBgb2JqZWN0YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBvYmplY3RzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGVxdWFsQnlUYWcob2JqZWN0LCBvdGhlciwgdGFnLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKSB7XG4gIHN3aXRjaCAodGFnKSB7XG4gICAgY2FzZSBkYXRhVmlld1RhZzpcbiAgICAgIGlmICgob2JqZWN0LmJ5dGVMZW5ndGggIT0gb3RoZXIuYnl0ZUxlbmd0aCkgfHxcbiAgICAgICAgICAob2JqZWN0LmJ5dGVPZmZzZXQgIT0gb3RoZXIuYnl0ZU9mZnNldCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgb2JqZWN0ID0gb2JqZWN0LmJ1ZmZlcjtcbiAgICAgIG90aGVyID0gb3RoZXIuYnVmZmVyO1xuXG4gICAgY2FzZSBhcnJheUJ1ZmZlclRhZzpcbiAgICAgIGlmICgob2JqZWN0LmJ5dGVMZW5ndGggIT0gb3RoZXIuYnl0ZUxlbmd0aCkgfHxcbiAgICAgICAgICAhZXF1YWxGdW5jKG5ldyBVaW50OEFycmF5KG9iamVjdCksIG5ldyBVaW50OEFycmF5KG90aGVyKSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICBjYXNlIGJvb2xUYWc6XG4gICAgY2FzZSBkYXRlVGFnOlxuICAgIGNhc2UgbnVtYmVyVGFnOlxuICAgICAgLy8gQ29lcmNlIGJvb2xlYW5zIHRvIGAxYCBvciBgMGAgYW5kIGRhdGVzIHRvIG1pbGxpc2Vjb25kcy5cbiAgICAgIC8vIEludmFsaWQgZGF0ZXMgYXJlIGNvZXJjZWQgdG8gYE5hTmAuXG4gICAgICByZXR1cm4gZXEoK29iamVjdCwgK290aGVyKTtcblxuICAgIGNhc2UgZXJyb3JUYWc6XG4gICAgICByZXR1cm4gb2JqZWN0Lm5hbWUgPT0gb3RoZXIubmFtZSAmJiBvYmplY3QubWVzc2FnZSA9PSBvdGhlci5tZXNzYWdlO1xuXG4gICAgY2FzZSByZWdleHBUYWc6XG4gICAgY2FzZSBzdHJpbmdUYWc6XG4gICAgICAvLyBDb2VyY2UgcmVnZXhlcyB0byBzdHJpbmdzIGFuZCB0cmVhdCBzdHJpbmdzLCBwcmltaXRpdmVzIGFuZCBvYmplY3RzLFxuICAgICAgLy8gYXMgZXF1YWwuIFNlZSBodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcmVnZXhwLnByb3RvdHlwZS50b3N0cmluZ1xuICAgICAgLy8gZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgIHJldHVybiBvYmplY3QgPT0gKG90aGVyICsgJycpO1xuXG4gICAgY2FzZSBtYXBUYWc6XG4gICAgICB2YXIgY29udmVydCA9IG1hcFRvQXJyYXk7XG5cbiAgICBjYXNlIHNldFRhZzpcbiAgICAgIHZhciBpc1BhcnRpYWwgPSBiaXRtYXNrICYgQ09NUEFSRV9QQVJUSUFMX0ZMQUc7XG4gICAgICBjb252ZXJ0IHx8IChjb252ZXJ0ID0gc2V0VG9BcnJheSk7XG5cbiAgICAgIGlmIChvYmplY3Quc2l6ZSAhPSBvdGhlci5zaXplICYmICFpc1BhcnRpYWwpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgLy8gQXNzdW1lIGN5Y2xpYyB2YWx1ZXMgYXJlIGVxdWFsLlxuICAgICAgdmFyIHN0YWNrZWQgPSBzdGFjay5nZXQob2JqZWN0KTtcbiAgICAgIGlmIChzdGFja2VkKSB7XG4gICAgICAgIHJldHVybiBzdGFja2VkID09IG90aGVyO1xuICAgICAgfVxuICAgICAgYml0bWFzayB8PSBDT01QQVJFX1VOT1JERVJFRF9GTEFHO1xuXG4gICAgICAvLyBSZWN1cnNpdmVseSBjb21wYXJlIG9iamVjdHMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgIHN0YWNrLnNldChvYmplY3QsIG90aGVyKTtcbiAgICAgIHZhciByZXN1bHQgPSBlcXVhbEFycmF5cyhjb252ZXJ0KG9iamVjdCksIGNvbnZlcnQob3RoZXIpLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKTtcbiAgICAgIHN0YWNrWydkZWxldGUnXShvYmplY3QpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcblxuICAgIGNhc2Ugc3ltYm9sVGFnOlxuICAgICAgaWYgKHN5bWJvbFZhbHVlT2YpIHtcbiAgICAgICAgcmV0dXJuIHN5bWJvbFZhbHVlT2YuY2FsbChvYmplY3QpID09IHN5bWJvbFZhbHVlT2YuY2FsbChvdGhlcik7XG4gICAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGVxdWFsQnlUYWc7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../node_modules/lodash/_equalByTag.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_equalObjects.js"
/*!***********************************************!*\
  !*** ../node_modules/lodash/_equalObjects.js ***!
  \***********************************************/
(module, __unused_webpack_exports, __webpack_require__) {

eval("{var getAllKeys = __webpack_require__(/*! ./_getAllKeys */ \"../node_modules/lodash/_getAllKeys.js\");\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Check that cyclic values are equal.\n  var objStacked = stack.get(object);\n  var othStacked = stack.get(other);\n  if (objStacked && othStacked) {\n    return objStacked == other && othStacked == object;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalObjects;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fZXF1YWxPYmplY3RzLmpzIiwibWFwcGluZ3MiOiJBQUFBLGlCQUFpQixtQkFBTyxDQUFDLDREQUFlOztBQUV4QztBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxVQUFVO0FBQ3JCLFdBQVcsVUFBVTtBQUNyQixXQUFXLFFBQVE7QUFDbkIsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL2NhbXVuZGEtbW9kZWxlci1jbGllbnQvLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fZXF1YWxPYmplY3RzLmpzPzhlMmUiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGdldEFsbEtleXMgPSByZXF1aXJlKCcuL19nZXRBbGxLZXlzJyk7XG5cbi8qKiBVc2VkIHRvIGNvbXBvc2UgYml0bWFza3MgZm9yIHZhbHVlIGNvbXBhcmlzb25zLiAqL1xudmFyIENPTVBBUkVfUEFSVElBTF9GTEFHID0gMTtcblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsRGVlcGAgZm9yIG9iamVjdHMgd2l0aCBzdXBwb3J0IGZvclxuICogcGFydGlhbCBkZWVwIGNvbXBhcmlzb25zLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGAgZm9yIG1vcmUgZGV0YWlscy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBzdGFjayBUcmFja3MgdHJhdmVyc2VkIGBvYmplY3RgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG9iamVjdHMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gZXF1YWxPYmplY3RzKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcbiAgdmFyIGlzUGFydGlhbCA9IGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRyxcbiAgICAgIG9ialByb3BzID0gZ2V0QWxsS2V5cyhvYmplY3QpLFxuICAgICAgb2JqTGVuZ3RoID0gb2JqUHJvcHMubGVuZ3RoLFxuICAgICAgb3RoUHJvcHMgPSBnZXRBbGxLZXlzKG90aGVyKSxcbiAgICAgIG90aExlbmd0aCA9IG90aFByb3BzLmxlbmd0aDtcblxuICBpZiAob2JqTGVuZ3RoICE9IG90aExlbmd0aCAmJiAhaXNQYXJ0aWFsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBpbmRleCA9IG9iakxlbmd0aDtcbiAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICB2YXIga2V5ID0gb2JqUHJvcHNbaW5kZXhdO1xuICAgIGlmICghKGlzUGFydGlhbCA/IGtleSBpbiBvdGhlciA6IGhhc093blByb3BlcnR5LmNhbGwob3RoZXIsIGtleSkpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIC8vIENoZWNrIHRoYXQgY3ljbGljIHZhbHVlcyBhcmUgZXF1YWwuXG4gIHZhciBvYmpTdGFja2VkID0gc3RhY2suZ2V0KG9iamVjdCk7XG4gIHZhciBvdGhTdGFja2VkID0gc3RhY2suZ2V0KG90aGVyKTtcbiAgaWYgKG9ialN0YWNrZWQgJiYgb3RoU3RhY2tlZCkge1xuICAgIHJldHVybiBvYmpTdGFja2VkID09IG90aGVyICYmIG90aFN0YWNrZWQgPT0gb2JqZWN0O1xuICB9XG4gIHZhciByZXN1bHQgPSB0cnVlO1xuICBzdGFjay5zZXQob2JqZWN0LCBvdGhlcik7XG4gIHN0YWNrLnNldChvdGhlciwgb2JqZWN0KTtcblxuICB2YXIgc2tpcEN0b3IgPSBpc1BhcnRpYWw7XG4gIHdoaWxlICgrK2luZGV4IDwgb2JqTGVuZ3RoKSB7XG4gICAga2V5ID0gb2JqUHJvcHNbaW5kZXhdO1xuICAgIHZhciBvYmpWYWx1ZSA9IG9iamVjdFtrZXldLFxuICAgICAgICBvdGhWYWx1ZSA9IG90aGVyW2tleV07XG5cbiAgICBpZiAoY3VzdG9taXplcikge1xuICAgICAgdmFyIGNvbXBhcmVkID0gaXNQYXJ0aWFsXG4gICAgICAgID8gY3VzdG9taXplcihvdGhWYWx1ZSwgb2JqVmFsdWUsIGtleSwgb3RoZXIsIG9iamVjdCwgc3RhY2spXG4gICAgICAgIDogY3VzdG9taXplcihvYmpWYWx1ZSwgb3RoVmFsdWUsIGtleSwgb2JqZWN0LCBvdGhlciwgc3RhY2spO1xuICAgIH1cbiAgICAvLyBSZWN1cnNpdmVseSBjb21wYXJlIG9iamVjdHMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICBpZiAoIShjb21wYXJlZCA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgPyAob2JqVmFsdWUgPT09IG90aFZhbHVlIHx8IGVxdWFsRnVuYyhvYmpWYWx1ZSwgb3RoVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKSlcbiAgICAgICAgICA6IGNvbXBhcmVkXG4gICAgICAgICkpIHtcbiAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHNraXBDdG9yIHx8IChza2lwQ3RvciA9IGtleSA9PSAnY29uc3RydWN0b3InKTtcbiAgfVxuICBpZiAocmVzdWx0ICYmICFza2lwQ3Rvcikge1xuICAgIHZhciBvYmpDdG9yID0gb2JqZWN0LmNvbnN0cnVjdG9yLFxuICAgICAgICBvdGhDdG9yID0gb3RoZXIuY29uc3RydWN0b3I7XG5cbiAgICAvLyBOb24gYE9iamVjdGAgb2JqZWN0IGluc3RhbmNlcyB3aXRoIGRpZmZlcmVudCBjb25zdHJ1Y3RvcnMgYXJlIG5vdCBlcXVhbC5cbiAgICBpZiAob2JqQ3RvciAhPSBvdGhDdG9yICYmXG4gICAgICAgICgnY29uc3RydWN0b3InIGluIG9iamVjdCAmJiAnY29uc3RydWN0b3InIGluIG90aGVyKSAmJlxuICAgICAgICAhKHR5cGVvZiBvYmpDdG9yID09ICdmdW5jdGlvbicgJiYgb2JqQ3RvciBpbnN0YW5jZW9mIG9iakN0b3IgJiZcbiAgICAgICAgICB0eXBlb2Ygb3RoQ3RvciA9PSAnZnVuY3Rpb24nICYmIG90aEN0b3IgaW5zdGFuY2VvZiBvdGhDdG9yKSkge1xuICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgfVxuICB9XG4gIHN0YWNrWydkZWxldGUnXShvYmplY3QpO1xuICBzdGFja1snZGVsZXRlJ10ob3RoZXIpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGVxdWFsT2JqZWN0cztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../node_modules/lodash/_equalObjects.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_freeGlobal.js"
/*!*********************************************!*\
  !*** ../node_modules/lodash/_freeGlobal.js ***!
  \*********************************************/
(module) {

eval("{/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fZnJlZUdsb2JhbC5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2FtdW5kYS1tb2RlbGVyLWNsaWVudC8uLi9ub2RlX21vZHVsZXMvbG9kYXNoL19mcmVlR2xvYmFsLmpzPzE1ZjciXSwic291cmNlc0NvbnRlbnQiOlsiLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBnbG9iYWxgIGZyb20gTm9kZS5qcy4gKi9cbnZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWwgJiYgZ2xvYmFsLk9iamVjdCA9PT0gT2JqZWN0ICYmIGdsb2JhbDtcblxubW9kdWxlLmV4cG9ydHMgPSBmcmVlR2xvYmFsO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../node_modules/lodash/_freeGlobal.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_getAllKeys.js"
/*!*********************************************!*\
  !*** ../node_modules/lodash/_getAllKeys.js ***!
  \*********************************************/
(module, __unused_webpack_exports, __webpack_require__) {

eval("{var baseGetAllKeys = __webpack_require__(/*! ./_baseGetAllKeys */ \"../node_modules/lodash/_baseGetAllKeys.js\"),\n    getSymbols = __webpack_require__(/*! ./_getSymbols */ \"../node_modules/lodash/_getSymbols.js\"),\n    keys = __webpack_require__(/*! ./keys */ \"../node_modules/lodash/keys.js\");\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nmodule.exports = getAllKeys;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fZ2V0QWxsS2V5cy5qcyIsIm1hcHBpbmdzIjoiQUFBQSxxQkFBcUIsbUJBQU8sQ0FBQyxvRUFBbUI7QUFDaEQsaUJBQWlCLG1CQUFPLENBQUMsNERBQWU7QUFDeEMsV0FBVyxtQkFBTyxDQUFDLDhDQUFROztBQUUzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jYW11bmRhLW1vZGVsZXItY2xpZW50Ly4uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2dldEFsbEtleXMuanM/ZDgwNiJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgYmFzZUdldEFsbEtleXMgPSByZXF1aXJlKCcuL19iYXNlR2V0QWxsS2V5cycpLFxuICAgIGdldFN5bWJvbHMgPSByZXF1aXJlKCcuL19nZXRTeW1ib2xzJyksXG4gICAga2V5cyA9IHJlcXVpcmUoJy4va2V5cycpO1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2Ygb3duIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMuXG4gKi9cbmZ1bmN0aW9uIGdldEFsbEtleXMob2JqZWN0KSB7XG4gIHJldHVybiBiYXNlR2V0QWxsS2V5cyhvYmplY3QsIGtleXMsIGdldFN5bWJvbHMpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGdldEFsbEtleXM7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../node_modules/lodash/_getAllKeys.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_getMapData.js"
/*!*********************************************!*\
  !*** ../node_modules/lodash/_getMapData.js ***!
  \*********************************************/
(module, __unused_webpack_exports, __webpack_require__) {

eval("{var isKeyable = __webpack_require__(/*! ./_isKeyable */ \"../node_modules/lodash/_isKeyable.js\");\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fZ2V0TWFwRGF0YS5qcyIsIm1hcHBpbmdzIjoiQUFBQSxnQkFBZ0IsbUJBQU8sQ0FBQywwREFBYzs7QUFFdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLGFBQWEsR0FBRztBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL2NhbXVuZGEtbW9kZWxlci1jbGllbnQvLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fZ2V0TWFwRGF0YS5qcz9jZGNiIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBpc0tleWFibGUgPSByZXF1aXJlKCcuL19pc0tleWFibGUnKTtcblxuLyoqXG4gKiBHZXRzIHRoZSBkYXRhIGZvciBgbWFwYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG1hcCBUaGUgbWFwIHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUgcmVmZXJlbmNlIGtleS5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtYXAgZGF0YS5cbiAqL1xuZnVuY3Rpb24gZ2V0TWFwRGF0YShtYXAsIGtleSkge1xuICB2YXIgZGF0YSA9IG1hcC5fX2RhdGFfXztcbiAgcmV0dXJuIGlzS2V5YWJsZShrZXkpXG4gICAgPyBkYXRhW3R5cGVvZiBrZXkgPT0gJ3N0cmluZycgPyAnc3RyaW5nJyA6ICdoYXNoJ11cbiAgICA6IGRhdGEubWFwO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGdldE1hcERhdGE7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../node_modules/lodash/_getMapData.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_getNative.js"
/*!********************************************!*\
  !*** ../node_modules/lodash/_getNative.js ***!
  \********************************************/
(module, __unused_webpack_exports, __webpack_require__) {

eval("{var baseIsNative = __webpack_require__(/*! ./_baseIsNative */ \"../node_modules/lodash/_baseIsNative.js\"),\n    getValue = __webpack_require__(/*! ./_getValue */ \"../node_modules/lodash/_getValue.js\");\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fZ2V0TmF0aXZlLmpzIiwibWFwcGluZ3MiOiJBQUFBLG1CQUFtQixtQkFBTyxDQUFDLGdFQUFpQjtBQUM1QyxlQUFlLG1CQUFPLENBQUMsd0RBQWE7O0FBRXBDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixhQUFhLEdBQUc7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL2NhbXVuZGEtbW9kZWxlci1jbGllbnQvLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fZ2V0TmF0aXZlLmpzPzJkMjEiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGJhc2VJc05hdGl2ZSA9IHJlcXVpcmUoJy4vX2Jhc2VJc05hdGl2ZScpLFxuICAgIGdldFZhbHVlID0gcmVxdWlyZSgnLi9fZ2V0VmFsdWUnKTtcblxuLyoqXG4gKiBHZXRzIHRoZSBuYXRpdmUgZnVuY3Rpb24gYXQgYGtleWAgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgbWV0aG9kIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBpZiBpdCdzIG5hdGl2ZSwgZWxzZSBgdW5kZWZpbmVkYC5cbiAqL1xuZnVuY3Rpb24gZ2V0TmF0aXZlKG9iamVjdCwga2V5KSB7XG4gIHZhciB2YWx1ZSA9IGdldFZhbHVlKG9iamVjdCwga2V5KTtcbiAgcmV0dXJuIGJhc2VJc05hdGl2ZSh2YWx1ZSkgPyB2YWx1ZSA6IHVuZGVmaW5lZDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBnZXROYXRpdmU7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../node_modules/lodash/_getNative.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_getRawTag.js"
/*!********************************************!*\
  !*** ../node_modules/lodash/_getRawTag.js ***!
  \********************************************/
(module, __unused_webpack_exports, __webpack_require__) {

eval("{var Symbol = __webpack_require__(/*! ./_Symbol */ \"../node_modules/lodash/_Symbol.js\");\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fZ2V0UmF3VGFnLmpzIiwibWFwcGluZ3MiOiJBQUFBLGFBQWEsbUJBQU8sQ0FBQyxvREFBVzs7QUFFaEM7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxHQUFHO0FBQ2QsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL2NhbXVuZGEtbW9kZWxlci1jbGllbnQvLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fZ2V0UmF3VGFnLmpzP2JjYzUiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIFN5bWJvbCA9IHJlcXVpcmUoJy4vX1N5bWJvbCcpO1xuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKipcbiAqIFVzZWQgdG8gcmVzb2x2ZSB0aGVcbiAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICogb2YgdmFsdWVzLlxuICovXG52YXIgbmF0aXZlT2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG52YXIgc3ltVG9TdHJpbmdUYWcgPSBTeW1ib2wgPyBTeW1ib2wudG9TdHJpbmdUYWcgOiB1bmRlZmluZWQ7XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlR2V0VGFnYCB3aGljaCBpZ25vcmVzIGBTeW1ib2wudG9TdHJpbmdUYWdgIHZhbHVlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSByYXcgYHRvU3RyaW5nVGFnYC5cbiAqL1xuZnVuY3Rpb24gZ2V0UmF3VGFnKHZhbHVlKSB7XG4gIHZhciBpc093biA9IGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIHN5bVRvU3RyaW5nVGFnKSxcbiAgICAgIHRhZyA9IHZhbHVlW3N5bVRvU3RyaW5nVGFnXTtcblxuICB0cnkge1xuICAgIHZhbHVlW3N5bVRvU3RyaW5nVGFnXSA9IHVuZGVmaW5lZDtcbiAgICB2YXIgdW5tYXNrZWQgPSB0cnVlO1xuICB9IGNhdGNoIChlKSB7fVxuXG4gIHZhciByZXN1bHQgPSBuYXRpdmVPYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgaWYgKHVubWFza2VkKSB7XG4gICAgaWYgKGlzT3duKSB7XG4gICAgICB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ10gPSB0YWc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlbGV0ZSB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ107XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0UmF3VGFnO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../node_modules/lodash/_getRawTag.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_getSymbols.js"
/*!*********************************************!*\
  !*** ../node_modules/lodash/_getSymbols.js ***!
  \*********************************************/
(module, __unused_webpack_exports, __webpack_require__) {

eval("{var arrayFilter = __webpack_require__(/*! ./_arrayFilter */ \"../node_modules/lodash/_arrayFilter.js\"),\n    stubArray = __webpack_require__(/*! ./stubArray */ \"../node_modules/lodash/stubArray.js\");\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nmodule.exports = getSymbols;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fZ2V0U3ltYm9scy5qcyIsIm1hcHBpbmdzIjoiQUFBQSxrQkFBa0IsbUJBQU8sQ0FBQyw4REFBZ0I7QUFDMUMsZ0JBQWdCLG1CQUFPLENBQUMsd0RBQWE7O0FBRXJDO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2FtdW5kYS1tb2RlbGVyLWNsaWVudC8uLi9ub2RlX21vZHVsZXMvbG9kYXNoL19nZXRTeW1ib2xzLmpzP2I1YmYiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGFycmF5RmlsdGVyID0gcmVxdWlyZSgnLi9fYXJyYXlGaWx0ZXInKSxcbiAgICBzdHViQXJyYXkgPSByZXF1aXJlKCcuL3N0dWJBcnJheScpO1xuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBwcm9wZXJ0eUlzRW51bWVyYWJsZSA9IG9iamVjdFByb3RvLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG52YXIgbmF0aXZlR2V0U3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGVudW1lcmFibGUgc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBzeW1ib2xzLlxuICovXG52YXIgZ2V0U3ltYm9scyA9ICFuYXRpdmVHZXRTeW1ib2xzID8gc3R1YkFycmF5IDogZnVuY3Rpb24ob2JqZWN0KSB7XG4gIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICBvYmplY3QgPSBPYmplY3Qob2JqZWN0KTtcbiAgcmV0dXJuIGFycmF5RmlsdGVyKG5hdGl2ZUdldFN5bWJvbHMob2JqZWN0KSwgZnVuY3Rpb24oc3ltYm9sKSB7XG4gICAgcmV0dXJuIHByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwob2JqZWN0LCBzeW1ib2wpO1xuICB9KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0U3ltYm9scztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../node_modules/lodash/_getSymbols.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_getTag.js"
/*!*****************************************!*\
  !*** ../node_modules/lodash/_getTag.js ***!
  \*****************************************/
(module, __unused_webpack_exports, __webpack_require__) {

eval("{var DataView = __webpack_require__(/*! ./_DataView */ \"../node_modules/lodash/_DataView.js\"),\n    Map = __webpack_require__(/*! ./_Map */ \"../node_modules/lodash/_Map.js\"),\n    Promise = __webpack_require__(/*! ./_Promise */ \"../node_modules/lodash/_Promise.js\"),\n    Set = __webpack_require__(/*! ./_Set */ \"../node_modules/lodash/_Set.js\"),\n    WeakMap = __webpack_require__(/*! ./_WeakMap */ \"../node_modules/lodash/_WeakMap.js\"),\n    baseGetTag = __webpack_require__(/*! ./_baseGetTag */ \"../node_modules/lodash/_baseGetTag.js\"),\n    toSource = __webpack_require__(/*! ./_toSource */ \"../node_modules/lodash/_toSource.js\");\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nmodule.exports = getTag;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fZ2V0VGFnLmpzIiwibWFwcGluZ3MiOiJBQUFBLGVBQWUsbUJBQU8sQ0FBQyx3REFBYTtBQUNwQyxVQUFVLG1CQUFPLENBQUMsOENBQVE7QUFDMUIsY0FBYyxtQkFBTyxDQUFDLHNEQUFZO0FBQ2xDLFVBQVUsbUJBQU8sQ0FBQyw4Q0FBUTtBQUMxQixjQUFjLG1CQUFPLENBQUMsc0RBQVk7QUFDbEMsaUJBQWlCLG1CQUFPLENBQUMsNERBQWU7QUFDeEMsZUFBZSxtQkFBTyxDQUFDLHdEQUFhOztBQUVwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxHQUFHO0FBQ2QsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2FtdW5kYS1tb2RlbGVyLWNsaWVudC8uLi9ub2RlX21vZHVsZXMvbG9kYXNoL19nZXRUYWcuanM/YjM3YiJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgRGF0YVZpZXcgPSByZXF1aXJlKCcuL19EYXRhVmlldycpLFxuICAgIE1hcCA9IHJlcXVpcmUoJy4vX01hcCcpLFxuICAgIFByb21pc2UgPSByZXF1aXJlKCcuL19Qcm9taXNlJyksXG4gICAgU2V0ID0gcmVxdWlyZSgnLi9fU2V0JyksXG4gICAgV2Vha01hcCA9IHJlcXVpcmUoJy4vX1dlYWtNYXAnKSxcbiAgICBiYXNlR2V0VGFnID0gcmVxdWlyZSgnLi9fYmFzZUdldFRhZycpLFxuICAgIHRvU291cmNlID0gcmVxdWlyZSgnLi9fdG9Tb3VyY2UnKTtcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIG1hcFRhZyA9ICdbb2JqZWN0IE1hcF0nLFxuICAgIG9iamVjdFRhZyA9ICdbb2JqZWN0IE9iamVjdF0nLFxuICAgIHByb21pc2VUYWcgPSAnW29iamVjdCBQcm9taXNlXScsXG4gICAgc2V0VGFnID0gJ1tvYmplY3QgU2V0XScsXG4gICAgd2Vha01hcFRhZyA9ICdbb2JqZWN0IFdlYWtNYXBdJztcblxudmFyIGRhdGFWaWV3VGFnID0gJ1tvYmplY3QgRGF0YVZpZXddJztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IG1hcHMsIHNldHMsIGFuZCB3ZWFrbWFwcy4gKi9cbnZhciBkYXRhVmlld0N0b3JTdHJpbmcgPSB0b1NvdXJjZShEYXRhVmlldyksXG4gICAgbWFwQ3RvclN0cmluZyA9IHRvU291cmNlKE1hcCksXG4gICAgcHJvbWlzZUN0b3JTdHJpbmcgPSB0b1NvdXJjZShQcm9taXNlKSxcbiAgICBzZXRDdG9yU3RyaW5nID0gdG9Tb3VyY2UoU2V0KSxcbiAgICB3ZWFrTWFwQ3RvclN0cmluZyA9IHRvU291cmNlKFdlYWtNYXApO1xuXG4vKipcbiAqIEdldHMgdGhlIGB0b1N0cmluZ1RhZ2Agb2YgYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBgdG9TdHJpbmdUYWdgLlxuICovXG52YXIgZ2V0VGFnID0gYmFzZUdldFRhZztcblxuLy8gRmFsbGJhY2sgZm9yIGRhdGEgdmlld3MsIG1hcHMsIHNldHMsIGFuZCB3ZWFrIG1hcHMgaW4gSUUgMTEgYW5kIHByb21pc2VzIGluIE5vZGUuanMgPCA2LlxuaWYgKChEYXRhVmlldyAmJiBnZXRUYWcobmV3IERhdGFWaWV3KG5ldyBBcnJheUJ1ZmZlcigxKSkpICE9IGRhdGFWaWV3VGFnKSB8fFxuICAgIChNYXAgJiYgZ2V0VGFnKG5ldyBNYXApICE9IG1hcFRhZykgfHxcbiAgICAoUHJvbWlzZSAmJiBnZXRUYWcoUHJvbWlzZS5yZXNvbHZlKCkpICE9IHByb21pc2VUYWcpIHx8XG4gICAgKFNldCAmJiBnZXRUYWcobmV3IFNldCkgIT0gc2V0VGFnKSB8fFxuICAgIChXZWFrTWFwICYmIGdldFRhZyhuZXcgV2Vha01hcCkgIT0gd2Vha01hcFRhZykpIHtcbiAgZ2V0VGFnID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICB2YXIgcmVzdWx0ID0gYmFzZUdldFRhZyh2YWx1ZSksXG4gICAgICAgIEN0b3IgPSByZXN1bHQgPT0gb2JqZWN0VGFnID8gdmFsdWUuY29uc3RydWN0b3IgOiB1bmRlZmluZWQsXG4gICAgICAgIGN0b3JTdHJpbmcgPSBDdG9yID8gdG9Tb3VyY2UoQ3RvcikgOiAnJztcblxuICAgIGlmIChjdG9yU3RyaW5nKSB7XG4gICAgICBzd2l0Y2ggKGN0b3JTdHJpbmcpIHtcbiAgICAgICAgY2FzZSBkYXRhVmlld0N0b3JTdHJpbmc6IHJldHVybiBkYXRhVmlld1RhZztcbiAgICAgICAgY2FzZSBtYXBDdG9yU3RyaW5nOiByZXR1cm4gbWFwVGFnO1xuICAgICAgICBjYXNlIHByb21pc2VDdG9yU3RyaW5nOiByZXR1cm4gcHJvbWlzZVRhZztcbiAgICAgICAgY2FzZSBzZXRDdG9yU3RyaW5nOiByZXR1cm4gc2V0VGFnO1xuICAgICAgICBjYXNlIHdlYWtNYXBDdG9yU3RyaW5nOiByZXR1cm4gd2Vha01hcFRhZztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBnZXRUYWc7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../node_modules/lodash/_getTag.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_getValue.js"
/*!*******************************************!*\
  !*** ../node_modules/lodash/_getValue.js ***!
  \*******************************************/
(module) {

eval("{/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fZ2V0VmFsdWUuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLGFBQWEsR0FBRztBQUNoQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL2NhbXVuZGEtbW9kZWxlci1jbGllbnQvLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fZ2V0VmFsdWUuanM/NWZmZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEdldHMgdGhlIHZhbHVlIGF0IGBrZXlgIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHByb3BlcnR5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBnZXRWYWx1ZShvYmplY3QsIGtleSkge1xuICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3Rba2V5XTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBnZXRWYWx1ZTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../node_modules/lodash/_getValue.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_hashClear.js"
/*!********************************************!*\
  !*** ../node_modules/lodash/_hashClear.js ***!
  \********************************************/
(module, __unused_webpack_exports, __webpack_require__) {

eval("{var nativeCreate = __webpack_require__(/*! ./_nativeCreate */ \"../node_modules/lodash/_nativeCreate.js\");\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9faGFzaENsZWFyLmpzIiwibWFwcGluZ3MiOiJBQUFBLG1CQUFtQixtQkFBTyxDQUFDLGdFQUFpQjs7QUFFNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL2NhbXVuZGEtbW9kZWxlci1jbGllbnQvLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9faGFzaENsZWFyLmpzPzNkODAiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIG5hdGl2ZUNyZWF0ZSA9IHJlcXVpcmUoJy4vX25hdGl2ZUNyZWF0ZScpO1xuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIGhhc2guXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgSGFzaFxuICovXG5mdW5jdGlvbiBoYXNoQ2xlYXIoKSB7XG4gIHRoaXMuX19kYXRhX18gPSBuYXRpdmVDcmVhdGUgPyBuYXRpdmVDcmVhdGUobnVsbCkgOiB7fTtcbiAgdGhpcy5zaXplID0gMDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBoYXNoQ2xlYXI7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../node_modules/lodash/_hashClear.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_hashDelete.js"
/*!*********************************************!*\
  !*** ../node_modules/lodash/_hashDelete.js ***!
  \*********************************************/
(module) {

eval("{/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9faGFzaERlbGV0ZS5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jYW11bmRhLW1vZGVsZXItY2xpZW50Ly4uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2hhc2hEZWxldGUuanM/NWQ3MCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBoYXNoLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBkZWxldGVcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge09iamVjdH0gaGFzaCBUaGUgaGFzaCB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaGFzaERlbGV0ZShrZXkpIHtcbiAgdmFyIHJlc3VsdCA9IHRoaXMuaGFzKGtleSkgJiYgZGVsZXRlIHRoaXMuX19kYXRhX19ba2V5XTtcbiAgdGhpcy5zaXplIC09IHJlc3VsdCA/IDEgOiAwO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGhhc2hEZWxldGU7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../node_modules/lodash/_hashDelete.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_hashGet.js"
/*!******************************************!*\
  !*** ../node_modules/lodash/_hashGet.js ***!
  \******************************************/
(module, __unused_webpack_exports, __webpack_require__) {

eval("{var nativeCreate = __webpack_require__(/*! ./_nativeCreate */ \"../node_modules/lodash/_nativeCreate.js\");\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9faGFzaEdldC5qcyIsIm1hcHBpbmdzIjoiQUFBQSxtQkFBbUIsbUJBQU8sQ0FBQyxnRUFBaUI7O0FBRTVDO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixhQUFhLEdBQUc7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2FtdW5kYS1tb2RlbGVyLWNsaWVudC8uLi9ub2RlX21vZHVsZXMvbG9kYXNoL19oYXNoR2V0LmpzPzBkOTMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIG5hdGl2ZUNyZWF0ZSA9IHJlcXVpcmUoJy4vX25hdGl2ZUNyZWF0ZScpO1xuXG4vKiogVXNlZCB0byBzdGFuZC1pbiBmb3IgYHVuZGVmaW5lZGAgaGFzaCB2YWx1ZXMuICovXG52YXIgSEFTSF9VTkRFRklORUQgPSAnX19sb2Rhc2hfaGFzaF91bmRlZmluZWRfXyc7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogR2V0cyB0aGUgaGFzaCB2YWx1ZSBmb3IgYGtleWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGdldFxuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBoYXNoR2V0KGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gIGlmIChuYXRpdmVDcmVhdGUpIHtcbiAgICB2YXIgcmVzdWx0ID0gZGF0YVtrZXldO1xuICAgIHJldHVybiByZXN1bHQgPT09IEhBU0hfVU5ERUZJTkVEID8gdW5kZWZpbmVkIDogcmVzdWx0O1xuICB9XG4gIHJldHVybiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSkgPyBkYXRhW2tleV0gOiB1bmRlZmluZWQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaGFzaEdldDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../node_modules/lodash/_hashGet.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_hashHas.js"
/*!******************************************!*\
  !*** ../node_modules/lodash/_hashHas.js ***!
  \******************************************/
(module, __unused_webpack_exports, __webpack_require__) {

eval("{var nativeCreate = __webpack_require__(/*! ./_nativeCreate */ \"../node_modules/lodash/_nativeCreate.js\");\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9faGFzaEhhcy5qcyIsIm1hcHBpbmdzIjoiQUFBQSxtQkFBbUIsbUJBQU8sQ0FBQyxnRUFBaUI7O0FBRTVDO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jYW11bmRhLW1vZGVsZXItY2xpZW50Ly4uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2hhc2hIYXMuanM/OGI0MiJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgbmF0aXZlQ3JlYXRlID0gcmVxdWlyZSgnLi9fbmF0aXZlQ3JlYXRlJyk7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgaGFzaCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaGFzaEhhcyhrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICByZXR1cm4gbmF0aXZlQ3JlYXRlID8gKGRhdGFba2V5XSAhPT0gdW5kZWZpbmVkKSA6IGhhc093blByb3BlcnR5LmNhbGwoZGF0YSwga2V5KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBoYXNoSGFzO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../node_modules/lodash/_hashHas.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_hashSet.js"
/*!******************************************!*\
  !*** ../node_modules/lodash/_hashSet.js ***!
  \******************************************/
(module, __unused_webpack_exports, __webpack_require__) {

eval("{var nativeCreate = __webpack_require__(/*! ./_nativeCreate */ \"../node_modules/lodash/_nativeCreate.js\");\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9faGFzaFNldC5qcyIsIm1hcHBpbmdzIjoiQUFBQSxtQkFBbUIsbUJBQU8sQ0FBQyxnRUFBaUI7O0FBRTVDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsR0FBRztBQUNkLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL2NhbXVuZGEtbW9kZWxlci1jbGllbnQvLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9faGFzaFNldC5qcz9jNGEzIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBuYXRpdmVDcmVhdGUgPSByZXF1aXJlKCcuL19uYXRpdmVDcmVhdGUnKTtcblxuLyoqIFVzZWQgdG8gc3RhbmQtaW4gZm9yIGB1bmRlZmluZWRgIGhhc2ggdmFsdWVzLiAqL1xudmFyIEhBU0hfVU5ERUZJTkVEID0gJ19fbG9kYXNoX2hhc2hfdW5kZWZpbmVkX18nO1xuXG4vKipcbiAqIFNldHMgdGhlIGhhc2ggYGtleWAgdG8gYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgc2V0XG4gKiBAbWVtYmVyT2YgSGFzaFxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBoYXNoIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBoYXNoU2V0KGtleSwgdmFsdWUpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICB0aGlzLnNpemUgKz0gdGhpcy5oYXMoa2V5KSA/IDAgOiAxO1xuICBkYXRhW2tleV0gPSAobmF0aXZlQ3JlYXRlICYmIHZhbHVlID09PSB1bmRlZmluZWQpID8gSEFTSF9VTkRFRklORUQgOiB2YWx1ZTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaGFzaFNldDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../node_modules/lodash/_hashSet.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_isIndex.js"
/*!******************************************!*\
  !*** ../node_modules/lodash/_isIndex.js ***!
  \******************************************/
(module) {

eval("{/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9faXNJbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEdBQUc7QUFDZCxXQUFXLFFBQVE7QUFDbkIsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jYW11bmRhLW1vZGVsZXItY2xpZW50Ly4uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2lzSW5kZXguanM/YWJlMiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB2YXJpb3VzIGBOdW1iZXJgIGNvbnN0YW50cy4gKi9cbnZhciBNQVhfU0FGRV9JTlRFR0VSID0gOTAwNzE5OTI1NDc0MDk5MTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IHVuc2lnbmVkIGludGVnZXIgdmFsdWVzLiAqL1xudmFyIHJlSXNVaW50ID0gL14oPzowfFsxLTldXFxkKikkLztcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGFycmF5LWxpa2UgaW5kZXguXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9TUFYX1NBRkVfSU5URUdFUl0gVGhlIHVwcGVyIGJvdW5kcyBvZiBhIHZhbGlkIGluZGV4LlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBpbmRleCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0luZGV4KHZhbHVlLCBsZW5ndGgpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIGxlbmd0aCA9IGxlbmd0aCA9PSBudWxsID8gTUFYX1NBRkVfSU5URUdFUiA6IGxlbmd0aDtcblxuICByZXR1cm4gISFsZW5ndGggJiZcbiAgICAodHlwZSA9PSAnbnVtYmVyJyB8fFxuICAgICAgKHR5cGUgIT0gJ3N5bWJvbCcgJiYgcmVJc1VpbnQudGVzdCh2YWx1ZSkpKSAmJlxuICAgICAgICAodmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8IGxlbmd0aCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNJbmRleDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../node_modules/lodash/_isIndex.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_isKeyable.js"
/*!********************************************!*\
  !*** ../node_modules/lodash/_isKeyable.js ***!
  \********************************************/
(module) {

eval("{/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9faXNLZXlhYmxlLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxHQUFHO0FBQ2QsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2FtdW5kYS1tb2RlbGVyLWNsaWVudC8uLi9ub2RlX21vZHVsZXMvbG9kYXNoL19pc0tleWFibGUuanM/ZWU4ZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHN1aXRhYmxlIGZvciB1c2UgYXMgdW5pcXVlIG9iamVjdCBrZXkuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgc3VpdGFibGUsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNLZXlhYmxlKHZhbHVlKSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICByZXR1cm4gKHR5cGUgPT0gJ3N0cmluZycgfHwgdHlwZSA9PSAnbnVtYmVyJyB8fCB0eXBlID09ICdzeW1ib2wnIHx8IHR5cGUgPT0gJ2Jvb2xlYW4nKVxuICAgID8gKHZhbHVlICE9PSAnX19wcm90b19fJylcbiAgICA6ICh2YWx1ZSA9PT0gbnVsbCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNLZXlhYmxlO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../node_modules/lodash/_isKeyable.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_isMasked.js"
/*!*******************************************!*\
  !*** ../node_modules/lodash/_isMasked.js ***!
  \*******************************************/
(module, __unused_webpack_exports, __webpack_require__) {

eval("{var coreJsData = __webpack_require__(/*! ./_coreJsData */ \"../node_modules/lodash/_coreJsData.js\");\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9faXNNYXNrZWQuanMiLCJtYXBwaW5ncyI6IkFBQUEsaUJBQWlCLG1CQUFPLENBQUMsNERBQWU7O0FBRXhDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsVUFBVTtBQUNyQixhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jYW11bmRhLW1vZGVsZXItY2xpZW50Ly4uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2lzTWFza2VkLmpzP2NkY2QiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGNvcmVKc0RhdGEgPSByZXF1aXJlKCcuL19jb3JlSnNEYXRhJyk7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBtZXRob2RzIG1hc3F1ZXJhZGluZyBhcyBuYXRpdmUuICovXG52YXIgbWFza1NyY0tleSA9IChmdW5jdGlvbigpIHtcbiAgdmFyIHVpZCA9IC9bXi5dKyQvLmV4ZWMoY29yZUpzRGF0YSAmJiBjb3JlSnNEYXRhLmtleXMgJiYgY29yZUpzRGF0YS5rZXlzLklFX1BST1RPIHx8ICcnKTtcbiAgcmV0dXJuIHVpZCA/ICgnU3ltYm9sKHNyYylfMS4nICsgdWlkKSA6ICcnO1xufSgpKTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYGZ1bmNgIGhhcyBpdHMgc291cmNlIG1hc2tlZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGZ1bmNgIGlzIG1hc2tlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc01hc2tlZChmdW5jKSB7XG4gIHJldHVybiAhIW1hc2tTcmNLZXkgJiYgKG1hc2tTcmNLZXkgaW4gZnVuYyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNNYXNrZWQ7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../node_modules/lodash/_isMasked.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_isPrototype.js"
/*!**********************************************!*\
  !*** ../node_modules/lodash/_isPrototype.js ***!
  \**********************************************/
(module) {

eval("{/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9faXNQcm90b3R5cGUuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsR0FBRztBQUNkLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2FtdW5kYS1tb2RlbGVyLWNsaWVudC8uLi9ub2RlX21vZHVsZXMvbG9kYXNoL19pc1Byb3RvdHlwZS5qcz84Y2JlIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGEgcHJvdG90eXBlIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHByb3RvdHlwZSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc1Byb3RvdHlwZSh2YWx1ZSkge1xuICB2YXIgQ3RvciA9IHZhbHVlICYmIHZhbHVlLmNvbnN0cnVjdG9yLFxuICAgICAgcHJvdG8gPSAodHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBDdG9yLnByb3RvdHlwZSkgfHwgb2JqZWN0UHJvdG87XG5cbiAgcmV0dXJuIHZhbHVlID09PSBwcm90bztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc1Byb3RvdHlwZTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../node_modules/lodash/_isPrototype.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_listCacheClear.js"
/*!*************************************************!*\
  !*** ../node_modules/lodash/_listCacheClear.js ***!
  \*************************************************/
(module) {

eval("{/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fbGlzdENhY2hlQ2xlYXIuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL2NhbXVuZGEtbW9kZWxlci1jbGllbnQvLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fbGlzdENhY2hlQ2xlYXIuanM/ODhlYSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIGxpc3QgY2FjaGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZUNsZWFyKCkge1xuICB0aGlzLl9fZGF0YV9fID0gW107XG4gIHRoaXMuc2l6ZSA9IDA7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gbGlzdENhY2hlQ2xlYXI7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../node_modules/lodash/_listCacheClear.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_listCacheDelete.js"
/*!**************************************************!*\
  !*** ../node_modules/lodash/_listCacheDelete.js ***!
  \**************************************************/
(module, __unused_webpack_exports, __webpack_require__) {

eval("{var assocIndexOf = __webpack_require__(/*! ./_assocIndexOf */ \"../node_modules/lodash/_assocIndexOf.js\");\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fbGlzdENhY2hlRGVsZXRlLmpzIiwibWFwcGluZ3MiOiJBQUFBLG1CQUFtQixtQkFBTyxDQUFDLGdFQUFpQjs7QUFFNUM7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jYW11bmRhLW1vZGVsZXItY2xpZW50Ly4uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2xpc3RDYWNoZURlbGV0ZS5qcz8xYzRkIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBhc3NvY0luZGV4T2YgPSByZXF1aXJlKCcuL19hc3NvY0luZGV4T2YnKTtcblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIGFycmF5UHJvdG8gPSBBcnJheS5wcm90b3R5cGU7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIHNwbGljZSA9IGFycmF5UHJvdG8uc3BsaWNlO1xuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBsaXN0IGNhY2hlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBkZWxldGVcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVEZWxldGUoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgaWYgKGluZGV4IDwgMCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgbGFzdEluZGV4ID0gZGF0YS5sZW5ndGggLSAxO1xuICBpZiAoaW5kZXggPT0gbGFzdEluZGV4KSB7XG4gICAgZGF0YS5wb3AoKTtcbiAgfSBlbHNlIHtcbiAgICBzcGxpY2UuY2FsbChkYXRhLCBpbmRleCwgMSk7XG4gIH1cbiAgLS10aGlzLnNpemU7XG4gIHJldHVybiB0cnVlO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGxpc3RDYWNoZURlbGV0ZTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../node_modules/lodash/_listCacheDelete.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_listCacheGet.js"
/*!***********************************************!*\
  !*** ../node_modules/lodash/_listCacheGet.js ***!
  \***********************************************/
(module, __unused_webpack_exports, __webpack_require__) {

eval("{var assocIndexOf = __webpack_require__(/*! ./_assocIndexOf */ \"../node_modules/lodash/_assocIndexOf.js\");\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fbGlzdENhY2hlR2V0LmpzIiwibWFwcGluZ3MiOiJBQUFBLG1CQUFtQixtQkFBTyxDQUFDLGdFQUFpQjs7QUFFNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLGFBQWEsR0FBRztBQUNoQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2FtdW5kYS1tb2RlbGVyLWNsaWVudC8uLi9ub2RlX21vZHVsZXMvbG9kYXNoL19saXN0Q2FjaGVHZXQuanM/NTU5MiJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgYXNzb2NJbmRleE9mID0gcmVxdWlyZSgnLi9fYXNzb2NJbmRleE9mJyk7XG5cbi8qKlxuICogR2V0cyB0aGUgbGlzdCBjYWNoZSB2YWx1ZSBmb3IgYGtleWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGdldFxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZUdldChrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICByZXR1cm4gaW5kZXggPCAwID8gdW5kZWZpbmVkIDogZGF0YVtpbmRleF1bMV07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gbGlzdENhY2hlR2V0O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../node_modules/lodash/_listCacheGet.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_listCacheHas.js"
/*!***********************************************!*\
  !*** ../node_modules/lodash/_listCacheHas.js ***!
  \***********************************************/
(module, __unused_webpack_exports, __webpack_require__) {

eval("{var assocIndexOf = __webpack_require__(/*! ./_assocIndexOf */ \"../node_modules/lodash/_assocIndexOf.js\");\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fbGlzdENhY2hlSGFzLmpzIiwibWFwcGluZ3MiOiJBQUFBLG1CQUFtQixtQkFBTyxDQUFDLGdFQUFpQjs7QUFFNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL2NhbXVuZGEtbW9kZWxlci1jbGllbnQvLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fbGlzdENhY2hlSGFzLmpzPzI3ZGMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGFzc29jSW5kZXhPZiA9IHJlcXVpcmUoJy4vX2Fzc29jSW5kZXhPZicpO1xuXG4vKipcbiAqIENoZWNrcyBpZiBhIGxpc3QgY2FjaGUgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlSGFzKGtleSkge1xuICByZXR1cm4gYXNzb2NJbmRleE9mKHRoaXMuX19kYXRhX18sIGtleSkgPiAtMTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBsaXN0Q2FjaGVIYXM7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../node_modules/lodash/_listCacheHas.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_listCacheSet.js"
/*!***********************************************!*\
  !*** ../node_modules/lodash/_listCacheSet.js ***!
  \***********************************************/
(module, __unused_webpack_exports, __webpack_require__) {

eval("{var assocIndexOf = __webpack_require__(/*! ./_assocIndexOf */ \"../node_modules/lodash/_assocIndexOf.js\");\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fbGlzdENhY2hlU2V0LmpzIiwibWFwcGluZ3MiOiJBQUFBLG1CQUFtQixtQkFBTyxDQUFDLGdFQUFpQjs7QUFFNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsR0FBRztBQUNkLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jYW11bmRhLW1vZGVsZXItY2xpZW50Ly4uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2xpc3RDYWNoZVNldC5qcz8zYzdjIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBhc3NvY0luZGV4T2YgPSByZXF1aXJlKCcuL19hc3NvY0luZGV4T2YnKTtcblxuLyoqXG4gKiBTZXRzIHRoZSBsaXN0IGNhY2hlIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBsaXN0IGNhY2hlIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVTZXQoa2V5LCB2YWx1ZSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gIGlmIChpbmRleCA8IDApIHtcbiAgICArK3RoaXMuc2l6ZTtcbiAgICBkYXRhLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgfSBlbHNlIHtcbiAgICBkYXRhW2luZGV4XVsxXSA9IHZhbHVlO1xuICB9XG4gIHJldHVybiB0aGlzO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGxpc3RDYWNoZVNldDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../node_modules/lodash/_listCacheSet.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_mapCacheClear.js"
/*!************************************************!*\
  !*** ../node_modules/lodash/_mapCacheClear.js ***!
  \************************************************/
(module, __unused_webpack_exports, __webpack_require__) {

eval("{var Hash = __webpack_require__(/*! ./_Hash */ \"../node_modules/lodash/_Hash.js\"),\n    ListCache = __webpack_require__(/*! ./_ListCache */ \"../node_modules/lodash/_ListCache.js\"),\n    Map = __webpack_require__(/*! ./_Map */ \"../node_modules/lodash/_Map.js\");\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fbWFwQ2FjaGVDbGVhci5qcyIsIm1hcHBpbmdzIjoiQUFBQSxXQUFXLG1CQUFPLENBQUMsZ0RBQVM7QUFDNUIsZ0JBQWdCLG1CQUFPLENBQUMsMERBQWM7QUFDdEMsVUFBVSxtQkFBTyxDQUFDLDhDQUFROztBQUUxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jYW11bmRhLW1vZGVsZXItY2xpZW50Ly4uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX21hcENhY2hlQ2xlYXIuanM/MGIzMCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgSGFzaCA9IHJlcXVpcmUoJy4vX0hhc2gnKSxcbiAgICBMaXN0Q2FjaGUgPSByZXF1aXJlKCcuL19MaXN0Q2FjaGUnKSxcbiAgICBNYXAgPSByZXF1aXJlKCcuL19NYXAnKTtcblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBtYXAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVDbGVhcigpIHtcbiAgdGhpcy5zaXplID0gMDtcbiAgdGhpcy5fX2RhdGFfXyA9IHtcbiAgICAnaGFzaCc6IG5ldyBIYXNoLFxuICAgICdtYXAnOiBuZXcgKE1hcCB8fCBMaXN0Q2FjaGUpLFxuICAgICdzdHJpbmcnOiBuZXcgSGFzaFxuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG1hcENhY2hlQ2xlYXI7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../node_modules/lodash/_mapCacheClear.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_mapCacheDelete.js"
/*!*************************************************!*\
  !*** ../node_modules/lodash/_mapCacheDelete.js ***!
  \*************************************************/
(module, __unused_webpack_exports, __webpack_require__) {

eval("{var getMapData = __webpack_require__(/*! ./_getMapData */ \"../node_modules/lodash/_getMapData.js\");\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fbWFwQ2FjaGVEZWxldGUuanMiLCJtYXBwaW5ncyI6IkFBQUEsaUJBQWlCLG1CQUFPLENBQUMsNERBQWU7O0FBRXhDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2FtdW5kYS1tb2RlbGVyLWNsaWVudC8uLi9ub2RlX21vZHVsZXMvbG9kYXNoL19tYXBDYWNoZURlbGV0ZS5qcz81YTMzIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBnZXRNYXBEYXRhID0gcmVxdWlyZSgnLi9fZ2V0TWFwRGF0YScpO1xuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBtYXAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVEZWxldGUoa2V5KSB7XG4gIHZhciByZXN1bHQgPSBnZXRNYXBEYXRhKHRoaXMsIGtleSlbJ2RlbGV0ZSddKGtleSk7XG4gIHRoaXMuc2l6ZSAtPSByZXN1bHQgPyAxIDogMDtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBtYXBDYWNoZURlbGV0ZTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../node_modules/lodash/_mapCacheDelete.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_mapCacheGet.js"
/*!**********************************************!*\
  !*** ../node_modules/lodash/_mapCacheGet.js ***!
  \**********************************************/
(module, __unused_webpack_exports, __webpack_require__) {

eval("{var getMapData = __webpack_require__(/*! ./_getMapData */ \"../node_modules/lodash/_getMapData.js\");\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fbWFwQ2FjaGVHZXQuanMiLCJtYXBwaW5ncyI6IkFBQUEsaUJBQWlCLG1CQUFPLENBQUMsNERBQWU7O0FBRXhDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixhQUFhLEdBQUc7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jYW11bmRhLW1vZGVsZXItY2xpZW50Ly4uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX21hcENhY2hlR2V0LmpzPzY4MTIiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGdldE1hcERhdGEgPSByZXF1aXJlKCcuL19nZXRNYXBEYXRhJyk7XG5cbi8qKlxuICogR2V0cyB0aGUgbWFwIHZhbHVlIGZvciBga2V5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZ2V0XG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBtYXBDYWNoZUdldChrZXkpIHtcbiAgcmV0dXJuIGdldE1hcERhdGEodGhpcywga2V5KS5nZXQoa2V5KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBtYXBDYWNoZUdldDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../node_modules/lodash/_mapCacheGet.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_mapCacheHas.js"
/*!**********************************************!*\
  !*** ../node_modules/lodash/_mapCacheHas.js ***!
  \**********************************************/
(module, __unused_webpack_exports, __webpack_require__) {

eval("{var getMapData = __webpack_require__(/*! ./_getMapData */ \"../node_modules/lodash/_getMapData.js\");\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fbWFwQ2FjaGVIYXMuanMiLCJtYXBwaW5ncyI6IkFBQUEsaUJBQWlCLG1CQUFPLENBQUMsNERBQWU7O0FBRXhDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jYW11bmRhLW1vZGVsZXItY2xpZW50Ly4uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX21hcENhY2hlSGFzLmpzP2M5NWMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGdldE1hcERhdGEgPSByZXF1aXJlKCcuL19nZXRNYXBEYXRhJyk7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgbWFwIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVIYXMoa2V5KSB7XG4gIHJldHVybiBnZXRNYXBEYXRhKHRoaXMsIGtleSkuaGFzKGtleSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gbWFwQ2FjaGVIYXM7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../node_modules/lodash/_mapCacheHas.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_mapCacheSet.js"
/*!**********************************************!*\
  !*** ../node_modules/lodash/_mapCacheSet.js ***!
  \**********************************************/
(module, __unused_webpack_exports, __webpack_require__) {

eval("{var getMapData = __webpack_require__(/*! ./_getMapData */ \"../node_modules/lodash/_getMapData.js\");\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fbWFwQ2FjaGVTZXQuanMiLCJtYXBwaW5ncyI6IkFBQUEsaUJBQWlCLG1CQUFPLENBQUMsNERBQWU7O0FBRXhDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLEdBQUc7QUFDZCxhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jYW11bmRhLW1vZGVsZXItY2xpZW50Ly4uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX21hcENhY2hlU2V0LmpzP2M0ZjkiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGdldE1hcERhdGEgPSByZXF1aXJlKCcuL19nZXRNYXBEYXRhJyk7XG5cbi8qKlxuICogU2V0cyB0aGUgbWFwIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG1hcCBjYWNoZSBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVTZXQoa2V5LCB2YWx1ZSkge1xuICB2YXIgZGF0YSA9IGdldE1hcERhdGEodGhpcywga2V5KSxcbiAgICAgIHNpemUgPSBkYXRhLnNpemU7XG5cbiAgZGF0YS5zZXQoa2V5LCB2YWx1ZSk7XG4gIHRoaXMuc2l6ZSArPSBkYXRhLnNpemUgPT0gc2l6ZSA/IDAgOiAxO1xuICByZXR1cm4gdGhpcztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBtYXBDYWNoZVNldDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../node_modules/lodash/_mapCacheSet.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_mapToArray.js"
/*!*********************************************!*\
  !*** ../node_modules/lodash/_mapToArray.js ***!
  \*********************************************/
(module) {

eval("{/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nmodule.exports = mapToArray;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fbWFwVG9BcnJheS5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2FtdW5kYS1tb2RlbGVyLWNsaWVudC8uLi9ub2RlX21vZHVsZXMvbG9kYXNoL19tYXBUb0FycmF5LmpzP2FlYjkiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb252ZXJ0cyBgbWFwYCB0byBpdHMga2V5LXZhbHVlIHBhaXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gbWFwIFRoZSBtYXAgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUga2V5LXZhbHVlIHBhaXJzLlxuICovXG5mdW5jdGlvbiBtYXBUb0FycmF5KG1hcCkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIHJlc3VsdCA9IEFycmF5KG1hcC5zaXplKTtcblxuICBtYXAuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgcmVzdWx0WysraW5kZXhdID0gW2tleSwgdmFsdWVdO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBtYXBUb0FycmF5O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../node_modules/lodash/_mapToArray.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_nativeCreate.js"
/*!***********************************************!*\
  !*** ../node_modules/lodash/_nativeCreate.js ***!
  \***********************************************/
(module, __unused_webpack_exports, __webpack_require__) {

eval("{var getNative = __webpack_require__(/*! ./_getNative */ \"../node_modules/lodash/_getNative.js\");\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fbmF0aXZlQ3JlYXRlLmpzIiwibWFwcGluZ3MiOiJBQUFBLGdCQUFnQixtQkFBTyxDQUFDLDBEQUFjOztBQUV0QztBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2FtdW5kYS1tb2RlbGVyLWNsaWVudC8uLi9ub2RlX21vZHVsZXMvbG9kYXNoL19uYXRpdmVDcmVhdGUuanM/MTQ0OCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZ2V0TmF0aXZlID0gcmVxdWlyZSgnLi9fZ2V0TmF0aXZlJyk7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIHRoYXQgYXJlIHZlcmlmaWVkIHRvIGJlIG5hdGl2ZS4gKi9cbnZhciBuYXRpdmVDcmVhdGUgPSBnZXROYXRpdmUoT2JqZWN0LCAnY3JlYXRlJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gbmF0aXZlQ3JlYXRlO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../node_modules/lodash/_nativeCreate.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_nativeKeys.js"
/*!*********************************************!*\
  !*** ../node_modules/lodash/_nativeKeys.js ***!
  \*********************************************/
(module, __unused_webpack_exports, __webpack_require__) {

eval("{var overArg = __webpack_require__(/*! ./_overArg */ \"../node_modules/lodash/_overArg.js\");\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fbmF0aXZlS2V5cy5qcyIsIm1hcHBpbmdzIjoiQUFBQSxjQUFjLG1CQUFPLENBQUMsc0RBQVk7O0FBRWxDO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jYW11bmRhLW1vZGVsZXItY2xpZW50Ly4uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX25hdGl2ZUtleXMuanM/MzEwYiJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgb3ZlckFyZyA9IHJlcXVpcmUoJy4vX292ZXJBcmcnKTtcblxuLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgZm9yIHRob3NlIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBvdGhlciBgbG9kYXNoYCBtZXRob2RzLiAqL1xudmFyIG5hdGl2ZUtleXMgPSBvdmVyQXJnKE9iamVjdC5rZXlzLCBPYmplY3QpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IG5hdGl2ZUtleXM7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../node_modules/lodash/_nativeKeys.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_nodeUtil.js"
/*!*******************************************!*\
  !*** ../node_modules/lodash/_nodeUtil.js ***!
  \*******************************************/
(module, exports, __webpack_require__) {

eval("{/* module decorator */ module = __webpack_require__.nmd(module);\nvar freeGlobal = __webpack_require__(/*! ./_freeGlobal */ \"../node_modules/lodash/_freeGlobal.js\");\n\n/** Detect free variable `exports`. */\nvar freeExports =  true && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && \"object\" == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fbm9kZVV0aWwuanMiLCJtYXBwaW5ncyI6IjtBQUFBLGlCQUFpQixtQkFBTyxDQUFDLDREQUFlOztBQUV4QztBQUNBLGtCQUFrQixLQUEwQjs7QUFFNUM7QUFDQSxnQ0FBZ0MsUUFBYTs7QUFFN0M7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osQ0FBQzs7QUFFRCIsInNvdXJjZXMiOlsid2VicGFjazovL2NhbXVuZGEtbW9kZWxlci1jbGllbnQvLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fbm9kZVV0aWwuanM/MGUxYSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZnJlZUdsb2JhbCA9IHJlcXVpcmUoJy4vX2ZyZWVHbG9iYWwnKTtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBleHBvcnRzYC4gKi9cbnZhciBmcmVlRXhwb3J0cyA9IHR5cGVvZiBleHBvcnRzID09ICdvYmplY3QnICYmIGV4cG9ydHMgJiYgIWV4cG9ydHMubm9kZVR5cGUgJiYgZXhwb3J0cztcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBtb2R1bGVgLiAqL1xudmFyIGZyZWVNb2R1bGUgPSBmcmVlRXhwb3J0cyAmJiB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZSAmJiAhbW9kdWxlLm5vZGVUeXBlICYmIG1vZHVsZTtcblxuLyoqIERldGVjdCB0aGUgcG9wdWxhciBDb21tb25KUyBleHRlbnNpb24gYG1vZHVsZS5leHBvcnRzYC4gKi9cbnZhciBtb2R1bGVFeHBvcnRzID0gZnJlZU1vZHVsZSAmJiBmcmVlTW9kdWxlLmV4cG9ydHMgPT09IGZyZWVFeHBvcnRzO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHByb2Nlc3NgIGZyb20gTm9kZS5qcy4gKi9cbnZhciBmcmVlUHJvY2VzcyA9IG1vZHVsZUV4cG9ydHMgJiYgZnJlZUdsb2JhbC5wcm9jZXNzO1xuXG4vKiogVXNlZCB0byBhY2Nlc3MgZmFzdGVyIE5vZGUuanMgaGVscGVycy4gKi9cbnZhciBub2RlVXRpbCA9IChmdW5jdGlvbigpIHtcbiAgdHJ5IHtcbiAgICAvLyBVc2UgYHV0aWwudHlwZXNgIGZvciBOb2RlLmpzIDEwKy5cbiAgICB2YXIgdHlwZXMgPSBmcmVlTW9kdWxlICYmIGZyZWVNb2R1bGUucmVxdWlyZSAmJiBmcmVlTW9kdWxlLnJlcXVpcmUoJ3V0aWwnKS50eXBlcztcblxuICAgIGlmICh0eXBlcykge1xuICAgICAgcmV0dXJuIHR5cGVzO1xuICAgIH1cblxuICAgIC8vIExlZ2FjeSBgcHJvY2Vzcy5iaW5kaW5nKCd1dGlsJylgIGZvciBOb2RlLmpzIDwgMTAuXG4gICAgcmV0dXJuIGZyZWVQcm9jZXNzICYmIGZyZWVQcm9jZXNzLmJpbmRpbmcgJiYgZnJlZVByb2Nlc3MuYmluZGluZygndXRpbCcpO1xuICB9IGNhdGNoIChlKSB7fVxufSgpKTtcblxubW9kdWxlLmV4cG9ydHMgPSBub2RlVXRpbDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../node_modules/lodash/_nodeUtil.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_objectToString.js"
/*!*************************************************!*\
  !*** ../node_modules/lodash/_objectToString.js ***!
  \*************************************************/
(module) {

eval("{/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fb2JqZWN0VG9TdHJpbmcuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEdBQUc7QUFDZCxhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jYW11bmRhLW1vZGVsZXItY2xpZW50Ly4uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX29iamVjdFRvU3RyaW5nLmpzPzFjYjUiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAqIG9mIHZhbHVlcy5cbiAqL1xudmFyIG5hdGl2ZU9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZyB1c2luZyBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBvYmplY3RUb1N0cmluZyh2YWx1ZSkge1xuICByZXR1cm4gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gb2JqZWN0VG9TdHJpbmc7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../node_modules/lodash/_objectToString.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_overArg.js"
/*!******************************************!*\
  !*** ../node_modules/lodash/_overArg.js ***!
  \******************************************/
(module) {

eval("{/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fb3ZlckFyZy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsVUFBVTtBQUNyQixXQUFXLFVBQVU7QUFDckIsYUFBYSxVQUFVO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL2NhbXVuZGEtbW9kZWxlci1jbGllbnQvLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fb3ZlckFyZy5qcz80ODc3Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ3JlYXRlcyBhIHVuYXJ5IGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBpdHMgYXJndW1lbnQgdHJhbnNmb3JtZWQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSB0cmFuc2Zvcm0gVGhlIGFyZ3VtZW50IHRyYW5zZm9ybS5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBvdmVyQXJnKGZ1bmMsIHRyYW5zZm9ybSkge1xuICByZXR1cm4gZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIGZ1bmModHJhbnNmb3JtKGFyZykpO1xuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG92ZXJBcmc7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../node_modules/lodash/_overArg.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_root.js"
/*!***************************************!*\
  !*** ../node_modules/lodash/_root.js ***!
  \***************************************/
(module, __unused_webpack_exports, __webpack_require__) {

eval("{var freeGlobal = __webpack_require__(/*! ./_freeGlobal */ \"../node_modules/lodash/_freeGlobal.js\");\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fcm9vdC5qcyIsIm1hcHBpbmdzIjoiQUFBQSxpQkFBaUIsbUJBQU8sQ0FBQyw0REFBZTs7QUFFeEM7QUFDQTs7QUFFQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2FtdW5kYS1tb2RlbGVyLWNsaWVudC8uLi9ub2RlX21vZHVsZXMvbG9kYXNoL19yb290LmpzP2IzNzUiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGZyZWVHbG9iYWwgPSByZXF1aXJlKCcuL19mcmVlR2xvYmFsJyk7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgc2VsZmAuICovXG52YXIgZnJlZVNlbGYgPSB0eXBlb2Ygc2VsZiA9PSAnb2JqZWN0JyAmJiBzZWxmICYmIHNlbGYuT2JqZWN0ID09PSBPYmplY3QgJiYgc2VsZjtcblxuLyoqIFVzZWQgYXMgYSByZWZlcmVuY2UgdG8gdGhlIGdsb2JhbCBvYmplY3QuICovXG52YXIgcm9vdCA9IGZyZWVHbG9iYWwgfHwgZnJlZVNlbGYgfHwgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblxubW9kdWxlLmV4cG9ydHMgPSByb290O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../node_modules/lodash/_root.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_setCacheAdd.js"
/*!**********************************************!*\
  !*** ../node_modules/lodash/_setCacheAdd.js ***!
  \**********************************************/
(module) {

eval("{/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nmodule.exports = setCacheAdd;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fc2V0Q2FjaGVBZGQuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsR0FBRztBQUNkLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2FtdW5kYS1tb2RlbGVyLWNsaWVudC8uLi9ub2RlX21vZHVsZXMvbG9kYXNoL19zZXRDYWNoZUFkZC5qcz9lMjY4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKiBVc2VkIHRvIHN0YW5kLWluIGZvciBgdW5kZWZpbmVkYCBoYXNoIHZhbHVlcy4gKi9cbnZhciBIQVNIX1VOREVGSU5FRCA9ICdfX2xvZGFzaF9oYXNoX3VuZGVmaW5lZF9fJztcblxuLyoqXG4gKiBBZGRzIGB2YWx1ZWAgdG8gdGhlIGFycmF5IGNhY2hlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBhZGRcbiAqIEBtZW1iZXJPZiBTZXRDYWNoZVxuICogQGFsaWFzIHB1c2hcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNhY2hlLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2FjaGUgaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIHNldENhY2hlQWRkKHZhbHVlKSB7XG4gIHRoaXMuX19kYXRhX18uc2V0KHZhbHVlLCBIQVNIX1VOREVGSU5FRCk7XG4gIHJldHVybiB0aGlzO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNldENhY2hlQWRkO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../node_modules/lodash/_setCacheAdd.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_setCacheHas.js"
/*!**********************************************!*\
  !*** ../node_modules/lodash/_setCacheHas.js ***!
  \**********************************************/
(module) {

eval("{/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nmodule.exports = setCacheHas;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fc2V0Q2FjaGVIYXMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxHQUFHO0FBQ2QsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2FtdW5kYS1tb2RlbGVyLWNsaWVudC8uLi9ub2RlX21vZHVsZXMvbG9kYXNoL19zZXRDYWNoZUhhcy5qcz9lMWFkIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgaW4gdGhlIGFycmF5IGNhY2hlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBTZXRDYWNoZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gc2V0Q2FjaGVIYXModmFsdWUpIHtcbiAgcmV0dXJuIHRoaXMuX19kYXRhX18uaGFzKHZhbHVlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzZXRDYWNoZUhhcztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../node_modules/lodash/_setCacheHas.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_setToArray.js"
/*!*********************************************!*\
  !*** ../node_modules/lodash/_setToArray.js ***!
  \*********************************************/
(module) {

eval("{/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nmodule.exports = setToArray;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fc2V0VG9BcnJheS5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2FtdW5kYS1tb2RlbGVyLWNsaWVudC8uLi9ub2RlX21vZHVsZXMvbG9kYXNoL19zZXRUb0FycmF5LmpzPzM4NWYiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb252ZXJ0cyBgc2V0YCB0byBhbiBhcnJheSBvZiBpdHMgdmFsdWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gc2V0IFRoZSBzZXQgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgdmFsdWVzLlxuICovXG5mdW5jdGlvbiBzZXRUb0FycmF5KHNldCkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIHJlc3VsdCA9IEFycmF5KHNldC5zaXplKTtcblxuICBzZXQuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJlc3VsdFsrK2luZGV4XSA9IHZhbHVlO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzZXRUb0FycmF5O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../node_modules/lodash/_setToArray.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_stackClear.js"
/*!*********************************************!*\
  !*** ../node_modules/lodash/_stackClear.js ***!
  \*********************************************/
(module, __unused_webpack_exports, __webpack_require__) {

eval("{var ListCache = __webpack_require__(/*! ./_ListCache */ \"../node_modules/lodash/_ListCache.js\");\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nmodule.exports = stackClear;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fc3RhY2tDbGVhci5qcyIsIm1hcHBpbmdzIjoiQUFBQSxnQkFBZ0IsbUJBQU8sQ0FBQywwREFBYzs7QUFFdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL2NhbXVuZGEtbW9kZWxlci1jbGllbnQvLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fc3RhY2tDbGVhci5qcz83YjUxIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBMaXN0Q2FjaGUgPSByZXF1aXJlKCcuL19MaXN0Q2FjaGUnKTtcblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBzdGFjay5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBTdGFja1xuICovXG5mdW5jdGlvbiBzdGFja0NsZWFyKCkge1xuICB0aGlzLl9fZGF0YV9fID0gbmV3IExpc3RDYWNoZTtcbiAgdGhpcy5zaXplID0gMDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzdGFja0NsZWFyO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../node_modules/lodash/_stackClear.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_stackDelete.js"
/*!**********************************************!*\
  !*** ../node_modules/lodash/_stackDelete.js ***!
  \**********************************************/
(module) {

eval("{/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nmodule.exports = stackDelete;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fc3RhY2tEZWxldGUuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jYW11bmRhLW1vZGVsZXItY2xpZW50Ly4uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX3N0YWNrRGVsZXRlLmpzP2NjNGIiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgc3RhY2suXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIFN0YWNrXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gc3RhY2tEZWxldGUoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgIHJlc3VsdCA9IGRhdGFbJ2RlbGV0ZSddKGtleSk7XG5cbiAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHN0YWNrRGVsZXRlO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../node_modules/lodash/_stackDelete.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_stackGet.js"
/*!*******************************************!*\
  !*** ../node_modules/lodash/_stackGet.js ***!
  \*******************************************/
(module) {

eval("{/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nmodule.exports = stackGet;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fc3RhY2tHZXQuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLGFBQWEsR0FBRztBQUNoQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL2NhbXVuZGEtbW9kZWxlci1jbGllbnQvLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fc3RhY2tHZXQuanM/MGExOSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEdldHMgdGhlIHN0YWNrIHZhbHVlIGZvciBga2V5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZ2V0XG4gKiBAbWVtYmVyT2YgU3RhY2tcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBzdGFja0dldChrZXkpIHtcbiAgcmV0dXJuIHRoaXMuX19kYXRhX18uZ2V0KGtleSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc3RhY2tHZXQ7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../node_modules/lodash/_stackGet.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_stackHas.js"
/*!*******************************************!*\
  !*** ../node_modules/lodash/_stackHas.js ***!
  \*******************************************/
(module) {

eval("{/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nmodule.exports = stackHas;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fc3RhY2tIYXMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL2NhbXVuZGEtbW9kZWxlci1jbGllbnQvLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fc3RhY2tIYXMuanM/MDA5MyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENoZWNrcyBpZiBhIHN0YWNrIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIFN0YWNrXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gc3RhY2tIYXMoa2V5KSB7XG4gIHJldHVybiB0aGlzLl9fZGF0YV9fLmhhcyhrZXkpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHN0YWNrSGFzO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../node_modules/lodash/_stackHas.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_stackSet.js"
/*!*******************************************!*\
  !*** ../node_modules/lodash/_stackSet.js ***!
  \*******************************************/
(module, __unused_webpack_exports, __webpack_require__) {

eval("{var ListCache = __webpack_require__(/*! ./_ListCache */ \"../node_modules/lodash/_ListCache.js\"),\n    Map = __webpack_require__(/*! ./_Map */ \"../node_modules/lodash/_Map.js\"),\n    MapCache = __webpack_require__(/*! ./_MapCache */ \"../node_modules/lodash/_MapCache.js\");\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nmodule.exports = stackSet;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fc3RhY2tTZXQuanMiLCJtYXBwaW5ncyI6IkFBQUEsZ0JBQWdCLG1CQUFPLENBQUMsMERBQWM7QUFDdEMsVUFBVSxtQkFBTyxDQUFDLDhDQUFRO0FBQzFCLGVBQWUsbUJBQU8sQ0FBQyx3REFBYTs7QUFFcEM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxHQUFHO0FBQ2QsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2FtdW5kYS1tb2RlbGVyLWNsaWVudC8uLi9ub2RlX21vZHVsZXMvbG9kYXNoL19zdGFja1NldC5qcz85MDI0Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBMaXN0Q2FjaGUgPSByZXF1aXJlKCcuL19MaXN0Q2FjaGUnKSxcbiAgICBNYXAgPSByZXF1aXJlKCcuL19NYXAnKSxcbiAgICBNYXBDYWNoZSA9IHJlcXVpcmUoJy4vX01hcENhY2hlJyk7XG5cbi8qKiBVc2VkIGFzIHRoZSBzaXplIHRvIGVuYWJsZSBsYXJnZSBhcnJheSBvcHRpbWl6YXRpb25zLiAqL1xudmFyIExBUkdFX0FSUkFZX1NJWkUgPSAyMDA7XG5cbi8qKlxuICogU2V0cyB0aGUgc3RhY2sgYGtleWAgdG8gYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgc2V0XG4gKiBAbWVtYmVyT2YgU3RhY2tcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgc3RhY2sgY2FjaGUgaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIHN0YWNrU2V0KGtleSwgdmFsdWUpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICBpZiAoZGF0YSBpbnN0YW5jZW9mIExpc3RDYWNoZSkge1xuICAgIHZhciBwYWlycyA9IGRhdGEuX19kYXRhX187XG4gICAgaWYgKCFNYXAgfHwgKHBhaXJzLmxlbmd0aCA8IExBUkdFX0FSUkFZX1NJWkUgLSAxKSkge1xuICAgICAgcGFpcnMucHVzaChba2V5LCB2YWx1ZV0pO1xuICAgICAgdGhpcy5zaXplID0gKytkYXRhLnNpemU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZGF0YSA9IHRoaXMuX19kYXRhX18gPSBuZXcgTWFwQ2FjaGUocGFpcnMpO1xuICB9XG4gIGRhdGEuc2V0KGtleSwgdmFsdWUpO1xuICB0aGlzLnNpemUgPSBkYXRhLnNpemU7XG4gIHJldHVybiB0aGlzO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHN0YWNrU2V0O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../node_modules/lodash/_stackSet.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/_toSource.js"
/*!*******************************************!*\
  !*** ../node_modules/lodash/_toSource.js ***!
  \*******************************************/
(module) {

eval("{/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fdG9Tb3VyY2UuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxVQUFVO0FBQ3JCLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2FtdW5kYS1tb2RlbGVyLWNsaWVudC8uLi9ub2RlX21vZHVsZXMvbG9kYXNoL190b1NvdXJjZS5qcz82YzRlIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBmdW5jUHJvdG8gPSBGdW5jdGlvbi5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIHJlc29sdmUgdGhlIGRlY29tcGlsZWQgc291cmNlIG9mIGZ1bmN0aW9ucy4gKi9cbnZhciBmdW5jVG9TdHJpbmcgPSBmdW5jUHJvdG8udG9TdHJpbmc7XG5cbi8qKlxuICogQ29udmVydHMgYGZ1bmNgIHRvIGl0cyBzb3VyY2UgY29kZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHNvdXJjZSBjb2RlLlxuICovXG5mdW5jdGlvbiB0b1NvdXJjZShmdW5jKSB7XG4gIGlmIChmdW5jICE9IG51bGwpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGZ1bmNUb1N0cmluZy5jYWxsKGZ1bmMpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiAoZnVuYyArICcnKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICB9XG4gIHJldHVybiAnJztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB0b1NvdXJjZTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../node_modules/lodash/_toSource.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/eq.js"
/*!************************************!*\
  !*** ../node_modules/lodash/eq.js ***!
  \************************************/
(module) {

eval("{/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9lcS5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEdBQUc7QUFDZCxXQUFXLEdBQUc7QUFDZCxhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jYW11bmRhLW1vZGVsZXItY2xpZW50Ly4uL25vZGVfbW9kdWxlcy9sb2Rhc2gvZXEuanM/NzQ4NiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFBlcmZvcm1zIGFcbiAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gKiBjb21wYXJpc29uIGJldHdlZW4gdHdvIHZhbHVlcyB0byBkZXRlcm1pbmUgaWYgdGhleSBhcmUgZXF1aXZhbGVudC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEgfTtcbiAqIHZhciBvdGhlciA9IHsgJ2EnOiAxIH07XG4gKlxuICogXy5lcShvYmplY3QsIG9iamVjdCk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5lcShvYmplY3QsIG90aGVyKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5lcSgnYScsICdhJyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5lcSgnYScsIE9iamVjdCgnYScpKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5lcShOYU4sIE5hTik7XG4gKiAvLyA9PiB0cnVlXG4gKi9cbmZ1bmN0aW9uIGVxKHZhbHVlLCBvdGhlcikge1xuICByZXR1cm4gdmFsdWUgPT09IG90aGVyIHx8ICh2YWx1ZSAhPT0gdmFsdWUgJiYgb3RoZXIgIT09IG90aGVyKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBlcTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../node_modules/lodash/eq.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/isArguments.js"
/*!*********************************************!*\
  !*** ../node_modules/lodash/isArguments.js ***!
  \*********************************************/
(module, __unused_webpack_exports, __webpack_require__) {

eval("{var baseIsArguments = __webpack_require__(/*! ./_baseIsArguments */ \"../node_modules/lodash/_baseIsArguments.js\"),\n    isObjectLike = __webpack_require__(/*! ./isObjectLike */ \"../node_modules/lodash/isObjectLike.js\");\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9pc0FyZ3VtZW50cy5qcyIsIm1hcHBpbmdzIjoiQUFBQSxzQkFBc0IsbUJBQU8sQ0FBQyxzRUFBb0I7QUFDbEQsbUJBQW1CLG1CQUFPLENBQUMsOERBQWdCOztBQUUzQztBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsR0FBRztBQUNkLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsbUJBQW1CO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0MsbUJBQW1CO0FBQ2xFO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL2NhbXVuZGEtbW9kZWxlci1jbGllbnQvLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9pc0FyZ3VtZW50cy5qcz85NThiIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBiYXNlSXNBcmd1bWVudHMgPSByZXF1aXJlKCcuL19iYXNlSXNBcmd1bWVudHMnKSxcbiAgICBpc09iamVjdExpa2UgPSByZXF1aXJlKCcuL2lzT2JqZWN0TGlrZScpO1xuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBwcm9wZXJ0eUlzRW51bWVyYWJsZSA9IG9iamVjdFByb3RvLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxpa2VseSBhbiBgYXJndW1lbnRzYCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LFxuICogIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FyZ3VtZW50cyhmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJndW1lbnRzKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG52YXIgaXNBcmd1bWVudHMgPSBiYXNlSXNBcmd1bWVudHMoZnVuY3Rpb24oKSB7IHJldHVybiBhcmd1bWVudHM7IH0oKSkgPyBiYXNlSXNBcmd1bWVudHMgOiBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCAnY2FsbGVlJykgJiZcbiAgICAhcHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh2YWx1ZSwgJ2NhbGxlZScpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBpc0FyZ3VtZW50cztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../node_modules/lodash/isArguments.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/isArray.js"
/*!*****************************************!*\
  !*** ../node_modules/lodash/isArray.js ***!
  \*****************************************/
(module) {

eval("{/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9pc0FycmF5LmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxHQUFHO0FBQ2QsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL2NhbXVuZGEtbW9kZWxlci1jbGllbnQvLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9pc0FycmF5LmpzPzNlYTkiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGFuIGBBcnJheWAgb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNBcnJheShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheShkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0FycmF5KCdhYmMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0FycmF5KF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5cbm1vZHVsZS5leHBvcnRzID0gaXNBcnJheTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../node_modules/lodash/isArray.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/isArrayLike.js"
/*!*********************************************!*\
  !*** ../node_modules/lodash/isArrayLike.js ***!
  \*********************************************/
(module, __unused_webpack_exports, __webpack_require__) {

eval("{var isFunction = __webpack_require__(/*! ./isFunction */ \"../node_modules/lodash/isFunction.js\"),\n    isLength = __webpack_require__(/*! ./isLength */ \"../node_modules/lodash/isLength.js\");\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9pc0FycmF5TGlrZS5qcyIsIm1hcHBpbmdzIjoiQUFBQSxpQkFBaUIsbUJBQU8sQ0FBQywwREFBYztBQUN2QyxlQUFlLG1CQUFPLENBQUMsc0RBQVk7O0FBRW5DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsR0FBRztBQUNkLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2FtdW5kYS1tb2RlbGVyLWNsaWVudC8uLi9ub2RlX21vZHVsZXMvbG9kYXNoL2lzQXJyYXlMaWtlLmpzPzRiMjAiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGlzRnVuY3Rpb24gPSByZXF1aXJlKCcuL2lzRnVuY3Rpb24nKSxcbiAgICBpc0xlbmd0aCA9IHJlcXVpcmUoJy4vaXNMZW5ndGgnKTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhcnJheS1saWtlLiBBIHZhbHVlIGlzIGNvbnNpZGVyZWQgYXJyYXktbGlrZSBpZiBpdCdzXG4gKiBub3QgYSBmdW5jdGlvbiBhbmQgaGFzIGEgYHZhbHVlLmxlbmd0aGAgdGhhdCdzIGFuIGludGVnZXIgZ3JlYXRlciB0aGFuIG9yXG4gKiBlcXVhbCB0byBgMGAgYW5kIGxlc3MgdGhhbiBvciBlcXVhbCB0byBgTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVJgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFycmF5LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FycmF5TGlrZShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZSgnYWJjJyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcnJheUxpa2UodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgaXNMZW5ndGgodmFsdWUubGVuZ3RoKSAmJiAhaXNGdW5jdGlvbih2YWx1ZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNBcnJheUxpa2U7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../node_modules/lodash/isArrayLike.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/isBuffer.js"
/*!******************************************!*\
  !*** ../node_modules/lodash/isBuffer.js ***!
  \******************************************/
(module, exports, __webpack_require__) {

eval("{/* module decorator */ module = __webpack_require__.nmd(module);\nvar root = __webpack_require__(/*! ./_root */ \"../node_modules/lodash/_root.js\"),\n    stubFalse = __webpack_require__(/*! ./stubFalse */ \"../node_modules/lodash/stubFalse.js\");\n\n/** Detect free variable `exports`. */\nvar freeExports =  true && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && \"object\" == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9pc0J1ZmZlci5qcyIsIm1hcHBpbmdzIjoiO0FBQUEsV0FBVyxtQkFBTyxDQUFDLGdEQUFTO0FBQzVCLGdCQUFnQixtQkFBTyxDQUFDLHdEQUFhOztBQUVyQztBQUNBLGtCQUFrQixLQUEwQjs7QUFFNUM7QUFDQSxnQ0FBZ0MsUUFBYTs7QUFFN0M7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEdBQUc7QUFDZCxhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2FtdW5kYS1tb2RlbGVyLWNsaWVudC8uLi9ub2RlX21vZHVsZXMvbG9kYXNoL2lzQnVmZmVyLmpzP2I1ZjgiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIHJvb3QgPSByZXF1aXJlKCcuL19yb290JyksXG4gICAgc3R1YkZhbHNlID0gcmVxdWlyZSgnLi9zdHViRmFsc2UnKTtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBleHBvcnRzYC4gKi9cbnZhciBmcmVlRXhwb3J0cyA9IHR5cGVvZiBleHBvcnRzID09ICdvYmplY3QnICYmIGV4cG9ydHMgJiYgIWV4cG9ydHMubm9kZVR5cGUgJiYgZXhwb3J0cztcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBtb2R1bGVgLiAqL1xudmFyIGZyZWVNb2R1bGUgPSBmcmVlRXhwb3J0cyAmJiB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZSAmJiAhbW9kdWxlLm5vZGVUeXBlICYmIG1vZHVsZTtcblxuLyoqIERldGVjdCB0aGUgcG9wdWxhciBDb21tb25KUyBleHRlbnNpb24gYG1vZHVsZS5leHBvcnRzYC4gKi9cbnZhciBtb2R1bGVFeHBvcnRzID0gZnJlZU1vZHVsZSAmJiBmcmVlTW9kdWxlLmV4cG9ydHMgPT09IGZyZWVFeHBvcnRzO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBCdWZmZXIgPSBtb2R1bGVFeHBvcnRzID8gcm9vdC5CdWZmZXIgOiB1bmRlZmluZWQ7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cbnZhciBuYXRpdmVJc0J1ZmZlciA9IEJ1ZmZlciA/IEJ1ZmZlci5pc0J1ZmZlciA6IHVuZGVmaW5lZDtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIGJ1ZmZlci5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMy4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGJ1ZmZlciwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQnVmZmVyKG5ldyBCdWZmZXIoMikpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNCdWZmZXIobmV3IFVpbnQ4QXJyYXkoMikpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xudmFyIGlzQnVmZmVyID0gbmF0aXZlSXNCdWZmZXIgfHwgc3R1YkZhbHNlO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGlzQnVmZmVyO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../node_modules/lodash/isBuffer.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/isEqual.js"
/*!*****************************************!*\
  !*** ../node_modules/lodash/isEqual.js ***!
  \*****************************************/
(module, __unused_webpack_exports, __webpack_require__) {

eval("{var baseIsEqual = __webpack_require__(/*! ./_baseIsEqual */ \"../node_modules/lodash/_baseIsEqual.js\");\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\nmodule.exports = isEqual;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9pc0VxdWFsLmpzIiwibWFwcGluZ3MiOiJBQUFBLGtCQUFrQixtQkFBTyxDQUFDLDhEQUFnQjs7QUFFMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsR0FBRztBQUNkLFdBQVcsR0FBRztBQUNkLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL2NhbXVuZGEtbW9kZWxlci1jbGllbnQvLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9pc0VxdWFsLmpzP2ZlMDciXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGJhc2VJc0VxdWFsID0gcmVxdWlyZSgnLi9fYmFzZUlzRXF1YWwnKTtcblxuLyoqXG4gKiBQZXJmb3JtcyBhIGRlZXAgY29tcGFyaXNvbiBiZXR3ZWVuIHR3byB2YWx1ZXMgdG8gZGV0ZXJtaW5lIGlmIHRoZXkgYXJlXG4gKiBlcXVpdmFsZW50LlxuICpcbiAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBzdXBwb3J0cyBjb21wYXJpbmcgYXJyYXlzLCBhcnJheSBidWZmZXJzLCBib29sZWFucyxcbiAqIGRhdGUgb2JqZWN0cywgZXJyb3Igb2JqZWN0cywgbWFwcywgbnVtYmVycywgYE9iamVjdGAgb2JqZWN0cywgcmVnZXhlcyxcbiAqIHNldHMsIHN0cmluZ3MsIHN5bWJvbHMsIGFuZCB0eXBlZCBhcnJheXMuIGBPYmplY3RgIG9iamVjdHMgYXJlIGNvbXBhcmVkXG4gKiBieSB0aGVpciBvd24sIG5vdCBpbmhlcml0ZWQsIGVudW1lcmFibGUgcHJvcGVydGllcy4gRnVuY3Rpb25zIGFuZCBET01cbiAqIG5vZGVzIGFyZSBjb21wYXJlZCBieSBzdHJpY3QgZXF1YWxpdHksIGkuZS4gYD09PWAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gKiB2YXIgb3RoZXIgPSB7ICdhJzogMSB9O1xuICpcbiAqIF8uaXNFcXVhbChvYmplY3QsIG90aGVyKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBvYmplY3QgPT09IG90aGVyO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNFcXVhbCh2YWx1ZSwgb3RoZXIpIHtcbiAgcmV0dXJuIGJhc2VJc0VxdWFsKHZhbHVlLCBvdGhlcik7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNFcXVhbDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../node_modules/lodash/isEqual.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/isFunction.js"
/*!********************************************!*\
  !*** ../node_modules/lodash/isFunction.js ***!
  \********************************************/
(module, __unused_webpack_exports, __webpack_require__) {

eval("{var baseGetTag = __webpack_require__(/*! ./_baseGetTag */ \"../node_modules/lodash/_baseGetTag.js\"),\n    isObject = __webpack_require__(/*! ./isObject */ \"../node_modules/lodash/isObject.js\");\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9pc0Z1bmN0aW9uLmpzIiwibWFwcGluZ3MiOiJBQUFBLGlCQUFpQixtQkFBTyxDQUFDLDREQUFlO0FBQ3hDLGVBQWUsbUJBQU8sQ0FBQyxzREFBWTs7QUFFbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsR0FBRztBQUNkLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2FtdW5kYS1tb2RlbGVyLWNsaWVudC8uLi9ub2RlX21vZHVsZXMvbG9kYXNoL2lzRnVuY3Rpb24uanM/NDZhMyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgYmFzZUdldFRhZyA9IHJlcXVpcmUoJy4vX2Jhc2VHZXRUYWcnKSxcbiAgICBpc09iamVjdCA9IHJlcXVpcmUoJy4vaXNPYmplY3QnKTtcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIGFzeW5jVGFnID0gJ1tvYmplY3QgQXN5bmNGdW5jdGlvbl0nLFxuICAgIGZ1bmNUYWcgPSAnW29iamVjdCBGdW5jdGlvbl0nLFxuICAgIGdlblRhZyA9ICdbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXScsXG4gICAgcHJveHlUYWcgPSAnW29iamVjdCBQcm94eV0nO1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgRnVuY3Rpb25gIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGZ1bmN0aW9uLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNGdW5jdGlvbihfKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzRnVuY3Rpb24oL2FiYy8pO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNGdW5jdGlvbih2YWx1ZSkge1xuICBpZiAoIWlzT2JqZWN0KHZhbHVlKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICAvLyBUaGUgdXNlIG9mIGBPYmplY3QjdG9TdHJpbmdgIGF2b2lkcyBpc3N1ZXMgd2l0aCB0aGUgYHR5cGVvZmAgb3BlcmF0b3JcbiAgLy8gaW4gU2FmYXJpIDkgd2hpY2ggcmV0dXJucyAnb2JqZWN0JyBmb3IgdHlwZWQgYXJyYXlzIGFuZCBvdGhlciBjb25zdHJ1Y3RvcnMuXG4gIHZhciB0YWcgPSBiYXNlR2V0VGFnKHZhbHVlKTtcbiAgcmV0dXJuIHRhZyA9PSBmdW5jVGFnIHx8IHRhZyA9PSBnZW5UYWcgfHwgdGFnID09IGFzeW5jVGFnIHx8IHRhZyA9PSBwcm94eVRhZztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc0Z1bmN0aW9uO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../node_modules/lodash/isFunction.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/isLength.js"
/*!******************************************!*\
  !*** ../node_modules/lodash/isLength.js ***!
  \******************************************/
(module) {

eval("{/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9pc0xlbmd0aC5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxHQUFHO0FBQ2QsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL2NhbXVuZGEtbW9kZWxlci1jbGllbnQvLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9pc0xlbmd0aC5qcz83MjQ1Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKiBVc2VkIGFzIHJlZmVyZW5jZXMgZm9yIHZhcmlvdXMgYE51bWJlcmAgY29uc3RhbnRzLiAqL1xudmFyIE1BWF9TQUZFX0lOVEVHRVIgPSA5MDA3MTk5MjU0NzQwOTkxO1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBsZW5ndGguXG4gKlxuICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGxvb3NlbHkgYmFzZWQgb25cbiAqIFtgVG9MZW5ndGhgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy10b2xlbmd0aCkuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBsZW5ndGgsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0xlbmd0aCgzKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzTGVuZ3RoKE51bWJlci5NSU5fVkFMVUUpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzTGVuZ3RoKEluZmluaXR5KTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0xlbmd0aCgnMycpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNMZW5ndGgodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyAmJlxuICAgIHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPD0gTUFYX1NBRkVfSU5URUdFUjtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc0xlbmd0aDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../node_modules/lodash/isLength.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/isObject.js"
/*!******************************************!*\
  !*** ../node_modules/lodash/isObject.js ***!
  \******************************************/
(module) {

eval("{/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9pc09iamVjdC5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEdBQUc7QUFDZCxhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jYW11bmRhLW1vZGVsZXItY2xpZW50Ly4uL25vZGVfbW9kdWxlcy9sb2Rhc2gvaXNPYmplY3QuanM/ZjVhNSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHRoZVxuICogW2xhbmd1YWdlIHR5cGVdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1lY21hc2NyaXB0LWxhbmd1YWdlLXR5cGVzKVxuICogb2YgYE9iamVjdGAuIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0KHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChfLm5vb3ApO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgKHR5cGUgPT0gJ29iamVjdCcgfHwgdHlwZSA9PSAnZnVuY3Rpb24nKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc09iamVjdDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../node_modules/lodash/isObject.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/isObjectLike.js"
/*!**********************************************!*\
  !*** ../node_modules/lodash/isObjectLike.js ***!
  \**********************************************/
(module) {

eval("{/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9pc09iamVjdExpa2UuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsR0FBRztBQUNkLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jYW11bmRhLW1vZGVsZXItY2xpZW50Ly4uL25vZGVfbW9kdWxlcy9sb2Rhc2gvaXNPYmplY3RMaWtlLmpzPzRmZDUiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZSh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNPYmplY3RMaWtlO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../node_modules/lodash/isObjectLike.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/isTypedArray.js"
/*!**********************************************!*\
  !*** ../node_modules/lodash/isTypedArray.js ***!
  \**********************************************/
(module, __unused_webpack_exports, __webpack_require__) {

eval("{var baseIsTypedArray = __webpack_require__(/*! ./_baseIsTypedArray */ \"../node_modules/lodash/_baseIsTypedArray.js\"),\n    baseUnary = __webpack_require__(/*! ./_baseUnary */ \"../node_modules/lodash/_baseUnary.js\"),\n    nodeUtil = __webpack_require__(/*! ./_nodeUtil */ \"../node_modules/lodash/_nodeUtil.js\");\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9pc1R5cGVkQXJyYXkuanMiLCJtYXBwaW5ncyI6IkFBQUEsdUJBQXVCLG1CQUFPLENBQUMsd0VBQXFCO0FBQ3BELGdCQUFnQixtQkFBTyxDQUFDLDBEQUFjO0FBQ3RDLGVBQWUsbUJBQU8sQ0FBQyx3REFBYTs7QUFFcEM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsR0FBRztBQUNkLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jYW11bmRhLW1vZGVsZXItY2xpZW50Ly4uL25vZGVfbW9kdWxlcy9sb2Rhc2gvaXNUeXBlZEFycmF5LmpzP2RlNDUiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGJhc2VJc1R5cGVkQXJyYXkgPSByZXF1aXJlKCcuL19iYXNlSXNUeXBlZEFycmF5JyksXG4gICAgYmFzZVVuYXJ5ID0gcmVxdWlyZSgnLi9fYmFzZVVuYXJ5JyksXG4gICAgbm9kZVV0aWwgPSByZXF1aXJlKCcuL19ub2RlVXRpbCcpO1xuXG4vKiBOb2RlLmpzIGhlbHBlciByZWZlcmVuY2VzLiAqL1xudmFyIG5vZGVJc1R5cGVkQXJyYXkgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc1R5cGVkQXJyYXk7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIHR5cGVkIGFycmF5LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMy4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdHlwZWQgYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc1R5cGVkQXJyYXkobmV3IFVpbnQ4QXJyYXkpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNUeXBlZEFycmF5KFtdKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc1R5cGVkQXJyYXkgPSBub2RlSXNUeXBlZEFycmF5ID8gYmFzZVVuYXJ5KG5vZGVJc1R5cGVkQXJyYXkpIDogYmFzZUlzVHlwZWRBcnJheTtcblxubW9kdWxlLmV4cG9ydHMgPSBpc1R5cGVkQXJyYXk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../node_modules/lodash/isTypedArray.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/keys.js"
/*!**************************************!*\
  !*** ../node_modules/lodash/keys.js ***!
  \**************************************/
(module, __unused_webpack_exports, __webpack_require__) {

eval("{var arrayLikeKeys = __webpack_require__(/*! ./_arrayLikeKeys */ \"../node_modules/lodash/_arrayLikeKeys.js\"),\n    baseKeys = __webpack_require__(/*! ./_baseKeys */ \"../node_modules/lodash/_baseKeys.js\"),\n    isArrayLike = __webpack_require__(/*! ./isArrayLike */ \"../node_modules/lodash/isArrayLike.js\");\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = keys;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9rZXlzLmpzIiwibWFwcGluZ3MiOiJBQUFBLG9CQUFvQixtQkFBTyxDQUFDLGtFQUFrQjtBQUM5QyxlQUFlLG1CQUFPLENBQUMsd0RBQWE7QUFDcEMsa0JBQWtCLG1CQUFPLENBQUMsNERBQWU7O0FBRXpDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL2NhbXVuZGEtbW9kZWxlci1jbGllbnQvLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9rZXlzLmpzPzg3NDYiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGFycmF5TGlrZUtleXMgPSByZXF1aXJlKCcuL19hcnJheUxpa2VLZXlzJyksXG4gICAgYmFzZUtleXMgPSByZXF1aXJlKCcuL19iYXNlS2V5cycpLFxuICAgIGlzQXJyYXlMaWtlID0gcmVxdWlyZSgnLi9pc0FycmF5TGlrZScpO1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIGBvYmplY3RgLlxuICpcbiAqICoqTm90ZToqKiBOb24tb2JqZWN0IHZhbHVlcyBhcmUgY29lcmNlZCB0byBvYmplY3RzLiBTZWUgdGhlXG4gKiBbRVMgc3BlY10oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LmtleXMpXG4gKiBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBzaW5jZSAwLjEuMFxuICogQG1lbWJlck9mIF9cbiAqIEBjYXRlZ29yeSBPYmplY3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gKiBAZXhhbXBsZVxuICpcbiAqIGZ1bmN0aW9uIEZvbygpIHtcbiAqICAgdGhpcy5hID0gMTtcbiAqICAgdGhpcy5iID0gMjtcbiAqIH1cbiAqXG4gKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICpcbiAqIF8ua2V5cyhuZXcgRm9vKTtcbiAqIC8vID0+IFsnYScsICdiJ10gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAqXG4gKiBfLmtleXMoJ2hpJyk7XG4gKiAvLyA9PiBbJzAnLCAnMSddXG4gKi9cbmZ1bmN0aW9uIGtleXMob2JqZWN0KSB7XG4gIHJldHVybiBpc0FycmF5TGlrZShvYmplY3QpID8gYXJyYXlMaWtlS2V5cyhvYmplY3QpIDogYmFzZUtleXMob2JqZWN0KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBrZXlzO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../node_modules/lodash/keys.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/stubArray.js"
/*!*******************************************!*\
  !*** ../node_modules/lodash/stubArray.js ***!
  \*******************************************/
(module) {

eval("{/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nmodule.exports = stubArray;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9zdHViQXJyYXkuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jYW11bmRhLW1vZGVsZXItY2xpZW50Ly4uL25vZGVfbW9kdWxlcy9sb2Rhc2gvc3R1YkFycmF5LmpzPzEzYjUiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBUaGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGVtcHR5IGFycmF5LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4xMy4wXG4gKiBAY2F0ZWdvcnkgVXRpbFxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZW1wdHkgYXJyYXkuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBhcnJheXMgPSBfLnRpbWVzKDIsIF8uc3R1YkFycmF5KTtcbiAqXG4gKiBjb25zb2xlLmxvZyhhcnJheXMpO1xuICogLy8gPT4gW1tdLCBbXV1cbiAqXG4gKiBjb25zb2xlLmxvZyhhcnJheXNbMF0gPT09IGFycmF5c1sxXSk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBzdHViQXJyYXkoKSB7XG4gIHJldHVybiBbXTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzdHViQXJyYXk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../node_modules/lodash/stubArray.js\n\n}");

/***/ },

/***/ "../node_modules/lodash/stubFalse.js"
/*!*******************************************!*\
  !*** ../node_modules/lodash/stubFalse.js ***!
  \*******************************************/
(module) {

eval("{/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9zdHViRmFsc2UuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL2NhbXVuZGEtbW9kZWxlci1jbGllbnQvLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC9zdHViRmFsc2UuanM/ZDVlYyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFRoaXMgbWV0aG9kIHJldHVybnMgYGZhbHNlYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMTMuMFxuICogQGNhdGVnb3J5IFV0aWxcbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8udGltZXMoMiwgXy5zdHViRmFsc2UpO1xuICogLy8gPT4gW2ZhbHNlLCBmYWxzZV1cbiAqL1xuZnVuY3Rpb24gc3R1YkZhbHNlKCkge1xuICByZXR1cm4gZmFsc2U7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc3R1YkZhbHNlO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../node_modules/lodash/stubFalse.js\n\n}");

/***/ },

/***/ "../node_modules/preact/compat/dist/compat.module.js"
/*!***********************************************************!*\
  !*** ../node_modules/preact/compat/dist/compat.module.js ***!
  \***********************************************************/
(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Children: () => (/* binding */ O),\n/* harmony export */   Component: () => (/* reexport safe */ preact__WEBPACK_IMPORTED_MODULE_0__.Component),\n/* harmony export */   Fragment: () => (/* reexport safe */ preact__WEBPACK_IMPORTED_MODULE_0__.Fragment),\n/* harmony export */   PureComponent: () => (/* binding */ N),\n/* harmony export */   StrictMode: () => (/* binding */ Cn),\n/* harmony export */   Suspense: () => (/* binding */ P),\n/* harmony export */   SuspenseList: () => (/* binding */ B),\n/* harmony export */   __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED: () => (/* binding */ hn),\n/* harmony export */   cloneElement: () => (/* binding */ _n),\n/* harmony export */   createContext: () => (/* reexport safe */ preact__WEBPACK_IMPORTED_MODULE_0__.createContext),\n/* harmony export */   createElement: () => (/* reexport safe */ preact__WEBPACK_IMPORTED_MODULE_0__.createElement),\n/* harmony export */   createFactory: () => (/* binding */ dn),\n/* harmony export */   createPortal: () => (/* binding */ $),\n/* harmony export */   createRef: () => (/* reexport safe */ preact__WEBPACK_IMPORTED_MODULE_0__.createRef),\n/* harmony export */   \"default\": () => (/* binding */ xn),\n/* harmony export */   findDOMNode: () => (/* binding */ Sn),\n/* harmony export */   flushSync: () => (/* binding */ En),\n/* harmony export */   forwardRef: () => (/* binding */ D),\n/* harmony export */   hydrate: () => (/* binding */ tn),\n/* harmony export */   isElement: () => (/* binding */ Rn),\n/* harmony export */   isFragment: () => (/* binding */ pn),\n/* harmony export */   isMemo: () => (/* binding */ yn),\n/* harmony export */   isValidElement: () => (/* binding */ mn),\n/* harmony export */   lazy: () => (/* binding */ z),\n/* harmony export */   memo: () => (/* binding */ M),\n/* harmony export */   render: () => (/* binding */ nn),\n/* harmony export */   startTransition: () => (/* binding */ x),\n/* harmony export */   unmountComponentAtNode: () => (/* binding */ bn),\n/* harmony export */   unstable_batchedUpdates: () => (/* binding */ gn),\n/* harmony export */   useCallback: () => (/* reexport safe */ preact_hooks__WEBPACK_IMPORTED_MODULE_1__.useCallback),\n/* harmony export */   useContext: () => (/* reexport safe */ preact_hooks__WEBPACK_IMPORTED_MODULE_1__.useContext),\n/* harmony export */   useDebugValue: () => (/* reexport safe */ preact_hooks__WEBPACK_IMPORTED_MODULE_1__.useDebugValue),\n/* harmony export */   useDeferredValue: () => (/* binding */ w),\n/* harmony export */   useEffect: () => (/* reexport safe */ preact_hooks__WEBPACK_IMPORTED_MODULE_1__.useEffect),\n/* harmony export */   useErrorBoundary: () => (/* reexport safe */ preact_hooks__WEBPACK_IMPORTED_MODULE_1__.useErrorBoundary),\n/* harmony export */   useId: () => (/* reexport safe */ preact_hooks__WEBPACK_IMPORTED_MODULE_1__.useId),\n/* harmony export */   useImperativeHandle: () => (/* reexport safe */ preact_hooks__WEBPACK_IMPORTED_MODULE_1__.useImperativeHandle),\n/* harmony export */   useInsertionEffect: () => (/* binding */ I),\n/* harmony export */   useLayoutEffect: () => (/* reexport safe */ preact_hooks__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect),\n/* harmony export */   useMemo: () => (/* reexport safe */ preact_hooks__WEBPACK_IMPORTED_MODULE_1__.useMemo),\n/* harmony export */   useReducer: () => (/* reexport safe */ preact_hooks__WEBPACK_IMPORTED_MODULE_1__.useReducer),\n/* harmony export */   useRef: () => (/* reexport safe */ preact_hooks__WEBPACK_IMPORTED_MODULE_1__.useRef),\n/* harmony export */   useState: () => (/* reexport safe */ preact_hooks__WEBPACK_IMPORTED_MODULE_1__.useState),\n/* harmony export */   useSyncExternalStore: () => (/* binding */ C),\n/* harmony export */   useTransition: () => (/* binding */ k),\n/* harmony export */   version: () => (/* binding */ vn)\n/* harmony export */ });\n/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ \"../node_modules/preact/dist/preact.module.js\");\n/* harmony import */ var preact_hooks__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! preact/hooks */ \"../node_modules/preact/hooks/dist/hooks.module.js\");\nfunction g(n,t){for(var e in t)n[e]=t[e];return n}function E(n,t){for(var e in n)if(\"__source\"!==e&&!(e in t))return!0;for(var r in t)if(\"__source\"!==r&&n[r]!==t[r])return!0;return!1}function C(n,t){var e=t(),r=(0,preact_hooks__WEBPACK_IMPORTED_MODULE_1__.useState)({t:{__:e,u:t}}),u=r[0].t,o=r[1];return (0,preact_hooks__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect)(function(){u.__=e,u.u=t,R(u)&&o({t:u})},[n,e,t]),(0,preact_hooks__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function(){return R(u)&&o({t:u}),n(function(){R(u)&&o({t:u})})},[n]),e}function R(n){var t,e,r=n.u,u=n.__;try{var o=r();return!((t=u)===(e=o)&&(0!==t||1/t==1/e)||t!=t&&e!=e)}catch(n){return!0}}function x(n){n()}function w(n){return n}function k(){return[!1,x]}var I=preact_hooks__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect;function N(n,t){this.props=n,this.context=t}function M(n,e){function r(n){var t=this.props.ref,r=t==n.ref;return!r&&t&&(t.call?t(null):t.current=null),e?!e(this.props,n)||!r:E(this.props,n)}function u(e){return this.shouldComponentUpdate=r,(0,preact__WEBPACK_IMPORTED_MODULE_0__.createElement)(n,e)}return u.displayName=\"Memo(\"+(n.displayName||n.name)+\")\",u.prototype.isReactComponent=!0,u.__f=!0,u.type=n,u}(N.prototype=new preact__WEBPACK_IMPORTED_MODULE_0__.Component).isPureReactComponent=!0,N.prototype.shouldComponentUpdate=function(n,t){return E(this.props,n)||E(this.state,t)};var T=preact__WEBPACK_IMPORTED_MODULE_0__.options.__b;preact__WEBPACK_IMPORTED_MODULE_0__.options.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),T&&T(n)};var A=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.forward_ref\")||3911;function D(n){function t(t){var e=g({},t);return delete e.ref,n(e,t.ref||null)}return t.$$typeof=A,t.render=n,t.prototype.isReactComponent=t.__f=!0,t.displayName=\"ForwardRef(\"+(n.displayName||n.name)+\")\",t}var L=function(n,t){return null==n?null:(0,preact__WEBPACK_IMPORTED_MODULE_0__.toChildArray)((0,preact__WEBPACK_IMPORTED_MODULE_0__.toChildArray)(n).map(t))},O={map:L,forEach:L,count:function(n){return n?(0,preact__WEBPACK_IMPORTED_MODULE_0__.toChildArray)(n).length:0},only:function(n){var t=(0,preact__WEBPACK_IMPORTED_MODULE_0__.toChildArray)(n);if(1!==t.length)throw\"Children.only\";return t[0]},toArray:preact__WEBPACK_IMPORTED_MODULE_0__.toChildArray},U=preact__WEBPACK_IMPORTED_MODULE_0__.options.__e;preact__WEBPACK_IMPORTED_MODULE_0__.options.__e=function(n,t,e,r){if(n.then)for(var u,o=t;o=o.__;)if((u=o.__c)&&u.__c)return null==t.__e&&(t.__e=e.__e,t.__k=e.__k),u.__c(n,t);U(n,t,e,r)};var F=preact__WEBPACK_IMPORTED_MODULE_0__.options.unmount;function V(n,t,e){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(n){\"function\"==typeof n.__c&&n.__c()}),n.__c.__H=null),null!=(n=g({},n)).__c&&(n.__c.__P===e&&(n.__c.__P=t),n.__c.__e=!0,n.__c=null),n.__k=n.__k&&n.__k.map(function(n){return V(n,t,e)})),n}function W(n,t,e){return n&&e&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(n){return W(n,t,e)}),n.__c&&n.__c.__P===t&&(n.__e&&e.appendChild(n.__e),n.__c.__e=!0,n.__c.__P=e)),n}function P(){this.__u=0,this.o=null,this.__b=null}function j(n){if(!n.__)return null;var t=n.__.__c;return t&&t.__a&&t.__a(n)}function z(n){var e,r,u,o=null;function i(i){if(e||(e=n()).then(function(n){n&&(o=n.default||n),u=!0},function(n){r=n,u=!0}),r)throw r;if(!u)throw e;return o?(0,preact__WEBPACK_IMPORTED_MODULE_0__.createElement)(o,i):null}return i.displayName=\"Lazy\",i.__f=!0,i}function B(){this.i=null,this.l=null}preact__WEBPACK_IMPORTED_MODULE_0__.options.unmount=function(n){var t=n.__c;t&&(t.__z=!0),t&&t.__R&&t.__R(),t&&32&n.__u&&(n.type=null),F&&F(n)},(P.prototype=new preact__WEBPACK_IMPORTED_MODULE_0__.Component).__c=function(n,t){var e=t.__c,r=this;null==r.o&&(r.o=[]),r.o.push(e);var u=j(r.__v),o=!1,i=function(){o||r.__z||(o=!0,e.__R=null,u?u(c):c())};e.__R=i;var l=e.__P;e.__P=null;var c=function(){if(!--r.__u){if(r.state.__a){var n=r.state.__a;r.__v.__k[0]=W(n,n.__c.__P,n.__c.__O)}var t;for(r.setState({__a:r.__b=null});t=r.o.pop();)t.__P=l,t.forceUpdate()}};r.__u++||32&t.__u||r.setState({__a:r.__b=r.__v.__k[0]}),n.then(i,i)},P.prototype.componentWillUnmount=function(){this.o=[]},P.prototype.render=function(n,e){if(this.__b){if(this.__v.__k){var r=document.createElement(\"div\"),o=this.__v.__k[0].__c;this.__v.__k[0]=V(this.__b,r,o.__O=o.__P)}this.__b=null}var i=e.__a&&(0,preact__WEBPACK_IMPORTED_MODULE_0__.createElement)(preact__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,n.fallback);return i&&(i.__u&=-33),[(0,preact__WEBPACK_IMPORTED_MODULE_0__.createElement)(preact__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,e.__a?null:n.children),i]};var H=function(n,t,e){if(++e[1]===e[0]&&n.l.delete(t),n.props.revealOrder&&(\"t\"!==n.props.revealOrder[0]||!n.l.size))for(e=n.i;e;){for(;e.length>3;)e.pop()();if(e[1]<e[0])break;n.i=e=e[2]}};function Z(n){return this.getChildContext=function(){return n.context},n.children}function Y(n){var e=this,r=n.h;if(e.componentWillUnmount=function(){(0,preact__WEBPACK_IMPORTED_MODULE_0__.render)(null,e.v),e.v=null,e.h=null},e.h&&e.h!==r&&e.componentWillUnmount(),!e.v){for(var u=e.__v;null!==u&&!u.__m&&null!==u.__;)u=u.__;e.h=r,e.v={nodeType:1,parentNode:r,childNodes:[],__k:{__m:u.__m},contains:function(){return!0},namespaceURI:r.namespaceURI,insertBefore:function(n,t){this.childNodes.push(n),e.h.insertBefore(n,t)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),e.h.removeChild(n)}}}(0,preact__WEBPACK_IMPORTED_MODULE_0__.render)((0,preact__WEBPACK_IMPORTED_MODULE_0__.createElement)(Z,{context:e.context},n.__v),e.v)}function $(n,e){var r=(0,preact__WEBPACK_IMPORTED_MODULE_0__.createElement)(Y,{__v:n,h:e});return r.containerInfo=e,r}(B.prototype=new preact__WEBPACK_IMPORTED_MODULE_0__.Component).__a=function(n){var t=this,e=j(t.__v),r=t.l.get(n);return r[0]++,function(u){var o=function(){t.props.revealOrder?(r.push(u),H(t,n,r)):u()};e?e(o):o()}},B.prototype.render=function(n){this.i=null,this.l=new Map;var t=(0,preact__WEBPACK_IMPORTED_MODULE_0__.toChildArray)(n.children);n.revealOrder&&\"b\"===n.revealOrder[0]&&t.reverse();for(var e=t.length;e--;)this.l.set(t[e],this.i=[1,0,this.i]);return n.children},B.prototype.componentDidUpdate=B.prototype.componentDidMount=function(){var n=this;this.l.forEach(function(t,e){H(n,e,t)})};var q=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.element\")||60103,G=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,J=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,K=/[A-Z0-9]/g,Q=\"undefined\"!=typeof document,X=function(n){return(\"undefined\"!=typeof Symbol&&\"symbol\"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(n)};function nn(n,t,e){return null==t.__k&&(t.textContent=\"\"),(0,preact__WEBPACK_IMPORTED_MODULE_0__.render)(n,t),\"function\"==typeof e&&e(),n?n.__c:null}function tn(n,t,e){return (0,preact__WEBPACK_IMPORTED_MODULE_0__.hydrate)(n,t),\"function\"==typeof e&&e(),n?n.__c:null}preact__WEBPACK_IMPORTED_MODULE_0__.Component.prototype.isReactComponent={},[\"componentWillMount\",\"componentWillReceiveProps\",\"componentWillUpdate\"].forEach(function(t){Object.defineProperty(preact__WEBPACK_IMPORTED_MODULE_0__.Component.prototype,t,{configurable:!0,get:function(){return this[\"UNSAFE_\"+t]},set:function(n){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:n})}})});var en=preact__WEBPACK_IMPORTED_MODULE_0__.options.event;function rn(){}function un(){return this.cancelBubble}function on(){return this.defaultPrevented}preact__WEBPACK_IMPORTED_MODULE_0__.options.event=function(n){return en&&(n=en(n)),n.persist=rn,n.isPropagationStopped=un,n.isDefaultPrevented=on,n.nativeEvent=n};var ln,cn={enumerable:!1,configurable:!0,get:function(){return this.class}},fn=preact__WEBPACK_IMPORTED_MODULE_0__.options.vnode;preact__WEBPACK_IMPORTED_MODULE_0__.options.vnode=function(n){\"string\"==typeof n.type&&function(n){var t=n.props,e=n.type,u={},o=-1===e.indexOf(\"-\");for(var i in t){var l=t[i];if(!(\"value\"===i&&\"defaultValue\"in t&&null==l||Q&&\"children\"===i&&\"noscript\"===e||\"class\"===i||\"className\"===i)){var c=i.toLowerCase();\"defaultValue\"===i&&\"value\"in t&&null==t.value?i=\"value\":\"download\"===i&&!0===l?l=\"\":\"translate\"===c&&\"no\"===l?l=!1:\"o\"===c[0]&&\"n\"===c[1]?\"ondoubleclick\"===c?i=\"ondblclick\":\"onchange\"!==c||\"input\"!==e&&\"textarea\"!==e||X(t.type)?\"onfocus\"===c?i=\"onfocusin\":\"onblur\"===c?i=\"onfocusout\":J.test(i)&&(i=c):c=i=\"oninput\":o&&G.test(i)?i=i.replace(K,\"-$&\").toLowerCase():null===l&&(l=void 0),\"oninput\"===c&&u[i=c]&&(i=\"oninputCapture\"),u[i]=l}}\"select\"==e&&u.multiple&&Array.isArray(u.value)&&(u.value=(0,preact__WEBPACK_IMPORTED_MODULE_0__.toChildArray)(t.children).forEach(function(n){n.props.selected=-1!=u.value.indexOf(n.props.value)})),\"select\"==e&&null!=u.defaultValue&&(u.value=(0,preact__WEBPACK_IMPORTED_MODULE_0__.toChildArray)(t.children).forEach(function(n){n.props.selected=u.multiple?-1!=u.defaultValue.indexOf(n.props.value):u.defaultValue==n.props.value})),t.class&&!t.className?(u.class=t.class,Object.defineProperty(u,\"className\",cn)):(t.className&&!t.class||t.class&&t.className)&&(u.class=u.className=t.className),n.props=u}(n),n.$$typeof=q,fn&&fn(n)};var an=preact__WEBPACK_IMPORTED_MODULE_0__.options.__r;preact__WEBPACK_IMPORTED_MODULE_0__.options.__r=function(n){an&&an(n),ln=n.__c};var sn=preact__WEBPACK_IMPORTED_MODULE_0__.options.diffed;preact__WEBPACK_IMPORTED_MODULE_0__.options.diffed=function(n){sn&&sn(n);var t=n.props,e=n.__e;null!=e&&\"textarea\"===n.type&&\"value\"in t&&t.value!==e.value&&(e.value=null==t.value?\"\":t.value),ln=null};var hn={ReactCurrentDispatcher:{current:{readContext:function(n){return ln.__n[n.__c].props.value},useCallback:preact_hooks__WEBPACK_IMPORTED_MODULE_1__.useCallback,useContext:preact_hooks__WEBPACK_IMPORTED_MODULE_1__.useContext,useDebugValue:preact_hooks__WEBPACK_IMPORTED_MODULE_1__.useDebugValue,useDeferredValue:w,useEffect:preact_hooks__WEBPACK_IMPORTED_MODULE_1__.useEffect,useId:preact_hooks__WEBPACK_IMPORTED_MODULE_1__.useId,useImperativeHandle:preact_hooks__WEBPACK_IMPORTED_MODULE_1__.useImperativeHandle,useInsertionEffect:I,useLayoutEffect:preact_hooks__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect,useMemo:preact_hooks__WEBPACK_IMPORTED_MODULE_1__.useMemo,useReducer:preact_hooks__WEBPACK_IMPORTED_MODULE_1__.useReducer,useRef:preact_hooks__WEBPACK_IMPORTED_MODULE_1__.useRef,useState:preact_hooks__WEBPACK_IMPORTED_MODULE_1__.useState,useSyncExternalStore:C,useTransition:k}}},vn=\"18.3.1\";function dn(n){return preact__WEBPACK_IMPORTED_MODULE_0__.createElement.bind(null,n)}function mn(n){return!!n&&n.$$typeof===q}function pn(n){return mn(n)&&n.type===preact__WEBPACK_IMPORTED_MODULE_0__.Fragment}function yn(n){return!!n&&!!n.displayName&&(\"string\"==typeof n.displayName||n.displayName instanceof String)&&n.displayName.startsWith(\"Memo(\")}function _n(n){return mn(n)?preact__WEBPACK_IMPORTED_MODULE_0__.cloneElement.apply(null,arguments):n}function bn(n){return!!n.__k&&((0,preact__WEBPACK_IMPORTED_MODULE_0__.render)(null,n),!0)}function Sn(n){return n&&(n.base||1===n.nodeType&&n)||null}var gn=function(n,t){return n(t)},En=function(n,t){return n(t)},Cn=preact__WEBPACK_IMPORTED_MODULE_0__.Fragment,Rn=mn,xn={useState:preact_hooks__WEBPACK_IMPORTED_MODULE_1__.useState,useId:preact_hooks__WEBPACK_IMPORTED_MODULE_1__.useId,useReducer:preact_hooks__WEBPACK_IMPORTED_MODULE_1__.useReducer,useEffect:preact_hooks__WEBPACK_IMPORTED_MODULE_1__.useEffect,useLayoutEffect:preact_hooks__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect,useInsertionEffect:I,useTransition:k,useDeferredValue:w,useSyncExternalStore:C,startTransition:x,useRef:preact_hooks__WEBPACK_IMPORTED_MODULE_1__.useRef,useImperativeHandle:preact_hooks__WEBPACK_IMPORTED_MODULE_1__.useImperativeHandle,useMemo:preact_hooks__WEBPACK_IMPORTED_MODULE_1__.useMemo,useCallback:preact_hooks__WEBPACK_IMPORTED_MODULE_1__.useCallback,useContext:preact_hooks__WEBPACK_IMPORTED_MODULE_1__.useContext,useDebugValue:preact_hooks__WEBPACK_IMPORTED_MODULE_1__.useDebugValue,version:\"18.3.1\",Children:O,render:nn,hydrate:tn,unmountComponentAtNode:bn,createPortal:$,createElement:preact__WEBPACK_IMPORTED_MODULE_0__.createElement,createContext:preact__WEBPACK_IMPORTED_MODULE_0__.createContext,createFactory:dn,cloneElement:_n,createRef:preact__WEBPACK_IMPORTED_MODULE_0__.createRef,Fragment:preact__WEBPACK_IMPORTED_MODULE_0__.Fragment,isValidElement:mn,isElement:Rn,isFragment:pn,isMemo:yn,findDOMNode:Sn,Component:preact__WEBPACK_IMPORTED_MODULE_0__.Component,PureComponent:N,memo:M,forwardRef:D,flushSync:En,unstable_batchedUpdates:gn,StrictMode:Cn,Suspense:P,SuspenseList:B,lazy:z,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:hn};\n//# sourceMappingURL=compat.module.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL3ByZWFjdC9jb21wYXQvZGlzdC9jb21wYXQubW9kdWxlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFvZSxnQkFBZ0IseUJBQXlCLFNBQVMsZ0JBQWdCLHFEQUFxRCx1REFBdUQsU0FBUyxnQkFBZ0IsWUFBWSxzREFBQyxFQUFFLEdBQUcsVUFBVSxrQkFBa0IsT0FBTyw2REFBQyxZQUFZLHNCQUFzQixJQUFJLEVBQUUsVUFBVSx1REFBQyxZQUFZLGdCQUFnQixJQUFJLGVBQWUsU0FBUyxJQUFJLEVBQUUsRUFBRSxRQUFRLGNBQWMscUJBQXFCLElBQUksVUFBVSxzREFBc0QsU0FBUyxVQUFVLGNBQWMsSUFBSSxjQUFjLFNBQVMsYUFBYSxhQUFhLE1BQU0seURBQUMsQ0FBQyxnQkFBZ0IsNEJBQTRCLGdCQUFnQixjQUFjLGdDQUFnQyxvRkFBb0YsY0FBYyxvQ0FBb0MscURBQUMsTUFBTSw2R0FBNkcsaUJBQWlCLDZDQUFDLDBFQUEwRSx5Q0FBeUMsTUFBTSwyQ0FBQyxLQUFLLDJDQUFDLGlCQUFpQixtRUFBbUUsb0ZBQW9GLGNBQWMsY0FBYyxVQUFVLElBQUkscUNBQXFDLCtIQUErSCxvQkFBb0Isb0JBQW9CLG9EQUFDLENBQUMsb0RBQUMsWUFBWSxJQUFJLGtDQUFrQyxTQUFTLG9EQUFDLGFBQWEsa0JBQWtCLE1BQU0sb0RBQUMsSUFBSSxxQ0FBcUMsWUFBWSxTQUFTLGdEQUFDLENBQUMsR0FBRywyQ0FBQyxLQUFLLDJDQUFDLHVCQUF1Qix3QkFBd0IsT0FBTyw4RUFBOEUsWUFBWSxNQUFNLDJDQUFDLFNBQVMsa0JBQWtCLCtEQUErRCxrQ0FBa0MsK0JBQStCLG9HQUFvRyxnQkFBZ0IsS0FBSyxrQkFBa0IsNERBQTRELGdCQUFnQixrRkFBa0YsYUFBYSxxQ0FBcUMsY0FBYyxxQkFBcUIsZUFBZSwwQkFBMEIsY0FBYyxpQkFBaUIsY0FBYywrQkFBK0IseUJB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ZXItY2xpZW50Ly4uL25vZGVfbW9kdWxlcy9wcmVhY3QvY29tcGF0L2Rpc3QvY29tcGF0Lm1vZHVsZS5qcz85N2M1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydHtDb21wb25lbnQgYXMgbixjcmVhdGVFbGVtZW50IGFzIHQsb3B0aW9ucyBhcyBlLHRvQ2hpbGRBcnJheSBhcyByLEZyYWdtZW50IGFzIHUscmVuZGVyIGFzIG8saHlkcmF0ZSBhcyBpLGNyZWF0ZUNvbnRleHQgYXMgbCxjcmVhdGVSZWYgYXMgYyxjbG9uZUVsZW1lbnQgYXMgZn1mcm9tXCJwcmVhY3RcIjtleHBvcnR7Q29tcG9uZW50LEZyYWdtZW50LGNyZWF0ZUNvbnRleHQsY3JlYXRlRWxlbWVudCxjcmVhdGVSZWZ9ZnJvbVwicHJlYWN0XCI7aW1wb3J0e3VzZVN0YXRlIGFzIGEsdXNlTGF5b3V0RWZmZWN0IGFzIHMsdXNlRWZmZWN0IGFzIGgsdXNlQ2FsbGJhY2sgYXMgdix1c2VDb250ZXh0IGFzIGQsdXNlRGVidWdWYWx1ZSBhcyBtLHVzZUlkIGFzIHAsdXNlSW1wZXJhdGl2ZUhhbmRsZSBhcyB5LHVzZU1lbW8gYXMgXyx1c2VSZWR1Y2VyIGFzIGIsdXNlUmVmIGFzIFN9ZnJvbVwicHJlYWN0L2hvb2tzXCI7ZXhwb3J0KmZyb21cInByZWFjdC9ob29rc1wiO2Z1bmN0aW9uIGcobix0KXtmb3IodmFyIGUgaW4gdCluW2VdPXRbZV07cmV0dXJuIG59ZnVuY3Rpb24gRShuLHQpe2Zvcih2YXIgZSBpbiBuKWlmKFwiX19zb3VyY2VcIiE9PWUmJiEoZSBpbiB0KSlyZXR1cm4hMDtmb3IodmFyIHIgaW4gdClpZihcIl9fc291cmNlXCIhPT1yJiZuW3JdIT09dFtyXSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBDKG4sdCl7dmFyIGU9dCgpLHI9YSh7dDp7X186ZSx1OnR9fSksdT1yWzBdLnQsbz1yWzFdO3JldHVybiBzKGZ1bmN0aW9uKCl7dS5fXz1lLHUudT10LFIodSkmJm8oe3Q6dX0pfSxbbixlLHRdKSxoKGZ1bmN0aW9uKCl7cmV0dXJuIFIodSkmJm8oe3Q6dX0pLG4oZnVuY3Rpb24oKXtSKHUpJiZvKHt0OnV9KX0pfSxbbl0pLGV9ZnVuY3Rpb24gUihuKXt2YXIgdCxlLHI9bi51LHU9bi5fXzt0cnl7dmFyIG89cigpO3JldHVybiEoKHQ9dSk9PT0oZT1vKSYmKDAhPT10fHwxL3Q9PTEvZSl8fHQhPXQmJmUhPWUpfWNhdGNoKG4pe3JldHVybiEwfX1mdW5jdGlvbiB4KG4pe24oKX1mdW5jdGlvbiB3KG4pe3JldHVybiBufWZ1bmN0aW9uIGsoKXtyZXR1cm5bITEseF19dmFyIEk9cztmdW5jdGlvbiBOKG4sdCl7dGhpcy5wcm9wcz1uLHRoaXMuY29udGV4dD10fWZ1bmN0aW9uIE0obixlKXtmdW5jdGlvbiByKG4pe3ZhciB0PXRoaXMucHJvcHMucmVmLHI9dD09bi5yZWY7cmV0dXJuIXImJnQmJih0LmNhbGw/dChudWxsKTp0LmN1cnJlbnQ9bnVsbCksZT8hZSh0aGlzLnByb3BzLG4pfHwhcjpFKHRoaXMucHJvcHMsbil9ZnVuY3Rpb24gdShlKXtyZXR1cm4gdGhpcy5zaG91bGRDb21wb25lbnRVcGRhdGU9cix0KG4sZSl9cmV0dXJuIHUuZGlzcGxheU5hbWU9XCJNZW1vKFwiKyhuLmRpc3BsYXlOYW1lfHxuLm5hbWUpK1wiKVwiLHUucHJvdG90eXBlLmlzUmVhY3RDb21wb25lbnQ9ITAsdS5fX2Y9ITAsdS50eXBlPW4sdX0oTi5wcm90b3R5cGU9bmV3IG4pLmlzUHVyZVJlYWN0Q29tcG9uZW50PSEwLE4ucHJvdG90eXBlLnNob3VsZENvbXBvbmVudFVwZGF0ZT1mdW5jdGlvbihuLHQpe3JldHVybiBFKHRoaXMucHJvcHMsbil8fEUodGhpcy5zdGF0ZSx0KX07dmFyIFQ9ZS5fX2I7ZS5fX2I9ZnVuY3Rpb24obil7bi50eXBlJiZuLnR5cGUuX19mJiZuLnJlZiYmKG4ucHJvcHMucmVmPW4ucmVmLG4ucmVmPW51bGwpLFQmJlQobil9O3ZhciBBPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5mb3ImJlN5bWJvbC5mb3IoXCJyZWFjdC5mb3J3YXJkX3JlZlwiKXx8MzkxMTtmdW5jdGlvbiBEKG4pe2Z1bmN0aW9uIHQodCl7dmFyIGU9Zyh7fSx0KTtyZXR1cm4gZGVsZXRlIGUucmVmLG4oZSx0LnJlZnx8bnVsbCl9cmV0dXJuIHQuJCR0eXBlb2Y9QSx0LnJlbmRlcj1uLHQucHJvdG90eXBlLmlzUmVhY3RDb21wb25lbnQ9dC5fX2Y9ITAsdC5kaXNwbGF5TmFtZT1cIkZvcndhcmRSZWYoXCIrKG4uZGlzcGxheU5hbWV8fG4ubmFtZSkrXCIpXCIsdH12YXIgTD1mdW5jdGlvbihuLHQpe3JldHVybiBudWxsPT1uP251bGw6cihyKG4pLm1hcCh0KSl9LE89e21hcDpMLGZvckVhY2g6TCxjb3VudDpmdW5jdGlvbihuKXtyZXR1cm4gbj9yKG4pLmxlbmd0aDowfSxvbmx5OmZ1bmN0aW9uKG4pe3ZhciB0PXIobik7aWYoMSE9PXQubGVuZ3RoKXRocm93XCJDaGlsZHJlbi5vbmx5XCI7cmV0dXJuIHRbMF19LHRvQXJyYXk6cn0sVT1lLl9fZTtlLl9fZT1mdW5jdGlvbihuLHQsZSxyKXtpZihuLnRoZW4pZm9yKHZhciB1LG89dDtvPW8uX187KWlmKCh1PW8uX19jKSYmdS5fX2MpcmV0dXJuIG51bGw9PXQuX19lJiYodC5fX2U9ZS5fX2UsdC5fX2s9ZS5fX2spLHUuX19jKG4sdCk7VShuLHQsZSxyKX07dmFyIEY9ZS51bm1vdW50O2Z1bmN0aW9uIFYobix0LGUpe3JldHVybiBuJiYobi5fX2MmJm4uX19jLl9fSCYmKG4uX19jLl9fSC5fXy5mb3JFYWNoKGZ1bmN0aW9uKG4pe1wiZnVuY3Rpb25cIj09dHlwZW9mIG4uX19jJiZuLl9fYygpfSksbi5fX2MuX19IPW51bGwpLG51bGwhPShuPWcoe30sbikpLl9fYyYmKG4uX19jLl9fUD09PWUmJihuLl9fYy5fX1A9dCksbi5fX2MuX19lPSEwLG4uX19jPW51bGwpLG4uX19rPW4uX19rJiZuLl9fay5tYXAoZnVuY3Rpb24obil7cmV0dXJuIFYobix0LGUpfSkpLG59ZnVuY3Rpb24gVyhuLHQsZSl7cmV0dXJuIG4mJmUmJihuLl9fdj1udWxsLG4uX19rPW4uX19rJiZuLl9fay5tYXAoZnVuY3Rpb24obil7cmV0dXJuIFcobix0LGUpfSksbi5fX2MmJm4uX19jLl9fUD09PXQmJihuLl9fZSYmZS5hcHBlbmRDaGlsZChuLl9fZSksbi5fX2MuX19lPSEwLG4uX19jLl9fUD1lKSksbn1mdW5jdGlvbiBQKCl7dGhpcy5fX3U9MCx0aGlzLm89bnVsbCx0aGlzLl9fYj1udWxsfWZ1bmN0aW9uIGoobil7aWYoIW4uX18pcmV0dXJuIG51bGw7dmFyIHQ9bi5fXy5fX2M7cmV0dXJuIHQmJnQuX19hJiZ0Ll9fYShuKX1mdW5jdGlvbiB6KG4pe3ZhciBlLHIsdSxvPW51bGw7ZnVuY3Rpb24gaShpKXtpZihlfHwoZT1uKCkpLnRoZW4oZnVuY3Rpb24obil7biYmKG89bi5kZWZhdWx0fHxuKSx1PSEwfSxmdW5jdGlvbihuKXtyPW4sdT0hMH0pLHIpdGhyb3cgcjtpZighdSl0aHJvdyBlO3JldHVybiBvP3QobyxpKTpudWxsfXJldHVybiBpLmRpc3BsYXlOYW1lPVwiTGF6eVwiLGkuX19mPSEwLGl9ZnVuY3Rpb24gQigpe3RoaXMuaT1udWxsLHRoaXMubD1udWxsfWUudW5tb3VudD1mdW5jdGlvbihuKXt2YXIgdD1uLl9fYzt0JiYodC5fX3o9ITApLHQmJnQuX19SJiZ0Ll9fUigpLHQmJjMyJm4uX191JiYobi50eXBlPW51bGwpLEYmJkYobil9LChQLnByb3RvdHlwZT1uZXcgbikuX19jPWZ1bmN0aW9uKG4sdCl7dmFyIGU9dC5fX2Mscj10aGlzO251bGw9PXIubyYmKHIubz1bXSksci5vLnB1c2goZSk7dmFyIHU9aihyLl9fdiksbz0hMSxpPWZ1bmN0aW9uKCl7b3x8ci5fX3p8fChvPSEwLGUuX19SPW51bGwsdT91KGMpOmMoKSl9O2UuX19SPWk7dmFyIGw9ZS5fX1A7ZS5fX1A9bnVsbDt2YXIgYz1mdW5jdGlvbigpe2lmKCEtLXIuX191KXtpZihyLnN0YXRlLl9fYSl7dmFyIG49ci5zdGF0ZS5fX2E7ci5fX3YuX19rWzBdPVcobixuLl9fYy5fX1Asbi5fX2MuX19PKX12YXIgdDtmb3Ioci5zZXRTdGF0ZSh7X19hOnIuX19iPW51bGx9KTt0PXIuby5wb3AoKTspdC5fX1A9bCx0LmZvcmNlVXBkYXRlKCl9fTtyLl9fdSsrfHwzMiZ0Ll9fdXx8ci5zZXRTdGF0ZSh7X19hOnIuX19iPXIuX192Ll9fa1swXX0pLG4udGhlbihpLGkpfSxQLnByb3RvdHlwZS5jb21wb25lbnRXaWxsVW5tb3VudD1mdW5jdGlvbigpe3RoaXMubz1bXX0sUC5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKG4sZSl7aWYodGhpcy5fX2Ipe2lmKHRoaXMuX192Ll9fayl7dmFyIHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxvPXRoaXMuX192Ll9fa1swXS5fX2M7dGhpcy5fX3YuX19rWzBdPVYodGhpcy5fX2IscixvLl9fTz1vLl9fUCl9dGhpcy5fX2I9bnVsbH12YXIgaT1lLl9fYSYmdCh1LG51bGwsbi5mYWxsYmFjayk7cmV0dXJuIGkmJihpLl9fdSY9LTMzKSxbdCh1LG51bGwsZS5fX2E/bnVsbDpuLmNoaWxkcmVuKSxpXX07dmFyIEg9ZnVuY3Rpb24obix0LGUpe2lmKCsrZVsxXT09PWVbMF0mJm4ubC5kZWxldGUodCksbi5wcm9wcy5yZXZlYWxPcmRlciYmKFwidFwiIT09bi5wcm9wcy5yZXZlYWxPcmRlclswXXx8IW4ubC5zaXplKSlmb3IoZT1uLmk7ZTspe2Zvcig7ZS5sZW5ndGg+MzspZS5wb3AoKSgpO2lmKGVbMV08ZVswXSlicmVhaztuLmk9ZT1lWzJdfX07ZnVuY3Rpb24gWihuKXtyZXR1cm4gdGhpcy5nZXRDaGlsZENvbnRleHQ9ZnVuY3Rpb24oKXtyZXR1cm4gbi5jb250ZXh0fSxuLmNoaWxkcmVufWZ1bmN0aW9uIFkobil7dmFyIGU9dGhpcyxyPW4uaDtpZihlLmNvbXBvbmVudFdpbGxVbm1vdW50PWZ1bmN0aW9uKCl7byhudWxsLGUudiksZS52PW51bGwsZS5oPW51bGx9LGUuaCYmZS5oIT09ciYmZS5jb21wb25lbnRXaWxsVW5tb3VudCgpLCFlLnYpe2Zvcih2YXIgdT1lLl9fdjtudWxsIT09dSYmIXUuX19tJiZudWxsIT09dS5fXzspdT11Ll9fO2UuaD1yLGUudj17bm9kZVR5cGU6MSxwYXJlbnROb2RlOnIsY2hpbGROb2RlczpbXSxfX2s6e19fbTp1Ll9fbX0sY29udGFpbnM6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sbmFtZXNwYWNlVVJJOnIubmFtZXNwYWNlVVJJLGluc2VydEJlZm9yZTpmdW5jdGlvbihuLHQpe3RoaXMuY2hpbGROb2Rlcy5wdXNoKG4pLGUuaC5pbnNlcnRCZWZvcmUobix0KX0scmVtb3ZlQ2hpbGQ6ZnVuY3Rpb24obil7dGhpcy5jaGlsZE5vZGVzLnNwbGljZSh0aGlzLmNoaWxkTm9kZXMuaW5kZXhPZihuKT4+PjEsMSksZS5oLnJlbW92ZUNoaWxkKG4pfX19byh0KFose2NvbnRleHQ6ZS5jb250ZXh0fSxuLl9fdiksZS52KX1mdW5jdGlvbiAkKG4sZSl7dmFyIHI9dChZLHtfX3Y6bixoOmV9KTtyZXR1cm4gci5jb250YWluZXJJbmZvPWUscn0oQi5wcm90b3R5cGU9bmV3IG4pLl9fYT1mdW5jdGlvbihuKXt2YXIgdD10aGlzLGU9aih0Ll9fdikscj10LmwuZ2V0KG4pO3JldHVybiByWzBdKyssZnVuY3Rpb24odSl7dmFyIG89ZnVuY3Rpb24oKXt0LnByb3BzLnJldmVhbE9yZGVyPyhyLnB1c2godSksSCh0LG4scikpOnUoKX07ZT9lKG8pOm8oKX19LEIucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbihuKXt0aGlzLmk9bnVsbCx0aGlzLmw9bmV3IE1hcDt2YXIgdD1yKG4uY2hpbGRyZW4pO24ucmV2ZWFsT3JkZXImJlwiYlwiPT09bi5yZXZlYWxPcmRlclswXSYmdC5yZXZlcnNlKCk7Zm9yKHZhciBlPXQubGVuZ3RoO2UtLTspdGhpcy5sLnNldCh0W2VdLHRoaXMuaT1bMSwwLHRoaXMuaV0pO3JldHVybiBuLmNoaWxkcmVufSxCLnByb3RvdHlwZS5jb21wb25lbnREaWRVcGRhdGU9Qi5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQ9ZnVuY3Rpb24oKXt2YXIgbj10aGlzO3RoaXMubC5mb3JFYWNoKGZ1bmN0aW9uKHQsZSl7SChuLGUsdCl9KX07dmFyIHE9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLmZvciYmU3ltYm9sLmZvcihcInJlYWN0LmVsZW1lbnRcIil8fDYwMTAzLEc9L14oPzphY2NlbnR8YWxpZ25tZW50fGFyYWJpY3xiYXNlbGluZXxjYXB8Y2xpcCg/IVBhdGhVKXxjb2xvcnxkb21pbmFudHxmaWxsfGZsb29kfGZvbnR8Z2x5cGgoPyFSKXxob3JpenxpbWFnZSghUyl8bGV0dGVyfGxpZ2h0aW5nfG1hcmtlcig/IUh8V3xVKXxvdmVybGluZXxwYWludHxwb2ludGVyfHNoYXBlfHN0b3B8c3RyaWtldGhyb3VnaHxzdHJva2V8dGV4dCg/IUwpfHRyYW5zZm9ybXx1bmRlcmxpbmV8dW5pY29kZXx1bml0c3x2fHZlY3Rvcnx2ZXJ0fHdvcmR8d3JpdGluZ3x4KD8hQykpW0EtWl0vLEo9L15vbihBbml8VHJhfFRvdXxCZWZvcmVJbnB8Q29tcG8pLyxLPS9bQS1aMC05XS9nLFE9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGRvY3VtZW50LFg9ZnVuY3Rpb24obil7cmV0dXJuKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2woKT8vZmlsfGNoZXxyYWQvOi9maWx8Y2hlfHJhLykudGVzdChuKX07ZnVuY3Rpb24gbm4obix0LGUpe3JldHVybiBudWxsPT10Ll9fayYmKHQudGV4dENvbnRlbnQ9XCJcIiksbyhuLHQpLFwiZnVuY3Rpb25cIj09dHlwZW9mIGUmJmUoKSxuP24uX19jOm51bGx9ZnVuY3Rpb24gdG4obix0LGUpe3JldHVybiBpKG4sdCksXCJmdW5jdGlvblwiPT10eXBlb2YgZSYmZSgpLG4/bi5fX2M6bnVsbH1uLnByb3RvdHlwZS5pc1JlYWN0Q29tcG9uZW50PXt9LFtcImNvbXBvbmVudFdpbGxNb3VudFwiLFwiY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1wiLFwiY29tcG9uZW50V2lsbFVwZGF0ZVwiXS5mb3JFYWNoKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLnByb3RvdHlwZSx0LHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbXCJVTlNBRkVfXCIrdF19LHNldDpmdW5jdGlvbihuKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyx0LHtjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6bn0pfX0pfSk7dmFyIGVuPWUuZXZlbnQ7ZnVuY3Rpb24gcm4oKXt9ZnVuY3Rpb24gdW4oKXtyZXR1cm4gdGhpcy5jYW5jZWxCdWJibGV9ZnVuY3Rpb24gb24oKXtyZXR1cm4gdGhpcy5kZWZhdWx0UHJldmVudGVkfWUuZXZlbnQ9ZnVuY3Rpb24obil7cmV0dXJuIGVuJiYobj1lbihuKSksbi5wZXJzaXN0PXJuLG4uaXNQcm9wYWdhdGlvblN0b3BwZWQ9dW4sbi5pc0RlZmF1bHRQcmV2ZW50ZWQ9b24sbi5uYXRpdmVFdmVudD1ufTt2YXIgbG4sY249e2VudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNsYXNzfX0sZm49ZS52bm9kZTtlLnZub2RlPWZ1bmN0aW9uKG4pe1wic3RyaW5nXCI9PXR5cGVvZiBuLnR5cGUmJmZ1bmN0aW9uKG4pe3ZhciB0PW4ucHJvcHMsZT1uLnR5cGUsdT17fSxvPS0xPT09ZS5pbmRleE9mKFwiLVwiKTtmb3IodmFyIGkgaW4gdCl7dmFyIGw9dFtpXTtpZighKFwidmFsdWVcIj09PWkmJlwiZGVmYXVsdFZhbHVlXCJpbiB0JiZudWxsPT1sfHxRJiZcImNoaWxkcmVuXCI9PT1pJiZcIm5vc2NyaXB0XCI9PT1lfHxcImNsYXNzXCI9PT1pfHxcImNsYXNzTmFtZVwiPT09aSkpe3ZhciBjPWkudG9Mb3dlckNhc2UoKTtcImRlZmF1bHRWYWx1ZVwiPT09aSYmXCJ2YWx1ZVwiaW4gdCYmbnVsbD09dC52YWx1ZT9pPVwidmFsdWVcIjpcImRvd25sb2FkXCI9PT1pJiYhMD09PWw/bD1cIlwiOlwidHJhbnNsYXRlXCI9PT1jJiZcIm5vXCI9PT1sP2w9ITE6XCJvXCI9PT1jWzBdJiZcIm5cIj09PWNbMV0/XCJvbmRvdWJsZWNsaWNrXCI9PT1jP2k9XCJvbmRibGNsaWNrXCI6XCJvbmNoYW5nZVwiIT09Y3x8XCJpbnB1dFwiIT09ZSYmXCJ0ZXh0YXJlYVwiIT09ZXx8WCh0LnR5cGUpP1wib25mb2N1c1wiPT09Yz9pPVwib25mb2N1c2luXCI6XCJvbmJsdXJcIj09PWM/aT1cIm9uZm9jdXNvdXRcIjpKLnRlc3QoaSkmJihpPWMpOmM9aT1cIm9uaW5wdXRcIjpvJiZHLnRlc3QoaSk/aT1pLnJlcGxhY2UoSyxcIi0kJlwiKS50b0xvd2VyQ2FzZSgpOm51bGw9PT1sJiYobD12b2lkIDApLFwib25pbnB1dFwiPT09YyYmdVtpPWNdJiYoaT1cIm9uaW5wdXRDYXB0dXJlXCIpLHVbaV09bH19XCJzZWxlY3RcIj09ZSYmdS5tdWx0aXBsZSYmQXJyYXkuaXNBcnJheSh1LnZhbHVlKSYmKHUudmFsdWU9cih0LmNoaWxkcmVuKS5mb3JFYWNoKGZ1bmN0aW9uKG4pe24ucHJvcHMuc2VsZWN0ZWQ9LTEhPXUudmFsdWUuaW5kZXhPZihuLnByb3BzLnZhbHVlKX0pKSxcInNlbGVjdFwiPT1lJiZudWxsIT11LmRlZmF1bHRWYWx1ZSYmKHUudmFsdWU9cih0LmNoaWxkcmVuKS5mb3JFYWNoKGZ1bmN0aW9uKG4pe24ucHJvcHMuc2VsZWN0ZWQ9dS5tdWx0aXBsZT8tMSE9dS5kZWZhdWx0VmFsdWUuaW5kZXhPZihuLnByb3BzLnZhbHVlKTp1LmRlZmF1bHRWYWx1ZT09bi5wcm9wcy52YWx1ZX0pKSx0LmNsYXNzJiYhdC5jbGFzc05hbWU/KHUuY2xhc3M9dC5jbGFzcyxPYmplY3QuZGVmaW5lUHJvcGVydHkodSxcImNsYXNzTmFtZVwiLGNuKSk6KHQuY2xhc3NOYW1lJiYhdC5jbGFzc3x8dC5jbGFzcyYmdC5jbGFzc05hbWUpJiYodS5jbGFzcz11LmNsYXNzTmFtZT10LmNsYXNzTmFtZSksbi5wcm9wcz11fShuKSxuLiQkdHlwZW9mPXEsZm4mJmZuKG4pfTt2YXIgYW49ZS5fX3I7ZS5fX3I9ZnVuY3Rpb24obil7YW4mJmFuKG4pLGxuPW4uX19jfTt2YXIgc249ZS5kaWZmZWQ7ZS5kaWZmZWQ9ZnVuY3Rpb24obil7c24mJnNuKG4pO3ZhciB0PW4ucHJvcHMsZT1uLl9fZTtudWxsIT1lJiZcInRleHRhcmVhXCI9PT1uLnR5cGUmJlwidmFsdWVcImluIHQmJnQudmFsdWUhPT1lLnZhbHVlJiYoZS52YWx1ZT1udWxsPT10LnZhbHVlP1wiXCI6dC52YWx1ZSksbG49bnVsbH07dmFyIGhuPXtSZWFjdEN1cnJlbnREaXNwYXRjaGVyOntjdXJyZW50OntyZWFkQ29udGV4dDpmdW5jdGlvbihuKXtyZXR1cm4gbG4uX19uW24uX19jXS5wcm9wcy52YWx1ZX0sdXNlQ2FsbGJhY2s6dix1c2VDb250ZXh0OmQsdXNlRGVidWdWYWx1ZTptLHVzZURlZmVycmVkVmFsdWU6dyx1c2VFZmZlY3Q6aCx1c2VJZDpwLHVzZUltcGVyYXRpdmVIYW5kbGU6eSx1c2VJbnNlcnRpb25FZmZlY3Q6SSx1c2VMYXlvdXRFZmZlY3Q6cyx1c2VNZW1vOl8sdXNlUmVkdWNlcjpiLHVzZVJlZjpTLHVzZVN0YXRlOmEsdXNlU3luY0V4dGVybmFsU3RvcmU6Qyx1c2VUcmFuc2l0aW9uOmt9fX0sdm49XCIxOC4zLjFcIjtmdW5jdGlvbiBkbihuKXtyZXR1cm4gdC5iaW5kKG51bGwsbil9ZnVuY3Rpb24gbW4obil7cmV0dXJuISFuJiZuLiQkdHlwZW9mPT09cX1mdW5jdGlvbiBwbihuKXtyZXR1cm4gbW4obikmJm4udHlwZT09PXV9ZnVuY3Rpb24geW4obil7cmV0dXJuISFuJiYhIW4uZGlzcGxheU5hbWUmJihcInN0cmluZ1wiPT10eXBlb2Ygbi5kaXNwbGF5TmFtZXx8bi5kaXNwbGF5TmFtZSBpbnN0YW5jZW9mIFN0cmluZykmJm4uZGlzcGxheU5hbWUuc3RhcnRzV2l0aChcIk1lbW8oXCIpfWZ1bmN0aW9uIF9uKG4pe3JldHVybiBtbihuKT9mLmFwcGx5KG51bGwsYXJndW1lbnRzKTpufWZ1bmN0aW9uIGJuKG4pe3JldHVybiEhbi5fX2smJihvKG51bGwsbiksITApfWZ1bmN0aW9uIFNuKG4pe3JldHVybiBuJiYobi5iYXNlfHwxPT09bi5ub2RlVHlwZSYmbil8fG51bGx9dmFyIGduPWZ1bmN0aW9uKG4sdCl7cmV0dXJuIG4odCl9LEVuPWZ1bmN0aW9uKG4sdCl7cmV0dXJuIG4odCl9LENuPXUsUm49bW4seG49e3VzZVN0YXRlOmEsdXNlSWQ6cCx1c2VSZWR1Y2VyOmIsdXNlRWZmZWN0OmgsdXNlTGF5b3V0RWZmZWN0OnMsdXNlSW5zZXJ0aW9uRWZmZWN0OkksdXNlVHJhbnNpdGlvbjprLHVzZURlZmVycmVkVmFsdWU6dyx1c2VTeW5jRXh0ZXJuYWxTdG9yZTpDLHN0YXJ0VHJhbnNpdGlvbjp4LHVzZVJlZjpTLHVzZUltcGVyYXRpdmVIYW5kbGU6eSx1c2VNZW1vOl8sdXNlQ2FsbGJhY2s6dix1c2VDb250ZXh0OmQsdXNlRGVidWdWYWx1ZTptLHZlcnNpb246XCIxOC4zLjFcIixDaGlsZHJlbjpPLHJlbmRlcjpubixoeWRyYXRlOnRuLHVubW91bnRDb21wb25lbnRBdE5vZGU6Ym4sY3JlYXRlUG9ydGFsOiQsY3JlYXRlRWxlbWVudDp0LGNyZWF0ZUNvbnRleHQ6bCxjcmVhdGVGYWN0b3J5OmRuLGNsb25lRWxlbWVudDpfbixjcmVhdGVSZWY6YyxGcmFnbWVudDp1LGlzVmFsaWRFbGVtZW50Om1uLGlzRWxlbWVudDpSbixpc0ZyYWdtZW50OnBuLGlzTWVtbzp5bixmaW5kRE9NTm9kZTpTbixDb21wb25lbnQ6bixQdXJlQ29tcG9uZW50Ok4sbWVtbzpNLGZvcndhcmRSZWY6RCxmbHVzaFN5bmM6RW4sdW5zdGFibGVfYmF0Y2hlZFVwZGF0ZXM6Z24sU3RyaWN0TW9kZTpDbixTdXNwZW5zZTpQLFN1c3BlbnNlTGlzdDpCLGxhenk6eixfX1NFQ1JFVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9GSVJFRDpobn07ZXhwb3J0e08gYXMgQ2hpbGRyZW4sTiBhcyBQdXJlQ29tcG9uZW50LENuIGFzIFN0cmljdE1vZGUsUCBhcyBTdXNwZW5zZSxCIGFzIFN1c3BlbnNlTGlzdCxobiBhcyBfX1NFQ1JFVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9GSVJFRCxfbiBhcyBjbG9uZUVsZW1lbnQsZG4gYXMgY3JlYXRlRmFjdG9yeSwkIGFzIGNyZWF0ZVBvcnRhbCx4biBhcyBkZWZhdWx0LFNuIGFzIGZpbmRET01Ob2RlLEVuIGFzIGZsdXNoU3luYyxEIGFzIGZvcndhcmRSZWYsdG4gYXMgaHlkcmF0ZSxSbiBhcyBpc0VsZW1lbnQscG4gYXMgaXNGcmFnbWVudCx5biBhcyBpc01lbW8sbW4gYXMgaXNWYWxpZEVsZW1lbnQseiBhcyBsYXp5LE0gYXMgbWVtbyxubiBhcyByZW5kZXIseCBhcyBzdGFydFRyYW5zaXRpb24sYm4gYXMgdW5tb3VudENvbXBvbmVudEF0Tm9kZSxnbiBhcyB1bnN0YWJsZV9iYXRjaGVkVXBkYXRlcyx3IGFzIHVzZURlZmVycmVkVmFsdWUsSSBhcyB1c2VJbnNlcnRpb25FZmZlY3QsQyBhcyB1c2VTeW5jRXh0ZXJuYWxTdG9yZSxrIGFzIHVzZVRyYW5zaXRpb24sdm4gYXMgdmVyc2lvbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb21wYXQubW9kdWxlLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../node_modules/preact/compat/dist/compat.module.js\n\n}");

/***/ },

/***/ "../node_modules/preact/jsx-runtime/dist/jsxRuntime.module.js"
/*!********************************************************************!*\
  !*** ../node_modules/preact/jsx-runtime/dist/jsxRuntime.module.js ***!
  \********************************************************************/
(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Fragment: () => (/* reexport safe */ preact__WEBPACK_IMPORTED_MODULE_0__.Fragment),\n/* harmony export */   jsx: () => (/* binding */ u),\n/* harmony export */   jsxAttr: () => (/* binding */ l),\n/* harmony export */   jsxDEV: () => (/* binding */ u),\n/* harmony export */   jsxEscape: () => (/* binding */ s),\n/* harmony export */   jsxTemplate: () => (/* binding */ a),\n/* harmony export */   jsxs: () => (/* binding */ u)\n/* harmony export */ });\n/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ \"../node_modules/preact/dist/preact.module.js\");\nvar t=/[\"&<]/;function n(r){if(0===r.length||!1===t.test(r))return r;for(var e=0,n=0,o=\"\",f=\"\";n<r.length;n++){switch(r.charCodeAt(n)){case 34:f=\"&quot;\";break;case 38:f=\"&amp;\";break;case 60:f=\"&lt;\";break;default:continue}n!==e&&(o+=r.slice(e,n)),o+=f,e=n+1}return n!==e&&(o+=r.slice(e,n)),o}var o=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,f=0,i=Array.isArray;function u(e,t,n,o,i,u){t||(t={});var a,c,p=t;if(\"ref\"in p)for(c in p={},t)\"ref\"==c?a=t[c]:p[c]=t[c];var l={type:e,props:p,key:n,ref:a,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--f,__i:-1,__u:0,__source:i,__self:u};if(\"function\"==typeof e&&(a=e.defaultProps))for(c in a)void 0===p[c]&&(p[c]=a[c]);return preact__WEBPACK_IMPORTED_MODULE_0__.options.vnode&&preact__WEBPACK_IMPORTED_MODULE_0__.options.vnode(l),l}function a(r){var t=u(preact__WEBPACK_IMPORTED_MODULE_0__.Fragment,{tpl:r,exprs:[].slice.call(arguments,1)});return t.key=t.__v,t}var c={},p=/[A-Z]/g;function l(e,t){if(preact__WEBPACK_IMPORTED_MODULE_0__.options.attr){var f=preact__WEBPACK_IMPORTED_MODULE_0__.options.attr(e,t);if(\"string\"==typeof f)return f}if(t=function(r){return null!==r&&\"object\"==typeof r&&\"function\"==typeof r.valueOf?r.valueOf():r}(t),\"ref\"===e||\"key\"===e)return\"\";if(\"style\"===e&&\"object\"==typeof t){var i=\"\";for(var u in t){var a=t[u];if(null!=a&&\"\"!==a){var l=\"-\"==u[0]?u:c[u]||(c[u]=u.replace(p,\"-$&\").toLowerCase()),s=\";\";\"number\"!=typeof a||l.startsWith(\"--\")||o.test(l)||(s=\"px;\"),i=i+l+\":\"+a+s}}return e+'=\"'+n(i)+'\"'}return null==t||!1===t||\"function\"==typeof t||\"object\"==typeof t?\"\":!0===t?e:e+'=\"'+n(\"\"+t)+'\"'}function s(r){if(null==r||\"boolean\"==typeof r||\"function\"==typeof r)return null;if(\"object\"==typeof r){if(void 0===r.constructor)return r;if(i(r)){for(var e=0;e<r.length;e++)r[e]=s(r[e]);return r}}return n(\"\"+r)}\n//# sourceMappingURL=jsxRuntime.module.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL3ByZWFjdC9qc3gtcnVudGltZS9kaXN0L2pzeFJ1bnRpbWUubW9kdWxlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQTRFLGNBQWMsY0FBYyx5Q0FBeUMsMEJBQTBCLFdBQVcsS0FBSyx3QkFBd0IsaUJBQWlCLEVBQUUsTUFBTSxnQkFBZ0IsRUFBRSxNQUFNLGVBQWUsRUFBRSxNQUFNLGlCQUFpQixvQ0FBb0Msa0NBQWtDLDhGQUE4Rix3QkFBd0IsUUFBUSxFQUFFLFlBQVksMEJBQTBCLDZCQUE2QixPQUFPLGlJQUFpSSxrRkFBa0YsT0FBTywyQ0FBQyxRQUFRLDJDQUFDLFlBQVksY0FBYyxRQUFRLDRDQUFDLEVBQUUsdUNBQXVDLEVBQUUscUJBQXFCLFFBQVEsWUFBWSxnQkFBZ0IsR0FBRywyQ0FBQyxPQUFPLE1BQU0sMkNBQUMsV0FBVywrQkFBK0IsaUJBQWlCLGdGQUFnRixrQ0FBa0Msb0NBQW9DLFNBQVMsZ0JBQWdCLFdBQVcsb0JBQW9CLG9FQUFvRSxFQUFFLDBEQUEwRCxrQkFBa0IsdUJBQXVCLGdHQUFnRyxjQUFjLGtFQUFrRSx1QkFBdUIsbUNBQW1DLFNBQVMsWUFBWSxXQUFXLGlCQUFpQixVQUFVLGVBQW1HO0FBQ252RCIsInNvdXJjZXMiOlsid2VicGFjazovL2NhbXVuZGEtbW9kZWxlci1jbGllbnQvLi4vbm9kZV9tb2R1bGVzL3ByZWFjdC9qc3gtcnVudGltZS9kaXN0L2pzeFJ1bnRpbWUubW9kdWxlLmpzPzViZWMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0e29wdGlvbnMgYXMgcixGcmFnbWVudCBhcyBlfWZyb21cInByZWFjdFwiO2V4cG9ydHtGcmFnbWVudH1mcm9tXCJwcmVhY3RcIjt2YXIgdD0vW1wiJjxdLztmdW5jdGlvbiBuKHIpe2lmKDA9PT1yLmxlbmd0aHx8ITE9PT10LnRlc3QocikpcmV0dXJuIHI7Zm9yKHZhciBlPTAsbj0wLG89XCJcIixmPVwiXCI7bjxyLmxlbmd0aDtuKyspe3N3aXRjaChyLmNoYXJDb2RlQXQobikpe2Nhc2UgMzQ6Zj1cIiZxdW90O1wiO2JyZWFrO2Nhc2UgMzg6Zj1cIiZhbXA7XCI7YnJlYWs7Y2FzZSA2MDpmPVwiJmx0O1wiO2JyZWFrO2RlZmF1bHQ6Y29udGludWV9biE9PWUmJihvKz1yLnNsaWNlKGUsbikpLG8rPWYsZT1uKzF9cmV0dXJuIG4hPT1lJiYobys9ci5zbGljZShlLG4pKSxvfXZhciBvPS9hY2l0fGV4KD86c3xnfG58cHwkKXxycGh8Z3JpZHxvd3N8bW5jfG50d3xpbmVbY2hdfHpvb3xeb3JkfGl0ZXJhL2ksZj0wLGk9QXJyYXkuaXNBcnJheTtmdW5jdGlvbiB1KGUsdCxuLG8saSx1KXt0fHwodD17fSk7dmFyIGEsYyxwPXQ7aWYoXCJyZWZcImluIHApZm9yKGMgaW4gcD17fSx0KVwicmVmXCI9PWM/YT10W2NdOnBbY109dFtjXTt2YXIgbD17dHlwZTplLHByb3BzOnAsa2V5Om4scmVmOmEsX19rOm51bGwsX186bnVsbCxfX2I6MCxfX2U6bnVsbCxfX2M6bnVsbCxjb25zdHJ1Y3Rvcjp2b2lkIDAsX192Oi0tZixfX2k6LTEsX191OjAsX19zb3VyY2U6aSxfX3NlbGY6dX07aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZSYmKGE9ZS5kZWZhdWx0UHJvcHMpKWZvcihjIGluIGEpdm9pZCAwPT09cFtjXSYmKHBbY109YVtjXSk7cmV0dXJuIHIudm5vZGUmJnIudm5vZGUobCksbH1mdW5jdGlvbiBhKHIpe3ZhciB0PXUoZSx7dHBsOnIsZXhwcnM6W10uc2xpY2UuY2FsbChhcmd1bWVudHMsMSl9KTtyZXR1cm4gdC5rZXk9dC5fX3YsdH12YXIgYz17fSxwPS9bQS1aXS9nO2Z1bmN0aW9uIGwoZSx0KXtpZihyLmF0dHIpe3ZhciBmPXIuYXR0cihlLHQpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBmKXJldHVybiBmfWlmKHQ9ZnVuY3Rpb24ocil7cmV0dXJuIG51bGwhPT1yJiZcIm9iamVjdFwiPT10eXBlb2YgciYmXCJmdW5jdGlvblwiPT10eXBlb2Ygci52YWx1ZU9mP3IudmFsdWVPZigpOnJ9KHQpLFwicmVmXCI9PT1lfHxcImtleVwiPT09ZSlyZXR1cm5cIlwiO2lmKFwic3R5bGVcIj09PWUmJlwib2JqZWN0XCI9PXR5cGVvZiB0KXt2YXIgaT1cIlwiO2Zvcih2YXIgdSBpbiB0KXt2YXIgYT10W3VdO2lmKG51bGwhPWEmJlwiXCIhPT1hKXt2YXIgbD1cIi1cIj09dVswXT91OmNbdV18fChjW3VdPXUucmVwbGFjZShwLFwiLSQmXCIpLnRvTG93ZXJDYXNlKCkpLHM9XCI7XCI7XCJudW1iZXJcIiE9dHlwZW9mIGF8fGwuc3RhcnRzV2l0aChcIi0tXCIpfHxvLnRlc3QobCl8fChzPVwicHg7XCIpLGk9aStsK1wiOlwiK2Erc319cmV0dXJuIGUrJz1cIicrbihpKSsnXCInfXJldHVybiBudWxsPT10fHwhMT09PXR8fFwiZnVuY3Rpb25cIj09dHlwZW9mIHR8fFwib2JqZWN0XCI9PXR5cGVvZiB0P1wiXCI6ITA9PT10P2U6ZSsnPVwiJytuKFwiXCIrdCkrJ1wiJ31mdW5jdGlvbiBzKHIpe2lmKG51bGw9PXJ8fFwiYm9vbGVhblwiPT10eXBlb2Ygcnx8XCJmdW5jdGlvblwiPT10eXBlb2YgcilyZXR1cm4gbnVsbDtpZihcIm9iamVjdFwiPT10eXBlb2Ygcil7aWYodm9pZCAwPT09ci5jb25zdHJ1Y3RvcilyZXR1cm4gcjtpZihpKHIpKXtmb3IodmFyIGU9MDtlPHIubGVuZ3RoO2UrKylyW2VdPXMocltlXSk7cmV0dXJuIHJ9fXJldHVybiBuKFwiXCIrcil9ZXhwb3J0e3UgYXMganN4LGwgYXMganN4QXR0cix1IGFzIGpzeERFVixzIGFzIGpzeEVzY2FwZSxhIGFzIGpzeFRlbXBsYXRlLHUgYXMganN4c307XG4vLyMgc291cmNlTWFwcGluZ1VSTD1qc3hSdW50aW1lLm1vZHVsZS5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../node_modules/preact/jsx-runtime/dist/jsxRuntime.module.js\n\n}");

/***/ },

/***/ "../node_modules/@bpmn-io/draggle/dist/draggle.js"
/*!********************************************************!*\
  !*** ../node_modules/@bpmn-io/draggle/dist/draggle.js ***!
  \********************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ De)\n/* harmony export */ });\nfunction _e(t) {\n  return t && t.__esModule && Object.prototype.hasOwnProperty.call(t, \"default\") ? t.default : t;\n}\nvar Ne = function(n, o) {\n  return Array.prototype.slice.call(n, o);\n}, Be = typeof setImmediate == \"function\", z;\nBe ? z = function(t) {\n  setImmediate(t);\n} : z = function(t) {\n  setTimeout(t, 0);\n};\nvar Me = z, Xe = Me, Ie = function(n, o, l) {\n  n && Xe(function() {\n    n.apply(l || null, o || []);\n  });\n}, ee = Ne, Te = Ie, Ye = function(n, o) {\n  var l = o || {}, c = {};\n  return n === void 0 && (n = {}), n.on = function(d, h) {\n    return c[d] ? c[d].push(h) : c[d] = [h], n;\n  }, n.once = function(d, h) {\n    return h._once = !0, n.on(d, h), n;\n  }, n.off = function(d, h) {\n    var S = arguments.length;\n    if (S === 1)\n      delete c[d];\n    else if (S === 0)\n      c = {};\n    else {\n      var C = c[d];\n      if (!C)\n        return n;\n      C.splice(C.indexOf(h), 1);\n    }\n    return n;\n  }, n.emit = function() {\n    var d = ee(arguments);\n    return n.emitterSnapshot(d.shift()).apply(this, d);\n  }, n.emitterSnapshot = function(d) {\n    var h = (c[d] || []).slice(0);\n    return function() {\n      var S = ee(arguments), C = this || n;\n      if (d === \"error\" && l.throws !== !1 && !h.length)\n        throw S.length === 1 ? S[0] : S;\n      return h.forEach(function(E) {\n        l.async ? Te(E, S, C) : E.apply(C, S), E._once && n.off(d, E);\n      }), n;\n    };\n  }, n;\n};\nconst Le = /* @__PURE__ */ _e(Ye), te = {}, xe = \"(?:^|\\\\s)\", Re = \"(?:\\\\s|$)\";\nfunction le(t) {\n  let n = te[t];\n  return n ? n.lastIndex = 0 : te[t] = n = new RegExp(xe + t + Re, \"g\"), n;\n}\nfunction Y(t, n) {\n  const o = t.className;\n  o.length ? le(n).test(o) || (t.className += \" \" + n) : t.className = n;\n}\nfunction L(t, n) {\n  t.className = t.className.replace(le(n), \" \").trim();\n}\nconst ke = (t, n) => ({\n  containers: n,\n  moves: () => !0,\n  accepts: () => !0,\n  invalid: () => !1,\n  isContainer: () => !1,\n  transformOffset: (o) => o,\n  copy: !1,\n  copySortSource: !1,\n  revertOnSpill: !1,\n  removeOnSpill: !1,\n  direction: \"vertical\",\n  ignoreInputTextSelection: !0,\n  mirrorContainer: document.body,\n  ...t\n});\nfunction ne(t) {\n  if (t.touches !== void 0)\n    return t.touches.length;\n  if (t.which !== void 0 && t.which !== 0)\n    return t.which;\n  if (t.buttons !== void 0)\n    return t.buttons;\n  const n = t.button;\n  if (n !== void 0)\n    return n & 1 ? 1 : n & 2 ? 3 : n & 4 ? 2 : 0;\n}\nconst Ae = (t) => {\n  const n = t.getBoundingClientRect();\n  return {\n    left: n.left + re(\"scrollLeft\", \"pageXOffset\"),\n    top: n.top + re(\"scrollTop\", \"pageYOffset\")\n  };\n}, re = (t, n) => typeof global[n] < \"u\" ? global[n] : document.documentElement.clientHeight ? document.documentElement[t] : document.body[t], ie = (t = {}, n, o) => {\n  const l = t.className || \"\";\n  t.className += \" gu-hide\";\n  const c = document.elementFromPoint(n, o);\n  return t.className = l, c;\n}, oe = (t) => t.width || t.right - t.left, ce = (t) => t.height || t.bottom - t.top, v = (t) => t.parentNode === document ? null : t.parentNode, ue = (t) => [\"INPUT\", \"TEXTAREA\", \"SELECT\"].includes(t == null ? void 0 : t.tagName) || se(t), se = (t) => !t || t.contentEditable === \"false\" ? !1 : t.contentEditable === \"true\" ? !0 : se(v(t)), T = (t) => {\n  const n = () => {\n    let o = t;\n    do\n      o = o.nextSibling;\n    while (o && o.nodeType !== 1);\n    return o;\n  };\n  return t.nextElementSibling || n();\n};\nwindow.global || (window.global = window);\nconst fe = document, M = fe.documentElement;\nfunction De(t = [], n = {}) {\n  Array.isArray(t) || (n = t, t = []);\n  let o, l, c, d, h, S, C, X, E, a, x, N, I;\n  const s = ke(n, t), f = Le({\n    containers: s.containers,\n    start: ve,\n    end: G,\n    cancel: q,\n    remove: W,\n    destroy: ae,\n    canMove: ge,\n    dragging: !1\n  });\n  return s.removeOnSpill && f.on(\"over\", he).on(\"out\", be), j(), f;\n  function R(e) {\n    return f.containers.indexOf(e) !== -1 || s.isContainer(e);\n  }\n  function j(e) {\n    const r = e ? \"removeEventListener\" : \"addEventListener\";\n    M[r](\"pointerdown\", me, !0), M[r](\"pointerup\", D, !0);\n  }\n  function k(e) {\n    M[e ? \"removeEventListener\" : \"addEventListener\"](\"pointermove\", pe, !0);\n  }\n  function H(e) {\n    M[e ? \"removeEventListener\" : \"addEventListener\"](\"click\", de, !0);\n  }\n  function ae() {\n    j(!0), D({});\n  }\n  function de(e) {\n    I && e.preventDefault();\n  }\n  function me(e) {\n    if (S = e.clientX, C = e.clientY, ne(e) !== 1 || e.metaKey || e.ctrlKey)\n      return;\n    const i = e.target, u = A(i);\n    u && (I = u, k(), e.type === \"pointerdown\" && (ue(i) ? i.focus() : e.preventDefault()));\n  }\n  function pe(e) {\n    if (!I)\n      return;\n    if (ne(e) === 0) {\n      D({});\n      return;\n    }\n    if (e.clientX !== void 0 && Math.abs(e.clientX - S) <= (s.slideFactorX || 0) && e.clientY !== void 0 && Math.abs(e.clientY - C) <= (s.slideFactorY || 0))\n      return;\n    if (s.ignoreInputTextSelection) {\n      const {\n        clientX: O = 0,\n        clientY: m = 0\n      } = e, w = fe.elementFromPoint(O, m);\n      if (ue(w))\n        return;\n    }\n    const r = I;\n    k(!0), H(), G(), K(r);\n    const i = Ae(c), u = s.transformOffset(i, e, c), {\n      pageX: g = 0,\n      pageY: p = 0\n    } = e;\n    d = g - u.left, h = p - u.top, Y(a || c, \"gu-transit\"), ye(), $(e);\n  }\n  function A(e) {\n    if (f.dragging && o || R(e))\n      return;\n    const r = e;\n    for (; v(e) && R(v(e)) === !1; )\n      if (s.invalid(e, r) || (e = v(e), !e))\n        return;\n    const i = v(e);\n    if (!(!i || s.invalid(e, r) || !s.moves(e, i, r, T(e))))\n      return {\n        item: e,\n        source: i\n      };\n  }\n  function ge(e) {\n    return !!A(e);\n  }\n  function ve(e) {\n    const r = A(e);\n    r && K(r);\n  }\n  function K(e) {\n    Ee(e.item, e.source) && (a = e.item.cloneNode(!0), f.emit(\"cloned\", a, e.item, \"copy\")), l = e.source, c = e.item, X = E = T(e.item), f.dragging = !0, f.emit(\"drag\", c, l);\n  }\n  function G() {\n    if (!f.dragging)\n      return;\n    const e = a || c;\n    V(e, v(e));\n  }\n  function U() {\n    I = !1, k(!0), H(!0);\n  }\n  function D(e) {\n    if (U(), !f.dragging)\n      return;\n    const r = a || c, {\n      clientX: i = 0,\n      clientY: u = 0\n    } = e, g = ie(o, i, u), p = J(g, i, u);\n    p && (a && s.copySortSource || !a || p !== l) ? V(r, p) : s.removeOnSpill ? W() : q();\n  }\n  function V(e, r) {\n    const i = v(e);\n    a && s.copySortSource && r === l && i.removeChild(c), P(r) ? f.emit(\"cancel\", e, l, l) : f.emit(\"drop\", e, r, l, E), F();\n  }\n  function W() {\n    if (!f.dragging)\n      return;\n    const e = a || c, r = v(e);\n    r && r.removeChild(e), f.emit(a ? \"cancel\" : \"remove\", e, r, l), F();\n  }\n  function q(e) {\n    if (!f.dragging)\n      return;\n    const r = arguments.length > 0 ? e : s.revertOnSpill, i = a || c, u = v(i), g = P(u);\n    g === !1 && r && (a ? u && u.removeChild(a) : l.insertBefore(i, X)), g || r ? f.emit(\"cancel\", i, l, l) : f.emit(\"drop\", i, u, l, E), F();\n  }\n  function F() {\n    const e = a || c;\n    U(), Se(), e && L(e, \"gu-transit\"), x && clearTimeout(x), f.dragging = !1, N && f.emit(\"out\", e, N, l), f.emit(\"dragend\", e), l = c = a = X = E = x = N = null;\n  }\n  function P(e, r) {\n    let i;\n    return r !== void 0 ? i = r : o ? i = E : i = T(a || c), e === l && i === X;\n  }\n  function J(e, r, i) {\n    let u = e;\n    for (; u && !g(); )\n      u = v(u);\n    return u;\n    function g() {\n      if (R(u) === !1)\n        return !1;\n      const O = Q(u, e), m = Z(u, O, r, i);\n      return P(u, m) ? !0 : s.accepts(c, u, l, m);\n    }\n  }\n  function $(e) {\n    if (!o)\n      return;\n    e.preventDefault();\n    const {\n      clientX: r = 0,\n      clientY: i = 0\n    } = e, u = r - d, g = i - h;\n    o.style.left = u + \"px\", o.style.top = g + \"px\";\n    const p = a || c, O = ie(o, r, i);\n    let m = J(O, r, i);\n    const w = m !== null && m !== N;\n    (w || m === null) && (we(), N = m, Ce());\n    const b = v(p);\n    if (m === l && a && !s.copySortSource) {\n      b && b.removeChild(p);\n      return;\n    }\n    let y;\n    const B = Q(m, O);\n    if (B !== null)\n      y = Z(m, B, r, i);\n    else if (s.revertOnSpill === !0 && !a)\n      y = X, m = l;\n    else {\n      a && b && b.removeChild(p);\n      return;\n    }\n    (y === null && w || y !== p && y !== T(p)) && (E = y, m.insertBefore(p, y), f.emit(\"shadow\", p, m, l));\n    function _(Oe) {\n      f.emit(Oe, p, N, l);\n    }\n    function Ce() {\n      w && _(\"over\");\n    }\n    function we() {\n      N && _(\"out\");\n    }\n  }\n  function he(e) {\n    L(e, \"gu-hide\");\n  }\n  function be(e) {\n    f.dragging && Y(e, \"gu-hide\");\n  }\n  function ye() {\n    if (o)\n      return;\n    const e = c.getBoundingClientRect();\n    o = c.cloneNode(!0), o.style.width = oe(e) + \"px\", o.style.height = ce(e) + \"px\", L(o, \"gu-transit\"), Y(o, \"gu-mirror\"), s.mirrorContainer.appendChild(o), M.addEventListener(\"pointermove\", $), Y(s.mirrorContainer, \"gu-unselectable\"), f.emit(\"cloned\", o, c, \"mirror\");\n  }\n  function Se() {\n    o && (L(s.mirrorContainer, \"gu-unselectable\"), M.removeEventListener(\"pointermove\", $), v(o).removeChild(o), o = null);\n  }\n  function Q(e, r) {\n    let i = r;\n    for (; i !== e && v(i) !== e; )\n      i = v(i);\n    return i === M ? null : i;\n  }\n  function Z(e, r, i, u) {\n    const g = (typeof s.direction == \"function\" ? s.direction(c, e, l) : s.direction) === \"horizontal\";\n    return r !== e ? m() : O();\n    function O() {\n      const b = e.children.length;\n      let y, B, _;\n      for (y = 0; y < b; y++)\n        if (B = e.children[y], _ = B.getBoundingClientRect(), g && _.left + _.width / 2 > i || !g && _.top + _.height / 2 > u)\n          return B;\n      return null;\n    }\n    function m() {\n      const b = r.getBoundingClientRect();\n      return w(g ? i > b.left + oe(b) / 2 : u > b.top + ce(b) / 2);\n    }\n    function w(b) {\n      return b ? T(r) : r;\n    }\n  }\n  function Ee(e, r) {\n    return typeof s.copy == \"boolean\" ? s.copy : s.copy(e, r);\n  }\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL0BicG1uLWlvL2RyYWdnbGUvZGlzdC9kcmFnZ2xlLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxDQUFDO0FBQ0QsaUJBQWlCO0FBQ2pCLGdDQUFnQztBQUNoQztBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEdBQUc7QUFDSDtBQUNBLDBDQUEwQztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLDBKQUEwSjtBQUMzSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsd0JBQXdCO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxXQUFXO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsdUJBQXVCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixPQUFPO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0UiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jYW11bmRhLW1vZGVsZXItY2xpZW50Ly4uL25vZGVfbW9kdWxlcy9AYnBtbi1pby9kcmFnZ2xlL2Rpc3QvZHJhZ2dsZS5qcz80YWQzIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF9lKHQpIHtcbiAgcmV0dXJuIHQgJiYgdC5fX2VzTW9kdWxlICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LCBcImRlZmF1bHRcIikgPyB0LmRlZmF1bHQgOiB0O1xufVxudmFyIE5lID0gZnVuY3Rpb24obiwgbykge1xuICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwobiwgbyk7XG59LCBCZSA9IHR5cGVvZiBzZXRJbW1lZGlhdGUgPT0gXCJmdW5jdGlvblwiLCB6O1xuQmUgPyB6ID0gZnVuY3Rpb24odCkge1xuICBzZXRJbW1lZGlhdGUodCk7XG59IDogeiA9IGZ1bmN0aW9uKHQpIHtcbiAgc2V0VGltZW91dCh0LCAwKTtcbn07XG52YXIgTWUgPSB6LCBYZSA9IE1lLCBJZSA9IGZ1bmN0aW9uKG4sIG8sIGwpIHtcbiAgbiAmJiBYZShmdW5jdGlvbigpIHtcbiAgICBuLmFwcGx5KGwgfHwgbnVsbCwgbyB8fCBbXSk7XG4gIH0pO1xufSwgZWUgPSBOZSwgVGUgPSBJZSwgWWUgPSBmdW5jdGlvbihuLCBvKSB7XG4gIHZhciBsID0gbyB8fCB7fSwgYyA9IHt9O1xuICByZXR1cm4gbiA9PT0gdm9pZCAwICYmIChuID0ge30pLCBuLm9uID0gZnVuY3Rpb24oZCwgaCkge1xuICAgIHJldHVybiBjW2RdID8gY1tkXS5wdXNoKGgpIDogY1tkXSA9IFtoXSwgbjtcbiAgfSwgbi5vbmNlID0gZnVuY3Rpb24oZCwgaCkge1xuICAgIHJldHVybiBoLl9vbmNlID0gITAsIG4ub24oZCwgaCksIG47XG4gIH0sIG4ub2ZmID0gZnVuY3Rpb24oZCwgaCkge1xuICAgIHZhciBTID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICBpZiAoUyA9PT0gMSlcbiAgICAgIGRlbGV0ZSBjW2RdO1xuICAgIGVsc2UgaWYgKFMgPT09IDApXG4gICAgICBjID0ge307XG4gICAgZWxzZSB7XG4gICAgICB2YXIgQyA9IGNbZF07XG4gICAgICBpZiAoIUMpXG4gICAgICAgIHJldHVybiBuO1xuICAgICAgQy5zcGxpY2UoQy5pbmRleE9mKGgpLCAxKTtcbiAgICB9XG4gICAgcmV0dXJuIG47XG4gIH0sIG4uZW1pdCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBkID0gZWUoYXJndW1lbnRzKTtcbiAgICByZXR1cm4gbi5lbWl0dGVyU25hcHNob3QoZC5zaGlmdCgpKS5hcHBseSh0aGlzLCBkKTtcbiAgfSwgbi5lbWl0dGVyU25hcHNob3QgPSBmdW5jdGlvbihkKSB7XG4gICAgdmFyIGggPSAoY1tkXSB8fCBbXSkuc2xpY2UoMCk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIFMgPSBlZShhcmd1bWVudHMpLCBDID0gdGhpcyB8fCBuO1xuICAgICAgaWYgKGQgPT09IFwiZXJyb3JcIiAmJiBsLnRocm93cyAhPT0gITEgJiYgIWgubGVuZ3RoKVxuICAgICAgICB0aHJvdyBTLmxlbmd0aCA9PT0gMSA/IFNbMF0gOiBTO1xuICAgICAgcmV0dXJuIGguZm9yRWFjaChmdW5jdGlvbihFKSB7XG4gICAgICAgIGwuYXN5bmMgPyBUZShFLCBTLCBDKSA6IEUuYXBwbHkoQywgUyksIEUuX29uY2UgJiYgbi5vZmYoZCwgRSk7XG4gICAgICB9KSwgbjtcbiAgICB9O1xuICB9LCBuO1xufTtcbmNvbnN0IExlID0gLyogQF9fUFVSRV9fICovIF9lKFllKSwgdGUgPSB7fSwgeGUgPSBcIig/Ol58XFxcXHMpXCIsIFJlID0gXCIoPzpcXFxcc3wkKVwiO1xuZnVuY3Rpb24gbGUodCkge1xuICBsZXQgbiA9IHRlW3RdO1xuICByZXR1cm4gbiA/IG4ubGFzdEluZGV4ID0gMCA6IHRlW3RdID0gbiA9IG5ldyBSZWdFeHAoeGUgKyB0ICsgUmUsIFwiZ1wiKSwgbjtcbn1cbmZ1bmN0aW9uIFkodCwgbikge1xuICBjb25zdCBvID0gdC5jbGFzc05hbWU7XG4gIG8ubGVuZ3RoID8gbGUobikudGVzdChvKSB8fCAodC5jbGFzc05hbWUgKz0gXCIgXCIgKyBuKSA6IHQuY2xhc3NOYW1lID0gbjtcbn1cbmZ1bmN0aW9uIEwodCwgbikge1xuICB0LmNsYXNzTmFtZSA9IHQuY2xhc3NOYW1lLnJlcGxhY2UobGUobiksIFwiIFwiKS50cmltKCk7XG59XG5jb25zdCBrZSA9ICh0LCBuKSA9PiAoe1xuICBjb250YWluZXJzOiBuLFxuICBtb3ZlczogKCkgPT4gITAsXG4gIGFjY2VwdHM6ICgpID0+ICEwLFxuICBpbnZhbGlkOiAoKSA9PiAhMSxcbiAgaXNDb250YWluZXI6ICgpID0+ICExLFxuICB0cmFuc2Zvcm1PZmZzZXQ6IChvKSA9PiBvLFxuICBjb3B5OiAhMSxcbiAgY29weVNvcnRTb3VyY2U6ICExLFxuICByZXZlcnRPblNwaWxsOiAhMSxcbiAgcmVtb3ZlT25TcGlsbDogITEsXG4gIGRpcmVjdGlvbjogXCJ2ZXJ0aWNhbFwiLFxuICBpZ25vcmVJbnB1dFRleHRTZWxlY3Rpb246ICEwLFxuICBtaXJyb3JDb250YWluZXI6IGRvY3VtZW50LmJvZHksXG4gIC4uLnRcbn0pO1xuZnVuY3Rpb24gbmUodCkge1xuICBpZiAodC50b3VjaGVzICE9PSB2b2lkIDApXG4gICAgcmV0dXJuIHQudG91Y2hlcy5sZW5ndGg7XG4gIGlmICh0LndoaWNoICE9PSB2b2lkIDAgJiYgdC53aGljaCAhPT0gMClcbiAgICByZXR1cm4gdC53aGljaDtcbiAgaWYgKHQuYnV0dG9ucyAhPT0gdm9pZCAwKVxuICAgIHJldHVybiB0LmJ1dHRvbnM7XG4gIGNvbnN0IG4gPSB0LmJ1dHRvbjtcbiAgaWYgKG4gIT09IHZvaWQgMClcbiAgICByZXR1cm4gbiAmIDEgPyAxIDogbiAmIDIgPyAzIDogbiAmIDQgPyAyIDogMDtcbn1cbmNvbnN0IEFlID0gKHQpID0+IHtcbiAgY29uc3QgbiA9IHQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIHJldHVybiB7XG4gICAgbGVmdDogbi5sZWZ0ICsgcmUoXCJzY3JvbGxMZWZ0XCIsIFwicGFnZVhPZmZzZXRcIiksXG4gICAgdG9wOiBuLnRvcCArIHJlKFwic2Nyb2xsVG9wXCIsIFwicGFnZVlPZmZzZXRcIilcbiAgfTtcbn0sIHJlID0gKHQsIG4pID0+IHR5cGVvZiBnbG9iYWxbbl0gPCBcInVcIiA/IGdsb2JhbFtuXSA6IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQgPyBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnRbdF0gOiBkb2N1bWVudC5ib2R5W3RdLCBpZSA9ICh0ID0ge30sIG4sIG8pID0+IHtcbiAgY29uc3QgbCA9IHQuY2xhc3NOYW1lIHx8IFwiXCI7XG4gIHQuY2xhc3NOYW1lICs9IFwiIGd1LWhpZGVcIjtcbiAgY29uc3QgYyA9IGRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQobiwgbyk7XG4gIHJldHVybiB0LmNsYXNzTmFtZSA9IGwsIGM7XG59LCBvZSA9ICh0KSA9PiB0LndpZHRoIHx8IHQucmlnaHQgLSB0LmxlZnQsIGNlID0gKHQpID0+IHQuaGVpZ2h0IHx8IHQuYm90dG9tIC0gdC50b3AsIHYgPSAodCkgPT4gdC5wYXJlbnROb2RlID09PSBkb2N1bWVudCA/IG51bGwgOiB0LnBhcmVudE5vZGUsIHVlID0gKHQpID0+IFtcIklOUFVUXCIsIFwiVEVYVEFSRUFcIiwgXCJTRUxFQ1RcIl0uaW5jbHVkZXModCA9PSBudWxsID8gdm9pZCAwIDogdC50YWdOYW1lKSB8fCBzZSh0KSwgc2UgPSAodCkgPT4gIXQgfHwgdC5jb250ZW50RWRpdGFibGUgPT09IFwiZmFsc2VcIiA/ICExIDogdC5jb250ZW50RWRpdGFibGUgPT09IFwidHJ1ZVwiID8gITAgOiBzZSh2KHQpKSwgVCA9ICh0KSA9PiB7XG4gIGNvbnN0IG4gPSAoKSA9PiB7XG4gICAgbGV0IG8gPSB0O1xuICAgIGRvXG4gICAgICBvID0gby5uZXh0U2libGluZztcbiAgICB3aGlsZSAobyAmJiBvLm5vZGVUeXBlICE9PSAxKTtcbiAgICByZXR1cm4gbztcbiAgfTtcbiAgcmV0dXJuIHQubmV4dEVsZW1lbnRTaWJsaW5nIHx8IG4oKTtcbn07XG53aW5kb3cuZ2xvYmFsIHx8ICh3aW5kb3cuZ2xvYmFsID0gd2luZG93KTtcbmNvbnN0IGZlID0gZG9jdW1lbnQsIE0gPSBmZS5kb2N1bWVudEVsZW1lbnQ7XG5mdW5jdGlvbiBEZSh0ID0gW10sIG4gPSB7fSkge1xuICBBcnJheS5pc0FycmF5KHQpIHx8IChuID0gdCwgdCA9IFtdKTtcbiAgbGV0IG8sIGwsIGMsIGQsIGgsIFMsIEMsIFgsIEUsIGEsIHgsIE4sIEk7XG4gIGNvbnN0IHMgPSBrZShuLCB0KSwgZiA9IExlKHtcbiAgICBjb250YWluZXJzOiBzLmNvbnRhaW5lcnMsXG4gICAgc3RhcnQ6IHZlLFxuICAgIGVuZDogRyxcbiAgICBjYW5jZWw6IHEsXG4gICAgcmVtb3ZlOiBXLFxuICAgIGRlc3Ryb3k6IGFlLFxuICAgIGNhbk1vdmU6IGdlLFxuICAgIGRyYWdnaW5nOiAhMVxuICB9KTtcbiAgcmV0dXJuIHMucmVtb3ZlT25TcGlsbCAmJiBmLm9uKFwib3ZlclwiLCBoZSkub24oXCJvdXRcIiwgYmUpLCBqKCksIGY7XG4gIGZ1bmN0aW9uIFIoZSkge1xuICAgIHJldHVybiBmLmNvbnRhaW5lcnMuaW5kZXhPZihlKSAhPT0gLTEgfHwgcy5pc0NvbnRhaW5lcihlKTtcbiAgfVxuICBmdW5jdGlvbiBqKGUpIHtcbiAgICBjb25zdCByID0gZSA/IFwicmVtb3ZlRXZlbnRMaXN0ZW5lclwiIDogXCJhZGRFdmVudExpc3RlbmVyXCI7XG4gICAgTVtyXShcInBvaW50ZXJkb3duXCIsIG1lLCAhMCksIE1bcl0oXCJwb2ludGVydXBcIiwgRCwgITApO1xuICB9XG4gIGZ1bmN0aW9uIGsoZSkge1xuICAgIE1bZSA/IFwicmVtb3ZlRXZlbnRMaXN0ZW5lclwiIDogXCJhZGRFdmVudExpc3RlbmVyXCJdKFwicG9pbnRlcm1vdmVcIiwgcGUsICEwKTtcbiAgfVxuICBmdW5jdGlvbiBIKGUpIHtcbiAgICBNW2UgPyBcInJlbW92ZUV2ZW50TGlzdGVuZXJcIiA6IFwiYWRkRXZlbnRMaXN0ZW5lclwiXShcImNsaWNrXCIsIGRlLCAhMCk7XG4gIH1cbiAgZnVuY3Rpb24gYWUoKSB7XG4gICAgaighMCksIEQoe30pO1xuICB9XG4gIGZ1bmN0aW9uIGRlKGUpIHtcbiAgICBJICYmIGUucHJldmVudERlZmF1bHQoKTtcbiAgfVxuICBmdW5jdGlvbiBtZShlKSB7XG4gICAgaWYgKFMgPSBlLmNsaWVudFgsIEMgPSBlLmNsaWVudFksIG5lKGUpICE9PSAxIHx8IGUubWV0YUtleSB8fCBlLmN0cmxLZXkpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgaSA9IGUudGFyZ2V0LCB1ID0gQShpKTtcbiAgICB1ICYmIChJID0gdSwgaygpLCBlLnR5cGUgPT09IFwicG9pbnRlcmRvd25cIiAmJiAodWUoaSkgPyBpLmZvY3VzKCkgOiBlLnByZXZlbnREZWZhdWx0KCkpKTtcbiAgfVxuICBmdW5jdGlvbiBwZShlKSB7XG4gICAgaWYgKCFJKVxuICAgICAgcmV0dXJuO1xuICAgIGlmIChuZShlKSA9PT0gMCkge1xuICAgICAgRCh7fSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChlLmNsaWVudFggIT09IHZvaWQgMCAmJiBNYXRoLmFicyhlLmNsaWVudFggLSBTKSA8PSAocy5zbGlkZUZhY3RvclggfHwgMCkgJiYgZS5jbGllbnRZICE9PSB2b2lkIDAgJiYgTWF0aC5hYnMoZS5jbGllbnRZIC0gQykgPD0gKHMuc2xpZGVGYWN0b3JZIHx8IDApKVxuICAgICAgcmV0dXJuO1xuICAgIGlmIChzLmlnbm9yZUlucHV0VGV4dFNlbGVjdGlvbikge1xuICAgICAgY29uc3Qge1xuICAgICAgICBjbGllbnRYOiBPID0gMCxcbiAgICAgICAgY2xpZW50WTogbSA9IDBcbiAgICAgIH0gPSBlLCB3ID0gZmUuZWxlbWVudEZyb21Qb2ludChPLCBtKTtcbiAgICAgIGlmICh1ZSh3KSlcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCByID0gSTtcbiAgICBrKCEwKSwgSCgpLCBHKCksIEsocik7XG4gICAgY29uc3QgaSA9IEFlKGMpLCB1ID0gcy50cmFuc2Zvcm1PZmZzZXQoaSwgZSwgYyksIHtcbiAgICAgIHBhZ2VYOiBnID0gMCxcbiAgICAgIHBhZ2VZOiBwID0gMFxuICAgIH0gPSBlO1xuICAgIGQgPSBnIC0gdS5sZWZ0LCBoID0gcCAtIHUudG9wLCBZKGEgfHwgYywgXCJndS10cmFuc2l0XCIpLCB5ZSgpLCAkKGUpO1xuICB9XG4gIGZ1bmN0aW9uIEEoZSkge1xuICAgIGlmIChmLmRyYWdnaW5nICYmIG8gfHwgUihlKSlcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCByID0gZTtcbiAgICBmb3IgKDsgdihlKSAmJiBSKHYoZSkpID09PSAhMTsgKVxuICAgICAgaWYgKHMuaW52YWxpZChlLCByKSB8fCAoZSA9IHYoZSksICFlKSlcbiAgICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IGkgPSB2KGUpO1xuICAgIGlmICghKCFpIHx8IHMuaW52YWxpZChlLCByKSB8fCAhcy5tb3ZlcyhlLCBpLCByLCBUKGUpKSkpXG4gICAgICByZXR1cm4ge1xuICAgICAgICBpdGVtOiBlLFxuICAgICAgICBzb3VyY2U6IGlcbiAgICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gZ2UoZSkge1xuICAgIHJldHVybiAhIUEoZSk7XG4gIH1cbiAgZnVuY3Rpb24gdmUoZSkge1xuICAgIGNvbnN0IHIgPSBBKGUpO1xuICAgIHIgJiYgSyhyKTtcbiAgfVxuICBmdW5jdGlvbiBLKGUpIHtcbiAgICBFZShlLml0ZW0sIGUuc291cmNlKSAmJiAoYSA9IGUuaXRlbS5jbG9uZU5vZGUoITApLCBmLmVtaXQoXCJjbG9uZWRcIiwgYSwgZS5pdGVtLCBcImNvcHlcIikpLCBsID0gZS5zb3VyY2UsIGMgPSBlLml0ZW0sIFggPSBFID0gVChlLml0ZW0pLCBmLmRyYWdnaW5nID0gITAsIGYuZW1pdChcImRyYWdcIiwgYywgbCk7XG4gIH1cbiAgZnVuY3Rpb24gRygpIHtcbiAgICBpZiAoIWYuZHJhZ2dpbmcpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgZSA9IGEgfHwgYztcbiAgICBWKGUsIHYoZSkpO1xuICB9XG4gIGZ1bmN0aW9uIFUoKSB7XG4gICAgSSA9ICExLCBrKCEwKSwgSCghMCk7XG4gIH1cbiAgZnVuY3Rpb24gRChlKSB7XG4gICAgaWYgKFUoKSwgIWYuZHJhZ2dpbmcpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgciA9IGEgfHwgYywge1xuICAgICAgY2xpZW50WDogaSA9IDAsXG4gICAgICBjbGllbnRZOiB1ID0gMFxuICAgIH0gPSBlLCBnID0gaWUobywgaSwgdSksIHAgPSBKKGcsIGksIHUpO1xuICAgIHAgJiYgKGEgJiYgcy5jb3B5U29ydFNvdXJjZSB8fCAhYSB8fCBwICE9PSBsKSA/IFYociwgcCkgOiBzLnJlbW92ZU9uU3BpbGwgPyBXKCkgOiBxKCk7XG4gIH1cbiAgZnVuY3Rpb24gVihlLCByKSB7XG4gICAgY29uc3QgaSA9IHYoZSk7XG4gICAgYSAmJiBzLmNvcHlTb3J0U291cmNlICYmIHIgPT09IGwgJiYgaS5yZW1vdmVDaGlsZChjKSwgUChyKSA/IGYuZW1pdChcImNhbmNlbFwiLCBlLCBsLCBsKSA6IGYuZW1pdChcImRyb3BcIiwgZSwgciwgbCwgRSksIEYoKTtcbiAgfVxuICBmdW5jdGlvbiBXKCkge1xuICAgIGlmICghZi5kcmFnZ2luZylcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCBlID0gYSB8fCBjLCByID0gdihlKTtcbiAgICByICYmIHIucmVtb3ZlQ2hpbGQoZSksIGYuZW1pdChhID8gXCJjYW5jZWxcIiA6IFwicmVtb3ZlXCIsIGUsIHIsIGwpLCBGKCk7XG4gIH1cbiAgZnVuY3Rpb24gcShlKSB7XG4gICAgaWYgKCFmLmRyYWdnaW5nKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IHIgPSBhcmd1bWVudHMubGVuZ3RoID4gMCA/IGUgOiBzLnJldmVydE9uU3BpbGwsIGkgPSBhIHx8IGMsIHUgPSB2KGkpLCBnID0gUCh1KTtcbiAgICBnID09PSAhMSAmJiByICYmIChhID8gdSAmJiB1LnJlbW92ZUNoaWxkKGEpIDogbC5pbnNlcnRCZWZvcmUoaSwgWCkpLCBnIHx8IHIgPyBmLmVtaXQoXCJjYW5jZWxcIiwgaSwgbCwgbCkgOiBmLmVtaXQoXCJkcm9wXCIsIGksIHUsIGwsIEUpLCBGKCk7XG4gIH1cbiAgZnVuY3Rpb24gRigpIHtcbiAgICBjb25zdCBlID0gYSB8fCBjO1xuICAgIFUoKSwgU2UoKSwgZSAmJiBMKGUsIFwiZ3UtdHJhbnNpdFwiKSwgeCAmJiBjbGVhclRpbWVvdXQoeCksIGYuZHJhZ2dpbmcgPSAhMSwgTiAmJiBmLmVtaXQoXCJvdXRcIiwgZSwgTiwgbCksIGYuZW1pdChcImRyYWdlbmRcIiwgZSksIGwgPSBjID0gYSA9IFggPSBFID0geCA9IE4gPSBudWxsO1xuICB9XG4gIGZ1bmN0aW9uIFAoZSwgcikge1xuICAgIGxldCBpO1xuICAgIHJldHVybiByICE9PSB2b2lkIDAgPyBpID0gciA6IG8gPyBpID0gRSA6IGkgPSBUKGEgfHwgYyksIGUgPT09IGwgJiYgaSA9PT0gWDtcbiAgfVxuICBmdW5jdGlvbiBKKGUsIHIsIGkpIHtcbiAgICBsZXQgdSA9IGU7XG4gICAgZm9yICg7IHUgJiYgIWcoKTsgKVxuICAgICAgdSA9IHYodSk7XG4gICAgcmV0dXJuIHU7XG4gICAgZnVuY3Rpb24gZygpIHtcbiAgICAgIGlmIChSKHUpID09PSAhMSlcbiAgICAgICAgcmV0dXJuICExO1xuICAgICAgY29uc3QgTyA9IFEodSwgZSksIG0gPSBaKHUsIE8sIHIsIGkpO1xuICAgICAgcmV0dXJuIFAodSwgbSkgPyAhMCA6IHMuYWNjZXB0cyhjLCB1LCBsLCBtKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gJChlKSB7XG4gICAgaWYgKCFvKVxuICAgICAgcmV0dXJuO1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCB7XG4gICAgICBjbGllbnRYOiByID0gMCxcbiAgICAgIGNsaWVudFk6IGkgPSAwXG4gICAgfSA9IGUsIHUgPSByIC0gZCwgZyA9IGkgLSBoO1xuICAgIG8uc3R5bGUubGVmdCA9IHUgKyBcInB4XCIsIG8uc3R5bGUudG9wID0gZyArIFwicHhcIjtcbiAgICBjb25zdCBwID0gYSB8fCBjLCBPID0gaWUobywgciwgaSk7XG4gICAgbGV0IG0gPSBKKE8sIHIsIGkpO1xuICAgIGNvbnN0IHcgPSBtICE9PSBudWxsICYmIG0gIT09IE47XG4gICAgKHcgfHwgbSA9PT0gbnVsbCkgJiYgKHdlKCksIE4gPSBtLCBDZSgpKTtcbiAgICBjb25zdCBiID0gdihwKTtcbiAgICBpZiAobSA9PT0gbCAmJiBhICYmICFzLmNvcHlTb3J0U291cmNlKSB7XG4gICAgICBiICYmIGIucmVtb3ZlQ2hpbGQocCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCB5O1xuICAgIGNvbnN0IEIgPSBRKG0sIE8pO1xuICAgIGlmIChCICE9PSBudWxsKVxuICAgICAgeSA9IFoobSwgQiwgciwgaSk7XG4gICAgZWxzZSBpZiAocy5yZXZlcnRPblNwaWxsID09PSAhMCAmJiAhYSlcbiAgICAgIHkgPSBYLCBtID0gbDtcbiAgICBlbHNlIHtcbiAgICAgIGEgJiYgYiAmJiBiLnJlbW92ZUNoaWxkKHApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAoeSA9PT0gbnVsbCAmJiB3IHx8IHkgIT09IHAgJiYgeSAhPT0gVChwKSkgJiYgKEUgPSB5LCBtLmluc2VydEJlZm9yZShwLCB5KSwgZi5lbWl0KFwic2hhZG93XCIsIHAsIG0sIGwpKTtcbiAgICBmdW5jdGlvbiBfKE9lKSB7XG4gICAgICBmLmVtaXQoT2UsIHAsIE4sIGwpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBDZSgpIHtcbiAgICAgIHcgJiYgXyhcIm92ZXJcIik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHdlKCkge1xuICAgICAgTiAmJiBfKFwib3V0XCIpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBoZShlKSB7XG4gICAgTChlLCBcImd1LWhpZGVcIik7XG4gIH1cbiAgZnVuY3Rpb24gYmUoZSkge1xuICAgIGYuZHJhZ2dpbmcgJiYgWShlLCBcImd1LWhpZGVcIik7XG4gIH1cbiAgZnVuY3Rpb24geWUoKSB7XG4gICAgaWYgKG8pXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgZSA9IGMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgbyA9IGMuY2xvbmVOb2RlKCEwKSwgby5zdHlsZS53aWR0aCA9IG9lKGUpICsgXCJweFwiLCBvLnN0eWxlLmhlaWdodCA9IGNlKGUpICsgXCJweFwiLCBMKG8sIFwiZ3UtdHJhbnNpdFwiKSwgWShvLCBcImd1LW1pcnJvclwiKSwgcy5taXJyb3JDb250YWluZXIuYXBwZW5kQ2hpbGQobyksIE0uYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJtb3ZlXCIsICQpLCBZKHMubWlycm9yQ29udGFpbmVyLCBcImd1LXVuc2VsZWN0YWJsZVwiKSwgZi5lbWl0KFwiY2xvbmVkXCIsIG8sIGMsIFwibWlycm9yXCIpO1xuICB9XG4gIGZ1bmN0aW9uIFNlKCkge1xuICAgIG8gJiYgKEwocy5taXJyb3JDb250YWluZXIsIFwiZ3UtdW5zZWxlY3RhYmxlXCIpLCBNLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwb2ludGVybW92ZVwiLCAkKSwgdihvKS5yZW1vdmVDaGlsZChvKSwgbyA9IG51bGwpO1xuICB9XG4gIGZ1bmN0aW9uIFEoZSwgcikge1xuICAgIGxldCBpID0gcjtcbiAgICBmb3IgKDsgaSAhPT0gZSAmJiB2KGkpICE9PSBlOyApXG4gICAgICBpID0gdihpKTtcbiAgICByZXR1cm4gaSA9PT0gTSA/IG51bGwgOiBpO1xuICB9XG4gIGZ1bmN0aW9uIFooZSwgciwgaSwgdSkge1xuICAgIGNvbnN0IGcgPSAodHlwZW9mIHMuZGlyZWN0aW9uID09IFwiZnVuY3Rpb25cIiA/IHMuZGlyZWN0aW9uKGMsIGUsIGwpIDogcy5kaXJlY3Rpb24pID09PSBcImhvcml6b250YWxcIjtcbiAgICByZXR1cm4gciAhPT0gZSA/IG0oKSA6IE8oKTtcbiAgICBmdW5jdGlvbiBPKCkge1xuICAgICAgY29uc3QgYiA9IGUuY2hpbGRyZW4ubGVuZ3RoO1xuICAgICAgbGV0IHksIEIsIF87XG4gICAgICBmb3IgKHkgPSAwOyB5IDwgYjsgeSsrKVxuICAgICAgICBpZiAoQiA9IGUuY2hpbGRyZW5beV0sIF8gPSBCLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCBnICYmIF8ubGVmdCArIF8ud2lkdGggLyAyID4gaSB8fCAhZyAmJiBfLnRvcCArIF8uaGVpZ2h0IC8gMiA+IHUpXG4gICAgICAgICAgcmV0dXJuIEI7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gbSgpIHtcbiAgICAgIGNvbnN0IGIgPSByLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgcmV0dXJuIHcoZyA/IGkgPiBiLmxlZnQgKyBvZShiKSAvIDIgOiB1ID4gYi50b3AgKyBjZShiKSAvIDIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB3KGIpIHtcbiAgICAgIHJldHVybiBiID8gVChyKSA6IHI7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIEVlKGUsIHIpIHtcbiAgICByZXR1cm4gdHlwZW9mIHMuY29weSA9PSBcImJvb2xlYW5cIiA/IHMuY29weSA6IHMuY29weShlLCByKTtcbiAgfVxufVxuZXhwb3J0IHtcbiAgRGUgYXMgZGVmYXVsdFxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../node_modules/@bpmn-io/draggle/dist/draggle.js\n\n}");

/***/ },

/***/ "../node_modules/@bpmn-io/form-js-editor/node_modules/ids/dist/index.js"
/*!******************************************************************************!*\
  !*** ../node_modules/@bpmn-io/form-js-editor/node_modules/ids/dist/index.js ***!
  \******************************************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Ids: () => (/* binding */ Ids)\n/* harmony export */ });\nfunction getDefaultExportFromCjs (x) {\n\treturn x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;\n}\n\nvar hat$1 = {exports: {}};\n\nvar hasRequiredHat;\n\nfunction requireHat () {\n\tif (hasRequiredHat) return hat$1.exports;\n\thasRequiredHat = 1;\n\tvar hat = hat$1.exports = function (bits, base) {\n\t    if (!base) base = 16;\n\t    if (bits === undefined) bits = 128;\n\t    if (bits <= 0) return '0';\n\t    \n\t    var digits = Math.log(Math.pow(2, bits)) / Math.log(base);\n\t    for (var i = 2; digits === Infinity; i *= 2) {\n\t        digits = Math.log(Math.pow(2, bits / i)) / Math.log(base) * i;\n\t    }\n\t    \n\t    var rem = digits - Math.floor(digits);\n\t    \n\t    var res = '';\n\t    \n\t    for (var i = 0; i < Math.floor(digits); i++) {\n\t        var x = Math.floor(Math.random() * base).toString(base);\n\t        res = x + res;\n\t    }\n\t    \n\t    if (rem) {\n\t        var b = Math.pow(base, rem);\n\t        var x = Math.floor(Math.random() * b).toString(base);\n\t        res = x + res;\n\t    }\n\t    \n\t    var parsed = parseInt(res, base);\n\t    if (parsed !== Infinity && parsed >= Math.pow(2, bits)) {\n\t        return hat(bits, base)\n\t    }\n\t    else return res;\n\t};\n\n\that.rack = function (bits, base, expandBy) {\n\t    var fn = function (data) {\n\t        var iters = 0;\n\t        do {\n\t            if (iters ++ > 10) {\n\t                if (expandBy) bits += expandBy;\n\t                else throw new Error('too many ID collisions, use more bits')\n\t            }\n\t            \n\t            var id = hat(bits, base);\n\t        } while (Object.hasOwnProperty.call(hats, id));\n\t        \n\t        hats[id] = data;\n\t        return id;\n\t    };\n\t    var hats = fn.hats = {};\n\t    \n\t    fn.get = function (id) {\n\t        return fn.hats[id];\n\t    };\n\t    \n\t    fn.set = function (id, value) {\n\t        fn.hats[id] = value;\n\t        return fn;\n\t    };\n\t    \n\t    fn.bits = bits || 128;\n\t    fn.base = base || 16;\n\t    return fn;\n\t};\n\treturn hat$1.exports;\n}\n\nvar hatExports = requireHat();\nvar hat = /*@__PURE__*/getDefaultExportFromCjs(hatExports);\n\n/**\n * @typedef { [ number, number ] | [ number, number, number ] } Seed\n */\n\n/**\n * Create a new id generator / cache instance.\n *\n * You may optionally provide a seed that is used internally.\n *\n * @param {Seed} [seed]\n */\nfunction Ids(seed) {\n\n  if (!(this instanceof Ids)) {\n    return new Ids(seed);\n  }\n\n  seed = seed || [ 128, 36, 1 ];\n  this._seed = seed.length ? hat.rack(seed[0], seed[1], seed[2]) : seed;\n}\n\n/**\n * Generate a next id.\n *\n * @param {Object} [element] element to bind the id to\n *\n * @return {String} id\n */\nIds.prototype.next = function(element) {\n  return this._seed(element || true);\n};\n\n/**\n * Generate a next id with a given prefix.\n *\n * @param {Object} [element] element to bind the id to\n *\n * @return {String} id\n */\nIds.prototype.nextPrefixed = function(prefix, element) {\n  var id;\n\n  do {\n    id = prefix + this.next(true);\n  } while (this.assigned(id));\n\n  // claim {prefix}{random}\n  this.claim(id, element);\n\n  // return\n  return id;\n};\n\n/**\n * Manually claim an existing id.\n *\n * @param {String} id\n * @param {String} [element] element the id is claimed by\n */\nIds.prototype.claim = function(id, element) {\n  this._seed.set(id, element || true);\n};\n\n/**\n * Returns true if the given id has already been assigned.\n *\n * @param  {String} id\n * @return {Boolean}\n */\nIds.prototype.assigned = function(id) {\n  return this._seed.get(id) || false;\n};\n\n/**\n * Unclaim an id.\n *\n * @param  {String} id the id to unclaim\n */\nIds.prototype.unclaim = function(id) {\n  delete this._seed.hats[id];\n};\n\n\n/**\n * Clear all claimed ids.\n */\nIds.prototype.clear = function() {\n\n  var hats = this._seed.hats,\n      id;\n\n  for (id in hats) {\n    this.unclaim(id);\n  }\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL0BicG1uLWlvL2Zvcm0tanMtZWRpdG9yL25vZGVfbW9kdWxlcy9pZHMvZGlzdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBOztBQUVBLGFBQWE7O0FBRWI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLHFCQUFxQjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQix3QkFBd0I7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxjQUFjLGtEQUFrRDtBQUNoRTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxNQUFNO0FBQ2pCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQSxZQUFZLFFBQVE7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0EsWUFBWSxRQUFRO0FBQ3BCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSixZQUFZLFFBQVE7QUFDcEI7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsWUFBWSxRQUFRO0FBQ3BCLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFFBQVE7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRWUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jYW11bmRhLW1vZGVsZXItY2xpZW50Ly4uL25vZGVfbW9kdWxlcy9AYnBtbi1pby9mb3JtLWpzLWVkaXRvci9ub2RlX21vZHVsZXMvaWRzL2Rpc3QvaW5kZXguanM/ZjFmZiJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBnZXREZWZhdWx0RXhwb3J0RnJvbUNqcyAoeCkge1xuXHRyZXR1cm4geCAmJiB4Ll9fZXNNb2R1bGUgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHgsICdkZWZhdWx0JykgPyB4WydkZWZhdWx0J10gOiB4O1xufVxuXG52YXIgaGF0JDEgPSB7ZXhwb3J0czoge319O1xuXG52YXIgaGFzUmVxdWlyZWRIYXQ7XG5cbmZ1bmN0aW9uIHJlcXVpcmVIYXQgKCkge1xuXHRpZiAoaGFzUmVxdWlyZWRIYXQpIHJldHVybiBoYXQkMS5leHBvcnRzO1xuXHRoYXNSZXF1aXJlZEhhdCA9IDE7XG5cdHZhciBoYXQgPSBoYXQkMS5leHBvcnRzID0gZnVuY3Rpb24gKGJpdHMsIGJhc2UpIHtcblx0ICAgIGlmICghYmFzZSkgYmFzZSA9IDE2O1xuXHQgICAgaWYgKGJpdHMgPT09IHVuZGVmaW5lZCkgYml0cyA9IDEyODtcblx0ICAgIGlmIChiaXRzIDw9IDApIHJldHVybiAnMCc7XG5cdCAgICBcblx0ICAgIHZhciBkaWdpdHMgPSBNYXRoLmxvZyhNYXRoLnBvdygyLCBiaXRzKSkgLyBNYXRoLmxvZyhiYXNlKTtcblx0ICAgIGZvciAodmFyIGkgPSAyOyBkaWdpdHMgPT09IEluZmluaXR5OyBpICo9IDIpIHtcblx0ICAgICAgICBkaWdpdHMgPSBNYXRoLmxvZyhNYXRoLnBvdygyLCBiaXRzIC8gaSkpIC8gTWF0aC5sb2coYmFzZSkgKiBpO1xuXHQgICAgfVxuXHQgICAgXG5cdCAgICB2YXIgcmVtID0gZGlnaXRzIC0gTWF0aC5mbG9vcihkaWdpdHMpO1xuXHQgICAgXG5cdCAgICB2YXIgcmVzID0gJyc7XG5cdCAgICBcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgTWF0aC5mbG9vcihkaWdpdHMpOyBpKyspIHtcblx0ICAgICAgICB2YXIgeCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGJhc2UpLnRvU3RyaW5nKGJhc2UpO1xuXHQgICAgICAgIHJlcyA9IHggKyByZXM7XG5cdCAgICB9XG5cdCAgICBcblx0ICAgIGlmIChyZW0pIHtcblx0ICAgICAgICB2YXIgYiA9IE1hdGgucG93KGJhc2UsIHJlbSk7XG5cdCAgICAgICAgdmFyIHggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBiKS50b1N0cmluZyhiYXNlKTtcblx0ICAgICAgICByZXMgPSB4ICsgcmVzO1xuXHQgICAgfVxuXHQgICAgXG5cdCAgICB2YXIgcGFyc2VkID0gcGFyc2VJbnQocmVzLCBiYXNlKTtcblx0ICAgIGlmIChwYXJzZWQgIT09IEluZmluaXR5ICYmIHBhcnNlZCA+PSBNYXRoLnBvdygyLCBiaXRzKSkge1xuXHQgICAgICAgIHJldHVybiBoYXQoYml0cywgYmFzZSlcblx0ICAgIH1cblx0ICAgIGVsc2UgcmV0dXJuIHJlcztcblx0fTtcblxuXHRoYXQucmFjayA9IGZ1bmN0aW9uIChiaXRzLCBiYXNlLCBleHBhbmRCeSkge1xuXHQgICAgdmFyIGZuID0gZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgICB2YXIgaXRlcnMgPSAwO1xuXHQgICAgICAgIGRvIHtcblx0ICAgICAgICAgICAgaWYgKGl0ZXJzICsrID4gMTApIHtcblx0ICAgICAgICAgICAgICAgIGlmIChleHBhbmRCeSkgYml0cyArPSBleHBhbmRCeTtcblx0ICAgICAgICAgICAgICAgIGVsc2UgdGhyb3cgbmV3IEVycm9yKCd0b28gbWFueSBJRCBjb2xsaXNpb25zLCB1c2UgbW9yZSBiaXRzJylcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBcblx0ICAgICAgICAgICAgdmFyIGlkID0gaGF0KGJpdHMsIGJhc2UpO1xuXHQgICAgICAgIH0gd2hpbGUgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGhhdHMsIGlkKSk7XG5cdCAgICAgICAgXG5cdCAgICAgICAgaGF0c1tpZF0gPSBkYXRhO1xuXHQgICAgICAgIHJldHVybiBpZDtcblx0ICAgIH07XG5cdCAgICB2YXIgaGF0cyA9IGZuLmhhdHMgPSB7fTtcblx0ICAgIFxuXHQgICAgZm4uZ2V0ID0gZnVuY3Rpb24gKGlkKSB7XG5cdCAgICAgICAgcmV0dXJuIGZuLmhhdHNbaWRdO1xuXHQgICAgfTtcblx0ICAgIFxuXHQgICAgZm4uc2V0ID0gZnVuY3Rpb24gKGlkLCB2YWx1ZSkge1xuXHQgICAgICAgIGZuLmhhdHNbaWRdID0gdmFsdWU7XG5cdCAgICAgICAgcmV0dXJuIGZuO1xuXHQgICAgfTtcblx0ICAgIFxuXHQgICAgZm4uYml0cyA9IGJpdHMgfHwgMTI4O1xuXHQgICAgZm4uYmFzZSA9IGJhc2UgfHwgMTY7XG5cdCAgICByZXR1cm4gZm47XG5cdH07XG5cdHJldHVybiBoYXQkMS5leHBvcnRzO1xufVxuXG52YXIgaGF0RXhwb3J0cyA9IHJlcXVpcmVIYXQoKTtcbnZhciBoYXQgPSAvKkBfX1BVUkVfXyovZ2V0RGVmYXVsdEV4cG9ydEZyb21DanMoaGF0RXhwb3J0cyk7XG5cbi8qKlxuICogQHR5cGVkZWYgeyBbIG51bWJlciwgbnVtYmVyIF0gfCBbIG51bWJlciwgbnVtYmVyLCBudW1iZXIgXSB9IFNlZWRcbiAqL1xuXG4vKipcbiAqIENyZWF0ZSBhIG5ldyBpZCBnZW5lcmF0b3IgLyBjYWNoZSBpbnN0YW5jZS5cbiAqXG4gKiBZb3UgbWF5IG9wdGlvbmFsbHkgcHJvdmlkZSBhIHNlZWQgdGhhdCBpcyB1c2VkIGludGVybmFsbHkuXG4gKlxuICogQHBhcmFtIHtTZWVkfSBbc2VlZF1cbiAqL1xuZnVuY3Rpb24gSWRzKHNlZWQpIHtcblxuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgSWRzKSkge1xuICAgIHJldHVybiBuZXcgSWRzKHNlZWQpO1xuICB9XG5cbiAgc2VlZCA9IHNlZWQgfHwgWyAxMjgsIDM2LCAxIF07XG4gIHRoaXMuX3NlZWQgPSBzZWVkLmxlbmd0aCA/IGhhdC5yYWNrKHNlZWRbMF0sIHNlZWRbMV0sIHNlZWRbMl0pIDogc2VlZDtcbn1cblxuLyoqXG4gKiBHZW5lcmF0ZSBhIG5leHQgaWQuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IFtlbGVtZW50XSBlbGVtZW50IHRvIGJpbmQgdGhlIGlkIHRvXG4gKlxuICogQHJldHVybiB7U3RyaW5nfSBpZFxuICovXG5JZHMucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gIHJldHVybiB0aGlzLl9zZWVkKGVsZW1lbnQgfHwgdHJ1ZSk7XG59O1xuXG4vKipcbiAqIEdlbmVyYXRlIGEgbmV4dCBpZCB3aXRoIGEgZ2l2ZW4gcHJlZml4LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBbZWxlbWVudF0gZWxlbWVudCB0byBiaW5kIHRoZSBpZCB0b1xuICpcbiAqIEByZXR1cm4ge1N0cmluZ30gaWRcbiAqL1xuSWRzLnByb3RvdHlwZS5uZXh0UHJlZml4ZWQgPSBmdW5jdGlvbihwcmVmaXgsIGVsZW1lbnQpIHtcbiAgdmFyIGlkO1xuXG4gIGRvIHtcbiAgICBpZCA9IHByZWZpeCArIHRoaXMubmV4dCh0cnVlKTtcbiAgfSB3aGlsZSAodGhpcy5hc3NpZ25lZChpZCkpO1xuXG4gIC8vIGNsYWltIHtwcmVmaXh9e3JhbmRvbX1cbiAgdGhpcy5jbGFpbShpZCwgZWxlbWVudCk7XG5cbiAgLy8gcmV0dXJuXG4gIHJldHVybiBpZDtcbn07XG5cbi8qKlxuICogTWFudWFsbHkgY2xhaW0gYW4gZXhpc3RpbmcgaWQuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGlkXG4gKiBAcGFyYW0ge1N0cmluZ30gW2VsZW1lbnRdIGVsZW1lbnQgdGhlIGlkIGlzIGNsYWltZWQgYnlcbiAqL1xuSWRzLnByb3RvdHlwZS5jbGFpbSA9IGZ1bmN0aW9uKGlkLCBlbGVtZW50KSB7XG4gIHRoaXMuX3NlZWQuc2V0KGlkLCBlbGVtZW50IHx8IHRydWUpO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIGlkIGhhcyBhbHJlYWR5IGJlZW4gYXNzaWduZWQuXG4gKlxuICogQHBhcmFtICB7U3RyaW5nfSBpZFxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuSWRzLnByb3RvdHlwZS5hc3NpZ25lZCA9IGZ1bmN0aW9uKGlkKSB7XG4gIHJldHVybiB0aGlzLl9zZWVkLmdldChpZCkgfHwgZmFsc2U7XG59O1xuXG4vKipcbiAqIFVuY2xhaW0gYW4gaWQuXG4gKlxuICogQHBhcmFtICB7U3RyaW5nfSBpZCB0aGUgaWQgdG8gdW5jbGFpbVxuICovXG5JZHMucHJvdG90eXBlLnVuY2xhaW0gPSBmdW5jdGlvbihpZCkge1xuICBkZWxldGUgdGhpcy5fc2VlZC5oYXRzW2lkXTtcbn07XG5cblxuLyoqXG4gKiBDbGVhciBhbGwgY2xhaW1lZCBpZHMuXG4gKi9cbklkcy5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbigpIHtcblxuICB2YXIgaGF0cyA9IHRoaXMuX3NlZWQuaGF0cyxcbiAgICAgIGlkO1xuXG4gIGZvciAoaWQgaW4gaGF0cykge1xuICAgIHRoaXMudW5jbGFpbShpZCk7XG4gIH1cbn07XG5cbmV4cG9ydCB7IElkcyB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../node_modules/@bpmn-io/form-js-editor/node_modules/ids/dist/index.js\n\n}");

/***/ },

/***/ "../node_modules/@bpmn-io/form-js-viewer/node_modules/ids/dist/index.js"
/*!******************************************************************************!*\
  !*** ../node_modules/@bpmn-io/form-js-viewer/node_modules/ids/dist/index.js ***!
  \******************************************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Ids: () => (/* binding */ Ids)\n/* harmony export */ });\nfunction getDefaultExportFromCjs (x) {\n\treturn x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;\n}\n\nvar hat$1 = {exports: {}};\n\nvar hasRequiredHat;\n\nfunction requireHat () {\n\tif (hasRequiredHat) return hat$1.exports;\n\thasRequiredHat = 1;\n\tvar hat = hat$1.exports = function (bits, base) {\n\t    if (!base) base = 16;\n\t    if (bits === undefined) bits = 128;\n\t    if (bits <= 0) return '0';\n\t    \n\t    var digits = Math.log(Math.pow(2, bits)) / Math.log(base);\n\t    for (var i = 2; digits === Infinity; i *= 2) {\n\t        digits = Math.log(Math.pow(2, bits / i)) / Math.log(base) * i;\n\t    }\n\t    \n\t    var rem = digits - Math.floor(digits);\n\t    \n\t    var res = '';\n\t    \n\t    for (var i = 0; i < Math.floor(digits); i++) {\n\t        var x = Math.floor(Math.random() * base).toString(base);\n\t        res = x + res;\n\t    }\n\t    \n\t    if (rem) {\n\t        var b = Math.pow(base, rem);\n\t        var x = Math.floor(Math.random() * b).toString(base);\n\t        res = x + res;\n\t    }\n\t    \n\t    var parsed = parseInt(res, base);\n\t    if (parsed !== Infinity && parsed >= Math.pow(2, bits)) {\n\t        return hat(bits, base)\n\t    }\n\t    else return res;\n\t};\n\n\that.rack = function (bits, base, expandBy) {\n\t    var fn = function (data) {\n\t        var iters = 0;\n\t        do {\n\t            if (iters ++ > 10) {\n\t                if (expandBy) bits += expandBy;\n\t                else throw new Error('too many ID collisions, use more bits')\n\t            }\n\t            \n\t            var id = hat(bits, base);\n\t        } while (Object.hasOwnProperty.call(hats, id));\n\t        \n\t        hats[id] = data;\n\t        return id;\n\t    };\n\t    var hats = fn.hats = {};\n\t    \n\t    fn.get = function (id) {\n\t        return fn.hats[id];\n\t    };\n\t    \n\t    fn.set = function (id, value) {\n\t        fn.hats[id] = value;\n\t        return fn;\n\t    };\n\t    \n\t    fn.bits = bits || 128;\n\t    fn.base = base || 16;\n\t    return fn;\n\t};\n\treturn hat$1.exports;\n}\n\nvar hatExports = requireHat();\nvar hat = /*@__PURE__*/getDefaultExportFromCjs(hatExports);\n\n/**\n * @typedef { [ number, number ] | [ number, number, number ] } Seed\n */\n\n/**\n * Create a new id generator / cache instance.\n *\n * You may optionally provide a seed that is used internally.\n *\n * @param {Seed} [seed]\n */\nfunction Ids(seed) {\n\n  if (!(this instanceof Ids)) {\n    return new Ids(seed);\n  }\n\n  seed = seed || [ 128, 36, 1 ];\n  this._seed = seed.length ? hat.rack(seed[0], seed[1], seed[2]) : seed;\n}\n\n/**\n * Generate a next id.\n *\n * @param {Object} [element] element to bind the id to\n *\n * @return {String} id\n */\nIds.prototype.next = function(element) {\n  return this._seed(element || true);\n};\n\n/**\n * Generate a next id with a given prefix.\n *\n * @param {Object} [element] element to bind the id to\n *\n * @return {String} id\n */\nIds.prototype.nextPrefixed = function(prefix, element) {\n  var id;\n\n  do {\n    id = prefix + this.next(true);\n  } while (this.assigned(id));\n\n  // claim {prefix}{random}\n  this.claim(id, element);\n\n  // return\n  return id;\n};\n\n/**\n * Manually claim an existing id.\n *\n * @param {String} id\n * @param {String} [element] element the id is claimed by\n */\nIds.prototype.claim = function(id, element) {\n  this._seed.set(id, element || true);\n};\n\n/**\n * Returns true if the given id has already been assigned.\n *\n * @param  {String} id\n * @return {Boolean}\n */\nIds.prototype.assigned = function(id) {\n  return this._seed.get(id) || false;\n};\n\n/**\n * Unclaim an id.\n *\n * @param  {String} id the id to unclaim\n */\nIds.prototype.unclaim = function(id) {\n  delete this._seed.hats[id];\n};\n\n\n/**\n * Clear all claimed ids.\n */\nIds.prototype.clear = function() {\n\n  var hats = this._seed.hats,\n      id;\n\n  for (id in hats) {\n    this.unclaim(id);\n  }\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL0BicG1uLWlvL2Zvcm0tanMtdmlld2VyL25vZGVfbW9kdWxlcy9pZHMvZGlzdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBOztBQUVBLGFBQWE7O0FBRWI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLHFCQUFxQjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQix3QkFBd0I7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxjQUFjLGtEQUFrRDtBQUNoRTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxNQUFNO0FBQ2pCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQSxZQUFZLFFBQVE7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0EsWUFBWSxRQUFRO0FBQ3BCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSixZQUFZLFFBQVE7QUFDcEI7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsWUFBWSxRQUFRO0FBQ3BCLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFFBQVE7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRWUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jYW11bmRhLW1vZGVsZXItY2xpZW50Ly4uL25vZGVfbW9kdWxlcy9AYnBtbi1pby9mb3JtLWpzLXZpZXdlci9ub2RlX21vZHVsZXMvaWRzL2Rpc3QvaW5kZXguanM/NDc3MSJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBnZXREZWZhdWx0RXhwb3J0RnJvbUNqcyAoeCkge1xuXHRyZXR1cm4geCAmJiB4Ll9fZXNNb2R1bGUgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHgsICdkZWZhdWx0JykgPyB4WydkZWZhdWx0J10gOiB4O1xufVxuXG52YXIgaGF0JDEgPSB7ZXhwb3J0czoge319O1xuXG52YXIgaGFzUmVxdWlyZWRIYXQ7XG5cbmZ1bmN0aW9uIHJlcXVpcmVIYXQgKCkge1xuXHRpZiAoaGFzUmVxdWlyZWRIYXQpIHJldHVybiBoYXQkMS5leHBvcnRzO1xuXHRoYXNSZXF1aXJlZEhhdCA9IDE7XG5cdHZhciBoYXQgPSBoYXQkMS5leHBvcnRzID0gZnVuY3Rpb24gKGJpdHMsIGJhc2UpIHtcblx0ICAgIGlmICghYmFzZSkgYmFzZSA9IDE2O1xuXHQgICAgaWYgKGJpdHMgPT09IHVuZGVmaW5lZCkgYml0cyA9IDEyODtcblx0ICAgIGlmIChiaXRzIDw9IDApIHJldHVybiAnMCc7XG5cdCAgICBcblx0ICAgIHZhciBkaWdpdHMgPSBNYXRoLmxvZyhNYXRoLnBvdygyLCBiaXRzKSkgLyBNYXRoLmxvZyhiYXNlKTtcblx0ICAgIGZvciAodmFyIGkgPSAyOyBkaWdpdHMgPT09IEluZmluaXR5OyBpICo9IDIpIHtcblx0ICAgICAgICBkaWdpdHMgPSBNYXRoLmxvZyhNYXRoLnBvdygyLCBiaXRzIC8gaSkpIC8gTWF0aC5sb2coYmFzZSkgKiBpO1xuXHQgICAgfVxuXHQgICAgXG5cdCAgICB2YXIgcmVtID0gZGlnaXRzIC0gTWF0aC5mbG9vcihkaWdpdHMpO1xuXHQgICAgXG5cdCAgICB2YXIgcmVzID0gJyc7XG5cdCAgICBcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgTWF0aC5mbG9vcihkaWdpdHMpOyBpKyspIHtcblx0ICAgICAgICB2YXIgeCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGJhc2UpLnRvU3RyaW5nKGJhc2UpO1xuXHQgICAgICAgIHJlcyA9IHggKyByZXM7XG5cdCAgICB9XG5cdCAgICBcblx0ICAgIGlmIChyZW0pIHtcblx0ICAgICAgICB2YXIgYiA9IE1hdGgucG93KGJhc2UsIHJlbSk7XG5cdCAgICAgICAgdmFyIHggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBiKS50b1N0cmluZyhiYXNlKTtcblx0ICAgICAgICByZXMgPSB4ICsgcmVzO1xuXHQgICAgfVxuXHQgICAgXG5cdCAgICB2YXIgcGFyc2VkID0gcGFyc2VJbnQocmVzLCBiYXNlKTtcblx0ICAgIGlmIChwYXJzZWQgIT09IEluZmluaXR5ICYmIHBhcnNlZCA+PSBNYXRoLnBvdygyLCBiaXRzKSkge1xuXHQgICAgICAgIHJldHVybiBoYXQoYml0cywgYmFzZSlcblx0ICAgIH1cblx0ICAgIGVsc2UgcmV0dXJuIHJlcztcblx0fTtcblxuXHRoYXQucmFjayA9IGZ1bmN0aW9uIChiaXRzLCBiYXNlLCBleHBhbmRCeSkge1xuXHQgICAgdmFyIGZuID0gZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgICB2YXIgaXRlcnMgPSAwO1xuXHQgICAgICAgIGRvIHtcblx0ICAgICAgICAgICAgaWYgKGl0ZXJzICsrID4gMTApIHtcblx0ICAgICAgICAgICAgICAgIGlmIChleHBhbmRCeSkgYml0cyArPSBleHBhbmRCeTtcblx0ICAgICAgICAgICAgICAgIGVsc2UgdGhyb3cgbmV3IEVycm9yKCd0b28gbWFueSBJRCBjb2xsaXNpb25zLCB1c2UgbW9yZSBiaXRzJylcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBcblx0ICAgICAgICAgICAgdmFyIGlkID0gaGF0KGJpdHMsIGJhc2UpO1xuXHQgICAgICAgIH0gd2hpbGUgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGhhdHMsIGlkKSk7XG5cdCAgICAgICAgXG5cdCAgICAgICAgaGF0c1tpZF0gPSBkYXRhO1xuXHQgICAgICAgIHJldHVybiBpZDtcblx0ICAgIH07XG5cdCAgICB2YXIgaGF0cyA9IGZuLmhhdHMgPSB7fTtcblx0ICAgIFxuXHQgICAgZm4uZ2V0ID0gZnVuY3Rpb24gKGlkKSB7XG5cdCAgICAgICAgcmV0dXJuIGZuLmhhdHNbaWRdO1xuXHQgICAgfTtcblx0ICAgIFxuXHQgICAgZm4uc2V0ID0gZnVuY3Rpb24gKGlkLCB2YWx1ZSkge1xuXHQgICAgICAgIGZuLmhhdHNbaWRdID0gdmFsdWU7XG5cdCAgICAgICAgcmV0dXJuIGZuO1xuXHQgICAgfTtcblx0ICAgIFxuXHQgICAgZm4uYml0cyA9IGJpdHMgfHwgMTI4O1xuXHQgICAgZm4uYmFzZSA9IGJhc2UgfHwgMTY7XG5cdCAgICByZXR1cm4gZm47XG5cdH07XG5cdHJldHVybiBoYXQkMS5leHBvcnRzO1xufVxuXG52YXIgaGF0RXhwb3J0cyA9IHJlcXVpcmVIYXQoKTtcbnZhciBoYXQgPSAvKkBfX1BVUkVfXyovZ2V0RGVmYXVsdEV4cG9ydEZyb21DanMoaGF0RXhwb3J0cyk7XG5cbi8qKlxuICogQHR5cGVkZWYgeyBbIG51bWJlciwgbnVtYmVyIF0gfCBbIG51bWJlciwgbnVtYmVyLCBudW1iZXIgXSB9IFNlZWRcbiAqL1xuXG4vKipcbiAqIENyZWF0ZSBhIG5ldyBpZCBnZW5lcmF0b3IgLyBjYWNoZSBpbnN0YW5jZS5cbiAqXG4gKiBZb3UgbWF5IG9wdGlvbmFsbHkgcHJvdmlkZSBhIHNlZWQgdGhhdCBpcyB1c2VkIGludGVybmFsbHkuXG4gKlxuICogQHBhcmFtIHtTZWVkfSBbc2VlZF1cbiAqL1xuZnVuY3Rpb24gSWRzKHNlZWQpIHtcblxuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgSWRzKSkge1xuICAgIHJldHVybiBuZXcgSWRzKHNlZWQpO1xuICB9XG5cbiAgc2VlZCA9IHNlZWQgfHwgWyAxMjgsIDM2LCAxIF07XG4gIHRoaXMuX3NlZWQgPSBzZWVkLmxlbmd0aCA/IGhhdC5yYWNrKHNlZWRbMF0sIHNlZWRbMV0sIHNlZWRbMl0pIDogc2VlZDtcbn1cblxuLyoqXG4gKiBHZW5lcmF0ZSBhIG5leHQgaWQuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IFtlbGVtZW50XSBlbGVtZW50IHRvIGJpbmQgdGhlIGlkIHRvXG4gKlxuICogQHJldHVybiB7U3RyaW5nfSBpZFxuICovXG5JZHMucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gIHJldHVybiB0aGlzLl9zZWVkKGVsZW1lbnQgfHwgdHJ1ZSk7XG59O1xuXG4vKipcbiAqIEdlbmVyYXRlIGEgbmV4dCBpZCB3aXRoIGEgZ2l2ZW4gcHJlZml4LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBbZWxlbWVudF0gZWxlbWVudCB0byBiaW5kIHRoZSBpZCB0b1xuICpcbiAqIEByZXR1cm4ge1N0cmluZ30gaWRcbiAqL1xuSWRzLnByb3RvdHlwZS5uZXh0UHJlZml4ZWQgPSBmdW5jdGlvbihwcmVmaXgsIGVsZW1lbnQpIHtcbiAgdmFyIGlkO1xuXG4gIGRvIHtcbiAgICBpZCA9IHByZWZpeCArIHRoaXMubmV4dCh0cnVlKTtcbiAgfSB3aGlsZSAodGhpcy5hc3NpZ25lZChpZCkpO1xuXG4gIC8vIGNsYWltIHtwcmVmaXh9e3JhbmRvbX1cbiAgdGhpcy5jbGFpbShpZCwgZWxlbWVudCk7XG5cbiAgLy8gcmV0dXJuXG4gIHJldHVybiBpZDtcbn07XG5cbi8qKlxuICogTWFudWFsbHkgY2xhaW0gYW4gZXhpc3RpbmcgaWQuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGlkXG4gKiBAcGFyYW0ge1N0cmluZ30gW2VsZW1lbnRdIGVsZW1lbnQgdGhlIGlkIGlzIGNsYWltZWQgYnlcbiAqL1xuSWRzLnByb3RvdHlwZS5jbGFpbSA9IGZ1bmN0aW9uKGlkLCBlbGVtZW50KSB7XG4gIHRoaXMuX3NlZWQuc2V0KGlkLCBlbGVtZW50IHx8IHRydWUpO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIGlkIGhhcyBhbHJlYWR5IGJlZW4gYXNzaWduZWQuXG4gKlxuICogQHBhcmFtICB7U3RyaW5nfSBpZFxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuSWRzLnByb3RvdHlwZS5hc3NpZ25lZCA9IGZ1bmN0aW9uKGlkKSB7XG4gIHJldHVybiB0aGlzLl9zZWVkLmdldChpZCkgfHwgZmFsc2U7XG59O1xuXG4vKipcbiAqIFVuY2xhaW0gYW4gaWQuXG4gKlxuICogQHBhcmFtICB7U3RyaW5nfSBpZCB0aGUgaWQgdG8gdW5jbGFpbVxuICovXG5JZHMucHJvdG90eXBlLnVuY2xhaW0gPSBmdW5jdGlvbihpZCkge1xuICBkZWxldGUgdGhpcy5fc2VlZC5oYXRzW2lkXTtcbn07XG5cblxuLyoqXG4gKiBDbGVhciBhbGwgY2xhaW1lZCBpZHMuXG4gKi9cbklkcy5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbigpIHtcblxuICB2YXIgaGF0cyA9IHRoaXMuX3NlZWQuaGF0cyxcbiAgICAgIGlkO1xuXG4gIGZvciAoaWQgaW4gaGF0cykge1xuICAgIHRoaXMudW5jbGFpbShpZCk7XG4gIH1cbn07XG5cbmV4cG9ydCB7IElkcyB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../node_modules/@bpmn-io/form-js-viewer/node_modules/ids/dist/index.js\n\n}");

/***/ },

/***/ "../node_modules/@camunda/form-playground/node_modules/min-dash/dist/index.esm.js"
/*!****************************************************************************************!*\
  !*** ../node_modules/@camunda/form-playground/node_modules/min-dash/dist/index.esm.js ***!
  \****************************************************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   assign: () => (/* binding */ assign),\n/* harmony export */   bind: () => (/* binding */ bind),\n/* harmony export */   debounce: () => (/* binding */ debounce),\n/* harmony export */   ensureArray: () => (/* binding */ ensureArray),\n/* harmony export */   every: () => (/* binding */ every),\n/* harmony export */   filter: () => (/* binding */ filter),\n/* harmony export */   find: () => (/* binding */ find),\n/* harmony export */   findIndex: () => (/* binding */ findIndex),\n/* harmony export */   flatten: () => (/* binding */ flatten),\n/* harmony export */   forEach: () => (/* binding */ forEach),\n/* harmony export */   get: () => (/* binding */ get),\n/* harmony export */   groupBy: () => (/* binding */ groupBy),\n/* harmony export */   has: () => (/* binding */ has),\n/* harmony export */   isArray: () => (/* binding */ isArray),\n/* harmony export */   isDefined: () => (/* binding */ isDefined),\n/* harmony export */   isFunction: () => (/* binding */ isFunction),\n/* harmony export */   isNil: () => (/* binding */ isNil),\n/* harmony export */   isNumber: () => (/* binding */ isNumber),\n/* harmony export */   isObject: () => (/* binding */ isObject),\n/* harmony export */   isString: () => (/* binding */ isString),\n/* harmony export */   isUndefined: () => (/* binding */ isUndefined),\n/* harmony export */   keys: () => (/* binding */ keys),\n/* harmony export */   map: () => (/* binding */ map),\n/* harmony export */   matchPattern: () => (/* binding */ matchPattern),\n/* harmony export */   merge: () => (/* binding */ merge),\n/* harmony export */   omit: () => (/* binding */ omit),\n/* harmony export */   pick: () => (/* binding */ pick),\n/* harmony export */   reduce: () => (/* binding */ reduce),\n/* harmony export */   set: () => (/* binding */ set),\n/* harmony export */   size: () => (/* binding */ size),\n/* harmony export */   some: () => (/* binding */ some),\n/* harmony export */   sortBy: () => (/* binding */ sortBy),\n/* harmony export */   throttle: () => (/* binding */ throttle),\n/* harmony export */   unionBy: () => (/* binding */ unionBy),\n/* harmony export */   uniqueBy: () => (/* binding */ uniqueBy),\n/* harmony export */   values: () => (/* binding */ values),\n/* harmony export */   without: () => (/* binding */ without)\n/* harmony export */ });\n/**\n * Flatten array, one level deep.\n *\n * @template T\n *\n * @param {T[][] | T[] | null} [arr]\n *\n * @return {T[]}\n */\nfunction flatten(arr) {\n  return Array.prototype.concat.apply([], arr);\n}\n\nconst nativeToString = Object.prototype.toString;\nconst nativeHasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction isUndefined(obj) {\n  return obj === undefined;\n}\n\nfunction isDefined(obj) {\n  return obj !== undefined;\n}\n\nfunction isNil(obj) {\n  return obj == null;\n}\n\nfunction isArray(obj) {\n  return nativeToString.call(obj) === '[object Array]';\n}\n\nfunction isObject(obj) {\n  return nativeToString.call(obj) === '[object Object]';\n}\n\nfunction isNumber(obj) {\n  return nativeToString.call(obj) === '[object Number]';\n}\n\n/**\n * @param {any} obj\n *\n * @return {boolean}\n */\nfunction isFunction(obj) {\n  const tag = nativeToString.call(obj);\n\n  return (\n    tag === '[object Function]' ||\n    tag === '[object AsyncFunction]' ||\n    tag === '[object GeneratorFunction]' ||\n    tag === '[object AsyncGeneratorFunction]' ||\n    tag === '[object Proxy]'\n  );\n}\n\nfunction isString(obj) {\n  return nativeToString.call(obj) === '[object String]';\n}\n\n\n/**\n * Ensure collection is an array.\n *\n * @param {Object} obj\n */\nfunction ensureArray(obj) {\n\n  if (isArray(obj)) {\n    return;\n  }\n\n  throw new Error('must supply array');\n}\n\n/**\n * Return true, if target owns a property with the given key.\n *\n * @param {Object} target\n * @param {String} key\n *\n * @return {Boolean}\n */\nfunction has(target, key) {\n  return !isNil(target) && nativeHasOwnProperty.call(target, key);\n}\n\n/**\n * @template T\n * @typedef { (\n *   ((e: T) => boolean) |\n *   ((e: T, idx: number) => boolean) |\n *   ((e: T, key: string) => boolean) |\n *   string |\n *   number\n * ) } Matcher\n */\n\n/**\n * @template T\n * @template U\n *\n * @typedef { (\n *   ((e: T) => U) | string | number\n * ) } Extractor\n */\n\n\n/**\n * @template T\n * @typedef { (val: T, key: any) => boolean } MatchFn\n */\n\n/**\n * @template T\n * @typedef { T[] } ArrayCollection\n */\n\n/**\n * @template T\n * @typedef { { [key: string]: T } } StringKeyValueCollection\n */\n\n/**\n * @template T\n * @typedef { { [key: number]: T } } NumberKeyValueCollection\n */\n\n/**\n * @template T\n * @typedef { StringKeyValueCollection<T> | NumberKeyValueCollection<T> } KeyValueCollection\n */\n\n/**\n * @template T\n * @typedef { KeyValueCollection<T> | ArrayCollection<T> } Collection\n */\n\n/**\n * Find element in collection.\n *\n * @template T\n * @param {Collection<T>} collection\n * @param {Matcher<T>} matcher\n *\n * @return {Object}\n */\nfunction find(collection, matcher) {\n\n  const matchFn = toMatcher(matcher);\n\n  let match;\n\n  forEach(collection, function(val, key) {\n    if (matchFn(val, key)) {\n      match = val;\n\n      return false;\n    }\n  });\n\n  return match;\n\n}\n\n\n/**\n * Find element index in collection.\n *\n * @template T\n * @param {Collection<T>} collection\n * @param {Matcher<T>} matcher\n *\n * @return {number | string | undefined}\n */\nfunction findIndex(collection, matcher) {\n\n  const matchFn = toMatcher(matcher);\n\n  let idx = isArray(collection) ? -1 : undefined;\n\n  forEach(collection, function(val, key) {\n    if (matchFn(val, key)) {\n      idx = key;\n\n      return false;\n    }\n  });\n\n  return idx;\n}\n\n\n/**\n * Filter elements in collection.\n *\n * @template T\n * @param {Collection<T>} collection\n * @param {Matcher<T>} matcher\n *\n * @return {T[]} result\n */\nfunction filter(collection, matcher) {\n\n  const matchFn = toMatcher(matcher);\n\n  let result = [];\n\n  forEach(collection, function(val, key) {\n    if (matchFn(val, key)) {\n      result.push(val);\n    }\n  });\n\n  return result;\n}\n\n\n/**\n * Iterate over collection; returning something\n * (non-undefined) will stop iteration.\n *\n * @template T\n * @param {Collection<T>} collection\n * @param { ((item: T, idx: number) => (boolean|void)) | ((item: T, key: string) => (boolean|void)) } iterator\n *\n * @return {T} return result that stopped the iteration\n */\nfunction forEach(collection, iterator) {\n\n  let val,\n      result;\n\n  if (isUndefined(collection)) {\n    return;\n  }\n\n  const convertKey = isArray(collection) ? toNum : identity;\n\n  for (let key in collection) {\n\n    if (has(collection, key)) {\n      val = collection[key];\n\n      result = iterator(val, convertKey(key));\n\n      if (result === false) {\n        return val;\n      }\n    }\n  }\n}\n\n/**\n * Return collection without element.\n *\n * @template T\n * @param {ArrayCollection<T>} arr\n * @param {Matcher<T>} matcher\n *\n * @return {T[]}\n */\nfunction without(arr, matcher) {\n\n  if (isUndefined(arr)) {\n    return [];\n  }\n\n  ensureArray(arr);\n\n  const matchFn = toMatcher(matcher);\n\n  return arr.filter(function(el, idx) {\n    return !matchFn(el, idx);\n  });\n\n}\n\n\n/**\n * Reduce collection, returning a single result.\n *\n * @template T\n * @template V\n *\n * @param {Collection<T>} collection\n * @param {(result: V, entry: T, index: any) => V} iterator\n * @param {V} result\n *\n * @return {V} result returned from last iterator\n */\nfunction reduce(collection, iterator, result) {\n\n  forEach(collection, function(value, idx) {\n    result = iterator(result, value, idx);\n  });\n\n  return result;\n}\n\n\n/**\n * Return true if every element in the collection\n * matches the criteria.\n *\n * @param  {Object|Array} collection\n * @param  {Function} matcher\n *\n * @return {Boolean}\n */\nfunction every(collection, matcher) {\n\n  return !!reduce(collection, function(matches, val, key) {\n    return matches && matcher(val, key);\n  }, true);\n}\n\n\n/**\n * Return true if some elements in the collection\n * match the criteria.\n *\n * @param  {Object|Array} collection\n * @param  {Function} matcher\n *\n * @return {Boolean}\n */\nfunction some(collection, matcher) {\n\n  return !!find(collection, matcher);\n}\n\n\n/**\n * Transform a collection into another collection\n * by piping each member through the given fn.\n *\n * @param  {Object|Array}   collection\n * @param  {Function} fn\n *\n * @return {Array} transformed collection\n */\nfunction map(collection, fn) {\n\n  let result = [];\n\n  forEach(collection, function(val, key) {\n    result.push(fn(val, key));\n  });\n\n  return result;\n}\n\n\n/**\n * Get the collections keys.\n *\n * @param  {Object|Array} collection\n *\n * @return {Array}\n */\nfunction keys(collection) {\n  return collection && Object.keys(collection) || [];\n}\n\n\n/**\n * Shorthand for `keys(o).length`.\n *\n * @param  {Object|Array} collection\n *\n * @return {Number}\n */\nfunction size(collection) {\n  return keys(collection).length;\n}\n\n\n/**\n * Get the values in the collection.\n *\n * @param  {Object|Array} collection\n *\n * @return {Array}\n */\nfunction values(collection) {\n  return map(collection, (val) => val);\n}\n\n\n/**\n * Group collection members by attribute.\n *\n * @param {Object|Array} collection\n * @param {Extractor} extractor\n *\n * @return {Object} map with { attrValue => [ a, b, c ] }\n */\nfunction groupBy(collection, extractor, grouped = {}) {\n\n  extractor = toExtractor(extractor);\n\n  forEach(collection, function(val) {\n    let discriminator = extractor(val) || '_';\n\n    let group = grouped[discriminator];\n\n    if (!group) {\n      group = grouped[discriminator] = [];\n    }\n\n    group.push(val);\n  });\n\n  return grouped;\n}\n\n\nfunction uniqueBy(extractor, ...collections) {\n\n  extractor = toExtractor(extractor);\n\n  let grouped = {};\n\n  forEach(collections, (c) => groupBy(c, extractor, grouped));\n\n  let result = map(grouped, function(val, key) {\n    return val[0];\n  });\n\n  return result;\n}\n\n\nconst unionBy = uniqueBy;\n\n\n\n/**\n * Sort collection by criteria.\n *\n * @template T\n *\n * @param {Collection<T>} collection\n * @param {Extractor<T, number | string>} extractor\n *\n * @return {Array}\n */\nfunction sortBy(collection, extractor) {\n\n  extractor = toExtractor(extractor);\n\n  let sorted = [];\n\n  forEach(collection, function(value, key) {\n    let disc = extractor(value, key);\n\n    let entry = {\n      d: disc,\n      v: value\n    };\n\n    for (var idx = 0; idx < sorted.length; idx++) {\n      let { d } = sorted[idx];\n\n      if (disc < d) {\n        sorted.splice(idx, 0, entry);\n        return;\n      }\n    }\n\n    // not inserted, append (!)\n    sorted.push(entry);\n  });\n\n  return map(sorted, (e) => e.v);\n}\n\n\n/**\n * Create an object pattern matcher.\n *\n * @example\n *\n * ```javascript\n * const matcher = matchPattern({ id: 1 });\n *\n * let element = find(elements, matcher);\n * ```\n *\n * @template T\n *\n * @param {T} pattern\n *\n * @return { (el: any) =>  boolean } matcherFn\n */\nfunction matchPattern(pattern) {\n\n  return function(el) {\n\n    return every(pattern, function(val, key) {\n      return el[key] === val;\n    });\n\n  };\n}\n\n\n/**\n * @param {string | ((e: any) => any) } extractor\n *\n * @return { (e: any) => any }\n */\nfunction toExtractor(extractor) {\n\n  /**\n   * @satisfies { (e: any) => any }\n   */\n  return isFunction(extractor) ? extractor : (e) => {\n\n    // @ts-ignore: just works\n    return e[extractor];\n  };\n}\n\n\n/**\n * @template T\n * @param {Matcher<T>} matcher\n *\n * @return {MatchFn<T>}\n */\nfunction toMatcher(matcher) {\n  return isFunction(matcher) ? matcher : (e) => {\n    return e === matcher;\n  };\n}\n\n\nfunction identity(arg) {\n  return arg;\n}\n\nfunction toNum(arg) {\n  return Number(arg);\n}\n\n/* global setTimeout clearTimeout */\n\n/**\n * @typedef { {\n *   (...args: any[]): any;\n *   flush: () => void;\n *   cancel: () => void;\n * } } DebouncedFunction\n */\n\n/**\n * Debounce fn, calling it only once if the given time\n * elapsed between calls.\n *\n * Lodash-style the function exposes methods to `#clear`\n * and `#flush` to control internal behavior.\n *\n * @param  {Function} fn\n * @param  {Number} timeout\n *\n * @return {DebouncedFunction} debounced function\n */\nfunction debounce(fn, timeout) {\n\n  let timer;\n\n  let lastArgs;\n  let lastThis;\n\n  let lastNow;\n\n  function fire(force) {\n\n    let now = Date.now();\n\n    let scheduledDiff = force ? 0 : (lastNow + timeout) - now;\n\n    if (scheduledDiff > 0) {\n      return schedule(scheduledDiff);\n    }\n\n    fn.apply(lastThis, lastArgs);\n\n    clear();\n  }\n\n  function schedule(timeout) {\n    timer = setTimeout(fire, timeout);\n  }\n\n  function clear() {\n    if (timer) {\n      clearTimeout(timer);\n    }\n\n    timer = lastNow = lastArgs = lastThis = undefined;\n  }\n\n  function flush() {\n    if (timer) {\n      fire(true);\n    }\n\n    clear();\n  }\n\n  /**\n   * @type { DebouncedFunction }\n   */\n  function callback(...args) {\n    lastNow = Date.now();\n\n    lastArgs = args;\n    lastThis = this;\n\n    // ensure an execution is scheduled\n    if (!timer) {\n      schedule(timeout);\n    }\n  }\n\n  callback.flush = flush;\n  callback.cancel = clear;\n\n  return callback;\n}\n\n/**\n * Throttle fn, calling at most once\n * in the given interval.\n *\n * @param  {Function} fn\n * @param  {Number} interval\n *\n * @return {Function} throttled function\n */\nfunction throttle(fn, interval) {\n  let throttling = false;\n\n  return function(...args) {\n\n    if (throttling) {\n      return;\n    }\n\n    fn(...args);\n    throttling = true;\n\n    setTimeout(() => {\n      throttling = false;\n    }, interval);\n  };\n}\n\n/**\n * Bind function against target <this>.\n *\n * @param  {Function} fn\n * @param  {Object}   target\n *\n * @return {Function} bound function\n */\nfunction bind(fn, target) {\n  return fn.bind(target);\n}\n\n/**\n * Convenience wrapper for `Object.assign`.\n *\n * @param {Object} target\n * @param {...Object} others\n *\n * @return {Object} the target\n */\nfunction assign(target, ...others) {\n  return Object.assign(target, ...others);\n}\n\n/**\n * Sets a nested property of a given object to the specified value.\n *\n * This mutates the object and returns it.\n *\n * @template T\n *\n * @param {T} target The target of the set operation.\n * @param {(string|number)[]} path The path to the nested value.\n * @param {any} value The value to set.\n *\n * @return {T}\n */\nfunction set(target, path, value) {\n\n  let currentTarget = target;\n\n  forEach(path, function(key, idx) {\n\n    if (typeof key !== 'number' && typeof key !== 'string') {\n      throw new Error('illegal key type: ' + typeof key + '. Key should be of type number or string.');\n    }\n\n    if (key === 'constructor') {\n      throw new Error('illegal key: constructor');\n    }\n\n    if (key === '__proto__') {\n      throw new Error('illegal key: __proto__');\n    }\n\n    let nextKey = path[idx + 1];\n    let nextTarget = currentTarget[key];\n\n    if (isDefined(nextKey) && isNil(nextTarget)) {\n      nextTarget = currentTarget[key] = isNaN(+nextKey) ? {} : [];\n    }\n\n    if (isUndefined(nextKey)) {\n      if (isUndefined(value)) {\n        delete currentTarget[key];\n      } else {\n        currentTarget[key] = value;\n      }\n    } else {\n      currentTarget = nextTarget;\n    }\n  });\n\n  return target;\n}\n\n\n/**\n * Gets a nested property of a given object.\n *\n * @param {Object} target The target of the get operation.\n * @param {(string|number)[]} path The path to the nested value.\n * @param {any} [defaultValue] The value to return if no value exists.\n *\n * @return {any}\n */\nfunction get(target, path, defaultValue) {\n\n  let currentTarget = target;\n\n  forEach(path, function(key) {\n\n    // accessing nil property yields <undefined>\n    if (isNil(currentTarget)) {\n      currentTarget = undefined;\n\n      return false;\n    }\n\n    currentTarget = currentTarget[key];\n  });\n\n  return isUndefined(currentTarget) ? defaultValue : currentTarget;\n}\n\n/**\n * Pick properties from the given target.\n *\n * @template T\n * @template {any[]} V\n *\n * @param {T} target\n * @param {V} properties\n *\n * @return Pick<T, V>\n */\nfunction pick(target, properties) {\n\n  let result = {};\n\n  let obj = Object(target);\n\n  forEach(properties, function(prop) {\n\n    if (prop in obj) {\n      result[prop] = target[prop];\n    }\n  });\n\n  return result;\n}\n\n/**\n * Pick all target properties, excluding the given ones.\n *\n * @template T\n * @template {any[]} V\n *\n * @param {T} target\n * @param {V} properties\n *\n * @return {Omit<T, V>} target\n */\nfunction omit(target, properties) {\n\n  let result = {};\n\n  let obj = Object(target);\n\n  forEach(obj, function(prop, key) {\n\n    if (properties.indexOf(key) === -1) {\n      result[key] = prop;\n    }\n  });\n\n  return result;\n}\n\n/**\n * Recursively merge `...sources` into given target.\n *\n * Does support merging objects; does not support merging arrays.\n *\n * @param {Object} target\n * @param {...Object} sources\n *\n * @return {Object} the target\n */\nfunction merge(target, ...sources) {\n\n  if (!sources.length) {\n    return target;\n  }\n\n  forEach(sources, function(source) {\n\n    // skip non-obj sources, i.e. null\n    if (!source || !isObject(source)) {\n      return;\n    }\n\n    forEach(source, function(sourceVal, key) {\n\n      if (key === '__proto__') {\n        return;\n      }\n\n      let targetVal = target[key];\n\n      if (isObject(sourceVal)) {\n\n        if (!isObject(targetVal)) {\n\n          // override target[key] with object\n          targetVal = {};\n        }\n\n        target[key] = merge(targetVal, sourceVal);\n      } else {\n        target[key] = sourceVal;\n      }\n\n    });\n  });\n\n  return target;\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL0BjYW11bmRhL2Zvcm0tcGxheWdyb3VuZC9ub2RlX21vZHVsZXMvbWluLWRhc2gvZGlzdC9pbmRleC5lc20uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLG9CQUFvQjtBQUMvQjtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsV0FBVyxLQUFLO0FBQ2hCO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQjtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQSxPQUFPO0FBQ1A7OztBQUdBO0FBQ0E7QUFDQSxjQUFjLGdDQUFnQztBQUM5Qzs7QUFFQTtBQUNBO0FBQ0EsY0FBYyxNQUFNO0FBQ3BCOztBQUVBO0FBQ0E7QUFDQSxnQkFBZ0IscUJBQXFCO0FBQ3JDOztBQUVBO0FBQ0E7QUFDQSxnQkFBZ0IscUJBQXFCO0FBQ3JDOztBQUVBO0FBQ0E7QUFDQSxjQUFjLDREQUE0RDtBQUMxRTs7QUFFQTtBQUNBO0FB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QUNBLFdBQVcsR0FBRztBQUNkLFdBQVcsR0FBRztBQUNkO0FBQ0EsWUFBWSxZQUFZO0FBQ3hCO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFdBQVc7QUFDdEI7QUFDQSxZQUFZLFFBQVE7QUFDcEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFFBQVE7QUFDUjtBQUNBOztBQUVBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7O0FBRWlVIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2FtdW5kYS1tb2RlbGVyLWNsaWVudC8uLi9ub2RlX21vZHVsZXMvQGNhbXVuZGEvZm9ybS1wbGF5Z3JvdW5kL25vZGVfbW9kdWxlcy9taW4tZGFzaC9kaXN0L2luZGV4LmVzbS5qcz8yNmU0Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogRmxhdHRlbiBhcnJheSwgb25lIGxldmVsIGRlZXAuXG4gKlxuICogQHRlbXBsYXRlIFRcbiAqXG4gKiBAcGFyYW0ge1RbXVtdIHwgVFtdIHwgbnVsbH0gW2Fycl1cbiAqXG4gKiBAcmV0dXJuIHtUW119XG4gKi9cbmZ1bmN0aW9uIGZsYXR0ZW4oYXJyKSB7XG4gIHJldHVybiBBcnJheS5wcm90b3R5cGUuY29uY2F0LmFwcGx5KFtdLCBhcnIpO1xufVxuXG5jb25zdCBuYXRpdmVUb1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5jb25zdCBuYXRpdmVIYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKG9iaikge1xuICByZXR1cm4gb2JqID09PSB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIGlzRGVmaW5lZChvYmopIHtcbiAgcmV0dXJuIG9iaiAhPT0gdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiBpc05pbChvYmopIHtcbiAgcmV0dXJuIG9iaiA9PSBudWxsO1xufVxuXG5mdW5jdGlvbiBpc0FycmF5KG9iaikge1xuICByZXR1cm4gbmF0aXZlVG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBBcnJheV0nO1xufVxuXG5mdW5jdGlvbiBpc09iamVjdChvYmopIHtcbiAgcmV0dXJuIG5hdGl2ZVRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgT2JqZWN0XSc7XG59XG5cbmZ1bmN0aW9uIGlzTnVtYmVyKG9iaikge1xuICByZXR1cm4gbmF0aXZlVG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBOdW1iZXJdJztcbn1cblxuLyoqXG4gKiBAcGFyYW0ge2FueX0gb2JqXG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXNGdW5jdGlvbihvYmopIHtcbiAgY29uc3QgdGFnID0gbmF0aXZlVG9TdHJpbmcuY2FsbChvYmopO1xuXG4gIHJldHVybiAoXG4gICAgdGFnID09PSAnW29iamVjdCBGdW5jdGlvbl0nIHx8XG4gICAgdGFnID09PSAnW29iamVjdCBBc3luY0Z1bmN0aW9uXScgfHxcbiAgICB0YWcgPT09ICdbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXScgfHxcbiAgICB0YWcgPT09ICdbb2JqZWN0IEFzeW5jR2VuZXJhdG9yRnVuY3Rpb25dJyB8fFxuICAgIHRhZyA9PT0gJ1tvYmplY3QgUHJveHldJ1xuICApO1xufVxuXG5mdW5jdGlvbiBpc1N0cmluZyhvYmopIHtcbiAgcmV0dXJuIG5hdGl2ZVRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgU3RyaW5nXSc7XG59XG5cblxuLyoqXG4gKiBFbnN1cmUgY29sbGVjdGlvbiBpcyBhbiBhcnJheS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqXG4gKi9cbmZ1bmN0aW9uIGVuc3VyZUFycmF5KG9iaikge1xuXG4gIGlmIChpc0FycmF5KG9iaikpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB0aHJvdyBuZXcgRXJyb3IoJ211c3Qgc3VwcGx5IGFycmF5Jyk7XG59XG5cbi8qKlxuICogUmV0dXJuIHRydWUsIGlmIHRhcmdldCBvd25zIGEgcHJvcGVydHkgd2l0aCB0aGUgZ2l2ZW4ga2V5LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXRcbiAqIEBwYXJhbSB7U3RyaW5nfSBrZXlcbiAqXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICovXG5mdW5jdGlvbiBoYXModGFyZ2V0LCBrZXkpIHtcbiAgcmV0dXJuICFpc05pbCh0YXJnZXQpICYmIG5hdGl2ZUhhc093blByb3BlcnR5LmNhbGwodGFyZ2V0LCBrZXkpO1xufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAdHlwZWRlZiB7IChcbiAqICAgKChlOiBUKSA9PiBib29sZWFuKSB8XG4gKiAgICgoZTogVCwgaWR4OiBudW1iZXIpID0+IGJvb2xlYW4pIHxcbiAqICAgKChlOiBULCBrZXk6IHN0cmluZykgPT4gYm9vbGVhbikgfFxuICogICBzdHJpbmcgfFxuICogICBudW1iZXJcbiAqICkgfSBNYXRjaGVyXG4gKi9cblxuLyoqXG4gKiBAdGVtcGxhdGUgVFxuICogQHRlbXBsYXRlIFVcbiAqXG4gKiBAdHlwZWRlZiB7IChcbiAqICAgKChlOiBUKSA9PiBVKSB8IHN0cmluZyB8IG51bWJlclxuICogKSB9IEV4dHJhY3RvclxuICovXG5cblxuLyoqXG4gKiBAdGVtcGxhdGUgVFxuICogQHR5cGVkZWYgeyAodmFsOiBULCBrZXk6IGFueSkgPT4gYm9vbGVhbiB9IE1hdGNoRm5cbiAqL1xuXG4vKipcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAdHlwZWRlZiB7IFRbXSB9IEFycmF5Q29sbGVjdGlvblxuICovXG5cbi8qKlxuICogQHRlbXBsYXRlIFRcbiAqIEB0eXBlZGVmIHsgeyBba2V5OiBzdHJpbmddOiBUIH0gfSBTdHJpbmdLZXlWYWx1ZUNvbGxlY3Rpb25cbiAqL1xuXG4vKipcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAdHlwZWRlZiB7IHsgW2tleTogbnVtYmVyXTogVCB9IH0gTnVtYmVyS2V5VmFsdWVDb2xsZWN0aW9uXG4gKi9cblxuLyoqXG4gKiBAdGVtcGxhdGUgVFxuICogQHR5cGVkZWYgeyBTdHJpbmdLZXlWYWx1ZUNvbGxlY3Rpb248VD4gfCBOdW1iZXJLZXlWYWx1ZUNvbGxlY3Rpb248VD4gfSBLZXlWYWx1ZUNvbGxlY3Rpb25cbiAqL1xuXG4vKipcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAdHlwZWRlZiB7IEtleVZhbHVlQ29sbGVjdGlvbjxUPiB8IEFycmF5Q29sbGVjdGlvbjxUPiB9IENvbGxlY3Rpb25cbiAqL1xuXG4vKipcbiAqIEZpbmQgZWxlbWVudCBpbiBjb2xsZWN0aW9uLlxuICpcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge0NvbGxlY3Rpb248VD59IGNvbGxlY3Rpb25cbiAqIEBwYXJhbSB7TWF0Y2hlcjxUPn0gbWF0Y2hlclxuICpcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuZnVuY3Rpb24gZmluZChjb2xsZWN0aW9uLCBtYXRjaGVyKSB7XG5cbiAgY29uc3QgbWF0Y2hGbiA9IHRvTWF0Y2hlcihtYXRjaGVyKTtcblxuICBsZXQgbWF0Y2g7XG5cbiAgZm9yRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWwsIGtleSkge1xuICAgIGlmIChtYXRjaEZuKHZhbCwga2V5KSkge1xuICAgICAgbWF0Y2ggPSB2YWw7XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBtYXRjaDtcblxufVxuXG5cbi8qKlxuICogRmluZCBlbGVtZW50IGluZGV4IGluIGNvbGxlY3Rpb24uXG4gKlxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7Q29sbGVjdGlvbjxUPn0gY29sbGVjdGlvblxuICogQHBhcmFtIHtNYXRjaGVyPFQ+fSBtYXRjaGVyXG4gKlxuICogQHJldHVybiB7bnVtYmVyIHwgc3RyaW5nIHwgdW5kZWZpbmVkfVxuICovXG5mdW5jdGlvbiBmaW5kSW5kZXgoY29sbGVjdGlvbiwgbWF0Y2hlcikge1xuXG4gIGNvbnN0IG1hdGNoRm4gPSB0b01hdGNoZXIobWF0Y2hlcik7XG5cbiAgbGV0IGlkeCA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyAtMSA6IHVuZGVmaW5lZDtcblxuICBmb3JFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbCwga2V5KSB7XG4gICAgaWYgKG1hdGNoRm4odmFsLCBrZXkpKSB7XG4gICAgICBpZHggPSBrZXk7XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBpZHg7XG59XG5cblxuLyoqXG4gKiBGaWx0ZXIgZWxlbWVudHMgaW4gY29sbGVjdGlvbi5cbiAqXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtDb2xsZWN0aW9uPFQ+fSBjb2xsZWN0aW9uXG4gKiBAcGFyYW0ge01hdGNoZXI8VD59IG1hdGNoZXJcbiAqXG4gKiBAcmV0dXJuIHtUW119IHJlc3VsdFxuICovXG5mdW5jdGlvbiBmaWx0ZXIoY29sbGVjdGlvbiwgbWF0Y2hlcikge1xuXG4gIGNvbnN0IG1hdGNoRm4gPSB0b01hdGNoZXIobWF0Y2hlcik7XG5cbiAgbGV0IHJlc3VsdCA9IFtdO1xuXG4gIGZvckVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsLCBrZXkpIHtcbiAgICBpZiAobWF0Y2hGbih2YWwsIGtleSkpIHtcbiAgICAgIHJlc3VsdC5wdXNoKHZhbCk7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5cbi8qKlxuICogSXRlcmF0ZSBvdmVyIGNvbGxlY3Rpb247IHJldHVybmluZyBzb21ldGhpbmdcbiAqIChub24tdW5kZWZpbmVkKSB3aWxsIHN0b3AgaXRlcmF0aW9uLlxuICpcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge0NvbGxlY3Rpb248VD59IGNvbGxlY3Rpb25cbiAqIEBwYXJhbSB7ICgoaXRlbTogVCwgaWR4OiBudW1iZXIpID0+IChib29sZWFufHZvaWQpKSB8ICgoaXRlbTogVCwga2V5OiBzdHJpbmcpID0+IChib29sZWFufHZvaWQpKSB9IGl0ZXJhdG9yXG4gKlxuICogQHJldHVybiB7VH0gcmV0dXJuIHJlc3VsdCB0aGF0IHN0b3BwZWQgdGhlIGl0ZXJhdGlvblxuICovXG5mdW5jdGlvbiBmb3JFYWNoKGNvbGxlY3Rpb24sIGl0ZXJhdG9yKSB7XG5cbiAgbGV0IHZhbCxcbiAgICAgIHJlc3VsdDtcblxuICBpZiAoaXNVbmRlZmluZWQoY29sbGVjdGlvbikpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBjb252ZXJ0S2V5ID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IHRvTnVtIDogaWRlbnRpdHk7XG5cbiAgZm9yIChsZXQga2V5IGluIGNvbGxlY3Rpb24pIHtcblxuICAgIGlmIChoYXMoY29sbGVjdGlvbiwga2V5KSkge1xuICAgICAgdmFsID0gY29sbGVjdGlvbltrZXldO1xuXG4gICAgICByZXN1bHQgPSBpdGVyYXRvcih2YWwsIGNvbnZlcnRLZXkoa2V5KSk7XG5cbiAgICAgIGlmIChyZXN1bHQgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiB2YWw7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogUmV0dXJuIGNvbGxlY3Rpb24gd2l0aG91dCBlbGVtZW50LlxuICpcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge0FycmF5Q29sbGVjdGlvbjxUPn0gYXJyXG4gKiBAcGFyYW0ge01hdGNoZXI8VD59IG1hdGNoZXJcbiAqXG4gKiBAcmV0dXJuIHtUW119XG4gKi9cbmZ1bmN0aW9uIHdpdGhvdXQoYXJyLCBtYXRjaGVyKSB7XG5cbiAgaWYgKGlzVW5kZWZpbmVkKGFycikpIHtcbiAgICByZXR1cm4gW107XG4gIH1cblxuICBlbnN1cmVBcnJheShhcnIpO1xuXG4gIGNvbnN0IG1hdGNoRm4gPSB0b01hdGNoZXIobWF0Y2hlcik7XG5cbiAgcmV0dXJuIGFyci5maWx0ZXIoZnVuY3Rpb24oZWwsIGlkeCkge1xuICAgIHJldHVybiAhbWF0Y2hGbihlbCwgaWR4KTtcbiAgfSk7XG5cbn1cblxuXG4vKipcbiAqIFJlZHVjZSBjb2xsZWN0aW9uLCByZXR1cm5pbmcgYSBzaW5nbGUgcmVzdWx0LlxuICpcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAdGVtcGxhdGUgVlxuICpcbiAqIEBwYXJhbSB7Q29sbGVjdGlvbjxUPn0gY29sbGVjdGlvblxuICogQHBhcmFtIHsocmVzdWx0OiBWLCBlbnRyeTogVCwgaW5kZXg6IGFueSkgPT4gVn0gaXRlcmF0b3JcbiAqIEBwYXJhbSB7Vn0gcmVzdWx0XG4gKlxuICogQHJldHVybiB7Vn0gcmVzdWx0IHJldHVybmVkIGZyb20gbGFzdCBpdGVyYXRvclxuICovXG5mdW5jdGlvbiByZWR1Y2UoY29sbGVjdGlvbiwgaXRlcmF0b3IsIHJlc3VsdCkge1xuXG4gIGZvckVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGlkeCkge1xuICAgIHJlc3VsdCA9IGl0ZXJhdG9yKHJlc3VsdCwgdmFsdWUsIGlkeCk7XG4gIH0pO1xuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cblxuLyoqXG4gKiBSZXR1cm4gdHJ1ZSBpZiBldmVyeSBlbGVtZW50IGluIHRoZSBjb2xsZWN0aW9uXG4gKiBtYXRjaGVzIHRoZSBjcml0ZXJpYS5cbiAqXG4gKiBAcGFyYW0gIHtPYmplY3R8QXJyYXl9IGNvbGxlY3Rpb25cbiAqIEBwYXJhbSAge0Z1bmN0aW9ufSBtYXRjaGVyXG4gKlxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gZXZlcnkoY29sbGVjdGlvbiwgbWF0Y2hlcikge1xuXG4gIHJldHVybiAhIXJlZHVjZShjb2xsZWN0aW9uLCBmdW5jdGlvbihtYXRjaGVzLCB2YWwsIGtleSkge1xuICAgIHJldHVybiBtYXRjaGVzICYmIG1hdGNoZXIodmFsLCBrZXkpO1xuICB9LCB0cnVlKTtcbn1cblxuXG4vKipcbiAqIFJldHVybiB0cnVlIGlmIHNvbWUgZWxlbWVudHMgaW4gdGhlIGNvbGxlY3Rpb25cbiAqIG1hdGNoIHRoZSBjcml0ZXJpYS5cbiAqXG4gKiBAcGFyYW0gIHtPYmplY3R8QXJyYXl9IGNvbGxlY3Rpb25cbiAqIEBwYXJhbSAge0Z1bmN0aW9ufSBtYXRjaGVyXG4gKlxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gc29tZShjb2xsZWN0aW9uLCBtYXRjaGVyKSB7XG5cbiAgcmV0dXJuICEhZmluZChjb2xsZWN0aW9uLCBtYXRjaGVyKTtcbn1cblxuXG4vKipcbiAqIFRyYW5zZm9ybSBhIGNvbGxlY3Rpb24gaW50byBhbm90aGVyIGNvbGxlY3Rpb25cbiAqIGJ5IHBpcGluZyBlYWNoIG1lbWJlciB0aHJvdWdoIHRoZSBnaXZlbiBmbi5cbiAqXG4gKiBAcGFyYW0gIHtPYmplY3R8QXJyYXl9ICAgY29sbGVjdGlvblxuICogQHBhcmFtICB7RnVuY3Rpb259IGZuXG4gKlxuICogQHJldHVybiB7QXJyYXl9IHRyYW5zZm9ybWVkIGNvbGxlY3Rpb25cbiAqL1xuZnVuY3Rpb24gbWFwKGNvbGxlY3Rpb24sIGZuKSB7XG5cbiAgbGV0IHJlc3VsdCA9IFtdO1xuXG4gIGZvckVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsLCBrZXkpIHtcbiAgICByZXN1bHQucHVzaChmbih2YWwsIGtleSkpO1xuICB9KTtcblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5cbi8qKlxuICogR2V0IHRoZSBjb2xsZWN0aW9ucyBrZXlzLlxuICpcbiAqIEBwYXJhbSAge09iamVjdHxBcnJheX0gY29sbGVjdGlvblxuICpcbiAqIEByZXR1cm4ge0FycmF5fVxuICovXG5mdW5jdGlvbiBrZXlzKGNvbGxlY3Rpb24pIHtcbiAgcmV0dXJuIGNvbGxlY3Rpb24gJiYgT2JqZWN0LmtleXMoY29sbGVjdGlvbikgfHwgW107XG59XG5cblxuLyoqXG4gKiBTaG9ydGhhbmQgZm9yIGBrZXlzKG8pLmxlbmd0aGAuXG4gKlxuICogQHBhcmFtICB7T2JqZWN0fEFycmF5fSBjb2xsZWN0aW9uXG4gKlxuICogQHJldHVybiB7TnVtYmVyfVxuICovXG5mdW5jdGlvbiBzaXplKGNvbGxlY3Rpb24pIHtcbiAgcmV0dXJuIGtleXMoY29sbGVjdGlvbikubGVuZ3RoO1xufVxuXG5cbi8qKlxuICogR2V0IHRoZSB2YWx1ZXMgaW4gdGhlIGNvbGxlY3Rpb24uXG4gKlxuICogQHBhcmFtICB7T2JqZWN0fEFycmF5fSBjb2xsZWN0aW9uXG4gKlxuICogQHJldHVybiB7QXJyYXl9XG4gKi9cbmZ1bmN0aW9uIHZhbHVlcyhjb2xsZWN0aW9uKSB7XG4gIHJldHVybiBtYXAoY29sbGVjdGlvbiwgKHZhbCkgPT4gdmFsKTtcbn1cblxuXG4vKipcbiAqIEdyb3VwIGNvbGxlY3Rpb24gbWVtYmVycyBieSBhdHRyaWJ1dGUuXG4gKlxuICogQHBhcmFtIHtPYmplY3R8QXJyYXl9IGNvbGxlY3Rpb25cbiAqIEBwYXJhbSB7RXh0cmFjdG9yfSBleHRyYWN0b3JcbiAqXG4gKiBAcmV0dXJuIHtPYmplY3R9IG1hcCB3aXRoIHsgYXR0clZhbHVlID0+IFsgYSwgYiwgYyBdIH1cbiAqL1xuZnVuY3Rpb24gZ3JvdXBCeShjb2xsZWN0aW9uLCBleHRyYWN0b3IsIGdyb3VwZWQgPSB7fSkge1xuXG4gIGV4dHJhY3RvciA9IHRvRXh0cmFjdG9yKGV4dHJhY3Rvcik7XG5cbiAgZm9yRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWwpIHtcbiAgICBsZXQgZGlzY3JpbWluYXRvciA9IGV4dHJhY3Rvcih2YWwpIHx8ICdfJztcblxuICAgIGxldCBncm91cCA9IGdyb3VwZWRbZGlzY3JpbWluYXRvcl07XG5cbiAgICBpZiAoIWdyb3VwKSB7XG4gICAgICBncm91cCA9IGdyb3VwZWRbZGlzY3JpbWluYXRvcl0gPSBbXTtcbiAgICB9XG5cbiAgICBncm91cC5wdXNoKHZhbCk7XG4gIH0pO1xuXG4gIHJldHVybiBncm91cGVkO1xufVxuXG5cbmZ1bmN0aW9uIHVuaXF1ZUJ5KGV4dHJhY3RvciwgLi4uY29sbGVjdGlvbnMpIHtcblxuICBleHRyYWN0b3IgPSB0b0V4dHJhY3RvcihleHRyYWN0b3IpO1xuXG4gIGxldCBncm91cGVkID0ge307XG5cbiAgZm9yRWFjaChjb2xsZWN0aW9ucywgKGMpID0+IGdyb3VwQnkoYywgZXh0cmFjdG9yLCBncm91cGVkKSk7XG5cbiAgbGV0IHJlc3VsdCA9IG1hcChncm91cGVkLCBmdW5jdGlvbih2YWwsIGtleSkge1xuICAgIHJldHVybiB2YWxbMF07XG4gIH0pO1xuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cblxuY29uc3QgdW5pb25CeSA9IHVuaXF1ZUJ5O1xuXG5cblxuLyoqXG4gKiBTb3J0IGNvbGxlY3Rpb24gYnkgY3JpdGVyaWEuXG4gKlxuICogQHRlbXBsYXRlIFRcbiAqXG4gKiBAcGFyYW0ge0NvbGxlY3Rpb248VD59IGNvbGxlY3Rpb25cbiAqIEBwYXJhbSB7RXh0cmFjdG9yPFQsIG51bWJlciB8IHN0cmluZz59IGV4dHJhY3RvclxuICpcbiAqIEByZXR1cm4ge0FycmF5fVxuICovXG5mdW5jdGlvbiBzb3J0QnkoY29sbGVjdGlvbiwgZXh0cmFjdG9yKSB7XG5cbiAgZXh0cmFjdG9yID0gdG9FeHRyYWN0b3IoZXh0cmFjdG9yKTtcblxuICBsZXQgc29ydGVkID0gW107XG5cbiAgZm9yRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgbGV0IGRpc2MgPSBleHRyYWN0b3IodmFsdWUsIGtleSk7XG5cbiAgICBsZXQgZW50cnkgPSB7XG4gICAgICBkOiBkaXNjLFxuICAgICAgdjogdmFsdWVcbiAgICB9O1xuXG4gICAgZm9yICh2YXIgaWR4ID0gMDsgaWR4IDwgc29ydGVkLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgIGxldCB7IGQgfSA9IHNvcnRlZFtpZHhdO1xuXG4gICAgICBpZiAoZGlzYyA8IGQpIHtcbiAgICAgICAgc29ydGVkLnNwbGljZShpZHgsIDAsIGVudHJ5KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIG5vdCBpbnNlcnRlZCwgYXBwZW5kICghKVxuICAgIHNvcnRlZC5wdXNoKGVudHJ5KTtcbiAgfSk7XG5cbiAgcmV0dXJuIG1hcChzb3J0ZWQsIChlKSA9PiBlLnYpO1xufVxuXG5cbi8qKlxuICogQ3JlYXRlIGFuIG9iamVjdCBwYXR0ZXJuIG1hdGNoZXIuXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiBjb25zdCBtYXRjaGVyID0gbWF0Y2hQYXR0ZXJuKHsgaWQ6IDEgfSk7XG4gKlxuICogbGV0IGVsZW1lbnQgPSBmaW5kKGVsZW1lbnRzLCBtYXRjaGVyKTtcbiAqIGBgYFxuICpcbiAqIEB0ZW1wbGF0ZSBUXG4gKlxuICogQHBhcmFtIHtUfSBwYXR0ZXJuXG4gKlxuICogQHJldHVybiB7IChlbDogYW55KSA9PiAgYm9vbGVhbiB9IG1hdGNoZXJGblxuICovXG5mdW5jdGlvbiBtYXRjaFBhdHRlcm4ocGF0dGVybikge1xuXG4gIHJldHVybiBmdW5jdGlvbihlbCkge1xuXG4gICAgcmV0dXJuIGV2ZXJ5KHBhdHRlcm4sIGZ1bmN0aW9uKHZhbCwga2V5KSB7XG4gICAgICByZXR1cm4gZWxba2V5XSA9PT0gdmFsO1xuICAgIH0pO1xuXG4gIH07XG59XG5cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZyB8ICgoZTogYW55KSA9PiBhbnkpIH0gZXh0cmFjdG9yXG4gKlxuICogQHJldHVybiB7IChlOiBhbnkpID0+IGFueSB9XG4gKi9cbmZ1bmN0aW9uIHRvRXh0cmFjdG9yKGV4dHJhY3Rvcikge1xuXG4gIC8qKlxuICAgKiBAc2F0aXNmaWVzIHsgKGU6IGFueSkgPT4gYW55IH1cbiAgICovXG4gIHJldHVybiBpc0Z1bmN0aW9uKGV4dHJhY3RvcikgPyBleHRyYWN0b3IgOiAoZSkgPT4ge1xuXG4gICAgLy8gQHRzLWlnbm9yZToganVzdCB3b3Jrc1xuICAgIHJldHVybiBlW2V4dHJhY3Rvcl07XG4gIH07XG59XG5cblxuLyoqXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtNYXRjaGVyPFQ+fSBtYXRjaGVyXG4gKlxuICogQHJldHVybiB7TWF0Y2hGbjxUPn1cbiAqL1xuZnVuY3Rpb24gdG9NYXRjaGVyKG1hdGNoZXIpIHtcbiAgcmV0dXJuIGlzRnVuY3Rpb24obWF0Y2hlcikgPyBtYXRjaGVyIDogKGUpID0+IHtcbiAgICByZXR1cm4gZSA9PT0gbWF0Y2hlcjtcbiAgfTtcbn1cblxuXG5mdW5jdGlvbiBpZGVudGl0eShhcmcpIHtcbiAgcmV0dXJuIGFyZztcbn1cblxuZnVuY3Rpb24gdG9OdW0oYXJnKSB7XG4gIHJldHVybiBOdW1iZXIoYXJnKTtcbn1cblxuLyogZ2xvYmFsIHNldFRpbWVvdXQgY2xlYXJUaW1lb3V0ICovXG5cbi8qKlxuICogQHR5cGVkZWYgeyB7XG4gKiAgICguLi5hcmdzOiBhbnlbXSk6IGFueTtcbiAqICAgZmx1c2g6ICgpID0+IHZvaWQ7XG4gKiAgIGNhbmNlbDogKCkgPT4gdm9pZDtcbiAqIH0gfSBEZWJvdW5jZWRGdW5jdGlvblxuICovXG5cbi8qKlxuICogRGVib3VuY2UgZm4sIGNhbGxpbmcgaXQgb25seSBvbmNlIGlmIHRoZSBnaXZlbiB0aW1lXG4gKiBlbGFwc2VkIGJldHdlZW4gY2FsbHMuXG4gKlxuICogTG9kYXNoLXN0eWxlIHRoZSBmdW5jdGlvbiBleHBvc2VzIG1ldGhvZHMgdG8gYCNjbGVhcmBcbiAqIGFuZCBgI2ZsdXNoYCB0byBjb250cm9sIGludGVybmFsIGJlaGF2aW9yLlxuICpcbiAqIEBwYXJhbSAge0Z1bmN0aW9ufSBmblxuICogQHBhcmFtICB7TnVtYmVyfSB0aW1lb3V0XG4gKlxuICogQHJldHVybiB7RGVib3VuY2VkRnVuY3Rpb259IGRlYm91bmNlZCBmdW5jdGlvblxuICovXG5mdW5jdGlvbiBkZWJvdW5jZShmbiwgdGltZW91dCkge1xuXG4gIGxldCB0aW1lcjtcblxuICBsZXQgbGFzdEFyZ3M7XG4gIGxldCBsYXN0VGhpcztcblxuICBsZXQgbGFzdE5vdztcblxuICBmdW5jdGlvbiBmaXJlKGZvcmNlKSB7XG5cbiAgICBsZXQgbm93ID0gRGF0ZS5ub3coKTtcblxuICAgIGxldCBzY2hlZHVsZWREaWZmID0gZm9yY2UgPyAwIDogKGxhc3ROb3cgKyB0aW1lb3V0KSAtIG5vdztcblxuICAgIGlmIChzY2hlZHVsZWREaWZmID4gMCkge1xuICAgICAgcmV0dXJuIHNjaGVkdWxlKHNjaGVkdWxlZERpZmYpO1xuICAgIH1cblxuICAgIGZuLmFwcGx5KGxhc3RUaGlzLCBsYXN0QXJncyk7XG5cbiAgICBjbGVhcigpO1xuICB9XG5cbiAgZnVuY3Rpb24gc2NoZWR1bGUodGltZW91dCkge1xuICAgIHRpbWVyID0gc2V0VGltZW91dChmaXJlLCB0aW1lb3V0KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNsZWFyKCkge1xuICAgIGlmICh0aW1lcikge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICB9XG5cbiAgICB0aW1lciA9IGxhc3ROb3cgPSBsYXN0QXJncyA9IGxhc3RUaGlzID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgZnVuY3Rpb24gZmx1c2goKSB7XG4gICAgaWYgKHRpbWVyKSB7XG4gICAgICBmaXJlKHRydWUpO1xuICAgIH1cblxuICAgIGNsZWFyKCk7XG4gIH1cblxuICAvKipcbiAgICogQHR5cGUgeyBEZWJvdW5jZWRGdW5jdGlvbiB9XG4gICAqL1xuICBmdW5jdGlvbiBjYWxsYmFjayguLi5hcmdzKSB7XG4gICAgbGFzdE5vdyA9IERhdGUubm93KCk7XG5cbiAgICBsYXN0QXJncyA9IGFyZ3M7XG4gICAgbGFzdFRoaXMgPSB0aGlzO1xuXG4gICAgLy8gZW5zdXJlIGFuIGV4ZWN1dGlvbiBpcyBzY2hlZHVsZWRcbiAgICBpZiAoIXRpbWVyKSB7XG4gICAgICBzY2hlZHVsZSh0aW1lb3V0KTtcbiAgICB9XG4gIH1cblxuICBjYWxsYmFjay5mbHVzaCA9IGZsdXNoO1xuICBjYWxsYmFjay5jYW5jZWwgPSBjbGVhcjtcblxuICByZXR1cm4gY2FsbGJhY2s7XG59XG5cbi8qKlxuICogVGhyb3R0bGUgZm4sIGNhbGxpbmcgYXQgbW9zdCBvbmNlXG4gKiBpbiB0aGUgZ2l2ZW4gaW50ZXJ2YWwuXG4gKlxuICogQHBhcmFtICB7RnVuY3Rpb259IGZuXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IGludGVydmFsXG4gKlxuICogQHJldHVybiB7RnVuY3Rpb259IHRocm90dGxlZCBmdW5jdGlvblxuICovXG5mdW5jdGlvbiB0aHJvdHRsZShmbiwgaW50ZXJ2YWwpIHtcbiAgbGV0IHRocm90dGxpbmcgPSBmYWxzZTtcblxuICByZXR1cm4gZnVuY3Rpb24oLi4uYXJncykge1xuXG4gICAgaWYgKHRocm90dGxpbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmbiguLi5hcmdzKTtcbiAgICB0aHJvdHRsaW5nID0gdHJ1ZTtcblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhyb3R0bGluZyA9IGZhbHNlO1xuICAgIH0sIGludGVydmFsKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBCaW5kIGZ1bmN0aW9uIGFnYWluc3QgdGFyZ2V0IDx0aGlzPi5cbiAqXG4gKiBAcGFyYW0gIHtGdW5jdGlvbn0gZm5cbiAqIEBwYXJhbSAge09iamVjdH0gICB0YXJnZXRcbiAqXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn0gYm91bmQgZnVuY3Rpb25cbiAqL1xuZnVuY3Rpb24gYmluZChmbiwgdGFyZ2V0KSB7XG4gIHJldHVybiBmbi5iaW5kKHRhcmdldCk7XG59XG5cbi8qKlxuICogQ29udmVuaWVuY2Ugd3JhcHBlciBmb3IgYE9iamVjdC5hc3NpZ25gLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXRcbiAqIEBwYXJhbSB7Li4uT2JqZWN0fSBvdGhlcnNcbiAqXG4gKiBAcmV0dXJuIHtPYmplY3R9IHRoZSB0YXJnZXRcbiAqL1xuZnVuY3Rpb24gYXNzaWduKHRhcmdldCwgLi4ub3RoZXJzKSB7XG4gIHJldHVybiBPYmplY3QuYXNzaWduKHRhcmdldCwgLi4ub3RoZXJzKTtcbn1cblxuLyoqXG4gKiBTZXRzIGEgbmVzdGVkIHByb3BlcnR5IG9mIGEgZ2l2ZW4gb2JqZWN0IHRvIHRoZSBzcGVjaWZpZWQgdmFsdWUuXG4gKlxuICogVGhpcyBtdXRhdGVzIHRoZSBvYmplY3QgYW5kIHJldHVybnMgaXQuXG4gKlxuICogQHRlbXBsYXRlIFRcbiAqXG4gKiBAcGFyYW0ge1R9IHRhcmdldCBUaGUgdGFyZ2V0IG9mIHRoZSBzZXQgb3BlcmF0aW9uLlxuICogQHBhcmFtIHsoc3RyaW5nfG51bWJlcilbXX0gcGF0aCBUaGUgcGF0aCB0byB0aGUgbmVzdGVkIHZhbHVlLlxuICogQHBhcmFtIHthbnl9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKlxuICogQHJldHVybiB7VH1cbiAqL1xuZnVuY3Rpb24gc2V0KHRhcmdldCwgcGF0aCwgdmFsdWUpIHtcblxuICBsZXQgY3VycmVudFRhcmdldCA9IHRhcmdldDtcblxuICBmb3JFYWNoKHBhdGgsIGZ1bmN0aW9uKGtleSwgaWR4KSB7XG5cbiAgICBpZiAodHlwZW9mIGtleSAhPT0gJ251bWJlcicgJiYgdHlwZW9mIGtleSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignaWxsZWdhbCBrZXkgdHlwZTogJyArIHR5cGVvZiBrZXkgKyAnLiBLZXkgc2hvdWxkIGJlIG9mIHR5cGUgbnVtYmVyIG9yIHN0cmluZy4nKTtcbiAgICB9XG5cbiAgICBpZiAoa2V5ID09PSAnY29uc3RydWN0b3InKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2lsbGVnYWwga2V5OiBjb25zdHJ1Y3RvcicpO1xuICAgIH1cblxuICAgIGlmIChrZXkgPT09ICdfX3Byb3RvX18nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2lsbGVnYWwga2V5OiBfX3Byb3RvX18nKTtcbiAgICB9XG5cbiAgICBsZXQgbmV4dEtleSA9IHBhdGhbaWR4ICsgMV07XG4gICAgbGV0IG5leHRUYXJnZXQgPSBjdXJyZW50VGFyZ2V0W2tleV07XG5cbiAgICBpZiAoaXNEZWZpbmVkKG5leHRLZXkpICYmIGlzTmlsKG5leHRUYXJnZXQpKSB7XG4gICAgICBuZXh0VGFyZ2V0ID0gY3VycmVudFRhcmdldFtrZXldID0gaXNOYU4oK25leHRLZXkpID8ge30gOiBbXTtcbiAgICB9XG5cbiAgICBpZiAoaXNVbmRlZmluZWQobmV4dEtleSkpIHtcbiAgICAgIGlmIChpc1VuZGVmaW5lZCh2YWx1ZSkpIHtcbiAgICAgICAgZGVsZXRlIGN1cnJlbnRUYXJnZXRba2V5XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGN1cnJlbnRUYXJnZXRba2V5XSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjdXJyZW50VGFyZ2V0ID0gbmV4dFRhcmdldDtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiB0YXJnZXQ7XG59XG5cblxuLyoqXG4gKiBHZXRzIGEgbmVzdGVkIHByb3BlcnR5IG9mIGEgZ2l2ZW4gb2JqZWN0LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXQgVGhlIHRhcmdldCBvZiB0aGUgZ2V0IG9wZXJhdGlvbi5cbiAqIEBwYXJhbSB7KHN0cmluZ3xudW1iZXIpW119IHBhdGggVGhlIHBhdGggdG8gdGhlIG5lc3RlZCB2YWx1ZS5cbiAqIEBwYXJhbSB7YW55fSBbZGVmYXVsdFZhbHVlXSBUaGUgdmFsdWUgdG8gcmV0dXJuIGlmIG5vIHZhbHVlIGV4aXN0cy5cbiAqXG4gKiBAcmV0dXJuIHthbnl9XG4gKi9cbmZ1bmN0aW9uIGdldCh0YXJnZXQsIHBhdGgsIGRlZmF1bHRWYWx1ZSkge1xuXG4gIGxldCBjdXJyZW50VGFyZ2V0ID0gdGFyZ2V0O1xuXG4gIGZvckVhY2gocGF0aCwgZnVuY3Rpb24oa2V5KSB7XG5cbiAgICAvLyBhY2Nlc3NpbmcgbmlsIHByb3BlcnR5IHlpZWxkcyA8dW5kZWZpbmVkPlxuICAgIGlmIChpc05pbChjdXJyZW50VGFyZ2V0KSkge1xuICAgICAgY3VycmVudFRhcmdldCA9IHVuZGVmaW5lZDtcblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGN1cnJlbnRUYXJnZXQgPSBjdXJyZW50VGFyZ2V0W2tleV07XG4gIH0pO1xuXG4gIHJldHVybiBpc1VuZGVmaW5lZChjdXJyZW50VGFyZ2V0KSA/IGRlZmF1bHRWYWx1ZSA6IGN1cnJlbnRUYXJnZXQ7XG59XG5cbi8qKlxuICogUGljayBwcm9wZXJ0aWVzIGZyb20gdGhlIGdpdmVuIHRhcmdldC5cbiAqXG4gKiBAdGVtcGxhdGUgVFxuICogQHRlbXBsYXRlIHthbnlbXX0gVlxuICpcbiAqIEBwYXJhbSB7VH0gdGFyZ2V0XG4gKiBAcGFyYW0ge1Z9IHByb3BlcnRpZXNcbiAqXG4gKiBAcmV0dXJuIFBpY2s8VCwgVj5cbiAqL1xuZnVuY3Rpb24gcGljayh0YXJnZXQsIHByb3BlcnRpZXMpIHtcblxuICBsZXQgcmVzdWx0ID0ge307XG5cbiAgbGV0IG9iaiA9IE9iamVjdCh0YXJnZXQpO1xuXG4gIGZvckVhY2gocHJvcGVydGllcywgZnVuY3Rpb24ocHJvcCkge1xuXG4gICAgaWYgKHByb3AgaW4gb2JqKSB7XG4gICAgICByZXN1bHRbcHJvcF0gPSB0YXJnZXRbcHJvcF07XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIFBpY2sgYWxsIHRhcmdldCBwcm9wZXJ0aWVzLCBleGNsdWRpbmcgdGhlIGdpdmVuIG9uZXMuXG4gKlxuICogQHRlbXBsYXRlIFRcbiAqIEB0ZW1wbGF0ZSB7YW55W119IFZcbiAqXG4gKiBAcGFyYW0ge1R9IHRhcmdldFxuICogQHBhcmFtIHtWfSBwcm9wZXJ0aWVzXG4gKlxuICogQHJldHVybiB7T21pdDxULCBWPn0gdGFyZ2V0XG4gKi9cbmZ1bmN0aW9uIG9taXQodGFyZ2V0LCBwcm9wZXJ0aWVzKSB7XG5cbiAgbGV0IHJlc3VsdCA9IHt9O1xuXG4gIGxldCBvYmogPSBPYmplY3QodGFyZ2V0KTtcblxuICBmb3JFYWNoKG9iaiwgZnVuY3Rpb24ocHJvcCwga2V5KSB7XG5cbiAgICBpZiAocHJvcGVydGllcy5pbmRleE9mKGtleSkgPT09IC0xKSB7XG4gICAgICByZXN1bHRba2V5XSA9IHByb3A7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIFJlY3Vyc2l2ZWx5IG1lcmdlIGAuLi5zb3VyY2VzYCBpbnRvIGdpdmVuIHRhcmdldC5cbiAqXG4gKiBEb2VzIHN1cHBvcnQgbWVyZ2luZyBvYmplY3RzOyBkb2VzIG5vdCBzdXBwb3J0IG1lcmdpbmcgYXJyYXlzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXRcbiAqIEBwYXJhbSB7Li4uT2JqZWN0fSBzb3VyY2VzXG4gKlxuICogQHJldHVybiB7T2JqZWN0fSB0aGUgdGFyZ2V0XG4gKi9cbmZ1bmN0aW9uIG1lcmdlKHRhcmdldCwgLi4uc291cmNlcykge1xuXG4gIGlmICghc291cmNlcy5sZW5ndGgpIHtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG5cbiAgZm9yRWFjaChzb3VyY2VzLCBmdW5jdGlvbihzb3VyY2UpIHtcblxuICAgIC8vIHNraXAgbm9uLW9iaiBzb3VyY2VzLCBpLmUuIG51bGxcbiAgICBpZiAoIXNvdXJjZSB8fCAhaXNPYmplY3Qoc291cmNlKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZvckVhY2goc291cmNlLCBmdW5jdGlvbihzb3VyY2VWYWwsIGtleSkge1xuXG4gICAgICBpZiAoa2V5ID09PSAnX19wcm90b19fJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGxldCB0YXJnZXRWYWwgPSB0YXJnZXRba2V5XTtcblxuICAgICAgaWYgKGlzT2JqZWN0KHNvdXJjZVZhbCkpIHtcblxuICAgICAgICBpZiAoIWlzT2JqZWN0KHRhcmdldFZhbCkpIHtcblxuICAgICAgICAgIC8vIG92ZXJyaWRlIHRhcmdldFtrZXldIHdpdGggb2JqZWN0XG4gICAgICAgICAgdGFyZ2V0VmFsID0ge307XG4gICAgICAgIH1cblxuICAgICAgICB0YXJnZXRba2V5XSA9IG1lcmdlKHRhcmdldFZhbCwgc291cmNlVmFsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRhcmdldFtrZXldID0gc291cmNlVmFsO1xuICAgICAgfVxuXG4gICAgfSk7XG4gIH0pO1xuXG4gIHJldHVybiB0YXJnZXQ7XG59XG5cbmV4cG9ydCB7IGFzc2lnbiwgYmluZCwgZGVib3VuY2UsIGVuc3VyZUFycmF5LCBldmVyeSwgZmlsdGVyLCBmaW5kLCBmaW5kSW5kZXgsIGZsYXR0ZW4sIGZvckVhY2gsIGdldCwgZ3JvdXBCeSwgaGFzLCBpc0FycmF5LCBpc0RlZmluZWQsIGlzRnVuY3Rpb24sIGlzTmlsLCBpc051bWJlciwgaXNPYmplY3QsIGlzU3RyaW5nLCBpc1VuZGVmaW5lZCwga2V5cywgbWFwLCBtYXRjaFBhdHRlcm4sIG1lcmdlLCBvbWl0LCBwaWNrLCByZWR1Y2UsIHNldCwgc2l6ZSwgc29tZSwgc29ydEJ5LCB0aHJvdHRsZSwgdW5pb25CeSwgdW5pcXVlQnksIHZhbHVlcywgd2l0aG91dCB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../node_modules/@camunda/form-playground/node_modules/min-dash/dist/index.esm.js\n\n}");

/***/ },

/***/ "../node_modules/big.js/big.mjs"
/*!**************************************!*\
  !*** ../node_modules/big.js/big.mjs ***!
  \**************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Big: () => (/* binding */ Big),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/*\r\n *  big.js v7.0.1\r\n *  A small, fast, easy-to-use library for arbitrary-precision decimal arithmetic.\r\n *  Copyright (c) 2025 Michael Mclaughlin\r\n *  https://github.com/MikeMcl/big.js/LICENCE.md\r\n */\r\n\r\n\r\n/************************************** EDITABLE DEFAULTS *****************************************/\r\n\r\n\r\n  // The default values below must be integers within the stated ranges.\r\n\r\n  /*\r\n   * The maximum number of decimal places (DP) of the results of operations involving division:\r\n   * div and sqrt, and pow with negative exponents.\r\n   */\r\nvar DP = 20,          // 0 to MAX_DP\r\n\r\n  /*\r\n   * The rounding mode (RM) used when rounding to the above decimal places.\r\n   *\r\n   *  0  Towards zero (i.e. truncate, no rounding).       (ROUND_DOWN)\r\n   *  1  To nearest neighbour. If equidistant, round up.  (ROUND_HALF_UP)\r\n   *  2  To nearest neighbour. If equidistant, to even.   (ROUND_HALF_EVEN)\r\n   *  3  Away from zero.                                  (ROUND_UP)\r\n   */\r\n  RM = 1,             // 0, 1, 2 or 3\r\n\r\n  // The maximum value of DP and Big.DP.\r\n  MAX_DP = 1E6,       // 0 to 1000000\r\n\r\n  // The maximum magnitude of the exponent argument to the pow method.\r\n  MAX_POWER = 1E6,    // 1 to 1000000\r\n\r\n  /*\r\n   * The negative exponent (NE) at and beneath which toString returns exponential notation.\r\n   * (JavaScript numbers: -7)\r\n   * -1000000 is the minimum recommended exponent value of a Big.\r\n   */\r\n  NE = -7,            // 0 to -1000000\r\n\r\n  /*\r\n   * The positive exponent (PE) at and above which toString returns exponential notation.\r\n   * (JavaScript numbers: 21)\r\n   * 1000000 is the maximum recommended exponent value of a Big, but this limit is not enforced.\r\n   */\r\n  PE = 21,            // 0 to 1000000\r\n\r\n  /*\r\n   * When true, an error will be thrown if a primitive number is passed to the Big constructor,\r\n   * or if valueOf is called, or if toNumber is called on a Big which cannot be converted to a\r\n   * primitive number without a loss of precision.\r\n   */\r\n  STRICT = false,     // true or false\r\n\r\n\r\n/**************************************************************************************************/\r\n\r\n\r\n  // Error messages.\r\n  NAME = '[big.js] ',\r\n  INVALID = NAME + 'Invalid ',\r\n  INVALID_DP = INVALID + 'decimal places',\r\n  INVALID_RM = INVALID + 'rounding mode',\r\n  DIV_BY_ZERO = NAME + 'Division by zero',\r\n\r\n  // The shared prototype object.\r\n  P = {},\r\n  UNDEFINED = void 0,\r\n  NUMERIC = /^-?(\\d+(\\.\\d*)?|\\.\\d+)(e[+-]?\\d+)?$/i;\r\n\r\n\r\n/*\r\n * Create and return a Big constructor.\r\n */\r\nfunction _Big_() {\r\n\r\n  /*\r\n   * The Big constructor and exported function.\r\n   * Create and return a new instance of a Big number object.\r\n   *\r\n   * n {number|string|Big} A numeric value.\r\n   */\r\n  function Big(n) {\r\n    var x = this;\r\n\r\n    // Enable constructor usage without new.\r\n    if (!(x instanceof Big)) {\r\n      return n === UNDEFINED && arguments.length === 0 ? _Big_() : new Big(n);\r\n    }\r\n\r\n\r\n    // Duplicate.\r\n    if (n instanceof Big) {\r\n      x.s = n.s;\r\n      x.e = n.e;\r\n      x.c = n.c.slice();\r\n    } else {\r\n      if (typeof n !== 'string') {\r\n        if (Big.strict === true && typeof n !== 'bigint') {\r\n          throw TypeError(INVALID + 'value');\r\n        }\r\n\r\n        // Minus zero?\r\n        n = n === 0 && 1 / n < 0 ? '-0' : String(n);\r\n      }\r\n\r\n      parse(x, n);\r\n    }\r\n\r\n    // Retain a reference to this Big constructor.\r\n    // Shadow Big.prototype.constructor which points to Object.\r\n    x.constructor = Big;\r\n  }\r\n\r\n  Big.prototype = P;\r\n  Big.DP = DP;\r\n  Big.RM = RM;\r\n  Big.NE = NE;\r\n  Big.PE = PE;\r\n  Big.strict = STRICT;\r\n  Big.roundDown = 0;\r\n  Big.roundHalfUp = 1;\r\n  Big.roundHalfEven = 2;\r\n  Big.roundUp = 3;\r\n\r\n  return Big;\r\n}\r\n\r\n\r\n/*\r\n * Parse the number or string value passed to a Big constructor.\r\n *\r\n * x {Big} A Big number instance.\r\n * n {number|string} A numeric value.\r\n */\r\nfunction parse(x, n) {\r\n  var e, i, nl;\r\n\r\n  if (!NUMERIC.test(n)) {\r\n    throw Error(INVALID + 'number');\r\n  }\r\n\r\n  // Determine sign.\r\n  x.s = n.charAt(0) == '-' ? (n = n.slice(1), -1) : 1;\r\n\r\n  // Decimal point?\r\n  if ((e = n.indexOf('.')) > -1) n = n.replace('.', '');\r\n\r\n  // Exponential form?\r\n  if ((i = n.search(/e/i)) > 0) {\r\n\r\n    // Determine exponent.\r\n    if (e < 0) e = i;\r\n    e += +n.slice(i + 1);\r\n    n = n.substring(0, i);\r\n  } else if (e < 0) {\r\n\r\n    // Integer.\r\n    e = n.length;\r\n  }\r\n\r\n  nl = n.length;\r\n\r\n  // Determine leading zeros.\r\n  for (i = 0; i < nl && n.charAt(i) == '0';) ++i;\r\n\r\n  if (i == nl) {\r\n\r\n    // Zero.\r\n    x.c = [x.e = 0];\r\n  } else {\r\n\r\n    // Determine trailing zeros.\r\n    for (; nl > 0 && n.charAt(--nl) == '0';);\r\n    x.e = e - i - 1;\r\n    x.c = [];\r\n\r\n    // Convert string to array of digits without leading/trailing zeros.\r\n    for (e = 0; i <= nl;) x.c[e++] = +n.charAt(i++);\r\n  }\r\n\r\n  return x;\r\n}\r\n\r\n\r\n/*\r\n * Round Big x to a maximum of sd significant digits using rounding mode rm.\r\n *\r\n * x {Big} The Big to round.\r\n * sd {number} Significant digits: integer, 0 to MAX_DP inclusive.\r\n * rm {number} Rounding mode: 0 (down), 1 (half-up), 2 (half-even) or 3 (up).\r\n * [more] {boolean} Whether the result of division was truncated.\r\n */\r\nfunction round(x, sd, rm, more) {\r\n  var xc = x.c;\r\n\r\n  if (rm === UNDEFINED) rm = x.constructor.RM;\r\n  if (rm !== 0 && rm !== 1 && rm !== 2 && rm !== 3) {\r\n    throw Error(INVALID_RM);\r\n  }\r\n\r\n  if (sd < 1) {\r\n    more =\r\n      rm === 3 && (more || !!xc[0]) || sd === 0 && (\r\n      rm === 1 && xc[0] >= 5 ||\r\n      rm === 2 && (xc[0] > 5 || xc[0] === 5 && (more || xc[1] !== UNDEFINED))\r\n    );\r\n\r\n    xc.length = 1;\r\n\r\n    if (more) {\r\n\r\n      // 1, 0.1, 0.01, 0.001, 0.0001 etc.\r\n      x.e = x.e - sd + 1;\r\n      xc[0] = 1;\r\n    } else {\r\n\r\n      // Zero.\r\n      xc[0] = x.e = 0;\r\n    }\r\n  } else if (sd < xc.length) {\r\n\r\n    // xc[sd] is the digit after the digit that may be rounded up.\r\n    more =\r\n      rm === 1 && xc[sd] >= 5 ||\r\n      rm === 2 && (xc[sd] > 5 || xc[sd] === 5 &&\r\n        (more || xc[sd + 1] !== UNDEFINED || xc[sd - 1] & 1)) ||\r\n      rm === 3 && (more || !!xc[0]);\r\n\r\n    // Remove any digits after the required precision.\r\n    xc.length = sd;\r\n\r\n    // Round up?\r\n    if (more) {\r\n\r\n      // Rounding up may mean the previous digit has to be rounded up.\r\n      for (; ++xc[--sd] > 9;) {\r\n        xc[sd] = 0;\r\n        if (sd === 0) {\r\n          ++x.e;\r\n          xc.unshift(1);\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n    // Remove trailing zeros.\r\n    for (sd = xc.length; !xc[--sd];) xc.pop();\r\n  }\r\n\r\n  return x;\r\n}\r\n\r\n\r\n/*\r\n * Return a string representing the value of Big x in normal or exponential notation.\r\n * Handles P.toExponential, P.toFixed, P.toJSON, P.toPrecision, P.toString and P.valueOf.\r\n */\r\nfunction stringify(x, doExponential, isNonzero) {\r\n  var e = x.e,\r\n    s = x.c.join(''),\r\n    n = s.length;\r\n\r\n  // Exponential notation?\r\n  if (doExponential) {\r\n    s = s.charAt(0) + (n > 1 ? '.' + s.slice(1) : '') + (e < 0 ? 'e' : 'e+') + e;\r\n\r\n  // Normal notation.\r\n  } else if (e < 0) {\r\n    for (; ++e;) s = '0' + s;\r\n    s = '0.' + s;\r\n  } else if (e > 0) {\r\n    if (++e > n) {\r\n      for (e -= n; e--;) s += '0';\r\n    } else if (e < n) {\r\n      s = s.slice(0, e) + '.' + s.slice(e);\r\n    }\r\n  } else if (n > 1) {\r\n    s = s.charAt(0) + '.' + s.slice(1);\r\n  }\r\n\r\n  return x.s < 0 && isNonzero ? '-' + s : s;\r\n}\r\n\r\n\r\n// Prototype/instance methods\r\n\r\n\r\n/*\r\n * Return a new Big whose value is the absolute value of this Big.\r\n */\r\nP.abs = function () {\r\n  var x = new this.constructor(this);\r\n  x.s = 1;\r\n  return x;\r\n};\r\n\r\n\r\n/*\r\n * Return 1 if the value of this Big is greater than the value of Big y,\r\n *       -1 if the value of this Big is less than the value of Big y, or\r\n *        0 if they have the same value.\r\n */\r\nP.cmp = function (y) {\r\n  var isneg,\r\n    x = this,\r\n    xc = x.c,\r\n    yc = (y = new x.constructor(y)).c,\r\n    i = x.s,\r\n    j = y.s,\r\n    k = x.e,\r\n    l = y.e;\r\n\r\n  // Either zero?\r\n  if (!xc[0] || !yc[0]) return !xc[0] ? !yc[0] ? 0 : -j : i;\r\n\r\n  // Signs differ?\r\n  if (i != j) return i;\r\n\r\n  isneg = i < 0;\r\n\r\n  // Compare exponents.\r\n  if (k != l) return k > l ^ isneg ? 1 : -1;\r\n\r\n  j = (k = xc.length) < (l = yc.length) ? k : l;\r\n\r\n  // Compare digit by digit.\r\n  for (i = -1; ++i < j;) {\r\n    if (xc[i] != yc[i]) return xc[i] > yc[i] ^ isneg ? 1 : -1;\r\n  }\r\n\r\n  // Compare lengths.\r\n  return k == l ? 0 : k > l ^ isneg ? 1 : -1;\r\n};\r\n\r\n\r\n/*\r\n * Return a new Big whose value is the value of this Big divided by the value of Big y, rounded,\r\n * if necessary, to a maximum of Big.DP decimal places using rounding mode Big.RM.\r\n */\r\nP.div = function (y) {\r\n  var x = this,\r\n    Big = x.constructor,\r\n    a = x.c,                  // dividend\r\n    b = (y = new Big(y)).c,   // divisor\r\n    k = x.s == y.s ? 1 : -1,\r\n    dp = Big.DP;\r\n\r\n  if (dp !== ~~dp || dp < 0 || dp > MAX_DP) {\r\n    throw Error(INVALID_DP);\r\n  }\r\n\r\n  // Divisor is zero?\r\n  if (!b[0]) {\r\n    throw Error(DIV_BY_ZERO);\r\n  }\r\n\r\n  // Dividend is 0? Return +-0.\r\n  if (!a[0]) {\r\n    y.s = k;\r\n    y.c = [y.e = 0];\r\n    return y;\r\n  }\r\n\r\n  var bl, bt, n, cmp, ri,\r\n    bz = b.slice(),\r\n    ai = bl = b.length,\r\n    al = a.length,\r\n    r = a.slice(0, bl),   // remainder\r\n    rl = r.length,\r\n    q = y,                // quotient\r\n    qc = q.c = [],\r\n    qi = 0,\r\n    p = dp + (q.e = x.e - y.e) + 1;    // precision of the result\r\n\r\n  q.s = k;\r\n  k = p < 0 ? 0 : p;\r\n\r\n  // Create version of divisor with leading zero.\r\n  bz.unshift(0);\r\n\r\n  // Add zeros to make remainder as long as divisor.\r\n  for (; rl++ < bl;) r.push(0);\r\n\r\n  do {\r\n\r\n    // n is how many times the divisor goes into current remainder.\r\n    for (n = 0; n < 10; n++) {\r\n\r\n      // Compare divisor and remainder.\r\n      if (bl != (rl = r.length)) {\r\n        cmp = bl > rl ? 1 : -1;\r\n      } else {\r\n        for (ri = -1, cmp = 0; ++ri < bl;) {\r\n          if (b[ri] != r[ri]) {\r\n            cmp = b[ri] > r[ri] ? 1 : -1;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n\r\n      // If divisor < remainder, subtract divisor from remainder.\r\n      if (cmp < 0) {\r\n\r\n        // Remainder can't be more than 1 digit longer than divisor.\r\n        // Equalise lengths using divisor with extra leading zero?\r\n        for (bt = rl == bl ? b : bz; rl;) {\r\n          if (r[--rl] < bt[rl]) {\r\n            ri = rl;\r\n            for (; ri && !r[--ri];) r[ri] = 9;\r\n            --r[ri];\r\n            r[rl] += 10;\r\n          }\r\n          r[rl] -= bt[rl];\r\n        }\r\n\r\n        for (; !r[0];) r.shift();\r\n      } else {\r\n        break;\r\n      }\r\n    }\r\n\r\n    // Add the digit n to the result array.\r\n    qc[qi++] = cmp ? n : ++n;\r\n\r\n    // Update the remainder.\r\n    if (r[0] && cmp) r[rl] = a[ai] || 0;\r\n    else r = [a[ai]];\r\n\r\n  } while ((ai++ < al || r[0] !== UNDEFINED) && k--);\r\n\r\n  // Leading zero? Do not remove if result is simply zero (qi == 1).\r\n  if (!qc[0] && qi != 1) {\r\n\r\n    // There can't be more than one zero.\r\n    qc.shift();\r\n    q.e--;\r\n    p--;\r\n  }\r\n\r\n  // Round?\r\n  if (qi > p) round(q, p, Big.RM, r[0] !== UNDEFINED);\r\n\r\n  return q;\r\n};\r\n\r\n\r\n/*\r\n * Return true if the value of this Big is equal to the value of Big y, otherwise return false.\r\n */\r\nP.eq = function (y) {\r\n  return this.cmp(y) === 0;\r\n};\r\n\r\n\r\n/*\r\n * Return true if the value of this Big is greater than the value of Big y, otherwise return\r\n * false.\r\n */\r\nP.gt = function (y) {\r\n  return this.cmp(y) > 0;\r\n};\r\n\r\n\r\n/*\r\n * Return true if the value of this Big is greater than or equal to the value of Big y, otherwise\r\n * return false.\r\n */\r\nP.gte = function (y) {\r\n  return this.cmp(y) > -1;\r\n};\r\n\r\n\r\n/*\r\n * Return true if the value of this Big is less than the value of Big y, otherwise return false.\r\n */\r\nP.lt = function (y) {\r\n  return this.cmp(y) < 0;\r\n};\r\n\r\n\r\n/*\r\n * Return true if the value of this Big is less than or equal to the value of Big y, otherwise\r\n * return false.\r\n */\r\nP.lte = function (y) {\r\n  return this.cmp(y) < 1;\r\n};\r\n\r\n\r\n/*\r\n * Return a new Big whose value is the value of this Big minus the value of Big y.\r\n */\r\nP.minus = P.sub = function (y) {\r\n  var i, j, t, xlty,\r\n    x = this,\r\n    Big = x.constructor,\r\n    a = x.s,\r\n    b = (y = new Big(y)).s;\r\n\r\n  // Signs differ?\r\n  if (a != b) {\r\n    y.s = -b;\r\n    return x.plus(y);\r\n  }\r\n\r\n  var xc = x.c.slice(),\r\n    xe = x.e,\r\n    yc = y.c,\r\n    ye = y.e;\r\n\r\n  // Either zero?\r\n  if (!xc[0] || !yc[0]) {\r\n    if (yc[0]) {\r\n      y.s = -b;\r\n    } else if (xc[0]) {\r\n      y = new Big(x);\r\n    } else {\r\n      y.s = 1;\r\n    }\r\n    return y;\r\n  }\r\n\r\n  // Determine which is the bigger number. Prepend zeros to equalise exponents.\r\n  if (a = xe - ye) {\r\n\r\n    if (xlty = a < 0) {\r\n      a = -a;\r\n      t = xc;\r\n    } else {\r\n      ye = xe;\r\n      t = yc;\r\n    }\r\n\r\n    t.reverse();\r\n    for (b = a; b--;) t.push(0);\r\n    t.reverse();\r\n  } else {\r\n\r\n    // Exponents equal. Check digit by digit.\r\n    j = ((xlty = xc.length < yc.length) ? xc : yc).length;\r\n\r\n    for (a = b = 0; b < j; b++) {\r\n      if (xc[b] != yc[b]) {\r\n        xlty = xc[b] < yc[b];\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  // x < y? Point xc to the array of the bigger number.\r\n  if (xlty) {\r\n    t = xc;\r\n    xc = yc;\r\n    yc = t;\r\n    y.s = -y.s;\r\n  }\r\n\r\n  /*\r\n   * Append zeros to xc if shorter. No need to add zeros to yc if shorter as subtraction only\r\n   * needs to start at yc.length.\r\n   */\r\n  if ((b = (j = yc.length) - (i = xc.length)) > 0) for (; b--;) xc[i++] = 0;\r\n\r\n  // Subtract yc from xc.\r\n  for (b = i; j > a;) {\r\n    if (xc[--j] < yc[j]) {\r\n      for (i = j; i && !xc[--i];) xc[i] = 9;\r\n      --xc[i];\r\n      xc[j] += 10;\r\n    }\r\n\r\n    xc[j] -= yc[j];\r\n  }\r\n\r\n  // Remove trailing zeros.\r\n  for (; xc[--b] === 0;) xc.pop();\r\n\r\n  // Remove leading zeros and adjust exponent accordingly.\r\n  for (; xc[0] === 0;) {\r\n    xc.shift();\r\n    --ye;\r\n  }\r\n\r\n  if (!xc[0]) {\r\n\r\n    // n - n = +0\r\n    y.s = 1;\r\n\r\n    // Result must be zero.\r\n    xc = [ye = 0];\r\n  }\r\n\r\n  y.c = xc;\r\n  y.e = ye;\r\n\r\n  return y;\r\n};\r\n\r\n\r\n/*\r\n * Return a new Big whose value is the value of this Big modulo the value of Big y.\r\n */\r\nP.mod = function (y) {\r\n  var ygtx,\r\n    x = this,\r\n    Big = x.constructor,\r\n    a = x.s,\r\n    b = (y = new Big(y)).s;\r\n\r\n  if (!y.c[0]) {\r\n    throw Error(DIV_BY_ZERO);\r\n  }\r\n\r\n  x.s = y.s = 1;\r\n  ygtx = y.cmp(x) == 1;\r\n  x.s = a;\r\n  y.s = b;\r\n\r\n  if (ygtx) return new Big(x);\r\n\r\n  a = Big.DP;\r\n  b = Big.RM;\r\n  Big.DP = Big.RM = 0;\r\n  x = x.div(y);\r\n  Big.DP = a;\r\n  Big.RM = b;\r\n\r\n  return this.minus(x.times(y));\r\n};\r\n\r\n\r\n/*\r\n * Return a new Big whose value is the value of this Big negated.\r\n */\r\nP.neg = function () {\r\n  var x = new this.constructor(this);\r\n  x.s = -x.s;\r\n  return x;\r\n};\r\n\r\n\r\n/*\r\n * Return a new Big whose value is the value of this Big plus the value of Big y.\r\n */\r\nP.plus = P.add = function (y) {\r\n  var e, k, t,\r\n    x = this,\r\n    Big = x.constructor;\r\n\r\n  y = new Big(y);\r\n\r\n  // Signs differ?\r\n  if (x.s != y.s) {\r\n    y.s = -y.s;\r\n    return x.minus(y);\r\n  }\r\n\r\n  var xe = x.e,\r\n    xc = x.c,\r\n    ye = y.e,\r\n    yc = y.c;\r\n\r\n  // Either zero?\r\n  if (!xc[0] || !yc[0]) {\r\n    if (!yc[0]) {\r\n      if (xc[0]) {\r\n        y = new Big(x);\r\n      } else {\r\n        y.s = x.s;\r\n      }\r\n    }\r\n    return y;\r\n  }\r\n\r\n  xc = xc.slice();\r\n\r\n  // Prepend zeros to equalise exponents.\r\n  // Note: reverse faster than unshifts.\r\n  if (e = xe - ye) {\r\n    if (e > 0) {\r\n      ye = xe;\r\n      t = yc;\r\n    } else {\r\n      e = -e;\r\n      t = xc;\r\n    }\r\n\r\n    t.reverse();\r\n    for (; e--;) t.push(0);\r\n    t.reverse();\r\n  }\r\n\r\n  // Point xc to the longer array.\r\n  if (xc.length - yc.length < 0) {\r\n    t = yc;\r\n    yc = xc;\r\n    xc = t;\r\n  }\r\n\r\n  e = yc.length;\r\n\r\n  // Only start adding at yc.length - 1 as the further digits of xc can be left as they are.\r\n  for (k = 0; e; xc[e] %= 10) k = (xc[--e] = xc[e] + yc[e] + k) / 10 | 0;\r\n\r\n  // No need to check for zero, as +x + +y != 0 && -x + -y != 0\r\n\r\n  if (k) {\r\n    xc.unshift(k);\r\n    ++ye;\r\n  }\r\n\r\n  // Remove trailing zeros.\r\n  for (e = xc.length; xc[--e] === 0;) xc.pop();\r\n\r\n  y.c = xc;\r\n  y.e = ye;\r\n\r\n  return y;\r\n};\r\n\r\n\r\n/*\r\n * Return a Big whose value is the value of this Big raised to the power n.\r\n * If n is negative, round to a maximum of Big.DP decimal places using rounding\r\n * mode Big.RM.\r\n *\r\n * n {number} Integer, -MAX_POWER to MAX_POWER inclusive.\r\n */\r\nP.pow = function (n) {\r\n  var x = this,\r\n    one = new x.constructor('1'),\r\n    y = one,\r\n    isneg = n < 0;\r\n\r\n  if (n !== ~~n || n < -MAX_POWER || n > MAX_POWER) {\r\n    throw Error(INVALID + 'exponent');\r\n  }\r\n\r\n  if (isneg) n = -n;\r\n\r\n  for (;;) {\r\n    if (n & 1) y = y.times(x);\r\n    n >>= 1;\r\n    if (!n) break;\r\n    x = x.times(x);\r\n  }\r\n\r\n  return isneg ? one.div(y) : y;\r\n};\r\n\r\n\r\n/*\r\n * Return a new Big whose value is the value of this Big rounded to a maximum precision of sd\r\n * significant digits using rounding mode rm, or Big.RM if rm is not specified.\r\n *\r\n * sd {number} Significant digits: integer, 1 to MAX_DP inclusive.\r\n * rm? {number} Rounding mode: 0 (down), 1 (half-up), 2 (half-even) or 3 (up).\r\n */\r\nP.prec = function (sd, rm) {\r\n  if (sd !== ~~sd || sd < 1 || sd > MAX_DP) {\r\n    throw Error(INVALID + 'precision');\r\n  }\r\n  return round(new this.constructor(this), sd, rm);\r\n};\r\n\r\n\r\n/*\r\n * Return a new Big whose value is the value of this Big rounded to a maximum of dp decimal places\r\n * using rounding mode rm, or Big.RM if rm is not specified.\r\n * If dp is negative, round to an integer which is a multiple of 10**-dp.\r\n * If dp is not specified, round to 0 decimal places.\r\n *\r\n * dp? {number} Integer, -MAX_DP to MAX_DP inclusive.\r\n * rm? {number} Rounding mode: 0 (down), 1 (half-up), 2 (half-even) or 3 (up).\r\n */\r\nP.round = function (dp, rm) {\r\n  if (dp === UNDEFINED) dp = 0;\r\n  else if (dp !== ~~dp || dp < -MAX_DP || dp > MAX_DP) {\r\n    throw Error(INVALID_DP);\r\n  }\r\n  return round(new this.constructor(this), dp + this.e + 1, rm);\r\n};\r\n\r\n\r\n/*\r\n * Return a new Big whose value is the square root of the value of this Big, rounded, if\r\n * necessary, to a maximum of Big.DP decimal places using rounding mode Big.RM.\r\n */\r\nP.sqrt = function () {\r\n  var r, c, t,\r\n    x = this,\r\n    Big = x.constructor,\r\n    s = x.s,\r\n    e = x.e,\r\n    half = new Big('0.5');\r\n\r\n  // Zero?\r\n  if (!x.c[0]) return new Big(x);\r\n\r\n  // Negative?\r\n  if (s < 0) {\r\n    throw Error(NAME + 'No square root');\r\n  }\r\n\r\n  // Estimate.\r\n  s = Math.sqrt(+stringify(x, true, true));\r\n\r\n  // Math.sqrt underflow/overflow?\r\n  // Re-estimate: pass x coefficient to Math.sqrt as integer, then adjust the result exponent.\r\n  if (s === 0 || s === 1 / 0) {\r\n    c = x.c.join('');\r\n    if (!(c.length + e & 1)) c += '0';\r\n    s = Math.sqrt(c);\r\n    e = ((e + 1) / 2 | 0) - (e < 0 || e & 1);\r\n    r = new Big((s == 1 / 0 ? '5e' : (s = s.toExponential()).slice(0, s.indexOf('e') + 1)) + e);\r\n  } else {\r\n    r = new Big(s + '');\r\n  }\r\n\r\n  e = r.e + (Big.DP += 4);\r\n\r\n  // Newton-Raphson iteration.\r\n  do {\r\n    t = r;\r\n    r = half.times(t.plus(x.div(t)));\r\n  } while (t.c.slice(0, e).join('') !== r.c.slice(0, e).join(''));\r\n\r\n  return round(r, (Big.DP -= 4) + r.e + 1, Big.RM);\r\n};\r\n\r\n\r\n/*\r\n * Return a new Big whose value is the value of this Big times the value of Big y.\r\n */\r\nP.times = P.mul = function (y) {\r\n  var c,\r\n    x = this,\r\n    Big = x.constructor,\r\n    xc = x.c,\r\n    yc = (y = new Big(y)).c,\r\n    a = xc.length,\r\n    b = yc.length,\r\n    i = x.e,\r\n    j = y.e;\r\n\r\n  // Determine sign of result.\r\n  y.s = x.s == y.s ? 1 : -1;\r\n\r\n  // Return signed 0 if either 0.\r\n  if (!xc[0] || !yc[0]) {\r\n    y.c = [y.e = 0];\r\n    return y;\r\n  }\r\n\r\n  // Initialise exponent of result as x.e + y.e.\r\n  y.e = i + j;\r\n\r\n  // If array xc has fewer digits than yc, swap xc and yc, and lengths.\r\n  if (a < b) {\r\n    c = xc;\r\n    xc = yc;\r\n    yc = c;\r\n    j = a;\r\n    a = b;\r\n    b = j;\r\n  }\r\n\r\n  // Initialise coefficient array of result with zeros.\r\n  for (c = new Array(j = a + b); j--;) c[j] = 0;\r\n\r\n  // Multiply.\r\n\r\n  // i is initially xc.length.\r\n  for (i = b; i--;) {\r\n    b = 0;\r\n\r\n    // a is yc.length.\r\n    for (j = a + i; j > i;) {\r\n\r\n      // Current sum of products at this digit position, plus carry.\r\n      b = c[j] + yc[i] * xc[j - i - 1] + b;\r\n      c[j--] = b % 10;\r\n\r\n      // carry\r\n      b = b / 10 | 0;\r\n    }\r\n\r\n    c[j] = b;\r\n  }\r\n\r\n  // Increment result exponent if there is a final carry, otherwise remove leading zero.\r\n  if (b) ++y.e;\r\n  else c.shift();\r\n\r\n  // Remove trailing zeros.\r\n  for (i = c.length; !c[--i];) c.pop();\r\n  y.c = c;\r\n\r\n  return y;\r\n};\r\n\r\n\r\n/*\r\n * Return a string representing the value of this Big in exponential notation rounded to dp fixed\r\n * decimal places using rounding mode rm, or Big.RM if rm is not specified.\r\n *\r\n * dp? {number} Decimal places: integer, 0 to MAX_DP inclusive.\r\n * rm? {number} Rounding mode: 0 (down), 1 (half-up), 2 (half-even) or 3 (up).\r\n */\r\nP.toExponential = function (dp, rm) {\r\n  var x = this,\r\n    n = x.c[0];\r\n\r\n  if (dp !== UNDEFINED) {\r\n    if (dp !== ~~dp || dp < 0 || dp > MAX_DP) {\r\n      throw Error(INVALID_DP);\r\n    }\r\n    x = round(new x.constructor(x), ++dp, rm);\r\n    for (; x.c.length < dp;) x.c.push(0);\r\n  }\r\n\r\n  return stringify(x, true, !!n);\r\n};\r\n\r\n\r\n/*\r\n * Return a string representing the value of this Big in normal notation rounded to dp fixed\r\n * decimal places using rounding mode rm, or Big.RM if rm is not specified.\r\n *\r\n * dp? {number} Decimal places: integer, 0 to MAX_DP inclusive.\r\n * rm? {number} Rounding mode: 0 (down), 1 (half-up), 2 (half-even) or 3 (up).\r\n *\r\n * (-0).toFixed(0) is '0', but (-0.1).toFixed(0) is '-0'.\r\n * (-0).toFixed(1) is '0.0', but (-0.01).toFixed(1) is '-0.0'.\r\n */\r\nP.toFixed = function (dp, rm) {\r\n  var x = this,\r\n    n = x.c[0];\r\n\r\n  if (dp !== UNDEFINED) {\r\n    if (dp !== ~~dp || dp < 0 || dp > MAX_DP) {\r\n      throw Error(INVALID_DP);\r\n    }\r\n    x = round(new x.constructor(x), dp + x.e + 1, rm);\r\n\r\n    // x.e may have changed if the value is rounded up.\r\n    for (dp = dp + x.e + 1; x.c.length < dp;) x.c.push(0);\r\n  }\r\n\r\n  return stringify(x, false, !!n);\r\n};\r\n\r\n\r\n/*\r\n * Return a string representing the value of this Big.\r\n * Return exponential notation if this Big has a positive exponent equal to or greater than\r\n * Big.PE, or a negative exponent equal to or less than Big.NE.\r\n * Omit the sign for negative zero.\r\n */\r\nP.toJSON = P.toString = function () {\r\n  var x = this,\r\n    Big = x.constructor;\r\n  return stringify(x, x.e <= Big.NE || x.e >= Big.PE, !!x.c[0]);\r\n};\r\n\r\nif (typeof Symbol !== \"undefined\") {\r\n  P[Symbol.for('nodejs.util.inspect.custom')] = P.toJSON;\r\n}\r\n\r\n\r\n/*\r\n * Return the value of this Big as a primitive number.\r\n */\r\nP.toNumber = function () {\r\n  var n = +stringify(this, true, true);\r\n  if (this.constructor.strict === true && !this.eq(n.toString())) {\r\n    throw Error(NAME + 'Imprecise conversion');\r\n  }\r\n  return n;\r\n};\r\n\r\n\r\n/*\r\n * Return a string representing the value of this Big rounded to sd significant digits using\r\n * rounding mode rm, or Big.RM if rm is not specified.\r\n * Use exponential notation if sd is less than the number of digits necessary to represent\r\n * the integer part of the value in normal notation.\r\n *\r\n * sd {number} Significant digits: integer, 1 to MAX_DP inclusive.\r\n * rm? {number} Rounding mode: 0 (down), 1 (half-up), 2 (half-even) or 3 (up).\r\n */\r\nP.toPrecision = function (sd, rm) {\r\n  var x = this,\r\n    Big = x.constructor,\r\n    n = x.c[0];\r\n\r\n  if (sd !== UNDEFINED) {\r\n    if (sd !== ~~sd || sd < 1 || sd > MAX_DP) {\r\n      throw Error(INVALID + 'precision');\r\n    }\r\n    x = round(new Big(x), sd, rm);\r\n    for (; x.c.length < sd;) x.c.push(0);\r\n  }\r\n\r\n  return stringify(x, sd <= x.e || x.e <= Big.NE || x.e >= Big.PE, !!n);\r\n};\r\n\r\n\r\n/*\r\n * Return a string representing the value of this Big.\r\n * Return exponential notation if this Big has a positive exponent equal to or greater than\r\n * Big.PE, or a negative exponent equal to or less than Big.NE.\r\n * Include the sign for negative zero.\r\n */\r\nP.valueOf = function () {\r\n  var x = this,\r\n    Big = x.constructor;\r\n  if (Big.strict === true) {\r\n    throw Error(NAME + 'valueOf disallowed');\r\n  }\r\n  return stringify(x, x.e <= Big.NE || x.e >= Big.PE, true);\r\n};\r\n\r\n\r\n// Export\r\n\r\n\r\nvar Big = _Big_();\r\n\r\n/// <reference types=\"https://raw.githubusercontent.com/DefinitelyTyped/DefinitelyTyped/master/types/big.js/index.d.ts\" />\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Big);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsSUFBSTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxHQUFHO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixjQUFjO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSxRQUFRO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU8sUUFBUTtBQUNmLFFBQVEsUUFBUTtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLFFBQVE7QUFDaEIsUUFBUSxRQUFRO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxJQUFJO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxJQUFJO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixNQUFNO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsUUFBUTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsUUFBUTtBQUNoQixRQUFRLFFBQVE7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGdCQUFnQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsUUFBUTtBQUNoQixRQUFRLFFBQVE7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLGdCQUFnQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTyxRQUFRO0FBQ2YsUUFBUSxRQUFRO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGdCQUFnQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLGlFQUFlLEdBQUcsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2NhbXVuZGEtbW9kZWxlci1jbGllbnQvLi4vbm9kZV9tb2R1bGVzL2JpZy5qcy9iaWcubWpzPzQwYjMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcclxuICogIGJpZy5qcyB2Ny4wLjFcclxuICogIEEgc21hbGwsIGZhc3QsIGVhc3ktdG8tdXNlIGxpYnJhcnkgZm9yIGFyYml0cmFyeS1wcmVjaXNpb24gZGVjaW1hbCBhcml0aG1ldGljLlxyXG4gKiAgQ29weXJpZ2h0IChjKSAyMDI1IE1pY2hhZWwgTWNsYXVnaGxpblxyXG4gKiAgaHR0cHM6Ly9naXRodWIuY29tL01pa2VNY2wvYmlnLmpzL0xJQ0VOQ0UubWRcclxuICovXHJcblxyXG5cclxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIEVESVRBQkxFIERFRkFVTFRTICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuXHJcbiAgLy8gVGhlIGRlZmF1bHQgdmFsdWVzIGJlbG93IG11c3QgYmUgaW50ZWdlcnMgd2l0aGluIHRoZSBzdGF0ZWQgcmFuZ2VzLlxyXG5cclxuICAvKlxyXG4gICAqIFRoZSBtYXhpbXVtIG51bWJlciBvZiBkZWNpbWFsIHBsYWNlcyAoRFApIG9mIHRoZSByZXN1bHRzIG9mIG9wZXJhdGlvbnMgaW52b2x2aW5nIGRpdmlzaW9uOlxyXG4gICAqIGRpdiBhbmQgc3FydCwgYW5kIHBvdyB3aXRoIG5lZ2F0aXZlIGV4cG9uZW50cy5cclxuICAgKi9cclxudmFyIERQID0gMjAsICAgICAgICAgIC8vIDAgdG8gTUFYX0RQXHJcblxyXG4gIC8qXHJcbiAgICogVGhlIHJvdW5kaW5nIG1vZGUgKFJNKSB1c2VkIHdoZW4gcm91bmRpbmcgdG8gdGhlIGFib3ZlIGRlY2ltYWwgcGxhY2VzLlxyXG4gICAqXHJcbiAgICogIDAgIFRvd2FyZHMgemVybyAoaS5lLiB0cnVuY2F0ZSwgbm8gcm91bmRpbmcpLiAgICAgICAoUk9VTkRfRE9XTilcclxuICAgKiAgMSAgVG8gbmVhcmVzdCBuZWlnaGJvdXIuIElmIGVxdWlkaXN0YW50LCByb3VuZCB1cC4gIChST1VORF9IQUxGX1VQKVxyXG4gICAqICAyICBUbyBuZWFyZXN0IG5laWdoYm91ci4gSWYgZXF1aWRpc3RhbnQsIHRvIGV2ZW4uICAgKFJPVU5EX0hBTEZfRVZFTilcclxuICAgKiAgMyAgQXdheSBmcm9tIHplcm8uICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChST1VORF9VUClcclxuICAgKi9cclxuICBSTSA9IDEsICAgICAgICAgICAgIC8vIDAsIDEsIDIgb3IgM1xyXG5cclxuICAvLyBUaGUgbWF4aW11bSB2YWx1ZSBvZiBEUCBhbmQgQmlnLkRQLlxyXG4gIE1BWF9EUCA9IDFFNiwgICAgICAgLy8gMCB0byAxMDAwMDAwXHJcblxyXG4gIC8vIFRoZSBtYXhpbXVtIG1hZ25pdHVkZSBvZiB0aGUgZXhwb25lbnQgYXJndW1lbnQgdG8gdGhlIHBvdyBtZXRob2QuXHJcbiAgTUFYX1BPV0VSID0gMUU2LCAgICAvLyAxIHRvIDEwMDAwMDBcclxuXHJcbiAgLypcclxuICAgKiBUaGUgbmVnYXRpdmUgZXhwb25lbnQgKE5FKSBhdCBhbmQgYmVuZWF0aCB3aGljaCB0b1N0cmluZyByZXR1cm5zIGV4cG9uZW50aWFsIG5vdGF0aW9uLlxyXG4gICAqIChKYXZhU2NyaXB0IG51bWJlcnM6IC03KVxyXG4gICAqIC0xMDAwMDAwIGlzIHRoZSBtaW5pbXVtIHJlY29tbWVuZGVkIGV4cG9uZW50IHZhbHVlIG9mIGEgQmlnLlxyXG4gICAqL1xyXG4gIE5FID0gLTcsICAgICAgICAgICAgLy8gMCB0byAtMTAwMDAwMFxyXG5cclxuICAvKlxyXG4gICAqIFRoZSBwb3NpdGl2ZSBleHBvbmVudCAoUEUpIGF0IGFuZCBhYm92ZSB3aGljaCB0b1N0cmluZyByZXR1cm5zIGV4cG9uZW50aWFsIG5vdGF0aW9uLlxyXG4gICAqIChKYXZhU2NyaXB0IG51bWJlcnM6IDIxKVxyXG4gICAqIDEwMDAwMDAgaXMgdGhlIG1heGltdW0gcmVjb21tZW5kZWQgZXhwb25lbnQgdmFsdWUgb2YgYSBCaWcsIGJ1dCB0aGlzIGxpbWl0IGlzIG5vdCBlbmZvcmNlZC5cclxuICAgKi9cclxuICBQRSA9IDIxLCAgICAgICAgICAgIC8vIDAgdG8gMTAwMDAwMFxyXG5cclxuICAvKlxyXG4gICAqIFdoZW4gdHJ1ZSwgYW4gZXJyb3Igd2lsbCBiZSB0aHJvd24gaWYgYSBwcmltaXRpdmUgbnVtYmVyIGlzIHBhc3NlZCB0byB0aGUgQmlnIGNvbnN0cnVjdG9yLFxyXG4gICAqIG9yIGlmIHZhbHVlT2YgaXMgY2FsbGVkLCBvciBpZiB0b051bWJlciBpcyBjYWxsZWQgb24gYSBCaWcgd2hpY2ggY2Fubm90IGJlIGNvbnZlcnRlZCB0byBhXHJcbiAgICogcHJpbWl0aXZlIG51bWJlciB3aXRob3V0IGEgbG9zcyBvZiBwcmVjaXNpb24uXHJcbiAgICovXHJcbiAgU1RSSUNUID0gZmFsc2UsICAgICAvLyB0cnVlIG9yIGZhbHNlXHJcblxyXG5cclxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuXHJcbiAgLy8gRXJyb3IgbWVzc2FnZXMuXHJcbiAgTkFNRSA9ICdbYmlnLmpzXSAnLFxyXG4gIElOVkFMSUQgPSBOQU1FICsgJ0ludmFsaWQgJyxcclxuICBJTlZBTElEX0RQID0gSU5WQUxJRCArICdkZWNpbWFsIHBsYWNlcycsXHJcbiAgSU5WQUxJRF9STSA9IElOVkFMSUQgKyAncm91bmRpbmcgbW9kZScsXHJcbiAgRElWX0JZX1pFUk8gPSBOQU1FICsgJ0RpdmlzaW9uIGJ5IHplcm8nLFxyXG5cclxuICAvLyBUaGUgc2hhcmVkIHByb3RvdHlwZSBvYmplY3QuXHJcbiAgUCA9IHt9LFxyXG4gIFVOREVGSU5FRCA9IHZvaWQgMCxcclxuICBOVU1FUklDID0gL14tPyhcXGQrKFxcLlxcZCopP3xcXC5cXGQrKShlWystXT9cXGQrKT8kL2k7XHJcblxyXG5cclxuLypcclxuICogQ3JlYXRlIGFuZCByZXR1cm4gYSBCaWcgY29uc3RydWN0b3IuXHJcbiAqL1xyXG5mdW5jdGlvbiBfQmlnXygpIHtcclxuXHJcbiAgLypcclxuICAgKiBUaGUgQmlnIGNvbnN0cnVjdG9yIGFuZCBleHBvcnRlZCBmdW5jdGlvbi5cclxuICAgKiBDcmVhdGUgYW5kIHJldHVybiBhIG5ldyBpbnN0YW5jZSBvZiBhIEJpZyBudW1iZXIgb2JqZWN0LlxyXG4gICAqXHJcbiAgICogbiB7bnVtYmVyfHN0cmluZ3xCaWd9IEEgbnVtZXJpYyB2YWx1ZS5cclxuICAgKi9cclxuICBmdW5jdGlvbiBCaWcobikge1xyXG4gICAgdmFyIHggPSB0aGlzO1xyXG5cclxuICAgIC8vIEVuYWJsZSBjb25zdHJ1Y3RvciB1c2FnZSB3aXRob3V0IG5ldy5cclxuICAgIGlmICghKHggaW5zdGFuY2VvZiBCaWcpKSB7XHJcbiAgICAgIHJldHVybiBuID09PSBVTkRFRklORUQgJiYgYXJndW1lbnRzLmxlbmd0aCA9PT0gMCA/IF9CaWdfKCkgOiBuZXcgQmlnKG4pO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvLyBEdXBsaWNhdGUuXHJcbiAgICBpZiAobiBpbnN0YW5jZW9mIEJpZykge1xyXG4gICAgICB4LnMgPSBuLnM7XHJcbiAgICAgIHguZSA9IG4uZTtcclxuICAgICAgeC5jID0gbi5jLnNsaWNlKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAodHlwZW9mIG4gIT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgaWYgKEJpZy5zdHJpY3QgPT09IHRydWUgJiYgdHlwZW9mIG4gIT09ICdiaWdpbnQnKSB7XHJcbiAgICAgICAgICB0aHJvdyBUeXBlRXJyb3IoSU5WQUxJRCArICd2YWx1ZScpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gTWludXMgemVybz9cclxuICAgICAgICBuID0gbiA9PT0gMCAmJiAxIC8gbiA8IDAgPyAnLTAnIDogU3RyaW5nKG4pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBwYXJzZSh4LCBuKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXRhaW4gYSByZWZlcmVuY2UgdG8gdGhpcyBCaWcgY29uc3RydWN0b3IuXHJcbiAgICAvLyBTaGFkb3cgQmlnLnByb3RvdHlwZS5jb25zdHJ1Y3RvciB3aGljaCBwb2ludHMgdG8gT2JqZWN0LlxyXG4gICAgeC5jb25zdHJ1Y3RvciA9IEJpZztcclxuICB9XHJcblxyXG4gIEJpZy5wcm90b3R5cGUgPSBQO1xyXG4gIEJpZy5EUCA9IERQO1xyXG4gIEJpZy5STSA9IFJNO1xyXG4gIEJpZy5ORSA9IE5FO1xyXG4gIEJpZy5QRSA9IFBFO1xyXG4gIEJpZy5zdHJpY3QgPSBTVFJJQ1Q7XHJcbiAgQmlnLnJvdW5kRG93biA9IDA7XHJcbiAgQmlnLnJvdW5kSGFsZlVwID0gMTtcclxuICBCaWcucm91bmRIYWxmRXZlbiA9IDI7XHJcbiAgQmlnLnJvdW5kVXAgPSAzO1xyXG5cclxuICByZXR1cm4gQmlnO1xyXG59XHJcblxyXG5cclxuLypcclxuICogUGFyc2UgdGhlIG51bWJlciBvciBzdHJpbmcgdmFsdWUgcGFzc2VkIHRvIGEgQmlnIGNvbnN0cnVjdG9yLlxyXG4gKlxyXG4gKiB4IHtCaWd9IEEgQmlnIG51bWJlciBpbnN0YW5jZS5cclxuICogbiB7bnVtYmVyfHN0cmluZ30gQSBudW1lcmljIHZhbHVlLlxyXG4gKi9cclxuZnVuY3Rpb24gcGFyc2UoeCwgbikge1xyXG4gIHZhciBlLCBpLCBubDtcclxuXHJcbiAgaWYgKCFOVU1FUklDLnRlc3QobikpIHtcclxuICAgIHRocm93IEVycm9yKElOVkFMSUQgKyAnbnVtYmVyJyk7XHJcbiAgfVxyXG5cclxuICAvLyBEZXRlcm1pbmUgc2lnbi5cclxuICB4LnMgPSBuLmNoYXJBdCgwKSA9PSAnLScgPyAobiA9IG4uc2xpY2UoMSksIC0xKSA6IDE7XHJcblxyXG4gIC8vIERlY2ltYWwgcG9pbnQ/XHJcbiAgaWYgKChlID0gbi5pbmRleE9mKCcuJykpID4gLTEpIG4gPSBuLnJlcGxhY2UoJy4nLCAnJyk7XHJcblxyXG4gIC8vIEV4cG9uZW50aWFsIGZvcm0/XHJcbiAgaWYgKChpID0gbi5zZWFyY2goL2UvaSkpID4gMCkge1xyXG5cclxuICAgIC8vIERldGVybWluZSBleHBvbmVudC5cclxuICAgIGlmIChlIDwgMCkgZSA9IGk7XHJcbiAgICBlICs9ICtuLnNsaWNlKGkgKyAxKTtcclxuICAgIG4gPSBuLnN1YnN0cmluZygwLCBpKTtcclxuICB9IGVsc2UgaWYgKGUgPCAwKSB7XHJcblxyXG4gICAgLy8gSW50ZWdlci5cclxuICAgIGUgPSBuLmxlbmd0aDtcclxuICB9XHJcblxyXG4gIG5sID0gbi5sZW5ndGg7XHJcblxyXG4gIC8vIERldGVybWluZSBsZWFkaW5nIHplcm9zLlxyXG4gIGZvciAoaSA9IDA7IGkgPCBubCAmJiBuLmNoYXJBdChpKSA9PSAnMCc7KSArK2k7XHJcblxyXG4gIGlmIChpID09IG5sKSB7XHJcblxyXG4gICAgLy8gWmVyby5cclxuICAgIHguYyA9IFt4LmUgPSAwXTtcclxuICB9IGVsc2Uge1xyXG5cclxuICAgIC8vIERldGVybWluZSB0cmFpbGluZyB6ZXJvcy5cclxuICAgIGZvciAoOyBubCA+IDAgJiYgbi5jaGFyQXQoLS1ubCkgPT0gJzAnOyk7XHJcbiAgICB4LmUgPSBlIC0gaSAtIDE7XHJcbiAgICB4LmMgPSBbXTtcclxuXHJcbiAgICAvLyBDb252ZXJ0IHN0cmluZyB0byBhcnJheSBvZiBkaWdpdHMgd2l0aG91dCBsZWFkaW5nL3RyYWlsaW5nIHplcm9zLlxyXG4gICAgZm9yIChlID0gMDsgaSA8PSBubDspIHguY1tlKytdID0gK24uY2hhckF0KGkrKyk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4geDtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJvdW5kIEJpZyB4IHRvIGEgbWF4aW11bSBvZiBzZCBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBybS5cclxuICpcclxuICogeCB7QmlnfSBUaGUgQmlnIHRvIHJvdW5kLlxyXG4gKiBzZCB7bnVtYmVyfSBTaWduaWZpY2FudCBkaWdpdHM6IGludGVnZXIsIDAgdG8gTUFYX0RQIGluY2x1c2l2ZS5cclxuICogcm0ge251bWJlcn0gUm91bmRpbmcgbW9kZTogMCAoZG93biksIDEgKGhhbGYtdXApLCAyIChoYWxmLWV2ZW4pIG9yIDMgKHVwKS5cclxuICogW21vcmVdIHtib29sZWFufSBXaGV0aGVyIHRoZSByZXN1bHQgb2YgZGl2aXNpb24gd2FzIHRydW5jYXRlZC5cclxuICovXHJcbmZ1bmN0aW9uIHJvdW5kKHgsIHNkLCBybSwgbW9yZSkge1xyXG4gIHZhciB4YyA9IHguYztcclxuXHJcbiAgaWYgKHJtID09PSBVTkRFRklORUQpIHJtID0geC5jb25zdHJ1Y3Rvci5STTtcclxuICBpZiAocm0gIT09IDAgJiYgcm0gIT09IDEgJiYgcm0gIT09IDIgJiYgcm0gIT09IDMpIHtcclxuICAgIHRocm93IEVycm9yKElOVkFMSURfUk0pO1xyXG4gIH1cclxuXHJcbiAgaWYgKHNkIDwgMSkge1xyXG4gICAgbW9yZSA9XHJcbiAgICAgIHJtID09PSAzICYmIChtb3JlIHx8ICEheGNbMF0pIHx8IHNkID09PSAwICYmIChcclxuICAgICAgcm0gPT09IDEgJiYgeGNbMF0gPj0gNSB8fFxyXG4gICAgICBybSA9PT0gMiAmJiAoeGNbMF0gPiA1IHx8IHhjWzBdID09PSA1ICYmIChtb3JlIHx8IHhjWzFdICE9PSBVTkRFRklORUQpKVxyXG4gICAgKTtcclxuXHJcbiAgICB4Yy5sZW5ndGggPSAxO1xyXG5cclxuICAgIGlmIChtb3JlKSB7XHJcblxyXG4gICAgICAvLyAxLCAwLjEsIDAuMDEsIDAuMDAxLCAwLjAwMDEgZXRjLlxyXG4gICAgICB4LmUgPSB4LmUgLSBzZCArIDE7XHJcbiAgICAgIHhjWzBdID0gMTtcclxuICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAvLyBaZXJvLlxyXG4gICAgICB4Y1swXSA9IHguZSA9IDA7XHJcbiAgICB9XHJcbiAgfSBlbHNlIGlmIChzZCA8IHhjLmxlbmd0aCkge1xyXG5cclxuICAgIC8vIHhjW3NkXSBpcyB0aGUgZGlnaXQgYWZ0ZXIgdGhlIGRpZ2l0IHRoYXQgbWF5IGJlIHJvdW5kZWQgdXAuXHJcbiAgICBtb3JlID1cclxuICAgICAgcm0gPT09IDEgJiYgeGNbc2RdID49IDUgfHxcclxuICAgICAgcm0gPT09IDIgJiYgKHhjW3NkXSA+IDUgfHwgeGNbc2RdID09PSA1ICYmXHJcbiAgICAgICAgKG1vcmUgfHwgeGNbc2QgKyAxXSAhPT0gVU5ERUZJTkVEIHx8IHhjW3NkIC0gMV0gJiAxKSkgfHxcclxuICAgICAgcm0gPT09IDMgJiYgKG1vcmUgfHwgISF4Y1swXSk7XHJcblxyXG4gICAgLy8gUmVtb3ZlIGFueSBkaWdpdHMgYWZ0ZXIgdGhlIHJlcXVpcmVkIHByZWNpc2lvbi5cclxuICAgIHhjLmxlbmd0aCA9IHNkO1xyXG5cclxuICAgIC8vIFJvdW5kIHVwP1xyXG4gICAgaWYgKG1vcmUpIHtcclxuXHJcbiAgICAgIC8vIFJvdW5kaW5nIHVwIG1heSBtZWFuIHRoZSBwcmV2aW91cyBkaWdpdCBoYXMgdG8gYmUgcm91bmRlZCB1cC5cclxuICAgICAgZm9yICg7ICsreGNbLS1zZF0gPiA5Oykge1xyXG4gICAgICAgIHhjW3NkXSA9IDA7XHJcbiAgICAgICAgaWYgKHNkID09PSAwKSB7XHJcbiAgICAgICAgICArK3guZTtcclxuICAgICAgICAgIHhjLnVuc2hpZnQoMSk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBSZW1vdmUgdHJhaWxpbmcgemVyb3MuXHJcbiAgICBmb3IgKHNkID0geGMubGVuZ3RoOyAheGNbLS1zZF07KSB4Yy5wb3AoKTtcclxuICB9XHJcblxyXG4gIHJldHVybiB4O1xyXG59XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgdmFsdWUgb2YgQmlnIHggaW4gbm9ybWFsIG9yIGV4cG9uZW50aWFsIG5vdGF0aW9uLlxyXG4gKiBIYW5kbGVzIFAudG9FeHBvbmVudGlhbCwgUC50b0ZpeGVkLCBQLnRvSlNPTiwgUC50b1ByZWNpc2lvbiwgUC50b1N0cmluZyBhbmQgUC52YWx1ZU9mLlxyXG4gKi9cclxuZnVuY3Rpb24gc3RyaW5naWZ5KHgsIGRvRXhwb25lbnRpYWwsIGlzTm9uemVybykge1xyXG4gIHZhciBlID0geC5lLFxyXG4gICAgcyA9IHguYy5qb2luKCcnKSxcclxuICAgIG4gPSBzLmxlbmd0aDtcclxuXHJcbiAgLy8gRXhwb25lbnRpYWwgbm90YXRpb24/XHJcbiAgaWYgKGRvRXhwb25lbnRpYWwpIHtcclxuICAgIHMgPSBzLmNoYXJBdCgwKSArIChuID4gMSA/ICcuJyArIHMuc2xpY2UoMSkgOiAnJykgKyAoZSA8IDAgPyAnZScgOiAnZSsnKSArIGU7XHJcblxyXG4gIC8vIE5vcm1hbCBub3RhdGlvbi5cclxuICB9IGVsc2UgaWYgKGUgPCAwKSB7XHJcbiAgICBmb3IgKDsgKytlOykgcyA9ICcwJyArIHM7XHJcbiAgICBzID0gJzAuJyArIHM7XHJcbiAgfSBlbHNlIGlmIChlID4gMCkge1xyXG4gICAgaWYgKCsrZSA+IG4pIHtcclxuICAgICAgZm9yIChlIC09IG47IGUtLTspIHMgKz0gJzAnO1xyXG4gICAgfSBlbHNlIGlmIChlIDwgbikge1xyXG4gICAgICBzID0gcy5zbGljZSgwLCBlKSArICcuJyArIHMuc2xpY2UoZSk7XHJcbiAgICB9XHJcbiAgfSBlbHNlIGlmIChuID4gMSkge1xyXG4gICAgcyA9IHMuY2hhckF0KDApICsgJy4nICsgcy5zbGljZSgxKTtcclxuICB9XHJcblxyXG4gIHJldHVybiB4LnMgPCAwICYmIGlzTm9uemVybyA/ICctJyArIHMgOiBzO1xyXG59XHJcblxyXG5cclxuLy8gUHJvdG90eXBlL2luc3RhbmNlIG1ldGhvZHNcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgQmlnIHdob3NlIHZhbHVlIGlzIHRoZSBhYnNvbHV0ZSB2YWx1ZSBvZiB0aGlzIEJpZy5cclxuICovXHJcblAuYWJzID0gZnVuY3Rpb24gKCkge1xyXG4gIHZhciB4ID0gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcyk7XHJcbiAgeC5zID0gMTtcclxuICByZXR1cm4geDtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gMSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWcgaXMgZ3JlYXRlciB0aGFuIHRoZSB2YWx1ZSBvZiBCaWcgeSxcclxuICogICAgICAgLTEgaWYgdGhlIHZhbHVlIG9mIHRoaXMgQmlnIGlzIGxlc3MgdGhhbiB0aGUgdmFsdWUgb2YgQmlnIHksIG9yXHJcbiAqICAgICAgICAwIGlmIHRoZXkgaGF2ZSB0aGUgc2FtZSB2YWx1ZS5cclxuICovXHJcblAuY21wID0gZnVuY3Rpb24gKHkpIHtcclxuICB2YXIgaXNuZWcsXHJcbiAgICB4ID0gdGhpcyxcclxuICAgIHhjID0geC5jLFxyXG4gICAgeWMgPSAoeSA9IG5ldyB4LmNvbnN0cnVjdG9yKHkpKS5jLFxyXG4gICAgaSA9IHgucyxcclxuICAgIGogPSB5LnMsXHJcbiAgICBrID0geC5lLFxyXG4gICAgbCA9IHkuZTtcclxuXHJcbiAgLy8gRWl0aGVyIHplcm8/XHJcbiAgaWYgKCF4Y1swXSB8fCAheWNbMF0pIHJldHVybiAheGNbMF0gPyAheWNbMF0gPyAwIDogLWogOiBpO1xyXG5cclxuICAvLyBTaWducyBkaWZmZXI/XHJcbiAgaWYgKGkgIT0gaikgcmV0dXJuIGk7XHJcblxyXG4gIGlzbmVnID0gaSA8IDA7XHJcblxyXG4gIC8vIENvbXBhcmUgZXhwb25lbnRzLlxyXG4gIGlmIChrICE9IGwpIHJldHVybiBrID4gbCBeIGlzbmVnID8gMSA6IC0xO1xyXG5cclxuICBqID0gKGsgPSB4Yy5sZW5ndGgpIDwgKGwgPSB5Yy5sZW5ndGgpID8gayA6IGw7XHJcblxyXG4gIC8vIENvbXBhcmUgZGlnaXQgYnkgZGlnaXQuXHJcbiAgZm9yIChpID0gLTE7ICsraSA8IGo7KSB7XHJcbiAgICBpZiAoeGNbaV0gIT0geWNbaV0pIHJldHVybiB4Y1tpXSA+IHljW2ldIF4gaXNuZWcgPyAxIDogLTE7XHJcbiAgfVxyXG5cclxuICAvLyBDb21wYXJlIGxlbmd0aHMuXHJcbiAgcmV0dXJuIGsgPT0gbCA/IDAgOiBrID4gbCBeIGlzbmVnID8gMSA6IC0xO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBCaWcgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgQmlnIGRpdmlkZWQgYnkgdGhlIHZhbHVlIG9mIEJpZyB5LCByb3VuZGVkLFxyXG4gKiBpZiBuZWNlc3NhcnksIHRvIGEgbWF4aW11bSBvZiBCaWcuRFAgZGVjaW1hbCBwbGFjZXMgdXNpbmcgcm91bmRpbmcgbW9kZSBCaWcuUk0uXHJcbiAqL1xyXG5QLmRpdiA9IGZ1bmN0aW9uICh5KSB7XHJcbiAgdmFyIHggPSB0aGlzLFxyXG4gICAgQmlnID0geC5jb25zdHJ1Y3RvcixcclxuICAgIGEgPSB4LmMsICAgICAgICAgICAgICAgICAgLy8gZGl2aWRlbmRcclxuICAgIGIgPSAoeSA9IG5ldyBCaWcoeSkpLmMsICAgLy8gZGl2aXNvclxyXG4gICAgayA9IHgucyA9PSB5LnMgPyAxIDogLTEsXHJcbiAgICBkcCA9IEJpZy5EUDtcclxuXHJcbiAgaWYgKGRwICE9PSB+fmRwIHx8IGRwIDwgMCB8fCBkcCA+IE1BWF9EUCkge1xyXG4gICAgdGhyb3cgRXJyb3IoSU5WQUxJRF9EUCk7XHJcbiAgfVxyXG5cclxuICAvLyBEaXZpc29yIGlzIHplcm8/XHJcbiAgaWYgKCFiWzBdKSB7XHJcbiAgICB0aHJvdyBFcnJvcihESVZfQllfWkVSTyk7XHJcbiAgfVxyXG5cclxuICAvLyBEaXZpZGVuZCBpcyAwPyBSZXR1cm4gKy0wLlxyXG4gIGlmICghYVswXSkge1xyXG4gICAgeS5zID0gaztcclxuICAgIHkuYyA9IFt5LmUgPSAwXTtcclxuICAgIHJldHVybiB5O1xyXG4gIH1cclxuXHJcbiAgdmFyIGJsLCBidCwgbiwgY21wLCByaSxcclxuICAgIGJ6ID0gYi5zbGljZSgpLFxyXG4gICAgYWkgPSBibCA9IGIubGVuZ3RoLFxyXG4gICAgYWwgPSBhLmxlbmd0aCxcclxuICAgIHIgPSBhLnNsaWNlKDAsIGJsKSwgICAvLyByZW1haW5kZXJcclxuICAgIHJsID0gci5sZW5ndGgsXHJcbiAgICBxID0geSwgICAgICAgICAgICAgICAgLy8gcXVvdGllbnRcclxuICAgIHFjID0gcS5jID0gW10sXHJcbiAgICBxaSA9IDAsXHJcbiAgICBwID0gZHAgKyAocS5lID0geC5lIC0geS5lKSArIDE7ICAgIC8vIHByZWNpc2lvbiBvZiB0aGUgcmVzdWx0XHJcblxyXG4gIHEucyA9IGs7XHJcbiAgayA9IHAgPCAwID8gMCA6IHA7XHJcblxyXG4gIC8vIENyZWF0ZSB2ZXJzaW9uIG9mIGRpdmlzb3Igd2l0aCBsZWFkaW5nIHplcm8uXHJcbiAgYnoudW5zaGlmdCgwKTtcclxuXHJcbiAgLy8gQWRkIHplcm9zIHRvIG1ha2UgcmVtYWluZGVyIGFzIGxvbmcgYXMgZGl2aXNvci5cclxuICBmb3IgKDsgcmwrKyA8IGJsOykgci5wdXNoKDApO1xyXG5cclxuICBkbyB7XHJcblxyXG4gICAgLy8gbiBpcyBob3cgbWFueSB0aW1lcyB0aGUgZGl2aXNvciBnb2VzIGludG8gY3VycmVudCByZW1haW5kZXIuXHJcbiAgICBmb3IgKG4gPSAwOyBuIDwgMTA7IG4rKykge1xyXG5cclxuICAgICAgLy8gQ29tcGFyZSBkaXZpc29yIGFuZCByZW1haW5kZXIuXHJcbiAgICAgIGlmIChibCAhPSAocmwgPSByLmxlbmd0aCkpIHtcclxuICAgICAgICBjbXAgPSBibCA+IHJsID8gMSA6IC0xO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGZvciAocmkgPSAtMSwgY21wID0gMDsgKytyaSA8IGJsOykge1xyXG4gICAgICAgICAgaWYgKGJbcmldICE9IHJbcmldKSB7XHJcbiAgICAgICAgICAgIGNtcCA9IGJbcmldID4gcltyaV0gPyAxIDogLTE7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gSWYgZGl2aXNvciA8IHJlbWFpbmRlciwgc3VidHJhY3QgZGl2aXNvciBmcm9tIHJlbWFpbmRlci5cclxuICAgICAgaWYgKGNtcCA8IDApIHtcclxuXHJcbiAgICAgICAgLy8gUmVtYWluZGVyIGNhbid0IGJlIG1vcmUgdGhhbiAxIGRpZ2l0IGxvbmdlciB0aGFuIGRpdmlzb3IuXHJcbiAgICAgICAgLy8gRXF1YWxpc2UgbGVuZ3RocyB1c2luZyBkaXZpc29yIHdpdGggZXh0cmEgbGVhZGluZyB6ZXJvP1xyXG4gICAgICAgIGZvciAoYnQgPSBybCA9PSBibCA/IGIgOiBiejsgcmw7KSB7XHJcbiAgICAgICAgICBpZiAoclstLXJsXSA8IGJ0W3JsXSkge1xyXG4gICAgICAgICAgICByaSA9IHJsO1xyXG4gICAgICAgICAgICBmb3IgKDsgcmkgJiYgIXJbLS1yaV07KSByW3JpXSA9IDk7XHJcbiAgICAgICAgICAgIC0tcltyaV07XHJcbiAgICAgICAgICAgIHJbcmxdICs9IDEwO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgcltybF0gLT0gYnRbcmxdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yICg7ICFyWzBdOykgci5zaGlmdCgpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQWRkIHRoZSBkaWdpdCBuIHRvIHRoZSByZXN1bHQgYXJyYXkuXHJcbiAgICBxY1txaSsrXSA9IGNtcCA/IG4gOiArK247XHJcblxyXG4gICAgLy8gVXBkYXRlIHRoZSByZW1haW5kZXIuXHJcbiAgICBpZiAoclswXSAmJiBjbXApIHJbcmxdID0gYVthaV0gfHwgMDtcclxuICAgIGVsc2UgciA9IFthW2FpXV07XHJcblxyXG4gIH0gd2hpbGUgKChhaSsrIDwgYWwgfHwgclswXSAhPT0gVU5ERUZJTkVEKSAmJiBrLS0pO1xyXG5cclxuICAvLyBMZWFkaW5nIHplcm8/IERvIG5vdCByZW1vdmUgaWYgcmVzdWx0IGlzIHNpbXBseSB6ZXJvIChxaSA9PSAxKS5cclxuICBpZiAoIXFjWzBdICYmIHFpICE9IDEpIHtcclxuXHJcbiAgICAvLyBUaGVyZSBjYW4ndCBiZSBtb3JlIHRoYW4gb25lIHplcm8uXHJcbiAgICBxYy5zaGlmdCgpO1xyXG4gICAgcS5lLS07XHJcbiAgICBwLS07XHJcbiAgfVxyXG5cclxuICAvLyBSb3VuZD9cclxuICBpZiAocWkgPiBwKSByb3VuZChxLCBwLCBCaWcuUk0sIHJbMF0gIT09IFVOREVGSU5FRCk7XHJcblxyXG4gIHJldHVybiBxO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiB0cnVlIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZyBpcyBlcXVhbCB0byB0aGUgdmFsdWUgb2YgQmlnIHksIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXHJcbiAqL1xyXG5QLmVxID0gZnVuY3Rpb24gKHkpIHtcclxuICByZXR1cm4gdGhpcy5jbXAoeSkgPT09IDA7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgQmlnIGlzIGdyZWF0ZXIgdGhhbiB0aGUgdmFsdWUgb2YgQmlnIHksIG90aGVyd2lzZSByZXR1cm5cclxuICogZmFsc2UuXHJcbiAqL1xyXG5QLmd0ID0gZnVuY3Rpb24gKHkpIHtcclxuICByZXR1cm4gdGhpcy5jbXAoeSkgPiAwO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiB0cnVlIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZyBpcyBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gdGhlIHZhbHVlIG9mIEJpZyB5LCBvdGhlcndpc2VcclxuICogcmV0dXJuIGZhbHNlLlxyXG4gKi9cclxuUC5ndGUgPSBmdW5jdGlvbiAoeSkge1xyXG4gIHJldHVybiB0aGlzLmNtcCh5KSA+IC0xO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiB0cnVlIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZyBpcyBsZXNzIHRoYW4gdGhlIHZhbHVlIG9mIEJpZyB5LCBvdGhlcndpc2UgcmV0dXJuIGZhbHNlLlxyXG4gKi9cclxuUC5sdCA9IGZ1bmN0aW9uICh5KSB7XHJcbiAgcmV0dXJuIHRoaXMuY21wKHkpIDwgMDtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWcgaXMgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIHRoZSB2YWx1ZSBvZiBCaWcgeSwgb3RoZXJ3aXNlXHJcbiAqIHJldHVybiBmYWxzZS5cclxuICovXHJcblAubHRlID0gZnVuY3Rpb24gKHkpIHtcclxuICByZXR1cm4gdGhpcy5jbXAoeSkgPCAxO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBCaWcgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgQmlnIG1pbnVzIHRoZSB2YWx1ZSBvZiBCaWcgeS5cclxuICovXHJcblAubWludXMgPSBQLnN1YiA9IGZ1bmN0aW9uICh5KSB7XHJcbiAgdmFyIGksIGosIHQsIHhsdHksXHJcbiAgICB4ID0gdGhpcyxcclxuICAgIEJpZyA9IHguY29uc3RydWN0b3IsXHJcbiAgICBhID0geC5zLFxyXG4gICAgYiA9ICh5ID0gbmV3IEJpZyh5KSkucztcclxuXHJcbiAgLy8gU2lnbnMgZGlmZmVyP1xyXG4gIGlmIChhICE9IGIpIHtcclxuICAgIHkucyA9IC1iO1xyXG4gICAgcmV0dXJuIHgucGx1cyh5KTtcclxuICB9XHJcblxyXG4gIHZhciB4YyA9IHguYy5zbGljZSgpLFxyXG4gICAgeGUgPSB4LmUsXHJcbiAgICB5YyA9IHkuYyxcclxuICAgIHllID0geS5lO1xyXG5cclxuICAvLyBFaXRoZXIgemVybz9cclxuICBpZiAoIXhjWzBdIHx8ICF5Y1swXSkge1xyXG4gICAgaWYgKHljWzBdKSB7XHJcbiAgICAgIHkucyA9IC1iO1xyXG4gICAgfSBlbHNlIGlmICh4Y1swXSkge1xyXG4gICAgICB5ID0gbmV3IEJpZyh4KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHkucyA9IDE7XHJcbiAgICB9XHJcbiAgICByZXR1cm4geTtcclxuICB9XHJcblxyXG4gIC8vIERldGVybWluZSB3aGljaCBpcyB0aGUgYmlnZ2VyIG51bWJlci4gUHJlcGVuZCB6ZXJvcyB0byBlcXVhbGlzZSBleHBvbmVudHMuXHJcbiAgaWYgKGEgPSB4ZSAtIHllKSB7XHJcblxyXG4gICAgaWYgKHhsdHkgPSBhIDwgMCkge1xyXG4gICAgICBhID0gLWE7XHJcbiAgICAgIHQgPSB4YztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHllID0geGU7XHJcbiAgICAgIHQgPSB5YztcclxuICAgIH1cclxuXHJcbiAgICB0LnJldmVyc2UoKTtcclxuICAgIGZvciAoYiA9IGE7IGItLTspIHQucHVzaCgwKTtcclxuICAgIHQucmV2ZXJzZSgpO1xyXG4gIH0gZWxzZSB7XHJcblxyXG4gICAgLy8gRXhwb25lbnRzIGVxdWFsLiBDaGVjayBkaWdpdCBieSBkaWdpdC5cclxuICAgIGogPSAoKHhsdHkgPSB4Yy5sZW5ndGggPCB5Yy5sZW5ndGgpID8geGMgOiB5YykubGVuZ3RoO1xyXG5cclxuICAgIGZvciAoYSA9IGIgPSAwOyBiIDwgajsgYisrKSB7XHJcbiAgICAgIGlmICh4Y1tiXSAhPSB5Y1tiXSkge1xyXG4gICAgICAgIHhsdHkgPSB4Y1tiXSA8IHljW2JdO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyB4IDwgeT8gUG9pbnQgeGMgdG8gdGhlIGFycmF5IG9mIHRoZSBiaWdnZXIgbnVtYmVyLlxyXG4gIGlmICh4bHR5KSB7XHJcbiAgICB0ID0geGM7XHJcbiAgICB4YyA9IHljO1xyXG4gICAgeWMgPSB0O1xyXG4gICAgeS5zID0gLXkucztcclxuICB9XHJcblxyXG4gIC8qXHJcbiAgICogQXBwZW5kIHplcm9zIHRvIHhjIGlmIHNob3J0ZXIuIE5vIG5lZWQgdG8gYWRkIHplcm9zIHRvIHljIGlmIHNob3J0ZXIgYXMgc3VidHJhY3Rpb24gb25seVxyXG4gICAqIG5lZWRzIHRvIHN0YXJ0IGF0IHljLmxlbmd0aC5cclxuICAgKi9cclxuICBpZiAoKGIgPSAoaiA9IHljLmxlbmd0aCkgLSAoaSA9IHhjLmxlbmd0aCkpID4gMCkgZm9yICg7IGItLTspIHhjW2krK10gPSAwO1xyXG5cclxuICAvLyBTdWJ0cmFjdCB5YyBmcm9tIHhjLlxyXG4gIGZvciAoYiA9IGk7IGogPiBhOykge1xyXG4gICAgaWYgKHhjWy0tal0gPCB5Y1tqXSkge1xyXG4gICAgICBmb3IgKGkgPSBqOyBpICYmICF4Y1stLWldOykgeGNbaV0gPSA5O1xyXG4gICAgICAtLXhjW2ldO1xyXG4gICAgICB4Y1tqXSArPSAxMDtcclxuICAgIH1cclxuXHJcbiAgICB4Y1tqXSAtPSB5Y1tqXTtcclxuICB9XHJcblxyXG4gIC8vIFJlbW92ZSB0cmFpbGluZyB6ZXJvcy5cclxuICBmb3IgKDsgeGNbLS1iXSA9PT0gMDspIHhjLnBvcCgpO1xyXG5cclxuICAvLyBSZW1vdmUgbGVhZGluZyB6ZXJvcyBhbmQgYWRqdXN0IGV4cG9uZW50IGFjY29yZGluZ2x5LlxyXG4gIGZvciAoOyB4Y1swXSA9PT0gMDspIHtcclxuICAgIHhjLnNoaWZ0KCk7XHJcbiAgICAtLXllO1xyXG4gIH1cclxuXHJcbiAgaWYgKCF4Y1swXSkge1xyXG5cclxuICAgIC8vIG4gLSBuID0gKzBcclxuICAgIHkucyA9IDE7XHJcblxyXG4gICAgLy8gUmVzdWx0IG11c3QgYmUgemVyby5cclxuICAgIHhjID0gW3llID0gMF07XHJcbiAgfVxyXG5cclxuICB5LmMgPSB4YztcclxuICB5LmUgPSB5ZTtcclxuXHJcbiAgcmV0dXJuIHk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IEJpZyB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgdGhpcyBCaWcgbW9kdWxvIHRoZSB2YWx1ZSBvZiBCaWcgeS5cclxuICovXHJcblAubW9kID0gZnVuY3Rpb24gKHkpIHtcclxuICB2YXIgeWd0eCxcclxuICAgIHggPSB0aGlzLFxyXG4gICAgQmlnID0geC5jb25zdHJ1Y3RvcixcclxuICAgIGEgPSB4LnMsXHJcbiAgICBiID0gKHkgPSBuZXcgQmlnKHkpKS5zO1xyXG5cclxuICBpZiAoIXkuY1swXSkge1xyXG4gICAgdGhyb3cgRXJyb3IoRElWX0JZX1pFUk8pO1xyXG4gIH1cclxuXHJcbiAgeC5zID0geS5zID0gMTtcclxuICB5Z3R4ID0geS5jbXAoeCkgPT0gMTtcclxuICB4LnMgPSBhO1xyXG4gIHkucyA9IGI7XHJcblxyXG4gIGlmICh5Z3R4KSByZXR1cm4gbmV3IEJpZyh4KTtcclxuXHJcbiAgYSA9IEJpZy5EUDtcclxuICBiID0gQmlnLlJNO1xyXG4gIEJpZy5EUCA9IEJpZy5STSA9IDA7XHJcbiAgeCA9IHguZGl2KHkpO1xyXG4gIEJpZy5EUCA9IGE7XHJcbiAgQmlnLlJNID0gYjtcclxuXHJcbiAgcmV0dXJuIHRoaXMubWludXMoeC50aW1lcyh5KSk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IEJpZyB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgdGhpcyBCaWcgbmVnYXRlZC5cclxuICovXHJcblAubmVnID0gZnVuY3Rpb24gKCkge1xyXG4gIHZhciB4ID0gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcyk7XHJcbiAgeC5zID0gLXgucztcclxuICByZXR1cm4geDtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgQmlnIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZyBwbHVzIHRoZSB2YWx1ZSBvZiBCaWcgeS5cclxuICovXHJcblAucGx1cyA9IFAuYWRkID0gZnVuY3Rpb24gKHkpIHtcclxuICB2YXIgZSwgaywgdCxcclxuICAgIHggPSB0aGlzLFxyXG4gICAgQmlnID0geC5jb25zdHJ1Y3RvcjtcclxuXHJcbiAgeSA9IG5ldyBCaWcoeSk7XHJcblxyXG4gIC8vIFNpZ25zIGRpZmZlcj9cclxuICBpZiAoeC5zICE9IHkucykge1xyXG4gICAgeS5zID0gLXkucztcclxuICAgIHJldHVybiB4Lm1pbnVzKHkpO1xyXG4gIH1cclxuXHJcbiAgdmFyIHhlID0geC5lLFxyXG4gICAgeGMgPSB4LmMsXHJcbiAgICB5ZSA9IHkuZSxcclxuICAgIHljID0geS5jO1xyXG5cclxuICAvLyBFaXRoZXIgemVybz9cclxuICBpZiAoIXhjWzBdIHx8ICF5Y1swXSkge1xyXG4gICAgaWYgKCF5Y1swXSkge1xyXG4gICAgICBpZiAoeGNbMF0pIHtcclxuICAgICAgICB5ID0gbmV3IEJpZyh4KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB5LnMgPSB4LnM7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB5O1xyXG4gIH1cclxuXHJcbiAgeGMgPSB4Yy5zbGljZSgpO1xyXG5cclxuICAvLyBQcmVwZW5kIHplcm9zIHRvIGVxdWFsaXNlIGV4cG9uZW50cy5cclxuICAvLyBOb3RlOiByZXZlcnNlIGZhc3RlciB0aGFuIHVuc2hpZnRzLlxyXG4gIGlmIChlID0geGUgLSB5ZSkge1xyXG4gICAgaWYgKGUgPiAwKSB7XHJcbiAgICAgIHllID0geGU7XHJcbiAgICAgIHQgPSB5YztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGUgPSAtZTtcclxuICAgICAgdCA9IHhjO1xyXG4gICAgfVxyXG5cclxuICAgIHQucmV2ZXJzZSgpO1xyXG4gICAgZm9yICg7IGUtLTspIHQucHVzaCgwKTtcclxuICAgIHQucmV2ZXJzZSgpO1xyXG4gIH1cclxuXHJcbiAgLy8gUG9pbnQgeGMgdG8gdGhlIGxvbmdlciBhcnJheS5cclxuICBpZiAoeGMubGVuZ3RoIC0geWMubGVuZ3RoIDwgMCkge1xyXG4gICAgdCA9IHljO1xyXG4gICAgeWMgPSB4YztcclxuICAgIHhjID0gdDtcclxuICB9XHJcblxyXG4gIGUgPSB5Yy5sZW5ndGg7XHJcblxyXG4gIC8vIE9ubHkgc3RhcnQgYWRkaW5nIGF0IHljLmxlbmd0aCAtIDEgYXMgdGhlIGZ1cnRoZXIgZGlnaXRzIG9mIHhjIGNhbiBiZSBsZWZ0IGFzIHRoZXkgYXJlLlxyXG4gIGZvciAoayA9IDA7IGU7IHhjW2VdICU9IDEwKSBrID0gKHhjWy0tZV0gPSB4Y1tlXSArIHljW2VdICsgaykgLyAxMCB8IDA7XHJcblxyXG4gIC8vIE5vIG5lZWQgdG8gY2hlY2sgZm9yIHplcm8sIGFzICt4ICsgK3kgIT0gMCAmJiAteCArIC15ICE9IDBcclxuXHJcbiAgaWYgKGspIHtcclxuICAgIHhjLnVuc2hpZnQoayk7XHJcbiAgICArK3llO1xyXG4gIH1cclxuXHJcbiAgLy8gUmVtb3ZlIHRyYWlsaW5nIHplcm9zLlxyXG4gIGZvciAoZSA9IHhjLmxlbmd0aDsgeGNbLS1lXSA9PT0gMDspIHhjLnBvcCgpO1xyXG5cclxuICB5LmMgPSB4YztcclxuICB5LmUgPSB5ZTtcclxuXHJcbiAgcmV0dXJuIHk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgQmlnIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZyByYWlzZWQgdG8gdGhlIHBvd2VyIG4uXHJcbiAqIElmIG4gaXMgbmVnYXRpdmUsIHJvdW5kIHRvIGEgbWF4aW11bSBvZiBCaWcuRFAgZGVjaW1hbCBwbGFjZXMgdXNpbmcgcm91bmRpbmdcclxuICogbW9kZSBCaWcuUk0uXHJcbiAqXHJcbiAqIG4ge251bWJlcn0gSW50ZWdlciwgLU1BWF9QT1dFUiB0byBNQVhfUE9XRVIgaW5jbHVzaXZlLlxyXG4gKi9cclxuUC5wb3cgPSBmdW5jdGlvbiAobikge1xyXG4gIHZhciB4ID0gdGhpcyxcclxuICAgIG9uZSA9IG5ldyB4LmNvbnN0cnVjdG9yKCcxJyksXHJcbiAgICB5ID0gb25lLFxyXG4gICAgaXNuZWcgPSBuIDwgMDtcclxuXHJcbiAgaWYgKG4gIT09IH5+biB8fCBuIDwgLU1BWF9QT1dFUiB8fCBuID4gTUFYX1BPV0VSKSB7XHJcbiAgICB0aHJvdyBFcnJvcihJTlZBTElEICsgJ2V4cG9uZW50Jyk7XHJcbiAgfVxyXG5cclxuICBpZiAoaXNuZWcpIG4gPSAtbjtcclxuXHJcbiAgZm9yICg7Oykge1xyXG4gICAgaWYgKG4gJiAxKSB5ID0geS50aW1lcyh4KTtcclxuICAgIG4gPj49IDE7XHJcbiAgICBpZiAoIW4pIGJyZWFrO1xyXG4gICAgeCA9IHgudGltZXMoeCk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gaXNuZWcgPyBvbmUuZGl2KHkpIDogeTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBuZXcgQmlnIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZyByb3VuZGVkIHRvIGEgbWF4aW11bSBwcmVjaXNpb24gb2Ygc2RcclxuICogc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgcm0sIG9yIEJpZy5STSBpZiBybSBpcyBub3Qgc3BlY2lmaWVkLlxyXG4gKlxyXG4gKiBzZCB7bnVtYmVyfSBTaWduaWZpY2FudCBkaWdpdHM6IGludGVnZXIsIDEgdG8gTUFYX0RQIGluY2x1c2l2ZS5cclxuICogcm0/IHtudW1iZXJ9IFJvdW5kaW5nIG1vZGU6IDAgKGRvd24pLCAxIChoYWxmLXVwKSwgMiAoaGFsZi1ldmVuKSBvciAzICh1cCkuXHJcbiAqL1xyXG5QLnByZWMgPSBmdW5jdGlvbiAoc2QsIHJtKSB7XHJcbiAgaWYgKHNkICE9PSB+fnNkIHx8IHNkIDwgMSB8fCBzZCA+IE1BWF9EUCkge1xyXG4gICAgdGhyb3cgRXJyb3IoSU5WQUxJRCArICdwcmVjaXNpb24nKTtcclxuICB9XHJcbiAgcmV0dXJuIHJvdW5kKG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMpLCBzZCwgcm0pO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBCaWcgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgQmlnIHJvdW5kZWQgdG8gYSBtYXhpbXVtIG9mIGRwIGRlY2ltYWwgcGxhY2VzXHJcbiAqIHVzaW5nIHJvdW5kaW5nIG1vZGUgcm0sIG9yIEJpZy5STSBpZiBybSBpcyBub3Qgc3BlY2lmaWVkLlxyXG4gKiBJZiBkcCBpcyBuZWdhdGl2ZSwgcm91bmQgdG8gYW4gaW50ZWdlciB3aGljaCBpcyBhIG11bHRpcGxlIG9mIDEwKiotZHAuXHJcbiAqIElmIGRwIGlzIG5vdCBzcGVjaWZpZWQsIHJvdW5kIHRvIDAgZGVjaW1hbCBwbGFjZXMuXHJcbiAqXHJcbiAqIGRwPyB7bnVtYmVyfSBJbnRlZ2VyLCAtTUFYX0RQIHRvIE1BWF9EUCBpbmNsdXNpdmUuXHJcbiAqIHJtPyB7bnVtYmVyfSBSb3VuZGluZyBtb2RlOiAwIChkb3duKSwgMSAoaGFsZi11cCksIDIgKGhhbGYtZXZlbikgb3IgMyAodXApLlxyXG4gKi9cclxuUC5yb3VuZCA9IGZ1bmN0aW9uIChkcCwgcm0pIHtcclxuICBpZiAoZHAgPT09IFVOREVGSU5FRCkgZHAgPSAwO1xyXG4gIGVsc2UgaWYgKGRwICE9PSB+fmRwIHx8IGRwIDwgLU1BWF9EUCB8fCBkcCA+IE1BWF9EUCkge1xyXG4gICAgdGhyb3cgRXJyb3IoSU5WQUxJRF9EUCk7XHJcbiAgfVxyXG4gIHJldHVybiByb3VuZChuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzKSwgZHAgKyB0aGlzLmUgKyAxLCBybSk7XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgbmV3IEJpZyB3aG9zZSB2YWx1ZSBpcyB0aGUgc3F1YXJlIHJvb3Qgb2YgdGhlIHZhbHVlIG9mIHRoaXMgQmlnLCByb3VuZGVkLCBpZlxyXG4gKiBuZWNlc3NhcnksIHRvIGEgbWF4aW11bSBvZiBCaWcuRFAgZGVjaW1hbCBwbGFjZXMgdXNpbmcgcm91bmRpbmcgbW9kZSBCaWcuUk0uXHJcbiAqL1xyXG5QLnNxcnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIHIsIGMsIHQsXHJcbiAgICB4ID0gdGhpcyxcclxuICAgIEJpZyA9IHguY29uc3RydWN0b3IsXHJcbiAgICBzID0geC5zLFxyXG4gICAgZSA9IHguZSxcclxuICAgIGhhbGYgPSBuZXcgQmlnKCcwLjUnKTtcclxuXHJcbiAgLy8gWmVybz9cclxuICBpZiAoIXguY1swXSkgcmV0dXJuIG5ldyBCaWcoeCk7XHJcblxyXG4gIC8vIE5lZ2F0aXZlP1xyXG4gIGlmIChzIDwgMCkge1xyXG4gICAgdGhyb3cgRXJyb3IoTkFNRSArICdObyBzcXVhcmUgcm9vdCcpO1xyXG4gIH1cclxuXHJcbiAgLy8gRXN0aW1hdGUuXHJcbiAgcyA9IE1hdGguc3FydCgrc3RyaW5naWZ5KHgsIHRydWUsIHRydWUpKTtcclxuXHJcbiAgLy8gTWF0aC5zcXJ0IHVuZGVyZmxvdy9vdmVyZmxvdz9cclxuICAvLyBSZS1lc3RpbWF0ZTogcGFzcyB4IGNvZWZmaWNpZW50IHRvIE1hdGguc3FydCBhcyBpbnRlZ2VyLCB0aGVuIGFkanVzdCB0aGUgcmVzdWx0IGV4cG9uZW50LlxyXG4gIGlmIChzID09PSAwIHx8IHMgPT09IDEgLyAwKSB7XHJcbiAgICBjID0geC5jLmpvaW4oJycpO1xyXG4gICAgaWYgKCEoYy5sZW5ndGggKyBlICYgMSkpIGMgKz0gJzAnO1xyXG4gICAgcyA9IE1hdGguc3FydChjKTtcclxuICAgIGUgPSAoKGUgKyAxKSAvIDIgfCAwKSAtIChlIDwgMCB8fCBlICYgMSk7XHJcbiAgICByID0gbmV3IEJpZygocyA9PSAxIC8gMCA/ICc1ZScgOiAocyA9IHMudG9FeHBvbmVudGlhbCgpKS5zbGljZSgwLCBzLmluZGV4T2YoJ2UnKSArIDEpKSArIGUpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByID0gbmV3IEJpZyhzICsgJycpO1xyXG4gIH1cclxuXHJcbiAgZSA9IHIuZSArIChCaWcuRFAgKz0gNCk7XHJcblxyXG4gIC8vIE5ld3Rvbi1SYXBoc29uIGl0ZXJhdGlvbi5cclxuICBkbyB7XHJcbiAgICB0ID0gcjtcclxuICAgIHIgPSBoYWxmLnRpbWVzKHQucGx1cyh4LmRpdih0KSkpO1xyXG4gIH0gd2hpbGUgKHQuYy5zbGljZSgwLCBlKS5qb2luKCcnKSAhPT0gci5jLnNsaWNlKDAsIGUpLmpvaW4oJycpKTtcclxuXHJcbiAgcmV0dXJuIHJvdW5kKHIsIChCaWcuRFAgLT0gNCkgKyByLmUgKyAxLCBCaWcuUk0pO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIG5ldyBCaWcgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgQmlnIHRpbWVzIHRoZSB2YWx1ZSBvZiBCaWcgeS5cclxuICovXHJcblAudGltZXMgPSBQLm11bCA9IGZ1bmN0aW9uICh5KSB7XHJcbiAgdmFyIGMsXHJcbiAgICB4ID0gdGhpcyxcclxuICAgIEJpZyA9IHguY29uc3RydWN0b3IsXHJcbiAgICB4YyA9IHguYyxcclxuICAgIHljID0gKHkgPSBuZXcgQmlnKHkpKS5jLFxyXG4gICAgYSA9IHhjLmxlbmd0aCxcclxuICAgIGIgPSB5Yy5sZW5ndGgsXHJcbiAgICBpID0geC5lLFxyXG4gICAgaiA9IHkuZTtcclxuXHJcbiAgLy8gRGV0ZXJtaW5lIHNpZ24gb2YgcmVzdWx0LlxyXG4gIHkucyA9IHgucyA9PSB5LnMgPyAxIDogLTE7XHJcblxyXG4gIC8vIFJldHVybiBzaWduZWQgMCBpZiBlaXRoZXIgMC5cclxuICBpZiAoIXhjWzBdIHx8ICF5Y1swXSkge1xyXG4gICAgeS5jID0gW3kuZSA9IDBdO1xyXG4gICAgcmV0dXJuIHk7XHJcbiAgfVxyXG5cclxuICAvLyBJbml0aWFsaXNlIGV4cG9uZW50IG9mIHJlc3VsdCBhcyB4LmUgKyB5LmUuXHJcbiAgeS5lID0gaSArIGo7XHJcblxyXG4gIC8vIElmIGFycmF5IHhjIGhhcyBmZXdlciBkaWdpdHMgdGhhbiB5Yywgc3dhcCB4YyBhbmQgeWMsIGFuZCBsZW5ndGhzLlxyXG4gIGlmIChhIDwgYikge1xyXG4gICAgYyA9IHhjO1xyXG4gICAgeGMgPSB5YztcclxuICAgIHljID0gYztcclxuICAgIGogPSBhO1xyXG4gICAgYSA9IGI7XHJcbiAgICBiID0gajtcclxuICB9XHJcblxyXG4gIC8vIEluaXRpYWxpc2UgY29lZmZpY2llbnQgYXJyYXkgb2YgcmVzdWx0IHdpdGggemVyb3MuXHJcbiAgZm9yIChjID0gbmV3IEFycmF5KGogPSBhICsgYik7IGotLTspIGNbal0gPSAwO1xyXG5cclxuICAvLyBNdWx0aXBseS5cclxuXHJcbiAgLy8gaSBpcyBpbml0aWFsbHkgeGMubGVuZ3RoLlxyXG4gIGZvciAoaSA9IGI7IGktLTspIHtcclxuICAgIGIgPSAwO1xyXG5cclxuICAgIC8vIGEgaXMgeWMubGVuZ3RoLlxyXG4gICAgZm9yIChqID0gYSArIGk7IGogPiBpOykge1xyXG5cclxuICAgICAgLy8gQ3VycmVudCBzdW0gb2YgcHJvZHVjdHMgYXQgdGhpcyBkaWdpdCBwb3NpdGlvbiwgcGx1cyBjYXJyeS5cclxuICAgICAgYiA9IGNbal0gKyB5Y1tpXSAqIHhjW2ogLSBpIC0gMV0gKyBiO1xyXG4gICAgICBjW2otLV0gPSBiICUgMTA7XHJcblxyXG4gICAgICAvLyBjYXJyeVxyXG4gICAgICBiID0gYiAvIDEwIHwgMDtcclxuICAgIH1cclxuXHJcbiAgICBjW2pdID0gYjtcclxuICB9XHJcblxyXG4gIC8vIEluY3JlbWVudCByZXN1bHQgZXhwb25lbnQgaWYgdGhlcmUgaXMgYSBmaW5hbCBjYXJyeSwgb3RoZXJ3aXNlIHJlbW92ZSBsZWFkaW5nIHplcm8uXHJcbiAgaWYgKGIpICsreS5lO1xyXG4gIGVsc2UgYy5zaGlmdCgpO1xyXG5cclxuICAvLyBSZW1vdmUgdHJhaWxpbmcgemVyb3MuXHJcbiAgZm9yIChpID0gYy5sZW5ndGg7ICFjWy0taV07KSBjLnBvcCgpO1xyXG4gIHkuYyA9IGM7XHJcblxyXG4gIHJldHVybiB5O1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHZhbHVlIG9mIHRoaXMgQmlnIGluIGV4cG9uZW50aWFsIG5vdGF0aW9uIHJvdW5kZWQgdG8gZHAgZml4ZWRcclxuICogZGVjaW1hbCBwbGFjZXMgdXNpbmcgcm91bmRpbmcgbW9kZSBybSwgb3IgQmlnLlJNIGlmIHJtIGlzIG5vdCBzcGVjaWZpZWQuXHJcbiAqXHJcbiAqIGRwPyB7bnVtYmVyfSBEZWNpbWFsIHBsYWNlczogaW50ZWdlciwgMCB0byBNQVhfRFAgaW5jbHVzaXZlLlxyXG4gKiBybT8ge251bWJlcn0gUm91bmRpbmcgbW9kZTogMCAoZG93biksIDEgKGhhbGYtdXApLCAyIChoYWxmLWV2ZW4pIG9yIDMgKHVwKS5cclxuICovXHJcblAudG9FeHBvbmVudGlhbCA9IGZ1bmN0aW9uIChkcCwgcm0pIHtcclxuICB2YXIgeCA9IHRoaXMsXHJcbiAgICBuID0geC5jWzBdO1xyXG5cclxuICBpZiAoZHAgIT09IFVOREVGSU5FRCkge1xyXG4gICAgaWYgKGRwICE9PSB+fmRwIHx8IGRwIDwgMCB8fCBkcCA+IE1BWF9EUCkge1xyXG4gICAgICB0aHJvdyBFcnJvcihJTlZBTElEX0RQKTtcclxuICAgIH1cclxuICAgIHggPSByb3VuZChuZXcgeC5jb25zdHJ1Y3Rvcih4KSwgKytkcCwgcm0pO1xyXG4gICAgZm9yICg7IHguYy5sZW5ndGggPCBkcDspIHguYy5wdXNoKDApO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHN0cmluZ2lmeSh4LCB0cnVlLCAhIW4pO1xyXG59O1xyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHZhbHVlIG9mIHRoaXMgQmlnIGluIG5vcm1hbCBub3RhdGlvbiByb3VuZGVkIHRvIGRwIGZpeGVkXHJcbiAqIGRlY2ltYWwgcGxhY2VzIHVzaW5nIHJvdW5kaW5nIG1vZGUgcm0sIG9yIEJpZy5STSBpZiBybSBpcyBub3Qgc3BlY2lmaWVkLlxyXG4gKlxyXG4gKiBkcD8ge251bWJlcn0gRGVjaW1hbCBwbGFjZXM6IGludGVnZXIsIDAgdG8gTUFYX0RQIGluY2x1c2l2ZS5cclxuICogcm0/IHtudW1iZXJ9IFJvdW5kaW5nIG1vZGU6IDAgKGRvd24pLCAxIChoYWxmLXVwKSwgMiAoaGFsZi1ldmVuKSBvciAzICh1cCkuXHJcbiAqXHJcbiAqICgtMCkudG9GaXhlZCgwKSBpcyAnMCcsIGJ1dCAoLTAuMSkudG9GaXhlZCgwKSBpcyAnLTAnLlxyXG4gKiAoLTApLnRvRml4ZWQoMSkgaXMgJzAuMCcsIGJ1dCAoLTAuMDEpLnRvRml4ZWQoMSkgaXMgJy0wLjAnLlxyXG4gKi9cclxuUC50b0ZpeGVkID0gZnVuY3Rpb24gKGRwLCBybSkge1xyXG4gIHZhciB4ID0gdGhpcyxcclxuICAgIG4gPSB4LmNbMF07XHJcblxyXG4gIGlmIChkcCAhPT0gVU5ERUZJTkVEKSB7XHJcbiAgICBpZiAoZHAgIT09IH5+ZHAgfHwgZHAgPCAwIHx8IGRwID4gTUFYX0RQKSB7XHJcbiAgICAgIHRocm93IEVycm9yKElOVkFMSURfRFApO1xyXG4gICAgfVxyXG4gICAgeCA9IHJvdW5kKG5ldyB4LmNvbnN0cnVjdG9yKHgpLCBkcCArIHguZSArIDEsIHJtKTtcclxuXHJcbiAgICAvLyB4LmUgbWF5IGhhdmUgY2hhbmdlZCBpZiB0aGUgdmFsdWUgaXMgcm91bmRlZCB1cC5cclxuICAgIGZvciAoZHAgPSBkcCArIHguZSArIDE7IHguYy5sZW5ndGggPCBkcDspIHguYy5wdXNoKDApO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHN0cmluZ2lmeSh4LCBmYWxzZSwgISFuKTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZy5cclxuICogUmV0dXJuIGV4cG9uZW50aWFsIG5vdGF0aW9uIGlmIHRoaXMgQmlnIGhhcyBhIHBvc2l0aXZlIGV4cG9uZW50IGVxdWFsIHRvIG9yIGdyZWF0ZXIgdGhhblxyXG4gKiBCaWcuUEUsIG9yIGEgbmVnYXRpdmUgZXhwb25lbnQgZXF1YWwgdG8gb3IgbGVzcyB0aGFuIEJpZy5ORS5cclxuICogT21pdCB0aGUgc2lnbiBmb3IgbmVnYXRpdmUgemVyby5cclxuICovXHJcblAudG9KU09OID0gUC50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcclxuICB2YXIgeCA9IHRoaXMsXHJcbiAgICBCaWcgPSB4LmNvbnN0cnVjdG9yO1xyXG4gIHJldHVybiBzdHJpbmdpZnkoeCwgeC5lIDw9IEJpZy5ORSB8fCB4LmUgPj0gQmlnLlBFLCAhIXguY1swXSk7XHJcbn07XHJcblxyXG5pZiAodHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIikge1xyXG4gIFBbU3ltYm9sLmZvcignbm9kZWpzLnV0aWwuaW5zcGVjdC5jdXN0b20nKV0gPSBQLnRvSlNPTjtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIFJldHVybiB0aGUgdmFsdWUgb2YgdGhpcyBCaWcgYXMgYSBwcmltaXRpdmUgbnVtYmVyLlxyXG4gKi9cclxuUC50b051bWJlciA9IGZ1bmN0aW9uICgpIHtcclxuICB2YXIgbiA9ICtzdHJpbmdpZnkodGhpcywgdHJ1ZSwgdHJ1ZSk7XHJcbiAgaWYgKHRoaXMuY29uc3RydWN0b3Iuc3RyaWN0ID09PSB0cnVlICYmICF0aGlzLmVxKG4udG9TdHJpbmcoKSkpIHtcclxuICAgIHRocm93IEVycm9yKE5BTUUgKyAnSW1wcmVjaXNlIGNvbnZlcnNpb24nKTtcclxuICB9XHJcbiAgcmV0dXJuIG47XHJcbn07XHJcblxyXG5cclxuLypcclxuICogUmV0dXJuIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgdmFsdWUgb2YgdGhpcyBCaWcgcm91bmRlZCB0byBzZCBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmdcclxuICogcm91bmRpbmcgbW9kZSBybSwgb3IgQmlnLlJNIGlmIHJtIGlzIG5vdCBzcGVjaWZpZWQuXHJcbiAqIFVzZSBleHBvbmVudGlhbCBub3RhdGlvbiBpZiBzZCBpcyBsZXNzIHRoYW4gdGhlIG51bWJlciBvZiBkaWdpdHMgbmVjZXNzYXJ5IHRvIHJlcHJlc2VudFxyXG4gKiB0aGUgaW50ZWdlciBwYXJ0IG9mIHRoZSB2YWx1ZSBpbiBub3JtYWwgbm90YXRpb24uXHJcbiAqXHJcbiAqIHNkIHtudW1iZXJ9IFNpZ25pZmljYW50IGRpZ2l0czogaW50ZWdlciwgMSB0byBNQVhfRFAgaW5jbHVzaXZlLlxyXG4gKiBybT8ge251bWJlcn0gUm91bmRpbmcgbW9kZTogMCAoZG93biksIDEgKGhhbGYtdXApLCAyIChoYWxmLWV2ZW4pIG9yIDMgKHVwKS5cclxuICovXHJcblAudG9QcmVjaXNpb24gPSBmdW5jdGlvbiAoc2QsIHJtKSB7XHJcbiAgdmFyIHggPSB0aGlzLFxyXG4gICAgQmlnID0geC5jb25zdHJ1Y3RvcixcclxuICAgIG4gPSB4LmNbMF07XHJcblxyXG4gIGlmIChzZCAhPT0gVU5ERUZJTkVEKSB7XHJcbiAgICBpZiAoc2QgIT09IH5+c2QgfHwgc2QgPCAxIHx8IHNkID4gTUFYX0RQKSB7XHJcbiAgICAgIHRocm93IEVycm9yKElOVkFMSUQgKyAncHJlY2lzaW9uJyk7XHJcbiAgICB9XHJcbiAgICB4ID0gcm91bmQobmV3IEJpZyh4KSwgc2QsIHJtKTtcclxuICAgIGZvciAoOyB4LmMubGVuZ3RoIDwgc2Q7KSB4LmMucHVzaCgwKTtcclxuICB9XHJcblxyXG4gIHJldHVybiBzdHJpbmdpZnkoeCwgc2QgPD0geC5lIHx8IHguZSA8PSBCaWcuTkUgfHwgeC5lID49IEJpZy5QRSwgISFuKTtcclxufTtcclxuXHJcblxyXG4vKlxyXG4gKiBSZXR1cm4gYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZy5cclxuICogUmV0dXJuIGV4cG9uZW50aWFsIG5vdGF0aW9uIGlmIHRoaXMgQmlnIGhhcyBhIHBvc2l0aXZlIGV4cG9uZW50IGVxdWFsIHRvIG9yIGdyZWF0ZXIgdGhhblxyXG4gKiBCaWcuUEUsIG9yIGEgbmVnYXRpdmUgZXhwb25lbnQgZXF1YWwgdG8gb3IgbGVzcyB0aGFuIEJpZy5ORS5cclxuICogSW5jbHVkZSB0aGUgc2lnbiBmb3IgbmVnYXRpdmUgemVyby5cclxuICovXHJcblAudmFsdWVPZiA9IGZ1bmN0aW9uICgpIHtcclxuICB2YXIgeCA9IHRoaXMsXHJcbiAgICBCaWcgPSB4LmNvbnN0cnVjdG9yO1xyXG4gIGlmIChCaWcuc3RyaWN0ID09PSB0cnVlKSB7XHJcbiAgICB0aHJvdyBFcnJvcihOQU1FICsgJ3ZhbHVlT2YgZGlzYWxsb3dlZCcpO1xyXG4gIH1cclxuICByZXR1cm4gc3RyaW5naWZ5KHgsIHguZSA8PSBCaWcuTkUgfHwgeC5lID49IEJpZy5QRSwgdHJ1ZSk7XHJcbn07XHJcblxyXG5cclxuLy8gRXhwb3J0XHJcblxyXG5cclxuZXhwb3J0IHZhciBCaWcgPSBfQmlnXygpO1xyXG5cclxuLy8vIDxyZWZlcmVuY2UgdHlwZXM9XCJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vRGVmaW5pdGVseVR5cGVkL0RlZmluaXRlbHlUeXBlZC9tYXN0ZXIvdHlwZXMvYmlnLmpzL2luZGV4LmQudHNcIiAvPlxyXG5leHBvcnQgZGVmYXVsdCBCaWc7XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../node_modules/big.js/big.mjs\n\n}");

/***/ },

/***/ "../node_modules/dompurify/dist/purify.es.mjs"
/*!****************************************************!*\
  !*** ../node_modules/dompurify/dist/purify.es.mjs ***!
  \****************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ purify)\n/* harmony export */ });\n/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */\n\nconst {\n  entries,\n  setPrototypeOf,\n  isFrozen,\n  getPrototypeOf,\n  getOwnPropertyDescriptor\n} = Object;\nlet {\n  freeze,\n  seal,\n  create\n} = Object; // eslint-disable-line import/no-mutable-exports\nlet {\n  apply,\n  construct\n} = typeof Reflect !== 'undefined' && Reflect;\nif (!freeze) {\n  freeze = function freeze(x) {\n    return x;\n  };\n}\nif (!seal) {\n  seal = function seal(x) {\n    return x;\n  };\n}\nif (!apply) {\n  apply = function apply(func, thisArg) {\n    for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n      args[_key - 2] = arguments[_key];\n    }\n    return func.apply(thisArg, args);\n  };\n}\nif (!construct) {\n  construct = function construct(Func) {\n    for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n      args[_key2 - 1] = arguments[_key2];\n    }\n    return new Func(...args);\n  };\n}\nconst arrayForEach = unapply(Array.prototype.forEach);\nconst arrayLastIndexOf = unapply(Array.prototype.lastIndexOf);\nconst arrayPop = unapply(Array.prototype.pop);\nconst arrayPush = unapply(Array.prototype.push);\nconst arraySplice = unapply(Array.prototype.splice);\nconst stringToLowerCase = unapply(String.prototype.toLowerCase);\nconst stringToString = unapply(String.prototype.toString);\nconst stringMatch = unapply(String.prototype.match);\nconst stringReplace = unapply(String.prototype.replace);\nconst stringIndexOf = unapply(String.prototype.indexOf);\nconst stringTrim = unapply(String.prototype.trim);\nconst objectHasOwnProperty = unapply(Object.prototype.hasOwnProperty);\nconst regExpTest = unapply(RegExp.prototype.test);\nconst typeErrorCreate = unconstruct(TypeError);\n/**\n * Creates a new function that calls the given function with a specified thisArg and arguments.\n *\n * @param func - The function to be wrapped and called.\n * @returns A new function that calls the given function with a specified thisArg and arguments.\n */\nfunction unapply(func) {\n  return function (thisArg) {\n    if (thisArg instanceof RegExp) {\n      thisArg.lastIndex = 0;\n    }\n    for (var _len3 = arguments.length, args = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n      args[_key3 - 1] = arguments[_key3];\n    }\n    return apply(func, thisArg, args);\n  };\n}\n/**\n * Creates a new function that constructs an instance of the given constructor function with the provided arguments.\n *\n * @param func - The constructor function to be wrapped and called.\n * @returns A new function that constructs an instance of the given constructor function with the provided arguments.\n */\nfunction unconstruct(Func) {\n  return function () {\n    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      args[_key4] = arguments[_key4];\n    }\n    return construct(Func, args);\n  };\n}\n/**\n * Add properties to a lookup table\n *\n * @param set - The set to which elements will be added.\n * @param array - The array containing elements to be added to the set.\n * @param transformCaseFunc - An optional function to transform the case of each element before adding to the set.\n * @returns The modified set with added elements.\n */\nfunction addToSet(set, array) {\n  let transformCaseFunc = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : stringToLowerCase;\n  if (setPrototypeOf) {\n    // Make 'in' and truthy checks like Boolean(set.constructor)\n    // independent of any properties defined on Object.prototype.\n    // Prevent prototype setters from intercepting set as a this value.\n    setPrototypeOf(set, null);\n  }\n  let l = array.length;\n  while (l--) {\n    let element = array[l];\n    if (typeof element === 'string') {\n      const lcElement = transformCaseFunc(element);\n      if (lcElement !== element) {\n        // Config presets (e.g. tags.js, attrs.js) are immutable.\n        if (!isFrozen(array)) {\n          array[l] = lcElement;\n        }\n        element = lcElement;\n      }\n    }\n    set[element] = true;\n  }\n  return set;\n}\n/**\n * Clean up an array to harden against CSPP\n *\n * @param array - The array to be cleaned.\n * @returns The cleaned version of the array\n */\nfunction cleanArray(array) {\n  for (let index = 0; index < array.length; index++) {\n    const isPropertyExist = objectHasOwnProperty(array, index);\n    if (!isPropertyExist) {\n      array[index] = null;\n    }\n  }\n  return array;\n}\n/**\n * Shallow clone an object\n *\n * @param object - The object to be cloned.\n * @returns A new object that copies the original.\n */\nfunction clone(object) {\n  const newObject = create(null);\n  for (const [property, value] of entries(object)) {\n    const isPropertyExist = objectHasOwnProperty(object, property);\n    if (isPropertyExist) {\n      if (Array.isArray(value)) {\n        newObject[property] = cleanArray(value);\n      } else if (value && typeof value === 'object' && value.constructor === Object) {\n        newObject[property] = clone(value);\n      } else {\n        newObject[property] = value;\n      }\n    }\n  }\n  return newObject;\n}\n/**\n * This method automatically checks if the prop is function or getter and behaves accordingly.\n *\n * @param object - The object to look up the getter function in its prototype chain.\n * @param prop - The property name for which to find the getter function.\n * @returns The getter function found in the prototype chain or a fallback function.\n */\nfunction lookupGetter(object, prop) {\n  while (object !== null) {\n    const desc = getOwnPropertyDescriptor(object, prop);\n    if (desc) {\n      if (desc.get) {\n        return unapply(desc.get);\n      }\n      if (typeof desc.value === 'function') {\n        return unapply(desc.value);\n      }\n    }\n    object = getPrototypeOf(object);\n  }\n  function fallbackValue() {\n    return null;\n  }\n  return fallbackValue;\n}\n\nconst html$1 = freeze(['a', 'abbr', 'acronym', 'address', 'area', 'article', 'aside', 'audio', 'b', 'bdi', 'bdo', 'big', 'blink', 'blockquote', 'body', 'br', 'button', 'canvas', 'caption', 'center', 'cite', 'code', 'col', 'colgroup', 'content', 'data', 'datalist', 'dd', 'decorator', 'del', 'details', 'dfn', 'dialog', 'dir', 'div', 'dl', 'dt', 'element', 'em', 'fieldset', 'figcaption', 'figure', 'font', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'head', 'header', 'hgroup', 'hr', 'html', 'i', 'img', 'input', 'ins', 'kbd', 'label', 'legend', 'li', 'main', 'map', 'mark', 'marquee', 'menu', 'menuitem', 'meter', 'nav', 'nobr', 'ol', 'optgroup', 'option', 'output', 'p', 'picture', 'pre', 'progress', 'q', 'rp', 'rt', 'ruby', 's', 'samp', 'search', 'section', 'select', 'shadow', 'slot', 'small', 'source', 'spacer', 'span', 'strike', 'strong', 'style', 'sub', 'summary', 'sup', 'table', 'tbody', 'td', 'template', 'textarea', 'tfoot', 'th', 'thead', 'time', 'tr', 'track', 'tt', 'u', 'ul', 'var', 'video', 'wbr']);\nconst svg$1 = freeze(['svg', 'a', 'altglyph', 'altglyphdef', 'altglyphitem', 'animatecolor', 'animatemotion', 'animatetransform', 'circle', 'clippath', 'defs', 'desc', 'ellipse', 'enterkeyhint', 'exportparts', 'filter', 'font', 'g', 'glyph', 'glyphref', 'hkern', 'image', 'inputmode', 'line', 'lineargradient', 'marker', 'mask', 'metadata', 'mpath', 'part', 'path', 'pattern', 'polygon', 'polyline', 'radialgradient', 'rect', 'stop', 'style', 'switch', 'symbol', 'text', 'textpath', 'title', 'tref', 'tspan', 'view', 'vkern']);\nconst svgFilters = freeze(['feBlend', 'feColorMatrix', 'feComponentTransfer', 'feComposite', 'feConvolveMatrix', 'feDiffuseLighting', 'feDisplacementMap', 'feDistantLight', 'feDropShadow', 'feFlood', 'feFuncA', 'feFuncB', 'feFuncG', 'feFuncR', 'feGaussianBlur', 'feImage', 'feMerge', 'feMergeNode', 'feMorphology', 'feOffset', 'fePointLight', 'feSpecularLighting', 'feSpotLight', 'feTile', 'feTurbulence']);\n// List of SVG elements that are disallowed by default.\n// We still need to know them so that we can do namespace\n// checks properly in case one wants to add them to\n// allow-list.\nconst svgDisallowed = freeze(['animate', 'color-profile', 'cursor', 'discard', 'font-face', 'font-face-format', 'font-face-name', 'font-face-src', 'font-face-uri', 'foreignobject', 'hatch', 'hatchpath', 'mesh', 'meshgradient', 'meshpatch', 'meshrow', 'missing-glyph', 'script', 'set', 'solidcolor', 'unknown', 'use']);\nconst mathMl$1 = freeze(['math', 'menclose', 'merror', 'mfenced', 'mfrac', 'mglyph', 'mi', 'mlabeledtr', 'mmultiscripts', 'mn', 'mo', 'mover', 'mpadded', 'mphantom', 'mroot', 'mrow', 'ms', 'mspace', 'msqrt', 'mstyle', 'msub', 'msup', 'msubsup', 'mtable', 'mtd', 'mtext', 'mtr', 'munder', 'munderover', 'mprescripts']);\n// Similarly to SVG, we want to know all MathML elements,\n// even those that we disallow by default.\nconst mathMlDisallowed = freeze(['maction', 'maligngroup', 'malignmark', 'mlongdiv', 'mscarries', 'mscarry', 'msgroup', 'mstack', 'msline', 'msrow', 'semantics', 'annotation', 'annotation-xml', 'mprescripts', 'none']);\nconst text = freeze(['#text']);\n\nconst html = freeze(['accept', 'action', 'align', 'alt', 'autocapitalize', 'autocomplete', 'autopictureinpicture', 'autoplay', 'background', 'bgcolor', 'border', 'capture', 'cellpadding', 'cellspacing', 'checked', 'cite', 'class', 'clear', 'color', 'cols', 'colspan', 'controls', 'controlslist', 'coords', 'crossorigin', 'datetime', 'decoding', 'default', 'dir', 'disabled', 'disablepictureinpicture', 'disableremoteplayback', 'download', 'draggable', 'enctype', 'enterkeyhint', 'exportparts', 'face', 'for', 'headers', 'height', 'hidden', 'high', 'href', 'hreflang', 'id', 'inert', 'inputmode', 'integrity', 'ismap', 'kind', 'label', 'lang', 'list', 'loading', 'loop', 'low', 'max', 'maxlength', 'media', 'method', 'min', 'minlength', 'multiple', 'muted', 'name', 'nonce', 'noshade', 'novalidate', 'nowrap', 'open', 'optimum', 'part', 'pattern', 'placeholder', 'playsinline', 'popover', 'popovertarget', 'popovertargetaction', 'poster', 'preload', 'pubdate', 'radiogroup', 'readonly', 'rel', 'required', 'rev', 'reversed', 'role', 'rows', 'rowspan', 'spellcheck', 'scope', 'selected', 'shape', 'size', 'sizes', 'slot', 'span', 'srclang', 'start', 'src', 'srcset', 'step', 'style', 'summary', 'tabindex', 'title', 'translate', 'type', 'usemap', 'valign', 'value', 'width', 'wrap', 'xmlns', 'slot']);\nconst svg = freeze(['accent-height', 'accumulate', 'additive', 'alignment-baseline', 'amplitude', 'ascent', 'attributename', 'attributetype', 'azimuth', 'basefrequency', 'baseline-shift', 'begin', 'bias', 'by', 'class', 'clip', 'clippathunits', 'clip-path', 'clip-rule', 'color', 'color-interpolation', 'color-interpolation-filters', 'color-profile', 'color-rendering', 'cx', 'cy', 'd', 'dx', 'dy', 'diffuseconstant', 'direction', 'display', 'divisor', 'dur', 'edgemode', 'elevation', 'end', 'exponent', 'fill', 'fill-opacity', 'fill-rule', 'filter', 'filterunits', 'flood-color', 'flood-opacity', 'font-family', 'font-size', 'font-size-adjust', 'font-stretch', 'font-style', 'font-variant', 'font-weight', 'fx', 'fy', 'g1', 'g2', 'glyph-name', 'glyphref', 'gradientunits', 'gradienttransform', 'height', 'href', 'id', 'image-rendering', 'in', 'in2', 'intercept', 'k', 'k1', 'k2', 'k3', 'k4', 'kerning', 'keypoints', 'keysplines', 'keytimes', 'lang', 'lengthadjust', 'letter-spacing', 'kernelmatrix', 'kernelunitlength', 'lighting-color', 'local', 'marker-end', 'marker-mid', 'marker-start', 'markerheight', 'markerunits', 'markerwidth', 'maskcontentunits', 'maskunits', 'max', 'mask', 'mask-type', 'media', 'method', 'mode', 'min', 'name', 'numoctaves', 'offset', 'operator', 'opacity', 'order', 'orient', 'orientation', 'origin', 'overflow', 'paint-order', 'path', 'pathlength', 'patterncontentunits', 'patterntransform', 'patternunits', 'points', 'preservealpha', 'preserveaspectratio', 'primitiveunits', 'r', 'rx', 'ry', 'radius', 'refx', 'refy', 'repeatcount', 'repeatdur', 'restart', 'result', 'rotate', 'scale', 'seed', 'shape-rendering', 'slope', 'specularconstant', 'specularexponent', 'spreadmethod', 'startoffset', 'stddeviation', 'stitchtiles', 'stop-color', 'stop-opacity', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke', 'stroke-width', 'style', 'surfacescale', 'systemlanguage', 'tabindex', 'tablevalues', 'targetx', 'targety', 'transform', 'transform-origin', 'text-anchor', 'text-decoration', 'text-rendering', 'textlength', 'type', 'u1', 'u2', 'unicode', 'values', 'viewbox', 'visibility', 'version', 'vert-adv-y', 'vert-origin-x', 'vert-origin-y', 'width', 'word-spacing', 'wrap', 'writing-mode', 'xchannelselector', 'ychannelselector', 'x', 'x1', 'x2', 'xmlns', 'y', 'y1', 'y2', 'z', 'zoomandpan']);\nconst mathMl = freeze(['accent', 'accentunder', 'align', 'bevelled', 'close', 'columnsalign', 'columnlines', 'columnspan', 'denomalign', 'depth', 'dir', 'display', 'displaystyle', 'encoding', 'fence', 'frame', 'height', 'href', 'id', 'largeop', 'length', 'linethickness', 'lspace', 'lquote', 'mathbackground', 'mathcolor', 'mathsize', 'mathvariant', 'maxsize', 'minsize', 'movablelimits', 'notation', 'numalign', 'open', 'rowalign', 'rowlines', 'rowspacing', 'rowspan', 'rspace', 'rquote', 'scriptlevel', 'scriptminsize', 'scriptsizemultiplier', 'selection', 'separator', 'separators', 'stretchy', 'subscriptshift', 'supscriptshift', 'symmetric', 'voffset', 'width', 'xmlns']);\nconst xml = freeze(['xlink:href', 'xml:id', 'xlink:title', 'xml:space', 'xmlns:xlink']);\n\n// eslint-disable-next-line unicorn/better-regex\nconst MUSTACHE_EXPR = seal(/\\{\\{[\\w\\W]*|[\\w\\W]*\\}\\}/gm); // Specify template detection regex for SAFE_FOR_TEMPLATES mode\nconst ERB_EXPR = seal(/<%[\\w\\W]*|[\\w\\W]*%>/gm);\nconst TMPLIT_EXPR = seal(/\\$\\{[\\w\\W]*/gm); // eslint-disable-line unicorn/better-regex\nconst DATA_ATTR = seal(/^data-[\\-\\w.\\u00B7-\\uFFFF]+$/); // eslint-disable-line no-useless-escape\nconst ARIA_ATTR = seal(/^aria-[\\-\\w]+$/); // eslint-disable-line no-useless-escape\nconst IS_ALLOWED_URI = seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i // eslint-disable-line no-useless-escape\n);\nconst IS_SCRIPT_OR_DATA = seal(/^(?:\\w+script|data):/i);\nconst ATTR_WHITESPACE = seal(/[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g // eslint-disable-line no-control-regex\n);\nconst DOCTYPE_NAME = seal(/^html$/i);\nconst CUSTOM_ELEMENT = seal(/^[a-z][.\\w]*(-[.\\w]+)+$/i);\n\nvar EXPRESSIONS = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  ARIA_ATTR: ARIA_ATTR,\n  ATTR_WHITESPACE: ATTR_WHITESPACE,\n  CUSTOM_ELEMENT: CUSTOM_ELEMENT,\n  DATA_ATTR: DATA_ATTR,\n  DOCTYPE_NAME: DOCTYPE_NAME,\n  ERB_EXPR: ERB_EXPR,\n  IS_ALLOWED_URI: IS_ALLOWED_URI,\n  IS_SCRIPT_OR_DATA: IS_SCRIPT_OR_DATA,\n  MUSTACHE_EXPR: MUSTACHE_EXPR,\n  TMPLIT_EXPR: TMPLIT_EXPR\n});\n\n/* eslint-disable @typescript-eslint/indent */\n// https://developer.mozilla.org/en-US/docs/Web/API/Node/nodeType\nconst NODE_TYPE = {\n  element: 1,\n  attribute: 2,\n  text: 3,\n  cdataSection: 4,\n  entityReference: 5,\n  // Deprecated\n  entityNode: 6,\n  // Deprecated\n  progressingInstruction: 7,\n  comment: 8,\n  document: 9,\n  documentType: 10,\n  documentFragment: 11,\n  notation: 12 // Deprecated\n};\nconst getGlobal = function getGlobal() {\n  return typeof window === 'undefined' ? null : window;\n};\n/**\n * Creates a no-op policy for internal use only.\n * Don't export this function outside this module!\n * @param trustedTypes The policy factory.\n * @param purifyHostElement The Script element used to load DOMPurify (to determine policy name suffix).\n * @return The policy created (or null, if Trusted Types\n * are not supported or creating the policy failed).\n */\nconst _createTrustedTypesPolicy = function _createTrustedTypesPolicy(trustedTypes, purifyHostElement) {\n  if (typeof trustedTypes !== 'object' || typeof trustedTypes.createPolicy !== 'function') {\n    return null;\n  }\n  // Allow the callers to control the unique policy name\n  // by adding a data-tt-policy-suffix to the script element with the DOMPurify.\n  // Policy creation with duplicate names throws in Trusted Types.\n  let suffix = null;\n  const ATTR_NAME = 'data-tt-policy-suffix';\n  if (purifyHostElement && purifyHostElement.hasAttribute(ATTR_NAME)) {\n    suffix = purifyHostElement.getAttribute(ATTR_NAME);\n  }\n  const policyName = 'dompurify' + (suffix ? '#' + suffix : '');\n  try {\n    return trustedTypes.createPolicy(policyName, {\n      createHTML(html) {\n        return html;\n      },\n      createScriptURL(scriptUrl) {\n        return scriptUrl;\n      }\n    });\n  } catch (_) {\n    // Policy creation failed (most likely another DOMPurify script has\n    // already run). Skip creating the policy, as this will only cause errors\n    // if TT are enforced.\n    console.warn('TrustedTypes policy ' + policyName + ' could not be created.');\n    return null;\n  }\n};\nconst _createHooksMap = function _createHooksMap() {\n  return {\n    afterSanitizeAttributes: [],\n    afterSanitizeElements: [],\n    afterSanitizeShadowDOM: [],\n    beforeSanitizeAttributes: [],\n    beforeSanitizeElements: [],\n    beforeSanitizeShadowDOM: [],\n    uponSanitizeAttribute: [],\n    uponSanitizeElement: [],\n    uponSanitizeShadowNode: []\n  };\n};\nfunction createDOMPurify() {\n  let window = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : getGlobal();\n  const DOMPurify = root => createDOMPurify(root);\n  DOMPurify.version = '3.3.1';\n  DOMPurify.removed = [];\n  if (!window || !window.document || window.document.nodeType !== NODE_TYPE.document || !window.Element) {\n    // Not running in a browser, provide a factory function\n    // so that you can pass your own Window\n    DOMPurify.isSupported = false;\n    return DOMPurify;\n  }\n  let {\n    document\n  } = window;\n  const originalDocument = document;\n  const currentScript = originalDocument.currentScript;\n  const {\n    DocumentFragment,\n    HTMLTemplateElement,\n    Node,\n    Element,\n    NodeFilter,\n    NamedNodeMap = window.NamedNodeMap || window.MozNamedAttrMap,\n    HTMLFormElement,\n    DOMParser,\n    trustedTypes\n  } = window;\n  const ElementPrototype = Element.prototype;\n  const cloneNode = lookupGetter(ElementPrototype, 'cloneNode');\n  const remove = lookupGetter(ElementPrototype, 'remove');\n  const getNextSibling = lookupGetter(ElementPrototype, 'nextSibling');\n  const getChildNodes = lookupGetter(ElementPrototype, 'childNodes');\n  const getParentNode = lookupGetter(ElementPrototype, 'parentNode');\n  // As per issue #47, the web-components registry is inherited by a\n  // new document created via createHTMLDocument. As per the spec\n  // (http://w3c.github.io/webcomponents/spec/custom/#creating-and-passing-registries)\n  // a new empty registry is used when creating a template contents owner\n  // document, so we use that as our parent document to ensure nothing\n  // is inherited.\n  if (typeof HTMLTemplateElement === 'function') {\n    const template = document.createElement('template');\n    if (template.content && template.content.ownerDocument) {\n      document = template.content.ownerDocument;\n    }\n  }\n  let trustedTypesPolicy;\n  let emptyHTML = '';\n  const {\n    implementation,\n    createNodeIterator,\n    createDocumentFragment,\n    getElementsByTagName\n  } = document;\n  const {\n    importNode\n  } = originalDocument;\n  let hooks = _createHooksMap();\n  /**\n   * Expose whether this browser supports running the full DOMPurify.\n   */\n  DOMPurify.isSupported = typeof entries === 'function' && typeof getParentNode === 'function' && implementation && implementation.createHTMLDocument !== undefined;\n  const {\n    MUSTACHE_EXPR,\n    ERB_EXPR,\n    TMPLIT_EXPR,\n    DATA_ATTR,\n    ARIA_ATTR,\n    IS_SCRIPT_OR_DATA,\n    ATTR_WHITESPACE,\n    CUSTOM_ELEMENT\n  } = EXPRESSIONS;\n  let {\n    IS_ALLOWED_URI: IS_ALLOWED_URI$1\n  } = EXPRESSIONS;\n  /**\n   * We consider the elements and attributes below to be safe. Ideally\n   * don't add any new ones but feel free to remove unwanted ones.\n   */\n  /* allowed element names */\n  let ALLOWED_TAGS = null;\n  const DEFAULT_ALLOWED_TAGS = addToSet({}, [...html$1, ...svg$1, ...svgFilters, ...mathMl$1, ...text]);\n  /* Allowed attribute names */\n  let ALLOWED_ATTR = null;\n  const DEFAULT_ALLOWED_ATTR = addToSet({}, [...html, ...svg, ...mathMl, ...xml]);\n  /*\n   * Configure how DOMPurify should handle custom elements and their attributes as well as customized built-in elements.\n   * @property {RegExp|Function|null} tagNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any custom elements)\n   * @property {RegExp|Function|null} attributeNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any attributes not on the allow list)\n   * @property {boolean} allowCustomizedBuiltInElements allow custom elements derived from built-ins if they pass CUSTOM_ELEMENT_HANDLING.tagNameCheck. Default: `false`.\n   */\n  let CUSTOM_ELEMENT_HANDLING = Object.seal(create(null, {\n    tagNameCheck: {\n      writable: true,\n      configurable: false,\n      enumerable: true,\n      value: null\n    },\n    attributeNameCheck: {\n      writable: true,\n      configurable: false,\n      enumerable: true,\n      value: null\n    },\n    allowCustomizedBuiltInElements: {\n      writable: true,\n      configurable: false,\n      enumerable: true,\n      value: false\n    }\n  }));\n  /* Explicitly forbidden tags (overrides ALLOWED_TAGS/ADD_TAGS) */\n  let FORBID_TAGS = null;\n  /* Explicitly forbidden attributes (overrides ALLOWED_ATTR/ADD_ATTR) */\n  let FORBID_ATTR = null;\n  /* Config object to store ADD_TAGS/ADD_ATTR functions (when used as functions) */\n  const EXTRA_ELEMENT_HANDLING = Object.seal(create(null, {\n    tagCheck: {\n      writable: true,\n      configurable: false,\n      enumerable: true,\n      value: null\n    },\n    attributeCheck: {\n      writable: true,\n      configurable: false,\n      enumerable: true,\n      value: null\n    }\n  }));\n  /* Decide if ARIA attributes are okay */\n  let ALLOW_ARIA_ATTR = true;\n  /* Decide if custom data attributes are okay */\n  let ALLOW_DATA_ATTR = true;\n  /* Decide if unknown protocols are okay */\n  let ALLOW_UNKNOWN_PROTOCOLS = false;\n  /* Decide if self-closing tags in attributes are allowed.\n   * Usually removed due to a mXSS issue in jQuery 3.0 */\n  let ALLOW_SELF_CLOSE_IN_ATTR = true;\n  /* Output should be safe for common template engines.\n   * This means, DOMPurify removes data attributes, mustaches and ERB\n   */\n  let SAFE_FOR_TEMPLATES = false;\n  /* Output should be safe even for XML used within HTML and alike.\n   * This means, DOMPurify removes comments when containing risky content.\n   */\n  let SAFE_FOR_XML = true;\n  /* Decide if document with <html>... should be returned */\n  let WHOLE_DOCUMENT = false;\n  /* Track whether config is already set on this instance of DOMPurify. */\n  let SET_CONFIG = false;\n  /* Decide if all elements (e.g. style, script) must be children of\n   * document.body. By default, browsers might move them to document.head */\n  let FORCE_BODY = false;\n  /* Decide if a DOM `HTMLBodyElement` should be returned, instead of a html\n   * string (or a TrustedHTML object if Trusted Types are supported).\n   * If `WHOLE_DOCUMENT` is enabled a `HTMLHtmlElement` will be returned instead\n   */\n  let RETURN_DOM = false;\n  /* Decide if a DOM `DocumentFragment` should be returned, instead of a html\n   * string  (or a TrustedHTML object if Trusted Types are supported) */\n  let RETURN_DOM_FRAGMENT = false;\n  /* Try to return a Trusted Type object instead of a string, return a string in\n   * case Trusted Types are not supported  */\n  let RETURN_TRUSTED_TYPE = false;\n  /* Output should be free from DOM clobbering attacks?\n   * This sanitizes markups named with colliding, clobberable built-in DOM APIs.\n   */\n  let SANITIZE_DOM = true;\n  /* Achieve full DOM Clobbering protection by isolating the namespace of named\n   * properties and JS variables, mitigating attacks that abuse the HTML/DOM spec rules.\n   *\n   * HTML/DOM spec rules that enable DOM Clobbering:\n   *   - Named Access on Window (7.3.3)\n   *   - DOM Tree Accessors (3.1.5)\n   *   - Form Element Parent-Child Relations (4.10.3)\n   *   - Iframe srcdoc / Nested WindowProxies (4.8.5)\n   *   - HTMLCollection (4.2.10.2)\n   *\n   * Namespace isolation is implemented by prefixing `id` and `name` attributes\n   * with a constant string, i.e., `user-content-`\n   */\n  let SANITIZE_NAMED_PROPS = false;\n  const SANITIZE_NAMED_PROPS_PREFIX = 'user-content-';\n  /* Keep element content when removing element? */\n  let KEEP_CONTENT = true;\n  /* If a `Node` is passed to sanitize(), then performs sanitization in-place instead\n   * of importing it into a new Document and returning a sanitized copy */\n  let IN_PLACE = false;\n  /* Allow usage of profiles like html, svg and mathMl */\n  let USE_PROFILES = {};\n  /* Tags to ignore content of when KEEP_CONTENT is true */\n  let FORBID_CONTENTS = null;\n  const DEFAULT_FORBID_CONTENTS = addToSet({}, ['annotation-xml', 'audio', 'colgroup', 'desc', 'foreignobject', 'head', 'iframe', 'math', 'mi', 'mn', 'mo', 'ms', 'mtext', 'noembed', 'noframes', 'noscript', 'plaintext', 'script', 'style', 'svg', 'template', 'thead', 'title', 'video', 'xmp']);\n  /* Tags that are safe for data: URIs */\n  let DATA_URI_TAGS = null;\n  const DEFAULT_DATA_URI_TAGS = addToSet({}, ['audio', 'video', 'img', 'source', 'image', 'track']);\n  /* Attributes safe for values like \"javascript:\" */\n  let URI_SAFE_ATTRIBUTES = null;\n  const DEFAULT_URI_SAFE_ATTRIBUTES = addToSet({}, ['alt', 'class', 'for', 'id', 'label', 'name', 'pattern', 'placeholder', 'role', 'summary', 'title', 'value', 'style', 'xmlns']);\n  const MATHML_NAMESPACE = 'http://www.w3.org/1998/Math/MathML';\n  const SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\n  const HTML_NAMESPACE = 'http://www.w3.org/1999/xhtml';\n  /* Document namespace */\n  let NAMESPACE = HTML_NAMESPACE;\n  let IS_EMPTY_INPUT = false;\n  /* Allowed XHTML+XML namespaces */\n  let ALLOWED_NAMESPACES = null;\n  const DEFAULT_ALLOWED_NAMESPACES = addToSet({}, [MATHML_NAMESPACE, SVG_NAMESPACE, HTML_NAMESPACE], stringToString);\n  let MATHML_TEXT_INTEGRATION_POINTS = addToSet({}, ['mi', 'mo', 'mn', 'ms', 'mtext']);\n  let HTML_INTEGRATION_POINTS = addToSet({}, ['annotation-xml']);\n  // Certain elements are allowed in both SVG and HTML\n  // namespace. We need to specify them explicitly\n  // so that they don't get erroneously deleted from\n  // HTML namespace.\n  const COMMON_SVG_AND_HTML_ELEMENTS = addToSet({}, ['title', 'style', 'font', 'a', 'script']);\n  /* Parsing of strict XHTML documents */\n  let PARSER_MEDIA_TYPE = null;\n  const SUPPORTED_PARSER_MEDIA_TYPES = ['application/xhtml+xml', 'text/html'];\n  const DEFAULT_PARSER_MEDIA_TYPE = 'text/html';\n  let transformCaseFunc = null;\n  /* Keep a reference to config to pass to hooks */\n  let CONFIG = null;\n  /* Ideally, do not touch anything below this line */\n  /* ______________________________________________ */\n  const formElement = document.createElement('form');\n  const isRegexOrFunction = function isRegexOrFunction(testValue) {\n    return testValue instanceof RegExp || testValue instanceof Function;\n  };\n  /**\n   * _parseConfig\n   *\n   * @param cfg optional config literal\n   */\n  // eslint-disable-next-line complexity\n  const _parseConfig = function _parseConfig() {\n    let cfg = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    if (CONFIG && CONFIG === cfg) {\n      return;\n    }\n    /* Shield configuration object from tampering */\n    if (!cfg || typeof cfg !== 'object') {\n      cfg = {};\n    }\n    /* Shield configuration object from prototype pollution */\n    cfg = clone(cfg);\n    PARSER_MEDIA_TYPE =\n    // eslint-disable-next-line unicorn/prefer-includes\n    SUPPORTED_PARSER_MEDIA_TYPES.indexOf(cfg.PARSER_MEDIA_TYPE) === -1 ? DEFAULT_PARSER_MEDIA_TYPE : cfg.PARSER_MEDIA_TYPE;\n    // HTML tags and attributes are not case-sensitive, converting to lowercase. Keeping XHTML as is.\n    transformCaseFunc = PARSER_MEDIA_TYPE === 'application/xhtml+xml' ? stringToString : stringToLowerCase;\n    /* Set configuration parameters */\n    ALLOWED_TAGS = objectHasOwnProperty(cfg, 'ALLOWED_TAGS') ? addToSet({}, cfg.ALLOWED_TAGS, transformCaseFunc) : DEFAULT_ALLOWED_TAGS;\n    ALLOWED_ATTR = objectHasOwnProperty(cfg, 'ALLOWED_ATTR') ? addToSet({}, cfg.ALLOWED_ATTR, transformCaseFunc) : DEFAULT_ALLOWED_ATTR;\n    ALLOWED_NAMESPACES = objectHasOwnProperty(cfg, 'ALLOWED_NAMESPACES') ? addToSet({}, cfg.ALLOWED_NAMESPACES, stringToString) : DEFAULT_ALLOWED_NAMESPACES;\n    URI_SAFE_ATTRIBUTES = objectHasOwnProperty(cfg, 'ADD_URI_SAFE_ATTR') ? addToSet(clone(DEFAULT_URI_SAFE_ATTRIBUTES), cfg.ADD_URI_SAFE_ATTR, transformCaseFunc) : DEFAULT_URI_SAFE_ATTRIBUTES;\n    DATA_URI_TAGS = objectHasOwnProperty(cfg, 'ADD_DATA_URI_TAGS') ? addToSet(clone(DEFAULT_DATA_URI_TAGS), cfg.ADD_DATA_URI_TAGS, transformCaseFunc) : DEFAULT_DATA_URI_TAGS;\n    FORBID_CONTENTS = objectHasOwnProperty(cfg, 'FORBID_CONTENTS') ? addToSet({}, cfg.FORBID_CONTENTS, transformCaseFunc) : DEFAULT_FORBID_CONTENTS;\n    FORBID_TAGS = objectHasOwnProperty(cfg, 'FORBID_TAGS') ? addToSet({}, cfg.FORBID_TAGS, transformCaseFunc) : clone({});\n    FORBID_ATTR = objectHasOwnProperty(cfg, 'FORBID_ATTR') ? addToSet({}, cfg.FORBID_ATTR, transformCaseFunc) : clone({});\n    USE_PROFILES = objectHasOwnProperty(cfg, 'USE_PROFILES') ? cfg.USE_PROFILES : false;\n    ALLOW_ARIA_ATTR = cfg.ALLOW_ARIA_ATTR !== false; // Default true\n    ALLOW_DATA_ATTR = cfg.ALLOW_DATA_ATTR !== false; // Default true\n    ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false; // Default false\n    ALLOW_SELF_CLOSE_IN_ATTR = cfg.ALLOW_SELF_CLOSE_IN_ATTR !== false; // Default true\n    SAFE_FOR_TEMPLATES = cfg.SAFE_FOR_TEMPLATES || false; // Default false\n    SAFE_FOR_XML = cfg.SAFE_FOR_XML !== false; // Default true\n    WHOLE_DOCUMENT = cfg.WHOLE_DOCUMENT || false; // Default false\n    RETURN_DOM = cfg.RETURN_DOM || false; // Default false\n    RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT || false; // Default false\n    RETURN_TRUSTED_TYPE = cfg.RETURN_TRUSTED_TYPE || false; // Default false\n    FORCE_BODY = cfg.FORCE_BODY || false; // Default false\n    SANITIZE_DOM = cfg.SANITIZE_DOM !== false; // Default true\n    SANITIZE_NAMED_PROPS = cfg.SANITIZE_NAMED_PROPS || false; // Default false\n    KEEP_CONTENT = cfg.KEEP_CONTENT !== false; // Default true\n    IN_PLACE = cfg.IN_PLACE || false; // Default false\n    IS_ALLOWED_URI$1 = cfg.ALLOWED_URI_REGEXP || IS_ALLOWED_URI;\n    NAMESPACE = cfg.NAMESPACE || HTML_NAMESPACE;\n    MATHML_TEXT_INTEGRATION_POINTS = cfg.MATHML_TEXT_INTEGRATION_POINTS || MATHML_TEXT_INTEGRATION_POINTS;\n    HTML_INTEGRATION_POINTS = cfg.HTML_INTEGRATION_POINTS || HTML_INTEGRATION_POINTS;\n    CUSTOM_ELEMENT_HANDLING = cfg.CUSTOM_ELEMENT_HANDLING || {};\n    if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck)) {\n      CUSTOM_ELEMENT_HANDLING.tagNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck;\n    }\n    if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)) {\n      CUSTOM_ELEMENT_HANDLING.attributeNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck;\n    }\n    if (cfg.CUSTOM_ELEMENT_HANDLING && typeof cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements === 'boolean') {\n      CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements = cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements;\n    }\n    if (SAFE_FOR_TEMPLATES) {\n      ALLOW_DATA_ATTR = false;\n    }\n    if (RETURN_DOM_FRAGMENT) {\n      RETURN_DOM = true;\n    }\n    /* Parse profile info */\n    if (USE_PROFILES) {\n      ALLOWED_TAGS = addToSet({}, text);\n      ALLOWED_ATTR = [];\n      if (USE_PROFILES.html === true) {\n        addToSet(ALLOWED_TAGS, html$1);\n        addToSet(ALLOWED_ATTR, html);\n      }\n      if (USE_PROFILES.svg === true) {\n        addToSet(ALLOWED_TAGS, svg$1);\n        addToSet(ALLOWED_ATTR, svg);\n        addToSet(ALLOWED_ATTR, xml);\n      }\n      if (USE_PROFILES.svgFilters === true) {\n        addToSet(ALLOWED_TAGS, svgFilters);\n        addToSet(ALLOWED_ATTR, svg);\n        addToSet(ALLOWED_ATTR, xml);\n      }\n      if (USE_PROFILES.mathMl === true) {\n        addToSet(ALLOWED_TAGS, mathMl$1);\n        addToSet(ALLOWED_ATTR, mathMl);\n        addToSet(ALLOWED_ATTR, xml);\n      }\n    }\n    /* Merge configuration parameters */\n    if (cfg.ADD_TAGS) {\n      if (typeof cfg.ADD_TAGS === 'function') {\n        EXTRA_ELEMENT_HANDLING.tagCheck = cfg.ADD_TAGS;\n      } else {\n        if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {\n          ALLOWED_TAGS = clone(ALLOWED_TAGS);\n        }\n        addToSet(ALLOWED_TAGS, cfg.ADD_TAGS, transformCaseFunc);\n      }\n    }\n    if (cfg.ADD_ATTR) {\n      if (typeof cfg.ADD_ATTR === 'function') {\n        EXTRA_ELEMENT_HANDLING.attributeCheck = cfg.ADD_ATTR;\n      } else {\n        if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {\n          ALLOWED_ATTR = clone(ALLOWED_ATTR);\n        }\n        addToSet(ALLOWED_ATTR, cfg.ADD_ATTR, transformCaseFunc);\n      }\n    }\n    if (cfg.ADD_URI_SAFE_ATTR) {\n      addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR, transformCaseFunc);\n    }\n    if (cfg.FORBID_CONTENTS) {\n      if (FORBID_CONTENTS === DEFAULT_FORBID_CONTENTS) {\n        FORBID_CONTENTS = clone(FORBID_CONTENTS);\n      }\n      addToSet(FORBID_CONTENTS, cfg.FORBID_CONTENTS, transformCaseFunc);\n    }\n    if (cfg.ADD_FORBID_CONTENTS) {\n      if (FORBID_CONTENTS === DEFAULT_FORBID_CONTENTS) {\n        FORBID_CONTENTS = clone(FORBID_CONTENTS);\n      }\n      addToSet(FORBID_CONTENTS, cfg.ADD_FORBID_CONTENTS, transformCaseFunc);\n    }\n    /* Add #text in case KEEP_CONTENT is set to true */\n    if (KEEP_CONTENT) {\n      ALLOWED_TAGS['#text'] = true;\n    }\n    /* Add html, head and body to ALLOWED_TAGS in case WHOLE_DOCUMENT is true */\n    if (WHOLE_DOCUMENT) {\n      addToSet(ALLOWED_TAGS, ['html', 'head', 'body']);\n    }\n    /* Add tbody to ALLOWED_TAGS in case tables are permitted, see #286, #365 */\n    if (ALLOWED_TAGS.table) {\n      addToSet(ALLOWED_TAGS, ['tbody']);\n      delete FORBID_TAGS.tbody;\n    }\n    if (cfg.TRUSTED_TYPES_POLICY) {\n      if (typeof cfg.TRUSTED_TYPES_POLICY.createHTML !== 'function') {\n        throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a \"createHTML\" hook.');\n      }\n      if (typeof cfg.TRUSTED_TYPES_POLICY.createScriptURL !== 'function') {\n        throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a \"createScriptURL\" hook.');\n      }\n      // Overwrite existing TrustedTypes policy.\n      trustedTypesPolicy = cfg.TRUSTED_TYPES_POLICY;\n      // Sign local variables required by `sanitize`.\n      emptyHTML = trustedTypesPolicy.createHTML('');\n    } else {\n      // Uninitialized policy, attempt to initialize the internal dompurify policy.\n      if (trustedTypesPolicy === undefined) {\n        trustedTypesPolicy = _createTrustedTypesPolicy(trustedTypes, currentScript);\n      }\n      // If creating the internal policy succeeded sign internal variables.\n      if (trustedTypesPolicy !== null && typeof emptyHTML === 'string') {\n        emptyHTML = trustedTypesPolicy.createHTML('');\n      }\n    }\n    // Prevent further manipulation of configuration.\n    // Not available in IE8, Safari 5, etc.\n    if (freeze) {\n      freeze(cfg);\n    }\n    CONFIG = cfg;\n  };\n  /* Keep track of all possible SVG and MathML tags\n   * so that we can perform the namespace checks\n   * correctly. */\n  const ALL_SVG_TAGS = addToSet({}, [...svg$1, ...svgFilters, ...svgDisallowed]);\n  const ALL_MATHML_TAGS = addToSet({}, [...mathMl$1, ...mathMlDisallowed]);\n  /**\n   * @param element a DOM element whose namespace is being checked\n   * @returns Return false if the element has a\n   *  namespace that a spec-compliant parser would never\n   *  return. Return true otherwise.\n   */\n  const _checkValidNamespace = function _checkValidNamespace(element) {\n    let parent = getParentNode(element);\n    // In JSDOM, if we're inside shadow DOM, then parentNode\n    // can be null. We just simulate parent in this case.\n    if (!parent || !parent.tagName) {\n      parent = {\n        namespaceURI: NAMESPACE,\n        tagName: 'template'\n      };\n    }\n    const tagName = stringToLowerCase(element.tagName);\n    const parentTagName = stringToLowerCase(parent.tagName);\n    if (!ALLOWED_NAMESPACES[element.namespaceURI]) {\n      return false;\n    }\n    if (element.namespaceURI === SVG_NAMESPACE) {\n      // The only way to switch from HTML namespace to SVG\n      // is via <svg>. If it happens via any other tag, then\n      // it should be killed.\n      if (parent.namespaceURI === HTML_NAMESPACE) {\n        return tagName === 'svg';\n      }\n      // The only way to switch from MathML to SVG is via`\n      // svg if parent is either <annotation-xml> or MathML\n      // text integration points.\n      if (parent.namespaceURI === MATHML_NAMESPACE) {\n        return tagName === 'svg' && (parentTagName === 'annotation-xml' || MATHML_TEXT_INTEGRATION_POINTS[parentTagName]);\n      }\n      // We only allow elements that are defined in SVG\n      // spec. All others are disallowed in SVG namespace.\n      return Boolean(ALL_SVG_TAGS[tagName]);\n    }\n    if (element.namespaceURI === MATHML_NAMESPACE) {\n      // The only way to switch from HTML namespace to MathML\n      // is via <math>. If it happens via any other tag, then\n      // it should be killed.\n      if (parent.namespaceURI === HTML_NAMESPACE) {\n        return tagName === 'math';\n      }\n      // The only way to switch from SVG to MathML is via\n      // <math> and HTML integration points\n      if (parent.namespaceURI === SVG_NAMESPACE) {\n        return tagName === 'math' && HTML_INTEGRATION_POINTS[parentTagName];\n      }\n      // We only allow elements that are defined in MathML\n      // spec. All others are disallowed in MathML namespace.\n      return Boolean(ALL_MATHML_TAGS[tagName]);\n    }\n    if (element.namespaceURI === HTML_NAMESPACE) {\n      // The only way to switch from SVG to HTML is via\n      // HTML integration points, and from MathML to HTML\n      // is via MathML text integration points\n      if (parent.namespaceURI === SVG_NAMESPACE && !HTML_INTEGRATION_POINTS[parentTagName]) {\n        return false;\n      }\n      if (parent.namespaceURI === MATHML_NAMESPACE && !MATHML_TEXT_INTEGRATION_POINTS[parentTagName]) {\n        return false;\n      }\n      // We disallow tags that are specific for MathML\n      // or SVG and should never appear in HTML namespace\n      return !ALL_MATHML_TAGS[tagName] && (COMMON_SVG_AND_HTML_ELEMENTS[tagName] || !ALL_SVG_TAGS[tagName]);\n    }\n    // For XHTML and XML documents that support custom namespaces\n    if (PARSER_MEDIA_TYPE === 'application/xhtml+xml' && ALLOWED_NAMESPACES[element.namespaceURI]) {\n      return true;\n    }\n    // The code should never reach this place (this means\n    // that the element somehow got namespace that is not\n    // HTML, SVG, MathML or allowed via ALLOWED_NAMESPACES).\n    // Return false just in case.\n    return false;\n  };\n  /**\n   * _forceRemove\n   *\n   * @param node a DOM node\n   */\n  const _forceRemove = function _forceRemove(node) {\n    arrayPush(DOMPurify.removed, {\n      element: node\n    });\n    try {\n      // eslint-disable-next-line unicorn/prefer-dom-node-remove\n      getParentNode(node).removeChild(node);\n    } catch (_) {\n      remove(node);\n    }\n  };\n  /**\n   * _removeAttribute\n   *\n   * @param name an Attribute name\n   * @param element a DOM node\n   */\n  const _removeAttribute = function _removeAttribute(name, element) {\n    try {\n      arrayPush(DOMPurify.removed, {\n        attribute: element.getAttributeNode(name),\n        from: element\n      });\n    } catch (_) {\n      arrayPush(DOMPurify.removed, {\n        attribute: null,\n        from: element\n      });\n    }\n    element.removeAttribute(name);\n    // We void attribute values for unremovable \"is\" attributes\n    if (name === 'is') {\n      if (RETURN_DOM || RETURN_DOM_FRAGMENT) {\n        try {\n          _forceRemove(element);\n        } catch (_) {}\n      } else {\n        try {\n          element.setAttribute(name, '');\n        } catch (_) {}\n      }\n    }\n  };\n  /**\n   * _initDocument\n   *\n   * @param dirty - a string of dirty markup\n   * @return a DOM, filled with the dirty markup\n   */\n  const _initDocument = function _initDocument(dirty) {\n    /* Create a HTML document */\n    let doc = null;\n    let leadingWhitespace = null;\n    if (FORCE_BODY) {\n      dirty = '<remove></remove>' + dirty;\n    } else {\n      /* If FORCE_BODY isn't used, leading whitespace needs to be preserved manually */\n      const matches = stringMatch(dirty, /^[\\r\\n\\t ]+/);\n      leadingWhitespace = matches && matches[0];\n    }\n    if (PARSER_MEDIA_TYPE === 'application/xhtml+xml' && NAMESPACE === HTML_NAMESPACE) {\n      // Root of XHTML doc must contain xmlns declaration (see https://www.w3.org/TR/xhtml1/normative.html#strict)\n      dirty = '<html xmlns=\"http://www.w3.org/1999/xhtml\"><head></head><body>' + dirty + '</body></html>';\n    }\n    const dirtyPayload = trustedTypesPolicy ? trustedTypesPolicy.createHTML(dirty) : dirty;\n    /*\n     * Use the DOMParser API by default, fallback later if needs be\n     * DOMParser not work for svg when has multiple root element.\n     */\n    if (NAMESPACE === HTML_NAMESPACE) {\n      try {\n        doc = new DOMParser().parseFromString(dirtyPayload, PARSER_MEDIA_TYPE);\n      } catch (_) {}\n    }\n    /* Use createHTMLDocument in case DOMParser is not available */\n    if (!doc || !doc.documentElement) {\n      doc = implementation.createDocument(NAMESPACE, 'template', null);\n      try {\n        doc.documentElement.innerHTML = IS_EMPTY_INPUT ? emptyHTML : dirtyPayload;\n      } catch (_) {\n        // Syntax error if dirtyPayload is invalid xml\n      }\n    }\n    const body = doc.body || doc.documentElement;\n    if (dirty && leadingWhitespace) {\n      body.insertBefore(document.createTextNode(leadingWhitespace), body.childNodes[0] || null);\n    }\n    /* Work on whole document or just its body */\n    if (NAMESPACE === HTML_NAMESPACE) {\n      return getElementsByTagName.call(doc, WHOLE_DOCUMENT ? 'html' : 'body')[0];\n    }\n    return WHOLE_DOCUMENT ? doc.documentElement : body;\n  };\n  /**\n   * Creates a NodeIterator object that you can use to traverse filtered lists of nodes or elements in a document.\n   *\n   * @param root The root element or node to start traversing on.\n   * @return The created NodeIterator\n   */\n  const _createNodeIterator = function _createNodeIterator(root) {\n    return createNodeIterator.call(root.ownerDocument || root, root,\n    // eslint-disable-next-line no-bitwise\n    NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT | NodeFilter.SHOW_TEXT | NodeFilter.SHOW_PROCESSING_INSTRUCTION | NodeFilter.SHOW_CDATA_SECTION, null);\n  };\n  /**\n   * _isClobbered\n   *\n   * @param element element to check for clobbering attacks\n   * @return true if clobbered, false if safe\n   */\n  const _isClobbered = function _isClobbered(element) {\n    return element instanceof HTMLFormElement && (typeof element.nodeName !== 'string' || typeof element.textContent !== 'string' || typeof element.removeChild !== 'function' || !(element.attributes instanceof NamedNodeMap) || typeof element.removeAttribute !== 'function' || typeof element.setAttribute !== 'function' || typeof element.namespaceURI !== 'string' || typeof element.insertBefore !== 'function' || typeof element.hasChildNodes !== 'function');\n  };\n  /**\n   * Checks whether the given object is a DOM node.\n   *\n   * @param value object to check whether it's a DOM node\n   * @return true is object is a DOM node\n   */\n  const _isNode = function _isNode(value) {\n    return typeof Node === 'function' && value instanceof Node;\n  };\n  function _executeHooks(hooks, currentNode, data) {\n    arrayForEach(hooks, hook => {\n      hook.call(DOMPurify, currentNode, data, CONFIG);\n    });\n  }\n  /**\n   * _sanitizeElements\n   *\n   * @protect nodeName\n   * @protect textContent\n   * @protect removeChild\n   * @param currentNode to check for permission to exist\n   * @return true if node was killed, false if left alive\n   */\n  const _sanitizeElements = function _sanitizeElements(currentNode) {\n    let content = null;\n    /* Execute a hook if present */\n    _executeHooks(hooks.beforeSanitizeElements, currentNode, null);\n    /* Check if element is clobbered or can clobber */\n    if (_isClobbered(currentNode)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Now let's check the element's type and name */\n    const tagName = transformCaseFunc(currentNode.nodeName);\n    /* Execute a hook if present */\n    _executeHooks(hooks.uponSanitizeElement, currentNode, {\n      tagName,\n      allowedTags: ALLOWED_TAGS\n    });\n    /* Detect mXSS attempts abusing namespace confusion */\n    if (SAFE_FOR_XML && currentNode.hasChildNodes() && !_isNode(currentNode.firstElementChild) && regExpTest(/<[/\\w!]/g, currentNode.innerHTML) && regExpTest(/<[/\\w!]/g, currentNode.textContent)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Remove any occurrence of processing instructions */\n    if (currentNode.nodeType === NODE_TYPE.progressingInstruction) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Remove any kind of possibly harmful comments */\n    if (SAFE_FOR_XML && currentNode.nodeType === NODE_TYPE.comment && regExpTest(/<[/\\w]/g, currentNode.data)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Remove element if anything forbids its presence */\n    if (!(EXTRA_ELEMENT_HANDLING.tagCheck instanceof Function && EXTRA_ELEMENT_HANDLING.tagCheck(tagName)) && (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName])) {\n      /* Check if we have a custom element to handle */\n      if (!FORBID_TAGS[tagName] && _isBasicCustomElement(tagName)) {\n        if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, tagName)) {\n          return false;\n        }\n        if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(tagName)) {\n          return false;\n        }\n      }\n      /* Keep content except for bad-listed elements */\n      if (KEEP_CONTENT && !FORBID_CONTENTS[tagName]) {\n        const parentNode = getParentNode(currentNode) || currentNode.parentNode;\n        const childNodes = getChildNodes(currentNode) || currentNode.childNodes;\n        if (childNodes && parentNode) {\n          const childCount = childNodes.length;\n          for (let i = childCount - 1; i >= 0; --i) {\n            const childClone = cloneNode(childNodes[i], true);\n            childClone.__removalCount = (currentNode.__removalCount || 0) + 1;\n            parentNode.insertBefore(childClone, getNextSibling(currentNode));\n          }\n        }\n      }\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Check whether element has a valid namespace */\n    if (currentNode instanceof Element && !_checkValidNamespace(currentNode)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Make sure that older browsers don't get fallback-tag mXSS */\n    if ((tagName === 'noscript' || tagName === 'noembed' || tagName === 'noframes') && regExpTest(/<\\/no(script|embed|frames)/i, currentNode.innerHTML)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Sanitize element content to be template-safe */\n    if (SAFE_FOR_TEMPLATES && currentNode.nodeType === NODE_TYPE.text) {\n      /* Get the element's text content */\n      content = currentNode.textContent;\n      arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], expr => {\n        content = stringReplace(content, expr, ' ');\n      });\n      if (currentNode.textContent !== content) {\n        arrayPush(DOMPurify.removed, {\n          element: currentNode.cloneNode()\n        });\n        currentNode.textContent = content;\n      }\n    }\n    /* Execute a hook if present */\n    _executeHooks(hooks.afterSanitizeElements, currentNode, null);\n    return false;\n  };\n  /**\n   * _isValidAttribute\n   *\n   * @param lcTag Lowercase tag name of containing element.\n   * @param lcName Lowercase attribute name.\n   * @param value Attribute value.\n   * @return Returns true if `value` is valid, otherwise false.\n   */\n  // eslint-disable-next-line complexity\n  const _isValidAttribute = function _isValidAttribute(lcTag, lcName, value) {\n    /* Make sure attribute cannot clobber */\n    if (SANITIZE_DOM && (lcName === 'id' || lcName === 'name') && (value in document || value in formElement)) {\n      return false;\n    }\n    /* Allow valid data-* attributes: At least one character after \"-\"\n        (https://html.spec.whatwg.org/multipage/dom.html#embedding-custom-non-visible-data-with-the-data-*-attributes)\n        XML-compatible (https://html.spec.whatwg.org/multipage/infrastructure.html#xml-compatible and http://www.w3.org/TR/xml/#d0e804)\n        We don't need to check the value; it's always URI safe. */\n    if (ALLOW_DATA_ATTR && !FORBID_ATTR[lcName] && regExpTest(DATA_ATTR, lcName)) ; else if (ALLOW_ARIA_ATTR && regExpTest(ARIA_ATTR, lcName)) ; else if (EXTRA_ELEMENT_HANDLING.attributeCheck instanceof Function && EXTRA_ELEMENT_HANDLING.attributeCheck(lcName, lcTag)) ; else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {\n      if (\n      // First condition does a very basic check if a) it's basically a valid custom element tagname AND\n      // b) if the tagName passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n      // and c) if the attribute name passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.attributeNameCheck\n      _isBasicCustomElement(lcTag) && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, lcTag) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(lcTag)) && (CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.attributeNameCheck, lcName) || CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.attributeNameCheck(lcName, lcTag)) ||\n      // Alternative, second condition checks if it's an `is`-attribute, AND\n      // the value passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n      lcName === 'is' && CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, value) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(value))) ; else {\n        return false;\n      }\n      /* Check value is safe. First, is attr inert? If so, is safe */\n    } else if (URI_SAFE_ATTRIBUTES[lcName]) ; else if (regExpTest(IS_ALLOWED_URI$1, stringReplace(value, ATTR_WHITESPACE, ''))) ; else if ((lcName === 'src' || lcName === 'xlink:href' || lcName === 'href') && lcTag !== 'script' && stringIndexOf(value, 'data:') === 0 && DATA_URI_TAGS[lcTag]) ; else if (ALLOW_UNKNOWN_PROTOCOLS && !regExpTest(IS_SCRIPT_OR_DATA, stringReplace(value, ATTR_WHITESPACE, ''))) ; else if (value) {\n      return false;\n    } else ;\n    return true;\n  };\n  /**\n   * _isBasicCustomElement\n   * checks if at least one dash is included in tagName, and it's not the first char\n   * for more sophisticated checking see https://github.com/sindresorhus/validate-element-name\n   *\n   * @param tagName name of the tag of the node to sanitize\n   * @returns Returns true if the tag name meets the basic criteria for a custom element, otherwise false.\n   */\n  const _isBasicCustomElement = function _isBasicCustomElement(tagName) {\n    return tagName !== 'annotation-xml' && stringMatch(tagName, CUSTOM_ELEMENT);\n  };\n  /**\n   * _sanitizeAttributes\n   *\n   * @protect attributes\n   * @protect nodeName\n   * @protect removeAttribute\n   * @protect setAttribute\n   *\n   * @param currentNode to sanitize\n   */\n  const _sanitizeAttributes = function _sanitizeAttributes(currentNode) {\n    /* Execute a hook if present */\n    _executeHooks(hooks.beforeSanitizeAttributes, currentNode, null);\n    const {\n      attributes\n    } = currentNode;\n    /* Check if we have attributes; if not we might have a text node */\n    if (!attributes || _isClobbered(currentNode)) {\n      return;\n    }\n    const hookEvent = {\n      attrName: '',\n      attrValue: '',\n      keepAttr: true,\n      allowedAttributes: ALLOWED_ATTR,\n      forceKeepAttr: undefined\n    };\n    let l = attributes.length;\n    /* Go backwards over all attributes; safely remove bad ones */\n    while (l--) {\n      const attr = attributes[l];\n      const {\n        name,\n        namespaceURI,\n        value: attrValue\n      } = attr;\n      const lcName = transformCaseFunc(name);\n      const initValue = attrValue;\n      let value = name === 'value' ? initValue : stringTrim(initValue);\n      /* Execute a hook if present */\n      hookEvent.attrName = lcName;\n      hookEvent.attrValue = value;\n      hookEvent.keepAttr = true;\n      hookEvent.forceKeepAttr = undefined; // Allows developers to see this is a property they can set\n      _executeHooks(hooks.uponSanitizeAttribute, currentNode, hookEvent);\n      value = hookEvent.attrValue;\n      /* Full DOM Clobbering protection via namespace isolation,\n       * Prefix id and name attributes with `user-content-`\n       */\n      if (SANITIZE_NAMED_PROPS && (lcName === 'id' || lcName === 'name')) {\n        // Remove the attribute with this value\n        _removeAttribute(name, currentNode);\n        // Prefix the value and later re-create the attribute with the sanitized value\n        value = SANITIZE_NAMED_PROPS_PREFIX + value;\n      }\n      /* Work around a security issue with comments inside attributes */\n      if (SAFE_FOR_XML && regExpTest(/((--!?|])>)|<\\/(style|title|textarea)/i, value)) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n      /* Make sure we cannot easily use animated hrefs, even if animations are allowed */\n      if (lcName === 'attributename' && stringMatch(value, 'href')) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n      /* Did the hooks approve of the attribute? */\n      if (hookEvent.forceKeepAttr) {\n        continue;\n      }\n      /* Did the hooks approve of the attribute? */\n      if (!hookEvent.keepAttr) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n      /* Work around a security issue in jQuery 3.0 */\n      if (!ALLOW_SELF_CLOSE_IN_ATTR && regExpTest(/\\/>/i, value)) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n      /* Sanitize attribute content to be template-safe */\n      if (SAFE_FOR_TEMPLATES) {\n        arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], expr => {\n          value = stringReplace(value, expr, ' ');\n        });\n      }\n      /* Is `value` valid for this attribute? */\n      const lcTag = transformCaseFunc(currentNode.nodeName);\n      if (!_isValidAttribute(lcTag, lcName, value)) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n      /* Handle attributes that require Trusted Types */\n      if (trustedTypesPolicy && typeof trustedTypes === 'object' && typeof trustedTypes.getAttributeType === 'function') {\n        if (namespaceURI) ; else {\n          switch (trustedTypes.getAttributeType(lcTag, lcName)) {\n            case 'TrustedHTML':\n              {\n                value = trustedTypesPolicy.createHTML(value);\n                break;\n              }\n            case 'TrustedScriptURL':\n              {\n                value = trustedTypesPolicy.createScriptURL(value);\n                break;\n              }\n          }\n        }\n      }\n      /* Handle invalid data-* attribute set by try-catching it */\n      if (value !== initValue) {\n        try {\n          if (namespaceURI) {\n            currentNode.setAttributeNS(namespaceURI, name, value);\n          } else {\n            /* Fallback to setAttribute() for browser-unrecognized namespaces e.g. \"x-schema\". */\n            currentNode.setAttribute(name, value);\n          }\n          if (_isClobbered(currentNode)) {\n            _forceRemove(currentNode);\n          } else {\n            arrayPop(DOMPurify.removed);\n          }\n        } catch (_) {\n          _removeAttribute(name, currentNode);\n        }\n      }\n    }\n    /* Execute a hook if present */\n    _executeHooks(hooks.afterSanitizeAttributes, currentNode, null);\n  };\n  /**\n   * _sanitizeShadowDOM\n   *\n   * @param fragment to iterate over recursively\n   */\n  const _sanitizeShadowDOM = function _sanitizeShadowDOM(fragment) {\n    let shadowNode = null;\n    const shadowIterator = _createNodeIterator(fragment);\n    /* Execute a hook if present */\n    _executeHooks(hooks.beforeSanitizeShadowDOM, fragment, null);\n    while (shadowNode = shadowIterator.nextNode()) {\n      /* Execute a hook if present */\n      _executeHooks(hooks.uponSanitizeShadowNode, shadowNode, null);\n      /* Sanitize tags and elements */\n      _sanitizeElements(shadowNode);\n      /* Check attributes next */\n      _sanitizeAttributes(shadowNode);\n      /* Deep shadow DOM detected */\n      if (shadowNode.content instanceof DocumentFragment) {\n        _sanitizeShadowDOM(shadowNode.content);\n      }\n    }\n    /* Execute a hook if present */\n    _executeHooks(hooks.afterSanitizeShadowDOM, fragment, null);\n  };\n  // eslint-disable-next-line complexity\n  DOMPurify.sanitize = function (dirty) {\n    let cfg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let body = null;\n    let importedNode = null;\n    let currentNode = null;\n    let returnNode = null;\n    /* Make sure we have a string to sanitize.\n      DO NOT return early, as this will return the wrong type if\n      the user has requested a DOM object rather than a string */\n    IS_EMPTY_INPUT = !dirty;\n    if (IS_EMPTY_INPUT) {\n      dirty = '<!-->';\n    }\n    /* Stringify, in case dirty is an object */\n    if (typeof dirty !== 'string' && !_isNode(dirty)) {\n      if (typeof dirty.toString === 'function') {\n        dirty = dirty.toString();\n        if (typeof dirty !== 'string') {\n          throw typeErrorCreate('dirty is not a string, aborting');\n        }\n      } else {\n        throw typeErrorCreate('toString is not a function');\n      }\n    }\n    /* Return dirty HTML if DOMPurify cannot run */\n    if (!DOMPurify.isSupported) {\n      return dirty;\n    }\n    /* Assign config vars */\n    if (!SET_CONFIG) {\n      _parseConfig(cfg);\n    }\n    /* Clean up removed elements */\n    DOMPurify.removed = [];\n    /* Check if dirty is correctly typed for IN_PLACE */\n    if (typeof dirty === 'string') {\n      IN_PLACE = false;\n    }\n    if (IN_PLACE) {\n      /* Do some early pre-sanitization to avoid unsafe root nodes */\n      if (dirty.nodeName) {\n        const tagName = transformCaseFunc(dirty.nodeName);\n        if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n          throw typeErrorCreate('root node is forbidden and cannot be sanitized in-place');\n        }\n      }\n    } else if (dirty instanceof Node) {\n      /* If dirty is a DOM element, append to an empty document to avoid\n         elements being stripped by the parser */\n      body = _initDocument('<!---->');\n      importedNode = body.ownerDocument.importNode(dirty, true);\n      if (importedNode.nodeType === NODE_TYPE.element && importedNode.nodeName === 'BODY') {\n        /* Node is already a body, use as is */\n        body = importedNode;\n      } else if (importedNode.nodeName === 'HTML') {\n        body = importedNode;\n      } else {\n        // eslint-disable-next-line unicorn/prefer-dom-node-append\n        body.appendChild(importedNode);\n      }\n    } else {\n      /* Exit directly if we have nothing to do */\n      if (!RETURN_DOM && !SAFE_FOR_TEMPLATES && !WHOLE_DOCUMENT &&\n      // eslint-disable-next-line unicorn/prefer-includes\n      dirty.indexOf('<') === -1) {\n        return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(dirty) : dirty;\n      }\n      /* Initialize the document to work on */\n      body = _initDocument(dirty);\n      /* Check we have a DOM node from the data */\n      if (!body) {\n        return RETURN_DOM ? null : RETURN_TRUSTED_TYPE ? emptyHTML : '';\n      }\n    }\n    /* Remove first element node (ours) if FORCE_BODY is set */\n    if (body && FORCE_BODY) {\n      _forceRemove(body.firstChild);\n    }\n    /* Get node iterator */\n    const nodeIterator = _createNodeIterator(IN_PLACE ? dirty : body);\n    /* Now start iterating over the created document */\n    while (currentNode = nodeIterator.nextNode()) {\n      /* Sanitize tags and elements */\n      _sanitizeElements(currentNode);\n      /* Check attributes next */\n      _sanitizeAttributes(currentNode);\n      /* Shadow DOM detected, sanitize it */\n      if (currentNode.content instanceof DocumentFragment) {\n        _sanitizeShadowDOM(currentNode.content);\n      }\n    }\n    /* If we sanitized `dirty` in-place, return it. */\n    if (IN_PLACE) {\n      return dirty;\n    }\n    /* Return sanitized string or DOM */\n    if (RETURN_DOM) {\n      if (RETURN_DOM_FRAGMENT) {\n        returnNode = createDocumentFragment.call(body.ownerDocument);\n        while (body.firstChild) {\n          // eslint-disable-next-line unicorn/prefer-dom-node-append\n          returnNode.appendChild(body.firstChild);\n        }\n      } else {\n        returnNode = body;\n      }\n      if (ALLOWED_ATTR.shadowroot || ALLOWED_ATTR.shadowrootmode) {\n        /*\n          AdoptNode() is not used because internal state is not reset\n          (e.g. the past names map of a HTMLFormElement), this is safe\n          in theory but we would rather not risk another attack vector.\n          The state that is cloned by importNode() is explicitly defined\n          by the specs.\n        */\n        returnNode = importNode.call(originalDocument, returnNode, true);\n      }\n      return returnNode;\n    }\n    let serializedHTML = WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;\n    /* Serialize doctype if allowed */\n    if (WHOLE_DOCUMENT && ALLOWED_TAGS['!doctype'] && body.ownerDocument && body.ownerDocument.doctype && body.ownerDocument.doctype.name && regExpTest(DOCTYPE_NAME, body.ownerDocument.doctype.name)) {\n      serializedHTML = '<!DOCTYPE ' + body.ownerDocument.doctype.name + '>\\n' + serializedHTML;\n    }\n    /* Sanitize final string template-safe */\n    if (SAFE_FOR_TEMPLATES) {\n      arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], expr => {\n        serializedHTML = stringReplace(serializedHTML, expr, ' ');\n      });\n    }\n    return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(serializedHTML) : serializedHTML;\n  };\n  DOMPurify.setConfig = function () {\n    let cfg = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    _parseConfig(cfg);\n    SET_CONFIG = true;\n  };\n  DOMPurify.clearConfig = function () {\n    CONFIG = null;\n    SET_CONFIG = false;\n  };\n  DOMPurify.isValidAttribute = function (tag, attr, value) {\n    /* Initialize shared config vars if necessary. */\n    if (!CONFIG) {\n      _parseConfig({});\n    }\n    const lcTag = transformCaseFunc(tag);\n    const lcName = transformCaseFunc(attr);\n    return _isValidAttribute(lcTag, lcName, value);\n  };\n  DOMPurify.addHook = function (entryPoint, hookFunction) {\n    if (typeof hookFunction !== 'function') {\n      return;\n    }\n    arrayPush(hooks[entryPoint], hookFunction);\n  };\n  DOMPurify.removeHook = function (entryPoint, hookFunction) {\n    if (hookFunction !== undefined) {\n      const index = arrayLastIndexOf(hooks[entryPoint], hookFunction);\n      return index === -1 ? undefined : arraySplice(hooks[entryPoint], index, 1)[0];\n    }\n    return arrayPop(hooks[entryPoint]);\n  };\n  DOMPurify.removeHooks = function (entryPoint) {\n    hooks[entryPoint] = [];\n  };\n  DOMPurify.removeAllHooks = function () {\n    hooks = _createHooksMap();\n  };\n  return DOMPurify;\n}\nvar purify = createDOMPurify();\n\n\n//# sourceMappingURL=purify.es.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2RvbXB1cmlmeS9kaXN0L3B1cmlmeS5lcy5tanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUUsVUFBVTtBQUNaO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyRkFBMkYsYUFBYTtBQUN4RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtGQUErRixlQUFlO0FBQzlHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtGQUErRixlQUFlO0FBQzlHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkVBQTJFLGVBQWU7QUFDMUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLHNCQUFzQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsOEJBQThCLEVBQUUsaUJBQWlCLEVBQUUsTUFBTTtBQUN6RDtBQUNBLDhCQUE4QixhQUFhO0FBQzNDLHdEQUF3RDtBQUN4RCwwQ0FBMEM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDO0FBQzFDO0FBQ0E7QUFDQSwwQ0FBMEM7QUFDMUM7QUFDQTtBQUNBLGdCQUFnQixzQkFBc0I7QUFDdEMsZ0JBQWdCLHNCQUFzQjtBQUN0QyxnQkFBZ0IsU0FBUztBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBLDJDQUEyQztBQUMzQztBQUNBO0FBQ0EsaURBQWlEO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0Q7QUFDaEQsa0RBQWtEO0FBQ2xELDJDQUEyQztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRDtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwRUFBMEU7QUFDMUUsMEVBQTBFO0FBQzFFLHNGQUFzRjtBQUN0RjtBQUNBO0FBQ0EsZ0ZBQWdGO0FBQ2hGLHdFQUF3RSxnREFBZ0Q7QUFDeEgsd0VBQXdFLGdEQUFnRDtBQUN4SDtBQUNBLHFEQUFxRDtBQUNyRCxxREFBcUQ7QUFDckQsb0VBQW9FO0FBQ3BFLHVFQUF1RTtBQUN2RSwwREFBMEQ7QUFDMUQsK0NBQStDO0FBQy9DLGtEQUFrRDtBQUNsRCwwQ0FBMEM7QUFDMUMsNERBQTREO0FBQzVELDREQUE0RDtBQUM1RCwwQ0FBMEM7QUFDMUMsK0NBQStDO0FBQy9DLDhEQUE4RDtBQUM5RCwrQ0FBK0M7QUFDL0Msc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0M7QUFDbEMscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVixRQUFRO0FBQ1I7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLFFBQVE7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQztBQUMxQyxvRkFBb0YsNkRBQTZELDhIQUE4SDtBQUMvUTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFUQUFxVDtBQUNyVDtBQUNBO0FBQ0E7QUFDQSxNQUFNLHdDQUF3QyxvRkFBb0Ysb0tBQW9LLGlIQUFpSDtBQUN2WjtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTixvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkM7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFNkI7QUFDN0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jYW11bmRhLW1vZGVsZXItY2xpZW50Ly4uL25vZGVfbW9kdWxlcy9kb21wdXJpZnkvZGlzdC9wdXJpZnkuZXMubWpzP2YwMDYiXSwic291cmNlc0NvbnRlbnQiOlsiLyohIEBsaWNlbnNlIERPTVB1cmlmeSAzLjMuMSB8IChjKSBDdXJlNTMgYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyB8IFJlbGVhc2VkIHVuZGVyIHRoZSBBcGFjaGUgbGljZW5zZSAyLjAgYW5kIE1vemlsbGEgUHVibGljIExpY2Vuc2UgMi4wIHwgZ2l0aHViLmNvbS9jdXJlNTMvRE9NUHVyaWZ5L2Jsb2IvMy4zLjEvTElDRU5TRSAqL1xuXG5jb25zdCB7XG4gIGVudHJpZXMsXG4gIHNldFByb3RvdHlwZU9mLFxuICBpc0Zyb3plbixcbiAgZ2V0UHJvdG90eXBlT2YsXG4gIGdldE93blByb3BlcnR5RGVzY3JpcHRvclxufSA9IE9iamVjdDtcbmxldCB7XG4gIGZyZWV6ZSxcbiAgc2VhbCxcbiAgY3JlYXRlXG59ID0gT2JqZWN0OyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGltcG9ydC9uby1tdXRhYmxlLWV4cG9ydHNcbmxldCB7XG4gIGFwcGx5LFxuICBjb25zdHJ1Y3Rcbn0gPSB0eXBlb2YgUmVmbGVjdCAhPT0gJ3VuZGVmaW5lZCcgJiYgUmVmbGVjdDtcbmlmICghZnJlZXplKSB7XG4gIGZyZWV6ZSA9IGZ1bmN0aW9uIGZyZWV6ZSh4KSB7XG4gICAgcmV0dXJuIHg7XG4gIH07XG59XG5pZiAoIXNlYWwpIHtcbiAgc2VhbCA9IGZ1bmN0aW9uIHNlYWwoeCkge1xuICAgIHJldHVybiB4O1xuICB9O1xufVxuaWYgKCFhcHBseSkge1xuICBhcHBseSA9IGZ1bmN0aW9uIGFwcGx5KGZ1bmMsIHRoaXNBcmcpIHtcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuID4gMiA/IF9sZW4gLSAyIDogMCksIF9rZXkgPSAyOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXkgLSAyXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmMuYXBwbHkodGhpc0FyZywgYXJncyk7XG4gIH07XG59XG5pZiAoIWNvbnN0cnVjdCkge1xuICBjb25zdHJ1Y3QgPSBmdW5jdGlvbiBjb25zdHJ1Y3QoRnVuYykge1xuICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMiA+IDEgPyBfbGVuMiAtIDEgOiAwKSwgX2tleTIgPSAxOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICBhcmdzW19rZXkyIC0gMV0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IEZ1bmMoLi4uYXJncyk7XG4gIH07XG59XG5jb25zdCBhcnJheUZvckVhY2ggPSB1bmFwcGx5KEFycmF5LnByb3RvdHlwZS5mb3JFYWNoKTtcbmNvbnN0IGFycmF5TGFzdEluZGV4T2YgPSB1bmFwcGx5KEFycmF5LnByb3RvdHlwZS5sYXN0SW5kZXhPZik7XG5jb25zdCBhcnJheVBvcCA9IHVuYXBwbHkoQXJyYXkucHJvdG90eXBlLnBvcCk7XG5jb25zdCBhcnJheVB1c2ggPSB1bmFwcGx5KEFycmF5LnByb3RvdHlwZS5wdXNoKTtcbmNvbnN0IGFycmF5U3BsaWNlID0gdW5hcHBseShBcnJheS5wcm90b3R5cGUuc3BsaWNlKTtcbmNvbnN0IHN0cmluZ1RvTG93ZXJDYXNlID0gdW5hcHBseShTdHJpbmcucHJvdG90eXBlLnRvTG93ZXJDYXNlKTtcbmNvbnN0IHN0cmluZ1RvU3RyaW5nID0gdW5hcHBseShTdHJpbmcucHJvdG90eXBlLnRvU3RyaW5nKTtcbmNvbnN0IHN0cmluZ01hdGNoID0gdW5hcHBseShTdHJpbmcucHJvdG90eXBlLm1hdGNoKTtcbmNvbnN0IHN0cmluZ1JlcGxhY2UgPSB1bmFwcGx5KFN0cmluZy5wcm90b3R5cGUucmVwbGFjZSk7XG5jb25zdCBzdHJpbmdJbmRleE9mID0gdW5hcHBseShTdHJpbmcucHJvdG90eXBlLmluZGV4T2YpO1xuY29uc3Qgc3RyaW5nVHJpbSA9IHVuYXBwbHkoU3RyaW5nLnByb3RvdHlwZS50cmltKTtcbmNvbnN0IG9iamVjdEhhc093blByb3BlcnR5ID0gdW5hcHBseShPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5KTtcbmNvbnN0IHJlZ0V4cFRlc3QgPSB1bmFwcGx5KFJlZ0V4cC5wcm90b3R5cGUudGVzdCk7XG5jb25zdCB0eXBlRXJyb3JDcmVhdGUgPSB1bmNvbnN0cnVjdChUeXBlRXJyb3IpO1xuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IGZ1bmN0aW9uIHRoYXQgY2FsbHMgdGhlIGdpdmVuIGZ1bmN0aW9uIHdpdGggYSBzcGVjaWZpZWQgdGhpc0FyZyBhbmQgYXJndW1lbnRzLlxuICpcbiAqIEBwYXJhbSBmdW5jIC0gVGhlIGZ1bmN0aW9uIHRvIGJlIHdyYXBwZWQgYW5kIGNhbGxlZC5cbiAqIEByZXR1cm5zIEEgbmV3IGZ1bmN0aW9uIHRoYXQgY2FsbHMgdGhlIGdpdmVuIGZ1bmN0aW9uIHdpdGggYSBzcGVjaWZpZWQgdGhpc0FyZyBhbmQgYXJndW1lbnRzLlxuICovXG5mdW5jdGlvbiB1bmFwcGx5KGZ1bmMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICh0aGlzQXJnKSB7XG4gICAgaWYgKHRoaXNBcmcgaW5zdGFuY2VvZiBSZWdFeHApIHtcbiAgICAgIHRoaXNBcmcubGFzdEluZGV4ID0gMDtcbiAgICB9XG4gICAgZm9yICh2YXIgX2xlbjMgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4zID4gMSA/IF9sZW4zIC0gMSA6IDApLCBfa2V5MyA9IDE7IF9rZXkzIDwgX2xlbjM7IF9rZXkzKyspIHtcbiAgICAgIGFyZ3NbX2tleTMgLSAxXSA9IGFyZ3VtZW50c1tfa2V5M107XG4gICAgfVxuICAgIHJldHVybiBhcHBseShmdW5jLCB0aGlzQXJnLCBhcmdzKTtcbiAgfTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBmdW5jdGlvbiB0aGF0IGNvbnN0cnVjdHMgYW4gaW5zdGFuY2Ugb2YgdGhlIGdpdmVuIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIHdpdGggdGhlIHByb3ZpZGVkIGFyZ3VtZW50cy5cbiAqXG4gKiBAcGFyYW0gZnVuYyAtIFRoZSBjb25zdHJ1Y3RvciBmdW5jdGlvbiB0byBiZSB3cmFwcGVkIGFuZCBjYWxsZWQuXG4gKiBAcmV0dXJucyBBIG5ldyBmdW5jdGlvbiB0aGF0IGNvbnN0cnVjdHMgYW4gaW5zdGFuY2Ugb2YgdGhlIGdpdmVuIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIHdpdGggdGhlIHByb3ZpZGVkIGFyZ3VtZW50cy5cbiAqL1xuZnVuY3Rpb24gdW5jb25zdHJ1Y3QoRnVuYykge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIGZvciAodmFyIF9sZW40ID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuNCksIF9rZXk0ID0gMDsgX2tleTQgPCBfbGVuNDsgX2tleTQrKykge1xuICAgICAgYXJnc1tfa2V5NF0gPSBhcmd1bWVudHNbX2tleTRdO1xuICAgIH1cbiAgICByZXR1cm4gY29uc3RydWN0KEZ1bmMsIGFyZ3MpO1xuICB9O1xufVxuLyoqXG4gKiBBZGQgcHJvcGVydGllcyB0byBhIGxvb2t1cCB0YWJsZVxuICpcbiAqIEBwYXJhbSBzZXQgLSBUaGUgc2V0IHRvIHdoaWNoIGVsZW1lbnRzIHdpbGwgYmUgYWRkZWQuXG4gKiBAcGFyYW0gYXJyYXkgLSBUaGUgYXJyYXkgY29udGFpbmluZyBlbGVtZW50cyB0byBiZSBhZGRlZCB0byB0aGUgc2V0LlxuICogQHBhcmFtIHRyYW5zZm9ybUNhc2VGdW5jIC0gQW4gb3B0aW9uYWwgZnVuY3Rpb24gdG8gdHJhbnNmb3JtIHRoZSBjYXNlIG9mIGVhY2ggZWxlbWVudCBiZWZvcmUgYWRkaW5nIHRvIHRoZSBzZXQuXG4gKiBAcmV0dXJucyBUaGUgbW9kaWZpZWQgc2V0IHdpdGggYWRkZWQgZWxlbWVudHMuXG4gKi9cbmZ1bmN0aW9uIGFkZFRvU2V0KHNldCwgYXJyYXkpIHtcbiAgbGV0IHRyYW5zZm9ybUNhc2VGdW5jID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBzdHJpbmdUb0xvd2VyQ2FzZTtcbiAgaWYgKHNldFByb3RvdHlwZU9mKSB7XG4gICAgLy8gTWFrZSAnaW4nIGFuZCB0cnV0aHkgY2hlY2tzIGxpa2UgQm9vbGVhbihzZXQuY29uc3RydWN0b3IpXG4gICAgLy8gaW5kZXBlbmRlbnQgb2YgYW55IHByb3BlcnRpZXMgZGVmaW5lZCBvbiBPYmplY3QucHJvdG90eXBlLlxuICAgIC8vIFByZXZlbnQgcHJvdG90eXBlIHNldHRlcnMgZnJvbSBpbnRlcmNlcHRpbmcgc2V0IGFzIGEgdGhpcyB2YWx1ZS5cbiAgICBzZXRQcm90b3R5cGVPZihzZXQsIG51bGwpO1xuICB9XG4gIGxldCBsID0gYXJyYXkubGVuZ3RoO1xuICB3aGlsZSAobC0tKSB7XG4gICAgbGV0IGVsZW1lbnQgPSBhcnJheVtsXTtcbiAgICBpZiAodHlwZW9mIGVsZW1lbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICBjb25zdCBsY0VsZW1lbnQgPSB0cmFuc2Zvcm1DYXNlRnVuYyhlbGVtZW50KTtcbiAgICAgIGlmIChsY0VsZW1lbnQgIT09IGVsZW1lbnQpIHtcbiAgICAgICAgLy8gQ29uZmlnIHByZXNldHMgKGUuZy4gdGFncy5qcywgYXR0cnMuanMpIGFyZSBpbW11dGFibGUuXG4gICAgICAgIGlmICghaXNGcm96ZW4oYXJyYXkpKSB7XG4gICAgICAgICAgYXJyYXlbbF0gPSBsY0VsZW1lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxlbWVudCA9IGxjRWxlbWVudDtcbiAgICAgIH1cbiAgICB9XG4gICAgc2V0W2VsZW1lbnRdID0gdHJ1ZTtcbiAgfVxuICByZXR1cm4gc2V0O1xufVxuLyoqXG4gKiBDbGVhbiB1cCBhbiBhcnJheSB0byBoYXJkZW4gYWdhaW5zdCBDU1BQXG4gKlxuICogQHBhcmFtIGFycmF5IC0gVGhlIGFycmF5IHRvIGJlIGNsZWFuZWQuXG4gKiBAcmV0dXJucyBUaGUgY2xlYW5lZCB2ZXJzaW9uIG9mIHRoZSBhcnJheVxuICovXG5mdW5jdGlvbiBjbGVhbkFycmF5KGFycmF5KSB7XG4gIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBhcnJheS5sZW5ndGg7IGluZGV4KyspIHtcbiAgICBjb25zdCBpc1Byb3BlcnR5RXhpc3QgPSBvYmplY3RIYXNPd25Qcm9wZXJ0eShhcnJheSwgaW5kZXgpO1xuICAgIGlmICghaXNQcm9wZXJ0eUV4aXN0KSB7XG4gICAgICBhcnJheVtpbmRleF0gPSBudWxsO1xuICAgIH1cbiAgfVxuICByZXR1cm4gYXJyYXk7XG59XG4vKipcbiAqIFNoYWxsb3cgY2xvbmUgYW4gb2JqZWN0XG4gKlxuICogQHBhcmFtIG9iamVjdCAtIFRoZSBvYmplY3QgdG8gYmUgY2xvbmVkLlxuICogQHJldHVybnMgQSBuZXcgb2JqZWN0IHRoYXQgY29waWVzIHRoZSBvcmlnaW5hbC5cbiAqL1xuZnVuY3Rpb24gY2xvbmUob2JqZWN0KSB7XG4gIGNvbnN0IG5ld09iamVjdCA9IGNyZWF0ZShudWxsKTtcbiAgZm9yIChjb25zdCBbcHJvcGVydHksIHZhbHVlXSBvZiBlbnRyaWVzKG9iamVjdCkpIHtcbiAgICBjb25zdCBpc1Byb3BlcnR5RXhpc3QgPSBvYmplY3RIYXNPd25Qcm9wZXJ0eShvYmplY3QsIHByb3BlcnR5KTtcbiAgICBpZiAoaXNQcm9wZXJ0eUV4aXN0KSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgbmV3T2JqZWN0W3Byb3BlcnR5XSA9IGNsZWFuQXJyYXkodmFsdWUpO1xuICAgICAgfSBlbHNlIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlLmNvbnN0cnVjdG9yID09PSBPYmplY3QpIHtcbiAgICAgICAgbmV3T2JqZWN0W3Byb3BlcnR5XSA9IGNsb25lKHZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5ld09iamVjdFtwcm9wZXJ0eV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIG5ld09iamVjdDtcbn1cbi8qKlxuICogVGhpcyBtZXRob2QgYXV0b21hdGljYWxseSBjaGVja3MgaWYgdGhlIHByb3AgaXMgZnVuY3Rpb24gb3IgZ2V0dGVyIGFuZCBiZWhhdmVzIGFjY29yZGluZ2x5LlxuICpcbiAqIEBwYXJhbSBvYmplY3QgLSBUaGUgb2JqZWN0IHRvIGxvb2sgdXAgdGhlIGdldHRlciBmdW5jdGlvbiBpbiBpdHMgcHJvdG90eXBlIGNoYWluLlxuICogQHBhcmFtIHByb3AgLSBUaGUgcHJvcGVydHkgbmFtZSBmb3Igd2hpY2ggdG8gZmluZCB0aGUgZ2V0dGVyIGZ1bmN0aW9uLlxuICogQHJldHVybnMgVGhlIGdldHRlciBmdW5jdGlvbiBmb3VuZCBpbiB0aGUgcHJvdG90eXBlIGNoYWluIG9yIGEgZmFsbGJhY2sgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGxvb2t1cEdldHRlcihvYmplY3QsIHByb3ApIHtcbiAgd2hpbGUgKG9iamVjdCAhPT0gbnVsbCkge1xuICAgIGNvbnN0IGRlc2MgPSBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBwcm9wKTtcbiAgICBpZiAoZGVzYykge1xuICAgICAgaWYgKGRlc2MuZ2V0KSB7XG4gICAgICAgIHJldHVybiB1bmFwcGx5KGRlc2MuZ2V0KTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgZGVzYy52YWx1ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gdW5hcHBseShkZXNjLnZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgb2JqZWN0ID0gZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTtcbiAgfVxuICBmdW5jdGlvbiBmYWxsYmFja1ZhbHVlKCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiBmYWxsYmFja1ZhbHVlO1xufVxuXG5jb25zdCBodG1sJDEgPSBmcmVlemUoWydhJywgJ2FiYnInLCAnYWNyb255bScsICdhZGRyZXNzJywgJ2FyZWEnLCAnYXJ0aWNsZScsICdhc2lkZScsICdhdWRpbycsICdiJywgJ2JkaScsICdiZG8nLCAnYmlnJywgJ2JsaW5rJywgJ2Jsb2NrcXVvdGUnLCAnYm9keScsICdicicsICdidXR0b24nLCAnY2FudmFzJywgJ2NhcHRpb24nLCAnY2VudGVyJywgJ2NpdGUnLCAnY29kZScsICdjb2wnLCAnY29sZ3JvdXAnLCAnY29udGVudCcsICdkYXRhJywgJ2RhdGFsaXN0JywgJ2RkJywgJ2RlY29yYXRvcicsICdkZWwnLCAnZGV0YWlscycsICdkZm4nLCAnZGlhbG9nJywgJ2RpcicsICdkaXYnLCAnZGwnLCAnZHQnLCAnZWxlbWVudCcsICdlbScsICdmaWVsZHNldCcsICdmaWdjYXB0aW9uJywgJ2ZpZ3VyZScsICdmb250JywgJ2Zvb3RlcicsICdmb3JtJywgJ2gxJywgJ2gyJywgJ2gzJywgJ2g0JywgJ2g1JywgJ2g2JywgJ2hlYWQnLCAnaGVhZGVyJywgJ2hncm91cCcsICdocicsICdodG1sJywgJ2knLCAnaW1nJywgJ2lucHV0JywgJ2lucycsICdrYmQnLCAnbGFiZWwnLCAnbGVnZW5kJywgJ2xpJywgJ21haW4nLCAnbWFwJywgJ21hcmsnLCAnbWFycXVlZScsICdtZW51JywgJ21lbnVpdGVtJywgJ21ldGVyJywgJ25hdicsICdub2JyJywgJ29sJywgJ29wdGdyb3VwJywgJ29wdGlvbicsICdvdXRwdXQnLCAncCcsICdwaWN0dXJlJywgJ3ByZScsICdwcm9ncmVzcycsICdxJywgJ3JwJywgJ3J0JywgJ3J1YnknLCAncycsICdzYW1wJywgJ3NlYXJjaCcsICdzZWN0aW9uJywgJ3NlbGVjdCcsICdzaGFkb3cnLCAnc2xvdCcsICdzbWFsbCcsICdzb3VyY2UnLCAnc3BhY2VyJywgJ3NwYW4nLCAnc3RyaWtlJywgJ3N0cm9uZycsICdzdHlsZScsICdzdWInLCAnc3VtbWFyeScsICdzdXAnLCAndGFibGUnLCAndGJvZHknLCAndGQnLCAndGVtcGxhdGUnLCAndGV4dGFyZWEnLCAndGZvb3QnLCAndGgnLCAndGhlYWQnLCAndGltZScsICd0cicsICd0cmFjaycsICd0dCcsICd1JywgJ3VsJywgJ3ZhcicsICd2aWRlbycsICd3YnInXSk7XG5jb25zdCBzdmckMSA9IGZyZWV6ZShbJ3N2ZycsICdhJywgJ2FsdGdseXBoJywgJ2FsdGdseXBoZGVmJywgJ2FsdGdseXBoaXRlbScsICdhbmltYXRlY29sb3InLCAnYW5pbWF0ZW1vdGlvbicsICdhbmltYXRldHJhbnNmb3JtJywgJ2NpcmNsZScsICdjbGlwcGF0aCcsICdkZWZzJywgJ2Rlc2MnLCAnZWxsaXBzZScsICdlbnRlcmtleWhpbnQnLCAnZXhwb3J0cGFydHMnLCAnZmlsdGVyJywgJ2ZvbnQnLCAnZycsICdnbHlwaCcsICdnbHlwaHJlZicsICdoa2VybicsICdpbWFnZScsICdpbnB1dG1vZGUnLCAnbGluZScsICdsaW5lYXJncmFkaWVudCcsICdtYXJrZXInLCAnbWFzaycsICdtZXRhZGF0YScsICdtcGF0aCcsICdwYXJ0JywgJ3BhdGgnLCAncGF0dGVybicsICdwb2x5Z29uJywgJ3BvbHlsaW5lJywgJ3JhZGlhbGdyYWRpZW50JywgJ3JlY3QnLCAnc3RvcCcsICdzdHlsZScsICdzd2l0Y2gnLCAnc3ltYm9sJywgJ3RleHQnLCAndGV4dHBhdGgnLCAndGl0bGUnLCAndHJlZicsICd0c3BhbicsICd2aWV3JywgJ3ZrZXJuJ10pO1xuY29uc3Qgc3ZnRmlsdGVycyA9IGZyZWV6ZShbJ2ZlQmxlbmQnLCAnZmVDb2xvck1hdHJpeCcsICdmZUNvbXBvbmVudFRyYW5zZmVyJywgJ2ZlQ29tcG9zaXRlJywgJ2ZlQ29udm9sdmVNYXRyaXgnLCAnZmVEaWZmdXNlTGlnaHRpbmcnLCAnZmVEaXNwbGFjZW1lbnRNYXAnLCAnZmVEaXN0YW50TGlnaHQnLCAnZmVEcm9wU2hhZG93JywgJ2ZlRmxvb2QnLCAnZmVGdW5jQScsICdmZUZ1bmNCJywgJ2ZlRnVuY0cnLCAnZmVGdW5jUicsICdmZUdhdXNzaWFuQmx1cicsICdmZUltYWdlJywgJ2ZlTWVyZ2UnLCAnZmVNZXJnZU5vZGUnLCAnZmVNb3JwaG9sb2d5JywgJ2ZlT2Zmc2V0JywgJ2ZlUG9pbnRMaWdodCcsICdmZVNwZWN1bGFyTGlnaHRpbmcnLCAnZmVTcG90TGlnaHQnLCAnZmVUaWxlJywgJ2ZlVHVyYnVsZW5jZSddKTtcbi8vIExpc3Qgb2YgU1ZHIGVsZW1lbnRzIHRoYXQgYXJlIGRpc2FsbG93ZWQgYnkgZGVmYXVsdC5cbi8vIFdlIHN0aWxsIG5lZWQgdG8ga25vdyB0aGVtIHNvIHRoYXQgd2UgY2FuIGRvIG5hbWVzcGFjZVxuLy8gY2hlY2tzIHByb3Blcmx5IGluIGNhc2Ugb25lIHdhbnRzIHRvIGFkZCB0aGVtIHRvXG4vLyBhbGxvdy1saXN0LlxuY29uc3Qgc3ZnRGlzYWxsb3dlZCA9IGZyZWV6ZShbJ2FuaW1hdGUnLCAnY29sb3ItcHJvZmlsZScsICdjdXJzb3InLCAnZGlzY2FyZCcsICdmb250LWZhY2UnLCAnZm9udC1mYWNlLWZvcm1hdCcsICdmb250LWZhY2UtbmFtZScsICdmb250LWZhY2Utc3JjJywgJ2ZvbnQtZmFjZS11cmknLCAnZm9yZWlnbm9iamVjdCcsICdoYXRjaCcsICdoYXRjaHBhdGgnLCAnbWVzaCcsICdtZXNoZ3JhZGllbnQnLCAnbWVzaHBhdGNoJywgJ21lc2hyb3cnLCAnbWlzc2luZy1nbHlwaCcsICdzY3JpcHQnLCAnc2V0JywgJ3NvbGlkY29sb3InLCAndW5rbm93bicsICd1c2UnXSk7XG5jb25zdCBtYXRoTWwkMSA9IGZyZWV6ZShbJ21hdGgnLCAnbWVuY2xvc2UnLCAnbWVycm9yJywgJ21mZW5jZWQnLCAnbWZyYWMnLCAnbWdseXBoJywgJ21pJywgJ21sYWJlbGVkdHInLCAnbW11bHRpc2NyaXB0cycsICdtbicsICdtbycsICdtb3ZlcicsICdtcGFkZGVkJywgJ21waGFudG9tJywgJ21yb290JywgJ21yb3cnLCAnbXMnLCAnbXNwYWNlJywgJ21zcXJ0JywgJ21zdHlsZScsICdtc3ViJywgJ21zdXAnLCAnbXN1YnN1cCcsICdtdGFibGUnLCAnbXRkJywgJ210ZXh0JywgJ210cicsICdtdW5kZXInLCAnbXVuZGVyb3ZlcicsICdtcHJlc2NyaXB0cyddKTtcbi8vIFNpbWlsYXJseSB0byBTVkcsIHdlIHdhbnQgdG8ga25vdyBhbGwgTWF0aE1MIGVsZW1lbnRzLFxuLy8gZXZlbiB0aG9zZSB0aGF0IHdlIGRpc2FsbG93IGJ5IGRlZmF1bHQuXG5jb25zdCBtYXRoTWxEaXNhbGxvd2VkID0gZnJlZXplKFsnbWFjdGlvbicsICdtYWxpZ25ncm91cCcsICdtYWxpZ25tYXJrJywgJ21sb25nZGl2JywgJ21zY2FycmllcycsICdtc2NhcnJ5JywgJ21zZ3JvdXAnLCAnbXN0YWNrJywgJ21zbGluZScsICdtc3JvdycsICdzZW1hbnRpY3MnLCAnYW5ub3RhdGlvbicsICdhbm5vdGF0aW9uLXhtbCcsICdtcHJlc2NyaXB0cycsICdub25lJ10pO1xuY29uc3QgdGV4dCA9IGZyZWV6ZShbJyN0ZXh0J10pO1xuXG5jb25zdCBodG1sID0gZnJlZXplKFsnYWNjZXB0JywgJ2FjdGlvbicsICdhbGlnbicsICdhbHQnLCAnYXV0b2NhcGl0YWxpemUnLCAnYXV0b2NvbXBsZXRlJywgJ2F1dG9waWN0dXJlaW5waWN0dXJlJywgJ2F1dG9wbGF5JywgJ2JhY2tncm91bmQnLCAnYmdjb2xvcicsICdib3JkZXInLCAnY2FwdHVyZScsICdjZWxscGFkZGluZycsICdjZWxsc3BhY2luZycsICdjaGVja2VkJywgJ2NpdGUnLCAnY2xhc3MnLCAnY2xlYXInLCAnY29sb3InLCAnY29scycsICdjb2xzcGFuJywgJ2NvbnRyb2xzJywgJ2NvbnRyb2xzbGlzdCcsICdjb29yZHMnLCAnY3Jvc3NvcmlnaW4nLCAnZGF0ZXRpbWUnLCAnZGVjb2RpbmcnLCAnZGVmYXVsdCcsICdkaXInLCAnZGlzYWJsZWQnLCAnZGlzYWJsZXBpY3R1cmVpbnBpY3R1cmUnLCAnZGlzYWJsZXJlbW90ZXBsYXliYWNrJywgJ2Rvd25sb2FkJywgJ2RyYWdnYWJsZScsICdlbmN0eXBlJywgJ2VudGVya2V5aGludCcsICdleHBvcnRwYXJ0cycsICdmYWNlJywgJ2ZvcicsICdoZWFkZXJzJywgJ2hlaWdodCcsICdoaWRkZW4nLCAnaGlnaCcsICdocmVmJywgJ2hyZWZsYW5nJywgJ2lkJywgJ2luZXJ0JywgJ2lucHV0bW9kZScsICdpbnRlZ3JpdHknLCAnaXNtYXAnLCAna2luZCcsICdsYWJlbCcsICdsYW5nJywgJ2xpc3QnLCAnbG9hZGluZycsICdsb29wJywgJ2xvdycsICdtYXgnLCAnbWF4bGVuZ3RoJywgJ21lZGlhJywgJ21ldGhvZCcsICdtaW4nLCAnbWlubGVuZ3RoJywgJ211bHRpcGxlJywgJ211dGVkJywgJ25hbWUnLCAnbm9uY2UnLCAnbm9zaGFkZScsICdub3ZhbGlkYXRlJywgJ25vd3JhcCcsICdvcGVuJywgJ29wdGltdW0nLCAncGFydCcsICdwYXR0ZXJuJywgJ3BsYWNlaG9sZGVyJywgJ3BsYXlzaW5saW5lJywgJ3BvcG92ZXInLCAncG9wb3ZlcnRhcmdldCcsICdwb3BvdmVydGFyZ2V0YWN0aW9uJywgJ3Bvc3RlcicsICdwcmVsb2FkJywgJ3B1YmRhdGUnLCAncmFkaW9ncm91cCcsICdyZWFkb25seScsICdyZWwnLCAncmVxdWlyZWQnLCAncmV2JywgJ3JldmVyc2VkJywgJ3JvbGUnLCAncm93cycsICdyb3dzcGFuJywgJ3NwZWxsY2hlY2snLCAnc2NvcGUnLCAnc2VsZWN0ZWQnLCAnc2hhcGUnLCAnc2l6ZScsICdzaXplcycsICdzbG90JywgJ3NwYW4nLCAnc3JjbGFuZycsICdzdGFydCcsICdzcmMnLCAnc3Jjc2V0JywgJ3N0ZXAnLCAnc3R5bGUnLCAnc3VtbWFyeScsICd0YWJpbmRleCcsICd0aXRsZScsICd0cmFuc2xhdGUnLCAndHlwZScsICd1c2VtYXAnLCAndmFsaWduJywgJ3ZhbHVlJywgJ3dpZHRoJywgJ3dyYXAnLCAneG1sbnMnLCAnc2xvdCddKTtcbmNvbnN0IHN2ZyA9IGZyZWV6ZShbJ2FjY2VudC1oZWlnaHQnLCAnYWNjdW11bGF0ZScsICdhZGRpdGl2ZScsICdhbGlnbm1lbnQtYmFzZWxpbmUnLCAnYW1wbGl0dWRlJywgJ2FzY2VudCcsICdhdHRyaWJ1dGVuYW1lJywgJ2F0dHJpYnV0ZXR5cGUnLCAnYXppbXV0aCcsICdiYXNlZnJlcXVlbmN5JywgJ2Jhc2VsaW5lLXNoaWZ0JywgJ2JlZ2luJywgJ2JpYXMnLCAnYnknLCAnY2xhc3MnLCAnY2xpcCcsICdjbGlwcGF0aHVuaXRzJywgJ2NsaXAtcGF0aCcsICdjbGlwLXJ1bGUnLCAnY29sb3InLCAnY29sb3ItaW50ZXJwb2xhdGlvbicsICdjb2xvci1pbnRlcnBvbGF0aW9uLWZpbHRlcnMnLCAnY29sb3ItcHJvZmlsZScsICdjb2xvci1yZW5kZXJpbmcnLCAnY3gnLCAnY3knLCAnZCcsICdkeCcsICdkeScsICdkaWZmdXNlY29uc3RhbnQnLCAnZGlyZWN0aW9uJywgJ2Rpc3BsYXknLCAnZGl2aXNvcicsICdkdXInLCAnZWRnZW1vZGUnLCAnZWxldmF0aW9uJywgJ2VuZCcsICdleHBvbmVudCcsICdmaWxsJywgJ2ZpbGwtb3BhY2l0eScsICdmaWxsLXJ1bGUnLCAnZmlsdGVyJywgJ2ZpbHRlcnVuaXRzJywgJ2Zsb29kLWNvbG9yJywgJ2Zsb29kLW9wYWNpdHknLCAnZm9udC1mYW1pbHknLCAnZm9udC1zaXplJywgJ2ZvbnQtc2l6ZS1hZGp1c3QnLCAnZm9udC1zdHJldGNoJywgJ2ZvbnQtc3R5bGUnLCAnZm9udC12YXJpYW50JywgJ2ZvbnQtd2VpZ2h0JywgJ2Z4JywgJ2Z5JywgJ2cxJywgJ2cyJywgJ2dseXBoLW5hbWUnLCAnZ2x5cGhyZWYnLCAnZ3JhZGllbnR1bml0cycsICdncmFkaWVudHRyYW5zZm9ybScsICdoZWlnaHQnLCAnaHJlZicsICdpZCcsICdpbWFnZS1yZW5kZXJpbmcnLCAnaW4nLCAnaW4yJywgJ2ludGVyY2VwdCcsICdrJywgJ2sxJywgJ2syJywgJ2szJywgJ2s0JywgJ2tlcm5pbmcnLCAna2V5cG9pbnRzJywgJ2tleXNwbGluZXMnLCAna2V5dGltZXMnLCAnbGFuZycsICdsZW5ndGhhZGp1c3QnLCAnbGV0dGVyLXNwYWNpbmcnLCAna2VybmVsbWF0cml4JywgJ2tlcm5lbHVuaXRsZW5ndGgnLCAnbGlnaHRpbmctY29sb3InLCAnbG9jYWwnLCAnbWFya2VyLWVuZCcsICdtYXJrZXItbWlkJywgJ21hcmtlci1zdGFydCcsICdtYXJrZXJoZWlnaHQnLCAnbWFya2VydW5pdHMnLCAnbWFya2Vyd2lkdGgnLCAnbWFza2NvbnRlbnR1bml0cycsICdtYXNrdW5pdHMnLCAnbWF4JywgJ21hc2snLCAnbWFzay10eXBlJywgJ21lZGlhJywgJ21ldGhvZCcsICdtb2RlJywgJ21pbicsICduYW1lJywgJ251bW9jdGF2ZXMnLCAnb2Zmc2V0JywgJ29wZXJhdG9yJywgJ29wYWNpdHknLCAnb3JkZXInLCAnb3JpZW50JywgJ29yaWVudGF0aW9uJywgJ29yaWdpbicsICdvdmVyZmxvdycsICdwYWludC1vcmRlcicsICdwYXRoJywgJ3BhdGhsZW5ndGgnLCAncGF0dGVybmNvbnRlbnR1bml0cycsICdwYXR0ZXJudHJhbnNmb3JtJywgJ3BhdHRlcm51bml0cycsICdwb2ludHMnLCAncHJlc2VydmVhbHBoYScsICdwcmVzZXJ2ZWFzcGVjdHJhdGlvJywgJ3ByaW1pdGl2ZXVuaXRzJywgJ3InLCAncngnLCAncnknLCAncmFkaXVzJywgJ3JlZngnLCAncmVmeScsICdyZXBlYXRjb3VudCcsICdyZXBlYXRkdXInLCAncmVzdGFydCcsICdyZXN1bHQnLCAncm90YXRlJywgJ3NjYWxlJywgJ3NlZWQnLCAnc2hhcGUtcmVuZGVyaW5nJywgJ3Nsb3BlJywgJ3NwZWN1bGFyY29uc3RhbnQnLCAnc3BlY3VsYXJleHBvbmVudCcsICdzcHJlYWRtZXRob2QnLCAnc3RhcnRvZmZzZXQnLCAnc3RkZGV2aWF0aW9uJywgJ3N0aXRjaHRpbGVzJywgJ3N0b3AtY29sb3InLCAnc3RvcC1vcGFjaXR5JywgJ3N0cm9rZS1kYXNoYXJyYXknLCAnc3Ryb2tlLWRhc2hvZmZzZXQnLCAnc3Ryb2tlLWxpbmVjYXAnLCAnc3Ryb2tlLWxpbmVqb2luJywgJ3N0cm9rZS1taXRlcmxpbWl0JywgJ3N0cm9rZS1vcGFjaXR5JywgJ3N0cm9rZScsICdzdHJva2Utd2lkdGgnLCAnc3R5bGUnLCAnc3VyZmFjZXNjYWxlJywgJ3N5c3RlbWxhbmd1YWdlJywgJ3RhYmluZGV4JywgJ3RhYmxldmFsdWVzJywgJ3RhcmdldHgnLCAndGFyZ2V0eScsICd0cmFuc2Zvcm0nLCAndHJhbnNmb3JtLW9yaWdpbicsICd0ZXh0LWFuY2hvcicsICd0ZXh0LWRlY29yYXRpb24nLCAndGV4dC1yZW5kZXJpbmcnLCAndGV4dGxlbmd0aCcsICd0eXBlJywgJ3UxJywgJ3UyJywgJ3VuaWNvZGUnLCAndmFsdWVzJywgJ3ZpZXdib3gnLCAndmlzaWJpbGl0eScsICd2ZXJzaW9uJywgJ3ZlcnQtYWR2LXknLCAndmVydC1vcmlnaW4teCcsICd2ZXJ0LW9yaWdpbi15JywgJ3dpZHRoJywgJ3dvcmQtc3BhY2luZycsICd3cmFwJywgJ3dyaXRpbmctbW9kZScsICd4Y2hhbm5lbHNlbGVjdG9yJywgJ3ljaGFubmVsc2VsZWN0b3InLCAneCcsICd4MScsICd4MicsICd4bWxucycsICd5JywgJ3kxJywgJ3kyJywgJ3onLCAnem9vbWFuZHBhbiddKTtcbmNvbnN0IG1hdGhNbCA9IGZyZWV6ZShbJ2FjY2VudCcsICdhY2NlbnR1bmRlcicsICdhbGlnbicsICdiZXZlbGxlZCcsICdjbG9zZScsICdjb2x1bW5zYWxpZ24nLCAnY29sdW1ubGluZXMnLCAnY29sdW1uc3BhbicsICdkZW5vbWFsaWduJywgJ2RlcHRoJywgJ2RpcicsICdkaXNwbGF5JywgJ2Rpc3BsYXlzdHlsZScsICdlbmNvZGluZycsICdmZW5jZScsICdmcmFtZScsICdoZWlnaHQnLCAnaHJlZicsICdpZCcsICdsYXJnZW9wJywgJ2xlbmd0aCcsICdsaW5ldGhpY2tuZXNzJywgJ2xzcGFjZScsICdscXVvdGUnLCAnbWF0aGJhY2tncm91bmQnLCAnbWF0aGNvbG9yJywgJ21hdGhzaXplJywgJ21hdGh2YXJpYW50JywgJ21heHNpemUnLCAnbWluc2l6ZScsICdtb3ZhYmxlbGltaXRzJywgJ25vdGF0aW9uJywgJ251bWFsaWduJywgJ29wZW4nLCAncm93YWxpZ24nLCAncm93bGluZXMnLCAncm93c3BhY2luZycsICdyb3dzcGFuJywgJ3JzcGFjZScsICdycXVvdGUnLCAnc2NyaXB0bGV2ZWwnLCAnc2NyaXB0bWluc2l6ZScsICdzY3JpcHRzaXplbXVsdGlwbGllcicsICdzZWxlY3Rpb24nLCAnc2VwYXJhdG9yJywgJ3NlcGFyYXRvcnMnLCAnc3RyZXRjaHknLCAnc3Vic2NyaXB0c2hpZnQnLCAnc3Vwc2NyaXB0c2hpZnQnLCAnc3ltbWV0cmljJywgJ3ZvZmZzZXQnLCAnd2lkdGgnLCAneG1sbnMnXSk7XG5jb25zdCB4bWwgPSBmcmVlemUoWyd4bGluazpocmVmJywgJ3htbDppZCcsICd4bGluazp0aXRsZScsICd4bWw6c3BhY2UnLCAneG1sbnM6eGxpbmsnXSk7XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSB1bmljb3JuL2JldHRlci1yZWdleFxuY29uc3QgTVVTVEFDSEVfRVhQUiA9IHNlYWwoL1xce1xce1tcXHdcXFddKnxbXFx3XFxXXSpcXH1cXH0vZ20pOyAvLyBTcGVjaWZ5IHRlbXBsYXRlIGRldGVjdGlvbiByZWdleCBmb3IgU0FGRV9GT1JfVEVNUExBVEVTIG1vZGVcbmNvbnN0IEVSQl9FWFBSID0gc2VhbCgvPCVbXFx3XFxXXSp8W1xcd1xcV10qJT4vZ20pO1xuY29uc3QgVE1QTElUX0VYUFIgPSBzZWFsKC9cXCRcXHtbXFx3XFxXXSovZ20pOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHVuaWNvcm4vYmV0dGVyLXJlZ2V4XG5jb25zdCBEQVRBX0FUVFIgPSBzZWFsKC9eZGF0YS1bXFwtXFx3LlxcdTAwQjctXFx1RkZGRl0rJC8pOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVzZWxlc3MtZXNjYXBlXG5jb25zdCBBUklBX0FUVFIgPSBzZWFsKC9eYXJpYS1bXFwtXFx3XSskLyk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdXNlbGVzcy1lc2NhcGVcbmNvbnN0IElTX0FMTE9XRURfVVJJID0gc2VhbCgvXig/Oig/Oig/OmZ8aHQpdHBzP3xtYWlsdG98dGVsfGNhbGx0b3xzbXN8Y2lkfHhtcHB8bWF0cml4KTp8W15hLXpdfFthLXorLlxcLV0rKD86W15hLXorLlxcLTpdfCQpKS9pIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdXNlbGVzcy1lc2NhcGVcbik7XG5jb25zdCBJU19TQ1JJUFRfT1JfREFUQSA9IHNlYWwoL14oPzpcXHcrc2NyaXB0fGRhdGEpOi9pKTtcbmNvbnN0IEFUVFJfV0hJVEVTUEFDRSA9IHNlYWwoL1tcXHUwMDAwLVxcdTAwMjBcXHUwMEEwXFx1MTY4MFxcdTE4MEVcXHUyMDAwLVxcdTIwMjlcXHUyMDVGXFx1MzAwMF0vZyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnRyb2wtcmVnZXhcbik7XG5jb25zdCBET0NUWVBFX05BTUUgPSBzZWFsKC9eaHRtbCQvaSk7XG5jb25zdCBDVVNUT01fRUxFTUVOVCA9IHNlYWwoL15bYS16XVsuXFx3XSooLVsuXFx3XSspKyQvaSk7XG5cbnZhciBFWFBSRVNTSU9OUyA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHtcbiAgX19wcm90b19fOiBudWxsLFxuICBBUklBX0FUVFI6IEFSSUFfQVRUUixcbiAgQVRUUl9XSElURVNQQUNFOiBBVFRSX1dISVRFU1BBQ0UsXG4gIENVU1RPTV9FTEVNRU5UOiBDVVNUT01fRUxFTUVOVCxcbiAgREFUQV9BVFRSOiBEQVRBX0FUVFIsXG4gIERPQ1RZUEVfTkFNRTogRE9DVFlQRV9OQU1FLFxuICBFUkJfRVhQUjogRVJCX0VYUFIsXG4gIElTX0FMTE9XRURfVVJJOiBJU19BTExPV0VEX1VSSSxcbiAgSVNfU0NSSVBUX09SX0RBVEE6IElTX1NDUklQVF9PUl9EQVRBLFxuICBNVVNUQUNIRV9FWFBSOiBNVVNUQUNIRV9FWFBSLFxuICBUTVBMSVRfRVhQUjogVE1QTElUX0VYUFJcbn0pO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvaW5kZW50ICovXG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvTm9kZS9ub2RlVHlwZVxuY29uc3QgTk9ERV9UWVBFID0ge1xuICBlbGVtZW50OiAxLFxuICBhdHRyaWJ1dGU6IDIsXG4gIHRleHQ6IDMsXG4gIGNkYXRhU2VjdGlvbjogNCxcbiAgZW50aXR5UmVmZXJlbmNlOiA1LFxuICAvLyBEZXByZWNhdGVkXG4gIGVudGl0eU5vZGU6IDYsXG4gIC8vIERlcHJlY2F0ZWRcbiAgcHJvZ3Jlc3NpbmdJbnN0cnVjdGlvbjogNyxcbiAgY29tbWVudDogOCxcbiAgZG9jdW1lbnQ6IDksXG4gIGRvY3VtZW50VHlwZTogMTAsXG4gIGRvY3VtZW50RnJhZ21lbnQ6IDExLFxuICBub3RhdGlvbjogMTIgLy8gRGVwcmVjYXRlZFxufTtcbmNvbnN0IGdldEdsb2JhbCA9IGZ1bmN0aW9uIGdldEdsb2JhbCgpIHtcbiAgcmV0dXJuIHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnID8gbnVsbCA6IHdpbmRvdztcbn07XG4vKipcbiAqIENyZWF0ZXMgYSBuby1vcCBwb2xpY3kgZm9yIGludGVybmFsIHVzZSBvbmx5LlxuICogRG9uJ3QgZXhwb3J0IHRoaXMgZnVuY3Rpb24gb3V0c2lkZSB0aGlzIG1vZHVsZSFcbiAqIEBwYXJhbSB0cnVzdGVkVHlwZXMgVGhlIHBvbGljeSBmYWN0b3J5LlxuICogQHBhcmFtIHB1cmlmeUhvc3RFbGVtZW50IFRoZSBTY3JpcHQgZWxlbWVudCB1c2VkIHRvIGxvYWQgRE9NUHVyaWZ5ICh0byBkZXRlcm1pbmUgcG9saWN5IG5hbWUgc3VmZml4KS5cbiAqIEByZXR1cm4gVGhlIHBvbGljeSBjcmVhdGVkIChvciBudWxsLCBpZiBUcnVzdGVkIFR5cGVzXG4gKiBhcmUgbm90IHN1cHBvcnRlZCBvciBjcmVhdGluZyB0aGUgcG9saWN5IGZhaWxlZCkuXG4gKi9cbmNvbnN0IF9jcmVhdGVUcnVzdGVkVHlwZXNQb2xpY3kgPSBmdW5jdGlvbiBfY3JlYXRlVHJ1c3RlZFR5cGVzUG9saWN5KHRydXN0ZWRUeXBlcywgcHVyaWZ5SG9zdEVsZW1lbnQpIHtcbiAgaWYgKHR5cGVvZiB0cnVzdGVkVHlwZXMgIT09ICdvYmplY3QnIHx8IHR5cGVvZiB0cnVzdGVkVHlwZXMuY3JlYXRlUG9saWN5ICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgLy8gQWxsb3cgdGhlIGNhbGxlcnMgdG8gY29udHJvbCB0aGUgdW5pcXVlIHBvbGljeSBuYW1lXG4gIC8vIGJ5IGFkZGluZyBhIGRhdGEtdHQtcG9saWN5LXN1ZmZpeCB0byB0aGUgc2NyaXB0IGVsZW1lbnQgd2l0aCB0aGUgRE9NUHVyaWZ5LlxuICAvLyBQb2xpY3kgY3JlYXRpb24gd2l0aCBkdXBsaWNhdGUgbmFtZXMgdGhyb3dzIGluIFRydXN0ZWQgVHlwZXMuXG4gIGxldCBzdWZmaXggPSBudWxsO1xuICBjb25zdCBBVFRSX05BTUUgPSAnZGF0YS10dC1wb2xpY3ktc3VmZml4JztcbiAgaWYgKHB1cmlmeUhvc3RFbGVtZW50ICYmIHB1cmlmeUhvc3RFbGVtZW50Lmhhc0F0dHJpYnV0ZShBVFRSX05BTUUpKSB7XG4gICAgc3VmZml4ID0gcHVyaWZ5SG9zdEVsZW1lbnQuZ2V0QXR0cmlidXRlKEFUVFJfTkFNRSk7XG4gIH1cbiAgY29uc3QgcG9saWN5TmFtZSA9ICdkb21wdXJpZnknICsgKHN1ZmZpeCA/ICcjJyArIHN1ZmZpeCA6ICcnKTtcbiAgdHJ5IHtcbiAgICByZXR1cm4gdHJ1c3RlZFR5cGVzLmNyZWF0ZVBvbGljeShwb2xpY3lOYW1lLCB7XG4gICAgICBjcmVhdGVIVE1MKGh0bWwpIHtcbiAgICAgICAgcmV0dXJuIGh0bWw7XG4gICAgICB9LFxuICAgICAgY3JlYXRlU2NyaXB0VVJMKHNjcmlwdFVybCkge1xuICAgICAgICByZXR1cm4gc2NyaXB0VXJsO1xuICAgICAgfVxuICAgIH0pO1xuICB9IGNhdGNoIChfKSB7XG4gICAgLy8gUG9saWN5IGNyZWF0aW9uIGZhaWxlZCAobW9zdCBsaWtlbHkgYW5vdGhlciBET01QdXJpZnkgc2NyaXB0IGhhc1xuICAgIC8vIGFscmVhZHkgcnVuKS4gU2tpcCBjcmVhdGluZyB0aGUgcG9saWN5LCBhcyB0aGlzIHdpbGwgb25seSBjYXVzZSBlcnJvcnNcbiAgICAvLyBpZiBUVCBhcmUgZW5mb3JjZWQuXG4gICAgY29uc29sZS53YXJuKCdUcnVzdGVkVHlwZXMgcG9saWN5ICcgKyBwb2xpY3lOYW1lICsgJyBjb3VsZCBub3QgYmUgY3JlYXRlZC4nKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufTtcbmNvbnN0IF9jcmVhdGVIb29rc01hcCA9IGZ1bmN0aW9uIF9jcmVhdGVIb29rc01hcCgpIHtcbiAgcmV0dXJuIHtcbiAgICBhZnRlclNhbml0aXplQXR0cmlidXRlczogW10sXG4gICAgYWZ0ZXJTYW5pdGl6ZUVsZW1lbnRzOiBbXSxcbiAgICBhZnRlclNhbml0aXplU2hhZG93RE9NOiBbXSxcbiAgICBiZWZvcmVTYW5pdGl6ZUF0dHJpYnV0ZXM6IFtdLFxuICAgIGJlZm9yZVNhbml0aXplRWxlbWVudHM6IFtdLFxuICAgIGJlZm9yZVNhbml0aXplU2hhZG93RE9NOiBbXSxcbiAgICB1cG9uU2FuaXRpemVBdHRyaWJ1dGU6IFtdLFxuICAgIHVwb25TYW5pdGl6ZUVsZW1lbnQ6IFtdLFxuICAgIHVwb25TYW5pdGl6ZVNoYWRvd05vZGU6IFtdXG4gIH07XG59O1xuZnVuY3Rpb24gY3JlYXRlRE9NUHVyaWZ5KCkge1xuICBsZXQgd2luZG93ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBnZXRHbG9iYWwoKTtcbiAgY29uc3QgRE9NUHVyaWZ5ID0gcm9vdCA9PiBjcmVhdGVET01QdXJpZnkocm9vdCk7XG4gIERPTVB1cmlmeS52ZXJzaW9uID0gJzMuMy4xJztcbiAgRE9NUHVyaWZ5LnJlbW92ZWQgPSBbXTtcbiAgaWYgKCF3aW5kb3cgfHwgIXdpbmRvdy5kb2N1bWVudCB8fCB3aW5kb3cuZG9jdW1lbnQubm9kZVR5cGUgIT09IE5PREVfVFlQRS5kb2N1bWVudCB8fCAhd2luZG93LkVsZW1lbnQpIHtcbiAgICAvLyBOb3QgcnVubmluZyBpbiBhIGJyb3dzZXIsIHByb3ZpZGUgYSBmYWN0b3J5IGZ1bmN0aW9uXG4gICAgLy8gc28gdGhhdCB5b3UgY2FuIHBhc3MgeW91ciBvd24gV2luZG93XG4gICAgRE9NUHVyaWZ5LmlzU3VwcG9ydGVkID0gZmFsc2U7XG4gICAgcmV0dXJuIERPTVB1cmlmeTtcbiAgfVxuICBsZXQge1xuICAgIGRvY3VtZW50XG4gIH0gPSB3aW5kb3c7XG4gIGNvbnN0IG9yaWdpbmFsRG9jdW1lbnQgPSBkb2N1bWVudDtcbiAgY29uc3QgY3VycmVudFNjcmlwdCA9IG9yaWdpbmFsRG9jdW1lbnQuY3VycmVudFNjcmlwdDtcbiAgY29uc3Qge1xuICAgIERvY3VtZW50RnJhZ21lbnQsXG4gICAgSFRNTFRlbXBsYXRlRWxlbWVudCxcbiAgICBOb2RlLFxuICAgIEVsZW1lbnQsXG4gICAgTm9kZUZpbHRlcixcbiAgICBOYW1lZE5vZGVNYXAgPSB3aW5kb3cuTmFtZWROb2RlTWFwIHx8IHdpbmRvdy5Nb3pOYW1lZEF0dHJNYXAsXG4gICAgSFRNTEZvcm1FbGVtZW50LFxuICAgIERPTVBhcnNlcixcbiAgICB0cnVzdGVkVHlwZXNcbiAgfSA9IHdpbmRvdztcbiAgY29uc3QgRWxlbWVudFByb3RvdHlwZSA9IEVsZW1lbnQucHJvdG90eXBlO1xuICBjb25zdCBjbG9uZU5vZGUgPSBsb29rdXBHZXR0ZXIoRWxlbWVudFByb3RvdHlwZSwgJ2Nsb25lTm9kZScpO1xuICBjb25zdCByZW1vdmUgPSBsb29rdXBHZXR0ZXIoRWxlbWVudFByb3RvdHlwZSwgJ3JlbW92ZScpO1xuICBjb25zdCBnZXROZXh0U2libGluZyA9IGxvb2t1cEdldHRlcihFbGVtZW50UHJvdG90eXBlLCAnbmV4dFNpYmxpbmcnKTtcbiAgY29uc3QgZ2V0Q2hpbGROb2RlcyA9IGxvb2t1cEdldHRlcihFbGVtZW50UHJvdG90eXBlLCAnY2hpbGROb2RlcycpO1xuICBjb25zdCBnZXRQYXJlbnROb2RlID0gbG9va3VwR2V0dGVyKEVsZW1lbnRQcm90b3R5cGUsICdwYXJlbnROb2RlJyk7XG4gIC8vIEFzIHBlciBpc3N1ZSAjNDcsIHRoZSB3ZWItY29tcG9uZW50cyByZWdpc3RyeSBpcyBpbmhlcml0ZWQgYnkgYVxuICAvLyBuZXcgZG9jdW1lbnQgY3JlYXRlZCB2aWEgY3JlYXRlSFRNTERvY3VtZW50LiBBcyBwZXIgdGhlIHNwZWNcbiAgLy8gKGh0dHA6Ly93M2MuZ2l0aHViLmlvL3dlYmNvbXBvbmVudHMvc3BlYy9jdXN0b20vI2NyZWF0aW5nLWFuZC1wYXNzaW5nLXJlZ2lzdHJpZXMpXG4gIC8vIGEgbmV3IGVtcHR5IHJlZ2lzdHJ5IGlzIHVzZWQgd2hlbiBjcmVhdGluZyBhIHRlbXBsYXRlIGNvbnRlbnRzIG93bmVyXG4gIC8vIGRvY3VtZW50LCBzbyB3ZSB1c2UgdGhhdCBhcyBvdXIgcGFyZW50IGRvY3VtZW50IHRvIGVuc3VyZSBub3RoaW5nXG4gIC8vIGlzIGluaGVyaXRlZC5cbiAgaWYgKHR5cGVvZiBIVE1MVGVtcGxhdGVFbGVtZW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY29uc3QgdGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpO1xuICAgIGlmICh0ZW1wbGF0ZS5jb250ZW50ICYmIHRlbXBsYXRlLmNvbnRlbnQub3duZXJEb2N1bWVudCkge1xuICAgICAgZG9jdW1lbnQgPSB0ZW1wbGF0ZS5jb250ZW50Lm93bmVyRG9jdW1lbnQ7XG4gICAgfVxuICB9XG4gIGxldCB0cnVzdGVkVHlwZXNQb2xpY3k7XG4gIGxldCBlbXB0eUhUTUwgPSAnJztcbiAgY29uc3Qge1xuICAgIGltcGxlbWVudGF0aW9uLFxuICAgIGNyZWF0ZU5vZGVJdGVyYXRvcixcbiAgICBjcmVhdGVEb2N1bWVudEZyYWdtZW50LFxuICAgIGdldEVsZW1lbnRzQnlUYWdOYW1lXG4gIH0gPSBkb2N1bWVudDtcbiAgY29uc3Qge1xuICAgIGltcG9ydE5vZGVcbiAgfSA9IG9yaWdpbmFsRG9jdW1lbnQ7XG4gIGxldCBob29rcyA9IF9jcmVhdGVIb29rc01hcCgpO1xuICAvKipcbiAgICogRXhwb3NlIHdoZXRoZXIgdGhpcyBicm93c2VyIHN1cHBvcnRzIHJ1bm5pbmcgdGhlIGZ1bGwgRE9NUHVyaWZ5LlxuICAgKi9cbiAgRE9NUHVyaWZ5LmlzU3VwcG9ydGVkID0gdHlwZW9mIGVudHJpZXMgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGdldFBhcmVudE5vZGUgPT09ICdmdW5jdGlvbicgJiYgaW1wbGVtZW50YXRpb24gJiYgaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50ICE9PSB1bmRlZmluZWQ7XG4gIGNvbnN0IHtcbiAgICBNVVNUQUNIRV9FWFBSLFxuICAgIEVSQl9FWFBSLFxuICAgIFRNUExJVF9FWFBSLFxuICAgIERBVEFfQVRUUixcbiAgICBBUklBX0FUVFIsXG4gICAgSVNfU0NSSVBUX09SX0RBVEEsXG4gICAgQVRUUl9XSElURVNQQUNFLFxuICAgIENVU1RPTV9FTEVNRU5UXG4gIH0gPSBFWFBSRVNTSU9OUztcbiAgbGV0IHtcbiAgICBJU19BTExPV0VEX1VSSTogSVNfQUxMT1dFRF9VUkkkMVxuICB9ID0gRVhQUkVTU0lPTlM7XG4gIC8qKlxuICAgKiBXZSBjb25zaWRlciB0aGUgZWxlbWVudHMgYW5kIGF0dHJpYnV0ZXMgYmVsb3cgdG8gYmUgc2FmZS4gSWRlYWxseVxuICAgKiBkb24ndCBhZGQgYW55IG5ldyBvbmVzIGJ1dCBmZWVsIGZyZWUgdG8gcmVtb3ZlIHVud2FudGVkIG9uZXMuXG4gICAqL1xuICAvKiBhbGxvd2VkIGVsZW1lbnQgbmFtZXMgKi9cbiAgbGV0IEFMTE9XRURfVEFHUyA9IG51bGw7XG4gIGNvbnN0IERFRkFVTFRfQUxMT1dFRF9UQUdTID0gYWRkVG9TZXQoe30sIFsuLi5odG1sJDEsIC4uLnN2ZyQxLCAuLi5zdmdGaWx0ZXJzLCAuLi5tYXRoTWwkMSwgLi4udGV4dF0pO1xuICAvKiBBbGxvd2VkIGF0dHJpYnV0ZSBuYW1lcyAqL1xuICBsZXQgQUxMT1dFRF9BVFRSID0gbnVsbDtcbiAgY29uc3QgREVGQVVMVF9BTExPV0VEX0FUVFIgPSBhZGRUb1NldCh7fSwgWy4uLmh0bWwsIC4uLnN2ZywgLi4ubWF0aE1sLCAuLi54bWxdKTtcbiAgLypcbiAgICogQ29uZmlndXJlIGhvdyBET01QdXJpZnkgc2hvdWxkIGhhbmRsZSBjdXN0b20gZWxlbWVudHMgYW5kIHRoZWlyIGF0dHJpYnV0ZXMgYXMgd2VsbCBhcyBjdXN0b21pemVkIGJ1aWx0LWluIGVsZW1lbnRzLlxuICAgKiBAcHJvcGVydHkge1JlZ0V4cHxGdW5jdGlvbnxudWxsfSB0YWdOYW1lQ2hlY2sgb25lIG9mIFtudWxsLCByZWdleFBhdHRlcm4sIHByZWRpY2F0ZV0uIERlZmF1bHQ6IGBudWxsYCAoZGlzYWxsb3cgYW55IGN1c3RvbSBlbGVtZW50cylcbiAgICogQHByb3BlcnR5IHtSZWdFeHB8RnVuY3Rpb258bnVsbH0gYXR0cmlidXRlTmFtZUNoZWNrIG9uZSBvZiBbbnVsbCwgcmVnZXhQYXR0ZXJuLCBwcmVkaWNhdGVdLiBEZWZhdWx0OiBgbnVsbGAgKGRpc2FsbG93IGFueSBhdHRyaWJ1dGVzIG5vdCBvbiB0aGUgYWxsb3cgbGlzdClcbiAgICogQHByb3BlcnR5IHtib29sZWFufSBhbGxvd0N1c3RvbWl6ZWRCdWlsdEluRWxlbWVudHMgYWxsb3cgY3VzdG9tIGVsZW1lbnRzIGRlcml2ZWQgZnJvbSBidWlsdC1pbnMgaWYgdGhleSBwYXNzIENVU1RPTV9FTEVNRU5UX0hBTkRMSU5HLnRhZ05hbWVDaGVjay4gRGVmYXVsdDogYGZhbHNlYC5cbiAgICovXG4gIGxldCBDVVNUT01fRUxFTUVOVF9IQU5ETElORyA9IE9iamVjdC5zZWFsKGNyZWF0ZShudWxsLCB7XG4gICAgdGFnTmFtZUNoZWNrOiB7XG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IG51bGxcbiAgICB9LFxuICAgIGF0dHJpYnV0ZU5hbWVDaGVjazoge1xuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIHZhbHVlOiBudWxsXG4gICAgfSxcbiAgICBhbGxvd0N1c3RvbWl6ZWRCdWlsdEluRWxlbWVudHM6IHtcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICB2YWx1ZTogZmFsc2VcbiAgICB9XG4gIH0pKTtcbiAgLyogRXhwbGljaXRseSBmb3JiaWRkZW4gdGFncyAob3ZlcnJpZGVzIEFMTE9XRURfVEFHUy9BRERfVEFHUykgKi9cbiAgbGV0IEZPUkJJRF9UQUdTID0gbnVsbDtcbiAgLyogRXhwbGljaXRseSBmb3JiaWRkZW4gYXR0cmlidXRlcyAob3ZlcnJpZGVzIEFMTE9XRURfQVRUUi9BRERfQVRUUikgKi9cbiAgbGV0IEZPUkJJRF9BVFRSID0gbnVsbDtcbiAgLyogQ29uZmlnIG9iamVjdCB0byBzdG9yZSBBRERfVEFHUy9BRERfQVRUUiBmdW5jdGlvbnMgKHdoZW4gdXNlZCBhcyBmdW5jdGlvbnMpICovXG4gIGNvbnN0IEVYVFJBX0VMRU1FTlRfSEFORExJTkcgPSBPYmplY3Quc2VhbChjcmVhdGUobnVsbCwge1xuICAgIHRhZ0NoZWNrOiB7XG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IG51bGxcbiAgICB9LFxuICAgIGF0dHJpYnV0ZUNoZWNrOiB7XG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IG51bGxcbiAgICB9XG4gIH0pKTtcbiAgLyogRGVjaWRlIGlmIEFSSUEgYXR0cmlidXRlcyBhcmUgb2theSAqL1xuICBsZXQgQUxMT1dfQVJJQV9BVFRSID0gdHJ1ZTtcbiAgLyogRGVjaWRlIGlmIGN1c3RvbSBkYXRhIGF0dHJpYnV0ZXMgYXJlIG9rYXkgKi9cbiAgbGV0IEFMTE9XX0RBVEFfQVRUUiA9IHRydWU7XG4gIC8qIERlY2lkZSBpZiB1bmtub3duIHByb3RvY29scyBhcmUgb2theSAqL1xuICBsZXQgQUxMT1dfVU5LTk9XTl9QUk9UT0NPTFMgPSBmYWxzZTtcbiAgLyogRGVjaWRlIGlmIHNlbGYtY2xvc2luZyB0YWdzIGluIGF0dHJpYnV0ZXMgYXJlIGFsbG93ZWQuXG4gICAqIFVzdWFsbHkgcmVtb3ZlZCBkdWUgdG8gYSBtWFNTIGlzc3VlIGluIGpRdWVyeSAzLjAgKi9cbiAgbGV0IEFMTE9XX1NFTEZfQ0xPU0VfSU5fQVRUUiA9IHRydWU7XG4gIC8qIE91dHB1dCBzaG91bGQgYmUgc2FmZSBmb3IgY29tbW9uIHRlbXBsYXRlIGVuZ2luZXMuXG4gICAqIFRoaXMgbWVhbnMsIERPTVB1cmlmeSByZW1vdmVzIGRhdGEgYXR0cmlidXRlcywgbXVzdGFjaGVzIGFuZCBFUkJcbiAgICovXG4gIGxldCBTQUZFX0ZPUl9URU1QTEFURVMgPSBmYWxzZTtcbiAgLyogT3V0cHV0IHNob3VsZCBiZSBzYWZlIGV2ZW4gZm9yIFhNTCB1c2VkIHdpdGhpbiBIVE1MIGFuZCBhbGlrZS5cbiAgICogVGhpcyBtZWFucywgRE9NUHVyaWZ5IHJlbW92ZXMgY29tbWVudHMgd2hlbiBjb250YWluaW5nIHJpc2t5IGNvbnRlbnQuXG4gICAqL1xuICBsZXQgU0FGRV9GT1JfWE1MID0gdHJ1ZTtcbiAgLyogRGVjaWRlIGlmIGRvY3VtZW50IHdpdGggPGh0bWw+Li4uIHNob3VsZCBiZSByZXR1cm5lZCAqL1xuICBsZXQgV0hPTEVfRE9DVU1FTlQgPSBmYWxzZTtcbiAgLyogVHJhY2sgd2hldGhlciBjb25maWcgaXMgYWxyZWFkeSBzZXQgb24gdGhpcyBpbnN0YW5jZSBvZiBET01QdXJpZnkuICovXG4gIGxldCBTRVRfQ09ORklHID0gZmFsc2U7XG4gIC8qIERlY2lkZSBpZiBhbGwgZWxlbWVudHMgKGUuZy4gc3R5bGUsIHNjcmlwdCkgbXVzdCBiZSBjaGlsZHJlbiBvZlxuICAgKiBkb2N1bWVudC5ib2R5LiBCeSBkZWZhdWx0LCBicm93c2VycyBtaWdodCBtb3ZlIHRoZW0gdG8gZG9jdW1lbnQuaGVhZCAqL1xuICBsZXQgRk9SQ0VfQk9EWSA9IGZhbHNlO1xuICAvKiBEZWNpZGUgaWYgYSBET00gYEhUTUxCb2R5RWxlbWVudGAgc2hvdWxkIGJlIHJldHVybmVkLCBpbnN0ZWFkIG9mIGEgaHRtbFxuICAgKiBzdHJpbmcgKG9yIGEgVHJ1c3RlZEhUTUwgb2JqZWN0IGlmIFRydXN0ZWQgVHlwZXMgYXJlIHN1cHBvcnRlZCkuXG4gICAqIElmIGBXSE9MRV9ET0NVTUVOVGAgaXMgZW5hYmxlZCBhIGBIVE1MSHRtbEVsZW1lbnRgIHdpbGwgYmUgcmV0dXJuZWQgaW5zdGVhZFxuICAgKi9cbiAgbGV0IFJFVFVSTl9ET00gPSBmYWxzZTtcbiAgLyogRGVjaWRlIGlmIGEgRE9NIGBEb2N1bWVudEZyYWdtZW50YCBzaG91bGQgYmUgcmV0dXJuZWQsIGluc3RlYWQgb2YgYSBodG1sXG4gICAqIHN0cmluZyAgKG9yIGEgVHJ1c3RlZEhUTUwgb2JqZWN0IGlmIFRydXN0ZWQgVHlwZXMgYXJlIHN1cHBvcnRlZCkgKi9cbiAgbGV0IFJFVFVSTl9ET01fRlJBR01FTlQgPSBmYWxzZTtcbiAgLyogVHJ5IHRvIHJldHVybiBhIFRydXN0ZWQgVHlwZSBvYmplY3QgaW5zdGVhZCBvZiBhIHN0cmluZywgcmV0dXJuIGEgc3RyaW5nIGluXG4gICAqIGNhc2UgVHJ1c3RlZCBUeXBlcyBhcmUgbm90IHN1cHBvcnRlZCAgKi9cbiAgbGV0IFJFVFVSTl9UUlVTVEVEX1RZUEUgPSBmYWxzZTtcbiAgLyogT3V0cHV0IHNob3VsZCBiZSBmcmVlIGZyb20gRE9NIGNsb2JiZXJpbmcgYXR0YWNrcz9cbiAgICogVGhpcyBzYW5pdGl6ZXMgbWFya3VwcyBuYW1lZCB3aXRoIGNvbGxpZGluZywgY2xvYmJlcmFibGUgYnVpbHQtaW4gRE9NIEFQSXMuXG4gICAqL1xuICBsZXQgU0FOSVRJWkVfRE9NID0gdHJ1ZTtcbiAgLyogQWNoaWV2ZSBmdWxsIERPTSBDbG9iYmVyaW5nIHByb3RlY3Rpb24gYnkgaXNvbGF0aW5nIHRoZSBuYW1lc3BhY2Ugb2YgbmFtZWRcbiAgICogcHJvcGVydGllcyBhbmQgSlMgdmFyaWFibGVzLCBtaXRpZ2F0aW5nIGF0dGFja3MgdGhhdCBhYnVzZSB0aGUgSFRNTC9ET00gc3BlYyBydWxlcy5cbiAgICpcbiAgICogSFRNTC9ET00gc3BlYyBydWxlcyB0aGF0IGVuYWJsZSBET00gQ2xvYmJlcmluZzpcbiAgICogICAtIE5hbWVkIEFjY2VzcyBvbiBXaW5kb3cgKMKnNy4zLjMpXG4gICAqICAgLSBET00gVHJlZSBBY2Nlc3NvcnMgKMKnMy4xLjUpXG4gICAqICAgLSBGb3JtIEVsZW1lbnQgUGFyZW50LUNoaWxkIFJlbGF0aW9ucyAowqc0LjEwLjMpXG4gICAqICAgLSBJZnJhbWUgc3JjZG9jIC8gTmVzdGVkIFdpbmRvd1Byb3hpZXMgKMKnNC44LjUpXG4gICAqICAgLSBIVE1MQ29sbGVjdGlvbiAowqc0LjIuMTAuMilcbiAgICpcbiAgICogTmFtZXNwYWNlIGlzb2xhdGlvbiBpcyBpbXBsZW1lbnRlZCBieSBwcmVmaXhpbmcgYGlkYCBhbmQgYG5hbWVgIGF0dHJpYnV0ZXNcbiAgICogd2l0aCBhIGNvbnN0YW50IHN0cmluZywgaS5lLiwgYHVzZXItY29udGVudC1gXG4gICAqL1xuICBsZXQgU0FOSVRJWkVfTkFNRURfUFJPUFMgPSBmYWxzZTtcbiAgY29uc3QgU0FOSVRJWkVfTkFNRURfUFJPUFNfUFJFRklYID0gJ3VzZXItY29udGVudC0nO1xuICAvKiBLZWVwIGVsZW1lbnQgY29udGVudCB3aGVuIHJlbW92aW5nIGVsZW1lbnQ/ICovXG4gIGxldCBLRUVQX0NPTlRFTlQgPSB0cnVlO1xuICAvKiBJZiBhIGBOb2RlYCBpcyBwYXNzZWQgdG8gc2FuaXRpemUoKSwgdGhlbiBwZXJmb3JtcyBzYW5pdGl6YXRpb24gaW4tcGxhY2UgaW5zdGVhZFxuICAgKiBvZiBpbXBvcnRpbmcgaXQgaW50byBhIG5ldyBEb2N1bWVudCBhbmQgcmV0dXJuaW5nIGEgc2FuaXRpemVkIGNvcHkgKi9cbiAgbGV0IElOX1BMQUNFID0gZmFsc2U7XG4gIC8qIEFsbG93IHVzYWdlIG9mIHByb2ZpbGVzIGxpa2UgaHRtbCwgc3ZnIGFuZCBtYXRoTWwgKi9cbiAgbGV0IFVTRV9QUk9GSUxFUyA9IHt9O1xuICAvKiBUYWdzIHRvIGlnbm9yZSBjb250ZW50IG9mIHdoZW4gS0VFUF9DT05URU5UIGlzIHRydWUgKi9cbiAgbGV0IEZPUkJJRF9DT05URU5UUyA9IG51bGw7XG4gIGNvbnN0IERFRkFVTFRfRk9SQklEX0NPTlRFTlRTID0gYWRkVG9TZXQoe30sIFsnYW5ub3RhdGlvbi14bWwnLCAnYXVkaW8nLCAnY29sZ3JvdXAnLCAnZGVzYycsICdmb3JlaWdub2JqZWN0JywgJ2hlYWQnLCAnaWZyYW1lJywgJ21hdGgnLCAnbWknLCAnbW4nLCAnbW8nLCAnbXMnLCAnbXRleHQnLCAnbm9lbWJlZCcsICdub2ZyYW1lcycsICdub3NjcmlwdCcsICdwbGFpbnRleHQnLCAnc2NyaXB0JywgJ3N0eWxlJywgJ3N2ZycsICd0ZW1wbGF0ZScsICd0aGVhZCcsICd0aXRsZScsICd2aWRlbycsICd4bXAnXSk7XG4gIC8qIFRhZ3MgdGhhdCBhcmUgc2FmZSBmb3IgZGF0YTogVVJJcyAqL1xuICBsZXQgREFUQV9VUklfVEFHUyA9IG51bGw7XG4gIGNvbnN0IERFRkFVTFRfREFUQV9VUklfVEFHUyA9IGFkZFRvU2V0KHt9LCBbJ2F1ZGlvJywgJ3ZpZGVvJywgJ2ltZycsICdzb3VyY2UnLCAnaW1hZ2UnLCAndHJhY2snXSk7XG4gIC8qIEF0dHJpYnV0ZXMgc2FmZSBmb3IgdmFsdWVzIGxpa2UgXCJqYXZhc2NyaXB0OlwiICovXG4gIGxldCBVUklfU0FGRV9BVFRSSUJVVEVTID0gbnVsbDtcbiAgY29uc3QgREVGQVVMVF9VUklfU0FGRV9BVFRSSUJVVEVTID0gYWRkVG9TZXQoe30sIFsnYWx0JywgJ2NsYXNzJywgJ2ZvcicsICdpZCcsICdsYWJlbCcsICduYW1lJywgJ3BhdHRlcm4nLCAncGxhY2Vob2xkZXInLCAncm9sZScsICdzdW1tYXJ5JywgJ3RpdGxlJywgJ3ZhbHVlJywgJ3N0eWxlJywgJ3htbG5zJ10pO1xuICBjb25zdCBNQVRITUxfTkFNRVNQQUNFID0gJ2h0dHA6Ly93d3cudzMub3JnLzE5OTgvTWF0aC9NYXRoTUwnO1xuICBjb25zdCBTVkdfTkFNRVNQQUNFID0gJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJztcbiAgY29uc3QgSFRNTF9OQU1FU1BBQ0UgPSAnaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCc7XG4gIC8qIERvY3VtZW50IG5hbWVzcGFjZSAqL1xuICBsZXQgTkFNRVNQQUNFID0gSFRNTF9OQU1FU1BBQ0U7XG4gIGxldCBJU19FTVBUWV9JTlBVVCA9IGZhbHNlO1xuICAvKiBBbGxvd2VkIFhIVE1MK1hNTCBuYW1lc3BhY2VzICovXG4gIGxldCBBTExPV0VEX05BTUVTUEFDRVMgPSBudWxsO1xuICBjb25zdCBERUZBVUxUX0FMTE9XRURfTkFNRVNQQUNFUyA9IGFkZFRvU2V0KHt9LCBbTUFUSE1MX05BTUVTUEFDRSwgU1ZHX05BTUVTUEFDRSwgSFRNTF9OQU1FU1BBQ0VdLCBzdHJpbmdUb1N0cmluZyk7XG4gIGxldCBNQVRITUxfVEVYVF9JTlRFR1JBVElPTl9QT0lOVFMgPSBhZGRUb1NldCh7fSwgWydtaScsICdtbycsICdtbicsICdtcycsICdtdGV4dCddKTtcbiAgbGV0IEhUTUxfSU5URUdSQVRJT05fUE9JTlRTID0gYWRkVG9TZXQoe30sIFsnYW5ub3RhdGlvbi14bWwnXSk7XG4gIC8vIENlcnRhaW4gZWxlbWVudHMgYXJlIGFsbG93ZWQgaW4gYm90aCBTVkcgYW5kIEhUTUxcbiAgLy8gbmFtZXNwYWNlLiBXZSBuZWVkIHRvIHNwZWNpZnkgdGhlbSBleHBsaWNpdGx5XG4gIC8vIHNvIHRoYXQgdGhleSBkb24ndCBnZXQgZXJyb25lb3VzbHkgZGVsZXRlZCBmcm9tXG4gIC8vIEhUTUwgbmFtZXNwYWNlLlxuICBjb25zdCBDT01NT05fU1ZHX0FORF9IVE1MX0VMRU1FTlRTID0gYWRkVG9TZXQoe30sIFsndGl0bGUnLCAnc3R5bGUnLCAnZm9udCcsICdhJywgJ3NjcmlwdCddKTtcbiAgLyogUGFyc2luZyBvZiBzdHJpY3QgWEhUTUwgZG9jdW1lbnRzICovXG4gIGxldCBQQVJTRVJfTUVESUFfVFlQRSA9IG51bGw7XG4gIGNvbnN0IFNVUFBPUlRFRF9QQVJTRVJfTUVESUFfVFlQRVMgPSBbJ2FwcGxpY2F0aW9uL3hodG1sK3htbCcsICd0ZXh0L2h0bWwnXTtcbiAgY29uc3QgREVGQVVMVF9QQVJTRVJfTUVESUFfVFlQRSA9ICd0ZXh0L2h0bWwnO1xuICBsZXQgdHJhbnNmb3JtQ2FzZUZ1bmMgPSBudWxsO1xuICAvKiBLZWVwIGEgcmVmZXJlbmNlIHRvIGNvbmZpZyB0byBwYXNzIHRvIGhvb2tzICovXG4gIGxldCBDT05GSUcgPSBudWxsO1xuICAvKiBJZGVhbGx5LCBkbyBub3QgdG91Y2ggYW55dGhpbmcgYmVsb3cgdGhpcyBsaW5lICovXG4gIC8qIF9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18gKi9cbiAgY29uc3QgZm9ybUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmb3JtJyk7XG4gIGNvbnN0IGlzUmVnZXhPckZ1bmN0aW9uID0gZnVuY3Rpb24gaXNSZWdleE9yRnVuY3Rpb24odGVzdFZhbHVlKSB7XG4gICAgcmV0dXJuIHRlc3RWYWx1ZSBpbnN0YW5jZW9mIFJlZ0V4cCB8fCB0ZXN0VmFsdWUgaW5zdGFuY2VvZiBGdW5jdGlvbjtcbiAgfTtcbiAgLyoqXG4gICAqIF9wYXJzZUNvbmZpZ1xuICAgKlxuICAgKiBAcGFyYW0gY2ZnIG9wdGlvbmFsIGNvbmZpZyBsaXRlcmFsXG4gICAqL1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29tcGxleGl0eVxuICBjb25zdCBfcGFyc2VDb25maWcgPSBmdW5jdGlvbiBfcGFyc2VDb25maWcoKSB7XG4gICAgbGV0IGNmZyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gICAgaWYgKENPTkZJRyAmJiBDT05GSUcgPT09IGNmZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvKiBTaGllbGQgY29uZmlndXJhdGlvbiBvYmplY3QgZnJvbSB0YW1wZXJpbmcgKi9cbiAgICBpZiAoIWNmZyB8fCB0eXBlb2YgY2ZnICE9PSAnb2JqZWN0Jykge1xuICAgICAgY2ZnID0ge307XG4gICAgfVxuICAgIC8qIFNoaWVsZCBjb25maWd1cmF0aW9uIG9iamVjdCBmcm9tIHByb3RvdHlwZSBwb2xsdXRpb24gKi9cbiAgICBjZmcgPSBjbG9uZShjZmcpO1xuICAgIFBBUlNFUl9NRURJQV9UWVBFID1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgdW5pY29ybi9wcmVmZXItaW5jbHVkZXNcbiAgICBTVVBQT1JURURfUEFSU0VSX01FRElBX1RZUEVTLmluZGV4T2YoY2ZnLlBBUlNFUl9NRURJQV9UWVBFKSA9PT0gLTEgPyBERUZBVUxUX1BBUlNFUl9NRURJQV9UWVBFIDogY2ZnLlBBUlNFUl9NRURJQV9UWVBFO1xuICAgIC8vIEhUTUwgdGFncyBhbmQgYXR0cmlidXRlcyBhcmUgbm90IGNhc2Utc2Vuc2l0aXZlLCBjb252ZXJ0aW5nIHRvIGxvd2VyY2FzZS4gS2VlcGluZyBYSFRNTCBhcyBpcy5cbiAgICB0cmFuc2Zvcm1DYXNlRnVuYyA9IFBBUlNFUl9NRURJQV9UWVBFID09PSAnYXBwbGljYXRpb24veGh0bWwreG1sJyA/IHN0cmluZ1RvU3RyaW5nIDogc3RyaW5nVG9Mb3dlckNhc2U7XG4gICAgLyogU2V0IGNvbmZpZ3VyYXRpb24gcGFyYW1ldGVycyAqL1xuICAgIEFMTE9XRURfVEFHUyA9IG9iamVjdEhhc093blByb3BlcnR5KGNmZywgJ0FMTE9XRURfVEFHUycpID8gYWRkVG9TZXQoe30sIGNmZy5BTExPV0VEX1RBR1MsIHRyYW5zZm9ybUNhc2VGdW5jKSA6IERFRkFVTFRfQUxMT1dFRF9UQUdTO1xuICAgIEFMTE9XRURfQVRUUiA9IG9iamVjdEhhc093blByb3BlcnR5KGNmZywgJ0FMTE9XRURfQVRUUicpID8gYWRkVG9TZXQoe30sIGNmZy5BTExPV0VEX0FUVFIsIHRyYW5zZm9ybUNhc2VGdW5jKSA6IERFRkFVTFRfQUxMT1dFRF9BVFRSO1xuICAgIEFMTE9XRURfTkFNRVNQQUNFUyA9IG9iamVjdEhhc093blByb3BlcnR5KGNmZywgJ0FMTE9XRURfTkFNRVNQQUNFUycpID8gYWRkVG9TZXQoe30sIGNmZy5BTExPV0VEX05BTUVTUEFDRVMsIHN0cmluZ1RvU3RyaW5nKSA6IERFRkFVTFRfQUxMT1dFRF9OQU1FU1BBQ0VTO1xuICAgIFVSSV9TQUZFX0FUVFJJQlVURVMgPSBvYmplY3RIYXNPd25Qcm9wZXJ0eShjZmcsICdBRERfVVJJX1NBRkVfQVRUUicpID8gYWRkVG9TZXQoY2xvbmUoREVGQVVMVF9VUklfU0FGRV9BVFRSSUJVVEVTKSwgY2ZnLkFERF9VUklfU0FGRV9BVFRSLCB0cmFuc2Zvcm1DYXNlRnVuYykgOiBERUZBVUxUX1VSSV9TQUZFX0FUVFJJQlVURVM7XG4gICAgREFUQV9VUklfVEFHUyA9IG9iamVjdEhhc093blByb3BlcnR5KGNmZywgJ0FERF9EQVRBX1VSSV9UQUdTJykgPyBhZGRUb1NldChjbG9uZShERUZBVUxUX0RBVEFfVVJJX1RBR1MpLCBjZmcuQUREX0RBVEFfVVJJX1RBR1MsIHRyYW5zZm9ybUNhc2VGdW5jKSA6IERFRkFVTFRfREFUQV9VUklfVEFHUztcbiAgICBGT1JCSURfQ09OVEVOVFMgPSBvYmplY3RIYXNPd25Qcm9wZXJ0eShjZmcsICdGT1JCSURfQ09OVEVOVFMnKSA/IGFkZFRvU2V0KHt9LCBjZmcuRk9SQklEX0NPTlRFTlRTLCB0cmFuc2Zvcm1DYXNlRnVuYykgOiBERUZBVUxUX0ZPUkJJRF9DT05URU5UUztcbiAgICBGT1JCSURfVEFHUyA9IG9iamVjdEhhc093blByb3BlcnR5KGNmZywgJ0ZPUkJJRF9UQUdTJykgPyBhZGRUb1NldCh7fSwgY2ZnLkZPUkJJRF9UQUdTLCB0cmFuc2Zvcm1DYXNlRnVuYykgOiBjbG9uZSh7fSk7XG4gICAgRk9SQklEX0FUVFIgPSBvYmplY3RIYXNPd25Qcm9wZXJ0eShjZmcsICdGT1JCSURfQVRUUicpID8gYWRkVG9TZXQoe30sIGNmZy5GT1JCSURfQVRUUiwgdHJhbnNmb3JtQ2FzZUZ1bmMpIDogY2xvbmUoe30pO1xuICAgIFVTRV9QUk9GSUxFUyA9IG9iamVjdEhhc093blByb3BlcnR5KGNmZywgJ1VTRV9QUk9GSUxFUycpID8gY2ZnLlVTRV9QUk9GSUxFUyA6IGZhbHNlO1xuICAgIEFMTE9XX0FSSUFfQVRUUiA9IGNmZy5BTExPV19BUklBX0FUVFIgIT09IGZhbHNlOyAvLyBEZWZhdWx0IHRydWVcbiAgICBBTExPV19EQVRBX0FUVFIgPSBjZmcuQUxMT1dfREFUQV9BVFRSICE9PSBmYWxzZTsgLy8gRGVmYXVsdCB0cnVlXG4gICAgQUxMT1dfVU5LTk9XTl9QUk9UT0NPTFMgPSBjZmcuQUxMT1dfVU5LTk9XTl9QUk9UT0NPTFMgfHwgZmFsc2U7IC8vIERlZmF1bHQgZmFsc2VcbiAgICBBTExPV19TRUxGX0NMT1NFX0lOX0FUVFIgPSBjZmcuQUxMT1dfU0VMRl9DTE9TRV9JTl9BVFRSICE9PSBmYWxzZTsgLy8gRGVmYXVsdCB0cnVlXG4gICAgU0FGRV9GT1JfVEVNUExBVEVTID0gY2ZnLlNBRkVfRk9SX1RFTVBMQVRFUyB8fCBmYWxzZTsgLy8gRGVmYXVsdCBmYWxzZVxuICAgIFNBRkVfRk9SX1hNTCA9IGNmZy5TQUZFX0ZPUl9YTUwgIT09IGZhbHNlOyAvLyBEZWZhdWx0IHRydWVcbiAgICBXSE9MRV9ET0NVTUVOVCA9IGNmZy5XSE9MRV9ET0NVTUVOVCB8fCBmYWxzZTsgLy8gRGVmYXVsdCBmYWxzZVxuICAgIFJFVFVSTl9ET00gPSBjZmcuUkVUVVJOX0RPTSB8fCBmYWxzZTsgLy8gRGVmYXVsdCBmYWxzZVxuICAgIFJFVFVSTl9ET01fRlJBR01FTlQgPSBjZmcuUkVUVVJOX0RPTV9GUkFHTUVOVCB8fCBmYWxzZTsgLy8gRGVmYXVsdCBmYWxzZVxuICAgIFJFVFVSTl9UUlVTVEVEX1RZUEUgPSBjZmcuUkVUVVJOX1RSVVNURURfVFlQRSB8fCBmYWxzZTsgLy8gRGVmYXVsdCBmYWxzZVxuICAgIEZPUkNFX0JPRFkgPSBjZmcuRk9SQ0VfQk9EWSB8fCBmYWxzZTsgLy8gRGVmYXVsdCBmYWxzZVxuICAgIFNBTklUSVpFX0RPTSA9IGNmZy5TQU5JVElaRV9ET00gIT09IGZhbHNlOyAvLyBEZWZhdWx0IHRydWVcbiAgICBTQU5JVElaRV9OQU1FRF9QUk9QUyA9IGNmZy5TQU5JVElaRV9OQU1FRF9QUk9QUyB8fCBmYWxzZTsgLy8gRGVmYXVsdCBmYWxzZVxuICAgIEtFRVBfQ09OVEVOVCA9IGNmZy5LRUVQX0NPTlRFTlQgIT09IGZhbHNlOyAvLyBEZWZhdWx0IHRydWVcbiAgICBJTl9QTEFDRSA9IGNmZy5JTl9QTEFDRSB8fCBmYWxzZTsgLy8gRGVmYXVsdCBmYWxzZVxuICAgIElTX0FMTE9XRURfVVJJJDEgPSBjZmcuQUxMT1dFRF9VUklfUkVHRVhQIHx8IElTX0FMTE9XRURfVVJJO1xuICAgIE5BTUVTUEFDRSA9IGNmZy5OQU1FU1BBQ0UgfHwgSFRNTF9OQU1FU1BBQ0U7XG4gICAgTUFUSE1MX1RFWFRfSU5URUdSQVRJT05fUE9JTlRTID0gY2ZnLk1BVEhNTF9URVhUX0lOVEVHUkFUSU9OX1BPSU5UUyB8fCBNQVRITUxfVEVYVF9JTlRFR1JBVElPTl9QT0lOVFM7XG4gICAgSFRNTF9JTlRFR1JBVElPTl9QT0lOVFMgPSBjZmcuSFRNTF9JTlRFR1JBVElPTl9QT0lOVFMgfHwgSFRNTF9JTlRFR1JBVElPTl9QT0lOVFM7XG4gICAgQ1VTVE9NX0VMRU1FTlRfSEFORExJTkcgPSBjZmcuQ1VTVE9NX0VMRU1FTlRfSEFORExJTkcgfHwge307XG4gICAgaWYgKGNmZy5DVVNUT01fRUxFTUVOVF9IQU5ETElORyAmJiBpc1JlZ2V4T3JGdW5jdGlvbihjZmcuQ1VTVE9NX0VMRU1FTlRfSEFORExJTkcudGFnTmFtZUNoZWNrKSkge1xuICAgICAgQ1VTVE9NX0VMRU1FTlRfSEFORExJTkcudGFnTmFtZUNoZWNrID0gY2ZnLkNVU1RPTV9FTEVNRU5UX0hBTkRMSU5HLnRhZ05hbWVDaGVjaztcbiAgICB9XG4gICAgaWYgKGNmZy5DVVNUT01fRUxFTUVOVF9IQU5ETElORyAmJiBpc1JlZ2V4T3JGdW5jdGlvbihjZmcuQ1VTVE9NX0VMRU1FTlRfSEFORExJTkcuYXR0cmlidXRlTmFtZUNoZWNrKSkge1xuICAgICAgQ1VTVE9NX0VMRU1FTlRfSEFORExJTkcuYXR0cmlidXRlTmFtZUNoZWNrID0gY2ZnLkNVU1RPTV9FTEVNRU5UX0hBTkRMSU5HLmF0dHJpYnV0ZU5hbWVDaGVjaztcbiAgICB9XG4gICAgaWYgKGNmZy5DVVNUT01fRUxFTUVOVF9IQU5ETElORyAmJiB0eXBlb2YgY2ZnLkNVU1RPTV9FTEVNRU5UX0hBTkRMSU5HLmFsbG93Q3VzdG9taXplZEJ1aWx0SW5FbGVtZW50cyA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICBDVVNUT01fRUxFTUVOVF9IQU5ETElORy5hbGxvd0N1c3RvbWl6ZWRCdWlsdEluRWxlbWVudHMgPSBjZmcuQ1VTVE9NX0VMRU1FTlRfSEFORExJTkcuYWxsb3dDdXN0b21pemVkQnVpbHRJbkVsZW1lbnRzO1xuICAgIH1cbiAgICBpZiAoU0FGRV9GT1JfVEVNUExBVEVTKSB7XG4gICAgICBBTExPV19EQVRBX0FUVFIgPSBmYWxzZTtcbiAgICB9XG4gICAgaWYgKFJFVFVSTl9ET01fRlJBR01FTlQpIHtcbiAgICAgIFJFVFVSTl9ET00gPSB0cnVlO1xuICAgIH1cbiAgICAvKiBQYXJzZSBwcm9maWxlIGluZm8gKi9cbiAgICBpZiAoVVNFX1BST0ZJTEVTKSB7XG4gICAgICBBTExPV0VEX1RBR1MgPSBhZGRUb1NldCh7fSwgdGV4dCk7XG4gICAgICBBTExPV0VEX0FUVFIgPSBbXTtcbiAgICAgIGlmIChVU0VfUFJPRklMRVMuaHRtbCA9PT0gdHJ1ZSkge1xuICAgICAgICBhZGRUb1NldChBTExPV0VEX1RBR1MsIGh0bWwkMSk7XG4gICAgICAgIGFkZFRvU2V0KEFMTE9XRURfQVRUUiwgaHRtbCk7XG4gICAgICB9XG4gICAgICBpZiAoVVNFX1BST0ZJTEVTLnN2ZyA9PT0gdHJ1ZSkge1xuICAgICAgICBhZGRUb1NldChBTExPV0VEX1RBR1MsIHN2ZyQxKTtcbiAgICAgICAgYWRkVG9TZXQoQUxMT1dFRF9BVFRSLCBzdmcpO1xuICAgICAgICBhZGRUb1NldChBTExPV0VEX0FUVFIsIHhtbCk7XG4gICAgICB9XG4gICAgICBpZiAoVVNFX1BST0ZJTEVTLnN2Z0ZpbHRlcnMgPT09IHRydWUpIHtcbiAgICAgICAgYWRkVG9TZXQoQUxMT1dFRF9UQUdTLCBzdmdGaWx0ZXJzKTtcbiAgICAgICAgYWRkVG9TZXQoQUxMT1dFRF9BVFRSLCBzdmcpO1xuICAgICAgICBhZGRUb1NldChBTExPV0VEX0FUVFIsIHhtbCk7XG4gICAgICB9XG4gICAgICBpZiAoVVNFX1BST0ZJTEVTLm1hdGhNbCA9PT0gdHJ1ZSkge1xuICAgICAgICBhZGRUb1NldChBTExPV0VEX1RBR1MsIG1hdGhNbCQxKTtcbiAgICAgICAgYWRkVG9TZXQoQUxMT1dFRF9BVFRSLCBtYXRoTWwpO1xuICAgICAgICBhZGRUb1NldChBTExPV0VEX0FUVFIsIHhtbCk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qIE1lcmdlIGNvbmZpZ3VyYXRpb24gcGFyYW1ldGVycyAqL1xuICAgIGlmIChjZmcuQUREX1RBR1MpIHtcbiAgICAgIGlmICh0eXBlb2YgY2ZnLkFERF9UQUdTID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIEVYVFJBX0VMRU1FTlRfSEFORExJTkcudGFnQ2hlY2sgPSBjZmcuQUREX1RBR1M7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoQUxMT1dFRF9UQUdTID09PSBERUZBVUxUX0FMTE9XRURfVEFHUykge1xuICAgICAgICAgIEFMTE9XRURfVEFHUyA9IGNsb25lKEFMTE9XRURfVEFHUyk7XG4gICAgICAgIH1cbiAgICAgICAgYWRkVG9TZXQoQUxMT1dFRF9UQUdTLCBjZmcuQUREX1RBR1MsIHRyYW5zZm9ybUNhc2VGdW5jKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGNmZy5BRERfQVRUUikge1xuICAgICAgaWYgKHR5cGVvZiBjZmcuQUREX0FUVFIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgRVhUUkFfRUxFTUVOVF9IQU5ETElORy5hdHRyaWJ1dGVDaGVjayA9IGNmZy5BRERfQVRUUjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChBTExPV0VEX0FUVFIgPT09IERFRkFVTFRfQUxMT1dFRF9BVFRSKSB7XG4gICAgICAgICAgQUxMT1dFRF9BVFRSID0gY2xvbmUoQUxMT1dFRF9BVFRSKTtcbiAgICAgICAgfVxuICAgICAgICBhZGRUb1NldChBTExPV0VEX0FUVFIsIGNmZy5BRERfQVRUUiwgdHJhbnNmb3JtQ2FzZUZ1bmMpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoY2ZnLkFERF9VUklfU0FGRV9BVFRSKSB7XG4gICAgICBhZGRUb1NldChVUklfU0FGRV9BVFRSSUJVVEVTLCBjZmcuQUREX1VSSV9TQUZFX0FUVFIsIHRyYW5zZm9ybUNhc2VGdW5jKTtcbiAgICB9XG4gICAgaWYgKGNmZy5GT1JCSURfQ09OVEVOVFMpIHtcbiAgICAgIGlmIChGT1JCSURfQ09OVEVOVFMgPT09IERFRkFVTFRfRk9SQklEX0NPTlRFTlRTKSB7XG4gICAgICAgIEZPUkJJRF9DT05URU5UUyA9IGNsb25lKEZPUkJJRF9DT05URU5UUyk7XG4gICAgICB9XG4gICAgICBhZGRUb1NldChGT1JCSURfQ09OVEVOVFMsIGNmZy5GT1JCSURfQ09OVEVOVFMsIHRyYW5zZm9ybUNhc2VGdW5jKTtcbiAgICB9XG4gICAgaWYgKGNmZy5BRERfRk9SQklEX0NPTlRFTlRTKSB7XG4gICAgICBpZiAoRk9SQklEX0NPTlRFTlRTID09PSBERUZBVUxUX0ZPUkJJRF9DT05URU5UUykge1xuICAgICAgICBGT1JCSURfQ09OVEVOVFMgPSBjbG9uZShGT1JCSURfQ09OVEVOVFMpO1xuICAgICAgfVxuICAgICAgYWRkVG9TZXQoRk9SQklEX0NPTlRFTlRTLCBjZmcuQUREX0ZPUkJJRF9DT05URU5UUywgdHJhbnNmb3JtQ2FzZUZ1bmMpO1xuICAgIH1cbiAgICAvKiBBZGQgI3RleHQgaW4gY2FzZSBLRUVQX0NPTlRFTlQgaXMgc2V0IHRvIHRydWUgKi9cbiAgICBpZiAoS0VFUF9DT05URU5UKSB7XG4gICAgICBBTExPV0VEX1RBR1NbJyN0ZXh0J10gPSB0cnVlO1xuICAgIH1cbiAgICAvKiBBZGQgaHRtbCwgaGVhZCBhbmQgYm9keSB0byBBTExPV0VEX1RBR1MgaW4gY2FzZSBXSE9MRV9ET0NVTUVOVCBpcyB0cnVlICovXG4gICAgaWYgKFdIT0xFX0RPQ1VNRU5UKSB7XG4gICAgICBhZGRUb1NldChBTExPV0VEX1RBR1MsIFsnaHRtbCcsICdoZWFkJywgJ2JvZHknXSk7XG4gICAgfVxuICAgIC8qIEFkZCB0Ym9keSB0byBBTExPV0VEX1RBR1MgaW4gY2FzZSB0YWJsZXMgYXJlIHBlcm1pdHRlZCwgc2VlICMyODYsICMzNjUgKi9cbiAgICBpZiAoQUxMT1dFRF9UQUdTLnRhYmxlKSB7XG4gICAgICBhZGRUb1NldChBTExPV0VEX1RBR1MsIFsndGJvZHknXSk7XG4gICAgICBkZWxldGUgRk9SQklEX1RBR1MudGJvZHk7XG4gICAgfVxuICAgIGlmIChjZmcuVFJVU1RFRF9UWVBFU19QT0xJQ1kpIHtcbiAgICAgIGlmICh0eXBlb2YgY2ZnLlRSVVNURURfVFlQRVNfUE9MSUNZLmNyZWF0ZUhUTUwgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgdHlwZUVycm9yQ3JlYXRlKCdUUlVTVEVEX1RZUEVTX1BPTElDWSBjb25maWd1cmF0aW9uIG9wdGlvbiBtdXN0IHByb3ZpZGUgYSBcImNyZWF0ZUhUTUxcIiBob29rLicpO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBjZmcuVFJVU1RFRF9UWVBFU19QT0xJQ1kuY3JlYXRlU2NyaXB0VVJMICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IHR5cGVFcnJvckNyZWF0ZSgnVFJVU1RFRF9UWVBFU19QT0xJQ1kgY29uZmlndXJhdGlvbiBvcHRpb24gbXVzdCBwcm92aWRlIGEgXCJjcmVhdGVTY3JpcHRVUkxcIiBob29rLicpO1xuICAgICAgfVxuICAgICAgLy8gT3ZlcndyaXRlIGV4aXN0aW5nIFRydXN0ZWRUeXBlcyBwb2xpY3kuXG4gICAgICB0cnVzdGVkVHlwZXNQb2xpY3kgPSBjZmcuVFJVU1RFRF9UWVBFU19QT0xJQ1k7XG4gICAgICAvLyBTaWduIGxvY2FsIHZhcmlhYmxlcyByZXF1aXJlZCBieSBgc2FuaXRpemVgLlxuICAgICAgZW1wdHlIVE1MID0gdHJ1c3RlZFR5cGVzUG9saWN5LmNyZWF0ZUhUTUwoJycpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBVbmluaXRpYWxpemVkIHBvbGljeSwgYXR0ZW1wdCB0byBpbml0aWFsaXplIHRoZSBpbnRlcm5hbCBkb21wdXJpZnkgcG9saWN5LlxuICAgICAgaWYgKHRydXN0ZWRUeXBlc1BvbGljeSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRydXN0ZWRUeXBlc1BvbGljeSA9IF9jcmVhdGVUcnVzdGVkVHlwZXNQb2xpY3kodHJ1c3RlZFR5cGVzLCBjdXJyZW50U2NyaXB0KTtcbiAgICAgIH1cbiAgICAgIC8vIElmIGNyZWF0aW5nIHRoZSBpbnRlcm5hbCBwb2xpY3kgc3VjY2VlZGVkIHNpZ24gaW50ZXJuYWwgdmFyaWFibGVzLlxuICAgICAgaWYgKHRydXN0ZWRUeXBlc1BvbGljeSAhPT0gbnVsbCAmJiB0eXBlb2YgZW1wdHlIVE1MID09PSAnc3RyaW5nJykge1xuICAgICAgICBlbXB0eUhUTUwgPSB0cnVzdGVkVHlwZXNQb2xpY3kuY3JlYXRlSFRNTCgnJyk7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIFByZXZlbnQgZnVydGhlciBtYW5pcHVsYXRpb24gb2YgY29uZmlndXJhdGlvbi5cbiAgICAvLyBOb3QgYXZhaWxhYmxlIGluIElFOCwgU2FmYXJpIDUsIGV0Yy5cbiAgICBpZiAoZnJlZXplKSB7XG4gICAgICBmcmVlemUoY2ZnKTtcbiAgICB9XG4gICAgQ09ORklHID0gY2ZnO1xuICB9O1xuICAvKiBLZWVwIHRyYWNrIG9mIGFsbCBwb3NzaWJsZSBTVkcgYW5kIE1hdGhNTCB0YWdzXG4gICAqIHNvIHRoYXQgd2UgY2FuIHBlcmZvcm0gdGhlIG5hbWVzcGFjZSBjaGVja3NcbiAgICogY29ycmVjdGx5LiAqL1xuICBjb25zdCBBTExfU1ZHX1RBR1MgPSBhZGRUb1NldCh7fSwgWy4uLnN2ZyQxLCAuLi5zdmdGaWx0ZXJzLCAuLi5zdmdEaXNhbGxvd2VkXSk7XG4gIGNvbnN0IEFMTF9NQVRITUxfVEFHUyA9IGFkZFRvU2V0KHt9LCBbLi4ubWF0aE1sJDEsIC4uLm1hdGhNbERpc2FsbG93ZWRdKTtcbiAgLyoqXG4gICAqIEBwYXJhbSBlbGVtZW50IGEgRE9NIGVsZW1lbnQgd2hvc2UgbmFtZXNwYWNlIGlzIGJlaW5nIGNoZWNrZWRcbiAgICogQHJldHVybnMgUmV0dXJuIGZhbHNlIGlmIHRoZSBlbGVtZW50IGhhcyBhXG4gICAqICBuYW1lc3BhY2UgdGhhdCBhIHNwZWMtY29tcGxpYW50IHBhcnNlciB3b3VsZCBuZXZlclxuICAgKiAgcmV0dXJuLiBSZXR1cm4gdHJ1ZSBvdGhlcndpc2UuXG4gICAqL1xuICBjb25zdCBfY2hlY2tWYWxpZE5hbWVzcGFjZSA9IGZ1bmN0aW9uIF9jaGVja1ZhbGlkTmFtZXNwYWNlKGVsZW1lbnQpIHtcbiAgICBsZXQgcGFyZW50ID0gZ2V0UGFyZW50Tm9kZShlbGVtZW50KTtcbiAgICAvLyBJbiBKU0RPTSwgaWYgd2UncmUgaW5zaWRlIHNoYWRvdyBET00sIHRoZW4gcGFyZW50Tm9kZVxuICAgIC8vIGNhbiBiZSBudWxsLiBXZSBqdXN0IHNpbXVsYXRlIHBhcmVudCBpbiB0aGlzIGNhc2UuXG4gICAgaWYgKCFwYXJlbnQgfHwgIXBhcmVudC50YWdOYW1lKSB7XG4gICAgICBwYXJlbnQgPSB7XG4gICAgICAgIG5hbWVzcGFjZVVSSTogTkFNRVNQQUNFLFxuICAgICAgICB0YWdOYW1lOiAndGVtcGxhdGUnXG4gICAgICB9O1xuICAgIH1cbiAgICBjb25zdCB0YWdOYW1lID0gc3RyaW5nVG9Mb3dlckNhc2UoZWxlbWVudC50YWdOYW1lKTtcbiAgICBjb25zdCBwYXJlbnRUYWdOYW1lID0gc3RyaW5nVG9Mb3dlckNhc2UocGFyZW50LnRhZ05hbWUpO1xuICAgIGlmICghQUxMT1dFRF9OQU1FU1BBQ0VTW2VsZW1lbnQubmFtZXNwYWNlVVJJXSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoZWxlbWVudC5uYW1lc3BhY2VVUkkgPT09IFNWR19OQU1FU1BBQ0UpIHtcbiAgICAgIC8vIFRoZSBvbmx5IHdheSB0byBzd2l0Y2ggZnJvbSBIVE1MIG5hbWVzcGFjZSB0byBTVkdcbiAgICAgIC8vIGlzIHZpYSA8c3ZnPi4gSWYgaXQgaGFwcGVucyB2aWEgYW55IG90aGVyIHRhZywgdGhlblxuICAgICAgLy8gaXQgc2hvdWxkIGJlIGtpbGxlZC5cbiAgICAgIGlmIChwYXJlbnQubmFtZXNwYWNlVVJJID09PSBIVE1MX05BTUVTUEFDRSkge1xuICAgICAgICByZXR1cm4gdGFnTmFtZSA9PT0gJ3N2Zyc7XG4gICAgICB9XG4gICAgICAvLyBUaGUgb25seSB3YXkgdG8gc3dpdGNoIGZyb20gTWF0aE1MIHRvIFNWRyBpcyB2aWFgXG4gICAgICAvLyBzdmcgaWYgcGFyZW50IGlzIGVpdGhlciA8YW5ub3RhdGlvbi14bWw+IG9yIE1hdGhNTFxuICAgICAgLy8gdGV4dCBpbnRlZ3JhdGlvbiBwb2ludHMuXG4gICAgICBpZiAocGFyZW50Lm5hbWVzcGFjZVVSSSA9PT0gTUFUSE1MX05BTUVTUEFDRSkge1xuICAgICAgICByZXR1cm4gdGFnTmFtZSA9PT0gJ3N2ZycgJiYgKHBhcmVudFRhZ05hbWUgPT09ICdhbm5vdGF0aW9uLXhtbCcgfHwgTUFUSE1MX1RFWFRfSU5URUdSQVRJT05fUE9JTlRTW3BhcmVudFRhZ05hbWVdKTtcbiAgICAgIH1cbiAgICAgIC8vIFdlIG9ubHkgYWxsb3cgZWxlbWVudHMgdGhhdCBhcmUgZGVmaW5lZCBpbiBTVkdcbiAgICAgIC8vIHNwZWMuIEFsbCBvdGhlcnMgYXJlIGRpc2FsbG93ZWQgaW4gU1ZHIG5hbWVzcGFjZS5cbiAgICAgIHJldHVybiBCb29sZWFuKEFMTF9TVkdfVEFHU1t0YWdOYW1lXSk7XG4gICAgfVxuICAgIGlmIChlbGVtZW50Lm5hbWVzcGFjZVVSSSA9PT0gTUFUSE1MX05BTUVTUEFDRSkge1xuICAgICAgLy8gVGhlIG9ubHkgd2F5IHRvIHN3aXRjaCBmcm9tIEhUTUwgbmFtZXNwYWNlIHRvIE1hdGhNTFxuICAgICAgLy8gaXMgdmlhIDxtYXRoPi4gSWYgaXQgaGFwcGVucyB2aWEgYW55IG90aGVyIHRhZywgdGhlblxuICAgICAgLy8gaXQgc2hvdWxkIGJlIGtpbGxlZC5cbiAgICAgIGlmIChwYXJlbnQubmFtZXNwYWNlVVJJID09PSBIVE1MX05BTUVTUEFDRSkge1xuICAgICAgICByZXR1cm4gdGFnTmFtZSA9PT0gJ21hdGgnO1xuICAgICAgfVxuICAgICAgLy8gVGhlIG9ubHkgd2F5IHRvIHN3aXRjaCBmcm9tIFNWRyB0byBNYXRoTUwgaXMgdmlhXG4gICAgICAvLyA8bWF0aD4gYW5kIEhUTUwgaW50ZWdyYXRpb24gcG9pbnRzXG4gICAgICBpZiAocGFyZW50Lm5hbWVzcGFjZVVSSSA9PT0gU1ZHX05BTUVTUEFDRSkge1xuICAgICAgICByZXR1cm4gdGFnTmFtZSA9PT0gJ21hdGgnICYmIEhUTUxfSU5URUdSQVRJT05fUE9JTlRTW3BhcmVudFRhZ05hbWVdO1xuICAgICAgfVxuICAgICAgLy8gV2Ugb25seSBhbGxvdyBlbGVtZW50cyB0aGF0IGFyZSBkZWZpbmVkIGluIE1hdGhNTFxuICAgICAgLy8gc3BlYy4gQWxsIG90aGVycyBhcmUgZGlzYWxsb3dlZCBpbiBNYXRoTUwgbmFtZXNwYWNlLlxuICAgICAgcmV0dXJuIEJvb2xlYW4oQUxMX01BVEhNTF9UQUdTW3RhZ05hbWVdKTtcbiAgICB9XG4gICAgaWYgKGVsZW1lbnQubmFtZXNwYWNlVVJJID09PSBIVE1MX05BTUVTUEFDRSkge1xuICAgICAgLy8gVGhlIG9ubHkgd2F5IHRvIHN3aXRjaCBmcm9tIFNWRyB0byBIVE1MIGlzIHZpYVxuICAgICAgLy8gSFRNTCBpbnRlZ3JhdGlvbiBwb2ludHMsIGFuZCBmcm9tIE1hdGhNTCB0byBIVE1MXG4gICAgICAvLyBpcyB2aWEgTWF0aE1MIHRleHQgaW50ZWdyYXRpb24gcG9pbnRzXG4gICAgICBpZiAocGFyZW50Lm5hbWVzcGFjZVVSSSA9PT0gU1ZHX05BTUVTUEFDRSAmJiAhSFRNTF9JTlRFR1JBVElPTl9QT0lOVFNbcGFyZW50VGFnTmFtZV0pIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKHBhcmVudC5uYW1lc3BhY2VVUkkgPT09IE1BVEhNTF9OQU1FU1BBQ0UgJiYgIU1BVEhNTF9URVhUX0lOVEVHUkFUSU9OX1BPSU5UU1twYXJlbnRUYWdOYW1lXSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICAvLyBXZSBkaXNhbGxvdyB0YWdzIHRoYXQgYXJlIHNwZWNpZmljIGZvciBNYXRoTUxcbiAgICAgIC8vIG9yIFNWRyBhbmQgc2hvdWxkIG5ldmVyIGFwcGVhciBpbiBIVE1MIG5hbWVzcGFjZVxuICAgICAgcmV0dXJuICFBTExfTUFUSE1MX1RBR1NbdGFnTmFtZV0gJiYgKENPTU1PTl9TVkdfQU5EX0hUTUxfRUxFTUVOVFNbdGFnTmFtZV0gfHwgIUFMTF9TVkdfVEFHU1t0YWdOYW1lXSk7XG4gICAgfVxuICAgIC8vIEZvciBYSFRNTCBhbmQgWE1MIGRvY3VtZW50cyB0aGF0IHN1cHBvcnQgY3VzdG9tIG5hbWVzcGFjZXNcbiAgICBpZiAoUEFSU0VSX01FRElBX1RZUEUgPT09ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnICYmIEFMTE9XRURfTkFNRVNQQUNFU1tlbGVtZW50Lm5hbWVzcGFjZVVSSV0pIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvLyBUaGUgY29kZSBzaG91bGQgbmV2ZXIgcmVhY2ggdGhpcyBwbGFjZSAodGhpcyBtZWFuc1xuICAgIC8vIHRoYXQgdGhlIGVsZW1lbnQgc29tZWhvdyBnb3QgbmFtZXNwYWNlIHRoYXQgaXMgbm90XG4gICAgLy8gSFRNTCwgU1ZHLCBNYXRoTUwgb3IgYWxsb3dlZCB2aWEgQUxMT1dFRF9OQU1FU1BBQ0VTKS5cbiAgICAvLyBSZXR1cm4gZmFsc2UganVzdCBpbiBjYXNlLlxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcbiAgLyoqXG4gICAqIF9mb3JjZVJlbW92ZVxuICAgKlxuICAgKiBAcGFyYW0gbm9kZSBhIERPTSBub2RlXG4gICAqL1xuICBjb25zdCBfZm9yY2VSZW1vdmUgPSBmdW5jdGlvbiBfZm9yY2VSZW1vdmUobm9kZSkge1xuICAgIGFycmF5UHVzaChET01QdXJpZnkucmVtb3ZlZCwge1xuICAgICAgZWxlbWVudDogbm9kZVxuICAgIH0pO1xuICAgIHRyeSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgdW5pY29ybi9wcmVmZXItZG9tLW5vZGUtcmVtb3ZlXG4gICAgICBnZXRQYXJlbnROb2RlKG5vZGUpLnJlbW92ZUNoaWxkKG5vZGUpO1xuICAgIH0gY2F0Y2ggKF8pIHtcbiAgICAgIHJlbW92ZShub2RlKTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBfcmVtb3ZlQXR0cmlidXRlXG4gICAqXG4gICAqIEBwYXJhbSBuYW1lIGFuIEF0dHJpYnV0ZSBuYW1lXG4gICAqIEBwYXJhbSBlbGVtZW50IGEgRE9NIG5vZGVcbiAgICovXG4gIGNvbnN0IF9yZW1vdmVBdHRyaWJ1dGUgPSBmdW5jdGlvbiBfcmVtb3ZlQXR0cmlidXRlKG5hbWUsIGVsZW1lbnQpIHtcbiAgICB0cnkge1xuICAgICAgYXJyYXlQdXNoKERPTVB1cmlmeS5yZW1vdmVkLCB7XG4gICAgICAgIGF0dHJpYnV0ZTogZWxlbWVudC5nZXRBdHRyaWJ1dGVOb2RlKG5hbWUpLFxuICAgICAgICBmcm9tOiBlbGVtZW50XG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChfKSB7XG4gICAgICBhcnJheVB1c2goRE9NUHVyaWZ5LnJlbW92ZWQsIHtcbiAgICAgICAgYXR0cmlidXRlOiBudWxsLFxuICAgICAgICBmcm9tOiBlbGVtZW50XG4gICAgICB9KTtcbiAgICB9XG4gICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG4gICAgLy8gV2Ugdm9pZCBhdHRyaWJ1dGUgdmFsdWVzIGZvciB1bnJlbW92YWJsZSBcImlzXCIgYXR0cmlidXRlc1xuICAgIGlmIChuYW1lID09PSAnaXMnKSB7XG4gICAgICBpZiAoUkVUVVJOX0RPTSB8fCBSRVRVUk5fRE9NX0ZSQUdNRU5UKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgX2ZvcmNlUmVtb3ZlKGVsZW1lbnQpO1xuICAgICAgICB9IGNhdGNoIChfKSB7fVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShuYW1lLCAnJyk7XG4gICAgICAgIH0gY2F0Y2ggKF8pIHt9XG4gICAgICB9XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogX2luaXREb2N1bWVudFxuICAgKlxuICAgKiBAcGFyYW0gZGlydHkgLSBhIHN0cmluZyBvZiBkaXJ0eSBtYXJrdXBcbiAgICogQHJldHVybiBhIERPTSwgZmlsbGVkIHdpdGggdGhlIGRpcnR5IG1hcmt1cFxuICAgKi9cbiAgY29uc3QgX2luaXREb2N1bWVudCA9IGZ1bmN0aW9uIF9pbml0RG9jdW1lbnQoZGlydHkpIHtcbiAgICAvKiBDcmVhdGUgYSBIVE1MIGRvY3VtZW50ICovXG4gICAgbGV0IGRvYyA9IG51bGw7XG4gICAgbGV0IGxlYWRpbmdXaGl0ZXNwYWNlID0gbnVsbDtcbiAgICBpZiAoRk9SQ0VfQk9EWSkge1xuICAgICAgZGlydHkgPSAnPHJlbW92ZT48L3JlbW92ZT4nICsgZGlydHk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8qIElmIEZPUkNFX0JPRFkgaXNuJ3QgdXNlZCwgbGVhZGluZyB3aGl0ZXNwYWNlIG5lZWRzIHRvIGJlIHByZXNlcnZlZCBtYW51YWxseSAqL1xuICAgICAgY29uc3QgbWF0Y2hlcyA9IHN0cmluZ01hdGNoKGRpcnR5LCAvXltcXHJcXG5cXHQgXSsvKTtcbiAgICAgIGxlYWRpbmdXaGl0ZXNwYWNlID0gbWF0Y2hlcyAmJiBtYXRjaGVzWzBdO1xuICAgIH1cbiAgICBpZiAoUEFSU0VSX01FRElBX1RZUEUgPT09ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnICYmIE5BTUVTUEFDRSA9PT0gSFRNTF9OQU1FU1BBQ0UpIHtcbiAgICAgIC8vIFJvb3Qgb2YgWEhUTUwgZG9jIG11c3QgY29udGFpbiB4bWxucyBkZWNsYXJhdGlvbiAoc2VlIGh0dHBzOi8vd3d3LnczLm9yZy9UUi94aHRtbDEvbm9ybWF0aXZlLmh0bWwjc3RyaWN0KVxuICAgICAgZGlydHkgPSAnPGh0bWwgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXCI+PGhlYWQ+PC9oZWFkPjxib2R5PicgKyBkaXJ0eSArICc8L2JvZHk+PC9odG1sPic7XG4gICAgfVxuICAgIGNvbnN0IGRpcnR5UGF5bG9hZCA9IHRydXN0ZWRUeXBlc1BvbGljeSA/IHRydXN0ZWRUeXBlc1BvbGljeS5jcmVhdGVIVE1MKGRpcnR5KSA6IGRpcnR5O1xuICAgIC8qXG4gICAgICogVXNlIHRoZSBET01QYXJzZXIgQVBJIGJ5IGRlZmF1bHQsIGZhbGxiYWNrIGxhdGVyIGlmIG5lZWRzIGJlXG4gICAgICogRE9NUGFyc2VyIG5vdCB3b3JrIGZvciBzdmcgd2hlbiBoYXMgbXVsdGlwbGUgcm9vdCBlbGVtZW50LlxuICAgICAqL1xuICAgIGlmIChOQU1FU1BBQ0UgPT09IEhUTUxfTkFNRVNQQUNFKSB7XG4gICAgICB0cnkge1xuICAgICAgICBkb2MgPSBuZXcgRE9NUGFyc2VyKCkucGFyc2VGcm9tU3RyaW5nKGRpcnR5UGF5bG9hZCwgUEFSU0VSX01FRElBX1RZUEUpO1xuICAgICAgfSBjYXRjaCAoXykge31cbiAgICB9XG4gICAgLyogVXNlIGNyZWF0ZUhUTUxEb2N1bWVudCBpbiBjYXNlIERPTVBhcnNlciBpcyBub3QgYXZhaWxhYmxlICovXG4gICAgaWYgKCFkb2MgfHwgIWRvYy5kb2N1bWVudEVsZW1lbnQpIHtcbiAgICAgIGRvYyA9IGltcGxlbWVudGF0aW9uLmNyZWF0ZURvY3VtZW50KE5BTUVTUEFDRSwgJ3RlbXBsYXRlJywgbnVsbCk7XG4gICAgICB0cnkge1xuICAgICAgICBkb2MuZG9jdW1lbnRFbGVtZW50LmlubmVySFRNTCA9IElTX0VNUFRZX0lOUFVUID8gZW1wdHlIVE1MIDogZGlydHlQYXlsb2FkO1xuICAgICAgfSBjYXRjaCAoXykge1xuICAgICAgICAvLyBTeW50YXggZXJyb3IgaWYgZGlydHlQYXlsb2FkIGlzIGludmFsaWQgeG1sXG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGJvZHkgPSBkb2MuYm9keSB8fCBkb2MuZG9jdW1lbnRFbGVtZW50O1xuICAgIGlmIChkaXJ0eSAmJiBsZWFkaW5nV2hpdGVzcGFjZSkge1xuICAgICAgYm9keS5pbnNlcnRCZWZvcmUoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobGVhZGluZ1doaXRlc3BhY2UpLCBib2R5LmNoaWxkTm9kZXNbMF0gfHwgbnVsbCk7XG4gICAgfVxuICAgIC8qIFdvcmsgb24gd2hvbGUgZG9jdW1lbnQgb3IganVzdCBpdHMgYm9keSAqL1xuICAgIGlmIChOQU1FU1BBQ0UgPT09IEhUTUxfTkFNRVNQQUNFKSB7XG4gICAgICByZXR1cm4gZ2V0RWxlbWVudHNCeVRhZ05hbWUuY2FsbChkb2MsIFdIT0xFX0RPQ1VNRU5UID8gJ2h0bWwnIDogJ2JvZHknKVswXTtcbiAgICB9XG4gICAgcmV0dXJuIFdIT0xFX0RPQ1VNRU5UID8gZG9jLmRvY3VtZW50RWxlbWVudCA6IGJvZHk7XG4gIH07XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgTm9kZUl0ZXJhdG9yIG9iamVjdCB0aGF0IHlvdSBjYW4gdXNlIHRvIHRyYXZlcnNlIGZpbHRlcmVkIGxpc3RzIG9mIG5vZGVzIG9yIGVsZW1lbnRzIGluIGEgZG9jdW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSByb290IFRoZSByb290IGVsZW1lbnQgb3Igbm9kZSB0byBzdGFydCB0cmF2ZXJzaW5nIG9uLlxuICAgKiBAcmV0dXJuIFRoZSBjcmVhdGVkIE5vZGVJdGVyYXRvclxuICAgKi9cbiAgY29uc3QgX2NyZWF0ZU5vZGVJdGVyYXRvciA9IGZ1bmN0aW9uIF9jcmVhdGVOb2RlSXRlcmF0b3Iocm9vdCkge1xuICAgIHJldHVybiBjcmVhdGVOb2RlSXRlcmF0b3IuY2FsbChyb290Lm93bmVyRG9jdW1lbnQgfHwgcm9vdCwgcm9vdCxcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tYml0d2lzZVxuICAgIE5vZGVGaWx0ZXIuU0hPV19FTEVNRU5UIHwgTm9kZUZpbHRlci5TSE9XX0NPTU1FTlQgfCBOb2RlRmlsdGVyLlNIT1dfVEVYVCB8IE5vZGVGaWx0ZXIuU0hPV19QUk9DRVNTSU5HX0lOU1RSVUNUSU9OIHwgTm9kZUZpbHRlci5TSE9XX0NEQVRBX1NFQ1RJT04sIG51bGwpO1xuICB9O1xuICAvKipcbiAgICogX2lzQ2xvYmJlcmVkXG4gICAqXG4gICAqIEBwYXJhbSBlbGVtZW50IGVsZW1lbnQgdG8gY2hlY2sgZm9yIGNsb2JiZXJpbmcgYXR0YWNrc1xuICAgKiBAcmV0dXJuIHRydWUgaWYgY2xvYmJlcmVkLCBmYWxzZSBpZiBzYWZlXG4gICAqL1xuICBjb25zdCBfaXNDbG9iYmVyZWQgPSBmdW5jdGlvbiBfaXNDbG9iYmVyZWQoZWxlbWVudCkge1xuICAgIHJldHVybiBlbGVtZW50IGluc3RhbmNlb2YgSFRNTEZvcm1FbGVtZW50ICYmICh0eXBlb2YgZWxlbWVudC5ub2RlTmFtZSAhPT0gJ3N0cmluZycgfHwgdHlwZW9mIGVsZW1lbnQudGV4dENvbnRlbnQgIT09ICdzdHJpbmcnIHx8IHR5cGVvZiBlbGVtZW50LnJlbW92ZUNoaWxkICE9PSAnZnVuY3Rpb24nIHx8ICEoZWxlbWVudC5hdHRyaWJ1dGVzIGluc3RhbmNlb2YgTmFtZWROb2RlTWFwKSB8fCB0eXBlb2YgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUgIT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIGVsZW1lbnQuc2V0QXR0cmlidXRlICE9PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiBlbGVtZW50Lm5hbWVzcGFjZVVSSSAhPT0gJ3N0cmluZycgfHwgdHlwZW9mIGVsZW1lbnQuaW5zZXJ0QmVmb3JlICE9PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiBlbGVtZW50Lmhhc0NoaWxkTm9kZXMgIT09ICdmdW5jdGlvbicpO1xuICB9O1xuICAvKipcbiAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIGdpdmVuIG9iamVjdCBpcyBhIERPTSBub2RlLlxuICAgKlxuICAgKiBAcGFyYW0gdmFsdWUgb2JqZWN0IHRvIGNoZWNrIHdoZXRoZXIgaXQncyBhIERPTSBub2RlXG4gICAqIEByZXR1cm4gdHJ1ZSBpcyBvYmplY3QgaXMgYSBET00gbm9kZVxuICAgKi9cbiAgY29uc3QgX2lzTm9kZSA9IGZ1bmN0aW9uIF9pc05vZGUodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIE5vZGUgPT09ICdmdW5jdGlvbicgJiYgdmFsdWUgaW5zdGFuY2VvZiBOb2RlO1xuICB9O1xuICBmdW5jdGlvbiBfZXhlY3V0ZUhvb2tzKGhvb2tzLCBjdXJyZW50Tm9kZSwgZGF0YSkge1xuICAgIGFycmF5Rm9yRWFjaChob29rcywgaG9vayA9PiB7XG4gICAgICBob29rLmNhbGwoRE9NUHVyaWZ5LCBjdXJyZW50Tm9kZSwgZGF0YSwgQ09ORklHKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogX3Nhbml0aXplRWxlbWVudHNcbiAgICpcbiAgICogQHByb3RlY3Qgbm9kZU5hbWVcbiAgICogQHByb3RlY3QgdGV4dENvbnRlbnRcbiAgICogQHByb3RlY3QgcmVtb3ZlQ2hpbGRcbiAgICogQHBhcmFtIGN1cnJlbnROb2RlIHRvIGNoZWNrIGZvciBwZXJtaXNzaW9uIHRvIGV4aXN0XG4gICAqIEByZXR1cm4gdHJ1ZSBpZiBub2RlIHdhcyBraWxsZWQsIGZhbHNlIGlmIGxlZnQgYWxpdmVcbiAgICovXG4gIGNvbnN0IF9zYW5pdGl6ZUVsZW1lbnRzID0gZnVuY3Rpb24gX3Nhbml0aXplRWxlbWVudHMoY3VycmVudE5vZGUpIHtcbiAgICBsZXQgY29udGVudCA9IG51bGw7XG4gICAgLyogRXhlY3V0ZSBhIGhvb2sgaWYgcHJlc2VudCAqL1xuICAgIF9leGVjdXRlSG9va3MoaG9va3MuYmVmb3JlU2FuaXRpemVFbGVtZW50cywgY3VycmVudE5vZGUsIG51bGwpO1xuICAgIC8qIENoZWNrIGlmIGVsZW1lbnQgaXMgY2xvYmJlcmVkIG9yIGNhbiBjbG9iYmVyICovXG4gICAgaWYgKF9pc0Nsb2JiZXJlZChjdXJyZW50Tm9kZSkpIHtcbiAgICAgIF9mb3JjZVJlbW92ZShjdXJyZW50Tm9kZSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLyogTm93IGxldCdzIGNoZWNrIHRoZSBlbGVtZW50J3MgdHlwZSBhbmQgbmFtZSAqL1xuICAgIGNvbnN0IHRhZ05hbWUgPSB0cmFuc2Zvcm1DYXNlRnVuYyhjdXJyZW50Tm9kZS5ub2RlTmFtZSk7XG4gICAgLyogRXhlY3V0ZSBhIGhvb2sgaWYgcHJlc2VudCAqL1xuICAgIF9leGVjdXRlSG9va3MoaG9va3MudXBvblNhbml0aXplRWxlbWVudCwgY3VycmVudE5vZGUsIHtcbiAgICAgIHRhZ05hbWUsXG4gICAgICBhbGxvd2VkVGFnczogQUxMT1dFRF9UQUdTXG4gICAgfSk7XG4gICAgLyogRGV0ZWN0IG1YU1MgYXR0ZW1wdHMgYWJ1c2luZyBuYW1lc3BhY2UgY29uZnVzaW9uICovXG4gICAgaWYgKFNBRkVfRk9SX1hNTCAmJiBjdXJyZW50Tm9kZS5oYXNDaGlsZE5vZGVzKCkgJiYgIV9pc05vZGUoY3VycmVudE5vZGUuZmlyc3RFbGVtZW50Q2hpbGQpICYmIHJlZ0V4cFRlc3QoLzxbL1xcdyFdL2csIGN1cnJlbnROb2RlLmlubmVySFRNTCkgJiYgcmVnRXhwVGVzdCgvPFsvXFx3IV0vZywgY3VycmVudE5vZGUudGV4dENvbnRlbnQpKSB7XG4gICAgICBfZm9yY2VSZW1vdmUoY3VycmVudE5vZGUpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8qIFJlbW92ZSBhbnkgb2NjdXJyZW5jZSBvZiBwcm9jZXNzaW5nIGluc3RydWN0aW9ucyAqL1xuICAgIGlmIChjdXJyZW50Tm9kZS5ub2RlVHlwZSA9PT0gTk9ERV9UWVBFLnByb2dyZXNzaW5nSW5zdHJ1Y3Rpb24pIHtcbiAgICAgIF9mb3JjZVJlbW92ZShjdXJyZW50Tm9kZSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLyogUmVtb3ZlIGFueSBraW5kIG9mIHBvc3NpYmx5IGhhcm1mdWwgY29tbWVudHMgKi9cbiAgICBpZiAoU0FGRV9GT1JfWE1MICYmIGN1cnJlbnROb2RlLm5vZGVUeXBlID09PSBOT0RFX1RZUEUuY29tbWVudCAmJiByZWdFeHBUZXN0KC88Wy9cXHddL2csIGN1cnJlbnROb2RlLmRhdGEpKSB7XG4gICAgICBfZm9yY2VSZW1vdmUoY3VycmVudE5vZGUpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8qIFJlbW92ZSBlbGVtZW50IGlmIGFueXRoaW5nIGZvcmJpZHMgaXRzIHByZXNlbmNlICovXG4gICAgaWYgKCEoRVhUUkFfRUxFTUVOVF9IQU5ETElORy50YWdDaGVjayBpbnN0YW5jZW9mIEZ1bmN0aW9uICYmIEVYVFJBX0VMRU1FTlRfSEFORExJTkcudGFnQ2hlY2sodGFnTmFtZSkpICYmICghQUxMT1dFRF9UQUdTW3RhZ05hbWVdIHx8IEZPUkJJRF9UQUdTW3RhZ05hbWVdKSkge1xuICAgICAgLyogQ2hlY2sgaWYgd2UgaGF2ZSBhIGN1c3RvbSBlbGVtZW50IHRvIGhhbmRsZSAqL1xuICAgICAgaWYgKCFGT1JCSURfVEFHU1t0YWdOYW1lXSAmJiBfaXNCYXNpY0N1c3RvbUVsZW1lbnQodGFnTmFtZSkpIHtcbiAgICAgICAgaWYgKENVU1RPTV9FTEVNRU5UX0hBTkRMSU5HLnRhZ05hbWVDaGVjayBpbnN0YW5jZW9mIFJlZ0V4cCAmJiByZWdFeHBUZXN0KENVU1RPTV9FTEVNRU5UX0hBTkRMSU5HLnRhZ05hbWVDaGVjaywgdGFnTmFtZSkpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKENVU1RPTV9FTEVNRU5UX0hBTkRMSU5HLnRhZ05hbWVDaGVjayBpbnN0YW5jZW9mIEZ1bmN0aW9uICYmIENVU1RPTV9FTEVNRU5UX0hBTkRMSU5HLnRhZ05hbWVDaGVjayh0YWdOYW1lKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLyogS2VlcCBjb250ZW50IGV4Y2VwdCBmb3IgYmFkLWxpc3RlZCBlbGVtZW50cyAqL1xuICAgICAgaWYgKEtFRVBfQ09OVEVOVCAmJiAhRk9SQklEX0NPTlRFTlRTW3RhZ05hbWVdKSB7XG4gICAgICAgIGNvbnN0IHBhcmVudE5vZGUgPSBnZXRQYXJlbnROb2RlKGN1cnJlbnROb2RlKSB8fCBjdXJyZW50Tm9kZS5wYXJlbnROb2RlO1xuICAgICAgICBjb25zdCBjaGlsZE5vZGVzID0gZ2V0Q2hpbGROb2RlcyhjdXJyZW50Tm9kZSkgfHwgY3VycmVudE5vZGUuY2hpbGROb2RlcztcbiAgICAgICAgaWYgKGNoaWxkTm9kZXMgJiYgcGFyZW50Tm9kZSkge1xuICAgICAgICAgIGNvbnN0IGNoaWxkQ291bnQgPSBjaGlsZE5vZGVzLmxlbmd0aDtcbiAgICAgICAgICBmb3IgKGxldCBpID0gY2hpbGRDb3VudCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgICAgICBjb25zdCBjaGlsZENsb25lID0gY2xvbmVOb2RlKGNoaWxkTm9kZXNbaV0sIHRydWUpO1xuICAgICAgICAgICAgY2hpbGRDbG9uZS5fX3JlbW92YWxDb3VudCA9IChjdXJyZW50Tm9kZS5fX3JlbW92YWxDb3VudCB8fCAwKSArIDE7XG4gICAgICAgICAgICBwYXJlbnROb2RlLmluc2VydEJlZm9yZShjaGlsZENsb25lLCBnZXROZXh0U2libGluZyhjdXJyZW50Tm9kZSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgX2ZvcmNlUmVtb3ZlKGN1cnJlbnROb2RlKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvKiBDaGVjayB3aGV0aGVyIGVsZW1lbnQgaGFzIGEgdmFsaWQgbmFtZXNwYWNlICovXG4gICAgaWYgKGN1cnJlbnROb2RlIGluc3RhbmNlb2YgRWxlbWVudCAmJiAhX2NoZWNrVmFsaWROYW1lc3BhY2UoY3VycmVudE5vZGUpKSB7XG4gICAgICBfZm9yY2VSZW1vdmUoY3VycmVudE5vZGUpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8qIE1ha2Ugc3VyZSB0aGF0IG9sZGVyIGJyb3dzZXJzIGRvbid0IGdldCBmYWxsYmFjay10YWcgbVhTUyAqL1xuICAgIGlmICgodGFnTmFtZSA9PT0gJ25vc2NyaXB0JyB8fCB0YWdOYW1lID09PSAnbm9lbWJlZCcgfHwgdGFnTmFtZSA9PT0gJ25vZnJhbWVzJykgJiYgcmVnRXhwVGVzdCgvPFxcL25vKHNjcmlwdHxlbWJlZHxmcmFtZXMpL2ksIGN1cnJlbnROb2RlLmlubmVySFRNTCkpIHtcbiAgICAgIF9mb3JjZVJlbW92ZShjdXJyZW50Tm9kZSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLyogU2FuaXRpemUgZWxlbWVudCBjb250ZW50IHRvIGJlIHRlbXBsYXRlLXNhZmUgKi9cbiAgICBpZiAoU0FGRV9GT1JfVEVNUExBVEVTICYmIGN1cnJlbnROb2RlLm5vZGVUeXBlID09PSBOT0RFX1RZUEUudGV4dCkge1xuICAgICAgLyogR2V0IHRoZSBlbGVtZW50J3MgdGV4dCBjb250ZW50ICovXG4gICAgICBjb250ZW50ID0gY3VycmVudE5vZGUudGV4dENvbnRlbnQ7XG4gICAgICBhcnJheUZvckVhY2goW01VU1RBQ0hFX0VYUFIsIEVSQl9FWFBSLCBUTVBMSVRfRVhQUl0sIGV4cHIgPT4ge1xuICAgICAgICBjb250ZW50ID0gc3RyaW5nUmVwbGFjZShjb250ZW50LCBleHByLCAnICcpO1xuICAgICAgfSk7XG4gICAgICBpZiAoY3VycmVudE5vZGUudGV4dENvbnRlbnQgIT09IGNvbnRlbnQpIHtcbiAgICAgICAgYXJyYXlQdXNoKERPTVB1cmlmeS5yZW1vdmVkLCB7XG4gICAgICAgICAgZWxlbWVudDogY3VycmVudE5vZGUuY2xvbmVOb2RlKClcbiAgICAgICAgfSk7XG4gICAgICAgIGN1cnJlbnROb2RlLnRleHRDb250ZW50ID0gY29udGVudDtcbiAgICAgIH1cbiAgICB9XG4gICAgLyogRXhlY3V0ZSBhIGhvb2sgaWYgcHJlc2VudCAqL1xuICAgIF9leGVjdXRlSG9va3MoaG9va3MuYWZ0ZXJTYW5pdGl6ZUVsZW1lbnRzLCBjdXJyZW50Tm9kZSwgbnVsbCk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuICAvKipcbiAgICogX2lzVmFsaWRBdHRyaWJ1dGVcbiAgICpcbiAgICogQHBhcmFtIGxjVGFnIExvd2VyY2FzZSB0YWcgbmFtZSBvZiBjb250YWluaW5nIGVsZW1lbnQuXG4gICAqIEBwYXJhbSBsY05hbWUgTG93ZXJjYXNlIGF0dHJpYnV0ZSBuYW1lLlxuICAgKiBAcGFyYW0gdmFsdWUgQXR0cmlidXRlIHZhbHVlLlxuICAgKiBAcmV0dXJuIFJldHVybnMgdHJ1ZSBpZiBgdmFsdWVgIGlzIHZhbGlkLCBvdGhlcndpc2UgZmFsc2UuXG4gICAqL1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29tcGxleGl0eVxuICBjb25zdCBfaXNWYWxpZEF0dHJpYnV0ZSA9IGZ1bmN0aW9uIF9pc1ZhbGlkQXR0cmlidXRlKGxjVGFnLCBsY05hbWUsIHZhbHVlKSB7XG4gICAgLyogTWFrZSBzdXJlIGF0dHJpYnV0ZSBjYW5ub3QgY2xvYmJlciAqL1xuICAgIGlmIChTQU5JVElaRV9ET00gJiYgKGxjTmFtZSA9PT0gJ2lkJyB8fCBsY05hbWUgPT09ICduYW1lJykgJiYgKHZhbHVlIGluIGRvY3VtZW50IHx8IHZhbHVlIGluIGZvcm1FbGVtZW50KSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvKiBBbGxvdyB2YWxpZCBkYXRhLSogYXR0cmlidXRlczogQXQgbGVhc3Qgb25lIGNoYXJhY3RlciBhZnRlciBcIi1cIlxuICAgICAgICAoaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvZG9tLmh0bWwjZW1iZWRkaW5nLWN1c3RvbS1ub24tdmlzaWJsZS1kYXRhLXdpdGgtdGhlLWRhdGEtKi1hdHRyaWJ1dGVzKVxuICAgICAgICBYTUwtY29tcGF0aWJsZSAoaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvaW5mcmFzdHJ1Y3R1cmUuaHRtbCN4bWwtY29tcGF0aWJsZSBhbmQgaHR0cDovL3d3dy53My5vcmcvVFIveG1sLyNkMGU4MDQpXG4gICAgICAgIFdlIGRvbid0IG5lZWQgdG8gY2hlY2sgdGhlIHZhbHVlOyBpdCdzIGFsd2F5cyBVUkkgc2FmZS4gKi9cbiAgICBpZiAoQUxMT1dfREFUQV9BVFRSICYmICFGT1JCSURfQVRUUltsY05hbWVdICYmIHJlZ0V4cFRlc3QoREFUQV9BVFRSLCBsY05hbWUpKSA7IGVsc2UgaWYgKEFMTE9XX0FSSUFfQVRUUiAmJiByZWdFeHBUZXN0KEFSSUFfQVRUUiwgbGNOYW1lKSkgOyBlbHNlIGlmIChFWFRSQV9FTEVNRU5UX0hBTkRMSU5HLmF0dHJpYnV0ZUNoZWNrIGluc3RhbmNlb2YgRnVuY3Rpb24gJiYgRVhUUkFfRUxFTUVOVF9IQU5ETElORy5hdHRyaWJ1dGVDaGVjayhsY05hbWUsIGxjVGFnKSkgOyBlbHNlIGlmICghQUxMT1dFRF9BVFRSW2xjTmFtZV0gfHwgRk9SQklEX0FUVFJbbGNOYW1lXSkge1xuICAgICAgaWYgKFxuICAgICAgLy8gRmlyc3QgY29uZGl0aW9uIGRvZXMgYSB2ZXJ5IGJhc2ljIGNoZWNrIGlmIGEpIGl0J3MgYmFzaWNhbGx5IGEgdmFsaWQgY3VzdG9tIGVsZW1lbnQgdGFnbmFtZSBBTkRcbiAgICAgIC8vIGIpIGlmIHRoZSB0YWdOYW1lIHBhc3NlcyB3aGF0ZXZlciB0aGUgdXNlciBoYXMgY29uZmlndXJlZCBmb3IgQ1VTVE9NX0VMRU1FTlRfSEFORExJTkcudGFnTmFtZUNoZWNrXG4gICAgICAvLyBhbmQgYykgaWYgdGhlIGF0dHJpYnV0ZSBuYW1lIHBhc3NlcyB3aGF0ZXZlciB0aGUgdXNlciBoYXMgY29uZmlndXJlZCBmb3IgQ1VTVE9NX0VMRU1FTlRfSEFORExJTkcuYXR0cmlidXRlTmFtZUNoZWNrXG4gICAgICBfaXNCYXNpY0N1c3RvbUVsZW1lbnQobGNUYWcpICYmIChDVVNUT01fRUxFTUVOVF9IQU5ETElORy50YWdOYW1lQ2hlY2sgaW5zdGFuY2VvZiBSZWdFeHAgJiYgcmVnRXhwVGVzdChDVVNUT01fRUxFTUVOVF9IQU5ETElORy50YWdOYW1lQ2hlY2ssIGxjVGFnKSB8fCBDVVNUT01fRUxFTUVOVF9IQU5ETElORy50YWdOYW1lQ2hlY2sgaW5zdGFuY2VvZiBGdW5jdGlvbiAmJiBDVVNUT01fRUxFTUVOVF9IQU5ETElORy50YWdOYW1lQ2hlY2sobGNUYWcpKSAmJiAoQ1VTVE9NX0VMRU1FTlRfSEFORExJTkcuYXR0cmlidXRlTmFtZUNoZWNrIGluc3RhbmNlb2YgUmVnRXhwICYmIHJlZ0V4cFRlc3QoQ1VTVE9NX0VMRU1FTlRfSEFORExJTkcuYXR0cmlidXRlTmFtZUNoZWNrLCBsY05hbWUpIHx8IENVU1RPTV9FTEVNRU5UX0hBTkRMSU5HLmF0dHJpYnV0ZU5hbWVDaGVjayBpbnN0YW5jZW9mIEZ1bmN0aW9uICYmIENVU1RPTV9FTEVNRU5UX0hBTkRMSU5HLmF0dHJpYnV0ZU5hbWVDaGVjayhsY05hbWUsIGxjVGFnKSkgfHxcbiAgICAgIC8vIEFsdGVybmF0aXZlLCBzZWNvbmQgY29uZGl0aW9uIGNoZWNrcyBpZiBpdCdzIGFuIGBpc2AtYXR0cmlidXRlLCBBTkRcbiAgICAgIC8vIHRoZSB2YWx1ZSBwYXNzZXMgd2hhdGV2ZXIgdGhlIHVzZXIgaGFzIGNvbmZpZ3VyZWQgZm9yIENVU1RPTV9FTEVNRU5UX0hBTkRMSU5HLnRhZ05hbWVDaGVja1xuICAgICAgbGNOYW1lID09PSAnaXMnICYmIENVU1RPTV9FTEVNRU5UX0hBTkRMSU5HLmFsbG93Q3VzdG9taXplZEJ1aWx0SW5FbGVtZW50cyAmJiAoQ1VTVE9NX0VMRU1FTlRfSEFORExJTkcudGFnTmFtZUNoZWNrIGluc3RhbmNlb2YgUmVnRXhwICYmIHJlZ0V4cFRlc3QoQ1VTVE9NX0VMRU1FTlRfSEFORExJTkcudGFnTmFtZUNoZWNrLCB2YWx1ZSkgfHwgQ1VTVE9NX0VMRU1FTlRfSEFORExJTkcudGFnTmFtZUNoZWNrIGluc3RhbmNlb2YgRnVuY3Rpb24gJiYgQ1VTVE9NX0VMRU1FTlRfSEFORExJTkcudGFnTmFtZUNoZWNrKHZhbHVlKSkpIDsgZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIC8qIENoZWNrIHZhbHVlIGlzIHNhZmUuIEZpcnN0LCBpcyBhdHRyIGluZXJ0PyBJZiBzbywgaXMgc2FmZSAqL1xuICAgIH0gZWxzZSBpZiAoVVJJX1NBRkVfQVRUUklCVVRFU1tsY05hbWVdKSA7IGVsc2UgaWYgKHJlZ0V4cFRlc3QoSVNfQUxMT1dFRF9VUkkkMSwgc3RyaW5nUmVwbGFjZSh2YWx1ZSwgQVRUUl9XSElURVNQQUNFLCAnJykpKSA7IGVsc2UgaWYgKChsY05hbWUgPT09ICdzcmMnIHx8IGxjTmFtZSA9PT0gJ3hsaW5rOmhyZWYnIHx8IGxjTmFtZSA9PT0gJ2hyZWYnKSAmJiBsY1RhZyAhPT0gJ3NjcmlwdCcgJiYgc3RyaW5nSW5kZXhPZih2YWx1ZSwgJ2RhdGE6JykgPT09IDAgJiYgREFUQV9VUklfVEFHU1tsY1RhZ10pIDsgZWxzZSBpZiAoQUxMT1dfVU5LTk9XTl9QUk9UT0NPTFMgJiYgIXJlZ0V4cFRlc3QoSVNfU0NSSVBUX09SX0RBVEEsIHN0cmluZ1JlcGxhY2UodmFsdWUsIEFUVFJfV0hJVEVTUEFDRSwgJycpKSkgOyBlbHNlIGlmICh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSA7XG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG4gIC8qKlxuICAgKiBfaXNCYXNpY0N1c3RvbUVsZW1lbnRcbiAgICogY2hlY2tzIGlmIGF0IGxlYXN0IG9uZSBkYXNoIGlzIGluY2x1ZGVkIGluIHRhZ05hbWUsIGFuZCBpdCdzIG5vdCB0aGUgZmlyc3QgY2hhclxuICAgKiBmb3IgbW9yZSBzb3BoaXN0aWNhdGVkIGNoZWNraW5nIHNlZSBodHRwczovL2dpdGh1Yi5jb20vc2luZHJlc29yaHVzL3ZhbGlkYXRlLWVsZW1lbnQtbmFtZVxuICAgKlxuICAgKiBAcGFyYW0gdGFnTmFtZSBuYW1lIG9mIHRoZSB0YWcgb2YgdGhlIG5vZGUgdG8gc2FuaXRpemVcbiAgICogQHJldHVybnMgUmV0dXJucyB0cnVlIGlmIHRoZSB0YWcgbmFtZSBtZWV0cyB0aGUgYmFzaWMgY3JpdGVyaWEgZm9yIGEgY3VzdG9tIGVsZW1lbnQsIG90aGVyd2lzZSBmYWxzZS5cbiAgICovXG4gIGNvbnN0IF9pc0Jhc2ljQ3VzdG9tRWxlbWVudCA9IGZ1bmN0aW9uIF9pc0Jhc2ljQ3VzdG9tRWxlbWVudCh0YWdOYW1lKSB7XG4gICAgcmV0dXJuIHRhZ05hbWUgIT09ICdhbm5vdGF0aW9uLXhtbCcgJiYgc3RyaW5nTWF0Y2godGFnTmFtZSwgQ1VTVE9NX0VMRU1FTlQpO1xuICB9O1xuICAvKipcbiAgICogX3Nhbml0aXplQXR0cmlidXRlc1xuICAgKlxuICAgKiBAcHJvdGVjdCBhdHRyaWJ1dGVzXG4gICAqIEBwcm90ZWN0IG5vZGVOYW1lXG4gICAqIEBwcm90ZWN0IHJlbW92ZUF0dHJpYnV0ZVxuICAgKiBAcHJvdGVjdCBzZXRBdHRyaWJ1dGVcbiAgICpcbiAgICogQHBhcmFtIGN1cnJlbnROb2RlIHRvIHNhbml0aXplXG4gICAqL1xuICBjb25zdCBfc2FuaXRpemVBdHRyaWJ1dGVzID0gZnVuY3Rpb24gX3Nhbml0aXplQXR0cmlidXRlcyhjdXJyZW50Tm9kZSkge1xuICAgIC8qIEV4ZWN1dGUgYSBob29rIGlmIHByZXNlbnQgKi9cbiAgICBfZXhlY3V0ZUhvb2tzKGhvb2tzLmJlZm9yZVNhbml0aXplQXR0cmlidXRlcywgY3VycmVudE5vZGUsIG51bGwpO1xuICAgIGNvbnN0IHtcbiAgICAgIGF0dHJpYnV0ZXNcbiAgICB9ID0gY3VycmVudE5vZGU7XG4gICAgLyogQ2hlY2sgaWYgd2UgaGF2ZSBhdHRyaWJ1dGVzOyBpZiBub3Qgd2UgbWlnaHQgaGF2ZSBhIHRleHQgbm9kZSAqL1xuICAgIGlmICghYXR0cmlidXRlcyB8fCBfaXNDbG9iYmVyZWQoY3VycmVudE5vZGUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGhvb2tFdmVudCA9IHtcbiAgICAgIGF0dHJOYW1lOiAnJyxcbiAgICAgIGF0dHJWYWx1ZTogJycsXG4gICAgICBrZWVwQXR0cjogdHJ1ZSxcbiAgICAgIGFsbG93ZWRBdHRyaWJ1dGVzOiBBTExPV0VEX0FUVFIsXG4gICAgICBmb3JjZUtlZXBBdHRyOiB1bmRlZmluZWRcbiAgICB9O1xuICAgIGxldCBsID0gYXR0cmlidXRlcy5sZW5ndGg7XG4gICAgLyogR28gYmFja3dhcmRzIG92ZXIgYWxsIGF0dHJpYnV0ZXM7IHNhZmVseSByZW1vdmUgYmFkIG9uZXMgKi9cbiAgICB3aGlsZSAobC0tKSB7XG4gICAgICBjb25zdCBhdHRyID0gYXR0cmlidXRlc1tsXTtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgbmFtZSxcbiAgICAgICAgbmFtZXNwYWNlVVJJLFxuICAgICAgICB2YWx1ZTogYXR0clZhbHVlXG4gICAgICB9ID0gYXR0cjtcbiAgICAgIGNvbnN0IGxjTmFtZSA9IHRyYW5zZm9ybUNhc2VGdW5jKG5hbWUpO1xuICAgICAgY29uc3QgaW5pdFZhbHVlID0gYXR0clZhbHVlO1xuICAgICAgbGV0IHZhbHVlID0gbmFtZSA9PT0gJ3ZhbHVlJyA/IGluaXRWYWx1ZSA6IHN0cmluZ1RyaW0oaW5pdFZhbHVlKTtcbiAgICAgIC8qIEV4ZWN1dGUgYSBob29rIGlmIHByZXNlbnQgKi9cbiAgICAgIGhvb2tFdmVudC5hdHRyTmFtZSA9IGxjTmFtZTtcbiAgICAgIGhvb2tFdmVudC5hdHRyVmFsdWUgPSB2YWx1ZTtcbiAgICAgIGhvb2tFdmVudC5rZWVwQXR0ciA9IHRydWU7XG4gICAgICBob29rRXZlbnQuZm9yY2VLZWVwQXR0ciA9IHVuZGVmaW5lZDsgLy8gQWxsb3dzIGRldmVsb3BlcnMgdG8gc2VlIHRoaXMgaXMgYSBwcm9wZXJ0eSB0aGV5IGNhbiBzZXRcbiAgICAgIF9leGVjdXRlSG9va3MoaG9va3MudXBvblNhbml0aXplQXR0cmlidXRlLCBjdXJyZW50Tm9kZSwgaG9va0V2ZW50KTtcbiAgICAgIHZhbHVlID0gaG9va0V2ZW50LmF0dHJWYWx1ZTtcbiAgICAgIC8qIEZ1bGwgRE9NIENsb2JiZXJpbmcgcHJvdGVjdGlvbiB2aWEgbmFtZXNwYWNlIGlzb2xhdGlvbixcbiAgICAgICAqIFByZWZpeCBpZCBhbmQgbmFtZSBhdHRyaWJ1dGVzIHdpdGggYHVzZXItY29udGVudC1gXG4gICAgICAgKi9cbiAgICAgIGlmIChTQU5JVElaRV9OQU1FRF9QUk9QUyAmJiAobGNOYW1lID09PSAnaWQnIHx8IGxjTmFtZSA9PT0gJ25hbWUnKSkge1xuICAgICAgICAvLyBSZW1vdmUgdGhlIGF0dHJpYnV0ZSB3aXRoIHRoaXMgdmFsdWVcbiAgICAgICAgX3JlbW92ZUF0dHJpYnV0ZShuYW1lLCBjdXJyZW50Tm9kZSk7XG4gICAgICAgIC8vIFByZWZpeCB0aGUgdmFsdWUgYW5kIGxhdGVyIHJlLWNyZWF0ZSB0aGUgYXR0cmlidXRlIHdpdGggdGhlIHNhbml0aXplZCB2YWx1ZVxuICAgICAgICB2YWx1ZSA9IFNBTklUSVpFX05BTUVEX1BST1BTX1BSRUZJWCArIHZhbHVlO1xuICAgICAgfVxuICAgICAgLyogV29yayBhcm91bmQgYSBzZWN1cml0eSBpc3N1ZSB3aXRoIGNvbW1lbnRzIGluc2lkZSBhdHRyaWJ1dGVzICovXG4gICAgICBpZiAoU0FGRV9GT1JfWE1MICYmIHJlZ0V4cFRlc3QoLygoLS0hP3xdKT4pfDxcXC8oc3R5bGV8dGl0bGV8dGV4dGFyZWEpL2ksIHZhbHVlKSkge1xuICAgICAgICBfcmVtb3ZlQXR0cmlidXRlKG5hbWUsIGN1cnJlbnROb2RlKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICAvKiBNYWtlIHN1cmUgd2UgY2Fubm90IGVhc2lseSB1c2UgYW5pbWF0ZWQgaHJlZnMsIGV2ZW4gaWYgYW5pbWF0aW9ucyBhcmUgYWxsb3dlZCAqL1xuICAgICAgaWYgKGxjTmFtZSA9PT0gJ2F0dHJpYnV0ZW5hbWUnICYmIHN0cmluZ01hdGNoKHZhbHVlLCAnaHJlZicpKSB7XG4gICAgICAgIF9yZW1vdmVBdHRyaWJ1dGUobmFtZSwgY3VycmVudE5vZGUpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIC8qIERpZCB0aGUgaG9va3MgYXBwcm92ZSBvZiB0aGUgYXR0cmlidXRlPyAqL1xuICAgICAgaWYgKGhvb2tFdmVudC5mb3JjZUtlZXBBdHRyKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgLyogRGlkIHRoZSBob29rcyBhcHByb3ZlIG9mIHRoZSBhdHRyaWJ1dGU/ICovXG4gICAgICBpZiAoIWhvb2tFdmVudC5rZWVwQXR0cikge1xuICAgICAgICBfcmVtb3ZlQXR0cmlidXRlKG5hbWUsIGN1cnJlbnROb2RlKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICAvKiBXb3JrIGFyb3VuZCBhIHNlY3VyaXR5IGlzc3VlIGluIGpRdWVyeSAzLjAgKi9cbiAgICAgIGlmICghQUxMT1dfU0VMRl9DTE9TRV9JTl9BVFRSICYmIHJlZ0V4cFRlc3QoL1xcLz4vaSwgdmFsdWUpKSB7XG4gICAgICAgIF9yZW1vdmVBdHRyaWJ1dGUobmFtZSwgY3VycmVudE5vZGUpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIC8qIFNhbml0aXplIGF0dHJpYnV0ZSBjb250ZW50IHRvIGJlIHRlbXBsYXRlLXNhZmUgKi9cbiAgICAgIGlmIChTQUZFX0ZPUl9URU1QTEFURVMpIHtcbiAgICAgICAgYXJyYXlGb3JFYWNoKFtNVVNUQUNIRV9FWFBSLCBFUkJfRVhQUiwgVE1QTElUX0VYUFJdLCBleHByID0+IHtcbiAgICAgICAgICB2YWx1ZSA9IHN0cmluZ1JlcGxhY2UodmFsdWUsIGV4cHIsICcgJyk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgLyogSXMgYHZhbHVlYCB2YWxpZCBmb3IgdGhpcyBhdHRyaWJ1dGU/ICovXG4gICAgICBjb25zdCBsY1RhZyA9IHRyYW5zZm9ybUNhc2VGdW5jKGN1cnJlbnROb2RlLm5vZGVOYW1lKTtcbiAgICAgIGlmICghX2lzVmFsaWRBdHRyaWJ1dGUobGNUYWcsIGxjTmFtZSwgdmFsdWUpKSB7XG4gICAgICAgIF9yZW1vdmVBdHRyaWJ1dGUobmFtZSwgY3VycmVudE5vZGUpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIC8qIEhhbmRsZSBhdHRyaWJ1dGVzIHRoYXQgcmVxdWlyZSBUcnVzdGVkIFR5cGVzICovXG4gICAgICBpZiAodHJ1c3RlZFR5cGVzUG9saWN5ICYmIHR5cGVvZiB0cnVzdGVkVHlwZXMgPT09ICdvYmplY3QnICYmIHR5cGVvZiB0cnVzdGVkVHlwZXMuZ2V0QXR0cmlidXRlVHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBpZiAobmFtZXNwYWNlVVJJKSA7IGVsc2Uge1xuICAgICAgICAgIHN3aXRjaCAodHJ1c3RlZFR5cGVzLmdldEF0dHJpYnV0ZVR5cGUobGNUYWcsIGxjTmFtZSkpIHtcbiAgICAgICAgICAgIGNhc2UgJ1RydXN0ZWRIVE1MJzpcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gdHJ1c3RlZFR5cGVzUG9saWN5LmNyZWF0ZUhUTUwodmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdUcnVzdGVkU2NyaXB0VVJMJzpcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gdHJ1c3RlZFR5cGVzUG9saWN5LmNyZWF0ZVNjcmlwdFVSTCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8qIEhhbmRsZSBpbnZhbGlkIGRhdGEtKiBhdHRyaWJ1dGUgc2V0IGJ5IHRyeS1jYXRjaGluZyBpdCAqL1xuICAgICAgaWYgKHZhbHVlICE9PSBpbml0VmFsdWUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAobmFtZXNwYWNlVVJJKSB7XG4gICAgICAgICAgICBjdXJyZW50Tm9kZS5zZXRBdHRyaWJ1dGVOUyhuYW1lc3BhY2VVUkksIG5hbWUsIHZhbHVlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLyogRmFsbGJhY2sgdG8gc2V0QXR0cmlidXRlKCkgZm9yIGJyb3dzZXItdW5yZWNvZ25pemVkIG5hbWVzcGFjZXMgZS5nLiBcIngtc2NoZW1hXCIuICovXG4gICAgICAgICAgICBjdXJyZW50Tm9kZS5zZXRBdHRyaWJ1dGUobmFtZSwgdmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoX2lzQ2xvYmJlcmVkKGN1cnJlbnROb2RlKSkge1xuICAgICAgICAgICAgX2ZvcmNlUmVtb3ZlKGN1cnJlbnROb2RlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXJyYXlQb3AoRE9NUHVyaWZ5LnJlbW92ZWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoXykge1xuICAgICAgICAgIF9yZW1vdmVBdHRyaWJ1dGUobmFtZSwgY3VycmVudE5vZGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIC8qIEV4ZWN1dGUgYSBob29rIGlmIHByZXNlbnQgKi9cbiAgICBfZXhlY3V0ZUhvb2tzKGhvb2tzLmFmdGVyU2FuaXRpemVBdHRyaWJ1dGVzLCBjdXJyZW50Tm9kZSwgbnVsbCk7XG4gIH07XG4gIC8qKlxuICAgKiBfc2FuaXRpemVTaGFkb3dET01cbiAgICpcbiAgICogQHBhcmFtIGZyYWdtZW50IHRvIGl0ZXJhdGUgb3ZlciByZWN1cnNpdmVseVxuICAgKi9cbiAgY29uc3QgX3Nhbml0aXplU2hhZG93RE9NID0gZnVuY3Rpb24gX3Nhbml0aXplU2hhZG93RE9NKGZyYWdtZW50KSB7XG4gICAgbGV0IHNoYWRvd05vZGUgPSBudWxsO1xuICAgIGNvbnN0IHNoYWRvd0l0ZXJhdG9yID0gX2NyZWF0ZU5vZGVJdGVyYXRvcihmcmFnbWVudCk7XG4gICAgLyogRXhlY3V0ZSBhIGhvb2sgaWYgcHJlc2VudCAqL1xuICAgIF9leGVjdXRlSG9va3MoaG9va3MuYmVmb3JlU2FuaXRpemVTaGFkb3dET00sIGZyYWdtZW50LCBudWxsKTtcbiAgICB3aGlsZSAoc2hhZG93Tm9kZSA9IHNoYWRvd0l0ZXJhdG9yLm5leHROb2RlKCkpIHtcbiAgICAgIC8qIEV4ZWN1dGUgYSBob29rIGlmIHByZXNlbnQgKi9cbiAgICAgIF9leGVjdXRlSG9va3MoaG9va3MudXBvblNhbml0aXplU2hhZG93Tm9kZSwgc2hhZG93Tm9kZSwgbnVsbCk7XG4gICAgICAvKiBTYW5pdGl6ZSB0YWdzIGFuZCBlbGVtZW50cyAqL1xuICAgICAgX3Nhbml0aXplRWxlbWVudHMoc2hhZG93Tm9kZSk7XG4gICAgICAvKiBDaGVjayBhdHRyaWJ1dGVzIG5leHQgKi9cbiAgICAgIF9zYW5pdGl6ZUF0dHJpYnV0ZXMoc2hhZG93Tm9kZSk7XG4gICAgICAvKiBEZWVwIHNoYWRvdyBET00gZGV0ZWN0ZWQgKi9cbiAgICAgIGlmIChzaGFkb3dOb2RlLmNvbnRlbnQgaW5zdGFuY2VvZiBEb2N1bWVudEZyYWdtZW50KSB7XG4gICAgICAgIF9zYW5pdGl6ZVNoYWRvd0RPTShzaGFkb3dOb2RlLmNvbnRlbnQpO1xuICAgICAgfVxuICAgIH1cbiAgICAvKiBFeGVjdXRlIGEgaG9vayBpZiBwcmVzZW50ICovXG4gICAgX2V4ZWN1dGVIb29rcyhob29rcy5hZnRlclNhbml0aXplU2hhZG93RE9NLCBmcmFnbWVudCwgbnVsbCk7XG4gIH07XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb21wbGV4aXR5XG4gIERPTVB1cmlmeS5zYW5pdGl6ZSA9IGZ1bmN0aW9uIChkaXJ0eSkge1xuICAgIGxldCBjZmcgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgIGxldCBib2R5ID0gbnVsbDtcbiAgICBsZXQgaW1wb3J0ZWROb2RlID0gbnVsbDtcbiAgICBsZXQgY3VycmVudE5vZGUgPSBudWxsO1xuICAgIGxldCByZXR1cm5Ob2RlID0gbnVsbDtcbiAgICAvKiBNYWtlIHN1cmUgd2UgaGF2ZSBhIHN0cmluZyB0byBzYW5pdGl6ZS5cbiAgICAgIERPIE5PVCByZXR1cm4gZWFybHksIGFzIHRoaXMgd2lsbCByZXR1cm4gdGhlIHdyb25nIHR5cGUgaWZcbiAgICAgIHRoZSB1c2VyIGhhcyByZXF1ZXN0ZWQgYSBET00gb2JqZWN0IHJhdGhlciB0aGFuIGEgc3RyaW5nICovXG4gICAgSVNfRU1QVFlfSU5QVVQgPSAhZGlydHk7XG4gICAgaWYgKElTX0VNUFRZX0lOUFVUKSB7XG4gICAgICBkaXJ0eSA9ICc8IS0tPic7XG4gICAgfVxuICAgIC8qIFN0cmluZ2lmeSwgaW4gY2FzZSBkaXJ0eSBpcyBhbiBvYmplY3QgKi9cbiAgICBpZiAodHlwZW9mIGRpcnR5ICE9PSAnc3RyaW5nJyAmJiAhX2lzTm9kZShkaXJ0eSkpIHtcbiAgICAgIGlmICh0eXBlb2YgZGlydHkudG9TdHJpbmcgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgZGlydHkgPSBkaXJ0eS50b1N0cmluZygpO1xuICAgICAgICBpZiAodHlwZW9mIGRpcnR5ICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgIHRocm93IHR5cGVFcnJvckNyZWF0ZSgnZGlydHkgaXMgbm90IGEgc3RyaW5nLCBhYm9ydGluZycpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyB0eXBlRXJyb3JDcmVhdGUoJ3RvU3RyaW5nIGlzIG5vdCBhIGZ1bmN0aW9uJyk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qIFJldHVybiBkaXJ0eSBIVE1MIGlmIERPTVB1cmlmeSBjYW5ub3QgcnVuICovXG4gICAgaWYgKCFET01QdXJpZnkuaXNTdXBwb3J0ZWQpIHtcbiAgICAgIHJldHVybiBkaXJ0eTtcbiAgICB9XG4gICAgLyogQXNzaWduIGNvbmZpZyB2YXJzICovXG4gICAgaWYgKCFTRVRfQ09ORklHKSB7XG4gICAgICBfcGFyc2VDb25maWcoY2ZnKTtcbiAgICB9XG4gICAgLyogQ2xlYW4gdXAgcmVtb3ZlZCBlbGVtZW50cyAqL1xuICAgIERPTVB1cmlmeS5yZW1vdmVkID0gW107XG4gICAgLyogQ2hlY2sgaWYgZGlydHkgaXMgY29ycmVjdGx5IHR5cGVkIGZvciBJTl9QTEFDRSAqL1xuICAgIGlmICh0eXBlb2YgZGlydHkgPT09ICdzdHJpbmcnKSB7XG4gICAgICBJTl9QTEFDRSA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAoSU5fUExBQ0UpIHtcbiAgICAgIC8qIERvIHNvbWUgZWFybHkgcHJlLXNhbml0aXphdGlvbiB0byBhdm9pZCB1bnNhZmUgcm9vdCBub2RlcyAqL1xuICAgICAgaWYgKGRpcnR5Lm5vZGVOYW1lKSB7XG4gICAgICAgIGNvbnN0IHRhZ05hbWUgPSB0cmFuc2Zvcm1DYXNlRnVuYyhkaXJ0eS5ub2RlTmFtZSk7XG4gICAgICAgIGlmICghQUxMT1dFRF9UQUdTW3RhZ05hbWVdIHx8IEZPUkJJRF9UQUdTW3RhZ05hbWVdKSB7XG4gICAgICAgICAgdGhyb3cgdHlwZUVycm9yQ3JlYXRlKCdyb290IG5vZGUgaXMgZm9yYmlkZGVuIGFuZCBjYW5ub3QgYmUgc2FuaXRpemVkIGluLXBsYWNlJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGRpcnR5IGluc3RhbmNlb2YgTm9kZSkge1xuICAgICAgLyogSWYgZGlydHkgaXMgYSBET00gZWxlbWVudCwgYXBwZW5kIHRvIGFuIGVtcHR5IGRvY3VtZW50IHRvIGF2b2lkXG4gICAgICAgICBlbGVtZW50cyBiZWluZyBzdHJpcHBlZCBieSB0aGUgcGFyc2VyICovXG4gICAgICBib2R5ID0gX2luaXREb2N1bWVudCgnPCEtLS0tPicpO1xuICAgICAgaW1wb3J0ZWROb2RlID0gYm9keS5vd25lckRvY3VtZW50LmltcG9ydE5vZGUoZGlydHksIHRydWUpO1xuICAgICAgaWYgKGltcG9ydGVkTm9kZS5ub2RlVHlwZSA9PT0gTk9ERV9UWVBFLmVsZW1lbnQgJiYgaW1wb3J0ZWROb2RlLm5vZGVOYW1lID09PSAnQk9EWScpIHtcbiAgICAgICAgLyogTm9kZSBpcyBhbHJlYWR5IGEgYm9keSwgdXNlIGFzIGlzICovXG4gICAgICAgIGJvZHkgPSBpbXBvcnRlZE5vZGU7XG4gICAgICB9IGVsc2UgaWYgKGltcG9ydGVkTm9kZS5ub2RlTmFtZSA9PT0gJ0hUTUwnKSB7XG4gICAgICAgIGJvZHkgPSBpbXBvcnRlZE5vZGU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgdW5pY29ybi9wcmVmZXItZG9tLW5vZGUtYXBwZW5kXG4gICAgICAgIGJvZHkuYXBwZW5kQ2hpbGQoaW1wb3J0ZWROb2RlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLyogRXhpdCBkaXJlY3RseSBpZiB3ZSBoYXZlIG5vdGhpbmcgdG8gZG8gKi9cbiAgICAgIGlmICghUkVUVVJOX0RPTSAmJiAhU0FGRV9GT1JfVEVNUExBVEVTICYmICFXSE9MRV9ET0NVTUVOVCAmJlxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHVuaWNvcm4vcHJlZmVyLWluY2x1ZGVzXG4gICAgICBkaXJ0eS5pbmRleE9mKCc8JykgPT09IC0xKSB7XG4gICAgICAgIHJldHVybiB0cnVzdGVkVHlwZXNQb2xpY3kgJiYgUkVUVVJOX1RSVVNURURfVFlQRSA/IHRydXN0ZWRUeXBlc1BvbGljeS5jcmVhdGVIVE1MKGRpcnR5KSA6IGRpcnR5O1xuICAgICAgfVxuICAgICAgLyogSW5pdGlhbGl6ZSB0aGUgZG9jdW1lbnQgdG8gd29yayBvbiAqL1xuICAgICAgYm9keSA9IF9pbml0RG9jdW1lbnQoZGlydHkpO1xuICAgICAgLyogQ2hlY2sgd2UgaGF2ZSBhIERPTSBub2RlIGZyb20gdGhlIGRhdGEgKi9cbiAgICAgIGlmICghYm9keSkge1xuICAgICAgICByZXR1cm4gUkVUVVJOX0RPTSA/IG51bGwgOiBSRVRVUk5fVFJVU1RFRF9UWVBFID8gZW1wdHlIVE1MIDogJyc7XG4gICAgICB9XG4gICAgfVxuICAgIC8qIFJlbW92ZSBmaXJzdCBlbGVtZW50IG5vZGUgKG91cnMpIGlmIEZPUkNFX0JPRFkgaXMgc2V0ICovXG4gICAgaWYgKGJvZHkgJiYgRk9SQ0VfQk9EWSkge1xuICAgICAgX2ZvcmNlUmVtb3ZlKGJvZHkuZmlyc3RDaGlsZCk7XG4gICAgfVxuICAgIC8qIEdldCBub2RlIGl0ZXJhdG9yICovXG4gICAgY29uc3Qgbm9kZUl0ZXJhdG9yID0gX2NyZWF0ZU5vZGVJdGVyYXRvcihJTl9QTEFDRSA/IGRpcnR5IDogYm9keSk7XG4gICAgLyogTm93IHN0YXJ0IGl0ZXJhdGluZyBvdmVyIHRoZSBjcmVhdGVkIGRvY3VtZW50ICovXG4gICAgd2hpbGUgKGN1cnJlbnROb2RlID0gbm9kZUl0ZXJhdG9yLm5leHROb2RlKCkpIHtcbiAgICAgIC8qIFNhbml0aXplIHRhZ3MgYW5kIGVsZW1lbnRzICovXG4gICAgICBfc2FuaXRpemVFbGVtZW50cyhjdXJyZW50Tm9kZSk7XG4gICAgICAvKiBDaGVjayBhdHRyaWJ1dGVzIG5leHQgKi9cbiAgICAgIF9zYW5pdGl6ZUF0dHJpYnV0ZXMoY3VycmVudE5vZGUpO1xuICAgICAgLyogU2hhZG93IERPTSBkZXRlY3RlZCwgc2FuaXRpemUgaXQgKi9cbiAgICAgIGlmIChjdXJyZW50Tm9kZS5jb250ZW50IGluc3RhbmNlb2YgRG9jdW1lbnRGcmFnbWVudCkge1xuICAgICAgICBfc2FuaXRpemVTaGFkb3dET00oY3VycmVudE5vZGUuY29udGVudCk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qIElmIHdlIHNhbml0aXplZCBgZGlydHlgIGluLXBsYWNlLCByZXR1cm4gaXQuICovXG4gICAgaWYgKElOX1BMQUNFKSB7XG4gICAgICByZXR1cm4gZGlydHk7XG4gICAgfVxuICAgIC8qIFJldHVybiBzYW5pdGl6ZWQgc3RyaW5nIG9yIERPTSAqL1xuICAgIGlmIChSRVRVUk5fRE9NKSB7XG4gICAgICBpZiAoUkVUVVJOX0RPTV9GUkFHTUVOVCkge1xuICAgICAgICByZXR1cm5Ob2RlID0gY3JlYXRlRG9jdW1lbnRGcmFnbWVudC5jYWxsKGJvZHkub3duZXJEb2N1bWVudCk7XG4gICAgICAgIHdoaWxlIChib2R5LmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgdW5pY29ybi9wcmVmZXItZG9tLW5vZGUtYXBwZW5kXG4gICAgICAgICAgcmV0dXJuTm9kZS5hcHBlbmRDaGlsZChib2R5LmZpcnN0Q2hpbGQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm5Ob2RlID0gYm9keTtcbiAgICAgIH1cbiAgICAgIGlmIChBTExPV0VEX0FUVFIuc2hhZG93cm9vdCB8fCBBTExPV0VEX0FUVFIuc2hhZG93cm9vdG1vZGUpIHtcbiAgICAgICAgLypcbiAgICAgICAgICBBZG9wdE5vZGUoKSBpcyBub3QgdXNlZCBiZWNhdXNlIGludGVybmFsIHN0YXRlIGlzIG5vdCByZXNldFxuICAgICAgICAgIChlLmcuIHRoZSBwYXN0IG5hbWVzIG1hcCBvZiBhIEhUTUxGb3JtRWxlbWVudCksIHRoaXMgaXMgc2FmZVxuICAgICAgICAgIGluIHRoZW9yeSBidXQgd2Ugd291bGQgcmF0aGVyIG5vdCByaXNrIGFub3RoZXIgYXR0YWNrIHZlY3Rvci5cbiAgICAgICAgICBUaGUgc3RhdGUgdGhhdCBpcyBjbG9uZWQgYnkgaW1wb3J0Tm9kZSgpIGlzIGV4cGxpY2l0bHkgZGVmaW5lZFxuICAgICAgICAgIGJ5IHRoZSBzcGVjcy5cbiAgICAgICAgKi9cbiAgICAgICAgcmV0dXJuTm9kZSA9IGltcG9ydE5vZGUuY2FsbChvcmlnaW5hbERvY3VtZW50LCByZXR1cm5Ob2RlLCB0cnVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXR1cm5Ob2RlO1xuICAgIH1cbiAgICBsZXQgc2VyaWFsaXplZEhUTUwgPSBXSE9MRV9ET0NVTUVOVCA/IGJvZHkub3V0ZXJIVE1MIDogYm9keS5pbm5lckhUTUw7XG4gICAgLyogU2VyaWFsaXplIGRvY3R5cGUgaWYgYWxsb3dlZCAqL1xuICAgIGlmIChXSE9MRV9ET0NVTUVOVCAmJiBBTExPV0VEX1RBR1NbJyFkb2N0eXBlJ10gJiYgYm9keS5vd25lckRvY3VtZW50ICYmIGJvZHkub3duZXJEb2N1bWVudC5kb2N0eXBlICYmIGJvZHkub3duZXJEb2N1bWVudC5kb2N0eXBlLm5hbWUgJiYgcmVnRXhwVGVzdChET0NUWVBFX05BTUUsIGJvZHkub3duZXJEb2N1bWVudC5kb2N0eXBlLm5hbWUpKSB7XG4gICAgICBzZXJpYWxpemVkSFRNTCA9ICc8IURPQ1RZUEUgJyArIGJvZHkub3duZXJEb2N1bWVudC5kb2N0eXBlLm5hbWUgKyAnPlxcbicgKyBzZXJpYWxpemVkSFRNTDtcbiAgICB9XG4gICAgLyogU2FuaXRpemUgZmluYWwgc3RyaW5nIHRlbXBsYXRlLXNhZmUgKi9cbiAgICBpZiAoU0FGRV9GT1JfVEVNUExBVEVTKSB7XG4gICAgICBhcnJheUZvckVhY2goW01VU1RBQ0hFX0VYUFIsIEVSQl9FWFBSLCBUTVBMSVRfRVhQUl0sIGV4cHIgPT4ge1xuICAgICAgICBzZXJpYWxpemVkSFRNTCA9IHN0cmluZ1JlcGxhY2Uoc2VyaWFsaXplZEhUTUwsIGV4cHIsICcgJyk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHRydXN0ZWRUeXBlc1BvbGljeSAmJiBSRVRVUk5fVFJVU1RFRF9UWVBFID8gdHJ1c3RlZFR5cGVzUG9saWN5LmNyZWF0ZUhUTUwoc2VyaWFsaXplZEhUTUwpIDogc2VyaWFsaXplZEhUTUw7XG4gIH07XG4gIERPTVB1cmlmeS5zZXRDb25maWcgPSBmdW5jdGlvbiAoKSB7XG4gICAgbGV0IGNmZyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gICAgX3BhcnNlQ29uZmlnKGNmZyk7XG4gICAgU0VUX0NPTkZJRyA9IHRydWU7XG4gIH07XG4gIERPTVB1cmlmeS5jbGVhckNvbmZpZyA9IGZ1bmN0aW9uICgpIHtcbiAgICBDT05GSUcgPSBudWxsO1xuICAgIFNFVF9DT05GSUcgPSBmYWxzZTtcbiAgfTtcbiAgRE9NUHVyaWZ5LmlzVmFsaWRBdHRyaWJ1dGUgPSBmdW5jdGlvbiAodGFnLCBhdHRyLCB2YWx1ZSkge1xuICAgIC8qIEluaXRpYWxpemUgc2hhcmVkIGNvbmZpZyB2YXJzIGlmIG5lY2Vzc2FyeS4gKi9cbiAgICBpZiAoIUNPTkZJRykge1xuICAgICAgX3BhcnNlQ29uZmlnKHt9KTtcbiAgICB9XG4gICAgY29uc3QgbGNUYWcgPSB0cmFuc2Zvcm1DYXNlRnVuYyh0YWcpO1xuICAgIGNvbnN0IGxjTmFtZSA9IHRyYW5zZm9ybUNhc2VGdW5jKGF0dHIpO1xuICAgIHJldHVybiBfaXNWYWxpZEF0dHJpYnV0ZShsY1RhZywgbGNOYW1lLCB2YWx1ZSk7XG4gIH07XG4gIERPTVB1cmlmeS5hZGRIb29rID0gZnVuY3Rpb24gKGVudHJ5UG9pbnQsIGhvb2tGdW5jdGlvbikge1xuICAgIGlmICh0eXBlb2YgaG9va0Z1bmN0aW9uICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGFycmF5UHVzaChob29rc1tlbnRyeVBvaW50XSwgaG9va0Z1bmN0aW9uKTtcbiAgfTtcbiAgRE9NUHVyaWZ5LnJlbW92ZUhvb2sgPSBmdW5jdGlvbiAoZW50cnlQb2ludCwgaG9va0Z1bmN0aW9uKSB7XG4gICAgaWYgKGhvb2tGdW5jdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zdCBpbmRleCA9IGFycmF5TGFzdEluZGV4T2YoaG9va3NbZW50cnlQb2ludF0sIGhvb2tGdW5jdGlvbik7XG4gICAgICByZXR1cm4gaW5kZXggPT09IC0xID8gdW5kZWZpbmVkIDogYXJyYXlTcGxpY2UoaG9va3NbZW50cnlQb2ludF0sIGluZGV4LCAxKVswXTtcbiAgICB9XG4gICAgcmV0dXJuIGFycmF5UG9wKGhvb2tzW2VudHJ5UG9pbnRdKTtcbiAgfTtcbiAgRE9NUHVyaWZ5LnJlbW92ZUhvb2tzID0gZnVuY3Rpb24gKGVudHJ5UG9pbnQpIHtcbiAgICBob29rc1tlbnRyeVBvaW50XSA9IFtdO1xuICB9O1xuICBET01QdXJpZnkucmVtb3ZlQWxsSG9va3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgaG9va3MgPSBfY3JlYXRlSG9va3NNYXAoKTtcbiAgfTtcbiAgcmV0dXJuIERPTVB1cmlmeTtcbn1cbnZhciBwdXJpZnkgPSBjcmVhdGVET01QdXJpZnkoKTtcblxuZXhwb3J0IHsgcHVyaWZ5IGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXB1cmlmeS5lcy5tanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../node_modules/dompurify/dist/purify.es.mjs\n\n}");

/***/ },

/***/ "../node_modules/file-drops/dist/index.js"
/*!************************************************!*\
  !*** ../node_modules/file-drops/dist/index.js ***!
  \************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ fileDrop)\n/* harmony export */ });\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dom */ \"../node_modules/domify/index.js\");\n\n\nvar OVERLAY_HTML = '<div class=\"drop-overlay\">' +\n                     '<div class=\"box\">' +\n                        '<div class=\"label\">{label}</div>' +\n                     '</div>' +\n                   '</div>';\n\n/**\n * @typedef { {\n *   name: string,\n *   path: string | undefined,\n *   contents: string\n * } } File\n */\n\n/**\n * Add file drop functionality to the given element,\n * calling fn(files...) on drop.\n *\n * @example\n *\n * var node = document.querySelector('#container');\n *\n * var dragOverHandler = fileDrop(handleFiles);\n *\n * node.addEventListener('dragover', dragOverHandler);\n *\n * @param { string } [label='Drop files here']\n * @param { (files: File[], dropEvent: DragEvent) => void } fn\n *\n * @return { (event: DragEvent) => any } drag over handler\n */\nfunction fileDrop(label, fn) {\n\n  if (typeof label === 'function') {\n    fn = label;\n    label = 'Drop files here';\n  }\n\n  var self;\n  var extraArgs;\n\n  // we are bound, if overlay exists\n  var overlay;\n\n  /**\n   * @param { DragEvent } event\n   */\n  function onDrop(event) {\n\n    event.preventDefault();\n\n    asyncMap(event.dataTransfer.files, readFile, function(err, files) {\n\n      if (err) {\n        console.warn('file drop failed', err);\n      } else {\n\n        var args = extraArgs.concat([ files, event ]);\n\n        // cleanup on drop\n        // onEnd(event);\n\n        // call provided fn with extraArgs..., files, event\n        fn.apply(self, args);\n      }\n    });\n  }\n\n  function isDragAllowed(dataTransfer) {\n\n    // Universal check for all browsers\n    return dataTransfer && dataTransfer.types && dataTransfer.types.includes('Files');\n  }\n\n  /**\n   * Drag over event to be registered by clients in respective contexts\n   *\n   * @param { DragEvent } _event\n   */\n  function onDragover(_event) {\n\n    // (0) extract extra arguments (extraArgs..., event)\n    var args = slice(arguments);\n\n    /**\n     * @type {DragEvent}\n     */\n    var event = args.pop();\n\n    var dataTransfer = event.dataTransfer,\n        target = event.currentTarget || event.target;\n\n    if (!isDragAllowed(dataTransfer)) {\n      return;\n    }\n\n    // make us a drop zone\n    event.preventDefault();\n\n    dataTransfer.dropEffect = 'copy';\n\n    // only register if we do not drag and drop already\n    if (overlay) {\n      return;\n    }\n\n    overlay = createOverlay(label);\n\n    target.appendChild(overlay);\n\n    self = this;\n    extraArgs = args;\n\n\n    // do not register events during testing\n    if (!target) {\n      return;\n    }\n\n\n    // (2) setup drag listeners\n\n    function onLeave(event) {\n\n      var relatedTarget = event.relatedTarget;\n\n      if (target.contains(relatedTarget)) {\n        return;\n      }\n\n      onEnd();\n    }\n\n    // (2.1) detach on end\n    function onEnd(event) {\n\n      document.removeEventListener('drop', onDrop);\n      document.removeEventListener('drop', onEnd);\n      document.removeEventListener('dragleave', onLeave);\n      document.removeEventListener('dragend', onEnd);\n      document.removeEventListener('dragover', preventDrop);\n\n      if (overlay) {\n        target.removeChild(overlay);\n        overlay = null;\n      }\n    }\n\n    // (2.0) attach drag + cleanup event\n    document.addEventListener('drop', onDrop);\n    document.addEventListener('drop', onEnd);\n    document.addEventListener('dragleave', onLeave);\n    document.addEventListener('dragend', onEnd);\n    document.addEventListener('dragover', preventDrop);\n  }\n\n  onDragover.onDrop = onDrop;\n\n  return onDragover;\n}\n\n\n// helpers ////////////////////////////////////\n\nfunction readFile(dropFile, done) {\n\n  if (!window.FileReader) {\n    return done();\n  }\n\n  var reader = new FileReader();\n\n  // Closure to capture the file information.\n  reader.onload = function(e) {\n\n    done(null, {\n      name: dropFile.name,\n      path: dropFile.path,\n      contents: e.target.result\n    });\n  };\n\n  reader.onerror = function(event) {\n    done(event.target.error);\n  };\n\n  // Read in the image file as a data URL.\n  reader.readAsText(dropFile);\n}\n\n\nfunction asyncMap(elements, iterator, done) {\n\n  var idx = 0,\n      results = [];\n\n  function next() {\n\n    if (idx === elements.length) {\n      done(null, results);\n    } else {\n\n      iterator(elements[idx], function(err, result) {\n\n        if (err) {\n          return done(err);\n        } else {\n          results[idx] = result;\n          idx++;\n\n          next();\n        }\n      });\n    }\n  }\n\n  next();\n}\n\nfunction slice(arr) {\n  return Array.prototype.slice.call(arr);\n}\n\nfunction createOverlay(label) {\n  var markup = OVERLAY_HTML.replace('{label}', label);\n  const overlay = min_dom__WEBPACK_IMPORTED_MODULE_0__(markup);\n\n  // remove blinking on safari\n  overlay.style.pointerEvents = 'none';\n\n  return overlay;\n}\n\nfunction preventDrop(event) {\n  event.preventDefault();\n}\n\n\n//# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2ZpbGUtZHJvcHMvZGlzdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFpQzs7QUFFakM7QUFDQTtBQUNBLDZDQUE2QyxNQUFNO0FBQ25EO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFNBQVM7QUFDckIsWUFBWSxnREFBZ0Q7QUFDNUQ7QUFDQSxhQUFhLDRCQUE0QjtBQUN6QztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGNBQWMsWUFBWTtBQUMxQjtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxRQUFROztBQUVSOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLFlBQVk7QUFDMUI7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7O0FBR0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTs7QUFFTjs7QUFFQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0Esc0NBQXNDLE1BQU07QUFDNUMsa0JBQWtCLG9DQUFNOztBQUV4QjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUUrQjtBQUMvQiIsInNvdXJjZXMiOlsid2VicGFjazovL2NhbXVuZGEtbW9kZWxlci1jbGllbnQvLi4vbm9kZV9tb2R1bGVzL2ZpbGUtZHJvcHMvZGlzdC9pbmRleC5qcz9kNmNjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGRvbWlmeSB9IGZyb20gJ21pbi1kb20nO1xuXG52YXIgT1ZFUkxBWV9IVE1MID0gJzxkaXYgY2xhc3M9XCJkcm9wLW92ZXJsYXlcIj4nICtcbiAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiYm94XCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImxhYmVsXCI+e2xhYmVsfTwvZGl2PicgK1xuICAgICAgICAgICAgICAgICAgICAgJzwvZGl2PicgK1xuICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nO1xuXG4vKipcbiAqIEB0eXBlZGVmIHsge1xuICogICBuYW1lOiBzdHJpbmcsXG4gKiAgIHBhdGg6IHN0cmluZyB8IHVuZGVmaW5lZCxcbiAqICAgY29udGVudHM6IHN0cmluZ1xuICogfSB9IEZpbGVcbiAqL1xuXG4vKipcbiAqIEFkZCBmaWxlIGRyb3AgZnVuY3Rpb25hbGl0eSB0byB0aGUgZ2l2ZW4gZWxlbWVudCxcbiAqIGNhbGxpbmcgZm4oZmlsZXMuLi4pIG9uIGRyb3AuXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgbm9kZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjb250YWluZXInKTtcbiAqXG4gKiB2YXIgZHJhZ092ZXJIYW5kbGVyID0gZmlsZURyb3AoaGFuZGxlRmlsZXMpO1xuICpcbiAqIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ292ZXInLCBkcmFnT3ZlckhhbmRsZXIpO1xuICpcbiAqIEBwYXJhbSB7IHN0cmluZyB9IFtsYWJlbD0nRHJvcCBmaWxlcyBoZXJlJ11cbiAqIEBwYXJhbSB7IChmaWxlczogRmlsZVtdLCBkcm9wRXZlbnQ6IERyYWdFdmVudCkgPT4gdm9pZCB9IGZuXG4gKlxuICogQHJldHVybiB7IChldmVudDogRHJhZ0V2ZW50KSA9PiBhbnkgfSBkcmFnIG92ZXIgaGFuZGxlclxuICovXG5mdW5jdGlvbiBmaWxlRHJvcChsYWJlbCwgZm4pIHtcblxuICBpZiAodHlwZW9mIGxhYmVsID09PSAnZnVuY3Rpb24nKSB7XG4gICAgZm4gPSBsYWJlbDtcbiAgICBsYWJlbCA9ICdEcm9wIGZpbGVzIGhlcmUnO1xuICB9XG5cbiAgdmFyIHNlbGY7XG4gIHZhciBleHRyYUFyZ3M7XG5cbiAgLy8gd2UgYXJlIGJvdW5kLCBpZiBvdmVybGF5IGV4aXN0c1xuICB2YXIgb3ZlcmxheTtcblxuICAvKipcbiAgICogQHBhcmFtIHsgRHJhZ0V2ZW50IH0gZXZlbnRcbiAgICovXG4gIGZ1bmN0aW9uIG9uRHJvcChldmVudCkge1xuXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgIGFzeW5jTWFwKGV2ZW50LmRhdGFUcmFuc2Zlci5maWxlcywgcmVhZEZpbGUsIGZ1bmN0aW9uKGVyciwgZmlsZXMpIHtcblxuICAgICAgaWYgKGVycikge1xuICAgICAgICBjb25zb2xlLndhcm4oJ2ZpbGUgZHJvcCBmYWlsZWQnLCBlcnIpO1xuICAgICAgfSBlbHNlIHtcblxuICAgICAgICB2YXIgYXJncyA9IGV4dHJhQXJncy5jb25jYXQoWyBmaWxlcywgZXZlbnQgXSk7XG5cbiAgICAgICAgLy8gY2xlYW51cCBvbiBkcm9wXG4gICAgICAgIC8vIG9uRW5kKGV2ZW50KTtcblxuICAgICAgICAvLyBjYWxsIHByb3ZpZGVkIGZuIHdpdGggZXh0cmFBcmdzLi4uLCBmaWxlcywgZXZlbnRcbiAgICAgICAgZm4uYXBwbHkoc2VsZiwgYXJncyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBpc0RyYWdBbGxvd2VkKGRhdGFUcmFuc2Zlcikge1xuXG4gICAgLy8gVW5pdmVyc2FsIGNoZWNrIGZvciBhbGwgYnJvd3NlcnNcbiAgICByZXR1cm4gZGF0YVRyYW5zZmVyICYmIGRhdGFUcmFuc2Zlci50eXBlcyAmJiBkYXRhVHJhbnNmZXIudHlwZXMuaW5jbHVkZXMoJ0ZpbGVzJyk7XG4gIH1cblxuICAvKipcbiAgICogRHJhZyBvdmVyIGV2ZW50IHRvIGJlIHJlZ2lzdGVyZWQgYnkgY2xpZW50cyBpbiByZXNwZWN0aXZlIGNvbnRleHRzXG4gICAqXG4gICAqIEBwYXJhbSB7IERyYWdFdmVudCB9IF9ldmVudFxuICAgKi9cbiAgZnVuY3Rpb24gb25EcmFnb3ZlcihfZXZlbnQpIHtcblxuICAgIC8vICgwKSBleHRyYWN0IGV4dHJhIGFyZ3VtZW50cyAoZXh0cmFBcmdzLi4uLCBldmVudClcbiAgICB2YXIgYXJncyA9IHNsaWNlKGFyZ3VtZW50cyk7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7RHJhZ0V2ZW50fVxuICAgICAqL1xuICAgIHZhciBldmVudCA9IGFyZ3MucG9wKCk7XG5cbiAgICB2YXIgZGF0YVRyYW5zZmVyID0gZXZlbnQuZGF0YVRyYW5zZmVyLFxuICAgICAgICB0YXJnZXQgPSBldmVudC5jdXJyZW50VGFyZ2V0IHx8IGV2ZW50LnRhcmdldDtcblxuICAgIGlmICghaXNEcmFnQWxsb3dlZChkYXRhVHJhbnNmZXIpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gbWFrZSB1cyBhIGRyb3Agem9uZVxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBkYXRhVHJhbnNmZXIuZHJvcEVmZmVjdCA9ICdjb3B5JztcblxuICAgIC8vIG9ubHkgcmVnaXN0ZXIgaWYgd2UgZG8gbm90IGRyYWcgYW5kIGRyb3AgYWxyZWFkeVxuICAgIGlmIChvdmVybGF5KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgb3ZlcmxheSA9IGNyZWF0ZU92ZXJsYXkobGFiZWwpO1xuXG4gICAgdGFyZ2V0LmFwcGVuZENoaWxkKG92ZXJsYXkpO1xuXG4gICAgc2VsZiA9IHRoaXM7XG4gICAgZXh0cmFBcmdzID0gYXJncztcblxuXG4gICAgLy8gZG8gbm90IHJlZ2lzdGVyIGV2ZW50cyBkdXJpbmcgdGVzdGluZ1xuICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG5cbiAgICAvLyAoMikgc2V0dXAgZHJhZyBsaXN0ZW5lcnNcblxuICAgIGZ1bmN0aW9uIG9uTGVhdmUoZXZlbnQpIHtcblxuICAgICAgdmFyIHJlbGF0ZWRUYXJnZXQgPSBldmVudC5yZWxhdGVkVGFyZ2V0O1xuXG4gICAgICBpZiAodGFyZ2V0LmNvbnRhaW5zKHJlbGF0ZWRUYXJnZXQpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgb25FbmQoKTtcbiAgICB9XG5cbiAgICAvLyAoMi4xKSBkZXRhY2ggb24gZW5kXG4gICAgZnVuY3Rpb24gb25FbmQoZXZlbnQpIHtcblxuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignZHJvcCcsIG9uRHJvcCk7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdkcm9wJywgb25FbmQpO1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignZHJhZ2xlYXZlJywgb25MZWF2ZSk7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdkcmFnZW5kJywgb25FbmQpO1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignZHJhZ292ZXInLCBwcmV2ZW50RHJvcCk7XG5cbiAgICAgIGlmIChvdmVybGF5KSB7XG4gICAgICAgIHRhcmdldC5yZW1vdmVDaGlsZChvdmVybGF5KTtcbiAgICAgICAgb3ZlcmxheSA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gKDIuMCkgYXR0YWNoIGRyYWcgKyBjbGVhbnVwIGV2ZW50XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIG9uRHJvcCk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIG9uRW5kKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdkcmFnbGVhdmUnLCBvbkxlYXZlKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdkcmFnZW5kJywgb25FbmQpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgcHJldmVudERyb3ApO1xuICB9XG5cbiAgb25EcmFnb3Zlci5vbkRyb3AgPSBvbkRyb3A7XG5cbiAgcmV0dXJuIG9uRHJhZ292ZXI7XG59XG5cblxuLy8gaGVscGVycyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuZnVuY3Rpb24gcmVhZEZpbGUoZHJvcEZpbGUsIGRvbmUpIHtcblxuICBpZiAoIXdpbmRvdy5GaWxlUmVhZGVyKSB7XG4gICAgcmV0dXJuIGRvbmUoKTtcbiAgfVxuXG4gIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuXG4gIC8vIENsb3N1cmUgdG8gY2FwdHVyZSB0aGUgZmlsZSBpbmZvcm1hdGlvbi5cbiAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uKGUpIHtcblxuICAgIGRvbmUobnVsbCwge1xuICAgICAgbmFtZTogZHJvcEZpbGUubmFtZSxcbiAgICAgIHBhdGg6IGRyb3BGaWxlLnBhdGgsXG4gICAgICBjb250ZW50czogZS50YXJnZXQucmVzdWx0XG4gICAgfSk7XG4gIH07XG5cbiAgcmVhZGVyLm9uZXJyb3IgPSBmdW5jdGlvbihldmVudCkge1xuICAgIGRvbmUoZXZlbnQudGFyZ2V0LmVycm9yKTtcbiAgfTtcblxuICAvLyBSZWFkIGluIHRoZSBpbWFnZSBmaWxlIGFzIGEgZGF0YSBVUkwuXG4gIHJlYWRlci5yZWFkQXNUZXh0KGRyb3BGaWxlKTtcbn1cblxuXG5mdW5jdGlvbiBhc3luY01hcChlbGVtZW50cywgaXRlcmF0b3IsIGRvbmUpIHtcblxuICB2YXIgaWR4ID0gMCxcbiAgICAgIHJlc3VsdHMgPSBbXTtcblxuICBmdW5jdGlvbiBuZXh0KCkge1xuXG4gICAgaWYgKGlkeCA9PT0gZWxlbWVudHMubGVuZ3RoKSB7XG4gICAgICBkb25lKG51bGwsIHJlc3VsdHMpO1xuICAgIH0gZWxzZSB7XG5cbiAgICAgIGl0ZXJhdG9yKGVsZW1lbnRzW2lkeF0sIGZ1bmN0aW9uKGVyciwgcmVzdWx0KSB7XG5cbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIHJldHVybiBkb25lKGVycik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzdWx0c1tpZHhdID0gcmVzdWx0O1xuICAgICAgICAgIGlkeCsrO1xuXG4gICAgICAgICAgbmV4dCgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBuZXh0KCk7XG59XG5cbmZ1bmN0aW9uIHNsaWNlKGFycikge1xuICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJyKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlT3ZlcmxheShsYWJlbCkge1xuICB2YXIgbWFya3VwID0gT1ZFUkxBWV9IVE1MLnJlcGxhY2UoJ3tsYWJlbH0nLCBsYWJlbCk7XG4gIGNvbnN0IG92ZXJsYXkgPSBkb21pZnkobWFya3VwKTtcblxuICAvLyByZW1vdmUgYmxpbmtpbmcgb24gc2FmYXJpXG4gIG92ZXJsYXkuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdub25lJztcblxuICByZXR1cm4gb3ZlcmxheTtcbn1cblxuZnVuY3Rpb24gcHJldmVudERyb3AoZXZlbnQpIHtcbiAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbn1cblxuZXhwb3J0IHsgZmlsZURyb3AgYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../node_modules/file-drops/dist/index.js\n\n}");

/***/ },

/***/ "../node_modules/marked/lib/marked.esm.js"
/*!************************************************!*\
  !*** ../node_modules/marked/lib/marked.esm.js ***!
  \************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Hooks: () => (/* binding */ S),\n/* harmony export */   Lexer: () => (/* binding */ x),\n/* harmony export */   Marked: () => (/* binding */ B),\n/* harmony export */   Parser: () => (/* binding */ b),\n/* harmony export */   Renderer: () => (/* binding */ P),\n/* harmony export */   TextRenderer: () => (/* binding */ $),\n/* harmony export */   Tokenizer: () => (/* binding */ y),\n/* harmony export */   defaults: () => (/* binding */ T),\n/* harmony export */   getDefaults: () => (/* binding */ L),\n/* harmony export */   lexer: () => (/* binding */ jt),\n/* harmony export */   marked: () => (/* binding */ d),\n/* harmony export */   options: () => (/* binding */ Dt),\n/* harmony export */   parse: () => (/* binding */ Qt),\n/* harmony export */   parseInline: () => (/* binding */ Nt),\n/* harmony export */   parser: () => (/* binding */ Ft),\n/* harmony export */   setOptions: () => (/* binding */ Ht),\n/* harmony export */   use: () => (/* binding */ Zt),\n/* harmony export */   walkTokens: () => (/* binding */ Gt)\n/* harmony export */ });\n/**\n * marked v17.0.1 - a markdown parser\n * Copyright (c) 2018-2025, MarkedJS. (MIT License)\n * Copyright (c) 2011-2018, Christopher Jeffrey. (MIT License)\n * https://github.com/markedjs/marked\n */\n\n/**\n * DO NOT EDIT THIS FILE\n * The code in this file is generated from files in ./src/\n */\n\nfunction L(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var T=L();function Z(u){T=u}var C={exec:()=>null};function k(u,e=\"\"){let t=typeof u==\"string\"?u:u.source,n={replace:(r,i)=>{let s=typeof i==\"string\"?i:i.source;return s=s.replace(m.caret,\"$1\"),t=t.replace(r,s),n},getRegex:()=>new RegExp(t,e)};return n}var me=(()=>{try{return!!new RegExp(\"(?<=1)(?<!1)\")}catch{return!1}})(),m={codeRemoveIndent:/^(?: {1,4}| {0,3}\\t)/gm,outputLinkReplace:/\\\\([\\[\\]])/g,indentCodeCompensation:/^(\\s+)(?:```)/,beginningSpace:/^\\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\\n/g,tabCharGlobal:/\\t/g,multipleSpaceGlobal:/\\s+/g,blankLine:/^[ \\t]*$/,doubleBlankLine:/\\n[ \\t]*\\n[ \\t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\\n {0,3}((?:=+|-+) *)(?=\\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \\t]?/gm,listReplaceTabs:/^\\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\\[[ xX]\\] +\\S/,listReplaceTask:/^\\[[ xX]\\] +/,listTaskCheckbox:/\\[[ xX]\\]/,anyLine:/\\n.*\\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\\||\\| *$/g,tableRowBlankLine:/\\n[ \\t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\\s|>)/i,endPreScriptTag:/^<\\/(pre|code|kbd|script)(\\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'\"]*[^\\s])\\s+(['\"])(.*)\\2/,unicodeAlphaNumeric:/[\\p{L}\\p{N}]/u,escapeTest:/[&<>\"']/,escapeReplace:/[&<>\"']/g,escapeTestNoEncode:/[<>\"']|&(?!(#\\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\\w+);)/,escapeReplaceNoEncode:/[<>\"']|&(?!(#\\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\\w+);)/g,unescapeTest:/&(#(?:\\d+)|(?:#x[0-9A-Fa-f]+)|(?:\\w+));?/ig,caret:/(^|[^\\[])\\^/g,percentDecode:/%25/g,findPipe:/\\|/g,splitPipe:/ \\|/,slashPipe:/\\\\\\|/g,carriageReturn:/\\r\\n|\\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\\S*/,endingNewline:/\\n$/,listItemRegex:u=>new RegExp(`^( {0,3}${u})((?:[\t ][^\\\\n]*)?(?:\\\\n|$))`),nextBulletRegex:u=>new RegExp(`^ {0,${Math.min(3,u-1)}}(?:[*+-]|\\\\d{1,9}[.)])((?:[ \t][^\\\\n]*)?(?:\\\\n|$))`),hrRegex:u=>new RegExp(`^ {0,${Math.min(3,u-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\\\* *){3,})(?:\\\\n+|$)`),fencesBeginRegex:u=>new RegExp(`^ {0,${Math.min(3,u-1)}}(?:\\`\\`\\`|~~~)`),headingBeginRegex:u=>new RegExp(`^ {0,${Math.min(3,u-1)}}#`),htmlBeginRegex:u=>new RegExp(`^ {0,${Math.min(3,u-1)}}<(?:[a-z].*>|!--)`,\"i\")},xe=/^(?:[ \\t]*(?:\\n|$))+/,be=/^((?: {4}| {0,3}\\t)[^\\n]+(?:\\n(?:[ \\t]*(?:\\n|$))*)?)+/,Re=/^ {0,3}(`{3,}(?=[^`\\n]*(?:\\n|$))|~{3,})([^\\n]*)(?:\\n|$)(?:|([\\s\\S]*?)(?:\\n|$))(?: {0,3}\\1[~`]* *(?=\\n|$)|$)/,I=/^ {0,3}((?:-[\\t ]*){3,}|(?:_[ \\t]*){3,}|(?:\\*[ \\t]*){3,})(?:\\n+|$)/,Te=/^ {0,3}(#{1,6})(?=\\s|$)(.*)(?:\\n+|$)/,N=/(?:[*+-]|\\d{1,9}[.)])/,re=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\\n(?!\\s*?\\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\\n {0,3}(=+|-+) *(?:\\n+|$)/,se=k(re).replace(/bull/g,N).replace(/blockCode/g,/(?: {4}| {0,3}\\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\\n>]+>\\n/).replace(/\\|table/g,\"\").getRegex(),Oe=k(re).replace(/bull/g,N).replace(/blockCode/g,/(?: {4}| {0,3}\\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\\n>]+>\\n/).replace(/table/g,/ {0,3}\\|?(?:[:\\- ]*\\|)+[\\:\\- ]*\\n/).getRegex(),Q=/^([^\\n]+(?:\\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\\n)[^\\n]+)*)/,we=/^[^\\n]+/,F=/(?!\\s*\\])(?:\\\\[\\s\\S]|[^\\[\\]\\\\])+/,ye=k(/^ {0,3}\\[(label)\\]: *(?:\\n[ \\t]*)?([^<\\s][^\\s]*|<.*?>)(?:(?: +(?:\\n[ \\t]*)?| *\\n[ \\t]*)(title))? *(?:\\n+|$)/).replace(\"label\",F).replace(\"title\",/(?:\"(?:\\\\\"?|[^\"\\\\])*\"|'[^'\\n]*(?:\\n[^'\\n]+)*\\n?'|\\([^()]*\\))/).getRegex(),Pe=k(/^( {0,3}bull)([ \\t][^\\n]+?)?(?:\\n|$)/).replace(/bull/g,N).getRegex(),v=\"address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul\",j=/<!--(?:-?>|[\\s\\S]*?(?:-->|$))/,Se=k(\"^ {0,3}(?:<(script|pre|style|textarea)[\\\\s>][\\\\s\\\\S]*?(?:</\\\\1>[^\\\\n]*\\\\n+|$)|comment[^\\\\n]*(\\\\n+|$)|<\\\\?[\\\\s\\\\S]*?(?:\\\\?>\\\\n*|$)|<![A-Z][\\\\s\\\\S]*?(?:>\\\\n*|$)|<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?(?:\\\\]\\\\]>\\\\n*|$)|</?(tag)(?: +|\\\\n|/?>)[\\\\s\\\\S]*?(?:(?:\\\\n[ \t]*)+\\\\n|$)|<(?!script|pre|style|textarea)([a-z][\\\\w-]*)(?:attribute)*? */?>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:(?:\\\\n[ \t]*)+\\\\n|$)|</(?!script|pre|style|textarea)[a-z][\\\\w-]*\\\\s*>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:(?:\\\\n[ \t]*)+\\\\n|$))\",\"i\").replace(\"comment\",j).replace(\"tag\",v).replace(\"attribute\",/ +[a-zA-Z:_][\\w.:-]*(?: *= *\"[^\"\\n]*\"| *= *'[^'\\n]*'| *= *[^\\s\"'=<>`]+)?/).getRegex(),ie=k(Q).replace(\"hr\",I).replace(\"heading\",\" {0,3}#{1,6}(?:\\\\s|$)\").replace(\"|lheading\",\"\").replace(\"|table\",\"\").replace(\"blockquote\",\" {0,3}>\").replace(\"fences\",\" {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n\").replace(\"list\",\" {0,3}(?:[*+-]|1[.)]) \").replace(\"html\",\"</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|textarea|!--)\").replace(\"tag\",v).getRegex(),$e=k(/^( {0,3}> ?(paragraph|[^\\n]*)(?:\\n|$))+/).replace(\"paragraph\",ie).getRegex(),U={blockquote:$e,code:be,def:ye,fences:Re,heading:Te,hr:I,html:Se,lheading:se,list:Pe,newline:xe,paragraph:ie,table:C,text:we},te=k(\"^ *([^\\\\n ].*)\\\\n {0,3}((?:\\\\| *)?:?-+:? *(?:\\\\| *:?-+:? *)*(?:\\\\| *)?)(?:\\\\n((?:(?! *\\\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\\\n|$))*)\\\\n*|$)\").replace(\"hr\",I).replace(\"heading\",\" {0,3}#{1,6}(?:\\\\s|$)\").replace(\"blockquote\",\" {0,3}>\").replace(\"code\",\"(?: {4}| {0,3}\t)[^\\\\n]\").replace(\"fences\",\" {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n\").replace(\"list\",\" {0,3}(?:[*+-]|1[.)]) \").replace(\"html\",\"</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|textarea|!--)\").replace(\"tag\",v).getRegex(),_e={...U,lheading:Oe,table:te,paragraph:k(Q).replace(\"hr\",I).replace(\"heading\",\" {0,3}#{1,6}(?:\\\\s|$)\").replace(\"|lheading\",\"\").replace(\"table\",te).replace(\"blockquote\",\" {0,3}>\").replace(\"fences\",\" {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n\").replace(\"list\",\" {0,3}(?:[*+-]|1[.)]) \").replace(\"html\",\"</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|textarea|!--)\").replace(\"tag\",v).getRegex()},Le={...U,html:k(`^ *(?:comment *(?:\\\\n|\\\\s*$)|<(tag)[\\\\s\\\\S]+?</\\\\1> *(?:\\\\n{2,}|\\\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\\\s[^'\"/>\\\\s]*)*?/?> *(?:\\\\n{2,}|\\\\s*$))`).replace(\"comment\",j).replace(/tag/g,\"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\\\b)\\\\w+(?!:|[^\\\\w\\\\s@]*@)\\\\b\").getRegex(),def:/^ *\\[([^\\]]+)\\]: *<?([^\\s>]+)>?(?: +([\"(][^\\n]+[\")]))? *(?:\\n+|$)/,heading:/^(#{1,6})(.*)(?:\\n+|$)/,fences:C,lheading:/^(.+?)\\n {0,3}(=+|-+) *(?:\\n+|$)/,paragraph:k(Q).replace(\"hr\",I).replace(\"heading\",` *#{1,6} *[^\n]`).replace(\"lheading\",se).replace(\"|table\",\"\").replace(\"blockquote\",\" {0,3}>\").replace(\"|fences\",\"\").replace(\"|list\",\"\").replace(\"|html\",\"\").replace(\"|tag\",\"\").getRegex()},Me=/^\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/,ze=/^(`+)([^`]|[^`][\\s\\S]*?[^`])\\1(?!`)/,oe=/^( {2,}|\\\\)\\n(?!\\s*$)/,Ae=/^(`+|[^`])(?:(?= {2,}\\n)|[\\s\\S]*?(?:(?=[\\\\<!\\[`*_]|\\b_|$)|[^ ](?= {2,}\\n)))/,D=/[\\p{P}\\p{S}]/u,K=/[\\s\\p{P}\\p{S}]/u,ae=/[^\\s\\p{P}\\p{S}]/u,Ce=k(/^((?![*_])punctSpace)/,\"u\").replace(/punctSpace/g,K).getRegex(),le=/(?!~)[\\p{P}\\p{S}]/u,Ie=/(?!~)[\\s\\p{P}\\p{S}]/u,Ee=/(?:[^\\s\\p{P}\\p{S}]|~)/u,Be=k(/link|precode-code|html/,\"g\").replace(\"link\",/\\[(?:[^\\[\\]`]|(?<a>`+)[^`]+\\k<a>(?!`))*?\\]\\((?:\\\\[\\s\\S]|[^\\\\\\(\\)]|\\((?:\\\\[\\s\\S]|[^\\\\\\(\\)])*\\))*\\)/).replace(\"precode-\",me?\"(?<!`)()\":\"(^^|[^`])\").replace(\"code\",/(?<b>`+)[^`]+\\k<b>(?!`)/).replace(\"html\",/<(?! )[^<>]*?>/).getRegex(),ue=/^(?:\\*+(?:((?!\\*)punct)|[^\\s*]))|^_+(?:((?!_)punct)|([^\\s_]))/,qe=k(ue,\"u\").replace(/punct/g,D).getRegex(),ve=k(ue,\"u\").replace(/punct/g,le).getRegex(),pe=\"^[^_*]*?__[^_*]*?\\\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\\\*)punct(\\\\*+)(?=[\\\\s]|$)|notPunctSpace(\\\\*+)(?!\\\\*)(?=punctSpace|$)|(?!\\\\*)punctSpace(\\\\*+)(?=notPunctSpace)|[\\\\s](\\\\*+)(?!\\\\*)(?=punct)|(?!\\\\*)punct(\\\\*+)(?!\\\\*)(?=punct)|notPunctSpace(\\\\*+)(?=notPunctSpace)\",De=k(pe,\"gu\").replace(/notPunctSpace/g,ae).replace(/punctSpace/g,K).replace(/punct/g,D).getRegex(),He=k(pe,\"gu\").replace(/notPunctSpace/g,Ee).replace(/punctSpace/g,Ie).replace(/punct/g,le).getRegex(),Ze=k(\"^[^_*]*?\\\\*\\\\*[^_*]*?_[^_*]*?(?=\\\\*\\\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)\",\"gu\").replace(/notPunctSpace/g,ae).replace(/punctSpace/g,K).replace(/punct/g,D).getRegex(),Ge=k(/\\\\(punct)/,\"gu\").replace(/punct/g,D).getRegex(),Ne=k(/^<(scheme:[^\\s\\x00-\\x1f<>]*|email)>/).replace(\"scheme\",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace(\"email\",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Qe=k(j).replace(\"(?:-->|$)\",\"-->\").getRegex(),Fe=k(\"^comment|^</[a-zA-Z][\\\\w:-]*\\\\s*>|^<[a-zA-Z][\\\\w-]*(?:attribute)*?\\\\s*/?>|^<\\\\?[\\\\s\\\\S]*?\\\\?>|^<![a-zA-Z]+\\\\s[\\\\s\\\\S]*?>|^<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>\").replace(\"comment\",Qe).replace(\"attribute\",/\\s+[a-zA-Z:_][\\w.:-]*(?:\\s*=\\s*\"[^\"]*\"|\\s*=\\s*'[^']*'|\\s*=\\s*[^\\s\"'=<>`]+)?/).getRegex(),q=/(?:\\[(?:\\\\[\\s\\S]|[^\\[\\]\\\\])*\\]|\\\\[\\s\\S]|`+[^`]*?`+(?!`)|[^\\[\\]\\\\`])*?/,je=k(/^!?\\[(label)\\]\\(\\s*(href)(?:(?:[ \\t]*(?:\\n[ \\t]*)?)(title))?\\s*\\)/).replace(\"label\",q).replace(\"href\",/<(?:\\\\.|[^\\n<>\\\\])+>|[^ \\t\\n\\x00-\\x1f]*/).replace(\"title\",/\"(?:\\\\\"?|[^\"\\\\])*\"|'(?:\\\\'?|[^'\\\\])*'|\\((?:\\\\\\)?|[^)\\\\])*\\)/).getRegex(),ce=k(/^!?\\[(label)\\]\\[(ref)\\]/).replace(\"label\",q).replace(\"ref\",F).getRegex(),he=k(/^!?\\[(ref)\\](?:\\[\\])?/).replace(\"ref\",F).getRegex(),Ue=k(\"reflink|nolink(?!\\\\()\",\"g\").replace(\"reflink\",ce).replace(\"nolink\",he).getRegex(),ne=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,W={_backpedal:C,anyPunctuation:Ge,autolink:Ne,blockSkip:Be,br:oe,code:ze,del:C,emStrongLDelim:qe,emStrongRDelimAst:De,emStrongRDelimUnd:Ze,escape:Me,link:je,nolink:he,punctuation:Ce,reflink:ce,reflinkSearch:Ue,tag:Fe,text:Ae,url:C},Ke={...W,link:k(/^!?\\[(label)\\]\\((.*?)\\)/).replace(\"label\",q).getRegex(),reflink:k(/^!?\\[(label)\\]\\s*\\[([^\\]]*)\\]/).replace(\"label\",q).getRegex()},G={...W,emStrongRDelimAst:He,emStrongLDelim:ve,url:k(/^((?:protocol):\\/\\/|www\\.)(?:[a-zA-Z0-9\\-]+\\.?)+[^\\s<]*|^email/).replace(\"protocol\",ne).replace(\"email\",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'\"~()&]+|\\([^)]*\\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'\"~)]+(?!$))+/,del:/^(~~?)(?=[^\\s~])((?:\\\\[\\s\\S]|[^\\\\])*?(?:\\\\[\\s\\S]|[^\\s~\\\\]))\\1(?=[^~]|$)/,text:k(/^([`~]+|[^`~])(?:(?= {2,}\\n)|(?=[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@)|[\\s\\S]*?(?:(?=[\\\\<!\\[`*~_]|\\b_|protocol:\\/\\/|www\\.|$)|[^ ](?= {2,}\\n)|[^a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-](?=[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@)))/).replace(\"protocol\",ne).getRegex()},We={...G,br:k(oe).replace(\"{2,}\",\"*\").getRegex(),text:k(G.text).replace(\"\\\\b_\",\"\\\\b_| {2,}\\\\n\").replace(/\\{2,\\}/g,\"*\").getRegex()},E={normal:U,gfm:_e,pedantic:Le},M={normal:W,gfm:G,breaks:We,pedantic:Ke};var Xe={\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&#39;\"},ke=u=>Xe[u];function w(u,e){if(e){if(m.escapeTest.test(u))return u.replace(m.escapeReplace,ke)}else if(m.escapeTestNoEncode.test(u))return u.replace(m.escapeReplaceNoEncode,ke);return u}function X(u){try{u=encodeURI(u).replace(m.percentDecode,\"%\")}catch{return null}return u}function J(u,e){let t=u.replace(m.findPipe,(i,s,a)=>{let o=!1,l=s;for(;--l>=0&&a[l]===\"\\\\\";)o=!o;return o?\"|\":\" |\"}),n=t.split(m.splitPipe),r=0;if(n[0].trim()||n.shift(),n.length>0&&!n.at(-1)?.trim()&&n.pop(),e)if(n.length>e)n.splice(e);else for(;n.length<e;)n.push(\"\");for(;r<n.length;r++)n[r]=n[r].trim().replace(m.slashPipe,\"|\");return n}function z(u,e,t){let n=u.length;if(n===0)return\"\";let r=0;for(;r<n;){let i=u.charAt(n-r-1);if(i===e&&!t)r++;else if(i!==e&&t)r++;else break}return u.slice(0,n-r)}function de(u,e){if(u.indexOf(e[1])===-1)return-1;let t=0;for(let n=0;n<u.length;n++)if(u[n]===\"\\\\\")n++;else if(u[n]===e[0])t++;else if(u[n]===e[1]&&(t--,t<0))return n;return t>0?-2:-1}function ge(u,e,t,n,r){let i=e.href,s=e.title||null,a=u[1].replace(r.other.outputLinkReplace,\"$1\");n.state.inLink=!0;let o={type:u[0].charAt(0)===\"!\"?\"image\":\"link\",raw:t,href:i,title:s,text:a,tokens:n.inlineTokens(a)};return n.state.inLink=!1,o}function Je(u,e,t){let n=u.match(t.other.indentCodeCompensation);if(n===null)return e;let r=n[1];return e.split(`\n`).map(i=>{let s=i.match(t.other.beginningSpace);if(s===null)return i;let[a]=s;return a.length>=r.length?i.slice(r.length):i}).join(`\n`)}var y=class{options;rules;lexer;constructor(e){this.options=e||T}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:\"space\",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let n=t[0].replace(this.rules.other.codeRemoveIndent,\"\");return{type:\"code\",raw:t[0],codeBlockStyle:\"indented\",text:this.options.pedantic?n:z(n,`\n`)}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let n=t[0],r=Je(n,t[3]||\"\",this.rules);return{type:\"code\",raw:n,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,\"$1\"):t[2],text:r}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let n=t[2].trim();if(this.rules.other.endingHash.test(n)){let r=z(n,\"#\");(this.options.pedantic||!r||this.rules.other.endingSpaceChar.test(r))&&(n=r.trim())}return{type:\"heading\",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:\"hr\",raw:z(t[0],`\n`)}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let n=z(t[0],`\n`).split(`\n`),r=\"\",i=\"\",s=[];for(;n.length>0;){let a=!1,o=[],l;for(l=0;l<n.length;l++)if(this.rules.other.blockquoteStart.test(n[l]))o.push(n[l]),a=!0;else if(!a)o.push(n[l]);else break;n=n.slice(l);let p=o.join(`\n`),c=p.replace(this.rules.other.blockquoteSetextReplace,`\n    $1`).replace(this.rules.other.blockquoteSetextReplace2,\"\");r=r?`${r}\n${p}`:p,i=i?`${i}\n${c}`:c;let g=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(c,s,!0),this.lexer.state.top=g,n.length===0)break;let h=s.at(-1);if(h?.type===\"code\")break;if(h?.type===\"blockquote\"){let R=h,f=R.raw+`\n`+n.join(`\n`),O=this.blockquote(f);s[s.length-1]=O,r=r.substring(0,r.length-R.raw.length)+O.raw,i=i.substring(0,i.length-R.text.length)+O.text;break}else if(h?.type===\"list\"){let R=h,f=R.raw+`\n`+n.join(`\n`),O=this.list(f);s[s.length-1]=O,r=r.substring(0,r.length-h.raw.length)+O.raw,i=i.substring(0,i.length-R.raw.length)+O.raw,n=f.substring(s.at(-1).raw.length).split(`\n`);continue}}return{type:\"blockquote\",raw:r,tokens:s,text:i}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim(),r=n.length>1,i={type:\"list\",raw:\"\",ordered:r,start:r?+n.slice(0,-1):\"\",loose:!1,items:[]};n=r?`\\\\d{1,9}\\\\${n.slice(-1)}`:`\\\\${n}`,this.options.pedantic&&(n=r?n:\"[*+-]\");let s=this.rules.other.listItemRegex(n),a=!1;for(;e;){let l=!1,p=\"\",c=\"\";if(!(t=s.exec(e))||this.rules.block.hr.test(e))break;p=t[0],e=e.substring(p.length);let g=t[2].split(`\n`,1)[0].replace(this.rules.other.listReplaceTabs,O=>\" \".repeat(3*O.length)),h=e.split(`\n`,1)[0],R=!g.trim(),f=0;if(this.options.pedantic?(f=2,c=g.trimStart()):R?f=t[1].length+1:(f=t[2].search(this.rules.other.nonSpaceChar),f=f>4?1:f,c=g.slice(f),f+=t[1].length),R&&this.rules.other.blankLine.test(h)&&(p+=h+`\n`,e=e.substring(h.length+1),l=!0),!l){let O=this.rules.other.nextBulletRegex(f),V=this.rules.other.hrRegex(f),Y=this.rules.other.fencesBeginRegex(f),ee=this.rules.other.headingBeginRegex(f),fe=this.rules.other.htmlBeginRegex(f);for(;e;){let H=e.split(`\n`,1)[0],A;if(h=H,this.options.pedantic?(h=h.replace(this.rules.other.listReplaceNesting,\"  \"),A=h):A=h.replace(this.rules.other.tabCharGlobal,\"    \"),Y.test(h)||ee.test(h)||fe.test(h)||O.test(h)||V.test(h))break;if(A.search(this.rules.other.nonSpaceChar)>=f||!h.trim())c+=`\n`+A.slice(f);else{if(R||g.replace(this.rules.other.tabCharGlobal,\"    \").search(this.rules.other.nonSpaceChar)>=4||Y.test(g)||ee.test(g)||V.test(g))break;c+=`\n`+h}!R&&!h.trim()&&(R=!0),p+=H+`\n`,e=e.substring(H.length+1),g=A.slice(f)}}i.loose||(a?i.loose=!0:this.rules.other.doubleBlankLine.test(p)&&(a=!0)),i.items.push({type:\"list_item\",raw:p,task:!!this.options.gfm&&this.rules.other.listIsTask.test(c),loose:!1,text:c,tokens:[]}),i.raw+=p}let o=i.items.at(-1);if(o)o.raw=o.raw.trimEnd(),o.text=o.text.trimEnd();else return;i.raw=i.raw.trimEnd();for(let l of i.items){if(this.lexer.state.top=!1,l.tokens=this.lexer.blockTokens(l.text,[]),l.task){if(l.text=l.text.replace(this.rules.other.listReplaceTask,\"\"),l.tokens[0]?.type===\"text\"||l.tokens[0]?.type===\"paragraph\"){l.tokens[0].raw=l.tokens[0].raw.replace(this.rules.other.listReplaceTask,\"\"),l.tokens[0].text=l.tokens[0].text.replace(this.rules.other.listReplaceTask,\"\");for(let c=this.lexer.inlineQueue.length-1;c>=0;c--)if(this.rules.other.listIsTask.test(this.lexer.inlineQueue[c].src)){this.lexer.inlineQueue[c].src=this.lexer.inlineQueue[c].src.replace(this.rules.other.listReplaceTask,\"\");break}}let p=this.rules.other.listTaskCheckbox.exec(l.raw);if(p){let c={type:\"checkbox\",raw:p[0]+\" \",checked:p[0]!==\"[ ]\"};l.checked=c.checked,i.loose?l.tokens[0]&&[\"paragraph\",\"text\"].includes(l.tokens[0].type)&&\"tokens\"in l.tokens[0]&&l.tokens[0].tokens?(l.tokens[0].raw=c.raw+l.tokens[0].raw,l.tokens[0].text=c.raw+l.tokens[0].text,l.tokens[0].tokens.unshift(c)):l.tokens.unshift({type:\"paragraph\",raw:c.raw,text:c.raw,tokens:[c]}):l.tokens.unshift(c)}}if(!i.loose){let p=l.tokens.filter(g=>g.type===\"space\"),c=p.length>0&&p.some(g=>this.rules.other.anyLine.test(g.raw));i.loose=c}}if(i.loose)for(let l of i.items){l.loose=!0;for(let p of l.tokens)p.type===\"text\"&&(p.type=\"paragraph\")}return i}}html(e){let t=this.rules.block.html.exec(e);if(t)return{type:\"html\",block:!0,raw:t[0],pre:t[1]===\"pre\"||t[1]===\"script\"||t[1]===\"style\",text:t[0]}}def(e){let t=this.rules.block.def.exec(e);if(t){let n=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal,\" \"),r=t[2]?t[2].replace(this.rules.other.hrefBrackets,\"$1\").replace(this.rules.inline.anyPunctuation,\"$1\"):\"\",i=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,\"$1\"):t[3];return{type:\"def\",tag:n,raw:t[0],href:r,title:i}}}table(e){let t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;let n=J(t[1]),r=t[2].replace(this.rules.other.tableAlignChars,\"\").split(\"|\"),i=t[3]?.trim()?t[3].replace(this.rules.other.tableRowBlankLine,\"\").split(`\n`):[],s={type:\"table\",raw:t[0],header:[],align:[],rows:[]};if(n.length===r.length){for(let a of r)this.rules.other.tableAlignRight.test(a)?s.align.push(\"right\"):this.rules.other.tableAlignCenter.test(a)?s.align.push(\"center\"):this.rules.other.tableAlignLeft.test(a)?s.align.push(\"left\"):s.align.push(null);for(let a=0;a<n.length;a++)s.header.push({text:n[a],tokens:this.lexer.inline(n[a]),header:!0,align:s.align[a]});for(let a of i)s.rows.push(J(a,s.header.length).map((o,l)=>({text:o,tokens:this.lexer.inline(o),header:!1,align:s.align[l]})));return s}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t)return{type:\"heading\",raw:t[0],depth:t[2].charAt(0)===\"=\"?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let n=t[1].charAt(t[1].length-1)===`\n`?t[1].slice(0,-1):t[1];return{type:\"paragraph\",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}text(e){let t=this.rules.block.text.exec(e);if(t)return{type:\"text\",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:\"escape\",raw:t[0],text:t[1]}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:\"html\",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let n=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;let s=z(n.slice(0,-1),\"\\\\\");if((n.length-s.length)%2===0)return}else{let s=de(t[2],\"()\");if(s===-2)return;if(s>-1){let o=(t[0].indexOf(\"!\")===0?5:4)+t[1].length+s;t[2]=t[2].substring(0,s),t[0]=t[0].substring(0,o).trim(),t[3]=\"\"}}let r=t[2],i=\"\";if(this.options.pedantic){let s=this.rules.other.pedanticHrefTitle.exec(r);s&&(r=s[1],i=s[3])}else i=t[3]?t[3].slice(1,-1):\"\";return r=r.trim(),this.rules.other.startAngleBracket.test(r)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?r=r.slice(1):r=r.slice(1,-1)),ge(t,{href:r&&r.replace(this.rules.inline.anyPunctuation,\"$1\"),title:i&&i.replace(this.rules.inline.anyPunctuation,\"$1\")},t[0],this.lexer,this.rules)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let r=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal,\" \"),i=t[r.toLowerCase()];if(!i){let s=n[0].charAt(0);return{type:\"text\",raw:s,text:s}}return ge(n,i,n[0],this.lexer,this.rules)}}emStrong(e,t,n=\"\"){let r=this.rules.inline.emStrongLDelim.exec(e);if(!r||r[3]&&n.match(this.rules.other.unicodeAlphaNumeric))return;if(!(r[1]||r[2]||\"\")||!n||this.rules.inline.punctuation.exec(n)){let s=[...r[0]].length-1,a,o,l=s,p=0,c=r[0][0]===\"*\"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(c.lastIndex=0,t=t.slice(-1*e.length+s);(r=c.exec(t))!=null;){if(a=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!a)continue;if(o=[...a].length,r[3]||r[4]){l+=o;continue}else if((r[5]||r[6])&&s%3&&!((s+o)%3)){p+=o;continue}if(l-=o,l>0)continue;o=Math.min(o,o+l+p);let g=[...r[0]][0].length,h=e.slice(0,s+r.index+g+o);if(Math.min(s,o)%2){let f=h.slice(1,-1);return{type:\"em\",raw:h,text:f,tokens:this.lexer.inlineTokens(f)}}let R=h.slice(2,-2);return{type:\"strong\",raw:h,text:R,tokens:this.lexer.inlineTokens(R)}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let n=t[2].replace(this.rules.other.newLineCharGlobal,\" \"),r=this.rules.other.nonSpaceChar.test(n),i=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return r&&i&&(n=n.substring(1,n.length-1)),{type:\"codespan\",raw:t[0],text:n}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:\"br\",raw:t[0]}}del(e){let t=this.rules.inline.del.exec(e);if(t)return{type:\"del\",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){let t=this.rules.inline.autolink.exec(e);if(t){let n,r;return t[2]===\"@\"?(n=t[1],r=\"mailto:\"+n):(n=t[1],r=n),{type:\"link\",raw:t[0],text:n,href:r,tokens:[{type:\"text\",raw:n,text:n}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let n,r;if(t[2]===\"@\")n=t[0],r=\"mailto:\"+n;else{let i;do i=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])?.[0]??\"\";while(i!==t[0]);n=t[0],t[1]===\"www.\"?r=\"http://\"+t[0]:r=t[0]}return{type:\"link\",raw:t[0],text:n,href:r,tokens:[{type:\"text\",raw:n,text:n}]}}}inlineText(e){let t=this.rules.inline.text.exec(e);if(t){let n=this.lexer.state.inRawBlock;return{type:\"text\",raw:t[0],text:t[0],escaped:n}}}};var x=class u{tokens;options;state;inlineQueue;tokenizer;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||T,this.options.tokenizer=this.options.tokenizer||new y,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let t={other:m,block:E.normal,inline:M.normal};this.options.pedantic?(t.block=E.pedantic,t.inline=M.pedantic):this.options.gfm&&(t.block=E.gfm,this.options.breaks?t.inline=M.breaks:t.inline=M.gfm),this.tokenizer.rules=t}static get rules(){return{block:E,inline:M}}static lex(e,t){return new u(t).lex(e)}static lexInline(e,t){return new u(t).inlineTokens(e)}lex(e){e=e.replace(m.carriageReturn,`\n`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){let n=this.inlineQueue[t];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],n=!1){for(this.options.pedantic&&(e=e.replace(m.tabCharGlobal,\"    \").replace(m.spaceLine,\"\"));e;){let r;if(this.options.extensions?.block?.some(s=>(r=s.call({lexer:this},e,t))?(e=e.substring(r.raw.length),t.push(r),!0):!1))continue;if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length);let s=t.at(-1);r.raw.length===1&&s!==void 0?s.raw+=`\n`:t.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length);let s=t.at(-1);s?.type===\"paragraph\"||s?.type===\"text\"?(s.raw+=(s.raw.endsWith(`\n`)?\"\":`\n`)+r.raw,s.text+=`\n`+r.text,this.inlineQueue.at(-1).src=s.text):t.push(r);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length);let s=t.at(-1);s?.type===\"paragraph\"||s?.type===\"text\"?(s.raw+=(s.raw.endsWith(`\n`)?\"\":`\n`)+r.raw,s.text+=`\n`+r.raw,this.inlineQueue.at(-1).src=s.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title},t.push(r));continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),t.push(r);continue}let i=e;if(this.options.extensions?.startBlock){let s=1/0,a=e.slice(1),o;this.options.extensions.startBlock.forEach(l=>{o=l.call({lexer:this},a),typeof o==\"number\"&&o>=0&&(s=Math.min(s,o))}),s<1/0&&s>=0&&(i=e.substring(0,s+1))}if(this.state.top&&(r=this.tokenizer.paragraph(i))){let s=t.at(-1);n&&s?.type===\"paragraph\"?(s.raw+=(s.raw.endsWith(`\n`)?\"\":`\n`)+r.raw,s.text+=`\n`+r.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=s.text):t.push(r),n=i.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length);let s=t.at(-1);s?.type===\"text\"?(s.raw+=(s.raw.endsWith(`\n`)?\"\":`\n`)+r.raw,s.text+=`\n`+r.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=s.text):t.push(r);continue}if(e){let s=\"Infinite loop on byte: \"+e.charCodeAt(0);if(this.options.silent){console.error(s);break}else throw new Error(s)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n=e,r=null;if(this.tokens.links){let o=Object.keys(this.tokens.links);if(o.length>0)for(;(r=this.tokenizer.rules.inline.reflinkSearch.exec(n))!=null;)o.includes(r[0].slice(r[0].lastIndexOf(\"[\")+1,-1))&&(n=n.slice(0,r.index)+\"[\"+\"a\".repeat(r[0].length-2)+\"]\"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(r=this.tokenizer.rules.inline.anyPunctuation.exec(n))!=null;)n=n.slice(0,r.index)+\"++\"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let i;for(;(r=this.tokenizer.rules.inline.blockSkip.exec(n))!=null;)i=r[2]?r[2].length:0,n=n.slice(0,r.index+i)+\"[\"+\"a\".repeat(r[0].length-i-2)+\"]\"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);n=this.options.hooks?.emStrongMask?.call({lexer:this},n)??n;let s=!1,a=\"\";for(;e;){s||(a=\"\"),s=!1;let o;if(this.options.extensions?.inline?.some(p=>(o=p.call({lexer:this},e,t))?(e=e.substring(o.raw.length),t.push(o),!0):!1))continue;if(o=this.tokenizer.escape(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.tag(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.link(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(o.raw.length);let p=t.at(-1);o.type===\"text\"&&p?.type===\"text\"?(p.raw+=o.raw,p.text+=o.text):t.push(o);continue}if(o=this.tokenizer.emStrong(e,n,a)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.codespan(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.br(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.del(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.autolink(e)){e=e.substring(o.raw.length),t.push(o);continue}if(!this.state.inLink&&(o=this.tokenizer.url(e))){e=e.substring(o.raw.length),t.push(o);continue}let l=e;if(this.options.extensions?.startInline){let p=1/0,c=e.slice(1),g;this.options.extensions.startInline.forEach(h=>{g=h.call({lexer:this},c),typeof g==\"number\"&&g>=0&&(p=Math.min(p,g))}),p<1/0&&p>=0&&(l=e.substring(0,p+1))}if(o=this.tokenizer.inlineText(l)){e=e.substring(o.raw.length),o.raw.slice(-1)!==\"_\"&&(a=o.raw.slice(-1)),s=!0;let p=t.at(-1);p?.type===\"text\"?(p.raw+=o.raw,p.text+=o.text):t.push(o);continue}if(e){let p=\"Infinite loop on byte: \"+e.charCodeAt(0);if(this.options.silent){console.error(p);break}else throw new Error(p)}}return t}};var P=class{options;parser;constructor(e){this.options=e||T}space(e){return\"\"}code({text:e,lang:t,escaped:n}){let r=(t||\"\").match(m.notSpaceStart)?.[0],i=e.replace(m.endingNewline,\"\")+`\n`;return r?'<pre><code class=\"language-'+w(r)+'\">'+(n?i:w(i,!0))+`</code></pre>\n`:\"<pre><code>\"+(n?i:w(i,!0))+`</code></pre>\n`}blockquote({tokens:e}){return`<blockquote>\n${this.parser.parse(e)}</blockquote>\n`}html({text:e}){return e}def(e){return\"\"}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>\n`}hr(e){return`<hr>\n`}list(e){let t=e.ordered,n=e.start,r=\"\";for(let a=0;a<e.items.length;a++){let o=e.items[a];r+=this.listitem(o)}let i=t?\"ol\":\"ul\",s=t&&n!==1?' start=\"'+n+'\"':\"\";return\"<\"+i+s+`>\n`+r+\"</\"+i+`>\n`}listitem(e){return`<li>${this.parser.parse(e.tokens)}</li>\n`}checkbox({checked:e}){return\"<input \"+(e?'checked=\"\" ':\"\")+'disabled=\"\" type=\"checkbox\"> '}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>\n`}table(e){let t=\"\",n=\"\";for(let i=0;i<e.header.length;i++)n+=this.tablecell(e.header[i]);t+=this.tablerow({text:n});let r=\"\";for(let i=0;i<e.rows.length;i++){let s=e.rows[i];n=\"\";for(let a=0;a<s.length;a++)n+=this.tablecell(s[a]);r+=this.tablerow({text:n})}return r&&(r=`<tbody>${r}</tbody>`),`<table>\n<thead>\n`+t+`</thead>\n`+r+`</table>\n`}tablerow({text:e}){return`<tr>\n${e}</tr>\n`}tablecell(e){let t=this.parser.parseInline(e.tokens),n=e.header?\"th\":\"td\";return(e.align?`<${n} align=\"${e.align}\">`:`<${n}>`)+t+`</${n}>\n`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${w(e,!0)}</code>`}br(e){return\"<br>\"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:n}){let r=this.parser.parseInline(n),i=X(e);if(i===null)return r;e=i;let s='<a href=\"'+e+'\"';return t&&(s+=' title=\"'+w(t)+'\"'),s+=\">\"+r+\"</a>\",s}image({href:e,title:t,text:n,tokens:r}){r&&(n=this.parser.parseInline(r,this.parser.textRenderer));let i=X(e);if(i===null)return w(n);e=i;let s=`<img src=\"${e}\" alt=\"${n}\"`;return t&&(s+=` title=\"${w(t)}\"`),s+=\">\",s}text(e){return\"tokens\"in e&&e.tokens?this.parser.parseInline(e.tokens):\"escaped\"in e&&e.escaped?e.text:w(e.text)}};var $=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return\"\"+e}image({text:e}){return\"\"+e}br(){return\"\"}checkbox({raw:e}){return e}};var b=class u{options;renderer;textRenderer;constructor(e){this.options=e||T,this.options.renderer=this.options.renderer||new P,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new $}static parse(e,t){return new u(t).parse(e)}static parseInline(e,t){return new u(t).parseInline(e)}parse(e){let t=\"\";for(let n=0;n<e.length;n++){let r=e[n];if(this.options.extensions?.renderers?.[r.type]){let s=r,a=this.options.extensions.renderers[s.type].call({parser:this},s);if(a!==!1||![\"space\",\"hr\",\"heading\",\"code\",\"table\",\"blockquote\",\"list\",\"html\",\"def\",\"paragraph\",\"text\"].includes(s.type)){t+=a||\"\";continue}}let i=r;switch(i.type){case\"space\":{t+=this.renderer.space(i);break}case\"hr\":{t+=this.renderer.hr(i);break}case\"heading\":{t+=this.renderer.heading(i);break}case\"code\":{t+=this.renderer.code(i);break}case\"table\":{t+=this.renderer.table(i);break}case\"blockquote\":{t+=this.renderer.blockquote(i);break}case\"list\":{t+=this.renderer.list(i);break}case\"checkbox\":{t+=this.renderer.checkbox(i);break}case\"html\":{t+=this.renderer.html(i);break}case\"def\":{t+=this.renderer.def(i);break}case\"paragraph\":{t+=this.renderer.paragraph(i);break}case\"text\":{t+=this.renderer.text(i);break}default:{let s='Token with \"'+i.type+'\" type was not found.';if(this.options.silent)return console.error(s),\"\";throw new Error(s)}}}return t}parseInline(e,t=this.renderer){let n=\"\";for(let r=0;r<e.length;r++){let i=e[r];if(this.options.extensions?.renderers?.[i.type]){let a=this.options.extensions.renderers[i.type].call({parser:this},i);if(a!==!1||![\"escape\",\"html\",\"link\",\"image\",\"strong\",\"em\",\"codespan\",\"br\",\"del\",\"text\"].includes(i.type)){n+=a||\"\";continue}}let s=i;switch(s.type){case\"escape\":{n+=t.text(s);break}case\"html\":{n+=t.html(s);break}case\"link\":{n+=t.link(s);break}case\"image\":{n+=t.image(s);break}case\"checkbox\":{n+=t.checkbox(s);break}case\"strong\":{n+=t.strong(s);break}case\"em\":{n+=t.em(s);break}case\"codespan\":{n+=t.codespan(s);break}case\"br\":{n+=t.br(s);break}case\"del\":{n+=t.del(s);break}case\"text\":{n+=t.text(s);break}default:{let a='Token with \"'+s.type+'\" type was not found.';if(this.options.silent)return console.error(a),\"\";throw new Error(a)}}}return n}};var S=class{options;block;constructor(e){this.options=e||T}static passThroughHooks=new Set([\"preprocess\",\"postprocess\",\"processAllTokens\",\"emStrongMask\"]);static passThroughHooksRespectAsync=new Set([\"preprocess\",\"postprocess\",\"processAllTokens\"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}emStrongMask(e){return e}provideLexer(){return this.block?x.lex:x.lexInline}provideParser(){return this.block?b.parse:b.parseInline}};var B=class{defaults=L();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=b;Renderer=P;TextRenderer=$;Lexer=x;Tokenizer=y;Hooks=S;constructor(...e){this.use(...e)}walkTokens(e,t){let n=[];for(let r of e)switch(n=n.concat(t.call(this,r)),r.type){case\"table\":{let i=r;for(let s of i.header)n=n.concat(this.walkTokens(s.tokens,t));for(let s of i.rows)for(let a of s)n=n.concat(this.walkTokens(a.tokens,t));break}case\"list\":{let i=r;n=n.concat(this.walkTokens(i.items,t));break}default:{let i=r;this.defaults.extensions?.childTokens?.[i.type]?this.defaults.extensions.childTokens[i.type].forEach(s=>{let a=i[s].flat(1/0);n=n.concat(this.walkTokens(a,t))}):i.tokens&&(n=n.concat(this.walkTokens(i.tokens,t)))}}return n}use(...e){let t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(n=>{let r={...n};if(r.async=this.defaults.async||r.async||!1,n.extensions&&(n.extensions.forEach(i=>{if(!i.name)throw new Error(\"extension name required\");if(\"renderer\"in i){let s=t.renderers[i.name];s?t.renderers[i.name]=function(...a){let o=i.renderer.apply(this,a);return o===!1&&(o=s.apply(this,a)),o}:t.renderers[i.name]=i.renderer}if(\"tokenizer\"in i){if(!i.level||i.level!==\"block\"&&i.level!==\"inline\")throw new Error(\"extension level must be 'block' or 'inline'\");let s=t[i.level];s?s.unshift(i.tokenizer):t[i.level]=[i.tokenizer],i.start&&(i.level===\"block\"?t.startBlock?t.startBlock.push(i.start):t.startBlock=[i.start]:i.level===\"inline\"&&(t.startInline?t.startInline.push(i.start):t.startInline=[i.start]))}\"childTokens\"in i&&i.childTokens&&(t.childTokens[i.name]=i.childTokens)}),r.extensions=t),n.renderer){let i=this.defaults.renderer||new P(this.defaults);for(let s in n.renderer){if(!(s in i))throw new Error(`renderer '${s}' does not exist`);if([\"options\",\"parser\"].includes(s))continue;let a=s,o=n.renderer[a],l=i[a];i[a]=(...p)=>{let c=o.apply(i,p);return c===!1&&(c=l.apply(i,p)),c||\"\"}}r.renderer=i}if(n.tokenizer){let i=this.defaults.tokenizer||new y(this.defaults);for(let s in n.tokenizer){if(!(s in i))throw new Error(`tokenizer '${s}' does not exist`);if([\"options\",\"rules\",\"lexer\"].includes(s))continue;let a=s,o=n.tokenizer[a],l=i[a];i[a]=(...p)=>{let c=o.apply(i,p);return c===!1&&(c=l.apply(i,p)),c}}r.tokenizer=i}if(n.hooks){let i=this.defaults.hooks||new S;for(let s in n.hooks){if(!(s in i))throw new Error(`hook '${s}' does not exist`);if([\"options\",\"block\"].includes(s))continue;let a=s,o=n.hooks[a],l=i[a];S.passThroughHooks.has(s)?i[a]=p=>{if(this.defaults.async&&S.passThroughHooksRespectAsync.has(s))return(async()=>{let g=await o.call(i,p);return l.call(i,g)})();let c=o.call(i,p);return l.call(i,c)}:i[a]=(...p)=>{if(this.defaults.async)return(async()=>{let g=await o.apply(i,p);return g===!1&&(g=await l.apply(i,p)),g})();let c=o.apply(i,p);return c===!1&&(c=l.apply(i,p)),c}}r.hooks=i}if(n.walkTokens){let i=this.defaults.walkTokens,s=n.walkTokens;r.walkTokens=function(a){let o=[];return o.push(s.call(this,a)),i&&(o=o.concat(i.call(this,a))),o}}this.defaults={...this.defaults,...r}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return x.lex(e,t??this.defaults)}parser(e,t){return b.parse(e,t??this.defaults)}parseMarkdown(e){return(n,r)=>{let i={...r},s={...this.defaults,...i},a=this.onError(!!s.silent,!!s.async);if(this.defaults.async===!0&&i.async===!1)return a(new Error(\"marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise.\"));if(typeof n>\"u\"||n===null)return a(new Error(\"marked(): input parameter is undefined or null\"));if(typeof n!=\"string\")return a(new Error(\"marked(): input parameter is of type \"+Object.prototype.toString.call(n)+\", string expected\"));if(s.hooks&&(s.hooks.options=s,s.hooks.block=e),s.async)return(async()=>{let o=s.hooks?await s.hooks.preprocess(n):n,p=await(s.hooks?await s.hooks.provideLexer():e?x.lex:x.lexInline)(o,s),c=s.hooks?await s.hooks.processAllTokens(p):p;s.walkTokens&&await Promise.all(this.walkTokens(c,s.walkTokens));let h=await(s.hooks?await s.hooks.provideParser():e?b.parse:b.parseInline)(c,s);return s.hooks?await s.hooks.postprocess(h):h})().catch(a);try{s.hooks&&(n=s.hooks.preprocess(n));let l=(s.hooks?s.hooks.provideLexer():e?x.lex:x.lexInline)(n,s);s.hooks&&(l=s.hooks.processAllTokens(l)),s.walkTokens&&this.walkTokens(l,s.walkTokens);let c=(s.hooks?s.hooks.provideParser():e?b.parse:b.parseInline)(l,s);return s.hooks&&(c=s.hooks.postprocess(c)),c}catch(o){return a(o)}}}onError(e,t){return n=>{if(n.message+=`\nPlease report this to https://github.com/markedjs/marked.`,e){let r=\"<p>An error occurred:</p><pre>\"+w(n.message+\"\",!0)+\"</pre>\";return t?Promise.resolve(r):r}if(t)return Promise.reject(n);throw n}}};var _=new B;function d(u,e){return _.parse(u,e)}d.options=d.setOptions=function(u){return _.setOptions(u),d.defaults=_.defaults,Z(d.defaults),d};d.getDefaults=L;d.defaults=T;d.use=function(...u){return _.use(...u),d.defaults=_.defaults,Z(d.defaults),d};d.walkTokens=function(u,e){return _.walkTokens(u,e)};d.parseInline=_.parseInline;d.Parser=b;d.parser=b.parse;d.Renderer=P;d.TextRenderer=$;d.Lexer=x;d.lexer=x.lex;d.Tokenizer=y;d.Hooks=S;d.parse=d;var Dt=d.options,Ht=d.setOptions,Zt=d.use,Gt=d.walkTokens,Nt=d.parseInline,Qt=d,Ft=b.parse,jt=x.lex;\n//# sourceMappingURL=marked.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL21hcmtlZC9saWIvbWFya2VkLmVzbS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsYUFBYSxPQUFPLHlIQUF5SCxVQUFVLGNBQWMsSUFBSSxPQUFPLGVBQWUsbUJBQW1CLHVDQUF1QyxnQkFBZ0Isb0NBQW9DLG9EQUFvRCwrQkFBK0IsU0FBUyxhQUFhLElBQUksbUNBQW1DLE1BQU0sVUFBVSxPQUFPLHdCQUF3QixJQUFJLEdBQUcsSUFBSSx3VUFBd1UsSUFBSSxnQ0FBZ0MsSUFBSSxxREFBcUQsSUFBSSx5REFBeUQsSUFBSSxNQUFNLEVBQUUsa2pCQUFrakIsRUFBRSxHQUFHLEVBQUUsc0ZBQXNGLElBQUksa0JBQWtCLElBQUksTUFBTSwwQ0FBMEMsSUFBSSxrQkFBa0IsSUFBSSxNQUFNLHlEQUF5RCx1TkFBdU4sSUFBSSxFQUFFLEVBQUUsaUVBQWlFLElBQUksaUJBQWlCLGFBQWEsSUFBSSw2REFBNkQsSUFBSSxpQkFBaUIsU0FBUyxHQUFHLFNBQVMsR0FBRyxXQUFXLEdBQUcsaURBQWlELElBQUksaUJBQWlCLHFEQUFxRCxJQUFJLGlCQUFpQixxQ0FBcUMsSUFBSSxpQkFBaUIsd0JBQXdCLHNDQUFzQyxFQUFFLEdBQUcsSUFBSSw4Q0FBOEMsSUFBSSxHQUFHLEdBQUcsc0JBQXNCLEdBQUcsNkNBQTZDLElBQUksNEJBQTRCLElBQUksYUFBYSxHQUFHLGFBQWEsR0FBRyxjQUFjLEdBQUcsbUJBQW1CLElBQUksR0FBRyxJQUFJLHVDQUF1QyxJQUFJLG1KQUFtSixJQUFJLDJFQUEyRSxFQUFFLEdBQUcsSUFBSSwyQkFBMkIsSUFBSSxLQUFLLEdBQUcsR0FBRyxHQUFHLDZCQUE2QixJQUFJLDBCQUEwQixJQUFJLEVBQUUsSUFBSSxzQkFBc0IsSUFBSSx1R0FBdUcsRUFBRSxHQUFHLElBQUksMkJBQTJCLElBQUksS0FB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LDhEQUE4RCxtRUFBbUUsOEJBQThCLDhCQUE4QixXQUFXLFlBQVksZ0JBQWdCLG9CQUFvQixtQ0FBbUMsOERBQThELGdCQUFnQixhQUFhLHFCQUFxQiwwREFBMEQsMkJBQTJCLDBCQUEwQiw0QkFBNEIsV0FBVyxpQkFBaUIsYUFBYSxpQkFBaUIsVUFBVSxjQUFjLGNBQWMsVUFBVSxVQUFVLG9HQUFxVztBQUMvK0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jYW11bmRhLW1vZGVsZXItY2xpZW50Ly4uL25vZGVfbW9kdWxlcy9tYXJrZWQvbGliL21hcmtlZC5lc20uanM/M2E0OCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIG1hcmtlZCB2MTcuMC4xIC0gYSBtYXJrZG93biBwYXJzZXJcbiAqIENvcHlyaWdodCAoYykgMjAxOC0yMDI1LCBNYXJrZWRKUy4gKE1JVCBMaWNlbnNlKVxuICogQ29weXJpZ2h0IChjKSAyMDExLTIwMTgsIENocmlzdG9waGVyIEplZmZyZXkuIChNSVQgTGljZW5zZSlcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXJrZWRqcy9tYXJrZWRcbiAqL1xuXG4vKipcbiAqIERPIE5PVCBFRElUIFRISVMgRklMRVxuICogVGhlIGNvZGUgaW4gdGhpcyBmaWxlIGlzIGdlbmVyYXRlZCBmcm9tIGZpbGVzIGluIC4vc3JjL1xuICovXG5cbmZ1bmN0aW9uIEwoKXtyZXR1cm57YXN5bmM6ITEsYnJlYWtzOiExLGV4dGVuc2lvbnM6bnVsbCxnZm06ITAsaG9va3M6bnVsbCxwZWRhbnRpYzohMSxyZW5kZXJlcjpudWxsLHNpbGVudDohMSx0b2tlbml6ZXI6bnVsbCx3YWxrVG9rZW5zOm51bGx9fXZhciBUPUwoKTtmdW5jdGlvbiBaKHUpe1Q9dX12YXIgQz17ZXhlYzooKT0+bnVsbH07ZnVuY3Rpb24gayh1LGU9XCJcIil7bGV0IHQ9dHlwZW9mIHU9PVwic3RyaW5nXCI/dTp1LnNvdXJjZSxuPXtyZXBsYWNlOihyLGkpPT57bGV0IHM9dHlwZW9mIGk9PVwic3RyaW5nXCI/aTppLnNvdXJjZTtyZXR1cm4gcz1zLnJlcGxhY2UobS5jYXJldCxcIiQxXCIpLHQ9dC5yZXBsYWNlKHIscyksbn0sZ2V0UmVnZXg6KCk9Pm5ldyBSZWdFeHAodCxlKX07cmV0dXJuIG59dmFyIG1lPSgoKT0+e3RyeXtyZXR1cm4hIW5ldyBSZWdFeHAoXCIoPzw9MSkoPzwhMSlcIil9Y2F0Y2h7cmV0dXJuITF9fSkoKSxtPXtjb2RlUmVtb3ZlSW5kZW50Oi9eKD86IHsxLDR9fCB7MCwzfVxcdCkvZ20sb3V0cHV0TGlua1JlcGxhY2U6L1xcXFwoW1xcW1xcXV0pL2csaW5kZW50Q29kZUNvbXBlbnNhdGlvbjovXihcXHMrKSg/OmBgYCkvLGJlZ2lubmluZ1NwYWNlOi9eXFxzKy8sZW5kaW5nSGFzaDovIyQvLHN0YXJ0aW5nU3BhY2VDaGFyOi9eIC8sZW5kaW5nU3BhY2VDaGFyOi8gJC8sbm9uU3BhY2VDaGFyOi9bXiBdLyxuZXdMaW5lQ2hhckdsb2JhbDovXFxuL2csdGFiQ2hhckdsb2JhbDovXFx0L2csbXVsdGlwbGVTcGFjZUdsb2JhbDovXFxzKy9nLGJsYW5rTGluZTovXlsgXFx0XSokLyxkb3VibGVCbGFua0xpbmU6L1xcblsgXFx0XSpcXG5bIFxcdF0qJC8sYmxvY2txdW90ZVN0YXJ0Oi9eIHswLDN9Pi8sYmxvY2txdW90ZVNldGV4dFJlcGxhY2U6L1xcbiB7MCwzfSgoPzo9K3wtKykgKikoPz1cXG58JCkvZyxibG9ja3F1b3RlU2V0ZXh0UmVwbGFjZTI6L14gezAsM30+WyBcXHRdPy9nbSxsaXN0UmVwbGFjZVRhYnM6L15cXHQrLyxsaXN0UmVwbGFjZU5lc3Rpbmc6L14gezEsNH0oPz0oIHs0fSkqW14gXSkvZyxsaXN0SXNUYXNrOi9eXFxbWyB4WF1cXF0gK1xcUy8sbGlzdFJlcGxhY2VUYXNrOi9eXFxbWyB4WF1cXF0gKy8sbGlzdFRhc2tDaGVja2JveDovXFxbWyB4WF1cXF0vLGFueUxpbmU6L1xcbi4qXFxuLyxocmVmQnJhY2tldHM6L148KC4qKT4kLyx0YWJsZURlbGltaXRlcjovWzp8XS8sdGFibGVBbGlnbkNoYXJzOi9eXFx8fFxcfCAqJC9nLHRhYmxlUm93QmxhbmtMaW5lOi9cXG5bIFxcdF0qJC8sdGFibGVBbGlnblJpZ2h0Oi9eICotKzogKiQvLHRhYmxlQWxpZ25DZW50ZXI6L14gKjotKzogKiQvLHRhYmxlQWxpZ25MZWZ0Oi9eICo6LSsgKiQvLHN0YXJ0QVRhZzovXjxhIC9pLGVuZEFUYWc6L148XFwvYT4vaSxzdGFydFByZVNjcmlwdFRhZzovXjwocHJlfGNvZGV8a2JkfHNjcmlwdCkoXFxzfD4pL2ksZW5kUHJlU2NyaXB0VGFnOi9ePFxcLyhwcmV8Y29kZXxrYmR8c2NyaXB0KShcXHN8PikvaSxzdGFydEFuZ2xlQnJhY2tldDovXjwvLGVuZEFuZ2xlQnJhY2tldDovPiQvLHBlZGFudGljSHJlZlRpdGxlOi9eKFteJ1wiXSpbXlxcc10pXFxzKyhbJ1wiXSkoLiopXFwyLyx1bmljb2RlQWxwaGFOdW1lcmljOi9bXFxwe0x9XFxwe059XS91LGVzY2FwZVRlc3Q6L1smPD5cIiddLyxlc2NhcGVSZXBsYWNlOi9bJjw+XCInXS9nLGVzY2FwZVRlc3ROb0VuY29kZTovWzw+XCInXXwmKD8hKCNcXGR7MSw3fXwjW1h4XVthLWZBLUYwLTldezEsNn18XFx3Kyk7KS8sZXNjYXBlUmVwbGFjZU5vRW5jb2RlOi9bPD5cIiddfCYoPyEoI1xcZHsxLDd9fCNbWHhdW2EtZkEtRjAtOV17MSw2fXxcXHcrKTspL2csdW5lc2NhcGVUZXN0Oi8mKCMoPzpcXGQrKXwoPzojeFswLTlBLUZhLWZdKyl8KD86XFx3KykpOz8vaWcsY2FyZXQ6LyhefFteXFxbXSlcXF4vZyxwZXJjZW50RGVjb2RlOi8lMjUvZyxmaW5kUGlwZTovXFx8L2csc3BsaXRQaXBlOi8gXFx8LyxzbGFzaFBpcGU6L1xcXFxcXHwvZyxjYXJyaWFnZVJldHVybjovXFxyXFxufFxcci9nLHNwYWNlTGluZTovXiArJC9nbSxub3RTcGFjZVN0YXJ0Oi9eXFxTKi8sZW5kaW5nTmV3bGluZTovXFxuJC8sbGlzdEl0ZW1SZWdleDp1PT5uZXcgUmVnRXhwKGBeKCB7MCwzfSR7dX0pKCg/OltcdCBdW15cXFxcbl0qKT8oPzpcXFxcbnwkKSlgKSxuZXh0QnVsbGV0UmVnZXg6dT0+bmV3IFJlZ0V4cChgXiB7MCwke01hdGgubWluKDMsdS0xKX19KD86WyorLV18XFxcXGR7MSw5fVsuKV0pKCg/OlsgXHRdW15cXFxcbl0qKT8oPzpcXFxcbnwkKSlgKSxoclJlZ2V4OnU9Pm5ldyBSZWdFeHAoYF4gezAsJHtNYXRoLm1pbigzLHUtMSl9fSgoPzotICopezMsfXwoPzpfICopezMsfXwoPzpcXFxcKiAqKXszLH0pKD86XFxcXG4rfCQpYCksZmVuY2VzQmVnaW5SZWdleDp1PT5uZXcgUmVnRXhwKGBeIHswLCR7TWF0aC5taW4oMyx1LTEpfX0oPzpcXGBcXGBcXGB8fn5+KWApLGhlYWRpbmdCZWdpblJlZ2V4OnU9Pm5ldyBSZWdFeHAoYF4gezAsJHtNYXRoLm1pbigzLHUtMSl9fSNgKSxodG1sQmVnaW5SZWdleDp1PT5uZXcgUmVnRXhwKGBeIHswLCR7TWF0aC5taW4oMyx1LTEpfX08KD86W2Etel0uKj58IS0tKWAsXCJpXCIpfSx4ZT0vXig/OlsgXFx0XSooPzpcXG58JCkpKy8sYmU9L14oKD86IHs0fXwgezAsM31cXHQpW15cXG5dKyg/Olxcbig/OlsgXFx0XSooPzpcXG58JCkpKik/KSsvLFJlPS9eIHswLDN9KGB7Myx9KD89W15gXFxuXSooPzpcXG58JCkpfH57Myx9KShbXlxcbl0qKSg/OlxcbnwkKSg/OnwoW1xcc1xcU10qPykoPzpcXG58JCkpKD86IHswLDN9XFwxW35gXSogKig/PVxcbnwkKXwkKS8sST0vXiB7MCwzfSgoPzotW1xcdCBdKil7Myx9fCg/Ol9bIFxcdF0qKXszLH18KD86XFwqWyBcXHRdKil7Myx9KSg/Olxcbit8JCkvLFRlPS9eIHswLDN9KCN7MSw2fSkoPz1cXHN8JCkoLiopKD86XFxuK3wkKS8sTj0vKD86WyorLV18XFxkezEsOX1bLildKS8scmU9L14oPyFidWxsIHxibG9ja0NvZGV8ZmVuY2VzfGJsb2NrcXVvdGV8aGVhZGluZ3xodG1sfHRhYmxlKSgoPzoufFxcbig/IVxccyo/XFxufGJ1bGwgfGJsb2NrQ29kZXxmZW5jZXN8YmxvY2txdW90ZXxoZWFkaW5nfGh0bWx8dGFibGUpKSs/KVxcbiB7MCwzfSg9K3wtKykgKig/Olxcbit8JCkvLHNlPWsocmUpLnJlcGxhY2UoL2J1bGwvZyxOKS5yZXBsYWNlKC9ibG9ja0NvZGUvZywvKD86IHs0fXwgezAsM31cXHQpLykucmVwbGFjZSgvZmVuY2VzL2csLyB7MCwzfSg/OmB7Myx9fH57Myx9KS8pLnJlcGxhY2UoL2Jsb2NrcXVvdGUvZywvIHswLDN9Pi8pLnJlcGxhY2UoL2hlYWRpbmcvZywvIHswLDN9I3sxLDZ9LykucmVwbGFjZSgvaHRtbC9nLC8gezAsM308W15cXG4+XSs+XFxuLykucmVwbGFjZSgvXFx8dGFibGUvZyxcIlwiKS5nZXRSZWdleCgpLE9lPWsocmUpLnJlcGxhY2UoL2J1bGwvZyxOKS5yZXBsYWNlKC9ibG9ja0NvZGUvZywvKD86IHs0fXwgezAsM31cXHQpLykucmVwbGFjZSgvZmVuY2VzL2csLyB7MCwzfSg/OmB7Myx9fH57Myx9KS8pLnJlcGxhY2UoL2Jsb2NrcXVvdGUvZywvIHswLDN9Pi8pLnJlcGxhY2UoL2hlYWRpbmcvZywvIHswLDN9I3sxLDZ9LykucmVwbGFjZSgvaHRtbC9nLC8gezAsM308W15cXG4+XSs+XFxuLykucmVwbGFjZSgvdGFibGUvZywvIHswLDN9XFx8Pyg/Ols6XFwtIF0qXFx8KStbXFw6XFwtIF0qXFxuLykuZ2V0UmVnZXgoKSxRPS9eKFteXFxuXSsoPzpcXG4oPyFocnxoZWFkaW5nfGxoZWFkaW5nfGJsb2NrcXVvdGV8ZmVuY2VzfGxpc3R8aHRtbHx0YWJsZXwgK1xcbilbXlxcbl0rKSopLyx3ZT0vXlteXFxuXSsvLEY9Lyg/IVxccypcXF0pKD86XFxcXFtcXHNcXFNdfFteXFxbXFxdXFxcXF0pKy8seWU9aygvXiB7MCwzfVxcWyhsYWJlbClcXF06ICooPzpcXG5bIFxcdF0qKT8oW148XFxzXVteXFxzXSp8PC4qPz4pKD86KD86ICsoPzpcXG5bIFxcdF0qKT98ICpcXG5bIFxcdF0qKSh0aXRsZSkpPyAqKD86XFxuK3wkKS8pLnJlcGxhY2UoXCJsYWJlbFwiLEYpLnJlcGxhY2UoXCJ0aXRsZVwiLC8oPzpcIig/OlxcXFxcIj98W15cIlxcXFxdKSpcInwnW14nXFxuXSooPzpcXG5bXidcXG5dKykqXFxuPyd8XFwoW14oKV0qXFwpKS8pLmdldFJlZ2V4KCksUGU9aygvXiggezAsM31idWxsKShbIFxcdF1bXlxcbl0rPyk/KD86XFxufCQpLykucmVwbGFjZSgvYnVsbC9nLE4pLmdldFJlZ2V4KCksdj1cImFkZHJlc3N8YXJ0aWNsZXxhc2lkZXxiYXNlfGJhc2Vmb250fGJsb2NrcXVvdGV8Ym9keXxjYXB0aW9ufGNlbnRlcnxjb2x8Y29sZ3JvdXB8ZGR8ZGV0YWlsc3xkaWFsb2d8ZGlyfGRpdnxkbHxkdHxmaWVsZHNldHxmaWdjYXB0aW9ufGZpZ3VyZXxmb290ZXJ8Zm9ybXxmcmFtZXxmcmFtZXNldHxoWzEtNl18aGVhZHxoZWFkZXJ8aHJ8aHRtbHxpZnJhbWV8bGVnZW5kfGxpfGxpbmt8bWFpbnxtZW51fG1lbnVpdGVtfG1ldGF8bmF2fG5vZnJhbWVzfG9sfG9wdGdyb3VwfG9wdGlvbnxwfHBhcmFtfHNlYXJjaHxzZWN0aW9ufHN1bW1hcnl8dGFibGV8dGJvZHl8dGR8dGZvb3R8dGh8dGhlYWR8dGl0bGV8dHJ8dHJhY2t8dWxcIixqPS88IS0tKD86LT8+fFtcXHNcXFNdKj8oPzotLT58JCkpLyxTZT1rKFwiXiB7MCwzfSg/Ojwoc2NyaXB0fHByZXxzdHlsZXx0ZXh0YXJlYSlbXFxcXHM+XVtcXFxcc1xcXFxTXSo/KD86PC9cXFxcMT5bXlxcXFxuXSpcXFxcbit8JCl8Y29tbWVudFteXFxcXG5dKihcXFxcbit8JCl8PFxcXFw/W1xcXFxzXFxcXFNdKj8oPzpcXFxcPz5cXFxcbip8JCl8PCFbQS1aXVtcXFxcc1xcXFxTXSo/KD86PlxcXFxuKnwkKXw8IVxcXFxbQ0RBVEFcXFxcW1tcXFxcc1xcXFxTXSo/KD86XFxcXF1cXFxcXT5cXFxcbip8JCl8PC8/KHRhZykoPzogK3xcXFxcbnwvPz4pW1xcXFxzXFxcXFNdKj8oPzooPzpcXFxcblsgXHRdKikrXFxcXG58JCl8PCg/IXNjcmlwdHxwcmV8c3R5bGV8dGV4dGFyZWEpKFthLXpdW1xcXFx3LV0qKSg/OmF0dHJpYnV0ZSkqPyAqLz8+KD89WyBcXFxcdF0qKD86XFxcXG58JCkpW1xcXFxzXFxcXFNdKj8oPzooPzpcXFxcblsgXHRdKikrXFxcXG58JCl8PC8oPyFzY3JpcHR8cHJlfHN0eWxlfHRleHRhcmVhKVthLXpdW1xcXFx3LV0qXFxcXHMqPig/PVsgXFxcXHRdKig/OlxcXFxufCQpKVtcXFxcc1xcXFxTXSo/KD86KD86XFxcXG5bIFx0XSopK1xcXFxufCQpKVwiLFwiaVwiKS5yZXBsYWNlKFwiY29tbWVudFwiLGopLnJlcGxhY2UoXCJ0YWdcIix2KS5yZXBsYWNlKFwiYXR0cmlidXRlXCIsLyArW2EtekEtWjpfXVtcXHcuOi1dKig/OiAqPSAqXCJbXlwiXFxuXSpcInwgKj0gKidbXidcXG5dKid8ICo9ICpbXlxcc1wiJz08PmBdKyk/LykuZ2V0UmVnZXgoKSxpZT1rKFEpLnJlcGxhY2UoXCJoclwiLEkpLnJlcGxhY2UoXCJoZWFkaW5nXCIsXCIgezAsM30jezEsNn0oPzpcXFxcc3wkKVwiKS5yZXBsYWNlKFwifGxoZWFkaW5nXCIsXCJcIikucmVwbGFjZShcInx0YWJsZVwiLFwiXCIpLnJlcGxhY2UoXCJibG9ja3F1b3RlXCIsXCIgezAsM30+XCIpLnJlcGxhY2UoXCJmZW5jZXNcIixcIiB7MCwzfSg/OmB7Myx9KD89W15gXFxcXG5dKlxcXFxuKXx+ezMsfSlbXlxcXFxuXSpcXFxcblwiKS5yZXBsYWNlKFwibGlzdFwiLFwiIHswLDN9KD86WyorLV18MVsuKV0pIFwiKS5yZXBsYWNlKFwiaHRtbFwiLFwiPC8/KD86dGFnKSg/OiArfFxcXFxufC8/Pil8PCg/OnNjcmlwdHxwcmV8c3R5bGV8dGV4dGFyZWF8IS0tKVwiKS5yZXBsYWNlKFwidGFnXCIsdikuZ2V0UmVnZXgoKSwkZT1rKC9eKCB7MCwzfT4gPyhwYXJhZ3JhcGh8W15cXG5dKikoPzpcXG58JCkpKy8pLnJlcGxhY2UoXCJwYXJhZ3JhcGhcIixpZSkuZ2V0UmVnZXgoKSxVPXtibG9ja3F1b3RlOiRlLGNvZGU6YmUsZGVmOnllLGZlbmNlczpSZSxoZWFkaW5nOlRlLGhyOkksaHRtbDpTZSxsaGVhZGluZzpzZSxsaXN0OlBlLG5ld2xpbmU6eGUscGFyYWdyYXBoOmllLHRhYmxlOkMsdGV4dDp3ZX0sdGU9ayhcIl4gKihbXlxcXFxuIF0uKilcXFxcbiB7MCwzfSgoPzpcXFxcfCAqKT86Py0rOj8gKig/OlxcXFx8ICo6Py0rOj8gKikqKD86XFxcXHwgKik/KSg/OlxcXFxuKCg/Oig/ISAqXFxcXG58aHJ8aGVhZGluZ3xibG9ja3F1b3RlfGNvZGV8ZmVuY2VzfGxpc3R8aHRtbCkuKig/OlxcXFxufCQpKSopXFxcXG4qfCQpXCIpLnJlcGxhY2UoXCJoclwiLEkpLnJlcGxhY2UoXCJoZWFkaW5nXCIsXCIgezAsM30jezEsNn0oPzpcXFxcc3wkKVwiKS5yZXBsYWNlKFwiYmxvY2txdW90ZVwiLFwiIHswLDN9PlwiKS5yZXBsYWNlKFwiY29kZVwiLFwiKD86IHs0fXwgezAsM31cdClbXlxcXFxuXVwiKS5yZXBsYWNlKFwiZmVuY2VzXCIsXCIgezAsM30oPzpgezMsfSg/PVteYFxcXFxuXSpcXFxcbil8fnszLH0pW15cXFxcbl0qXFxcXG5cIikucmVwbGFjZShcImxpc3RcIixcIiB7MCwzfSg/OlsqKy1dfDFbLildKSBcIikucmVwbGFjZShcImh0bWxcIixcIjwvPyg/OnRhZykoPzogK3xcXFxcbnwvPz4pfDwoPzpzY3JpcHR8cHJlfHN0eWxlfHRleHRhcmVhfCEtLSlcIikucmVwbGFjZShcInRhZ1wiLHYpLmdldFJlZ2V4KCksX2U9ey4uLlUsbGhlYWRpbmc6T2UsdGFibGU6dGUscGFyYWdyYXBoOmsoUSkucmVwbGFjZShcImhyXCIsSSkucmVwbGFjZShcImhlYWRpbmdcIixcIiB7MCwzfSN7MSw2fSg/OlxcXFxzfCQpXCIpLnJlcGxhY2UoXCJ8bGhlYWRpbmdcIixcIlwiKS5yZXBsYWNlKFwidGFibGVcIix0ZSkucmVwbGFjZShcImJsb2NrcXVvdGVcIixcIiB7MCwzfT5cIikucmVwbGFjZShcImZlbmNlc1wiLFwiIHswLDN9KD86YHszLH0oPz1bXmBcXFxcbl0qXFxcXG4pfH57Myx9KVteXFxcXG5dKlxcXFxuXCIpLnJlcGxhY2UoXCJsaXN0XCIsXCIgezAsM30oPzpbKistXXwxWy4pXSkgXCIpLnJlcGxhY2UoXCJodG1sXCIsXCI8Lz8oPzp0YWcpKD86ICt8XFxcXG58Lz8+KXw8KD86c2NyaXB0fHByZXxzdHlsZXx0ZXh0YXJlYXwhLS0pXCIpLnJlcGxhY2UoXCJ0YWdcIix2KS5nZXRSZWdleCgpfSxMZT17Li4uVSxodG1sOmsoYF4gKig/OmNvbW1lbnQgKig/OlxcXFxufFxcXFxzKiQpfDwodGFnKVtcXFxcc1xcXFxTXSs/PC9cXFxcMT4gKig/OlxcXFxuezIsfXxcXFxccyokKXw8dGFnKD86XCJbXlwiXSpcInwnW14nXSonfFxcXFxzW14nXCIvPlxcXFxzXSopKj8vPz4gKig/OlxcXFxuezIsfXxcXFxccyokKSlgKS5yZXBsYWNlKFwiY29tbWVudFwiLGopLnJlcGxhY2UoL3RhZy9nLFwiKD8hKD86YXxlbXxzdHJvbmd8c21hbGx8c3xjaXRlfHF8ZGZufGFiYnJ8ZGF0YXx0aW1lfGNvZGV8dmFyfHNhbXB8a2JkfHN1YnxzdXB8aXxifHV8bWFya3xydWJ5fHJ0fHJwfGJkaXxiZG98c3Bhbnxicnx3YnJ8aW5zfGRlbHxpbWcpXFxcXGIpXFxcXHcrKD8hOnxbXlxcXFx3XFxcXHNAXSpAKVxcXFxiXCIpLmdldFJlZ2V4KCksZGVmOi9eICpcXFsoW15cXF1dKylcXF06ICo8PyhbXlxccz5dKyk+Pyg/OiArKFtcIihdW15cXG5dK1tcIildKSk/ICooPzpcXG4rfCQpLyxoZWFkaW5nOi9eKCN7MSw2fSkoLiopKD86XFxuK3wkKS8sZmVuY2VzOkMsbGhlYWRpbmc6L14oLis/KVxcbiB7MCwzfSg9K3wtKykgKig/Olxcbit8JCkvLHBhcmFncmFwaDprKFEpLnJlcGxhY2UoXCJoclwiLEkpLnJlcGxhY2UoXCJoZWFkaW5nXCIsYCAqI3sxLDZ9ICpbXlxuXWApLnJlcGxhY2UoXCJsaGVhZGluZ1wiLHNlKS5yZXBsYWNlKFwifHRhYmxlXCIsXCJcIikucmVwbGFjZShcImJsb2NrcXVvdGVcIixcIiB7MCwzfT5cIikucmVwbGFjZShcInxmZW5jZXNcIixcIlwiKS5yZXBsYWNlKFwifGxpc3RcIixcIlwiKS5yZXBsYWNlKFwifGh0bWxcIixcIlwiKS5yZXBsYWNlKFwifHRhZ1wiLFwiXCIpLmdldFJlZ2V4KCl9LE1lPS9eXFxcXChbIVwiIyQlJicoKSorLFxcLS4vOjs8PT4/QFxcW1xcXVxcXFxeX2B7fH1+XSkvLHplPS9eKGArKShbXmBdfFteYF1bXFxzXFxTXSo/W15gXSlcXDEoPyFgKS8sb2U9L14oIHsyLH18XFxcXClcXG4oPyFcXHMqJCkvLEFlPS9eKGArfFteYF0pKD86KD89IHsyLH1cXG4pfFtcXHNcXFNdKj8oPzooPz1bXFxcXDwhXFxbYCpfXXxcXGJffCQpfFteIF0oPz0gezIsfVxcbikpKS8sRD0vW1xccHtQfVxccHtTfV0vdSxLPS9bXFxzXFxwe1B9XFxwe1N9XS91LGFlPS9bXlxcc1xccHtQfVxccHtTfV0vdSxDZT1rKC9eKCg/IVsqX10pcHVuY3RTcGFjZSkvLFwidVwiKS5yZXBsYWNlKC9wdW5jdFNwYWNlL2csSykuZ2V0UmVnZXgoKSxsZT0vKD8hfilbXFxwe1B9XFxwe1N9XS91LEllPS8oPyF+KVtcXHNcXHB7UH1cXHB7U31dL3UsRWU9Lyg/OlteXFxzXFxwe1B9XFxwe1N9XXx+KS91LEJlPWsoL2xpbmt8cHJlY29kZS1jb2RlfGh0bWwvLFwiZ1wiKS5yZXBsYWNlKFwibGlua1wiLC9cXFsoPzpbXlxcW1xcXWBdfCg/PGE+YCspW15gXStcXGs8YT4oPyFgKSkqP1xcXVxcKCg/OlxcXFxbXFxzXFxTXXxbXlxcXFxcXChcXCldfFxcKCg/OlxcXFxbXFxzXFxTXXxbXlxcXFxcXChcXCldKSpcXCkpKlxcKS8pLnJlcGxhY2UoXCJwcmVjb2RlLVwiLG1lP1wiKD88IWApKClcIjpcIiheXnxbXmBdKVwiKS5yZXBsYWNlKFwiY29kZVwiLC8oPzxiPmArKVteYF0rXFxrPGI+KD8hYCkvKS5yZXBsYWNlKFwiaHRtbFwiLC88KD8hIClbXjw+XSo/Pi8pLmdldFJlZ2V4KCksdWU9L14oPzpcXCorKD86KCg/IVxcKilwdW5jdCl8W15cXHMqXSkpfF5fKyg/OigoPyFfKXB1bmN0KXwoW15cXHNfXSkpLyxxZT1rKHVlLFwidVwiKS5yZXBsYWNlKC9wdW5jdC9nLEQpLmdldFJlZ2V4KCksdmU9ayh1ZSxcInVcIikucmVwbGFjZSgvcHVuY3QvZyxsZSkuZ2V0UmVnZXgoKSxwZT1cIl5bXl8qXSo/X19bXl8qXSo/XFxcXCpbXl8qXSo/KD89X18pfFteKl0rKD89W14qXSl8KD8hXFxcXCopcHVuY3QoXFxcXCorKSg/PVtcXFxcc118JCl8bm90UHVuY3RTcGFjZShcXFxcKispKD8hXFxcXCopKD89cHVuY3RTcGFjZXwkKXwoPyFcXFxcKilwdW5jdFNwYWNlKFxcXFwqKykoPz1ub3RQdW5jdFNwYWNlKXxbXFxcXHNdKFxcXFwqKykoPyFcXFxcKikoPz1wdW5jdCl8KD8hXFxcXCopcHVuY3QoXFxcXCorKSg/IVxcXFwqKSg/PXB1bmN0KXxub3RQdW5jdFNwYWNlKFxcXFwqKykoPz1ub3RQdW5jdFNwYWNlKVwiLERlPWsocGUsXCJndVwiKS5yZXBsYWNlKC9ub3RQdW5jdFNwYWNlL2csYWUpLnJlcGxhY2UoL3B1bmN0U3BhY2UvZyxLKS5yZXBsYWNlKC9wdW5jdC9nLEQpLmdldFJlZ2V4KCksSGU9ayhwZSxcImd1XCIpLnJlcGxhY2UoL25vdFB1bmN0U3BhY2UvZyxFZSkucmVwbGFjZSgvcHVuY3RTcGFjZS9nLEllKS5yZXBsYWNlKC9wdW5jdC9nLGxlKS5nZXRSZWdleCgpLFplPWsoXCJeW15fKl0qP1xcXFwqXFxcXCpbXl8qXSo/X1teXypdKj8oPz1cXFxcKlxcXFwqKXxbXl9dKyg/PVteX10pfCg/IV8pcHVuY3QoXyspKD89W1xcXFxzXXwkKXxub3RQdW5jdFNwYWNlKF8rKSg/IV8pKD89cHVuY3RTcGFjZXwkKXwoPyFfKXB1bmN0U3BhY2UoXyspKD89bm90UHVuY3RTcGFjZSl8W1xcXFxzXShfKykoPyFfKSg/PXB1bmN0KXwoPyFfKXB1bmN0KF8rKSg/IV8pKD89cHVuY3QpXCIsXCJndVwiKS5yZXBsYWNlKC9ub3RQdW5jdFNwYWNlL2csYWUpLnJlcGxhY2UoL3B1bmN0U3BhY2UvZyxLKS5yZXBsYWNlKC9wdW5jdC9nLEQpLmdldFJlZ2V4KCksR2U9aygvXFxcXChwdW5jdCkvLFwiZ3VcIikucmVwbGFjZSgvcHVuY3QvZyxEKS5nZXRSZWdleCgpLE5lPWsoL148KHNjaGVtZTpbXlxcc1xceDAwLVxceDFmPD5dKnxlbWFpbCk+LykucmVwbGFjZShcInNjaGVtZVwiLC9bYS16QS1aXVthLXpBLVowLTkrLi1dezEsMzF9LykucmVwbGFjZShcImVtYWlsXCIsL1thLXpBLVowLTkuISMkJSYnKisvPT9eX2B7fH1+LV0rKEApW2EtekEtWjAtOV0oPzpbYS16QS1aMC05LV17MCw2MX1bYS16QS1aMC05XSk/KD86XFwuW2EtekEtWjAtOV0oPzpbYS16QS1aMC05LV17MCw2MX1bYS16QS1aMC05XSk/KSsoPyFbLV9dKS8pLmdldFJlZ2V4KCksUWU9ayhqKS5yZXBsYWNlKFwiKD86LS0+fCQpXCIsXCItLT5cIikuZ2V0UmVnZXgoKSxGZT1rKFwiXmNvbW1lbnR8XjwvW2EtekEtWl1bXFxcXHc6LV0qXFxcXHMqPnxePFthLXpBLVpdW1xcXFx3LV0qKD86YXR0cmlidXRlKSo/XFxcXHMqLz8+fF48XFxcXD9bXFxcXHNcXFxcU10qP1xcXFw/PnxePCFbYS16QS1aXStcXFxcc1tcXFxcc1xcXFxTXSo/PnxePCFcXFxcW0NEQVRBXFxcXFtbXFxcXHNcXFxcU10qP1xcXFxdXFxcXF0+XCIpLnJlcGxhY2UoXCJjb21tZW50XCIsUWUpLnJlcGxhY2UoXCJhdHRyaWJ1dGVcIiwvXFxzK1thLXpBLVo6X11bXFx3LjotXSooPzpcXHMqPVxccypcIlteXCJdKlwifFxccyo9XFxzKidbXiddKid8XFxzKj1cXHMqW15cXHNcIic9PD5gXSspPy8pLmdldFJlZ2V4KCkscT0vKD86XFxbKD86XFxcXFtcXHNcXFNdfFteXFxbXFxdXFxcXF0pKlxcXXxcXFxcW1xcc1xcU118YCtbXmBdKj9gKyg/IWApfFteXFxbXFxdXFxcXGBdKSo/LyxqZT1rKC9eIT9cXFsobGFiZWwpXFxdXFwoXFxzKihocmVmKSg/Oig/OlsgXFx0XSooPzpcXG5bIFxcdF0qKT8pKHRpdGxlKSk/XFxzKlxcKS8pLnJlcGxhY2UoXCJsYWJlbFwiLHEpLnJlcGxhY2UoXCJocmVmXCIsLzwoPzpcXFxcLnxbXlxcbjw+XFxcXF0pKz58W14gXFx0XFxuXFx4MDAtXFx4MWZdKi8pLnJlcGxhY2UoXCJ0aXRsZVwiLC9cIig/OlxcXFxcIj98W15cIlxcXFxdKSpcInwnKD86XFxcXCc/fFteJ1xcXFxdKSonfFxcKCg/OlxcXFxcXCk/fFteKVxcXFxdKSpcXCkvKS5nZXRSZWdleCgpLGNlPWsoL14hP1xcWyhsYWJlbClcXF1cXFsocmVmKVxcXS8pLnJlcGxhY2UoXCJsYWJlbFwiLHEpLnJlcGxhY2UoXCJyZWZcIixGKS5nZXRSZWdleCgpLGhlPWsoL14hP1xcWyhyZWYpXFxdKD86XFxbXFxdKT8vKS5yZXBsYWNlKFwicmVmXCIsRikuZ2V0UmVnZXgoKSxVZT1rKFwicmVmbGlua3xub2xpbmsoPyFcXFxcKClcIixcImdcIikucmVwbGFjZShcInJlZmxpbmtcIixjZSkucmVwbGFjZShcIm5vbGlua1wiLGhlKS5nZXRSZWdleCgpLG5lPS9baEhdW3RUXVt0VF1bcFBdW3NTXT98W2ZGXVt0VF1bcFBdLyxXPXtfYmFja3BlZGFsOkMsYW55UHVuY3R1YXRpb246R2UsYXV0b2xpbms6TmUsYmxvY2tTa2lwOkJlLGJyOm9lLGNvZGU6emUsZGVsOkMsZW1TdHJvbmdMRGVsaW06cWUsZW1TdHJvbmdSRGVsaW1Bc3Q6RGUsZW1TdHJvbmdSRGVsaW1VbmQ6WmUsZXNjYXBlOk1lLGxpbms6amUsbm9saW5rOmhlLHB1bmN0dWF0aW9uOkNlLHJlZmxpbms6Y2UscmVmbGlua1NlYXJjaDpVZSx0YWc6RmUsdGV4dDpBZSx1cmw6Q30sS2U9ey4uLlcsbGluazprKC9eIT9cXFsobGFiZWwpXFxdXFwoKC4qPylcXCkvKS5yZXBsYWNlKFwibGFiZWxcIixxKS5nZXRSZWdleCgpLHJlZmxpbms6aygvXiE/XFxbKGxhYmVsKVxcXVxccypcXFsoW15cXF1dKilcXF0vKS5yZXBsYWNlKFwibGFiZWxcIixxKS5nZXRSZWdleCgpfSxHPXsuLi5XLGVtU3Ryb25nUkRlbGltQXN0OkhlLGVtU3Ryb25nTERlbGltOnZlLHVybDprKC9eKCg/OnByb3RvY29sKTpcXC9cXC98d3d3XFwuKSg/OlthLXpBLVowLTlcXC1dK1xcLj8pK1teXFxzPF0qfF5lbWFpbC8pLnJlcGxhY2UoXCJwcm90b2NvbFwiLG5lKS5yZXBsYWNlKFwiZW1haWxcIiwvW0EtWmEtejAtOS5fKy1dKyhAKVthLXpBLVowLTktX10rKD86XFwuW2EtekEtWjAtOS1fXSpbYS16QS1aMC05XSkrKD8hWy1fXSkvKS5nZXRSZWdleCgpLF9iYWNrcGVkYWw6Lyg/OltePyEuLDo7Kl8nXCJ+KCkmXSt8XFwoW14pXSpcXCl8Jig/IVthLXpBLVowLTldKzskKXxbPyEuLDo7Kl8nXCJ+KV0rKD8hJCkpKy8sZGVsOi9eKH5+PykoPz1bXlxcc35dKSgoPzpcXFxcW1xcc1xcU118W15cXFxcXSkqPyg/OlxcXFxbXFxzXFxTXXxbXlxcc35cXFxcXSkpXFwxKD89W15+XXwkKS8sdGV4dDprKC9eKFtgfl0rfFteYH5dKSg/Oig/PSB7Mix9XFxuKXwoPz1bYS16QS1aMC05LiEjJCUmJyorXFwvPT9fYHtcXHx9fi1dK0ApfFtcXHNcXFNdKj8oPzooPz1bXFxcXDwhXFxbYCp+X118XFxiX3xwcm90b2NvbDpcXC9cXC98d3d3XFwufCQpfFteIF0oPz0gezIsfVxcbil8W15hLXpBLVowLTkuISMkJSYnKitcXC89P19ge1xcfH1+LV0oPz1bYS16QS1aMC05LiEjJCUmJyorXFwvPT9fYHtcXHx9fi1dK0ApKSkvKS5yZXBsYWNlKFwicHJvdG9jb2xcIixuZSkuZ2V0UmVnZXgoKX0sV2U9ey4uLkcsYnI6ayhvZSkucmVwbGFjZShcInsyLH1cIixcIipcIikuZ2V0UmVnZXgoKSx0ZXh0OmsoRy50ZXh0KS5yZXBsYWNlKFwiXFxcXGJfXCIsXCJcXFxcYl98IHsyLH1cXFxcblwiKS5yZXBsYWNlKC9cXHsyLFxcfS9nLFwiKlwiKS5nZXRSZWdleCgpfSxFPXtub3JtYWw6VSxnZm06X2UscGVkYW50aWM6TGV9LE09e25vcm1hbDpXLGdmbTpHLGJyZWFrczpXZSxwZWRhbnRpYzpLZX07dmFyIFhlPXtcIiZcIjpcIiZhbXA7XCIsXCI8XCI6XCImbHQ7XCIsXCI+XCI6XCImZ3Q7XCIsJ1wiJzpcIiZxdW90O1wiLFwiJ1wiOlwiJiMzOTtcIn0sa2U9dT0+WGVbdV07ZnVuY3Rpb24gdyh1LGUpe2lmKGUpe2lmKG0uZXNjYXBlVGVzdC50ZXN0KHUpKXJldHVybiB1LnJlcGxhY2UobS5lc2NhcGVSZXBsYWNlLGtlKX1lbHNlIGlmKG0uZXNjYXBlVGVzdE5vRW5jb2RlLnRlc3QodSkpcmV0dXJuIHUucmVwbGFjZShtLmVzY2FwZVJlcGxhY2VOb0VuY29kZSxrZSk7cmV0dXJuIHV9ZnVuY3Rpb24gWCh1KXt0cnl7dT1lbmNvZGVVUkkodSkucmVwbGFjZShtLnBlcmNlbnREZWNvZGUsXCIlXCIpfWNhdGNoe3JldHVybiBudWxsfXJldHVybiB1fWZ1bmN0aW9uIEoodSxlKXtsZXQgdD11LnJlcGxhY2UobS5maW5kUGlwZSwoaSxzLGEpPT57bGV0IG89ITEsbD1zO2Zvcig7LS1sPj0wJiZhW2xdPT09XCJcXFxcXCI7KW89IW87cmV0dXJuIG8/XCJ8XCI6XCIgfFwifSksbj10LnNwbGl0KG0uc3BsaXRQaXBlKSxyPTA7aWYoblswXS50cmltKCl8fG4uc2hpZnQoKSxuLmxlbmd0aD4wJiYhbi5hdCgtMSk/LnRyaW0oKSYmbi5wb3AoKSxlKWlmKG4ubGVuZ3RoPmUpbi5zcGxpY2UoZSk7ZWxzZSBmb3IoO24ubGVuZ3RoPGU7KW4ucHVzaChcIlwiKTtmb3IoO3I8bi5sZW5ndGg7cisrKW5bcl09bltyXS50cmltKCkucmVwbGFjZShtLnNsYXNoUGlwZSxcInxcIik7cmV0dXJuIG59ZnVuY3Rpb24geih1LGUsdCl7bGV0IG49dS5sZW5ndGg7aWYobj09PTApcmV0dXJuXCJcIjtsZXQgcj0wO2Zvcig7cjxuOyl7bGV0IGk9dS5jaGFyQXQobi1yLTEpO2lmKGk9PT1lJiYhdClyKys7ZWxzZSBpZihpIT09ZSYmdClyKys7ZWxzZSBicmVha31yZXR1cm4gdS5zbGljZSgwLG4tcil9ZnVuY3Rpb24gZGUodSxlKXtpZih1LmluZGV4T2YoZVsxXSk9PT0tMSlyZXR1cm4tMTtsZXQgdD0wO2ZvcihsZXQgbj0wO248dS5sZW5ndGg7bisrKWlmKHVbbl09PT1cIlxcXFxcIiluKys7ZWxzZSBpZih1W25dPT09ZVswXSl0Kys7ZWxzZSBpZih1W25dPT09ZVsxXSYmKHQtLSx0PDApKXJldHVybiBuO3JldHVybiB0PjA/LTI6LTF9ZnVuY3Rpb24gZ2UodSxlLHQsbixyKXtsZXQgaT1lLmhyZWYscz1lLnRpdGxlfHxudWxsLGE9dVsxXS5yZXBsYWNlKHIub3RoZXIub3V0cHV0TGlua1JlcGxhY2UsXCIkMVwiKTtuLnN0YXRlLmluTGluaz0hMDtsZXQgbz17dHlwZTp1WzBdLmNoYXJBdCgwKT09PVwiIVwiP1wiaW1hZ2VcIjpcImxpbmtcIixyYXc6dCxocmVmOmksdGl0bGU6cyx0ZXh0OmEsdG9rZW5zOm4uaW5saW5lVG9rZW5zKGEpfTtyZXR1cm4gbi5zdGF0ZS5pbkxpbms9ITEsb31mdW5jdGlvbiBKZSh1LGUsdCl7bGV0IG49dS5tYXRjaCh0Lm90aGVyLmluZGVudENvZGVDb21wZW5zYXRpb24pO2lmKG49PT1udWxsKXJldHVybiBlO2xldCByPW5bMV07cmV0dXJuIGUuc3BsaXQoYFxuYCkubWFwKGk9PntsZXQgcz1pLm1hdGNoKHQub3RoZXIuYmVnaW5uaW5nU3BhY2UpO2lmKHM9PT1udWxsKXJldHVybiBpO2xldFthXT1zO3JldHVybiBhLmxlbmd0aD49ci5sZW5ndGg/aS5zbGljZShyLmxlbmd0aCk6aX0pLmpvaW4oYFxuYCl9dmFyIHk9Y2xhc3N7b3B0aW9ucztydWxlcztsZXhlcjtjb25zdHJ1Y3RvcihlKXt0aGlzLm9wdGlvbnM9ZXx8VH1zcGFjZShlKXtsZXQgdD10aGlzLnJ1bGVzLmJsb2NrLm5ld2xpbmUuZXhlYyhlKTtpZih0JiZ0WzBdLmxlbmd0aD4wKXJldHVybnt0eXBlOlwic3BhY2VcIixyYXc6dFswXX19Y29kZShlKXtsZXQgdD10aGlzLnJ1bGVzLmJsb2NrLmNvZGUuZXhlYyhlKTtpZih0KXtsZXQgbj10WzBdLnJlcGxhY2UodGhpcy5ydWxlcy5vdGhlci5jb2RlUmVtb3ZlSW5kZW50LFwiXCIpO3JldHVybnt0eXBlOlwiY29kZVwiLHJhdzp0WzBdLGNvZGVCbG9ja1N0eWxlOlwiaW5kZW50ZWRcIix0ZXh0OnRoaXMub3B0aW9ucy5wZWRhbnRpYz9uOnoobixgXG5gKX19fWZlbmNlcyhlKXtsZXQgdD10aGlzLnJ1bGVzLmJsb2NrLmZlbmNlcy5leGVjKGUpO2lmKHQpe2xldCBuPXRbMF0scj1KZShuLHRbM118fFwiXCIsdGhpcy5ydWxlcyk7cmV0dXJue3R5cGU6XCJjb2RlXCIscmF3Om4sbGFuZzp0WzJdP3RbMl0udHJpbSgpLnJlcGxhY2UodGhpcy5ydWxlcy5pbmxpbmUuYW55UHVuY3R1YXRpb24sXCIkMVwiKTp0WzJdLHRleHQ6cn19fWhlYWRpbmcoZSl7bGV0IHQ9dGhpcy5ydWxlcy5ibG9jay5oZWFkaW5nLmV4ZWMoZSk7aWYodCl7bGV0IG49dFsyXS50cmltKCk7aWYodGhpcy5ydWxlcy5vdGhlci5lbmRpbmdIYXNoLnRlc3Qobikpe2xldCByPXoobixcIiNcIik7KHRoaXMub3B0aW9ucy5wZWRhbnRpY3x8IXJ8fHRoaXMucnVsZXMub3RoZXIuZW5kaW5nU3BhY2VDaGFyLnRlc3QocikpJiYobj1yLnRyaW0oKSl9cmV0dXJue3R5cGU6XCJoZWFkaW5nXCIscmF3OnRbMF0sZGVwdGg6dFsxXS5sZW5ndGgsdGV4dDpuLHRva2Vuczp0aGlzLmxleGVyLmlubGluZShuKX19fWhyKGUpe2xldCB0PXRoaXMucnVsZXMuYmxvY2suaHIuZXhlYyhlKTtpZih0KXJldHVybnt0eXBlOlwiaHJcIixyYXc6eih0WzBdLGBcbmApfX1ibG9ja3F1b3RlKGUpe2xldCB0PXRoaXMucnVsZXMuYmxvY2suYmxvY2txdW90ZS5leGVjKGUpO2lmKHQpe2xldCBuPXoodFswXSxgXG5gKS5zcGxpdChgXG5gKSxyPVwiXCIsaT1cIlwiLHM9W107Zm9yKDtuLmxlbmd0aD4wOyl7bGV0IGE9ITEsbz1bXSxsO2ZvcihsPTA7bDxuLmxlbmd0aDtsKyspaWYodGhpcy5ydWxlcy5vdGhlci5ibG9ja3F1b3RlU3RhcnQudGVzdChuW2xdKSlvLnB1c2gobltsXSksYT0hMDtlbHNlIGlmKCFhKW8ucHVzaChuW2xdKTtlbHNlIGJyZWFrO249bi5zbGljZShsKTtsZXQgcD1vLmpvaW4oYFxuYCksYz1wLnJlcGxhY2UodGhpcy5ydWxlcy5vdGhlci5ibG9ja3F1b3RlU2V0ZXh0UmVwbGFjZSxgXG4gICAgJDFgKS5yZXBsYWNlKHRoaXMucnVsZXMub3RoZXIuYmxvY2txdW90ZVNldGV4dFJlcGxhY2UyLFwiXCIpO3I9cj9gJHtyfVxuJHtwfWA6cCxpPWk/YCR7aX1cbiR7Y31gOmM7bGV0IGc9dGhpcy5sZXhlci5zdGF0ZS50b3A7aWYodGhpcy5sZXhlci5zdGF0ZS50b3A9ITAsdGhpcy5sZXhlci5ibG9ja1Rva2VucyhjLHMsITApLHRoaXMubGV4ZXIuc3RhdGUudG9wPWcsbi5sZW5ndGg9PT0wKWJyZWFrO2xldCBoPXMuYXQoLTEpO2lmKGg/LnR5cGU9PT1cImNvZGVcIilicmVhaztpZihoPy50eXBlPT09XCJibG9ja3F1b3RlXCIpe2xldCBSPWgsZj1SLnJhdytgXG5gK24uam9pbihgXG5gKSxPPXRoaXMuYmxvY2txdW90ZShmKTtzW3MubGVuZ3RoLTFdPU8scj1yLnN1YnN0cmluZygwLHIubGVuZ3RoLVIucmF3Lmxlbmd0aCkrTy5yYXcsaT1pLnN1YnN0cmluZygwLGkubGVuZ3RoLVIudGV4dC5sZW5ndGgpK08udGV4dDticmVha31lbHNlIGlmKGg/LnR5cGU9PT1cImxpc3RcIil7bGV0IFI9aCxmPVIucmF3K2BcbmArbi5qb2luKGBcbmApLE89dGhpcy5saXN0KGYpO3Nbcy5sZW5ndGgtMV09TyxyPXIuc3Vic3RyaW5nKDAsci5sZW5ndGgtaC5yYXcubGVuZ3RoKStPLnJhdyxpPWkuc3Vic3RyaW5nKDAsaS5sZW5ndGgtUi5yYXcubGVuZ3RoKStPLnJhdyxuPWYuc3Vic3RyaW5nKHMuYXQoLTEpLnJhdy5sZW5ndGgpLnNwbGl0KGBcbmApO2NvbnRpbnVlfX1yZXR1cm57dHlwZTpcImJsb2NrcXVvdGVcIixyYXc6cix0b2tlbnM6cyx0ZXh0Oml9fX1saXN0KGUpe2xldCB0PXRoaXMucnVsZXMuYmxvY2subGlzdC5leGVjKGUpO2lmKHQpe2xldCBuPXRbMV0udHJpbSgpLHI9bi5sZW5ndGg+MSxpPXt0eXBlOlwibGlzdFwiLHJhdzpcIlwiLG9yZGVyZWQ6cixzdGFydDpyPytuLnNsaWNlKDAsLTEpOlwiXCIsbG9vc2U6ITEsaXRlbXM6W119O249cj9gXFxcXGR7MSw5fVxcXFwke24uc2xpY2UoLTEpfWA6YFxcXFwke259YCx0aGlzLm9wdGlvbnMucGVkYW50aWMmJihuPXI/bjpcIlsqKy1dXCIpO2xldCBzPXRoaXMucnVsZXMub3RoZXIubGlzdEl0ZW1SZWdleChuKSxhPSExO2Zvcig7ZTspe2xldCBsPSExLHA9XCJcIixjPVwiXCI7aWYoISh0PXMuZXhlYyhlKSl8fHRoaXMucnVsZXMuYmxvY2suaHIudGVzdChlKSlicmVhaztwPXRbMF0sZT1lLnN1YnN0cmluZyhwLmxlbmd0aCk7bGV0IGc9dFsyXS5zcGxpdChgXG5gLDEpWzBdLnJlcGxhY2UodGhpcy5ydWxlcy5vdGhlci5saXN0UmVwbGFjZVRhYnMsTz0+XCIgXCIucmVwZWF0KDMqTy5sZW5ndGgpKSxoPWUuc3BsaXQoYFxuYCwxKVswXSxSPSFnLnRyaW0oKSxmPTA7aWYodGhpcy5vcHRpb25zLnBlZGFudGljPyhmPTIsYz1nLnRyaW1TdGFydCgpKTpSP2Y9dFsxXS5sZW5ndGgrMTooZj10WzJdLnNlYXJjaCh0aGlzLnJ1bGVzLm90aGVyLm5vblNwYWNlQ2hhciksZj1mPjQ/MTpmLGM9Zy5zbGljZShmKSxmKz10WzFdLmxlbmd0aCksUiYmdGhpcy5ydWxlcy5vdGhlci5ibGFua0xpbmUudGVzdChoKSYmKHArPWgrYFxuYCxlPWUuc3Vic3RyaW5nKGgubGVuZ3RoKzEpLGw9ITApLCFsKXtsZXQgTz10aGlzLnJ1bGVzLm90aGVyLm5leHRCdWxsZXRSZWdleChmKSxWPXRoaXMucnVsZXMub3RoZXIuaHJSZWdleChmKSxZPXRoaXMucnVsZXMub3RoZXIuZmVuY2VzQmVnaW5SZWdleChmKSxlZT10aGlzLnJ1bGVzLm90aGVyLmhlYWRpbmdCZWdpblJlZ2V4KGYpLGZlPXRoaXMucnVsZXMub3RoZXIuaHRtbEJlZ2luUmVnZXgoZik7Zm9yKDtlOyl7bGV0IEg9ZS5zcGxpdChgXG5gLDEpWzBdLEE7aWYoaD1ILHRoaXMub3B0aW9ucy5wZWRhbnRpYz8oaD1oLnJlcGxhY2UodGhpcy5ydWxlcy5vdGhlci5saXN0UmVwbGFjZU5lc3RpbmcsXCIgIFwiKSxBPWgpOkE9aC5yZXBsYWNlKHRoaXMucnVsZXMub3RoZXIudGFiQ2hhckdsb2JhbCxcIiAgICBcIiksWS50ZXN0KGgpfHxlZS50ZXN0KGgpfHxmZS50ZXN0KGgpfHxPLnRlc3QoaCl8fFYudGVzdChoKSlicmVhaztpZihBLnNlYXJjaCh0aGlzLnJ1bGVzLm90aGVyLm5vblNwYWNlQ2hhcik+PWZ8fCFoLnRyaW0oKSljKz1gXG5gK0Euc2xpY2UoZik7ZWxzZXtpZihSfHxnLnJlcGxhY2UodGhpcy5ydWxlcy5vdGhlci50YWJDaGFyR2xvYmFsLFwiICAgIFwiKS5zZWFyY2godGhpcy5ydWxlcy5vdGhlci5ub25TcGFjZUNoYXIpPj00fHxZLnRlc3QoZyl8fGVlLnRlc3QoZyl8fFYudGVzdChnKSlicmVhaztjKz1gXG5gK2h9IVImJiFoLnRyaW0oKSYmKFI9ITApLHArPUgrYFxuYCxlPWUuc3Vic3RyaW5nKEgubGVuZ3RoKzEpLGc9QS5zbGljZShmKX19aS5sb29zZXx8KGE/aS5sb29zZT0hMDp0aGlzLnJ1bGVzLm90aGVyLmRvdWJsZUJsYW5rTGluZS50ZXN0KHApJiYoYT0hMCkpLGkuaXRlbXMucHVzaCh7dHlwZTpcImxpc3RfaXRlbVwiLHJhdzpwLHRhc2s6ISF0aGlzLm9wdGlvbnMuZ2ZtJiZ0aGlzLnJ1bGVzLm90aGVyLmxpc3RJc1Rhc2sudGVzdChjKSxsb29zZTohMSx0ZXh0OmMsdG9rZW5zOltdfSksaS5yYXcrPXB9bGV0IG89aS5pdGVtcy5hdCgtMSk7aWYobylvLnJhdz1vLnJhdy50cmltRW5kKCksby50ZXh0PW8udGV4dC50cmltRW5kKCk7ZWxzZSByZXR1cm47aS5yYXc9aS5yYXcudHJpbUVuZCgpO2ZvcihsZXQgbCBvZiBpLml0ZW1zKXtpZih0aGlzLmxleGVyLnN0YXRlLnRvcD0hMSxsLnRva2Vucz10aGlzLmxleGVyLmJsb2NrVG9rZW5zKGwudGV4dCxbXSksbC50YXNrKXtpZihsLnRleHQ9bC50ZXh0LnJlcGxhY2UodGhpcy5ydWxlcy5vdGhlci5saXN0UmVwbGFjZVRhc2ssXCJcIiksbC50b2tlbnNbMF0/LnR5cGU9PT1cInRleHRcInx8bC50b2tlbnNbMF0/LnR5cGU9PT1cInBhcmFncmFwaFwiKXtsLnRva2Vuc1swXS5yYXc9bC50b2tlbnNbMF0ucmF3LnJlcGxhY2UodGhpcy5ydWxlcy5vdGhlci5saXN0UmVwbGFjZVRhc2ssXCJcIiksbC50b2tlbnNbMF0udGV4dD1sLnRva2Vuc1swXS50ZXh0LnJlcGxhY2UodGhpcy5ydWxlcy5vdGhlci5saXN0UmVwbGFjZVRhc2ssXCJcIik7Zm9yKGxldCBjPXRoaXMubGV4ZXIuaW5saW5lUXVldWUubGVuZ3RoLTE7Yz49MDtjLS0paWYodGhpcy5ydWxlcy5vdGhlci5saXN0SXNUYXNrLnRlc3QodGhpcy5sZXhlci5pbmxpbmVRdWV1ZVtjXS5zcmMpKXt0aGlzLmxleGVyLmlubGluZVF1ZXVlW2NdLnNyYz10aGlzLmxleGVyLmlubGluZVF1ZXVlW2NdLnNyYy5yZXBsYWNlKHRoaXMucnVsZXMub3RoZXIubGlzdFJlcGxhY2VUYXNrLFwiXCIpO2JyZWFrfX1sZXQgcD10aGlzLnJ1bGVzLm90aGVyLmxpc3RUYXNrQ2hlY2tib3guZXhlYyhsLnJhdyk7aWYocCl7bGV0IGM9e3R5cGU6XCJjaGVja2JveFwiLHJhdzpwWzBdK1wiIFwiLGNoZWNrZWQ6cFswXSE9PVwiWyBdXCJ9O2wuY2hlY2tlZD1jLmNoZWNrZWQsaS5sb29zZT9sLnRva2Vuc1swXSYmW1wicGFyYWdyYXBoXCIsXCJ0ZXh0XCJdLmluY2x1ZGVzKGwudG9rZW5zWzBdLnR5cGUpJiZcInRva2Vuc1wiaW4gbC50b2tlbnNbMF0mJmwudG9rZW5zWzBdLnRva2Vucz8obC50b2tlbnNbMF0ucmF3PWMucmF3K2wudG9rZW5zWzBdLnJhdyxsLnRva2Vuc1swXS50ZXh0PWMucmF3K2wudG9rZW5zWzBdLnRleHQsbC50b2tlbnNbMF0udG9rZW5zLnVuc2hpZnQoYykpOmwudG9rZW5zLnVuc2hpZnQoe3R5cGU6XCJwYXJhZ3JhcGhcIixyYXc6Yy5yYXcsdGV4dDpjLnJhdyx0b2tlbnM6W2NdfSk6bC50b2tlbnMudW5zaGlmdChjKX19aWYoIWkubG9vc2Upe2xldCBwPWwudG9rZW5zLmZpbHRlcihnPT5nLnR5cGU9PT1cInNwYWNlXCIpLGM9cC5sZW5ndGg+MCYmcC5zb21lKGc9PnRoaXMucnVsZXMub3RoZXIuYW55TGluZS50ZXN0KGcucmF3KSk7aS5sb29zZT1jfX1pZihpLmxvb3NlKWZvcihsZXQgbCBvZiBpLml0ZW1zKXtsLmxvb3NlPSEwO2ZvcihsZXQgcCBvZiBsLnRva2VucylwLnR5cGU9PT1cInRleHRcIiYmKHAudHlwZT1cInBhcmFncmFwaFwiKX1yZXR1cm4gaX19aHRtbChlKXtsZXQgdD10aGlzLnJ1bGVzLmJsb2NrLmh0bWwuZXhlYyhlKTtpZih0KXJldHVybnt0eXBlOlwiaHRtbFwiLGJsb2NrOiEwLHJhdzp0WzBdLHByZTp0WzFdPT09XCJwcmVcInx8dFsxXT09PVwic2NyaXB0XCJ8fHRbMV09PT1cInN0eWxlXCIsdGV4dDp0WzBdfX1kZWYoZSl7bGV0IHQ9dGhpcy5ydWxlcy5ibG9jay5kZWYuZXhlYyhlKTtpZih0KXtsZXQgbj10WzFdLnRvTG93ZXJDYXNlKCkucmVwbGFjZSh0aGlzLnJ1bGVzLm90aGVyLm11bHRpcGxlU3BhY2VHbG9iYWwsXCIgXCIpLHI9dFsyXT90WzJdLnJlcGxhY2UodGhpcy5ydWxlcy5vdGhlci5ocmVmQnJhY2tldHMsXCIkMVwiKS5yZXBsYWNlKHRoaXMucnVsZXMuaW5saW5lLmFueVB1bmN0dWF0aW9uLFwiJDFcIik6XCJcIixpPXRbM10/dFszXS5zdWJzdHJpbmcoMSx0WzNdLmxlbmd0aC0xKS5yZXBsYWNlKHRoaXMucnVsZXMuaW5saW5lLmFueVB1bmN0dWF0aW9uLFwiJDFcIik6dFszXTtyZXR1cm57dHlwZTpcImRlZlwiLHRhZzpuLHJhdzp0WzBdLGhyZWY6cix0aXRsZTppfX19dGFibGUoZSl7bGV0IHQ9dGhpcy5ydWxlcy5ibG9jay50YWJsZS5leGVjKGUpO2lmKCF0fHwhdGhpcy5ydWxlcy5vdGhlci50YWJsZURlbGltaXRlci50ZXN0KHRbMl0pKXJldHVybjtsZXQgbj1KKHRbMV0pLHI9dFsyXS5yZXBsYWNlKHRoaXMucnVsZXMub3RoZXIudGFibGVBbGlnbkNoYXJzLFwiXCIpLnNwbGl0KFwifFwiKSxpPXRbM10/LnRyaW0oKT90WzNdLnJlcGxhY2UodGhpcy5ydWxlcy5vdGhlci50YWJsZVJvd0JsYW5rTGluZSxcIlwiKS5zcGxpdChgXG5gKTpbXSxzPXt0eXBlOlwidGFibGVcIixyYXc6dFswXSxoZWFkZXI6W10sYWxpZ246W10scm93czpbXX07aWYobi5sZW5ndGg9PT1yLmxlbmd0aCl7Zm9yKGxldCBhIG9mIHIpdGhpcy5ydWxlcy5vdGhlci50YWJsZUFsaWduUmlnaHQudGVzdChhKT9zLmFsaWduLnB1c2goXCJyaWdodFwiKTp0aGlzLnJ1bGVzLm90aGVyLnRhYmxlQWxpZ25DZW50ZXIudGVzdChhKT9zLmFsaWduLnB1c2goXCJjZW50ZXJcIik6dGhpcy5ydWxlcy5vdGhlci50YWJsZUFsaWduTGVmdC50ZXN0KGEpP3MuYWxpZ24ucHVzaChcImxlZnRcIik6cy5hbGlnbi5wdXNoKG51bGwpO2ZvcihsZXQgYT0wO2E8bi5sZW5ndGg7YSsrKXMuaGVhZGVyLnB1c2goe3RleHQ6blthXSx0b2tlbnM6dGhpcy5sZXhlci5pbmxpbmUoblthXSksaGVhZGVyOiEwLGFsaWduOnMuYWxpZ25bYV19KTtmb3IobGV0IGEgb2YgaSlzLnJvd3MucHVzaChKKGEscy5oZWFkZXIubGVuZ3RoKS5tYXAoKG8sbCk9Pih7dGV4dDpvLHRva2Vuczp0aGlzLmxleGVyLmlubGluZShvKSxoZWFkZXI6ITEsYWxpZ246cy5hbGlnbltsXX0pKSk7cmV0dXJuIHN9fWxoZWFkaW5nKGUpe2xldCB0PXRoaXMucnVsZXMuYmxvY2subGhlYWRpbmcuZXhlYyhlKTtpZih0KXJldHVybnt0eXBlOlwiaGVhZGluZ1wiLHJhdzp0WzBdLGRlcHRoOnRbMl0uY2hhckF0KDApPT09XCI9XCI/MToyLHRleHQ6dFsxXSx0b2tlbnM6dGhpcy5sZXhlci5pbmxpbmUodFsxXSl9fXBhcmFncmFwaChlKXtsZXQgdD10aGlzLnJ1bGVzLmJsb2NrLnBhcmFncmFwaC5leGVjKGUpO2lmKHQpe2xldCBuPXRbMV0uY2hhckF0KHRbMV0ubGVuZ3RoLTEpPT09YFxuYD90WzFdLnNsaWNlKDAsLTEpOnRbMV07cmV0dXJue3R5cGU6XCJwYXJhZ3JhcGhcIixyYXc6dFswXSx0ZXh0Om4sdG9rZW5zOnRoaXMubGV4ZXIuaW5saW5lKG4pfX19dGV4dChlKXtsZXQgdD10aGlzLnJ1bGVzLmJsb2NrLnRleHQuZXhlYyhlKTtpZih0KXJldHVybnt0eXBlOlwidGV4dFwiLHJhdzp0WzBdLHRleHQ6dFswXSx0b2tlbnM6dGhpcy5sZXhlci5pbmxpbmUodFswXSl9fWVzY2FwZShlKXtsZXQgdD10aGlzLnJ1bGVzLmlubGluZS5lc2NhcGUuZXhlYyhlKTtpZih0KXJldHVybnt0eXBlOlwiZXNjYXBlXCIscmF3OnRbMF0sdGV4dDp0WzFdfX10YWcoZSl7bGV0IHQ9dGhpcy5ydWxlcy5pbmxpbmUudGFnLmV4ZWMoZSk7aWYodClyZXR1cm4hdGhpcy5sZXhlci5zdGF0ZS5pbkxpbmsmJnRoaXMucnVsZXMub3RoZXIuc3RhcnRBVGFnLnRlc3QodFswXSk/dGhpcy5sZXhlci5zdGF0ZS5pbkxpbms9ITA6dGhpcy5sZXhlci5zdGF0ZS5pbkxpbmsmJnRoaXMucnVsZXMub3RoZXIuZW5kQVRhZy50ZXN0KHRbMF0pJiYodGhpcy5sZXhlci5zdGF0ZS5pbkxpbms9ITEpLCF0aGlzLmxleGVyLnN0YXRlLmluUmF3QmxvY2smJnRoaXMucnVsZXMub3RoZXIuc3RhcnRQcmVTY3JpcHRUYWcudGVzdCh0WzBdKT90aGlzLmxleGVyLnN0YXRlLmluUmF3QmxvY2s9ITA6dGhpcy5sZXhlci5zdGF0ZS5pblJhd0Jsb2NrJiZ0aGlzLnJ1bGVzLm90aGVyLmVuZFByZVNjcmlwdFRhZy50ZXN0KHRbMF0pJiYodGhpcy5sZXhlci5zdGF0ZS5pblJhd0Jsb2NrPSExKSx7dHlwZTpcImh0bWxcIixyYXc6dFswXSxpbkxpbms6dGhpcy5sZXhlci5zdGF0ZS5pbkxpbmssaW5SYXdCbG9jazp0aGlzLmxleGVyLnN0YXRlLmluUmF3QmxvY2ssYmxvY2s6ITEsdGV4dDp0WzBdfX1saW5rKGUpe2xldCB0PXRoaXMucnVsZXMuaW5saW5lLmxpbmsuZXhlYyhlKTtpZih0KXtsZXQgbj10WzJdLnRyaW0oKTtpZighdGhpcy5vcHRpb25zLnBlZGFudGljJiZ0aGlzLnJ1bGVzLm90aGVyLnN0YXJ0QW5nbGVCcmFja2V0LnRlc3Qobikpe2lmKCF0aGlzLnJ1bGVzLm90aGVyLmVuZEFuZ2xlQnJhY2tldC50ZXN0KG4pKXJldHVybjtsZXQgcz16KG4uc2xpY2UoMCwtMSksXCJcXFxcXCIpO2lmKChuLmxlbmd0aC1zLmxlbmd0aCklMj09PTApcmV0dXJufWVsc2V7bGV0IHM9ZGUodFsyXSxcIigpXCIpO2lmKHM9PT0tMilyZXR1cm47aWYocz4tMSl7bGV0IG89KHRbMF0uaW5kZXhPZihcIiFcIik9PT0wPzU6NCkrdFsxXS5sZW5ndGgrczt0WzJdPXRbMl0uc3Vic3RyaW5nKDAscyksdFswXT10WzBdLnN1YnN0cmluZygwLG8pLnRyaW0oKSx0WzNdPVwiXCJ9fWxldCByPXRbMl0saT1cIlwiO2lmKHRoaXMub3B0aW9ucy5wZWRhbnRpYyl7bGV0IHM9dGhpcy5ydWxlcy5vdGhlci5wZWRhbnRpY0hyZWZUaXRsZS5leGVjKHIpO3MmJihyPXNbMV0saT1zWzNdKX1lbHNlIGk9dFszXT90WzNdLnNsaWNlKDEsLTEpOlwiXCI7cmV0dXJuIHI9ci50cmltKCksdGhpcy5ydWxlcy5vdGhlci5zdGFydEFuZ2xlQnJhY2tldC50ZXN0KHIpJiYodGhpcy5vcHRpb25zLnBlZGFudGljJiYhdGhpcy5ydWxlcy5vdGhlci5lbmRBbmdsZUJyYWNrZXQudGVzdChuKT9yPXIuc2xpY2UoMSk6cj1yLnNsaWNlKDEsLTEpKSxnZSh0LHtocmVmOnImJnIucmVwbGFjZSh0aGlzLnJ1bGVzLmlubGluZS5hbnlQdW5jdHVhdGlvbixcIiQxXCIpLHRpdGxlOmkmJmkucmVwbGFjZSh0aGlzLnJ1bGVzLmlubGluZS5hbnlQdW5jdHVhdGlvbixcIiQxXCIpfSx0WzBdLHRoaXMubGV4ZXIsdGhpcy5ydWxlcyl9fXJlZmxpbmsoZSx0KXtsZXQgbjtpZigobj10aGlzLnJ1bGVzLmlubGluZS5yZWZsaW5rLmV4ZWMoZSkpfHwobj10aGlzLnJ1bGVzLmlubGluZS5ub2xpbmsuZXhlYyhlKSkpe2xldCByPShuWzJdfHxuWzFdKS5yZXBsYWNlKHRoaXMucnVsZXMub3RoZXIubXVsdGlwbGVTcGFjZUdsb2JhbCxcIiBcIiksaT10W3IudG9Mb3dlckNhc2UoKV07aWYoIWkpe2xldCBzPW5bMF0uY2hhckF0KDApO3JldHVybnt0eXBlOlwidGV4dFwiLHJhdzpzLHRleHQ6c319cmV0dXJuIGdlKG4saSxuWzBdLHRoaXMubGV4ZXIsdGhpcy5ydWxlcyl9fWVtU3Ryb25nKGUsdCxuPVwiXCIpe2xldCByPXRoaXMucnVsZXMuaW5saW5lLmVtU3Ryb25nTERlbGltLmV4ZWMoZSk7aWYoIXJ8fHJbM10mJm4ubWF0Y2godGhpcy5ydWxlcy5vdGhlci51bmljb2RlQWxwaGFOdW1lcmljKSlyZXR1cm47aWYoIShyWzFdfHxyWzJdfHxcIlwiKXx8IW58fHRoaXMucnVsZXMuaW5saW5lLnB1bmN0dWF0aW9uLmV4ZWMobikpe2xldCBzPVsuLi5yWzBdXS5sZW5ndGgtMSxhLG8sbD1zLHA9MCxjPXJbMF1bMF09PT1cIipcIj90aGlzLnJ1bGVzLmlubGluZS5lbVN0cm9uZ1JEZWxpbUFzdDp0aGlzLnJ1bGVzLmlubGluZS5lbVN0cm9uZ1JEZWxpbVVuZDtmb3IoYy5sYXN0SW5kZXg9MCx0PXQuc2xpY2UoLTEqZS5sZW5ndGgrcyk7KHI9Yy5leGVjKHQpKSE9bnVsbDspe2lmKGE9clsxXXx8clsyXXx8clszXXx8cls0XXx8cls1XXx8cls2XSwhYSljb250aW51ZTtpZihvPVsuLi5hXS5sZW5ndGgsclszXXx8cls0XSl7bCs9bztjb250aW51ZX1lbHNlIGlmKChyWzVdfHxyWzZdKSYmcyUzJiYhKChzK28pJTMpKXtwKz1vO2NvbnRpbnVlfWlmKGwtPW8sbD4wKWNvbnRpbnVlO289TWF0aC5taW4obyxvK2wrcCk7bGV0IGc9Wy4uLnJbMF1dWzBdLmxlbmd0aCxoPWUuc2xpY2UoMCxzK3IuaW5kZXgrZytvKTtpZihNYXRoLm1pbihzLG8pJTIpe2xldCBmPWguc2xpY2UoMSwtMSk7cmV0dXJue3R5cGU6XCJlbVwiLHJhdzpoLHRleHQ6Zix0b2tlbnM6dGhpcy5sZXhlci5pbmxpbmVUb2tlbnMoZil9fWxldCBSPWguc2xpY2UoMiwtMik7cmV0dXJue3R5cGU6XCJzdHJvbmdcIixyYXc6aCx0ZXh0OlIsdG9rZW5zOnRoaXMubGV4ZXIuaW5saW5lVG9rZW5zKFIpfX19fWNvZGVzcGFuKGUpe2xldCB0PXRoaXMucnVsZXMuaW5saW5lLmNvZGUuZXhlYyhlKTtpZih0KXtsZXQgbj10WzJdLnJlcGxhY2UodGhpcy5ydWxlcy5vdGhlci5uZXdMaW5lQ2hhckdsb2JhbCxcIiBcIikscj10aGlzLnJ1bGVzLm90aGVyLm5vblNwYWNlQ2hhci50ZXN0KG4pLGk9dGhpcy5ydWxlcy5vdGhlci5zdGFydGluZ1NwYWNlQ2hhci50ZXN0KG4pJiZ0aGlzLnJ1bGVzLm90aGVyLmVuZGluZ1NwYWNlQ2hhci50ZXN0KG4pO3JldHVybiByJiZpJiYobj1uLnN1YnN0cmluZygxLG4ubGVuZ3RoLTEpKSx7dHlwZTpcImNvZGVzcGFuXCIscmF3OnRbMF0sdGV4dDpufX19YnIoZSl7bGV0IHQ9dGhpcy5ydWxlcy5pbmxpbmUuYnIuZXhlYyhlKTtpZih0KXJldHVybnt0eXBlOlwiYnJcIixyYXc6dFswXX19ZGVsKGUpe2xldCB0PXRoaXMucnVsZXMuaW5saW5lLmRlbC5leGVjKGUpO2lmKHQpcmV0dXJue3R5cGU6XCJkZWxcIixyYXc6dFswXSx0ZXh0OnRbMl0sdG9rZW5zOnRoaXMubGV4ZXIuaW5saW5lVG9rZW5zKHRbMl0pfX1hdXRvbGluayhlKXtsZXQgdD10aGlzLnJ1bGVzLmlubGluZS5hdXRvbGluay5leGVjKGUpO2lmKHQpe2xldCBuLHI7cmV0dXJuIHRbMl09PT1cIkBcIj8obj10WzFdLHI9XCJtYWlsdG86XCIrbik6KG49dFsxXSxyPW4pLHt0eXBlOlwibGlua1wiLHJhdzp0WzBdLHRleHQ6bixocmVmOnIsdG9rZW5zOlt7dHlwZTpcInRleHRcIixyYXc6bix0ZXh0Om59XX19fXVybChlKXtsZXQgdDtpZih0PXRoaXMucnVsZXMuaW5saW5lLnVybC5leGVjKGUpKXtsZXQgbixyO2lmKHRbMl09PT1cIkBcIiluPXRbMF0scj1cIm1haWx0bzpcIituO2Vsc2V7bGV0IGk7ZG8gaT10WzBdLHRbMF09dGhpcy5ydWxlcy5pbmxpbmUuX2JhY2twZWRhbC5leGVjKHRbMF0pPy5bMF0/P1wiXCI7d2hpbGUoaSE9PXRbMF0pO249dFswXSx0WzFdPT09XCJ3d3cuXCI/cj1cImh0dHA6Ly9cIit0WzBdOnI9dFswXX1yZXR1cm57dHlwZTpcImxpbmtcIixyYXc6dFswXSx0ZXh0Om4saHJlZjpyLHRva2Vuczpbe3R5cGU6XCJ0ZXh0XCIscmF3Om4sdGV4dDpufV19fX1pbmxpbmVUZXh0KGUpe2xldCB0PXRoaXMucnVsZXMuaW5saW5lLnRleHQuZXhlYyhlKTtpZih0KXtsZXQgbj10aGlzLmxleGVyLnN0YXRlLmluUmF3QmxvY2s7cmV0dXJue3R5cGU6XCJ0ZXh0XCIscmF3OnRbMF0sdGV4dDp0WzBdLGVzY2FwZWQ6bn19fX07dmFyIHg9Y2xhc3MgdXt0b2tlbnM7b3B0aW9ucztzdGF0ZTtpbmxpbmVRdWV1ZTt0b2tlbml6ZXI7Y29uc3RydWN0b3IoZSl7dGhpcy50b2tlbnM9W10sdGhpcy50b2tlbnMubGlua3M9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLm9wdGlvbnM9ZXx8VCx0aGlzLm9wdGlvbnMudG9rZW5pemVyPXRoaXMub3B0aW9ucy50b2tlbml6ZXJ8fG5ldyB5LHRoaXMudG9rZW5pemVyPXRoaXMub3B0aW9ucy50b2tlbml6ZXIsdGhpcy50b2tlbml6ZXIub3B0aW9ucz10aGlzLm9wdGlvbnMsdGhpcy50b2tlbml6ZXIubGV4ZXI9dGhpcyx0aGlzLmlubGluZVF1ZXVlPVtdLHRoaXMuc3RhdGU9e2luTGluazohMSxpblJhd0Jsb2NrOiExLHRvcDohMH07bGV0IHQ9e290aGVyOm0sYmxvY2s6RS5ub3JtYWwsaW5saW5lOk0ubm9ybWFsfTt0aGlzLm9wdGlvbnMucGVkYW50aWM/KHQuYmxvY2s9RS5wZWRhbnRpYyx0LmlubGluZT1NLnBlZGFudGljKTp0aGlzLm9wdGlvbnMuZ2ZtJiYodC5ibG9jaz1FLmdmbSx0aGlzLm9wdGlvbnMuYnJlYWtzP3QuaW5saW5lPU0uYnJlYWtzOnQuaW5saW5lPU0uZ2ZtKSx0aGlzLnRva2VuaXplci5ydWxlcz10fXN0YXRpYyBnZXQgcnVsZXMoKXtyZXR1cm57YmxvY2s6RSxpbmxpbmU6TX19c3RhdGljIGxleChlLHQpe3JldHVybiBuZXcgdSh0KS5sZXgoZSl9c3RhdGljIGxleElubGluZShlLHQpe3JldHVybiBuZXcgdSh0KS5pbmxpbmVUb2tlbnMoZSl9bGV4KGUpe2U9ZS5yZXBsYWNlKG0uY2FycmlhZ2VSZXR1cm4sYFxuYCksdGhpcy5ibG9ja1Rva2VucyhlLHRoaXMudG9rZW5zKTtmb3IobGV0IHQ9MDt0PHRoaXMuaW5saW5lUXVldWUubGVuZ3RoO3QrKyl7bGV0IG49dGhpcy5pbmxpbmVRdWV1ZVt0XTt0aGlzLmlubGluZVRva2VucyhuLnNyYyxuLnRva2Vucyl9cmV0dXJuIHRoaXMuaW5saW5lUXVldWU9W10sdGhpcy50b2tlbnN9YmxvY2tUb2tlbnMoZSx0PVtdLG49ITEpe2Zvcih0aGlzLm9wdGlvbnMucGVkYW50aWMmJihlPWUucmVwbGFjZShtLnRhYkNoYXJHbG9iYWwsXCIgICAgXCIpLnJlcGxhY2UobS5zcGFjZUxpbmUsXCJcIikpO2U7KXtsZXQgcjtpZih0aGlzLm9wdGlvbnMuZXh0ZW5zaW9ucz8uYmxvY2s/LnNvbWUocz0+KHI9cy5jYWxsKHtsZXhlcjp0aGlzfSxlLHQpKT8oZT1lLnN1YnN0cmluZyhyLnJhdy5sZW5ndGgpLHQucHVzaChyKSwhMCk6ITEpKWNvbnRpbnVlO2lmKHI9dGhpcy50b2tlbml6ZXIuc3BhY2UoZSkpe2U9ZS5zdWJzdHJpbmcoci5yYXcubGVuZ3RoKTtsZXQgcz10LmF0KC0xKTtyLnJhdy5sZW5ndGg9PT0xJiZzIT09dm9pZCAwP3MucmF3Kz1gXG5gOnQucHVzaChyKTtjb250aW51ZX1pZihyPXRoaXMudG9rZW5pemVyLmNvZGUoZSkpe2U9ZS5zdWJzdHJpbmcoci5yYXcubGVuZ3RoKTtsZXQgcz10LmF0KC0xKTtzPy50eXBlPT09XCJwYXJhZ3JhcGhcInx8cz8udHlwZT09PVwidGV4dFwiPyhzLnJhdys9KHMucmF3LmVuZHNXaXRoKGBcbmApP1wiXCI6YFxuYCkrci5yYXcscy50ZXh0Kz1gXG5gK3IudGV4dCx0aGlzLmlubGluZVF1ZXVlLmF0KC0xKS5zcmM9cy50ZXh0KTp0LnB1c2gocik7Y29udGludWV9aWYocj10aGlzLnRva2VuaXplci5mZW5jZXMoZSkpe2U9ZS5zdWJzdHJpbmcoci5yYXcubGVuZ3RoKSx0LnB1c2gocik7Y29udGludWV9aWYocj10aGlzLnRva2VuaXplci5oZWFkaW5nKGUpKXtlPWUuc3Vic3RyaW5nKHIucmF3Lmxlbmd0aCksdC5wdXNoKHIpO2NvbnRpbnVlfWlmKHI9dGhpcy50b2tlbml6ZXIuaHIoZSkpe2U9ZS5zdWJzdHJpbmcoci5yYXcubGVuZ3RoKSx0LnB1c2gocik7Y29udGludWV9aWYocj10aGlzLnRva2VuaXplci5ibG9ja3F1b3RlKGUpKXtlPWUuc3Vic3RyaW5nKHIucmF3Lmxlbmd0aCksdC5wdXNoKHIpO2NvbnRpbnVlfWlmKHI9dGhpcy50b2tlbml6ZXIubGlzdChlKSl7ZT1lLnN1YnN0cmluZyhyLnJhdy5sZW5ndGgpLHQucHVzaChyKTtjb250aW51ZX1pZihyPXRoaXMudG9rZW5pemVyLmh0bWwoZSkpe2U9ZS5zdWJzdHJpbmcoci5yYXcubGVuZ3RoKSx0LnB1c2gocik7Y29udGludWV9aWYocj10aGlzLnRva2VuaXplci5kZWYoZSkpe2U9ZS5zdWJzdHJpbmcoci5yYXcubGVuZ3RoKTtsZXQgcz10LmF0KC0xKTtzPy50eXBlPT09XCJwYXJhZ3JhcGhcInx8cz8udHlwZT09PVwidGV4dFwiPyhzLnJhdys9KHMucmF3LmVuZHNXaXRoKGBcbmApP1wiXCI6YFxuYCkrci5yYXcscy50ZXh0Kz1gXG5gK3IucmF3LHRoaXMuaW5saW5lUXVldWUuYXQoLTEpLnNyYz1zLnRleHQpOnRoaXMudG9rZW5zLmxpbmtzW3IudGFnXXx8KHRoaXMudG9rZW5zLmxpbmtzW3IudGFnXT17aHJlZjpyLmhyZWYsdGl0bGU6ci50aXRsZX0sdC5wdXNoKHIpKTtjb250aW51ZX1pZihyPXRoaXMudG9rZW5pemVyLnRhYmxlKGUpKXtlPWUuc3Vic3RyaW5nKHIucmF3Lmxlbmd0aCksdC5wdXNoKHIpO2NvbnRpbnVlfWlmKHI9dGhpcy50b2tlbml6ZXIubGhlYWRpbmcoZSkpe2U9ZS5zdWJzdHJpbmcoci5yYXcubGVuZ3RoKSx0LnB1c2gocik7Y29udGludWV9bGV0IGk9ZTtpZih0aGlzLm9wdGlvbnMuZXh0ZW5zaW9ucz8uc3RhcnRCbG9jayl7bGV0IHM9MS8wLGE9ZS5zbGljZSgxKSxvO3RoaXMub3B0aW9ucy5leHRlbnNpb25zLnN0YXJ0QmxvY2suZm9yRWFjaChsPT57bz1sLmNhbGwoe2xleGVyOnRoaXN9LGEpLHR5cGVvZiBvPT1cIm51bWJlclwiJiZvPj0wJiYocz1NYXRoLm1pbihzLG8pKX0pLHM8MS8wJiZzPj0wJiYoaT1lLnN1YnN0cmluZygwLHMrMSkpfWlmKHRoaXMuc3RhdGUudG9wJiYocj10aGlzLnRva2VuaXplci5wYXJhZ3JhcGgoaSkpKXtsZXQgcz10LmF0KC0xKTtuJiZzPy50eXBlPT09XCJwYXJhZ3JhcGhcIj8ocy5yYXcrPShzLnJhdy5lbmRzV2l0aChgXG5gKT9cIlwiOmBcbmApK3IucmF3LHMudGV4dCs9YFxuYCtyLnRleHQsdGhpcy5pbmxpbmVRdWV1ZS5wb3AoKSx0aGlzLmlubGluZVF1ZXVlLmF0KC0xKS5zcmM9cy50ZXh0KTp0LnB1c2gociksbj1pLmxlbmd0aCE9PWUubGVuZ3RoLGU9ZS5zdWJzdHJpbmcoci5yYXcubGVuZ3RoKTtjb250aW51ZX1pZihyPXRoaXMudG9rZW5pemVyLnRleHQoZSkpe2U9ZS5zdWJzdHJpbmcoci5yYXcubGVuZ3RoKTtsZXQgcz10LmF0KC0xKTtzPy50eXBlPT09XCJ0ZXh0XCI/KHMucmF3Kz0ocy5yYXcuZW5kc1dpdGgoYFxuYCk/XCJcIjpgXG5gKStyLnJhdyxzLnRleHQrPWBcbmArci50ZXh0LHRoaXMuaW5saW5lUXVldWUucG9wKCksdGhpcy5pbmxpbmVRdWV1ZS5hdCgtMSkuc3JjPXMudGV4dCk6dC5wdXNoKHIpO2NvbnRpbnVlfWlmKGUpe2xldCBzPVwiSW5maW5pdGUgbG9vcCBvbiBieXRlOiBcIitlLmNoYXJDb2RlQXQoMCk7aWYodGhpcy5vcHRpb25zLnNpbGVudCl7Y29uc29sZS5lcnJvcihzKTticmVha31lbHNlIHRocm93IG5ldyBFcnJvcihzKX19cmV0dXJuIHRoaXMuc3RhdGUudG9wPSEwLHR9aW5saW5lKGUsdD1bXSl7cmV0dXJuIHRoaXMuaW5saW5lUXVldWUucHVzaCh7c3JjOmUsdG9rZW5zOnR9KSx0fWlubGluZVRva2VucyhlLHQ9W10pe2xldCBuPWUscj1udWxsO2lmKHRoaXMudG9rZW5zLmxpbmtzKXtsZXQgbz1PYmplY3Qua2V5cyh0aGlzLnRva2Vucy5saW5rcyk7aWYoby5sZW5ndGg+MClmb3IoOyhyPXRoaXMudG9rZW5pemVyLnJ1bGVzLmlubGluZS5yZWZsaW5rU2VhcmNoLmV4ZWMobikpIT1udWxsOylvLmluY2x1ZGVzKHJbMF0uc2xpY2UoclswXS5sYXN0SW5kZXhPZihcIltcIikrMSwtMSkpJiYobj1uLnNsaWNlKDAsci5pbmRleCkrXCJbXCIrXCJhXCIucmVwZWF0KHJbMF0ubGVuZ3RoLTIpK1wiXVwiK24uc2xpY2UodGhpcy50b2tlbml6ZXIucnVsZXMuaW5saW5lLnJlZmxpbmtTZWFyY2gubGFzdEluZGV4KSl9Zm9yKDsocj10aGlzLnRva2VuaXplci5ydWxlcy5pbmxpbmUuYW55UHVuY3R1YXRpb24uZXhlYyhuKSkhPW51bGw7KW49bi5zbGljZSgwLHIuaW5kZXgpK1wiKytcIituLnNsaWNlKHRoaXMudG9rZW5pemVyLnJ1bGVzLmlubGluZS5hbnlQdW5jdHVhdGlvbi5sYXN0SW5kZXgpO2xldCBpO2Zvcig7KHI9dGhpcy50b2tlbml6ZXIucnVsZXMuaW5saW5lLmJsb2NrU2tpcC5leGVjKG4pKSE9bnVsbDspaT1yWzJdP3JbMl0ubGVuZ3RoOjAsbj1uLnNsaWNlKDAsci5pbmRleCtpKStcIltcIitcImFcIi5yZXBlYXQoclswXS5sZW5ndGgtaS0yKStcIl1cIituLnNsaWNlKHRoaXMudG9rZW5pemVyLnJ1bGVzLmlubGluZS5ibG9ja1NraXAubGFzdEluZGV4KTtuPXRoaXMub3B0aW9ucy5ob29rcz8uZW1TdHJvbmdNYXNrPy5jYWxsKHtsZXhlcjp0aGlzfSxuKT8/bjtsZXQgcz0hMSxhPVwiXCI7Zm9yKDtlOyl7c3x8KGE9XCJcIikscz0hMTtsZXQgbztpZih0aGlzLm9wdGlvbnMuZXh0ZW5zaW9ucz8uaW5saW5lPy5zb21lKHA9PihvPXAuY2FsbCh7bGV4ZXI6dGhpc30sZSx0KSk/KGU9ZS5zdWJzdHJpbmcoby5yYXcubGVuZ3RoKSx0LnB1c2gobyksITApOiExKSljb250aW51ZTtpZihvPXRoaXMudG9rZW5pemVyLmVzY2FwZShlKSl7ZT1lLnN1YnN0cmluZyhvLnJhdy5sZW5ndGgpLHQucHVzaChvKTtjb250aW51ZX1pZihvPXRoaXMudG9rZW5pemVyLnRhZyhlKSl7ZT1lLnN1YnN0cmluZyhvLnJhdy5sZW5ndGgpLHQucHVzaChvKTtjb250aW51ZX1pZihvPXRoaXMudG9rZW5pemVyLmxpbmsoZSkpe2U9ZS5zdWJzdHJpbmcoby5yYXcubGVuZ3RoKSx0LnB1c2gobyk7Y29udGludWV9aWYobz10aGlzLnRva2VuaXplci5yZWZsaW5rKGUsdGhpcy50b2tlbnMubGlua3MpKXtlPWUuc3Vic3RyaW5nKG8ucmF3Lmxlbmd0aCk7bGV0IHA9dC5hdCgtMSk7by50eXBlPT09XCJ0ZXh0XCImJnA/LnR5cGU9PT1cInRleHRcIj8ocC5yYXcrPW8ucmF3LHAudGV4dCs9by50ZXh0KTp0LnB1c2gobyk7Y29udGludWV9aWYobz10aGlzLnRva2VuaXplci5lbVN0cm9uZyhlLG4sYSkpe2U9ZS5zdWJzdHJpbmcoby5yYXcubGVuZ3RoKSx0LnB1c2gobyk7Y29udGludWV9aWYobz10aGlzLnRva2VuaXplci5jb2Rlc3BhbihlKSl7ZT1lLnN1YnN0cmluZyhvLnJhdy5sZW5ndGgpLHQucHVzaChvKTtjb250aW51ZX1pZihvPXRoaXMudG9rZW5pemVyLmJyKGUpKXtlPWUuc3Vic3RyaW5nKG8ucmF3Lmxlbmd0aCksdC5wdXNoKG8pO2NvbnRpbnVlfWlmKG89dGhpcy50b2tlbml6ZXIuZGVsKGUpKXtlPWUuc3Vic3RyaW5nKG8ucmF3Lmxlbmd0aCksdC5wdXNoKG8pO2NvbnRpbnVlfWlmKG89dGhpcy50b2tlbml6ZXIuYXV0b2xpbmsoZSkpe2U9ZS5zdWJzdHJpbmcoby5yYXcubGVuZ3RoKSx0LnB1c2gobyk7Y29udGludWV9aWYoIXRoaXMuc3RhdGUuaW5MaW5rJiYobz10aGlzLnRva2VuaXplci51cmwoZSkpKXtlPWUuc3Vic3RyaW5nKG8ucmF3Lmxlbmd0aCksdC5wdXNoKG8pO2NvbnRpbnVlfWxldCBsPWU7aWYodGhpcy5vcHRpb25zLmV4dGVuc2lvbnM/LnN0YXJ0SW5saW5lKXtsZXQgcD0xLzAsYz1lLnNsaWNlKDEpLGc7dGhpcy5vcHRpb25zLmV4dGVuc2lvbnMuc3RhcnRJbmxpbmUuZm9yRWFjaChoPT57Zz1oLmNhbGwoe2xleGVyOnRoaXN9LGMpLHR5cGVvZiBnPT1cIm51bWJlclwiJiZnPj0wJiYocD1NYXRoLm1pbihwLGcpKX0pLHA8MS8wJiZwPj0wJiYobD1lLnN1YnN0cmluZygwLHArMSkpfWlmKG89dGhpcy50b2tlbml6ZXIuaW5saW5lVGV4dChsKSl7ZT1lLnN1YnN0cmluZyhvLnJhdy5sZW5ndGgpLG8ucmF3LnNsaWNlKC0xKSE9PVwiX1wiJiYoYT1vLnJhdy5zbGljZSgtMSkpLHM9ITA7bGV0IHA9dC5hdCgtMSk7cD8udHlwZT09PVwidGV4dFwiPyhwLnJhdys9by5yYXcscC50ZXh0Kz1vLnRleHQpOnQucHVzaChvKTtjb250aW51ZX1pZihlKXtsZXQgcD1cIkluZmluaXRlIGxvb3Agb24gYnl0ZTogXCIrZS5jaGFyQ29kZUF0KDApO2lmKHRoaXMub3B0aW9ucy5zaWxlbnQpe2NvbnNvbGUuZXJyb3IocCk7YnJlYWt9ZWxzZSB0aHJvdyBuZXcgRXJyb3IocCl9fXJldHVybiB0fX07dmFyIFA9Y2xhc3N7b3B0aW9ucztwYXJzZXI7Y29uc3RydWN0b3IoZSl7dGhpcy5vcHRpb25zPWV8fFR9c3BhY2UoZSl7cmV0dXJuXCJcIn1jb2RlKHt0ZXh0OmUsbGFuZzp0LGVzY2FwZWQ6bn0pe2xldCByPSh0fHxcIlwiKS5tYXRjaChtLm5vdFNwYWNlU3RhcnQpPy5bMF0saT1lLnJlcGxhY2UobS5lbmRpbmdOZXdsaW5lLFwiXCIpK2BcbmA7cmV0dXJuIHI/JzxwcmU+PGNvZGUgY2xhc3M9XCJsYW5ndWFnZS0nK3cocikrJ1wiPicrKG4/aTp3KGksITApKStgPC9jb2RlPjwvcHJlPlxuYDpcIjxwcmU+PGNvZGU+XCIrKG4/aTp3KGksITApKStgPC9jb2RlPjwvcHJlPlxuYH1ibG9ja3F1b3RlKHt0b2tlbnM6ZX0pe3JldHVybmA8YmxvY2txdW90ZT5cbiR7dGhpcy5wYXJzZXIucGFyc2UoZSl9PC9ibG9ja3F1b3RlPlxuYH1odG1sKHt0ZXh0OmV9KXtyZXR1cm4gZX1kZWYoZSl7cmV0dXJuXCJcIn1oZWFkaW5nKHt0b2tlbnM6ZSxkZXB0aDp0fSl7cmV0dXJuYDxoJHt0fT4ke3RoaXMucGFyc2VyLnBhcnNlSW5saW5lKGUpfTwvaCR7dH0+XG5gfWhyKGUpe3JldHVybmA8aHI+XG5gfWxpc3QoZSl7bGV0IHQ9ZS5vcmRlcmVkLG49ZS5zdGFydCxyPVwiXCI7Zm9yKGxldCBhPTA7YTxlLml0ZW1zLmxlbmd0aDthKyspe2xldCBvPWUuaXRlbXNbYV07cis9dGhpcy5saXN0aXRlbShvKX1sZXQgaT10P1wib2xcIjpcInVsXCIscz10JiZuIT09MT8nIHN0YXJ0PVwiJytuKydcIic6XCJcIjtyZXR1cm5cIjxcIitpK3MrYD5cbmArcitcIjwvXCIraStgPlxuYH1saXN0aXRlbShlKXtyZXR1cm5gPGxpPiR7dGhpcy5wYXJzZXIucGFyc2UoZS50b2tlbnMpfTwvbGk+XG5gfWNoZWNrYm94KHtjaGVja2VkOmV9KXtyZXR1cm5cIjxpbnB1dCBcIisoZT8nY2hlY2tlZD1cIlwiICc6XCJcIikrJ2Rpc2FibGVkPVwiXCIgdHlwZT1cImNoZWNrYm94XCI+ICd9cGFyYWdyYXBoKHt0b2tlbnM6ZX0pe3JldHVybmA8cD4ke3RoaXMucGFyc2VyLnBhcnNlSW5saW5lKGUpfTwvcD5cbmB9dGFibGUoZSl7bGV0IHQ9XCJcIixuPVwiXCI7Zm9yKGxldCBpPTA7aTxlLmhlYWRlci5sZW5ndGg7aSsrKW4rPXRoaXMudGFibGVjZWxsKGUuaGVhZGVyW2ldKTt0Kz10aGlzLnRhYmxlcm93KHt0ZXh0Om59KTtsZXQgcj1cIlwiO2ZvcihsZXQgaT0wO2k8ZS5yb3dzLmxlbmd0aDtpKyspe2xldCBzPWUucm93c1tpXTtuPVwiXCI7Zm9yKGxldCBhPTA7YTxzLmxlbmd0aDthKyspbis9dGhpcy50YWJsZWNlbGwoc1thXSk7cis9dGhpcy50YWJsZXJvdyh7dGV4dDpufSl9cmV0dXJuIHImJihyPWA8dGJvZHk+JHtyfTwvdGJvZHk+YCksYDx0YWJsZT5cbjx0aGVhZD5cbmArdCtgPC90aGVhZD5cbmArcitgPC90YWJsZT5cbmB9dGFibGVyb3coe3RleHQ6ZX0pe3JldHVybmA8dHI+XG4ke2V9PC90cj5cbmB9dGFibGVjZWxsKGUpe2xldCB0PXRoaXMucGFyc2VyLnBhcnNlSW5saW5lKGUudG9rZW5zKSxuPWUuaGVhZGVyP1widGhcIjpcInRkXCI7cmV0dXJuKGUuYWxpZ24/YDwke259IGFsaWduPVwiJHtlLmFsaWdufVwiPmA6YDwke259PmApK3QrYDwvJHtufT5cbmB9c3Ryb25nKHt0b2tlbnM6ZX0pe3JldHVybmA8c3Ryb25nPiR7dGhpcy5wYXJzZXIucGFyc2VJbmxpbmUoZSl9PC9zdHJvbmc+YH1lbSh7dG9rZW5zOmV9KXtyZXR1cm5gPGVtPiR7dGhpcy5wYXJzZXIucGFyc2VJbmxpbmUoZSl9PC9lbT5gfWNvZGVzcGFuKHt0ZXh0OmV9KXtyZXR1cm5gPGNvZGU+JHt3KGUsITApfTwvY29kZT5gfWJyKGUpe3JldHVyblwiPGJyPlwifWRlbCh7dG9rZW5zOmV9KXtyZXR1cm5gPGRlbD4ke3RoaXMucGFyc2VyLnBhcnNlSW5saW5lKGUpfTwvZGVsPmB9bGluayh7aHJlZjplLHRpdGxlOnQsdG9rZW5zOm59KXtsZXQgcj10aGlzLnBhcnNlci5wYXJzZUlubGluZShuKSxpPVgoZSk7aWYoaT09PW51bGwpcmV0dXJuIHI7ZT1pO2xldCBzPSc8YSBocmVmPVwiJytlKydcIic7cmV0dXJuIHQmJihzKz0nIHRpdGxlPVwiJyt3KHQpKydcIicpLHMrPVwiPlwiK3IrXCI8L2E+XCIsc31pbWFnZSh7aHJlZjplLHRpdGxlOnQsdGV4dDpuLHRva2VuczpyfSl7ciYmKG49dGhpcy5wYXJzZXIucGFyc2VJbmxpbmUocix0aGlzLnBhcnNlci50ZXh0UmVuZGVyZXIpKTtsZXQgaT1YKGUpO2lmKGk9PT1udWxsKXJldHVybiB3KG4pO2U9aTtsZXQgcz1gPGltZyBzcmM9XCIke2V9XCIgYWx0PVwiJHtufVwiYDtyZXR1cm4gdCYmKHMrPWAgdGl0bGU9XCIke3codCl9XCJgKSxzKz1cIj5cIixzfXRleHQoZSl7cmV0dXJuXCJ0b2tlbnNcImluIGUmJmUudG9rZW5zP3RoaXMucGFyc2VyLnBhcnNlSW5saW5lKGUudG9rZW5zKTpcImVzY2FwZWRcImluIGUmJmUuZXNjYXBlZD9lLnRleHQ6dyhlLnRleHQpfX07dmFyICQ9Y2xhc3N7c3Ryb25nKHt0ZXh0OmV9KXtyZXR1cm4gZX1lbSh7dGV4dDplfSl7cmV0dXJuIGV9Y29kZXNwYW4oe3RleHQ6ZX0pe3JldHVybiBlfWRlbCh7dGV4dDplfSl7cmV0dXJuIGV9aHRtbCh7dGV4dDplfSl7cmV0dXJuIGV9dGV4dCh7dGV4dDplfSl7cmV0dXJuIGV9bGluayh7dGV4dDplfSl7cmV0dXJuXCJcIitlfWltYWdlKHt0ZXh0OmV9KXtyZXR1cm5cIlwiK2V9YnIoKXtyZXR1cm5cIlwifWNoZWNrYm94KHtyYXc6ZX0pe3JldHVybiBlfX07dmFyIGI9Y2xhc3MgdXtvcHRpb25zO3JlbmRlcmVyO3RleHRSZW5kZXJlcjtjb25zdHJ1Y3RvcihlKXt0aGlzLm9wdGlvbnM9ZXx8VCx0aGlzLm9wdGlvbnMucmVuZGVyZXI9dGhpcy5vcHRpb25zLnJlbmRlcmVyfHxuZXcgUCx0aGlzLnJlbmRlcmVyPXRoaXMub3B0aW9ucy5yZW5kZXJlcix0aGlzLnJlbmRlcmVyLm9wdGlvbnM9dGhpcy5vcHRpb25zLHRoaXMucmVuZGVyZXIucGFyc2VyPXRoaXMsdGhpcy50ZXh0UmVuZGVyZXI9bmV3ICR9c3RhdGljIHBhcnNlKGUsdCl7cmV0dXJuIG5ldyB1KHQpLnBhcnNlKGUpfXN0YXRpYyBwYXJzZUlubGluZShlLHQpe3JldHVybiBuZXcgdSh0KS5wYXJzZUlubGluZShlKX1wYXJzZShlKXtsZXQgdD1cIlwiO2ZvcihsZXQgbj0wO248ZS5sZW5ndGg7bisrKXtsZXQgcj1lW25dO2lmKHRoaXMub3B0aW9ucy5leHRlbnNpb25zPy5yZW5kZXJlcnM/LltyLnR5cGVdKXtsZXQgcz1yLGE9dGhpcy5vcHRpb25zLmV4dGVuc2lvbnMucmVuZGVyZXJzW3MudHlwZV0uY2FsbCh7cGFyc2VyOnRoaXN9LHMpO2lmKGEhPT0hMXx8IVtcInNwYWNlXCIsXCJoclwiLFwiaGVhZGluZ1wiLFwiY29kZVwiLFwidGFibGVcIixcImJsb2NrcXVvdGVcIixcImxpc3RcIixcImh0bWxcIixcImRlZlwiLFwicGFyYWdyYXBoXCIsXCJ0ZXh0XCJdLmluY2x1ZGVzKHMudHlwZSkpe3QrPWF8fFwiXCI7Y29udGludWV9fWxldCBpPXI7c3dpdGNoKGkudHlwZSl7Y2FzZVwic3BhY2VcIjp7dCs9dGhpcy5yZW5kZXJlci5zcGFjZShpKTticmVha31jYXNlXCJoclwiOnt0Kz10aGlzLnJlbmRlcmVyLmhyKGkpO2JyZWFrfWNhc2VcImhlYWRpbmdcIjp7dCs9dGhpcy5yZW5kZXJlci5oZWFkaW5nKGkpO2JyZWFrfWNhc2VcImNvZGVcIjp7dCs9dGhpcy5yZW5kZXJlci5jb2RlKGkpO2JyZWFrfWNhc2VcInRhYmxlXCI6e3QrPXRoaXMucmVuZGVyZXIudGFibGUoaSk7YnJlYWt9Y2FzZVwiYmxvY2txdW90ZVwiOnt0Kz10aGlzLnJlbmRlcmVyLmJsb2NrcXVvdGUoaSk7YnJlYWt9Y2FzZVwibGlzdFwiOnt0Kz10aGlzLnJlbmRlcmVyLmxpc3QoaSk7YnJlYWt9Y2FzZVwiY2hlY2tib3hcIjp7dCs9dGhpcy5yZW5kZXJlci5jaGVja2JveChpKTticmVha31jYXNlXCJodG1sXCI6e3QrPXRoaXMucmVuZGVyZXIuaHRtbChpKTticmVha31jYXNlXCJkZWZcIjp7dCs9dGhpcy5yZW5kZXJlci5kZWYoaSk7YnJlYWt9Y2FzZVwicGFyYWdyYXBoXCI6e3QrPXRoaXMucmVuZGVyZXIucGFyYWdyYXBoKGkpO2JyZWFrfWNhc2VcInRleHRcIjp7dCs9dGhpcy5yZW5kZXJlci50ZXh0KGkpO2JyZWFrfWRlZmF1bHQ6e2xldCBzPSdUb2tlbiB3aXRoIFwiJytpLnR5cGUrJ1wiIHR5cGUgd2FzIG5vdCBmb3VuZC4nO2lmKHRoaXMub3B0aW9ucy5zaWxlbnQpcmV0dXJuIGNvbnNvbGUuZXJyb3IocyksXCJcIjt0aHJvdyBuZXcgRXJyb3Iocyl9fX1yZXR1cm4gdH1wYXJzZUlubGluZShlLHQ9dGhpcy5yZW5kZXJlcil7bGV0IG49XCJcIjtmb3IobGV0IHI9MDtyPGUubGVuZ3RoO3IrKyl7bGV0IGk9ZVtyXTtpZih0aGlzLm9wdGlvbnMuZXh0ZW5zaW9ucz8ucmVuZGVyZXJzPy5baS50eXBlXSl7bGV0IGE9dGhpcy5vcHRpb25zLmV4dGVuc2lvbnMucmVuZGVyZXJzW2kudHlwZV0uY2FsbCh7cGFyc2VyOnRoaXN9LGkpO2lmKGEhPT0hMXx8IVtcImVzY2FwZVwiLFwiaHRtbFwiLFwibGlua1wiLFwiaW1hZ2VcIixcInN0cm9uZ1wiLFwiZW1cIixcImNvZGVzcGFuXCIsXCJiclwiLFwiZGVsXCIsXCJ0ZXh0XCJdLmluY2x1ZGVzKGkudHlwZSkpe24rPWF8fFwiXCI7Y29udGludWV9fWxldCBzPWk7c3dpdGNoKHMudHlwZSl7Y2FzZVwiZXNjYXBlXCI6e24rPXQudGV4dChzKTticmVha31jYXNlXCJodG1sXCI6e24rPXQuaHRtbChzKTticmVha31jYXNlXCJsaW5rXCI6e24rPXQubGluayhzKTticmVha31jYXNlXCJpbWFnZVwiOntuKz10LmltYWdlKHMpO2JyZWFrfWNhc2VcImNoZWNrYm94XCI6e24rPXQuY2hlY2tib3gocyk7YnJlYWt9Y2FzZVwic3Ryb25nXCI6e24rPXQuc3Ryb25nKHMpO2JyZWFrfWNhc2VcImVtXCI6e24rPXQuZW0ocyk7YnJlYWt9Y2FzZVwiY29kZXNwYW5cIjp7bis9dC5jb2Rlc3BhbihzKTticmVha31jYXNlXCJiclwiOntuKz10LmJyKHMpO2JyZWFrfWNhc2VcImRlbFwiOntuKz10LmRlbChzKTticmVha31jYXNlXCJ0ZXh0XCI6e24rPXQudGV4dChzKTticmVha31kZWZhdWx0OntsZXQgYT0nVG9rZW4gd2l0aCBcIicrcy50eXBlKydcIiB0eXBlIHdhcyBub3QgZm91bmQuJztpZih0aGlzLm9wdGlvbnMuc2lsZW50KXJldHVybiBjb25zb2xlLmVycm9yKGEpLFwiXCI7dGhyb3cgbmV3IEVycm9yKGEpfX19cmV0dXJuIG59fTt2YXIgUz1jbGFzc3tvcHRpb25zO2Jsb2NrO2NvbnN0cnVjdG9yKGUpe3RoaXMub3B0aW9ucz1lfHxUfXN0YXRpYyBwYXNzVGhyb3VnaEhvb2tzPW5ldyBTZXQoW1wicHJlcHJvY2Vzc1wiLFwicG9zdHByb2Nlc3NcIixcInByb2Nlc3NBbGxUb2tlbnNcIixcImVtU3Ryb25nTWFza1wiXSk7c3RhdGljIHBhc3NUaHJvdWdoSG9va3NSZXNwZWN0QXN5bmM9bmV3IFNldChbXCJwcmVwcm9jZXNzXCIsXCJwb3N0cHJvY2Vzc1wiLFwicHJvY2Vzc0FsbFRva2Vuc1wiXSk7cHJlcHJvY2VzcyhlKXtyZXR1cm4gZX1wb3N0cHJvY2VzcyhlKXtyZXR1cm4gZX1wcm9jZXNzQWxsVG9rZW5zKGUpe3JldHVybiBlfWVtU3Ryb25nTWFzayhlKXtyZXR1cm4gZX1wcm92aWRlTGV4ZXIoKXtyZXR1cm4gdGhpcy5ibG9jaz94LmxleDp4LmxleElubGluZX1wcm92aWRlUGFyc2VyKCl7cmV0dXJuIHRoaXMuYmxvY2s/Yi5wYXJzZTpiLnBhcnNlSW5saW5lfX07dmFyIEI9Y2xhc3N7ZGVmYXVsdHM9TCgpO29wdGlvbnM9dGhpcy5zZXRPcHRpb25zO3BhcnNlPXRoaXMucGFyc2VNYXJrZG93bighMCk7cGFyc2VJbmxpbmU9dGhpcy5wYXJzZU1hcmtkb3duKCExKTtQYXJzZXI9YjtSZW5kZXJlcj1QO1RleHRSZW5kZXJlcj0kO0xleGVyPXg7VG9rZW5pemVyPXk7SG9va3M9Uztjb25zdHJ1Y3RvciguLi5lKXt0aGlzLnVzZSguLi5lKX13YWxrVG9rZW5zKGUsdCl7bGV0IG49W107Zm9yKGxldCByIG9mIGUpc3dpdGNoKG49bi5jb25jYXQodC5jYWxsKHRoaXMscikpLHIudHlwZSl7Y2FzZVwidGFibGVcIjp7bGV0IGk9cjtmb3IobGV0IHMgb2YgaS5oZWFkZXIpbj1uLmNvbmNhdCh0aGlzLndhbGtUb2tlbnMocy50b2tlbnMsdCkpO2ZvcihsZXQgcyBvZiBpLnJvd3MpZm9yKGxldCBhIG9mIHMpbj1uLmNvbmNhdCh0aGlzLndhbGtUb2tlbnMoYS50b2tlbnMsdCkpO2JyZWFrfWNhc2VcImxpc3RcIjp7bGV0IGk9cjtuPW4uY29uY2F0KHRoaXMud2Fsa1Rva2VucyhpLml0ZW1zLHQpKTticmVha31kZWZhdWx0OntsZXQgaT1yO3RoaXMuZGVmYXVsdHMuZXh0ZW5zaW9ucz8uY2hpbGRUb2tlbnM/LltpLnR5cGVdP3RoaXMuZGVmYXVsdHMuZXh0ZW5zaW9ucy5jaGlsZFRva2Vuc1tpLnR5cGVdLmZvckVhY2gocz0+e2xldCBhPWlbc10uZmxhdCgxLzApO249bi5jb25jYXQodGhpcy53YWxrVG9rZW5zKGEsdCkpfSk6aS50b2tlbnMmJihuPW4uY29uY2F0KHRoaXMud2Fsa1Rva2VucyhpLnRva2Vucyx0KSkpfX1yZXR1cm4gbn11c2UoLi4uZSl7bGV0IHQ9dGhpcy5kZWZhdWx0cy5leHRlbnNpb25zfHx7cmVuZGVyZXJzOnt9LGNoaWxkVG9rZW5zOnt9fTtyZXR1cm4gZS5mb3JFYWNoKG49PntsZXQgcj17Li4ubn07aWYoci5hc3luYz10aGlzLmRlZmF1bHRzLmFzeW5jfHxyLmFzeW5jfHwhMSxuLmV4dGVuc2lvbnMmJihuLmV4dGVuc2lvbnMuZm9yRWFjaChpPT57aWYoIWkubmFtZSl0aHJvdyBuZXcgRXJyb3IoXCJleHRlbnNpb24gbmFtZSByZXF1aXJlZFwiKTtpZihcInJlbmRlcmVyXCJpbiBpKXtsZXQgcz10LnJlbmRlcmVyc1tpLm5hbWVdO3M/dC5yZW5kZXJlcnNbaS5uYW1lXT1mdW5jdGlvbiguLi5hKXtsZXQgbz1pLnJlbmRlcmVyLmFwcGx5KHRoaXMsYSk7cmV0dXJuIG89PT0hMSYmKG89cy5hcHBseSh0aGlzLGEpKSxvfTp0LnJlbmRlcmVyc1tpLm5hbWVdPWkucmVuZGVyZXJ9aWYoXCJ0b2tlbml6ZXJcImluIGkpe2lmKCFpLmxldmVsfHxpLmxldmVsIT09XCJibG9ja1wiJiZpLmxldmVsIT09XCJpbmxpbmVcIil0aHJvdyBuZXcgRXJyb3IoXCJleHRlbnNpb24gbGV2ZWwgbXVzdCBiZSAnYmxvY2snIG9yICdpbmxpbmUnXCIpO2xldCBzPXRbaS5sZXZlbF07cz9zLnVuc2hpZnQoaS50b2tlbml6ZXIpOnRbaS5sZXZlbF09W2kudG9rZW5pemVyXSxpLnN0YXJ0JiYoaS5sZXZlbD09PVwiYmxvY2tcIj90LnN0YXJ0QmxvY2s/dC5zdGFydEJsb2NrLnB1c2goaS5zdGFydCk6dC5zdGFydEJsb2NrPVtpLnN0YXJ0XTppLmxldmVsPT09XCJpbmxpbmVcIiYmKHQuc3RhcnRJbmxpbmU/dC5zdGFydElubGluZS5wdXNoKGkuc3RhcnQpOnQuc3RhcnRJbmxpbmU9W2kuc3RhcnRdKSl9XCJjaGlsZFRva2Vuc1wiaW4gaSYmaS5jaGlsZFRva2VucyYmKHQuY2hpbGRUb2tlbnNbaS5uYW1lXT1pLmNoaWxkVG9rZW5zKX0pLHIuZXh0ZW5zaW9ucz10KSxuLnJlbmRlcmVyKXtsZXQgaT10aGlzLmRlZmF1bHRzLnJlbmRlcmVyfHxuZXcgUCh0aGlzLmRlZmF1bHRzKTtmb3IobGV0IHMgaW4gbi5yZW5kZXJlcil7aWYoIShzIGluIGkpKXRocm93IG5ldyBFcnJvcihgcmVuZGVyZXIgJyR7c30nIGRvZXMgbm90IGV4aXN0YCk7aWYoW1wib3B0aW9uc1wiLFwicGFyc2VyXCJdLmluY2x1ZGVzKHMpKWNvbnRpbnVlO2xldCBhPXMsbz1uLnJlbmRlcmVyW2FdLGw9aVthXTtpW2FdPSguLi5wKT0+e2xldCBjPW8uYXBwbHkoaSxwKTtyZXR1cm4gYz09PSExJiYoYz1sLmFwcGx5KGkscCkpLGN8fFwiXCJ9fXIucmVuZGVyZXI9aX1pZihuLnRva2VuaXplcil7bGV0IGk9dGhpcy5kZWZhdWx0cy50b2tlbml6ZXJ8fG5ldyB5KHRoaXMuZGVmYXVsdHMpO2ZvcihsZXQgcyBpbiBuLnRva2VuaXplcil7aWYoIShzIGluIGkpKXRocm93IG5ldyBFcnJvcihgdG9rZW5pemVyICcke3N9JyBkb2VzIG5vdCBleGlzdGApO2lmKFtcIm9wdGlvbnNcIixcInJ1bGVzXCIsXCJsZXhlclwiXS5pbmNsdWRlcyhzKSljb250aW51ZTtsZXQgYT1zLG89bi50b2tlbml6ZXJbYV0sbD1pW2FdO2lbYV09KC4uLnApPT57bGV0IGM9by5hcHBseShpLHApO3JldHVybiBjPT09ITEmJihjPWwuYXBwbHkoaSxwKSksY319ci50b2tlbml6ZXI9aX1pZihuLmhvb2tzKXtsZXQgaT10aGlzLmRlZmF1bHRzLmhvb2tzfHxuZXcgUztmb3IobGV0IHMgaW4gbi5ob29rcyl7aWYoIShzIGluIGkpKXRocm93IG5ldyBFcnJvcihgaG9vayAnJHtzfScgZG9lcyBub3QgZXhpc3RgKTtpZihbXCJvcHRpb25zXCIsXCJibG9ja1wiXS5pbmNsdWRlcyhzKSljb250aW51ZTtsZXQgYT1zLG89bi5ob29rc1thXSxsPWlbYV07Uy5wYXNzVGhyb3VnaEhvb2tzLmhhcyhzKT9pW2FdPXA9PntpZih0aGlzLmRlZmF1bHRzLmFzeW5jJiZTLnBhc3NUaHJvdWdoSG9va3NSZXNwZWN0QXN5bmMuaGFzKHMpKXJldHVybihhc3luYygpPT57bGV0IGc9YXdhaXQgby5jYWxsKGkscCk7cmV0dXJuIGwuY2FsbChpLGcpfSkoKTtsZXQgYz1vLmNhbGwoaSxwKTtyZXR1cm4gbC5jYWxsKGksYyl9OmlbYV09KC4uLnApPT57aWYodGhpcy5kZWZhdWx0cy5hc3luYylyZXR1cm4oYXN5bmMoKT0+e2xldCBnPWF3YWl0IG8uYXBwbHkoaSxwKTtyZXR1cm4gZz09PSExJiYoZz1hd2FpdCBsLmFwcGx5KGkscCkpLGd9KSgpO2xldCBjPW8uYXBwbHkoaSxwKTtyZXR1cm4gYz09PSExJiYoYz1sLmFwcGx5KGkscCkpLGN9fXIuaG9va3M9aX1pZihuLndhbGtUb2tlbnMpe2xldCBpPXRoaXMuZGVmYXVsdHMud2Fsa1Rva2VucyxzPW4ud2Fsa1Rva2VucztyLndhbGtUb2tlbnM9ZnVuY3Rpb24oYSl7bGV0IG89W107cmV0dXJuIG8ucHVzaChzLmNhbGwodGhpcyxhKSksaSYmKG89by5jb25jYXQoaS5jYWxsKHRoaXMsYSkpKSxvfX10aGlzLmRlZmF1bHRzPXsuLi50aGlzLmRlZmF1bHRzLC4uLnJ9fSksdGhpc31zZXRPcHRpb25zKGUpe3JldHVybiB0aGlzLmRlZmF1bHRzPXsuLi50aGlzLmRlZmF1bHRzLC4uLmV9LHRoaXN9bGV4ZXIoZSx0KXtyZXR1cm4geC5sZXgoZSx0Pz90aGlzLmRlZmF1bHRzKX1wYXJzZXIoZSx0KXtyZXR1cm4gYi5wYXJzZShlLHQ/P3RoaXMuZGVmYXVsdHMpfXBhcnNlTWFya2Rvd24oZSl7cmV0dXJuKG4scik9PntsZXQgaT17Li4ucn0scz17Li4udGhpcy5kZWZhdWx0cywuLi5pfSxhPXRoaXMub25FcnJvcighIXMuc2lsZW50LCEhcy5hc3luYyk7aWYodGhpcy5kZWZhdWx0cy5hc3luYz09PSEwJiZpLmFzeW5jPT09ITEpcmV0dXJuIGEobmV3IEVycm9yKFwibWFya2VkKCk6IFRoZSBhc3luYyBvcHRpb24gd2FzIHNldCB0byB0cnVlIGJ5IGFuIGV4dGVuc2lvbi4gUmVtb3ZlIGFzeW5jOiBmYWxzZSBmcm9tIHRoZSBwYXJzZSBvcHRpb25zIG9iamVjdCB0byByZXR1cm4gYSBQcm9taXNlLlwiKSk7aWYodHlwZW9mIG4+XCJ1XCJ8fG49PT1udWxsKXJldHVybiBhKG5ldyBFcnJvcihcIm1hcmtlZCgpOiBpbnB1dCBwYXJhbWV0ZXIgaXMgdW5kZWZpbmVkIG9yIG51bGxcIikpO2lmKHR5cGVvZiBuIT1cInN0cmluZ1wiKXJldHVybiBhKG5ldyBFcnJvcihcIm1hcmtlZCgpOiBpbnB1dCBwYXJhbWV0ZXIgaXMgb2YgdHlwZSBcIitPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobikrXCIsIHN0cmluZyBleHBlY3RlZFwiKSk7aWYocy5ob29rcyYmKHMuaG9va3Mub3B0aW9ucz1zLHMuaG9va3MuYmxvY2s9ZSkscy5hc3luYylyZXR1cm4oYXN5bmMoKT0+e2xldCBvPXMuaG9va3M/YXdhaXQgcy5ob29rcy5wcmVwcm9jZXNzKG4pOm4scD1hd2FpdChzLmhvb2tzP2F3YWl0IHMuaG9va3MucHJvdmlkZUxleGVyKCk6ZT94LmxleDp4LmxleElubGluZSkobyxzKSxjPXMuaG9va3M/YXdhaXQgcy5ob29rcy5wcm9jZXNzQWxsVG9rZW5zKHApOnA7cy53YWxrVG9rZW5zJiZhd2FpdCBQcm9taXNlLmFsbCh0aGlzLndhbGtUb2tlbnMoYyxzLndhbGtUb2tlbnMpKTtsZXQgaD1hd2FpdChzLmhvb2tzP2F3YWl0IHMuaG9va3MucHJvdmlkZVBhcnNlcigpOmU/Yi5wYXJzZTpiLnBhcnNlSW5saW5lKShjLHMpO3JldHVybiBzLmhvb2tzP2F3YWl0IHMuaG9va3MucG9zdHByb2Nlc3MoaCk6aH0pKCkuY2F0Y2goYSk7dHJ5e3MuaG9va3MmJihuPXMuaG9va3MucHJlcHJvY2VzcyhuKSk7bGV0IGw9KHMuaG9va3M/cy5ob29rcy5wcm92aWRlTGV4ZXIoKTplP3gubGV4OngubGV4SW5saW5lKShuLHMpO3MuaG9va3MmJihsPXMuaG9va3MucHJvY2Vzc0FsbFRva2VucyhsKSkscy53YWxrVG9rZW5zJiZ0aGlzLndhbGtUb2tlbnMobCxzLndhbGtUb2tlbnMpO2xldCBjPShzLmhvb2tzP3MuaG9va3MucHJvdmlkZVBhcnNlcigpOmU/Yi5wYXJzZTpiLnBhcnNlSW5saW5lKShsLHMpO3JldHVybiBzLmhvb2tzJiYoYz1zLmhvb2tzLnBvc3Rwcm9jZXNzKGMpKSxjfWNhdGNoKG8pe3JldHVybiBhKG8pfX19b25FcnJvcihlLHQpe3JldHVybiBuPT57aWYobi5tZXNzYWdlKz1gXG5QbGVhc2UgcmVwb3J0IHRoaXMgdG8gaHR0cHM6Ly9naXRodWIuY29tL21hcmtlZGpzL21hcmtlZC5gLGUpe2xldCByPVwiPHA+QW4gZXJyb3Igb2NjdXJyZWQ6PC9wPjxwcmU+XCIrdyhuLm1lc3NhZ2UrXCJcIiwhMCkrXCI8L3ByZT5cIjtyZXR1cm4gdD9Qcm9taXNlLnJlc29sdmUocik6cn1pZih0KXJldHVybiBQcm9taXNlLnJlamVjdChuKTt0aHJvdyBufX19O3ZhciBfPW5ldyBCO2Z1bmN0aW9uIGQodSxlKXtyZXR1cm4gXy5wYXJzZSh1LGUpfWQub3B0aW9ucz1kLnNldE9wdGlvbnM9ZnVuY3Rpb24odSl7cmV0dXJuIF8uc2V0T3B0aW9ucyh1KSxkLmRlZmF1bHRzPV8uZGVmYXVsdHMsWihkLmRlZmF1bHRzKSxkfTtkLmdldERlZmF1bHRzPUw7ZC5kZWZhdWx0cz1UO2QudXNlPWZ1bmN0aW9uKC4uLnUpe3JldHVybiBfLnVzZSguLi51KSxkLmRlZmF1bHRzPV8uZGVmYXVsdHMsWihkLmRlZmF1bHRzKSxkfTtkLndhbGtUb2tlbnM9ZnVuY3Rpb24odSxlKXtyZXR1cm4gXy53YWxrVG9rZW5zKHUsZSl9O2QucGFyc2VJbmxpbmU9Xy5wYXJzZUlubGluZTtkLlBhcnNlcj1iO2QucGFyc2VyPWIucGFyc2U7ZC5SZW5kZXJlcj1QO2QuVGV4dFJlbmRlcmVyPSQ7ZC5MZXhlcj14O2QubGV4ZXI9eC5sZXg7ZC5Ub2tlbml6ZXI9eTtkLkhvb2tzPVM7ZC5wYXJzZT1kO3ZhciBEdD1kLm9wdGlvbnMsSHQ9ZC5zZXRPcHRpb25zLFp0PWQudXNlLEd0PWQud2Fsa1Rva2VucyxOdD1kLnBhcnNlSW5saW5lLFF0PWQsRnQ9Yi5wYXJzZSxqdD14LmxleDtleHBvcnR7UyBhcyBIb29rcyx4IGFzIExleGVyLEIgYXMgTWFya2VkLGIgYXMgUGFyc2VyLFAgYXMgUmVuZGVyZXIsJCBhcyBUZXh0UmVuZGVyZXIseSBhcyBUb2tlbml6ZXIsVCBhcyBkZWZhdWx0cyxMIGFzIGdldERlZmF1bHRzLGp0IGFzIGxleGVyLGQgYXMgbWFya2VkLER0IGFzIG9wdGlvbnMsUXQgYXMgcGFyc2UsTnQgYXMgcGFyc2VJbmxpbmUsRnQgYXMgcGFyc2VyLEh0IGFzIHNldE9wdGlvbnMsWnQgYXMgdXNlLEd0IGFzIHdhbGtUb2tlbnN9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFya2VkLmVzbS5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../node_modules/marked/lib/marked.esm.js\n\n}");

/***/ }

}]);